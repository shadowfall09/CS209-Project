{"items":[{"tags":["java","sql-server","hibernate"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679949072,"post_id":75860062,"comment_id":133809675,"body_markdown":"Just one thing - maybe not the only thing: You have `jdbc:mysql` for MySQL but also you have `com.microsoft.sqlserver` and `dialect.SQLServerDialect` for SQL Server - two different databases. (Maybe you are also missing the relevant JDBC JAR file for SQL Server).","body":"Just one thing - maybe not the only thing: You have <code>jdbc:mysql</code> for MySQL but also you have <code>com.microsoft.sqlserver</code> and <code>dialect.SQLServerDialect</code> for SQL Server - two different databases. (Maybe you are also missing the relevant JDBC JAR file for SQL Server)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1679950081,"post_id":75860062,"comment_id":133809860,"body_markdown":"The url for sql server usually looks like: jdbc:sqlserver://localhost:1433;databaseName=itstep","body":"The url for sql server usually looks like: jdbc:sqlserver://localhost:1433;databaseName=itstep"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1679950175,"post_id":75860062,"comment_id":133809874,"body_markdown":"Also, you don&#39;t have dependency to sql server but to mysql. The correct maven is something like: &lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;12.2.0.jre11&lt;/version&gt;\n&lt;/dependency&gt;","body":"Also, you don&#39;t have dependency to sql server but to mysql. The correct maven is something like: &lt;dependency&gt;     &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;     &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;     &lt;version&gt;12.2.0.jre11&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":20300298,"reputation":11,"user_id":18294031,"display_name":"Максим"},"score":0,"creation_date":1679955357,"post_id":75860062,"comment_id":133810767,"body_markdown":"check updated pls","body":"check updated pls"}],"owner":{"account_id":20300298,"reputation":11,"user_id":18294031,"display_name":"Максим"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679955346,"creation_date":1679948610,"question_id":75860062,"body_markdown":"I&#39;m trying to connect to database and my request had to create a table and add values to it. I&#39;m using Microsoft SQL Server Management Studio and i created a database named &quot;itstep&quot; in Databases folder.\r\n\r\n    ------- HibernateMain.java ------ \r\n\r\n    public class HibernateMain {\r\n\r\n    public static void main(String[] args) {\r\n        Color color = new Color(Collections.singletonList(&quot;red&quot;),true, Collections.singletonMap(&quot;r&quot;,55));\r\n        Session session = getSessionFactory().getCurrentSession();\r\n        session.beginTransaction();\r\n        session.save(color);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n        System.exit(0);\r\n     }\r\n    }\r\n\r\n    ------- HibernateUtil.java ------ \r\n    public class HibernateUtil {\r\n      private static final SessionFactory sessionFactory = buildSessionFactory();\r\n      private static SessionFactory buildSessionFactory() {\r\n        try {// Create properties for Hibernate configuration\r\n            Properties hibernateProps = new Properties();\r\n            hibernateProps.put(Environment.DRIVER, &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            hibernateProps.put(Environment.URL, &quot;jdbc:mysql://localhost:3306/itstep&quot;);\r\n            hibernateProps.put(Environment.USER, &quot;sa&quot;);\r\n            hibernateProps.put(Environment.PASS, &quot;&quot;);\r\n            hibernateProps.put(Environment.DIALECT, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\r\n            hibernateProps.put(Environment.SHOW_SQL, &quot;true&quot;);\r\n            hibernateProps.put(Environment.HBM2DDL_AUTO, &quot;create&quot;);\r\n\r\n\r\n            // Build the configuration object and register entity classes\r\n            Configuration configuration = new Configuration();\r\n            configuration.setProperties(hibernateProps);\r\n            configuration.addAnnotatedClass(Color.class);\r\n            // Build the ServiceRegistry and create the SessionFactory\r\n            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                    .applySettings(configuration.getProperties()).build();\r\n            return configuration.buildSessionFactory(serviceRegistry);\r\n        } catch (Throwable ex) {\r\n            // Make sure you log the exception, as it might be swallowed\r\n            System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n            throw new ExceptionInInitializerError(ex);\r\n        }}\r\n    public static SessionFactory getSessionFactory() {\r\n        return sessionFactory; }}\r\n\r\n\r\n\r\n    ------- Color.java ------ \r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;color&quot;)\r\n    @NoArgsConstructor\r\n    public class Color implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @Column\r\n        private List&lt;String&gt; colors;\r\n        @Column\r\n        private boolean primary;\r\n        @Column\r\n        private Map&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\r\n\r\n        public Color(List&lt;String&gt; colors, boolean primary, Map&lt;String, Integer&gt; rgb) {\r\n            this.colors = colors;\r\n            this.primary = primary;\r\n            this.rgb = rgb;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    ------- pom.xml ------ \r\n         &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven- \r\n       v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Lab2.0&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;Archetype - Lab2.0&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n      &lt;version&gt;2.14.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.20.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nWhen i&#39;m trying to activate Main file, i get:\r\n\r\n        WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Initial SessionFactory creation failed.org.hibernate.service.spi.ServiceException: Unable to \r\n    create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\t    at itstep.task_6.HibernateUtil.buildSessionFactory(HibernateUtil.java:37)\r\n\t    at itstep.task_6.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:13)\r\n\t    at itstep.task_6.HibernateMain.main(HibernateMain.java:15)\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service \r\n    [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n     .......\r\n    Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load \r\n    class [com.microsoft.sqlserver.jdbc.SQLServerDriver]\r\n    .......\r\n        Caused by: java.lang.ClassNotFoundException: Could not load requested class : \r\n    com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    ......\r\n\r\nWhat could be a problem? Maybe improper configuration?\r\n\r\n\r\n\r\n-----UPDATED------\r\nAfter all recommended actions:\r\n\r\n    WARN: HHH000342: Could not obtain connection to query metadata : Cannot \r\n    invoke \r\n     org.hibernate.engine.jdbc.connections.internal\r\n    .DriverManagerConnectionProvi \r\n        derImpl$PooledConnections.poll()&quot; because &quot;this.pool&quot; is null\r\n         бер. 28, 2023 1:08:24 ДП org.hibernate.dialect.Dialect &lt;init&gt;\r\n         INFO: HHH000400: Using dialect: \r\n    org.hibernate.dialect.SQLServerDialect\r\n         бер. 28, 2023 1:08:24 ДП \r\n          org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl \r\n    makeLobCreatorBuilder\r\n    INFO: HHH000422: Disabling contextual LOB creation as connection was \r\n    null\r\n    бер. 28, 2023 1:08:24 ДП \r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    WARN: SQL Error: 0, SQLState: 08S01\r\n    бер. 28, 2023 1:08:24 ДП \r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\n    ERROR: The TCP/IP connection to the host localhost, port 1433 has \r\n    failed. Error: &quot;Connection refused: no further information. Verify the \r\n    connection properties. Make sure that an instance of SQL Server is \r\n    running on the host and accepting TCP/IP connections at the port. Make \r\n    sure that TCP connections to the port are not blocked by a firewall.&quot;.\r\n    Initial SessionFactory creation \r\n    failed.org.hibernate.service.spi.ServiceException: Unable to create \r\n    requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create \r\n    requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    .......\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error \r\n    calling Driver#connect\r\n    .......\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP \r\n    connection to the host localhost, port 1433 has failed. Error: \r\n    &quot;Connection refused: no further information. Verify the connection \r\n    properties. Make sure that an instance of SQL Server is running on the \r\n    host and accepting TCP/IP connections at the port. Make sure that TCP \r\n    connections to the port are not blocked by a firewall.&quot;.","title":"Problems while trying to connect to database Hibernate","body":"<p>I'm trying to connect to database and my request had to create a table and add values to it. I'm using Microsoft SQL Server Management Studio and i created a database named &quot;itstep&quot; in Databases folder.</p>\n<pre><code>------- HibernateMain.java ------ \n\npublic class HibernateMain {\n\npublic static void main(String[] args) {\n    Color color = new Color(Collections.singletonList(&quot;red&quot;),true, Collections.singletonMap(&quot;r&quot;,55));\n    Session session = getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    session.save(color);\n    session.getTransaction().commit();\n    session.close();\n    System.exit(0);\n }\n}\n\n------- HibernateUtil.java ------ \npublic class HibernateUtil {\n  private static final SessionFactory sessionFactory = buildSessionFactory();\n  private static SessionFactory buildSessionFactory() {\n    try {// Create properties for Hibernate configuration\n        Properties hibernateProps = new Properties();\n        hibernateProps.put(Environment.DRIVER, &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        hibernateProps.put(Environment.URL, &quot;jdbc:mysql://localhost:3306/itstep&quot;);\n        hibernateProps.put(Environment.USER, &quot;sa&quot;);\n        hibernateProps.put(Environment.PASS, &quot;&quot;);\n        hibernateProps.put(Environment.DIALECT, &quot;org.hibernate.dialect.SQLServerDialect&quot;);\n        hibernateProps.put(Environment.SHOW_SQL, &quot;true&quot;);\n        hibernateProps.put(Environment.HBM2DDL_AUTO, &quot;create&quot;);\n\n\n        // Build the configuration object and register entity classes\n        Configuration configuration = new Configuration();\n        configuration.setProperties(hibernateProps);\n        configuration.addAnnotatedClass(Color.class);\n        // Build the ServiceRegistry and create the SessionFactory\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                .applySettings(configuration.getProperties()).build();\n        return configuration.buildSessionFactory(serviceRegistry);\n    } catch (Throwable ex) {\n        // Make sure you log the exception, as it might be swallowed\n        System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\n        throw new ExceptionInInitializerError(ex);\n    }}\npublic static SessionFactory getSessionFactory() {\n    return sessionFactory; }}\n\n\n\n------- Color.java ------ \n\n@Entity\n@Data\n@Table(name=&quot;color&quot;)\n@NoArgsConstructor\npublic class Color implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private List&lt;String&gt; colors;\n    @Column\n    private boolean primary;\n    @Column\n    private Map&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\n\n    public Color(List&lt;String&gt; colors, boolean primary, Map&lt;String, Integer&gt; rgb) {\n        this.colors = colors;\n        this.primary = primary;\n        this.rgb = rgb;\n    }\n}\n\n\n\n------- pom.xml ------ \n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven- \n   v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Lab2.0&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Archetype - Lab2.0&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n  &lt;version&gt;2.14.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.26&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;version&gt;5.3.20.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;8.0.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n\n<p>When i'm trying to activate Main file, i get:</p>\n<pre><code>    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nInitial SessionFactory creation failed.org.hibernate.service.spi.ServiceException: Unable to \ncreate requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at itstep.task_6.HibernateUtil.buildSessionFactory(HibernateUtil.java:37)\n    at itstep.task_6.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:13)\n    at itstep.task_6.HibernateMain.main(HibernateMain.java:15)\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service \n[org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n .......\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load \nclass [com.microsoft.sqlserver.jdbc.SQLServerDriver]\n.......\n    Caused by: java.lang.ClassNotFoundException: Could not load requested class : \ncom.microsoft.sqlserver.jdbc.SQLServerDriver\n......\n</code></pre>\n<p>What could be a problem? Maybe improper configuration?</p>\n<p>-----UPDATED------\nAfter all recommended actions:</p>\n<pre><code>WARN: HHH000342: Could not obtain connection to query metadata : Cannot \ninvoke \n org.hibernate.engine.jdbc.connections.internal\n.DriverManagerConnectionProvi \n    derImpl$PooledConnections.poll()&quot; because &quot;this.pool&quot; is null\n     бер. 28, 2023 1:08:24 ДП org.hibernate.dialect.Dialect &lt;init&gt;\n     INFO: HHH000400: Using dialect: \norg.hibernate.dialect.SQLServerDialect\n     бер. 28, 2023 1:08:24 ДП \n      org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl \nmakeLobCreatorBuilder\nINFO: HHH000422: Disabling contextual LOB creation as connection was \nnull\nбер. 28, 2023 1:08:24 ДП \norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 0, SQLState: 08S01\nбер. 28, 2023 1:08:24 ДП \norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: The TCP/IP connection to the host localhost, port 1433 has \nfailed. Error: &quot;Connection refused: no further information. Verify the \nconnection properties. Make sure that an instance of SQL Server is \nrunning on the host and accepting TCP/IP connections at the port. Make \nsure that TCP connections to the port are not blocked by a firewall.&quot;.\nInitial SessionFactory creation \nfailed.org.hibernate.service.spi.ServiceException: Unable to create \nrequested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create \nrequested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n.......\nCaused by: org.hibernate.exception.JDBCConnectionException: Error \ncalling Driver#connect\n.......\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP \nconnection to the host localhost, port 1433 has failed. Error: \n&quot;Connection refused: no further information. Verify the connection \nproperties. Make sure that an instance of SQL Server is running on the \nhost and accepting TCP/IP connections at the port. Make sure that TCP \nconnections to the port are not blocked by a firewall.&quot;.\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679954691,"post_id":75860746,"comment_id":133810684,"body_markdown":"Did you try debugging?","body":"Did you try debugging?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679955495,"post_id":75860746,"comment_id":133810785,"body_markdown":"what happens if `userValues[i]&lt;0`, `neg=userValues[i]` and then `printValue=i-neg`? Yes, printValue is bigger than i, which means it points to some value beyond your input. Check the signs in your calculation.","body":"what happens if <code>userValues[i]&lt;0</code>, <code>neg=userValues[i]</code> and then <code>printValue=i-neg</code>? Yes, printValue is bigger than i, which means it points to some value beyond your input. Check the signs in your calculation."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1679959372,"post_id":75860746,"comment_id":133811309,"body_markdown":"`System.out.println(userValues[printValue])` - what do you calculate the value of `printValue` to be? Is this a valid element of the array?","body":"<code>System.out.println(userValues[printValue])</code> - what do you calculate the value of <code>printValue</code> to be? Is this a valid element of the array?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1679960734,"post_id":75860746,"comment_id":133811493,"body_markdown":"&quot;A negative integer indicates the end of the input and is not stored in the array.&quot; Currently, you&#39;re putting all values into the array BEFORE you&#39;ve determined that it&#39;s negative.","body":"&quot;A negative integer indicates the end of the input and is not stored in the array.&quot; Currently, you&#39;re putting all values into the array BEFORE you&#39;ve determined that it&#39;s negative."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1680033650,"post_id":75860746,"comment_id":133827352,"body_markdown":"I would separate printing the results from gathering the input. So, in your loop, just test for a negative number: if not negative, save input from the scanner to the array; if negative, save that value to `neg` and break out of the loop. Then you can construct the output based on your requirements. Also, remember to close the scanner after you exit the scanning loop.","body":"I would separate printing the results from gathering the input. So, in your loop, just test for a negative number: if not negative, save input from the scanner to the array; if negative, save that value to <code>neg</code> and break out of the loop. Then you can construct the output based on your requirements. Also, remember to close the scanner after you exit the scanning loop."}],"owner":{"account_id":28142367,"reputation":1,"user_id":21505215,"display_name":"Joseph Martinez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679954623,"creation_date":1679954623,"question_id":75860746,"body_markdown":"Write a program that stores a list of positive integers from input into an array and outputs the Nth number from the end of the array. A negative integer indicates the end of the input and is not stored in the array. Convert the last negative integer to positive and use as N. Output the last integer (as negative) if the size of the array is smaller than N. Assume the array will always contain fewer than 20 integers\r\n\r\n```\r\n`import java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int[] userValues = new int[20];   // List of integers from input\r\n      int neg = 0;\r\n      int n = 0;\r\n      int printValue = 0;\r\n\r\n   for(int i = 0; i &lt; userValues.length &amp;&amp; scnr.hasNextInt(); i++) {\r\n      userValues[i]  = scnr.nextInt();  \r\n      \r\n      if (userValues[i]&lt; 0){\r\n         neg = userValues[i];\r\n          printValue = i-neg;\r\n          if( neg&gt;i){\r\n          System.out.println(neg);\r\n         }\r\n      else if ( neg &lt; i) {\r\n         System.out.println(userValues[printValue]);\r\n      }\r\n      \r\n   }\r\n   }\r\n}\r\n}   `\r\n```\r\n\r\n\r\n\r\nI believe that there&#39;s something wrong with the way I&#39;m assigning the printValue variable but I don&#39;t know why, when I print the printValue variable without the userValues array it does weird things:\r\nInput\r\n1 5 9 7 5 -3\r\nYour output\r\n8\r\nExpected output\r\n9\r\nOR\r\nInput\r\n4 5 6 7 8 9 10 11 12 13 14 -1\r\nYour output\r\n12\r\nExpected output\r\n14\r\n\r\n\r\nOtherwise if I print userValues[printValue] the only output I receive is 0","title":"How to to print nth from end in java","body":"<p>Write a program that stores a list of positive integers from input into an array and outputs the Nth number from the end of the array. A negative integer indicates the end of the input and is not stored in the array. Convert the last negative integer to positive and use as N. Output the last integer (as negative) if the size of the array is smaller than N. Assume the array will always contain fewer than 20 integers</p>\n<pre><code>`import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int[] userValues = new int[20];   // List of integers from input\n      int neg = 0;\n      int n = 0;\n      int printValue = 0;\n\n   for(int i = 0; i &lt; userValues.length &amp;&amp; scnr.hasNextInt(); i++) {\n      userValues[i]  = scnr.nextInt();  \n      \n      if (userValues[i]&lt; 0){\n         neg = userValues[i];\n          printValue = i-neg;\n          if( neg&gt;i){\n          System.out.println(neg);\n         }\n      else if ( neg &lt; i) {\n         System.out.println(userValues[printValue]);\n      }\n      \n   }\n   }\n}\n}   `\n</code></pre>\n<p>I believe that there's something wrong with the way I'm assigning the printValue variable but I don't know why, when I print the printValue variable without the userValues array it does weird things:\nInput\n1 5 9 7 5 -3\nYour output\n8\nExpected output\n9\nOR\nInput\n4 5 6 7 8 9 10 11 12 13 14 -1\nYour output\n12\nExpected output\n14</p>\n<p>Otherwise if I print userValues[printValue] the only output I receive is 0</p>\n"},{"tags":["java","spring-boot","intellij-idea","junit","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680036769,"post_id":75860726,"comment_id":133827991,"body_markdown":"Nothing wrong with the setup that you have posted. You don&#39;t have to run Cucumber in a separate module though. For JUnit 5 you should use `cucumber-junit-platform-engine` and remove the `cucumber-junit` dependency. https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine","body":"Nothing wrong with the setup that you have posted. You don&#39;t have to run Cucumber in a separate module though. For JUnit 5 you should use <code>cucumber-junit-platform-engine</code> and remove the <code>cucumber-junit</code> dependency. <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/tree/main/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680037136,"post_id":75860726,"comment_id":133828068,"body_markdown":"You can also look at https://github.com/mpkorstanje/cucumber-spring-boot-parallel (though you won&#39;t need the junit-bom, spring boot already includes it).","body":"You can also look at <a href=\"https://github.com/mpkorstanje/cucumber-spring-boot-parallel\" rel=\"nofollow noreferrer\">github.com/mpkorstanje/cucumber-spring-boot-parallel</a> (though you won&#39;t need the junit-bom, spring boot already includes it)."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680037285,"post_id":75860726,"comment_id":133828099,"body_markdown":"Selecting individual tests can be done through the JUnit 5 suite annotations: https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/package-summary.html","body":"Selecting individual tests can be done through the JUnit 5 suite annotations: <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/package-summary.html\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/api/org.junit.platform.suite.a&zwnj;&#8203;pi/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680037350,"post_id":75860726,"comment_id":133828111,"body_markdown":"If you use a half decent IDE you can also run by clicking run buttons in a feature file.","body":"If you use a half decent IDE you can also run by clicking run buttons in a feature file."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680037636,"post_id":75860726,"comment_id":133828173,"body_markdown":"Not much else I can say. It would help if your made your problems more concrete and reproduced them in a small project. Have a look at https://stackoverflow.com/help/minimal-reproducible-example","body":"Not much else I can say. It would help if your made your problems more concrete and reproduced them in a small project. Have a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":7821936,"reputation":11,"user_id":5914843,"display_name":"Braden"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679954474,"creation_date":1679954474,"question_id":75860726,"body_markdown":"I am building a Spring Boot API as a maven project which is structured like this:\r\n\r\n```\r\nmain-project-folder/\r\n\r\n  - pom.xml\r\n\r\n  - api-module/\r\n    - pom.xml\r\n    - src/\r\n      - main/: models, controllers, JPA repositories, service layers, etc\r\n      - test/: My unit tests running with JUnit 5 (dependency of spring-boot-starter-test 2.7.7)\r\n\r\n  - acceptance-test-module/ (my cucumber tests)\r\n    - pom.xml (specifies the api-module as a dependency)\r\n    - src/test/\r\n      - java/\r\n        - runner class using JUnit @RunWith(Cucumber.class)\r\n        - config class with @CucumberContextConfiguration and autoconfigured test DB using H2\r\n        - step definitions\r\n      - resources/\r\n        - feature files\r\n        - application.yaml\r\n```\r\n\r\nThis is my first time working with spring boot and cucumber, and in the past several months on this project I&#39;m still not clear on how to properly integrate the two. While writing acceptance tests, I&#39;ve spent a lot of time trying to troubleshoot various issues related to H2 database setup/teardown, rebuilding maven modules, and setting up run configurations for testing. For example, right now my only way to run my acceptance tests is to run my Runner class (which runs all tests every single time), and any time I want to make a change to a step definition I have to mvn clean install the module again.\r\n\r\nI get the feeling a lot of the issues I encounter stem from some underlying flaw in the way this project is set up. For reference, I have only ~1.5 years worth of full-time experience in the field. I wouldn&#39;t be posting this here if I hadn&#39;t already spent way too much time trying to find guidance/documentation for my specific situation, so I&#39;m hoping someone here has either worked on something similar before or can point me in the right direction to better understand the integration of spring boot and cucumber. Thanks.","title":"Proper structure and run configurations for a Spring Boot maven project using JUnit and Cucumber","body":"<p>I am building a Spring Boot API as a maven project which is structured like this:</p>\n<pre><code>main-project-folder/\n\n  - pom.xml\n\n  - api-module/\n    - pom.xml\n    - src/\n      - main/: models, controllers, JPA repositories, service layers, etc\n      - test/: My unit tests running with JUnit 5 (dependency of spring-boot-starter-test 2.7.7)\n\n  - acceptance-test-module/ (my cucumber tests)\n    - pom.xml (specifies the api-module as a dependency)\n    - src/test/\n      - java/\n        - runner class using JUnit @RunWith(Cucumber.class)\n        - config class with @CucumberContextConfiguration and autoconfigured test DB using H2\n        - step definitions\n      - resources/\n        - feature files\n        - application.yaml\n</code></pre>\n<p>This is my first time working with spring boot and cucumber, and in the past several months on this project I'm still not clear on how to properly integrate the two. While writing acceptance tests, I've spent a lot of time trying to troubleshoot various issues related to H2 database setup/teardown, rebuilding maven modules, and setting up run configurations for testing. For example, right now my only way to run my acceptance tests is to run my Runner class (which runs all tests every single time), and any time I want to make a change to a step definition I have to mvn clean install the module again.</p>\n<p>I get the feeling a lot of the issues I encounter stem from some underlying flaw in the way this project is set up. For reference, I have only ~1.5 years worth of full-time experience in the field. I wouldn't be posting this here if I hadn't already spent way too much time trying to find guidance/documentation for my specific situation, so I'm hoping someone here has either worked on something similar before or can point me in the right direction to better understand the integration of spring boot and cucumber. Thanks.</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680020259,"post_id":75860436,"comment_id":133823974,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":18636886,"reputation":1,"user_id":13583577,"display_name":"Milena Stojadinovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679954214,"creation_date":1679951780,"question_id":75860436,"body_markdown":"When i run my code for creating pdf file with content from my input, i get  error message on my mobile fone where i run my app. When i run it, it shows me message and  some applications for opening pdf, but i do not have pdf and i do not have pdf viewer on my phone. What i can do?\r\nThis is my class:\r\n\r\n\r\n```\r\npublic class pregled extends AppCompatActivity  {\r\n    LinearLayout ll_pdflayout;\r\n    public static int REQUEST_PERMISSIONS = 1;\r\n    boolean boolean_permission;\r\n    boolean boolean_save;\r\n    ProgressDialog progressDialog;\r\n    Button  btn_generate;\r\n    Display display;\r\n    private String fileName;\r\n    private AccessibilityService context;\r\n    private Context contex;\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.R)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(activity_pregled);\r\n      //  setSupportActionBar(ll_pdflayout);\r\n        //init();\r\n        //fn_permission();\r\n        //listener();\r\n        ll_pdflayout = findViewById(R.id.ll_pdflayout);\r\n        Button back = findViewById(R.id.back8);\r\n        Button print = findViewById(R.id.next9);\r\n        btn_generate = findViewById(R.id.idBtnGeneratePDF);\r\n        TextView tw1 = findViewById(R.id.t1);\r\n        TextView tw2 = findViewById(R.id.t2);\r\n        TextView tw3 = findViewById(R.id.t3);\r\n        TextView tw4 = findViewById(R.id.t4);\r\n        TextView tw5 = findViewById(R.id.t5);\r\n        TextView tw6 = findViewById(R.id.t6);\r\n        TextView tw7 = findViewById(R.id.t7);\r\n        TextView tw8 = findViewById(R.id.t8);\r\n        TextView tw9 = findViewById(R.id.t9);\r\n        TextView tw10 = findViewById(R.id.t10);\r\n        TextView tw11 = findViewById(R.id.t11);\r\n        TextView tw12 = findViewById(R.id.t12);\r\n        TextView tw13 = findViewById(R.id.t13);\r\n        TextView tw14 = findViewById(R.id.t14);\r\n        TextView tw15 = findViewById(R.id.t15);\r\n        TextView tw16 = findViewById(R.id.t16);\r\n        TextView tw17 = findViewById(R.id.t17);\r\n        TextView tw18 = findViewById(R.id.t18);\r\n        TextView tw19 = findViewById(R.id.t19);\r\n        TextView tw20 = findViewById(R.id.t20);\r\n        TextView tw21 = findViewById(R.id.t21);\r\n        TextView tw22 = findViewById(R.id.t22);\r\n        TextView tw23 = findViewById(R.id.t23);\r\n\r\n\r\n        Bundle bundle = getIntent().getExtras();\r\n        String data1 = bundle.get(&quot;data1&quot;).toString();\r\n        String data2 = bundle.get(&quot;data2&quot;).toString();\r\n        String data3 = bundle.get(&quot;data3&quot;).toString();\r\n        String data4 = bundle.get(&quot;data4&quot;).toString();\r\n        String data5 = bundle.get(&quot;data5&quot;).toString();\r\n        String data6 = bundle.get(&quot;data6&quot;).toString();\r\n        String data7 = bundle.get(&quot;data7&quot;).toString();\r\n        String data8 = bundle.get(&quot;data8&quot;).toString();\r\n        String data9 = bundle.get(&quot;data9&quot;).toString();\r\n        String data10 = bundle.get(&quot;data10&quot;).toString();\r\n        String data11 = bundle.get(&quot;data11&quot;).toString();\r\n\r\n\r\n        tw2.setText(data1);\r\n        tw4.setText(data2);\r\n        tw6.setText(data3);\r\n        tw8.setText(data4);\r\n        tw10.setText(data5);\r\n        tw12.setText(data6);\r\n        tw14.setText(data7);\r\n        tw16.setText(data8);\r\n        tw18.setText(data9);\r\n        tw20.setText(data10);\r\n        tw22.setText(data11);\r\n\r\n        Intent intent = getIntent();\r\n        String str1 = intent.getStringExtra(&quot;message_key1&quot;);\r\n        String str2 = intent.getStringExtra(&quot;message_key2&quot;);\r\n        String str3 = intent.getStringExtra(&quot;message_key3&quot;);\r\n        String str4 = intent.getStringExtra(&quot;message_key4&quot;);\r\n        String str5 = intent.getStringExtra(&quot;message_key5&quot;);\r\n        String str6 = intent.getStringExtra(&quot;message_key6&quot;);\r\n        String str7 = intent.getStringExtra(&quot;message_key7&quot;);\r\n        String str8 = intent.getStringExtra(&quot;message_key8&quot;);\r\n        String str9 = intent.getStringExtra(&quot;message_key9&quot;);\r\n        String str10 = intent.getStringExtra(&quot;message_key10&quot;);\r\n        String str11 = intent.getStringExtra(&quot;message_key11&quot;);\r\n        String str12 = intent.getStringExtra(&quot;message_key12&quot;);\r\n\r\n        tw1.setText(str1);\r\n        tw3.setText(str2);\r\n        tw5.setText(str3);\r\n        tw7.setText(str4);\r\n        tw9.setText(str5);\r\n        tw11.setText(str6);\r\n        tw13.setText(str7);\r\n        tw15.setText(str8);\r\n        tw17.setText(str9);\r\n        tw19.setText(str10);\r\n        tw21.setText(str11);\r\n        tw23.setText(str12);\r\n\r\n\r\n        back.setOnClickListener( new View.OnClickListener() {\r\n            public void onClick(View view){\r\n                Intent intent = new Intent(pregled.this, fpage.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        print.setOnClickListener( new View.OnClickListener() {\r\n\r\n            public void onClick(View view){\r\n\r\n                Intent intent = new Intent(pregled.this, izvestaj.class);\r\n                startActivity(intent);\r\n            }\r\n\r\n        });\r\n\r\n        btn_generate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Get the data from the TextViews\r\n                String data1 = tw2.getText().toString();\r\n                String data2 = tw4.getText().toString();\r\n                String data3 = tw6.getText().toString();\r\n                String data4 = tw8.getText().toString();\r\n                String data5= tw10.getText().toString();\r\n                String data6 = tw12.getText().toString();\r\n                String data7 = tw14.getText().toString();\r\n                String data8 = tw16.getText().toString();\r\n                String data9 = tw18.getText().toString();\r\n                String data10 = tw20.getText().toString();\r\n                String data11 = tw22.getText().toString();\r\n                String str1 = tw1.getText().toString();\r\n                String str2 = tw3.getText().toString();\r\n                String str3 = tw5.getText().toString();\r\n                String str4 = tw7.getText().toString();\r\n                String str5 = tw9.getText().toString();\r\n                String str6 = tw11.getText().toString();\r\n                String str7 = tw13.getText().toString();\r\n                String str8 = tw15.getText().toString();\r\n                String str9 = tw17.getText().toString();\r\n                String str10 = tw19.getText().toString();\r\n                String str11 = tw21.getText().toString();\r\n                String str12 = tw23.getText().toString();\r\n\r\n\r\n\r\n                // kreiranje pdf dokumenta\r\n                PdfDocument document = new PdfDocument();\r\n\r\n                //kreiranje nove strane\r\n                PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(595, 842, 1).create(); // A4 size in points (1 point = 1/72 inch)\r\n                PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n                //popunjavanje strane\r\n                Canvas canvas = page.getCanvas();\r\n                Paint paint = new Paint();\r\n                canvas.drawText(&quot;Data 1: &quot; + data1, 100, 100, paint);\r\n                canvas.drawText(&quot;Data 2: &quot; + data2, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 3: &quot; + data3, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 4: &quot; + data4, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 5: &quot; + data5, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 6: &quot; + data6, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 7: &quot; + data7, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 8: &quot; + data8, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 9: &quot; + data9, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 10: &quot; + data10, 100, 200, paint);\r\n                canvas.drawText(&quot;Data 11: &quot; + data11, 100, 200, paint);\r\n                canvas.drawText(&quot;String 1: &quot; + str1, 100, 200, paint);\r\n                canvas.drawText(&quot;String 2: &quot; + str2, 100, 200, paint);\r\n                canvas.drawText(&quot;String 3: &quot; + str3, 100, 200, paint);\r\n                canvas.drawText(&quot;String 4: &quot; + str4, 100, 200, paint);\r\n                canvas.drawText(&quot;String 5: &quot; + str5, 100, 200, paint);\r\n                canvas.drawText(&quot;String 6: &quot; + str6, 100, 200, paint);\r\n                canvas.drawText(&quot;String 7: &quot; + str7, 100, 200, paint);\r\n                canvas.drawText(&quot;String 8: &quot; + str8, 100, 200, paint);\r\n                canvas.drawText(&quot;String 9: &quot; + str9, 100, 200, paint);\r\n                canvas.drawText(&quot;String 10: &quot; + str10, 100, 200, paint);\r\n                canvas.drawText(&quot;String 11: &quot; + str11, 100, 200, paint);\r\n                canvas.drawText(&quot;String 12: &quot; + str12, 100, 200, paint);\r\n\r\n\r\n                document.finishPage(page);\r\n\r\n                //cuavnje pdf-a\r\n                String fileName = &quot;pregled.pdf&quot;;\r\n                File filePath = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), fileName);\r\n\r\n                try {\r\n                    document.writeTo(new FileOutputStream(filePath));\r\n                    Toast.makeText(pregled.this, &quot;PDF file saved to &quot; + filePath.getAbsolutePath(), Toast.LENGTH_LONG).show();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    Toast.makeText(pregled.this, &quot;Error saving PDF file&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                document.close();\r\n\r\n                //pokretanje pdf-a\r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pregled.pdf&quot;);\r\n                Uri uri = FileProvider.getUriForFile(pregled.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\r\n                //intent.setDataAndType(Uri.fromFile(filePath), &quot;application/pdf&quot;);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                try {\r\n                    startActivity(intent);\r\n                } catch (ActivityNotFoundException e) {\r\n                    Toast.makeText(pregled.this, &quot;No PDF viewer installed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n```\r\n\r\n\r\nWhen i look at my logcat i see that the problem is this, but i do not know how to fix it:\r\n```lang-none\r\n2023-03-27 22:57:14.095 8412-8412/? E/libtrusty: tipc_connect: cannot open tipc device &quot;/dev/trusty-ipc-dev0&quot;: No such file or directory\r\n2023-03-27 22:57:14.095 8412-8412/? E/storageproxyd: failed (-2) to connect to storage server\r\n2023-03-27 22:57:17.417 711-711/? I/thermal_repeater: [recvMdThermalInfo] ret=30, strLen=127,  2, 32767, -127, 197, 32767, 1\r\n2023-03-27 22:57:18.014 698-867/? E/storaged: getDiskStats failed with result NOT_SUPPORTED and size 0\r\n2023-03-27 22:57:19.095 8412-8412/? E/libtrusty: tipc_connect: cannot open tipc device &quot;/dev/trusty-ipc-dev0&quot;: No such file or directory\r\n2023-03-27 22:57:19.095 8412-8412/? E/storageproxyd: failed (-2) to connect to storage server\r\n2023-03-27 22:57:23.593 19666-19666/? D/BoundBrokerSvc: onUnbind: Intent { act=com.google.android.gms.scheduler.ACTION_PROXY_SCHEDULE dat=chimera-action: cmp=com.google.android.gms/.chimera.PersistentApiService }\r\n2023-03-27 22:57:23.597 1225-1225/? I/ADB_SERVICES: local_socket_flush_outgoing read_data=60583\r\n2023-03-27 22:57:23.636 19666-19666/? D/BoundBrokerSvc: onUnbind: Intent { act=com.google.android.gms.auth.account.workaccount.START dat=chimera-action: cmp=com.google.android.gms/.chimera.PersistentApiService }\r\n```","title":"Why i get message &quot;Error saving PDf&quot; in my Android Studio when i do everything good?","body":"<p>When i run my code for creating pdf file with content from my input, i get  error message on my mobile fone where i run my app. When i run it, it shows me message and  some applications for opening pdf, but i do not have pdf and i do not have pdf viewer on my phone. What i can do?\nThis is my class:</p>\n<pre><code>public class pregled extends AppCompatActivity  {\n    LinearLayout ll_pdflayout;\n    public static int REQUEST_PERMISSIONS = 1;\n    boolean boolean_permission;\n    boolean boolean_save;\n    ProgressDialog progressDialog;\n    Button  btn_generate;\n    Display display;\n    private String fileName;\n    private AccessibilityService context;\n    private Context contex;\n\n\n    @RequiresApi(api = Build.VERSION_CODES.R)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(activity_pregled);\n      //  setSupportActionBar(ll_pdflayout);\n        //init();\n        //fn_permission();\n        //listener();\n        ll_pdflayout = findViewById(R.id.ll_pdflayout);\n        Button back = findViewById(R.id.back8);\n        Button print = findViewById(R.id.next9);\n        btn_generate = findViewById(R.id.idBtnGeneratePDF);\n        TextView tw1 = findViewById(R.id.t1);\n        TextView tw2 = findViewById(R.id.t2);\n        TextView tw3 = findViewById(R.id.t3);\n        TextView tw4 = findViewById(R.id.t4);\n        TextView tw5 = findViewById(R.id.t5);\n        TextView tw6 = findViewById(R.id.t6);\n        TextView tw7 = findViewById(R.id.t7);\n        TextView tw8 = findViewById(R.id.t8);\n        TextView tw9 = findViewById(R.id.t9);\n        TextView tw10 = findViewById(R.id.t10);\n        TextView tw11 = findViewById(R.id.t11);\n        TextView tw12 = findViewById(R.id.t12);\n        TextView tw13 = findViewById(R.id.t13);\n        TextView tw14 = findViewById(R.id.t14);\n        TextView tw15 = findViewById(R.id.t15);\n        TextView tw16 = findViewById(R.id.t16);\n        TextView tw17 = findViewById(R.id.t17);\n        TextView tw18 = findViewById(R.id.t18);\n        TextView tw19 = findViewById(R.id.t19);\n        TextView tw20 = findViewById(R.id.t20);\n        TextView tw21 = findViewById(R.id.t21);\n        TextView tw22 = findViewById(R.id.t22);\n        TextView tw23 = findViewById(R.id.t23);\n\n\n        Bundle bundle = getIntent().getExtras();\n        String data1 = bundle.get(&quot;data1&quot;).toString();\n        String data2 = bundle.get(&quot;data2&quot;).toString();\n        String data3 = bundle.get(&quot;data3&quot;).toString();\n        String data4 = bundle.get(&quot;data4&quot;).toString();\n        String data5 = bundle.get(&quot;data5&quot;).toString();\n        String data6 = bundle.get(&quot;data6&quot;).toString();\n        String data7 = bundle.get(&quot;data7&quot;).toString();\n        String data8 = bundle.get(&quot;data8&quot;).toString();\n        String data9 = bundle.get(&quot;data9&quot;).toString();\n        String data10 = bundle.get(&quot;data10&quot;).toString();\n        String data11 = bundle.get(&quot;data11&quot;).toString();\n\n\n        tw2.setText(data1);\n        tw4.setText(data2);\n        tw6.setText(data3);\n        tw8.setText(data4);\n        tw10.setText(data5);\n        tw12.setText(data6);\n        tw14.setText(data7);\n        tw16.setText(data8);\n        tw18.setText(data9);\n        tw20.setText(data10);\n        tw22.setText(data11);\n\n        Intent intent = getIntent();\n        String str1 = intent.getStringExtra(&quot;message_key1&quot;);\n        String str2 = intent.getStringExtra(&quot;message_key2&quot;);\n        String str3 = intent.getStringExtra(&quot;message_key3&quot;);\n        String str4 = intent.getStringExtra(&quot;message_key4&quot;);\n        String str5 = intent.getStringExtra(&quot;message_key5&quot;);\n        String str6 = intent.getStringExtra(&quot;message_key6&quot;);\n        String str7 = intent.getStringExtra(&quot;message_key7&quot;);\n        String str8 = intent.getStringExtra(&quot;message_key8&quot;);\n        String str9 = intent.getStringExtra(&quot;message_key9&quot;);\n        String str10 = intent.getStringExtra(&quot;message_key10&quot;);\n        String str11 = intent.getStringExtra(&quot;message_key11&quot;);\n        String str12 = intent.getStringExtra(&quot;message_key12&quot;);\n\n        tw1.setText(str1);\n        tw3.setText(str2);\n        tw5.setText(str3);\n        tw7.setText(str4);\n        tw9.setText(str5);\n        tw11.setText(str6);\n        tw13.setText(str7);\n        tw15.setText(str8);\n        tw17.setText(str9);\n        tw19.setText(str10);\n        tw21.setText(str11);\n        tw23.setText(str12);\n\n\n        back.setOnClickListener( new View.OnClickListener() {\n            public void onClick(View view){\n                Intent intent = new Intent(pregled.this, fpage.class);\n                startActivity(intent);\n            }\n        });\n        print.setOnClickListener( new View.OnClickListener() {\n\n            public void onClick(View view){\n\n                Intent intent = new Intent(pregled.this, izvestaj.class);\n                startActivity(intent);\n            }\n\n        });\n\n        btn_generate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Get the data from the TextViews\n                String data1 = tw2.getText().toString();\n                String data2 = tw4.getText().toString();\n                String data3 = tw6.getText().toString();\n                String data4 = tw8.getText().toString();\n                String data5= tw10.getText().toString();\n                String data6 = tw12.getText().toString();\n                String data7 = tw14.getText().toString();\n                String data8 = tw16.getText().toString();\n                String data9 = tw18.getText().toString();\n                String data10 = tw20.getText().toString();\n                String data11 = tw22.getText().toString();\n                String str1 = tw1.getText().toString();\n                String str2 = tw3.getText().toString();\n                String str3 = tw5.getText().toString();\n                String str4 = tw7.getText().toString();\n                String str5 = tw9.getText().toString();\n                String str6 = tw11.getText().toString();\n                String str7 = tw13.getText().toString();\n                String str8 = tw15.getText().toString();\n                String str9 = tw17.getText().toString();\n                String str10 = tw19.getText().toString();\n                String str11 = tw21.getText().toString();\n                String str12 = tw23.getText().toString();\n\n\n\n                // kreiranje pdf dokumenta\n                PdfDocument document = new PdfDocument();\n\n                //kreiranje nove strane\n                PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(595, 842, 1).create(); // A4 size in points (1 point = 1/72 inch)\n                PdfDocument.Page page = document.startPage(pageInfo);\n\n                //popunjavanje strane\n                Canvas canvas = page.getCanvas();\n                Paint paint = new Paint();\n                canvas.drawText(&quot;Data 1: &quot; + data1, 100, 100, paint);\n                canvas.drawText(&quot;Data 2: &quot; + data2, 100, 200, paint);\n                canvas.drawText(&quot;Data 3: &quot; + data3, 100, 200, paint);\n                canvas.drawText(&quot;Data 4: &quot; + data4, 100, 200, paint);\n                canvas.drawText(&quot;Data 5: &quot; + data5, 100, 200, paint);\n                canvas.drawText(&quot;Data 6: &quot; + data6, 100, 200, paint);\n                canvas.drawText(&quot;Data 7: &quot; + data7, 100, 200, paint);\n                canvas.drawText(&quot;Data 8: &quot; + data8, 100, 200, paint);\n                canvas.drawText(&quot;Data 9: &quot; + data9, 100, 200, paint);\n                canvas.drawText(&quot;Data 10: &quot; + data10, 100, 200, paint);\n                canvas.drawText(&quot;Data 11: &quot; + data11, 100, 200, paint);\n                canvas.drawText(&quot;String 1: &quot; + str1, 100, 200, paint);\n                canvas.drawText(&quot;String 2: &quot; + str2, 100, 200, paint);\n                canvas.drawText(&quot;String 3: &quot; + str3, 100, 200, paint);\n                canvas.drawText(&quot;String 4: &quot; + str4, 100, 200, paint);\n                canvas.drawText(&quot;String 5: &quot; + str5, 100, 200, paint);\n                canvas.drawText(&quot;String 6: &quot; + str6, 100, 200, paint);\n                canvas.drawText(&quot;String 7: &quot; + str7, 100, 200, paint);\n                canvas.drawText(&quot;String 8: &quot; + str8, 100, 200, paint);\n                canvas.drawText(&quot;String 9: &quot; + str9, 100, 200, paint);\n                canvas.drawText(&quot;String 10: &quot; + str10, 100, 200, paint);\n                canvas.drawText(&quot;String 11: &quot; + str11, 100, 200, paint);\n                canvas.drawText(&quot;String 12: &quot; + str12, 100, 200, paint);\n\n\n                document.finishPage(page);\n\n                //cuavnje pdf-a\n                String fileName = &quot;pregled.pdf&quot;;\n                File filePath = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), fileName);\n\n                try {\n                    document.writeTo(new FileOutputStream(filePath));\n                    Toast.makeText(pregled.this, &quot;PDF file saved to &quot; + filePath.getAbsolutePath(), Toast.LENGTH_LONG).show();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    Toast.makeText(pregled.this, &quot;Error saving PDF file&quot;, Toast.LENGTH_SHORT).show();\n                }\n                document.close();\n\n                //pokretanje pdf-a\n                Intent intent = new Intent(Intent.ACTION_VIEW);\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;pregled.pdf&quot;);\n                Uri uri = FileProvider.getUriForFile(pregled.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, file);\n                //intent.setDataAndType(Uri.fromFile(filePath), &quot;application/pdf&quot;);\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                try {\n                    startActivity(intent);\n                } catch (ActivityNotFoundException e) {\n                    Toast.makeText(pregled.this, &quot;No PDF viewer installed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n\n    }\n</code></pre>\n<p>When i look at my logcat i see that the problem is this, but i do not know how to fix it:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-27 22:57:14.095 8412-8412/? E/libtrusty: tipc_connect: cannot open tipc device &quot;/dev/trusty-ipc-dev0&quot;: No such file or directory\n2023-03-27 22:57:14.095 8412-8412/? E/storageproxyd: failed (-2) to connect to storage server\n2023-03-27 22:57:17.417 711-711/? I/thermal_repeater: [recvMdThermalInfo] ret=30, strLen=127,  2, 32767, -127, 197, 32767, 1\n2023-03-27 22:57:18.014 698-867/? E/storaged: getDiskStats failed with result NOT_SUPPORTED and size 0\n2023-03-27 22:57:19.095 8412-8412/? E/libtrusty: tipc_connect: cannot open tipc device &quot;/dev/trusty-ipc-dev0&quot;: No such file or directory\n2023-03-27 22:57:19.095 8412-8412/? E/storageproxyd: failed (-2) to connect to storage server\n2023-03-27 22:57:23.593 19666-19666/? D/BoundBrokerSvc: onUnbind: Intent { act=com.google.android.gms.scheduler.ACTION_PROXY_SCHEDULE dat=chimera-action: cmp=com.google.android.gms/.chimera.PersistentApiService }\n2023-03-27 22:57:23.597 1225-1225/? I/ADB_SERVICES: local_socket_flush_outgoing read_data=60583\n2023-03-27 22:57:23.636 19666-19666/? D/BoundBrokerSvc: onUnbind: Intent { act=com.google.android.gms.auth.account.workaccount.START dat=chimera-action: cmp=com.google.android.gms/.chimera.PersistentApiService }\n</code></pre>\n"},{"tags":["java","maven","hashmap","stringescapeutils"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679945960,"post_id":75859711,"comment_id":133809008,"body_markdown":"Try to add another back slash. Like \\\\ instead of \\ This is so-called escape character.","body":"Try to add another back slash. Like \\\\ instead of \\ This is so-called escape character."},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1679946121,"post_id":75859711,"comment_id":133809047,"body_markdown":"Hello @Mar-Z thanks but i cant do that to the properties file, its not accessible for edit","body":"Hello @Mar-Z thanks but i cant do that to the properties file, its not accessible for edit"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1680014156,"post_id":75859711,"comment_id":133822103,"body_markdown":"Do not use ResourceBundle to read a properties file.  Use [Properties.load](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)) for that.  ResourceBundle is for internationalized presentation data.","body":"Do not use ResourceBundle to read a properties file.  Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)\" rel=\"nofollow noreferrer\">Properties.load</a> for that.  ResourceBundle is for internationalized presentation data."}],"answers":[{"tags":[],"owner":{"account_id":21471968,"reputation":71,"user_id":15820811,"display_name":"Steffen D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679953470,"creation_date":1679953470,"answer_id":75860615,"question_id":75859711,"body_markdown":"Your program properly converts the contents of the Java properties file to JSON. The reason for the &quot;removal&quot; of the backslashes is the fact that the space character needs to be escaped with a backslash in the keys in the properties file, but not in JSON.\r\n\r\nSo the actual key stored in the property file shown in the question is \r\n```databases.my1_analysis.folder.1.. db connection.datasources.custom.ds_sap_bap.Enable SNC```, which is exactly the same value as in the JSON. The backslashes are just required to store the spaces in the properties files, as documented [here](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)). When reading the properties file using the `PropertyResourceBundle` class, the backslashes are removed as specified by the properties file format.\r\n\r\nIf you really want the backslashes to be preserved (which actually means that you change the key value), you can either re-add them after reading the properties file by putting a backslash before each space, or by implementing your own parser for the properties file.","title":"Java code missing elements: Properties file to hashmap [Escape character issue]","body":"<p>Your program properly converts the contents of the Java properties file to JSON. The reason for the &quot;removal&quot; of the backslashes is the fact that the space character needs to be escaped with a backslash in the keys in the properties file, but not in JSON.</p>\n<p>So the actual key stored in the property file shown in the question is\n<code>databases.my1_analysis.folder.1.. db connection.datasources.custom.ds_sap_bap.Enable SNC</code>, which is exactly the same value as in the JSON. The backslashes are just required to store the spaces in the properties files, as documented <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Properties.html#load(java.io.Reader)\" rel=\"nofollow noreferrer\">here</a>. When reading the properties file using the <code>PropertyResourceBundle</code> class, the backslashes are removed as specified by the properties file format.</p>\n<p>If you really want the backslashes to be preserved (which actually means that you change the key value), you can either re-add them after reading the properties file by putting a backslash before each space, or by implementing your own parser for the properties file.</p>\n"}],"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679953470,"creation_date":1679945551,"question_id":75859711,"body_markdown":"I have written a code wherein i am reading a properties file and adding the values to a hashmap and using it in a specific format to call an API.\r\nProblem is slash space (\\ ) is replaced with a space. \r\nAdding the code:\r\n\r\n```java\r\npublic class propertfile {\r\n\r\n    public static void main(String[] args) {\r\n        FileInputStream fis;\r\n        try {\r\n            fis = new FileInputStream(&quot;path_to_properties_file&quot;);\r\n            ResourceBundle resources = new PropertyResourceBundle(fis);\r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n            //convert ResourceBundle to Map\r\n            Enumeration&lt;String&gt; keys = resources.getKeys();\r\n\r\n            while (keys.hasMoreElements()) {\r\n                String key = keys.nextElement();\r\n                map.put(key, resources.getString(key));\r\n            }\r\n            //Now you can use the &#39;map&#39; object as you wish.\r\n            Iterator &lt; Entry&lt;String, String&gt; &gt; new_Iterator = map.entrySet().iterator();\r\n            JSONArray jsonArray = new JSONArray();\r\n\r\n            while (new_Iterator.hasNext()) {\r\n                JSONObject jo = new JSONObject();\r\n                Map.Entry&lt;String, String&gt; new_Map = (Map.Entry&lt;String, String&gt; )\r\n                new_Iterator.next();\r\n\r\n                JSONObject requestParams = new JSONObject();\r\n                requestParams.put(&quot;name&quot;, new_Map.getKey());\r\n                requestParams.put(&quot;value&quot;, new_Map.getValue());\r\n\r\n                jsonArray.put(requestParams);\r\n            }\r\n\r\n            System.out.println(jsonArray);\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n**Actual properties file** : \r\n\r\n    databases.my1_analysis.folder.1..\\ db\\ connection.datasources.custom.ds_sap_bap.Enable\\ SNC=false\r\n\r\n**Desired with missing slash space: (Notice after the number 1.. , after db and also after Enable)** \r\n\r\n    {&quot;name&quot;: &quot;databases.my1_analysis.folder.1.. db connection.datasources.custom.ds_sap_bap.Enable SNC&quot;, &quot;value&quot;: &quot;false&quot;}\r\n\r\nAny help is highly appreciated.\r\n\r\n","title":"Java code missing elements: Properties file to hashmap [Escape character issue]","body":"<p>I have written a code wherein i am reading a properties file and adding the values to a hashmap and using it in a specific format to call an API.\nProblem is slash space (\\ ) is replaced with a space.\nAdding the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class propertfile {\n\n    public static void main(String[] args) {\n        FileInputStream fis;\n        try {\n            fis = new FileInputStream(&quot;path_to_properties_file&quot;);\n            ResourceBundle resources = new PropertyResourceBundle(fis);\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n            //convert ResourceBundle to Map\n            Enumeration&lt;String&gt; keys = resources.getKeys();\n\n            while (keys.hasMoreElements()) {\n                String key = keys.nextElement();\n                map.put(key, resources.getString(key));\n            }\n            //Now you can use the 'map' object as you wish.\n            Iterator &lt; Entry&lt;String, String&gt; &gt; new_Iterator = map.entrySet().iterator();\n            JSONArray jsonArray = new JSONArray();\n\n            while (new_Iterator.hasNext()) {\n                JSONObject jo = new JSONObject();\n                Map.Entry&lt;String, String&gt; new_Map = (Map.Entry&lt;String, String&gt; )\n                new_Iterator.next();\n\n                JSONObject requestParams = new JSONObject();\n                requestParams.put(&quot;name&quot;, new_Map.getKey());\n                requestParams.put(&quot;value&quot;, new_Map.getValue());\n\n                jsonArray.put(requestParams);\n            }\n\n            System.out.println(jsonArray);\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>Actual properties file</strong> :</p>\n<pre><code>databases.my1_analysis.folder.1..\\ db\\ connection.datasources.custom.ds_sap_bap.Enable\\ SNC=false\n</code></pre>\n<p><strong>Desired with missing slash space: (Notice after the number 1.. , after db and also after Enable)</strong></p>\n<pre><code>{&quot;name&quot;: &quot;databases.my1_analysis.folder.1.. db connection.datasources.custom.ds_sap_bap.Enable SNC&quot;, &quot;value&quot;: &quot;false&quot;}\n</code></pre>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","postgresql","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679952478,"creation_date":1679952478,"answer_id":75860516,"question_id":75860440,"body_markdown":"Your problem is right here:\r\n```xml\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n```\r\n\r\nWhen you say runtime, you&#39;re telling maven that the jar will be provided at runtime (as in, deployment) and that it shouldn&#39;t include this in the bundling. So when you create your boot jar this dependency isn&#39;t getting included. remove `scope` or just added it to the CLI manually (not advised). The default scope is `compiled`\r\n\r\nVS code is bridging the gap for you here and putting it on the classpath when you run and you&#39;re just not aware.\r\n\r\n","title":"&quot;Failed to determine a suitable driver class&quot; with Spring Boot / Java project when running compiled jar. But works fine in vscode","body":"<p>Your problem is right here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n</code></pre>\n<p>When you say runtime, you're telling maven that the jar will be provided at runtime (as in, deployment) and that it shouldn't include this in the bundling. So when you create your boot jar this dependency isn't getting included. remove <code>scope</code> or just added it to the CLI manually (not advised). The default scope is <code>compiled</code></p>\n<p>VS code is bridging the gap for you here and putting it on the classpath when you run and you're just not aware.</p>\n"},{"tags":[],"owner":{"account_id":6371583,"reputation":1,"user_id":4943840,"display_name":"Antonio Soldo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679952517,"creation_date":1679952517,"answer_id":75860520,"question_id":75860440,"body_markdown":"have You tried removing `&lt;scope&gt;runtime&lt;/scope&gt;` from postgresql dependency?","title":"&quot;Failed to determine a suitable driver class&quot; with Spring Boot / Java project when running compiled jar. But works fine in vscode","body":"<p>have You tried removing <code>&lt;scope&gt;runtime&lt;/scope&gt;</code> from postgresql dependency?</p>\n"}],"owner":{"account_id":28142043,"reputation":13,"user_id":21504941,"display_name":"Alan Hart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75860516,"answer_count":2,"score":1,"last_activity_date":1679953373,"creation_date":1679951818,"question_id":75860440,"body_markdown":"I&#39;m making a REST API in Java using Spring Boot. And I&#39;m encountering an issue that I don&#39;t understand : when I run my code through vscode, everything works just fine. But when I try to run the compiled .jar file, I get the following error message :\r\n\r\n```\r\n&lt;message&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class&lt;/message&gt;\r\n    &lt;frame&gt;\r\n      &lt;class&gt;org.springframework.beans.factory.support.ConstructorResolver&lt;/class&gt;\r\n      &lt;method&gt;createArgumentArray&lt;/method&gt;\r\n      &lt;line&gt;798&lt;/line&gt;\r\n    &lt;/frame&gt;\r\n```\r\n\r\nIt is a PostgrSQL database.\r\n\r\nI guess that something is probably wrong with my *pom.xml* file ?\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.languagehub&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;languagehubpublicapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;languagehubpublicapi&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd here&#39;s my *application.properties* file :\r\n\r\n```\r\nspring.datasource.url = jdbc:postgresql://localhost:5432/languagehub\r\nspring.datasource.username = [USER]\r\nspring.datasource.password = [PASSWORD]\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nserver.port = 8080\r\nlogging.level.org.springframework.web=DEBUG\r\nlogging.level.org.hibernate=ERROR\r\n```\r\n\r\nThank you for reading ! If you had any ideas, I&#39;ll be really thankful for your help !\r\nI wish you all an excellent day !\r\n\r\n**EDIT :** I&#39;ve modifier the part of *postgresql* dependency in the *pom.xml* file. I now have the following : \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nBut I&#39;m still getting the same error...","title":"&quot;Failed to determine a suitable driver class&quot; with Spring Boot / Java project when running compiled jar. But works fine in vscode","body":"<p>I'm making a REST API in Java using Spring Boot. And I'm encountering an issue that I don't understand : when I run my code through vscode, everything works just fine. But when I try to run the compiled .jar file, I get the following error message :</p>\n<pre><code>&lt;message&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class&lt;/message&gt;\n    &lt;frame&gt;\n      &lt;class&gt;org.springframework.beans.factory.support.ConstructorResolver&lt;/class&gt;\n      &lt;method&gt;createArgumentArray&lt;/method&gt;\n      &lt;line&gt;798&lt;/line&gt;\n    &lt;/frame&gt;\n</code></pre>\n<p>It is a PostgrSQL database.</p>\n<p>I guess that something is probably wrong with my <em>pom.xml</em> file ?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.languagehub&lt;/groupId&gt;\n    &lt;artifactId&gt;languagehubpublicapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;languagehubpublicapi&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>And here's my <em>application.properties</em> file :</p>\n<pre><code>spring.datasource.url = jdbc:postgresql://localhost:5432/languagehub\nspring.datasource.username = [USER]\nspring.datasource.password = [PASSWORD]\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.driver-class-name=org.postgresql.Driver\nserver.port = 8080\nlogging.level.org.springframework.web=DEBUG\nlogging.level.org.hibernate=ERROR\n</code></pre>\n<p>Thank you for reading ! If you had any ideas, I'll be really thankful for your help !\nI wish you all an excellent day !</p>\n<p><strong>EDIT :</strong> I've modifier the part of <em>postgresql</em> dependency in the <em>pom.xml</em> file. I now have the following :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I'm still getting the same error...</p>\n"},{"tags":["java","sockets","unix-socket"],"owner":{"account_id":15128664,"reputation":331,"user_id":12001093,"display_name":"05nelsonm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679951560,"creation_date":1679951560,"question_id":75860413,"body_markdown":"I have a Socks5 proxy opened at a Unix Domain Socket path.\r\n\r\ne.g. Running Tor with Socks5 proxy at `/home/user/.myapp/socks.sock`\r\n\r\nWhat I want to do is open a `java.net.Socket` with a `java.net.Proxy` type of `Proxy.Type.SOCKS` via the above path. Unfortunately `Proxy` requires an `InetSocketAddress`, which does not allow for the path to the Unix domain socket.\r\n\r\nAnyone know how I could accomplish this?\r\n\r\nTried extending InetSocketAddress with a custom implementation to use a format of `unix:/path/to/socks.sock` to intercept the `Socket.connect` call","title":"Java Proxy by UnixDomain Socket","body":"<p>I have a Socks5 proxy opened at a Unix Domain Socket path.</p>\n<p>e.g. Running Tor with Socks5 proxy at <code>/home/user/.myapp/socks.sock</code></p>\n<p>What I want to do is open a <code>java.net.Socket</code> with a <code>java.net.Proxy</code> type of <code>Proxy.Type.SOCKS</code> via the above path. Unfortunately <code>Proxy</code> requires an <code>InetSocketAddress</code>, which does not allow for the path to the Unix domain socket.</p>\n<p>Anyone know how I could accomplish this?</p>\n<p>Tried extending InetSocketAddress with a custom implementation to use a format of <code>unix:/path/to/socks.sock</code> to intercept the <code>Socket.connect</code> call</p>\n"},{"tags":["java","android","kotlin","android-webview"],"comments":[{"owner":{"account_id":11818408,"reputation":69,"user_id":8648115,"accept_rate":75,"display_name":"Khaled Shoushara"},"score":0,"creation_date":1655950512,"post_id":72722061,"comment_id":128455347,"body_markdown":"Does this answer your question? [WebView inside NestedScrollView cannot be scrolled](https://stackoverflow.com/questions/35127845/webview-inside-nestedscrollview-cannot-be-scrolled)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35127845/webview-inside-nestedscrollview-cannot-be-scrolled\">WebView inside NestedScrollView cannot be scrolled</a>"}],"answers":[{"tags":[],"owner":{"account_id":11818408,"reputation":69,"user_id":8648115,"accept_rate":75,"display_name":"Khaled Shoushara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655950450,"creation_date":1655950450,"answer_id":72723813,"question_id":72722061,"body_markdown":"    import android.content.Context\r\n    import android.util.AttributeSet\r\n    import android.view.MotionEvent\r\n    import android.webkit.WebView\r\n    import androidx.core.view.MotionEventCompat\r\n    import androidx.core.view.NestedScrollingChild\r\n    import androidx.core.view.NestedScrollingChildHelper\r\n    import androidx.core.view.ViewCompat\r\n    \r\n    \r\n    class NestedWebView(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) :\r\n        WebView(context!!, attrs, defStyleAttr), NestedScrollingChild {\r\n        private var mLastY = 0\r\n        private val mScrollOffset = IntArray(2)\r\n        private val mScrollConsumed = IntArray(2)\r\n        private var mNestedOffsetY = 0\r\n        private val mChildHelper: NestedScrollingChildHelper = NestedScrollingChildHelper(this)\r\n    \r\n        constructor(context: Context?) : this(context, null) {}\r\n        constructor(context: Context?, attrs: AttributeSet?) : this(\r\n            context,\r\n            attrs,\r\n            R.attr.webViewStyle\r\n        ) {\r\n        }\r\n    \r\n        override fun onTouchEvent(ev: MotionEvent): Boolean {\r\n            var returnValue = false\r\n            val event = MotionEvent.obtain(ev)\r\n            val action = MotionEventCompat.getActionMasked(event)\r\n            if (action == MotionEvent.ACTION_DOWN) {\r\n                mNestedOffsetY = 0\r\n            }\r\n            val eventY = event.y.toInt()\r\n            event.offsetLocation(0f, mNestedOffsetY.toFloat())\r\n            when (action) {\r\n                MotionEvent.ACTION_MOVE -&gt; {\r\n                    var totalScrollOffset = 0\r\n                    var deltaY = mLastY - eventY\r\n                    // NestedPreScroll\r\n                    if (dispatchNestedPreScroll(0, deltaY, mScrollConsumed, mScrollOffset)) {\r\n                        totalScrollOffset += mScrollOffset[1]\r\n                        deltaY -= mScrollConsumed[1]\r\n                        event.offsetLocation(0f, (-mScrollOffset[1]).toFloat())\r\n                        mNestedOffsetY += mScrollOffset[1]\r\n                    }\r\n                    returnValue = super.onTouchEvent(event)\r\n    \r\n                    // NestedScroll\r\n                    if (dispatchNestedScroll(0, mScrollOffset[1], 0, deltaY, mScrollOffset)) {\r\n                        totalScrollOffset += mScrollOffset[1]\r\n                        event.offsetLocation(0f, mScrollOffset[1].toFloat())\r\n                        mNestedOffsetY += mScrollOffset[1]\r\n                        mLastY -= mScrollOffset[1]\r\n                    }\r\n                    mLastY = eventY - totalScrollOffset\r\n                }\r\n                MotionEvent.ACTION_DOWN -&gt; {\r\n                    returnValue = super.onTouchEvent(event)\r\n                    mLastY = eventY\r\n                    // start NestedScroll\r\n                    startNestedScroll(ViewCompat.SCROLL_AXIS_VERTICAL)\r\n                }\r\n                MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\r\n                    returnValue = super.onTouchEvent(event)\r\n                    // end NestedScroll\r\n                    stopNestedScroll()\r\n                }\r\n            }\r\n            return returnValue\r\n        }\r\n    \r\n        // Nested Scroll implements\r\n        override fun setNestedScrollingEnabled(enabled: Boolean) {\r\n            mChildHelper.isNestedScrollingEnabled = enabled\r\n        }\r\n    \r\n        override fun isNestedScrollingEnabled(): Boolean {\r\n            return mChildHelper.isNestedScrollingEnabled\r\n        }\r\n    \r\n        override fun startNestedScroll(axes: Int): Boolean {\r\n            return mChildHelper.startNestedScroll(axes)\r\n        }\r\n    \r\n        override fun stopNestedScroll() {\r\n            mChildHelper.stopNestedScroll()\r\n        }\r\n    \r\n        override fun hasNestedScrollingParent(): Boolean {\r\n            return mChildHelper.hasNestedScrollingParent()\r\n        }\r\n    \r\n        override fun dispatchNestedScroll(\r\n            dxConsumed: Int, dyConsumed: Int, dxUnconsumed: Int, dyUnconsumed: Int,\r\n            offsetInWindow: IntArray?\r\n        ): Boolean {\r\n            return mChildHelper.dispatchNestedScroll(\r\n                dxConsumed,\r\n                dyConsumed,\r\n                dxUnconsumed,\r\n                dyUnconsumed,\r\n                offsetInWindow\r\n            )\r\n        }\r\n    \r\n        override fun dispatchNestedPreScroll(\r\n            dx: Int,\r\n            dy: Int,\r\n            consumed: IntArray?,\r\n            offsetInWindow: IntArray?\r\n        ): Boolean {\r\n            return mChildHelper.dispatchNestedPreScroll(dx, dy, consumed, offsetInWindow)\r\n        }\r\n    \r\n        override fun dispatchNestedFling(\r\n            velocityX: Float,\r\n            velocityY: Float,\r\n            consumed: Boolean\r\n        ): Boolean {\r\n            return mChildHelper.dispatchNestedFling(velocityX, velocityY, consumed)\r\n        }\r\n    \r\n        override fun dispatchNestedPreFling(velocityX: Float, velocityY: Float): Boolean {\r\n            return mChildHelper.dispatchNestedPreFling(velocityX, velocityY)\r\n        }\r\n    \r\n        init {\r\n            isNestedScrollingEnabled = true\r\n        }\r\n    }\r\n\r\n\r\nIn your Layout: \r\n\r\n    &lt;com.nestedscrollwebviewexample.NestedWebView\r\n        android:id=&quot;@+id/nested_webview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#000000&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:isScrollContainer=&quot;false&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n        app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\r\n\r\n\r\n","title":"WebView not scrolling","body":"<pre><code>import android.content.Context\nimport android.util.AttributeSet\nimport android.view.MotionEvent\nimport android.webkit.WebView\nimport androidx.core.view.MotionEventCompat\nimport androidx.core.view.NestedScrollingChild\nimport androidx.core.view.NestedScrollingChildHelper\nimport androidx.core.view.ViewCompat\n\n\nclass NestedWebView(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) :\n    WebView(context!!, attrs, defStyleAttr), NestedScrollingChild {\n    private var mLastY = 0\n    private val mScrollOffset = IntArray(2)\n    private val mScrollConsumed = IntArray(2)\n    private var mNestedOffsetY = 0\n    private val mChildHelper: NestedScrollingChildHelper = NestedScrollingChildHelper(this)\n\n    constructor(context: Context?) : this(context, null) {}\n    constructor(context: Context?, attrs: AttributeSet?) : this(\n        context,\n        attrs,\n        R.attr.webViewStyle\n    ) {\n    }\n\n    override fun onTouchEvent(ev: MotionEvent): Boolean {\n        var returnValue = false\n        val event = MotionEvent.obtain(ev)\n        val action = MotionEventCompat.getActionMasked(event)\n        if (action == MotionEvent.ACTION_DOWN) {\n            mNestedOffsetY = 0\n        }\n        val eventY = event.y.toInt()\n        event.offsetLocation(0f, mNestedOffsetY.toFloat())\n        when (action) {\n            MotionEvent.ACTION_MOVE -&gt; {\n                var totalScrollOffset = 0\n                var deltaY = mLastY - eventY\n                // NestedPreScroll\n                if (dispatchNestedPreScroll(0, deltaY, mScrollConsumed, mScrollOffset)) {\n                    totalScrollOffset += mScrollOffset[1]\n                    deltaY -= mScrollConsumed[1]\n                    event.offsetLocation(0f, (-mScrollOffset[1]).toFloat())\n                    mNestedOffsetY += mScrollOffset[1]\n                }\n                returnValue = super.onTouchEvent(event)\n\n                // NestedScroll\n                if (dispatchNestedScroll(0, mScrollOffset[1], 0, deltaY, mScrollOffset)) {\n                    totalScrollOffset += mScrollOffset[1]\n                    event.offsetLocation(0f, mScrollOffset[1].toFloat())\n                    mNestedOffsetY += mScrollOffset[1]\n                    mLastY -= mScrollOffset[1]\n                }\n                mLastY = eventY - totalScrollOffset\n            }\n            MotionEvent.ACTION_DOWN -&gt; {\n                returnValue = super.onTouchEvent(event)\n                mLastY = eventY\n                // start NestedScroll\n                startNestedScroll(ViewCompat.SCROLL_AXIS_VERTICAL)\n            }\n            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\n                returnValue = super.onTouchEvent(event)\n                // end NestedScroll\n                stopNestedScroll()\n            }\n        }\n        return returnValue\n    }\n\n    // Nested Scroll implements\n    override fun setNestedScrollingEnabled(enabled: Boolean) {\n        mChildHelper.isNestedScrollingEnabled = enabled\n    }\n\n    override fun isNestedScrollingEnabled(): Boolean {\n        return mChildHelper.isNestedScrollingEnabled\n    }\n\n    override fun startNestedScroll(axes: Int): Boolean {\n        return mChildHelper.startNestedScroll(axes)\n    }\n\n    override fun stopNestedScroll() {\n        mChildHelper.stopNestedScroll()\n    }\n\n    override fun hasNestedScrollingParent(): Boolean {\n        return mChildHelper.hasNestedScrollingParent()\n    }\n\n    override fun dispatchNestedScroll(\n        dxConsumed: Int, dyConsumed: Int, dxUnconsumed: Int, dyUnconsumed: Int,\n        offsetInWindow: IntArray?\n    ): Boolean {\n        return mChildHelper.dispatchNestedScroll(\n            dxConsumed,\n            dyConsumed,\n            dxUnconsumed,\n            dyUnconsumed,\n            offsetInWindow\n        )\n    }\n\n    override fun dispatchNestedPreScroll(\n        dx: Int,\n        dy: Int,\n        consumed: IntArray?,\n        offsetInWindow: IntArray?\n    ): Boolean {\n        return mChildHelper.dispatchNestedPreScroll(dx, dy, consumed, offsetInWindow)\n    }\n\n    override fun dispatchNestedFling(\n        velocityX: Float,\n        velocityY: Float,\n        consumed: Boolean\n    ): Boolean {\n        return mChildHelper.dispatchNestedFling(velocityX, velocityY, consumed)\n    }\n\n    override fun dispatchNestedPreFling(velocityX: Float, velocityY: Float): Boolean {\n        return mChildHelper.dispatchNestedPreFling(velocityX, velocityY)\n    }\n\n    init {\n        isNestedScrollingEnabled = true\n    }\n}\n</code></pre>\n<p>In your Layout:</p>\n<pre><code>&lt;com.nestedscrollwebviewexample.NestedWebView\n    android:id=&quot;@+id/nested_webview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#000000&quot;\n    android:fillViewport=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:isScrollContainer=&quot;false&quot;\n    android:visibility=&quot;visible&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679951257,"creation_date":1679951257,"answer_id":75860378,"question_id":72722061,"body_markdown":"The issue is caused by [`WebView`](https://developer.android.com/reference/android/webkit/WebView) that is inside of a [`NestedScrollView`](https://developer.android.com/reference/androidx/core/widget/NestedScrollView).\r\n\r\nThe [`RecyclerView`](https://developer.android.com/reference/kotlin/androidx/recyclerview/widget/RecyclerView) covers the [`WebView`](https://developer.android.com/reference/android/webkit/WebView) but in the final the [`WebView`](https://developer.android.com/reference/android/webkit/WebView) isn&#39;t scrolling anymore.\r\n\r\n---\r\n\r\nCreate a `custom` [`NestedWebView Class`](https://developer.android.com/reference/android/webkit/WebView) to implement a [`NestedScrollingChild Interface`](https://developer.android.com/reference/androidx/core/view/NestedScrollingChild). It should `override` `onTouchEvent() Method`.\r\n\r\nFix this setting `android:nestedScrollingEnabled=&quot;true&quot;` for [`NestedScrollView`](https://developer.android.com/reference/androidx/core/widget/NestedScrollView). This will allow [`WebView`](https://developer.android.com/reference/android/webkit/WebView) to scroll within [`NestedScrollView`](https://developer.android.com/reference/androidx/core/widget/NestedScrollView).\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fillViewport=&quot;&quot;\r\n        android:visibility=&quot;&quot;\r\n        tools:visibility=&quot;gone&quot;\r\n        android:nestedScrollingEnabled=&quot;true&quot;&gt;\r\n\r\n---\r\n\r\nWhat I would additionally do is to disable the acceleration of hardware. Try to call [`it.setLayerType(View.LAYER_TYPE_SOFTWARE, nul)`](https://developer.android.com/develop/ui/views/graphics/hardware-accel), instead of [`it.setLayerType(View.LAYER_TYPE_HARDWARE, nul)`](https://developer.android.com/topic/performance/hardware-accel).\r\n\r\n---\r\n\r\nSet the [`WebView`](https://developer.android.com/reference/android/webkit/WebView)&#39;s [`NastedScrollingEnabled`](https://developer.android.com/reference/kotlin/androidx/core/widget/NestedScrollView) property `false`. It will disable scrolling. Add this in your [`initWebView() fun`](https://developer.android.com/reference/android/webkit/WebView) :\r\n\r\n    it.isNestedScrollingEnabled = false\r\n\r\nTest it before because it may affect your performance.\r\n\r\n---\r\n\r\nThe last solution is the usage of [`custom WebView`](https://community.kodular.io/t/customwebview-an-extended-form-of-web-viewer/63037) to implement [`NestedScrollingChild interface`](https://developer.android.com/reference/androidx/core/view/NestedScrollingChild).\r\n\r\n**`.kt file`**\r\n\r\n    class NestedWebView(context: Context, attrX: AttributeX) : WebView(context, attrX), NestedScrollingChild {\r\n        //private val childHelper: NestedScrollingChildHelper = NestedScrollingChildHelper(this)\r\n\r\n        init {\r\n            //example: isNestedScrollingEnabled = true\r\n        }\r\n\r\n        override fun onTouchEvent(: ): Boolean {\r\n        }\r\n\r\n        override fun setNestedScrollingEnabled(enabled: Boolean) {\r\n            //childHelper.isNestedScrollingEnabled = enabled\r\n        }\r\n\r\n        override fun isNestedScrollingEnabled(): Boolean {\r\n            //return childHelper.isNestedScrollingEnabled\r\n        }\r\n\r\n        override fun startNestedScroll(axes: Int): Boolean {\r\n            //return childHelper.startNestedScroll(axes)\r\n        }\r\n\r\n        override fun stopNestedScroll() {\r\n            //childHelper.stopNestedScroll()\r\n        }\r\n\r\n        override fun hasNestedScrollingParent(): Boolean {\r\n            //return childHelper.hasNestedScrollingParent()\r\n        }\r\n\r\n            //dispatchNestedScroll\r\n            //dispatchPreScroll\r\n            //dispatchNestedFling\r\n            //dispatchNestedPreFling\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n**`.XML layout`**\r\n\r\n    &lt;com.example.myapp.NestedWebView\r\n        android:id=&quot;@+id/&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n---\r\n\r\nInitialize and use the custom [`NestedWebView`](https://stackoverflow.com/questions/57654466/nestedwebview-working-properly-with-scrollingviewbehavior) instance with reg [`WebView`](https://developer.android.com/reference/android/webkit/WebView).","title":"WebView not scrolling","body":"<p>The issue is caused by <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a> that is inside of a <a href=\"https://developer.android.com/reference/androidx/core/widget/NestedScrollView\" rel=\"nofollow noreferrer\"><code>NestedScrollView</code></a>.</p>\n<p>The <a href=\"https://developer.android.com/reference/kotlin/androidx/recyclerview/widget/RecyclerView\" rel=\"nofollow noreferrer\"><code>RecyclerView</code></a> covers the <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a> but in the final the <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a> isn't scrolling anymore.</p>\n<hr />\n<p>Create a <code>custom</code> <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>NestedWebView Class</code></a> to implement a <a href=\"https://developer.android.com/reference/androidx/core/view/NestedScrollingChild\" rel=\"nofollow noreferrer\"><code>NestedScrollingChild Interface</code></a>. It should <code>override</code> <code>onTouchEvent() Method</code>.</p>\n<p>Fix this setting <code>android:nestedScrollingEnabled=&quot;true&quot;</code> for <a href=\"https://developer.android.com/reference/androidx/core/widget/NestedScrollView\" rel=\"nofollow noreferrer\"><code>NestedScrollView</code></a>. This will allow <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a> to scroll within <a href=\"https://developer.android.com/reference/androidx/core/widget/NestedScrollView\" rel=\"nofollow noreferrer\"><code>NestedScrollView</code></a>.</p>\n<pre><code>&lt;androidx.core.widget.NestedScrollView\n    android:id=&quot;@+id/&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;&quot;\n    android:visibility=&quot;&quot;\n    tools:visibility=&quot;gone&quot;\n    android:nestedScrollingEnabled=&quot;true&quot;&gt;\n</code></pre>\n<hr />\n<p>What I would additionally do is to disable the acceleration of hardware. Try to call <a href=\"https://developer.android.com/develop/ui/views/graphics/hardware-accel\" rel=\"nofollow noreferrer\"><code>it.setLayerType(View.LAYER_TYPE_SOFTWARE, nul)</code></a>, instead of <a href=\"https://developer.android.com/topic/performance/hardware-accel\" rel=\"nofollow noreferrer\"><code>it.setLayerType(View.LAYER_TYPE_HARDWARE, nul)</code></a>.</p>\n<hr />\n<p>Set the <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a>'s <a href=\"https://developer.android.com/reference/kotlin/androidx/core/widget/NestedScrollView\" rel=\"nofollow noreferrer\"><code>NastedScrollingEnabled</code></a> property <code>false</code>. It will disable scrolling. Add this in your <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>initWebView() fun</code></a> :</p>\n<pre><code>it.isNestedScrollingEnabled = false\n</code></pre>\n<p>Test it before because it may affect your performance.</p>\n<hr />\n<p>The last solution is the usage of <a href=\"https://community.kodular.io/t/customwebview-an-extended-form-of-web-viewer/63037\" rel=\"nofollow noreferrer\"><code>custom WebView</code></a> to implement <a href=\"https://developer.android.com/reference/androidx/core/view/NestedScrollingChild\" rel=\"nofollow noreferrer\"><code>NestedScrollingChild interface</code></a>.</p>\n<p><strong><code>.kt file</code></strong></p>\n<pre><code>class NestedWebView(context: Context, attrX: AttributeX) : WebView(context, attrX), NestedScrollingChild {\n    //private val childHelper: NestedScrollingChildHelper = NestedScrollingChildHelper(this)\n\n    init {\n        //example: isNestedScrollingEnabled = true\n    }\n\n    override fun onTouchEvent(: ): Boolean {\n    }\n\n    override fun setNestedScrollingEnabled(enabled: Boolean) {\n        //childHelper.isNestedScrollingEnabled = enabled\n    }\n\n    override fun isNestedScrollingEnabled(): Boolean {\n        //return childHelper.isNestedScrollingEnabled\n    }\n\n    override fun startNestedScroll(axes: Int): Boolean {\n        //return childHelper.startNestedScroll(axes)\n    }\n\n    override fun stopNestedScroll() {\n        //childHelper.stopNestedScroll()\n    }\n\n    override fun hasNestedScrollingParent(): Boolean {\n        //return childHelper.hasNestedScrollingParent()\n    }\n\n        //dispatchNestedScroll\n        //dispatchPreScroll\n        //dispatchNestedFling\n        //dispatchNestedPreFling\n\n    }\n\n}\n</code></pre>\n<p><strong><code>.XML layout</code></strong></p>\n<pre><code>&lt;com.example.myapp.NestedWebView\n    android:id=&quot;@+id/&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<hr />\n<p>Initialize and use the custom <a href=\"https://stackoverflow.com/questions/57654466/nestedwebview-working-properly-with-scrollingviewbehavior\"><code>NestedWebView</code></a> instance with reg <a href=\"https://developer.android.com/reference/android/webkit/WebView\" rel=\"nofollow noreferrer\"><code>WebView</code></a>.</p>\n"}],"owner":{"account_id":23958830,"reputation":59,"user_id":17949254,"display_name":"Viacheslav Kolisnichenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679951257,"creation_date":1655932485,"question_id":72722061,"body_markdown":"I have a webview in NestedScrollView on screen. Also, I have recyclerview below the screen, and when recyclerview items close the webview, i scroll up to see the webview again, at that point the content of the webview stops scrolling. How I can fix it? \r\n\r\n                &lt;androidx.core.widget.NestedScrollView\r\n                android:id=&quot;@+id/webScrollContainer&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:fillViewport=&quot;true&quot;\r\n                android:visibility=&quot;@{playerType == PlayerViewType.WEB ? View.VISIBLE : View.GONE}&quot;\r\n                tools:visibility=&quot;gone&quot;&gt;\r\n\r\n                &lt;WebView\r\n                    android:id=&quot;@+id/previewWebView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:isScrollContainer=&quot;false&quot;\r\n                    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\r\n\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n\r\n \r\n\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;, &quot;JavascriptInterface&quot;)\r\n    private fun initWebView() {\r\n        web.let {\r\n            with(it.settings) {\r\n                javaScriptEnabled = true\r\n                userAgentString =\r\n                    &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.117 Safari/537.36&quot;\r\n                domStorageEnabled = true\r\n                loadWithOverviewMode = true\r\n                useWideViewPort = true\r\n                mediaPlaybackRequiresUserGesture = true\r\n                allowFileAccess = true\r\n                cacheMode = WebSettings.LOAD_DEFAULT\r\n            }\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                it.setLayerType(View.LAYER_TYPE_HARDWARE, null)\r\n            }\r\n            it.webChromeClient = WebChromeProgressClient()\r\n            it.webViewClient = WebClient()\r\n        }\r\n    }\r\n","title":"WebView not scrolling","body":"<p>I have a webview in NestedScrollView on screen. Also, I have recyclerview below the screen, and when recyclerview items close the webview, i scroll up to see the webview again, at that point the content of the webview stops scrolling. How I can fix it?</p>\n<pre><code>            &lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/webScrollContainer&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fillViewport=&quot;true&quot;\n            android:visibility=&quot;@{playerType == PlayerViewType.WEB ? View.VISIBLE : View.GONE}&quot;\n            tools:visibility=&quot;gone&quot;&gt;\n\n            &lt;WebView\n                android:id=&quot;@+id/previewWebView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:isScrollContainer=&quot;false&quot;\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n                app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n\n\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;, &quot;JavascriptInterface&quot;)\nprivate fun initWebView() {\n    web.let {\n        with(it.settings) {\n            javaScriptEnabled = true\n            userAgentString =\n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.117 Safari/537.36&quot;\n            domStorageEnabled = true\n            loadWithOverviewMode = true\n            useWideViewPort = true\n            mediaPlaybackRequiresUserGesture = true\n            allowFileAccess = true\n            cacheMode = WebSettings.LOAD_DEFAULT\n        }\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            it.setLayerType(View.LAYER_TYPE_HARDWARE, null)\n        }\n        it.webChromeClient = WebChromeProgressClient()\n        it.webViewClient = WebClient()\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart","build"],"comments":[{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1610722105,"post_id":65737954,"comment_id":116229387,"body_markdown":"show your code.","body":"show your code."}],"answers":[{"tags":[],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610722161,"creation_date":1610722161,"answer_id":65738257,"question_id":65737954,"body_markdown":"That error message means, your java code has warning. and since `-Werror` flag, it becomes an error.\r\n\r\nThe warning says, your java target version is too old.\r\n\r\nThus, you may upgrade that version. Or, remove `-Werror`.","title":"Flutter : when i try to run flutter app that i clone from github, but the build failed, could someone inform me how to solve it?","body":"<p>That error message means, your java code has warning. and since <code>-Werror</code> flag, it becomes an error.</p>\n<p>The warning says, your java target version is too old.</p>\n<p>Thus, you may upgrade that version. Or, remove <code>-Werror</code>.</p>\n"},{"tags":[],"owner":{"account_id":141512,"reputation":15251,"user_id":348589,"accept_rate":71,"display_name":"Shady Mohamed Sherif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679951235,"creation_date":1679951235,"answer_id":75860376,"question_id":65737954,"body_markdown":"Add this to you app/build.gradle file\r\nunder `android {` sections\r\n\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n        warning(&quot;all&quot;)\r\n        checkReleaseBuilds false\r\n    }\r\n\r\nThis code will stop the issue for you and would stop getting those warnings like errors message.\r\n","title":"Flutter : when i try to run flutter app that i clone from github, but the build failed, could someone inform me how to solve it?","body":"<p>Add this to you app/build.gradle file\nunder <code>android {</code> sections</p>\n<pre><code>lintOptions {\n    disable 'InvalidPackage'\n    warning(&quot;all&quot;)\n    checkReleaseBuilds false\n}\n</code></pre>\n<p>This code will stop the issue for you and would stop getting those warnings like errors message.</p>\n"}],"owner":{"account_id":16773139,"reputation":391,"user_id":12125132,"display_name":"Ahmad Mohy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679951235,"creation_date":1610721070,"question_id":65737954,"body_markdown":"\r\n```\r\nwarning: [options] source value 7 is obsolete and will be removed in a future release\r\nwarning: [options] target value 7 is obsolete and will be removed in a future release\r\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\r\nerror: warnings found and -Werror specified\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:connectivity:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```","title":"Flutter : when i try to run flutter app that i clone from github, but the build failed, could someone inform me how to solve it?","body":"<pre><code>warning: [options] source value 7 is obsolete and will be removed in a future release\nwarning: [options] target value 7 is obsolete and will be removed in a future release\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\nerror: warnings found and -Werror specified\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':connectivity:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n"},{"tags":["java","multithreading","exception"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1264346070,"creation_date":1264337035,"answer_id":2127057,"question_id":2126997,"body_markdown":"If you decide to integrate your code with other libraries, they can call `interrupt()` on your code. e.g. if you decide in the future to execute your code within an [ExecutorService][1], then that may force a shutdown via `interrupt()`. \r\n\r\nTo put it briefly, I would consider not just where your code is running *now*, but in what context it may run in the future. e.g. are you going to put it in a library ? A container ? How will other people use it ? Are you going to reuse it ?\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>If you decide to integrate your code with other libraries, they can call <code>interrupt()</code> on your code. e.g. if you decide in the future to execute your code within an <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a>, then that may force a shutdown via <code>interrupt()</code>. </p>\n\n<p>To put it briefly, I would consider not just where your code is running <em>now</em>, but in what context it may run in the future. e.g. are you going to put it in a library ? A container ? How will other people use it ? Are you going to reuse it ?</p>\n"},{"tags":[],"owner":{"account_id":77142,"reputation":9356,"user_id":220381,"accept_rate":75,"display_name":"Ash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1264338186,"creation_date":1264338186,"answer_id":2127126,"question_id":2126997,"body_markdown":"The `InterruptedException` says that a routine _may_ be interrupted, but not necessarily that it will be.\r\n\r\nIf you don&#39;t expect the interrupt then you should treat it as you might any other unexpected exception. If it&#39;s in a critical section where an unexpected exception could have heinous consequences, it might be best to try and clean up resources and gracefully shutdown (because getting the interrupt signals that your well-engineered application that doesn&#39;t rely on interrupts is being used in a way it wasn&#39;t designed, and so there must be something wrong). Alternatively, if the code in question is something non-critical or trivial, you might want to ignore (or log) the interrupt and keep going.","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>The <code>InterruptedException</code> says that a routine <em>may</em> be interrupted, but not necessarily that it will be.</p>\n\n<p>If you don't expect the interrupt then you should treat it as you might any other unexpected exception. If it's in a critical section where an unexpected exception could have heinous consequences, it might be best to try and clean up resources and gracefully shutdown (because getting the interrupt signals that your well-engineered application that doesn't rely on interrupts is being used in a way it wasn't designed, and so there must be something wrong). Alternatively, if the code in question is something non-critical or trivial, you might want to ignore (or log) the interrupt and keep going.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":54,"is_accepted":true,"score":52,"last_activity_date":1442009824,"creation_date":1264344087,"answer_id":2127397,"question_id":2126997,"body_markdown":"The Thread interrupt mechanism is the preferred way to get a (cooperating) thread to respond a request to stop what it is doing.  Any thread (including the thread itself I think) could call `interrupt()` on a Thread.\r\n\r\nIn practice, the normal use-cases for `interrupt()` involve some kind of framework or manager telling some worker thread to stop what they are doing.  If the worker thread is &quot;interrupt aware&quot; it will notice that it has been interrupted via an exception, or by periodically checking its interrupted flag.  On noticing that it has been interrupted, a well-behaved thread would abandon what it is doing and end itself.\r\n\r\nAssuming the above use-case, your code is likely to be interrupted if it is run within a Java framework or from some worker thread.  And when it is interrupted, your code should abandon what it is doing and cause itself to end by the most appropriate means.  Depending on how your code was called, this might be done by returning or by throwing some appropriate exception.  But it probably should not call `System.exit()`.  (Your application does not necessarily know why it was interrupted, and it certainly does not know if there are other threads that need to be interrupted by the framework.)  \r\n\r\nOn the other hand, if your code is not designed to run under the control of some framework, you could argue that the `InterruptedException` is an unexpected exception; i.e. a bug.  In that case, you should treat the exception as you would other bugs; e.g. wrap it in an unchecked exception, and catch and log it at the same point you deal with other unexpected unchecked exceptions.  (Alternatively, your application could simply ignore the interrupt and continue doing what it was doing.)\r\n\r\n------------------\r\n\r\n&gt; 1) If I&#39;m never ever interrupting other threads myself, what can trigger an InterruptedException?\r\n\r\nOne example is if your `Runnable` objects are executed using an `ExecutorService` and `shutdownNow()` is called on the service.  And in theory, any 3rd-party thread pool or thread management framework could legitimately do something like this.\r\n\r\n&gt; 2) If I&#39;m never ever interrupting other threads myself using interrupt() ... what does an `InterruptedException` then mean? What am I supposed to do upon catching one? Shutdown my app?\r\n\r\nYou need analyze the codebase to figure out what is making the `interrupt()` calls and why.  Once you have figured that out, you can work out what &gt;&gt;your&lt;&lt; part of the app needs to do.\r\n\r\nUntil you know why `InterruptedException` is being thrown, I would advise treating it as a hard error; e.g. print a stacktrace to the log file and shut down the app.  (Obviously, that&#39;s not always the right answer ... but the point is that this is &quot;a bug&quot;, and it needs to be brought to the attention of the developer / maintainer.)\r\n\r\n&gt; 3) How do I find out who / what is calling `interrupt()`?\r\n\r\nThere is no good answer to this.  The best I can suggest is to set a breakpoint on the `Thread.interrupt()` and look at the call stack.","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>The Thread interrupt mechanism is the preferred way to get a (cooperating) thread to respond a request to stop what it is doing.  Any thread (including the thread itself I think) could call <code>interrupt()</code> on a Thread.</p>\n\n<p>In practice, the normal use-cases for <code>interrupt()</code> involve some kind of framework or manager telling some worker thread to stop what they are doing.  If the worker thread is \"interrupt aware\" it will notice that it has been interrupted via an exception, or by periodically checking its interrupted flag.  On noticing that it has been interrupted, a well-behaved thread would abandon what it is doing and end itself.</p>\n\n<p>Assuming the above use-case, your code is likely to be interrupted if it is run within a Java framework or from some worker thread.  And when it is interrupted, your code should abandon what it is doing and cause itself to end by the most appropriate means.  Depending on how your code was called, this might be done by returning or by throwing some appropriate exception.  But it probably should not call <code>System.exit()</code>.  (Your application does not necessarily know why it was interrupted, and it certainly does not know if there are other threads that need to be interrupted by the framework.)  </p>\n\n<p>On the other hand, if your code is not designed to run under the control of some framework, you could argue that the <code>InterruptedException</code> is an unexpected exception; i.e. a bug.  In that case, you should treat the exception as you would other bugs; e.g. wrap it in an unchecked exception, and catch and log it at the same point you deal with other unexpected unchecked exceptions.  (Alternatively, your application could simply ignore the interrupt and continue doing what it was doing.)</p>\n\n<hr>\n\n<blockquote>\n  <p>1) If I'm never ever interrupting other threads myself, what can trigger an InterruptedException?</p>\n</blockquote>\n\n<p>One example is if your <code>Runnable</code> objects are executed using an <code>ExecutorService</code> and <code>shutdownNow()</code> is called on the service.  And in theory, any 3rd-party thread pool or thread management framework could legitimately do something like this.</p>\n\n<blockquote>\n  <p>2) If I'm never ever interrupting other threads myself using interrupt() ... what does an <code>InterruptedException</code> then mean? What am I supposed to do upon catching one? Shutdown my app?</p>\n</blockquote>\n\n<p>You need analyze the codebase to figure out what is making the <code>interrupt()</code> calls and why.  Once you have figured that out, you can work out what >>your&lt;&lt; part of the app needs to do.</p>\n\n<p>Until you know why <code>InterruptedException</code> is being thrown, I would advise treating it as a hard error; e.g. print a stacktrace to the log file and shut down the app.  (Obviously, that's not always the right answer ... but the point is that this is \"a bug\", and it needs to be brought to the attention of the developer / maintainer.)</p>\n\n<blockquote>\n  <p>3) How do I find out who / what is calling <code>interrupt()</code>?</p>\n</blockquote>\n\n<p>There is no good answer to this.  The best I can suggest is to set a breakpoint on the <code>Thread.interrupt()</code> and look at the call stack.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1264351188,"creation_date":1264351188,"answer_id":2127826,"question_id":2126997,"body_markdown":"The problem with the question is &quot;I&quot;. &quot;I&quot; usually refers to a single instance of a class. I mean by that, that any particular piece of low-level code (class) should not rely upon the implementation of the entire system. Having said that you do have make some &quot;architectural&quot; decisions (like what platform to run on).\r\n\r\nPossible unexpected interrupts coming from the JRE are canceled tasks in `java.util.concurrent` and shutting down applets.\r\n\r\nHandling of thread interrupts is usually written incorrectly. Therefore, I suggest the architectural decision to avoid causing interrupts where possible. However, code handling interrupts should always be written correctly. Can&#39;t take interrupts out of the platform now.","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>The problem with the question is \"I\". \"I\" usually refers to a single instance of a class. I mean by that, that any particular piece of low-level code (class) should not rely upon the implementation of the entire system. Having said that you do have make some \"architectural\" decisions (like what platform to run on).</p>\n\n<p>Possible unexpected interrupts coming from the JRE are canceled tasks in <code>java.util.concurrent</code> and shutting down applets.</p>\n\n<p>Handling of thread interrupts is usually written incorrectly. Therefore, I suggest the architectural decision to avoid causing interrupts where possible. However, code handling interrupts should always be written correctly. Can't take interrupts out of the platform now.</p>\n"},{"tags":[],"owner":{"account_id":92140,"reputation":779,"user_id":252648,"display_name":"Turing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264356603,"creation_date":1264356603,"answer_id":2128110,"question_id":2126997,"body_markdown":"As already mentioned, another library can interrupt your threads. Even if the library doesn&#39;t have explicit access to the threads from your code, they can still get the list of threads that are running and interrupt them that way with the following [method][1].  \r\n\r\n  [1]: https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/1323480#1323480","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>As already mentioned, another library can interrupt your threads. Even if the library doesn't have explicit access to the threads from your code, they can still get the list of threads that are running and interrupt them that way with the following <a href=\"https://stackoverflow.com/questions/1323408/get-a-list-of-all-threads-currently-running-in-java/1323480#1323480\">method</a>.  </p>\n"},{"tags":[],"owner":{"account_id":1927356,"reputation":91,"user_id":1737490,"display_name":"&#216;yvind Bakksj&#248;"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1350031104,"creation_date":1350031104,"answer_id":12855230,"question_id":2126997,"body_markdown":"As others have pointed out, interrupting a thread (actually, interrupting a blocking call) is usually used for purposes of exiting cleanly or cancelling an ongoing activity.\r\n\r\nHowever, you should not treat an `InterruptedException` alone as a &quot;quit command&quot;. Instead, you should think of interrupts as a means to control the running status of threads, much in the same way as `Object.notify()` does. In the same way that you&#39;d check the current state after waking up from a call to `Object.wait()` (you don&#39;t assume that the wakeup means your wait condition has been satisfied), after being nudged with an interrupt you should check *why* you were interrupted. There is usually a way to do this. For example, `java.util.concurrent.FutureTask` has an `isCancelled()` method.\r\n\r\nCode sample:\r\n\r\n    public void run() {\r\n        ....\r\n        try {\r\n            .... // Calls that may block.\r\n        } catch (InterruptedException e) {\r\n            if (!running) {  // Add preferred synchronization here.\r\n                return; // Explicit flag says we should stop running.\r\n            }\r\n            // We were interrupted, but the flag says we&#39;re still running.\r\n            // It would be wrong to always exit here. The interrupt &#39;nudge&#39;\r\n            // could mean something completely different. For example, it\r\n            // could be that the thread was blocking on a read from a particular\r\n            // file, and now we should read from a different file.\r\n            // Interrupt != quit (not necessarily).\r\n        }\r\n        ....\r\n    }\r\n    public void stop() {\r\n        running = false; // Add preferred synchronization here.\r\n        myThread.interrupt();\r\n    }","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>As others have pointed out, interrupting a thread (actually, interrupting a blocking call) is usually used for purposes of exiting cleanly or cancelling an ongoing activity.</p>\n\n<p>However, you should not treat an <code>InterruptedException</code> alone as a \"quit command\". Instead, you should think of interrupts as a means to control the running status of threads, much in the same way as <code>Object.notify()</code> does. In the same way that you'd check the current state after waking up from a call to <code>Object.wait()</code> (you don't assume that the wakeup means your wait condition has been satisfied), after being nudged with an interrupt you should check <em>why</em> you were interrupted. There is usually a way to do this. For example, <code>java.util.concurrent.FutureTask</code> has an <code>isCancelled()</code> method.</p>\n\n<p>Code sample:</p>\n\n<pre><code>public void run() {\n    ....\n    try {\n        .... // Calls that may block.\n    } catch (InterruptedException e) {\n        if (!running) {  // Add preferred synchronization here.\n            return; // Explicit flag says we should stop running.\n        }\n        // We were interrupted, but the flag says we're still running.\n        // It would be wrong to always exit here. The interrupt 'nudge'\n        // could mean something completely different. For example, it\n        // could be that the thread was blocking on a read from a particular\n        // file, and now we should read from a different file.\n        // Interrupt != quit (not necessarily).\n    }\n    ....\n}\npublic void stop() {\n    running = false; // Add preferred synchronization here.\n    myThread.interrupt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":149906,"reputation":8114,"user_id":362738,"accept_rate":73,"display_name":"weekens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352718128,"creation_date":1352718128,"answer_id":13342519,"question_id":2126997,"body_markdown":"You could learn this by creating your own thread class (extending `java.lang.Thread`) and overriding `interrupt()` method, in which you record the stacktrace into, say, a String field, and then transfer to super.interrupt().\r\n\r\n    public class MyThread extends Thread {\r\n\r\n        public volatile String interruptStacktrace; // Temporary field for debugging purpose.\r\n        \r\n        @Override\r\n        public void interrupt() {\r\n            interruptStacktrace = dumpStack(); // You implement it somehow...\r\n\r\n            super.interrupt();\r\n        }\r\n    }","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>You could learn this by creating your own thread class (extending <code>java.lang.Thread</code>) and overriding <code>interrupt()</code> method, in which you record the stacktrace into, say, a String field, and then transfer to super.interrupt().</p>\n\n<pre><code>public class MyThread extends Thread {\n\n    public volatile String interruptStacktrace; // Temporary field for debugging purpose.\n\n    @Override\n    public void interrupt() {\n        interruptStacktrace = dumpStack(); // You implement it somehow...\n\n        super.interrupt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813688,"reputation":263,"user_id":4584004,"accept_rate":56,"display_name":"nawazish-stackoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493440672,"creation_date":1490033411,"answer_id":42910968,"question_id":2126997,"body_markdown":"I think I understand why you are a bit confused about interruption. Please consider my answers in line:\r\n\r\n&gt; If I&#39;m never ever interrupting other threads myself, what can trigger an *InterruptedException*?\r\n\r\nFirstly you may interrupt other threads; I know that in JCiP it is mentioned that you should never interrupt threads you do not own; however, this statement has to be properly understood. What it means is that your code which might be running in any arbitrary thread should not handle interruption because since it is not the owner of the thread it has no clue of its interruption policy. So you may request interruption on other threads, but let its owner take the course of interruption action; it has the interruption policy encapsulated within it, not your task code; at least be courteous to set the interruption flag!\r\n\r\nThere are many ways why there could be interruptions still, may be timeouts, JVM interrupts etc.\r\n\r\n\r\n&gt; If I&#39;m never ever interrupting other threads myself using interrupt() (say because I&#39;m using other means to cancel my working threads, like poison pills and while (!cancelled) style loop [as both explained in JCIP]), what does an InterruptedException then mean? What am I supposed to do upon catching one? Shutdown my app?\r\n\r\n\r\nYou need to be very careful here; if you own the thread which threw InterruptedException (IE), then you know what to do upon catching it, say you may shutdown your app/service or you may replace this killed thread with a new one! However, if you do not own the thread then upon catching IE either rethrow it higher up the call stack or after doing something (may be logging), reset the interrupted status so that the code which owns this thread, when control reaches it, may learn that the thread was interrupted and hence take actions as it will since only it knows the interruption policy.\r\n\r\nHope this helped.\r\n\r\n","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>I think I understand why you are a bit confused about interruption. Please consider my answers in line:</p>\n\n<blockquote>\n  <p>If I'm never ever interrupting other threads myself, what can trigger an <em>InterruptedException</em>?</p>\n</blockquote>\n\n<p>Firstly you may interrupt other threads; I know that in JCiP it is mentioned that you should never interrupt threads you do not own; however, this statement has to be properly understood. What it means is that your code which might be running in any arbitrary thread should not handle interruption because since it is not the owner of the thread it has no clue of its interruption policy. So you may request interruption on other threads, but let its owner take the course of interruption action; it has the interruption policy encapsulated within it, not your task code; at least be courteous to set the interruption flag!</p>\n\n<p>There are many ways why there could be interruptions still, may be timeouts, JVM interrupts etc.</p>\n\n<blockquote>\n  <p>If I'm never ever interrupting other threads myself using interrupt() (say because I'm using other means to cancel my working threads, like poison pills and while (!cancelled) style loop [as both explained in JCIP]), what does an InterruptedException then mean? What am I supposed to do upon catching one? Shutdown my app?</p>\n</blockquote>\n\n<p>You need to be very careful here; if you own the thread which threw InterruptedException (IE), then you know what to do upon catching it, say you may shutdown your app/service or you may replace this killed thread with a new one! However, if you do not own the thread then upon catching IE either rethrow it higher up the call stack or after doing something (may be logging), reset the interrupted status so that the code which owns this thread, when control reaches it, may learn that the thread was interrupted and hence take actions as it will since only it knows the interruption policy.</p>\n\n<p>Hope this helped.</p>\n"},{"tags":[],"owner":{"account_id":297150,"reputation":1073,"user_id":602506,"accept_rate":40,"display_name":"Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679950922,"creation_date":1679950922,"answer_id":75860345,"question_id":2126997,"body_markdown":"Since nobody has mentioned it: interrupts can occur as a reaction to signals sent by the operating system. For example, `kill -SIGINT &lt;pid&gt;` can send an interrupt signal to your process, which your process can then translate into a Thread interrupt. By default, however, the JVM already handles SIGINT (and others such as SIGTERM) in a particular way. So, if you want to handle SIGINT in a specific way, you&#39;d need to configure the JVM and your app accordingly.\r\n\r\nOften, web frameworks will add shutdown hooks which allow you to gracefully end work. Often, your code should attempt to shut down things like `ExecutorService` instances gracefully, with some timeout, after which you should interrupt your threads. Your threads, in turn, should respond in a timely manner to that interrupt, so that your app does not take too long to shut down. However, this only matters if your app needs to try to finish up its current work.","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>Since nobody has mentioned it: interrupts can occur as a reaction to signals sent by the operating system. For example, <code>kill -SIGINT &lt;pid&gt;</code> can send an interrupt signal to your process, which your process can then translate into a Thread interrupt. By default, however, the JVM already handles SIGINT (and others such as SIGTERM) in a particular way. So, if you want to handle SIGINT in a specific way, you'd need to configure the JVM and your app accordingly.</p>\n<p>Often, web frameworks will add shutdown hooks which allow you to gracefully end work. Often, your code should attempt to shut down things like <code>ExecutorService</code> instances gracefully, with some timeout, after which you should interrupt your threads. Your threads, in turn, should respond in a timely manner to that interrupt, so that your app does not take too long to shut down. However, this only matters if your app needs to try to finish up its current work.</p>\n"}],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26186,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":2127397,"answer_count":9,"score":90,"last_activity_date":1679950922,"creation_date":1264335928,"question_id":2126997,"body_markdown":"I&#39;ve read and re-read Java Concurrency in Practice, I&#39;ve read several threads here on the subject, I&#39;ve read the IBM article [Dealing with InterruptedException][1] and yet there&#39;s something I&#39;m simply not grasping which I think can be broken down into two questions:\r\n\r\n 1. If I&#39;m never ever interrupting other threads myself, what can trigger an *InterruptedException*?\r\n\r\n 2. If I&#39;m never ever interrupting other threads myself using *interrupt()* (say because I&#39;m using other means to cancel my working threads, like poison pills and *while (!cancelled)* style loop [as both explained in JCIP]), what does an *InterruptedException* then mean?  What am I supposed to do upon catching one?  Shutdown my app?  \r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp05236.html","title":"Who is calling the Java Thread interrupt() method if I&#39;m not?","body":"<p>I've read and re-read Java Concurrency in Practice, I've read several threads here on the subject, I've read the IBM article <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05236.html\" rel=\"noreferrer\">Dealing with InterruptedException</a> and yet there's something I'm simply not grasping which I think can be broken down into two questions:</p>\n\n<ol>\n<li><p>If I'm never ever interrupting other threads myself, what can trigger an <em>InterruptedException</em>?</p></li>\n<li><p>If I'm never ever interrupting other threads myself using <em>interrupt()</em> (say because I'm using other means to cancel my working threads, like poison pills and <em>while (!cancelled)</em> style loop [as both explained in JCIP]), what does an <em>InterruptedException</em> then mean?  What am I supposed to do upon catching one?  Shutdown my app?  </p></li>\n</ol>\n"},{"tags":["java","jar","noclassdeffounderror"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1679943407,"post_id":75859302,"comment_id":133808487,"body_markdown":"Did you unpack the fat jar and see if the dependency library is actually included? If not your fat jar build is wrong.","body":"Did you unpack the fat jar and see if the dependency library is actually included? If not your fat jar build is wrong."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679945315,"post_id":75859302,"comment_id":133808866,"body_markdown":"Check the filename of the jar you a trying to run from terminal. Should be like xxxx-jar-with-dependencies.jar This is the fat jar.","body":"Check the filename of the jar you a trying to run from terminal. Should be like xxxx-jar-with-dependencies.jar This is the fat jar."}],"owner":{"account_id":28027314,"reputation":11,"user_id":21407079,"display_name":"xplore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679950749,"creation_date":1679942656,"question_id":75859302,"body_markdown":"When I run a project from terminal with &quot;java -jar &quot;projectName&quot;.jar, I receive this error: java.lang.NoClassDefFoundError. The problem is that my project includes another project as library and the error refer to classes from that library. \r\n\r\nI package the project with &quot;package&quot; command from Maven to make a fat-jar.\r\n\r\n```\r\n&lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6&lt;/version&gt;\r\n      &lt;executions&gt;\r\n          &lt;execution&gt;\r\n              &lt;id&gt;make-assembly&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;archive&gt;\r\n                      &lt;manifest&gt;\r\n                          &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n                      &lt;/manifest&gt;\r\n                  &lt;/archive&gt;\r\n                  &lt;descriptorRefs&gt;\r\n                      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                  &lt;/descriptorRefs&gt;\r\n              &lt;/configuration&gt;\r\n           &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n  &lt;/plugin&gt;\r\n```\r\n\r\nWhen I run the project from Intellij, the project works. Any ideas?\r\n","title":"java.lang.NoClassDefFoundError when run the project from terminal","body":"<p>When I run a project from terminal with &quot;java -jar &quot;projectName&quot;.jar, I receive this error: java.lang.NoClassDefFoundError. The problem is that my project includes another project as library and the error refer to classes from that library.</p>\n<p>I package the project with &quot;package&quot; command from Maven to make a fat-jar.</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.6&lt;/version&gt;\n      &lt;executions&gt;\n          &lt;execution&gt;\n              &lt;id&gt;make-assembly&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                  &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                  &lt;archive&gt;\n                      &lt;manifest&gt;\n                          &lt;mainClass&gt;Main&lt;/mainClass&gt;\n                      &lt;/manifest&gt;\n                  &lt;/archive&gt;\n                  &lt;descriptorRefs&gt;\n                      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                  &lt;/descriptorRefs&gt;\n              &lt;/configuration&gt;\n           &lt;/execution&gt;\n       &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>When I run the project from Intellij, the project works. Any ideas?</p>\n"},{"tags":["java","security","exception","ssl","tls1.3"],"comments":[{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":1,"creation_date":1679950911,"post_id":75859520,"comment_id":133810017,"body_markdown":"Add the debug flag `-Djavax.net.debug=all` and come back with a trace","body":"Add the debug flag <code>-Djavax.net.debug=all</code> and come back with a trace"},{"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"score":0,"creation_date":1680009229,"post_id":75859520,"comment_id":133820618,"body_markdown":"Thanks for the suggestion. stderr log prints out all certs and I see my root and subordinate cer entries. It also says `trustStore type is: pkcs12` and `keyStore provider is : &lt;blank&gt;`  Should there be a provider, and does it need to match SunJSSe from the original error:\n`Error constructing implementation (algorithm: Default, provider: SunJSSE...`?","body":"Thanks for the suggestion. stderr log prints out all certs and I see my root and subordinate cer entries. It also says <code>trustStore type is: pkcs12</code> and <code>keyStore provider is : &lt;blank&gt;</code>  Should there be a provider, and does it need to match SunJSSe from the original error: <code>Error constructing implementation (algorithm: Default, provider: SunJSSE...</code>?"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1680026687,"post_id":75859520,"comment_id":133825749,"body_markdown":"An empty keyStore seems normal as you are not performing two-way SSL (I suppose). If not confidential, can you share the whole debug trace ?","body":"An empty keyStore seems normal as you are not performing two-way SSL (I suppose). If not confidential, can you share the whole debug trace ?"},{"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"score":0,"creation_date":1680030572,"post_id":75859520,"comment_id":133826640,"body_markdown":"I can&#39;t share the whole trace but did find this: `Inaccessible trust store: C:\\Program Files\\Java\\openJdk11_18\\lib\\security\\jssecacerts`\n`trustStore is: C:\\Program Files\\Java\\openJdk11_18\\lib\\security\\cacerts`\nI don&#39;t see any `jssecacerts` file (again, this works locally and I don&#39;t have the file locally either...).\nAlso: `SSLContextImpl.java:428|System property jdk.tls.client.cipherSuites is set to &#39;null&#39;`.","body":"I can&#39;t share the whole trace but did find this: <code>Inaccessible trust store: C:\\Program Files\\Java\\openJdk11_18\\lib\\security\\jssecacerts</code> <code>trustStore is: C:\\Program Files\\Java\\openJdk11_18\\lib\\security\\cacerts</code> I don&#39;t see any <code>jssecacerts</code> file (again, this works locally and I don&#39;t have the file locally either...). Also: <code>SSLContextImpl.java:428|System property jdk.tls.client.cipherSuites is set to &#39;null&#39;</code>."},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1680034875,"post_id":75859520,"comment_id":133827600,"body_markdown":"OK you&#39;re using the default truststore and that might be fine. Interesting to see no cipher is used, at least one is necessary (for example TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA). Try adding that VM argument with one of the ciphers given in the [ciphersuites list](https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#ciphersuites). Maybe can you answer your own question.","body":"OK you&#39;re using the default truststore and that might be fine. Interesting to see no cipher is used, at least one is necessary (for example TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA). Try adding that VM argument with one of the ciphers given in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#ciphersuites\" rel=\"nofollow noreferrer\">ciphersuites list</a>. Maybe can you answer your own question."},{"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"score":0,"creation_date":1680098295,"post_id":75859520,"comment_id":133839726,"body_markdown":"It&#39;s working now. Thanks for your help, Eugene! \nThis is soooo complicated... But, I got it working by creating my own keystore (which is not a trust store, I learned). Keystore certs allow others to trust you, while truststore allows you to trust others, I think.","body":"It&#39;s working now. Thanks for your help, Eugene!  This is soooo complicated... But, I got it working by creating my own keystore (which is not a trust store, I learned). Keystore certs allow others to trust you, while truststore allows you to trust others, I think."}],"owner":{"account_id":3705601,"reputation":322,"user_id":3084236,"display_name":"mrcrag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679950721,"creation_date":1679944107,"question_id":75859520,"body_markdown":"I&#39;m pulling RSS data with an `HttpURLConnection` and get this error, but only on the server. Everything works fine on my laptop. So, the code is identical but I can&#39;t pin down the differences in environment.\r\nBoth are using the same VM arguments: \r\n`-Djavax.net.ssl.keyStore=&quot;C:/Program Files/Java/jdk-11.0.15.1/lib/security/cacerts&quot;\r\n-Djavax.net.ssl.keyStorePassword=&lt;pwd&gt;\r\n-Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2,TLSv1.3`\r\n\r\nI&#39;m using openJdk v11_18. The keystore and password are good (I can list certs with the provided pwd)...\r\n","title":"java.security.NoSuchAlgorithmException: Error constructing implementation","body":"<p>I'm pulling RSS data with an <code>HttpURLConnection</code> and get this error, but only on the server. Everything works fine on my laptop. So, the code is identical but I can't pin down the differences in environment.\nBoth are using the same VM arguments:\n<code>-Djavax.net.ssl.keyStore=&quot;C:/Program Files/Java/jdk-11.0.15.1/lib/security/cacerts&quot; -Djavax.net.ssl.keyStorePassword=&lt;pwd&gt; -Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2,TLSv1.3</code></p>\n<p>I'm using openJdk v11_18. The keystore and password are good (I can list certs with the provided pwd)...</p>\n"},{"tags":["java","loops","binary-search-tree","bufferedreader","filereader"],"comments":[{"owner":{"account_id":24208250,"reputation":1,"user_id":18165138,"display_name":"&#246;zkan"},"score":0,"creation_date":1679958474,"post_id":75860141,"comment_id":133811208,"body_markdown":"I added break command at the end of if block and it got resolved","body":"I added break command at the end of if block and it got resolved"}],"answers":[{"tags":[],"owner":{"account_id":11813963,"reputation":1481,"user_id":8644717,"accept_rate":85,"display_name":"WilsonPena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679949790,"creation_date":1679949790,"answer_id":75860213,"question_id":75860141,"body_markdown":"I believe you&#39;ll need to change either `alt_indis` or `ust_indis` inside the first `if (student[orta_indis].getGPA()==3.02)`.\r\n\r\nOtherwise if it gets into that initial if then you will keep having the same value for this expression:\r\n\r\n    orta_indis=(alt_indis+ust_indis)/2;\r\n","title":"there is an &quot;endless loop&quot; how ı can fix it","body":"<p>I believe you'll need to change either <code>alt_indis</code> or <code>ust_indis</code> inside the first <code>if (student[orta_indis].getGPA()==3.02)</code>.</p>\n<p>Otherwise if it gets into that initial if then you will keep having the same value for this expression:</p>\n<pre><code>orta_indis=(alt_indis+ust_indis)/2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15590356,"reputation":1,"user_id":11247620,"display_name":"Asma AKA Azmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679950010,"creation_date":1679950010,"answer_id":75860233,"question_id":75860141,"body_markdown":"in your condition `if(student[orta_indis].getGPA()==3.02)` you never update `alt_indis` or `ust_indis` so if it is true it will always be true in your while loop here `while(alt_indis&lt;=ust_indis)` and never exit the loop, I&#39;m assuming that is your problem.","title":"there is an &quot;endless loop&quot; how ı can fix it","body":"<p>in your condition <code>if(student[orta_indis].getGPA()==3.02)</code> you never update <code>alt_indis</code> or <code>ust_indis</code> so if it is true it will always be true in your while loop here <code>while(alt_indis&lt;=ust_indis)</code> and never exit the loop, I'm assuming that is your problem.</p>\n"},{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679950184,"creation_date":1679950184,"answer_id":75860252,"question_id":75860141,"body_markdown":"I believe you are trying to do a **binary search** here on 3.02. The problem seems to be in ```if (student[orta_indis].getGPA()==3.02)```. Inside this if condition, you are not updating **alt_indis** and **ust_indis**. **So once it reaches where its 3.02, for every further iteration of while loop it keeps using same alt_indis and ust_indis; thus using same orta_indis (```orta_indis=(alt_indis+ust_indis)/2;```) causing an infinite loo**p. To remedy this you should update either your alt_indis and ust_indis or break out of the loop from inside if based on some condition.","title":"there is an &quot;endless loop&quot; how ı can fix it","body":"<p>I believe you are trying to do a <strong>binary search</strong> here on 3.02. The problem seems to be in <code>if (student[orta_indis].getGPA()==3.02)</code>. Inside this if condition, you are not updating <strong>alt_indis</strong> and <strong>ust_indis</strong>. <strong>So once it reaches where its 3.02, for every further iteration of while loop it keeps using same alt_indis and ust_indis; thus using same orta_indis (<code>orta_indis=(alt_indis+ust_indis)/2;</code>) causing an infinite loo</strong>p. To remedy this you should update either your alt_indis and ust_indis or break out of the loop from inside if based on some condition.</p>\n"}],"owner":{"account_id":24208250,"reputation":1,"user_id":18165138,"display_name":"&#246;zkan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75860252,"answer_count":3,"score":-1,"last_activity_date":1679950184,"creation_date":1679949217,"question_id":75860141,"body_markdown":"this code is creating a loop , The variable named &quot;Number of students&quot; is constantly increasing. I couldn&#39;t find where the problem is. \r\n{1.14,1.49,1.54,1.86,2.04,2.19,2.86,3.02,3.16} when I output this it should return 1\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n      int ogrenciSayisi=0;\r\n         if (Student.readCSV(&quot;siraliogrenci.txt&quot;).length!=0) {\r\n             Student[] student = Student.readCSV(&quot;siraliogrenci.txt&quot;);\r\n            int alt_indis=0;\r\n            int ust_indis=student.length-1;\r\n            int orta_indis;\r\n            \r\n            while(alt_indis&lt;=ust_indis){\r\n                orta_indis=(alt_indis+ust_indis)/2;\r\n                if (student[orta_indis].getGPA()==3.02) {\r\n                    ogrenciSayisi++;\r\n                    int solIndis = orta_indis-1;\r\n                    int sagIndis = orta_indis+1;\r\n                    while (solIndis&gt;=0 &amp;&amp; student[solIndis].getGPA()==3.02) {                        \r\n                        ogrenciSayisi++;\r\n                        solIndis--;\r\n                    }\r\n                    while (sagIndis&lt;student.length &amp;&amp; student[sagIndis].getGPA()==3.02) {                        \r\n                        ogrenciSayisi++;\r\n                        sagIndis++;\r\n                    } \r\n                }\r\n                else if(student[orta_indis].getGPA()&lt;3.02){\r\n                    alt_indis=orta_indis+1;\r\n                }\r\n                else{\r\n                    ust_indis=orta_indis-1;\r\n                }\r\n            }\r\n            \r\n        }\r\n         System.out.println(ogrenciSayisi);\r\n        \r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"there is an &quot;endless loop&quot; how ı can fix it","body":"<p>this code is creating a loop , The variable named &quot;Number of students&quot; is constantly increasing. I couldn't find where the problem is.\n{1.14,1.49,1.54,1.86,2.04,2.19,2.86,3.02,3.16} when I output this it should return 1</p>\n<p>public class Main {</p>\n<pre><code>public static void main(String[] args) {\n  int ogrenciSayisi=0;\n     if (Student.readCSV(&quot;siraliogrenci.txt&quot;).length!=0) {\n         Student[] student = Student.readCSV(&quot;siraliogrenci.txt&quot;);\n        int alt_indis=0;\n        int ust_indis=student.length-1;\n        int orta_indis;\n        \n        while(alt_indis&lt;=ust_indis){\n            orta_indis=(alt_indis+ust_indis)/2;\n            if (student[orta_indis].getGPA()==3.02) {\n                ogrenciSayisi++;\n                int solIndis = orta_indis-1;\n                int sagIndis = orta_indis+1;\n                while (solIndis&gt;=0 &amp;&amp; student[solIndis].getGPA()==3.02) {                        \n                    ogrenciSayisi++;\n                    solIndis--;\n                }\n                while (sagIndis&lt;student.length &amp;&amp; student[sagIndis].getGPA()==3.02) {                        \n                    ogrenciSayisi++;\n                    sagIndis++;\n                } \n            }\n            else if(student[orta_indis].getGPA()&lt;3.02){\n                alt_indis=orta_indis+1;\n            }\n            else{\n                ust_indis=orta_indis-1;\n            }\n        }\n        \n    }\n     System.out.println(ogrenciSayisi);\n    \n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium-webdriver","automation","cucumber","appian"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1678796163,"post_id":75726635,"comment_id":133599306,"body_markdown":"Does this answer your question? [Selenium ChromeDriver returns 403 errors on build server](https://stackoverflow.com/questions/72753290/selenium-chromedriver-returns-403-errors-on-build-server)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72753290/selenium-chromedriver-returns-403-errors-on-build-server\">Selenium ChromeDriver returns 403 errors on build server</a>"}],"answers":[{"tags":[],"owner":{"account_id":12548013,"reputation":73,"user_id":9130659,"display_name":"Daniel Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678750671,"creation_date":1678750671,"answer_id":75727841,"question_id":75726635,"body_markdown":"Something may be wrong with the latest Chromedriver release. I&#39;m running into the same issue.\r\n\r\nChromedriver bug reports can be found here.\r\n\r\nhttps://bugs.chromium.org/p/chromedriver/issues/list?sort=-id\r\n\r\n\r\n\r\n","title":"Getting a strange error out of the blue in a Cucumber framework that uses Selenium and Chromedriver","body":"<p>Something may be wrong with the latest Chromedriver release. I'm running into the same issue.</p>\n<p>Chromedriver bug reports can be found here.</p>\n<p><a href=\"https://bugs.chromium.org/p/chromedriver/issues/list?sort=-id\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/list?sort=-id</a></p>\n"},{"tags":[],"owner":{"account_id":6882751,"reputation":698,"user_id":5288966,"accept_rate":84,"display_name":"jesric1029"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679949777,"creation_date":1679949777,"answer_id":75860208,"question_id":75726635,"body_markdown":"After a very long investigation including opening a ticket with the link Daniel shared and then looking into a still unresolved Selenium bug, I was able to locate a comment with the current workaround. \r\n\r\nFirst, you must declare the following in your POM: \r\n\r\n       &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;version&gt;4.8.1&lt;/version&gt;\r\n      &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSecond, you must add the following line of code to your framework. I put mine in my Junit @BeforeClass in my Cucumber TestRunner:\r\n\r\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\nI hope this helps anyone with similar problems.","title":"Getting a strange error out of the blue in a Cucumber framework that uses Selenium and Chromedriver","body":"<p>After a very long investigation including opening a ticket with the link Daniel shared and then looking into a still unresolved Selenium bug, I was able to locate a comment with the current workaround.</p>\n<p>First, you must declare the following in your POM:</p>\n<pre><code>   &lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;version&gt;4.8.1&lt;/version&gt;\n  &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Second, you must add the following line of code to your framework. I put mine in my Junit @BeforeClass in my Cucumber TestRunner:</p>\n<pre><code>System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n</code></pre>\n<p>I hope this helps anyone with similar problems.</p>\n"}],"owner":{"account_id":6882751,"reputation":698,"user_id":5288966,"accept_rate":84,"display_name":"jesric1029"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75860208,"answer_count":2,"score":1,"last_activity_date":1679949777,"creation_date":1678739385,"question_id":75726635,"body_markdown":"I have two different automation frameworks that both make use of the Chrome driver. These frameworks do not exactly directly access Selenium (they are Appian based) but I have suddenly (beginning today) found that none of my tests work and I get the same error every time. I am sure that the driver is up to date. \r\n\r\n```\r\norg.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:50576/devtools/browser/12acb1c1-5b1c-46c2-7501-a8958019eb0f\r\n```\r\n\r\nTo give a little bit of context the Appian framework handles the Selenium driver in a back-end class/method that I have no control over known as &quot;CucumberBaseFixture.&quot; \r\n\r\nWithin my Cucumber step definitions I simply call the driver like such \r\n```\r\nGiven I setup with &quot;CHROME&quot; browser\r\n```\r\nas Appian has already created all of the step definitions within their automation framework jar. \r\n\r\nFurther, I actually set the URL directly using another pre-configured step as such (I have redacted the exact URL due to corporate security. \r\n\r\n```\r\nAnd I set Appian URL to &quot;REDACTED BUT 100% VALID URL&quot;\r\n```\r\n\r\nI have verified that my necessary configuration is correct for the driver which is not difficult considering they have a script that sets the configuration parameter for you.\r\n\r\nOnce I execute the test then I get the following stack as well which I find interesting and then the chrome window opens for a moment, closes and the test ends. \r\n\r\n```\r\nChromeDriver was started successfully.\r\nMar 13, 2023 4:22:09 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nMar 13, 2023 4:22:09 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=403 text=Forbidden\r\n``` \r\n\r\nThank you for any help.","title":"Getting a strange error out of the blue in a Cucumber framework that uses Selenium and Chromedriver","body":"<p>I have two different automation frameworks that both make use of the Chrome driver. These frameworks do not exactly directly access Selenium (they are Appian based) but I have suddenly (beginning today) found that none of my tests work and I get the same error every time. I am sure that the driver is up to date.</p>\n<pre><code>org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:50576/devtools/browser/12acb1c1-5b1c-46c2-7501-a8958019eb0f\n</code></pre>\n<p>To give a little bit of context the Appian framework handles the Selenium driver in a back-end class/method that I have no control over known as &quot;CucumberBaseFixture.&quot;</p>\n<p>Within my Cucumber step definitions I simply call the driver like such</p>\n<pre><code>Given I setup with &quot;CHROME&quot; browser\n</code></pre>\n<p>as Appian has already created all of the step definitions within their automation framework jar.</p>\n<p>Further, I actually set the URL directly using another pre-configured step as such (I have redacted the exact URL due to corporate security.</p>\n<pre><code>And I set Appian URL to &quot;REDACTED BUT 100% VALID URL&quot;\n</code></pre>\n<p>I have verified that my necessary configuration is correct for the driver which is not difficult considering they have a script that sets the configuration parameter for you.</p>\n<p>Once I execute the test then I get the following stack as well which I find interesting and then the chrome window opens for a moment, closes and the test ends.</p>\n<pre><code>ChromeDriver was started successfully.\nMar 13, 2023 4:22:09 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nMar 13, 2023 4:22:09 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\n</code></pre>\n<p>Thank you for any help.</p>\n"},{"tags":["java","spring-boot","micronaut"],"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679949734,"creation_date":1679859499,"question_id":75850112,"body_markdown":"I want to create an endpoint that accepts multiple files along with the payload for each file that represents their respective info. The payload should be transformable to a class that I have created. I am using micronaut. I have created the following controller.\r\n\r\n```\r\n@Post(value = &quot;/abcHey&quot;,consumes = MediaType.MULTIPART_FORM_DATA, produces = MediaType.APPLICATION_JSON)\r\n  public Maybe&lt;HttpResponse&lt;?&gt;&gt; post(Publisher&lt;StreamingFileUpload&gt; files) {\r\n    Flowable.fromPublisher(files).subscribe(item -&gt; {\r\n      System.out.println(&quot;success&quot;);\r\n    });\r\n    return Maybe.just(HttpResponse.accepted());\r\n  } \r\n```\r\nI tried to upload 3 files of 300MB but success message doesn&#39;t print.\r\n\r\n","title":"Uploading multiple files along with their respective payload in Micronaut","body":"<p>I want to create an endpoint that accepts multiple files along with the payload for each file that represents their respective info. The payload should be transformable to a class that I have created. I am using micronaut. I have created the following controller.</p>\n<pre><code>@Post(value = &quot;/abcHey&quot;,consumes = MediaType.MULTIPART_FORM_DATA, produces = MediaType.APPLICATION_JSON)\n  public Maybe&lt;HttpResponse&lt;?&gt;&gt; post(Publisher&lt;StreamingFileUpload&gt; files) {\n    Flowable.fromPublisher(files).subscribe(item -&gt; {\n      System.out.println(&quot;success&quot;);\n    });\n    return Maybe.just(HttpResponse.accepted());\n  } \n</code></pre>\n<p>I tried to upload 3 files of 300MB but success message doesn't print.</p>\n"},{"tags":["java","scheduled-tasks"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679915840,"post_id":75854935,"comment_id":133800704,"body_markdown":"Please explain what behaviour you want.","body":"Please explain what behaviour you want."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1679916056,"post_id":75854935,"comment_id":133800761,"body_markdown":"@tgdavies, I want the executions 5-10 to be executed at fixed rate(~1000ms, between them), not one by one instantly.","body":"@tgdavies, I want the executions 5-10 to be executed at fixed rate(~1000ms, between them), not one by one instantly."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679916137,"post_id":75854935,"comment_id":133800782,"body_markdown":"Have you thought about using `scheduleWithFixedDelay`?","body":"Have you thought about using <code>scheduleWithFixedDelay</code>?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1679916338,"post_id":75854935,"comment_id":133800835,"body_markdown":"@tgdavies the think which is bothering me at `fixedDelay` is that it&#39;s summing the delay and sleep. In my case, the threads which have `Thread.sleep` are executed at a distance of 3 seconds.","body":"@tgdavies the think which is bothering me at <code>fixedDelay</code> is that it&#39;s summing the delay and sleep. In my case, the threads which have <code>Thread.sleep</code> are executed at a distance of 3 seconds."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679916795,"post_id":75854935,"comment_id":133800939,"body_markdown":"So you want the minimum time between the start of consecutive invocations to be 1000ms, and the minimum time between the end of one invocation and the start of the next to be 0ms?","body":"So you want the minimum time between the start of consecutive invocations to be 1000ms, and the minimum time between the end of one invocation and the start of the next to be 0ms?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1679917911,"post_id":75854935,"comment_id":133801230,"body_markdown":"@tgdavies, Yes. I want the time between the end of the task0 and start of task1 to be `1s - task0_execution_time` (like how is doing `scheduledAtFixedRate`), but to not have that waiting queue which can accumulate tasks. For example: I start task1 with execution time 5s. After start task2 without pause(1s - 5s = -4s =&gt; instant start). After task2, to start task3 at 1s - task2_execution_time. And to NOT accumulate task2 and task3 in a waiting queue and execute them instantly later, just because the task1 has execution time 5s, and task2 and task3 were scheduled to start during this 5s.","body":"@tgdavies, Yes. I want the time between the end of the task0 and start of task1 to be <code>1s - task0_execution_time</code> (like how is doing <code>scheduledAtFixedRate</code>), but to not have that waiting queue which can accumulate tasks. For example: I start task1 with execution time 5s. After start task2 without pause(1s - 5s = -4s =&gt; instant start). After task2, to start task3 at 1s - task2_execution_time. And to NOT accumulate task2 and task3 in a waiting queue and execute them instantly later, just because the task1 has execution time 5s, and task2 and task3 were scheduled to start during this 5s."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679949540,"creation_date":1679918578,"answer_id":75855534,"question_id":75854935,"body_markdown":"I wouldn&#39;t use an executor at all. A simple for loop with a variable `sleep` does exactly what you want:\r\n\r\n```\r\nimport java.time.LocalTime;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        long previousStartTime;\r\n        for (int i = 0; i &lt; 15; ++i) {\r\n            previousStartTime = System.currentTimeMillis();\r\n            System.out.println(LocalTime.now().toString() + &quot; doing task &quot; + i);\r\n            Thread.sleep(i &lt; 5 ? 2000: 0);\r\n            long taskTime = System.currentTimeMillis() - previousStartTime;\r\n            System.out.println(&quot;   Task took &quot; + taskTime);\r\n            long timeToWait = Math.max(0L, 1000L - taskTime);\r\n            System.out.println(&quot;   Waiting &quot; + timeToWait);\r\n            Thread.sleep(timeToWait);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe thread uses `Thread.sleep(timeToWait);` to wait for the correct interval before performing the task again. If instead you wrote:\r\n\r\n```\r\nwhile (System.currentTimeMillis() &lt; previousStartTime+timeToWait) {\r\n  // do nothing\r\n}\r\n```\r\nThat would be &quot;busy waiting&quot;, and would consume CPU resources.","title":"Stop scheduleAtFixedRate to schedule new tasks, until the current one is done","body":"<p>I wouldn't use an executor at all. A simple for loop with a variable <code>sleep</code> does exactly what you want:</p>\n<pre><code>import java.time.LocalTime;\n\npublic class Main {\n\n    public static void main(String[] args) throws InterruptedException {\n        long previousStartTime;\n        for (int i = 0; i &lt; 15; ++i) {\n            previousStartTime = System.currentTimeMillis();\n            System.out.println(LocalTime.now().toString() + &quot; doing task &quot; + i);\n            Thread.sleep(i &lt; 5 ? 2000: 0);\n            long taskTime = System.currentTimeMillis() - previousStartTime;\n            System.out.println(&quot;   Task took &quot; + taskTime);\n            long timeToWait = Math.max(0L, 1000L - taskTime);\n            System.out.println(&quot;   Waiting &quot; + timeToWait);\n            Thread.sleep(timeToWait);\n        }\n    }\n}\n</code></pre>\n<p>The thread uses <code>Thread.sleep(timeToWait);</code> to wait for the correct interval before performing the task again. If instead you wrote:</p>\n<pre><code>while (System.currentTimeMillis() &lt; previousStartTime+timeToWait) {\n  // do nothing\n}\n</code></pre>\n<p>That would be &quot;busy waiting&quot;, and would consume CPU resources.</p>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679949540,"creation_date":1679914702,"question_id":75854935,"body_markdown":"I have this piece of code\r\n\r\n```\r\npublic static void main(String[] args){\r\n\r\n\tScheduledThreadPoolExecutor stpe = new ScheduledThreadPoolExecutor(5);\r\n\r\n\tAtomicInteger i = new AtomicInteger(0);\r\n\tRunnable runnable = () -&gt; {\r\n\r\n\t\tif(i.get() &lt; 5){\r\n\t\t\ttry{ Thread.sleep(2_000); }catch(Exception ignored){ }\r\n\t\t}else if(i.get() &gt;= 15){\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(i.getAndIncrement() + &quot; - &quot; + stpe.getQueue().size() + &quot; - &quot; + LocalDateTime.now());\r\n\r\n\t};\r\n\r\n\tScheduledFuture&lt;?&gt; sf = stpe.scheduleAtFixedRate(new Thread(runnable, &quot;Testing&quot;), 0, 1_000, TimeUnit.MILLISECONDS);\r\n\r\n}\r\n```\r\n\r\nThe console after execution:\r\n```\r\n 0 - 0 - 2023-03-27T13:40:04.865501800\r\n 1 - 0 - 2023-03-27T13:40:06.886657500\r\n 2 - 0 - 2023-03-27T13:40:08.890066\r\n 3 - 0 - 2023-03-27T13:40:10.894186200\r\n 4 - 0 - 2023-03-27T13:40:12.898171\r\n 5 - 0 - 2023-03-27T13:40:12.899077100 &lt;---\r\n 6 - 0 - 2023-03-27T13:40:12.899077100 &lt;---\r\n 7 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\r\n 8 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\r\n 9 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\r\n10 - 0 - 2023-03-27T13:40:12.901073800 &lt;---\r\n11 - 0 - 2023-03-27T13:40:13.857069500\r\n12 - 0 - 2023-03-27T13:40:14.852331500\r\n13 - 0 - 2023-03-27T13:40:15.860971200\r\n14 - 0 - 2023-03-27T13:40:16.865873300\r\n```\r\n\r\nAs you can observe, I have a `Thred.sleep(2_000)` for first 5 executions, and after I am letting them to execute at the rate of ScheduledFuture until 15th execution which is stopping the program.\r\n\r\nI know that `scheduleAtFixedRate` is not starting a new execution until the current one is finished.\r\n\r\nBut instead, is adding them in a waiting queue, from where is taking one by one and execute without respecting the rate.\r\n\r\nAs you can see from 5 to 10, are at same second like 4. Executions 5-10 were in waiting queue and executed them one by one without a rate. The difference between them, as time, is only the execution time.\r\n\r\nAfter the waiting queue was freed, it continued from 11 to 14 at the rate.\r\n\r\nHow I can avoid 5-10 executions to be one by one instantly, but instead to be executed at a fixed rate(~1_000 ms)? I can find this waiting queue and to free it?\r\n \r\nI want the time between the end of the task0 and the start of task1 to be 1s - task0_execution_time(like how is doing scheduledAtFixedRate), but to not have that waiting queue which can accumulate tasks. \r\n\r\nFor example: \r\n1. start task1 with execution time 5s.\r\n2. start task2 without pause(1s - 5s = -4s =&gt; instant start). \r\n3. start task3 at 1s - task2_execution_time. \r\n\r\nAnd to NOT accumulate task2 and task3 in a waiting queue and execute them instantly later, just because the task1 has execution time 5s, and task2 and task3 were scheduled to start during this 5s","title":"Stop scheduleAtFixedRate to schedule new tasks, until the current one is done","body":"<p>I have this piece of code</p>\n<pre><code>public static void main(String[] args){\n\n    ScheduledThreadPoolExecutor stpe = new ScheduledThreadPoolExecutor(5);\n\n    AtomicInteger i = new AtomicInteger(0);\n    Runnable runnable = () -&gt; {\n\n        if(i.get() &lt; 5){\n            try{ Thread.sleep(2_000); }catch(Exception ignored){ }\n        }else if(i.get() &gt;= 15){\n            System.exit(0);\n        }\n\n        System.out.println(i.getAndIncrement() + &quot; - &quot; + stpe.getQueue().size() + &quot; - &quot; + LocalDateTime.now());\n\n    };\n\n    ScheduledFuture&lt;?&gt; sf = stpe.scheduleAtFixedRate(new Thread(runnable, &quot;Testing&quot;), 0, 1_000, TimeUnit.MILLISECONDS);\n\n}\n</code></pre>\n<p>The console after execution:</p>\n<pre><code> 0 - 0 - 2023-03-27T13:40:04.865501800\n 1 - 0 - 2023-03-27T13:40:06.886657500\n 2 - 0 - 2023-03-27T13:40:08.890066\n 3 - 0 - 2023-03-27T13:40:10.894186200\n 4 - 0 - 2023-03-27T13:40:12.898171\n 5 - 0 - 2023-03-27T13:40:12.899077100 &lt;---\n 6 - 0 - 2023-03-27T13:40:12.899077100 &lt;---\n 7 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\n 8 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\n 9 - 0 - 2023-03-27T13:40:12.900068700 &lt;---\n10 - 0 - 2023-03-27T13:40:12.901073800 &lt;---\n11 - 0 - 2023-03-27T13:40:13.857069500\n12 - 0 - 2023-03-27T13:40:14.852331500\n13 - 0 - 2023-03-27T13:40:15.860971200\n14 - 0 - 2023-03-27T13:40:16.865873300\n</code></pre>\n<p>As you can observe, I have a <code>Thred.sleep(2_000)</code> for first 5 executions, and after I am letting them to execute at the rate of ScheduledFuture until 15th execution which is stopping the program.</p>\n<p>I know that <code>scheduleAtFixedRate</code> is not starting a new execution until the current one is finished.</p>\n<p>But instead, is adding them in a waiting queue, from where is taking one by one and execute without respecting the rate.</p>\n<p>As you can see from 5 to 10, are at same second like 4. Executions 5-10 were in waiting queue and executed them one by one without a rate. The difference between them, as time, is only the execution time.</p>\n<p>After the waiting queue was freed, it continued from 11 to 14 at the rate.</p>\n<p>How I can avoid 5-10 executions to be one by one instantly, but instead to be executed at a fixed rate(~1_000 ms)? I can find this waiting queue and to free it?</p>\n<p>I want the time between the end of the task0 and the start of task1 to be 1s - task0_execution_time(like how is doing scheduledAtFixedRate), but to not have that waiting queue which can accumulate tasks.</p>\n<p>For example:</p>\n<ol>\n<li>start task1 with execution time 5s.</li>\n<li>start task2 without pause(1s - 5s = -4s =&gt; instant start).</li>\n<li>start task3 at 1s - task2_execution_time.</li>\n</ol>\n<p>And to NOT accumulate task2 and task3 in a waiting queue and execute them instantly later, just because the task1 has execution time 5s, and task2 and task3 were scheduled to start during this 5s</p>\n"},{"tags":["java","list","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1679942502,"post_id":75859246,"comment_id":133808258,"body_markdown":"Is ‘ i \\&lt; n’ intentional or a typo: ‘ i &lt; n’?","body":"Is ‘ i \\&lt; n’ intentional or a typo: ‘ i &lt; n’?"},{"owner":{"account_id":6159040,"reputation":146,"user_id":4801213,"display_name":"9DA"},"score":1,"creation_date":1679944273,"post_id":75859246,"comment_id":133808664,"body_markdown":"Could you provide a bit more clarification around the input file you are using? It seems like the first thing you do is to read an integer value with sc.nextInt() before entering the for loop. Could you please format your post so all your code is actually ina  code block? I would make it more easy to ready.","body":"Could you provide a bit more clarification around the input file you are using? It seems like the first thing you do is to read an integer value with sc.nextInt() before entering the for loop. Could you please format your post so all your code is actually ina  code block? I would make it more easy to ready."},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679947205,"post_id":75859246,"comment_id":133809297,"body_markdown":"ok, now formulate it in a better way","body":"ok, now formulate it in a better way"},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679947379,"post_id":75859246,"comment_id":133809341,"body_markdown":"In a business that is dedicated to the sale of electrical supplies, it has the information of its clients in the following\nstructure.\nint cliCode; //customer code\nchar NameName[40]; //last name and name\nchar dire[60]; //home address\nfloat monCred; //Maximum amount of credit you can make on each purchase.\nis requested:\n• Enter the data N customers.\n• As customers are entered, using a function to display the registered data.\n• At the end of the loading of the N customers, show how many customers have a credit amount greater than $30,000.","body":"In a business that is dedicated to the sale of electrical supplies, it has the information of its clients in the following structure. int cliCode; //customer code char NameName[40]; //last name and name char dire[60]; //home address float monCred; //Maximum amount of credit you can make on each purchase. is requested: • Enter the data N customers. • As customers are entered, using a function to display the registered data. • At the end of the loading of the N customers, show how many customers have a credit amount greater than $30,000."},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679947388,"post_id":75859246,"comment_id":133809344,"body_markdown":"this is what i should do","body":"this is what i should do"},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679948437,"post_id":75859246,"comment_id":133809537,"body_markdown":"Firstly, I want to store the data in an arraylist, for this I made a class called clients and declaring all the variable decesarias and their corresponding setters and gettes. then in the main I create an arraylist, an object of type client. The next step is to ask the user to enter n which is the number of customers to register and is the number of times the for loop will iterate.\nthen I would have to ask the user to enter the name, address and money of the clients and here comes the problem, assuming that my n=3 the for loop would iterate from 0 to 2, but the name of the client 0 (n = 0)","body":"Firstly, I want to store the data in an arraylist, for this I made a class called clients and declaring all the variable decesarias and their corresponding setters and gettes. then in the main I create an arraylist, an object of type client. The next step is to ask the user to enter n which is the number of customers to register and is the number of times the for loop will iterate. then I would have to ask the user to enter the name, address and money of the clients and here comes the problem, assuming that my n=3 the for loop would iterate from 0 to 2, but the name of the client 0 (n = 0)"},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679948490,"post_id":75859246,"comment_id":133809547,"body_markdown":"he skips and directly asks me for his address\nex:\nfor ( i = 0 ; i &lt; 3 ; i++)\nenter customer name\nname = scan.nextLine();\nenter customer address\ndirection = scan.nextLine();\nenter customer money\nmoney = scan.netInt();\nwhen executing this step the first read of the variable name is skipped and asks me to directly enter the address of the client, this only happens with the first variable once, then the execution continues normally","body":"he skips and directly asks me for his address ex: for ( i = 0 ; i &lt; 3 ; i++) enter customer name name = scan.nextLine(); enter customer address direction = scan.nextLine(); enter customer money money = scan.netInt(); when executing this step the first read of the variable name is skipped and asks me to directly enter the address of the client, this only happens with the first variable once, then the execution continues normally"},{"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"score":0,"creation_date":1679948503,"post_id":75859246,"comment_id":133809551,"body_markdown":"That said, I was trying instead of using the nextLine to use the next(), with the latter it does not jump to the second variable but I can only put words without spaces since if I put for example &quot;matias gonzales&quot; the same thing happens as with the nextLine skip a variable read","body":"That said, I was trying instead of using the nextLine to use the next(), with the latter it does not jump to the second variable but I can only put words without spaces since if I put for example &quot;matias gonzales&quot; the same thing happens as with the nextLine skip a variable read"}],"answers":[{"tags":[],"owner":{"account_id":12452913,"reputation":26,"user_id":10263562,"display_name":"Ruslan Macari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679947458,"creation_date":1679944220,"answer_id":75859538,"question_id":75859246,"body_markdown":"Try this code:\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n\r\n    class ClientTest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        List&lt;Cliente&gt; lista = new ArrayList&lt;Cliente&gt;(); //declaracion y asignacion del ArrayList Cliente clie = new Cliente();\r\n        System.out.println(&quot;Enter how many clients will be added:&quot;);\r\n        int n = sc.nextInt(); // if you will type here &#39;2 abc&#39; then\r\n    //n will be &#39;2&#39; and nextLine will be &#39; abc&#39; that&#39;s why &#39;sc = new Scanner(System.in)&#39; is used to reset the scanner\r\n\r\n        sc = new Scanner(System.in);\r\n        for (int i = 0; i &lt; n; i++) {\r\n\r\n            Cliente cliente = new Cliente();\r\n            cliente.setCodigoCliente(i);\r\n            System.out.println(&quot;Enter number of client# &quot; + i);\r\n            cliente.setNombre(sc.nextLine());\r\n            System.out.println(&quot;Enter direccion of client: &quot; + i);\r\n            cliente.setDireccion(sc.nextLine());\r\n            lista.add(cliente);\r\n        }\r\n        System.out.println(lista);\r\n    }\r\n\r\n    }\r\n\r\n    class Cliente {\r\n\r\n    int codCliente;\r\n    String nombre;\r\n    String direccion;\r\n    double credito;\r\n\r\n    public Cliente() {\r\n\r\n    }\r\n\r\n    public Cliente(String nombre, String direccion, double credito) {\r\n        // this.codCliente = codCliente;\r\n        this.nombre = nombre;\r\n        this.direccion = direccion;\r\n        this.credito = credito;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Cliente{&quot; +\r\n                &quot;codCliente=&quot; + codCliente +\r\n                &quot;, nombre=&#39;&quot; + nombre + &#39;\\&#39;&#39; +\r\n                &quot;, direccion=&#39;&quot; + direccion + &#39;\\&#39;&#39; +\r\n                &quot;, credito=&quot; + credito +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public void setCodigoCliente(int codCliente) {\r\n        this.codCliente = codCliente;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public void setDireccion(String direccion) {\r\n        this.direccion = direccion;\r\n    }\r\n\r\n    public void setCredito(double credito) {\r\n        this.credito = credito;\r\n    }\r\n\r\n    public int getCodCliente() {\r\n        return codCliente;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public String getDireccion() {\r\n        return direccion;\r\n    }\r\n\r\n    public double getCredito() {\r\n        return credito;\r\n    }\r\n    }","title":"problem scan variable to add to arraylist","body":"<p>Try this code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nclass ClientTest {\n\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    List&lt;Cliente&gt; lista = new ArrayList&lt;Cliente&gt;(); //declaracion y asignacion del ArrayList Cliente clie = new Cliente();\n    System.out.println(&quot;Enter how many clients will be added:&quot;);\n    int n = sc.nextInt(); // if you will type here '2 abc' then\n//n will be '2' and nextLine will be ' abc' that's why 'sc = new Scanner(System.in)' is used to reset the scanner\n\n    sc = new Scanner(System.in);\n    for (int i = 0; i &lt; n; i++) {\n\n        Cliente cliente = new Cliente();\n        cliente.setCodigoCliente(i);\n        System.out.println(&quot;Enter number of client# &quot; + i);\n        cliente.setNombre(sc.nextLine());\n        System.out.println(&quot;Enter direccion of client: &quot; + i);\n        cliente.setDireccion(sc.nextLine());\n        lista.add(cliente);\n    }\n    System.out.println(lista);\n}\n\n}\n\nclass Cliente {\n\nint codCliente;\nString nombre;\nString direccion;\ndouble credito;\n\npublic Cliente() {\n\n}\n\npublic Cliente(String nombre, String direccion, double credito) {\n    // this.codCliente = codCliente;\n    this.nombre = nombre;\n    this.direccion = direccion;\n    this.credito = credito;\n}\n\n@Override\npublic String toString() {\n    return &quot;Cliente{&quot; +\n            &quot;codCliente=&quot; + codCliente +\n            &quot;, nombre='&quot; + nombre + '\\'' +\n            &quot;, direccion='&quot; + direccion + '\\'' +\n            &quot;, credito=&quot; + credito +\n            '}';\n}\n\npublic void setCodigoCliente(int codCliente) {\n    this.codCliente = codCliente;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic void setDireccion(String direccion) {\n    this.direccion = direccion;\n}\n\npublic void setCredito(double credito) {\n    this.credito = credito;\n}\n\npublic int getCodCliente() {\n    return codCliente;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic String getDireccion() {\n    return direccion;\n}\n\npublic double getCredito() {\n    return credito;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679949430,"creation_date":1679948051,"answer_id":75860009,"question_id":75859246,"body_markdown":"Change `String nombre` to `int nombre` since you want that to be an incrementing number rather than text.\r\n\r\nIf the main purpose of your class `Cliente` is to communicate data transparently and immutably, define your class as a [record][1].\r\n\r\n    public record Cliente( int nombre , String direccion , double credito ) { }\r\n\r\nTip: A record can be defined locally within a method, or nested within another class, or in its own standalone `.java` file.\r\n\r\nWith your scanner collect all the needed data *before* instantiating the client. Generally best to separate user-interface from other code.\r\n\r\nWhen using scanner commands such as `nextInt` and `nextDouble`, be sure to consume the leftover end-of-line with a call to `nextLine`. See Answers on [this Question](https://stackoverflow.com/q/13102045/642706).\r\n\r\n```java\r\nrecord Cliente( int nombre , String direccion , double credito ) { }\r\nScanner scanner = new Scanner( System.in );\r\n\r\nSystem.out.println( &quot;How many?&quot; );\r\nint count = scanner.nextInt();\r\nscanner.nextLine(); // Consume the end-of-line left over from the `nextInt` call.\r\nList &lt; Cliente &gt; clientes = new ArrayList &lt;&gt;( count );  // When convenient and sensible, specify the initial capacity of a new `ArrayList`.\r\n\r\nfor ( int nth = 1 ; nth &lt;= count ; nth++ )\r\n{\r\n    // Gather inputs from user-interface.\r\n    System.out.println( &quot;direccion: &quot; );\r\n    String d = scanner.nextLine();\r\n\r\n    System.out.println( &quot;credito: &quot; );\r\n    double c = scanner.nextDouble();\r\n    scanner.nextLine(); // Consume the end-of-line left over from the `nextDouble` call.\r\n\r\n    // Instantiate business object.\r\n    Cliente cliente = new Cliente( nth , d , c );\r\n    clientes.add( cliente );\r\n}\r\nSystem.out.println( clientes );\r\n```\r\n    \r\n\r\n```none\r\nHow many?\r\n3\r\ndireccion: \r\none\r\ncredito: \r\n1.1\r\ndireccion: \r\ntwo\r\ncredito: \r\n2.2\r\ndireccion: \r\nthree\r\ncredito: \r\n3.3\r\n[Cliente[nombre=1, direccion=one, credito=1.1], Cliente[nombre=2, direccion=two, credito=2.2], Cliente[nombre=3, direccion=three, credito=3.3]]\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"problem scan variable to add to arraylist","body":"<p>Change <code>String nombre</code> to <code>int nombre</code> since you want that to be an incrementing number rather than text.</p>\n<p>If the main purpose of your class <code>Cliente</code> is to communicate data transparently and immutably, define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>public record Cliente( int nombre , String direccion , double credito ) { }\n</code></pre>\n<p>Tip: A record can be defined locally within a method, or nested within another class, or in its own standalone <code>.java</code> file.</p>\n<p>With your scanner collect all the needed data <em>before</em> instantiating the client. Generally best to separate user-interface from other code.</p>\n<p>When using scanner commands such as <code>nextInt</code> and <code>nextDouble</code>, be sure to consume the leftover end-of-line with a call to <code>nextLine</code>. See Answers on <a href=\"https://stackoverflow.com/q/13102045/642706\">this Question</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Cliente( int nombre , String direccion , double credito ) { }\nScanner scanner = new Scanner( System.in );\n\nSystem.out.println( &quot;How many?&quot; );\nint count = scanner.nextInt();\nscanner.nextLine(); // Consume the end-of-line left over from the `nextInt` call.\nList &lt; Cliente &gt; clientes = new ArrayList &lt;&gt;( count );  // When convenient and sensible, specify the initial capacity of a new `ArrayList`.\n\nfor ( int nth = 1 ; nth &lt;= count ; nth++ )\n{\n    // Gather inputs from user-interface.\n    System.out.println( &quot;direccion: &quot; );\n    String d = scanner.nextLine();\n\n    System.out.println( &quot;credito: &quot; );\n    double c = scanner.nextDouble();\n    scanner.nextLine(); // Consume the end-of-line left over from the `nextDouble` call.\n\n    // Instantiate business object.\n    Cliente cliente = new Cliente( nth , d , c );\n    clientes.add( cliente );\n}\nSystem.out.println( clientes );\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>How many?\n3\ndireccion: \none\ncredito: \n1.1\ndireccion: \ntwo\ncredito: \n2.2\ndireccion: \nthree\ncredito: \n3.3\n[Cliente[nombre=1, direccion=one, credito=1.1], Cliente[nombre=2, direccion=two, credito=2.2], Cliente[nombre=3, direccion=three, credito=3.3]]\n</code></pre>\n"}],"owner":{"account_id":28140599,"reputation":13,"user_id":21503714,"display_name":"Nicolas Ramos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75859538,"answer_count":2,"score":1,"last_activity_date":1679949430,"creation_date":1679942172,"question_id":75859246,"body_markdown":"Good morning, I&#39;m learning Java, I had a problem and I don&#39;t know what the solution is... I want to add a certain amount of data (name, address, money) to an arraylist, I do a for loop for this and when executing the Variable reading is not done correctly.\r\nWhen I use nextLine to read variable 0, the program jumps to 1, so I don&#39;t enter the amount of information I want\r\nNow, when I use next() this doesn&#39;t happen, but when I want to enter a space-separated name as data, the same jump is done as if I were using nextLine... does anyone have any recommendations?\r\narrays\r\n\r\nmy code is not finished since I can&#39;t go from here\r\n\r\n```java\r\npublic static void main(String\\[\\] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    List &lt;Cliente&gt; lista = new ArrayList&lt;Cliente&gt;(); //declaracion y asignacion del ArrayList\r\n    Cliente clie = new Cliente();\r\n\r\n    System.out.println(&quot;De la cantidad de cientes a ingresar: &quot;);\r\n    int n = sc.nextInt();\r\n    \r\n    for (int i = 0; i &lt; n; i ++) {\r\n        //lista.add(new Cliente(&quot;nico&quot;,&quot;ramos &quot;,1,25000));\r\n        System.out.println(&quot;Al cliente se le asigno un numero de cliente&quot;);\r\n        clie.setCodigoCliente(i);\r\n        System.out.println(&quot;Ingrese el nombre del cliente &quot; +i);\r\n        String nom;\r\n        clie.setNombre(nom = sc.nextLine());\r\n        System.out.println(&quot;Ingrese la direccion del cliente &quot;+i);\r\n        String direccion;\r\n        clie.setDireccion(direccion = sc.nextLine());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Cliente {\r\n\r\n    int codCliente;\r\n    String nombre;\r\n    String direccion;\r\n    double credito;\r\n\r\n    public Cliente() { }\r\n\r\n    public Cliente(String nombre, String direccion, double credito) {\r\n        // this.codCliente = codCliente;\r\n        this.nombre = nombre;\r\n        this.direccion = direccion;\r\n        this.credito = credito;\r\n    }\r\n\r\n    // Getters and setters omitted for brevity\r\n\r\n}\r\n```","title":"problem scan variable to add to arraylist","body":"<p>Good morning, I'm learning Java, I had a problem and I don't know what the solution is... I want to add a certain amount of data (name, address, money) to an arraylist, I do a for loop for this and when executing the Variable reading is not done correctly.\nWhen I use nextLine to read variable 0, the program jumps to 1, so I don't enter the amount of information I want\nNow, when I use next() this doesn't happen, but when I want to enter a space-separated name as data, the same jump is done as if I were using nextLine... does anyone have any recommendations?\narrays</p>\n<p>my code is not finished since I can't go from here</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String\\[\\] args) {\n    Scanner sc = new Scanner(System.in);\n    List &lt;Cliente&gt; lista = new ArrayList&lt;Cliente&gt;(); //declaracion y asignacion del ArrayList\n    Cliente clie = new Cliente();\n\n    System.out.println(&quot;De la cantidad de cientes a ingresar: &quot;);\n    int n = sc.nextInt();\n    \n    for (int i = 0; i &lt; n; i ++) {\n        //lista.add(new Cliente(&quot;nico&quot;,&quot;ramos &quot;,1,25000));\n        System.out.println(&quot;Al cliente se le asigno un numero de cliente&quot;);\n        clie.setCodigoCliente(i);\n        System.out.println(&quot;Ingrese el nombre del cliente &quot; +i);\n        String nom;\n        clie.setNombre(nom = sc.nextLine());\n        System.out.println(&quot;Ingrese la direccion del cliente &quot;+i);\n        String direccion;\n        clie.setDireccion(direccion = sc.nextLine());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cliente {\n\n    int codCliente;\n    String nombre;\n    String direccion;\n    double credito;\n\n    public Cliente() { }\n\n    public Cliente(String nombre, String direccion, double credito) {\n        // this.codCliente = codCliente;\n        this.nombre = nombre;\n        this.direccion = direccion;\n        this.credito = credito;\n    }\n\n    // Getters and setters omitted for brevity\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","api","pgadmin"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1679941077,"post_id":75859046,"comment_id":133807912,"body_markdown":"Are you sure?: `@OneToMany\n    @JoinColumn(name = &quot;product_id&quot;)`","body":"Are you sure?: <code>@OneToMany     @JoinColumn(name = &quot;product_id&quot;)</code>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679941217,"post_id":75859046,"comment_id":133807951,"body_markdown":"What is wrong?.","body":"What is wrong?."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1679941377,"post_id":75859046,"comment_id":133807989,"body_markdown":"I don&#39;t use spring-boot, but that looks like it is setting up a FK on `product_id` between `products` and `orders`. Use `psql` to look at the tables in the database to verify.","body":"I don&#39;t use spring-boot, but that looks like it is setting up a FK on <code>product_id</code> between <code>products</code> and <code>orders</code>. Use <code>psql</code> to look at the tables in the database to verify."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679941525,"post_id":75859046,"comment_id":133808013,"body_markdown":"But how could I make that not happen?","body":"But how could I make that not happen?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1679942163,"post_id":75859046,"comment_id":133808176,"body_markdown":"The question is do you really want to remove it? It seems logical that the products in an order refer via FK to a table of products. That way the order can only have products that exist.","body":"The question is do you really want to remove it? It seems logical that the products in an order refer via FK to a table of products. That way the order can only have products that exist."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679942239,"post_id":75859046,"comment_id":133808194,"body_markdown":"Yes, but I can&#39;t create a product so that it can be called by orders in the future. I don&#39;t know why this is happening now as before it was working normally","body":"Yes, but I can&#39;t create a product so that it can be called by orders in the future. I don&#39;t know why this is happening now as before it was working normally"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1679942436,"post_id":75859046,"comment_id":133808244,"body_markdown":"Huh? A product needs to exist before you can sell it.","body":"Huh? A product needs to exist before you can sell it."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679942691,"post_id":75859046,"comment_id":133808317,"body_markdown":"Yes, but I can&#39;t create it","body":"Yes, but I can&#39;t create it"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1679942887,"post_id":75859046,"comment_id":133808371,"body_markdown":"How is &quot;fkselc31gul05wygg2llkv0v3yb&quot; defined?","body":"How is &quot;fkselc31gul05wygg2llkv0v3yb&quot; defined?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679942924,"post_id":75859046,"comment_id":133808380,"body_markdown":"Honestly I have no idea... How can I find this out?","body":"Honestly I have no idea... How can I find this out?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1679946536,"post_id":75859046,"comment_id":133809149,"body_markdown":"Then where are you getting the product_id `9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8` from? Bottom line you should not be able to sell an item that does not exist and that is what the FK is guarding against. Again use [psql](https://www.postgresql.org/docs/current/app-psql.html) to look at the tables in the database directly without all the ORM nonsense in the way.","body":"Then where are you getting the product_id <code>9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8</code> from? Bottom line you should not be able to sell an item that does not exist and that is what the FK is guarding against. Again use <a href=\"https://www.postgresql.org/docs/current/app-psql.html\" rel=\"nofollow noreferrer\">psql</a> to look at the tables in the database directly without all the ORM nonsense in the way."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679943264,"creation_date":1679943264,"answer_id":75859382,"question_id":75859046,"body_markdown":"I think that you are trying to modify a product ID and that the error in what ever DB you are using is misleading:\r\n\r\n    ERROR: insert or update on table &quot;products&quot; violates foreign key constraint &quot;fkselc31gul05wygg2llkv0v3yb&quot;\r\n    Detail: Key (product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8) is not present in table &quot;orders&quot;.\r\n\r\nI think that because `orders` is referencing products in `List&lt;ProductModel&gt; products`, it is telling you that `in table &quot;orders&quot;` the `foreign key constraint` is being violated by an attempted change to `(product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8)`.\r\n\r\nIf you want to change product IDs, then you also have to make those changes cascading.","title":"insert or update on table &quot;products&quot; violates foreign key (Postgresql spring boot) error","body":"<p>I think that you are trying to modify a product ID and that the error in what ever DB you are using is misleading:</p>\n<pre><code>ERROR: insert or update on table &quot;products&quot; violates foreign key constraint &quot;fkselc31gul05wygg2llkv0v3yb&quot;\nDetail: Key (product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8) is not present in table &quot;orders&quot;.\n</code></pre>\n<p>I think that because <code>orders</code> is referencing products in <code>List&lt;ProductModel&gt; products</code>, it is telling you that <code>in table &quot;orders&quot;</code> the <code>foreign key constraint</code> is being violated by an attempted change to <code>(product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8)</code>.</p>\n<p>If you want to change product IDs, then you also have to make those changes cascading.</p>\n"},{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679943792,"creation_date":1679943792,"answer_id":75859466,"question_id":75859046,"body_markdown":"**I believe what you are trying to do here is to establish a unidirectional one-to-many relationship between ORDERS and PRODUCTS table i.e. one order may be having multiple products.**\r\nSo ideally your join column should be something like order_id rather than product_id since that would be the FK in PRODUCTS table referring to the order_id entries of ORDERS table. After, changing the Join column, you can also add **cascading** so that changes in ORDERS table are cascaded according to your use case to PRODUCTS table as well.\r\n\r\nHere are some good references you can use for reference on creating unidirectional One-To-Many relationship using Hibernate and Springboot.\r\n\r\n&lt;https://www.bezkoder.com/jpa-one-to-many-unidirectional/&gt;\r\n\r\nFurthermore, if you want orders info in ProductModel Objects I would recommend you to create a **OneToMany bidirectional relationship** using  OrderModel member in ProductModel Class.","title":"insert or update on table &quot;products&quot; violates foreign key (Postgresql spring boot) error","body":"<p><strong>I believe what you are trying to do here is to establish a unidirectional one-to-many relationship between ORDERS and PRODUCTS table i.e. one order may be having multiple products.</strong>\nSo ideally your join column should be something like order_id rather than product_id since that would be the FK in PRODUCTS table referring to the order_id entries of ORDERS table. After, changing the Join column, you can also add <strong>cascading</strong> so that changes in ORDERS table are cascaded according to your use case to PRODUCTS table as well.</p>\n<p>Here are some good references you can use for reference on creating unidirectional One-To-Many relationship using Hibernate and Springboot.</p>\n<p><a href=\"https://www.bezkoder.com/jpa-one-to-many-unidirectional/\" rel=\"nofollow noreferrer\">https://www.bezkoder.com/jpa-one-to-many-unidirectional/</a></p>\n<p>Furthermore, if you want orders info in ProductModel Objects I would recommend you to create a <strong>OneToMany bidirectional relationship</strong> using  OrderModel member in ProductModel Class.</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75859466,"answer_count":2,"score":1,"last_activity_date":1679949157,"creation_date":1679940681,"question_id":75859046,"body_markdown":"I have an api in spring boot and I decided to create a model order, but I found some database errors and I decided to enter my pg admin and delete all the tables and start over, but now when I request my model product I find the error:\r\n\r\n\r\n```\r\n2023-03-27T15:00:48.189-03:00  WARN 31677 --- [nio-8011-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503\r\n2023-03-27T15:00:48.190-03:00 ERROR 31677 --- [nio-8011-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: insert or update on table &quot;products&quot; violates foreign key constraint &quot;fkselc31gul05wygg2llkv0v3yb&quot;\r\n  Detail: Key (product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8) is not present in table &quot;orders&quot;.\r\n2023-03-27T15:00:48.231-03:00  INFO 31677 --- [nio-8011-exec-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n```\r\n\r\nI already tried to remove all the tables, I also tried to create another database and delete the old one, but I still get the same error\r\n\r\n\r\norderModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;ORDERS&quot;)\r\npublic class OrderModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID order_id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private CustomerModel customer;\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private List&lt;ProductModel&gt; products;\r\n    @Column(nullable = false, length = 80)\r\n    private Float totalAmount;\r\n\r\n    public UUID getOrder_id() {\r\n        return order_id;\r\n    }\r\n\r\n    public void setOrder_id(UUID order_id) {\r\n        this.order_id = order_id;\r\n    }\r\n\r\n    public CustomerModel getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public void setCustomer(CustomerModel customer) {\r\n        this.customer = customer;\r\n    }\r\n\r\n    public List&lt;ProductModel&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;ProductModel&gt; products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public Float getTotalAmount() {\r\n        return totalAmount;\r\n    }\r\n\r\n    public void setTotalAmount(Float totalAmount) {\r\n        this.totalAmount = totalAmount;\r\n    }\r\n}\r\n\r\n``` \r\n\r\nproductModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCTS&quot;)\r\npublic class ProductModel {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID product_id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String product;\r\n    @Column(nullable = true, length = 200)\r\n    private String image_url;\r\n    @Column(nullable = true, length = 80)\r\n    private String brand;\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n    @Column(nullable = true, length = 80)\r\n    private Float price;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private Float extraPrice;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Integer stock;\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private CategoryModel productCategory;\r\n\r\n    public UUID getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(UUID product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getImage_url() {\r\n        return image_url;\r\n    }\r\n\r\n    public void setImage_url(String image_url) {\r\n        this.image_url = image_url;\r\n    }\r\n\r\n    public String getBrand() {\r\n        return brand;\r\n    }\r\n\r\n    public void setBrand(String brand) {\r\n        this.brand = brand;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryModel getProductCategory() {\r\n        return productCategory;\r\n    }\r\n\r\n    public void setProductCategory(CategoryModel productCategory) {\r\n        this.productCategory = productCategory;\r\n    }\r\n\r\n    public Float getExtraPrice() {\r\n        return extraPrice;\r\n    }\r\n\r\n    public void setExtraPrice(Float extraPrice) {\r\n        this.extraPrice = extraPrice;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI don&#39;t know what the reaction would be, because as you guys can see, my product doesn&#39;t depend on anything order to be created\r\n\r\nupdate!\r\n\r\npostman return:\r\n\r\n```\r\n{\r\n    &quot;order_id&quot;: &quot;982f2270-28fa-4dcf-ba24-89b2c9f18bb5&quot;,\r\n    &quot;customer&quot;: {\r\n        &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;,\r\n        &quot;name&quot;: &quot;Antoni Ancelotti&quot;,\r\n        &quot;description&quot;: &quot;italian&quot;,\r\n        &quot;cellphone&quot;: &quot;21 8494944&quot;,\r\n        &quot;email&quot;: &quot;ancelotti@email.com&quot;,\r\n        &quot;note&quot;: &quot;ok&quot;\r\n    },\r\n    &quot;products&quot;: [\r\n        {\r\n            &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;,\r\n            &quot;product&quot;: null,\r\n            &quot;image_url&quot;: null,\r\n            &quot;brand&quot;: null,\r\n            &quot;description&quot;: null,\r\n            &quot;price&quot;: null,\r\n            &quot;extraPrice&quot;: null,\r\n            &quot;stock&quot;: null\r\n        },\r\n        {\r\n            &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;,\r\n            &quot;product&quot;: &quot;Galaxy A13 128 GB Slim&quot;,\r\n            &quot;image_url&quot;: &quot;/products/images/e40989d2-66g8-4531-be26-00c124a8dfd6-SM-A136UZRAATT-8.webp&quot;,\r\n            &quot;brand&quot;: null,\r\n            &quot;description&quot;: &quot;galaxy&quot;,\r\n            &quot;price&quot;: 50.0,\r\n            &quot;extraPrice&quot;: null,\r\n            &quot;stock&quot;: 50\r\n        }\r\n    ],\r\n    &quot;totalAmount&quot;: 1800.0\r\n}\r\n```","title":"insert or update on table &quot;products&quot; violates foreign key (Postgresql spring boot) error","body":"<p>I have an api in spring boot and I decided to create a model order, but I found some database errors and I decided to enter my pg admin and delete all the tables and start over, but now when I request my model product I find the error:</p>\n<pre><code>2023-03-27T15:00:48.189-03:00  WARN 31677 --- [nio-8011-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23503\n2023-03-27T15:00:48.190-03:00 ERROR 31677 --- [nio-8011-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: insert or update on table &quot;products&quot; violates foreign key constraint &quot;fkselc31gul05wygg2llkv0v3yb&quot;\n  Detail: Key (product_id)=(9c2655d0-c5a4-45f1-ba97-8b5fe1a385d8) is not present in table &quot;orders&quot;.\n2023-03-27T15:00:48.231-03:00  INFO 31677 --- [nio-8011-exec-6] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n</code></pre>\n<p>I already tried to remove all the tables, I also tried to create another database and delete the old one, but I still get the same error</p>\n<p>orderModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport jakarta.persistence.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;ORDERS&quot;)\npublic class OrderModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID order_id;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private CustomerModel customer;\n    @OneToMany\n    @JoinColumn(name = &quot;product_id&quot;)\n    private List&lt;ProductModel&gt; products;\n    @Column(nullable = false, length = 80)\n    private Float totalAmount;\n\n    public UUID getOrder_id() {\n        return order_id;\n    }\n\n    public void setOrder_id(UUID order_id) {\n        this.order_id = order_id;\n    }\n\n    public CustomerModel getCustomer() {\n        return customer;\n    }\n\n    public void setCustomer(CustomerModel customer) {\n        this.customer = customer;\n    }\n\n    public List&lt;ProductModel&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;ProductModel&gt; products) {\n        this.products = products;\n    }\n\n    public Float getTotalAmount() {\n        return totalAmount;\n    }\n\n    public void setTotalAmount(Float totalAmount) {\n        this.totalAmount = totalAmount;\n    }\n}\n\n</code></pre>\n<p>productModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;PRODUCTS&quot;)\npublic class ProductModel {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID product_id;\n\n    @Column(nullable = false, length = 80)\n    private String product;\n    @Column(nullable = true, length = 200)\n    private String image_url;\n    @Column(nullable = true, length = 80)\n    private String brand;\n    @Column(nullable = true, length = 80)\n    private String description;\n    @Column(nullable = true, length = 80)\n    private Float price;\n\n    @Column(nullable = true, length = 80)\n    private Float extraPrice;\n\n    @Column(nullable = false, length = 80)\n    private Integer stock;\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryModel productCategory;\n\n    public UUID getProduct_id() {\n        return product_id;\n    }\n\n    public void setProduct_id(UUID product_id) {\n        this.product_id = product_id;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getImage_url() {\n        return image_url;\n    }\n\n    public void setImage_url(String image_url) {\n        this.image_url = image_url;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryModel getProductCategory() {\n        return productCategory;\n    }\n\n    public void setProductCategory(CategoryModel productCategory) {\n        this.productCategory = productCategory;\n    }\n\n    public Float getExtraPrice() {\n        return extraPrice;\n    }\n\n    public void setExtraPrice(Float extraPrice) {\n        this.extraPrice = extraPrice;\n    }\n}\n\n</code></pre>\n<p>I don't know what the reaction would be, because as you guys can see, my product doesn't depend on anything order to be created</p>\n<p>update!</p>\n<p>postman return:</p>\n<pre><code>{\n    &quot;order_id&quot;: &quot;982f2270-28fa-4dcf-ba24-89b2c9f18bb5&quot;,\n    &quot;customer&quot;: {\n        &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;,\n        &quot;name&quot;: &quot;Antoni Ancelotti&quot;,\n        &quot;description&quot;: &quot;italian&quot;,\n        &quot;cellphone&quot;: &quot;21 8494944&quot;,\n        &quot;email&quot;: &quot;ancelotti@email.com&quot;,\n        &quot;note&quot;: &quot;ok&quot;\n    },\n    &quot;products&quot;: [\n        {\n            &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;,\n            &quot;product&quot;: null,\n            &quot;image_url&quot;: null,\n            &quot;brand&quot;: null,\n            &quot;description&quot;: null,\n            &quot;price&quot;: null,\n            &quot;extraPrice&quot;: null,\n            &quot;stock&quot;: null\n        },\n        {\n            &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;,\n            &quot;product&quot;: &quot;Galaxy A13 128 GB Slim&quot;,\n            &quot;image_url&quot;: &quot;/products/images/e40989d2-66g8-4531-be26-00c124a8dfd6-SM-A136UZRAATT-8.webp&quot;,\n            &quot;brand&quot;: null,\n            &quot;description&quot;: &quot;galaxy&quot;,\n            &quot;price&quot;: 50.0,\n            &quot;extraPrice&quot;: null,\n            &quot;stock&quot;: 50\n        }\n    ],\n    &quot;totalAmount&quot;: 1800.0\n}\n</code></pre>\n"},{"tags":["java","html"],"owner":{"account_id":28110738,"reputation":1,"user_id":21478543,"display_name":"Alexandra Small"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679948800,"creation_date":1679677615,"question_id":75836465,"body_markdown":"So basically i created a buzzfeed type quizzes on HTML / javascript code ( do this quiz to find out what character you are) . The issue I&#39;m having is I don&#39;t know how the &quot;weigh&quot; the responses of the quiz taker to show the desired response i.e the character they get from the answers they chose ex if they choose answer a and c for question 1 and 2 they get = blank character. I have 10 questions all with 4 options to choose from and 4 possible results. Please let me know if you need any additional information. I am very new to this please be kind :) \r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;&lt;head&gt;\r\n&lt;title&gt;TO DO: Shrek Character Quiz ? &lt;/title&gt;    \r\n&lt;style&gt;\r\n\r\n  /* this style just aligns answers vertically */\r\n  .choice { display: block; }\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;p&gt;\r\n&lt;script&gt;// &lt;![CDATA[\r\n\r\n/****************\r\nWEIGHTS GO BELOW\r\n*****************/\r\n\r\nvar weights = [\r\n   // Question 1\r\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 2\r\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 3\r\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  // Question 4\r\n [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?.?]]\r\n\r\n  // Question 5\r\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 6\r\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 7\r\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 8\r\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 9\r\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n  // Question 10\r\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\r\n  \r\n]\r\n\r\n/*\r\n  If you want to see all of the possible results at the same time,\r\n  (to help you edit your page) modify the following to be:\r\n  var always_show = true\r\n  \r\n  To make the page work properly, it should be:\r\n  var always_show = false\r\n*/\r\n\r\nvar always_show = false\r\n// ]]&gt;&lt;/script&gt;\r\n&lt;p&gt; Take the quiz below to find out which character from &lt;i&gt; Shrek &lt;/i&gt; are you ? &lt;/p&gt;\r\n&lt;ol&gt;&lt;!------------------\r\nQUESTIONS GO BELOW\r\n----------------------&gt; \r\n&lt;!--Question 1--&gt;\r\n&lt;li&gt; If you were from the medieval times &amp;#127984; you would be the... &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a1&quot;&gt;King&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a2&quot;&gt;Queen&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a3&quot;&gt;Court Jester&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a4&quot;&gt;Recluse in the woods&lt;/label&gt; &lt;/li&gt;\r\n\r\n&lt;!--Question 2--&gt;\r\n&lt;li&gt;Pick something to eat &amp;#127860;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a1&quot;&gt;French onion soup&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a2&quot;&gt;Waffles!&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a3&quot;&gt;Tacos&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a4&quot;&gt;Cake&lt;/label&gt;&lt;/li&gt;\r\n\r\n&lt;!--Question 3--&gt;&lt;/li&gt;\r\n&lt;li&gt;Your favourite person in the world is &amp;#129392;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a1&quot;&gt; Yourself,Duh!&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a2&quot;&gt;Your Partner &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a3&quot;&gt;Your best friend&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a4&quot;&gt; No-one&lt; &lt;/label&gt;&lt;/li&gt;\r\n\r\n&lt;!--Question 4--&gt;&lt;/li&gt;\r\n&lt;li&gt;You just got invited to a party tonight what are you bringing? &amp;#127882;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a1&quot;&gt;Chips and dip&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a2&quot;&gt;A nice bottle of wine for the host&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a3&quot;&gt;Nothing! they should be grateful for my presence&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a4&quot;&gt; A Disco Ball&lt;/label&gt;&lt;/li&gt;\r\n\r\n&lt;!--Question 5--&gt;&lt;/li&gt;\r\n&lt;li&gt;You&#39;ve just made a new friend &amp;#128522; and they ask you for your Instagram your response is... &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a1&quot;&gt;“Sure give me your username and I&#39;ll request you right now !”&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a2&quot;&gt;“Instagram?.. what&#39;s that?&quot;&quot;&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a3&quot;&gt;“Sorry im not accepting any new followers at this time” &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a4&quot;&gt; &quot;Yay! now I have 2 followers you and my mom&quot;&lt;/label&gt; &lt;/li&gt;\r\n\r\n&lt;!--Question 6--&gt;&lt;/li&gt;\r\n&lt;li&gt;Your worst trait is ... &amp;#128556; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a1&quot;&gt; Your pride &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a2&quot;&gt;Your ego&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a3&quot;&gt;Your naivety &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a4&quot;&gt; Your over-sensitivity&lt;/label&gt; &lt;/li&gt;\r\n\r\n&lt;!--Question 7--&gt;&lt;/li&gt;\r\n&lt;li&gt;Your favourite Holiday is...&amp;#10024;&lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a1&quot;&gt;Christmas&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a2&quot;&gt;Halloween&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a3&quot;&gt;Thanksgiving&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a4&quot;&gt; Valentine&#39;s Day&lt;/label&gt;&lt;/li&gt;\r\n\r\n&lt;!--Question 8--&gt;&lt;/li&gt;\r\n&lt;li&gt;What&#39;s one thing you would bring on a stranded island ? &amp;#127965; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a1&quot;&gt;First Aid Kit&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a2&quot;&gt;Book of Memes to laugh at&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a3&quot;&gt;A weapon&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a4&quot;&gt;A tent&lt;/label&gt;&lt;/li&gt;\r\n\r\n&lt;!--Question 9--&gt;&lt;/li&gt;\r\n&lt;li&gt;What is your favourite Movie genre? &amp;#127902; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a1&quot;&gt;Rom-Coms&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a2&quot;&gt;Action&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a3&quot;&gt;Comedy&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a4&quot;&gt;Adventure&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a5&quot;&gt;Horror&lt;/label&gt; &lt;/li&gt;\r\n\r\n&lt;!--Question 10--&gt;&lt;/li&gt;\r\n&lt;li&gt;Your ideal home would be... &amp;#127968; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a1&quot;&gt; A palace &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a2&quot;&gt; A cabin in the woods &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a3&quot;&gt; A beach house &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a4&quot;&gt; A brownstone &lt;/label&gt; &lt;/li&gt;\r\n&lt;/ol&gt;\r\n&lt;/ol&gt;\r\n\r\n&lt;p&gt;&lt;!--Submit Button--&gt; &lt;button type=&quot;button&quot; onclick=&quot;select()&quot;&gt;Click here to complete the quiz!&lt;/button&gt;&lt;/p&gt;\r\n&lt;div id=&quot;incomplete&quot;&gt;\r\n&lt;p&gt;You have not answered all of the questions yet.&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;p&gt;&lt;!---------------\r\nRESULTS GO BELOW\r\n------------------&gt; &lt;!--Result 1--&gt;&lt;/p&gt;\r\n&lt;div id=&quot;r1&quot;&gt;\r\n&lt;p&gt;You are &lt;i&gt; Shrek &lt;/i&gt;. You are the unwilling leader of the group. You may seem uncaring and distant to others but you simply value your alone time and you dont have the time for manners. Despite this, you always show up for those you care about when it counts.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;&lt;!--Result 2--&gt;&lt;/p&gt;\r\n&lt;div id=&quot;r2&quot;&gt;\r\n&lt;p&gt;You are &lt;i&gt; Princess Fiona &lt;i&gt;. You are the calm and rational mind amongst your group of friends. You are very studious and always plan things carefully. Because of this, friends will always come to you for advice.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;&lt;!--Result 3--&gt;&lt;/p&gt;\r\n&lt;div id=&quot;r3&quot;&gt;\r\n&lt;p&gt;You are &lt;i&gt;Donkey &lt;/i&gt;. You love your family (despite saying otherwise) and are fiercely loyal to them as well as your friends. You don&#39;t care much about grades and care more about having fun with your mates.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;&lt;!--Result 4--&gt;&lt;/p&gt;\r\n&lt;div id=&quot;r4&quot;&gt;\r\n&lt;p&gt;You are &lt;i&gt; Puss in Boots&lt;/i&gt;. You are frequently misunderstood by those around you. Though to both your friends and enemies you appear to be very self-assured, this is only a fa&#231;ade. Deep down inside you are very unsure with yourself.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\njavascript code \r\n&lt;script&gt;// &lt;![CDATA[\r\n\r\nvar verbose = true\r\n\r\nvar num_selections = 0\r\nwhile (1) {\r\n  var e = document.getElementById(&#39;r&#39; + (num_selections + 1))\r\n  if (e === null) break\r\n  ++num_selections\r\n}\r\nif (num_selections == 0) window.alert(&#39;unexpected: no section ids (r1, r2, etc.)&#39;)\r\nif (verbose) console.log(&#39;num_selections = &#39; + num_selections)\r\n\r\nnum_questions = 0\r\nwhile (1) {\r\n  var e = document.getElementsByName(&#39;q&#39; + (num_questions + 1))\r\n  if (e.length == 0) break\r\n  ++num_questions\r\n  if (e.length &lt; 2) window.alert(&#39;unexpected: q&#39; + num_questions + &#39; has less than 2 answers&#39;)\r\n}\r\nif (num_questions == 0) window.alert(&#39;unexpected: no question names (q1, q2, etc.)&#39;)\r\nif (verbose) console.log(&#39;num_questions = &#39; + num_questions)\r\n\r\nfunction hide_selections() {\r\n  if (!always_show) {\r\n    if (verbose) console.log(&#39;hide_selections()&#39;)\r\n    document.getElementById(&#39;incomplete&#39;).style.display = &#39;none&#39;\r\n    for (var s=1; s &lt;= num_selections; ++s) {\r\n      document.getElementById(&#39;r&#39; + s).style.display = &#39;none&#39;\r\n    }\r\n  }\r\n}\r\n\r\nhide_selections()\r\n\r\nfunction select() {\r\n  if (verbose) console.log(&#39;select()&#39;)\r\n  hide_selections()\r\n  var incomplete = false  \r\n  var scores = new Array(num_selections)\r\n  for (var s = 1; s &lt;= num_selections; ++s) scores[s-1] = 0\r\n  for (var q = 1; q &lt;= num_questions; ++q) {\r\n    var answers = document.getElementsByName(&#39;q&#39; + q)\r\n    var choice = false\r\n    for (var a = 0; a &lt; answers.length; ++a) {\r\n      if (answers[a].checked) {\r\n        choice = answers[a].value\r\n        break\r\n      }\r\n    }\r\n    if (choice === false) {\r\n      incomplete = true\r\n      break\r\n    }\r\n    if (verbose) console.log(&#39;q&#39; + q + &#39;: answer = &#39; + choice)\r\n    var answer = choice.substr(1)\r\n    for (var s = 1; s &lt;= num_selections; ++s) {\r\n      var w = weights[q-1][answer-1][s-1]\r\n      if (typeof w === &#39;undefined&#39;) window.alert(&#39;error: could not find weight for q&#39; + q + &#39;a&#39; + answer + &#39;r&#39; + s)\r\n      scores[s-1] += w\r\n      if (verbose) console.log(&#39;score[&#39; + s + &#39;] += &#39; + w) \r\n    }\r\n  }\r\n  if (incomplete) {\r\n    if (verbose) console.log(&#39;incomplete&#39;)\r\n    document.getElementById(&#39;incomplete&#39;).style.display = &#39;block&#39;\r\n  } else {\r\n    var maxscore = Number.MIN_VALUE\r\n    var pick = 0\r\n    for (var s = 1; s &lt;= num_selections; ++s) {\r\n      if (verbose) console.log(&#39;score[&#39; + s + &#39;] == &#39; + scores[s-1])\r\n      if (scores[s-1] &gt; maxscore) {\r\n        pick = s\r\n        maxscore = scores[s-1]\r\n      }\r\n    }\r\n    if (verbose) console.log(&#39;pick = r&#39; + pick)\r\n    document.getElementById(&#39;r&#39; + pick).style.display = &#39;block&#39;\r\n  }\r\n}\r\n// ]]&gt;&lt;/script&gt;\r\n&lt;/p&gt;\r\n&lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\nI have tried assigning random numbers to the weighting but i keep getting only one of my results. ","title":"How to &quot; Weight &quot; the responses of a quiz to display the appropriate result","body":"<p>So basically i created a buzzfeed type quizzes on HTML / javascript code ( do this quiz to find out what character you are) . The issue I'm having is I don't know how the &quot;weigh&quot; the responses of the quiz taker to show the desired response i.e the character they get from the answers they chose ex if they choose answer a and c for question 1 and 2 they get = blank character. I have 10 questions all with 4 options to choose from and 4 possible results. Please let me know if you need any additional information. I am very new to this please be kind :)</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;TO DO: Shrek Character Quiz ? &lt;/title&gt;    \n&lt;style&gt;\n\n  /* this style just aligns answers vertically */\n  .choice { display: block; }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;\n&lt;script&gt;// &lt;![CDATA[\n\n/****************\nWEIGHTS GO BELOW\n*****************/\n\nvar weights = [\n   // Question 1\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 2\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 3\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  // Question 4\n [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?.?]]\n\n  // Question 5\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 6\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 7\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 8\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 9\n   [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n  // Question 10\n  [[?,?,?,?], [?,?,?,?], [?,?,?,?], [?,?,?,?]]\n  \n]\n\n/*\n  If you want to see all of the possible results at the same time,\n  (to help you edit your page) modify the following to be:\n  var always_show = true\n  \n  To make the page work properly, it should be:\n  var always_show = false\n*/\n\nvar always_show = false\n// ]]&gt;&lt;/script&gt;\n&lt;p&gt; Take the quiz below to find out which character from &lt;i&gt; Shrek &lt;/i&gt; are you ? &lt;/p&gt;\n&lt;ol&gt;&lt;!------------------\nQUESTIONS GO BELOW\n----------------------&gt; \n&lt;!--Question 1--&gt;\n&lt;li&gt; If you were from the medieval times &amp;#127984; you would be the... &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a1&quot;&gt;King&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a2&quot;&gt;Queen&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a3&quot;&gt;Court Jester&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q1&quot; value=&quot;a4&quot;&gt;Recluse in the woods&lt;/label&gt; &lt;/li&gt;\n\n&lt;!--Question 2--&gt;\n&lt;li&gt;Pick something to eat &amp;#127860;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a1&quot;&gt;French onion soup&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a2&quot;&gt;Waffles!&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a3&quot;&gt;Tacos&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q2&quot; value=&quot;a4&quot;&gt;Cake&lt;/label&gt;&lt;/li&gt;\n\n&lt;!--Question 3--&gt;&lt;/li&gt;\n&lt;li&gt;Your favourite person in the world is &amp;#129392;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a1&quot;&gt; Yourself,Duh!&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a2&quot;&gt;Your Partner &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a3&quot;&gt;Your best friend&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q3&quot; value=&quot;a4&quot;&gt; No-one&lt; &lt;/label&gt;&lt;/li&gt;\n\n&lt;!--Question 4--&gt;&lt;/li&gt;\n&lt;li&gt;You just got invited to a party tonight what are you bringing? &amp;#127882;. &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a1&quot;&gt;Chips and dip&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a2&quot;&gt;A nice bottle of wine for the host&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a3&quot;&gt;Nothing! they should be grateful for my presence&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q4&quot; value=&quot;a4&quot;&gt; A Disco Ball&lt;/label&gt;&lt;/li&gt;\n\n&lt;!--Question 5--&gt;&lt;/li&gt;\n&lt;li&gt;You've just made a new friend &amp;#128522; and they ask you for your Instagram your response is... &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a1&quot;&gt;“Sure give me your username and I'll request you right now !”&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a2&quot;&gt;“Instagram?.. what's that?&quot;&quot;&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a3&quot;&gt;“Sorry im not accepting any new followers at this time” &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q5&quot; value=&quot;a4&quot;&gt; &quot;Yay! now I have 2 followers you and my mom&quot;&lt;/label&gt; &lt;/li&gt;\n\n&lt;!--Question 6--&gt;&lt;/li&gt;\n&lt;li&gt;Your worst trait is ... &amp;#128556; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a1&quot;&gt; Your pride &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a2&quot;&gt;Your ego&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a3&quot;&gt;Your naivety &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q6&quot; value=&quot;a4&quot;&gt; Your over-sensitivity&lt;/label&gt; &lt;/li&gt;\n\n&lt;!--Question 7--&gt;&lt;/li&gt;\n&lt;li&gt;Your favourite Holiday is...&amp;#10024;&lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a1&quot;&gt;Christmas&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a2&quot;&gt;Halloween&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a3&quot;&gt;Thanksgiving&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q7&quot; value=&quot;a4&quot;&gt; Valentine's Day&lt;/label&gt;&lt;/li&gt;\n\n&lt;!--Question 8--&gt;&lt;/li&gt;\n&lt;li&gt;What's one thing you would bring on a stranded island ? &amp;#127965; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a1&quot;&gt;First Aid Kit&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a2&quot;&gt;Book of Memes to laugh at&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a3&quot;&gt;A weapon&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q8&quot; value=&quot;a4&quot;&gt;A tent&lt;/label&gt;&lt;/li&gt;\n\n&lt;!--Question 9--&gt;&lt;/li&gt;\n&lt;li&gt;What is your favourite Movie genre? &amp;#127902; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a1&quot;&gt;Rom-Coms&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a2&quot;&gt;Action&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a3&quot;&gt;Comedy&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a4&quot;&gt;Adventure&lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q9&quot; value=&quot;a5&quot;&gt;Horror&lt;/label&gt; &lt;/li&gt;\n\n&lt;!--Question 10--&gt;&lt;/li&gt;\n&lt;li&gt;Your ideal home would be... &amp;#127968; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a1&quot;&gt; A palace &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a2&quot;&gt; A cabin in the woods &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a3&quot;&gt; A beach house &lt;/label&gt; &lt;label class=&quot;choice&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;q10&quot; value=&quot;a4&quot;&gt; A brownstone &lt;/label&gt; &lt;/li&gt;\n&lt;/ol&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&lt;!--Submit Button--&gt; &lt;button type=&quot;button&quot; onclick=&quot;select()&quot;&gt;Click here to complete the quiz!&lt;/button&gt;&lt;/p&gt;\n&lt;div id=&quot;incomplete&quot;&gt;\n&lt;p&gt;You have not answered all of the questions yet.&lt;/p&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;!---------------\nRESULTS GO BELOW\n------------------&gt; &lt;!--Result 1--&gt;&lt;/p&gt;\n&lt;div id=&quot;r1&quot;&gt;\n&lt;p&gt;You are &lt;i&gt; Shrek &lt;/i&gt;. You are the unwilling leader of the group. You may seem uncaring and distant to others but you simply value your alone time and you dont have the time for manners. Despite this, you always show up for those you care about when it counts.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;p&gt;&lt;!--Result 2--&gt;&lt;/p&gt;\n&lt;div id=&quot;r2&quot;&gt;\n&lt;p&gt;You are &lt;i&gt; Princess Fiona &lt;i&gt;. You are the calm and rational mind amongst your group of friends. You are very studious and always plan things carefully. Because of this, friends will always come to you for advice.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;p&gt;&lt;!--Result 3--&gt;&lt;/p&gt;\n&lt;div id=&quot;r3&quot;&gt;\n&lt;p&gt;You are &lt;i&gt;Donkey &lt;/i&gt;. You love your family (despite saying otherwise) and are fiercely loyal to them as well as your friends. You don't care much about grades and care more about having fun with your mates.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;p&gt;&lt;!--Result 4--&gt;&lt;/p&gt;\n&lt;div id=&quot;r4&quot;&gt;\n&lt;p&gt;You are &lt;i&gt; Puss in Boots&lt;/i&gt;. You are frequently misunderstood by those around you. Though to both your friends and enemies you appear to be very self-assured, this is only a façade. Deep down inside you are very unsure with yourself.&lt;/p&gt;\n&lt;/div&gt;\n\njavascript code \n&lt;script&gt;// &lt;![CDATA[\n\nvar verbose = true\n\nvar num_selections = 0\nwhile (1) {\n  var e = document.getElementById('r' + (num_selections + 1))\n  if (e === null) break\n  ++num_selections\n}\nif (num_selections == 0) window.alert('unexpected: no section ids (r1, r2, etc.)')\nif (verbose) console.log('num_selections = ' + num_selections)\n\nnum_questions = 0\nwhile (1) {\n  var e = document.getElementsByName('q' + (num_questions + 1))\n  if (e.length == 0) break\n  ++num_questions\n  if (e.length &lt; 2) window.alert('unexpected: q' + num_questions + ' has less than 2 answers')\n}\nif (num_questions == 0) window.alert('unexpected: no question names (q1, q2, etc.)')\nif (verbose) console.log('num_questions = ' + num_questions)\n\nfunction hide_selections() {\n  if (!always_show) {\n    if (verbose) console.log('hide_selections()')\n    document.getElementById('incomplete').style.display = 'none'\n    for (var s=1; s &lt;= num_selections; ++s) {\n      document.getElementById('r' + s).style.display = 'none'\n    }\n  }\n}\n\nhide_selections()\n\nfunction select() {\n  if (verbose) console.log('select()')\n  hide_selections()\n  var incomplete = false  \n  var scores = new Array(num_selections)\n  for (var s = 1; s &lt;= num_selections; ++s) scores[s-1] = 0\n  for (var q = 1; q &lt;= num_questions; ++q) {\n    var answers = document.getElementsByName('q' + q)\n    var choice = false\n    for (var a = 0; a &lt; answers.length; ++a) {\n      if (answers[a].checked) {\n        choice = answers[a].value\n        break\n      }\n    }\n    if (choice === false) {\n      incomplete = true\n      break\n    }\n    if (verbose) console.log('q' + q + ': answer = ' + choice)\n    var answer = choice.substr(1)\n    for (var s = 1; s &lt;= num_selections; ++s) {\n      var w = weights[q-1][answer-1][s-1]\n      if (typeof w === 'undefined') window.alert('error: could not find weight for q' + q + 'a' + answer + 'r' + s)\n      scores[s-1] += w\n      if (verbose) console.log('score[' + s + '] += ' + w) \n    }\n  }\n  if (incomplete) {\n    if (verbose) console.log('incomplete')\n    document.getElementById('incomplete').style.display = 'block'\n  } else {\n    var maxscore = Number.MIN_VALUE\n    var pick = 0\n    for (var s = 1; s &lt;= num_selections; ++s) {\n      if (verbose) console.log('score[' + s + '] == ' + scores[s-1])\n      if (scores[s-1] &gt; maxscore) {\n        pick = s\n        maxscore = scores[s-1]\n      }\n    }\n    if (verbose) console.log('pick = r' + pick)\n    document.getElementById('r' + pick).style.display = 'block'\n  }\n}\n// ]]&gt;&lt;/script&gt;\n&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n\n\nI have tried assigning random numbers to the weighting but i keep getting only one of my results. \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":326404,"reputation":1584,"user_id":648157,"accept_rate":96,"display_name":"Naveen Babu"},"score":0,"creation_date":1320930496,"post_id":8068470,"comment_id":9902227,"body_markdown":"I hope you are aware of the concept of scope of variable? your variable `data` after `&quot;//some code&quot;` is having a scope of the entire class. while the variable `data` in the constructor is having a scope inside the constructor. and once the constructor is done, the variable will be destroyed. And also the `data` variable inside constructor hides the variable by same name in the class. This justifies the error `Local variable hides a field`","body":"I hope you are aware of the concept of scope of variable? your variable <code>data</code> after <code>&quot;&#47;&#47;some code&quot;</code> is having a scope of the entire class. while the variable <code>data</code> in the constructor is having a scope inside the constructor. and once the constructor is done, the variable will be destroyed. And also the <code>data</code> variable inside constructor hides the variable by same name in the class. This justifies the error <code>Local variable hides a field</code>"}],"answers":[{"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1320860082,"creation_date":1320857570,"answer_id":8068505,"question_id":8068470,"body_markdown":"why not simply \r\n\r\n    public Date(){\r\n        data = new int[]{0,0,0};\r\n    }\r\n\r\nthe reason you got the error is because `int[] data = ...` declares a new variable and hides the field `data`\r\n\r\nhowever it should be noted that the contents of the array are already initialized to 0 (the default value of `int`)","title":"Java Initialize an int array in a constructor","body":"<p>why not simply </p>\n\n<pre><code>public Date(){\n    data = new int[]{0,0,0};\n}\n</code></pre>\n\n<p>the reason you got the error is because <code>int[] data = ...</code> declares a new variable and hides the field <code>data</code></p>\n\n<p>however it should be noted that the contents of the array are already initialized to 0 (the default value of <code>int</code>)</p>\n"},{"tags":[],"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320857571,"creation_date":1320857571,"answer_id":8068507,"question_id":8068470,"body_markdown":"in your constructor you are creating another int array:\r\n\r\n     public Date(){\r\n      int[] data = {0,0,0};\r\n      }\r\n\r\nTry this:\r\n\r\n     data = {0,0,0};\r\n\r\nNOTE: By the way you do NOT need to initialize your array elements if it is declared as an instance variable. Instance variables automatically get their default values, which for an integer array, the default values are all zeroes.\r\n\r\nIf you had locally  declared array though they you would need to initialize each element.","title":"Java Initialize an int array in a constructor","body":"<p>in your constructor you are creating another int array:</p>\n\n<pre><code> public Date(){\n  int[] data = {0,0,0};\n  }\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code> data = {0,0,0};\n</code></pre>\n\n<p>NOTE: By the way you do NOT need to initialize your array elements if it is declared as an instance variable. Instance variables automatically get their default values, which for an integer array, the default values are all zeroes.</p>\n\n<p>If you had locally  declared array though they you would need to initialize each element.</p>\n"},{"tags":[],"owner":{"account_id":473059,"reputation":713,"user_id":881936,"accept_rate":91,"display_name":"Kameron"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1321034896,"creation_date":1320857669,"answer_id":8068528,"question_id":8068470,"body_markdown":"The best way is not to write any initializing statements. This is because if you write \r\n`int a[]=new int[3]` then by default, in Java all the values of array i.e. `a[0]`, `a[1]` and `a[2]` are initialized to `0`! Regarding the local variable hiding a field, post your entire code for us to come to conclusion.","title":"Java Initialize an int array in a constructor","body":"<p>The best way is not to write any initializing statements. This is because if you write \n<code>int a[]=new int[3]</code> then by default, in Java all the values of array i.e. <code>a[0]</code>, <code>a[1]</code> and <code>a[2]</code> are initialized to <code>0</code>! Regarding the local variable hiding a field, post your entire code for us to come to conclusion.</p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":194,"is_accepted":true,"score":194,"last_activity_date":1320860910,"creation_date":1320857700,"answer_id":8068536,"question_id":8068470,"body_markdown":"    private int[] data = new int[3];\r\n\r\nThis already initializes your array elements to 0. You don&#39;t need to repeat that again in the constructor.\r\n\r\nIn your constructor it should be:\r\n\r\n    data = new int[]{0, 0, 0};","title":"Java Initialize an int array in a constructor","body":"<pre><code>private int[] data = new int[3];\n</code></pre>\n\n<p>This already initializes your array elements to 0. You don't need to repeat that again in the constructor.</p>\n\n<p>In your constructor it should be:</p>\n\n<pre><code>data = new int[]{0, 0, 0};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72987,"reputation":3238,"user_id":210445,"accept_rate":70,"display_name":"pillingworth"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1523741361,"creation_date":1320858472,"answer_id":8068736,"question_id":8068470,"body_markdown":"You could either do:\r\n\r\n    public class Data {\r\n        private int[] data;\r\n    \r\n        public Data() {\r\n            data = new int[]{0, 0, 0};\r\n        }\r\n    }\r\n\r\nWhich initializes `data` in the constructor, or:\r\n\r\n    public class Data {\r\n        private int[] data = new int[]{0, 0, 0};\r\n    \r\n        public Data() {\r\n            // data already initialised\r\n        }\r\n    }\r\n\r\nWhich initializes `data` before the code in the constructor is executed.\r\n","title":"Java Initialize an int array in a constructor","body":"<p>You could either do:</p>\n\n<pre><code>public class Data {\n    private int[] data;\n\n    public Data() {\n        data = new int[]{0, 0, 0};\n    }\n}\n</code></pre>\n\n<p>Which initializes <code>data</code> in the constructor, or:</p>\n\n<pre><code>public class Data {\n    private int[] data = new int[]{0, 0, 0};\n\n    public Data() {\n        // data already initialised\n    }\n}\n</code></pre>\n\n<p>Which initializes <code>data</code> before the code in the constructor is executed.</p>\n"},{"tags":[],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1320859213,"creation_date":1320859213,"answer_id":8068909,"question_id":8068470,"body_markdown":"This is because, in the constructor, you declared a local variable with the same name as an attribute. \r\n\r\nTo allocate an integer array which all elements are initialized to zero, write this in the constructor:\r\n\r\n    data = new int[3];\r\n\r\nTo allocate an integer array which has other initial values, put this code in the constructor: \r\n\r\n    int[] temp = {2, 3, 7};\r\n    data = temp;\r\n\r\nor:\r\n\r\n    data = new int[] {2, 3, 7};\r\n ","title":"Java Initialize an int array in a constructor","body":"<p>This is because, in the constructor, you declared a local variable with the same name as an attribute. </p>\n\n<p>To allocate an integer array which all elements are initialized to zero, write this in the constructor:</p>\n\n<pre><code>data = new int[3];\n</code></pre>\n\n<p>To allocate an integer array which has other initial values, put this code in the constructor: </p>\n\n<pre><code>int[] temp = {2, 3, 7};\ndata = temp;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>data = new int[] {2, 3, 7};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28091588,"reputation":1,"user_id":21461011,"display_name":"user21461011"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679947716,"creation_date":1679540719,"answer_id":75818938,"question_id":8068470,"body_markdown":"Please remember that this will change the number of elements in the constructor.\r\nThat is...\r\n\r\n    public class Test\r\n    {\r\n       int[] arr =new int[4];\r\n       int n = arr.length;\r\n       Test()\r\n       { \r\n           arr = new int[]{0,0,0,0,0,0,0};\r\n           n = arr.length;\r\n       }\r\n     }\r\nIn the Constructor, `int[]{0,0,0,0,0,0,0}` will compile successfully even though the limit is 4 because of the `new` keyword.\r\nThe final `n` value is 7.","title":"Java Initialize an int array in a constructor","body":"<p>Please remember that this will change the number of elements in the constructor.\nThat is...</p>\n<pre><code>public class Test\n{\n   int[] arr =new int[4];\n   int n = arr.length;\n   Test()\n   { \n       arr = new int[]{0,0,0,0,0,0,0};\n       n = arr.length;\n   }\n }\n</code></pre>\n<p>In the Constructor, <code>int[]{0,0,0,0,0,0,0}</code> will compile successfully even though the limit is 4 because of the <code>new</code> keyword.\nThe final <code>n</code> value is 7.</p>\n"}],"owner":{"account_id":241308,"reputation":7003,"user_id":1317865,"accept_rate":81,"display_name":"Favolas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573005,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":8068536,"answer_count":7,"score":98,"last_activity_date":1679947716,"creation_date":1320857436,"question_id":8068470,"body_markdown":"I have a class and in that class I have this:\r\n\r\n     //some code\r\n     private int[] data = new int[3];\r\n     //some code\r\n\r\nThen in my constructor:\r\n\r\n    public Date(){\r\n        data[0] = 0;\r\n        data[1] = 0;\r\n        data[2] = 0;\r\n    }\r\n\r\nIf I do this, everything is OK. Default data values are initialized but if I instead do this:\r\n\r\n    public Date(){\r\n        int[] data = {0,0,0};\r\n    }\r\n\r\nIt says:\r\n\r\n    Local variable hides a field\r\n\r\nWhy?\r\n\r\nWhat&#39;s the best way to initialize an array inside the constructor?","title":"Java Initialize an int array in a constructor","body":"<p>I have a class and in that class I have this:</p>\n\n<pre><code> //some code\n private int[] data = new int[3];\n //some code\n</code></pre>\n\n<p>Then in my constructor:</p>\n\n<pre><code>public Date(){\n    data[0] = 0;\n    data[1] = 0;\n    data[2] = 0;\n}\n</code></pre>\n\n<p>If I do this, everything is OK. Default data values are initialized but if I instead do this:</p>\n\n<pre><code>public Date(){\n    int[] data = {0,0,0};\n}\n</code></pre>\n\n<p>It says:</p>\n\n<pre><code>Local variable hides a field\n</code></pre>\n\n<p>Why?</p>\n\n<p>What's the best way to initialize an array inside the constructor?</p>\n"},{"tags":["python","java","logging","pyspark","log4j"],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679947225,"creation_date":1679938444,"question_id":75858726,"body_markdown":"In my development env on my laptop (Ubuntu box), I write my &quot;pyspark code&quot; and run it through `pytest` to test. I inject the spark session that&#39;s created using `SparkSession.builder.getOrCreate()` into my tests. This &quot;pyspark code&quot; has a bunch of log statements at info level. None of them show up anywhere, so I&#39;m forced to write `print()`, which I later remove.\r\n\r\nAll I want is:\r\n* Ability to set log level for all my loggers (`My.*`) \r\n* Write to console and file (appenders)\r\n* Some docs that describe the format specs. `%t, %m, %n, %d{YYYY-MM-DD}, ...`\r\n\r\n\r\n\r\nI read:\r\n* [Configuring Logging][1] in official documentation. It just says add `log4j2.properties`. Could not find any docs on format of `log4j2.properties`. [Sample `log4j2.properties.template`][2] is VERY limited. **NOTE that it says** nothing about using `xml` or other formats, just `properties`.\r\n* [All official log4j2][3] docs point to [the same place][4], which has no docs on contents of `log4j2.properties`. It gives some samples, but those are useless e.g. where do I specify filename for a file appender (not rolling file appender).\r\n* I even tried the [log4j (not log4j2) docs][5], this clearly doesn&#39;t work (`ConfigurationException: No type attribute provided for Appender my_console`).\r\n\r\nI don&#39;t want to figure it out by trial and error. Just looking for docs.\r\n\r\n`my_spark_module.py`\r\n```lang-py\r\nclass MySparkModule:\r\n    def __init__(self, spark):\r\n        self.log = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;My.SparkModule&#39;)\r\n        self.df = spark.createDataFrame([(&#39;data1&#39;, &#39;2022-01-01T00:00:00&#39;), (&#39;data2&#39;, &#39;2022-02-01T00:00:00&#39;)],\r\n            schema=[&#39;data&#39;, &#39;ts_column&#39;])\r\n        self.log.info(&#39;exiting init()&#39;)\r\n\r\n    def get_count(self):\r\n        return self.df.count()\r\n```\r\n`test_my_spark_module.py`\r\n```lang-py\r\nimport pytest\r\nfrom pyspark.sql import SparkSession\r\n\r\n@pytest.fixture(autouse=True, scope=&#39;module&#39;)\r\ndef spark_session():\r\n    return SparkSession.builder.getOrCreate()\r\n\r\n\r\nclass TestMySparkModule:\r\n    def test_tables(self):\r\n        spark_session = SparkSession.builder.getOrCreate()\r\n        log = spark_session.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;My.TestMySparkModule&#39;)\r\n        log.info(&#39;something I wanted to log&#39;)\r\n        \r\n        assert MySparkModule(spark_session).get_count() == 1, &#39;expected count to be 1&#39;\r\n```\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/configuration.html#configuring-logging\r\n  [2]: https://github.com/apache/spark/blob/master/conf/log4j2.properties.template\r\n  [3]: https://duckduckgo.com/?q=%22log4j2.properties%22%20site%3Alogging.apache.org\r\n  [4]: https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\r\n  [5]: https://logging.apache.org/log4j/1.2/manual.html#configuration","title":"Configuring log4j with IDE / pyspark shell to log to console and file using properties file","body":"<p>In my development env on my laptop (Ubuntu box), I write my &quot;pyspark code&quot; and run it through <code>pytest</code> to test. I inject the spark session that's created using <code>SparkSession.builder.getOrCreate()</code> into my tests. This &quot;pyspark code&quot; has a bunch of log statements at info level. None of them show up anywhere, so I'm forced to write <code>print()</code>, which I later remove.</p>\n<p>All I want is:</p>\n<ul>\n<li>Ability to set log level for all my loggers (<code>My.*</code>)</li>\n<li>Write to console and file (appenders)</li>\n<li>Some docs that describe the format specs. <code>%t, %m, %n, %d{YYYY-MM-DD}, ...</code></li>\n</ul>\n<p>I read:</p>\n<ul>\n<li><a href=\"https://spark.apache.org/docs/latest/configuration.html#configuring-logging\" rel=\"nofollow noreferrer\">Configuring Logging</a> in official documentation. It just says add <code>log4j2.properties</code>. Could not find any docs on format of <code>log4j2.properties</code>. <a href=\"https://github.com/apache/spark/blob/master/conf/log4j2.properties.template\" rel=\"nofollow noreferrer\">Sample <code>log4j2.properties.template</code></a> is VERY limited. <strong>NOTE that it says</strong> nothing about using <code>xml</code> or other formats, just <code>properties</code>.</li>\n<li><a href=\"https://duckduckgo.com/?q=%22log4j2.properties%22%20site%3Alogging.apache.org\" rel=\"nofollow noreferrer\">All official log4j2</a> docs point to <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Properties\" rel=\"nofollow noreferrer\">the same place</a>, which has no docs on contents of <code>log4j2.properties</code>. It gives some samples, but those are useless e.g. where do I specify filename for a file appender (not rolling file appender).</li>\n<li>I even tried the <a href=\"https://logging.apache.org/log4j/1.2/manual.html#configuration\" rel=\"nofollow noreferrer\">log4j (not log4j2) docs</a>, this clearly doesn't work (<code>ConfigurationException: No type attribute provided for Appender my_console</code>).</li>\n</ul>\n<p>I don't want to figure it out by trial and error. Just looking for docs.</p>\n<p><code>my_spark_module.py</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>class MySparkModule:\n    def __init__(self, spark):\n        self.log = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('My.SparkModule')\n        self.df = spark.createDataFrame([('data1', '2022-01-01T00:00:00'), ('data2', '2022-02-01T00:00:00')],\n            schema=['data', 'ts_column'])\n        self.log.info('exiting init()')\n\n    def get_count(self):\n        return self.df.count()\n</code></pre>\n<p><code>test_my_spark_module.py</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>import pytest\nfrom pyspark.sql import SparkSession\n\n@pytest.fixture(autouse=True, scope='module')\ndef spark_session():\n    return SparkSession.builder.getOrCreate()\n\n\nclass TestMySparkModule:\n    def test_tables(self):\n        spark_session = SparkSession.builder.getOrCreate()\n        log = spark_session.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('My.TestMySparkModule')\n        log.info('something I wanted to log')\n        \n        assert MySparkModule(spark_session).get_count() == 1, 'expected count to be 1'\n</code></pre>\n"},{"tags":["java","maven","dependencies","guice","plexus"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679944975,"post_id":75859178,"comment_id":133808810,"body_markdown":"Why are you trying to `I want to build a Maven project using the ` why not simply by using the command line? via `mvn clean package` or alike? What kind of problem are you trying to solve?","body":"Why are you trying to <code>I want to build a Maven project using the </code> why not simply by using the command line? via <code>mvn clean package</code> or alike? What kind of problem are you trying to solve?"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1679949919,"post_id":75859178,"comment_id":133809819,"body_markdown":"@khmarbaise the purpose of my application is to deploy a Maven artifact and all of its dependencies to an internal company server. I need to 1) collect project info (group id, artifact id, version), 2) build the project, and 3) download and list dependencies (including transitive). The program needs the file paths to all the dependencies, as well as the project&#39;s jar (`project.build.directory` + `project.build.finalName`). Currently it uses Maven Invoker and parses the log output, but spinning up a new process to run Maven for each deployment is inefficient and the log output can vary.","body":"@khmarbaise the purpose of my application is to deploy a Maven artifact and all of its dependencies to an internal company server. I need to 1) collect project info (group id, artifact id, version), 2) build the project, and 3) download and list dependencies (including transitive). The program needs the file paths to all the dependencies, as well as the project&#39;s jar (<code>project.build.directory</code> + <code>project.build.finalName</code>). Currently it uses Maven Invoker and parses the log output, but spinning up a new process to run Maven for each deployment is inefficient and the log output can vary."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679998979,"post_id":75859178,"comment_id":133817769,"body_markdown":"That can simply being done via Maven itself via `mvn deploy`?","body":"That can simply being done via Maven itself via <code>mvn deploy</code>?"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680006517,"post_id":75859178,"comment_id":133819783,"body_markdown":"@khmarbaise is `mvn deploy` capable of deploying to a remote file system via SMB? Our internal company server is not a Maven repository, but rather a file server. There is also very particular logic in place to transfer files in a manner compatible with our VPN. Would I have to create my own mojo to do this? Lastly, I am still concerned about the inefficiency of spinning up a new process for each application that is deployed. If I must take a CLI approach, is there a way to keep the process alive and issue multiple different commands to it at any given time?","body":"@khmarbaise is <code>mvn deploy</code> capable of deploying to a remote file system via SMB? Our internal company server is not a Maven repository, but rather a file server. There is also very particular logic in place to transfer files in a manner compatible with our VPN. Would I have to create my own mojo to do this? Lastly, I am still concerned about the inefficiency of spinning up a new process for each application that is deployed. If I must take a CLI approach, is there a way to keep the process alive and issue multiple different commands to it at any given time?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680031927,"post_id":75859178,"comment_id":133826958,"body_markdown":"Using a file sever (SMB) for a maven repository is simply the wrong way use a repository manager... much easier to handle and is supported out of the box of Maven.. even if needed I would suggest not to use Maven 4.0.0-alpha.. use Maven 3.9.1 as foundation.. also it would be easier to simply build your app and use the content of the local cash ($HOME/.m2/repository) ... or define that location via command line `-Dmaven.local.repo=..` and `I am still concerned about the inefficiency of spinning up a new process` exactly that is the reason doing things the wrong way...","body":"Using a file sever (SMB) for a maven repository is simply the wrong way use a repository manager... much easier to handle and is supported out of the box of Maven.. even if needed I would suggest not to use Maven 4.0.0-alpha.. use Maven 3.9.1 as foundation.. also it would be easier to simply build your app and use the content of the local cash ($HOME/.m2/repository) ... or define that location via command line <code>-Dmaven.local.repo=..</code> and <code>I am still concerned about the inefficiency of spinning up a new process</code> exactly that is the reason doing things the wrong way..."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680037391,"post_id":75859178,"comment_id":133828122,"body_markdown":"@khmarbaise thank you for taking the time to work with me on this. Our programmers use the Maven CLI for *development* and we use a proper Nexus repository manager for our development builds and dependencies. The SMB server is a pre-existing file server which hosts our **completed applications** and dependencies as compiled jars (not fat jars), and distributes them to end-users. _We are **not** using the SMB server as a repository manager_. The goal is to decouple the completed projects from the Maven ecosystem so a *separate service* can distribute them to internal users from the SMB server.","body":"@khmarbaise thank you for taking the time to work with me on this. Our programmers use the Maven CLI for <i>development</i> and we use a proper Nexus repository manager for our development builds and dependencies. The SMB server is a pre-existing file server which hosts our <b>completed applications</b> and dependencies as compiled jars (not fat jars), and distributes them to end-users. <i>We are <b>not</b> using the SMB server as a repository manager</i>. The goal is to decouple the completed projects from the Maven ecosystem so a <i>separate service</i> can distribute them to internal users from the SMB server."},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680037578,"post_id":75859178,"comment_id":133828158,"body_markdown":"My current approach uses Maven Invoker to run `mvn dependency:list -DoutputAbsoluteArtifactFilename=true -DincludeScope=compile` and `mvn package`. It does not always work because I have to parse the raw output from these commands, which varies depending on the context. I am looking for a more reliable, consistent, and efficient approach. Can it be done with the CLI?","body":"My current approach uses Maven Invoker to run <code>mvn dependency:list -DoutputAbsoluteArtifactFilename=true -DincludeScope=compile</code> and <code>mvn package</code>. It does not always work because I have to parse the raw output from these commands, which varies depending on the context. I am looking for a more reliable, consistent, and efficient approach. Can it be done with the CLI?"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679947171,"creation_date":1679941718,"question_id":75859178,"body_markdown":"I want to build a Maven project using the [Maven Core][1] (version [4.0.0-alpha-5][2]) library. All I want right now is a working proof-of-concept to run the `install` phase. However, I have not been able to create a working example and I cannot find a single tutorial or demonstration on the internet.\r\n\r\nMy main method is quite straightforward, it shouldn&#39;t require explanation:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tInjector injector = Guice.createInjector(new CompleteMavenModule());\r\n\r\n\t\tMaven maven = injector.getInstance(Maven.class);\r\n\t\tMavenExecutionRequestPopulator populator = injector.getInstance(MavenExecutionRequestPopulator.class);\r\n\r\n\t\tDefaultMavenExecutionRequest request = new DefaultMavenExecutionRequest();\r\n\t\trequest.setPom(new File(&quot;C:\\\\Users\\\\lc70844\\\\eclipse-workspace\\\\TestProject\\\\pom.xml&quot;));\r\n\t\trequest.setGoals(Arrays.asList(&quot;install&quot;));\r\n\r\n\t\tpopulator.populateDefaults(request);\r\n\r\n\t\tMavenExecutionResult result = maven.execute(request);\r\n\t\tif (result.hasExceptions())\r\n\t\t\tresult.getExceptions().stream().forEach(Throwable::printStackTrace);\r\n\t}\r\n\r\nWhen I run this, I get the following exception:\r\n\r\n    org.codehaus.plexus.component.repository.exception.ComponentLookupException: java.util.NoSuchElementException\r\n          role: org.eclipse.aether.repository.WorkspaceReader\r\n      roleHint: reactor\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:267)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:255)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:246)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:228)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\r\n    \tat com.nhbb.test.MavenTest.main(MavenTest.java:43)\r\n    Caused by: java.util.NoSuchElementException\r\n    \tat org.eclipse.sisu.inject.LocatedBeans$Itr.next(LocatedBeans.java:141)\r\n    \tat org.eclipse.sisu.inject.LocatedBeans$Itr.next(LocatedBeans.java:1)\r\n    \tat org.eclipse.sisu.plexus.DefaultPlexusBeans$Itr.next(DefaultPlexusBeans.java:76)\r\n    \tat org.eclipse.sisu.plexus.DefaultPlexusBeans$Itr.next(DefaultPlexusBeans.java:1)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:263)\r\n    \t... 5 more\r\n\r\nGoing back to my main method, you&#39;ll notice the `Guice.createInjector(new CompleteMavenModule())`. The `CompleteMavenModule` class is a [Guice][3] module I setup to provide me with a [`DefaultMaven`][4] instance:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    import javax.inject.Named;\r\n    import javax.inject.Singleton;\r\n    \r\n    import org.apache.maven.DefaultMaven;\r\n    import org.apache.maven.Maven;\r\n    import org.apache.maven.WorkspaceReaderModule;\r\n    import org.apache.maven.artifact.factory.ArtifactFactory;\r\n    import org.apache.maven.artifact.factory.DefaultArtifactFactory;\r\n    import org.apache.maven.artifact.handler.ArtifactHandler;\r\n    import org.apache.maven.artifact.handler.manager.ArtifactHandlerManager;\r\n    import org.apache.maven.artifact.handler.manager.DefaultArtifactHandlerManager;\r\n    import org.apache.maven.artifact.repository.layout.ArtifactRepositoryLayout;\r\n    import org.apache.maven.artifact.repository.layout.DefaultRepositoryLayout;\r\n    import org.apache.maven.artifact.repository.metadata.io.DefaultMetadataReader;\r\n    import org.apache.maven.artifact.repository.metadata.io.MetadataReader;\r\n    import org.apache.maven.classrealm.ClassRealmManager;\r\n    import org.apache.maven.classrealm.ClassRealmManagerDelegate;\r\n    import org.apache.maven.classrealm.DefaultClassRealmManager;\r\n    import org.apache.maven.eventspy.EventSpy;\r\n    import org.apache.maven.execution.BuildResumptionAnalyzer;\r\n    import org.apache.maven.execution.BuildResumptionDataRepository;\r\n    import org.apache.maven.execution.DefaultBuildResumptionAnalyzer;\r\n    import org.apache.maven.execution.DefaultBuildResumptionDataRepository;\r\n    import org.apache.maven.execution.DefaultMavenExecutionRequestPopulator;\r\n    import org.apache.maven.execution.MavenExecutionRequestPopulator;\r\n    import org.apache.maven.execution.MojoExecutionListener;\r\n    import org.apache.maven.execution.ProjectExecutionListener;\r\n    import org.apache.maven.execution.scope.internal.MojoExecutionScopeCoreModule;\r\n    import org.apache.maven.extension.internal.CoreExports;\r\n    import org.apache.maven.graph.DefaultGraphBuilder;\r\n    import org.apache.maven.graph.GraphBuilder;\r\n    import org.apache.maven.internal.impl.EventSpyImpl;\r\n    import org.apache.maven.lifecycle.LifecycleMappingDelegate;\r\n    import org.apache.maven.lifecycle.MojoExecutionConfigurator;\r\n    import org.apache.maven.lifecycle.internal.DefaultExecutionEventCatapult;\r\n    import org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator;\r\n    import org.apache.maven.lifecycle.internal.DefaultLifecycleMappingDelegate;\r\n    import org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator;\r\n    import org.apache.maven.lifecycle.internal.DefaultMojoExecutionConfigurator;\r\n    import org.apache.maven.lifecycle.internal.DefaultProjectArtifactFactory;\r\n    import org.apache.maven.lifecycle.internal.ExecutionEventCatapult;\r\n    import org.apache.maven.lifecycle.internal.LifecycleExecutionPlanCalculator;\r\n    import org.apache.maven.lifecycle.internal.LifecycleTaskSegmentCalculator;\r\n    import org.apache.maven.lifecycle.internal.ProjectArtifactFactory;\r\n    import org.apache.maven.lifecycle.internal.builder.Builder;\r\n    import org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder;\r\n    import org.apache.maven.model.building.DefaultModelProcessor;\r\n    import org.apache.maven.model.building.DefaultModelSourceTransformer;\r\n    import org.apache.maven.model.building.ModelProcessor;\r\n    import org.apache.maven.model.building.ModelSourceTransformer;\r\n    import org.apache.maven.model.io.DefaultModelReader;\r\n    import org.apache.maven.model.io.ModelReader;\r\n    import org.apache.maven.model.locator.DefaultModelLocator;\r\n    import org.apache.maven.model.locator.ModelLocator;\r\n    import org.apache.maven.model.superpom.DefaultSuperPomProvider;\r\n    import org.apache.maven.model.superpom.SuperPomProvider;\r\n    import org.apache.maven.plugin.BuildPluginManager;\r\n    import org.apache.maven.plugin.DefaultBuildPluginManager;\r\n    import org.apache.maven.plugin.DefaultExtensionRealmCache;\r\n    import org.apache.maven.plugin.DefaultMojosExecutionStrategy;\r\n    import org.apache.maven.plugin.DefaultPluginArtifactsCache;\r\n    import org.apache.maven.plugin.DefaultPluginDescriptorCache;\r\n    import org.apache.maven.plugin.DefaultPluginRealmCache;\r\n    import org.apache.maven.plugin.ExtensionRealmCache;\r\n    import org.apache.maven.plugin.LegacySupport;\r\n    import org.apache.maven.plugin.MavenPluginManager;\r\n    import org.apache.maven.plugin.MavenPluginPrerequisitesChecker;\r\n    import org.apache.maven.plugin.MojosExecutionStrategy;\r\n    import org.apache.maven.plugin.PluginArtifactsCache;\r\n    import org.apache.maven.plugin.PluginDescriptorCache;\r\n    import org.apache.maven.plugin.PluginRealmCache;\r\n    import org.apache.maven.plugin.internal.DefaultLegacySupport;\r\n    import org.apache.maven.plugin.internal.DefaultMavenPluginManager;\r\n    import org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver;\r\n    import org.apache.maven.plugin.internal.MavenPluginInternalModule;\r\n    import org.apache.maven.plugin.internal.MavenPluginJavaPrerequisiteChecker;\r\n    import org.apache.maven.plugin.internal.MavenPluginMavenPrerequisiteChecker;\r\n    import org.apache.maven.plugin.internal.PluginDependenciesResolver;\r\n    import org.apache.maven.plugin.prefix.PluginPrefixResolver;\r\n    import org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver;\r\n    import org.apache.maven.plugin.version.PluginVersionResolver;\r\n    import org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver;\r\n    import org.apache.maven.project.DefaultProjectBuilder;\r\n    import org.apache.maven.project.DefaultProjectBuildingHelper;\r\n    import org.apache.maven.project.DefaultProjectDependenciesResolver;\r\n    import org.apache.maven.project.DefaultProjectRealmCache;\r\n    import org.apache.maven.project.ProjectBuilder;\r\n    import org.apache.maven.project.ProjectBuildingHelper;\r\n    import org.apache.maven.project.ProjectDependenciesResolver;\r\n    import org.apache.maven.project.ProjectRealmCache;\r\n    import org.apache.maven.project.RepositorySessionDecorator;\r\n    import org.apache.maven.project.artifact.DefaultProjectArtifactsCache;\r\n    import org.apache.maven.project.artifact.ProjectArtifactsCache;\r\n    import org.apache.maven.project.collector.DefaultProjectsSelector;\r\n    import org.apache.maven.project.collector.ProjectsSelector;\r\n    import org.apache.maven.repository.RepositorySystem;\r\n    import org.apache.maven.repository.internal.MavenResolverModule;\r\n    import org.apache.maven.repository.legacy.LegacyRepositorySystem;\r\n    import org.apache.maven.rtinfo.RuntimeInformation;\r\n    import org.apache.maven.rtinfo.internal.DefaultRuntimeInformation;\r\n    import org.apache.maven.session.scope.internal.SessionScopeModule;\r\n    import org.apache.maven.settings.crypto.DefaultSettingsDecrypter;\r\n    import org.apache.maven.settings.crypto.SettingsDecrypter;\r\n    import org.codehaus.plexus.DefaultPlexusContainer;\r\n    import org.codehaus.plexus.PlexusContainer;\r\n    import org.eclipse.aether.connector.basic.BasicRepositoryConnectorFactory;\r\n    import org.eclipse.aether.repository.WorkspaceReader;\r\n    import org.eclipse.aether.spi.connector.RepositoryConnectorFactory;\r\n    import org.eclipse.aether.spi.connector.transport.TransporterFactory;\r\n    import org.eclipse.aether.transport.file.FileTransporterFactory;\r\n    import org.eclipse.aether.transport.http.ChecksumExtractor;\r\n    import org.eclipse.aether.transport.http.HttpTransporterFactory;\r\n    import org.sonatype.plexus.components.cipher.DefaultPlexusCipher;\r\n    import org.sonatype.plexus.components.sec.dispatcher.DefaultSecDispatcher;\r\n    import org.sonatype.plexus.components.sec.dispatcher.SecDispatcher;\r\n    \r\n    import com.google.inject.AbstractModule;\r\n    import com.google.inject.Provides;\r\n    import com.google.inject.name.Names;\r\n    import com.google.inject.util.Providers;\r\n    \r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public class CompleteMavenModule extends AbstractModule {\r\n    \r\n    \t@Override\r\n    \tprotected void configure() {\r\n    \t\t// org.apache.maven.repository.internal.MavenResolverModule does not provide\r\n    \t\t// bindings for all the necessary dependencies\r\n    \t\tinstall(new MavenResolverModule());\r\n    \t\tinstall(new SessionScopeModule());\r\n    \t\tinstall(new MojoExecutionScopeCoreModule());\r\n    \t\tinstall(new MavenPluginInternalModule());\r\n    \t\tinstall(new WorkspaceReaderModule());\r\n    \r\n    \t\t// make module &quot;complete&quot; by binding things not bound by MavenResolverModule\r\n    \t\tbind(Maven.class).to(DefaultMaven.class).in(Singleton.class);\r\n    \t\tbind(EventSpy.class).annotatedWith(Names.named(&quot;impl&quot;)).to(EventSpyImpl.class);\r\n    \t\tbind(Builder.class).annotatedWith(Names.named(&quot;multithreaded&quot;)).to(MultiThreadedBuilder.class);\r\n    \t\tbind(MojosExecutionStrategy.class).to(DefaultMojosExecutionStrategy.class).in(Singleton.class);\r\n    \t\tbind(ArtifactRepositoryLayout.class).to(DefaultRepositoryLayout.class).in(Singleton.class);\r\n    \t\tbind(ArtifactHandlerManager.class).to(DefaultArtifactHandlerManager.class).in(Singleton.class);\r\n    \t\tbind(BuildResumptionAnalyzer.class).to(DefaultBuildResumptionAnalyzer.class).in(Singleton.class);\r\n    \t\tbind(BuildResumptionDataRepository.class).to(DefaultBuildResumptionDataRepository.class).in(Singleton.class);\r\n    \t\tbind(GraphBuilder.class).annotatedWith(Names.named(GraphBuilder.HINT)).to(DefaultGraphBuilder.class)\r\n    \t\t\t\t.in(Singleton.class);\r\n    \t\tbind(ExecutionEventCatapult.class).to(DefaultExecutionEventCatapult.class).in(Singleton.class);\r\n    \t\tbind(LifecycleExecutionPlanCalculator.class).to(DefaultLifecycleExecutionPlanCalculator.class)\r\n    \t\t\t\t.in(Singleton.class);\r\n    \t\tbind(LifecycleMappingDelegate.class).annotatedWith(Names.named(&quot;default&quot;))\r\n    \t\t\t\t.to(DefaultLifecycleMappingDelegate.class).in(Singleton.class);\r\n    \t\tbind(MojoExecutionConfigurator.class).annotatedWith(Names.named(&quot;default&quot;))\r\n    \t\t\t\t.to(DefaultMojoExecutionConfigurator.class).in(Singleton.class);\r\n    \t\tbind(LifecycleTaskSegmentCalculator.class).to(DefaultLifecycleTaskSegmentCalculator.class).in(Singleton.class);\r\n    \t\tbind(ProjectArtifactFactory.class).to(DefaultProjectArtifactFactory.class).in(Singleton.class);\r\n    \t\tbind(ArtifactFactory.class).to(DefaultArtifactFactory.class).in(Singleton.class);\r\n    \t\tbind(ModelLocator.class).to(DefaultModelLocator.class).in(Singleton.class);\r\n    \t\tbind(ModelReader.class).to(DefaultModelReader.class).in(Singleton.class);\r\n    \t\tbind(ModelProcessor.class).to(DefaultModelProcessor.class).in(Singleton.class);\r\n    \t\tbind(SuperPomProvider.class).to(DefaultSuperPomProvider.class).in(Singleton.class);\r\n    \t\tbind(ModelSourceTransformer.class).to(DefaultModelSourceTransformer.class).in(Singleton.class);\r\n    \t\tbind(BuildPluginManager.class).to(DefaultBuildPluginManager.class).in(Singleton.class);\r\n    \t\tbind(LegacySupport.class).to(DefaultLegacySupport.class).in(Singleton.class);\r\n    \t\tbind(MavenPluginManager.class).to(DefaultMavenPluginManager.class).in(Singleton.class);\r\n    \t\tbind(MavenPluginPrerequisitesChecker.class).annotatedWith(Names.named(&quot;java&quot;))\r\n    \t\t\t\t.to(MavenPluginJavaPrerequisiteChecker.class);\r\n    \t\tbind(MavenPluginPrerequisitesChecker.class).annotatedWith(Names.named(&quot;maven&quot;))\r\n    \t\t\t\t.to(MavenPluginMavenPrerequisiteChecker.class);\r\n    \t\tbind(ClassRealmManager.class).to(DefaultClassRealmManager.class).in(Singleton.class);\r\n    \t\tbind(ExtensionRealmCache.class).to(DefaultExtensionRealmCache.class).in(Singleton.class);\r\n    \t\tbind(PluginArtifactsCache.class).to(DefaultPluginArtifactsCache.class).in(Singleton.class);\r\n    \t\tbind(PluginDescriptorCache.class).to(DefaultPluginDescriptorCache.class).in(Singleton.class);\r\n    \t\tbind(PluginRealmCache.class).to(DefaultPluginRealmCache.class).in(Singleton.class);\r\n    \t\tbind(PluginDependenciesResolver.class).to(DefaultPluginDependenciesResolver.class).in(Singleton.class);\r\n    \t\tbind(PluginPrefixResolver.class).to(DefaultPluginPrefixResolver.class).in(Singleton.class);\r\n    \t\tbind(MetadataReader.class).to(DefaultMetadataReader.class).in(Singleton.class);\r\n    \t\tbind(PluginVersionResolver.class).to(DefaultPluginVersionResolver.class).in(Singleton.class);\r\n    \t\tbind(ProjectBuilder.class).to(DefaultProjectBuilder.class);\r\n    \t\tbind(ProjectBuildingHelper.class).to(DefaultProjectBuildingHelper.class).in(Singleton.class);\r\n    \t\tbind(ProjectDependenciesResolver.class).to(DefaultProjectDependenciesResolver.class);\r\n    \t\tbind(ProjectRealmCache.class).to(DefaultProjectRealmCache.class).in(Singleton.class);\r\n    \t\tbind(ProjectArtifactsCache.class).to(DefaultProjectArtifactsCache.class).in(Singleton.class);\r\n    \t\tbind(ProjectsSelector.class).to(DefaultProjectsSelector.class).in(Singleton.class);\r\n    \t\tbind(RepositorySystem.class).to(LegacyRepositorySystem.class).in(Singleton.class);\r\n    \t\tbind(RuntimeInformation.class).to(DefaultRuntimeInformation.class).in(Singleton.class);\r\n    \t\tbind(SettingsDecrypter.class).to(DefaultSettingsDecrypter.class).in(Singleton.class);\r\n    \t\tbind(PlexusContainer.class).to(DefaultPlexusContainer.class).in(Singleton.class);\r\n    \t\tbind(WorkspaceReader.class).annotatedWith(Names.named(&quot;ide&quot;)).toProvider(Providers.of(null))\r\n    \t\t\t\t.in(Singleton.class);\r\n    \t\tbind(SecDispatcher.class).annotatedWith(Names.named(&quot;maven&quot;))\r\n    \t\t\t\t.toInstance(new DefaultSecDispatcher(new DefaultPlexusCipher()));\r\n    \t\tbind(MavenExecutionRequestPopulator.class).to(DefaultMavenExecutionRequestPopulator.class).in(Singleton.class);\r\n    \t\tbind(CoreExports.class).toInstance(new CoreExports(null, Collections.emptySet(), Collections.emptySet()));\r\n    \r\n    \t\tbind(RepositoryConnectorFactory.class).annotatedWith(Names.named(&quot;basic&quot;))\r\n    \t\t\t\t.to(BasicRepositoryConnectorFactory.class);\r\n    \t\tbind(TransporterFactory.class).annotatedWith(Names.named(&quot;file&quot;)).to(FileTransporterFactory.class);\r\n    \t\tbind(TransporterFactory.class).annotatedWith(Names.named(&quot;http&quot;)).to(HttpTransporterFactory.class);\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;RepositorySessionDecorator&gt; getRepositorySessionDecorators() {\r\n    \t\t// No implementations exist for\r\n    \t\t// org.apache.maven.project.RepositorySessionDecorator\r\n    \t\treturn Collections.emptyList();\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;ClassRealmManagerDelegate&gt; getClassRealmManagerDelegates() {\r\n    \t\t// No implementations exist for\r\n    \t\t// org.apache.maven.classrealm.ClassRealmManagerDelegate\r\n    \t\treturn Collections.emptyList();\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;MavenPluginPrerequisitesChecker&gt; getMavenPluginPrerequisitesCheckers(\r\n    \t\t\t@Named(&quot;java&quot;) MavenPluginPrerequisitesChecker java,\r\n    \t\t\t@Named(&quot;maven&quot;) MavenPluginPrerequisitesChecker maven) {\r\n    \t\treturn Arrays.asList(java, maven);\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;MojoExecutionListener&gt; getMojoExecutionListeners(MojoExecutionListener listener) {\r\n    \t\treturn Arrays.asList(listener);\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, MojoExecutionConfigurator&gt; provideMojoExecutionConfigurators(\r\n    \t\t\t@Named(&quot;default&quot;) MojoExecutionConfigurator defaultConfigurator) {\r\n    \t\treturn Stream.of(defaultConfigurator).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, LifecycleMappingDelegate&gt; provideLifecycleMappingDelegates(\r\n    \t\t\t@Named(&quot;default&quot;) LifecycleMappingDelegate defaultDelegate) {\r\n    \t\treturn Stream.of(defaultDelegate).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, ArtifactHandler&gt; provideArtifactHandlers() {\r\n    \t\t// No implementations exist for CompleteResolverModule.provideArtifactHandlers()\r\n    \t\treturn Collections.emptyMap();\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, ArtifactRepositoryLayout&gt; provideRepositoryLayouts(ArtifactRepositoryLayout defaultLayout) {\r\n    \t\treturn Stream.of(defaultLayout).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;ProjectExecutionListener&gt; provideProjectExecutionListeners() {\r\n    \t\t// No listeners\r\n    \t\treturn Collections.emptyList();\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, Builder&gt; provideLifecycleBuilders(@Named(&quot;multithreaded&quot;) Builder multi) {\r\n    \t\treturn Stream.of(multi).collect(Collectors.toMap(k -&gt; &quot;multithreaded&quot;, v -&gt; v));\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tList&lt;EventSpy&gt; provideEventSpies(@Named(&quot;impl&quot;) EventSpy impl) {\r\n    \t\treturn Arrays.asList(impl);\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tMap&lt;String, ChecksumExtractor&gt; provideChecksumExtractors() {\r\n    \t\treturn Collections.emptyMap();\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tSet&lt;RepositoryConnectorFactory&gt; provideRepositoryConnectorFactories(\r\n    \t\t\t@Named(&quot;basic&quot;) RepositoryConnectorFactory basic) {\r\n    \t\tSet&lt;RepositoryConnectorFactory&gt; factories = new HashSet&lt;&gt;();\r\n    \t\tfactories.add(basic);\r\n    \t\treturn Collections.unmodifiableSet(factories);\r\n    \t}\r\n    \r\n    \t@Provides\r\n    \t@Singleton\r\n    \tSet&lt;TransporterFactory&gt; provideTransporterFactories(@Named(&quot;file&quot;) TransporterFactory file,\r\n    \t\t\t@Named(&quot;http&quot;) TransporterFactory http) {\r\n    \t\tSet&lt;TransporterFactory&gt; factories = new HashSet&lt;&gt;();\r\n    \t\tfactories.add(file);\r\n    \t\tfactories.add(http);\r\n    \t\treturn Collections.unmodifiableSet(factories);\r\n    \t}\r\n    \r\n    }\r\n\r\nRight off the bat, I know that I am not doing this correctly. You&#39;ll notice these two lines:\r\n\r\n    install(new MavenPluginInternalModule());\r\n    install(new WorkspaceReaderModule());\r\n\r\nI had to create these modules to setup bindings for [`ReadOnlyPluginParametersValidator`][5], [`DefaultMavenPluginValidator`][6], and [`ReactorReader`][7], which are all package-private classes (the binding for ReactorReader was my attempt at addressing the error above). If these classes are private, it leads me to believe that some Maven class is supposed to setup these bindings for me. Judging by the fact that I have to create the bindings myself, I suspect that I am taking an improper approach to the dependency injection.\r\n\r\nI noticed that Maven does not use Guice directly, but is working with the [`PlexusContainer`][8] interface in conjunction with [Plexus Classworlds][9] and [Guice][3] for dependency injection. I do not have a solid understanding of what these &quot;Plexus&quot; libraries are or how work, and I believe this is the root of my problem. Again, I cannot find documentation, examples, or demonstrations on how to use these libraries with Maven.\r\n\r\nThe exception I pasted above originated from [this line][10] in the DefaultMaven class:\r\n\r\n    try {\r\n        WorkspaceReader reactorReader = container.lookup(WorkspaceReader.class, ReactorReader.HINT);\r\n        repoSession.setWorkspaceReader(reactorReader);\r\n    } catch (ComponentLookupException e) {\r\n        return addExceptionToResult(result, e);\r\n    }\r\n\r\nIn this snippet, `container` is a PlexusContainer instance, not a Guice injector. I am quite convinced at this point that I need to be setting up my dependency injection with this &quot;Plexus&quot; library rather than Guice, but how? There is nothing I can find explaining how to do this.\r\n\r\n\r\n----------\r\n\r\n**EDIT**: Here is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;core-maven-test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guice&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-provider&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-connector-basic&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-transport-file&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-transport-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-spi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resolver-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://maven.apache.org/ref/3.9.1/maven-core/\r\n  [2]: https://mvnrepository.com/artifact/org.apache.maven/maven-core/4.0.0-alpha-5\r\n  [3]: https://github.com/google/guice\r\n  [4]: https://maven.apache.org/ref/4-LATEST/maven-core/apidocs/org/apache/maven/DefaultMaven.html\r\n  [5]: https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/plugin/internal/ReadOnlyPluginParametersValidator.java\r\n  [6]: https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/plugin/internal/DefaultMavenPluginValidator.java\r\n  [7]: https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/ReactorReader.java\r\n  [8]: https://javadoc.io/doc/org.codehaus.plexus/plexus-container-default/latest/org/codehaus/plexus/PlexusContainer.html\r\n  [9]: https://codehaus-plexus.github.io/plexus-classworlds/\r\n  [10]: https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/DefaultMaven.java#L246","title":"How do you setup and execute a MavenExecutionRequest with Maven Core v4.0.0?","body":"<p>I want to build a Maven project using the <a href=\"https://maven.apache.org/ref/3.9.1/maven-core/\" rel=\"nofollow noreferrer\">Maven Core</a> (version <a href=\"https://mvnrepository.com/artifact/org.apache.maven/maven-core/4.0.0-alpha-5\" rel=\"nofollow noreferrer\">4.0.0-alpha-5</a>) library. All I want right now is a working proof-of-concept to run the <code>install</code> phase. However, I have not been able to create a working example and I cannot find a single tutorial or demonstration on the internet.</p>\n<p>My main method is quite straightforward, it shouldn't require explanation:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    Injector injector = Guice.createInjector(new CompleteMavenModule());\n\n    Maven maven = injector.getInstance(Maven.class);\n    MavenExecutionRequestPopulator populator = injector.getInstance(MavenExecutionRequestPopulator.class);\n\n    DefaultMavenExecutionRequest request = new DefaultMavenExecutionRequest();\n    request.setPom(new File(&quot;C:\\\\Users\\\\lc70844\\\\eclipse-workspace\\\\TestProject\\\\pom.xml&quot;));\n    request.setGoals(Arrays.asList(&quot;install&quot;));\n\n    populator.populateDefaults(request);\n\n    MavenExecutionResult result = maven.execute(request);\n    if (result.hasExceptions())\n        result.getExceptions().stream().forEach(Throwable::printStackTrace);\n}\n</code></pre>\n<p>When I run this, I get the following exception:</p>\n<pre><code>org.codehaus.plexus.component.repository.exception.ComponentLookupException: java.util.NoSuchElementException\n      role: org.eclipse.aether.repository.WorkspaceReader\n  roleHint: reactor\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:267)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:255)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:246)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:228)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:153)\n    at com.nhbb.test.MavenTest.main(MavenTest.java:43)\nCaused by: java.util.NoSuchElementException\n    at org.eclipse.sisu.inject.LocatedBeans$Itr.next(LocatedBeans.java:141)\n    at org.eclipse.sisu.inject.LocatedBeans$Itr.next(LocatedBeans.java:1)\n    at org.eclipse.sisu.plexus.DefaultPlexusBeans$Itr.next(DefaultPlexusBeans.java:76)\n    at org.eclipse.sisu.plexus.DefaultPlexusBeans$Itr.next(DefaultPlexusBeans.java:1)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:263)\n    ... 5 more\n</code></pre>\n<p>Going back to my main method, you'll notice the <code>Guice.createInjector(new CompleteMavenModule())</code>. The <code>CompleteMavenModule</code> class is a <a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a> module I setup to provide me with a <a href=\"https://maven.apache.org/ref/4-LATEST/maven-core/apidocs/org/apache/maven/DefaultMaven.html\" rel=\"nofollow noreferrer\"><code>DefaultMaven</code></a> instance:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport javax.inject.Named;\nimport javax.inject.Singleton;\n\nimport org.apache.maven.DefaultMaven;\nimport org.apache.maven.Maven;\nimport org.apache.maven.WorkspaceReaderModule;\nimport org.apache.maven.artifact.factory.ArtifactFactory;\nimport org.apache.maven.artifact.factory.DefaultArtifactFactory;\nimport org.apache.maven.artifact.handler.ArtifactHandler;\nimport org.apache.maven.artifact.handler.manager.ArtifactHandlerManager;\nimport org.apache.maven.artifact.handler.manager.DefaultArtifactHandlerManager;\nimport org.apache.maven.artifact.repository.layout.ArtifactRepositoryLayout;\nimport org.apache.maven.artifact.repository.layout.DefaultRepositoryLayout;\nimport org.apache.maven.artifact.repository.metadata.io.DefaultMetadataReader;\nimport org.apache.maven.artifact.repository.metadata.io.MetadataReader;\nimport org.apache.maven.classrealm.ClassRealmManager;\nimport org.apache.maven.classrealm.ClassRealmManagerDelegate;\nimport org.apache.maven.classrealm.DefaultClassRealmManager;\nimport org.apache.maven.eventspy.EventSpy;\nimport org.apache.maven.execution.BuildResumptionAnalyzer;\nimport org.apache.maven.execution.BuildResumptionDataRepository;\nimport org.apache.maven.execution.DefaultBuildResumptionAnalyzer;\nimport org.apache.maven.execution.DefaultBuildResumptionDataRepository;\nimport org.apache.maven.execution.DefaultMavenExecutionRequestPopulator;\nimport org.apache.maven.execution.MavenExecutionRequestPopulator;\nimport org.apache.maven.execution.MojoExecutionListener;\nimport org.apache.maven.execution.ProjectExecutionListener;\nimport org.apache.maven.execution.scope.internal.MojoExecutionScopeCoreModule;\nimport org.apache.maven.extension.internal.CoreExports;\nimport org.apache.maven.graph.DefaultGraphBuilder;\nimport org.apache.maven.graph.GraphBuilder;\nimport org.apache.maven.internal.impl.EventSpyImpl;\nimport org.apache.maven.lifecycle.LifecycleMappingDelegate;\nimport org.apache.maven.lifecycle.MojoExecutionConfigurator;\nimport org.apache.maven.lifecycle.internal.DefaultExecutionEventCatapult;\nimport org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator;\nimport org.apache.maven.lifecycle.internal.DefaultLifecycleMappingDelegate;\nimport org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator;\nimport org.apache.maven.lifecycle.internal.DefaultMojoExecutionConfigurator;\nimport org.apache.maven.lifecycle.internal.DefaultProjectArtifactFactory;\nimport org.apache.maven.lifecycle.internal.ExecutionEventCatapult;\nimport org.apache.maven.lifecycle.internal.LifecycleExecutionPlanCalculator;\nimport org.apache.maven.lifecycle.internal.LifecycleTaskSegmentCalculator;\nimport org.apache.maven.lifecycle.internal.ProjectArtifactFactory;\nimport org.apache.maven.lifecycle.internal.builder.Builder;\nimport org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder;\nimport org.apache.maven.model.building.DefaultModelProcessor;\nimport org.apache.maven.model.building.DefaultModelSourceTransformer;\nimport org.apache.maven.model.building.ModelProcessor;\nimport org.apache.maven.model.building.ModelSourceTransformer;\nimport org.apache.maven.model.io.DefaultModelReader;\nimport org.apache.maven.model.io.ModelReader;\nimport org.apache.maven.model.locator.DefaultModelLocator;\nimport org.apache.maven.model.locator.ModelLocator;\nimport org.apache.maven.model.superpom.DefaultSuperPomProvider;\nimport org.apache.maven.model.superpom.SuperPomProvider;\nimport org.apache.maven.plugin.BuildPluginManager;\nimport org.apache.maven.plugin.DefaultBuildPluginManager;\nimport org.apache.maven.plugin.DefaultExtensionRealmCache;\nimport org.apache.maven.plugin.DefaultMojosExecutionStrategy;\nimport org.apache.maven.plugin.DefaultPluginArtifactsCache;\nimport org.apache.maven.plugin.DefaultPluginDescriptorCache;\nimport org.apache.maven.plugin.DefaultPluginRealmCache;\nimport org.apache.maven.plugin.ExtensionRealmCache;\nimport org.apache.maven.plugin.LegacySupport;\nimport org.apache.maven.plugin.MavenPluginManager;\nimport org.apache.maven.plugin.MavenPluginPrerequisitesChecker;\nimport org.apache.maven.plugin.MojosExecutionStrategy;\nimport org.apache.maven.plugin.PluginArtifactsCache;\nimport org.apache.maven.plugin.PluginDescriptorCache;\nimport org.apache.maven.plugin.PluginRealmCache;\nimport org.apache.maven.plugin.internal.DefaultLegacySupport;\nimport org.apache.maven.plugin.internal.DefaultMavenPluginManager;\nimport org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver;\nimport org.apache.maven.plugin.internal.MavenPluginInternalModule;\nimport org.apache.maven.plugin.internal.MavenPluginJavaPrerequisiteChecker;\nimport org.apache.maven.plugin.internal.MavenPluginMavenPrerequisiteChecker;\nimport org.apache.maven.plugin.internal.PluginDependenciesResolver;\nimport org.apache.maven.plugin.prefix.PluginPrefixResolver;\nimport org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver;\nimport org.apache.maven.plugin.version.PluginVersionResolver;\nimport org.apache.maven.plugin.version.internal.DefaultPluginVersionResolver;\nimport org.apache.maven.project.DefaultProjectBuilder;\nimport org.apache.maven.project.DefaultProjectBuildingHelper;\nimport org.apache.maven.project.DefaultProjectDependenciesResolver;\nimport org.apache.maven.project.DefaultProjectRealmCache;\nimport org.apache.maven.project.ProjectBuilder;\nimport org.apache.maven.project.ProjectBuildingHelper;\nimport org.apache.maven.project.ProjectDependenciesResolver;\nimport org.apache.maven.project.ProjectRealmCache;\nimport org.apache.maven.project.RepositorySessionDecorator;\nimport org.apache.maven.project.artifact.DefaultProjectArtifactsCache;\nimport org.apache.maven.project.artifact.ProjectArtifactsCache;\nimport org.apache.maven.project.collector.DefaultProjectsSelector;\nimport org.apache.maven.project.collector.ProjectsSelector;\nimport org.apache.maven.repository.RepositorySystem;\nimport org.apache.maven.repository.internal.MavenResolverModule;\nimport org.apache.maven.repository.legacy.LegacyRepositorySystem;\nimport org.apache.maven.rtinfo.RuntimeInformation;\nimport org.apache.maven.rtinfo.internal.DefaultRuntimeInformation;\nimport org.apache.maven.session.scope.internal.SessionScopeModule;\nimport org.apache.maven.settings.crypto.DefaultSettingsDecrypter;\nimport org.apache.maven.settings.crypto.SettingsDecrypter;\nimport org.codehaus.plexus.DefaultPlexusContainer;\nimport org.codehaus.plexus.PlexusContainer;\nimport org.eclipse.aether.connector.basic.BasicRepositoryConnectorFactory;\nimport org.eclipse.aether.repository.WorkspaceReader;\nimport org.eclipse.aether.spi.connector.RepositoryConnectorFactory;\nimport org.eclipse.aether.spi.connector.transport.TransporterFactory;\nimport org.eclipse.aether.transport.file.FileTransporterFactory;\nimport org.eclipse.aether.transport.http.ChecksumExtractor;\nimport org.eclipse.aether.transport.http.HttpTransporterFactory;\nimport org.sonatype.plexus.components.cipher.DefaultPlexusCipher;\nimport org.sonatype.plexus.components.sec.dispatcher.DefaultSecDispatcher;\nimport org.sonatype.plexus.components.sec.dispatcher.SecDispatcher;\n\nimport com.google.inject.AbstractModule;\nimport com.google.inject.Provides;\nimport com.google.inject.name.Names;\nimport com.google.inject.util.Providers;\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic class CompleteMavenModule extends AbstractModule {\n\n    @Override\n    protected void configure() {\n        // org.apache.maven.repository.internal.MavenResolverModule does not provide\n        // bindings for all the necessary dependencies\n        install(new MavenResolverModule());\n        install(new SessionScopeModule());\n        install(new MojoExecutionScopeCoreModule());\n        install(new MavenPluginInternalModule());\n        install(new WorkspaceReaderModule());\n\n        // make module &quot;complete&quot; by binding things not bound by MavenResolverModule\n        bind(Maven.class).to(DefaultMaven.class).in(Singleton.class);\n        bind(EventSpy.class).annotatedWith(Names.named(&quot;impl&quot;)).to(EventSpyImpl.class);\n        bind(Builder.class).annotatedWith(Names.named(&quot;multithreaded&quot;)).to(MultiThreadedBuilder.class);\n        bind(MojosExecutionStrategy.class).to(DefaultMojosExecutionStrategy.class).in(Singleton.class);\n        bind(ArtifactRepositoryLayout.class).to(DefaultRepositoryLayout.class).in(Singleton.class);\n        bind(ArtifactHandlerManager.class).to(DefaultArtifactHandlerManager.class).in(Singleton.class);\n        bind(BuildResumptionAnalyzer.class).to(DefaultBuildResumptionAnalyzer.class).in(Singleton.class);\n        bind(BuildResumptionDataRepository.class).to(DefaultBuildResumptionDataRepository.class).in(Singleton.class);\n        bind(GraphBuilder.class).annotatedWith(Names.named(GraphBuilder.HINT)).to(DefaultGraphBuilder.class)\n                .in(Singleton.class);\n        bind(ExecutionEventCatapult.class).to(DefaultExecutionEventCatapult.class).in(Singleton.class);\n        bind(LifecycleExecutionPlanCalculator.class).to(DefaultLifecycleExecutionPlanCalculator.class)\n                .in(Singleton.class);\n        bind(LifecycleMappingDelegate.class).annotatedWith(Names.named(&quot;default&quot;))\n                .to(DefaultLifecycleMappingDelegate.class).in(Singleton.class);\n        bind(MojoExecutionConfigurator.class).annotatedWith(Names.named(&quot;default&quot;))\n                .to(DefaultMojoExecutionConfigurator.class).in(Singleton.class);\n        bind(LifecycleTaskSegmentCalculator.class).to(DefaultLifecycleTaskSegmentCalculator.class).in(Singleton.class);\n        bind(ProjectArtifactFactory.class).to(DefaultProjectArtifactFactory.class).in(Singleton.class);\n        bind(ArtifactFactory.class).to(DefaultArtifactFactory.class).in(Singleton.class);\n        bind(ModelLocator.class).to(DefaultModelLocator.class).in(Singleton.class);\n        bind(ModelReader.class).to(DefaultModelReader.class).in(Singleton.class);\n        bind(ModelProcessor.class).to(DefaultModelProcessor.class).in(Singleton.class);\n        bind(SuperPomProvider.class).to(DefaultSuperPomProvider.class).in(Singleton.class);\n        bind(ModelSourceTransformer.class).to(DefaultModelSourceTransformer.class).in(Singleton.class);\n        bind(BuildPluginManager.class).to(DefaultBuildPluginManager.class).in(Singleton.class);\n        bind(LegacySupport.class).to(DefaultLegacySupport.class).in(Singleton.class);\n        bind(MavenPluginManager.class).to(DefaultMavenPluginManager.class).in(Singleton.class);\n        bind(MavenPluginPrerequisitesChecker.class).annotatedWith(Names.named(&quot;java&quot;))\n                .to(MavenPluginJavaPrerequisiteChecker.class);\n        bind(MavenPluginPrerequisitesChecker.class).annotatedWith(Names.named(&quot;maven&quot;))\n                .to(MavenPluginMavenPrerequisiteChecker.class);\n        bind(ClassRealmManager.class).to(DefaultClassRealmManager.class).in(Singleton.class);\n        bind(ExtensionRealmCache.class).to(DefaultExtensionRealmCache.class).in(Singleton.class);\n        bind(PluginArtifactsCache.class).to(DefaultPluginArtifactsCache.class).in(Singleton.class);\n        bind(PluginDescriptorCache.class).to(DefaultPluginDescriptorCache.class).in(Singleton.class);\n        bind(PluginRealmCache.class).to(DefaultPluginRealmCache.class).in(Singleton.class);\n        bind(PluginDependenciesResolver.class).to(DefaultPluginDependenciesResolver.class).in(Singleton.class);\n        bind(PluginPrefixResolver.class).to(DefaultPluginPrefixResolver.class).in(Singleton.class);\n        bind(MetadataReader.class).to(DefaultMetadataReader.class).in(Singleton.class);\n        bind(PluginVersionResolver.class).to(DefaultPluginVersionResolver.class).in(Singleton.class);\n        bind(ProjectBuilder.class).to(DefaultProjectBuilder.class);\n        bind(ProjectBuildingHelper.class).to(DefaultProjectBuildingHelper.class).in(Singleton.class);\n        bind(ProjectDependenciesResolver.class).to(DefaultProjectDependenciesResolver.class);\n        bind(ProjectRealmCache.class).to(DefaultProjectRealmCache.class).in(Singleton.class);\n        bind(ProjectArtifactsCache.class).to(DefaultProjectArtifactsCache.class).in(Singleton.class);\n        bind(ProjectsSelector.class).to(DefaultProjectsSelector.class).in(Singleton.class);\n        bind(RepositorySystem.class).to(LegacyRepositorySystem.class).in(Singleton.class);\n        bind(RuntimeInformation.class).to(DefaultRuntimeInformation.class).in(Singleton.class);\n        bind(SettingsDecrypter.class).to(DefaultSettingsDecrypter.class).in(Singleton.class);\n        bind(PlexusContainer.class).to(DefaultPlexusContainer.class).in(Singleton.class);\n        bind(WorkspaceReader.class).annotatedWith(Names.named(&quot;ide&quot;)).toProvider(Providers.of(null))\n                .in(Singleton.class);\n        bind(SecDispatcher.class).annotatedWith(Names.named(&quot;maven&quot;))\n                .toInstance(new DefaultSecDispatcher(new DefaultPlexusCipher()));\n        bind(MavenExecutionRequestPopulator.class).to(DefaultMavenExecutionRequestPopulator.class).in(Singleton.class);\n        bind(CoreExports.class).toInstance(new CoreExports(null, Collections.emptySet(), Collections.emptySet()));\n\n        bind(RepositoryConnectorFactory.class).annotatedWith(Names.named(&quot;basic&quot;))\n                .to(BasicRepositoryConnectorFactory.class);\n        bind(TransporterFactory.class).annotatedWith(Names.named(&quot;file&quot;)).to(FileTransporterFactory.class);\n        bind(TransporterFactory.class).annotatedWith(Names.named(&quot;http&quot;)).to(HttpTransporterFactory.class);\n    }\n\n    @Provides\n    @Singleton\n    List&lt;RepositorySessionDecorator&gt; getRepositorySessionDecorators() {\n        // No implementations exist for\n        // org.apache.maven.project.RepositorySessionDecorator\n        return Collections.emptyList();\n    }\n\n    @Provides\n    @Singleton\n    List&lt;ClassRealmManagerDelegate&gt; getClassRealmManagerDelegates() {\n        // No implementations exist for\n        // org.apache.maven.classrealm.ClassRealmManagerDelegate\n        return Collections.emptyList();\n    }\n\n    @Provides\n    @Singleton\n    List&lt;MavenPluginPrerequisitesChecker&gt; getMavenPluginPrerequisitesCheckers(\n            @Named(&quot;java&quot;) MavenPluginPrerequisitesChecker java,\n            @Named(&quot;maven&quot;) MavenPluginPrerequisitesChecker maven) {\n        return Arrays.asList(java, maven);\n    }\n\n    @Provides\n    @Singleton\n    List&lt;MojoExecutionListener&gt; getMojoExecutionListeners(MojoExecutionListener listener) {\n        return Arrays.asList(listener);\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, MojoExecutionConfigurator&gt; provideMojoExecutionConfigurators(\n            @Named(&quot;default&quot;) MojoExecutionConfigurator defaultConfigurator) {\n        return Stream.of(defaultConfigurator).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, LifecycleMappingDelegate&gt; provideLifecycleMappingDelegates(\n            @Named(&quot;default&quot;) LifecycleMappingDelegate defaultDelegate) {\n        return Stream.of(defaultDelegate).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, ArtifactHandler&gt; provideArtifactHandlers() {\n        // No implementations exist for CompleteResolverModule.provideArtifactHandlers()\n        return Collections.emptyMap();\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, ArtifactRepositoryLayout&gt; provideRepositoryLayouts(ArtifactRepositoryLayout defaultLayout) {\n        return Stream.of(defaultLayout).collect(Collectors.toMap(k -&gt; &quot;default&quot;, v -&gt; v));\n    }\n\n    @Provides\n    @Singleton\n    List&lt;ProjectExecutionListener&gt; provideProjectExecutionListeners() {\n        // No listeners\n        return Collections.emptyList();\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, Builder&gt; provideLifecycleBuilders(@Named(&quot;multithreaded&quot;) Builder multi) {\n        return Stream.of(multi).collect(Collectors.toMap(k -&gt; &quot;multithreaded&quot;, v -&gt; v));\n    }\n\n    @Provides\n    @Singleton\n    List&lt;EventSpy&gt; provideEventSpies(@Named(&quot;impl&quot;) EventSpy impl) {\n        return Arrays.asList(impl);\n    }\n\n    @Provides\n    @Singleton\n    Map&lt;String, ChecksumExtractor&gt; provideChecksumExtractors() {\n        return Collections.emptyMap();\n    }\n\n    @Provides\n    @Singleton\n    Set&lt;RepositoryConnectorFactory&gt; provideRepositoryConnectorFactories(\n            @Named(&quot;basic&quot;) RepositoryConnectorFactory basic) {\n        Set&lt;RepositoryConnectorFactory&gt; factories = new HashSet&lt;&gt;();\n        factories.add(basic);\n        return Collections.unmodifiableSet(factories);\n    }\n\n    @Provides\n    @Singleton\n    Set&lt;TransporterFactory&gt; provideTransporterFactories(@Named(&quot;file&quot;) TransporterFactory file,\n            @Named(&quot;http&quot;) TransporterFactory http) {\n        Set&lt;TransporterFactory&gt; factories = new HashSet&lt;&gt;();\n        factories.add(file);\n        factories.add(http);\n        return Collections.unmodifiableSet(factories);\n    }\n\n}\n</code></pre>\n<p>Right off the bat, I know that I am not doing this correctly. You'll notice these two lines:</p>\n<pre><code>install(new MavenPluginInternalModule());\ninstall(new WorkspaceReaderModule());\n</code></pre>\n<p>I had to create these modules to setup bindings for <a href=\"https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/plugin/internal/ReadOnlyPluginParametersValidator.java\" rel=\"nofollow noreferrer\"><code>ReadOnlyPluginParametersValidator</code></a>, <a href=\"https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/plugin/internal/DefaultMavenPluginValidator.java\" rel=\"nofollow noreferrer\"><code>DefaultMavenPluginValidator</code></a>, and <a href=\"https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/ReactorReader.java\" rel=\"nofollow noreferrer\"><code>ReactorReader</code></a>, which are all package-private classes (the binding for ReactorReader was my attempt at addressing the error above). If these classes are private, it leads me to believe that some Maven class is supposed to setup these bindings for me. Judging by the fact that I have to create the bindings myself, I suspect that I am taking an improper approach to the dependency injection.</p>\n<p>I noticed that Maven does not use Guice directly, but is working with the <a href=\"https://javadoc.io/doc/org.codehaus.plexus/plexus-container-default/latest/org/codehaus/plexus/PlexusContainer.html\" rel=\"nofollow noreferrer\"><code>PlexusContainer</code></a> interface in conjunction with <a href=\"https://codehaus-plexus.github.io/plexus-classworlds/\" rel=\"nofollow noreferrer\">Plexus Classworlds</a> and <a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a> for dependency injection. I do not have a solid understanding of what these &quot;Plexus&quot; libraries are or how work, and I believe this is the root of my problem. Again, I cannot find documentation, examples, or demonstrations on how to use these libraries with Maven.</p>\n<p>The exception I pasted above originated from <a href=\"https://github.com/apache/maven/blob/master/maven-core/src/main/java/org/apache/maven/DefaultMaven.java#L246\" rel=\"nofollow noreferrer\">this line</a> in the DefaultMaven class:</p>\n<pre><code>try {\n    WorkspaceReader reactorReader = container.lookup(WorkspaceReader.class, ReactorReader.HINT);\n    repoSession.setWorkspaceReader(reactorReader);\n} catch (ComponentLookupException e) {\n    return addExceptionToResult(result, e);\n}\n</code></pre>\n<p>In this snippet, <code>container</code> is a PlexusContainer instance, not a Guice injector. I am quite convinced at this point that I need to be setting up my dependency injection with this &quot;Plexus&quot; library rather than Guice, but how? There is nothing I can find explaining how to do this.</p>\n<hr />\n<p><strong>EDIT</strong>: Here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.test&lt;/groupId&gt;\n    &lt;artifactId&gt;core-maven-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;guice&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-provider&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-connector-basic&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-transport-file&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-transport-http&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-spi&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-util&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.resolver&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resolver-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","arraylist","parentheses"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679942159,"post_id":75859152,"comment_id":133808175,"body_markdown":"Please edit the question to include an exact copy of the error message. Please do that using copy-and-paste. While you are at it, please indicate which line the error occurs.","body":"Please edit the question to include an exact copy of the error message. Please do that using copy-and-paste. While you are at it, please indicate which line the error occurs."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679942238,"post_id":75859152,"comment_id":133808193,"body_markdown":"If this comes from a coding practice  / challenge site, please include a link to the page.","body":"If this comes from a coding practice  / challenge site, please include a link to the page."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1679942587,"post_id":75859152,"comment_id":133808284,"body_markdown":"If you want to become a software developer, you will need to have some debugging skills. This can be a problem to practice debugging. One way to debug a small program like this is to pretend you are the computer. You can use pen and paper for the memory. Another is to use a debugger, often included with an IDE. The debugger allows you to follow the code one-line-at-a-time, and lets you monitor the values of variables. A third tool is to put `System.out.println` in the code to give you the needed information.","body":"If you want to become a software developer, you will need to have some debugging skills. This can be a problem to practice debugging. One way to debug a small program like this is to pretend you are the computer. You can use pen and paper for the memory. Another is to use a debugger, often included with an IDE. The debugger allows you to follow the code one-line-at-a-time, and lets you monitor the values of variables. A third tool is to put <code>System.out.println</code> in the code to give you the needed information."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1679944822,"post_id":75859152,"comment_id":133808778,"body_markdown":"If the error is, in fact, an `ArrayIndexOutOfBoundsException`, then it shouldn&#39;t be coming from the code you&#39;ve shown, as this code doesn&#39;t use arrays. A mistake in indexing an `ArrayList` would result in an `IndexOutOfBoundsException`.  Please edit the question to show a [minimal, complete and verifiable example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"If the error is, in fact, an <code>ArrayIndexOutOfBoundsException</code>, then it shouldn&#39;t be coming from the code you&#39;ve shown, as this code doesn&#39;t use arrays. A mistake in indexing an <code>ArrayList</code> would result in an <code>IndexOutOfBoundsException</code>.  Please edit the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, complete and verifiable example</a>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679954651,"post_id":75859152,"comment_id":133810673,"body_markdown":"I hope this is off-topic. But, it is possible for `ArrayList` to throw an `ArrayIndexOutOfBoundsException` if the ArrayList is accessed by more than one thread without proper synchronization:  https://stackoverflow.com/questions/9632387/arraylist-add-throws-arrayindexoutofboundsexception","body":"I hope this is off-topic. But, it is possible for <code>ArrayList</code> to throw an <code>ArrayIndexOutOfBoundsException</code> if the ArrayList is accessed by more than one thread without proper synchronization:  <a href=\"https://stackoverflow.com/questions/9632387/arraylist-add-throws-arrayindexoutofboundsexception\" title=\"arraylist add throws arrayindexoutofboundsexception\">stackoverflow.com/questions/9632387/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679946340,"creation_date":1679943179,"answer_id":75859376,"question_id":75859152,"body_markdown":"The key to this problem is to iterate over the string and keep track of the opening parentheses while removing the matching pairs. At the end of the iteration, the store should be empty, signifying that all the opening parentheses are matched:\r\n\r\n```java\r\nclass Solution {\r\n    // Match opening a closing parentheses\r\n    private static Map&lt;Character, Character&gt; parens = \r\n        Map.of(&#39;)&#39;, &#39;(&#39;, &#39;]&#39;, &#39;[&#39;, &#39;}&#39;, &#39;{&#39;);\r\n\r\n    private static Set&lt;Character&gt; openers = new HashSet&lt;&gt;(parens.values());   \r\n    private static boolean isOpener(char c) {\r\n        return openers.contains(c);\r\n    }\r\n\r\n    //Function to check if brackets are balanced or not.\r\n    static boolean ispar(String x) {\r\n        // Optimization: check that X has an even length:\r\n        if (x.length() % 2 != 0) {\r\n            return false;\r\n        }\r\n        List&lt;Character&gt; store = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; x.length(); ++i) {\r\n            char c = x.charAt(i);\r\n            if (isOpener(c)) {\r\n                store.add(c);\r\n\r\n                // Optimization: there are more opening parentheses\r\n                // than characters left in the string\r\n                if (store.size() &gt; x.length() - i) {\r\n                    return false;\r\n                }\r\n            } else {\r\n                char matching = parens.get(c);\r\n                if (!store.get(store.size() - 1).equals(matching)) {\r\n                    // Wrong opening character for this closing character\r\n                    return false;\r\n                }\r\n                store.remove(store.size() - 1);\r\n            }\r\n        }\r\n        return store.size() == 0;\r\n    }\r\n}\r\n```","title":"Parenthesis Checker","body":"<p>The key to this problem is to iterate over the string and keep track of the opening parentheses while removing the matching pairs. At the end of the iteration, the store should be empty, signifying that all the opening parentheses are matched:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    // Match opening a closing parentheses\n    private static Map&lt;Character, Character&gt; parens = \n        Map.of(')', '(', ']', '[', '}', '{');\n\n    private static Set&lt;Character&gt; openers = new HashSet&lt;&gt;(parens.values());   \n    private static boolean isOpener(char c) {\n        return openers.contains(c);\n    }\n\n    //Function to check if brackets are balanced or not.\n    static boolean ispar(String x) {\n        // Optimization: check that X has an even length:\n        if (x.length() % 2 != 0) {\n            return false;\n        }\n        List&lt;Character&gt; store = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; x.length(); ++i) {\n            char c = x.charAt(i);\n            if (isOpener(c)) {\n                store.add(c);\n\n                // Optimization: there are more opening parentheses\n                // than characters left in the string\n                if (store.size() &gt; x.length() - i) {\n                    return false;\n                }\n            } else {\n                char matching = parens.get(c);\n                if (!store.get(store.size() - 1).equals(matching)) {\n                    // Wrong opening character for this closing character\n                    return false;\n                }\n                store.remove(store.size() - 1);\n            }\n        }\n        return store.size() == 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28140970,"reputation":11,"user_id":21504030,"display_name":"Vikas Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1679946340,"creation_date":1679941509,"question_id":75859152,"body_markdown":"Given an expression string x. Examine whether the pairs and the orders of `{,},(,),[,]` are correct in exp.\r\nFor example, the function should return &#39;true&#39; for exp = `[()]{}{[()()]()}` and &#39;false&#39; for exp = `[(])`.\r\n\r\nI am using an ArrayList to solve that. But I&#39;m getting an ArrayIndexOutOfBoundsException.\\\r\nNote: It can be implemented by Stack but I want to know the solution using my approach. \r\n\r\n\r\n\r\nThis is what I tried to do:\r\n\r\n```java\r\nclass Solution {\r\n    //Function to check if brackets are balanced or not.\r\n    static boolean ispar(String x) {\r\n        int n = x.length();\r\n        boolean sol = false;\r\n        ArrayList &lt; Character &gt; store = new ArrayList &lt; Character &gt; ();\r\n        if (n % 2 != 0 &amp;&amp; x.charAt(0) == &#39;)&#39; &amp;&amp; x.charAt(0) == &#39;}&#39; &amp;&amp; x.charAt(0) == &#39;]&#39;) {\r\n            sol = false;\r\n        } else {\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if (x.charAt(i) == &#39;[&#39;) {\r\n                    store.add(&#39;[&#39;);\r\n                    store.add(&#39;]&#39;);\r\n                }\r\n                if (x.charAt(i) == &#39;{&#39;) {\r\n                    store.add(&#39;{&#39;);\r\n                    store.add(&#39;}&#39;);\r\n                }\r\n                if (x.charAt(i) == &#39;(&#39;) {\r\n                    store.add(&#39;(&#39;);\r\n                    store.add(&#39;)&#39;);\r\n                }\r\n                if (x.charAt(i) == &#39;)&#39;) {\r\n                    store.remove(&#39;)&#39;);\r\n                    store.remove(&#39;(&#39;);\r\n                }\r\n                if (x.charAt(i) == &#39;}&#39;) {\r\n                    store.remove(&#39;}&#39;);\r\n                    store.remove(&#39;{&#39;);\r\n                }\r\n                if (x.charAt(i) == &#39;]&#39;) {\r\n                    store.add(&#39;]&#39;);\r\n                    store.add(&#39;[&#39;);\r\n                }\r\n            }\r\n            if (store.size() == 0) {\r\n                sol = true;\r\n            }\r\n\r\n        }\r\n        return sol;\r\n        // add your code here\r\n    }\r\n}\r\n```","title":"Parenthesis Checker","body":"<p>Given an expression string x. Examine whether the pairs and the orders of <code>{,},(,),[,]</code> are correct in exp.\nFor example, the function should return 'true' for exp = <code>[()]{}{[()()]()}</code> and 'false' for exp = <code>[(])</code>.</p>\n<p>I am using an ArrayList to solve that. But I'm getting an ArrayIndexOutOfBoundsException.<br />\nNote: It can be implemented by Stack but I want to know the solution using my approach.</p>\n<p>This is what I tried to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    //Function to check if brackets are balanced or not.\n    static boolean ispar(String x) {\n        int n = x.length();\n        boolean sol = false;\n        ArrayList &lt; Character &gt; store = new ArrayList &lt; Character &gt; ();\n        if (n % 2 != 0 &amp;&amp; x.charAt(0) == ')' &amp;&amp; x.charAt(0) == '}' &amp;&amp; x.charAt(0) == ']') {\n            sol = false;\n        } else {\n            for (int i = 0; i &lt; n; i++) {\n                if (x.charAt(i) == '[') {\n                    store.add('[');\n                    store.add(']');\n                }\n                if (x.charAt(i) == '{') {\n                    store.add('{');\n                    store.add('}');\n                }\n                if (x.charAt(i) == '(') {\n                    store.add('(');\n                    store.add(')');\n                }\n                if (x.charAt(i) == ')') {\n                    store.remove(')');\n                    store.remove('(');\n                }\n                if (x.charAt(i) == '}') {\n                    store.remove('}');\n                    store.remove('{');\n                }\n                if (x.charAt(i) == ']') {\n                    store.add(']');\n                    store.add('[');\n                }\n            }\n            if (store.size() == 0) {\n                sol = true;\n            }\n\n        }\n        return sol;\n        // add your code here\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1679845922,"post_id":75848520,"comment_id":133789934,"body_markdown":"Could you please share your Patient entity code and the json which is being passed to the savePatient REST method. It looks like you have no id in it, or the entity is configured incorrectly","body":"Could you please share your Patient entity code and the json which is being passed to the savePatient REST method. It looks like you have no id in it, or the entity is configured incorrectly"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679846347,"post_id":75848520,"comment_id":133790019,"body_markdown":"Debugging is the best way to find out what is not working as expected. 1. Set breakpoints at the beginning of save and update methods in the controller class. 2. Click the submit button on the UI. 3. One of the breakpoints should be catched. 4. Is this the right method? If yes go line by line and check the flow and variables if as expected. If not - change the href in the UI. These are the steps I would take.","body":"Debugging is the best way to find out what is not working as expected. 1. Set breakpoints at the beginning of save and update methods in the controller class. 2. Click the submit button on the UI. 3. One of the breakpoints should be catched. 4. Is this the right method? If yes go line by line and check the flow and variables if as expected. If not - change the href in the UI. These are the steps I would take."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679946244,"creation_date":1679884091,"answer_id":75851699,"question_id":75848520,"body_markdown":"The reason for this is that you&#39;re just persisting what is passed in.  This is not an attached entity, so it creates a new one.  The way to handle this is to first query the database to retrieve the entity that matches the id that&#39;s passed in, then update the fields to what is passed in, then call save on this.\r\n\r\nConsider another change, don&#39;t use the same post method for create and update, use a PUT to follow the HTTP spec.  It can have the same URL.\r\n\r\n\r\nHere is an example of what your controller would look like.\r\n\r\n    @PutMapping(value=&quot;/save&quot;)\r\n    public ModelAndView savePatient(@ModelAttribute(&quot;patient&quot;) Patient patient) {\r\n        patientService.updatePatient(patient);\r\n        ModelAndView view = new ModelAndView(&quot;patient/doneSuccessfully&quot;);\r\n        return view;\r\n    }\r\n\r\nAnd the accompanying service\r\n\r\n    public void updatePatient(Patient patient) {\r\n        Patient persistedPatient = patientRepository.findById(patient.get PatientId());\r\n\r\n        // Do the work here to update the fields on persistedPatient from patient.\r\n        persistedPatient.setFileNo(patient.getFileNo());\r\n        persistedPatient.setPatientName(patient.getPatientName());\r\n        // ... etc\r\n        \r\n        // save back the persistedPatient\r\n        patientRepository.save(persistedPatient);\r\n    }\r\n\r\nOr, better yet, use a PATCH mapping and use json-patch. See [this](https://stackoverflow.com/questions/45200142/spring-rest-partial-update-with-patch-method/45200650#45200650)","title":"data is duplicating instead of updating","body":"<p>The reason for this is that you're just persisting what is passed in.  This is not an attached entity, so it creates a new one.  The way to handle this is to first query the database to retrieve the entity that matches the id that's passed in, then update the fields to what is passed in, then call save on this.</p>\n<p>Consider another change, don't use the same post method for create and update, use a PUT to follow the HTTP spec.  It can have the same URL.</p>\n<p>Here is an example of what your controller would look like.</p>\n<pre><code>@PutMapping(value=&quot;/save&quot;)\npublic ModelAndView savePatient(@ModelAttribute(&quot;patient&quot;) Patient patient) {\n    patientService.updatePatient(patient);\n    ModelAndView view = new ModelAndView(&quot;patient/doneSuccessfully&quot;);\n    return view;\n}\n</code></pre>\n<p>And the accompanying service</p>\n<pre><code>public void updatePatient(Patient patient) {\n    Patient persistedPatient = patientRepository.findById(patient.get PatientId());\n\n    // Do the work here to update the fields on persistedPatient from patient.\n    persistedPatient.setFileNo(patient.getFileNo());\n    persistedPatient.setPatientName(patient.getPatientName());\n    // ... etc\n    \n    // save back the persistedPatient\n    patientRepository.save(persistedPatient);\n}\n</code></pre>\n<p>Or, better yet, use a PATCH mapping and use json-patch. See <a href=\"https://stackoverflow.com/questions/45200142/spring-rest-partial-update-with-patch-method/45200650#45200650\">this</a></p>\n"}],"owner":{"account_id":25822289,"reputation":5,"user_id":19561158,"display_name":"AnkaraUniFedaisi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75851699,"answer_count":1,"score":0,"last_activity_date":1679946244,"creation_date":1679843086,"question_id":75848520,"body_markdown":"i&#39;m making a simple application and for some reason, instead of updating the current patient, i get duplicated code.[first created data](https://i.stack.imgur.com/SoLee.jpg) [when i change data](https://i.stack.imgur.com/hDAXb.jpg)\r\n\r\npatient entity:\r\n\r\n```\r\npackage com.laboratory.app.entity;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Table(name=&quot;patient&quot;)\r\npublic class Patient {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long patientId;\r\n\r\n    @Column(name=&quot;FileNo&quot;)\r\n    private int fileNo;\r\n    @Column(name=&quot;PatientName&quot;, nullable=false)\r\n    private String patientName;\r\n    @Column(name=&quot;PatientSurname&quot;, nullable=false)\r\n    private String patientSurname;\r\n    @Column(name=&quot;PatientDisease&quot;, nullable=false)\r\n    private String patientDisease;\r\n    @Column(name=&quot;DiagnosisInfo&quot;, nullable=false)\r\n    private String diagnosisInfo;\r\n    @Column(name=&quot;PatientSecurityNumber&quot;, nullable=false)\r\n    private Long patientSecurityNumber;\r\n    @Column\r\n    private LocalDate dateAdded;\r\n\r\n}\r\n```\r\n\r\nmy repo: \r\n\r\n```\r\npackage com.laboratory.app.repository;\r\nimport com.laboratory.app.entity.Patient;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\r\n\r\n    List&lt;Patient&gt; findAll(); // lists all the patients\r\n\r\n    List&lt;Patient&gt; findAllByOrderByDateAddedAsc(); // show data by newest to oldest\r\n\r\n    List&lt;Patient&gt; findAllByOrderByDateAddedDesc(); // show data by oldest to newest\r\n\r\n    void deleteById(Long id);\r\n\r\n    long count(); // return how many patients are there\r\n\r\n    Optional&lt;Patient&gt; findById(Long id); // return the @Entity by id\r\n\r\n    &lt;S extends Patient&gt; S save(S patient); // saves the patient into the database\r\n\r\n\r\n    // show related data regarding searched name (case)\r\n    List&lt;Patient&gt; findAllByPatientNameContainingIgnoreCase(String name);\r\n    List&lt;Patient&gt; findAllByPatientSurnameContainingIgnoreCase(String name);\r\n\r\n}\r\n\r\n```\r\n\r\nservice: \r\n\r\n```\r\npackage com.laboratory.app.service;\r\nimport com.laboratory.app.entity.Patient;\r\nimport com.laboratory.app.repository.PatientRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class PatientService {\r\n    @Autowired\r\n    PatientRepository patientRepository;\r\n\r\n    public List&lt;Patient&gt; listAllPatients() {\r\n        return patientRepository.findAll();\r\n    }\r\n\r\n    public void savePatient(Patient patient) {\r\n        patientRepository.save(patient);\r\n    }\r\n\r\n    public void deletePatient(Long id) {\r\n        patientRepository.deleteById(id);\r\n    }\r\n\r\n    public long getPatientNum() {\r\n        return patientRepository.count();\r\n    }\r\n\r\n    public Optional&lt;Patient&gt; findPatientById(Long id) {\r\n        return patientRepository.findById(id);\r\n    }\r\n\r\n\r\n    public List&lt;Patient&gt; findPatientByName(String name) {\r\n        return patientRepository.findAllByPatientNameContainingIgnoreCase(name);\r\n    }\r\n\r\n    public List&lt;Patient&gt; findPatientBySurname(String surname) {\r\n        return patientRepository.findAllByPatientSurnameContainingIgnoreCase(surname);\r\n    }\r\n\r\n    public List&lt;Patient&gt; getAllPatientsSortedByDateAdded(boolean ascending) {\r\n        if (ascending) {\r\n            return patientRepository.findAllByOrderByDateAddedAsc();\r\n        } else {\r\n            return patientRepository.findAllByOrderByDateAddedDesc();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nand controller:\r\n\r\n```\r\npackage com.laboratory.app.controller;\r\nimport com.laboratory.app.entity.Patient;\r\nimport com.laboratory.app.service.PatientService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class PatientController {\r\n\r\n    // Patient service object\r\n    @Autowired\r\n    private PatientService patientService;\r\n\r\n    @GetMapping(value=&quot;/register_patient&quot;)\r\n    public ModelAndView registerPatient(Model model) {\r\n        ModelAndView registerView = new ModelAndView(&quot;patient/registerPatient&quot;);\r\n        Patient newPatient = new Patient();\r\n        model.addAttribute(&quot;patient&quot;, newPatient);\r\n        return registerView;\r\n    }\r\n\r\n    @PostMapping(value=&quot;/save&quot;)\r\n    public ModelAndView savePatient(@ModelAttribute(&quot;patient&quot;) Patient patient) {\r\n        patientService.savePatient(patient);\r\n        ModelAndView view = new ModelAndView(&quot;patient/doneSuccessfully&quot;);\r\n        return view;\r\n    }\r\n\r\n    @GetMapping(value=&quot;/delete&quot;)\r\n    public ModelAndView deletePatient(@RequestParam(&quot;patientId&quot;) String id) {\r\n        ModelAndView view = new ModelAndView(&quot;patient/deleted&quot;);\r\n        patientService.deletePatient(Long.valueOf(id));\r\n        return view;\r\n    }\r\n\r\n    @GetMapping(value=&quot;/view_database&quot;)\r\n    public ModelAndView viewDatabase(Model model) {\r\n        List&lt;Patient&gt; theEmployees = patientService.listAllPatients();\r\n        model.addAttribute(&quot;patients&quot;, theEmployees);\r\n        ModelAndView view = new ModelAndView(&quot;viewDatabase&quot;);\r\n        return view;\r\n    }\r\n\r\n    @GetMapping(value=&quot;/update&quot;)\r\n    public ModelAndView updateDatabase(@RequestParam(&quot;patientId&quot;) String id, Model model) {\r\n        ModelAndView view = new ModelAndView(&quot;patient/updatePatient&quot;);\r\n        Patient updatedPat = patientService.findPatientById(Long.valueOf(id)).get();\r\n        model.addAttribute(&quot;patient&quot;, updatedPat);\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\nthere&#39;s no problem dealing with creating or deleting data, however each time when i want to update existing data, my code creates a new patient data.\r\n\r\ncouldn&#39;t find the solution on possible duplicates. i would like to provide any additional information you need. thank you.","title":"data is duplicating instead of updating","body":"<p>i'm making a simple application and for some reason, instead of updating the current patient, i get duplicated code.<a href=\"https://i.stack.imgur.com/SoLee.jpg\" rel=\"nofollow noreferrer\">first created data</a> <a href=\"https://i.stack.imgur.com/hDAXb.jpg\" rel=\"nofollow noreferrer\">when i change data</a></p>\n<p>patient entity:</p>\n<pre><code>package com.laboratory.app.entity;\nimport jakarta.persistence.*;\nimport lombok.*;\nimport java.time.LocalDate;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\n@Table(name=&quot;patient&quot;)\npublic class Patient {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long patientId;\n\n    @Column(name=&quot;FileNo&quot;)\n    private int fileNo;\n    @Column(name=&quot;PatientName&quot;, nullable=false)\n    private String patientName;\n    @Column(name=&quot;PatientSurname&quot;, nullable=false)\n    private String patientSurname;\n    @Column(name=&quot;PatientDisease&quot;, nullable=false)\n    private String patientDisease;\n    @Column(name=&quot;DiagnosisInfo&quot;, nullable=false)\n    private String diagnosisInfo;\n    @Column(name=&quot;PatientSecurityNumber&quot;, nullable=false)\n    private Long patientSecurityNumber;\n    @Column\n    private LocalDate dateAdded;\n\n}\n</code></pre>\n<p>my repo:</p>\n<pre><code>package com.laboratory.app.repository;\nimport com.laboratory.app.entity.Patient;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport java.util.List;\nimport java.util.Optional;\n\n@Repository\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\n\n    List&lt;Patient&gt; findAll(); // lists all the patients\n\n    List&lt;Patient&gt; findAllByOrderByDateAddedAsc(); // show data by newest to oldest\n\n    List&lt;Patient&gt; findAllByOrderByDateAddedDesc(); // show data by oldest to newest\n\n    void deleteById(Long id);\n\n    long count(); // return how many patients are there\n\n    Optional&lt;Patient&gt; findById(Long id); // return the @Entity by id\n\n    &lt;S extends Patient&gt; S save(S patient); // saves the patient into the database\n\n\n    // show related data regarding searched name (case)\n    List&lt;Patient&gt; findAllByPatientNameContainingIgnoreCase(String name);\n    List&lt;Patient&gt; findAllByPatientSurnameContainingIgnoreCase(String name);\n\n}\n\n</code></pre>\n<p>service:</p>\n<pre><code>package com.laboratory.app.service;\nimport com.laboratory.app.entity.Patient;\nimport com.laboratory.app.repository.PatientRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class PatientService {\n    @Autowired\n    PatientRepository patientRepository;\n\n    public List&lt;Patient&gt; listAllPatients() {\n        return patientRepository.findAll();\n    }\n\n    public void savePatient(Patient patient) {\n        patientRepository.save(patient);\n    }\n\n    public void deletePatient(Long id) {\n        patientRepository.deleteById(id);\n    }\n\n    public long getPatientNum() {\n        return patientRepository.count();\n    }\n\n    public Optional&lt;Patient&gt; findPatientById(Long id) {\n        return patientRepository.findById(id);\n    }\n\n\n    public List&lt;Patient&gt; findPatientByName(String name) {\n        return patientRepository.findAllByPatientNameContainingIgnoreCase(name);\n    }\n\n    public List&lt;Patient&gt; findPatientBySurname(String surname) {\n        return patientRepository.findAllByPatientSurnameContainingIgnoreCase(surname);\n    }\n\n    public List&lt;Patient&gt; getAllPatientsSortedByDateAdded(boolean ascending) {\n        if (ascending) {\n            return patientRepository.findAllByOrderByDateAddedAsc();\n        } else {\n            return patientRepository.findAllByOrderByDateAddedDesc();\n        }\n    }\n\n}\n\n</code></pre>\n<p>and controller:</p>\n<pre><code>package com.laboratory.app.controller;\nimport com.laboratory.app.entity.Patient;\nimport com.laboratory.app.service.PatientService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.ModelAndView;\nimport java.util.List;\n\n@RestController\npublic class PatientController {\n\n    // Patient service object\n    @Autowired\n    private PatientService patientService;\n\n    @GetMapping(value=&quot;/register_patient&quot;)\n    public ModelAndView registerPatient(Model model) {\n        ModelAndView registerView = new ModelAndView(&quot;patient/registerPatient&quot;);\n        Patient newPatient = new Patient();\n        model.addAttribute(&quot;patient&quot;, newPatient);\n        return registerView;\n    }\n\n    @PostMapping(value=&quot;/save&quot;)\n    public ModelAndView savePatient(@ModelAttribute(&quot;patient&quot;) Patient patient) {\n        patientService.savePatient(patient);\n        ModelAndView view = new ModelAndView(&quot;patient/doneSuccessfully&quot;);\n        return view;\n    }\n\n    @GetMapping(value=&quot;/delete&quot;)\n    public ModelAndView deletePatient(@RequestParam(&quot;patientId&quot;) String id) {\n        ModelAndView view = new ModelAndView(&quot;patient/deleted&quot;);\n        patientService.deletePatient(Long.valueOf(id));\n        return view;\n    }\n\n    @GetMapping(value=&quot;/view_database&quot;)\n    public ModelAndView viewDatabase(Model model) {\n        List&lt;Patient&gt; theEmployees = patientService.listAllPatients();\n        model.addAttribute(&quot;patients&quot;, theEmployees);\n        ModelAndView view = new ModelAndView(&quot;viewDatabase&quot;);\n        return view;\n    }\n\n    @GetMapping(value=&quot;/update&quot;)\n    public ModelAndView updateDatabase(@RequestParam(&quot;patientId&quot;) String id, Model model) {\n        ModelAndView view = new ModelAndView(&quot;patient/updatePatient&quot;);\n        Patient updatedPat = patientService.findPatientById(Long.valueOf(id)).get();\n        model.addAttribute(&quot;patient&quot;, updatedPat);\n        return view;\n    }\n}\n</code></pre>\n<p>there's no problem dealing with creating or deleting data, however each time when i want to update existing data, my code creates a new patient data.</p>\n<p>couldn't find the solution on possible duplicates. i would like to provide any additional information you need. thank you.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"score":0,"creation_date":1679946938,"post_id":75859749,"comment_id":133809233,"body_markdown":"I&#39;ve figured out (my silly brain took long enough) that I need to shade in the JAR. How do I do that?","body":"I&#39;ve figured out (my silly brain took long enough) that I need to shade in the JAR. How do I do that?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1679947111,"post_id":75859749,"comment_id":133809278,"body_markdown":"What do you mean by &quot;shade in the JAR&quot;? What package manager are you using for dependencies? I could be that the dependency jar is not being included in the final jar file","body":"What do you mean by &quot;shade in the JAR&quot;? What package manager are you using for dependencies? I could be that the dependency jar is not being included in the final jar file"},{"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"score":0,"creation_date":1679947268,"post_id":75859749,"comment_id":133809314,"body_markdown":"I ain&#39;t using any package managers, just regular maven compilation. By shade into the jar I mean add the hibernate lib to my jar when compiling.","body":"I ain&#39;t using any package managers, just regular maven compilation. By shade into the jar I mean add the hibernate lib to my jar when compiling."},{"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"score":0,"creation_date":1679947963,"post_id":75859749,"comment_id":133809465,"body_markdown":"ChatGPT helped me figure out that I was compiling with Java 8 and hibernate needs at least java 11. After switching to Java 11 now my code does not compile anymore.","body":"ChatGPT helped me figure out that I was compiling with Java 8 and hibernate needs at least java 11. After switching to Java 11 now my code does not compile anymore."}],"owner":{"account_id":27602368,"reputation":11,"user_id":21067336,"display_name":"Gargant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679945997,"creation_date":1679945997,"question_id":75859749,"body_markdown":"I must start by saying this is the first time I am using hibernate.\r\nThe error I am getting seems like a compilation failure, although I have both `hibernate-core` and `mysql-connector-j` as dependencies. \r\n\r\nThe way I initiate my session factory is the following:\r\n\r\n```\r\n        Configuration config = new Configuration();\r\n\r\n        DBDetails details = DBDetails.fromConfig(lib);\r\n\r\n        config.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;com.mysql.jdbc.Driver&quot;);\r\n        config.setProperty(&quot;hibernate.connection.url&quot;,\r\n                &quot;jdbc:mysql://&quot; + details.getHost() + &quot;:&quot; + details.getPort() + &quot;/&quot; + details.getDatabase());\r\n        config.setProperty(&quot;hibernate.connection.username&quot;, details.getUsername());\r\n        config.setProperty(&quot;hibernate.connection.password&quot;, details.getPassword());\r\n        config.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        config.setProperty(&quot;hibernate.connection.pool_size&quot;, &quot;1&quot;);\r\n\r\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                .applySettings(config.getProperties()).build();\r\n\r\n        this.sessionFactory = config.buildSessionFactory(serviceRegistry);\r\n```\r\n\r\nI have this `Vote` class that is declared in the following way:\r\n```\r\n@Entity\r\n@Table(name = &quot;votes&quot;)\r\n@Data\r\n@AllArgsConstructor\r\npublic class Vote {\r\n    @Id\r\n    @Column(name = &quot;voter&quot;)\r\n    private UUID voter;\r\n\r\n    @Column(name = &quot;voted&quot;)\r\n    private UUID voted;\r\n}\r\n```\r\n\r\nI am saving and retrieving vote info with the transaction methods that I&#39;ve found online:\r\n```\r\npublic void addVote(Vote vote) {\r\n        Session session = this.sessionFactory.getCurrentSession();\r\n        session.beginTransaction();\r\n        session.persist(vote);\r\n        session.getTransaction().commit();\r\n    }\r\n\r\n    public Vote getVote(String voter) {\r\n        Session session = this.sessionFactory.getCurrentSession();\r\n        session.beginTransaction();\r\n        Vote vote = session.get(Vote.class, voter);\r\n        session.getTransaction().commit();\r\n        return vote;\r\n    }\r\n```\r\n\r\nI am getting a NoClassDefFoundError when running the .jar client-side (compilation works fine).\r\n\r\nAny ideas on how to fix it and whether or not I must do anything to make the code functional afterwards?","title":"java.lang.NoClassDefFoundError: org/hibernate/service/ServiceRegistry error (not on compilation, but runtime)","body":"<p>I must start by saying this is the first time I am using hibernate.\nThe error I am getting seems like a compilation failure, although I have both <code>hibernate-core</code> and <code>mysql-connector-j</code> as dependencies.</p>\n<p>The way I initiate my session factory is the following:</p>\n<pre><code>        Configuration config = new Configuration();\n\n        DBDetails details = DBDetails.fromConfig(lib);\n\n        config.setProperty(&quot;hibernate.connection.driver_class&quot;, &quot;com.mysql.jdbc.Driver&quot;);\n        config.setProperty(&quot;hibernate.connection.url&quot;,\n                &quot;jdbc:mysql://&quot; + details.getHost() + &quot;:&quot; + details.getPort() + &quot;/&quot; + details.getDatabase());\n        config.setProperty(&quot;hibernate.connection.username&quot;, details.getUsername());\n        config.setProperty(&quot;hibernate.connection.password&quot;, details.getPassword());\n        config.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        config.setProperty(&quot;hibernate.connection.pool_size&quot;, &quot;1&quot;);\n\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                .applySettings(config.getProperties()).build();\n\n        this.sessionFactory = config.buildSessionFactory(serviceRegistry);\n</code></pre>\n<p>I have this <code>Vote</code> class that is declared in the following way:</p>\n<pre><code>@Entity\n@Table(name = &quot;votes&quot;)\n@Data\n@AllArgsConstructor\npublic class Vote {\n    @Id\n    @Column(name = &quot;voter&quot;)\n    private UUID voter;\n\n    @Column(name = &quot;voted&quot;)\n    private UUID voted;\n}\n</code></pre>\n<p>I am saving and retrieving vote info with the transaction methods that I've found online:</p>\n<pre><code>public void addVote(Vote vote) {\n        Session session = this.sessionFactory.getCurrentSession();\n        session.beginTransaction();\n        session.persist(vote);\n        session.getTransaction().commit();\n    }\n\n    public Vote getVote(String voter) {\n        Session session = this.sessionFactory.getCurrentSession();\n        session.beginTransaction();\n        Vote vote = session.get(Vote.class, voter);\n        session.getTransaction().commit();\n        return vote;\n    }\n</code></pre>\n<p>I am getting a NoClassDefFoundError when running the .jar client-side (compilation works fine).</p>\n<p>Any ideas on how to fix it and whether or not I must do anything to make the code functional afterwards?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5370605,"reputation":1140,"user_id":4279257,"accept_rate":65,"display_name":"Koushik Ravulapelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530048432,"creation_date":1530048432,"answer_id":51051587,"question_id":51051082,"body_markdown":"The default context path of the app would be `&quot;/&quot;` and there is neither `index.html` file is present nor a controller method for that path which is why you are seeing that `White label Error Page`. If you don&#39;t want to see that error, add the below property in your `application.properties` file then you would the `HTTP 404` Error. \r\n\r\n    server.error.whitelabel.enabled=false\r\n  \r\nFor the below method that you have in controller:  \r\nAnnotation that indicates a method return value should be bound to the web response body.  \r\n\r\n    @RequestMapping(path = {&quot;/vm&quot;}, method = {RequestMethod.GET})\r\n    public String template(Model model) {\r\n        return &quot;home&quot;;\r\n    }\r\n  \r\nGo to `http://localhost:8080/vm` this would load the `home.html` file that you have in templates folder.  \r\n  \r\nWhereas for this one:\r\n\r\n    @RequestMapping(path = {&quot;/index&quot;}, method = {RequestMethod.GET})\r\n    @ResponseBody\r\n    public String index() {\r\n        return &quot;Hello world&quot;;\r\n    }\r\n\r\nYou have used the annotation `@ResponseBody` which would indicate a method that the return value should be bound to the web response body, so you would see the text `Hello world` in the browser when you hit the `http://localhost:8080/index`","title":"I cannot load my templates in the Spring Boot 2","body":"<p>The default context path of the app would be <code>\"/\"</code> and there is neither <code>index.html</code> file is present nor a controller method for that path which is why you are seeing that <code>White label Error Page</code>. If you don't want to see that error, add the below property in your <code>application.properties</code> file then you would the <code>HTTP 404</code> Error. </p>\n\n<pre><code>server.error.whitelabel.enabled=false\n</code></pre>\n\n<p>For the below method that you have in controller:<br>\nAnnotation that indicates a method return value should be bound to the web response body.  </p>\n\n<pre><code>@RequestMapping(path = {\"/vm\"}, method = {RequestMethod.GET})\npublic String template(Model model) {\n    return \"home\";\n}\n</code></pre>\n\n<p>Go to <code>http://localhost:8080/vm</code> this would load the <code>home.html</code> file that you have in templates folder.  </p>\n\n<p>Whereas for this one:</p>\n\n<pre><code>@RequestMapping(path = {\"/index\"}, method = {RequestMethod.GET})\n@ResponseBody\npublic String index() {\n    return \"Hello world\";\n}\n</code></pre>\n\n<p>You have used the annotation <code>@ResponseBody</code> which would indicate a method that the return value should be bound to the web response body, so you would see the text <code>Hello world</code> in the browser when you hit the <code>http://localhost:8080/index</code></p>\n"},{"tags":[],"owner":{"account_id":13847908,"reputation":21,"user_id":9996616,"display_name":"yiyang zhou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530304555,"creation_date":1530304555,"answer_id":51109064,"question_id":51051082,"body_markdown":"I&#39;ve solved the problem myself. The thing is the dependency. I did not import the spring-boot-starter-thymeleaf from org.springframework.boot. The dependency is really hard to deal with in Spring.","title":"I cannot load my templates in the Spring Boot 2","body":"<p>I've solved the problem myself. The thing is the dependency. I did not import the spring-boot-starter-thymeleaf from org.springframework.boot. The dependency is really hard to deal with in Spring.</p>\n"},{"tags":[],"owner":{"account_id":14668216,"reputation":47,"user_id":10593431,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679945856,"creation_date":1679913398,"answer_id":75854733,"question_id":51051082,"body_markdown":"you should put this method in your controller and set &quot;myProject&quot; as parent of all pages path.\r\nfor example to load home.html : \r\nmyProject/home\r\n\r\n    \t@GetMapping({&quot;/myProject&quot; ,&quot;/myProject/&quot; ,&quot;/myProject/{page}&quot; , &quot;/myProject/{page}/&quot;})\r\n\tpublic String load_page( @Nullable @PathVariable String page  ) {\r\n\t\tif(page == null || page.isBlank()) page = &quot;index&quot;;\r\n\t\tif(page.endsWith(&quot;/&quot;)) page = page.substring(0, page.length()-1);\r\n\t\treturn page;\r\n\t}","title":"I cannot load my templates in the Spring Boot 2","body":"<p>you should put this method in your controller and set &quot;myProject&quot; as parent of all pages path.\nfor example to load home.html :\nmyProject/home</p>\n<pre><code>    @GetMapping({&quot;/myProject&quot; ,&quot;/myProject/&quot; ,&quot;/myProject/{page}&quot; , &quot;/myProject/{page}/&quot;})\npublic String load_page( @Nullable @PathVariable String page  ) {\n    if(page == null || page.isBlank()) page = &quot;index&quot;;\n    if(page.endsWith(&quot;/&quot;)) page = page.substring(0, page.length()-1);\n    return page;\n}\n</code></pre>\n"}],"owner":{"account_id":13847908,"reputation":21,"user_id":9996616,"display_name":"yiyang zhou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":744,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1679945856,"creation_date":1530045695,"question_id":51051082,"body_markdown":"I cannot access the templates I wrote under the templates folder. It will just redirect me to the Whitelabel Error Page. My structure is like this:my controller is under the `src/main/java/com.project/controller/IndexController.java` while my templates are under the `src/main/resources/templates/home.html`.My code in the controller is like this:\r\n\r\n    @Controller\r\n    public class IndexController {\r\n\r\n        @RequestMapping(path = {&quot;/vm&quot;}, method = {RequestMethod.GET})\r\n        public String template(Model model) {\r\n            return &quot;home&quot;;\r\n        }\r\n\r\n        @RequestMapping(path = {&quot;/index&quot;}, method = {RequestMethod.GET})\r\n        @ResponseBody\r\n        public String index() {\r\n            return &quot;Hello world&quot;;\r\n        }\r\n    }\r\n\r\nAnd my home.html is like this:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;pre&gt;\r\n        Hello World!\r\n    &lt;/pre&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"I cannot load my templates in the Spring Boot 2","body":"<p>I cannot access the templates I wrote under the templates folder. It will just redirect me to the Whitelabel Error Page. My structure is like this:my controller is under the <code>src/main/java/com.project/controller/IndexController.java</code> while my templates are under the <code>src/main/resources/templates/home.html</code>.My code in the controller is like this:</p>\n\n<pre><code>@Controller\npublic class IndexController {\n\n    @RequestMapping(path = {\"/vm\"}, method = {RequestMethod.GET})\n    public String template(Model model) {\n        return \"home\";\n    }\n\n    @RequestMapping(path = {\"/index\"}, method = {RequestMethod.GET})\n    @ResponseBody\n    public String index() {\n        return \"Hello world\";\n    }\n}\n</code></pre>\n\n<p>And my home.html is like this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;pre&gt;\n    Hello World!\n&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679943672,"post_id":75859374,"comment_id":133808529,"body_markdown":"32 threads?? How many cores do you have? And setup time is a factor.  Threads aren&#39;t always faster.","body":"32 threads?? How many cores do you have? And setup time is a factor.  Threads aren&#39;t always faster."},{"owner":{"account_id":15264878,"reputation":145,"user_id":15434658,"display_name":"Lex"},"score":0,"creation_date":1679943940,"post_id":75859374,"comment_id":133808589,"body_markdown":"pardon me 12 but the result is the same","body":"pardon me 12 but the result is the same"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1679992739,"post_id":75859374,"comment_id":133816129,"body_markdown":"Having multiple threads doesn&#39;t necessarily make things quicker. Btw there is a bug: `static int sum = 0;` means parallel run may compute different sum.","body":"Having multiple threads doesn&#39;t necessarily make things quicker. Btw there is a bug: <code>static int sum = 0;</code> means parallel run may compute different sum."},{"owner":{"account_id":15264878,"reputation":145,"user_id":15434658,"display_name":"Lex"},"score":0,"creation_date":1680018762,"post_id":75859374,"comment_id":133823532,"body_markdown":"thank you, I will rewrite it.","body":"thank you, I will rewrite it."}],"answers":[{"tags":[],"owner":{"account_id":365480,"reputation":1146,"user_id":2859911,"display_name":"Todoy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679943939,"creation_date":1679943939,"answer_id":75859490,"question_id":75859374,"body_markdown":"In this case since your tasks are so small the overhead of using threads is just not worth it.\r\n\r\nIf you want to use threads in this use-case make each task a larger chunk of work.","title":"Fork join pool of 2-Dimensional Array slower than running in one thread","body":"<p>In this case since your tasks are so small the overhead of using threads is just not worth it.</p>\n<p>If you want to use threads in this use-case make each task a larger chunk of work.</p>\n"},{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679945610,"creation_date":1679945610,"answer_id":75859717,"question_id":75859374,"body_markdown":"1. **The overhead of spawning new threads is much larger than your task at hand.** Benefits of parallelism are more pronounced when the task has substantial amount of computation involved or has operations like I/O which take time.\r\n2. Furthermore, **you should try to keep your number of threads according to the number of cores your CPU has**. Simply, spawning more threads won&#39;t help you since you are limited by your hardware resources, It will only increase the overhead for thread creation and switching between threads as well as the number of threads waiting in queue. Here is a resource explaining it in greater detail:\r\n&lt;https://unix.stackexchange.com/a/80427&gt;","title":"Fork join pool of 2-Dimensional Array slower than running in one thread","body":"<ol>\n<li><strong>The overhead of spawning new threads is much larger than your task at hand.</strong> Benefits of parallelism are more pronounced when the task has substantial amount of computation involved or has operations like I/O which take time.</li>\n<li>Furthermore, <strong>you should try to keep your number of threads according to the number of cores your CPU has</strong>. Simply, spawning more threads won't help you since you are limited by your hardware resources, It will only increase the overhead for thread creation and switching between threads as well as the number of threads waiting in queue. Here is a resource explaining it in greater detail:\n<a href=\"https://unix.stackexchange.com/a/80427\">https://unix.stackexchange.com/a/80427</a></li>\n</ol>\n"}],"owner":{"account_id":15264878,"reputation":145,"user_id":15434658,"display_name":"Lex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75859490,"answer_count":2,"score":0,"last_activity_date":1679945610,"creation_date":1679943173,"question_id":75859374,"body_markdown":"I&#39;m trying to use a fork join pool to sum my array.\r\nBut it somehow slower than running it in one thread. I can&#39;t understand why it happens.\r\n\r\none thread implementation\r\n\r\n    \tprivate static void calc(int[][] arr) {\r\n\t\tint sum = 0;\r\n\t\tint row = arr.length;\r\n\t\tint column = arr[0].length;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; row; i++) {\r\n\t\t\tfor (int j = 0; j &lt; column; j++) {\r\n\t\t\t\tsum += arr[i][j];\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;sum: &quot; + sum + &quot;\\n&quot;);\r\n\t}\r\n\r\nthen I use nanotime to measure performance\r\n\r\n    \tlong startTime = System.nanoTime();\r\n\t    calc(arr);\r\n\t    long stopTime = System.nanoTime();\r\n\t    System.out.println(&quot;one thread: &quot; + (stopTime - startTime) + &quot;\\n&quot;);\r\n\r\nforkJoin case\r\n\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.RecursiveAction;\r\n    \r\n    class ForkJoin extends RecursiveAction {\r\n      int maxCall;\r\n      int[] data;\r\n      int start, end;\r\n      public static int sum = 0;\r\n      \r\n      ForkJoin(int[] nums, int s, int e, int t) {\r\n        data = nums;\r\n        start = s;\r\n        end = e;\r\n        maxCall = t;\r\n      }\r\n    \r\n      protected void compute() {\r\n        if ((end - start) &lt; maxCall) {\r\n          for (int i = start; i &lt; end; i++) {\r\n        \t  sum += data[i];\r\n          }\r\n        } else {\r\n          int middle = (start + end) / 2;\r\n          invokeAll(new ForkJoin(data, start, middle, maxCall), new ForkJoin(data, middle, end, maxCall));\r\n        }\r\n      }\r\n    \r\n      \t\r\n      public ForkJoin(int[][] nums) {\r\n    \t    int threads = 32;\r\n    \t    int maxCall = 10000;\r\n    \t    long beginT, endT;\r\n    \r\n    \t    ForkJoinPool fjp = new ForkJoinPool(threads);\r\n    \r\n    \t    int row = nums.length;\r\n    \t\tint column = nums[0].length;\r\n    \t\tfor (int i = 0; i &lt; row; i++) {\r\n    \t\t\tForkJoin task = new ForkJoin(nums[i], 0, column, maxCall);\r\n    \t\t\tfjp.invoke(task);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;sum: &quot; + sum);\r\n      }\r\n    }\r\n\r\non arr[15][10] I got these numbers.\r\none thread: 402200\r\nfork join: 3241900","title":"Fork join pool of 2-Dimensional Array slower than running in one thread","body":"<p>I'm trying to use a fork join pool to sum my array.\nBut it somehow slower than running it in one thread. I can't understand why it happens.</p>\n<p>one thread implementation</p>\n<pre><code>    private static void calc(int[][] arr) {\n    int sum = 0;\n    int row = arr.length;\n    int column = arr[0].length;\n    \n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; column; j++) {\n            sum += arr[i][j];\n        }\n    }\n    System.out.print(&quot;sum: &quot; + sum + &quot;\\n&quot;);\n}\n</code></pre>\n<p>then I use nanotime to measure performance</p>\n<pre><code>    long startTime = System.nanoTime();\n    calc(arr);\n    long stopTime = System.nanoTime();\n    System.out.println(&quot;one thread: &quot; + (stopTime - startTime) + &quot;\\n&quot;);\n</code></pre>\n<p>forkJoin case</p>\n<pre><code>import java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveAction;\n\nclass ForkJoin extends RecursiveAction {\n  int maxCall;\n  int[] data;\n  int start, end;\n  public static int sum = 0;\n  \n  ForkJoin(int[] nums, int s, int e, int t) {\n    data = nums;\n    start = s;\n    end = e;\n    maxCall = t;\n  }\n\n  protected void compute() {\n    if ((end - start) &lt; maxCall) {\n      for (int i = start; i &lt; end; i++) {\n          sum += data[i];\n      }\n    } else {\n      int middle = (start + end) / 2;\n      invokeAll(new ForkJoin(data, start, middle, maxCall), new ForkJoin(data, middle, end, maxCall));\n    }\n  }\n\n    \n  public ForkJoin(int[][] nums) {\n        int threads = 32;\n        int maxCall = 10000;\n        long beginT, endT;\n\n        ForkJoinPool fjp = new ForkJoinPool(threads);\n\n        int row = nums.length;\n        int column = nums[0].length;\n        for (int i = 0; i &lt; row; i++) {\n            ForkJoin task = new ForkJoin(nums[i], 0, column, maxCall);\n            fjp.invoke(task);\n        }\n        System.out.println(&quot;sum: &quot; + sum);\n  }\n}\n</code></pre>\n<p>on arr[15][10] I got these numbers.\none thread: 402200\nfork join: 3241900</p>\n"},{"tags":["java","spring-boot","rest","client","webclient"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1635714456,"post_id":69790374,"comment_id":123362861,"body_markdown":"Is the save method the function which is sending the content data to the clients (the one under the API/@Controller)? Or is it a business service piece?","body":"Is the save method the function which is sending the content data to the clients (the one under the API/@Controller)? Or is it a business service piece?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1635714584,"post_id":69790374,"comment_id":123362892,"body_markdown":"yes it is. this method called into service layer of method , which called insert();","body":"yes it is. this method called into service layer of method , which called insert();"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1635714955,"post_id":69790374,"comment_id":123362978,"body_markdown":"I suspect the error is related to the &quot;data contract&quot; between the client and the server. Could you share the response payload (example the final part of your API controller or trying to enable some logging like on https://www.baeldung.com/spring-log-webclient-calls) or doing a manual post curl? The client is expecting some with the form of {&quot;message&quot;:&quot;&quot;, etc..} but the server is sending back other.","body":"I suspect the error is related to the &quot;data contract&quot; between the client and the server. Could you share the response payload (example the final part of your API controller or trying to enable some logging like on <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">baeldung.com/spring-log-webclient-calls</a>) or doing a manual post curl? The client is expecting some with the form of {&quot;message&quot;:&quot;&quot;, etc..} but the server is sending back other."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1695671423,"post_id":69790374,"comment_id":136053062,"body_markdown":"In my case, I just used Gson instead.","body":"In my case, I just used Gson instead."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635714762,"creation_date":1635712687,"answer_id":69790411,"question_id":69790374,"body_markdown":"It seems to me that you are sending a `message` property that is not expected at all by the service you are calling.\r\n\r\nYou are setting `BulkSmsRequestResourceTest` as both the body request and also the body response. Are you sure that the server is expecting `message` property in the request and will also include `message` in the response?\r\n\r\n\r\n----------\r\n\r\nYour additional code just shows this is in fact true. Your server is answering with a simple `String` (&quot;message success sended&quot;), but you are expecting it to be an object (`BulkSmsRequestResourceTest`). Please update your code to the following one:\r\n```java\r\n@Override\r\npublic Mono&lt;ResponseEntity&lt;? extends ResponseResource&gt;&gt; sendSms(BulkSmsRequestResourceTest request) {\r\n   if (request == null) {\r\n       return Mono.just(new ResponseEntity&lt;&gt;(\r\n               new ErrorResponseResource(\r\n                       &quot;Transaction failed unsuccessfully!&quot;,\r\n                       400),\r\n               HttpStatus.BAD_REQUEST));\r\n   }\r\n   Mono&lt;String&gt; bulkSmsRequestResourceMono = webClientBuilder.build()\r\n           .post()\r\n           .uri(sendSmsService)\r\n           .contentType(MediaType.APPLICATION_JSON)\r\n           .accept(MediaType.APPLICATION_JSON)\r\n           .body(Mono.just(request), BulkSmsRequestResourceTest.class)\r\n           .retrieve()\r\n           .bodyToMono(String.class);\r\n   bulkSmsRequestResourceMono.subscribe();\r\n   return Mono.just((new ResponseEntity&lt;&gt;(new SuccessResponseResource(&quot;Transaction done successfully&quot;, 200), HttpStatus.OK)));\r\n}\r\n```","title":"Unrecognized token &#39;message&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)","body":"<p>It seems to me that you are sending a <code>message</code> property that is not expected at all by the service you are calling.</p>\n<p>You are setting <code>BulkSmsRequestResourceTest</code> as both the body request and also the body response. Are you sure that the server is expecting <code>message</code> property in the request and will also include <code>message</code> in the response?</p>\n<hr />\n<p>Your additional code just shows this is in fact true. Your server is answering with a simple <code>String</code> (&quot;message success sended&quot;), but you are expecting it to be an object (<code>BulkSmsRequestResourceTest</code>). Please update your code to the following one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;ResponseEntity&lt;? extends ResponseResource&gt;&gt; sendSms(BulkSmsRequestResourceTest request) {\n   if (request == null) {\n       return Mono.just(new ResponseEntity&lt;&gt;(\n               new ErrorResponseResource(\n                       &quot;Transaction failed unsuccessfully!&quot;,\n                       400),\n               HttpStatus.BAD_REQUEST));\n   }\n   Mono&lt;String&gt; bulkSmsRequestResourceMono = webClientBuilder.build()\n           .post()\n           .uri(sendSmsService)\n           .contentType(MediaType.APPLICATION_JSON)\n           .accept(MediaType.APPLICATION_JSON)\n           .body(Mono.just(request), BulkSmsRequestResourceTest.class)\n           .retrieve()\n           .bodyToMono(String.class);\n   bulkSmsRequestResourceMono.subscribe();\n   return Mono.just((new ResponseEntity&lt;&gt;(new SuccessResponseResource(&quot;Transaction done successfully&quot;, 200), HttpStatus.OK)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635713274,"creation_date":1635713274,"answer_id":69790480,"question_id":69790374,"body_markdown":"If server got your request and it executed the expected logic, the problem should be related to its Json response and the structure of your `BulkSmsRequestResourceTest` class. \r\n\r\nThe error is during deserializing process, so your client has some data to convert. Probably your class or your object mapper settings are not configurated properly.\r\n\r\nIf you need more info, you should share:\r\n- `Json` response\r\n- `BulkSmsRequestResourceTest` class\r\n- `ObjectMapper` settings or tell if&#39;s the default one\r\n\r\n","title":"Unrecognized token &#39;message&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)","body":"<p>If server got your request and it executed the expected logic, the problem should be related to its Json response and the structure of your <code>BulkSmsRequestResourceTest</code> class.</p>\n<p>The error is during deserializing process, so your client has some data to convert. Probably your class or your object mapper settings are not configurated properly.</p>\n<p>If you need more info, you should share:</p>\n<ul>\n<li><code>Json</code> response</li>\n<li><code>BulkSmsRequestResourceTest</code> class</li>\n<li><code>ObjectMapper</code> settings or tell if's the default one</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16328939,"reputation":656,"user_id":11792830,"display_name":"Joey Carlisle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679945145,"creation_date":1679945145,"answer_id":75859648,"question_id":69790374,"body_markdown":"My issues was I needed to `JSON.stringify()` my data before making the API call in my front end.  I guess jquery wasn&#39;t doing that automatically","title":"Unrecognized token &#39;message&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)","body":"<p>My issues was I needed to <code>JSON.stringify()</code> my data before making the API call in my front end.  I guess jquery wasn't doing that automatically</p>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64934,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69790411,"answer_count":3,"score":5,"last_activity_date":1679945145,"creation_date":1635712292,"question_id":69790374,"body_markdown":"When I send a post request, I get this error.\r\n\r\n    Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;message&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n     at [Source: (io.netty.buffer.ByteBufInputStream); line: 1, column: 9]\r\n\r\nand this is Stack Trace:\r\n\r\n    Stack trace:\r\n    \t\tat org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:242) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \t\tat org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:198) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \t\tat org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$1(AbstractJackson2Decoder.java:179) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702) ~[reactor-netty-http-1.0.12.jar:1.0.12]\r\n    \r\nI have such a this JSON which sending to the server from client.\r\n\r\n    {\r\n      &quot;message&quot;: &quot;string&quot;,\r\n      &quot;originator&quot;: &quot;string&quot;,\r\n      &quot;receivers&quot;: &quot;string&quot;\r\n    }\r\n\r\nand this is my service layer method which generate Webclient codes in there.\r\n\r\n \r\n\r\n       @Override\r\n        public Mono&lt;ResponseEntity&lt;? extends ResponseResource&gt;&gt; sendSms(BulkSmsRequestResourceTest request) {\r\n            if (request == null) {\r\n                return Mono.just(new ResponseEntity&lt;&gt;(\r\n                        new ErrorResponseResource(\r\n                                &quot;Transaction failed unsuccessfully!&quot;,\r\n                                400),\r\n                        HttpStatus.BAD_REQUEST));\r\n            }\r\n            Mono&lt;BulkSmsRequestResourceTest&gt; bulkSmsRequestResourceMono = webClientBuilder.build()\r\n                    .post()\r\n                    .uri(sendSmsService)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .body(Mono.just(request), BulkSmsRequestResourceTest.class)\r\n                    .retrieve()\r\n                    .bodyToMono(BulkSmsRequestResourceTest.class);\r\n            bulkSmsRequestResourceMono.subscribe();\r\n            return Mono.just((new ResponseEntity&lt;&gt;(new SuccessResponseResource(&quot;Transaction done successfully&quot;, 200), HttpStatus.OK)));\r\n        }\r\n\r\nalthough I am getting error, but data successfully stored into database. \r\n\r\nThis is me dto class \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class BulkSmsRequestResourceTest {\r\n    \r\n        @JsonProperty(&quot;message&quot;)\r\n        private String message;\r\n    \r\n        @JsonProperty(&quot;receivers&quot;)\r\n        private String receivers;\r\n        \r\n        @JsonProperty(&quot;originator&quot;)\r\n        private String originator;\r\n    \r\n    }\r\n\r\nand this is my server response code:\r\n\r\n    @Override\r\n    public String save(BulkSmsRequestDto bulkSmsRequestDto) {\r\n    if (bulkSmsRequestDto == null) {\r\n        return &quot;message unsuccess sended&quot;;\r\n    }\r\n    BulkSms bulkSms = BulkSms.builder()\r\n            .message(bulkSmsRequestDto.getMessage())\r\n            .phoneNumber(bulkSmsRequestDto.getReceivers())\r\n            .originator(bulkSmsRequestDto.getOriginator())\r\n            .build();\r\n    this.bulkSmsRepository.save(bulkSms);\r\n    return &quot;message success sended&quot;;\r\n    }","title":"Unrecognized token &#39;message&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)","body":"<p>When I send a post request, I get this error.</p>\n<pre><code>Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'message': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n at [Source: (io.netty.buffer.ByteBufInputStream); line: 1, column: 9]\n</code></pre>\n<p>and this is Stack Trace:</p>\n<pre><code>Stack trace:\n        at org.springframework.http.codec.json.AbstractJackson2Decoder.processException(AbstractJackson2Decoder.java:242) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.http.codec.json.AbstractJackson2Decoder.decode(AbstractJackson2Decoder.java:198) ~[spring-web-5.3.12.jar:5.3.12]\n        at org.springframework.http.codec.json.AbstractJackson2Decoder.lambda$decodeToMono$1(AbstractJackson2Decoder.java:179) ~[spring-web-5.3.12.jar:5.3.12]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702) ~[reactor-netty-http-1.0.12.jar:1.0.12]\n</code></pre>\n<p>I have such a this JSON which sending to the server from client.</p>\n<pre><code>{\n  &quot;message&quot;: &quot;string&quot;,\n  &quot;originator&quot;: &quot;string&quot;,\n  &quot;receivers&quot;: &quot;string&quot;\n}\n</code></pre>\n<p>and this is my service layer method which generate Webclient codes in there.</p>\n<pre><code>   @Override\n    public Mono&lt;ResponseEntity&lt;? extends ResponseResource&gt;&gt; sendSms(BulkSmsRequestResourceTest request) {\n        if (request == null) {\n            return Mono.just(new ResponseEntity&lt;&gt;(\n                    new ErrorResponseResource(\n                            &quot;Transaction failed unsuccessfully!&quot;,\n                            400),\n                    HttpStatus.BAD_REQUEST));\n        }\n        Mono&lt;BulkSmsRequestResourceTest&gt; bulkSmsRequestResourceMono = webClientBuilder.build()\n                .post()\n                .uri(sendSmsService)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .body(Mono.just(request), BulkSmsRequestResourceTest.class)\n                .retrieve()\n                .bodyToMono(BulkSmsRequestResourceTest.class);\n        bulkSmsRequestResourceMono.subscribe();\n        return Mono.just((new ResponseEntity&lt;&gt;(new SuccessResponseResource(&quot;Transaction done successfully&quot;, 200), HttpStatus.OK)));\n    }\n</code></pre>\n<p>although I am getting error, but data successfully stored into database.</p>\n<p>This is me dto class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class BulkSmsRequestResourceTest {\n\n    @JsonProperty(&quot;message&quot;)\n    private String message;\n\n    @JsonProperty(&quot;receivers&quot;)\n    private String receivers;\n    \n    @JsonProperty(&quot;originator&quot;)\n    private String originator;\n\n}\n</code></pre>\n<p>and this is my server response code:</p>\n<pre><code>@Override\npublic String save(BulkSmsRequestDto bulkSmsRequestDto) {\nif (bulkSmsRequestDto == null) {\n    return &quot;message unsuccess sended&quot;;\n}\nBulkSms bulkSms = BulkSms.builder()\n        .message(bulkSmsRequestDto.getMessage())\n        .phoneNumber(bulkSmsRequestDto.getReceivers())\n        .originator(bulkSmsRequestDto.getOriginator())\n        .build();\nthis.bulkSmsRepository.save(bulkSms);\nreturn &quot;message success sended&quot;;\n}\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","mybatis"],"comments":[{"owner":{"account_id":6159040,"reputation":146,"user_id":4801213,"display_name":"9DA"},"score":1,"creation_date":1679944496,"post_id":75859545,"comment_id":133808705,"body_markdown":"Have you checked if it is a timezone issue?","body":"Have you checked if it is a timezone issue?"},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":0,"creation_date":1679944659,"post_id":75859545,"comment_id":133808741,"body_markdown":"What do you mean? How can I check this?","body":"What do you mean? How can I check this?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679944838,"post_id":75859545,"comment_id":133808781,"body_markdown":"Are you expecting that `05-23` is at `00:00` (midnight)? If so, then your result is just one hour behind (not necessarily a day). Note the difference between `systimestamp` and `DBTIMEZONE` is a 1-hour timezone offset: that `+01:00` is UTC+1. Your `date` command also noted that the system timezone is `BST` (aka `UTC+1`), so you&#39;re seeing the difference between your system&#39;s time and (potentially) your client&#39;s time. More information about how this date is created and read would be helpful.","body":"Are you expecting that <code>05-23</code> is at <code>00:00</code> (midnight)? If so, then your result is just one hour behind (not necessarily a day). Note the difference between <code>systimestamp</code> and <code>DBTIMEZONE</code> is a 1-hour timezone offset: that <code>+01:00</code> is UTC+1. Your <code>date</code> command also noted that the system timezone is <code>BST</code> (aka <code>UTC+1</code>), so you&#39;re seeing the difference between your system&#39;s time and (potentially) your client&#39;s time. More information about how this date is created and read would be helpful."},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":0,"creation_date":1679945195,"post_id":75859545,"comment_id":133808845,"body_markdown":"@Rogue So is the problem related with the system configuration? what should we change?","body":"@Rogue So is the problem related with the system configuration? what should we change?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1679945341,"post_id":75859545,"comment_id":133808874,"body_markdown":"You have for sure a timezone issue, Timezone BST is UTC+1, as `2023-05-22T23:00:00.000+0000` == `2023-05-23T00:00:00.000+0100`.\nWhere do you receive the date in your endpoint from and how do you pass it on to the answer of your REST endpoint?","body":"You have for sure a timezone issue, Timezone BST is UTC+1, as <code>2023-05-22T23:00:00.000+0000</code> == <code>2023-05-23T00:00:00.000+0100</code>. Where do you receive the date in your endpoint from and how do you pass it on to the answer of your REST endpoint?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1679945392,"post_id":75859545,"comment_id":133808891,"body_markdown":"A problem you have for sure is that `java.util.Date` and so also `java.sql.Date` do not store a timezone, so it depends on the way how you put the data into there if the systems timezone setting is relevant. Please also specify the Java version you are using.","body":"A problem you have for sure is that <code>java.util.Date</code> and so also <code>java.sql.Date</code> do not store a timezone, so it depends on the way how you put the data into there if the systems timezone setting is relevant. Please also specify the Java version you are using."},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":0,"creation_date":1679945931,"post_id":75859545,"comment_id":133809005,"body_markdown":"@cyberbrain The data are transformed to &quot;java&quot; from mybatis. I use Jackson to send the date back to the client.","body":"@cyberbrain The data are transformed to &quot;java&quot; from mybatis. I use Jackson to send the date back to the client."},{"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"score":1,"creation_date":1679947223,"post_id":75859545,"comment_id":133809305,"body_markdown":"@cyberbrain java 8","body":"@cyberbrain java 8"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1679982335,"post_id":75859545,"comment_id":133813916,"body_markdown":"I have no experience with MyBatis, so I would try to use `java.time.LocalDateTime` instead of `java.util.Date` - or if that doesn&#39;t work, `java.time.OffsetDateTime` or `java.time.ZonedDateTime`.  But `TIMESTAMP` usually doesn&#39;t store timezone information, so the problem comes from some conversion in Java.","body":"I have no experience with MyBatis, so I would try to use <code>java.time.LocalDateTime</code> instead of <code>java.util.Date</code> - or if that doesn&#39;t work, <code>java.time.OffsetDateTime</code> or <code>java.time.ZonedDateTime</code>.  But <code>TIMESTAMP</code> usually doesn&#39;t store timezone information, so the problem comes from some conversion in Java."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1680102735,"post_id":75859545,"comment_id":133841214,"body_markdown":"@GrafanaNext What is the exact type of the `D_DUE_DT` column? I think it only happens when the data type is `timestamp with local time zone`.","body":"@GrafanaNext What is the exact type of the <code>D_DUE_DT</code> column? I think it only happens when the data type is <code>timestamp with local time zone</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681163691,"post_id":75859545,"comment_id":134009555,"body_markdown":"Why do you say &quot;The date is always one day before at 23:00&quot;? This makes no sense.","body":"Why do you say &quot;The date is always one day before at 23:00&quot;? This makes no sense."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681163771,"post_id":75859545,"comment_id":134009570,"body_markdown":"FYI, both of the `Date` classes bundled with Java are terribly flawed. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"FYI, both of the <code>Date</code> classes bundled with Java are terribly flawed. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681163934,"post_id":75859545,"comment_id":134009588,"body_markdown":"Your whole question is confusing. Edit to state simply what code you ran, what result you got, and what result you expected. This bouncing around from JSON, to SQL, to XML is distracting, and seemingly unhelpful. At no point do you actually discuss the Java code that gave you an unexpected value in your JSON - so you neglected to document the very core of your Question.","body":"Your whole question is confusing. Edit to state simply what code you ran, what result you got, and what result you expected. This bouncing around from JSON, to SQL, to XML is distracting, and seemingly unhelpful. At no point do you actually discuss the Java code that gave you an unexpected value in your JSON - so you neglected to document the very core of your Question."}],"answers":[{"tags":[],"owner":{"account_id":6159040,"reputation":146,"user_id":4801213,"display_name":"9DA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679945011,"creation_date":1679945011,"answer_id":75859631,"question_id":75859545,"body_markdown":"The date returned from the REST API is in GMT (with the +0000 offset), which is causing the date to appear one day earlier at 23:00 instead of I guess 00:00 of the day you want. Your system is set to BST (= GMT+1), same for your DB.\r\n\r\nYou need to make sure that all components of your application are using the same time zone.","title":"Date field always in previous day in Java","body":"<p>The date returned from the REST API is in GMT (with the +0000 offset), which is causing the date to appear one day earlier at 23:00 instead of I guess 00:00 of the day you want. Your system is set to BST (= GMT+1), same for your DB.</p>\n<p>You need to make sure that all components of your application are using the same time zone.</p>\n"}],"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681245754,"accepted_answer_id":75859631,"answer_count":1,"score":-1,"last_activity_date":1679945072,"creation_date":1679944308,"question_id":75859545,"body_markdown":"I am facing an issue with dates in Java.\r\n\r\nMy stack is spring boot and MyBatis. My service (REST API) returns back\r\n\r\n``` lang-json\r\n{\r\n    &quot;currency&quot;: &quot;USD&quot;,\r\n    &quot;totalAmount&quot;: 120000,\r\n    &quot;dueDate&quot;: &quot;2023-05-22T23:00:00.000+0000&quot;,\r\n    &quot;financedAmount&quot;: 0,\r\n    &quot;unfinancedAmount&quot;: 120000\r\n}\r\n```\r\n\r\nI would expect back 2023-05-23T.... The date is always **one day** before at 23:00. \r\n\r\nThis is the date command at the system that runs the spring boot service. \r\n\r\n``` lang-bash\r\nadmin@ip-10-24-232-126:~$ date\r\nMon Mar 27 20:05:13 BST 2023\r\n```\r\n\r\nOracle that runs on another machine, gives these results\r\n\r\n1. `SELECT systimestamp FROM dual` -\\&gt; **2023-03-27 19:51:24.465096 +01:00**\r\n\r\n2. `SELECT DBTIMEZONE FROM dual;` -\\&gt; **+00:00**\r\n\r\nMy java entity defines the dueDate fiels as:\r\n\r\n``` lang-java\r\nprivate final Date dueDate;\r\n```\r\n\r\nand when I run the sql query from oracle (no java, just straight the select on sql developer) I got:\r\n2023-05-23 (at the due date column). My setup is java and mybatis, the mybatis framework transforms the dueDate with the following (XML) mapping.\r\n\r\n``` lang-xml\r\n&lt;result column=&quot;D_DUE_DT&quot; jdbcType=&quot;TIMESTAMP&quot; property=&quot;dueDate&quot; /&gt;\r\n```\r\n\r\nMy problem is that instead of receiving 2023-05-23T..., I receive 2023-05-22T.. How can I resolve this? I am not sure what the problem is. ","title":"Date field always in previous day in Java","body":"<p>I am facing an issue with dates in Java.</p>\n<p>My stack is spring boot and MyBatis. My service (REST API) returns back</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;currency&quot;: &quot;USD&quot;,\n    &quot;totalAmount&quot;: 120000,\n    &quot;dueDate&quot;: &quot;2023-05-22T23:00:00.000+0000&quot;,\n    &quot;financedAmount&quot;: 0,\n    &quot;unfinancedAmount&quot;: 120000\n}\n</code></pre>\n<p>I would expect back 2023-05-23T.... The date is always <strong>one day</strong> before at 23:00.</p>\n<p>This is the date command at the system that runs the spring boot service.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>admin@ip-10-24-232-126:~$ date\nMon Mar 27 20:05:13 BST 2023\n</code></pre>\n<p>Oracle that runs on another machine, gives these results</p>\n<ol>\n<li><p><code>SELECT systimestamp FROM dual</code> -&gt; <strong>2023-03-27 19:51:24.465096 +01:00</strong></p>\n</li>\n<li><p><code>SELECT DBTIMEZONE FROM dual;</code> -&gt; <strong>+00:00</strong></p>\n</li>\n</ol>\n<p>My java entity defines the dueDate fiels as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Date dueDate;\n</code></pre>\n<p>and when I run the sql query from oracle (no java, just straight the select on sql developer) I got:\n2023-05-23 (at the due date column). My setup is java and mybatis, the mybatis framework transforms the dueDate with the following (XML) mapping.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;result column=&quot;D_DUE_DT&quot; jdbcType=&quot;TIMESTAMP&quot; property=&quot;dueDate&quot; /&gt;\n</code></pre>\n<p>My problem is that instead of receiving 2023-05-23T..., I receive 2023-05-22T.. How can I resolve this? I am not sure what the problem is.</p>\n"},{"tags":["java","spring","intellij-idea","boot"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679765059,"post_id":75843040,"comment_id":133780931,"body_markdown":"you can check that container logs via terminal `docker logs myapp`","body":"you can check that container logs via terminal <code>docker logs myapp</code>"},{"owner":{"account_id":27053927,"reputation":5,"user_id":20606917,"display_name":"Sergio"},"score":0,"creation_date":1679770356,"post_id":75843040,"comment_id":133781666,"body_markdown":"thank you. Yes I can, but why is it impossible from Idea?","body":"thank you. Yes I can, but why is it impossible from Idea?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1679771633,"post_id":75843040,"comment_id":133781855,"body_markdown":"intellij also has terminal option, you can type in that attached terminal also.","body":"intellij also has terminal option, you can type in that attached terminal also."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679850735,"post_id":75843040,"comment_id":133790786,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679918390,"creation_date":1679918390,"answer_id":75855500,"question_id":75843040,"body_markdown":"Please update IDE to the latest version.","title":"Intellij Idea does not show logs in docker","body":"<p>Please update IDE to the latest version.</p>\n"},{"tags":[],"owner":{"account_id":27053927,"reputation":5,"user_id":20606917,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679944875,"creation_date":1679944875,"answer_id":75859614,"question_id":75843040,"body_markdown":"I have installed a new version and the issue had been resolved. So easy :)","title":"Intellij Idea does not show logs in docker","body":"<p>I have installed a new version and the issue had been resolved. So easy :)</p>\n"}],"owner":{"account_id":27053927,"reputation":5,"user_id":20606917,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75855500,"answer_count":2,"score":0,"last_activity_date":1679944875,"creation_date":1679761637,"question_id":75843040,"body_markdown":"I am using IntelliJ IDEA 2022, which is up to date. I have a Spring Boot application and a remote Docker. I can connect to docker through ssh (via putty, Idea ets) and it works fine. \r\nThe problem is when I deploy an application in Idea I can&#39;t see the log file. Can&#39;t see how the application starts and how the logging system works (sl4j), that is absolutely silent for me. Moreover, if I want to connect the app later and see the log in app it will not show  information for me, but if I start the app locally (without docker, only in Idea) it shows the needed data. \r\nCan anyone help to me with this little inconvenience and give me some advice how to set up Idea, network or something else to achieve the log data?\r\n\r\n\r\nI have googled but found no information :(","title":"Intellij Idea does not show logs in docker","body":"<p>I am using IntelliJ IDEA 2022, which is up to date. I have a Spring Boot application and a remote Docker. I can connect to docker through ssh (via putty, Idea ets) and it works fine.\nThe problem is when I deploy an application in Idea I can't see the log file. Can't see how the application starts and how the logging system works (sl4j), that is absolutely silent for me. Moreover, if I want to connect the app later and see the log in app it will not show  information for me, but if I start the app locally (without docker, only in Idea) it shows the needed data.\nCan anyone help to me with this little inconvenience and give me some advice how to set up Idea, network or something else to achieve the log data?</p>\n<p>I have googled but found no information :(</p>\n"},{"tags":["java","ssl","keystore","keytool","jceks"],"comments":[{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1679950508,"post_id":75859525,"comment_id":133809944,"body_markdown":"Probably you are using the default _truststore_ (cacerts file) without knowing that. Look for it and check if it contains the &quot;old&quot; certificate, if so, just add the new one.","body":"Probably you are using the default <i>truststore</i> (cacerts file) without knowing that. Look for it and check if it contains the &quot;old&quot; certificate, if so, just add the new one."},{"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"score":0,"creation_date":1679979788,"post_id":75859525,"comment_id":133813619,"body_markdown":"@Eugene no I don&#39;t think so, the java app is launched by pointing to the .jceks keystore : \n`-Djavax.net.ssl.keyStore=ff_key.jceks`","body":"@Eugene no I don&#39;t think so, the java app is launched by pointing to the .jceks keystore :  <code>-Djavax.net.ssl.keyStore=ff_key.jceks</code>"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1679990403,"post_id":75859525,"comment_id":133815486,"body_markdown":"dude I was talking about the _truststore_ not the _keystore_ . The app is using a truststore for sure even if you aren&#39;t aware of that. Maybe, have a look at the [doc](https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#CustomizingStores).","body":"dude I was talking about the <i>truststore</i> not the <i>keystore</i> . The app is using a truststore for sure even if you aren&#39;t aware of that. Maybe, have a look at the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#CustomizingStores\" rel=\"nofollow noreferrer\">doc</a>."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1679991074,"post_id":75859525,"comment_id":133815658,"body_markdown":"Could be that they are switching from a pre-shared key (PSK) configuration to one just offering server authentication (i.e. normal TLS). In that case they might send you a certificate that needs to be trusted by you to create the connection. I&#39;d definitely not replace the current key, I&#39;d add the certificate as trusted certificate under a different alias, then remove the secret key after getting a go or when the connection is using the server authentication. As it stands, you&#39;ve not provided enough information to compose an answer though, this is guesswork.","body":"Could be that they are switching from a pre-shared key (PSK) configuration to one just offering server authentication (i.e. normal TLS). In that case they might send you a certificate that needs to be trusted by you to create the connection. I&#39;d definitely not replace the current key, I&#39;d add the certificate as trusted certificate under a different alias, then remove the secret key after getting a go or when the connection is using the server authentication. As it stands, you&#39;ve not provided enough information to compose an answer though, this is guesswork."},{"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"score":0,"creation_date":1680073229,"post_id":75859525,"comment_id":133832993,"body_markdown":"@Eugene checked the default tuststore ( jre/lob/security/cacerts ) on the server hosting the app and it doesn&#39;t seem to contain the previous/old cert(s)..","body":"@Eugene checked the default tuststore ( jre/lob/security/cacerts ) on the server hosting the app and it doesn&#39;t seem to contain the previous/old cert(s).."}],"owner":{"account_id":5180018,"reputation":4424,"user_id":4146004,"accept_rate":83,"display_name":"nullPointer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679944873,"creation_date":1679944135,"question_id":75859525,"body_markdown":"So the platform/system we&#39;re subscribed to said they&#39;re renewing their certificates, and sent us the new ones. They sent 1 `.pem` and 1 `.crt` file with exactly the same content, which is basically just a certificate part (no key):\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    ...\r\n    -----END CERTIFICATE-----\r\n\r\nWe&#39;re on a 3rd party java app which has a **.jceks** keystore, containing just a `SecretKeyEntry`\r\n\r\n    Keystore type: JCEKS\r\n    Keystore provider: SunJCE\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    abcd, May 23, 2016, SecretKeyEntry,\r\n\r\nSo what am I supposed to do here ?\r\n\r\nI imported the cert with alias &quot;abcd&quot; but the app apparently expects a key as per the logs ? :\r\n\r\n     ConnectivityException: Error while decrypting [7v9wr8aOC+t3OEVGVzfBjw==] using cipher [AES]\r\n\r\n","title":"Install .pem or .crt without private key in JCEKS keystore","body":"<p>So the platform/system we're subscribed to said they're renewing their certificates, and sent us the new ones. They sent 1 <code>.pem</code> and 1 <code>.crt</code> file with exactly the same content, which is basically just a certificate part (no key):</p>\n<pre><code>-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n</code></pre>\n<p>We're on a 3rd party java app which has a <strong>.jceks</strong> keystore, containing just a <code>SecretKeyEntry</code></p>\n<pre><code>Keystore type: JCEKS\nKeystore provider: SunJCE\n\nYour keystore contains 1 entry\n\nabcd, May 23, 2016, SecretKeyEntry,\n</code></pre>\n<p>So what am I supposed to do here ?</p>\n<p>I imported the cert with alias &quot;abcd&quot; but the app apparently expects a key as per the logs ? :</p>\n<pre><code> ConnectivityException: Error while decrypting [7v9wr8aOC+t3OEVGVzfBjw==] using cipher [AES]\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679932947,"post_id":75857852,"comment_id":133805857,"body_markdown":"https://github.com/softbankrobotics-labs/pepper-gamepad/blob/master/pepper-gamepad-root/sample-app/src/main/java/com/softbankrobotics/peppergamepadsample/MainActivity.kt &lt; That&#39;s the main activity, if that&#39;s what you mean","body":"<a href=\"https://github.com/softbankrobotics-labs/pepper-gamepad/blob/master/pepper-gamepad-root/sample-app/src/main/java/com/softbankrobotics/peppergamepadsample/MainActivity.kt\" rel=\"nofollow noreferrer\">github.com/softbankrobotics-labs/pepper-gamepad/blob/master/&zwnj;&#8203;&hellip;</a> &lt; That&#39;s the main activity, if that&#39;s what you mean"},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679933307,"post_id":75857852,"comment_id":133805956,"body_markdown":"Also, AS 3.4.2 is pretty old, I&#39;d upgrade to the latest","body":"Also, AS 3.4.2 is pretty old, I&#39;d upgrade to the latest"},{"owner":{"account_id":28035123,"reputation":11,"user_id":21413650,"display_name":"Sanders"},"score":0,"creation_date":1679935931,"post_id":75857852,"comment_id":133806624,"body_markdown":"Whenever I try to run the program, I have to fill out a box that says Main class:____________. I have no idea what to put here, and I have tried a lot of different things but none of them have worked.","body":"Whenever I try to run the program, I have to fill out a box that says Main class:____________. I have no idea what to put here, and I have tried a lot of different things but none of them have worked."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679935959,"post_id":75857852,"comment_id":133806634,"body_markdown":"There is no Main class in an Android project. Doesn&#39;t matter if you&#39;re using Java or Kotlin.","body":"There is no Main class in an Android project. Doesn&#39;t matter if you&#39;re using Java or Kotlin."},{"owner":{"account_id":28035123,"reputation":11,"user_id":21413650,"display_name":"Sanders"},"score":0,"creation_date":1679936070,"post_id":75857852,"comment_id":133806664,"body_markdown":"ok, then why is it asking for it, and giving me an error that says Class not found whenever I try to run the program? I&#39;m just trying to understand what is happening and why.","body":"ok, then why is it asking for it, and giving me an error that says Class not found whenever I try to run the program? I&#39;m just trying to understand what is happening and why."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679937444,"post_id":75857852,"comment_id":133807052,"body_markdown":"What means are you using to try to run the program?","body":"What means are you using to try to run the program?"},{"owner":{"account_id":28035123,"reputation":11,"user_id":21413650,"display_name":"Sanders"},"score":0,"creation_date":1679937754,"post_id":75857852,"comment_id":133807121,"body_markdown":"I am trying to run the program in Android studio because that is the only way to connect to the robot that I am trying to run the program on.","body":"I am trying to run the program in Android studio because that is the only way to connect to the robot that I am trying to run the program on."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679938353,"post_id":75857852,"comment_id":133807282,"body_markdown":"I guess Gradle was unable to build it correctly","body":"I guess Gradle was unable to build it correctly"},{"owner":{"account_id":28035123,"reputation":11,"user_id":21413650,"display_name":"Sanders"},"score":0,"creation_date":1679939498,"post_id":75857852,"comment_id":133807569,"body_markdown":"I see. Well thanks for the help. I will see if I can tweak my approach to running it.","body":"I see. Well thanks for the help. I will see if I can tweak my approach to running it."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679944768,"creation_date":1679944768,"answer_id":75859602,"question_id":75857852,"body_markdown":"Android projects don&#39;t have a `main` function, if that&#39;s what you mean - there isn&#39;t really a *main class* either, you control what your app launches into through [intent filters][1]. The system is responsible for actually running things, and it ends up calling callback functions which are the entrypoint to your code - things like `onCreate` in an `Activity`, `onReceive` in a `BroadcastReceiver` etc.\r\n\r\nIn the app&#39;s manifest file (`AndroidManifest.xml`) you set one of your `Activities` to use a filter with the `action.MAIN` and `category.LAUNCHER` attributes, that&#39;s the Activity that opens when you start the app normally (e.g. by tapping the app icon in the launcher). That&#39;s the way you specify a *&quot;main&quot;* Activity, the main entry point to your app. [The sample app in the project you linked does this][2].\r\n\r\nIf you&#39;ve cloned that project and opened it, I&#39;m guessing that for some reason you don&#39;t have a *run configuration* that defines it as an Android app. Here&#39;s the default one from the docs:\r\n\r\n[![The default Run Configuration for an Android project][3]][3]\r\n\r\nIt doesn&#39;t need to ask for a *&quot;main class&quot;* because like we&#39;ve covered, Android apps don&#39;t have them! So make sure you&#39;re not trying to run this as a standalone Kotlin project (which has nothing to do with the Android framework). You can read more about Run Configurations [here][4]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/intents-filters\r\n  [2]: https://github.com/softbankrobotics-labs/pepper-gamepad/blob/master/pepper-gamepad-root/sample-app/src/main/AndroidManifest.xml\r\n  [3]: https://i.stack.imgur.com/IhQqb.png\r\n  [4]: https://developer.android.com/studio/run/rundebugconfig","title":"How to find the main class in this Kotlin project. I have tried everything I can think of and I can&#39;t find the main class","body":"<p>Android projects don't have a <code>main</code> function, if that's what you mean - there isn't really a <em>main class</em> either, you control what your app launches into through <a href=\"https://developer.android.com/guide/components/intents-filters\" rel=\"nofollow noreferrer\">intent filters</a>. The system is responsible for actually running things, and it ends up calling callback functions which are the entrypoint to your code - things like <code>onCreate</code> in an <code>Activity</code>, <code>onReceive</code> in a <code>BroadcastReceiver</code> etc.</p>\n<p>In the app's manifest file (<code>AndroidManifest.xml</code>) you set one of your <code>Activities</code> to use a filter with the <code>action.MAIN</code> and <code>category.LAUNCHER</code> attributes, that's the Activity that opens when you start the app normally (e.g. by tapping the app icon in the launcher). That's the way you specify a <em>&quot;main&quot;</em> Activity, the main entry point to your app. <a href=\"https://github.com/softbankrobotics-labs/pepper-gamepad/blob/master/pepper-gamepad-root/sample-app/src/main/AndroidManifest.xml\" rel=\"nofollow noreferrer\">The sample app in the project you linked does this</a>.</p>\n<p>If you've cloned that project and opened it, I'm guessing that for some reason you don't have a <em>run configuration</em> that defines it as an Android app. Here's the default one from the docs:</p>\n<p><a href=\"https://i.stack.imgur.com/IhQqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhQqb.png\" alt=\"The default Run Configuration for an Android project\" /></a></p>\n<p>It doesn't need to ask for a <em>&quot;main class&quot;</em> because like we've covered, Android apps don't have them! So make sure you're not trying to run this as a standalone Kotlin project (which has nothing to do with the Android framework). You can read more about Run Configurations <a href=\"https://developer.android.com/studio/run/rundebugconfig\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":28035123,"reputation":11,"user_id":21413650,"display_name":"Sanders"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679944768,"creation_date":1679932508,"question_id":75857852,"body_markdown":"for the past couple of days I have been trying to get specific program running in Android studio. One of the biggest problems with trying to get this program running is that I cannot find what the main class for the project is. I have tried everything I can possibly think of including reading several articles from android themselves about what the main class is and where it should be. I am beyond confused as to why I have not been able to find the main class even though I have looked everywhere. how exactly does one find the main class in a Kotlin project? I am also having difficulties specifying the JDK for some reason it is not appearing as an option to set it in the settings. I am running Android studio 3.4.2 if that matters in any way. I will like the project below:\r\n\r\nhttps://github.com/softbankrobotics-labs/pepper-gamepad\r\n\r\nThanks so much for the help!\r\n\r\n\r\nI have tried to find the main class for a Kotlin project so I can run it on my Pepper robot, but I have been unable to find it. I also cannot specify the JDK in the settings of Android Studio 3.4.2.","title":"How to find the main class in this Kotlin project. I have tried everything I can think of and I can&#39;t find the main class","body":"<p>for the past couple of days I have been trying to get specific program running in Android studio. One of the biggest problems with trying to get this program running is that I cannot find what the main class for the project is. I have tried everything I can possibly think of including reading several articles from android themselves about what the main class is and where it should be. I am beyond confused as to why I have not been able to find the main class even though I have looked everywhere. how exactly does one find the main class in a Kotlin project? I am also having difficulties specifying the JDK for some reason it is not appearing as an option to set it in the settings. I am running Android studio 3.4.2 if that matters in any way. I will like the project below:</p>\n<p><a href=\"https://github.com/softbankrobotics-labs/pepper-gamepad\" rel=\"nofollow noreferrer\">https://github.com/softbankrobotics-labs/pepper-gamepad</a></p>\n<p>Thanks so much for the help!</p>\n<p>I have tried to find the main class for a Kotlin project so I can run it on my Pepper robot, but I have been unable to find it. I also cannot specify the JDK in the settings of Android Studio 3.4.2.</p>\n"},{"tags":["java","angular","typescript","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":21167667,"reputation":274,"user_id":15564661,"display_name":"SparrowVic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679944534,"creation_date":1679944534,"answer_id":75859575,"question_id":75857085,"body_markdown":"To ensure that the list of employees is refreshed immediately after deleting an item, I suggest modifying the delete() function by adding a call to the method responsible for downloading the current list of employees from the server:\r\n\r\n    delete(employee: Employee, index: number): void {\r\n      if (employee.id != null) {\r\n        this.employeeService.delete(employee.id)\r\n          .pipe(\r\n            tap(() =&gt; this.employees.splice(index, 1)),\r\n            switchMap(() =&gt; this.employeeService.getEmployees())\r\n          )\r\n          .subscribe();\r\n      }\r\n    }\r\n\r\nCheck if your component has a getEmployees() method that retrieves a list of employees. If you don&#39;t have it, create it:\r\n\r\n    getEmployees(): Observable&lt;any&gt; {\r\n      return this.employeeService.getEmployees()\r\n        .pipe(\r\n            tap(employees =&gt; this.employees = employees)\r\n         );\r\n    }\r\n\r\nAs a result, each time an employee is removed from the list, the list will be updated immediately, which will allow you to keep track of the changes made.","title":"Angular does not expose the list when executing a delete request to the Spring server","body":"<p>To ensure that the list of employees is refreshed immediately after deleting an item, I suggest modifying the delete() function by adding a call to the method responsible for downloading the current list of employees from the server:</p>\n<pre><code>delete(employee: Employee, index: number): void {\n  if (employee.id != null) {\n    this.employeeService.delete(employee.id)\n      .pipe(\n        tap(() =&gt; this.employees.splice(index, 1)),\n        switchMap(() =&gt; this.employeeService.getEmployees())\n      )\n      .subscribe();\n  }\n}\n</code></pre>\n<p>Check if your component has a getEmployees() method that retrieves a list of employees. If you don't have it, create it:</p>\n<pre><code>getEmployees(): Observable&lt;any&gt; {\n  return this.employeeService.getEmployees()\n    .pipe(\n        tap(employees =&gt; this.employees = employees)\n     );\n}\n</code></pre>\n<p>As a result, each time an employee is removed from the list, the list will be updated immediately, which will allow you to keep track of the changes made.</p>\n"}],"owner":{"account_id":28138957,"reputation":1,"user_id":21502295,"display_name":"Alexey2177"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679944534,"creation_date":1679927950,"question_id":75857085,"body_markdown":"I wrote a basic request to the server to delete the object\r\n\r\n**employee.component.ts**\r\n```\r\ndelete(employee: Employee, index: number) {\r\n    if (employee.id != null) {\r\n      this.employeeService.delete(employee.id)\r\n        .subscribe(() =&gt; {\r\n          this.employees.splice(index, 1);\r\n        });\r\n    }\r\n }\r\n```\r\n\r\n**employee.service.ts**\r\n\r\n```\r\ndelete(id: number): Observable&lt;any&gt; {\r\n  const urlDelete:string = this.SERVER_API + id;\r\n  return this.http.delete&lt;Employee&gt;(urlDelete, this.httpOptions);\r\n}\r\n```\r\n\r\nAfter deletion, a change occurs on the server, until the list in employee.component.ts is updated only 2 times. How do I make the list update immediately after clicking the delete button?\r\n\r\n**employee.component.html**\r\n\r\n\r\n```\r\n&lt;tr *ngFor=&quot;let employee of employees; let i = index&quot;&gt;\r\n    &lt;td&gt;{{employee.name}}&lt;/td&gt;\r\n    &lt;td&gt;{{employee.surname}}&lt;/td&gt;\r\n    &lt;td&gt;{{employee.email}}&lt;/td&gt;\r\n    &lt;td&gt;{{employee.salary}}&lt;/td&gt;\r\n    &lt;td&gt;{{employee.department}}&lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;span class=&quot;btn btn-outline-primary&quot; routerLink=&quot;get-employee/{{employee.id}}&quot;&gt;View&lt;/span&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;span class=&quot;btn btn-outline-primary&quot; routerLink=&quot;update-employee/{{employee.id}}&quot;&gt;Update&lt;/span&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;\r\n      &lt;form (submit)=&quot;delete(employee, i)&quot;&gt;\r\n        &lt;button class=&quot;btn btn-outline-primary&quot; type=&quot;submit&quot;&gt;Delete&lt;/button&gt;\r\n      &lt;/form&gt;\r\n    &lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nAfter deletion, a change occurs on the server, until the list in employee.component.ts is updated only 2 times. How do I make the list update immediately after clicking the delete button?","title":"Angular does not expose the list when executing a delete request to the Spring server","body":"<p>I wrote a basic request to the server to delete the object</p>\n<p><strong>employee.component.ts</strong></p>\n<pre><code>delete(employee: Employee, index: number) {\n    if (employee.id != null) {\n      this.employeeService.delete(employee.id)\n        .subscribe(() =&gt; {\n          this.employees.splice(index, 1);\n        });\n    }\n }\n</code></pre>\n<p><strong>employee.service.ts</strong></p>\n<pre><code>delete(id: number): Observable&lt;any&gt; {\n  const urlDelete:string = this.SERVER_API + id;\n  return this.http.delete&lt;Employee&gt;(urlDelete, this.httpOptions);\n}\n</code></pre>\n<p>After deletion, a change occurs on the server, until the list in employee.component.ts is updated only 2 times. How do I make the list update immediately after clicking the delete button?</p>\n<p><strong>employee.component.html</strong></p>\n<pre><code>&lt;tr *ngFor=&quot;let employee of employees; let i = index&quot;&gt;\n    &lt;td&gt;{{employee.name}}&lt;/td&gt;\n    &lt;td&gt;{{employee.surname}}&lt;/td&gt;\n    &lt;td&gt;{{employee.email}}&lt;/td&gt;\n    &lt;td&gt;{{employee.salary}}&lt;/td&gt;\n    &lt;td&gt;{{employee.department}}&lt;/td&gt;\n    &lt;td&gt;\n      &lt;span class=&quot;btn btn-outline-primary&quot; routerLink=&quot;get-employee/{{employee.id}}&quot;&gt;View&lt;/span&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;span class=&quot;btn btn-outline-primary&quot; routerLink=&quot;update-employee/{{employee.id}}&quot;&gt;Update&lt;/span&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;form (submit)=&quot;delete(employee, i)&quot;&gt;\n        &lt;button class=&quot;btn btn-outline-primary&quot; type=&quot;submit&quot;&gt;Delete&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>After deletion, a change occurs on the server, until the list in employee.component.ts is updated only 2 times. How do I make the list update immediately after clicking the delete button?</p>\n"},{"tags":["java","jax-ws","bazel"],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679944472,"creation_date":1679680835,"question_id":75836878,"body_markdown":"I want to use Bazel to generate Java code based on a WSDL from a legacy API.\r\n\r\nI have found [this example](https://github.com/jhinrichsen/bazel-wsdl-java-weather-sample) but unfortunately it only works pre-java11 as it invokes `wsimport`. The typical migration path for java11 + WSDL is to use a Maven plugin e.g. [jaxws-maven-plugin](https://github.com/mojohaus/jaxws-maven-plugin/blob/cc10c14811d5da4c719334e11c3482143acba592/src/main/java/org/codehaus/mojo/jaxws/AbstractJaxwsMojo.java#L392) that will invoke [jaxws-ri](https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri).\r\n\r\nI think this approach could work but I do not know how to setup bazel to do it, for example changing this to invoke `java` to run `com.sun.tools.ws.wscompile.WsimportTool`\r\n\r\n```\r\ngenrule(\r\n    name = &quot;globalweather&quot;,\r\n    srcs = [&quot;@wsdl//file&quot;],  # $&lt;\r\n    outs = [&quot;globalweather.jar&quot;],  # $@\r\n    cmd = &quot;$(location @local_jdk//:wsimport) -clientjar $@ $&lt;&quot;,\r\n    tools = [\r\n        &quot;@local_jdk//:jdk-default&quot;,\r\n        &quot;@local_jdk//:wsimport&quot;,\r\n    ],\r\n)\r\n```","title":"How can I generate Java code from WSDL in Bazel","body":"<p>I want to use Bazel to generate Java code based on a WSDL from a legacy API.</p>\n<p>I have found <a href=\"https://github.com/jhinrichsen/bazel-wsdl-java-weather-sample\" rel=\"nofollow noreferrer\">this example</a> but unfortunately it only works pre-java11 as it invokes <code>wsimport</code>. The typical migration path for java11 + WSDL is to use a Maven plugin e.g. <a href=\"https://github.com/mojohaus/jaxws-maven-plugin/blob/cc10c14811d5da4c719334e11c3482143acba592/src/main/java/org/codehaus/mojo/jaxws/AbstractJaxwsMojo.java#L392\" rel=\"nofollow noreferrer\">jaxws-maven-plugin</a> that will invoke <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri\" rel=\"nofollow noreferrer\">jaxws-ri</a>.</p>\n<p>I think this approach could work but I do not know how to setup bazel to do it, for example changing this to invoke <code>java</code> to run <code>com.sun.tools.ws.wscompile.WsimportTool</code></p>\n<pre><code>genrule(\n    name = &quot;globalweather&quot;,\n    srcs = [&quot;@wsdl//file&quot;],  # $&lt;\n    outs = [&quot;globalweather.jar&quot;],  # $@\n    cmd = &quot;$(location @local_jdk//:wsimport) -clientjar $@ $&lt;&quot;,\n    tools = [\n        &quot;@local_jdk//:jdk-default&quot;,\n        &quot;@local_jdk//:wsimport&quot;,\n    ],\n)\n</code></pre>\n"},{"tags":["java","linux","javafx","java-8"],"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":0,"creation_date":1592875130,"post_id":21185156,"comment_id":110575120,"body_markdown":"If you&#39;re using Java 8, please try my answer below","body":"If you&#39;re using Java 8, please try my answer below"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1632905068,"creation_date":1390045997,"answer_id":21203726,"question_id":21185156,"body_markdown":"You should have a look at [this related bug][1] for help on how to troubleshoot your issue. In summary, the recommendations are:\r\n\r\n- run the application with the `-Dprism.verbose=true` flag\r\n- check the detailed log that is produced\r\n- it may point to a missing graphics library: GTK 2.18 is required to run JavaFX on linux\r\n\r\n [1]: https://bugs.openjdk.java.net/browse/JDK-8120519","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>You should have a look at <a href=\"https://bugs.openjdk.java.net/browse/JDK-8120519\" rel=\"nofollow noreferrer\">this related bug</a> for help on how to troubleshoot your issue. In summary, the recommendations are:</p>\n<ul>\n<li>run the application with the <code>-Dprism.verbose=true</code> flag</li>\n<li>check the detailed log that is produced</li>\n<li>it may point to a missing graphics library: GTK 2.18 is required to run JavaFX on linux</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2672488,"reputation":119,"user_id":2309544,"display_name":"Wesley Gomes"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1413925223,"creation_date":1413925223,"answer_id":26496221,"question_id":21185156,"body_markdown":"I solve this issue adding the libswt-gtk-3-java and gkt3 to my system.\r\n","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I solve this issue adding the libswt-gtk-3-java and gkt3 to my system.</p>\n"},{"tags":[],"owner":{"account_id":6728510,"reputation":164,"user_id":5185713,"display_name":"Lera Sinevich"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1474651727,"creation_date":1474651727,"answer_id":39666450,"question_id":21185156,"body_markdown":"The problem can be in your old JRE version, which doesn&#39;t contain all the necessary libraries, such as `libprism_es2.so` or `libglass.so`, which should be located in `/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64.\r\nTo check if this is the issue compile your Main.java` class from console \r\n\r\n    javac Main.java  \r\n    java -Dprism.verbose=true Main\r\n\r\nThe output should possibly be `java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/libprism_es2.so`.\r\n\r\nDownload latest JRE from the official Oracle website and copy lib folder to your current JRE location. That should be enough.","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>The problem can be in your old JRE version, which doesn't contain all the necessary libraries, such as <code>libprism_es2.so</code> or <code>libglass.so</code>, which should be located in <code>/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64.\nTo check if this is the issue compile your Main.java</code> class from console </p>\n\n<pre><code>javac Main.java  \njava -Dprism.verbose=true Main\n</code></pre>\n\n<p>The output should possibly be <code>java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/libprism_es2.so</code>.</p>\n\n<p>Download latest JRE from the official Oracle website and copy lib folder to your current JRE location. That should be enough.</p>\n"},{"tags":[],"owner":{"account_id":1130806,"reputation":1693,"user_id":1116914,"accept_rate":50,"display_name":"Pragalathan  M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481658807,"creation_date":1481658807,"answer_id":41129444,"question_id":21185156,"body_markdown":"It was failing for me because i didnt have gtk libs. After enabling `-Dprism.verbose=true` as mentioned by @assylias\r\n\r\ni could find and installed the following packages.\r\n\r\n    sudo apt-get install libgtk2.0-bin libXtst6 libxslt1.1\r\n\r\nIt fixed the problem","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>It was failing for me because i didnt have gtk libs. After enabling <code>-Dprism.verbose=true</code> as mentioned by @assylias</p>\n\n<p>i could find and installed the following packages.</p>\n\n<pre><code>sudo apt-get install libgtk2.0-bin libXtst6 libxslt1.1\n</code></pre>\n\n<p>It fixed the problem</p>\n"},{"tags":[],"owner":{"account_id":1602979,"reputation":8003,"user_id":1483676,"accept_rate":56,"display_name":"cubuspl42"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491490120,"creation_date":1491490120,"answer_id":43258575,"question_id":21185156,"body_markdown":"In my case, the issue was missing 32-bit dependencies on 64-bit distribution.\r\n\r\nFor me, the following command fixed the issue on Ubuntu 16.10 (x86-64):\r\n\r\n    sudo apt-get install libgtk2.0-0:i386 libxtst6:i386\r\n\r\n\r\nRelated questions:\r\n\r\n- [Ubuntu 64 bit Machinarium: error while loading shared libraries: libgtk-x11-2.0.so.0][1]\r\n- [Can&#39;t find/install libXtst.so.6?][2]\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/356605/ubuntu-64-bit-machinarium-error-while-loading-shared-libraries-libgtk-x11-2-0\r\n  [2]: https://stackoverflow.com/questions/17355863/cant-find-install-libxtst-so-6","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>In my case, the issue was missing 32-bit dependencies on 64-bit distribution.</p>\n\n<p>For me, the following command fixed the issue on Ubuntu 16.10 (x86-64):</p>\n\n<pre><code>sudo apt-get install libgtk2.0-0:i386 libxtst6:i386\n</code></pre>\n\n<p>Related questions:</p>\n\n<ul>\n<li><a href=\"https://askubuntu.com/questions/356605/ubuntu-64-bit-machinarium-error-while-loading-shared-libraries-libgtk-x11-2-0\">Ubuntu 64 bit Machinarium: error while loading shared libraries: libgtk-x11-2.0.so.0</a></li>\n<li><a href=\"https://stackoverflow.com/questions/17355863/cant-find-install-libxtst-so-6\">Can't find/install libXtst.so.6?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8626676,"reputation":367,"user_id":6459695,"display_name":"Ajay"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1503146985,"creation_date":1503139846,"answer_id":45770644,"question_id":21185156,"body_markdown":"You need to install OpenJFX:\r\n\r\n    apt-get install openjfx\r\n\r\nand then run the program.","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>You need to install OpenJFX:</p>\n\n<pre><code>apt-get install openjfx\n</code></pre>\n\n<p>and then run the program.</p>\n"},{"tags":[],"owner":{"account_id":11835018,"reputation":31,"user_id":8660610,"display_name":"Marco Doveri"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1506171011,"creation_date":1506168816,"answer_id":46379454,"question_id":21185156,"body_markdown":"For anyone in trouble with this problem using Eclipse, the solution can be found adding `-Dprism.verbose=true` to JVM arguments into the &quot;Debug options&quot; window (like already mentioned in other replies). After that, missing libraries will be listed into the console. \r\n\r\nHowever, **I solved simply downloading and installing Java from the Oracle&#39;s official page**. \r\n\r\nhttps://www.java.com/it/download/\r\n\r\nAfter that, you will find the Java folder under `/usr/java/jre-1.8.X_XXX` (it depends on which version you&#39;ve downloaded).\r\n\r\n**Then, open Eclipse and from Window-&gt;Preferences-&gt;Java-&gt;Installed JREs add a new JRE using the path mentioned above.**\r\n\r\nNow, **set workspace&#39;s JRE on the build path of your project.**\r\n\r\nIt should work now. \r\n\r\nYou can also set the JRE only for a specific project, in my case was more useful as general setting.\r\n\r\nSystem: Fedora 26 64 bit. (jre1.8.0_144).","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>For anyone in trouble with this problem using Eclipse, the solution can be found adding <code>-Dprism.verbose=true</code> to JVM arguments into the \"Debug options\" window (like already mentioned in other replies). After that, missing libraries will be listed into the console. </p>\n\n<p>However, <strong>I solved simply downloading and installing Java from the Oracle's official page</strong>. </p>\n\n<p><a href=\"https://www.java.com/it/download/\" rel=\"nofollow noreferrer\">https://www.java.com/it/download/</a></p>\n\n<p>After that, you will find the Java folder under <code>/usr/java/jre-1.8.X_XXX</code> (it depends on which version you've downloaded).</p>\n\n<p><strong>Then, open Eclipse and from Window->Preferences->Java->Installed JREs add a new JRE using the path mentioned above.</strong></p>\n\n<p>Now, <strong>set workspace's JRE on the build path of your project.</strong></p>\n\n<p>It should work now. </p>\n\n<p>You can also set the JRE only for a specific project, in my case was more useful as general setting.</p>\n\n<p>System: Fedora 26 64 bit. (jre1.8.0_144).</p>\n"},{"tags":[],"owner":{"account_id":12990294,"reputation":41,"user_id":9389700,"display_name":"Arnold Braine"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519200255,"creation_date":1519200255,"answer_id":48900817,"question_id":21185156,"body_markdown":"I found a solution that worked for me, the stacktrace has more to it than this line: \r\n\r\n    Graphics Device initialization failed for :  es2, sw.\r\n\r\nscroll up and you will find a line that looks like follow:\r\n\r\n    Caused by: java.lang.RuntimeException: java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/libglass.so\r\n\r\nNow download the new jdk from oracle, copy the missing file from there into the folder where the file is missing. \r\n\r\nI was missing 3 files in total that i copied, this may vary from person to person\r\n\r\nHope this helps some of you guys","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I found a solution that worked for me, the stacktrace has more to it than this line: </p>\n\n<pre><code>Graphics Device initialization failed for :  es2, sw.\n</code></pre>\n\n<p>scroll up and you will find a line that looks like follow:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64/libglass.so\n</code></pre>\n\n<p>Now download the new jdk from oracle, copy the missing file from there into the folder where the file is missing. </p>\n\n<p>I was missing 3 files in total that i copied, this may vary from person to person</p>\n\n<p>Hope this helps some of you guys</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542301529,"creation_date":1542301529,"answer_id":53324570,"question_id":21185156,"body_markdown":"The -Dprism option helped then a list of files was printed out:\r\n\r\n&gt; Can not open shared object file: File or directory not found.\r\n\r\n1. libgtk-x11-2.0.so.0\r\n2. libXxf86vm.so.1\r\n3. libGL.so.1\r\n\r\nAfter installing the packages it did work.","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>The -Dprism option helped then a list of files was printed out:</p>\n\n<blockquote>\n  <p>Can not open shared object file: File or directory not found.</p>\n</blockquote>\n\n<ol>\n<li>libgtk-x11-2.0.so.0</li>\n<li>libXxf86vm.so.1</li>\n<li>libGL.so.1</li>\n</ol>\n\n<p>After installing the packages it did work.</p>\n"},{"tags":[],"owner":{"account_id":4985886,"reputation":1814,"user_id":4009538,"display_name":"Adam Lee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545191519,"creation_date":1545191519,"answer_id":53844341,"question_id":21185156,"body_markdown":"For those on ArchLinux:\r\n`pacman -Sy java-openjfx` doesn&#39;t install the necessary `gtk2` package (GTK3 doesn&#39;t count).","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>For those on ArchLinux:\n<code>pacman -Sy java-openjfx</code> doesn't install the necessary <code>gtk2</code> package (GTK3 doesn't count).</p>\n"},{"tags":[],"owner":{"account_id":1326909,"reputation":1302,"user_id":1332486,"accept_rate":0,"display_name":"Paul Bormans"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550920603,"creation_date":1550920603,"answer_id":54841000,"question_id":21185156,"body_markdown":"On brand new Ubuntu 18.10 install i ran into the same issue when a preview of a markdown file is rendered in pycharm (community edition).\r\n\r\nI downloaded an oracle JRE (jre1.8.0_201) and used that instead of the jre that is shipped with pycharm but i got the same problem again.\r\n\r\nThen added the -Dprism.verbose=true option which revealed that libgtk-x11-2.0.so.0 is missing. Finally sudo apt-get install libgtk2.0-0 resolved the issue.\r\n\r\nThanks,\r\nPaul\r\n","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>On brand new Ubuntu 18.10 install i ran into the same issue when a preview of a markdown file is rendered in pycharm (community edition).</p>\n\n<p>I downloaded an oracle JRE (jre1.8.0_201) and used that instead of the jre that is shipped with pycharm but i got the same problem again.</p>\n\n<p>Then added the -Dprism.verbose=true option which revealed that libgtk-x11-2.0.so.0 is missing. Finally sudo apt-get install libgtk2.0-0 resolved the issue.</p>\n\n<p>Thanks,\nPaul</p>\n"},{"tags":[],"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1570609342,"creation_date":1570531460,"answer_id":58284813,"question_id":21185156,"body_markdown":"If you, like the original questioner, are using Java 8, you need to either install Oracle JDK 8 (good luck), or install OpenJFX 8 to go along with the OpenJDK 8.\r\n\r\nAt present, I can provide the exact instructions for Ubuntu 18.x. They may also work on other Debian-based systems. If you&#39;re using another OS, perhaps the package names listed below will lead you in the right direction.\r\n\r\nFirst, you need to discover which versions of OpenJFX are available on your distribution. Run this from the command line:\r\n```\r\n$ apt-cache policy openjfx\r\n```\r\n\r\nIn the **Version table** section, you&#39;ll likely see two choices. I currently see `11.0.2+1-1~18.04.2` and `8u161-b12-1ubuntu2` . The version beginning with 11 is the default, even though you&#39;ve (presumably) installed `openjdk-8-jdk`. You&#39;ll want the version beginning with the number 8. At the time of writing, this is `8u161-b12-1ubuntu2`.\r\n\r\nTo install OpenJFX and the related packages (assuming you&#39;re doing development work), first make sure you&#39;ve uninstalled any Java 11-based packages, because they&#39;ll (un)happily coexist with JDK 8, and cause you lots of problems.\r\n\r\n```\r\n$ sudo apt remove openjfx openjfx-source libopenjfx-java libopenjfx-jni\r\n```\r\n\r\nNext, install the correct versions (substituting whatever version you saw listed in the `policy` query for `8u161-b12-1ubuntu2`):\r\n```\r\n$ sudo apt install openjfx=8u161-b12-1ubuntu2 openjfx-source=8u161-b12-1ubuntu2 libopenjfx-java=8u161-b12-1ubuntu2 libopenjfx-jni=8u161-b12-1ubuntu2\r\n```\r\n\r\nUpdate: I noticed the next day that `sudo apt upgrade` (or automatic system updates) would &quot;upgrade&quot; the jfx packages I&#39;d so carefully chosen the version for. Here&#39;s how to prevent that from happening:\r\n```\r\n$ sudo apt-mark hold openjfx openjfx-source libopenjfx-java libopenjfx-jni\r\nopenjfx set on hold.\r\nopenjfx-source set on hold.\r\nlibopenjfx-java set on hold.\r\nlibopenjfx-jni set on hold.\r\n```\r\n\r\nYou can run `sudo apt showhold` any time to list the packages that are being held back.\r\n\r\n\r\nHaving those old-but-good packages installed resolved all the problems for me. I hope they can help you as well.","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>If you, like the original questioner, are using Java 8, you need to either install Oracle JDK 8 (good luck), or install OpenJFX 8 to go along with the OpenJDK 8.</p>\n\n<p>At present, I can provide the exact instructions for Ubuntu 18.x. They may also work on other Debian-based systems. If you're using another OS, perhaps the package names listed below will lead you in the right direction.</p>\n\n<p>First, you need to discover which versions of OpenJFX are available on your distribution. Run this from the command line:</p>\n\n<pre><code>$ apt-cache policy openjfx\n</code></pre>\n\n<p>In the <strong>Version table</strong> section, you'll likely see two choices. I currently see <code>11.0.2+1-1~18.04.2</code> and <code>8u161-b12-1ubuntu2</code> . The version beginning with 11 is the default, even though you've (presumably) installed <code>openjdk-8-jdk</code>. You'll want the version beginning with the number 8. At the time of writing, this is <code>8u161-b12-1ubuntu2</code>.</p>\n\n<p>To install OpenJFX and the related packages (assuming you're doing development work), first make sure you've uninstalled any Java 11-based packages, because they'll (un)happily coexist with JDK 8, and cause you lots of problems.</p>\n\n<pre><code>$ sudo apt remove openjfx openjfx-source libopenjfx-java libopenjfx-jni\n</code></pre>\n\n<p>Next, install the correct versions (substituting whatever version you saw listed in the <code>policy</code> query for <code>8u161-b12-1ubuntu2</code>):</p>\n\n<pre><code>$ sudo apt install openjfx=8u161-b12-1ubuntu2 openjfx-source=8u161-b12-1ubuntu2 libopenjfx-java=8u161-b12-1ubuntu2 libopenjfx-jni=8u161-b12-1ubuntu2\n</code></pre>\n\n<p>Update: I noticed the next day that <code>sudo apt upgrade</code> (or automatic system updates) would \"upgrade\" the jfx packages I'd so carefully chosen the version for. Here's how to prevent that from happening:</p>\n\n<pre><code>$ sudo apt-mark hold openjfx openjfx-source libopenjfx-java libopenjfx-jni\nopenjfx set on hold.\nopenjfx-source set on hold.\nlibopenjfx-java set on hold.\nlibopenjfx-jni set on hold.\n</code></pre>\n\n<p>You can run <code>sudo apt showhold</code> any time to list the packages that are being held back.</p>\n\n<p>Having those old-but-good packages installed resolved all the problems for me. I hope they can help you as well.</p>\n"},{"tags":[],"owner":{"account_id":18047142,"reputation":31,"user_id":13117823,"display_name":"The Code Implementation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585169593,"creation_date":1585138154,"answer_id":60848563,"question_id":21185156,"body_markdown":"Assuming you have setup JavaFX correctly, all you have to is add to **VM Options** the following line:\r\n\r\n    -p %path to javafx%/lib --add-modules javafx.controls,javafx.fxml\r\n\r\nTo edit VM Options in IntelliJ, you need to open **Run/Debug Configurations**. \r\n\r\n(Of course, change **%path to javafx%** so it points to your JavaFX folder location)","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>Assuming you have setup JavaFX correctly, all you have to is add to <strong>VM Options</strong> the following line:</p>\n\n<pre><code>-p %path to javafx%/lib --add-modules javafx.controls,javafx.fxml\n</code></pre>\n\n<p>To edit VM Options in IntelliJ, you need to open <strong>Run/Debug Configurations</strong>. </p>\n\n<p>(Of course, change <strong>%path to javafx%</strong> so it points to your JavaFX folder location)</p>\n"},{"tags":[],"owner":{"account_id":1310087,"reputation":39,"user_id":1258249,"display_name":"theAntonym"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641976420,"creation_date":1641976420,"answer_id":70678425,"question_id":21185156,"body_markdown":"I was getting this error message on `Ubuntu 20.04`. Here is what has worked for me. I went to Zulu to download the jdk 11. I selected the java version to be 11 and Java package as `JDK FX`. After installing the `.deb` file, I set up $JAVA_HOME on `.zshrc`:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/zulu-fx-11-amd64\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\nThis has solved my issue.","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I was getting this error message on <code>Ubuntu 20.04</code>. Here is what has worked for me. I went to Zulu to download the jdk 11. I selected the java version to be 11 and Java package as <code>JDK FX</code>. After installing the <code>.deb</code> file, I set up $JAVA_HOME on <code>.zshrc</code>:</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/zulu-fx-11-amd64\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>This has solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642380117,"creation_date":1642380117,"answer_id":70735408,"question_id":21185156,"body_markdown":"I was having this problem too. The issue for me was that I downloaded the aaarch64 version my fx global libraries. All you have to do is to download the x64 version of it. Try running your code again, it will probably work, it did for me. :)\r\n\r\nLink to download the fx lib files: https://gluonhq.com/products/javafx/","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I was having this problem too. The issue for me was that I downloaded the aaarch64 version my fx global libraries. All you have to do is to download the x64 version of it. Try running your code again, it will probably work, it did for me. :)</p>\n<p>Link to download the fx lib files: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n"},{"tags":[],"owner":{"account_id":24302097,"reputation":11,"user_id":18245425,"display_name":"Shasha Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645199929,"creation_date":1645199929,"answer_id":71176404,"question_id":21185156,"body_markdown":"The JavaFX aarch64 version is the cause of this problem in my computer. Problem solved by switching to x64 version. ","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>The JavaFX aarch64 version is the cause of this problem in my computer. Problem solved by switching to x64 version.</p>\n"},{"tags":[],"owner":{"account_id":4026739,"reputation":67,"user_id":3316534,"display_name":"Bruno Penha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679944048,"creation_date":1679944048,"answer_id":75859512,"question_id":21185156,"body_markdown":"I had the same error, but it was with a straightforward FX app, and I checked that this dependency was the main cause of this error:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOnce I have commented, and also commented, this &quot;requires javafx.graphics;&quot; from module-info, the app starts as expected...\r\n\r\nYes, it was weird, but it was how it working here","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I had the same error, but it was with a straightforward FX app, and I checked that this dependency was the main cause of this error:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;17.0.1&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once I have commented, and also commented, this &quot;requires javafx.graphics;&quot; from module-info, the app starts as expected...</p>\n<p>Yes, it was weird, but it was how it working here</p>\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76646,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":17,"score":49,"last_activity_date":1679944048,"creation_date":1389959073,"question_id":21185156,"body_markdown":"I&#39;ve just started coding/testing JavaFX stuff on Linux and I&#39;m facing an error at time to start a simple app. I found many people concerning about that in Foruns but I could find a clear explanation about the reasons why it happens. I&#39;d like to understand what is missing in my scenario to get it working.\r\n    \r\nAny suggestion will be really apreciated.\r\n    \r\nEnv info:\r\n------------------\r\n\r\n    java version &quot;1.8.0-ea&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0-ea-b123)\r\n    Java HotSpot(TM) Client VM (build 25.0-b65, mixed mode)\r\n    \r\n    Linux MYServer 2.6.21-1.3228.fc7 #1 SMP Tue Jun 12 15:37:31 EDT 2007 i686 i686 i386 GNU/Linux\r\n    \r\nException:\r\n------------------\r\n\r\n    Graphics Device initialization failed for :  es2, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:300)\r\n            at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:244)\r\n            at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:179)\r\n            at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:210)\r\n            at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:653)\r\n            at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:314)\r\n            at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:305)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:483)\r\n            at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:98)\r\n            at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:128)\r\n            at java.lang.Thread.run(Thread.java:744)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:483)\r\n            at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n    Caused by: java.lang.RuntimeException: No toolkit found\r\n            at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:191)\r\n            at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:210)\r\n            at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:653)\r\n            at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:314)\r\n            at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:305)\r\n","title":"JavaFX on Linux is showing a &quot;Graphics Device initialization failed for : es2, sw&quot;","body":"<p>I've just started coding/testing JavaFX stuff on Linux and I'm facing an error at time to start a simple app. I found many people concerning about that in Foruns but I could find a clear explanation about the reasons why it happens. I'd like to understand what is missing in my scenario to get it working.</p>\n\n<p>Any suggestion will be really apreciated.</p>\n\n<h2>Env info:</h2>\n\n<pre><code>java version \"1.8.0-ea\"\nJava(TM) SE Runtime Environment (build 1.8.0-ea-b123)\nJava HotSpot(TM) Client VM (build 25.0-b65, mixed mode)\n\nLinux MYServer 2.6.21-1.3228.fc7 #1 SMP Tue Jun 12 15:37:31 EDT 2007 i686 i686 i386 GNU/Linux\n</code></pre>\n\n<h2>Exception:</h2>\n\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:300)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:244)\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:179)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:210)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:653)\n        at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:314)\n        at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:305)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:98)\n        at com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:128)\n        at java.lang.Thread.run(Thread.java:744)\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:191)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:210)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:653)\n        at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:314)\n        at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:305)\n</code></pre>\n"},{"tags":["java","class","random"],"answers":[{"tags":[],"owner":{"account_id":7480007,"reputation":11,"user_id":5685043,"display_name":"Himanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679944011,"creation_date":1679941257,"answer_id":75859125,"question_id":75858658,"body_markdown":"You can view your problem as a user interacting with SlotMachine, and can have a class responsible for user actions while other class for SlotMachine feature and operations.\r\nUser will triggerSlot using SlotMachine.\r\nSlotMachine will perform the reels data population.\r\nSlotMachine will also evaluate the amount based on user trigger whether user win or loose.\r\n```\r\npublic class SlotMachine {\r\n    \r\n    static int[] symbols = new int[3]; // Create an array of three random numbers\r\n    static String[] logo = new String[3]; // Second Array to assign numbers to symbols\r\n    static final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\r\n\r\n\r\n    static void triggerSlot() {\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\r\n            symbols[i] = random.nextInt(10); //Random numbers from 0 - 9\r\n            //System.out.println(symbols[i]); Test to make sure list is looping properly\r\n        }\r\n        for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\r\n            logo[i] = allSymbols[symbols[i]];\r\n        }\r\n    }\r\n\r\n    static int runResult(int userBet, int amountWon) {\r\n        int a = symbols[0];\r\n        int b = symbols[1];\r\n        int c = symbols[2];\r\n        int doub; //Variable for reward when user matches two symbols\r\n        int trip; //Variable for reward when user matches three symbols\r\n        int jack; //Variable for reward when user matches three jackpot symbols\r\n\r\n        if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\r\n            System.out.println(&quot;You lost your $&quot; + userBet);\r\n            amountWon -= userBet;\r\n        } else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\r\n            jack = userBet * 100;\r\n            System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\r\n            amountWon += jack;\r\n        } else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\r\n            trip = userBet * 70;\r\n            System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip);\r\n            amountWon += trip;\r\n        } else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\r\n            doub = userBet * 30;\r\n            System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\r\n            amountWon += doub;\r\n        }\r\n        return amountWon;\r\n    }\r\n}\r\n```\r\n```\r\npublic class User {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n//\r\n        //Test each element in list to make sure obtaining correct values\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\r\n\r\n        // Simplify each element by assigning to single letter variables\r\n\r\n\r\n        String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\r\n        int userBet; // Variable for amount user bets\r\n\r\n        int amountWon = 0;\r\n\r\n        System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\r\n\r\n        do { //do-while loop for when answer variable is Y or y\r\n            userBet = scnr.nextInt(); // Take input for betting amount\r\n            if (userBet &lt; 10) { // Bet must be higher than $10\r\n                System.out.println(&quot;Bet must be higher then $10&quot;);\r\n            }else {\r\n              SlotMachine.triggerSlot();\r\n              amountWon = SlotMachine.runResult(userBet, amountWon);\r\n            }\r\n            System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\r\n            answer = scnr.next();\r\n        } while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\r\n        if (!answer.equals(&quot;Y&quot;)) {\r\n            if (amountWon &lt; 0) { //Print statement for when player is in the hold\r\n                System.out.println(&quot;You ended losing &quot; + amountWon + &quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);\r\n            } else { // Print statement for when player is in positive\r\n                System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso, I observe there is a bug in your approach, you populated the slots data once but while asking user for more bets you are not revising the data. Please check.","title":"Simple Slot Machine (Classes)","body":"<p>You can view your problem as a user interacting with SlotMachine, and can have a class responsible for user actions while other class for SlotMachine feature and operations.\nUser will triggerSlot using SlotMachine.\nSlotMachine will perform the reels data population.\nSlotMachine will also evaluate the amount based on user trigger whether user win or loose.</p>\n<pre><code>public class SlotMachine {\n    \n    static int[] symbols = new int[3]; // Create an array of three random numbers\n    static String[] logo = new String[3]; // Second Array to assign numbers to symbols\n    static final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\n\n\n    static void triggerSlot() {\n        Random random = new Random();\n        for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\n            symbols[i] = random.nextInt(10); //Random numbers from 0 - 9\n            //System.out.println(symbols[i]); Test to make sure list is looping properly\n        }\n        for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\n            logo[i] = allSymbols[symbols[i]];\n        }\n    }\n\n    static int runResult(int userBet, int amountWon) {\n        int a = symbols[0];\n        int b = symbols[1];\n        int c = symbols[2];\n        int doub; //Variable for reward when user matches two symbols\n        int trip; //Variable for reward when user matches three symbols\n        int jack; //Variable for reward when user matches three jackpot symbols\n\n        if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\n            System.out.println(&quot;You lost your $&quot; + userBet);\n            amountWon -= userBet;\n        } else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\n            jack = userBet * 100;\n            System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\n            amountWon += jack;\n        } else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\n            trip = userBet * 70;\n            System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip);\n            amountWon += trip;\n        } else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\n            doub = userBet * 30;\n            System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\n            amountWon += doub;\n        }\n        return amountWon;\n    }\n}\n</code></pre>\n<pre><code>public class User {\n\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n//\n        //Test each element in list to make sure obtaining correct values\n        //System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\n        //System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\n        //System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\n\n        // Simplify each element by assigning to single letter variables\n\n\n        String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\n        int userBet; // Variable for amount user bets\n\n        int amountWon = 0;\n\n        System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\n\n        do { //do-while loop for when answer variable is Y or y\n            userBet = scnr.nextInt(); // Take input for betting amount\n            if (userBet &lt; 10) { // Bet must be higher than $10\n                System.out.println(&quot;Bet must be higher then $10&quot;);\n            }else {\n              SlotMachine.triggerSlot();\n              amountWon = SlotMachine.runResult(userBet, amountWon);\n            }\n            System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\n            answer = scnr.next();\n        } while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\n        if (!answer.equals(&quot;Y&quot;)) {\n            if (amountWon &lt; 0) { //Print statement for when player is in the hold\n                System.out.println(&quot;You ended losing &quot; + amountWon + &quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);\n            } else { // Print statement for when player is in positive\n                System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>Also, I observe there is a bug in your approach, you populated the slots data once but while asking user for more bets you are not revising the data. Please check.</p>\n"}],"owner":{"account_id":26789641,"reputation":9,"user_id":20383257,"display_name":"EliKhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679944011,"creation_date":1679937966,"question_id":75858658,"body_markdown":"  I finally finished my simple slot machine code, however am struggling to understand classes a little bit. I want to Split this into two classes and not sure how to go about it. My idea is to take the first half which is doing the random generation. Creating a class called Reels, and putting the code in  method like public void spin(). Although, when I split it into another class and tried to call the spin method things got crazy... I apologize if this was not the easiest explanation and hope/appreciate any help I can get.   \r\n\r\n\r\n\r\n        import java.util.Scanner; \r\n        import java.util.Random;\r\n        import java.util.Arrays;\r\n           \r\n        \r\n        \r\n        public class LabProgram {\r\n        \r\n        \r\n           public static void main(String[] args) {\r\n              Scanner scnr = new Scanner(System.in);\r\n           \r\n              final int numReels = 3; //Declare how many reels spin on machine\r\n              Random random = new Random(); // Create Random\r\n        \r\n              int[ ] symbols = new int[numReels]; // Create an array of three random numbers\r\n              String[ ] logo = new String[numReels]; // Second Array to assign numbers to symbols\r\n              final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\r\n              \r\n              \r\n              for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\r\n                 symbols[ i ] = random.nextInt(10); //Random numbers from 0 - 9\r\n              //System.out.println(symbols[i]); Test to make sure list is looping properly\r\n              }\r\n              for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\r\n                 logo[i] = allSymbols[symbols[i]];\r\n        }\r\n                 \r\n              \r\n           //Test each element in list to make sure obtaining correct values\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\r\n        //System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\r\n           \r\n           // Simplify each element by assigning to single letter variables\r\n           int a = symbols[0];\r\n           int b = symbols[1];\r\n           int c = symbols[2];\r\n           \r\n           String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\r\n           int userBet; // Variable for amount user bets\r\n           int doub; //Variable for reward when user matches two symbols\r\n           int trip; //Variable for reward when user matches three symbols\r\n           int jack; //Variable for reward when user matches three jackpot symbols\r\n           int amountWon = 0;\r\n           \r\n           System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\r\n           \r\n           do { //do-while loop for when answer variable is Y or y\r\n           userBet = scnr.nextInt(); // Take input for betting amount\r\n           if (userBet &lt; 10) { // Bet must be higher than $10\r\n            System.out.println(&quot;Bet must be higher then $10&quot;);\r\n           }\r\n           \r\n           if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\r\n              System.out.println(&quot;You lost your $&quot; + userBet);\r\n              amountWon -= userBet;\r\n           }\r\n           else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\r\n            jack = userBet * 100;\r\n            System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\r\n            amountWon += jack;\r\n           }\r\n           else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\r\n            trip = userBet * 70;\r\n            System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip); \r\n            amountWon += trip;\r\n           }\r\n           else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\r\n            doub = userBet * 30;\r\n            System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\r\n            amountWon += doub;\r\n           }\r\n           System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\r\n           answer = scnr.next();\r\n        } while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\r\n          if (!answer.equals(&quot;Y&quot;)) {\r\n             if (amountWon &lt; 0) { //Print statement for when player is in the hold\r\n              System.out.println(&quot;You ended losing &quot; + amountWon +&quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);   \r\n             }\r\n             else { // Print statement for when player is in positive\r\n            System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;); \r\n             }\r\n           }\r\n          \r\n           }\r\n              \r\n           }\r\n\r\n\r\n\r\n\r\n\r\nBetter visual of how I am splitting code: \r\n\r\n    import java.util.Scanner; \r\n    import java.util.Random;\r\n    import java.util.Arrays;\r\n    \r\n    public class Reel {\r\n       \r\n       public void spin() {\r\n       final int numReels = 3; //Declare how many reels spin on machine\r\n          Random random = new Random(); // Create Random\r\n    \r\n          int[ ] symbols = new int[numReels]; // Create an array of three random numbers\r\n          String[ ] logo = new String[numReels]; // Second Array to assign numbers to symbols\r\n          final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\r\n          \r\n          \r\n          for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\r\n             symbols[ i ] = random.nextInt(10); //Random numbers from 0 - 9\r\n          //System.out.println(symbols[i]); Test to make sure list is looping properly\r\n          }\r\n          for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\r\n             logo[i] = allSymbols[symbols[i]];\r\n    }\r\n    }\r\n       \r\n    }\r\n\r\n    import java.util.Scanner; \r\n    import java.util.Random;\r\n    import java.util.Arrays;\r\n       \r\n    \r\n    \r\n    public class LabProgram {\r\n    \r\n    \r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n       Reel action = new Reel();\r\n             \r\n       action.spin();   \r\n       //Test each element in list to make sure obtaining correct values\r\n    //System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\r\n    //System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\r\n    //System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\r\n       \r\n       // Simplify each element by assigning to single letter variables\r\n       int a = symbols[0];\r\n       int b = symbols[1];\r\n       int c = symbols[2];\r\n       \r\n       String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\r\n       int userBet; // Variable for amount user bets\r\n       int doub; //Variable for reward when user matches two symbols\r\n       int trip; //Variable for reward when user matches three symbols\r\n       int jack; //Variable for reward when user matches three jackpot symbols\r\n       int amountWon = 0;\r\n       \r\n       System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\r\n       \r\n       do { //do-while loop for when answer variable is Y or y\r\n       userBet = scnr.nextInt(); // Take input for betting amount\r\n       if (userBet &lt; 10) { // Bet must be higher than $10\r\n        System.out.println(&quot;Bet must be higher then $10&quot;);\r\n       }\r\n       \r\n       if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\r\n          System.out.println(&quot;You lost your $&quot; + userBet);\r\n          amountWon -= userBet;\r\n       }\r\n       else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\r\n        jack = userBet * 100;\r\n        System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\r\n        amountWon += jack;\r\n       }\r\n       else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\r\n        trip = userBet * 70;\r\n        System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip); \r\n        amountWon += trip;\r\n       }\r\n       else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\r\n        doub = userBet * 30;\r\n        System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\r\n        amountWon += doub;\r\n       }\r\n       System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\r\n       answer = scnr.next();\r\n    } while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\r\n      if (!answer.equals(&quot;Y&quot;)) {\r\n         if (amountWon &lt; 0) { //Print statement for when player is in the hold\r\n          System.out.println(&quot;You ended losing &quot; + amountWon +&quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);   \r\n         }\r\n         else { // Print statement for when player is in positive\r\n        System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;); \r\n         }\r\n       }\r\n      \r\n       }\r\n          \r\n       }\r\n\r\n","title":"Simple Slot Machine (Classes)","body":"<p>I finally finished my simple slot machine code, however am struggling to understand classes a little bit. I want to Split this into two classes and not sure how to go about it. My idea is to take the first half which is doing the random generation. Creating a class called Reels, and putting the code in  method like public void spin(). Although, when I split it into another class and tried to call the spin method things got crazy... I apologize if this was not the easiest explanation and hope/appreciate any help I can get.</p>\n<pre><code>    import java.util.Scanner; \n    import java.util.Random;\n    import java.util.Arrays;\n       \n    \n    \n    public class LabProgram {\n    \n    \n       public static void main(String[] args) {\n          Scanner scnr = new Scanner(System.in);\n       \n          final int numReels = 3; //Declare how many reels spin on machine\n          Random random = new Random(); // Create Random\n    \n          int[ ] symbols = new int[numReels]; // Create an array of three random numbers\n          String[ ] logo = new String[numReels]; // Second Array to assign numbers to symbols\n          final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\n          \n          \n          for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\n             symbols[ i ] = random.nextInt(10); //Random numbers from 0 - 9\n          //System.out.println(symbols[i]); Test to make sure list is looping properly\n          }\n          for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\n             logo[i] = allSymbols[symbols[i]];\n    }\n             \n          \n       //Test each element in list to make sure obtaining correct values\n    //System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\n    //System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\n    //System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\n       \n       // Simplify each element by assigning to single letter variables\n       int a = symbols[0];\n       int b = symbols[1];\n       int c = symbols[2];\n       \n       String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\n       int userBet; // Variable for amount user bets\n       int doub; //Variable for reward when user matches two symbols\n       int trip; //Variable for reward when user matches three symbols\n       int jack; //Variable for reward when user matches three jackpot symbols\n       int amountWon = 0;\n       \n       System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\n       \n       do { //do-while loop for when answer variable is Y or y\n       userBet = scnr.nextInt(); // Take input for betting amount\n       if (userBet &lt; 10) { // Bet must be higher than $10\n        System.out.println(&quot;Bet must be higher then $10&quot;);\n       }\n       \n       if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\n          System.out.println(&quot;You lost your $&quot; + userBet);\n          amountWon -= userBet;\n       }\n       else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\n        jack = userBet * 100;\n        System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\n        amountWon += jack;\n       }\n       else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\n        trip = userBet * 70;\n        System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip); \n        amountWon += trip;\n       }\n       else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\n        doub = userBet * 30;\n        System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\n        amountWon += doub;\n       }\n       System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\n       answer = scnr.next();\n    } while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\n      if (!answer.equals(&quot;Y&quot;)) {\n         if (amountWon &lt; 0) { //Print statement for when player is in the hold\n          System.out.println(&quot;You ended losing &quot; + amountWon +&quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);   \n         }\n         else { // Print statement for when player is in positive\n        System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;); \n         }\n       }\n      \n       }\n          \n       }\n</code></pre>\n<p>Better visual of how I am splitting code:</p>\n<pre><code>import java.util.Scanner; \nimport java.util.Random;\nimport java.util.Arrays;\n\npublic class Reel {\n   \n   public void spin() {\n   final int numReels = 3; //Declare how many reels spin on machine\n      Random random = new Random(); // Create Random\n\n      int[ ] symbols = new int[numReels]; // Create an array of three random numbers\n      String[ ] logo = new String[numReels]; // Second Array to assign numbers to symbols\n      final String[] allSymbols = {&quot;Cherry&quot;, &quot;7&quot;, &quot;Grape&quot;, &quot;Orange&quot;, &quot;Lemon&quot;, &quot;Spade&quot;, &quot;Club&quot;, &quot;Diamond&quot;, &quot;Heart&quot;, &quot;Ace&quot;}; // A final list of what symbols there are\n      \n      \n      for (int i = 0; i &lt; symbols.length; ++i) { // Loop through the integer list to obtain random numbers\n         symbols[ i ] = random.nextInt(10); //Random numbers from 0 - 9\n      //System.out.println(symbols[i]); Test to make sure list is looping properly\n      }\n      for (int i = 0; i &lt; symbols.length; ++i) { // Assign second array to the correct symbol according to number\n         logo[i] = allSymbols[symbols[i]];\n}\n}\n   \n}\n\nimport java.util.Scanner; \nimport java.util.Random;\nimport java.util.Arrays;\n   \n\n\npublic class LabProgram {\n\n\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n   Reel action = new Reel();\n         \n   action.spin();   \n   //Test each element in list to make sure obtaining correct values\n//System.out.println(&quot;symbol #: &quot; + symbols[0] + &quot; logo: &quot; + logo[0]);\n//System.out.println(&quot;symbol #: &quot; + symbols[1] + &quot; logo: &quot; + logo[1]);\n//System.out.println(&quot;symbol #: &quot; + symbols[2] + &quot; logo: &quot; + logo[2]);\n   \n   // Simplify each element by assigning to single letter variables\n   int a = symbols[0];\n   int b = symbols[1];\n   int c = symbols[2];\n   \n   String answer = &quot;Y&quot;; // Variable to be used in while loop (continue playing or not)\n   int userBet; // Variable for amount user bets\n   int doub; //Variable for reward when user matches two symbols\n   int trip; //Variable for reward when user matches three symbols\n   int jack; //Variable for reward when user matches three jackpot symbols\n   int amountWon = 0;\n   \n   System.out.println(&quot;Welcome to the Simple Slot Machine! Enter a betting amount to spin!!&quot;); // Print intro to user\n   \n   do { //do-while loop for when answer variable is Y or y\n   userBet = scnr.nextInt(); // Take input for betting amount\n   if (userBet &lt; 10) { // Bet must be higher than $10\n    System.out.println(&quot;Bet must be higher then $10&quot;);\n   }\n   \n   if (a != b &amp;&amp; a != c &amp;&amp; b != c) { // When no symbols match the user loses amount that was bet\n      System.out.println(&quot;You lost your $&quot; + userBet);\n      amountWon -= userBet;\n   }\n   else if (a == 1 &amp;&amp; b == 1 &amp;&amp; c == 1) { // When all jackpot symbols match user wins Jackpot and adds to winnings\n    jack = userBet * 100;\n    System.out.println(&quot;Congratulations! You have won with a &quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; the jackpot of $&quot; + jack);\n    amountWon += jack;\n   }\n   else if (a == b &amp;&amp; b == c) { // When three symbols match user wins triple award and adds to winnings\n    trip = userBet * 70;\n    System.out.println(&quot;Congratulations, you have won with a Triple!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + trip); \n    amountWon += trip;\n   }\n   else if (a == b || a == c || b == c) { // When two symbols match user wins award and add to winnings\n    doub = userBet * 30;\n    System.out.println(&quot;Congratulations, you have won with a Double!&quot; + logo[0] + &quot;, &quot; + logo[1] + &quot;, &quot; + logo[2] + &quot; $&quot; + doub);\n    amountWon += doub;\n   }\n   System.out.println(&quot;Continue? Y/N &quot;); // Once awards accounted for ask if player continues or not\n   answer = scnr.next();\n} while (answer.equals(&quot;y&quot;) || answer.equals(&quot;Y&quot;));\n  if (!answer.equals(&quot;Y&quot;)) {\n     if (amountWon &lt; 0) { //Print statement for when player is in the hold\n      System.out.println(&quot;You ended losing &quot; + amountWon +&quot; dollars&quot; + &quot;, but people always stop before they hit it big!&quot;);   \n     }\n     else { // Print statement for when player is in positive\n    System.out.println(&quot;You ended with $&quot; + amountWon + &quot; come back again!&quot;); \n     }\n   }\n  \n   }\n      \n   }\n</code></pre>\n"},{"tags":["java","sql","google-cloud-platform","google-bigquery"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1679924155,"post_id":75856385,"comment_id":133803055,"body_markdown":"Does this answer your question? [Copy table structure alone in Bigquery](https://stackoverflow.com/questions/54053998/copy-table-structure-alone-in-bigquery)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54053998/copy-table-structure-alone-in-bigquery\">Copy table structure alone in Bigquery</a>"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1679924629,"post_id":75856385,"comment_id":133803216,"body_markdown":"You want to execute this query from a Java program ?","body":"You want to execute this query from a Java program ?"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1679925135,"post_id":75856385,"comment_id":133803377,"body_markdown":"@nbk. No it does not. I need a java solution. In your question there are only sql and python solutions.","body":"@nbk. No it does not. I need a java solution. In your question there are only sql and python solutions."},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1679925174,"post_id":75856385,"comment_id":133803390,"body_markdown":"@MazlumTosun I would like to use the java BQ api preferably. But executing the query could also help.","body":"@MazlumTosun I would like to use the java BQ api preferably. But executing the query could also help."},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1679925565,"post_id":75856385,"comment_id":133803493,"body_markdown":"if the orm you are using doesn&#39;t support this, you can always run the raw query, implement an extension for an orm is possible, but basically you only build a wrapper for the raw code, so no need to to it the hard way","body":"if the orm you are using doesn&#39;t support this, you can always run the raw query, implement an extension for an orm is possible, but basically you only build a wrapper for the raw code, so no need to to it the hard way"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1679932844,"post_id":75856385,"comment_id":133805822,"body_markdown":"Why don&#39;t you run your query with BigQuery Java client library?","body":"Why don&#39;t you run your query with BigQuery Java client library?"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1679937295,"post_id":75856385,"comment_id":133807013,"body_markdown":"@guillaumeblaquiere i want to know if there is a java library function for that. But running a raw query might be a temporary alternative","body":"@guillaumeblaquiere i want to know if there is a java library function for that. But running a raw query might be a temporary alternative"},{"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"score":0,"creation_date":1679947459,"post_id":75856385,"comment_id":133809365,"body_markdown":"If you want to know of there is &quot;a java library function&quot; for that then I suggest you use the search function in the documentation ...","body":"If you want to know of there is &quot;a java library function&quot; for that then I suggest you use the search function in the documentation ..."},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1679960968,"post_id":75856385,"comment_id":133811522,"body_markdown":"@arkascha I havent found any. Thats why I am here. Probably there is none and I wanted to hear from the smart people how they would do that.","body":"@arkascha I havent found any. Thats why I am here. Probably there is none and I wanted to hear from the smart people how they would do that."},{"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"score":0,"creation_date":1679980558,"post_id":75856385,"comment_id":133813698,"body_markdown":"What do you mean by &quot;I havent found any&quot;? Of course there is a documentation and it is extensive and complete: https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators?hl=en","body":"What do you mean by &quot;I havent found any&quot;? Of course there is a documentation and it is extensive and complete: <a href=\"https://cloud.google.com/bigquery/docs/reference/standard-sql/functions-and-operators?hl=en\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/reference/standard-sql/&hellip;</a>"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1679990522,"post_id":75856385,"comment_id":133815521,"body_markdown":"@arkascha As I mentioned in the question i am not seraching for an SQL solution. As you see I HAVE the desired sql script for. I was serching for a Java solution. And I actually found one by myself using com.google.cloud:google-cloud-bigquery","body":"@arkascha As I mentioned in the question i am not seraching for an SQL solution. As you see I HAVE the desired sql script for. I was serching for a Java solution. And I actually found one by myself using com.google.cloud:google-cloud-bigquery"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679943926,"creation_date":1679943926,"answer_id":75859486,"question_id":75856385,"body_markdown":"I see only 2 solutions:\r\n1. Perform an API call (with the client libraries or the API directly, no difference, the client library is a API call wrapper) to [insert a query job][1]. And put your create table query in it (the easiest)\r\n2. You can extract the schema of the source table and use the [insert table API call][2] (with or without the client library) to insert a new table with the same schema as the source table (don&#39;t forget to also copy the partition, retention, and other non schema related attribute from source to add them to the target)\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert\r\n  [2]: https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert","title":"How to create a new BigQuery Table using the Java API that copies a structure from another table?","body":"<p>I see only 2 solutions:</p>\n<ol>\n<li>Perform an API call (with the client libraries or the API directly, no difference, the client library is a API call wrapper) to <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/insert\" rel=\"nofollow noreferrer\">insert a query job</a>. And put your create table query in it (the easiest)</li>\n<li>You can extract the schema of the source table and use the <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/tables/insert\" rel=\"nofollow noreferrer\">insert table API call</a> (with or without the client library) to insert a new table with the same schema as the source table (don't forget to also copy the partition, retention, and other non schema related attribute from source to add them to the target)</li>\n</ol>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679953961,"answer_count":1,"score":-1,"last_activity_date":1679943926,"creation_date":1679923913,"question_id":75856385,"body_markdown":"I is possible to use the &quot;like&quot; keyword for a sql query. But how can I do it from java?\r\n\r\n    CREATE TABLE IF NOT EXISTS\r\n    destination_table LIKE source_table;\r\n\r\n\r\nThis is NOT a copy of this question: https://stackoverflow.com/questions/54053998/copy-table-structure-alone-in-bigquery\r\n\r\nI want to perform the LIKE operation from the java api. The question above does that only with sql. ","title":"How to create a new BigQuery Table using the Java API that copies a structure from another table?","body":"<p>I is possible to use the &quot;like&quot; keyword for a sql query. But how can I do it from java?</p>\n<pre><code>CREATE TABLE IF NOT EXISTS\ndestination_table LIKE source_table;\n</code></pre>\n<p>This is NOT a copy of this question: <a href=\"https://stackoverflow.com/questions/54053998/copy-table-structure-alone-in-bigquery\">Copy table structure alone in Bigquery</a></p>\n<p>I want to perform the LIKE operation from the java api. The question above does that only with sql.</p>\n"},{"tags":["java","time-complexity"],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603361150,"creation_date":1603361150,"answer_id":64479968,"question_id":64479722,"body_markdown":"Ignoring the syntax errors in your code snippet, the inner loop runs from `0` to `i`, where `i` increases each time the `for` is executed again. This gives the sum `0 + 1 + 2 + ... + n`.\r\n\r\nNow this sum was calculated by the young Gauss in the following way (for even n, but a similar construction works for odd n):\r\n\r\n    1 + n     = n+1\r\n    2 + (n-1) = n+1\r\n    3 + (n-2) = n+1\r\n    ...\r\n    n/2 + n/2+1 = n+1\r\n\r\nSo in total there are n/2 lines with a sum of n+1 each. This gives the result n*(n+1)/2","title":"Time complexity and Gauss Sum Identity in Java Nested Loops","body":"<p>Ignoring the syntax errors in your code snippet, the inner loop runs from <code>0</code> to <code>i</code>, where <code>i</code> increases each time the <code>for</code> is executed again. This gives the sum <code>0 + 1 + 2 + ... + n</code>.</p>\n<p>Now this sum was calculated by the young Gauss in the following way (for even n, but a similar construction works for odd n):</p>\n<pre><code>1 + n     = n+1\n2 + (n-1) = n+1\n3 + (n-2) = n+1\n...\nn/2 + n/2+1 = n+1\n</code></pre>\n<p>So in total there are n/2 lines with a sum of n+1 each. This gives the result n*(n+1)/2</p>\n"},{"tags":[],"owner":{"account_id":28141277,"reputation":1,"user_id":21504284,"display_name":"黄诗博"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679943608,"creation_date":1679943608,"answer_id":75859441,"question_id":64479722,"body_markdown":"Use nested loops and the code from CPS 150 Lab Project 19 (a childish sum) to produce the output below.  The outer loop control variable can be used to help display the output the inner loop.\r\n\r\nThe sum of positive integers from 1 to 1 is 1\r\nThe sum of positive integers from 1 to 2 is 3\r\nThe sum of positive integers from 1 to 3 is 6\r\nThe sum of positive integers from 1 to 4 is 10\r\nThe sum of positive integers from 1 to 5 is 15\r\n... output for integers 16 to 99\r\nThe sum of positive integers from 1 to 100 is 5050\r\n\r\nBecause we already have a program that computes 1 + 2 + ... + n for any positive integer n, we can embed that code in a second outer loop that loops 100 times.  The outer loop control variable can be used to control the number of times we loop and more importantly, it can be used to control the upper limit of the inner computation.\r\n","title":"Time complexity and Gauss Sum Identity in Java Nested Loops","body":"<p>Use nested loops and the code from CPS 150 Lab Project 19 (a childish sum) to produce the output below.  The outer loop control variable can be used to help display the output the inner loop.</p>\n<p>The sum of positive integers from 1 to 1 is 1\nThe sum of positive integers from 1 to 2 is 3\nThe sum of positive integers from 1 to 3 is 6\nThe sum of positive integers from 1 to 4 is 10\nThe sum of positive integers from 1 to 5 is 15\n... output for integers 16 to 99\nThe sum of positive integers from 1 to 100 is 5050</p>\n<p>Because we already have a program that computes 1 + 2 + ... + n for any positive integer n, we can embed that code in a second outer loop that loops 100 times.  The outer loop control variable can be used to control the number of times we loop and more importantly, it can be used to control the upper limit of the inner computation.</p>\n"}],"owner":{"account_id":19786908,"reputation":173,"user_id":14490695,"display_name":"JakeDrone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64479968,"answer_count":2,"score":0,"last_activity_date":1679943608,"creation_date":1603360370,"question_id":64479722,"body_markdown":"    public static int[] intSum(int[] arr2) {\r\n      int[] arr1 = new int[arr2.length];\r\n      for (int i = 0; i &lt; arr2.length; i++) {\r\n        for (int j = 0; j &lt;= i; j++) {\r\n          arr1[i] += arr2[j];\r\n         }\r\n      }\r\n      return arr1;\r\n    }\r\nGiven the method, we were told that the inner loop can be summarized using Gauss&#39;s sum identity, and as such, the complexity in polynomial form is \r\n\r\n`T(n) = c_0 + c_1 * n + c_2 * n + (1 + 2 + ... + (n-1)) * c_3`\r\n\r\n =&gt; `T(n) = c_0 + n * c_1 * n * c_2 * (n(n+1))/2 * c_3`\r\n\r\nI don&#39;t really understand this calculation. I get that `c_1 * n` is the array initialization which is `O(n)` in Java, and that `c_2 * n` would be the outer loop, but how does the sum up from `1` to `n-1` work here and how is that related to the inner loop?","title":"Time complexity and Gauss Sum Identity in Java Nested Loops","body":"<pre><code>public static int[] intSum(int[] arr2) {\n  int[] arr1 = new int[arr2.length];\n  for (int i = 0; i &lt; arr2.length; i++) {\n    for (int j = 0; j &lt;= i; j++) {\n      arr1[i] += arr2[j];\n     }\n  }\n  return arr1;\n}\n</code></pre>\n<p>Given the method, we were told that the inner loop can be summarized using Gauss's sum identity, and as such, the complexity in polynomial form is</p>\n<p><code>T(n) = c_0 + c_1 * n + c_2 * n + (1 + 2 + ... + (n-1)) * c_3</code></p>\n<p>=&gt; <code>T(n) = c_0 + n * c_1 * n * c_2 * (n(n+1))/2 * c_3</code></p>\n<p>I don't really understand this calculation. I get that <code>c_1 * n</code> is the array initialization which is <code>O(n)</code> in Java, and that <code>c_2 * n</code> would be the outer loop, but how does the sum up from <code>1</code> to <code>n-1</code> work here and how is that related to the inner loop?</p>\n"},{"tags":["java","postgresql","spring-boot","junit","data-jpa-test"],"owner":{"account_id":25192367,"reputation":55,"user_id":19032411,"display_name":"stakeika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679943557,"creation_date":1679943557,"question_id":75859430,"body_markdown":"I have a Spring Boot application which includes `UserRepository`, it `extends JpaRepository` and marked as `@Repository`. I want to create a test class `UserRepository` which starts like that:\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ExtendWith(SpringExtension.class)\r\n    @DataJpaTest\r\n    class UserRepositoryTest {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Test\r\n        void testFindByUsername_Ok() {\r\n    ...\r\n\r\nyaml configuration:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:mem:testdb\r\n        driver-class-name: org.h2.Driver\r\n        username: user\r\n        password: pwd\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n\r\nI have PostgreSQL database and want to use H2 as embedded DB for testing.\r\n\r\npom:\r\nparent: spring-boot-starter-parent 2.7.7\r\ndependencies: h2 2.1.214, postgresql 42.6.0, junit-jupiter-engine 5.9.2 (all latest for March 2023). \r\n\r\nWhile launching the test case, the following error occurs: \r\n\r\n&gt; Failed to load ApplicationContext. @ComponentScan ANNOTATION type\r\n&gt; filter requires an annotation type: UserRepository. I don&#39;t use\r\n&gt; @ComponentScan or @SpringBootApplication.\r\n\r\nI tried using those annotations on test class and they didn&#39;t help:\r\n\r\n    @EnableJpaRepositories(&quot;my.base.package.dao.repository&quot;)\r\n    @EntityScan(&quot;my.base.package.dao.model.&quot;)\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n\r\nPackage of test matches package of repository.\r\nI cannot add `@SpringBootTest` on my test because it conflicts with `@DataJpaTest`:\r\n\r\n&gt; Configuration error: found multiple declarations of @BootstrapWith for\r\n&gt; test class UserRepositoryTest.\r\n\r\nWhat am I missing here? How to sovle this problem: **Failed to load ApplicationContext @ComponentScan ANNOTATION type filter requires an annotation type**","title":"Repositoty Test error: Failed to load ApplicationContext @ComponentScan ANNOTATION type filter requires an annotation type: interface","body":"<p>I have a Spring Boot application which includes <code>UserRepository</code>, it <code>extends JpaRepository</code> and marked as <code>@Repository</code>. I want to create a test class <code>UserRepository</code> which starts like that:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension.class)\n@DataJpaTest\nclass UserRepositoryTest {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void testFindByUsername_Ok() {\n...\n</code></pre>\n<p>yaml configuration:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:testdb\n    driver-class-name: org.h2.Driver\n    username: user\n    password: pwd\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>I have PostgreSQL database and want to use H2 as embedded DB for testing.</p>\n<p>pom:\nparent: spring-boot-starter-parent 2.7.7\ndependencies: h2 2.1.214, postgresql 42.6.0, junit-jupiter-engine 5.9.2 (all latest for March 2023).</p>\n<p>While launching the test case, the following error occurs:</p>\n<blockquote>\n<p>Failed to load ApplicationContext. @ComponentScan ANNOTATION type\nfilter requires an annotation type: UserRepository. I don't use\n@ComponentScan or @SpringBootApplication.</p>\n</blockquote>\n<p>I tried using those annotations on test class and they didn't help:</p>\n<pre><code>@EnableJpaRepositories(&quot;my.base.package.dao.repository&quot;)\n@EntityScan(&quot;my.base.package.dao.model.&quot;)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n</code></pre>\n<p>Package of test matches package of repository.\nI cannot add <code>@SpringBootTest</code> on my test because it conflicts with <code>@DataJpaTest</code>:</p>\n<blockquote>\n<p>Configuration error: found multiple declarations of @BootstrapWith for\ntest class UserRepositoryTest.</p>\n</blockquote>\n<p>What am I missing here? How to sovle this problem: <strong>Failed to load ApplicationContext @ComponentScan ANNOTATION type filter requires an annotation type</strong></p>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1533437522,"post_id":24039476,"comment_id":90343792,"body_markdown":"Similar Question: [*Generate an HTML page, and open in a new window, from a Vaadin 8 app*](https://stackoverflow.com/q/51691041/642706)","body":"Similar Question: <a href=\"https://stackoverflow.com/q/51691041/642706\"><i>Generate an HTML page, and open in a new window, from a Vaadin 8 app</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":3440462,"reputation":5298,"user_id":2882550,"accept_rate":65,"display_name":"VH-NZZ"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1401890682,"creation_date":1401890682,"answer_id":24039630,"question_id":24039476,"body_markdown":"    getUI().getPage().open(&quot;http://www.google.com&quot;, &quot;_blank&quot;);\r\n\r\nThe `_blank` window name is important here. Beware that you may also have browsers that &lt;strike&gt;will&lt;/strike&gt; might open the resource in a new window instead.\r\n\r\nThere is also another signature to the `open()` method, i.e.\r\n\r\n    open(String url, String windowName, boolean tryToOpenAsPopup) \r\nthat may fit the bill. HTH.\r\n\r\nReferences: [Page (Vaadin 7.2.1 API)][1].\r\n\r\n\r\n  [1]: https://vaadin.com/api/com/vaadin/server/Page.html#setLocation%28java.lang.String%29","title":"Vaadin open link in new tab","body":"<pre><code>getUI().getPage().open(\"http://www.google.com\", \"_blank\");\n</code></pre>\n\n<p>The <code>_blank</code> window name is important here. Beware that you may also have browsers that <strike>will</strike> might open the resource in a new window instead.</p>\n\n<p>There is also another signature to the <code>open()</code> method, i.e.</p>\n\n<pre><code>open(String url, String windowName, boolean tryToOpenAsPopup) \n</code></pre>\n\n<p>that may fit the bill. HTH.</p>\n\n<p>References: <a href=\"https://vaadin.com/api/com/vaadin/server/Page.html#setLocation%28java.lang.String%29\">Page (Vaadin 7.2.1 API)</a>.</p>\n"},{"tags":[],"owner":{"account_id":274509,"reputation":369,"user_id":566784,"accept_rate":60,"display_name":"sreg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425680588,"creation_date":1425680588,"answer_id":28908689,"question_id":24039476,"body_markdown":"Try the following code:\r\n\r\n    BrowserWindowOpener opener = new BrowserWindowOpener(new ExternalResource(url));\r\n    opener.setFeatures(&quot;&quot;);\r\n    opener.extend(button);","title":"Vaadin open link in new tab","body":"<p>Try the following code:</p>\n\n<pre><code>BrowserWindowOpener opener = new BrowserWindowOpener(new ExternalResource(url));\nopener.setFeatures(\"\");\nopener.extend(button);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3628376,"reputation":9881,"user_id":3025330,"display_name":"vitfo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538995487,"creation_date":1538995487,"answer_id":52700568,"question_id":24039476,"body_markdown":"It depends on what you want to achieve.\r\n\r\n**Solution 1**\r\n\r\nIf you want your button to open a new tab, the BrowserWindowOpener might be the right solution.\r\n\r\n    Button viewBtn = new Button(&quot;Click me&quot;);\r\n    BrowserWindowOpener opener = new BrowserWindowOpener(new ExternalResource(&quot;http://www.example.com&quot;));\r\n    opener.setWindowName(&quot;_blank&quot;);\r\n    opener.extend(viewBtn);\r\n\r\n\r\n**Solution 2**\r\n\r\nYour button should open in a new tab only when Ctrl (Alt, Shift, ...) key on the keyboard is hold. If not, open in existing tab.\r\nIn this case you can try to open a new tab using Page#open() method. Be aware that browsers will probably try to block your action and will warn user that they have blocked a pop-up window (even though it is not a pop-up but a new tab).\r\n\r\n\r\n    Button viewBtn = new Button(&quot;Click me&quot;, VaadinIcons.EYE);\r\n    viewBtn.addClickListener(ev -&gt; {\r\n      if (ev.isCtrlKey()) {\r\n          Page.getCurrent().open(&quot;http://www.example.com&quot;, &quot;_blank&quot;, false);\r\n      } else {\r\n          Page.getCurrent().setLocation(&quot;http://www.example.com&quot;);\r\n      }\r\n    });\r\n\r\n**Solution 3**\r\n\r\nIf you want the common behavior when the left click opens in existing tab and the middle mouse button click in a new tab, use the link instead of the button. In this case browsers probably let you open a new tab.\r\n\r\n    Link link = new Link(null, new ExternalResource(UriUtil.createAdUri(ad)));\r\n    link.setIcon(VaadinIcons.EYE);","title":"Vaadin open link in new tab","body":"<p>It depends on what you want to achieve.</p>\n\n<p><strong>Solution 1</strong></p>\n\n<p>If you want your button to open a new tab, the BrowserWindowOpener might be the right solution.</p>\n\n<pre><code>Button viewBtn = new Button(\"Click me\");\nBrowserWindowOpener opener = new BrowserWindowOpener(new ExternalResource(\"http://www.example.com\"));\nopener.setWindowName(\"_blank\");\nopener.extend(viewBtn);\n</code></pre>\n\n<p><strong>Solution 2</strong></p>\n\n<p>Your button should open in a new tab only when Ctrl (Alt, Shift, ...) key on the keyboard is hold. If not, open in existing tab.\nIn this case you can try to open a new tab using Page#open() method. Be aware that browsers will probably try to block your action and will warn user that they have blocked a pop-up window (even though it is not a pop-up but a new tab).</p>\n\n<pre><code>Button viewBtn = new Button(\"Click me\", VaadinIcons.EYE);\nviewBtn.addClickListener(ev -&gt; {\n  if (ev.isCtrlKey()) {\n      Page.getCurrent().open(\"http://www.example.com\", \"_blank\", false);\n  } else {\n      Page.getCurrent().setLocation(\"http://www.example.com\");\n  }\n});\n</code></pre>\n\n<p><strong>Solution 3</strong></p>\n\n<p>If you want the common behavior when the left click opens in existing tab and the middle mouse button click in a new tab, use the link instead of the button. In this case browsers probably let you open a new tab.</p>\n\n<pre><code>Link link = new Link(null, new ExternalResource(UriUtil.createAdUri(ad)));\nlink.setIcon(VaadinIcons.EYE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551445044,"creation_date":1551445044,"answer_id":54945157,"question_id":24039476,"body_markdown":"Using `Button`, `BrowserWindowOpener` and `getUI().getPage().open(&quot;http://www.google.com&quot;, &quot;_blank&quot;);` is discouraged since that is usually blocked by popup blockers.\r\n\r\nInstead go with the `Link` component:\r\n\r\n```\r\nfinal Link link = new Link(&quot;Google&quot;, new ExternalResource(&quot;http://www.google.com&quot;));\r\nlink.setTargetName(&quot;_blank&quot;);\r\n```\r\n\r\nSee more in the [Vaadin Link Documentation](https://vaadin.com/docs/v8/framework/components/components-link.html)","title":"Vaadin open link in new tab","body":"<p>Using <code>Button</code>, <code>BrowserWindowOpener</code> and <code>getUI().getPage().open(\"http://www.google.com\", \"_blank\");</code> is discouraged since that is usually blocked by popup blockers.</p>\n\n<p>Instead go with the <code>Link</code> component:</p>\n\n<pre><code>final Link link = new Link(\"Google\", new ExternalResource(\"http://www.google.com\"));\nlink.setTargetName(\"_blank\");\n</code></pre>\n\n<p>See more in the <a href=\"https://vaadin.com/docs/v8/framework/components/components-link.html\" rel=\"nofollow noreferrer\">Vaadin Link Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":945877,"reputation":443,"user_id":973149,"display_name":"Scott Hather"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679943489,"creation_date":1679943489,"answer_id":75859422,"question_id":24039476,"body_markdown":"None of these answers work for me on Vaadin 24, lots of deprecated methods.\r\nThis currenly works:\r\n\r\n    UI.getCurrent().getPage().open(&quot;https://stackoverflow.com&quot;,&quot;_blank&quot;);","title":"Vaadin open link in new tab","body":"<p>None of these answers work for me on Vaadin 24, lots of deprecated methods.\nThis currenly works:</p>\n<pre><code>UI.getCurrent().getPage().open(&quot;https://stackoverflow.com&quot;,&quot;_blank&quot;);\n</code></pre>\n"}],"owner":{"account_id":4560022,"reputation":1485,"user_id":3702643,"accept_rate":56,"display_name":"user3702643"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23506,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":24039630,"answer_count":5,"score":20,"last_activity_date":1679943489,"creation_date":1401890283,"question_id":24039476,"body_markdown":"I have the following piece of code that I wrote using Vaadin. The code opens the page `www.google.com` when the user clicks the button.\r\n\r\nMy question is is there any way for me to specify that the page is to be opened in a new tab?\r\n\r\nThanks.\r\n\r\n    button.addClickListener(new Button.ClickListener() {\r\n        public void buttonClick(ClickEvent event) {\r\n            getUI().getPage().setLocation(&quot;http://www.google.com&quot;);\r\n        }\r\n    });","title":"Vaadin open link in new tab","body":"<p>I have the following piece of code that I wrote using Vaadin. The code opens the page <code>www.google.com</code> when the user clicks the button.</p>\n\n<p>My question is is there any way for me to specify that the page is to be opened in a new tab?</p>\n\n<p>Thanks.</p>\n\n<pre><code>button.addClickListener(new Button.ClickListener() {\n    public void buttonClick(ClickEvent event) {\n        getUI().getPage().setLocation(\"http://www.google.com\");\n    }\n});\n</code></pre>\n"},{"tags":["java","jenkins","access-violation"],"owner":{"account_id":7222006,"reputation":3,"user_id":5512094,"display_name":"Robin Lynn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679943372,"creation_date":1679943372,"question_id":75859403,"body_markdown":"I&#39;ve been attempting to launch a .exe on a group of node computer for a while now as part of an automation setup. The main PC installs a program on the node PCs and then attempts to launch it before running tests against them; and it&#39;s able to copy everything over just fine. However, all my attempts to pass the .exe command down from the master computer are failing with return code -1073741819, which seems to correlate to an Access Violation Exception.\r\n\r\nMy Jenkins was running as a service initially, however I saw many threads saying running the .war through command line would get it working. However, after changing over, I&#39;m hitting the same Access Violation error as before. I&#39;ve attempted running Jenkins with command prompt (and again as administrator)along with all of the nodes, as well as with Powershell, and neither worked.","title":"Jenkins - How to launch .exe on Node computers? (Access Violation Exception)","body":"<p>I've been attempting to launch a .exe on a group of node computer for a while now as part of an automation setup. The main PC installs a program on the node PCs and then attempts to launch it before running tests against them; and it's able to copy everything over just fine. However, all my attempts to pass the .exe command down from the master computer are failing with return code -1073741819, which seems to correlate to an Access Violation Exception.</p>\n<p>My Jenkins was running as a service initially, however I saw many threads saying running the .war through command line would get it working. However, after changing over, I'm hitting the same Access Violation error as before. I've attempted running Jenkins with command prompt (and again as administrator)along with all of the nodes, as well as with Powershell, and neither worked.</p>\n"},{"tags":["c#","java","android","xamarin","dot42"],"comments":[{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":5,"creation_date":1373053029,"post_id":17134522,"comment_id":25431709,"body_markdown":"DEBUG mode on Nexus 7 4.2.2 with some optimisations on strings and xamarin alpha 9: Total time: 3907 ms, with file reading total: 4016. What means &quot;5 runs&quot; ?","body":"DEBUG mode on Nexus 7 4.2.2 with some optimisations on strings and xamarin alpha 9: Total time: 3907 ms, with file reading total: 4016. What means &quot;5 runs&quot; ?"},{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":0,"creation_date":1373053143,"post_id":17134522,"comment_id":25431750,"body_markdown":"Release mode on same platform: Total time: 2192 ms, with file reading total: 2279","body":"Release mode on same platform: Total time: 2192 ms, with file reading total: 2279"},{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":0,"creation_date":1373053181,"post_id":17134522,"comment_id":25431778,"body_markdown":"But your code can be optimized much more.","body":"But your code can be optimized much more."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1373145483,"post_id":17134522,"comment_id":25451722,"body_markdown":"@Softlion, thank you for testing this too! By 5 runs, I mean that I press the &quot;Start Test&quot; button 5 times, then press &quot;back&quot; button on the phone to exit the app, and then it outputs to the debug console the total time of the 5 runs. Please send me the proposed optimizations, best by email or private message, as we can&#39;t type much here. But we would have to optimize the Java code in a similar way to have a fair comparison between C# and Java.","body":"@Softlion, thank you for testing this too! By 5 runs, I mean that I press the &quot;Start Test&quot; button 5 times, then press &quot;back&quot; button on the phone to exit the app, and then it outputs to the debug console the total time of the 5 runs. Please send me the proposed optimizations, best by email or private message, as we can&#39;t type much here. But we would have to optimize the Java code in a similar way to have a fair comparison between C# and Java."},{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":0,"creation_date":1373360851,"post_id":17134522,"comment_id":25517145,"body_markdown":"You use too much strings. You should be using only one StringBuilder and string indexes. strings are immutable, and allocates new memory on each concatenation. You alos should not use &quot;Count()&quot; but &quot;Count&quot; instead. This is a &quot;classic&quot; error.","body":"You use too much strings. You should be using only one StringBuilder and string indexes. strings are immutable, and allocates new memory on each concatenation. You alos should not use &quot;Count()&quot; but &quot;Count&quot; instead. This is a &quot;classic&quot; error."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1373456857,"post_id":17134522,"comment_id":25562049,"body_markdown":"@Softlion, I use StringBuilders where I can. In C# I use them also for searching and replacing characters, in Java can&#39;t, as it does not have this function. Anyway, for the purpose of this text, the search &amp; replace characters don&#39;t matter, as the characters don&#39;t occur in my test files - the search is done, but no replace, so no need to change &quot;immutable&quot; strings in Java. I had many similar comments, introduced proposed changes without any significant effect on the result. Please point specific change and I can test again.","body":"@Softlion, I use StringBuilders where I can. In C# I use them also for searching and replacing characters, in Java can&#39;t, as it does not have this function. Anyway, for the purpose of this text, the search &amp; replace characters don&#39;t matter, as the characters don&#39;t occur in my test files - the search is done, but no replace, so no need to change &quot;immutable&quot; strings in Java. I had many similar comments, introduced proposed changes without any significant effect on the result. Please point specific change and I can test again."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1373457507,"post_id":17134522,"comment_id":25562413,"body_markdown":"@Softlion, I just reviewed my C# code for .Count vs. .Count() - I use them correctly, use .Count for lists, and .Count() for arrays, like String[] array. It&#39;s not a &quot;classic&quot; error, doing otherwise is simply a syntax error that does not let the code compile...","body":"@Softlion, I just reviewed my C# code for .Count vs. .Count() - I use them correctly, use .Count for lists, and .Count() for arrays, like String[] array. It&#39;s not a &quot;classic&quot; error, doing otherwise is simply a syntax error that does not let the code compile..."},{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":0,"creation_date":1373716817,"post_id":17134522,"comment_id":25668175,"body_markdown":"Count() is a linq method which reads the whole enumerable. For arrays you have to use .Length not Count(). Any other place where you use heavy string concatenations, including in loops, you shouldn&#39;t. This imply to rewrite your algorithm as you should use string indexes+lengths and the smallest number of StringBuilders instead of what you do. Also you should use static regex, they are thread safe.","body":"Count() is a linq method which reads the whole enumerable. For arrays you have to use .Length not Count(). Any other place where you use heavy string concatenations, including in loops, you shouldn&#39;t. This imply to rewrite your algorithm as you should use string indexes+lengths and the smallest number of StringBuilders instead of what you do. Also you should use static regex, they are thread safe."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1373739605,"post_id":17134522,"comment_id":25673416,"body_markdown":"@Softlion, when you tell me about methods like this, please specify if you speak of Java or C#. Guess Linq would be C#. Since you can get my source code anytime, please modify it as you propose and post the results. I tried similar modifications in the past and did not notice any improvement in performance. The only place I use .Count() on an array is in my main test loop, to loop through a list of 10 files. Can&#39;t imagine how this could change the benchmark result.","body":"@Softlion, when you tell me about methods like this, please specify if you speak of Java or C#. Guess Linq would be C#. Since you can get my source code anytime, please modify it as you propose and post the results. I tried similar modifications in the past and did not notice any improvement in performance. The only place I use .Count() on an array is in my main test loop, to loop through a list of 10 files. Can&#39;t imagine how this could change the benchmark result."},{"owner":{"account_id":113855,"reputation":12351,"user_id":299674,"accept_rate":54,"display_name":"Softlion"},"score":0,"creation_date":1374069539,"post_id":17134522,"comment_id":25794705,"body_markdown":"I modified it but I don&#39;t understand git enough. I know only basics of java so i won&#39;t tell anything about the java code.","body":"I modified it but I don&#39;t understand git enough. I know only basics of java so i won&#39;t tell anything about the java code."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1374148363,"post_id":17134522,"comment_id":25831917,"body_markdown":"@Softlion, thank you! If possible, share your C# code modifications by emial to me (gregko AT hyperionics DOT com), I&#39;ll run some tests and post them too. In your tests, did you see any difference from your code mods? I&#39;m always eager to learn, thanks again!","body":"@Softlion, thank you! If possible, share your C# code modifications by emial to me (gregko AT hyperionics DOT com), I&#39;ll run some tests and post them too. In your tests, did you see any difference from your code mods? I&#39;m always eager to learn, thanks again!"},{"owner":{"account_id":505497,"reputation":19464,"user_id":909956,"accept_rate":67,"display_name":"numan salati"},"score":0,"creation_date":1376665797,"post_id":17134522,"comment_id":26808612,"body_markdown":"i am curious as to the size of the apk and memory consumption at runtime?","body":"i am curious as to the size of the apk and memory consumption at runtime?"},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1376807747,"post_id":17134522,"comment_id":26844325,"body_markdown":"@numan - for Xamarin, the APK with both Intel and armeabi-v7a binaries embedded, the package is about 5.6 MB, built in release mode with the latest stable Xamarin. For Dot42 and Java it&#39;s below 200 kB. I&#39;m not sure what&#39;s the best way to measure memory usage on Android","body":"@numan - for Xamarin, the APK with both Intel and armeabi-v7a binaries embedded, the package is about 5.6 MB, built in release mode with the latest stable Xamarin. For Dot42 and Java it&#39;s below 200 kB. I&#39;m not sure what&#39;s the best way to measure memory usage on Android"},{"owner":{"account_id":505497,"reputation":19464,"user_id":909956,"accept_rate":67,"display_name":"numan salati"},"score":0,"creation_date":1376837350,"post_id":17134522,"comment_id":26850948,"body_markdown":"@gregko is there no profiler in xamarin? In ADT (eclipse) you can profile the app for memory usage.","body":"@gregko is there no profiler in xamarin? In ADT (eclipse) you can profile the app for memory usage."},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1376901016,"post_id":17134522,"comment_id":26866723,"body_markdown":"@numan - Android debug monitor shows very similar heap usage for both C# and Java (about 5 MB for a single run through my test files). I don&#39;t see any way to show the total process memory usage there, for sure Xamarin will take more, as it needs first to load the Mono runtime before executing any code, while Java and Dot42 C# code execute directly in Dalvik VM.","body":"@numan - Android debug monitor shows very similar heap usage for both C# and Java (about 5 MB for a single run through my test files). I don&#39;t see any way to show the total process memory usage there, for sure Xamarin will take more, as it needs first to load the Mono runtime before executing any code, while Java and Dot42 C# code execute directly in Dalvik VM."},{"owner":{"account_id":69373,"reputation":64303,"user_id":201863,"accept_rate":74,"display_name":"CodeSmile"},"score":1,"creation_date":1381357513,"post_id":17134522,"comment_id":28554272,"body_markdown":"&quot;this question will likely solicit debate, arguments, polling, or extended discussion&quot; &lt;- see above ;)","body":"&quot;this question will likely solicit debate, arguments, polling, or extended discussion&quot; &lt;- see above ;)"},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":2,"creation_date":1381471512,"post_id":17134522,"comment_id":28601337,"body_markdown":"@LearnCocos2D - I&#39;m only reporting concrete results and numbers, i.e. facts. Gentlemen don&#39;t dispute facts :)","body":"@LearnCocos2D - I&#39;m only reporting concrete results and numbers, i.e. facts. Gentlemen don&#39;t dispute facts :)"},{"owner":{"account_id":69373,"reputation":64303,"user_id":201863,"accept_rate":74,"display_name":"CodeSmile"},"score":2,"creation_date":1381484289,"post_id":17134522,"comment_id":28607349,"body_markdown":"well, scientists do ;) there&#39;s a difference between observed behavior and fact. There&#39;s a lot more to it to become fact, and even then applicability to other users/situations remains questionable. This is the crux of benchmarks, they only present facts on the surface - until you find out that vendor x had optimized its driver for a particular benchmark app. On a related note it was once proven that water has memory (ie the homeopathy test), which was disproven after the tester bias was considered and ruled out, then it failed to show any statistical significance.","body":"well, scientists do ;) there&#39;s a difference between observed behavior and fact. There&#39;s a lot more to it to become fact, and even then applicability to other users/situations remains questionable. This is the crux of benchmarks, they only present facts on the surface - until you find out that vendor x had optimized its driver for a particular benchmark app. On a related note it was once proven that water has memory (ie the homeopathy test), which was disproven after the tester bias was considered and ruled out, then it failed to show any statistical significance."},{"owner":{"account_id":69373,"reputation":64303,"user_id":201863,"accept_rate":74,"display_name":"CodeSmile"},"score":3,"creation_date":1381484543,"post_id":17134522,"comment_id":28607487,"body_markdown":"plus, with the next +0.1 version bump theseperformance characteristics may change significantly - that&#39;s when all your good efforts presented here change from &quot;fact&quot; to &quot;moot&quot;. However anyone who comes here may perceive this as fact, and draw the wrong conclusion. Another crux of benchmarks: they are only representative for a given moment in time and versions of the software used. The next day they may no longer reflect reality. You have to keep retesting the results. This is why the results here can be considered subjective and bearing little to no meaning.","body":"plus, with the next +0.1 version bump theseperformance characteristics may change significantly - that&#39;s when all your good efforts presented here change from &quot;fact&quot; to &quot;moot&quot;. However anyone who comes here may perceive this as fact, and draw the wrong conclusion. Another crux of benchmarks: they are only representative for a given moment in time and versions of the software used. The next day they may no longer reflect reality. You have to keep retesting the results. This is why the results here can be considered subjective and bearing little to no meaning."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1407327174,"post_id":17134522,"comment_id":39169422,"body_markdown":"This is a quite interesting comparison. Would you please try to also do the comparison on Android L , since ART has replaced Dalvik, and is supposed to be faster?","body":"This is a quite interesting comparison. Would you please try to also do the comparison on Android L , since ART has replaced Dalvik, and is supposed to be faster?"},{"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"score":0,"creation_date":1407341150,"post_id":17134522,"comment_id":39179412,"body_markdown":"@androiddeveloper, I no longer have Xamarin subscription, so can&#39;t do this on Xamarin side.","body":"@androiddeveloper, I no longer have Xamarin subscription, so can&#39;t do this on Xamarin side."},{"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"score":0,"creation_date":1463043123,"post_id":17134522,"comment_id":61896968,"body_markdown":"Links on GitHub are broken!","body":"Links on GitHub are broken!"},{"owner":{"account_id":8089,"reputation":118271,"user_id":14357,"accept_rate":82,"display_name":"spender"},"score":3,"creation_date":1476974693,"post_id":17134522,"comment_id":67584030,"body_markdown":"I&#39;m voting to close this question as off-topic because the contained information is 3 years stale and this doesn&#39;t fit any current criteria of an acceptable question.","body":"I&#39;m voting to close this question as off-topic because the contained information is 3 years stale and this doesn&#39;t fit any current criteria of an acceptable question."}],"answers":[{"tags":[],"owner":{"account_id":40127,"reputation":8865,"user_id":116154,"accept_rate":91,"display_name":"Christopher"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1401982219,"creation_date":1401982219,"answer_id":24064285,"question_id":17134522,"body_markdown":"We recently investigated using Xamarin for an app. We utilized the C# code we had already written for the Windows RT version of our app. Some specific details had to be rewritten for the Android version.\r\n\r\nWhat we discovered is that I/O in Xamarin C# is approximately 2x slower than Java. Our app is heavily I/O bound. We have not discovered the cause of this yet, but at the moment we are assuming that it is due to marshaling. While we do try to stay inside the Mono VM most of the time, we do not know how Mono actually accesses the disk.\r\n\r\nIt is also telling that our C# code uses SQLite.NET (https://github.com/praeclarum/sqlite-net). Identical fetches using the SQLite.NET code are also 2x slower than using Android&#39;s Java SQLite wrapper. After looking at the source code, it appears to bind directly to the C .dll, so I do not know why it&#39;s so much slower. One possibility is that marshaling strings from native to Java may be faster on Android than native to C# is on Xamarin.\r\n","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p>We recently investigated using Xamarin for an app. We utilized the C# code we had already written for the Windows RT version of our app. Some specific details had to be rewritten for the Android version.</p>\n\n<p>What we discovered is that I/O in Xamarin C# is approximately 2x slower than Java. Our app is heavily I/O bound. We have not discovered the cause of this yet, but at the moment we are assuming that it is due to marshaling. While we do try to stay inside the Mono VM most of the time, we do not know how Mono actually accesses the disk.</p>\n\n<p>It is also telling that our C# code uses SQLite.NET (<a href=\"https://github.com/praeclarum/sqlite-net\">https://github.com/praeclarum/sqlite-net</a>). Identical fetches using the SQLite.NET code are also 2x slower than using Android's Java SQLite wrapper. After looking at the source code, it appears to bind directly to the C .dll, so I do not know why it's so much slower. One possibility is that marshaling strings from native to Java may be faster on Android than native to C# is on Xamarin.</p>\n"},{"tags":[],"owner":{"account_id":2334063,"reputation":9352,"user_id":2046795,"accept_rate":50,"display_name":"Daniel"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1479805340,"creation_date":1424855864,"answer_id":28715175,"question_id":17134522,"body_markdown":"[This is another more updated blog post I would like to share with you][1]. He compares Xamarin to native code and Cordova on both IOs and Android.\r\n\r\nIn a nutshell, Xamarin performs sometimes better than native code. He tested the app size, load times, loading a list from Azure service and prime number computation.\r\n\r\nEnjoy!\r\n\r\nEdit: I updated the dead link and I noticed that [there is a part 2][2]\r\n\r\n\r\n  [1]: https://magenic.com/thinking/mobile-development-platform-performance\r\n  [2]: https://magenic.com/thinking/mobile-development-platform-performance-part-2-native-cordova-classic-xamarin-xamarin-forms","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p><a href=\"https://magenic.com/thinking/mobile-development-platform-performance\" rel=\"noreferrer\">This is another more updated blog post I would like to share with you</a>. He compares Xamarin to native code and Cordova on both IOs and Android.</p>\n\n<p>In a nutshell, Xamarin performs sometimes better than native code. He tested the app size, load times, loading a list from Azure service and prime number computation.</p>\n\n<p>Enjoy!</p>\n\n<p>Edit: I updated the dead link and I noticed that <a href=\"https://magenic.com/thinking/mobile-development-platform-performance-part-2-native-cordova-classic-xamarin-xamarin-forms\" rel=\"noreferrer\">there is a part 2</a></p>\n"},{"tags":[],"owner":{"account_id":7099409,"reputation":13419,"user_id":5431638,"accept_rate":71,"display_name":"Venkataramana Madugula"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1679942945,"creation_date":1461315635,"answer_id":36789405,"question_id":17134522,"body_markdown":"I came across this interesting post:\r\n\r\nhttps://medium.com/@harrycheung/mobile-app-performance-redux-e512be94f976#.kfbauchtz\r\n\r\n    \r\n[![Android App Performance][1]][1]\r\n\r\n\r\n[![iOS App Performance][2]][2]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pqyIt.png\r\n  [2]: http://i.stack.imgur.com/7fk35.png","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p>I came across this interesting post:</p>\n<p><a href=\"https://medium.com/@harrycheung/mobile-app-performance-redux-e512be94f976#.kfbauchtz\" rel=\"nofollow noreferrer\">https://medium.com/@harrycheung/mobile-app-performance-redux-e512be94f976#.kfbauchtz</a></p>\n<p><a href=\"https://i.stack.imgur.com/pqyIt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqyIt.png\" alt=\"Android App Performance\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7fk35.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7fk35.png\" alt=\"iOS App Performance\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1580573,"reputation":892,"user_id":1466039,"display_name":"Denis Gordin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1522251364,"creation_date":1509081599,"answer_id":46967994,"question_id":17134522,"body_markdown":"It&#39;s pretty old tests but could be relevant: [https://github.com/EgorBo/Xamarin.Android-vs-Java][1]\r\n\r\n\r\n**Arithmetic test**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Collections, generics, custom value types**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Working with strings**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**UPD:** new data with Google Pixel 2 (thanks [yousha-aleayoub](https://stackoverflow.com/users/1429432/yousha-aleayoub))\r\n\r\n[![Pixel 2 tests][5]][5]\r\n\r\n\r\n  [1]: https://github.com/EgorBo/Xamarin.Android-vs-Java\r\n  [2]: https://i.stack.imgur.com/sjwLN.png\r\n  [3]: https://i.stack.imgur.com/lr9y6.png\r\n  [4]: https://i.stack.imgur.com/8AllY.png\r\n  [5]: https://camo.githubusercontent.com/76fd25443e2a407665389029ed594643b3f39f5f/68747470733a2f2f686162726173746f726167652e6f72672f776562742f65702f30642f76792f6570306476795f693878375f697a64733135383867796e716468772e706e67","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p>It's pretty old tests but could be relevant: <a href=\"https://github.com/EgorBo/Xamarin.Android-vs-Java\" rel=\"nofollow noreferrer\">https://github.com/EgorBo/Xamarin.Android-vs-Java</a></p>\n\n<p><strong>Arithmetic test</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/sjwLN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sjwLN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Collections, generics, custom value types</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/lr9y6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lr9y6.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Working with strings</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8AllY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8AllY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPD:</strong> new data with Google Pixel 2 (thanks <a href=\"https://stackoverflow.com/users/1429432/yousha-aleayoub\">yousha-aleayoub</a>)</p>\n\n<p><a href=\"https://camo.githubusercontent.com/76fd25443e2a407665389029ed594643b3f39f5f/68747470733a2f2f686162726173746f726167652e6f72672f776562742f65702f30642f76792f6570306476795f693878375f697a64733135383867796e716468772e706e67\" rel=\"nofollow noreferrer\"><img src=\"https://camo.githubusercontent.com/76fd25443e2a407665389029ed594643b3f39f5f/68747470733a2f2f686162726173746f726167652e6f72672f776562742f65702f30642f76792f6570306476795f693878375f697a64733135383867796e716468772e706e67\" alt=\"Pixel 2 tests\"></a></p>\n"},{"tags":[],"owner":{"account_id":1048126,"reputation":8641,"user_id":1052697,"accept_rate":84,"display_name":"Rolf ツ"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1509262623,"creation_date":1509103094,"answer_id":46973819,"question_id":17134522,"body_markdown":"## Performance ##\r\n\r\nPerformance is a vague word if you don&#39;t define what you mean by performance, if it&#39;s plain computation performance Xamarin can be faster than Java depending on the nature of the computation.\r\n\r\nAndroid nativly comes with multipe forms to execute code in:\r\n\r\n - RenderScript (CPU and GPU)\r\n - Java (SDK)\r\n - C++ (NDK)\r\n - OpenGL (GPU)\r\n\r\nIt is quite obvious that when executing code the more native the solution the faster it will be. A run-time based language will never beat a language that directly runs on the CPU.\r\n\r\nBut on the other hand if you want to measure real-life usage performance Java is propbaby going to be faster then Xamarin.\r\n\r\nXamarin and why it can be slower\r\n--------------------------------\r\n\r\nWhen comparing Xamarin with plain old Java applications, performance can very well be faster for Xamarin as it can be slower.\r\n\r\nIn a real world example Xamarin applications are very likely to be slower than Java applications because many Android/Java (system) calls need to be delegated to and from the Xamarin run-time using so called bindings.\r\n\r\nThere are a few different types of bindings that are important to know:\r\n\r\n - **JNI (Java Native Interface):** The binding used in many android applications to interface between Java code (SDK) and native C++ code (NDK).\r\n - **MCW (Managed Callable Wrappers):** A binding that is available in Xamarin to interface from managed C# code to Java code (Android run-time).\r\n - **ACW (Android Callable Wrappers):** A binding that is available in Xamarin to interface from Java code (Android run-time) to managed C# code.\r\n\r\n&gt; More on MCW and ACW here: https://developer.xamarin.com/guides/cross-platform/application_fundamentals/building_cross_platform_applications/part_1_-_understanding_the_xamarin_mobile_platform/\r\n\r\n\r\nBindings are in terms of performance very very costly. Invoking a C++ method from Java adds a huge overhead in calling time, calling a C++ method from within C++ is many many many times faster.\r\n\r\n&gt; Someone did a performance test to calculate how many Java operations on average a JNI call costs: https://stackoverflow.com/questions/13973035/what-is-the-quantitative-overhead-of-making-a-jni-call\r\n\r\nBut not only JNI calls are costly so are calls to and from MCW and ACW. Real world Xamarin applications make many calls using bindings and because of this real world usage of an Xamarin application can be (and will be in general) slower than a plain old Java application. However depending on how the Xamarin application was designed it is very likely that the user won&#39;t even notice the difference.\r\n\r\n**TLDR/Conclusion:** Xamarin needs to using al sorts bindings, which are time costly.\r\n\r\n&gt; Besides bindings, there are many other factors involved when talking about real-world performance, for example: size of the binary, loading the app in memory, I/O operations and many more. A blog post that investigates some of these things can be found here: https://magenic.com/thinking/mobile-development-platform-performance-part-2-native-cordova-classic-xamarin-xamarin-forms\r\n\r\n","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<h2>Performance</h2>\n\n<p>Performance is a vague word if you don't define what you mean by performance, if it's plain computation performance Xamarin can be faster than Java depending on the nature of the computation.</p>\n\n<p>Android nativly comes with multipe forms to execute code in:</p>\n\n<ul>\n<li>RenderScript (CPU and GPU)</li>\n<li>Java (SDK)</li>\n<li>C++ (NDK)</li>\n<li>OpenGL (GPU)</li>\n</ul>\n\n<p>It is quite obvious that when executing code the more native the solution the faster it will be. A run-time based language will never beat a language that directly runs on the CPU.</p>\n\n<p>But on the other hand if you want to measure real-life usage performance Java is propbaby going to be faster then Xamarin.</p>\n\n<h2>Xamarin and why it can be slower</h2>\n\n<p>When comparing Xamarin with plain old Java applications, performance can very well be faster for Xamarin as it can be slower.</p>\n\n<p>In a real world example Xamarin applications are very likely to be slower than Java applications because many Android/Java (system) calls need to be delegated to and from the Xamarin run-time using so called bindings.</p>\n\n<p>There are a few different types of bindings that are important to know:</p>\n\n<ul>\n<li><strong>JNI (Java Native Interface):</strong> The binding used in many android applications to interface between Java code (SDK) and native C++ code (NDK).</li>\n<li><strong>MCW (Managed Callable Wrappers):</strong> A binding that is available in Xamarin to interface from managed C# code to Java code (Android run-time).</li>\n<li><strong>ACW (Android Callable Wrappers):</strong> A binding that is available in Xamarin to interface from Java code (Android run-time) to managed C# code.</li>\n</ul>\n\n<blockquote>\n  <p>More on MCW and ACW here: <a href=\"https://developer.xamarin.com/guides/cross-platform/application_fundamentals/building_cross_platform_applications/part_1_-_understanding_the_xamarin_mobile_platform/\" rel=\"noreferrer\">https://developer.xamarin.com/guides/cross-platform/application_fundamentals/building_cross_platform_applications/part_1_-_understanding_the_xamarin_mobile_platform/</a></p>\n</blockquote>\n\n<p>Bindings are in terms of performance very very costly. Invoking a C++ method from Java adds a huge overhead in calling time, calling a C++ method from within C++ is many many many times faster.</p>\n\n<blockquote>\n  <p>Someone did a performance test to calculate how many Java operations on average a JNI call costs: <a href=\"https://stackoverflow.com/questions/13973035/what-is-the-quantitative-overhead-of-making-a-jni-call\">What is the quantitative overhead of making a JNI call?</a></p>\n</blockquote>\n\n<p>But not only JNI calls are costly so are calls to and from MCW and ACW. Real world Xamarin applications make many calls using bindings and because of this real world usage of an Xamarin application can be (and will be in general) slower than a plain old Java application. However depending on how the Xamarin application was designed it is very likely that the user won't even notice the difference.</p>\n\n<p><strong>TLDR/Conclusion:</strong> Xamarin needs to using al sorts bindings, which are time costly.</p>\n\n<blockquote>\n  <p>Besides bindings, there are many other factors involved when talking about real-world performance, for example: size of the binary, loading the app in memory, I/O operations and many more. A blog post that investigates some of these things can be found here: <a href=\"https://magenic.com/thinking/mobile-development-platform-performance-part-2-native-cordova-classic-xamarin-xamarin-forms\" rel=\"noreferrer\">https://magenic.com/thinking/mobile-development-platform-performance-part-2-native-cordova-classic-xamarin-xamarin-forms</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11754096,"reputation":86,"user_id":8602318,"display_name":"Burgito"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1510910504,"creation_date":1509616194,"answer_id":47072187,"question_id":17134522,"body_markdown":"Here are a few informations I found in another test between native, Xamarin and Xamarin.Forms solutions (the tests also include iOS performances) on the two following devices : \r\n\r\n**Samsung Galaxy A7**:\r\n    Android OS version: 6.0\r\n    Central-processing unit: Octa-core 1.9 GHz Cortex-A53\r\n    RAM: 3GB\r\n    Display resolution: 1920&#215;1080\r\n\r\n**iPhone 6s**:\r\n    iOS version: 10.3.3\r\n    Central-processing unit: Dual-core 1.84 GHz Twister\r\n    RAM: 2 GB\r\n    Display resolution: 1334&#215;750\r\n\r\nComparison is made on a few common features, each one with its own application : \r\n\r\n    - Basic “Hello World”\r\n    - REST API\r\n    - JSON Serialization/Deserialization\r\n    - Photo Loading\r\n    - SQL Database Insert and Get All\r\n\r\nEach test is repeted several times, the graphs show the average results.\r\n\r\n-----\r\n**Hello World**\r\n\r\n[![Basic Hellow World performance comparison][1]][1]\r\n\r\n-----\r\n\r\n**Rest API**\r\n\r\nSet of tests aimed at measuring the time it takes for the app to send a request through REST API and receive the response back without further data processing, using OpenWeatherMap API.\r\n\r\n[![Rest API performance comparison][2]][2]\r\n\r\n-----\r\n**JSON Operations**\r\nTests made using Newtonsoft Json.net framework to serialize and deserialize JSON objects in all Xamarin apps. \r\nNative Android serialization and deserialization tested using two Java libraries: Jackson and GSON.\r\n\r\nTwo runs are made, one first from scratch and a second one with cached infos and operations\r\n\r\nFirst run : \r\n\r\n[![JSON serialization first run][3]][3]\r\n\r\n[![JSON deserialization first run][4]][4]\r\n\r\n(Native iOS JSON Operations is killing this test btw, and Xamarin joins it in the second)\r\n\r\n[![JSON Serialization second run][5]][5]\r\n\r\n[![JSON Deserialization second run][6]][6]\r\n\r\n-----\r\n**Photo Operations**\r\n\r\nFirst load on images with three different resolutions : \r\n\r\n    Resolution – 858&#215;569, Size – 868Kb\r\n    Resolution – 2575&#215;1709, Size – 8Mb\r\n    Resolution – 4291&#215;2848, Size – 28.9Mb\r\n\r\n[![Image First Load Android][7]][7]\r\n\r\n[![Image First Load iOS][8]][8]\r\n\r\nSomething seemed unsure about the Xamarin.Forms results for this test, so it is not included in the graph.\r\n\r\n-----\r\n\r\n**SQLite Operations**\r\n\r\nTwo operations tested : \r\n\r\n    BulkInsert: Loading rows of data into a database table.\r\n    GetAll: Retrieving all data from the database.\r\n\r\nWith databases having 10,000 records. All operations were processed internally on devices.\r\n\r\n[![SQLite Android performances][9]][9]\r\n\r\n[![SQLite iOS performances][10]][10]\r\n\r\n-----\r\n\r\nXamarin Native (Xamarin.iOS/Xamarin.Android) show themselves as rather good alternatives to the native code, whereas Xamarin.Forms seems slow in a lot of cases, but it can be a really good solution to develop really simple applications fastly.\r\n\r\nComplete test comes from this source : \r\n\r\nhttps://www.altexsoft.com/blog/engineering/performance-comparison-xamarin-forms-xamarin-ios-xamarin-android-vs-android-and-ios-native-applications/\r\n\r\nThank you for giving me the explanations to enhance my answer, hope this helps a little :)\r\n\r\n  [1]: https://i.stack.imgur.com/wPjsA.png\r\n  [2]: https://i.stack.imgur.com/Q84Vu.png\r\n  [3]: https://i.stack.imgur.com/IQbfe.png\r\n  [4]: https://i.stack.imgur.com/xjg0k.png\r\n  [5]: https://i.stack.imgur.com/91KWy.png\r\n  [6]: https://i.stack.imgur.com/6mw1u.png\r\n  [7]: https://i.stack.imgur.com/sbQiK.png\r\n  [8]: https://i.stack.imgur.com/oB8jO.png\r\n  [9]: https://i.stack.imgur.com/yy3NR.png\r\n  [10]: https://i.stack.imgur.com/aAIFu.png","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p>Here are a few informations I found in another test between native, Xamarin and Xamarin.Forms solutions (the tests also include iOS performances) on the two following devices : </p>\n\n<p><strong>Samsung Galaxy A7</strong>:\n    Android OS version: 6.0\n    Central-processing unit: Octa-core 1.9 GHz Cortex-A53\n    RAM: 3GB\n    Display resolution: 1920×1080</p>\n\n<p><strong>iPhone 6s</strong>:\n    iOS version: 10.3.3\n    Central-processing unit: Dual-core 1.84 GHz Twister\n    RAM: 2 GB\n    Display resolution: 1334×750</p>\n\n<p>Comparison is made on a few common features, each one with its own application : </p>\n\n<pre><code>- Basic “Hello World”\n- REST API\n- JSON Serialization/Deserialization\n- Photo Loading\n- SQL Database Insert and Get All\n</code></pre>\n\n<p>Each test is repeted several times, the graphs show the average results.</p>\n\n<hr>\n\n<p><strong>Hello World</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/wPjsA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wPjsA.png\" alt=\"Basic Hellow World performance comparison\"></a></p>\n\n<hr>\n\n<p><strong>Rest API</strong></p>\n\n<p>Set of tests aimed at measuring the time it takes for the app to send a request through REST API and receive the response back without further data processing, using OpenWeatherMap API.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q84Vu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q84Vu.png\" alt=\"Rest API performance comparison\"></a></p>\n\n<hr>\n\n<p><strong>JSON Operations</strong>\nTests made using Newtonsoft Json.net framework to serialize and deserialize JSON objects in all Xamarin apps. \nNative Android serialization and deserialization tested using two Java libraries: Jackson and GSON.</p>\n\n<p>Two runs are made, one first from scratch and a second one with cached infos and operations</p>\n\n<p>First run : </p>\n\n<p><a href=\"https://i.stack.imgur.com/IQbfe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IQbfe.png\" alt=\"JSON serialization first run\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/xjg0k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xjg0k.png\" alt=\"JSON deserialization first run\"></a></p>\n\n<p>(Native iOS JSON Operations is killing this test btw, and Xamarin joins it in the second)</p>\n\n<p><a href=\"https://i.stack.imgur.com/91KWy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/91KWy.png\" alt=\"JSON Serialization second run\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6mw1u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6mw1u.png\" alt=\"JSON Deserialization second run\"></a></p>\n\n<hr>\n\n<p><strong>Photo Operations</strong></p>\n\n<p>First load on images with three different resolutions : </p>\n\n<pre><code>Resolution – 858×569, Size – 868Kb\nResolution – 2575×1709, Size – 8Mb\nResolution – 4291×2848, Size – 28.9Mb\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sbQiK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sbQiK.png\" alt=\"Image First Load Android\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/oB8jO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oB8jO.png\" alt=\"Image First Load iOS\"></a></p>\n\n<p>Something seemed unsure about the Xamarin.Forms results for this test, so it is not included in the graph.</p>\n\n<hr>\n\n<p><strong>SQLite Operations</strong></p>\n\n<p>Two operations tested : </p>\n\n<pre><code>BulkInsert: Loading rows of data into a database table.\nGetAll: Retrieving all data from the database.\n</code></pre>\n\n<p>With databases having 10,000 records. All operations were processed internally on devices.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yy3NR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yy3NR.png\" alt=\"SQLite Android performances\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aAIFu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aAIFu.png\" alt=\"SQLite iOS performances\"></a></p>\n\n<hr>\n\n<p>Xamarin Native (Xamarin.iOS/Xamarin.Android) show themselves as rather good alternatives to the native code, whereas Xamarin.Forms seems slow in a lot of cases, but it can be a really good solution to develop really simple applications fastly.</p>\n\n<p>Complete test comes from this source : </p>\n\n<p><a href=\"https://www.altexsoft.com/blog/engineering/performance-comparison-xamarin-forms-xamarin-ios-xamarin-android-vs-android-and-ios-native-applications/\" rel=\"noreferrer\">https://www.altexsoft.com/blog/engineering/performance-comparison-xamarin-forms-xamarin-ios-xamarin-android-vs-android-and-ios-native-applications/</a></p>\n\n<p>Thank you for giving me the explanations to enhance my answer, hope this helps a little :)</p>\n"}],"owner":{"account_id":1594926,"reputation":5662,"user_id":1477347,"accept_rate":69,"display_name":"gregko"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56899,"favorite_count":0,"down_vote_count":10,"up_vote_count":576,"closed_date":1516573301,"answer_count":6,"score":566,"last_activity_date":1679942945,"creation_date":1371394356,"question_id":17134522,"body_markdown":"I came across Xamarin claims that their Mono implementation on Android and their C# compiled apps are faster than Java code. Did anyone perform actual benchmarks on very similar Java and C# code on different Android platforms to verify such claims, could post the code and results?\r\n\r\n### Added June 18, 2013\r\nSince there was no answer and could not find such benchmarks done by others, decided to do my own tests. Unfortunately, my question remains &quot;locked&quot; so I cannot post this as the answer, only edit the question. Please vote to re-open this question. For C#, I used Xamarin.Android Ver. 4.7.09001 (beta). The source code, all the data I used for testing and compiled APK packages are on GitHub:\r\n\r\nJava: https://github.com/gregko/TtsSetup_Java\r\n\r\nC#: https://github.com/gregko/TtsSetup_C_sharp\r\n\r\nIf someone would like to repeat my tests on other devices or emulators, I&#39;d be interested to learn the results as well.\r\n\r\n# Results from my testing #\r\n\r\nI ported my sentence extractor class to C# (from my @Voice Aloud Reader app) and run some tests on 10 HTML files in English, Russian, French, Polish and Czech languages. Each run was performed 5 times on all 10 files, and the total time for 3 different devices and one emulator are posted below. I tested &quot;Release&quot; builds only, without debugging enabled.\r\n\r\n###HTC Nexus One Android 2.3.7 (API 10) - CyanogenMod ROM\r\n\r\nJava: Grand total time (5 runs): 12361 ms, with file reading total: 13304 ms\r\n\r\nC#: Grand total time (5 runs): 17504 ms, with file reading total: 17956 ms\r\n\r\n\r\n\r\n\r\n###Samsung Galaxy S2 SGH-I777 (Android 4.0.4, API 15) - CyanogenMod ROM\r\n\r\nJava: Grand total time (5 runs): 8947 ms, with file reading total: 9186 ms\r\n\r\nC#: Grand total time (5 runs): 9884 ms, with file reading total: 10247 ms\r\n\r\n\r\n\r\n###Samsung GT-N7100 (Android 4.1.1 JellyBean, API 16) - Samsung ROM\r\n\r\nJava: Grand total time (5 runs): 9742 ms, with file reading total: 10111 ms\r\n\r\nC#: Grand total time (5 runs): 10459 ms, with file reading total: 10696 ms\r\n\r\n\r\n\r\n### Emulator - Intel (Android 4.2, API 17)\r\n\r\nJava: Grand total time (5 runs): 2699 ms, with file reading total: 3127 ms\r\n\r\nC#: Grand total time (5 runs): 2049 ms, with file reading total: 2182 ms\r\n\r\n\r\n### Emulator - Intel (Android 2.3.7, API 10)\r\n\r\nJava: Grand total time (5 runs): 2992 ms, with file reading total: 3591 ms\r\n\r\nC#: Grand total time (5 runs): 2049 ms, with file reading total: 2257 ms\r\n\r\n### Emulator - Arm (Android 4.0.4, API 15)\r\n\r\nJava: Grand total time (5 runs): 41751 ms, with file reading total: 43866 ms\r\n\r\nC#: Grand total time (5 runs): 44136 ms, with file reading total: 45109 ms\r\n\r\n\r\n#Brief discussion\r\nMy test code contains mainly text parsing, replacing and Regex searches, perhaps for other code (e.g. more numeric operations) the results would be different. On all devices with ARM processors, Java performed better than Xamarin C# code. The largest difference was under Android 2.3, where C# code run at approx. 70% of Java speed.\r\n\r\nOn Intel emulator (with Intel HAX technology, emulator runs in fast virt mode), Xamarin C# code runs my sample code much faster than Java - about 1.35 time faster. Maybe Mono virtual machine code and libraries are much better optimized on Intel than on ARM?\r\n\r\n# Edit July 8, 2013\r\n\r\nI just installed Genymotion Android emulator, which runs in Oracle VirtualBox, and again this one uses native Intel processor, not emulating ARM processor. As with Intel HAX emulator, again C# runs here much faster. Here are my results:\r\n\r\n### Genymotion emulator - Intel (Android 4.1.1, API 16)\r\n\r\n&gt; Java:\r\n&gt; Grand total time (5 runs): 2069 ms, with file reading total: 2248 ms\r\n&gt;\r\n&gt; C#:\r\n&gt; Grand total time (5 runs): 1543 ms, with file reading total: 1642 ms\r\n\r\nI then noticed that there was an update to Xamarin.Android beta, version 4.7.11, with release notes mentioning some changes in Mono runtime as well. Decided to quickly test some ARM devices, and big surprise - C# numbers improved:\r\n\r\n### BN Nook XD+, ARM (Android 4.0)\r\n\r\n&gt; Java: Grand total time (5 runs): 8103 ms, with file reading total: 8569 ms\r\n&gt;\r\n&gt; C#: Grand total time (5 runs): 7951 ms, with file reading total: 8161 ms\r\n\r\nWow! C# is now better than Java? Decided to repeat the test on my Galaxy Note 2:\r\n\r\n### Samsung Galaxy Note 2 - ARM (Android 4.1.1)\r\n\r\n&gt; Java: Grand total time (5 runs): 9675 ms, with file reading total: 10028 ms\r\n&gt; \r\n&gt; C#: Grand total time (5 runs): 9911 ms, with file reading total: 10104 ms\r\n\r\nHere C# seems to be only slightly slower, but these numbers gave me a pause: Why the time is longer than on Nook HD+, even though Note 2 has a faster processor? The answer: power saving mode. On Nook, it was disabled, on Note 2 - enabled. Decided to test with power saving mode disabled (as with enabled, it also limits the processor speed):\r\n\r\n### Samsung Galaxy Note 2 - ARM (Android 4.1.1), power saving disabled\r\n\r\n&gt; Java: Grand total time (5 runs): 7153 ms, with file reading total: 7459 ms\r\n&gt; \r\n&gt; C#: Grand total time (5 runs): 6906 ms, with file reading total: 7070 ms\r\n\r\nNow, surprisingly, C# is slightly faster than Java on ARM processor as well. Big improvement!\r\n\r\n# Edit July 12, 2013\r\n\r\nWe all know, that nothing beats native code for speed, and I was not satisfied with the performance of my sentence splitter in Java or C#, particularly that I need to improve it (and thus make it even slower). Decided to re-write it in C++. Here is a small (i.e. a smaller set of files than previous tests, for other reasons) comparison of the speed of native vs. Java on my Galaxy Note 2, with power saving mode disabled:\r\n\r\nJava:\r\nGrand total time (5 runs): 3292 ms, with file reading total: 3454 ms\r\n\r\nNative thumb:\r\nGrand total time (5 runs): 537 ms, with file reading total: 657 ms\r\n\r\nNative arm:\r\nGrand total time (5 runs): 458 ms, with file reading total: 587 ms\r\n\r\nLooks like for my particular test, the native code is 6 to 7 times faster than Java. Caveat: could not use std::regex class on Android, so had to write my own specialized routines searching for paragraphs breaks or html tags. My initial tests of the same code on a PC using regex, were about 4 to 5 times faster than Java.\r\n\r\nPhew! Waking raw memory with char* or wchar* pointers again, I instantly felt 20 years younger! :)\r\n\r\n# Edit July 15, 2013\r\n\r\n***(Please see below, with edits of 7/30/2013, for much better results with Dot42)***\r\n\r\nWith some difficulty, I managed to port my C# tests to Dot42 (version 1.0.1.71 beta), another C# platform for Android. Preliminary results show that Dot42 code is about 3x (3 times) slower than Xamarin C# (v. 4.7.11), on an Intel Android emulator. One problem is that System.Text.RegularExpressions class in Dot42 does not have the Split() function that I used in Xamarin tests, so I used Java.Util.Regex class instead, and Java.Util.Regex.Pattern.Split(), so in this particular place in the code, there is this small difference. Should not be a big problem though. Dot42 compiles to Dalvik (DEX) code, so it cooperates with Java on Android natively, does not need expensive interop from C# to Java like Xamarin.\r\n\r\nJust for comparison, I also run the test on ARM devices - here the Dot42 code is &quot;only&quot; 2x slower than Xamarin C#. Here are my results:\r\n\r\n###HTC Nexus One Android 2.3.7 (ARM)\r\n\r\n&gt; Java: Grand total time (5 runs): 12187 ms, with file reading total: 13200 ms\r\n\r\n&gt; Xamarin C#: Grand total time (5 runs): 13935 ms, with file reading total: 14465 ms\r\n\r\n&gt; Dot42 C#: Grand total time (5 runs): 26000 ms, with file reading total: 27168 ms\r\n\r\n###Samsung Galaxy Note 2, Android 4.1.1 (ARM)\r\n\r\n&gt; Java: Grand total time (5 runs): 6895 ms, with file reading total: 7275 ms\r\n\r\n&gt; Xamarin C#: Grand total time (5 runs): 6466 ms, with file reading total: 6720 ms\r\n\r\n&gt; Dot42 C#: Grand total time (5 runs): 11185 ms, with file reading total: 11843 ms\r\n\r\n###Intel emulator, Android 4.2 (x86)\r\n\r\n&gt; Java: Grand total time (5 runs): 2389 ms, with file reading total: 2770 ms\r\n\r\n&gt; Xamarin C#: Grand total time (5 runs): 1748 ms, with file reading total: 1933 ms\r\n\r\n&gt; Dot42 C#: Grand total time (5 runs): 5150 ms, with file reading total: 5459 ms\r\n\r\nTo me, it was also interesting to note that Xamarin C# is slightly faster than Java on a newer ARM device and slightly slower on the old Nexus One. If anyone would like to run these tests as well, please let me know and I&#39;ll update the sources on GitHub. It would be particularly interesting to see results from a real Android device with Intel processor.\r\n\r\n## Update 7/26/2013\r\n\r\nJust a quick update, re-compiled by benchmark apps with the latest Xamarin.Android 4.8, and also with dot42 1.0.1.72 update released today - no significant changes from the results reported before.\r\n\r\n## Update 7/30/2013 - better results for dot42\r\n\r\nRe-tested Dot42 with Robert&#39;s (from dot42 makers) port of my Java code to C#. In my C# port done initially for Xamarin, I replaced some native Java classes, like ListArray, with List class native to C#, etc. Robert did not have my Dot42 source code, so he ported it again from Java and used original Java classes in such places, which benefits Dot42, I guess because it runs in Dalvik VM, like Java, and not in Mono, like Xamarin. Now Dot42 results are much better. Here is a log from my testing:\r\n\r\n&gt; 7/30/2013 - Dot42 tests with more Java classes in Dot42 C#\r\n&gt; ----------------------------------------------------------\r\n&gt; \r\n&gt; Intel emulator, Android 4.2\r\n&gt; ---------------------------\r\n&gt; \r\n&gt; Dot42, Greg&#39;s Code using StringBuilder.Replace() (as in Xamarin):&lt;br&gt;\r\n&gt; Grand total time (5 runs): 3646 ms, with file reading total: 3830 ms \r\n&gt; \r\n&gt; Dot42, Greg&#39;s Code using String.Replace() (as in Java and Robert&#39;s code):&lt;br&gt;\r\n&gt; Grand total time (5 runs): 3027 ms, with file reading total: 3206 ms\r\n&gt; \r\n&gt; Dot42, Robert&#39;s Code:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 1781 ms, with file reading total: 1999 ms\r\n&gt; \r\n&gt; Xamarin:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 1373 ms, with file reading total: 1505 ms\r\n&gt; \r\n&gt; Java:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 1841 ms, with file reading total: 2044 ms\r\n&gt; \r\n&gt; \r\n&gt; ARM, Samsung Galaxy Note 2, power saving off, Android 4.1.1\r\n&gt; ------------------------------------------------------------\r\n&gt; \r\n&gt; Dot42, Greg&#39;s Code using StringBuilder.Replace() (as in Xamarin):&lt;br&gt;\r\n&gt; Grand total time (5 runs): 10875 ms, with file reading total: 11280 ms\r\n&gt; \r\n&gt; Dot42, Greg&#39;s Code using String.Replace() (as in Java and Robert&#39;s code):&lt;br&gt;\r\n&gt; Grand total time (5 runs): 9710 ms, with file reading total: 10097 ms\r\n&gt; \r\n&gt; Dot42, Robert&#39;s Code:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 6279 ms, with file reading total: 6622 ms\r\n&gt; \r\n&gt; Xamarin:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 6201 ms, with file reading total: 6476 ms\r\n&gt; \r\n&gt; Java:&lt;br&gt;\r\n&gt; Grand total time (5 runs): 7141 ms, with file reading total: 7479 ms\r\n\r\nI still think that Dot42 has a long way to go. Having Java-like classes (e.g. ArrayList) and a good performance with them would make porting code from Java to C# slightly easier. However, this is something I would not be likely to do a lot. I would rather want to use existing C# code (libraries etc.), which will use native C# classes (e.g. List), and that would perform slowly with the current dot42 code, and very well with Xamarin.\r\n\r\nGreg\r\n","title":"How to compare the performance of Android Apps written in Java and Xamarin C#? Anyway to check quantitative data (code &amp; results)","body":"<p>I came across Xamarin claims that their Mono implementation on Android and their C# compiled apps are faster than Java code. Did anyone perform actual benchmarks on very similar Java and C# code on different Android platforms to verify such claims, could post the code and results?</p>\n\n<h3>Added June 18, 2013</h3>\n\n<p>Since there was no answer and could not find such benchmarks done by others, decided to do my own tests. Unfortunately, my question remains \"locked\" so I cannot post this as the answer, only edit the question. Please vote to re-open this question. For C#, I used Xamarin.Android Ver. 4.7.09001 (beta). The source code, all the data I used for testing and compiled APK packages are on GitHub:</p>\n\n<p>Java: <a href=\"https://github.com/gregko/TtsSetup_Java\" rel=\"noreferrer\">https://github.com/gregko/TtsSetup_Java</a></p>\n\n<p>C#: <a href=\"https://github.com/gregko/TtsSetup_C_sharp\" rel=\"noreferrer\">https://github.com/gregko/TtsSetup_C_sharp</a></p>\n\n<p>If someone would like to repeat my tests on other devices or emulators, I'd be interested to learn the results as well.</p>\n\n<h1>Results from my testing</h1>\n\n<p>I ported my sentence extractor class to C# (from my @Voice Aloud Reader app) and run some tests on 10 HTML files in English, Russian, French, Polish and Czech languages. Each run was performed 5 times on all 10 files, and the total time for 3 different devices and one emulator are posted below. I tested \"Release\" builds only, without debugging enabled.</p>\n\n<h3>HTC Nexus One Android 2.3.7 (API 10) - CyanogenMod ROM</h3>\n\n<p>Java: Grand total time (5 runs): 12361 ms, with file reading total: 13304 ms</p>\n\n<p>C#: Grand total time (5 runs): 17504 ms, with file reading total: 17956 ms</p>\n\n<h3>Samsung Galaxy S2 SGH-I777 (Android 4.0.4, API 15) - CyanogenMod ROM</h3>\n\n<p>Java: Grand total time (5 runs): 8947 ms, with file reading total: 9186 ms</p>\n\n<p>C#: Grand total time (5 runs): 9884 ms, with file reading total: 10247 ms</p>\n\n<h3>Samsung GT-N7100 (Android 4.1.1 JellyBean, API 16) - Samsung ROM</h3>\n\n<p>Java: Grand total time (5 runs): 9742 ms, with file reading total: 10111 ms</p>\n\n<p>C#: Grand total time (5 runs): 10459 ms, with file reading total: 10696 ms</p>\n\n<h3>Emulator - Intel (Android 4.2, API 17)</h3>\n\n<p>Java: Grand total time (5 runs): 2699 ms, with file reading total: 3127 ms</p>\n\n<p>C#: Grand total time (5 runs): 2049 ms, with file reading total: 2182 ms</p>\n\n<h3>Emulator - Intel (Android 2.3.7, API 10)</h3>\n\n<p>Java: Grand total time (5 runs): 2992 ms, with file reading total: 3591 ms</p>\n\n<p>C#: Grand total time (5 runs): 2049 ms, with file reading total: 2257 ms</p>\n\n<h3>Emulator - Arm (Android 4.0.4, API 15)</h3>\n\n<p>Java: Grand total time (5 runs): 41751 ms, with file reading total: 43866 ms</p>\n\n<p>C#: Grand total time (5 runs): 44136 ms, with file reading total: 45109 ms</p>\n\n<h1>Brief discussion</h1>\n\n<p>My test code contains mainly text parsing, replacing and Regex searches, perhaps for other code (e.g. more numeric operations) the results would be different. On all devices with ARM processors, Java performed better than Xamarin C# code. The largest difference was under Android 2.3, where C# code run at approx. 70% of Java speed.</p>\n\n<p>On Intel emulator (with Intel HAX technology, emulator runs in fast virt mode), Xamarin C# code runs my sample code much faster than Java - about 1.35 time faster. Maybe Mono virtual machine code and libraries are much better optimized on Intel than on ARM?</p>\n\n<h1>Edit July 8, 2013</h1>\n\n<p>I just installed Genymotion Android emulator, which runs in Oracle VirtualBox, and again this one uses native Intel processor, not emulating ARM processor. As with Intel HAX emulator, again C# runs here much faster. Here are my results:</p>\n\n<h3>Genymotion emulator - Intel (Android 4.1.1, API 16)</h3>\n\n<blockquote>\n  <p>Java:\n  Grand total time (5 runs): 2069 ms, with file reading total: 2248 ms</p>\n  \n  <p>C#:\n  Grand total time (5 runs): 1543 ms, with file reading total: 1642 ms</p>\n</blockquote>\n\n<p>I then noticed that there was an update to Xamarin.Android beta, version 4.7.11, with release notes mentioning some changes in Mono runtime as well. Decided to quickly test some ARM devices, and big surprise - C# numbers improved:</p>\n\n<h3>BN Nook XD+, ARM (Android 4.0)</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 8103 ms, with file reading total: 8569 ms</p>\n  \n  <p>C#: Grand total time (5 runs): 7951 ms, with file reading total: 8161 ms</p>\n</blockquote>\n\n<p>Wow! C# is now better than Java? Decided to repeat the test on my Galaxy Note 2:</p>\n\n<h3>Samsung Galaxy Note 2 - ARM (Android 4.1.1)</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 9675 ms, with file reading total: 10028 ms</p>\n  \n  <p>C#: Grand total time (5 runs): 9911 ms, with file reading total: 10104 ms</p>\n</blockquote>\n\n<p>Here C# seems to be only slightly slower, but these numbers gave me a pause: Why the time is longer than on Nook HD+, even though Note 2 has a faster processor? The answer: power saving mode. On Nook, it was disabled, on Note 2 - enabled. Decided to test with power saving mode disabled (as with enabled, it also limits the processor speed):</p>\n\n<h3>Samsung Galaxy Note 2 - ARM (Android 4.1.1), power saving disabled</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 7153 ms, with file reading total: 7459 ms</p>\n  \n  <p>C#: Grand total time (5 runs): 6906 ms, with file reading total: 7070 ms</p>\n</blockquote>\n\n<p>Now, surprisingly, C# is slightly faster than Java on ARM processor as well. Big improvement!</p>\n\n<h1>Edit July 12, 2013</h1>\n\n<p>We all know, that nothing beats native code for speed, and I was not satisfied with the performance of my sentence splitter in Java or C#, particularly that I need to improve it (and thus make it even slower). Decided to re-write it in C++. Here is a small (i.e. a smaller set of files than previous tests, for other reasons) comparison of the speed of native vs. Java on my Galaxy Note 2, with power saving mode disabled:</p>\n\n<p>Java:\nGrand total time (5 runs): 3292 ms, with file reading total: 3454 ms</p>\n\n<p>Native thumb:\nGrand total time (5 runs): 537 ms, with file reading total: 657 ms</p>\n\n<p>Native arm:\nGrand total time (5 runs): 458 ms, with file reading total: 587 ms</p>\n\n<p>Looks like for my particular test, the native code is 6 to 7 times faster than Java. Caveat: could not use std::regex class on Android, so had to write my own specialized routines searching for paragraphs breaks or html tags. My initial tests of the same code on a PC using regex, were about 4 to 5 times faster than Java.</p>\n\n<p>Phew! Waking raw memory with char* or wchar* pointers again, I instantly felt 20 years younger! :)</p>\n\n<h1>Edit July 15, 2013</h1>\n\n<p><strong><em>(Please see below, with edits of 7/30/2013, for much better results with Dot42)</em></strong></p>\n\n<p>With some difficulty, I managed to port my C# tests to Dot42 (version 1.0.1.71 beta), another C# platform for Android. Preliminary results show that Dot42 code is about 3x (3 times) slower than Xamarin C# (v. 4.7.11), on an Intel Android emulator. One problem is that System.Text.RegularExpressions class in Dot42 does not have the Split() function that I used in Xamarin tests, so I used Java.Util.Regex class instead, and Java.Util.Regex.Pattern.Split(), so in this particular place in the code, there is this small difference. Should not be a big problem though. Dot42 compiles to Dalvik (DEX) code, so it cooperates with Java on Android natively, does not need expensive interop from C# to Java like Xamarin.</p>\n\n<p>Just for comparison, I also run the test on ARM devices - here the Dot42 code is \"only\" 2x slower than Xamarin C#. Here are my results:</p>\n\n<h3>HTC Nexus One Android 2.3.7 (ARM)</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 12187 ms, with file reading total: 13200 ms</p>\n  \n  <p>Xamarin C#: Grand total time (5 runs): 13935 ms, with file reading total: 14465 ms</p>\n  \n  <p>Dot42 C#: Grand total time (5 runs): 26000 ms, with file reading total: 27168 ms</p>\n</blockquote>\n\n<h3>Samsung Galaxy Note 2, Android 4.1.1 (ARM)</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 6895 ms, with file reading total: 7275 ms</p>\n  \n  <p>Xamarin C#: Grand total time (5 runs): 6466 ms, with file reading total: 6720 ms</p>\n  \n  <p>Dot42 C#: Grand total time (5 runs): 11185 ms, with file reading total: 11843 ms</p>\n</blockquote>\n\n<h3>Intel emulator, Android 4.2 (x86)</h3>\n\n<blockquote>\n  <p>Java: Grand total time (5 runs): 2389 ms, with file reading total: 2770 ms</p>\n  \n  <p>Xamarin C#: Grand total time (5 runs): 1748 ms, with file reading total: 1933 ms</p>\n  \n  <p>Dot42 C#: Grand total time (5 runs): 5150 ms, with file reading total: 5459 ms</p>\n</blockquote>\n\n<p>To me, it was also interesting to note that Xamarin C# is slightly faster than Java on a newer ARM device and slightly slower on the old Nexus One. If anyone would like to run these tests as well, please let me know and I'll update the sources on GitHub. It would be particularly interesting to see results from a real Android device with Intel processor.</p>\n\n<h2>Update 7/26/2013</h2>\n\n<p>Just a quick update, re-compiled by benchmark apps with the latest Xamarin.Android 4.8, and also with dot42 1.0.1.72 update released today - no significant changes from the results reported before.</p>\n\n<h2>Update 7/30/2013 - better results for dot42</h2>\n\n<p>Re-tested Dot42 with Robert's (from dot42 makers) port of my Java code to C#. In my C# port done initially for Xamarin, I replaced some native Java classes, like ListArray, with List class native to C#, etc. Robert did not have my Dot42 source code, so he ported it again from Java and used original Java classes in such places, which benefits Dot42, I guess because it runs in Dalvik VM, like Java, and not in Mono, like Xamarin. Now Dot42 results are much better. Here is a log from my testing:</p>\n\n<blockquote>\n  <h2>7/30/2013 - Dot42 tests with more Java classes in Dot42 C#</h2>\n  \n  <h2>Intel emulator, Android 4.2</h2>\n  \n  <p>Dot42, Greg's Code using StringBuilder.Replace() (as in Xamarin):<br>\n  Grand total time (5 runs): 3646 ms, with file reading total: 3830 ms </p>\n  \n  <p>Dot42, Greg's Code using String.Replace() (as in Java and Robert's code):<br>\n  Grand total time (5 runs): 3027 ms, with file reading total: 3206 ms</p>\n  \n  <p>Dot42, Robert's Code:<br>\n  Grand total time (5 runs): 1781 ms, with file reading total: 1999 ms</p>\n  \n  <p>Xamarin:<br>\n  Grand total time (5 runs): 1373 ms, with file reading total: 1505 ms</p>\n  \n  <p>Java:<br>\n  Grand total time (5 runs): 1841 ms, with file reading total: 2044 ms</p>\n  \n  <h2>ARM, Samsung Galaxy Note 2, power saving off, Android 4.1.1</h2>\n  \n  <p>Dot42, Greg's Code using StringBuilder.Replace() (as in Xamarin):<br>\n  Grand total time (5 runs): 10875 ms, with file reading total: 11280 ms</p>\n  \n  <p>Dot42, Greg's Code using String.Replace() (as in Java and Robert's code):<br>\n  Grand total time (5 runs): 9710 ms, with file reading total: 10097 ms</p>\n  \n  <p>Dot42, Robert's Code:<br>\n  Grand total time (5 runs): 6279 ms, with file reading total: 6622 ms</p>\n  \n  <p>Xamarin:<br>\n  Grand total time (5 runs): 6201 ms, with file reading total: 6476 ms</p>\n  \n  <p>Java:<br>\n  Grand total time (5 runs): 7141 ms, with file reading total: 7479 ms</p>\n</blockquote>\n\n<p>I still think that Dot42 has a long way to go. Having Java-like classes (e.g. ArrayList) and a good performance with them would make porting code from Java to C# slightly easier. However, this is something I would not be likely to do a lot. I would rather want to use existing C# code (libraries etc.), which will use native C# classes (e.g. List), and that would perform slowly with the current dot42 code, and very well with Xamarin.</p>\n\n<p>Greg</p>\n"},{"tags":["java","openapi","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679942641,"post_id":75859079,"comment_id":133808303,"body_markdown":"Header parameter name Content-Type is not allowed. And not needed as you have already defined requestBody.content as json. Check here https://swagger.io/docs/specification/describing-parameters/","body":"Header parameter name Content-Type is not allowed. And not needed as you have already defined requestBody.content as json. Check here <a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noreferrer\">swagger.io/docs/specification/describing-parameters</a>"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1679946779,"post_id":75859079,"comment_id":133809208,"body_markdown":"Do you need the default controller implementation?  If not, you can disable it with `skipDefaultInterface=false`.  This is one of the [configOptions for the spring generator](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md).  Then you can implement your own controller with your own implementation, and call your variables whatever you like.","body":"Do you need the default controller implementation?  If not, you can disable it with <code>skipDefaultInterface=false</code>.  This is one of the <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\" rel=\"nofollow noreferrer\">configOptions for the spring generator</a>.  Then you can implement your own controller with your own implementation, and call your variables whatever you like."}],"answers":[{"tags":[],"owner":{"account_id":6159040,"reputation":146,"user_id":4801213,"display_name":"9DA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679942828,"creation_date":1679942828,"answer_id":75859327,"question_id":75859079,"body_markdown":"You can try to change the contentType variable name in the OpenAPI schema file to something else, for example, myContentType. This should generate the code without any compilation errors. \r\n\r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: tt\r\n      version: 1.0.0\r\n    servers:\r\n      - url: https://1.1.1.1\r\n    paths:\r\n      /controller/user/login:\r\n        post:\r\n          tags:\r\n            - default\r\n          summary: Login\r\n          requestBody:\r\n            content:\r\n              application/json:\r\n                schema:\r\n                  type: object\r\n                  example:\r\n                    email: user\r\n                    password: user\r\n                    from: user\r\n          parameters:\r\n            - name: my-content-type\r\n              in: header\r\n              schema:\r\n                type: string\r\n              example: application/json\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: Successful response\r\n              content:\r\n                application/json: {}\r\n\r\nSeems like you already tried to change the prefix of the local variables in the generated code. Setting &lt;localVarPrefix&gt;localVar&lt;/localVarPrefix&gt; should work to prefix all local variables as far as I am aware.","title":"variable contentType is already defined in method openapi generated source","body":"<p>You can try to change the contentType variable name in the OpenAPI schema file to something else, for example, myContentType. This should generate the code without any compilation errors.</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: tt\n  version: 1.0.0\nservers:\n  - url: https://1.1.1.1\npaths:\n  /controller/user/login:\n    post:\n      tags:\n        - default\n      summary: Login\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              example:\n                email: user\n                password: user\n                from: user\n      parameters:\n        - name: my-content-type\n          in: header\n          schema:\n            type: string\n          example: application/json\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json: {}\n</code></pre>\n<p>Seems like you already tried to change the prefix of the local variables in the generated code. Setting localVar should work to prefix all local variables as far as I am aware.</p>\n"}],"owner":{"account_id":4910891,"reputation":423,"user_id":3956228,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679942828,"creation_date":1679940946,"question_id":75859079,"body_markdown":"I have below open api schema file \r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: tt\r\n      version: 1.0.0\r\n    servers:\r\n      - url: https://1.1.1.1\r\n    paths:\r\n      /controller/user/login:\r\n        post:\r\n          tags:\r\n            - default\r\n          summary: Login\r\n          requestBody:\r\n            content:\r\n              application/json:\r\n                schema:\r\n                  type: object\r\n                  example:\r\n                    email: user\r\n                    password: user\r\n                    from: user\r\n          parameters:\r\n            - name: Content-Type\r\n              in: header\r\n              schema:\r\n                type: string\r\n              example: application/json\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: Successful response\r\n              content:\r\n                application/json: {}\r\n\r\nI am trying to generate java client using below pom  configuration \r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;id1&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;inputSpec&gt;${project.basedir}/src/main/resources/open-api/schema_1.yaml&lt;/inputSpec&gt;\r\n              &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n              &lt;library&gt;google-api-client&lt;/library&gt;\r\n              &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\r\n              &lt;output&gt;${codegen.rest.dir}&lt;/output&gt;\r\n              &lt;modelPackage&gt;${basepackage}.pkg1&lt;/modelPackage&gt;\r\n              &lt;apiPackage&gt;${basepackage}.pkg1.interfaces&lt;/apiPackage&gt;\r\n              &lt;invokerPackage&gt;${basepackage}.pkg1.client&lt;/invokerPackage&gt;\r\n              &lt;addCompileSourceRoot&gt;false&lt;/addCompileSourceRoot&gt;\r\n              &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n              &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n              &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n              &lt;configOptions&gt;\r\n                &lt;java8&gt;true&lt;/java8&gt;\r\n                &lt;library&gt;resttemplate&lt;/library&gt;\r\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                &lt;sourceFolder&gt;.&lt;/sourceFolder&gt;\r\n                &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\r\n              &lt;/configOptions&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;         \r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nWhen I am trying to generate client using mvn clean install I am getting below error\r\n\r\n    DefaultApi.java:[91,25] variable contentType is already defined in method controllerUserLoginPostWithHttpInfo(java.\r\n    lang.String,java.lang.Object)\r\n\r\nIn DefaultApi.java I see generated class contains two variables with same name\r\n\r\n      public ResponseEntity&lt;Void&gt; controllerUserLoginPostWithHttpInfo(String contentType, Object body) throws RestClientException {\r\n            Object postBody = body;\r\n            \r\n            String path = apiClient.expandPath(&quot;/controller/user/login&quot;, Collections.&lt;String, Object&gt;emptyMap());\r\n    \r\n            final MultiValueMap&lt;String, String&gt; queryParams = new LinkedMultiValueMap&lt;String, String&gt;();\r\n            final HttpHeaders headerParams = new HttpHeaders();\r\n            final MultiValueMap&lt;String, String&gt; cookieParams = new LinkedMultiValueMap&lt;String, String&gt;();\r\n            final MultiValueMap formParams = new LinkedMultiValueMap();\r\n    \r\n            if (contentType != null)\r\n            headerParams.add(&quot;Content-Type&quot;, apiClient.parameterToString(contentType));\r\n    \r\n            final String[] accepts = { \r\n                &quot;application/json&quot;\r\n            };\r\n            final List&lt;MediaType&gt; accept = apiClient.selectHeaderAccept(accepts);\r\n            final String[] contentTypes = { \r\n                &quot;application/json&quot;\r\n            };\r\n            final MediaType **contentType** = apiClient.selectHeaderContentType(contentTypes);\r\n    \r\n            String[] authNames = new String[] {  };\r\n    \r\n            ParameterizedTypeReference&lt;Void&gt; returnType = new ParameterizedTypeReference&lt;Void&gt;() {};\r\n            return apiClient.invokeAPI(path, HttpMethod.POST, queryParams, postBody, headerParams, cookieParams, formParams, accept, contentType, authNames, returnType);\r\n        }\r\nI also tried with config option but it doesn&#39;t make any change\r\n\r\n    &lt;configOptions&gt;\r\n        ...\r\n        &lt;localVarPrefix&gt;localVar&lt;/localVarPrefix&gt;\r\n    &lt;/configOptions&gt;\r\n\r\n","title":"variable contentType is already defined in method openapi generated source","body":"<p>I have below open api schema file</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: tt\n  version: 1.0.0\nservers:\n  - url: https://1.1.1.1\npaths:\n  /controller/user/login:\n    post:\n      tags:\n        - default\n      summary: Login\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              example:\n                email: user\n                password: user\n                from: user\n      parameters:\n        - name: Content-Type\n          in: header\n          schema:\n            type: string\n          example: application/json\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json: {}\n</code></pre>\n<p>I am trying to generate java client using below pom  configuration</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.3.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;id1&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;inputSpec&gt;${project.basedir}/src/main/resources/open-api/schema_1.yaml&lt;/inputSpec&gt;\n          &lt;generatorName&gt;java&lt;/generatorName&gt;\n          &lt;library&gt;google-api-client&lt;/library&gt;\n          &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\n          &lt;output&gt;${codegen.rest.dir}&lt;/output&gt;\n          &lt;modelPackage&gt;${basepackage}.pkg1&lt;/modelPackage&gt;\n          &lt;apiPackage&gt;${basepackage}.pkg1.interfaces&lt;/apiPackage&gt;\n          &lt;invokerPackage&gt;${basepackage}.pkg1.client&lt;/invokerPackage&gt;\n          &lt;addCompileSourceRoot&gt;false&lt;/addCompileSourceRoot&gt;\n          &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n          &lt;generateApis&gt;true&lt;/generateApis&gt;\n          &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n          &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n          &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n          &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n          &lt;configOptions&gt;\n            &lt;java8&gt;true&lt;/java8&gt;\n            &lt;library&gt;resttemplate&lt;/library&gt;\n            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n            &lt;sourceFolder&gt;.&lt;/sourceFolder&gt;\n            &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\n          &lt;/configOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;         \n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>When I am trying to generate client using mvn clean install I am getting below error</p>\n<pre><code>DefaultApi.java:[91,25] variable contentType is already defined in method controllerUserLoginPostWithHttpInfo(java.\nlang.String,java.lang.Object)\n</code></pre>\n<p>In DefaultApi.java I see generated class contains two variables with same name</p>\n<pre><code>  public ResponseEntity&lt;Void&gt; controllerUserLoginPostWithHttpInfo(String contentType, Object body) throws RestClientException {\n        Object postBody = body;\n        \n        String path = apiClient.expandPath(&quot;/controller/user/login&quot;, Collections.&lt;String, Object&gt;emptyMap());\n\n        final MultiValueMap&lt;String, String&gt; queryParams = new LinkedMultiValueMap&lt;String, String&gt;();\n        final HttpHeaders headerParams = new HttpHeaders();\n        final MultiValueMap&lt;String, String&gt; cookieParams = new LinkedMultiValueMap&lt;String, String&gt;();\n        final MultiValueMap formParams = new LinkedMultiValueMap();\n\n        if (contentType != null)\n        headerParams.add(&quot;Content-Type&quot;, apiClient.parameterToString(contentType));\n\n        final String[] accepts = { \n            &quot;application/json&quot;\n        };\n        final List&lt;MediaType&gt; accept = apiClient.selectHeaderAccept(accepts);\n        final String[] contentTypes = { \n            &quot;application/json&quot;\n        };\n        final MediaType **contentType** = apiClient.selectHeaderContentType(contentTypes);\n\n        String[] authNames = new String[] {  };\n\n        ParameterizedTypeReference&lt;Void&gt; returnType = new ParameterizedTypeReference&lt;Void&gt;() {};\n        return apiClient.invokeAPI(path, HttpMethod.POST, queryParams, postBody, headerParams, cookieParams, formParams, accept, contentType, authNames, returnType);\n    }\n</code></pre>\n<p>I also tried with config option but it doesn't make any change</p>\n<pre><code>&lt;configOptions&gt;\n    ...\n    &lt;localVarPrefix&gt;localVar&lt;/localVarPrefix&gt;\n&lt;/configOptions&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","heroku","error-handling"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679984587,"post_id":75859255,"comment_id":133814264,"body_markdown":"Where exactly in your code are you using that the Toast that display that HTML message?","body":"Where exactly in your code are you using that the Toast that display that HTML message?"},{"owner":{"account_id":28091919,"reputation":11,"user_id":21461297,"display_name":"Harshitha "},"score":0,"creation_date":1680587129,"post_id":75859255,"comment_id":133918953,"body_markdown":"I didnot use any toast to display HTML message it is occuring due to the signup problem. https://github.com/project-travel-mate/Travel-Mate here is the project link. the signup is not working, any help would be greatful. Thankyou","body":"I didnot use any toast to display HTML message it is occuring due to the signup problem. <a href=\"https://github.com/project-travel-mate/Travel-Mate\" rel=\"nofollow noreferrer\">github.com/project-travel-mate/Travel-Mate</a> here is the project link. the signup is not working, any help would be greatful. Thankyou"}],"owner":{"account_id":28091919,"reputation":11,"user_id":21461297,"display_name":"Harshitha "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679942287,"creation_date":1679942270,"question_id":75859255,"body_markdown":"![signup page of the android project](https://i.stack.imgur.com/pDXBx.jpg)\r\n\r\nHere is a screenshot that describes my issue This is a trip planner android app. And this is my major project. as shown in the image while trying to signup it says doctype html in the snack bar.\r\n\r\nI thought it was a backend server issue and tried connecting to the firebase server. But it doesn&#39;t work it shows the same error message.\r\n\r\nI have identified that the code consists of a heroku link which is currently not working so I am facing an issue to signup. Is there any alternative that I can use instead of heroku link. here is some code of LoginActivity.java  \r\n\r\n    public void login(boolean showToastMessage) {\r\n        mView.openLogin(showToastMessage);\r\n    }\r\n\r\n    /**\r\n     * Calls Login API and checks for validity of credentials\r\n     * If yes, transfer to MainActivity\r\n     *\r\n     * @param email user&#39;s email id\r\n     * @param pass  password user entered\r\n     */\r\n    public void ok_login(final String email, String pass, final Handler mhandler) {\r\n\r\n        mView.showLoadingDialog();\r\n\r\n        String uri = API_LINK_V2 + &quot;sign-in&quot;;\r\n        Log.v(&quot;EXECUTING&quot;, uri);\r\n\r\n        //Set up client\r\n        OkHttpClient client = new OkHttpClient();\r\n\r\n        RequestBody requestBody = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;username&quot;, email)\r\n                .addFormDataPart(&quot;password&quot;, pass)\r\n                .build();\r\n\r\n        //Execute request\r\n        Request request = new Request.Builder()\r\n                .url(uri)\r\n                .post(requestBody)\r\n                .build();\r\n        //Setup callback\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(Call call, IOException e) {\r\n                mhandler.post(() -&gt; {\r\n                    if (mView != null) {\r\n                        mView.showError();\r\n                        mView.dismissLoadingDialog();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(Call call, final Response response) throws IOException {\r\n                final String res = Objects.requireNonNull(response.body()).string();\r\n                mhandler.post(() -&gt; {\r\n                            try {\r\n                                if (response.isSuccessful()) {\r\n                                    JSONObject responeJsonObject = new JSONObject(res);\r\n                                    String token = responeJsonObject.getString(&quot;token&quot;);\r\n                                    mView.rememberUserInfo(token, email);\r\n                                    mView.startMainActivity();\r\n                                } else {\r\n                                    mView.showError();\r\n                                }\r\n                                mView.dismissLoadingDialog();\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n            }\r\n        });\r\n    }\r\n","title":"Error occured during signup in android project","body":"<p><img src=\"https://i.stack.imgur.com/pDXBx.jpg\" alt=\"signup page of the android project\" /></p>\n<p>Here is a screenshot that describes my issue This is a trip planner android app. And this is my major project. as shown in the image while trying to signup it says doctype html in the snack bar.</p>\n<p>I thought it was a backend server issue and tried connecting to the firebase server. But it doesn't work it shows the same error message.</p>\n<p>I have identified that the code consists of a heroku link which is currently not working so I am facing an issue to signup. Is there any alternative that I can use instead of heroku link. here is some code of LoginActivity.java</p>\n<pre><code>public void login(boolean showToastMessage) {\n    mView.openLogin(showToastMessage);\n}\n\n/**\n * Calls Login API and checks for validity of credentials\n * If yes, transfer to MainActivity\n *\n * @param email user's email id\n * @param pass  password user entered\n */\npublic void ok_login(final String email, String pass, final Handler mhandler) {\n\n    mView.showLoadingDialog();\n\n    String uri = API_LINK_V2 + &quot;sign-in&quot;;\n    Log.v(&quot;EXECUTING&quot;, uri);\n\n    //Set up client\n    OkHttpClient client = new OkHttpClient();\n\n    RequestBody requestBody = new MultipartBody.Builder()\n            .setType(MultipartBody.FORM)\n            .addFormDataPart(&quot;username&quot;, email)\n            .addFormDataPart(&quot;password&quot;, pass)\n            .build();\n\n    //Execute request\n    Request request = new Request.Builder()\n            .url(uri)\n            .post(requestBody)\n            .build();\n    //Setup callback\n    client.newCall(request).enqueue(new Callback() {\n        @Override\n        public void onFailure(Call call, IOException e) {\n            mhandler.post(() -&gt; {\n                if (mView != null) {\n                    mView.showError();\n                    mView.dismissLoadingDialog();\n                }\n            });\n        }\n\n        @Override\n        public void onResponse(Call call, final Response response) throws IOException {\n            final String res = Objects.requireNonNull(response.body()).string();\n            mhandler.post(() -&gt; {\n                        try {\n                            if (response.isSuccessful()) {\n                                JSONObject responeJsonObject = new JSONObject(res);\n                                String token = responeJsonObject.getString(&quot;token&quot;);\n                                mView.rememberUserInfo(token, email);\n                                mView.startMainActivity();\n                            } else {\n                                mView.showError();\n                            }\n                            mView.dismissLoadingDialog();\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n            );\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679941888,"creation_date":1679941888,"answer_id":75859197,"question_id":75852131,"body_markdown":"I believe any `-tests` JAR file is for the Hadoop source code unit tests, and are ran during the build of the project, and not intended to be ran against a real YARN cluster. \r\n\r\nMore specifically, YARN classpath does not include test libraries, such as JUnit","title":"Error : java.lang.NoClassDefFoundError : junit/framework/TestCase when running TestDFSIO in Hadoop","body":"<p>I believe any <code>-tests</code> JAR file is for the Hadoop source code unit tests, and are ran during the build of the project, and not intended to be ran against a real YARN cluster.</p>\n<p>More specifically, YARN classpath does not include test libraries, such as JUnit</p>\n"}],"owner":{"account_id":13013500,"reputation":21,"user_id":9405652,"display_name":"Asrul Paelori Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679941888,"creation_date":1679891163,"question_id":75852131,"body_markdown":"when i try to run TestDFSIO in Hadoop ubuntu i got &quot;java.lang.NoClassDefFoundError : junit/framework/TestCase&quot; i dont know to to fix it.\r\n\r\nthis is my command to run testdfsio\r\n&quot;yarn jar /usr/local/hadoop/hadoop-mapreduce-client-jobclient-3.3.5-tests.jar -write -nrFiles 10 -Filesize 1000&quot;","title":"Error : java.lang.NoClassDefFoundError : junit/framework/TestCase when running TestDFSIO in Hadoop","body":"<p>when i try to run TestDFSIO in Hadoop ubuntu i got &quot;java.lang.NoClassDefFoundError : junit/framework/TestCase&quot; i dont know to to fix it.</p>\n<p>this is my command to run testdfsio\n&quot;yarn jar /usr/local/hadoop/hadoop-mapreduce-client-jobclient-3.3.5-tests.jar -write -nrFiles 10 -Filesize 1000&quot;</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1455370540,"post_id":35380550,"comment_id":58465853,"body_markdown":"try `X` for the timezone.","body":"try <code>X</code> for the timezone."},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1455370746,"post_id":35380550,"comment_id":58465930,"body_markdown":"Do you know it will work on Android API 9+?","body":"Do you know it will work on Android API 9+?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1455370822,"post_id":35380550,"comment_id":58465953,"body_markdown":"It&#39;s a very old class (which is why it has some quirks) so I would be surprised it if didn&#39;t work on all Android systems.","body":"It&#39;s a very old class (which is why it has some quirks) so I would be surprised it if didn&#39;t work on all Android systems."},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1455370894,"post_id":35380550,"comment_id":58465974,"body_markdown":"Just I didn&#39;t find it on android &#39;SimpleDateFormat` docs.","body":"Just I didn&#39;t find it on android &#39;SimpleDateFormat` docs."},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":0,"creation_date":1455370919,"post_id":35380550,"comment_id":58465987,"body_markdown":"Thanks! You very helped me!","body":"Thanks! You very helped me!"},{"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"score":1,"creation_date":1455372642,"post_id":35380550,"comment_id":58466585,"body_markdown":"It doesn&#39;t work on old Android versions.","body":"It doesn&#39;t work on old Android versions."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679792656,"post_id":35380550,"comment_id":133784177,"body_markdown":"Update: This Question is using terribly flawed date-time classes that are now legacy, supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"Update: This Question is using terribly flawed date-time classes that are now legacy, supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."}],"answers":[{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1455370561,"creation_date":1455370561,"answer_id":35380591,"question_id":35380550,"body_markdown":"Use `X` instead of `Z` for time zone, i.e.: \r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, ...\r\n\r\n","title":"Cannot parse ISO-8601 date string to Date","body":"<p>Use <code>X</code> instead of <code>Z</code> for time zone, i.e.: </p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSX\", ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1445300,"reputation":481,"user_id":1364024,"display_name":"Pranavan Maru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679941486,"creation_date":1679726122,"answer_id":75840021,"question_id":35380550,"body_markdown":"If your java version supports Instant, OffsetDateTime, ZonedDateTime,\r\nYou could simply do:\r\n\r\n    Instant.parse(&quot;2023-03-25T05:23:07.795Z&quot;);\r\n\r\nInstant is the simplest of the three options available. To read more on the nuances of each, check [this stackoverflow question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30234594/whats-the-difference-between-zoneddatetime-and-offsetdatetime","title":"Cannot parse ISO-8601 date string to Date","body":"<p>If your java version supports Instant, OffsetDateTime, ZonedDateTime,\nYou could simply do:</p>\n<pre><code>Instant.parse(&quot;2023-03-25T05:23:07.795Z&quot;);\n</code></pre>\n<p>Instant is the simplest of the three options available. To read more on the nuances of each, check <a href=\"https://stackoverflow.com/questions/30234594/whats-the-difference-between-zoneddatetime-and-offsetdatetime\">this stackoverflow question</a></p>\n"}],"owner":{"account_id":3509903,"reputation":7433,"user_id":3253896,"accept_rate":63,"display_name":"Denis Steinman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35380591,"answer_count":2,"score":2,"last_activity_date":1679941486,"creation_date":1455370321,"question_id":35380550,"body_markdown":"I looked similar topics but it didn&#39;t help me. I have ISO-8601 date type, for example: `2014-08-13T19:05:22.168083+00:00`.\r\n&lt;br&gt;I try to parse it so:\r\n\r\n    public static Date parseISO8601(final String date) {\r\n        String fixedDate = date.replaceFirst(&quot;(\\\\d\\\\d[\\\\.,]\\\\d{3})\\\\d+&quot;, &quot;$1&quot;);\r\n        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, Locale.ENGLISH);\r\n\r\n        try {\r\n            return df.parse(fixedDate);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\nbut it throws exception. And I cannot understand why?\r\n&lt;br&gt;Error message: `java.text.ParseException: Unparseable date: &quot;2014-08-13T19:05:22.148+00:00&quot;`","title":"Cannot parse ISO-8601 date string to Date","body":"<p>I looked similar topics but it didn't help me. I have ISO-8601 date type, for example: <code>2014-08-13T19:05:22.168083+00:00</code>.\n<br>I try to parse it so:</p>\n\n<pre><code>public static Date parseISO8601(final String date) {\n    String fixedDate = date.replaceFirst(\"(\\\\d\\\\d[\\\\.,]\\\\d{3})\\\\d+\", \"$1\");\n    DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\", Locale.ENGLISH);\n\n    try {\n        return df.parse(fixedDate);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>but it throws exception. And I cannot understand why?\n<br>Error message: <code>java.text.ParseException: Unparseable date: \"2014-08-13T19:05:22.148+00:00\"</code></p>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1601167337,"creation_date":1601167337,"answer_id":64083773,"question_id":64083687,"body_markdown":"Sure. But you have a bit of an issue: Whatever code is generating the endless stream of dynamic data cannot just be in the method that &#39;returns the inputstream&#39; just by itself, that&#39;s what your realisation is about.\r\n\r\nYou have two major options:\r\n\r\n## Threads\r\n\r\nInstead, you could fire off a thread which is continually generating data. Note that whatever it &#39;generates&#39; needs to be cached; this is __not a good fit__ if, say, you want to dynamically generate an inputstream that just serves up an endless amount of 0 bytes, for example. It&#39;s a good fit if the data is coming from, say, a USB connected arduino that from time to time sends information about a temperature sensor that it&#39;s connected to. Note that you need the thread to store the data it receives someplace, and then have an inputstream that will &#39;pull&#39; from this queue of data you&#39;re making. To make an inputstream that pulls from a queue, see the next section. As this will involve threads, use something from `java.util.concurrent`, such as [`ArrayBlockingQueue`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ArrayBlockingQueue.html) - this has the double benefit that you won&#39;t get infinite buffers, either (the act of putting something in the buffer will block if the buffer is full).\r\n\r\n## subclassing\r\n\r\nWhat you can also do is take the code that can generate new values, but, put it in an envelope - a thing you can pass around. You want to make some code, but __not__ run it - you want to run that later, when the thing you hand the inputstream to, calls `.read()`.\r\n\r\nOne easy way to do that, is to __extend InputStream__ - and then implement your own zero method. Looks something like this:\r\n\r\n```\r\n\r\nclass InfiniteZeroesInputStream extends InputStream {\r\n    public int read() {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s that simple. Given:\r\n\r\n```\r\ntry (InputStream in = new InfiniteZeroesInputStream()) {\r\n    in.read(); // returns 0.. and will always do so.\r\n    byte[] b = new byte[65536];\r\n    in.read(b); // fills the whole array with zeroes.\r\n}\r\n```\r\n","title":"Can a java InputStream continuously read data from a method?","body":"<p>Sure. But you have a bit of an issue: Whatever code is generating the endless stream of dynamic data cannot just be in the method that 'returns the inputstream' just by itself, that's what your realisation is about.</p>\n<p>You have two major options:</p>\n<h2>Threads</h2>\n<p>Instead, you could fire off a thread which is continually generating data. Note that whatever it 'generates' needs to be cached; this is <strong>not a good fit</strong> if, say, you want to dynamically generate an inputstream that just serves up an endless amount of 0 bytes, for example. It's a good fit if the data is coming from, say, a USB connected arduino that from time to time sends information about a temperature sensor that it's connected to. Note that you need the thread to store the data it receives someplace, and then have an inputstream that will 'pull' from this queue of data you're making. To make an inputstream that pulls from a queue, see the next section. As this will involve threads, use something from <code>java.util.concurrent</code>, such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ArrayBlockingQueue.html\" rel=\"nofollow noreferrer\"><code>ArrayBlockingQueue</code></a> - this has the double benefit that you won't get infinite buffers, either (the act of putting something in the buffer will block if the buffer is full).</p>\n<h2>subclassing</h2>\n<p>What you can also do is take the code that can generate new values, but, put it in an envelope - a thing you can pass around. You want to make some code, but <strong>not</strong> run it - you want to run that later, when the thing you hand the inputstream to, calls <code>.read()</code>.</p>\n<p>One easy way to do that, is to <strong>extend InputStream</strong> - and then implement your own zero method. Looks something like this:</p>\n<pre><code>\nclass InfiniteZeroesInputStream extends InputStream {\n    public int read() {\n        return 0;\n    }\n}\n</code></pre>\n<p>It's that simple. Given:</p>\n<pre><code>try (InputStream in = new InfiniteZeroesInputStream()) {\n    in.read(); // returns 0.. and will always do so.\n    byte[] b = new byte[65536];\n    in.read(b); // fills the whole array with zeroes.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1679941312,"creation_date":1601169031,"answer_id":64083900,"question_id":64083687,"body_markdown":"You want a *pipe.*  Specifically, you want one of the following pairs of classes:\r\n\r\n* [PipedInputStream](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedInputStream.html) and [PipedOutputStream](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedOutputStream.html)\r\n* [PipedReader](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedReader.html) and [PipedWriter](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedWriter.html)\r\n\r\nYour question asks for an InputStream, but since you’re dealing with text, you probably should use a Reader, which is intended for characters.  In particular, note that `getBytes()` *will return different values* on Windows systems compared to non-Windows systems, for any String with non-ASCII characters.  Using a Reader and Writer will remove the need to worry about that.\r\n\r\nEither way, the approach is the same:  create the readable end of the pipe, then create and feed the writable end of the pipe in another thread.\r\n\r\nUsing a PipedReader and PipedWriter:\r\n\r\n    PipedReader pipedReader = new PipedReader();\r\n    Reader reader = new BufferedReader(pipedReader);\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Future&lt;?&gt; pipeFeeder = executor.submit(\r\n        () -&gt; generateContinuousDynamicString(pipedReader));\r\n\r\n    // ...\r\n\r\n    private Void generateContinuousDynamicString(PipedReader pipedReader)\r\n    throws IOException {\r\n\r\n        try (Writer writer = new PipedWriter(pipedReader)) {\r\n            writer.write(&quot;&lt;test&gt;&quot;);\r\n\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                writer.write(&quot;&lt;str&gt;&quot; + i + &quot;&lt;/str&gt;&quot;);\r\n            }\r\n\r\n            writer.write(&quot;&lt;/test&gt;&quot;);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nUsing a PipedInputStream and PipedOutputStream:\r\n\r\n    PipedInputStream pipedInputStream = new PipedInputStream();\r\n    InputStream inputStream = new BufferedInputStream(pipedInputStream);\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Future&lt;?&gt; pipeFeeder = executor.submit(\r\n        () -&gt; generateContinuousDynamicString(pipedInputStream));\r\n\r\n    // ...\r\n\r\n    private Void generateContinuousDynamicString(PipedInputStream pipedInputStream)\r\n    throws IOException {\r\n\r\n        Charset charset = StandardCharsets.UTF_8;\r\n\r\n        try (Writer writer = new OutputStreamWriter(\r\n                new PipedOutputStream(pipedInputStream),\r\n                StandardCharsets.UTF_8)) {\r\n\r\n            writer.write(&quot;&lt;test&gt;&quot;);\r\n\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                writer.write(&quot;&lt;str&gt;&quot; + i + &quot;&lt;/str&gt;&quot;);\r\n            }\r\n\r\n            writer.write(&quot;&lt;/test&gt;&quot;);\r\n        }\r\n\r\n        return null;\r\n    }\r\n","title":"Can a java InputStream continuously read data from a method?","body":"<p>You want a <em>pipe.</em>  Specifically, you want one of the following pairs of classes:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedInputStream.html\" rel=\"nofollow noreferrer\">PipedInputStream</a> and <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedOutputStream.html\" rel=\"nofollow noreferrer\">PipedOutputStream</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedReader.html\" rel=\"nofollow noreferrer\">PipedReader</a> and <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/io/PipedWriter.html\" rel=\"nofollow noreferrer\">PipedWriter</a></li>\n</ul>\n<p>Your question asks for an InputStream, but since you’re dealing with text, you probably should use a Reader, which is intended for characters.  In particular, note that <code>getBytes()</code> <em>will return different values</em> on Windows systems compared to non-Windows systems, for any String with non-ASCII characters.  Using a Reader and Writer will remove the need to worry about that.</p>\n<p>Either way, the approach is the same:  create the readable end of the pipe, then create and feed the writable end of the pipe in another thread.</p>\n<p>Using a PipedReader and PipedWriter:</p>\n<pre><code>PipedReader pipedReader = new PipedReader();\nReader reader = new BufferedReader(pipedReader);\n\nExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;?&gt; pipeFeeder = executor.submit(\n    () -&gt; generateContinuousDynamicString(pipedReader));\n\n// ...\n\nprivate Void generateContinuousDynamicString(PipedReader pipedReader)\nthrows IOException {\n\n    try (Writer writer = new PipedWriter(pipedReader)) {\n        writer.write(&quot;&lt;test&gt;&quot;);\n\n        for (int i = 0; i &lt; 1000; i++) {\n            writer.write(&quot;&lt;str&gt;&quot; + i + &quot;&lt;/str&gt;&quot;);\n        }\n\n        writer.write(&quot;&lt;/test&gt;&quot;);\n    }\n\n    return null;\n}\n</code></pre>\n<p>Using a PipedInputStream and PipedOutputStream:</p>\n<pre><code>PipedInputStream pipedInputStream = new PipedInputStream();\nInputStream inputStream = new BufferedInputStream(pipedInputStream);\n\nExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;?&gt; pipeFeeder = executor.submit(\n    () -&gt; generateContinuousDynamicString(pipedInputStream));\n\n// ...\n\nprivate Void generateContinuousDynamicString(PipedInputStream pipedInputStream)\nthrows IOException {\n\n    Charset charset = StandardCharsets.UTF_8;\n\n    try (Writer writer = new OutputStreamWriter(\n            new PipedOutputStream(pipedInputStream),\n            StandardCharsets.UTF_8)) {\n\n        writer.write(&quot;&lt;test&gt;&quot;);\n\n        for (int i = 0; i &lt; 1000; i++) {\n            writer.write(&quot;&lt;str&gt;&quot; + i + &quot;&lt;/str&gt;&quot;);\n        }\n\n        writer.write(&quot;&lt;/test&gt;&quot;);\n    }\n\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":19602607,"reputation":13,"user_id":14347066,"display_name":"rapa0001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64083773,"answer_count":2,"score":1,"last_activity_date":1679941312,"creation_date":1601166053,"question_id":64083687,"body_markdown":"I have a piece of code\r\n\r\n    ...\r\n    InputStream inputStream = new BufferedInputStream(new ByteArrayInputStream(&quot;test&quot;.getBytes()));\r\n    ...\r\n\r\nand this line makes string &quot;test&quot; an input for an InputStream, however this is a static InputStream. \r\nis there any way without a Scanner, System.in or user external input to make this InputStream dynamic\r\n\r\nwhat I need is something like this\r\n\r\n    ...\r\n    InputStream inputStream = new BufferedInputStream(new \r\n    ByteArrayInputStream(generateContinuousDynamicString().getBytes()));\r\n    // So, basically input stream will be blocked until generateContinuousDynamicString()\r\n    // returns a result?\r\n    ...\r\n\r\nI&#39;ve tried something like this \r\n\r\n    private static byte[] generateContinuousDynamicString(String s) {\r\n        String t = &quot;&quot;;\r\n        // here comes the realization\r\n        // that the source for an input stream \r\n        // cannot be generated dynamically on the \r\n        // fly it only can be read from already \r\n        // existing (fully generated and available \r\n        // resource). Am I right? Otherwise how \r\n        // can I adjust this method in such a way that\r\n        // input stream would continuously have a new\r\n        // string to read from? \r\n        for (int i = 0; i &lt; 1000; i++){\r\n            t += &quot;&lt;str&gt;&quot;+s+i+&quot;&lt;/str&gt;&quot;;\r\n        }\r\n        return (&quot;&lt;test&gt;&quot;+t+&quot;&lt;/test&gt;&quot;).getBytes();\r\n    }\r\n\r\nSo, if we have\r\n\r\n    ...\r\n    InputStream inputStream = new BufferedInputStream(readFromADatabaseStream());\r\n    ...\r\n\r\nThis is also not dynamic input stream as a resource is already in a database.","title":"Can a java InputStream continuously read data from a method?","body":"<p>I have a piece of code</p>\n<pre><code>...\nInputStream inputStream = new BufferedInputStream(new ByteArrayInputStream(&quot;test&quot;.getBytes()));\n...\n</code></pre>\n<p>and this line makes string &quot;test&quot; an input for an InputStream, however this is a static InputStream.\nis there any way without a Scanner, System.in or user external input to make this InputStream dynamic</p>\n<p>what I need is something like this</p>\n<pre><code>...\nInputStream inputStream = new BufferedInputStream(new \nByteArrayInputStream(generateContinuousDynamicString().getBytes()));\n// So, basically input stream will be blocked until generateContinuousDynamicString()\n// returns a result?\n...\n</code></pre>\n<p>I've tried something like this</p>\n<pre><code>private static byte[] generateContinuousDynamicString(String s) {\n    String t = &quot;&quot;;\n    // here comes the realization\n    // that the source for an input stream \n    // cannot be generated dynamically on the \n    // fly it only can be read from already \n    // existing (fully generated and available \n    // resource). Am I right? Otherwise how \n    // can I adjust this method in such a way that\n    // input stream would continuously have a new\n    // string to read from? \n    for (int i = 0; i &lt; 1000; i++){\n        t += &quot;&lt;str&gt;&quot;+s+i+&quot;&lt;/str&gt;&quot;;\n    }\n    return (&quot;&lt;test&gt;&quot;+t+&quot;&lt;/test&gt;&quot;).getBytes();\n}\n</code></pre>\n<p>So, if we have</p>\n<pre><code>...\nInputStream inputStream = new BufferedInputStream(readFromADatabaseStream());\n...\n</code></pre>\n<p>This is also not dynamic input stream as a resource is already in a database.</p>\n"},{"tags":["java","swing","if-statement","jtextfield","jpasswordfield"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679229877,"post_id":75782016,"comment_id":133680326,"body_markdown":"Don&#39;t compare Strings using `==` or `!=`. Use the `equals(...)` or the `equalsIgnoreCase(...)` method instead. Understand that `==` checks if the two *object references* are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here.","body":"Don&#39;t compare Strings using <code>==</code> or <code>!=</code>. Use the <code>equals(...)</code> or the <code>equalsIgnoreCase(...)</code> method instead. Understand that <code>==</code> checks if the two <i>object references</i> are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679229923,"post_id":75782016,"comment_id":133680334,"body_markdown":"So, instead of `if(t==&quot;abc&quot;&amp;&amp;p==&quot;abc&quot;) {`, try: `if ((t.equals(&quot;abc&quot;) &amp;&amp; (p.equals(&quot;abc&quot;)) {`","body":"So, instead of <code>if(t==&quot;abc&quot;&amp;&amp;p==&quot;abc&quot;) {</code>, try: <code>if ((t.equals(&quot;abc&quot;) &amp;&amp; (p.equals(&quot;abc&quot;)) {</code>"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679229417,"answer_count":0,"score":0,"last_activity_date":1679940125,"creation_date":1679229323,"question_id":75782016,"body_markdown":"I am trying to create a very basic &quot;sign in&quot; software using Swing. But when I try to check if the inputted data is equal to the data that I have given the software, it fails.\r\nHere is my code:\r\n```\r\nprivate class MyActionListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent evt) {\r\n        \tString t=jtf.getText();\r\n\t\t\tString p=jpf.getText();\r\n\t\t\tboolean bt = false;\r\n\t\t\tboolean pt = false;\r\n\t\t\tif(t==&quot;abc&quot;&amp;&amp;p==&quot;abc&quot;) {\r\n\t\t\t\tbt=true;\r\n\t\t\t\tpt=true;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(bt+&quot;, &quot;+pt);\r\n        \tif(pt&amp;&amp;bt) {\r\n        \t\tURI url=null;\r\n    \t\t\ttry {\r\n    \t\t\t\turl = new URI(link);\r\n    \t\t\t} catch (URISyntaxException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n                try {\r\n    \t\t\t\tDesktop.getDesktop().browse(url);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n        \t}\r\n        }\r\n```\r\nThis code gets executed once a `JButton` on my `JPanel` gets executed, here both `t` and `p` are the input taken from `jtf` or `JTextField` and `jpf` or `JPasswordField`. This is then run through the &#39;if&#39; statement which checks if `t` is equal to &quot;abc&quot; and `p` is equal to &quot;abc&quot;. If all this all works properly, it should take the user to the URL which I had defined in the parent class.\r\n\r\nI tried switching the &#39;if&#39; statement to the &#39;switch&#39; statement, which didn&#39;t work, I removed the &#39;if&#39; statement entirely, which works. This showed that the URL does work, but the &#39;if&#39; statement doesn&#39;t, to be more sure, I even added a `println(&quot;debug&quot;);` which as expected didn&#39;t get executed.","title":"JTextField and JPasswordField value cannot be read by if statement","body":"<p>I am trying to create a very basic &quot;sign in&quot; software using Swing. But when I try to check if the inputted data is equal to the data that I have given the software, it fails.\nHere is my code:</p>\n<pre><code>private class MyActionListener implements ActionListener {\n        public void actionPerformed(ActionEvent evt) {\n            String t=jtf.getText();\n            String p=jpf.getText();\n            boolean bt = false;\n            boolean pt = false;\n            if(t==&quot;abc&quot;&amp;&amp;p==&quot;abc&quot;) {\n                bt=true;\n                pt=true;\n            }\n            System.out.println(bt+&quot;, &quot;+pt);\n            if(pt&amp;&amp;bt) {\n                URI url=null;\n                try {\n                    url = new URI(link);\n                } catch (URISyntaxException e) {\n                    e.printStackTrace();\n                }\n                try {\n                    Desktop.getDesktop().browse(url);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n</code></pre>\n<p>This code gets executed once a <code>JButton</code> on my <code>JPanel</code> gets executed, here both <code>t</code> and <code>p</code> are the input taken from <code>jtf</code> or <code>JTextField</code> and <code>jpf</code> or <code>JPasswordField</code>. This is then run through the 'if' statement which checks if <code>t</code> is equal to &quot;abc&quot; and <code>p</code> is equal to &quot;abc&quot;. If all this all works properly, it should take the user to the URL which I had defined in the parent class.</p>\n<p>I tried switching the 'if' statement to the 'switch' statement, which didn't work, I removed the 'if' statement entirely, which works. This showed that the URL does work, but the 'if' statement doesn't, to be more sure, I even added a <code>println(&quot;debug&quot;);</code> which as expected didn't get executed.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1624898327,"post_id":68163875,"comment_id":120477460,"body_markdown":"&quot;REST&quot; meaning just that you want to submit it over HTTP to Spring Controllers? You&#39;re not wanting like JSON messages, correct? But some custom message format instead?","body":"&quot;REST&quot; meaning just that you want to submit it over HTTP to Spring Controllers? You&#39;re not wanting like JSON messages, correct? But some custom message format instead?"},{"owner":{"account_id":15230764,"reputation":161,"user_id":15272137,"display_name":"Balanjaneyulu P"},"score":0,"creation_date":1624938079,"post_id":68163875,"comment_id":120486924,"body_markdown":"below is an example of sample  fixed length file content","body":"below is an example of sample  fixed length file content"},{"owner":{"account_id":15230764,"reputation":161,"user_id":15272137,"display_name":"Balanjaneyulu P"},"score":0,"creation_date":1624938085,"post_id":68163875,"comment_id":120486925,"body_markdown":"20011228YF2001122814313425 Forest St Marlborough  MA017525083828200600","body":"20011228YF2001122814313425 Forest St Marlborough  MA017525083828200600"},{"owner":{"account_id":15230764,"reputation":161,"user_id":15272137,"display_name":"Balanjaneyulu P"},"score":0,"creation_date":1624938379,"post_id":68163875,"comment_id":120486977,"body_markdown":"my rest controller has to accept the above message format. if any disturbance of content leads to damage entire message. it should be a fixed-length format","body":"my rest controller has to accept the above message format. if any disturbance of content leads to damage entire message. it should be a fixed-length format"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1625008833,"post_id":68163875,"comment_id":120511365,"body_markdown":"And how is that &quot;string&quot; message to be submitted? Since you&#39;re saying REST, I&#39;m assuming HTTP. Are you needing it as a POST body or like a PUT? Is it supposed to be a &quot;form&quot; field?","body":"And how is that &quot;string&quot; message to be submitted? Since you&#39;re saying REST, I&#39;m assuming HTTP. Are you needing it as a POST body or like a PUT? Is it supposed to be a &quot;form&quot; field?"},{"owner":{"account_id":15230764,"reputation":161,"user_id":15272137,"display_name":"Balanjaneyulu P"},"score":0,"creation_date":1625125426,"post_id":68163875,"comment_id":120545303,"body_markdown":"It&#39;s Post method","body":"It&#39;s Post method"}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679940101,"creation_date":1624891633,"answer_id":68165463,"question_id":68163875,"body_markdown":"As I see this is more into javax.validation.constraints package. In your entity, you do something like\r\n\r\n    public class Market {\r\n        @NotNull\r\n        @Size(max=4)\r\n        private String marketCode;\r\n        // getters/setters\r\n    }\r\n\r\nSo when you try to bind values from @RequestBody Market market, it will throw error regarding the length.","title":"how to accept fixed length message by spring rest api","body":"<p>As I see this is more into javax.validation.constraints package. In your entity, you do something like</p>\n<pre><code>public class Market {\n    @NotNull\n    @Size(max=4)\n    private String marketCode;\n    // getters/setters\n}\n</code></pre>\n<p>So when you try to bind values from @RequestBody Market market, it will throw error regarding the length.</p>\n"}],"owner":{"account_id":15230764,"reputation":161,"user_id":15272137,"display_name":"Balanjaneyulu P"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679940101,"creation_date":1624885530,"question_id":68163875,"body_markdown":"I need to expose one rest API with spring boot that has to accept message content in fixed-length format and, as is(i.e without disturbing fixed-length message content ), need to put into IBM MQ to pass received  fixed-length message to the back end system (IBM mainframe system)via IBM MQ\r\n\r\nI would be requesting you to help me with the sample code  for this requirement\r\n\r\nFixed-length format messages, for example:\r\n```\r\n20011228YF2001122814313425 Forest St Marlborough MA017525083828200600\r\n```\r\n\r\nFixed-length format messages use ordinal positions, which are offsets to identify where fields are within the record. There are no field delimiters. An end-of-record delimiter is required, even for the last record.","title":"how to accept fixed length message by spring rest api","body":"<p>I need to expose one rest API with spring boot that has to accept message content in fixed-length format and, as is(i.e without disturbing fixed-length message content ), need to put into IBM MQ to pass received  fixed-length message to the back end system (IBM mainframe system)via IBM MQ</p>\n<p>I would be requesting you to help me with the sample code  for this requirement</p>\n<p>Fixed-length format messages, for example:</p>\n<pre><code>20011228YF2001122814313425 Forest St Marlborough MA017525083828200600\n</code></pre>\n<p>Fixed-length format messages use ordinal positions, which are offsets to identify where fields are within the record. There are no field delimiters. An end-of-record delimiter is required, even for the last record.</p>\n"},{"tags":["java","youtube-api"],"answers":[{"tags":[],"owner":{"account_id":10864,"reputation":199955,"user_id":20713,"accept_rate":80,"display_name":"ephemient"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1296448002,"creation_date":1296448002,"answer_id":4847628,"question_id":4825251,"body_markdown":"Use the [YouTube Data API](http://code.google.com/apis/youtube/2.0/developers_guide_protocol_audience.html) (there&#39;s pre-built [GData client libraries](http://code.google.com/apis/youtube/code.html), or you can do the HTTP/XML stuff yourself).\r\n\r\nOne of the [`&lt;media:content/&gt;`](http://code.google.com/apis/gdata/javadoc/com/google/gdata/data/media/mediarss/MediaContent.html) entries will contain a URL for the embeddable SWF, if the video is embeddable.","title":"How to get the embed HTML code for a video hosted in youtube programmatically","body":"<p>Use the <a href=\"http://code.google.com/apis/youtube/2.0/developers_guide_protocol_audience.html\" rel=\"noreferrer\">YouTube Data API</a> (there's pre-built <a href=\"http://code.google.com/apis/youtube/code.html\" rel=\"noreferrer\">GData client libraries</a>, or you can do the HTTP/XML stuff yourself).</p>\n\n<p>One of the <a href=\"http://code.google.com/apis/gdata/javadoc/com/google/gdata/data/media/mediarss/MediaContent.html\" rel=\"noreferrer\"><code>&lt;media:content/&gt;</code></a> entries will contain a URL for the embeddable SWF, if the video is embeddable.</p>\n"},{"tags":[],"owner":{"account_id":293170,"reputation":992,"user_id":596341,"display_name":"probabilityzero"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1296450375,"creation_date":1296450375,"answer_id":4847795,"question_id":4825251,"body_markdown":"Assuming you have the URL of the video, it&#39;s fairly simple to generate one. You need the end of the URL (the part after the */watch?v=*, let&#39;s call it *ID*). To generate the iframe embed html, just place it in the appropriate place (in the src attribute, don&#39;t include the brackets):\r\n\r\n    &lt;iframe title=&quot;YouTube video player&quot; class=&quot;youtube-player&quot; type=&quot;text/html&quot; width=&quot;640&quot;\r\n    height=&quot;390&quot; src=&quot;http://www.youtube.com/embed/{ID}&quot; frameborder=&quot;0&quot;\r\n    allowFullScreen&gt;&lt;/iframe&gt;\r\n\r\nThere are a couple of ways to get the v parameter from the URL. A regular expression would work.","title":"How to get the embed HTML code for a video hosted in youtube programmatically","body":"<p>Assuming you have the URL of the video, it's fairly simple to generate one. You need the end of the URL (the part after the <em>/watch?v=</em>, let's call it <em>ID</em>). To generate the iframe embed html, just place it in the appropriate place (in the src attribute, don't include the brackets):</p>\n\n<pre><code>&lt;iframe title=\"YouTube video player\" class=\"youtube-player\" type=\"text/html\" width=\"640\"\nheight=\"390\" src=\"http://www.youtube.com/embed/{ID}\" frameborder=\"0\"\nallowFullScreen&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>There are a couple of ways to get the v parameter from the URL. A regular expression would work.</p>\n"},{"tags":[],"owner":{"account_id":1967613,"reputation":21662,"user_id":1767412,"accept_rate":72,"display_name":"But those new buttons though.."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515604990,"creation_date":1515603204,"answer_id":48192380,"question_id":4825251,"body_markdown":"Though the accepted answer works, if you want to do this programmatically you need the correct aspect ratio in order to generate optimal iframe dimensions for your video.  I wrote the following php function that can generate a link for you on the fly.  It uses the bash utility [youtube-dl][1] to get information about the video from any youtube link, so you&#39;ll need to make sure that&#39;s installed (`apt-get install youtube-dl` should work on Ubuntu or other debian flavors)\r\n\r\n    function getYoutubeEmbed($link, $size = [], $options = [], $privacy = false) {\r\n    \r\n    \t$options += [\r\n    \t\t&#39;rel&#39;      =&gt; true, // Show suggested videos when the video finishes.\r\n    \t\t&#39;controls&#39; =&gt; true, // Show player controls.\r\n    \t\t&#39;showinfo&#39; =&gt; true, // Show video title and player actions.\r\n    \t];\r\n    \r\n    \t$json = json_decode(exec(&#39;youtube-dl -j --no-warnings &#39; . $link . &#39; 2&gt;/dev/null&#39;));\r\n    \tif ($json &amp;&amp; !empty($id = $json-&gt;id) &amp;&amp; !empty($width = $json-&gt;width) &amp;&amp; !empty($height = $json-&gt;height)) {\r\n    \r\n    \t\t$args = [];\r\n    \t\tforeach ($options as $option =&gt; $value) {\r\n    \t\t\tif (!$value) {\r\n    \t\t\t\t$args[] = $option . &#39;=0&#39;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif ($size) {\r\n    \t\t\tif (!empty($size[&#39;width&#39;]) &amp;&amp; !empty($size[&#39;height&#39;])) {\r\n    \t\t\t\t$width  = $size[&#39;width&#39;];\r\n    \t\t\t\t$height = $size[&#39;height&#39;];\r\n    \t\t\t} else if (!empty($size[&#39;width&#39;])) {\r\n    \t\t\t\t$height = ceil(($height * $size[&#39;width&#39;]) / $width);\r\n    \t\t\t\t$width  = $size[&#39;width&#39;];\r\n    \t\t\t} else if (!empty($size[&#39;height&#39;])) {\r\n    \t\t\t\t$width  = ceil(($width * $size[&#39;height&#39;]) / $height);\r\n    \t\t\t\t$height = $size[&#39;height&#39;];\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t$url = ($privacy ? &#39;www.youtube-nocookie.com/embed/&#39; : &#39;www.youtube.com/embed/&#39;) . $id . ($args ? &#39;?&#39; . implode(&#39;&amp;amp;&#39;,$args) : &#39;&#39;);\r\n    \t\t$iframe = &#39;&lt;iframe width=&quot;&#39; . $width . &#39;&quot; height=&quot;&#39; . $height . &#39;&quot; src=&quot;//&#39; . $url . &#39;&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; allowfullscreen&gt;&lt;/iframe&gt;&#39;;\r\n    \t\treturn $iframe;\r\n    \t} else {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nThe function is fairly self explanatory but here&#39;s the breakdown:\r\n\r\n - At the minimum you need to supply a link for the first argument.\r\n - The second argument is an array of width, height or both.  If you only specify one it will treat keep the default aspect ratio and calculate the other dimension for you (this is how I&#39;d typically use it).\r\n - The third argument is an optional array of arguments which are documented in the function itself.\r\n - The fourt is an optional boolean argument for &#39;privacy&#39; which is explained as:\r\n\r\n&gt;  Enable privacy-enhanced mode. When you turn on privacy-enhanced mode, YouTube won&#39;t store information about visitors on your website unless they play the video.\r\n\r\n**Usage example:**\r\n\r\n    $link = &#39;https://www.youtube.com/watch?v=adAqQct3vRI&#39;;\r\n    echo getYoutubeEmbed($link, [&#39;width&#39; =&gt; 560], [&#39;rel&#39; =&gt; false]);\r\n\r\n**Output:**\r\n\r\n&gt; `&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;//www.youtube.com/embed/605gdJGdaPE?rel=0&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; allowfullscreen&gt;&lt;/iframe&gt;`\r\n\r\n  [1]: https://github.com/rg3/youtube-dl","title":"How to get the embed HTML code for a video hosted in youtube programmatically","body":"<p>Though the accepted answer works, if you want to do this programmatically you need the correct aspect ratio in order to generate optimal iframe dimensions for your video.  I wrote the following php function that can generate a link for you on the fly.  It uses the bash utility <a href=\"https://github.com/rg3/youtube-dl\" rel=\"nofollow noreferrer\">youtube-dl</a> to get information about the video from any youtube link, so you'll need to make sure that's installed (<code>apt-get install youtube-dl</code> should work on Ubuntu or other debian flavors)</p>\n\n<pre><code>function getYoutubeEmbed($link, $size = [], $options = [], $privacy = false) {\n\n    $options += [\n        'rel'      =&gt; true, // Show suggested videos when the video finishes.\n        'controls' =&gt; true, // Show player controls.\n        'showinfo' =&gt; true, // Show video title and player actions.\n    ];\n\n    $json = json_decode(exec('youtube-dl -j --no-warnings ' . $link . ' 2&gt;/dev/null'));\n    if ($json &amp;&amp; !empty($id = $json-&gt;id) &amp;&amp; !empty($width = $json-&gt;width) &amp;&amp; !empty($height = $json-&gt;height)) {\n\n        $args = [];\n        foreach ($options as $option =&gt; $value) {\n            if (!$value) {\n                $args[] = $option . '=0';\n            }\n        }\n\n        if ($size) {\n            if (!empty($size['width']) &amp;&amp; !empty($size['height'])) {\n                $width  = $size['width'];\n                $height = $size['height'];\n            } else if (!empty($size['width'])) {\n                $height = ceil(($height * $size['width']) / $width);\n                $width  = $size['width'];\n            } else if (!empty($size['height'])) {\n                $width  = ceil(($width * $size['height']) / $height);\n                $height = $size['height'];\n            }\n        }\n\n        $url = ($privacy ? 'www.youtube-nocookie.com/embed/' : 'www.youtube.com/embed/') . $id . ($args ? '?' . implode('&amp;amp;',$args) : '');\n        $iframe = '&lt;iframe width=\"' . $width . '\" height=\"' . $height . '\" src=\"//' . $url . '\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;&lt;/iframe&gt;';\n        return $iframe;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>The function is fairly self explanatory but here's the breakdown:</p>\n\n<ul>\n<li>At the minimum you need to supply a link for the first argument.</li>\n<li>The second argument is an array of width, height or both.  If you only specify one it will treat keep the default aspect ratio and calculate the other dimension for you (this is how I'd typically use it).</li>\n<li>The third argument is an optional array of arguments which are documented in the function itself.</li>\n<li>The fourt is an optional boolean argument for 'privacy' which is explained as:</li>\n</ul>\n\n<blockquote>\n  <p>Enable privacy-enhanced mode. When you turn on privacy-enhanced mode, YouTube won't store information about visitors on your website unless they play the video.</p>\n</blockquote>\n\n<p><strong>Usage example:</strong></p>\n\n<pre><code>$link = 'https://www.youtube.com/watch?v=adAqQct3vRI';\necho getYoutubeEmbed($link, ['width' =&gt; 560], ['rel' =&gt; false]);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p><code>&lt;iframe width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/605gdJGdaPE?rel=0\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;&lt;/iframe&gt;</code></p>\n</blockquote>\n"}],"owner":{"account_id":217207,"reputation":12349,"user_id":472897,"accept_rate":83,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11392,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4847795,"answer_count":3,"score":9,"last_activity_date":1679939913,"creation_date":1296193661,"question_id":4825251,"body_markdown":"How to get the embed HTML code for a video hosted in youtube programmatically. What Java API is available","title":"How to get the embed HTML code for a video hosted in youtube programmatically","body":"<p>How to get the embed HTML code for a video hosted in youtube programmatically. What Java API is available</p>\n"},{"tags":["java","openapi","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1679933079,"post_id":75856421,"comment_id":133805899,"body_markdown":"You shouldn&#39;t have to add additional dependencies. The dependencies should automatically be set by the generator depending on your settings.  Are you by chance using IntelliJ?  If so, have you enabled annotation processing?","body":"You shouldn&#39;t have to add additional dependencies. The dependencies should automatically be set by the generator depending on your settings.  Are you by chance using IntelliJ?  If so, have you enabled annotation processing?"}],"answers":[{"tags":[],"owner":{"account_id":10801575,"reputation":1614,"user_id":7945344,"display_name":"Lucas Declercq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679926047,"creation_date":1679925557,"answer_id":75856656,"question_id":75856421,"body_markdown":"You&#39;re missing the springfox-swagger2 dependency which will pull all the Swagger Types :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe generator generates Java classes based on textual templates, it does not manipulate Java code, and so does not need swagger dependencies.\r\n\r\nThe templates are found here : https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java\r\n\r\n\r\n","title":"Dependencies to Generate OpenAPI Server Code for Spring Boot","body":"<p>You're missing the springfox-swagger2 dependency which will pull all the Swagger Types :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The generator generates Java classes based on textual templates, it does not manipulate Java code, and so does not need swagger dependencies.</p>\n<p>The templates are found here : <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator/src/main/resources/Java</a></p>\n"}],"owner":{"account_id":11086380,"reputation":690,"user_id":8139922,"display_name":"ssc327"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679939779,"creation_date":1679924157,"question_id":75856421,"body_markdown":"I have an existing Spring Boot 2.7.5 project. I decided to start using OpenAPI to build out the rest of the project&#39;s API.\r\n\r\nMy OpenAPI spec is version 3.0.3\r\n\r\nI added the following to my pom file to generate the server code:\r\n\r\n**Build Plugin**\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;inputSpec&gt;\r\n                    \t\t\t${project.basedir}/src/main/resources/openapi.yaml\r\n            \t\t\t    &lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t&lt;apiPackage&gt;com.xxx.yyy.zzz.api&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t&lt;modelPackage&gt;com.xxx.yyy.zzz.model&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t&lt;supportingFilesToGenerate&gt;\r\n                    \t\t\tApiUtil.java\r\n                \t\t\t&lt;/supportingFilesToGenerate&gt;\r\n    \t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n    \t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**Dependencies**\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAfter doing so I kept getting errors such as:\r\n\r\n    [ERROR] Failed to execute goal [org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile [(default-compile) on project [xxx-svc: Compilation failure: Compilation failure: \r\n    [ERROR] /C:/xxx/xxx-svc/target/generated-sources/openapi/src/main/java/com/xxx/yyy/zzz/model/XxxTypeNew.java:[49,34] cannot find symbol\r\n    [ERROR]   symbol:   method requiredMode()\r\n    [ERROR]   location: @interface io.swagger.v3.oas.annotations.media.Schema\r\n\r\nTo solve the issue I added an additional dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nWhat I cannot understand is why do I have to add this dependency?\r\nI if I am using the same version for both the openapi generator and dependency, why would the code generated not compile without one more dependency?\r\n\r\nIf this is a non-idiomatic way to use OpenApi with SpringBoot I am open to explore alternatives.","title":"Dependencies to Generate OpenAPI Server Code for Spring Boot","body":"<p>I have an existing Spring Boot 2.7.5 project. I decided to start using OpenAPI to build out the rest of the project's API.</p>\n<p>My OpenAPI spec is version 3.0.3</p>\n<p>I added the following to my pom file to generate the server code:</p>\n<p><strong>Build Plugin</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;inputSpec&gt;\n                            ${project.basedir}/src/main/resources/openapi.yaml\n                        &lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;apiPackage&gt;com.xxx.yyy.zzz.api&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;com.xxx.yyy.zzz.model&lt;/modelPackage&gt;\n                        &lt;supportingFilesToGenerate&gt;\n                            ApiUtil.java\n                        &lt;/supportingFilesToGenerate&gt;\n                        &lt;configOptions&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\n        &lt;version&gt;6.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After doing so I kept getting errors such as:</p>\n<pre><code>[ERROR] Failed to execute goal [org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile [(default-compile) on project [xxx-svc: Compilation failure: Compilation failure: \n[ERROR] /C:/xxx/xxx-svc/target/generated-sources/openapi/src/main/java/com/xxx/yyy/zzz/model/XxxTypeNew.java:[49,34] cannot find symbol\n[ERROR]   symbol:   method requiredMode()\n[ERROR]   location: @interface io.swagger.v3.oas.annotations.media.Schema\n</code></pre>\n<p>To solve the issue I added an additional dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>What I cannot understand is why do I have to add this dependency?\nI if I am using the same version for both the openapi generator and dependency, why would the code generated not compile without one more dependency?</p>\n<p>If this is a non-idiomatic way to use OpenApi with SpringBoot I am open to explore alternatives.</p>\n"},{"tags":["java","macos","maven","jenv"],"answers":[{"tags":[],"owner":{"account_id":7165491,"reputation":331,"user_id":5474744,"display_name":"aautio"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1446705666,"creation_date":1446705666,"answer_id":33538154,"question_id":30602633,"body_markdown":"I had a similar problem. I got things running by prefixing all command with `jenv exec`:\r\n\r\n    jenv exec mvn -version","title":"maven ignoring jenv settings","body":"<p>I had a similar problem. I got things running by prefixing all command with <code>jenv exec</code>:</p>\n\n<pre><code>jenv exec mvn -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063409,"reputation":2151,"user_id":1064548,"display_name":"tenfourty"},"down_vote_count":1,"up_vote_count":196,"is_accepted":true,"score":195,"last_activity_date":1464279683,"creation_date":1464279683,"answer_id":37466252,"question_id":30602633,"body_markdown":"You need to install the jenv maven plugin, try the following command and reload your shell:\r\n\r\n&gt;jenv enable-plugin maven","title":"maven ignoring jenv settings","body":"<p>You need to install the jenv maven plugin, try the following command and reload your shell:</p>\n\n<blockquote>\n  <p>jenv enable-plugin maven</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1539323901,"creation_date":1539323901,"answer_id":52773134,"question_id":30602633,"body_markdown":"Now, there&#39;s a new option how to set JAVA_HOME via jenv export plugin:\r\n\r\n    jenv enable-plugin export\r\n\r\nSee https://github.com/gcuisinier/jenv/issues/44#issuecomment-233124185","title":"maven ignoring jenv settings","body":"<p>Now, there's a new option how to set JAVA_HOME via jenv export plugin:</p>\n\n<pre><code>jenv enable-plugin export\n</code></pre>\n\n<p>See <a href=\"https://github.com/gcuisinier/jenv/issues/44#issuecomment-233124185\" rel=\"noreferrer\">https://github.com/gcuisinier/jenv/issues/44#issuecomment-233124185</a></p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635635714,"creation_date":1635635714,"answer_id":69782835,"question_id":30602633,"body_markdown":"If you have enabled the `maven` and `export` plugins, and still have problems, check that you don&#39;t have a `~/.mavenrc` file which is setting `JAVA_HOME`.","title":"maven ignoring jenv settings","body":"<p>If you have enabled the <code>maven</code> and <code>export</code> plugins, and still have problems, check that you don't have a <code>~/.mavenrc</code> file which is setting <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":19968836,"reputation":29,"user_id":14634807,"display_name":"Mihai Croitoru"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1660748518,"creation_date":1660748518,"answer_id":73390769,"question_id":30602633,"body_markdown":"If `jenv enable-plugin export` still doesn&#39;t work then you should restart the Terminal and try again","title":"maven ignoring jenv settings","body":"<p>If <code>jenv enable-plugin export</code> still doesn't work then you should restart the Terminal and try again</p>\n"},{"tags":[],"owner":{"account_id":9126236,"reputation":6268,"user_id":6789816,"display_name":"Connor Low"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679939702,"creation_date":1679939702,"answer_id":75858904,"question_id":30602633,"body_markdown":"I use `pwsh` on OS X and was able to get it working with the `maven` and `export` plugins enabled.\r\n\r\nHowever, I encountered the following gotchas:  \r\n\r\n- Run `sh-enable-plugin` instead of `enable-plugin` when enabling maven and export (`enable-plugin` produces a &quot;command not found&quot; error).  \r\n- Edit the `mvn` script (`code &quot;$(which mvn)&quot;`) and remove the `JAVA_HOME=` bit so that you end up with something like this:\r\n\r\n```bash\r\n#!/bin/bash\r\nexec &quot;/usr/local/Cellar/maven/3.8.5/libexec/bin/mvn&quot;  &quot;$@&quot;\r\n``` \r\n\r\nThese additional steps fixed my issues so that `mvn -v` prints the correct JDK version.\r\n","title":"maven ignoring jenv settings","body":"<p>I use <code>pwsh</code> on OS X and was able to get it working with the <code>maven</code> and <code>export</code> plugins enabled.</p>\n<p>However, I encountered the following gotchas:</p>\n<ul>\n<li>Run <code>sh-enable-plugin</code> instead of <code>enable-plugin</code> when enabling maven and export (<code>enable-plugin</code> produces a &quot;command not found&quot; error).</li>\n<li>Edit the <code>mvn</code> script (<code>code &quot;$(which mvn)&quot;</code>) and remove the <code>JAVA_HOME=</code> bit so that you end up with something like this:</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nexec &quot;/usr/local/Cellar/maven/3.8.5/libexec/bin/mvn&quot;  &quot;$@&quot;\n</code></pre>\n<p>These additional steps fixed my issues so that <code>mvn -v</code> prints the correct JDK version.</p>\n"}],"owner":{"account_id":48928,"reputation":9763,"user_id":145499,"accept_rate":88,"display_name":"inanutshellus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21165,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":37466252,"answer_count":6,"score":83,"last_activity_date":1679939702,"creation_date":1433265772,"question_id":30602633,"body_markdown":"I had OSX with `Java 1.6` installed, and I just installed `jenv` along with `Java 1.7`:\r\n\r\n\r\n    $ jenv local &#39;1.7&#39;\r\n    $ jenv versions\r\n      system\r\n      1.6\r\n      1.6.0.65\r\n    * 1.7 (set by /Users/me/workspace/.java-version)\r\n      1.7.0.79\r\n      oracle64-1.6.0.65\r\n      oracle64-1.7.0.79\r\n\r\n`jenv` is doing its job, with `$ java -version` always working, showing 1.6 when I&#39;ve set it to 1.6, and 1.7 when I&#39;ve set it to 1.7:\r\n\r\n    $ java -version\r\n    java version &quot;1.7.0_79&quot;                    &lt;--------------------------------- YAY!!\r\n    Java(TM) SE Runtime Environment (build 1.7.0_79-b15)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)\r\n\r\n&lt;b&gt;... but maven is ignoring my settings:&lt;/b&gt;\r\n\r\n    $ mvn -version\r\n    Apache Maven 3.0.2 (r1056850; 2011-01-08 19:58:10-0500)\r\n    Java version: 1.6.0_65, vendor: Apple Inc. &lt;--------------------------------- BAH!!\r\n    Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n    Default locale: en_US, platform encoding: MacRoman\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.8.5&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\n\r\nI found [this SO question][1] where the guy just needed to hardcode his `JAVA_HOME` inside `.mavenrc`, but I don&#39;t want mine hard-coded (thus `jenv`!), and I don&#39;t have a `~/.mavenrc`, nor an `/etc/mavenrc`.\r\n\r\nThe version it&#39;s using seems to be from whatever&#39;s first on the `/usr/libexec/java_home` output, so in the short term I was able to get 1.6 back again by tweaking 1.7&#39;s `Info.plist` file (from [this SO post][2]), but that just means I get 1.6 instead of 1.7. \r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27026169/maven-ignoring-java-home-on-osx\r\n  [2]: https://stackoverflow.com/a/20994919/145499","title":"maven ignoring jenv settings","body":"<p>I had OSX with <code>Java 1.6</code> installed, and I just installed <code>jenv</code> along with <code>Java 1.7</code>:</p>\n\n<pre><code>$ jenv local '1.7'\n$ jenv versions\n  system\n  1.6\n  1.6.0.65\n* 1.7 (set by /Users/me/workspace/.java-version)\n  1.7.0.79\n  oracle64-1.6.0.65\n  oracle64-1.7.0.79\n</code></pre>\n\n<p><code>jenv</code> is doing its job, with <code>$ java -version</code> always working, showing 1.6 when I've set it to 1.6, and 1.7 when I've set it to 1.7:</p>\n\n<pre><code>$ java -version\njava version \"1.7.0_79\"                    &lt;--------------------------------- YAY!!\nJava(TM) SE Runtime Environment (build 1.7.0_79-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)\n</code></pre>\n\n<p><b>... but maven is ignoring my settings:</b></p>\n\n<pre><code>$ mvn -version\nApache Maven 3.0.2 (r1056850; 2011-01-08 19:58:10-0500)\nJava version: 1.6.0_65, vendor: Apple Inc. &lt;--------------------------------- BAH!!\nJava home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nDefault locale: en_US, platform encoding: MacRoman\nOS name: \"mac os x\", version: \"10.8.5\", arch: \"x86_64\", family: \"mac\"\n</code></pre>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/27026169/maven-ignoring-java-home-on-osx\">this SO question</a> where the guy just needed to hardcode his <code>JAVA_HOME</code> inside <code>.mavenrc</code>, but I don't want mine hard-coded (thus <code>jenv</code>!), and I don't have a <code>~/.mavenrc</code>, nor an <code>/etc/mavenrc</code>.</p>\n\n<p>The version it's using seems to be from whatever's first on the <code>/usr/libexec/java_home</code> output, so in the short term I was able to get 1.6 back again by tweaking 1.7's <code>Info.plist</code> file (from <a href=\"https://stackoverflow.com/a/20994919/145499\">this SO post</a>), but that just means I get 1.6 instead of 1.7. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","yaml","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":17126371,"reputation":1,"user_id":12761143,"display_name":"Марина Янборисова"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679939522,"creation_date":1679425848,"answer_id":75805461,"question_id":75804988,"body_markdown":"Try to use `${db.username}` or `${DB_USERNAME}`.","title":"Cannot read environment variables in Spring Boot app","body":"<p>Try to use <code>${db.username}</code> or <code>${DB_USERNAME}</code>.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679939522,"creation_date":1679422571,"question_id":75804988,"body_markdown":"In my Spring Boot apps, I generally pass environment variables to the `application.yml` via Run config of IntelliJ IDEA. However, I want to read these values from `.env` file and I tried the following approach:\r\n\r\n***application.yml:***\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/${db_name}\r\n    username: ${db_username}\r\n    password: ${db_password}\r\n\r\n  config:\r\n    import: optional:file:.env[.properties] # I am trying to read the varables from `.env` file\r\n```\r\n\r\nAnd here is the `.env` file. Normally I keep it in the root of the project, but I temporarily move it to the same directory with `application.yml` to test if it could read:\r\n\r\n```\r\ndb_name=test_db\r\ndb_username=postgres\r\ndb_password=123456\r\n```\r\n\r\nSo, how can I read these variables from `application.yml` when running my Spring Boot app? \r\n","title":"Cannot read environment variables in Spring Boot app","body":"<p>In my Spring Boot apps, I generally pass environment variables to the <code>application.yml</code> via Run config of IntelliJ IDEA. However, I want to read these values from <code>.env</code> file and I tried the following approach:</p>\n<p><em><strong>application.yml:</strong></em></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/${db_name}\n    username: ${db_username}\n    password: ${db_password}\n\n  config:\n    import: optional:file:.env[.properties] # I am trying to read the varables from `.env` file\n</code></pre>\n<p>And here is the <code>.env</code> file. Normally I keep it in the root of the project, but I temporarily move it to the same directory with <code>application.yml</code> to test if it could read:</p>\n<pre><code>db_name=test_db\ndb_username=postgres\ndb_password=123456\n</code></pre>\n<p>So, how can I read these variables from <code>application.yml</code> when running my Spring Boot app?</p>\n"},{"tags":["java","android","camera","flashlight","android-hardware"],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679939167,"creation_date":1679939167,"answer_id":75858824,"question_id":75822405,"body_markdown":"Yes, you can turn the flash on with the full camera2 API via the `CaptureRequest` fields [CONTROL_AE_MODE][1] and [FLASH_MODE][2].  \r\n\r\nSet `CONTROL_AE_MODE` to [CONTROL_AE_MODE_ON][3] to disable automatic flash firing, and also set `FLASH_MODE` to [FLASH_MODE_TORCH][4] to manually turn on the flash. \r\n\r\nTo turn it off later, change `FLASH_MODE` to `FLASH_MODE_OFF`\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#CONTROL_AE_MODE\r\n  [2]: https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#FLASH_MODE\r\n  [3]: https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#CONTROL_AE_MODE_ON\r\n  [4]: https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#FLASH_MODE_TORCH","title":"Android JAVA QUESTION How do I turn on both the Camera and the Phone Flashlight?","body":"<p>Yes, you can turn the flash on with the full camera2 API via the <code>CaptureRequest</code> fields <a href=\"https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#CONTROL_AE_MODE\" rel=\"nofollow noreferrer\">CONTROL_AE_MODE</a> and <a href=\"https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#FLASH_MODE\" rel=\"nofollow noreferrer\">FLASH_MODE</a>.</p>\n<p>Set <code>CONTROL_AE_MODE</code> to <a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#CONTROL_AE_MODE_ON\" rel=\"nofollow noreferrer\">CONTROL_AE_MODE_ON</a> to disable automatic flash firing, and also set <code>FLASH_MODE</code> to <a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#FLASH_MODE_TORCH\" rel=\"nofollow noreferrer\">FLASH_MODE_TORCH</a> to manually turn on the flash.</p>\n<p>To turn it off later, change <code>FLASH_MODE</code> to <code>FLASH_MODE_OFF</code></p>\n"}],"owner":{"display_name":"user21290847"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75858824,"answer_count":1,"score":0,"last_activity_date":1679939167,"creation_date":1679570877,"question_id":75822405,"body_markdown":"currently I am making an app that requires both the phone camera and the phone flashlight to be turned on.\r\n\r\nHowever I am having this problem where 1 overwrites the other. Probably since they are both using the same camera reference.\r\n\r\n*Please, does anyone know what I should do? Here is my function:*\r\n\r\n\r\n```\r\nprivate void startCamera() {\r\n        CameraManager manager = (CameraManager) getSystemService(CAMERA_SERVICE);\r\n        try {\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (checkSelfPermission(Manifest.permission.CAMERA)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP_MR1) {\r\n\r\n                String pickedCamera = getCamera(manager);\r\n                manager.setTorchMode(pickedCamera, true);\r\n                manager.openCamera(pickedCamera, _cameraStateCallback, null);\r\n                \r\n                final int previewHeight = _previewSize.getHeight();\r\n                final int previewWidth = _previewSize.getWidth();\r\n                _imagePreviewReader = ImageReader.newInstance(previewWidth, previewHeight,\r\n                        PixelFormat.RGBA_8888, MAX_IMAGES);\r\n\r\n                _conversionScript = new YuvToRgb(_renderScript, _previewSize, CONVERSION_FRAME_RATE);\r\n                _conversionScript.setOutputSurface(_imagePreviewReader.getSurface());\r\n                _previewSurface = _conversionScript.getInputSurface();\r\n            }\r\n\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (SecurityException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nRight now I have got another function that gets the camera &quot;getCamera(manager)&quot; and all that code seems to work totally fine, because when I run the app, the flashlight is turned on for a split second. After that the camera is being displayed. *See manager.setTorchMode and manager.openCamera.*\r\n\r\nI am using the camera2 API.\r\n\r\n**Is there a way do have both the camera displayed and the flashlight turned on simultaneously?**\r\n\r\n\r\n............................","title":"Android JAVA QUESTION How do I turn on both the Camera and the Phone Flashlight?","body":"<p>currently I am making an app that requires both the phone camera and the phone flashlight to be turned on.</p>\n<p>However I am having this problem where 1 overwrites the other. Probably since they are both using the same camera reference.</p>\n<p><em>Please, does anyone know what I should do? Here is my function:</em></p>\n<pre><code>private void startCamera() {\n        CameraManager manager = (CameraManager) getSystemService(CAMERA_SERVICE);\n        try {\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (checkSelfPermission(Manifest.permission.CAMERA)\n                        != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n            }\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP_MR1) {\n\n                String pickedCamera = getCamera(manager);\n                manager.setTorchMode(pickedCamera, true);\n                manager.openCamera(pickedCamera, _cameraStateCallback, null);\n                \n                final int previewHeight = _previewSize.getHeight();\n                final int previewWidth = _previewSize.getWidth();\n                _imagePreviewReader = ImageReader.newInstance(previewWidth, previewHeight,\n                        PixelFormat.RGBA_8888, MAX_IMAGES);\n\n                _conversionScript = new YuvToRgb(_renderScript, _previewSize, CONVERSION_FRAME_RATE);\n                _conversionScript.setOutputSurface(_imagePreviewReader.getSurface());\n                _previewSurface = _conversionScript.getInputSurface();\n            }\n\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        } catch (SecurityException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Right now I have got another function that gets the camera &quot;getCamera(manager)&quot; and all that code seems to work totally fine, because when I run the app, the flashlight is turned on for a split second. After that the camera is being displayed. <em>See manager.setTorchMode and manager.openCamera.</em></p>\n<p>I am using the camera2 API.</p>\n<p><strong>Is there a way do have both the camera displayed and the flashlight turned on simultaneously?</strong></p>\n<p>............................</p>\n"},{"tags":["java","json","spring-boot","jackson","jersey"],"owner":{"account_id":22104707,"reputation":1,"user_id":16360603,"display_name":"cb645j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679938872,"creation_date":1679683333,"question_id":75837176,"body_markdown":"I have a java springboot application. Im getting errors when jackson tries to deserialize my request. I tried using @JsonTypeInfo and @JsonSubTypes but that has just lead to a different error. I understand I could just write a custom deserializer but I prefer to use jsonsubTypes and jsontypeinfo if possible. \r\n\r\nMy request pojo class:\r\n```\r\npublic class QualityControlRequest implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private String requestId;\r\n    private ComponentType componentType;\r\n    private ComponentName componentName;\r\n\r\n    //setters getters below\r\n```\r\n\r\nComponentType enum:\r\n\r\n```\r\npublic enum ComponentType {\r\n\r\n    FLOWS(&quot;flows&quot;), CRON_JOB(&quot;Cron Job&quot;);\r\n\r\n}\r\n```\r\n\r\n\r\nComponentName interface:\r\n```\r\npublic interface ComponentName {\r\n\r\n    String getComponentName();\r\n}\r\n```\r\n\r\n\r\nFirst implementation of ComponentName:\r\n\r\n```\r\npublic enum Flows implements ComponentName {\r\n    DeleteService(&quot;DeleteService&quot;, false), CreateService(&quot;CreateService&quot;, true);\r\n\r\n    private final String name;\r\n    private final boolean internal;\r\n\r\n    private Flows(String name, boolean internal) {\r\n        this.name = name;\r\n        this.internal= internal;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public boolean isInternal() {\r\n        return isInternal;\r\n    }\r\n\r\n    @Override\r\n    public String getComponentName() {\r\n        return name;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSecond implementation of ComponentName:\r\n```\r\npublic enum CronJobName implements ComponentName {\r\n    UPDATE(&quot;The Update&quot;), CLEANUP(&quot;The Cleanup&quot;);\r\n\r\n\r\n    public final String name;\r\n\r\n    private CronJobName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String getComponentName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\nAPI Class:\r\n\r\n```\r\n@Path(&quot;/&quot;)\r\n@Component\r\npublic class QualityControlRest {\r\n\r\n    @POST\r\n    @Path(&quot;/report/&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Transactional\r\n    public Response report(@Valid QualityControlRequest request) {\r\n        logger.debug(&quot;Received a request&quot;);\r\n        //does something\r\n    }\r\n}\r\n```\r\n\r\nWhen it makes a rest call to /report the request looks something like this:\r\n\r\n&gt; {\r\n&quot;requestId&quot;:&quot;123456&quot;,\r\n&quot;componentType&quot;:&quot;CRON_JOB&quot;,\r\n&quot;componentName&quot;:&quot;CLEANUP&quot;\r\n}\r\n\r\nAnd I would get the following error:\r\n&gt; Cannot construct instance of `org.onap.so.qualitycontrol.beans.ComponentName` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 69] (through reference chain: org.onap.so.qualitycontrol.beans.QualityControlRequest[&quot;componentName&quot;])\r\n\r\n\r\nI understand why I got this because jackson doesnt know which concentrate (implemenation) to deserialize ComponentName too. \r\nSo to fix this issue I added @JsonTypeInfo to my ComponentName interface. So the interface class now looks something like this:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;componentType&quot;,\r\n        defaultImpl = CronJobName.class)\r\n@JsonSubTypes({@JsonSubTypes.Type(value = CronJobName.class, name = &quot;CRON_JOB&quot;),\r\n        @JsonSubTypes.Type(value = Flows.class, name = &quot;FLOWS&quot;)})\r\npublic interface ComponentName {\r\n\r\n    String getComponentName();\r\n}\r\n```\r\n\r\nSo im telling it to use the componentType to determine which impl to use. Now when it makes a rest call to /report the json looks something like this:\r\n\r\n&gt; {\r\n&quot;requestId&quot;:&quot;12345&quot;,\r\n&quot;componentType&quot;:&quot;CRON_JOB&quot;,\r\n&quot;componentName&quot;:[&quot;CRON_JOB&quot;,&quot;HEATBRIDGE&quot;]\r\n}\r\n\r\nThis seemed to help fix the first jackson error but now it fails with this:\r\n&gt; [Cannot deserialize instance of `org.onap.so.db.beans.CronJobName` out of START_ARRAY token\r\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 69] (through reference chain: org.onap.so.qualitycontrol.beans.QualityControlRequest[&quot;componentName&quot;])]\r\n\r\n\r\nI think this is happening because componentName is now a json array and it cant deserialize that to the enum type CronJobName. I think I might just be missing something fairly small here.  Any suggestions or help would be greatly appreciated.\r\n","title":"Getting error deserialize interface property to enum impl using jackson jersey","body":"<p>I have a java springboot application. Im getting errors when jackson tries to deserialize my request. I tried using @JsonTypeInfo and @JsonSubTypes but that has just lead to a different error. I understand I could just write a custom deserializer but I prefer to use jsonsubTypes and jsontypeinfo if possible.</p>\n<p>My request pojo class:</p>\n<pre><code>public class QualityControlRequest implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private String requestId;\n    private ComponentType componentType;\n    private ComponentName componentName;\n\n    //setters getters below\n</code></pre>\n<p>ComponentType enum:</p>\n<pre><code>public enum ComponentType {\n\n    FLOWS(&quot;flows&quot;), CRON_JOB(&quot;Cron Job&quot;);\n\n}\n</code></pre>\n<p>ComponentName interface:</p>\n<pre><code>public interface ComponentName {\n\n    String getComponentName();\n}\n</code></pre>\n<p>First implementation of ComponentName:</p>\n<pre><code>public enum Flows implements ComponentName {\n    DeleteService(&quot;DeleteService&quot;, false), CreateService(&quot;CreateService&quot;, true);\n\n    private final String name;\n    private final boolean internal;\n\n    private Flows(String name, boolean internal) {\n        this.name = name;\n        this.internal= internal;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public boolean isInternal() {\n        return isInternal;\n    }\n\n    @Override\n    public String getComponentName() {\n        return name;\n    }\n\n\n}\n</code></pre>\n<p>Second implementation of ComponentName:</p>\n<pre><code>public enum CronJobName implements ComponentName {\n    UPDATE(&quot;The Update&quot;), CLEANUP(&quot;The Cleanup&quot;);\n\n\n    public final String name;\n\n    private CronJobName(String name) {\n        this.name = name;\n    }\n\n    public String toString() {\n        return name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String getComponentName() {\n        return name;\n    }\n}\n</code></pre>\n<p>API Class:</p>\n<pre><code>@Path(&quot;/&quot;)\n@Component\npublic class QualityControlRest {\n\n    @POST\n    @Path(&quot;/report/&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Transactional\n    public Response report(@Valid QualityControlRequest request) {\n        logger.debug(&quot;Received a request&quot;);\n        //does something\n    }\n}\n</code></pre>\n<p>When it makes a rest call to /report the request looks something like this:</p>\n<blockquote>\n<p>{\n&quot;requestId&quot;:&quot;123456&quot;,\n&quot;componentType&quot;:&quot;CRON_JOB&quot;,\n&quot;componentName&quot;:&quot;CLEANUP&quot;\n}</p>\n</blockquote>\n<p>And I would get the following error:</p>\n<blockquote>\n<p>Cannot construct instance of <code>org.onap.so.qualitycontrol.beans.ComponentName</code> (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\nat [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 69] (through reference chain: org.onap.so.qualitycontrol.beans.QualityControlRequest[&quot;componentName&quot;])</p>\n</blockquote>\n<p>I understand why I got this because jackson doesnt know which concentrate (implemenation) to deserialize ComponentName too.\nSo to fix this issue I added @JsonTypeInfo to my ComponentName interface. So the interface class now looks something like this:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;componentType&quot;,\n        defaultImpl = CronJobName.class)\n@JsonSubTypes({@JsonSubTypes.Type(value = CronJobName.class, name = &quot;CRON_JOB&quot;),\n        @JsonSubTypes.Type(value = Flows.class, name = &quot;FLOWS&quot;)})\npublic interface ComponentName {\n\n    String getComponentName();\n}\n</code></pre>\n<p>So im telling it to use the componentType to determine which impl to use. Now when it makes a rest call to /report the json looks something like this:</p>\n<blockquote>\n<p>{\n&quot;requestId&quot;:&quot;12345&quot;,\n&quot;componentType&quot;:&quot;CRON_JOB&quot;,\n&quot;componentName&quot;:[&quot;CRON_JOB&quot;,&quot;HEATBRIDGE&quot;]\n}</p>\n</blockquote>\n<p>This seemed to help fix the first jackson error but now it fails with this:</p>\n<blockquote>\n<p>[Cannot deserialize instance of <code>org.onap.so.db.beans.CronJobName</code> out of START_ARRAY token\nat [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 69] (through reference chain: org.onap.so.qualitycontrol.beans.QualityControlRequest[&quot;componentName&quot;])]</p>\n</blockquote>\n<p>I think this is happening because componentName is now a json array and it cant deserialize that to the enum type CronJobName. I think I might just be missing something fairly small here.  Any suggestions or help would be greatly appreciated.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1481100583,"post_id":41012912,"comment_id":69233343,"body_markdown":"2s seems long to display a JFrame, probably making it look unresponsive. Maybe you should change the way to initialize your frame and it&#39;s content instead of waiting for it to show","body":"2s seems long to display a JFrame, probably making it look unresponsive. Maybe you should change the way to initialize your frame and it&#39;s content instead of waiting for it to show"},{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1481100798,"post_id":41012912,"comment_id":69233474,"body_markdown":"You&#39;ll have to attach some listener to your JFrame which will be triggered when your JFrame is displayed. Like [WindowListener](https://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowListener.html#windowOpened(java.awt.event.WindowEvent))","body":"You&#39;ll have to attach some listener to your JFrame which will be triggered when your JFrame is displayed. Like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowListener.html#windowOpened(java.awt.event.WindowEvent)\" rel=\"nofollow noreferrer\">WindowListener</a>"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1481101118,"post_id":41012912,"comment_id":69233697,"body_markdown":"I agree with @jhamon. I hope you&#39;re not trying to work around a potential design flaw.","body":"I agree with @jhamon. I hope you&#39;re not trying to work around a potential design flaw."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1481101329,"post_id":41012912,"comment_id":69233830,"body_markdown":"can you explain what take this processing time?","body":"can you explain what take this processing time?"},{"owner":{"account_id":3708330,"reputation":318,"user_id":3153014,"accept_rate":35,"display_name":"user3153014"},"score":0,"creation_date":1481102571,"post_id":41012912,"comment_id":69234668,"body_markdown":"@jhamon - Delay will be only at first time, maybe UI is taking long time to initialize.","body":"@jhamon - Delay will be only at first time, maybe UI is taking long time to initialize."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1481126445,"post_id":41012912,"comment_id":69251048,"body_markdown":"You have a logic problem. The frame should be visible in a few ms. Post your [mcve] that demonstrates the problem.","body":"You have a logic problem. The frame should be visible in a few ms. Post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem."}],"answers":[{"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481101525,"creation_date":1481101525,"answer_id":41013261,"question_id":41012912,"body_markdown":"You could use something like this:\r\n\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class MainApp {\r\n        JFrame frame = new JFrame(&quot;Main&quot;);\r\n        JButton button = new JButton(&quot;Toggle auxiliary&quot;);\r\n        JFrame auxFrame = new JFrame(&quot;Auxiliary&quot;);\r\n    \r\n        public MainApp() {\r\n            button.addActionListener(evt -&gt; {\r\n                // Delay displaying for 2 seconds\r\n                Timer timer = new Timer(2000, event -&gt; {\r\n                    auxFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                    auxFrame.setSize(320, 240);\r\n                    auxFrame.setVisible(true);\r\n                });\r\n                timer.start();\r\n                auxFrame.addWindowListener(new WindowAdapter() {\r\n                    @Override\r\n                    public void windowOpened(WindowEvent e) {\r\n                        // Stop timer after the auxiliary frame is displayed\r\n                        timer.stop();\r\n                    }\r\n                });\r\n    \r\n            });\r\n    \r\n            frame.add(button);\r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            frame.setSize(320, 240);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(MainApp::new);\r\n        }\r\n    }\r\n\r\n","title":"How to make sure Swing UI is actually displayed on screen?","body":"<p>You could use something like this:</p>\n\n<pre><code>import java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.*;\n\npublic class MainApp {\n    JFrame frame = new JFrame(\"Main\");\n    JButton button = new JButton(\"Toggle auxiliary\");\n    JFrame auxFrame = new JFrame(\"Auxiliary\");\n\n    public MainApp() {\n        button.addActionListener(evt -&gt; {\n            // Delay displaying for 2 seconds\n            Timer timer = new Timer(2000, event -&gt; {\n                auxFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                auxFrame.setSize(320, 240);\n                auxFrame.setVisible(true);\n            });\n            timer.start();\n            auxFrame.addWindowListener(new WindowAdapter() {\n                @Override\n                public void windowOpened(WindowEvent e) {\n                    // Stop timer after the auxiliary frame is displayed\n                    timer.stop();\n                }\n            });\n\n        });\n\n        frame.add(button);\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.setSize(320, 240);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(MainApp::new);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679938845,"creation_date":1679938845,"answer_id":75858785,"question_id":41012912,"body_markdown":"Use \r\n```java \r\nSwingUtilities.invokeAndWait()\r\n```\r\nExample:\r\n```java \r\nimport javax.swing.JFrame;\r\nimport javax.swing.SwingUtilities;\r\nimport java.lang.reflect.InvocationTargetException;\r\n\r\npublic class Main extends JFrame {\r\n  public static void main(String[] args) throws InvocationTargetException, InterruptedException {\r\n    SwingUtilities.invokeAndWait(\r\n        () -&gt; {\r\n          Main main = new Main();\r\n          main.setVisible(true);\r\n          main.setSize(600, 800);\r\n          main.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n          System.out.println(&quot;UI Loaded&quot;);\r\n        });\r\n    System.out.println(&quot;everything else will be executed after UI is loaded&quot;);\r\n  }\r\n}\r\n```\r\nConsole output:\r\n```\r\nUI Loaded\r\neverything else will be executed after UI is loaded\r\n```","title":"How to make sure Swing UI is actually displayed on screen?","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>SwingUtilities.invokeAndWait()\n</code></pre>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\nimport java.lang.reflect.InvocationTargetException;\n\npublic class Main extends JFrame {\n  public static void main(String[] args) throws InvocationTargetException, InterruptedException {\n    SwingUtilities.invokeAndWait(\n        () -&gt; {\n          Main main = new Main();\n          main.setVisible(true);\n          main.setSize(600, 800);\n          main.setDefaultCloseOperation(EXIT_ON_CLOSE);\n          System.out.println(&quot;UI Loaded&quot;);\n        });\n    System.out.println(&quot;everything else will be executed after UI is loaded&quot;);\n  }\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>UI Loaded\neverything else will be executed after UI is loaded\n</code></pre>\n"}],"owner":{"account_id":3708330,"reputation":318,"user_id":3153014,"accept_rate":35,"display_name":"user3153014"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679938845,"creation_date":1481100435,"question_id":41012912,"body_markdown":"When I click on button another JFrame class is getting opened. The JFrame will be visible on the screen after 2 seconds but the isVisible returns true before that. I want to start timer when the JFrame actually getting displayed on the screen. How can I achieve this ? I tried to used isShowing() and isDisplayable() but it&#39;s not giving expected result.","title":"How to make sure Swing UI is actually displayed on screen?","body":"<p>When I click on button another JFrame class is getting opened. The JFrame will be visible on the screen after 2 seconds but the isVisible returns true before that. I want to start timer when the JFrame actually getting displayed on the screen. How can I achieve this ? I tried to used isShowing() and isDisplayable() but it's not giving expected result.</p>\n"},{"tags":["java","string","alphanumeric"],"answers":[{"tags":[],"owner":{"account_id":74258,"reputation":121038,"user_id":213464,"accept_rate":96,"display_name":"YOU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273473141,"creation_date":1273473141,"answer_id":2800747,"question_id":2800739,"body_markdown":"You could replace `&quot;^0*(.*)&quot;` to `&quot;$1&quot;` with regex","title":"How to remove leading zeros from alphanumeric text?","body":"<p>You could replace <code>\"^0*(.*)\"</code> to <code>\"$1\"</code> with regex</p>\n"},{"tags":[],"owner":{"account_id":106479,"reputation":6658,"user_id":283647,"accept_rate":87,"display_name":"thelost"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1369732514,"creation_date":1273473163,"answer_id":2800748,"question_id":2800739,"body_markdown":"Use Apache Commons [`StringUtils`][1] class:\r\n\r\n    StringUtils.strip(String str, String stripChars);\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Use Apache Commons <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\"><code>StringUtils</code></a> class:</p>\n\n<pre><code>StringUtils.strip(String str, String stripChars);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1354870983,"creation_date":1273473178,"answer_id":2800749,"question_id":2800739,"body_markdown":"How about the regex way:\r\n\r\n    String s = &quot;001234-a&quot;;\r\n    s = s.replaceFirst (&quot;^0*&quot;, &quot;&quot;);\r\n\r\nThe `^` anchors to the start of the string (I&#39;m assuming from context your strings are not multi-line here, otherwise you may need to look into `\\A` for start of input rather than start of line). The `0*` means zero or more `0` characters (you _could_ use `0+` as well). The `replaceFirst` just replaces all those `0` characters at the start with nothing.\r\n\r\nAnd if, like Vadzim, your definition of leading zeros doesn&#39;t include turning `&quot;0&quot;` (or `&quot;000&quot;` or similar strings) into an empty string (a rational enough expectation), simply put it back if necessary:\r\n\r\n    String s = &quot;00000000&quot;;\r\n    s = s.replaceFirst (&quot;^0*&quot;, &quot;&quot;);\r\n    if (s.isEmpty()) s = &quot;0&quot;;","title":"How to remove leading zeros from alphanumeric text?","body":"<p>How about the regex way:</p>\n\n<pre><code>String s = \"001234-a\";\ns = s.replaceFirst (\"^0*\", \"\");\n</code></pre>\n\n<p>The <code>^</code> anchors to the start of the string (I'm assuming from context your strings are not multi-line here, otherwise you may need to look into <code>\\A</code> for start of input rather than start of line). The <code>0*</code> means zero or more <code>0</code> characters (you <em>could</em> use <code>0+</code> as well). The <code>replaceFirst</code> just replaces all those <code>0</code> characters at the start with nothing.</p>\n\n<p>And if, like Vadzim, your definition of leading zeros doesn't include turning <code>\"0\"</code> (or <code>\"000\"</code> or similar strings) into an empty string (a rational enough expectation), simply put it back if necessary:</p>\n\n<pre><code>String s = \"00000000\";\ns = s.replaceFirst (\"^0*\", \"\");\nif (s.isEmpty()) s = \"0\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80548,"reputation":18669,"user_id":227698,"accept_rate":88,"display_name":"vodkhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379879210,"creation_date":1273473241,"answer_id":2800753,"question_id":2800739,"body_markdown":"I think that it is so easy to do that. You can just loop over the string from the start and removing zeros until you found a not zero char.\r\n\r\n    int lastLeadZeroIndex = 0;\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n      char c = str.charAt(i);\r\n      if (c == &#39;0&#39;) {\r\n        lastLeadZeroIndex = i;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    \r\n    str = str.subString(lastLeadZeroIndex+1, str.length());","title":"How to remove leading zeros from alphanumeric text?","body":"<p>I think that it is so easy to do that. You can just loop over the string from the start and removing zeros until you found a not zero char.</p>\n\n<pre><code>int lastLeadZeroIndex = 0;\nfor (int i = 0; i &lt; str.length(); i++) {\n  char c = str.charAt(i);\n  if (c == '0') {\n    lastLeadZeroIndex = i;\n  } else {\n    break;\n  }\n}\n\nstr = str.subString(lastLeadZeroIndex+1, str.length());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":762,"is_accepted":true,"score":761,"last_activity_date":1273474402,"creation_date":1273474402,"answer_id":2800839,"question_id":2800739,"body_markdown":"Regex is the best tool for the job; what it should be depends on the problem specification. The following removes leading zeroes, but leaves one if necessary (i.e. it wouldn&#39;t just turn `&quot;0&quot;` to a blank string).\r\n\r\n    s.replaceFirst(&quot;^0+(?!$)&quot;, &quot;&quot;)\r\n\r\nThe `^` anchor will make sure that the `0+` being matched is at the beginning of the input. The `(?!$)` negative lookahead ensures that not the entire string will be matched.\r\n\r\nTest harness:\r\n\r\n    String[] in = {\r\n        &quot;01234&quot;,         // &quot;[1234]&quot;\r\n        &quot;0001234a&quot;,      // &quot;[1234a]&quot;\r\n        &quot;101234&quot;,        // &quot;[101234]&quot;\r\n        &quot;000002829839&quot;,  // &quot;[2829839]&quot;\r\n        &quot;0&quot;,             // &quot;[0]&quot;\r\n        &quot;0000000&quot;,       // &quot;[0]&quot;\r\n        &quot;0000009&quot;,       // &quot;[9]&quot;\r\n        &quot;000000z&quot;,       // &quot;[z]&quot;\r\n        &quot;000000.z&quot;,      // &quot;[.z]&quot;\r\n    };\r\n    for (String s : in) {\r\n        System.out.println(&quot;[&quot; + s.replaceFirst(&quot;^0+(?!$)&quot;, &quot;&quot;) + &quot;]&quot;);\r\n    }\r\n\r\n### See also\r\n\r\n* [regular-expressions.info](http://www.regular-expressions.info/)\r\n    * [repetitions](http://www.regular-expressions.info/repeat.html), [lookarounds](http://www.regular-expressions.info/lookaround.html), and [anchors](http://www.regular-expressions.info/anchors.html)\r\n* [`String.replaceFirst(String regex)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceFirst%28java.lang.String,%20java.lang.String%29)","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Regex is the best tool for the job; what it should be depends on the problem specification. The following removes leading zeroes, but leaves one if necessary (i.e. it wouldn't just turn <code>\"0\"</code> to a blank string).</p>\n\n<pre><code>s.replaceFirst(\"^0+(?!$)\", \"\")\n</code></pre>\n\n<p>The <code>^</code> anchor will make sure that the <code>0+</code> being matched is at the beginning of the input. The <code>(?!$)</code> negative lookahead ensures that not the entire string will be matched.</p>\n\n<p>Test harness:</p>\n\n<pre><code>String[] in = {\n    \"01234\",         // \"[1234]\"\n    \"0001234a\",      // \"[1234a]\"\n    \"101234\",        // \"[101234]\"\n    \"000002829839\",  // \"[2829839]\"\n    \"0\",             // \"[0]\"\n    \"0000000\",       // \"[0]\"\n    \"0000009\",       // \"[9]\"\n    \"000000z\",       // \"[z]\"\n    \"000000.z\",      // \"[.z]\"\n};\nfor (String s : in) {\n    System.out.println(\"[\" + s.replaceFirst(\"^0+(?!$)\", \"\") + \"]\");\n}\n</code></pre>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/\" rel=\"noreferrer\">regular-expressions.info</a>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"noreferrer\">repetitions</a>, <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">lookarounds</a>, and <a href=\"http://www.regular-expressions.info/anchors.html\" rel=\"noreferrer\">anchors</a></li>\n</ul></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#replaceFirst%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>String.replaceFirst(String regex)</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1273486104,"creation_date":1273486104,"answer_id":2801796,"question_id":2800739,"body_markdown":"To go with thelost&#39;s Apache Commons answer: using [guava-libraries](http://code.google.com/p/guava-libraries/) (Google&#39;s general-purpose Java utility library which I would argue should now be on the classpath of any non-trivial Java project), this would use [CharMatcher](http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/CharMatcher.html):\r\n\r\n    CharMatcher.is(&#39;0&#39;).trimLeadingFrom(inputString);\r\n","title":"How to remove leading zeros from alphanumeric text?","body":"<p>To go with thelost's Apache Commons answer: using <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">guava-libraries</a> (Google's general-purpose Java utility library which I would argue should now be on the classpath of any non-trivial Java project), this would use <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/CharMatcher.html\" rel=\"noreferrer\">CharMatcher</a>:</p>\n\n<pre><code>CharMatcher.is('0').trimLeadingFrom(inputString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1519385412,"creation_date":1313569794,"answer_id":7089841,"question_id":2800739,"body_markdown":"A clear way without any need of regExp and any external libraries.\r\n\r\n    public static String trimLeadingZeros(String source) {\r\n        for (int i = 0; i &lt; source.length(); ++i) {\r\n            char c = source.charAt(i);\r\n            if (c != &#39;0&#39;) {\r\n                return source.substring(i);\r\n            }\r\n        }\r\n        return &quot;&quot;; // or return &quot;0&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to remove leading zeros from alphanumeric text?","body":"<p>A clear way without any need of regExp and any external libraries.</p>\n\n<pre><code>public static String trimLeadingZeros(String source) {\n    for (int i = 0; i &lt; source.length(); ++i) {\n        char c = source.charAt(i);\n        if (c != '0') {\n            return source.substring(i);\n        }\n    }\n    return \"\"; // or return \"0\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1326132,"reputation":21,"user_id":1270894,"display_name":"brj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331794089,"creation_date":1331794089,"answer_id":9715125,"question_id":2800739,"body_markdown":"Using Regexp with groups:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;(0*)(.*)&quot;);\r\n    String result = &quot;&quot;;\r\n    Matcher matcher = pattern.matcher(content);\r\n    if (matcher.matches())\r\n    {\r\n          // first group contains 0, second group the remaining characters\r\n          // 000abcd - &gt; 000, abcd\r\n          result = matcher.group(2);\r\n    }\r\n    \r\n    return result;\r\n\r\n","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Using Regexp with groups:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(0*)(.*)\");\nString result = \"\";\nMatcher matcher = pattern.matcher(content);\nif (matcher.matches())\n{\n      // first group contains 0, second group the remaining characters\n      // 000abcd - &gt; 000, abcd\n      result = matcher.group(2);\n}\n\nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369728,"reputation":17994,"user_id":717267,"display_name":"Eduardo Cuomo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1358451722,"creation_date":1358451722,"answer_id":14386821,"question_id":2800739,"body_markdown":"Use this:\r\n\r\n    String x = &quot;00123&quot;.replaceAll(&quot;^0*&quot;, &quot;&quot;); // -&gt; 123","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Use this:</p>\n\n<pre><code>String x = \"00123\".replaceAll(\"^0*\", \"\"); // -&gt; 123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2277687,"reputation":1,"user_id":2003557,"display_name":"Ajit Kumar Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358937956,"creation_date":1358937956,"answer_id":14477760,"question_id":2800739,"body_markdown":"           String s=&quot;0000000000046457657772752256266542=56256010000085100000&quot;;\t\t\r\n\t\tString removeString=&quot;&quot;;\r\n\r\n\t\tfor(int i =0;i&lt;s.length();i++){\r\n\t\t  if(s.charAt(i)==&#39;0&#39;)\r\n\t\t    removeString=removeString+&quot;0&quot;;\r\n\t\t  else \r\n\t\t    break;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;original string - &quot;+s);\r\n\r\n\t\tSystem.out.println(&quot;after removing 0&#39;s -&quot;+s.replaceFirst(removeString,&quot;&quot;));","title":"How to remove leading zeros from alphanumeric text?","body":"<pre><code>       String s=\"0000000000046457657772752256266542=56256010000085100000\";      \n    String removeString=\"\";\n\n    for(int i =0;i&lt;s.length();i++){\n      if(s.charAt(i)=='0')\n        removeString=removeString+\"0\";\n      else \n        break;\n    }\n\n    System.out.println(\"original string - \"+s);\n\n    System.out.println(\"after removing 0's -\"+s.replaceFirst(removeString,\"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3226295,"reputation":1799,"user_id":2722597,"display_name":"Hamilton Rodrigues"},"down_vote_count":1,"up_vote_count":170,"is_accepted":false,"score":169,"last_activity_date":1387307781,"creation_date":1387307781,"answer_id":20642733,"question_id":2800739,"body_markdown":"You can use the [StringUtils][1] class from [Apache Commons Lang][2] like this:\r\n\r\n\r\n    StringUtils.stripStart(yourString,&quot;0&quot;);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n  [2]: http://commons.apache.org/proper/commons-lang/","title":"How to remove leading zeros from alphanumeric text?","body":"<p>You can use the <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">StringUtils</a> class from <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> like this:</p>\n\n<pre><code>StringUtils.stripStart(yourString,\"0\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223093,"reputation":119,"user_id":1189324,"display_name":"kfatih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446713353,"creation_date":1446713353,"answer_id":33540048,"question_id":2800739,"body_markdown":"If you don&#39;t want to use regex or external library.\r\nYou can do with &quot;for&quot;: \r\n\r\n    String input=&quot;0000008008451&quot;\r\n    String output = input.trim();\r\n\tfor( ;output.length() &gt; 1 &amp;&amp; output.charAt(0) == &#39;0&#39;; output = output.substring(1));\r\n    \r\n    System.out.println(output);//8008451","title":"How to remove leading zeros from alphanumeric text?","body":"<p>If you don't want to use regex or external library.\nYou can do with \"for\": </p>\n\n<pre><code>String input=\"0000008008451\"\nString output = input.trim();\nfor( ;output.length() &gt; 1 &amp;&amp; output.charAt(0) == '0'; output = output.substring(1));\n\nSystem.out.println(output);//8008451\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1455810529,"creation_date":1455810529,"answer_id":35486077,"question_id":2800739,"body_markdown":"I made some benchmark tests and found, that the fastest way (by far) is this solution:\r\n\r\n    \tprivate static String removeLeadingZeros(String s) {\r\n\t\t  try {\r\n\t\t\t  Integer intVal = Integer.parseInt(s);\r\n\t\t\t  s = intVal.toString();\r\n\t\t  } catch (Exception ex) {\r\n              // whatever\r\n\t\t  }\r\n\t\t  return s;\r\n\t    }\r\n\r\nEspecially regular expressions are very slow in a long iteration. (I needed to find out the fastest way for a batchjob.)","title":"How to remove leading zeros from alphanumeric text?","body":"<p>I made some benchmark tests and found, that the fastest way (by far) is this solution:</p>\n\n<pre><code>    private static String removeLeadingZeros(String s) {\n      try {\n          Integer intVal = Integer.parseInt(s);\n          s = intVal.toString();\n      } catch (Exception ex) {\n          // whatever\n      }\n      return s;\n    }\n</code></pre>\n\n<p>Especially regular expressions are very slow in a long iteration. (I needed to find out the fastest way for a batchjob.)</p>\n"},{"tags":[],"owner":{"account_id":7974575,"reputation":1,"user_id":6018170,"display_name":"Sol Garlic"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1478008977,"creation_date":1457092883,"answer_id":35795528,"question_id":2800739,"body_markdown":"And what about just searching for the first non-zero character?\r\n\r\n    [1-9]\\d+\r\n\r\nThis regex finds the first digit between 1 and 9 followed by any number of digits, so for **&quot;00012345&quot;** it returns **&quot;12345&quot;**.\r\nIt can be easily adapted for alphanumeric strings.\r\n\r\n\r\n","title":"How to remove leading zeros from alphanumeric text?","body":"<p>And what about just searching for the first non-zero character?</p>\n\n<pre><code>[1-9]\\d+\n</code></pre>\n\n<p>This regex finds the first digit between 1 and 9 followed by any number of digits, so for <strong>\"00012345\"</strong> it returns <strong>\"12345\"</strong>.\nIt can be easily adapted for alphanumeric strings.</p>\n"},{"tags":[],"owner":{"account_id":6924913,"reputation":41,"user_id":5316257,"display_name":"H&#252;seyin Burhan &#214;ZKAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487984755,"creation_date":1457736311,"answer_id":35951266,"question_id":2800739,"body_markdown":"Using regex as some of the answers suggest is a good way to do that. If you don&#39;t want to use regex then you can use this code:\r\n\r\n    String s = &quot;00a0a121&quot;;\r\n    \r\n    while(s.length()&gt;0 &amp;&amp; s.charAt(0)==&#39;0&#39;)\r\n    {\r\n       s = s.substring(1); \r\n    }","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Using regex as some of the answers suggest is a good way to do that. If you don't want to use regex then you can use this code:</p>\n\n<pre><code>String s = \"00a0a121\";\n\nwhile(s.length()&gt;0 &amp;&amp; s.charAt(0)=='0')\n{\n   s = s.substring(1); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495210121,"creation_date":1495210121,"answer_id":44074532,"question_id":2800739,"body_markdown":"If you (like me) need to remove all the leading zeros from each &quot;word&quot; in a string, you can modify @polygenelubricants&#39; answer to the following:\r\n\r\n    String s = &quot;003 d0g 00ss 00 0 00&quot;;\r\n    s.replaceAll(&quot;\\\\b0+(?!\\\\b)&quot;, &quot;&quot;);\r\n\r\nwhich results in:\r\n\r\n    3 d0g ss 0 0 0","title":"How to remove leading zeros from alphanumeric text?","body":"<p>If you (like me) need to remove all the leading zeros from each \"word\" in a string, you can modify @polygenelubricants' answer to the following:</p>\n\n<pre><code>String s = \"003 d0g 00ss 00 0 00\";\ns.replaceAll(\"\\\\b0+(?!\\\\b)\", \"\");\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>3 d0g ss 0 0 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3776814,"reputation":1105,"user_id":3137427,"accept_rate":86,"display_name":"Sachin Aggarwal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1506838237,"creation_date":1506838237,"answer_id":46509734,"question_id":2800739,"body_markdown":"Without using `Regex` or `substring()` function on `String` which will be inefficient -\r\n\r\n    public static String removeZero(String str){\r\n    \t\tStringBuffer sb = new StringBuffer(str);\r\n            while (sb.length()&gt;1 &amp;&amp; sb.charAt(0) == &#39;0&#39;)\r\n            \tsb.deleteCharAt(0);\r\n            return sb.toString();  // return in String\r\n        }","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Without using <code>Regex</code> or <code>substring()</code> function on <code>String</code> which will be inefficient -</p>\n\n<pre><code>public static String removeZero(String str){\n        StringBuffer sb = new StringBuffer(str);\n        while (sb.length()&gt;1 &amp;&amp; sb.charAt(0) == '0')\n            sb.deleteCharAt(0);\n        return sb.toString();  // return in String\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14521749,"reputation":149,"user_id":10489239,"display_name":"Damjan"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1539262462,"creation_date":1539254431,"answer_id":52758024,"question_id":2800739,"body_markdown":"You could just do:\r\n`String s = Integer.valueOf(&quot;0001007&quot;).toString();`","title":"How to remove leading zeros from alphanumeric text?","body":"<p>You could just do:\n<code>String s = Integer.valueOf(\"0001007\").toString();</code></p>\n"},{"tags":[],"owner":{"account_id":5335317,"reputation":3382,"user_id":4254527,"accept_rate":80,"display_name":"Saman Sattari"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1566223247,"creation_date":1566223247,"answer_id":57558322,"question_id":2800739,"body_markdown":"If you are using Kotlin This is the only code that you need:\r\n\r\n    yourString.trimStart(&#39;0&#39;)","title":"How to remove leading zeros from alphanumeric text?","body":"<p>If you are using Kotlin This is the only code that you need:</p>\n\n<pre><code>yourString.trimStart('0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6947828,"reputation":2546,"user_id":5331566,"accept_rate":88,"display_name":"Shaon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618807092,"creation_date":1618807092,"answer_id":67156027,"question_id":2800739,"body_markdown":"Using kotlin it is easy\r\n\r\n    value.trimStart(&#39;0&#39;)","title":"How to remove leading zeros from alphanumeric text?","body":"<p>Using kotlin it is easy</p>\n<pre><code>value.trimStart('0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12008039,"reputation":1,"user_id":8785747,"display_name":"ravishankar balasubramaniam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679938272,"creation_date":1679938272,"answer_id":75858703,"question_id":2800739,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n      const removeFirstZero = (ele) =&gt; parseInt(ele).toString()\r\n      \r\n      console.log(&#39;raw &#39; + &#39;0776211121&#39;)\r\n      console.log(&#39;removedZero &#39; + removeFirstZero(&#39;0776211121&#39;))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to remove leading zeros from alphanumeric text?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  const removeFirstZero = (ele) =&gt; parseInt(ele).toString()\n  \n  console.log('raw ' + '0776211121')\n  console.log('removedZero ' + removeFirstZero('0776211121'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429703,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":2800839,"answer_count":21,"score":309,"last_activity_date":1679938272,"creation_date":1273472965,"question_id":2800739,"body_markdown":"I&#39;ve seen questions on how to prefix zeros here in SO. But not the other way!\r\n\r\nCan you guys suggest me how to remove the leading zeros in alphanumeric text? Are there any built-in APIs or do I need to write a method to trim the leading zeros?\r\n\r\n  Example:\r\n\r\n    01234 converts to 1234\r\n    0001234a converts to 1234a\r\n    001234-a converts to 1234-a\r\n    101234 remains as 101234\r\n    2509398 remains as 2509398\r\n    123z remains as 123z\r\n    000002829839 converts to 2829839","title":"How to remove leading zeros from alphanumeric text?","body":"<p>I've seen questions on how to prefix zeros here in SO. But not the other way!</p>\n\n<p>Can you guys suggest me how to remove the leading zeros in alphanumeric text? Are there any built-in APIs or do I need to write a method to trim the leading zeros?</p>\n\n<p>Example:</p>\n\n<pre><code>01234 converts to 1234\n0001234a converts to 1234a\n001234-a converts to 1234-a\n101234 remains as 101234\n2509398 remains as 2509398\n123z remains as 123z\n000002829839 converts to 2829839\n</code></pre>\n"},{"tags":["java","android","android-camera2","exposure-time"],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679938155,"creation_date":1679938155,"answer_id":75858683,"question_id":75837833,"body_markdown":"No, this is not currently supported by the API. Your only choices are to run in full manual or full auto, unfortunately.\r\n\r\n","title":"How to set the shutter time but leave the ISO (sensitivity) on auto on android","body":"<p>No, this is not currently supported by the API. Your only choices are to run in full manual or full auto, unfortunately.</p>\n"}],"owner":{"account_id":28117465,"reputation":1,"user_id":21484302,"display_name":"Marcel R&#246;mer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679938155,"creation_date":1679689123,"question_id":75837833,"body_markdown":"I am building an Android app with the Camera2 API that uses short shutter times, 1/1000 and 1/2000.\r\nI can set the SENSOR_EXPOSURE_TIME without any problem. But I want to keep the ISO (SENSOR_SENSITIVITY) on auto mode.\r\n\r\nTo set the shutter speed I use the following code:\r\n\r\n```\r\nmPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\r\nmPreviewRequestBuilder.set(CaptureRequest.SENSOR_EXPOSURE_TIME, EXPOSURE);\r\nmCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(), null, surfaceView.getmBackgroundHandler());\r\n```\r\nThis code works OK, but because the CONTROL_AE_MODE is set to CONTROL_AE_MODE_OFF the ISO (SENSOR_SENSITIVITY) has to be set manually also. And this is what I don&#39;t want, I want to keep the ISO on auto.\r\n\r\nIs there any way to accomplish this or is there a workaround?","title":"How to set the shutter time but leave the ISO (sensitivity) on auto on android","body":"<p>I am building an Android app with the Camera2 API that uses short shutter times, 1/1000 and 1/2000.\nI can set the SENSOR_EXPOSURE_TIME without any problem. But I want to keep the ISO (SENSOR_SENSITIVITY) on auto mode.</p>\n<p>To set the shutter speed I use the following code:</p>\n<pre><code>mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\nmPreviewRequestBuilder.set(CaptureRequest.SENSOR_EXPOSURE_TIME, EXPOSURE);\nmCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(), null, surfaceView.getmBackgroundHandler());\n</code></pre>\n<p>This code works OK, but because the CONTROL_AE_MODE is set to CONTROL_AE_MODE_OFF the ISO (SENSOR_SENSITIVITY) has to be set manually also. And this is what I don't want, I want to keep the ISO on auto.</p>\n<p>Is there any way to accomplish this or is there a workaround?</p>\n"},{"tags":["java","git","gradle","gwt","dependencies"],"comments":[{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1517070465,"post_id":48443467,"comment_id":83948864,"body_markdown":"Update the module descriptor! GWT does not know where to find the sources.","body":"Update the module descriptor! GWT does not know where to find the sources."},{"owner":{"account_id":8498252,"reputation":45,"user_id":6372174,"accept_rate":75,"display_name":"FlugRost"},"score":0,"creation_date":1517141055,"post_id":48443467,"comment_id":83964895,"body_markdown":"Thank you for the answer.\nWhat did you mean? In the gwt.xml? Do you have a link or something?","body":"Thank you for the answer. What did you mean? In the gwt.xml? Do you have a link or something?"}],"owner":{"account_id":8498252,"reputation":45,"user_id":6372174,"accept_rate":75,"display_name":"FlugRost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679937424,"creation_date":1516885080,"question_id":48443467,"body_markdown":"I have a java gradle project which is using a git submodule (api) as dependency.\r\n\r\nbuild.gradle:\r\n\r\n    dependencies {\r\n        compile project(&#39;:api&#39;)\r\n    }\r\n\r\nsettings.gradle\r\n\r\n    include &#39;:game&#39;, &#39;:api&#39;\r\n\r\nThis works on desktop fine! Now I want to translate my java code with gwt to JavaScript. But gwt gives me an error for every file from the api:\r\n\r\n&gt; did you forget to inherit a required module?\r\n\r\nIs it right that I have to inherit these files? And how is it possible to inherit the complete api from git/gradle?\r\n\r\nThanks for your help!","title":"add git submodule as GWT dependency","body":"<p>I have a java gradle project which is using a git submodule (api) as dependency.</p>\n<p>build.gradle:</p>\n<pre><code>dependencies {\n    compile project(':api')\n}\n</code></pre>\n<p>settings.gradle</p>\n<pre><code>include ':game', ':api'\n</code></pre>\n<p>This works on desktop fine! Now I want to translate my java code with gwt to JavaScript. But gwt gives me an error for every file from the api:</p>\n<blockquote>\n<p>did you forget to inherit a required module?</p>\n</blockquote>\n<p>Is it right that I have to inherit these files? And how is it possible to inherit the complete api from git/gradle?</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","kotlin","gradle","build","build-tools"],"answers":[{"tags":[],"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679936970,"creation_date":1679936970,"answer_id":75858523,"question_id":75854854,"body_markdown":"If it&#39;s just one condition (debug or not) the easiest to me seems to just use an if statement on a custom flag, eg like [here][1].\r\n\r\n    dependencies {\r\n        if (project.hasProperty(&quot;debug&quot;)) {\r\n            implementation(&quot;debugdep&quot;)\r\n        }\r\n    }\r\n\r\n`gradle -Pdebug`\r\n      \r\n\r\n\r\n  [1]: https://www.baeldung.com/gradle-conditional-dependencies#configuring-conditional-dependency","title":"Exclude a dependency in jvm for release using gradle","body":"<p>If it's just one condition (debug or not) the easiest to me seems to just use an if statement on a custom flag, eg like <a href=\"https://www.baeldung.com/gradle-conditional-dependencies#configuring-conditional-dependency\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>dependencies {\n    if (project.hasProperty(&quot;debug&quot;)) {\n        implementation(&quot;debugdep&quot;)\n    }\n}\n</code></pre>\n<p><code>gradle -Pdebug</code></p>\n"}],"owner":{"account_id":14398683,"reputation":505,"user_id":10401124,"display_name":"AmirHossein Abdolmotallebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679936970,"creation_date":1679914204,"question_id":75854854,"body_markdown":"I am using a debugger library and I want to exclude it in my application when I create a release artifact\r\nI know in android there is a Debug variant and I can use debugImplementation but how about JVM?","title":"Exclude a dependency in jvm for release using gradle","body":"<p>I am using a debugger library and I want to exclude it in my application when I create a release artifact\nI know in android there is a Debug variant and I can use debugImplementation but how about JVM?</p>\n"},{"tags":["java","spring","spring-boot","sslcontext","mtls"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611653861,"creation_date":1611653861,"answer_id":65898905,"question_id":65890334,"body_markdown":"This is unfortunately not possible with Spring Boot + Tomcat. It does not have an option to inject a SSLContext, or other properties such as SSLServerSocketFactory or TrustManager or KeyManager.\r\n\r\nHowever if you still want to use Spring Boot and want to configure it fully and if you don&#39;t care what kind of server is used under the covers by Spring boot I would recommend Jetty.\r\n\r\nBelow is an basic implementation how you can accomplish this with Spring Boot + Jetty:\r\n\r\n```java\r\nimport org.eclipse.jetty.server.Connector;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.server.ServerConnector;\r\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.jetty.JettyServerCustomizer;\r\nimport org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.Collections;\r\n\r\n@SpringBootApplication\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(App.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public SslContextFactory.Server sslContextFactory() {\r\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n        sslContextFactory.setSslContext(sslContext);\r\n        sslContextFactory.setIncludeProtocols(protocols);\r\n        sslContextFactory.setIncludeCipherSuites(ciphers);\r\n        sslContextFactory.setNeedClientAuth(true);\r\n        return sslContextFactory;\r\n    }\r\n\r\n    @Bean\r\n    public ConfigurableServletWebServerFactory webServerFactory(SslContextFactory.Server sslContextFactory) {\r\n        JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\r\n        factory.setPort(8443);\r\n\r\n        JettyServerCustomizer jettyServerCustomizer = server -&gt; server.setConnectors(new Connector[]{new ServerConnector(server, sslContextFactory)});\r\n        factory.setServerCustomizers(Collections.singletonList(jettyServerCustomizer));\r\n        return factory;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou also need to tell spring to not use tomcat anymore and switch to jetty. You can do that by adding the following snippet to your pom:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Configure Spring Boot&#39;s with custom SSLContext programmatically (for mTLS)","body":"<p>This is unfortunately not possible with Spring Boot + Tomcat. It does not have an option to inject a SSLContext, or other properties such as SSLServerSocketFactory or TrustManager or KeyManager.</p>\n<p>However if you still want to use Spring Boot and want to configure it fully and if you don't care what kind of server is used under the covers by Spring boot I would recommend Jetty.</p>\n<p>Below is an basic implementation how you can accomplish this with Spring Boot + Jetty:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.jetty.server.Connector;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.ServerConnector;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.jetty.JettyServerCustomizer;\nimport org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.Collections;\n\n@SpringBootApplication\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n    @Bean\n    public SslContextFactory.Server sslContextFactory() {\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setSslContext(sslContext);\n        sslContextFactory.setIncludeProtocols(protocols);\n        sslContextFactory.setIncludeCipherSuites(ciphers);\n        sslContextFactory.setNeedClientAuth(true);\n        return sslContextFactory;\n    }\n\n    @Bean\n    public ConfigurableServletWebServerFactory webServerFactory(SslContextFactory.Server sslContextFactory) {\n        JettyServletWebServerFactory factory = new JettyServletWebServerFactory();\n        factory.setPort(8443);\n\n        JettyServerCustomizer jettyServerCustomizer = server -&gt; server.setConnectors(new Connector[]{new ServerConnector(server, sslContextFactory)});\n        factory.setServerCustomizers(Collections.singletonList(jettyServerCustomizer));\n        return factory;\n    }\n\n}\n</code></pre>\n<p>You also need to tell spring to not use tomcat anymore and switch to jetty. You can do that by adding the following snippet to your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7183993,"reputation":407,"user_id":5486740,"accept_rate":80,"display_name":"Mr.Robot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65898905,"answer_count":1,"score":1,"last_activity_date":1679936768,"creation_date":1611599098,"question_id":65890334,"body_markdown":"## Problem\r\n\r\nProgrammatically configure Spring Boot&#39;s to use my custom ``SSLContext``. And use for mTLS.\r\n\r\n## Context\r\n\r\nSpring&#39;s [documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-webserver) provides only one, clear way how to configure SSL (via ``application.properties``):\r\n```\r\nserver.port=8443\r\nserver.ssl.key-store=classpath:keystore.jks\r\nserver.ssl.key-store-password=secret\r\nserver.ssl.trust-store=classpath:truststore.jks\r\n...\r\n```\r\n\r\nHowever, this solution lacks *depth* as there are scenarios, where I&#39;d like to advantage of customizing my own ``SSLContext``. For example, configuring mTLS to trust not only single certificate generated via ``keytool``, but to trust both my self-signed certificate and ones placed within Java&#39;s default TrustStore (``lib/security/cacerts``). \r\n\r\nOf course, I could combine them using already mentioned ``keytool``, but I&#39;m looking for more flexible approach, hence providing my own ``SSLContext``.\r\n\r\nSpring provides a section on [Configure the Web Server](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-webserver), which says to use either something like ``TomcatServletWebServerFactory`` or ``ConfigurableServletWebServerFactory``, but they do not really go into depth.\r\n\r\nI&#39;ve tried creating a ``Component``:\r\n\r\n```\r\n@Component\r\npublic class CustomServletCustomizer implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\r\n\r\n    private static final String SERVER_CERTIFICATE_PATH = &quot;identity.jks&quot;;\r\n    private static final char[] PASSWORD = &quot;secret&quot;.toCharArray();\r\n\r\n    private static final String CLIENT_CERTIFICATE_PATH = &quot;certs/client.cer&quot;;\r\n\r\n    @Override\r\n    public void customize(ConfigurableServletWebServerFactory factory) {\r\n        factory.setSslStoreProvider(new SslStoreProvider() {\r\n            @Override\r\n            public KeyStore getKeyStore() throws Exception {\r\n                var certificateAsInputStream = this.getClass().getClassLoader().getResourceAsStream(SERVER_CERTIFICATE_PATH);\r\n                var keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                keyStore.load(certificateAsInputStream, PASSWORD);\r\n\r\n                return keyStore;\r\n            }\r\n\r\n            @Override\r\n            public KeyStore getTrustStore() throws Exception {\r\n                var keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                keyStore.load(null);\r\n                var organisationRootCertBytes = this.getClass().getClassLoader().getResourceAsStream(CLIENT_CERTIFICATE_PATH).readAllBytes();\r\n                var certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n                var certificate = certificateFactory.generateCertificate(new ByteArrayInputStream(organisationRootCertBytes));\r\n                keyStore.setCertificateEntry(&quot;server&quot;, certificate);\r\n\r\n                return keyStore;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nBut to no avail. ","title":"Configure Spring Boot&#39;s with custom SSLContext programmatically (for mTLS)","body":"<h2>Problem</h2>\n<p>Programmatically configure Spring Boot's to use my custom <code>SSLContext</code>. And use for mTLS.</p>\n<h2>Context</h2>\n<p>Spring's <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-webserver\" rel=\"nofollow noreferrer\">documentation</a> provides only one, clear way how to configure SSL (via <code>application.properties</code>):</p>\n<pre><code>server.port=8443\nserver.ssl.key-store=classpath:keystore.jks\nserver.ssl.key-store-password=secret\nserver.ssl.trust-store=classpath:truststore.jks\n...\n</code></pre>\n<p>However, this solution lacks <em>depth</em> as there are scenarios, where I'd like to advantage of customizing my own <code>SSLContext</code>. For example, configuring mTLS to trust not only single certificate generated via <code>keytool</code>, but to trust both my self-signed certificate and ones placed within Java's default TrustStore (<code>lib/security/cacerts</code>).</p>\n<p>Of course, I could combine them using already mentioned <code>keytool</code>, but I'm looking for more flexible approach, hence providing my own <code>SSLContext</code>.</p>\n<p>Spring provides a section on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-webserver\" rel=\"nofollow noreferrer\">Configure the Web Server</a>, which says to use either something like <code>TomcatServletWebServerFactory</code> or <code>ConfigurableServletWebServerFactory</code>, but they do not really go into depth.</p>\n<p>I've tried creating a <code>Component</code>:</p>\n<pre><code>@Component\npublic class CustomServletCustomizer implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; {\n\n    private static final String SERVER_CERTIFICATE_PATH = &quot;identity.jks&quot;;\n    private static final char[] PASSWORD = &quot;secret&quot;.toCharArray();\n\n    private static final String CLIENT_CERTIFICATE_PATH = &quot;certs/client.cer&quot;;\n\n    @Override\n    public void customize(ConfigurableServletWebServerFactory factory) {\n        factory.setSslStoreProvider(new SslStoreProvider() {\n            @Override\n            public KeyStore getKeyStore() throws Exception {\n                var certificateAsInputStream = this.getClass().getClassLoader().getResourceAsStream(SERVER_CERTIFICATE_PATH);\n                var keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n                keyStore.load(certificateAsInputStream, PASSWORD);\n\n                return keyStore;\n            }\n\n            @Override\n            public KeyStore getTrustStore() throws Exception {\n                var keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n                keyStore.load(null);\n                var organisationRootCertBytes = this.getClass().getClassLoader().getResourceAsStream(CLIENT_CERTIFICATE_PATH).readAllBytes();\n                var certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n                var certificate = certificateFactory.generateCertificate(new ByteArrayInputStream(organisationRootCertBytes));\n                keyStore.setCertificateEntry(&quot;server&quot;, certificate);\n\n                return keyStore;\n            }\n        });\n    }\n}\n</code></pre>\n<p>But to no avail.</p>\n"},{"tags":["java","apache-kafka","junit","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679836376,"post_id":75832808,"comment_id":133788436,"body_markdown":"Unclear where you see a new line. Also, looks like you&#39;re testing a mock/spy?","body":"Unclear where you see a new line. Also, looks like you&#39;re testing a mock/spy?"},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1679925961,"post_id":75832808,"comment_id":133803605,"body_markdown":"Yes I&#39;m testing a mock, which does nothing when send method runs but I wanted to test if the created DTO and the topic are correct.","body":"Yes I&#39;m testing a mock, which does nothing when send method runs but I wanted to test if the created DTO and the topic are correct."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679929543,"post_id":75832808,"comment_id":133804805,"body_markdown":"Kafka itself stores/sends bytes. Not strings, and does not insert newlines on its own... So, what is your value serializer setting? Does your serializer call `toString()` and add any newlines? For example, `ConferenceInstanceDTO` uses Lombok? Can you show that class?","body":"Kafka itself stores/sends bytes. Not strings, and does not insert newlines on its own... So, what is your value serializer setting? Does your serializer call <code>toString()</code> and add any newlines? For example, <code>ConferenceInstanceDTO</code> uses Lombok? Can you show that class?"},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1679936688,"post_id":75832808,"comment_id":133806841,"body_markdown":"Yes, ```ConferenceInstanceDTO``` uses Lombok, uses its ```toString()```. Kafka uses ```StringSerializer.class``` as Key Serizalizer, and ```JsonSerializer.class``` as Value Serializer.","body":"Yes, <code>ConferenceInstanceDTO</code> uses Lombok, uses its <code>toString()</code>. Kafka uses <code>StringSerializer.class</code> as Key Serizalizer, and <code>JsonSerializer.class</code> as Value Serializer."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679940894,"post_id":75832808,"comment_id":133807871,"body_markdown":"This doesn&#39;t seem to be a Kafka problem. Can you construct a `new ConferenceInstanceDTO()` and just print it? Is there a new-line in any of the fields of the nested DTO classes? Also, tests don&#39;t care about the indentation/spacing of your source code, so I don&#39;t quite understand what you mean by &quot;Actual&quot; and &quot;&lt;-- Newline&quot;","body":"This doesn&#39;t seem to be a Kafka problem. Can you construct a <code>new ConferenceInstanceDTO()</code> and just print it? Is there a new-line in any of the fields of the nested DTO classes? Also, tests don&#39;t care about the indentation/spacing of your source code, so I don&#39;t quite understand what you mean by &quot;Actual&quot; and &quot;&lt;-- Newline&quot;"}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679936578,"creation_date":1679655512,"question_id":75832808,"body_markdown":"The function I&#39;m testing is this, the result and the all expected status works fine. \r\n\r\n```java\r\nprivate InstanceGetDTO updateInstance(...) {\r\n        ...\r\n\r\n        ConferenceInstanceDTO conferenceInstanceDTO = ConferenceInstanceDTO.builder().instance(instanceMapper.mapInstanceToInstanceGetDTO(instance)).conferenceGetDTO(conferenceGetDTO).build();\r\n        String topic = conference.getProvider() + &quot;-update-instance&quot;;\r\n        kafkaTemplate.send(topic, conferenceInstanceDTO);\r\n\r\n        return instanceMapper.mapInstanceToInstanceGetDTO(instance);\r\n    }\r\n```\r\n\r\nHowever, I wanted to test the kafka topic and the body is correct also.\r\n\r\n```java\r\nverify(kafkaTemplate).send(eq(provider + &quot;-update-instance&quot;), eq(conferenceInstanceDTO));\r\n```\r\n\r\nI wrote this, which I&#39;m not 100% sure that&#39;s the correct way to do this. I got an error about they&#39;re not matching. \r\n\r\n**Expected:** \r\n```java\r\nkafkaTemplate.send(\r\n    &quot;zoom-update-instance&quot;,\r\n    ConferenceInstanceDTO(...);\r\n);\r\n```\r\n\r\n**Actual:**\r\n```java\r\nkafkaTemplate.send(\r\n    &quot;zoom-update-instance&quot;,\r\n    ConferenceInstanceDTO(...); &lt;-- (The DTO is matching)\r\n);\r\n       &lt;-- Newline\r\n```\r\n\r\nAs you can see, it&#39;s adding a newline character outside the function call. How can I test this without that newline. Or, how can I prevent that adding new-line.\r\n\r\n\r\n**Updated**\r\n\r\n**ConferenceInstanceDTO**\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@SuperBuilder\r\n@Setter\r\n@ToString\r\npublic class ConferenceInstanceDTO {\r\n    private InstanceGetDTO instance;\r\n    private ConferenceGetDTO conferenceGetDTO;\r\n}\r\n```\r\n\r\nInstanceGetDTO and ConferenceGetDTO has same annotations with different fields.","title":"KafkaTemplate adds a newline character when testing","body":"<p>The function I'm testing is this, the result and the all expected status works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private InstanceGetDTO updateInstance(...) {\n        ...\n\n        ConferenceInstanceDTO conferenceInstanceDTO = ConferenceInstanceDTO.builder().instance(instanceMapper.mapInstanceToInstanceGetDTO(instance)).conferenceGetDTO(conferenceGetDTO).build();\n        String topic = conference.getProvider() + &quot;-update-instance&quot;;\n        kafkaTemplate.send(topic, conferenceInstanceDTO);\n\n        return instanceMapper.mapInstanceToInstanceGetDTO(instance);\n    }\n</code></pre>\n<p>However, I wanted to test the kafka topic and the body is correct also.</p>\n<pre class=\"lang-java prettyprint-override\"><code>verify(kafkaTemplate).send(eq(provider + &quot;-update-instance&quot;), eq(conferenceInstanceDTO));\n</code></pre>\n<p>I wrote this, which I'm not 100% sure that's the correct way to do this. I got an error about they're not matching.</p>\n<p><strong>Expected:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>kafkaTemplate.send(\n    &quot;zoom-update-instance&quot;,\n    ConferenceInstanceDTO(...);\n);\n</code></pre>\n<p><strong>Actual:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>kafkaTemplate.send(\n    &quot;zoom-update-instance&quot;,\n    ConferenceInstanceDTO(...); &lt;-- (The DTO is matching)\n);\n       &lt;-- Newline\n</code></pre>\n<p>As you can see, it's adding a newline character outside the function call. How can I test this without that newline. Or, how can I prevent that adding new-line.</p>\n<p><strong>Updated</strong></p>\n<p><strong>ConferenceInstanceDTO</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@SuperBuilder\n@Setter\n@ToString\npublic class ConferenceInstanceDTO {\n    private InstanceGetDTO instance;\n    private ConferenceGetDTO conferenceGetDTO;\n}\n</code></pre>\n<p>InstanceGetDTO and ConferenceGetDTO has same annotations with different fields.</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1679935582,"post_id":75858072,"comment_id":133806528,"body_markdown":"What is the specific problem you have with your current implementation of this homework assignment?","body":"What is the specific problem you have with your current implementation of this homework assignment?"}],"answers":[{"tags":[],"owner":{"account_id":28133750,"reputation":101,"user_id":21497826,"display_name":"himanshu-pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679936528,"creation_date":1679936528,"answer_id":75858450,"question_id":75858072,"body_markdown":"***You can use conditional checks after you come out of the for loop to determine whether it&#39;s too many numbers or a valid middle number scenario.*** In that case, you can avoid using return statement explicitly and let the method exit after executing complete code. For example, you might consider doing something like this:\r\n```\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int[] userValues = new int[10];     \r\n      int arrayLength = 0;\r\n      int middleInteger;\r\n      \r\n      for (int i = 0; i &lt; 10; ++i) {\r\n          userValues[i] = scnr.nextInt();\r\n         if (userValues[i] &lt; 0 || i == 9) {\r\n            arrayLength = i + 1;\r\n            break;\r\n         }\r\n      }\r\n      if(arrayLength==10 &amp;&amp; userValues[arrayLength-1]&gt;0)\r\n        System.out.println(&quot;Too many numbers&quot;);\r\n      else {\r\n        middleInteger = (arrayLength) / 2 - 1;\r\n        System.out.println(&quot;Middle item: &quot; + userValues[middleInteger]);\r\n      }\r\n    }\r\n```","title":"Middle Item in Odd Numbered Array List","body":"<p><em><strong>You can use conditional checks after you come out of the for loop to determine whether it's too many numbers or a valid middle number scenario.</strong></em> In that case, you can avoid using return statement explicitly and let the method exit after executing complete code. For example, you might consider doing something like this:</p>\n<pre><code>    public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int[] userValues = new int[10];     \n      int arrayLength = 0;\n      int middleInteger;\n      \n      for (int i = 0; i &lt; 10; ++i) {\n          userValues[i] = scnr.nextInt();\n         if (userValues[i] &lt; 0 || i == 9) {\n            arrayLength = i + 1;\n            break;\n         }\n      }\n      if(arrayLength==10 &amp;&amp; userValues[arrayLength-1]&gt;0)\n        System.out.println(&quot;Too many numbers&quot;);\n      else {\n        middleInteger = (arrayLength) / 2 - 1;\n        System.out.println(&quot;Middle item: &quot; + userValues[middleInteger]);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":28054653,"reputation":3,"user_id":21429885,"display_name":"baw678"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75858450,"answer_count":1,"score":0,"last_activity_date":1679936528,"creation_date":1679933918,"question_id":75858072,"body_markdown":"can someone please explain how to solve this problem without using a return statement?\r\n\r\nGiven a sorted list of integers, output the middle integer. A negative number indicates the end of the input (the negative number is not a part of the sorted list). Assume the number of integers is always odd.\r\n\r\nEx: If the input is: 2 3 4 8 11 -1 \r\n    the output is: Middle item: 4\r\n\r\nThe maximum number of list values for any test case should not exceed 9. If exceeded, output &quot;Too many numbers&quot;.\r\n\r\nHint: First read the data into an array. Then, based on the array&#39;s size, find the middle item.\r\n\r\n```\r\n    import java.util.Scanner; \r\n\r\n    public class LabProgram {\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int[] userValues = new int[10];     \r\n      int arrayLength = 0;\r\n      int i;\r\n      int middleInteger;\r\n      \r\n      for (i = 0; i &lt; 10; ++i) {\r\n          userValues[i] = scnr.nextInt();\r\n      \r\n         if (userValues[i] == -1) {\r\n            arrayLength = i + 1;\r\n            break;\r\n         }\r\n         \r\n         if ((i == 9) &amp;&amp; (userValues[i] != -1)) {\r\n            System.out.println(&quot;Too many numbers&quot;);\r\n            return;\r\n         }\r\n      }\r\n      middleInteger = (arrayLength - 1) / 2;\r\n      \r\n      System.out.println(&quot;Middle item: &quot; + userValues[middleInteger]);\r\n    }\r\n    }\r\n```","title":"Middle Item in Odd Numbered Array List","body":"<p>can someone please explain how to solve this problem without using a return statement?</p>\n<p>Given a sorted list of integers, output the middle integer. A negative number indicates the end of the input (the negative number is not a part of the sorted list). Assume the number of integers is always odd.</p>\n<p>Ex: If the input is: 2 3 4 8 11 -1\nthe output is: Middle item: 4</p>\n<p>The maximum number of list values for any test case should not exceed 9. If exceeded, output &quot;Too many numbers&quot;.</p>\n<p>Hint: First read the data into an array. Then, based on the array's size, find the middle item.</p>\n<pre><code>    import java.util.Scanner; \n\n    public class LabProgram {\n    public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int[] userValues = new int[10];     \n      int arrayLength = 0;\n      int i;\n      int middleInteger;\n      \n      for (i = 0; i &lt; 10; ++i) {\n          userValues[i] = scnr.nextInt();\n      \n         if (userValues[i] == -1) {\n            arrayLength = i + 1;\n            break;\n         }\n         \n         if ((i == 9) &amp;&amp; (userValues[i] != -1)) {\n            System.out.println(&quot;Too many numbers&quot;);\n            return;\n         }\n      }\n      middleInteger = (arrayLength - 1) / 2;\n      \n      System.out.println(&quot;Middle item: &quot; + userValues[middleInteger]);\n    }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1665843676,"post_id":74080196,"comment_id":130796039,"body_markdown":"You should request &quot;mainconfigfiles&quot; as a &quot;bean&quot;  ...not via `new`. So: Delete `a`, and use `mainConfigFiles.getMessage2()` instead.","body":"You should request &quot;mainconfigfiles&quot; as a &quot;bean&quot;  ...not via <code>new</code>. So: Delete <code>a</code>, and use <code>mainConfigFiles.getMessage2()</code> instead."},{"owner":{"account_id":10977142,"reputation":85,"user_id":8065503,"display_name":"oldMonk"},"score":0,"creation_date":1665844242,"post_id":74080196,"comment_id":130796175,"body_markdown":"And I am running a config client on this same project and the value from application.propertie is not refreshing after running POST req on http://localhost:8080/actuator/refresh","body":"And I am running a config client on this same project and the value from application.propertie is not refreshing after running POST req on <a href=\"http://localhost:8080/actuator/refresh\" rel=\"nofollow noreferrer\">localhost:8080/actuator/refresh</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665996136,"post_id":74080196,"comment_id":130821630,"body_markdown":"Please answer/accept/[edit] this... or raise a new question! :)","body":"Please answer/accept/<a href=\"https://stackoverflow.com/posts/74080196/edit\">edit</a> this... or raise a new question! :)"}],"answers":[{"tags":[],"owner":{"account_id":2261604,"reputation":72,"user_id":1991545,"display_name":"abhi_88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679936193,"creation_date":1666025352,"answer_id":74100582,"question_id":74080196,"body_markdown":"First you need to read the welcome.message value from application.properties file and set it to MainConfigFiles. Later use this MainConfigFiles class(that you are already using @Autowire) and get that message.\r\n\r\nModify MainConfigFiles class as below.\r\n\r\n    public class MainConfigFiles {\r\n    \r\n\tValue(&quot;${welcome.message}&quot;)\r\n    private String message2;\r\n\r\n    Bean\r\n    public MainConfigFiles jpaConfig() {\r\n\r\n        MainConfigFiles mainConfigFiles = new MainConfigFiles();\r\n        mainConfigFiles.setMessage2(message2);\r\n        return mainConfigFiles;\r\n    }\r\n\r\n    public String getMessage2() {\r\n        return message2;\r\n    }\r\n\r\n    public void setMessage2(String message2) {\r\n        this.message2 = message2;\r\n    }\r\n    }\r\n\r\n\r\nThis is your MessageRestController.\r\n\r\n    @RestController\r\n    public class MessageRestController {\r\n\r\n    @Autowired\r\n    private MainConfigFiles mainConfigFiles;\r\n\r\n    @Value(&quot;${welcome.message}&quot;)\r\n    private String message;\r\n\r\n    @RequestMapping(&quot;/message&quot;)\r\n    String getMessage() {\r\n        return this.message;\r\n    }\r\n\r\n    @RequestMapping(&quot;/message2&quot;)\r\n    String getMessage2() {\r\n        String msg = mainConfigFiles.getMessage2();\r\n        System.out.println(&quot;Msg is.....&quot;+msg);\r\n        return msg;\r\n    }\r\n    }\r\n\r\n\r\nNote- While using @Value annotation we need to be a little careful otherwise [using @Value you may not able to read data][1] from application.proprties. \r\n\r\n\r\n  [1]: https://javatute.com/spring-boot/spring-boot-value-not-working/","title":"How to get vales of application.prpoperty in spring boot","body":"<p>First you need to read the welcome.message value from application.properties file and set it to MainConfigFiles. Later use this MainConfigFiles class(that you are already using @Autowire) and get that message.</p>\n<p>Modify MainConfigFiles class as below.</p>\n<pre><code>public class MainConfigFiles {\n\nValue(&quot;${welcome.message}&quot;)\nprivate String message2;\n\nBean\npublic MainConfigFiles jpaConfig() {\n\n    MainConfigFiles mainConfigFiles = new MainConfigFiles();\n    mainConfigFiles.setMessage2(message2);\n    return mainConfigFiles;\n}\n\npublic String getMessage2() {\n    return message2;\n}\n\npublic void setMessage2(String message2) {\n    this.message2 = message2;\n}\n}\n</code></pre>\n<p>This is your MessageRestController.</p>\n<pre><code>@RestController\npublic class MessageRestController {\n\n@Autowired\nprivate MainConfigFiles mainConfigFiles;\n\n@Value(&quot;${welcome.message}&quot;)\nprivate String message;\n\n@RequestMapping(&quot;/message&quot;)\nString getMessage() {\n    return this.message;\n}\n\n@RequestMapping(&quot;/message2&quot;)\nString getMessage2() {\n    String msg = mainConfigFiles.getMessage2();\n    System.out.println(&quot;Msg is.....&quot;+msg);\n    return msg;\n}\n}\n</code></pre>\n<p>Note- While using @Value annotation we need to be a little careful otherwise <a href=\"https://javatute.com/spring-boot/spring-boot-value-not-working/\" rel=\"nofollow noreferrer\">using @Value you may not able to read data</a> from application.proprties.</p>\n"}],"owner":{"account_id":10977142,"reputation":85,"user_id":8065503,"display_name":"oldMonk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74100582,"answer_count":1,"score":0,"last_activity_date":1679936193,"creation_date":1665843296,"question_id":74080196,"body_markdown":"I want to access some values from my `application.properties` file, I tried using below method but not getting value.\r\n\r\n**application.property file**\r\n\r\n ```welcome.message=My message```\r\n\r\n**Mycontroller.java**\r\n```java\r\n@RestController\r\nclass MessageRestController {\r\n\t@Autowired MainConfigFiles mainConfigFiles;\r\n\t  \r\n      @Value(&quot;${welcome.message}&quot;) \r\n\t  private String message;\r\n\r\n\t  @RequestMapping(&quot;/message&quot;) \r\n\t  String getMessage() { \r\n\t\t  return this.message; \r\n\t  }\r\n\r\n\t  @RequestMapping(&quot;/message2&quot;) \r\n\t  String getMessage2() { \r\n\t\t  MainConfigFiles a = new MainConfigFiles();\r\n\t\t  String msg = a.getMessage2();\r\n\t\t  System.out.println(&quot;Msg is.....&quot;+msg);\r\n\t\t  return msg; \r\n\t  }\r\n```\r\n\r\n**MainConfigFiles.java**\r\n\r\n``` \r\n@Configuration\r\n@PropertySource(value = &quot;application.properties&quot;)\r\npublic class MainConfigFiles {\r\n\t\r\n\t @Value(&quot;${welcome.message}&quot;) \r\n\t private String message2;\r\n\t \r\n\tpublic String getMessage2() {\r\n\t\treturn message2;\r\n\t}\r\n}\r\n``` \r\n\r\nI am able to get the value using  \r\n`@RequestMapping(&quot;/message&quot;)`  which is mentioned in the same file but unable to get the value when using `@RequestMapping(&quot;/message2&quot;)` which mentioned in another class.\r\n\r\n","title":"How to get vales of application.prpoperty in spring boot","body":"<p>I want to access some values from my <code>application.properties</code> file, I tried using below method but not getting value.</p>\n<p><strong>application.property file</strong></p>\n<p><code>welcome.message=My message</code></p>\n<p><strong>Mycontroller.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\nclass MessageRestController {\n    @Autowired MainConfigFiles mainConfigFiles;\n      \n      @Value(&quot;${welcome.message}&quot;) \n      private String message;\n\n      @RequestMapping(&quot;/message&quot;) \n      String getMessage() { \n          return this.message; \n      }\n\n      @RequestMapping(&quot;/message2&quot;) \n      String getMessage2() { \n          MainConfigFiles a = new MainConfigFiles();\n          String msg = a.getMessage2();\n          System.out.println(&quot;Msg is.....&quot;+msg);\n          return msg; \n      }\n</code></pre>\n<p><strong>MainConfigFiles.java</strong></p>\n<pre><code>@Configuration\n@PropertySource(value = &quot;application.properties&quot;)\npublic class MainConfigFiles {\n    \n     @Value(&quot;${welcome.message}&quot;) \n     private String message2;\n     \n    public String getMessage2() {\n        return message2;\n    }\n}\n</code></pre>\n<p>I am able to get the value using<br />\n<code>@RequestMapping(&quot;/message&quot;)</code>  which is mentioned in the same file but unable to get the value when using <code>@RequestMapping(&quot;/message2&quot;)</code> which mentioned in another class.</p>\n"},{"tags":["java","spring","mockito","rx-java","junit5"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1679928015,"post_id":75857012,"comment_id":133804280,"body_markdown":"what is the error you are facing ?","body":"what is the error you are facing ?"},{"owner":{"account_id":13769928,"reputation":107,"user_id":15985432,"display_name":"DarkVaderM"},"score":0,"creation_date":1679928199,"post_id":75857012,"comment_id":133804343,"body_markdown":"@RyuzakiL , I just put it in the post.","body":"@RyuzakiL , I just put it in the post."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":2,"creation_date":1679928288,"post_id":75857012,"comment_id":133804378,"body_markdown":"you should not mock this `when(numberValue.length()).thenReturn(eq(16));` pass `numberValue` as real value to `generate` method","body":"you should not mock this <code>when(numberValue.length()).thenReturn(eq(16));</code> pass <code>numberValue</code> as real value to <code>generate</code> method"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1679928414,"post_id":75857012,"comment_id":133804422,"body_markdown":"What is Mock buying you here?  I don&#39;t get it.  Pass the parameter and call the real thing.","body":"What is Mock buying you here?  I don&#39;t get it.  Pass the parameter and call the real thing."},{"owner":{"account_id":13769928,"reputation":107,"user_id":15985432,"display_name":"DarkVaderM"},"score":0,"creation_date":1679928616,"post_id":75857012,"comment_id":133804498,"body_markdown":"I was doing tests but when I remove it and pass the real parameter, I get this error in the same way: `NullPointerExcepcion: exception is null`","body":"I was doing tests but when I remove it and pass the real parameter, I get this error in the same way: <code>NullPointerExcepcion: exception is null</code>"}],"answers":[{"tags":[],"owner":{"account_id":23651155,"reputation":36,"user_id":17680024,"display_name":"Noah Hsu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679935657,"creation_date":1679935657,"answer_id":75858333,"question_id":75857012,"body_markdown":"you can mock a static method in a static class through the below code:\r\n```\r\n...\r\ntry (MockedStatic&lt;MyUtils&gt; utilities = Mockito.mockStatic(MyUtils.class)) {\r\n        utilities.when(MyUtils::generate).thenReturn(...what your method should return...);\r\n        //test your target method like:\r\n        myService.generate(numberValue);\r\n    }\r\n```\r\n\r\nreference: https://www.baeldung.com/mockito-mock-static-methods","title":"Unit testing service method in Spring Boot","body":"<p>you can mock a static method in a static class through the below code:</p>\n<pre><code>...\ntry (MockedStatic&lt;MyUtils&gt; utilities = Mockito.mockStatic(MyUtils.class)) {\n        utilities.when(MyUtils::generate).thenReturn(...what your method should return...);\n        //test your target method like:\n        myService.generate(numberValue);\n    }\n</code></pre>\n<p>reference: <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-mock-static-methods</a></p>\n"}],"owner":{"account_id":13769928,"reputation":107,"user_id":15985432,"display_name":"DarkVaderM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679935657,"creation_date":1679927534,"question_id":75857012,"body_markdown":"I have been doing unit testing with JUnit 5 and Mockito for the following code that I am going to show you, but it is not working correctly. I want to evaluate the successful case.\r\n\r\n    public Maybe &lt; MyResponse&gt; generate(String numberValue) {\r\n      return Maybe.just(numberValue)\r\n            .filter(number -&gt; number.length() == Constants.REQUEST_REQUIRED) //R_R = 16\r\n            .flatMap(number -&gt; MyUtils.generate())\r\n            .map(MyMapper::createResponse)\r\n            .switchIfEmpty(Maybe.error(MyExceptioManager.throwException400(...)));\r\n    }\r\n\r\n\r\nI tried converting the static methods to instance methods and then invoked them with @Mock, but it didn&#39;t work. How can I do this?\r\n\r\nI did this:\r\n\r\n    @Test\r\n    void generate() {\r\n    \tString numberValue = &quot;1234567891234567&quot;;\r\n    \t// when(myUtils.generate()).thenReturn(any()); \r\n    \twhen(numberValue.length()).thenReturn(eq(16));\r\n    \twhen(myMapper.createResponse(anyString())).thenReturn(any(MyResponse.class));\r\n\r\n    \tmyService.generate(numberValue )\r\n                 .test()\r\n                 .assertNoErrors()\r\n                 .assertComplete()\r\n                 .assertValue(myResponse -&gt; myResponse.getCode().equals(&quot;1234&quot;));\r\n    }\r\n\r\n\r\nerror:\r\n\r\n&gt; org.mockito.exceptions.misusing.MissingMethodInvocationException:&#160;\r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n&#160;&#160;&#160; when(mock.getArticles()).thenReturn(articles);\r\n","title":"Unit testing service method in Spring Boot","body":"<p>I have been doing unit testing with JUnit 5 and Mockito for the following code that I am going to show you, but it is not working correctly. I want to evaluate the successful case.</p>\n<pre><code>public Maybe &lt; MyResponse&gt; generate(String numberValue) {\n  return Maybe.just(numberValue)\n        .filter(number -&gt; number.length() == Constants.REQUEST_REQUIRED) //R_R = 16\n        .flatMap(number -&gt; MyUtils.generate())\n        .map(MyMapper::createResponse)\n        .switchIfEmpty(Maybe.error(MyExceptioManager.throwException400(...)));\n}\n</code></pre>\n<p>I tried converting the static methods to instance methods and then invoked them with @Mock, but it didn't work. How can I do this?</p>\n<p>I did this:</p>\n<pre><code>@Test\nvoid generate() {\n    String numberValue = &quot;1234567891234567&quot;;\n    // when(myUtils.generate()).thenReturn(any()); \n    when(numberValue.length()).thenReturn(eq(16));\n    when(myMapper.createResponse(anyString())).thenReturn(any(MyResponse.class));\n\n    myService.generate(numberValue )\n             .test()\n             .assertNoErrors()\n             .assertComplete()\n             .assertValue(myResponse -&gt; myResponse.getCode().equals(&quot;1234&quot;));\n}\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);</p>\n</blockquote>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679935623,"creation_date":1679935623,"answer_id":75858327,"question_id":75857357,"body_markdown":"No, it is *explicitly* marked as a bad practice in the [`ArgumentMatcher.matches` documentation](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatcher.html#matches(T)), emphasis in the original:\r\n\r\n&gt; The method should **never** assert if the argument doesn&#39;t match. It should only return false.\r\n\r\nThis is important for a couple of reasons: First, if there are multiple calls to the method, one call may fail while another passes. By throwing in the argument matcher, Mockito will fail before it gets a chance to match other stubs. Also, Mockito trusts that it can call this function without side effects in methods like `when`:\r\n\r\n```java\r\nwhen(yourMock.yourMethod(anyInt(), argThat(new ThrowingMatcher()))).thenReturn(...);\r\n// this next line will fail at stubbing time because of the previous line\r\nwhen(yourMock.yourMethod(eq(6), argThat(new ThrowingMatcher()))).thenReturn(...);\r\n```\r\n\r\nIn the second stub above, Mockito will call `yourMock.yourMethod` before calling `when`, so Mockito will try to [match a call](https://stackoverflow.com/q/22822512/1426891) to `yourMethod(0, null)`. This will trigger your matcher, which will throw an exception due to the mismatch, preventing you from stubbing further. This mismatch is only an example: if you throw from within an ArgumentMatcher and violate the interface contract, Mockito isn&#39;t guaranteed to work.\r\n\r\nIf you want Mockito to fail faster or more clearly, you do have a few options:\r\n\r\n- For stubbing time, you can use `thenAnswer`:\r\n\r\n  ```java\r\n  when(yourMock.yourMethod(/* user= */ any())).thenAnswer(invocation -&gt; {\r\n    User user = invocation.getArgument(0);\r\n    /* your asserts here */\r\n    return yourReturnValue;\r\n  });\r\n  ```\r\n\r\n- For verification time, you can use an [ArgumentCaptor](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentCaptor.html).\r\n\r\n  ```java\r\n  ArgumentCaptor&lt;User&gt; userCaptor = ArgumentCaptor.forClass(User.class);\r\n  verify(yourMock).yourMethod(userCaptor.capture());\r\n  User user = userCaptor.getValue();\r\n  /* your asserts here */\r\n  ```\r\n\r\n- You can enable [Strictness](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#strict_mockito), which causes Mockito to fail on an unstubbed method call. This is more idiomatic than the older Mockito 1.x technique of using a throwing [default answer](https://www.javadoc.io/static/org.mockito/mockito-core/5.2.0/org/mockito/Mockito.html#mock(org.mockito.stubbing.Answer,T...)).\r\n\r\nA few notes:\r\n\r\n- You might benefit from giving your User a reasonable `toString` representation for debugging. There are [helper libraries](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/MoreObjects.html) for this. [ArgumentMatcher](https://www.javadoc.io/static/org.mockito/mockito-core/5.2.0/org/mockito/ArgumentMatcher.html) also documents that it uses its `toString` method when printing verifications and failed matches.\r\n- Depending on how carefully you match your methods, you might still run into the stubbing problem described at the top. Switching to `doVerb` methods like `doReturn` or `doAnswer` help, as the call to `doVerb` precedes the call to your mock so Mockito can deactivate stubbed behavior.\r\n- Though _Hamcrest_ matchers offers an appealing-looking [`describeMismatch`](https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matcher.html#describeMismatch(java.lang.Object,%20org.hamcrest.Description)), this typically has not been valuable in Mockito because Mockito&#39;s invocation matching algorithm makes it more difficult to reason about when a call is _missing_ versus when a call is _mismatched_. It might still be a good solution for you, but you&#39;d have to invoke the Matcher manually using one of the above techniques rather than just calling [MockitoHamcrest.argThat](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/hamcrest/MockitoHamcrest.html#argThat(org.hamcrest.Matcher)).","title":"Is it OK / good practice to put assertions inside Mockito.argThat?","body":"<p>No, it is <em>explicitly</em> marked as a bad practice in the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatcher.html#matches(T)\" rel=\"nofollow noreferrer\"><code>ArgumentMatcher.matches</code> documentation</a>, emphasis in the original:</p>\n<blockquote>\n<p>The method should <strong>never</strong> assert if the argument doesn't match. It should only return false.</p>\n</blockquote>\n<p>This is important for a couple of reasons: First, if there are multiple calls to the method, one call may fail while another passes. By throwing in the argument matcher, Mockito will fail before it gets a chance to match other stubs. Also, Mockito trusts that it can call this function without side effects in methods like <code>when</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(yourMock.yourMethod(anyInt(), argThat(new ThrowingMatcher()))).thenReturn(...);\n// this next line will fail at stubbing time because of the previous line\nwhen(yourMock.yourMethod(eq(6), argThat(new ThrowingMatcher()))).thenReturn(...);\n</code></pre>\n<p>In the second stub above, Mockito will call <code>yourMock.yourMethod</code> before calling <code>when</code>, so Mockito will try to <a href=\"https://stackoverflow.com/q/22822512/1426891\">match a call</a> to <code>yourMethod(0, null)</code>. This will trigger your matcher, which will throw an exception due to the mismatch, preventing you from stubbing further. This mismatch is only an example: if you throw from within an ArgumentMatcher and violate the interface contract, Mockito isn't guaranteed to work.</p>\n<p>If you want Mockito to fail faster or more clearly, you do have a few options:</p>\n<ul>\n<li><p>For stubbing time, you can use <code>thenAnswer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(yourMock.yourMethod(/* user= */ any())).thenAnswer(invocation -&gt; {\n  User user = invocation.getArgument(0);\n  /* your asserts here */\n  return yourReturnValue;\n});\n</code></pre>\n</li>\n<li><p>For verification time, you can use an <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">ArgumentCaptor</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArgumentCaptor&lt;User&gt; userCaptor = ArgumentCaptor.forClass(User.class);\nverify(yourMock).yourMethod(userCaptor.capture());\nUser user = userCaptor.getValue();\n/* your asserts here */\n</code></pre>\n</li>\n<li><p>You can enable <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#strict_mockito\" rel=\"nofollow noreferrer\">Strictness</a>, which causes Mockito to fail on an unstubbed method call. This is more idiomatic than the older Mockito 1.x technique of using a throwing <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/5.2.0/org/mockito/Mockito.html#mock(org.mockito.stubbing.Answer,T...)\" rel=\"nofollow noreferrer\">default answer</a>.</p>\n</li>\n</ul>\n<p>A few notes:</p>\n<ul>\n<li>You might benefit from giving your User a reasonable <code>toString</code> representation for debugging. There are <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/MoreObjects.html\" rel=\"nofollow noreferrer\">helper libraries</a> for this. <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/5.2.0/org/mockito/ArgumentMatcher.html\" rel=\"nofollow noreferrer\">ArgumentMatcher</a> also documents that it uses its <code>toString</code> method when printing verifications and failed matches.</li>\n<li>Depending on how carefully you match your methods, you might still run into the stubbing problem described at the top. Switching to <code>doVerb</code> methods like <code>doReturn</code> or <code>doAnswer</code> help, as the call to <code>doVerb</code> precedes the call to your mock so Mockito can deactivate stubbed behavior.</li>\n<li>Though <em>Hamcrest</em> matchers offers an appealing-looking <a href=\"https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matcher.html#describeMismatch(java.lang.Object,%20org.hamcrest.Description)\" rel=\"nofollow noreferrer\"><code>describeMismatch</code></a>, this typically has not been valuable in Mockito because Mockito's invocation matching algorithm makes it more difficult to reason about when a call is <em>missing</em> versus when a call is <em>mismatched</em>. It might still be a good solution for you, but you'd have to invoke the Matcher manually using one of the above techniques rather than just calling <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/hamcrest/MockitoHamcrest.html#argThat(org.hamcrest.Matcher)\" rel=\"nofollow noreferrer\">MockitoHamcrest.argThat</a>.</li>\n</ul>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75858327,"answer_count":1,"score":0,"last_activity_date":1679935623,"creation_date":1679929510,"question_id":75857357,"body_markdown":"Let&#39;s say you have a JUnit test with Mockito and you have an argThat matcher:\r\n\r\n```\r\nMockito.argThat(obj -&gt; {\r\n  return &quot;ok&quot;.equals(obj.getStuff()) ||\r\n         &quot;ok2&quot;.equals(obj.getStuff2()) ||\r\n         &quot;ok3&quot;.equals(obj.getStuff3()) ||\r\n         &quot;ok4&quot;.equals(obj.getStuff4());\r\n});\r\n```\r\n\r\nBut now when you run the test and it fails, it generically fails and it&#39;s hard to figure out what condition fails and you need to use debugger.\r\n\r\nIf I do this:\r\n\r\n```\r\nMockito.argThat(processedNuMessage -&gt; {\r\n  Assert.assertEquals(&quot;ok&quot;, obj.getStuff());\r\n  Assert.assertEquals(&quot;ok2&quot;, obj.getStuff2());\r\n  Assert.assertEquals(&quot;ok3&quot;, obj.getStuff3());\r\n  Assert.assertEquals(&quot;ok4&quot;, obj.getStuff4());\r\n  return true;\r\n});\r\n```\r\n\r\nNow I get much easier assertions to use. But if feels kinda wonky.\r\n\r\nIs there a better way to do this? ","title":"Is it OK / good practice to put assertions inside Mockito.argThat?","body":"<p>Let's say you have a JUnit test with Mockito and you have an argThat matcher:</p>\n<pre><code>Mockito.argThat(obj -&gt; {\n  return &quot;ok&quot;.equals(obj.getStuff()) ||\n         &quot;ok2&quot;.equals(obj.getStuff2()) ||\n         &quot;ok3&quot;.equals(obj.getStuff3()) ||\n         &quot;ok4&quot;.equals(obj.getStuff4());\n});\n</code></pre>\n<p>But now when you run the test and it fails, it generically fails and it's hard to figure out what condition fails and you need to use debugger.</p>\n<p>If I do this:</p>\n<pre><code>Mockito.argThat(processedNuMessage -&gt; {\n  Assert.assertEquals(&quot;ok&quot;, obj.getStuff());\n  Assert.assertEquals(&quot;ok2&quot;, obj.getStuff2());\n  Assert.assertEquals(&quot;ok3&quot;, obj.getStuff3());\n  Assert.assertEquals(&quot;ok4&quot;, obj.getStuff4());\n  return true;\n});\n</code></pre>\n<p>Now I get much easier assertions to use. But if feels kinda wonky.</p>\n<p>Is there a better way to do this?</p>\n"},{"tags":["java","google-chrome","selenium-chromedriver","qaf","perfecto"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679767944,"post_id":75843589,"comment_id":133781331,"body_markdown":"did you updated the chromedriver too? because some new chrome versions require new chromedriver version to work","body":"did you updated the chromedriver too? because some new chrome versions require new chromedriver version to work"},{"owner":{"account_id":11530043,"reputation":31,"user_id":8449224,"display_name":"Nantha"},"score":0,"creation_date":1679794455,"post_id":75843589,"comment_id":133784324,"body_markdown":"Yes, The recommended latest chrome driver version **&quot;ChromeDriver 111.0.5563.64&quot;**  only I&#39;m using from https://chromedriver.chromium.org/downloads .  My Current Local chrome browser was upgraded to **&quot;111.0.5563.111&quot;**","body":"Yes, The recommended latest chrome driver version <b>&quot;ChromeDriver 111.0.5563.64&quot;</b>  only I&#39;m using from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">chromedriver.chromium.org/downloads</a> .  My Current Local chrome browser was upgraded to <b>&quot;111.0.5563.111&quot;</b>"}],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679935608,"creation_date":1679935608,"answer_id":75858321,"question_id":75843589,"body_markdown":"Related to your question How to add &quot;--remote-allow-origins=*&quot; to `chrome.additional.capabilities` you can try following:\r\n\r\n```\r\n{&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;:{&quot;args&quot;:[&quot;--remote-allow-origins=*&quot;]}}\r\n```\r\n\r\nTo generate json for any capability/options object, you can use following snippet.  \r\n\r\n    public static void main(String[] args) {\r\n\t\t\tChromeOptions chromeOptions = new ChromeOptions();\r\n            //set required options\r\n\t\t\tchromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\t\t//print it and use it as capabilities\r\n\t\t\tSystem.out.println(JSONUtil.toString(chromeOptions.asMap()));\r\n    }","title":"QAF Getting &quot;Invalid Status code=403 text=Forbidden&quot; error on launching the chrome driver after latest chrome upgrade","body":"<p>Related to your question How to add &quot;--remote-allow-origins=*&quot; to <code>chrome.additional.capabilities</code> you can try following:</p>\n<pre><code>{&quot;browserName&quot;:&quot;chrome&quot;,&quot;goog:chromeOptions&quot;:{&quot;args&quot;:[&quot;--remote-allow-origins=*&quot;]}}\n</code></pre>\n<p>To generate json for any capability/options object, you can use following snippet.</p>\n<pre><code>public static void main(String[] args) {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        //set required options\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        //print it and use it as capabilities\n        System.out.println(JSONUtil.toString(chromeOptions.asMap()));\n}\n</code></pre>\n"}],"owner":{"account_id":11530043,"reputation":31,"user_id":8449224,"display_name":"Nantha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679935608,"creation_date":1679767272,"question_id":75843589,"body_markdown":"QAF Getting &quot;Invalid Status code=403 text=Forbidden&quot; error on launching the chrome driver after latest chrome upgrade\r\n\r\nLot of them asked to provide &quot;--remote-allow-origins=*&quot; as chrome option arguments.\r\n\r\nCan some one suggest how to resolve this issue in QAF Quantum Web App automation.\r\nor How to add **&quot;--remote-allow-origins=*&quot;**  to **chrome.additional.capabilities** in **application.properies** file\r\n\r\nLocal machine-windows 10.\r\n\r\n**Error Message:**\r\n\r\n    java.io.IOException: Invalid Status code=403 text=Forbidden**\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n    \tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n    \tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:280)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"QAF Getting &quot;Invalid Status code=403 text=Forbidden&quot; error on launching the chrome driver after latest chrome upgrade","body":"<p>QAF Getting &quot;Invalid Status code=403 text=Forbidden&quot; error on launching the chrome driver after latest chrome upgrade</p>\n<p>Lot of them asked to provide &quot;--remote-allow-origins=*&quot; as chrome option arguments.</p>\n<p>Can some one suggest how to resolve this issue in QAF Quantum Web App automation.\nor How to add <strong>&quot;--remote-allow-origins=*&quot;</strong>  to <strong>chrome.additional.capabilities</strong> in <strong>application.properies</strong> file</p>\n<p>Local machine-windows 10.</p>\n<p><strong>Error Message:</strong></p>\n<pre><code>java.io.IOException: Invalid Status code=403 text=Forbidden**\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:280)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","webrtc","rtp","dtls","srtp"],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679935328,"creation_date":1679935328,"question_id":75858280,"body_markdown":"Is it possible to get the master key (secret) after the `SSEngine` has complete the handshake? I use the `TLS` handshake of a `DTLS` connection to get the keys for an `SRTP` data.\r\n","title":"How to get master secret from an SSLEngine after handshake?","body":"<p>Is it possible to get the master key (secret) after the <code>SSEngine</code> has complete the handshake? I use the <code>TLS</code> handshake of a <code>DTLS</code> connection to get the keys for an <code>SRTP</code> data.</p>\n"},{"tags":["java","sqlite","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679896587,"post_id":75850617,"comment_id":133796491,"body_markdown":"With that method signature, you may have to pass an instance of `IdentifierResult` as the last argument when calling the method. MyBatis, then, assigns the generated key to the `id` field of the instance (assuming that `IdentifierResult` is a POJO-ish mutable object).","body":"With that method signature, you may have to pass an instance of <code>IdentifierResult</code> as the last argument when calling the method. MyBatis, then, assigns the generated key to the <code>id</code> field of the instance (assuming that <code>IdentifierResult</code> is a POJO-ish mutable object)."},{"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"score":0,"creation_date":1679924287,"post_id":75850617,"comment_id":133803102,"body_markdown":"This is Java, so if I wasn&#39;t passing an appropriate object there then it wouldn&#39;t compile. However, the id field cannot be properly populated because the id field in the table itself is null.","body":"This is Java, so if I wasn&#39;t passing an appropriate object there then it wouldn&#39;t compile. However, the id field cannot be properly populated because the id field in the table itself is null."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679931952,"post_id":75850617,"comment_id":133805533,"body_markdown":"What I meant was that you cannot pass `null` as the last argument. I&#39;m not familiar with SQLite very much, but it seems to work fine. Try this portable [demo](https://github.com/harawata/mybatis-issues/tree/master/so-75850617).","body":"What I meant was that you cannot pass <code>null</code> as the last argument. I&#39;m not familiar with SQLite very much, but it seems to work fine. Try this portable <a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-75850617\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"score":0,"creation_date":1679933037,"post_id":75850617,"comment_id":133805881,"body_markdown":"My initial reaction was &#39;well of COURSE you can&#39;t pass null&#39; but if you&#39;re accounting for it I&#39;m sure you&#39;ve probably seen someone do it &#128549; Finally figured this one out, it was a SQL problem after all. Will write it up when I get a sec.","body":"My initial reaction was &#39;well of COURSE you can&#39;t pass null&#39; but if you&#39;re accounting for it I&#39;m sure you&#39;ve probably seen someone do it 😥 Finally figured this one out, it was a SQL problem after all. Will write it up when I get a sec."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679942501,"post_id":75850617,"comment_id":133808257,"body_markdown":"People surprise me every once in a while &#128513; Anyway, I&#39;m glad to know that you found the cause. &#127881;","body":"People surprise me every once in a while 😁 Anyway, I&#39;m glad to know that you found the cause. 🎉"}],"answers":[{"tags":[],"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679935282,"creation_date":1679935282,"answer_id":75858272,"question_id":75850617,"body_markdown":"Turns out this had nothing to do with MyBatis or my code at all and was just a compounding of a couple smaller mistakes:\r\n\r\n1. My project was loading a sqlite db file with improperly initialized tables, causing my various attempts at changing the create statements to be basically ignored.\r\n2. A single file containing all my create statements was [only executing the first statement](https://stackoverflow.com/questions/2928184/only-first-table-in-create-table-statement-being-created).\r\n\r\nI deleted the bad resource and split my creates out into individual files and, except for the places where my frantic testing lead me to mess up my DAO mappers, things are running smoothly. &#128077;","title":"SQLite + MyBatis inserting null value for autoincrement primary key","body":"<p>Turns out this had nothing to do with MyBatis or my code at all and was just a compounding of a couple smaller mistakes:</p>\n<ol>\n<li>My project was loading a sqlite db file with improperly initialized tables, causing my various attempts at changing the create statements to be basically ignored.</li>\n<li>A single file containing all my create statements was <a href=\"https://stackoverflow.com/questions/2928184/only-first-table-in-create-table-statement-being-created\">only executing the first statement</a>.</li>\n</ol>\n<p>I deleted the bad resource and split my creates out into individual files and, except for the places where my frantic testing lead me to mess up my DAO mappers, things are running smoothly. 👍</p>\n"}],"owner":{"account_id":257096,"reputation":75,"user_id":538283,"accept_rate":75,"display_name":"Catie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679935282,"creation_date":1679865481,"question_id":75850617,"body_markdown":"I am attempting to use a single MyBatis implementation in my Java/Gradle project to read/write from either a live MySQL instance or a static SQLite instance (currently using a file for debugging purposes, but hopefully in memory long term). Everything is working fine with MySQL, but for some reason when I use SQLite the integer primary key (which should be mirroring rowID afaik) is being written as null. At first I thought maybe this was how the rowID alias was implemented, but once a record is inserted it cannot be fetched using its rowID in the id field.\r\n\r\nCreate statement for the SQLite table:\r\n```\r\nDROP TABLE `event`;\r\nCREATE TABLE `event` (\r\n    `id` INTEGER PRIMARY KEY,\r\n    `time` DATETIME NOT NULL,\r\n    `duration` INT NOT NULL,\r\n    `summary_id` INT NOT NULL\r\n);\r\n```\r\n\r\nMyBatis mapper for get and insert:\r\n```\r\n@Select(&quot;SELECT * FROM event WHERE id=#{id}&quot;)\r\nEvent get(final int id);\r\n\r\n@Insert({&quot;INSERT INTO&quot;,\r\n    &quot;event(time, duration, summary_id)&quot;,\r\n    &quot;VALUES(#{e.time}, #{e.duration}, #{summaryId})&quot;})\r\n@Options(useGeneratedKeys=true, keyProperty = &quot;result.id&quot;)\r\nvoid insert(@Param(&quot;e&quot;) final Event item, @Param(&quot;summaryId&quot;) final int summaryId, @Param(&quot;result&quot;) final IdentifierResult result);\r\n\r\n```\r\n```IdentifierResult``` is a simple wrapper around an ```int``` that captures the id of the record created.\r\n\r\nI have tried creating the id with every valid combination of ```INTEGER```, ```NOT NULL```, and ```PRIMARY KEY``` with and without ```AUTOINCREMENT```, all with the same result. I have also tried writing a single dummy row immediately after creating the table with its id explicitly set to 1, but subsequent entries were still written with a null id.\r\n\r\nAny guidance would be greatly appreciated!","title":"SQLite + MyBatis inserting null value for autoincrement primary key","body":"<p>I am attempting to use a single MyBatis implementation in my Java/Gradle project to read/write from either a live MySQL instance or a static SQLite instance (currently using a file for debugging purposes, but hopefully in memory long term). Everything is working fine with MySQL, but for some reason when I use SQLite the integer primary key (which should be mirroring rowID afaik) is being written as null. At first I thought maybe this was how the rowID alias was implemented, but once a record is inserted it cannot be fetched using its rowID in the id field.</p>\n<p>Create statement for the SQLite table:</p>\n<pre><code>DROP TABLE `event`;\nCREATE TABLE `event` (\n    `id` INTEGER PRIMARY KEY,\n    `time` DATETIME NOT NULL,\n    `duration` INT NOT NULL,\n    `summary_id` INT NOT NULL\n);\n</code></pre>\n<p>MyBatis mapper for get and insert:</p>\n<pre><code>@Select(&quot;SELECT * FROM event WHERE id=#{id}&quot;)\nEvent get(final int id);\n\n@Insert({&quot;INSERT INTO&quot;,\n    &quot;event(time, duration, summary_id)&quot;,\n    &quot;VALUES(#{e.time}, #{e.duration}, #{summaryId})&quot;})\n@Options(useGeneratedKeys=true, keyProperty = &quot;result.id&quot;)\nvoid insert(@Param(&quot;e&quot;) final Event item, @Param(&quot;summaryId&quot;) final int summaryId, @Param(&quot;result&quot;) final IdentifierResult result);\n\n</code></pre>\n<p><code>IdentifierResult</code> is a simple wrapper around an <code>int</code> that captures the id of the record created.</p>\n<p>I have tried creating the id with every valid combination of <code>INTEGER</code>, <code>NOT NULL</code>, and <code>PRIMARY KEY</code> with and without <code>AUTOINCREMENT</code>, all with the same result. I have also tried writing a single dummy row immediately after creating the table with its id explicitly set to 1, but subsequent entries were still written with a null id.</p>\n<p>Any guidance would be greatly appreciated!</p>\n"},{"tags":["java","maven","google-app-engine","gwt"],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679934561,"creation_date":1679934561,"question_id":75858164,"body_markdown":"I&#39;m trying to run `mvn appengine:devserver` on this project https://github.com/ArcBees/gae-studio\r\n\r\nI managed to get it to build (`mvn clean install -P demo`): \r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for GAE Studio 1.1-SNAPSHOT:\r\n[INFO]\r\n[INFO] GAE Studio ......................................... SUCCESS [  2.824 s]\r\n[INFO] GAE-Studio Server .................................. SUCCESS [ 26.695 s]\r\n[INFO] GAE-Studio client .................................. SUCCESS [ 26.210 s]\r\n[INFO] gae-studio-webapp .................................. SUCCESS [04:46 min]\r\n[INFO] gae-studio-companion ............................... SUCCESS [ 24.651 s]\r\n[INFO] gae-studio-companion-ear ........................... SUCCESS [ 45.768 s]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  06:52 min\r\n[INFO] Finished at: 2023-03-27T23:46:18+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nHowever running:\r\n\r\n` gae-studio  mvn appengine:devserver -pl gae-studio-webapp -P demo\r\n`\r\n\r\nThrows:\r\n\r\n```\r\nINFO] --- gwt-maven-plugin:2.7.0:compile (default) @ gae-studio-webapp ---\r\n[INFO] Loading inherited module &#39;com.arcbees.gaestudio.Production&#39;\r\n[INFO]    Loading inherited module &#39;com.arcbees.gaestudio.Common&#39;\r\n[INFO]       Loading inherited module &#39;com.google.gwt.inject.Inject&#39;\r\n[INFO]          Loading inherited module &#39;com.google.gwt.user.User&#39;\r\n[INFO]             Loading inherited module &#39;com.google.gwt.media.Media&#39;\r\n[INFO]                Loading inherited module &#39;com.google.gwt.user.UI&#39;\r\n[INFO]                   Loading inherited module &#39;com.google.gwt.resources.Resources&#39;\r\n[INFO]                      [WARN] Ignoring identical definition of the configuration property named CssResource.allowedFunctions (originally defined in com.arcbees.gaestudio.Common, redefined in com.google.gwt.resources.Resources)\r\n[INFO]       Loading inherited module &#39;com.google.gwt.appengine.channel.Channel&#39;\r\n[INFO]          [ERROR] Unable to find &#39;com/google/gwt/appengine/channel/Channel.gwt.xml&#39; on your classpath; could be a typo, or maybe you forgot to include a classpath entry for source?\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nThough the GWT compiles on the `install` and the jar in the dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.gwt.appengine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;channel&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/gwt-gae-channel-2.0.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIs [in the directory][1]. What could be wrong with the maven build? \r\n\r\n\r\n  [1]: https://github.com/ArcBees/gae-studio/tree/master/gae-studio/gae-studio-client/lib","title":"Maven build failure with missing dependency on gwt+appengine channel library","body":"<p>I'm trying to run <code>mvn appengine:devserver</code> on this project <a href=\"https://github.com/ArcBees/gae-studio\" rel=\"nofollow noreferrer\">https://github.com/ArcBees/gae-studio</a></p>\n<p>I managed to get it to build (<code>mvn clean install -P demo</code>):</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for GAE Studio 1.1-SNAPSHOT:\n[INFO]\n[INFO] GAE Studio ......................................... SUCCESS [  2.824 s]\n[INFO] GAE-Studio Server .................................. SUCCESS [ 26.695 s]\n[INFO] GAE-Studio client .................................. SUCCESS [ 26.210 s]\n[INFO] gae-studio-webapp .................................. SUCCESS [04:46 min]\n[INFO] gae-studio-companion ............................... SUCCESS [ 24.651 s]\n[INFO] gae-studio-companion-ear ........................... SUCCESS [ 45.768 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  06:52 min\n[INFO] Finished at: 2023-03-27T23:46:18+08:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>However running:</p>\n<p><code>gae-studio  mvn appengine:devserver -pl gae-studio-webapp -P demo</code></p>\n<p>Throws:</p>\n<pre><code>INFO] --- gwt-maven-plugin:2.7.0:compile (default) @ gae-studio-webapp ---\n[INFO] Loading inherited module 'com.arcbees.gaestudio.Production'\n[INFO]    Loading inherited module 'com.arcbees.gaestudio.Common'\n[INFO]       Loading inherited module 'com.google.gwt.inject.Inject'\n[INFO]          Loading inherited module 'com.google.gwt.user.User'\n[INFO]             Loading inherited module 'com.google.gwt.media.Media'\n[INFO]                Loading inherited module 'com.google.gwt.user.UI'\n[INFO]                   Loading inherited module 'com.google.gwt.resources.Resources'\n[INFO]                      [WARN] Ignoring identical definition of the configuration property named CssResource.allowedFunctions (originally defined in com.arcbees.gaestudio.Common, redefined in com.google.gwt.resources.Resources)\n[INFO]       Loading inherited module 'com.google.gwt.appengine.channel.Channel'\n[INFO]          [ERROR] Unable to find 'com/google/gwt/appengine/channel/Channel.gwt.xml' on your classpath; could be a typo, or maybe you forgot to include a classpath entry for source?\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Though the GWT compiles on the <code>install</code> and the jar in the dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gwt.appengine&lt;/groupId&gt;\n            &lt;artifactId&gt;channel&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/gwt-gae-channel-2.0.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Is <a href=\"https://github.com/ArcBees/gae-studio/tree/master/gae-studio/gae-studio-client/lib\" rel=\"nofollow noreferrer\">in the directory</a>. What could be wrong with the maven build?</p>\n"},{"tags":["java","redis","jedis","redis-cluster"],"answers":[{"tags":[],"owner":{"account_id":6573416,"reputation":167,"user_id":5080497,"accept_rate":0,"display_name":"azhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556186455,"creation_date":1556186455,"answer_id":55846642,"question_id":55572470,"body_markdown":"I am facing the same issue, Keyspace notification is working intermittently (works 6 or 7 times out of 10). I read that one needs to subscribe to all of the master nodes in order to get the notifications. If it helps I have pasted my config file below :\r\n\r\n    KeySpaceNotificationMessageListener keySpaceNotificationMessageListener;\r\n    \r\n    \t@Value(&quot;${spring.redis.cluster.nodes}&quot;)\r\n    \tprivate String hostsAndPorts;\r\n    \r\n    \t@Bean\r\n    \tJedisConnectionFactory jedisConnectionFactory(RedisClusterConfiguration redisClusterConfiguration)\r\n    \t{\r\n    \t\treturn new JedisConnectionFactory(redisClusterConfiguration);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tMessageListenerAdapter messageListener() {\r\n    \t\treturn new MessageListenerAdapter(keySpaceNotificationMessageListener);\r\n    \t}\r\n    \r\n    \r\n    \t@Bean(name = &quot;cacheManager1&quot;)\r\n    \t@Primary\r\n    \tpublic RedisCacheManager redisCacheManager1()\r\n    \t{\r\n    \t\tRedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n    \t\t\t\t.disableCachingNullValues()\r\n    \t\t\t\t.entryTtl(Duration.ofMinutes(1))\r\n    \t\t\t\t.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n    \r\n    \t\tredisCacheConfiguration.usePrefix();\r\n    \r\n    \t\treturn RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\r\n    \t\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;cacheManager2&quot;)\r\n    \tpublic RedisCacheManager redisCacheManager2( JedisConnectionFactory jedisConnectionFactory)\r\n    \t{\r\n    \t\tRedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n    \t\t\t\t.disableCachingNullValues()\r\n    \t\t\t\t.entryTtl(Duration.ofDays(1))\r\n    \t\t\t\t.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\r\n    \r\n    \t\tredisCacheConfiguration.usePrefix();\r\n    \r\n    \t\treturn RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\r\n    \t\t\t\t.cacheDefaults(redisCacheConfiguration).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedisClusterConfiguration redisClusterConfiguration()\r\n    \t{\r\n    \t\tString [] redisHostAndPorts = hostsAndPorts.split(&quot;,&quot;);\r\n    \r\n    \t\tSystem.out.println(Arrays.toString(redisHostAndPorts));\r\n    \t\tRedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration(Arrays.asList(redisHostAndPorts));\r\n    \t\treturn redisClusterConfiguration;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRedisMessageListenerContainer redisContainer() {\r\n    \t\tfinal RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n    \t\tcontainer.setConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()));\r\n    \t\tcontainer.addMessageListener(messageListener(), new PatternTopic(&quot;__keyspace@*:*&quot;));\r\n    \t\tcontainer.setTaskExecutor(Executors.newFixedThreadPool(4));\r\n    \t\treturn container;\r\n    \t}\r\n    \r\n    \tpublic void setKeySpaceNotificationMessageListener(KeySpaceNotificationMessageListener keySpaceNotificationMessageListener)\r\n    \t{\r\n    \t\tthis.keySpaceNotificationMessageListener = keySpaceNotificationMessageListener;\r\n    \t}","title":"How to listen for keyspace notifications of redis cluster in java using jedis client?","body":"<p>I am facing the same issue, Keyspace notification is working intermittently (works 6 or 7 times out of 10). I read that one needs to subscribe to all of the master nodes in order to get the notifications. If it helps I have pasted my config file below :</p>\n\n<pre><code>KeySpaceNotificationMessageListener keySpaceNotificationMessageListener;\n\n    @Value(\"${spring.redis.cluster.nodes}\")\n    private String hostsAndPorts;\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory(RedisClusterConfiguration redisClusterConfiguration)\n    {\n        return new JedisConnectionFactory(redisClusterConfiguration);\n    }\n\n    @Bean\n    MessageListenerAdapter messageListener() {\n        return new MessageListenerAdapter(keySpaceNotificationMessageListener);\n    }\n\n\n    @Bean(name = \"cacheManager1\")\n    @Primary\n    public RedisCacheManager redisCacheManager1()\n    {\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .entryTtl(Duration.ofMinutes(1))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n        redisCacheConfiguration.usePrefix();\n\n        return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\n                .cacheDefaults(redisCacheConfiguration).build();\n\n    }\n\n    @Bean(name = \"cacheManager2\")\n    public RedisCacheManager redisCacheManager2( JedisConnectionFactory jedisConnectionFactory)\n    {\n        RedisCacheConfiguration redisCacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .entryTtl(Duration.ofDays(1))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(RedisSerializer.json()));\n\n        redisCacheConfiguration.usePrefix();\n\n        return RedisCacheManager.RedisCacheManagerBuilder.fromConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()))\n                .cacheDefaults(redisCacheConfiguration).build();\n\n    }\n\n    @Bean\n    public RedisClusterConfiguration redisClusterConfiguration()\n    {\n        String [] redisHostAndPorts = hostsAndPorts.split(\",\");\n\n        System.out.println(Arrays.toString(redisHostAndPorts));\n        RedisClusterConfiguration redisClusterConfiguration = new RedisClusterConfiguration(Arrays.asList(redisHostAndPorts));\n        return redisClusterConfiguration;\n    }\n\n    @Bean\n    RedisMessageListenerContainer redisContainer() {\n        final RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n        container.setConnectionFactory(jedisConnectionFactory(redisClusterConfiguration()));\n        container.addMessageListener(messageListener(), new PatternTopic(\"__keyspace@*:*\"));\n        container.setTaskExecutor(Executors.newFixedThreadPool(4));\n        return container;\n    }\n\n    public void setKeySpaceNotificationMessageListener(KeySpaceNotificationMessageListener keySpaceNotificationMessageListener)\n    {\n        this.keySpaceNotificationMessageListener = keySpaceNotificationMessageListener;\n    }\n</code></pre>\n"}],"owner":{"account_id":14291972,"reputation":203,"user_id":10323637,"display_name":"Imtiaz Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55846642,"answer_count":1,"score":2,"last_activity_date":1679934344,"creation_date":1554723106,"question_id":55572470,"body_markdown":"I am setting a server which can listen and send message about any event occur in the redis database. I am successful in getting notified about new events for redis host and port but not able to do so for redis cluster.\r\n\r\n```java\r\nGenericObjectPoolConfig config = new GenericObjectPoolConfig();\r\nconfig.setMaxTotal(30);\r\nconfig.setMaxWaitMillis(2000);\r\n\r\nSet&lt;HostAndPort&gt; jedisClusterNode = new HashSet&lt;HostAndPort&gt;();\r\njedisClusterNode.add(new HostAndPort(&quot;127.0.0.1&quot;, 7001));\r\n\r\nJedisCluster cluster1 = new JedisCluster(jedisClusterNode, config);\r\n\r\nString redisProperties = cluster1.getClusterNodes().toString().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\nSet&lt;HostAndPort&gt; nodes = new HashSet&lt;&gt;();\r\nString[] mainArray = redisProperties.split(&quot;,&quot;);\r\nfor (int i = 0; i &lt; mainArray.length; i++) {\r\n    String[] equalArray = mainArray[i].split(&quot;=&quot;);\r\n    String mainData = equalArray[0];\r\n    String[] ipPortPair = mainData.split(&quot;:&quot;);\r\n    nodes.add(new HostAndPort(ipPortPair[0].trim(), Integer.valueOf(ipPortPair[1].trim())));\r\n}\r\n\r\nJedisCluster cluster = new JedisCluster(nodes, 10000, 1000, 1, config);\r\njedis.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\r\njedis.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\r\n```\r\n\r\nI am able to perform every other operation in using the redis-cluster but not able to do one thing. \r\n\r\n```java\r\ncluster.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\r\ncluster.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\r\n```\r\n","title":"How to listen for keyspace notifications of redis cluster in java using jedis client?","body":"<p>I am setting a server which can listen and send message about any event occur in the redis database. I am successful in getting notified about new events for redis host and port but not able to do so for redis cluster.</p>\n<pre class=\"lang-java prettyprint-override\"><code>GenericObjectPoolConfig config = new GenericObjectPoolConfig();\nconfig.setMaxTotal(30);\nconfig.setMaxWaitMillis(2000);\n\nSet&lt;HostAndPort&gt; jedisClusterNode = new HashSet&lt;HostAndPort&gt;();\njedisClusterNode.add(new HostAndPort(&quot;127.0.0.1&quot;, 7001));\n\nJedisCluster cluster1 = new JedisCluster(jedisClusterNode, config);\n\nString redisProperties = cluster1.getClusterNodes().toString().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\nSet&lt;HostAndPort&gt; nodes = new HashSet&lt;&gt;();\nString[] mainArray = redisProperties.split(&quot;,&quot;);\nfor (int i = 0; i &lt; mainArray.length; i++) {\n    String[] equalArray = mainArray[i].split(&quot;=&quot;);\n    String mainData = equalArray[0];\n    String[] ipPortPair = mainData.split(&quot;:&quot;);\n    nodes.add(new HostAndPort(ipPortPair[0].trim(), Integer.valueOf(ipPortPair[1].trim())));\n}\n\nJedisCluster cluster = new JedisCluster(nodes, 10000, 1000, 1, config);\njedis.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\njedis.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\n</code></pre>\n<p>I am able to perform every other operation in using the redis-cluster but not able to do one thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>cluster.configSet(&quot;notify-keyspace-events&quot;, &quot;AKE&quot;); // For all kind of events\ncluster.psubscribe(new KeyListenerCluster(), &quot;__keyevent@0__:*&quot;);\n</code></pre>\n"},{"tags":["java","date","simpledateformat"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1679912195,"post_id":75854457,"comment_id":133799821,"body_markdown":"FYI, those classes have been outdated for arguably more than 10 years. Use `java.time`","body":"FYI, those classes have been outdated for arguably more than 10 years. Use <code>java.time</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1679914630,"post_id":75854457,"comment_id":133800430,"body_markdown":"By the way, regarding `sdf.parse(sdf.format(actualStep.getPlannedDate()))`, first letting `SimpleDateFormat` format a `Date` and then parse its result, is pretty cumbersome.","body":"By the way, regarding <code>sdf.parse(sdf.format(actualStep.getPlannedDate()))</code>, first letting <code>SimpleDateFormat</code> format a <code>Date</code> and then parse its result, is pretty cumbersome."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679937297,"post_id":75854457,"comment_id":133807014,"body_markdown":"I strongly recommend that you don’t use `SimpleDateFormat`, `Calendar` and `Date`. Those classes were poorly designed, the first in particular notoriously troublesome, and all are long outdated. Use `LocalDate` and `ChronoUnit.DAYS`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"I strongly recommend that you don’t use <code>SimpleDateFormat</code>, <code>Calendar</code> and <code>Date</code>. Those classes were poorly designed, the first in particular notoriously troublesome, and all are long outdated. Use <code>LocalDate</code> and <code>ChronoUnit.DAYS</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679937647,"post_id":75854457,"comment_id":133807090,"body_markdown":"`TimeUnit` falsely assumes that a day is always 24 hours. You may have observed that summer time (DST) went into effect in great parts of Europe yesterday, Sunday 26 March (also observable from the different time zone abbreviations `CET` and `CEST` in your output). So that day was only 23 hours. So when measuring 7 days across that day you don’t get milliseconds enough for 7 * 24 hours, and `TimeUnit` truncates to 6 days instead of 7. When you add `1L`, you get 7 instead of the 8 you would normally get from the same operation.","body":"<code>TimeUnit</code> falsely assumes that a day is always 24 hours. You may have observed that summer time (DST) went into effect in great parts of Europe yesterday, Sunday 26 March (also observable from the different time zone abbreviations <code>CET</code> and <code>CEST</code> in your output). So that day was only 23 hours. So when measuring 7 days across that day you don’t get milliseconds enough for 7 * 24 hours, and <code>TimeUnit</code> truncates to 6 days instead of 7. When you add <code>1L</code>, you get 7 instead of the 8 you would normally get from the same operation."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679973228,"post_id":75854457,"comment_id":133813012,"body_markdown":"Today, March 28, I ran this code in Europe/Copenhagen time zone (one of the zones that had the spring forward this Sunday): `ChronoUnit.DAYS.between(LocalDate.parse(&quot;2023-03-21&quot;), LocalDate.now(ZoneId.systemDefault()))`. I got the correct count; `7`. Because `LocalDate` is independent of time zone and thus cannot be affected by summer time and such time anomalies.","body":"Today, March 28, I ran this code in Europe/Copenhagen time zone (one of the zones that had the spring forward this Sunday): <code>ChronoUnit.DAYS.between(LocalDate.parse(&quot;2023-03-21&quot;), LocalDate.now(ZoneId.systemDefault()))</code>. I got the correct count; <code>7</code>. Because <code>LocalDate</code> is independent of time zone and thus cannot be affected by summer time and such time anomalies."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679913253,"creation_date":1679913253,"answer_id":75854707,"question_id":75854457,"body_markdown":"I think your problem is in &quot;+day&quot; in line:\r\n\r\n    todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\r\nTry to change it to just &quot;day&quot;. I suppose &#39;+&#39; may have worked as &quot;++&quot; incrementing your day from 7 to 8 before you added it to current day. \r\n&lt;br&gt;\r\nHowever, note that classes `Date` and `SimpleDateFormat` are deprecated and **STRONGLY** not recommended to be ever used except when you are working with legacy code. Please see `java.time` package available since java 8. Your relevant classes for your case would be [DateTimeFormatter][1], [LocalDate][2] and [Duration][3]\r\n&lt;br&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","title":"Issue when comparing date with Java","body":"<p>I think your problem is in &quot;+day&quot; in line:</p>\n<pre><code>todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\n</code></pre>\n<p>Try to change it to just &quot;day&quot;. I suppose '+' may have worked as &quot;++&quot; incrementing your day from 7 to 8 before you added it to current day.\n<br>\nHowever, note that classes <code>Date</code> and <code>SimpleDateFormat</code> are deprecated and <strong>STRONGLY</strong> not recommended to be ever used except when you are working with legacy code. Please see <code>java.time</code> package available since java 8. Your relevant classes for your case would be <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">Duration</a>\n<br></p>\n"},{"tags":[],"owner":{"account_id":24404282,"reputation":236,"user_id":18332645,"display_name":"Istis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679913968,"creation_date":1679913968,"answer_id":75854810,"question_id":75854457,"body_markdown":"You add 8 days in your unit test. `day = 7`, but you add `+day`, thats mean `day+1`. Remove + from `todayCalendar.add(Calendar.DAY_OF_WEEK, +day);` and it should be ok","title":"Issue when comparing date with Java","body":"<p>You add 8 days in your unit test. <code>day = 7</code>, but you add <code>+day</code>, thats mean <code>day+1</code>. Remove + from <code>todayCalendar.add(Calendar.DAY_OF_WEEK, +day);</code> and it should be ok</p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679914005,"creation_date":1679914005,"answer_id":75854814,"question_id":75854457,"body_markdown":"It&#39;s the `+1L` in\r\n\r\n    long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\r\n\r\nThat makes 7 into 8. Actually not the current reading is the one you should look at, but the prior one you tried to fix: originally you had 6 because of the CET-CEST change. As clock jumped an hour, there&#39;re 6 days and 23 hours between 20th of March 00:00 CET and 27th of March 00:00 CEST, then the difference got rounded downwards, to 6 days.","title":"Issue when comparing date with Java","body":"<p>It's the <code>+1L</code> in</p>\n<pre><code>long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\n</code></pre>\n<p>That makes 7 into 8. Actually not the current reading is the one you should look at, but the prior one you tried to fix: originally you had 6 because of the CET-CEST change. As clock jumped an hour, there're 6 days and 23 hours between 20th of March 00:00 CET and 27th of March 00:00 CEST, then the difference got rounded downwards, to 6 days.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929500,"creation_date":1679929500,"answer_id":75857355,"question_id":75854457,"body_markdown":"Don’t use Strings for comparing numeric values.  Do not use SimpleDateFormat at all.\r\n\r\nCalendar by itself can do this:\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.add(Calendar.DATE, 7);\r\n    int nextWeekYear = calendar.get(Calendar.YEAR);\r\n    int nextWeekMonth = calendar.get(Calendar.MONTH);\r\n    int nextWeekDay = calendar.get(Calendar.DATE);\r\n\r\n    calendar.Time(actualStep.getPlannedDate());\r\n    int plannedYear = calendar.get(Calendar.YEAR);\r\n    int plannedMonth = calendar.get(Calendar.MONTH);\r\n    int plannedDay = calendar.get(Calendar.DATE);\r\n\r\n    if (plannedYear == nextWeekYear &amp;&amp;\r\n        plannedMonth == nextWeekMonth &amp;&amp;\r\n        plannedDay == nextWeekDay) {\r\n\r\n        // ....\r\n    }\r\n\r\nAs others have pointed out, you are *much* better off using java.time.LocalDate instead of the old Date class.  Date is Java’s equivalent of C’s `time_t` type, which is just a count of milliseconds since the start of 1970.  The problem with using it for calendar dates is that timezones greatly complicate it.  For instance, consider this code:\r\n\r\n    Date date = new Date();\r\n    System.out.println(date.getTime());\r\n    System.out.println(date);\r\n\r\nIf I run it on my computer late in the evening, I will see:\r\n\r\n    1679972400000\r\n    Mon Mar 27 23:00:00 EDT 2023\r\n\r\nBut if I run the same code in the UK, I will see:\r\n\r\n    1679972400000\r\n    Tue Mar 28 04:00:00 BST 2023\r\n\r\nThe exact same Date value can be interpreted as a different calendar date, depending on where it’s run.\r\n\r\nBut if you use LocalDate, which is not affected by timezones, all of those problems cease to be a concern:\r\n\r\n    public class Step {\r\n        private LocalDate plannedDate = LocalDate.now();\r\n\r\n        public LocalDate getPlannedDate() {\r\n            return this.plannedDate;\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n    if (actualStep.getPlannedDate().equals(LocalDate.now().plusDays(7)) {\r\n        // ...\r\n    }\r\n","title":"Issue when comparing date with Java","body":"<p>Don’t use Strings for comparing numeric values.  Do not use SimpleDateFormat at all.</p>\n<p>Calendar by itself can do this:</p>\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.add(Calendar.DATE, 7);\nint nextWeekYear = calendar.get(Calendar.YEAR);\nint nextWeekMonth = calendar.get(Calendar.MONTH);\nint nextWeekDay = calendar.get(Calendar.DATE);\n\ncalendar.Time(actualStep.getPlannedDate());\nint plannedYear = calendar.get(Calendar.YEAR);\nint plannedMonth = calendar.get(Calendar.MONTH);\nint plannedDay = calendar.get(Calendar.DATE);\n\nif (plannedYear == nextWeekYear &amp;&amp;\n    plannedMonth == nextWeekMonth &amp;&amp;\n    plannedDay == nextWeekDay) {\n\n    // ....\n}\n</code></pre>\n<p>As others have pointed out, you are <em>much</em> better off using java.time.LocalDate instead of the old Date class.  Date is Java’s equivalent of C’s <code>time_t</code> type, which is just a count of milliseconds since the start of 1970.  The problem with using it for calendar dates is that timezones greatly complicate it.  For instance, consider this code:</p>\n<pre><code>Date date = new Date();\nSystem.out.println(date.getTime());\nSystem.out.println(date);\n</code></pre>\n<p>If I run it on my computer late in the evening, I will see:</p>\n<pre><code>1679972400000\nMon Mar 27 23:00:00 EDT 2023\n</code></pre>\n<p>But if I run the same code in the UK, I will see:</p>\n<pre><code>1679972400000\nTue Mar 28 04:00:00 BST 2023\n</code></pre>\n<p>The exact same Date value can be interpreted as a different calendar date, depending on where it’s run.</p>\n<p>But if you use LocalDate, which is not affected by timezones, all of those problems cease to be a concern:</p>\n<pre><code>public class Step {\n    private LocalDate plannedDate = LocalDate.now();\n\n    public LocalDate getPlannedDate() {\n        return this.plannedDate;\n    }\n}\n\n// ...\n\nif (actualStep.getPlannedDate().equals(LocalDate.now().plusDays(7)) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679934328,"creation_date":1679933502,"answer_id":75858000,"question_id":75854457,"body_markdown":"# tl;dr\r\n\r\n&gt; I want to check that a date is the same day on the next week that today.\r\n\r\n    LocalDate            // Represent a date-only value. No time of day. No offset or time zone. \r\n    .now()               // Capture the current date as seen in the JVM’s current default time zone. \r\n    .getDayOfWeek()      // Get the `DayOfWeek` enum object for this date’s day of week: Monday though Sunday. \r\n    .equals( \r\n        someOtherDate\r\n        .getDayOfWeek()\r\n    )\r\n\r\n\r\n# Details\r\n\r\nYou are using terribly flawed date-time classes that are now legacy. These were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nFurthermore, you are using a date-with-time class to represent a date-only value. So your choice of type is a misfit. And your unexpected results may be coming from related time zone issues such as Daylight Saving Time. \r\n\r\nFor a date-only value, use `java.time.LocalDate`. No time of day. No offset from UTC, nor time zone. No Daylight Saving Time. \r\n\r\nTo capture the current date, a time zone is required. For any given moment, the date varies around the globe by time zone. \r\n\r\nYou may want to use the JVM’s current time zone. Or you may want to query the user. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\nGet the current date. \r\n\r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nAdd a week. \r\n\r\n    LocalDate nextWeek = today.plusWeeks( 1 ) ;\r\n\r\nSubtract a week. \r\n\r\n    LocalDate weekAgo = today.minusWeeks( 1 ) ;\r\n\r\nTesting if same day of week. You can get the `DayOfWeek` enum object for any given date. \r\n\r\n    boolean sameDayOfWeek = today.getDayOfWeek().equals( someOtherDate.getDayOfWeek() ) ;","title":"Issue when comparing date with Java","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>I want to check that a date is the same day on the next week that today.</p>\n</blockquote>\n<pre><code>LocalDate            // Represent a date-only value. No time of day. No offset or time zone. \n.now()               // Capture the current date as seen in the JVM’s current default time zone. \n.getDayOfWeek()      // Get the `DayOfWeek` enum object for this date’s day of week: Monday though Sunday. \n.equals( \n    someOtherDate\n    .getDayOfWeek()\n)\n</code></pre>\n<h1>Details</h1>\n<p>You are using terribly flawed date-time classes that are now legacy. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Furthermore, you are using a date-with-time class to represent a date-only value. So your choice of type is a misfit. And your unexpected results may be coming from related time zone issues such as Daylight Saving Time.</p>\n<p>For a date-only value, use <code>java.time.LocalDate</code>. No time of day. No offset from UTC, nor time zone. No Daylight Saving Time.</p>\n<p>To capture the current date, a time zone is required. For any given moment, the date varies around the globe by time zone.</p>\n<p>You may want to use the JVM’s current time zone. Or you may want to query the user.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<p>Get the current date.</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Add a week.</p>\n<pre><code>LocalDate nextWeek = today.plusWeeks( 1 ) ;\n</code></pre>\n<p>Subtract a week.</p>\n<pre><code>LocalDate weekAgo = today.minusWeeks( 1 ) ;\n</code></pre>\n<p>Testing if same day of week. You can get the <code>DayOfWeek</code> enum object for any given date.</p>\n<pre><code>boolean sameDayOfWeek = today.getDayOfWeek().equals( someOtherDate.getDayOfWeek() ) ;\n</code></pre>\n"}],"owner":{"account_id":23104207,"reputation":161,"user_id":17506985,"display_name":"Cucumberbatch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75854814,"answer_count":5,"score":1,"last_activity_date":1679934328,"creation_date":1679911458,"question_id":75854457,"body_markdown":"I am encountering some issues right now when I compare two dates in Java.\r\n\r\nI want to check that a date is the same day on the next week that today.\r\n\r\nFirst, I am doing this: \r\n\r\n```\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n\r\n        Calendar todayCalendar = Calendar.getInstance();\r\n        Date today = sdf.parse(sdf.format(todayCalendar.getTime()));\r\n\r\n        Step step = actualStep.getStep();\r\n        Date plannedDate = sdf.parse(sdf.format(actualStep.getPlannedDate()));\r\n\r\n        long diffInMillies = Math.abs(today.getTime() - plannedDate.getTime());\r\n        long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\r\n```\r\n\r\nWhen I check the different values, I get this: \r\n``` \r\nMon Mar 27 00:00:00 CEST 2023\r\nMon Mar 20 00:00:00 CET 2023\r\ndeltaDays: 7\r\n```\r\n\r\nSo I do get a difference of 7 days this way. The thing is I do not get the same when I&#39;m trying to do some unit tests:\r\n\r\n```\r\n        Calendar todayCalendar = Calendar.getInstance();\r\n        Date today = todayCalendar.getTime();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        Integer day = 7;\r\n        todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\r\n        Date expectedReminderDay = sdf.parse(sdf.format(todayCalendar.getTime()));\r\n```\r\nThis time, I get: \r\n```\r\nMon Mar 27 00:00:00 CEST 2023\r\nMon Apr 03 00:00:00 CEST 2023\r\ndeltaDays: 8\r\n```\r\n\r\nDoes anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?\r\n\r\nThanks for reading ! ","title":"Issue when comparing date with Java","body":"<p>I am encountering some issues right now when I compare two dates in Java.</p>\n<p>I want to check that a date is the same day on the next week that today.</p>\n<p>First, I am doing this:</p>\n<pre><code>        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\n\n        Calendar todayCalendar = Calendar.getInstance();\n        Date today = sdf.parse(sdf.format(todayCalendar.getTime()));\n\n        Step step = actualStep.getStep();\n        Date plannedDate = sdf.parse(sdf.format(actualStep.getPlannedDate()));\n\n        long diffInMillies = Math.abs(today.getTime() - plannedDate.getTime());\n        long deltaDays = TimeUnit.DAYS.convert(diffInMillies, TimeUnit.MILLISECONDS) +1L;\n</code></pre>\n<p>When I check the different values, I get this:</p>\n<pre><code>Mon Mar 27 00:00:00 CEST 2023\nMon Mar 20 00:00:00 CET 2023\ndeltaDays: 7\n</code></pre>\n<p>So I do get a difference of 7 days this way. The thing is I do not get the same when I'm trying to do some unit tests:</p>\n<pre><code>        Calendar todayCalendar = Calendar.getInstance();\n        Date today = todayCalendar.getTime();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        Integer day = 7;\n        todayCalendar.add(Calendar.DAY_OF_WEEK, +day);\n        Date expectedReminderDay = sdf.parse(sdf.format(todayCalendar.getTime()));\n</code></pre>\n<p>This time, I get:</p>\n<pre><code>Mon Mar 27 00:00:00 CEST 2023\nMon Apr 03 00:00:00 CEST 2023\ndeltaDays: 8\n</code></pre>\n<p>Does anyone know why, in one case, I get 8 days of difference and 7 in another while having a week apart ?</p>\n<p>Thanks for reading !</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679896927,"post_id":75852253,"comment_id":133796540,"body_markdown":"Please don&#39;t post duplicate [questions](https://stackoverflow.com/questions/75852253/how-to-check-if-a-document-exists-in-a-firestore-collection). I&#39;ll write you an answer right away to the old question.","body":"Please don&#39;t post duplicate <a href=\"https://stackoverflow.com/questions/75852253/how-to-check-if-a-document-exists-in-a-firestore-collection\">questions</a>. I&#39;ll write you an answer right away to the old question."}],"owner":{"account_id":26210450,"reputation":13,"user_id":19889412,"display_name":"Raz Dar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679896874,"answer_count":0,"score":0,"last_activity_date":1679933992,"creation_date":1679893109,"question_id":75852253,"body_markdown":"I have an Android Studio project with 2 user collections: Trainers and Trainees. I want to make a method that receives the user&#39;s String email as input (the user&#39;s email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn&#39;t (meaning he is a trainee).\r\n\r\nWhat is the best way of doing this?\r\n\r\nI tried many things like this:\r\n\r\n    public static boolean isTrainer(String email)\r\n    {\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\r\n        DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\r\n        \r\n        // Check if the trainer document exists\r\n        Task\\&lt;DocumentSnapshot\\&gt; trainerTask = trainerRef.get();\r\n        boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\r\n        \r\n        // Check if the trainee document exists\r\n        Task\\&lt;DocumentSnapshot\\&gt; traineeTask = traineeRef.get();\r\n        boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\r\n        \r\n        // If the trainer document exists but the trainee document doesn&#39;t, the user is a trainer\r\n        Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\r\n        \r\n        return isTrainer &amp;&amp; !isTrainee;\r\n    }\r\n\r\nAnd other things but nothing worked.","title":"How to check if a document exists in a firestore collection","body":"<p>I have an Android Studio project with 2 user collections: Trainers and Trainees. I want to make a method that receives the user's String email as input (the user's email is the document ID in both collections and a user can be either in the trainees collection or in the trainers collection not in both) and the method returns a boolean containing true if the user is a trainer and false if he isn't (meaning he is a trainee).</p>\n<p>What is the best way of doing this?</p>\n<p>I tried many things like this:</p>\n<pre><code>public static boolean isTrainer(String email)\n{\n    FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n    DocumentReference trainerRef = firestore.collection(&quot;trainers&quot;).document(email);\n    DocumentReference traineeRef = firestore.collection(&quot;trainees&quot;).document(email);\n    \n    // Check if the trainer document exists\n    Task\\&lt;DocumentSnapshot\\&gt; trainerTask = trainerRef.get();\n    boolean isTrainer = trainerTask.isSuccessful() &amp;&amp; trainerTask.getResult().exists();\n    \n    // Check if the trainee document exists\n    Task\\&lt;DocumentSnapshot\\&gt; traineeTask = traineeRef.get();\n    boolean isTrainee = traineeTask.isSuccessful() &amp;&amp; traineeTask.getResult().exists();\n    \n    // If the trainer document exists but the trainee document doesn't, the user is a trainer\n    Log.d(&quot;FirestoreExample&quot;, &quot;isTrainer: &quot; + isTrainer + &quot;, isTrainee: &quot; + isTrainee);\n    \n    return isTrainer &amp;&amp; !isTrainee;\n}\n</code></pre>\n<p>And other things but nothing worked.</p>\n"},{"tags":["java","json","jackson","hashmap","deserialization"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679936584,"post_id":75858076,"comment_id":133806811,"body_markdown":"How does the deserialise step, in isolation, know the types of the values in the map?","body":"How does the deserialise step, in isolation, know the types of the values in the map?"},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1679942653,"post_id":75858076,"comment_id":133808307,"body_markdown":"Not really. I assume this is why when we de-serialize it to a concrete object, it will explicitly cast them to the corresponding types. My question was if there is anyway i can indicate to the deserialization process?","body":"Not really. I assume this is why when we de-serialize it to a concrete object, it will explicitly cast them to the corresponding types. My question was if there is anyway i can indicate to the deserialization process?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679945608,"post_id":75858076,"comment_id":133808940,"body_markdown":"You have to define the map as a class with each key as a field name in order to tie the classes in.","body":"You have to define the map as a class with each key as a field name in order to tie the classes in."}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933944,"creation_date":1679933944,"question_id":75858076,"body_markdown":"I have an object i am serializing as a json and back using Jackson. It works fine when the fields are explicitly defined. One of the fields is a Map of &lt;string, Object&gt; as the values of the map can be one of many object types (Enum, concrete class etc). When i deserialize the json, the values in the hashmap seems to lose the type and are all converted to strings. as a result, i am not able to retrieve the data in its original form. Any idea how i can address this?\r\n\r\nThank you in advance\r\n\r\nSG","title":"java Json Map of objects deserialization","body":"<p>I have an object i am serializing as a json and back using Jackson. It works fine when the fields are explicitly defined. One of the fields is a Map of &lt;string, Object&gt; as the values of the map can be one of many object types (Enum, concrete class etc). When i deserialize the json, the values in the hashmap seems to lose the type and are all converted to strings. as a result, i am not able to retrieve the data in its original form. Any idea how i can address this?</p>\n<p>Thank you in advance</p>\n<p>SG</p>\n"},{"tags":["java","android","crash","runtime-error","runtimeexception"],"answers":[{"tags":[],"owner":{"account_id":20093544,"reputation":51,"user_id":14733504,"display_name":"Sơn Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679933507,"creation_date":1679933507,"answer_id":75858001,"question_id":75857874,"body_markdown":"You can easily check why the problem in this log:\r\n\r\n&gt; *Caused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast\r\n&gt; to com.google.android.material.textfield.TextInputEditText*\r\n\r\nYou declare wrong view for variable Email. Try declare it with TextInputLayout.\r\n\r\nAnd one more thing, you shouldn&#39;t declare name of variable like &quot;Email,Username,Pass01&quot;. It will cause your project more difficult to maintain. Find naming convention to know more about it","title":"My app crashes and don&#39;t start the signup activity","body":"<p>You can easily check why the problem in this log:</p>\n<blockquote>\n<p><em>Caused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast\nto com.google.android.material.textfield.TextInputEditText</em></p>\n</blockquote>\n<p>You declare wrong view for variable Email. Try declare it with TextInputLayout.</p>\n<p>And one more thing, you shouldn't declare name of variable like &quot;Email,Username,Pass01&quot;. It will cause your project more difficult to maintain. Find naming convention to know more about it</p>\n"}],"owner":{"account_id":28103257,"reputation":13,"user_id":21472214,"display_name":"A_37_Abhishek Shelar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75858001,"answer_count":1,"score":0,"last_activity_date":1679933507,"creation_date":1679932665,"question_id":75857874,"body_markdown":"i have tried everything when i run the app it runs but signup activity crashes and come back to the welcome screen.tell me what&#39;s the problem whether i&#39;m doing something wrong or it&#39;s any other problem.\r\nthis is signup activity code im using firebase\r\n\r\n```\r\npackage com.example.chatzone;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class SignUp extends AppCompatActivity {\r\n\r\n    TextInputEditText UserName;\r\n    TextInputEditText Email;\r\n    TextInputEditText Pass01;\r\n    TextInputEditText conPass01;\r\n    Button signUp;\r\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseUser mUser;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n        UserName=findViewById(R.id.Username);\r\n        Email=findViewById(R.id.Email);\r\n        Pass01=findViewById(R.id.Password01);\r\n        conPass01=findViewById(R.id.Password02);\r\n        signUp=findViewById(R.id.Sign_Up02);\r\n        mAuth=FirebaseAuth.getInstance();\r\n        mUser=mAuth.getCurrentUser();\r\n\r\n        signUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               creatUser();\r\n            }\r\n\r\n            private void creatUser() {\r\n                Intent i = getIntent();\r\n                String BD = i.getStringExtra(userInfo.t1);\r\n                String FN = i.getStringExtra(userInfo.t2);\r\n                String LN = i.getStringExtra(userInfo.t3);\r\n                String PN = i.getStringExtra(userInfo.t4);\r\n                String email=Email.getText().toString();\r\n                String UN=UserName.getText().toString();\r\n                String Pass=Pass01.getText().toString();\r\n                String conPass=conPass01.getText().toString();\r\n                if(!email.matches(emailPattern)){\r\n                    Toast.makeText(SignUp.this,&quot;Enter valid Email Address&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(Pass == conPass)\r\n                {\r\n                    Toast.makeText(SignUp.this,&quot;Password and Confirm Password does not match&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(Pass.length()&lt;6){\r\n                    Toast.makeText(SignUp.this,&quot;Password length should be Atleast 6 digit long&quot;,Toast.LENGTH_SHORT).show();\r\n                }else if(TextUtils.isEmpty(email) || TextUtils.isEmpty(UN) || TextUtils.isEmpty(Pass) || TextUtils.isEmpty(conPass))\r\n                {\r\n                    Toast.makeText(SignUp.this,&quot;Input Field can&#39;t be Empty&quot;,Toast.LENGTH_SHORT).show();\r\n                }else\r\n                {\r\n                    mAuth.createUserWithEmailAndPassword(email,Pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if(task.isSuccessful())\r\n                            {\r\n                                Toast.makeText(SignUp.this,&quot;Registration Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                                nextAct();\r\n                            }\r\n                            else{\r\n                                Toast.makeText(SignUp.this,&quot;&quot;+task.getException(),Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                \r\n            }\r\n\r\n            private void nextAct() {\r\n                Intent in = new Intent(SignUp.this,MainActivity.class);\r\n                startActivity(in);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nthis is the error\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.example.chatzone, PID: 30802\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatzone/com.example.chatzone.SignUp}: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3754)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loop(Looper.java:239)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8212)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\r\nCaused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\r\n\tat com.example.chatzone.SignUp.onCreate(SignUp.java:35)\r\n\tat android.app.Activity.performCreate(Activity.java:8119)\r\n\tat android.app.Activity.performCreate(Activity.java:8103)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3727)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)&#160;\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)&#160;\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n\tat android.os.Looper.loop(Looper.java:239)&#160;\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8212)&#160;\r\n\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)&#160;\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)&#160;&#160;\r\n```\r\n\r\nthe logcat is showing this type of error please help me solve this\r\n\r\nXml cod:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SignUp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/step2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:fontFamily=&quot;@font/knewave01&quot;\r\n        android:text=&quot;Step 02: &quot;\r\n        android:textColor=&quot;#808080&quot;\r\n        android:textSize=&quot;50dp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/Usertxt&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/step2&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:fontFamily=&quot;@font/knewave01&quot;\r\n        android:text=&quot;User Info: &quot;\r\n        android:textColor=&quot;@color/CZColor&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/UserNameText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Usertxt&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Username:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/Username&quot;\r\n        android:hint=&quot;Username&quot;\r\n        app:startIconDrawable=&quot;@drawable/user&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/UserNameText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/EmailText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Username&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Email:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Email&quot;\r\n        android:id=&quot;@+id/Email&quot;\r\n        app:startIconDrawable=&quot;@drawable/email&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/EmailText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/PasswordText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Email&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Password:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:id=&quot;@+id/Password01&quot;\r\n        app:startIconDrawable=&quot;@drawable/key&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/PasswordText&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;\r\n            android:inputType=&quot;textPassword&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/PasswordText01&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/Password01&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Confirm Password:&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_width=&quot;360dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Confirm Password&quot;\r\n        android:id=&quot;@+id/Password02&quot;\r\n        app:startIconDrawable=&quot;@drawable/key&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:endIconTint=&quot;#808080&quot;\r\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\r\n        android:layout_below=&quot;@id/PasswordText01&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:textColor=&quot;@color/CZColor&quot;&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/Sign_Up02&quot;\r\n        android:layout_width=&quot;170dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_below=&quot;@id/Password02&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;SIGN UP&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Already have account ?&quot;\r\n        android:textSize=&quot;22dp&quot;\r\n        android:textColor=&quot;#808080&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\r\n        &gt;&lt;/TextView&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Sign In&quot;\r\n        android:textSize=&quot;23dp&quot;\r\n        android:textColor=&quot;@color/CZColor&quot;\r\n        android:layout_marginStart=&quot;285dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\r\n        &gt;&lt;/TextView&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/imageButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        app:srcCompat=&quot;@drawable/back&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        /&gt;\r\n    &lt;ProgressBar\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/progressBar01&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:visibility=&quot;gone&quot;&gt;&lt;/ProgressBar&gt;\r\n&lt;/RelativeLayout&gt;\r\n```","title":"My app crashes and don&#39;t start the signup activity","body":"<p>i have tried everything when i run the app it runs but signup activity crashes and come back to the welcome screen.tell me what's the problem whether i'm doing something wrong or it's any other problem.\nthis is signup activity code im using firebase</p>\n<pre><code>package com.example.chatzone;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class SignUp extends AppCompatActivity {\n\n    TextInputEditText UserName;\n    TextInputEditText Email;\n    TextInputEditText Pass01;\n    TextInputEditText conPass01;\n    Button signUp;\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n\n    FirebaseAuth mAuth;\n    FirebaseUser mUser;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_up);\n        UserName=findViewById(R.id.Username);\n        Email=findViewById(R.id.Email);\n        Pass01=findViewById(R.id.Password01);\n        conPass01=findViewById(R.id.Password02);\n        signUp=findViewById(R.id.Sign_Up02);\n        mAuth=FirebaseAuth.getInstance();\n        mUser=mAuth.getCurrentUser();\n\n        signUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n               creatUser();\n            }\n\n            private void creatUser() {\n                Intent i = getIntent();\n                String BD = i.getStringExtra(userInfo.t1);\n                String FN = i.getStringExtra(userInfo.t2);\n                String LN = i.getStringExtra(userInfo.t3);\n                String PN = i.getStringExtra(userInfo.t4);\n                String email=Email.getText().toString();\n                String UN=UserName.getText().toString();\n                String Pass=Pass01.getText().toString();\n                String conPass=conPass01.getText().toString();\n                if(!email.matches(emailPattern)){\n                    Toast.makeText(SignUp.this,&quot;Enter valid Email Address&quot;,Toast.LENGTH_SHORT).show();\n                }else if(Pass == conPass)\n                {\n                    Toast.makeText(SignUp.this,&quot;Password and Confirm Password does not match&quot;,Toast.LENGTH_SHORT).show();\n                }else if(Pass.length()&lt;6){\n                    Toast.makeText(SignUp.this,&quot;Password length should be Atleast 6 digit long&quot;,Toast.LENGTH_SHORT).show();\n                }else if(TextUtils.isEmpty(email) || TextUtils.isEmpty(UN) || TextUtils.isEmpty(Pass) || TextUtils.isEmpty(conPass))\n                {\n                    Toast.makeText(SignUp.this,&quot;Input Field can't be Empty&quot;,Toast.LENGTH_SHORT).show();\n                }else\n                {\n                    mAuth.createUserWithEmailAndPassword(email,Pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if(task.isSuccessful())\n                            {\n                                Toast.makeText(SignUp.this,&quot;Registration Successful&quot;,Toast.LENGTH_SHORT).show();\n                                nextAct();\n                            }\n                            else{\n                                Toast.makeText(SignUp.this,&quot;&quot;+task.getException(),Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n                }\n                \n            }\n\n            private void nextAct() {\n                Intent in = new Intent(SignUp.this,MainActivity.class);\n                startActivity(in);\n            }\n        });\n    }\n\n\n\n}\n</code></pre>\n<p>this is the error</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.chatzone, PID: 30802\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatzone/com.example.chatzone.SignUp}: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3754)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:239)\n    at android.app.ActivityThread.main(ActivityThread.java:8212)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)\nCaused by: java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to com.google.android.material.textfield.TextInputEditText\n    at com.example.chatzone.SignUp.onCreate(SignUp.java:35)\n    at android.app.Activity.performCreate(Activity.java:8119)\n    at android.app.Activity.performCreate(Activity.java:8103)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3727)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3912) \n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2319) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:239) \n    at android.app.ActivityThread.main(ActivityThread.java:8212) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:626) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1016)  \n</code></pre>\n<p>the logcat is showing this type of error please help me solve this</p>\n<p>Xml cod:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SignUp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/step2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:fontFamily=&quot;@font/knewave01&quot;\n        android:text=&quot;Step 02: &quot;\n        android:textColor=&quot;#808080&quot;\n        android:textSize=&quot;50dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/Usertxt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/step2&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:fontFamily=&quot;@font/knewave01&quot;\n        android:text=&quot;User Info: &quot;\n        android:textColor=&quot;@color/CZColor&quot;\n        android:textSize=&quot;40sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/UserNameText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Usertxt&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Username:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/Username&quot;\n        android:hint=&quot;Username&quot;\n        app:startIconDrawable=&quot;@drawable/user&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/UserNameText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/EmailText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Username&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Email:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Email&quot;\n        android:id=&quot;@+id/Email&quot;\n        app:startIconDrawable=&quot;@drawable/email&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/EmailText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;\n            android:inputType=&quot;textEmailAddress&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/PasswordText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Email&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Password:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Password&quot;\n        android:id=&quot;@+id/Password01&quot;\n        app:startIconDrawable=&quot;@drawable/key&quot;\n        app:endIconMode=&quot;password_toggle&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/PasswordText&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;\n            android:inputType=&quot;textPassword&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/PasswordText01&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/Password01&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Confirm Password:&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;&gt;&lt;/TextView&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_width=&quot;360dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Confirm Password&quot;\n        android:id=&quot;@+id/Password02&quot;\n        app:startIconDrawable=&quot;@drawable/key&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:endIconTint=&quot;#808080&quot;\n        app:boxStrokeColor=&quot;@color/CZColor&quot;\n        android:layout_below=&quot;@id/PasswordText01&quot;&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:textColor=&quot;@color/CZColor&quot;&gt;\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/Sign_Up02&quot;\n        android:layout_width=&quot;170dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_below=&quot;@id/Password02&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;SIGN UP&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Already have account ?&quot;\n        android:textSize=&quot;22dp&quot;\n        android:textColor=&quot;#808080&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginStart=&quot;50dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\n        &gt;&lt;/TextView&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Sign In&quot;\n        android:textSize=&quot;23dp&quot;\n        android:textColor=&quot;@color/CZColor&quot;\n        android:layout_marginStart=&quot;285dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_below=&quot;@+id/Sign_Up02&quot;\n        &gt;&lt;/TextView&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/imageButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        app:srcCompat=&quot;@drawable/back&quot;\n        android:background=&quot;@color/white&quot;\n        /&gt;\n    &lt;ProgressBar\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/progressBar01&quot;\n        android:indeterminate=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:visibility=&quot;gone&quot;&gt;&lt;/ProgressBar&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","google-sheets","google-api"],"answers":[{"tags":[],"owner":{"account_id":23310874,"reputation":2081,"user_id":17390145,"display_name":"Giselle Valladares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679933492,"creation_date":1679933119,"answer_id":75857945,"question_id":75854200,"body_markdown":"I found this [documentation](https://developers.google.com/sheets/api/guides/migration#delete_a_row) when Google Change from `v3 API` to `v4 API` , the `Delete a row` request changes to `deleteDimension` using the method `spreadsheets.batchUpdate`. \r\n\r\nThe request body should have this structure: \r\n\r\n*Note:  For example, the following removes the second row in `Sheet1`.*\r\n\r\n```\r\nPOST https://sheets.googleapis.com/v4/spreadsheets/spreadsheetId:batchUpdate\r\n\r\n       {\r\n            &quot;requests&quot;: [\r\n                {\r\n                    &quot;deleteDimension&quot;: {\r\n                        &quot;range&quot;:  {\r\n                            &quot;sheetId&quot;: 0,\r\n                            &quot;dimension&quot;: &quot;ROWS&quot;,\r\n                            &quot;startIndex&quot;: 1,\r\n                            &quot;endIndex&quot;: 2\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n        }\r\n```\r\n\r\nThis is a sample on how the request should look like: \r\n\r\n```\r\nDeleteDimensionRequest deleteRequest = new DeleteDimensionRequest() \r\n   .setRange(\r\n        new DimensionRange()\r\n            .setSheetId(0)\r\n            .setDimension(&quot;Row&quot;)\r\n            .setStartIndex(1)\r\n  );\r\n\r\nList&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\nrequests.add(new Request().setDeleteDimension(deleteRequest));\r\n\r\nBatchUpdateSpreadsheetRequest body = new BatchUpdateSpreadsheetRequest().setRequests(requests);\r\nsheetServices.spreadsheets().batchUpdate(SPREADSHEET_ID, body).execute()\r\n```\r\n\r\n\r\n**Reference:**\r\n - [MigraDelete a row](https://developers.google.com/sheets/api/guides/migration#delete_a_row)\r\n - [Method: spreadsheets.batchUpdate](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate#deletedimensionrequest)\r\n - [DeleteDimensionRequest ](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#deletedimensionrequest)\r\n - [Delete rows or columns](https://developers.google.com/sheets/api/samples/rowcolumn#delete_rows_or_columns)\r\n","title":"Delete a row in Google Sheets with Java using the Google Sheets API","body":"<p>I found this <a href=\"https://developers.google.com/sheets/api/guides/migration#delete_a_row\" rel=\"nofollow noreferrer\">documentation</a> when Google Change from <code>v3 API</code> to <code>v4 API</code> , the <code>Delete a row</code> request changes to <code>deleteDimension</code> using the method <code>spreadsheets.batchUpdate</code>.</p>\n<p>The request body should have this structure:</p>\n<p><em>Note:  For example, the following removes the second row in <code>Sheet1</code>.</em></p>\n<pre><code>POST https://sheets.googleapis.com/v4/spreadsheets/spreadsheetId:batchUpdate\n\n       {\n            &quot;requests&quot;: [\n                {\n                    &quot;deleteDimension&quot;: {\n                        &quot;range&quot;:  {\n                            &quot;sheetId&quot;: 0,\n                            &quot;dimension&quot;: &quot;ROWS&quot;,\n                            &quot;startIndex&quot;: 1,\n                            &quot;endIndex&quot;: 2\n                        }\n                    }\n                }\n            ],\n        }\n</code></pre>\n<p>This is a sample on how the request should look like:</p>\n<pre><code>DeleteDimensionRequest deleteRequest = new DeleteDimensionRequest() \n   .setRange(\n        new DimensionRange()\n            .setSheetId(0)\n            .setDimension(&quot;Row&quot;)\n            .setStartIndex(1)\n  );\n\nList&lt;Request&gt; requests = new ArrayList&lt;&gt;();\nrequests.add(new Request().setDeleteDimension(deleteRequest));\n\nBatchUpdateSpreadsheetRequest body = new BatchUpdateSpreadsheetRequest().setRequests(requests);\nsheetServices.spreadsheets().batchUpdate(SPREADSHEET_ID, body).execute()\n</code></pre>\n<p><strong>Reference:</strong></p>\n<ul>\n<li><a href=\"https://developers.google.com/sheets/api/guides/migration#delete_a_row\" rel=\"nofollow noreferrer\">MigraDelete a row</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate#deletedimensionrequest\" rel=\"nofollow noreferrer\">Method: spreadsheets.batchUpdate</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/request#deletedimensionrequest\" rel=\"nofollow noreferrer\">DeleteDimensionRequest </a></li>\n<li><a href=\"https://developers.google.com/sheets/api/samples/rowcolumn#delete_rows_or_columns\" rel=\"nofollow noreferrer\">Delete rows or columns</a></li>\n</ul>\n"}],"owner":{"account_id":16891449,"reputation":33,"user_id":12215074,"display_name":"Mateusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679933492,"creation_date":1679910006,"question_id":75854200,"body_markdown":"I have an interface between my Java program and Google Sheets.\r\nI want to delete a row in Google Sheets as soon as my condition is true.\r\n\r\n\r\nIs there also a delete function? I haven&#39;t found anything in the documentation yet.\r\n\r\n\r\nSo far I have only found a function that clears the row.\r\nThis looks like this:\r\n\r\n      ClearValuesRequest requestBody = new ClearValuesRequest();\r\n      if (CALCNumber.toString().equals(BLNumber.get(0).toString())) {\r\n           Sheets.Spreadsheets.Values.Clear request =\r\n               sheets.spreadsheets().values().clear(spreadsheetId, &quot;sheet1!A2:AA2&quot;, requestBody);       \r\n           ClearValuesResponse deleteResponse = request.execute();\r\n           System.out.print(deleteResponse);\r\n      }\r\n\r\n","title":"Delete a row in Google Sheets with Java using the Google Sheets API","body":"<p>I have an interface between my Java program and Google Sheets.\nI want to delete a row in Google Sheets as soon as my condition is true.</p>\n<p>Is there also a delete function? I haven't found anything in the documentation yet.</p>\n<p>So far I have only found a function that clears the row.\nThis looks like this:</p>\n<pre><code>  ClearValuesRequest requestBody = new ClearValuesRequest();\n  if (CALCNumber.toString().equals(BLNumber.get(0).toString())) {\n       Sheets.Spreadsheets.Values.Clear request =\n           sheets.spreadsheets().values().clear(spreadsheetId, &quot;sheet1!A2:AA2&quot;, requestBody);       \n       ClearValuesResponse deleteResponse = request.execute();\n       System.out.print(deleteResponse);\n  }\n</code></pre>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1435434785,"post_id":31092882,"comment_id":50202218,"body_markdown":"Are you inside your own code?","body":"Are you inside your own code?"},{"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"score":0,"creation_date":1435435660,"post_id":31092882,"comment_id":50202467,"body_markdown":"what do you mean? I think yes. it is .","body":"what do you mean? I think yes. it is ."},{"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"score":1,"creation_date":1435569066,"post_id":31092882,"comment_id":50237342,"body_markdown":"which OS are you using?","body":"which OS are you using?"}],"answers":[{"tags":[],"owner":{"account_id":5570795,"reputation":2409,"user_id":4416221,"accept_rate":78,"display_name":"jotadepicas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435435697,"creation_date":1435435697,"answer_id":31093019,"question_id":31092882,"body_markdown":"You could try reseting the Perspective, closing and opening de variables view again, even restarting eclipse. Have a look at this similar question just in case: https://stackoverflow.com/questions/5490509/eclipse-debug-mode-variables-not-showing","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>You could try reseting the Perspective, closing and opening de variables view again, even restarting eclipse. Have a look at this similar question just in case: <a href=\"https://stackoverflow.com/questions/5490509/eclipse-debug-mode-variables-not-showing\">Eclipse Debug Mode: Variables not showing</a></p>\n"},{"tags":[],"owner":{"account_id":2155961,"reputation":63,"user_id":1911192,"display_name":"Scuba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451363482,"creation_date":1451363482,"answer_id":34504451,"question_id":31092882,"body_markdown":"I tried everything found in the link that jotadepicas provided. It might be a combination of all those suggestions that lead up to me resolving the variable names not showing. \r\n\r\nAfter trying all of the suggestions, I clicked on the down arrow in debug variables tab --&gt; Layout --&gt; Select Columns. Both the Name and Value boxes were already checked. I simply clicked OK and the Name column displayed. This Select Columns and Show Columns under Layout were not available prior to all the previous steps. \r\n\r\nI am running Eclipse Mars 4.5.1 on Linux Mint 17.3.","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>I tried everything found in the link that jotadepicas provided. It might be a combination of all those suggestions that lead up to me resolving the variable names not showing. </p>\n\n<p>After trying all of the suggestions, I clicked on the down arrow in debug variables tab --> Layout --> Select Columns. Both the Name and Value boxes were already checked. I simply clicked OK and the Name column displayed. This Select Columns and Show Columns under Layout were not available prior to all the previous steps. </p>\n\n<p>I am running Eclipse Mars 4.5.1 on Linux Mint 17.3.</p>\n"},{"tags":[],"owner":{"account_id":16832545,"reputation":52,"user_id":12170147,"display_name":"Yasine Deghaies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636396272,"creation_date":1636396272,"answer_id":69888298,"question_id":31092882,"body_markdown":"It&#39;s a rendering problem in eclipse. click on the Variables Tab -&gt; click on the vertically three dots icon appearing in the corner-&gt; Layout - &gt; Select columns -&gt; Deselect all columns -&gt; apply -&gt; go back and select all columns .\r\n\r\nThis should work.","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>It's a rendering problem in eclipse. click on the Variables Tab -&gt; click on the vertically three dots icon appearing in the corner-&gt; Layout - &gt; Select columns -&gt; Deselect all columns -&gt; apply -&gt; go back and select all columns .</p>\n<p>This should work.</p>\n"},{"tags":[],"owner":{"account_id":28139927,"reputation":1,"user_id":21503148,"display_name":"dino almirino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679933440,"creation_date":1679933366,"answer_id":75857978,"question_id":31092882,"body_markdown":"Right click on the debug symbol in the upper right window, (near the button to close the whole eclipse program) click on reset and then again on reset prospective.\r\n\r\nEnd","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p>Right click on the debug symbol in the upper right window, (near the button to close the whole eclipse program) click on reset and then again on reset prospective.</p>\n<p>End</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1679933440,"creation_date":1435434627,"question_id":31092882,"body_markdown":"![enter image description here][1]Please the the attached snapshot. In my debugger, I can only see the variable values, but no names. It&#39;s very annoying. what might cause this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3meLq.png","title":"Eclipse debugger variables don&#39;t show name, only values","body":"<p><img src=\"https://i.stack.imgur.com/3meLq.png\" alt=\"enter image description here\">Please the the attached snapshot. In my debugger, I can only see the variable values, but no names. It's very annoying. what might cause this?</p>\n"},{"tags":["java","jep","jepp"],"owner":{"account_id":14558886,"reputation":75,"user_id":10515589,"display_name":"Bruno Pinto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933357,"creation_date":1679704112,"question_id":75839013,"body_markdown":"I&#39;m making a java application that needs to execute python scripts in runtime.\r\nI started by using Jython, but now I need to use CPython libraries, so I&#39;m experimenting with JEP.\r\n\r\nI&#39;ve installed JEP using the command `pip install jep` and I&#39;ve added jep as a project dependency in gradle\r\n\r\n    dependencies {\r\n        implementation &#39;black.ninia:jep:4.1.1&#39;\r\n    }\r\n\r\nIf I try to run the following java code:\r\n\r\n    try (Jep jep = new SharedInterpreter()) {\r\n        jep.eval(&quot;print(&#39;Hello world!&#39;)&quot;);\r\n    }\r\n\r\nI get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jep in java.library.path: ...\r\n\r\nWhat am I doing wrong?","title":"How to add JEP a java project using gradle?","body":"<p>I'm making a java application that needs to execute python scripts in runtime.\nI started by using Jython, but now I need to use CPython libraries, so I'm experimenting with JEP.</p>\n<p>I've installed JEP using the command <code>pip install jep</code> and I've added jep as a project dependency in gradle</p>\n<pre><code>dependencies {\n    implementation 'black.ninia:jep:4.1.1'\n}\n</code></pre>\n<p>If I try to run the following java code:</p>\n<pre><code>try (Jep jep = new SharedInterpreter()) {\n    jep.eval(&quot;print('Hello world!')&quot;);\n}\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jep in java.library.path: ...\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","json","android-volley","android-livedata","android-diffutils"],"owner":{"account_id":28139802,"reputation":1,"user_id":21503040,"display_name":"Kranti Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933265,"creation_date":1679933265,"question_id":75857961,"body_markdown":"`your text`Updated working recyclerview to diffUtil which gets data in the form of json fro google sheet after initializing the diffUtil in adaper created method which shows invoke virtual method getting null from\r\n diffresult\r\n\r\nMAIN\r\n\r\n```\r\n            `    customAdapter = new Adapter(list);\r\n                customAdapter.diffUtilChangeData(list);\r\n                recyclerView.setAdapter(customAdapter);\r\n                swipeRefreshLayout.setRefreshing(false);`\r\n```\r\n\r\nADAPTER\r\n   \r\n```\r\n public void diffUtilChangeData(ArrayList &lt;Model_Class&gt; mData_Diff){\r\n        xDiffUtil x_diff = new xDiffUtil(this.mData,mData_Diff);\r\n        DiffUtil.DiffResult x_diff_Result =DiffUtil.calculateDiff(x_diff);\r\n        this.mData.clear();\r\n        this.mData.addAll(mData_Diff);\r\n        Log.d(&quot;99999999999999999999999999999999999999999999999diff&quot;, String.valueOf(mData_Diff));\r\n        x_diff_Result.dispatchUpdatesTo(this);\r\n\r\n```\r\n    }\r\n\r\napp crashes diectly on removing the diffUil it works fine again","title":"Updated to DiffUtil but getting null response in DiffResult used volley for data as json","body":"<p><code>your text</code>Updated working recyclerview to diffUtil which gets data in the form of json fro google sheet after initializing the diffUtil in adaper created method which shows invoke virtual method getting null from\ndiffresult</p>\n<p>MAIN</p>\n<pre><code>            `    customAdapter = new Adapter(list);\n                customAdapter.diffUtilChangeData(list);\n                recyclerView.setAdapter(customAdapter);\n                swipeRefreshLayout.setRefreshing(false);`\n</code></pre>\n<p>ADAPTER</p>\n<pre><code> public void diffUtilChangeData(ArrayList &lt;Model_Class&gt; mData_Diff){\n        xDiffUtil x_diff = new xDiffUtil(this.mData,mData_Diff);\n        DiffUtil.DiffResult x_diff_Result =DiffUtil.calculateDiff(x_diff);\n        this.mData.clear();\n        this.mData.addAll(mData_Diff);\n        Log.d(&quot;99999999999999999999999999999999999999999999999diff&quot;, String.valueOf(mData_Diff));\n        x_diff_Result.dispatchUpdatesTo(this);\n\n</code></pre>\n<pre><code>}\n</code></pre>\n<p>app crashes diectly on removing the diffUil it works fine again</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679933593,"post_id":75857950,"comment_id":133806021,"body_markdown":"If you look at the documentation of [`EntityManager#merge(T)`](https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#merge(T)) (which I assume is what you&#39;re talking about), then you&#39;ll see it returns &quot;_the managed instance that the state was merged to_&quot;. So, it may return a completely different instance. If you continue using the instance you passed as an argument, then you may be working with an _unmanaged_ instance.","body":"If you look at the documentation of <a href=\"https://jakarta.ee/specifications/persistence/3.0/apidocs/jakarta.persistence/jakarta/persistence/entitymanager#merge(T)\" rel=\"nofollow noreferrer\"><code>EntityManager#merge(T)</code></a> (which I assume is what you&#39;re talking about), then you&#39;ll see it returns &quot;<i>the managed instance that the state was merged to</i>&quot;. So, it may return a completely different instance. If you continue using the instance you passed as an argument, then you may be working with an <i>unmanaged</i> instance."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679936091,"post_id":75857950,"comment_id":133806673,"body_markdown":"that&#39;s exactly what i mean. My question is why would it return a different instance? Within `save` if you look at it&#39;s case for when it does `persist`, you&#39;ll see that it looks like so `if (entityInformation.isNew(entity)) { em.persist(entity); return entity; }`. As in, it just returns the entity that&#39;s passed in. But for the case of merge it does this `return em.merge(entity);` First of all, I don&#39;t understand why `merge` would want to return a different instance in the first place","body":"that&#39;s exactly what i mean. My question is why would it return a different instance? Within <code>save</code> if you look at it&#39;s case for when it does <code>persist</code>, you&#39;ll see that it looks like so <code>if (entityInformation.isNew(entity)) { em.persist(entity); return entity; }</code>. As in, it just returns the entity that&#39;s passed in. But for the case of merge it does this <code>return em.merge(entity);</code> First of all, I don&#39;t understand why <code>merge</code> would want to return a different instance in the first place"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679938524,"post_id":75857950,"comment_id":133807328,"body_markdown":"Because you&#39;re merging. You might be merging an unmanaged instance that already has a managed instance in the cache.","body":"Because you&#39;re merging. You might be merging an unmanaged instance that already has a managed instance in the cache."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679981796,"post_id":75857950,"comment_id":133813840,"body_markdown":"Sure but why can&#39;t the entity you are merging just be what is returned. Afterall, in essence you are replacing what is already there with what you are passing","body":"Sure but why can&#39;t the entity you are merging just be what is returned. Afterall, in essence you are replacing what is already there with what you are passing"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679982077,"post_id":75857950,"comment_id":133813880,"body_markdown":"Because the framework is already managing an instance. It makes more sense to return the existing managed instance than to replace it just so you can continue using the unmanaged instance you were using before. Plus, that managed instance might be referenced elsewhere. When you `merge`, you get the managed instance back (even if it&#39;s the same one). The code calling `merge` is aware of this and can act accordingly. But if `merge` worked the way you suggest, then other code that references the managed instance suddenly has an unmanaged instance, which would be surprising.","body":"Because the framework is already managing an instance. It makes more sense to return the existing managed instance than to replace it just so you can continue using the unmanaged instance you were using before. Plus, that managed instance might be referenced elsewhere. When you <code>merge</code>, you get the managed instance back (even if it&#39;s the same one). The code calling <code>merge</code> is aware of this and can act accordingly. But if <code>merge</code> worked the way you suggest, then other code that references the managed instance suddenly has an unmanaged instance, which would be surprising."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679986043,"post_id":75857950,"comment_id":133814558,"body_markdown":"I&#39;m still a bit confused. Let&#39;s look at the `persist` case in regards to `save`. In the `persist` case, doesn&#39;t `persist` make the passed entity a managed instance? And then you are simply continuing using that managed instance","body":"I&#39;m still a bit confused. Let&#39;s look at the <code>persist</code> case in regards to <code>save</code>. In the <code>persist</code> case, doesn&#39;t <code>persist</code> make the passed entity a managed instance? And then you are simply continuing using that managed instance"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679986667,"post_id":75857950,"comment_id":133814686,"body_markdown":"Yes, because _persisting_ involves **new** entities. There is no existing managed instance. _Merging_ may update an existing managed instance, in which case it needs to return said already-existing instance.","body":"Yes, because <i>persisting</i> involves <b>new</b> entities. There is no existing managed instance. <i>Merging</i> may update an existing managed instance, in which case it needs to return said already-existing instance."},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679988407,"post_id":75857950,"comment_id":133815021,"body_markdown":"gotcha. That makes sense now!","body":"gotcha. That makes sense now!"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679933169,"creation_date":1679933169,"question_id":75857950,"body_markdown":"I understand that merge is for updating an existing record, and persist is for inserting a new record.\r\n\r\nWhen `save` is called for the case of update, we return the return value of calling `merge`.\r\nBut I don&#39;t understand why we would want a new persistent instance on merge. Wouldn&#39;t the instance you are merging and the instance that is returned contain the same values?","title":"In JPA, what benefit is there for &quot;save&quot; to return a new persistent instance for the case of updates?","body":"<p>I understand that merge is for updating an existing record, and persist is for inserting a new record.</p>\n<p>When <code>save</code> is called for the case of update, we return the return value of calling <code>merge</code>.\nBut I don't understand why we would want a new persistent instance on merge. Wouldn't the instance you are merging and the instance that is returned contain the same values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1680074021,"post_id":75857624,"comment_id":133833184,"body_markdown":"In your example, I don&#39;t see column names being different, instead, &quot;Column A | Column B&quot; are the same for all files. What do you mean?","body":"In your example, I don&#39;t see column names being different, instead, &quot;Column A | Column B&quot; are the same for all files. What do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":28138516,"reputation":33,"user_id":21501907,"display_name":"babicsp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679932831,"creation_date":1679932831,"answer_id":75857902,"question_id":75857624,"body_markdown":"You can use this:\r\n\r\n    @CsvBindAndJoinByName(column = &quot;FirstNameL,FirstName&quot;)\r\n    private String first_Name;","title":"Can we put OR condition in @CsvBindByName annotation to read multiple CSV files","body":"<p>You can use this:</p>\n<pre><code>@CsvBindAndJoinByName(column = &quot;FirstNameL,FirstName&quot;)\nprivate String first_Name;\n</code></pre>\n"}],"owner":{"account_id":28139263,"reputation":1,"user_id":21502573,"display_name":"RakhiJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679932831,"creation_date":1679931116,"question_id":75857624,"body_markdown":"I have to read multiple CSV files and some CSV files, column name are different and values also different.\r\n\r\n**Example-:**\r\n\r\n CSV1 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | FirstNameL | LastNameL |\r\n\r\nCSV2 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | First_Name | Last_Name |\r\n\r\nCSV3 -:\r\n\r\n    | Column A | Column B |\r\n    | --- | --- |\r\n    | FirstNameL | LastNameL |\r\n\r\nI want to read both column name from single bean class (something like -: @CsvBindByName(column = &quot;FirstNameL&quot; OR  column = &quot;First_Name&quot;)  \r\n\r\n    public class Test {\r\n    @CsvBindByName(column = &quot;FirstNameL&quot;)\r\n    private String first_Name ;\r\n\r\n    @CsvBindByName(column = &quot;LastNameL&quot;)\r\n    private String last_Name;\r\n\r\n    //getters and setters\r\n    }","title":"Can we put OR condition in @CsvBindByName annotation to read multiple CSV files","body":"<p>I have to read multiple CSV files and some CSV files, column name are different and values also different.</p>\n<p><strong>Example-:</strong></p>\n<p>CSV1 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| FirstNameL | LastNameL |\n</code></pre>\n<p>CSV2 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| First_Name | Last_Name |\n</code></pre>\n<p>CSV3 -:</p>\n<pre><code>| Column A | Column B |\n| --- | --- |\n| FirstNameL | LastNameL |\n</code></pre>\n<p>I want to read both column name from single bean class (something like -: @CsvBindByName(column = &quot;FirstNameL&quot; OR  column = &quot;First_Name&quot;)</p>\n<pre><code>public class Test {\n@CsvBindByName(column = &quot;FirstNameL&quot;)\nprivate String first_Name ;\n\n@CsvBindByName(column = &quot;LastNameL&quot;)\nprivate String last_Name;\n\n//getters and setters\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679843626,"post_id":75848469,"comment_id":133789507,"body_markdown":"how about using the `ResourceLoader`? https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html#getResource(java.lang.String)","body":"how about using the <code>ResourceLoader</code>? <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ResourceLoader.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679843664,"post_id":75848469,"comment_id":133789518,"body_markdown":"I know. Can&#39;t use it because I have a uniform property which must either reference a Resources file, or a regular non-resource file (as described above).","body":"I know. Can&#39;t use it because I have a uniform property which must either reference a Resources file, or a regular non-resource file (as described above)."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679843850,"post_id":75848469,"comment_id":133789550,"body_markdown":"but with ResourceLoader you can use e.g.: &quot;file:C:/test.dat&quot;","body":"but with ResourceLoader you can use e.g.: &quot;file:C:/test.dat&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679844386,"post_id":75848469,"comment_id":133789657,"body_markdown":"Spring!? - easy-&quot;peasy&quot;:`@Value(&quot;${file_location}&quot;)Resource myRss;` https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources !?","body":"Spring!? - easy-&quot;peasy&quot;:<code>@Value(&quot;${file_location}&quot;)Resource myRss;</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a> !?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1679844545,"post_id":75848469,"comment_id":133789684,"body_markdown":"@dey Yes, I can, but the DevOps team has a Helm chart which lists normal absolute paths for this property, rather than `file:C:/...`. I think I might need a custom If-Else utility method to decide based on the presence of the substring `classpath:`.","body":"@dey Yes, I can, but the DevOps team has a Helm chart which lists normal absolute paths for this property, rather than <code>file:C:&#47;...</code>. I think I might need a custom If-Else utility method to decide based on the presence of the substring <code>classpath:</code>."}],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679929657,"creation_date":1679929657,"answer_id":75857381,"question_id":75848469,"body_markdown":"I ended up writing my own utility method that returns a `File` from either pathway.\r\n\r\n\tpublic static File getFileFromClasspathOrAbsolutePath(String filePath) {\r\n\t\t\r\n\t\tFile file = null;\r\n\t\t\r\n\t\tif (filePath != null) {\r\n\t\t\tif (filePath.startsWith(Constants.FILENAME_PATH_CLASSNAME_PREFIX)) { // &quot;classpath:&quot;\r\n\t\t\t\tURL url = Utils.class.getClassLoader().getResource(filePath.replace(Constants.FILENAME_PATH_CLASSNAME_PREFIX, &quot;&quot;));\r\n\t\t\t\tif (url != null) {\r\n\t\t\t\t\tfile = new File(url.getFile());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfile = new File(filePath);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn file;\r\n\t}","title":"Spring Boot: File object must be constructed either from Resources file (classpath:) or a regular absolute path","body":"<p>I ended up writing my own utility method that returns a <code>File</code> from either pathway.</p>\n<pre><code>public static File getFileFromClasspathOrAbsolutePath(String filePath) {\n    \n    File file = null;\n    \n    if (filePath != null) {\n        if (filePath.startsWith(Constants.FILENAME_PATH_CLASSNAME_PREFIX)) { // &quot;classpath:&quot;\n            URL url = Utils.class.getClassLoader().getResource(filePath.replace(Constants.FILENAME_PATH_CLASSNAME_PREFIX, &quot;&quot;));\n            if (url != null) {\n                file = new File(url.getFile());\n            }\n        } else {\n            file = new File(filePath);\n        }\n    }\n    \n    return file;\n}\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75857381,"answer_count":1,"score":1,"last_activity_date":1679932763,"creation_date":1679842609,"question_id":75848469,"body_markdown":"My Spring Boot application has the standard structure of `src: main, test` each of which has a `/resources` subfolder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI need to reference an existing file under `/resources`. When I do\r\n\r\n    InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\r\n\r\neverything works great. But when I construct a File as follows, including with `classpath:`, the file is invalid and `file.isValid()` returns false.\r\n\r\n\t\tFile f1 = new File(&quot;file.txt&quot;);\r\n\t\tFile f2 = new File(&quot;classpath:file.txt&quot;);\r\n\t\tFile f3 = new File(&quot;resources/file.txt&quot;);\r\n\t\tFile f4 = new File(&quot;classpath:resources/file.txt&quot;);\r\n\t\tFile f5 = new File(&quot;/resources/file.txt&quot;);\r\n\t\tFile f6 = new File(&quot;classpath:/resources/file.txt&quot;);\r\n\t\tFile f7 = new File(&quot;classpath:/file.txt&quot;);\r\n\r\nI can&#39;t use anything involving `getClass().getClassLoader().getResource()` and must use a dynamic file path because I&#39;m dealing with a property which works (1) either from a classpath reference in the source code or (2) as a real file, overridden on the server. So I have to get File objects in a uniform way -- it&#39;s a single property referencing this file. Are there any solutions?\r\n\r\ne.g.\r\n\r\n    file_location = classpath:file.txt # for local testing\r\n    file_location = /opt/dir/file.txt # server override\r\n\r\n[This thread][2] says that ClassLoader/Resource methods must be used with `File`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ka1R8.png\r\n  [2]: https://stackoverflow.com/questions/4359876/how-to-load-reference-a-file-as-a-file-instance-from-the-classpath","title":"Spring Boot: File object must be constructed either from Resources file (classpath:) or a regular absolute path","body":"<p>My Spring Boot application has the standard structure of <code>src: main, test</code> each of which has a <code>/resources</code> subfolder.</p>\n<p><a href=\"https://i.stack.imgur.com/Ka1R8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ka1R8.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to reference an existing file under <code>/resources</code>. When I do</p>\n<pre><code>InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(&quot;file.txt&quot;);\n</code></pre>\n<p>everything works great. But when I construct a File as follows, including with <code>classpath:</code>, the file is invalid and <code>file.isValid()</code> returns false.</p>\n<pre><code>    File f1 = new File(&quot;file.txt&quot;);\n    File f2 = new File(&quot;classpath:file.txt&quot;);\n    File f3 = new File(&quot;resources/file.txt&quot;);\n    File f4 = new File(&quot;classpath:resources/file.txt&quot;);\n    File f5 = new File(&quot;/resources/file.txt&quot;);\n    File f6 = new File(&quot;classpath:/resources/file.txt&quot;);\n    File f7 = new File(&quot;classpath:/file.txt&quot;);\n</code></pre>\n<p>I can't use anything involving <code>getClass().getClassLoader().getResource()</code> and must use a dynamic file path because I'm dealing with a property which works (1) either from a classpath reference in the source code or (2) as a real file, overridden on the server. So I have to get File objects in a uniform way -- it's a single property referencing this file. Are there any solutions?</p>\n<p>e.g.</p>\n<pre><code>file_location = classpath:file.txt # for local testing\nfile_location = /opt/dir/file.txt # server override\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/4359876/how-to-load-reference-a-file-as-a-file-instance-from-the-classpath\">This thread</a> says that ClassLoader/Resource methods must be used with <code>File</code>.</p>\n"},{"tags":["java","jackson","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679932447,"creation_date":1679932447,"answer_id":75857842,"question_id":75857492,"body_markdown":"To solve this I had to create an instance of ```ObjectMapper``` and set it to a ```JacksonDataFormat``` object that is finally the one used in Marshal EIP\r\n\r\nRoute\r\n\r\n    @Component\r\n    public class MyRoute extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        JacksonDataFormat dataFormat = new JacksonDataFormat();\r\n        dataFormat.setObjectMapper(objectMapper);\r\n        from(&quot;direct:MyRoute&quot;)\r\n            .routeId(&quot;MyRoute&quot;)\r\n            .marshal(dataFormat);\r\n       }\r\n    }\r\n\r\nIf you know a more elegant way to do it you can suggest it :D","title":"Unit testing with camel causing InvalidDefinitionException Java 8 date/time &#39;java.time.LocalDate&#39; not supportend","body":"<p>To solve this I had to create an instance of <code>ObjectMapper</code> and set it to a <code>JacksonDataFormat</code> object that is finally the one used in Marshal EIP</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {\n@Override\npublic void configure() throws Exception {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    JacksonDataFormat dataFormat = new JacksonDataFormat();\n    dataFormat.setObjectMapper(objectMapper);\n    from(&quot;direct:MyRoute&quot;)\n        .routeId(&quot;MyRoute&quot;)\n        .marshal(dataFormat);\n   }\n}\n</code></pre>\n<p>If you know a more elegant way to do it you can suggest it :D</p>\n"}],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75857842,"answer_count":1,"score":0,"last_activity_date":1679932447,"creation_date":1679930278,"question_id":75857492,"body_markdown":"I&#39;m trying to test a camel route that makes use of Marshal EIP with Jackson however when I try to convert a LocalDate I get an InvalidDefinitionException. I already added the module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to my dependencies and registered it without any success. Any suggestion what could be wrong? Also use property ```camel.dataformat.jackson.auto-discover-object-mapper=true``` but it doesn&#39;t work in tests\r\n\r\nRoute\r\n```\r\n@Component\r\npublic class MyRoute extends RouteBuilder {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(&quot;direct:MyRoute&quot;)\r\n            .routeId(&quot;MyRoute&quot;)\r\n            .marshal()\r\n            .json(JsonLibrary.Jackson)\r\n    }\r\n}\r\n```\r\n\r\nTest\r\n```\r\n@SpringBootTest()\r\n@CamelSpringBootTest\r\n@EnableRouteCoverage\r\npublic class MyRouteTest {\r\n    @Autowired private CamelContext camelContext;\r\n\r\n    @Autowired private ProducerTemplate producerTemplate;\r\n\r\n    @Test\r\n    public void testMyRoute() throws Exception {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        Exchange ex = new DefaultExchange(camelContext);\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;name&quot;, &quot;Rick&quot;);\r\n        map.put(&quot;birth-date&quot;, LocalDate.of(2023, 3, 27));\r\n        exchange.getMessage().setBody(map);\r\n        Exchange result = producerTemplate.send(&quot;direct:MyRoute&quot;, exchange);\r\n        // Asserts\r\n    }\r\n}\r\n```\r\n\r\ndependencies\r\n\r\n    configurations {\r\n        testImplementation.extendsFrom compileOnly\r\n    }\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;3.0.2&#39;\r\n            camelVersion = &#39;4.0.0-M1&#39;\r\n        }\r\n    }\r\n\r\n    dependencies{\r\n        compileOnly group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-dependencies&#39;, version: springBootVersion\r\n        compileOnly group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: camelVersion\r\n        compileOnly group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-jackson-starter&#39;, version: camelVersion\r\n        compileOnly group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.14.2&#39;\r\n        testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version: springBootVersion\r\n        testImplementation group: &#39;org.apache.camel&#39;, name: &#39;camel-test-spring-junit5&#39;, version: camelVersion\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    }\r\n    \r\n   ","title":"Unit testing with camel causing InvalidDefinitionException Java 8 date/time &#39;java.time.LocalDate&#39; not supportend","body":"<p>I'm trying to test a camel route that makes use of Marshal EIP with Jackson however when I try to convert a LocalDate I get an InvalidDefinitionException. I already added the module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to my dependencies and registered it without any success. Any suggestion what could be wrong? Also use property <code>camel.dataformat.jackson.auto-discover-object-mapper=true</code> but it doesn't work in tests</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {\n        from(&quot;direct:MyRoute&quot;)\n            .routeId(&quot;MyRoute&quot;)\n            .marshal()\n            .json(JsonLibrary.Jackson)\n    }\n}\n</code></pre>\n<p>Test</p>\n<pre><code>@SpringBootTest()\n@CamelSpringBootTest\n@EnableRouteCoverage\npublic class MyRouteTest {\n    @Autowired private CamelContext camelContext;\n\n    @Autowired private ProducerTemplate producerTemplate;\n\n    @Test\n    public void testMyRoute() throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        Exchange ex = new DefaultExchange(camelContext);\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;name&quot;, &quot;Rick&quot;);\n        map.put(&quot;birth-date&quot;, LocalDate.of(2023, 3, 27));\n        exchange.getMessage().setBody(map);\n        Exchange result = producerTemplate.send(&quot;direct:MyRoute&quot;, exchange);\n        // Asserts\n    }\n}\n</code></pre>\n<p>dependencies</p>\n<pre><code>configurations {\n    testImplementation.extendsFrom compileOnly\n}\n\nbuildscript {\n    ext {\n        springBootVersion = '3.0.2'\n        camelVersion = '4.0.0-M1'\n    }\n}\n\ndependencies{\n    compileOnly group: 'org.springframework.boot', name: 'spring-boot-dependencies', version: springBootVersion\n    compileOnly group: 'org.apache.camel.springboot', name: 'camel-spring-boot-starter', version: camelVersion\n    compileOnly group: 'org.apache.camel.springboot', name: 'camel-jackson-starter', version: camelVersion\n    compileOnly group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.14.2'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: springBootVersion\n    testImplementation group: 'org.apache.camel', name: 'camel-test-spring-junit5', version: camelVersion\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679570598,"post_id":75821402,"comment_id":133746848,"body_markdown":"Please post the entire stacktrace. Right now you have only posted a fragment in the middle of the stacktrace.","body":"Please post the entire stacktrace. Right now you have only posted a fragment in the middle of the stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":27543766,"reputation":1,"user_id":21020078,"display_name":"akshay mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569408,"creation_date":1679569408,"answer_id":75822179,"question_id":75821402,"body_markdown":"I already worked on spring web-client and we almost connects with end-points which serves data in form of JSON your response also looks like a JSON response so you can try configuring ```application/json```.","title":"Spring WebClient content type application/javascript not supported","body":"<p>I already worked on spring web-client and we almost connects with end-points which serves data in form of JSON your response also looks like a JSON response so you can try configuring <code>application/json</code>.</p>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679586267,"creation_date":1679586267,"answer_id":75825139,"question_id":75821402,"body_markdown":"By default, `WebClient` doesn&#39;t have codec for `application/javascript`. You would need to register additional codec for this `Content-Type`\r\n\r\n```\r\nvar APPLICATION_JAVASCRIPT = new MediaType(&quot;application&quot;, &quot;javascript&quot;);\r\n\r\nWebClient webClient = WebClient.builder()\r\n        .exchangeStrategies(\r\n                ExchangeStrategies.builder()\r\n                        .codecs(configurer -&gt;\r\n                                // register codec for media type application/javascript\r\n                                configurer.customCodecs().registerWithDefaultConfig(\r\n                                        new Jackson2JsonDecoder(objectMapper, APPLICATION_JAVASCRIPT)\r\n                                )\r\n                        )\r\n                        .build()\r\n        )\r\n        .build();\r\n```","title":"Spring WebClient content type application/javascript not supported","body":"<p>By default, <code>WebClient</code> doesn't have codec for <code>application/javascript</code>. You would need to register additional codec for this <code>Content-Type</code></p>\n<pre><code>var APPLICATION_JAVASCRIPT = new MediaType(&quot;application&quot;, &quot;javascript&quot;);\n\nWebClient webClient = WebClient.builder()\n        .exchangeStrategies(\n                ExchangeStrategies.builder()\n                        .codecs(configurer -&gt;\n                                // register codec for media type application/javascript\n                                configurer.customCodecs().registerWithDefaultConfig(\n                                        new Jackson2JsonDecoder(objectMapper, APPLICATION_JAVASCRIPT)\n                                )\n                        )\n                        .build()\n        )\n        .build();\n</code></pre>\n"}],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75825139,"answer_count":2,"score":1,"last_activity_date":1679932257,"creation_date":1679564669,"question_id":75821402,"body_markdown":"How can I customize a *Spring WebClient* instance, to accept `content-type: application/javascript` and deserialize the JSON response body?\r\n\r\nI&#39;ve implemented a [simple example](https://github.com/ehayik/coindesk-client) using [WebClient](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webclient), which consumes the [CoinDesk API endpoint](https://api.coindesk.com/v1/bpi/currentprice.json) to get the Bitcoin Price Index (BPI) in real-time.\r\n\r\nI [reproduced the error](https://github.com/ehayik/coindesk-client/blob/master/src/test/java/com/github/ehayik/coindesk/btc/BitcoinPriceIndexClientTests.java) stubbing the endpoint with WireMock. \r\n\r\nThe endpoint response body content is JSON, however, its headers include `content-type: application/javascript`, as a result the *WebClient* throws the exception below:\r\n\r\n```text\r\norg.springframework.web.reactive.function.client.WebClientResponseException at WebClientResponseException.java:342\r\n        Caused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException at BodyExtractors.java:206\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nThis is the entire stacktrace:\r\n\r\n```txt\r\n200 OK from GET http://localhost:44027/bpi/currentprice.json\r\norg.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:44027/bpi/currentprice.json\r\n\tat app//org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:342)\r\n\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\r\n\tat app//reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)\r\n\tat app//reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)\r\n\tat app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\r\n\tat app//reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)\r\n\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\r\n\tat app//reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)\r\n\tat app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)\r\n\tat app//reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:191)\r\n\tat app//reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148)\r\n\tat app//reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)\r\n\tat app//reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\r\n\tat app//reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\r\n\tat app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\r\n\tat app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onComplete(FluxTakeWhile.java:122)\r\n\tat app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onNext(FluxTakeWhile.java:96)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\tat app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:379)\r\n\tat app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\r\n\tat app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:734)\r\n\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@17/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:139)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1734)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceMethod$ResponseFunction.execute(HttpServiceMethod.java:301)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceMethod.invoke(HttpServiceMethod.java:110)\r\n\t\tat org.springframework.web.service.invoker.HttpServiceProxyFactory$HttpServiceMethodInterceptor.invoke(HttpServiceProxyFactory.java:278)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\t\tat jdk.proxy3/jdk.proxy3.$Proxy73.getPriceIndexOnRealTime(Unknown Source)\r\n\t\tat com.github.ehayik.coindesk.BitcoinPriceIndexClientTests.givenCurrentPriceRequestWhenExchangeThenCorrect(BitcoinPriceIndexClientTests.java:35)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;application/javascript&#39; not supported for bodyType=com.github.ehayik.coindesk.BitcoinCurrentPrice\r\n\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Body from GET http://localhost:44027/bpi/currentprice.json [DefaultClientResponse]\r\nOriginal Stack Trace:\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\r\n\t\tat java.base@17/java.util.Optional.orElseGet(Optional.java:364)\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\r\n\t\tat app//org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:154)\r\n\t\tat app//org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$bodyToMono$2(DefaultWebClient.java:597)\r\n\t\tat app//reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\t\tat app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\t\tat app//reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)\r\n\t\tat app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\t\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\t\tat app//reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\t\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\t\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat app//reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\t\tat app//reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onSubscribeInner(MonoFlatMapMany.java:150)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onSubscribe(MonoFlatMapMany.java:245)\r\n\t\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\r\n\t\tat app//reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\r\n\t\tat app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\r\n\t\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:195)\r\n\t\tat app//reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n\t\tat app//reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\r\n\t\tat app//reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172)\r\n\t\tat app//reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:435)\r\n\t\tat app//reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\r\n\t\tat app//reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195)\r\n\t\tat app//reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456)\r\n\t\tat app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\r\n\t\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\t\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\t\tat app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\t\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\t\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\t\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\t\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\t\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\t\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\t\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\t\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t\tat java.base@17/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n\r\nThis is the declarative client implementation:\r\n\r\n```java\r\n@HttpExchange(url = &quot;/bpi&quot;)\r\npublic interface BitcoinPriceIndexClient {\r\n\r\n    @GetExchange(value = &quot;/currentprice.json&quot;)\r\n    Mono&lt;BitcoinCurrentPrice&gt; getPriceIndexOnRealTime();\r\n}\r\n\r\n@Setter\r\npublic class BitcoinCurrentPrice {\r\n\r\n    private BitcoinPriceIndex bpi;\r\n\r\n    public List&lt;Price&gt; getPrices() {\r\n        return List.of(bpi.usdPrice, bpi.eurPrice, bpi.gbpPrice);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @JsonRootName(value = &quot;bpi&quot;)\r\n    public static class BitcoinPriceIndex {\r\n\r\n        @JsonProperty(&quot;USD&quot;)\r\n        private Price usdPrice;\r\n\r\n        @JsonProperty(&quot;GBP&quot;)\r\n        private Price gbpPrice;\r\n\r\n        @JsonProperty(&quot;EUR&quot;)\r\n        private Price eurPrice;\r\n    }\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    public static class Price {\r\n\r\n        private String code;\r\n\r\n        @JsonProperty(&quot;rate_float&quot;)\r\n        private Double rate;\r\n    }\r\n}\r\n```\r\n\r\nThis is the client&#39;s proxy creation:\r\n\r\n```java\r\n@Bean  \r\nBitcoinPriceIndexClient bitcoinPriceIndexClient(WebClient.Builder builder, @Value(&quot;${bpi-client.url}&quot;) String url) {  \r\n    var webClient = builder.baseUrl(url).build();  \r\n  \r\n    var httpServiceProxyFactory =  \r\n            HttpServiceProxyFactory.builder(forClient(webClient)).build();  \r\n  \r\n    return httpServiceProxyFactory.createClient(BitcoinPriceIndexClient.class);  \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yL3Id.png","title":"Spring WebClient content type application/javascript not supported","body":"<p>How can I customize a <em>Spring WebClient</em> instance, to accept <code>content-type: application/javascript</code> and deserialize the JSON response body?</p>\n<p>I've implemented a <a href=\"https://github.com/ehayik/coindesk-client\" rel=\"nofollow noreferrer\">simple example</a> using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-webclient\" rel=\"nofollow noreferrer\">WebClient</a>, which consumes the <a href=\"https://api.coindesk.com/v1/bpi/currentprice.json\" rel=\"nofollow noreferrer\">CoinDesk API endpoint</a> to get the Bitcoin Price Index (BPI) in real-time.</p>\n<p>I <a href=\"https://github.com/ehayik/coindesk-client/blob/master/src/test/java/com/github/ehayik/coindesk/btc/BitcoinPriceIndexClientTests.java\" rel=\"nofollow noreferrer\">reproduced the error</a> stubbing the endpoint with WireMock.</p>\n<p>The endpoint response body content is JSON, however, its headers include <code>content-type: application/javascript</code>, as a result the <em>WebClient</em> throws the exception below:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException at WebClientResponseException.java:342\n        Caused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException at BodyExtractors.java:206\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yL3Id.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yL3Id.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the entire stacktrace:</p>\n<pre><code>200 OK from GET http://localhost:44027/bpi/currentprice.json\norg.springframework.web.reactive.function.client.WebClientResponseException: 200 OK from GET http://localhost:44027/bpi/currentprice.json\n    at app//org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:342)\n    at app//org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:213)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)\n    at app//reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onError(FluxOnErrorReturn.java:199)\n    at app//reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onError(FluxDefaultIfEmpty.java:156)\n    at app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\n    at app//reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142)\n    at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\n    at app//reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onError(FluxMapFuseable.java:340)\n    at app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onError(FluxFilterFuseable.java:382)\n    at app//reactor.core.publisher.MonoCollect$CollectSubscriber.onError(MonoCollect.java:135)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:191)\n    at app//reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:148)\n    at app//reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)\n    at app//reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:340)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at app//reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)\n    at app//reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\n    at app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\n    at app//reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onComplete(FluxTakeWhile.java:122)\n    at app//reactor.core.publisher.FluxTakeWhile$TakeWhileSubscriber.onNext(FluxTakeWhile.java:96)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n    at app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:379)\n    at app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\n    at app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:734)\n    at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n    at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n    at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base@17/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:139)\n        at reactor.core.publisher.Mono.block(Mono.java:1734)\n        at org.springframework.web.service.invoker.HttpServiceMethod$ResponseFunction.execute(HttpServiceMethod.java:301)\n        at org.springframework.web.service.invoker.HttpServiceMethod.invoke(HttpServiceMethod.java:110)\n        at org.springframework.web.service.invoker.HttpServiceProxyFactory$HttpServiceMethodInterceptor.invoke(HttpServiceProxyFactory.java:278)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n        at jdk.proxy3/jdk.proxy3.$Proxy73.getPriceIndexOnRealTime(Unknown Source)\n        at com.github.ehayik.coindesk.BitcoinPriceIndexClientTests.givenCurrentPriceRequestWhenExchangeThenCorrect(BitcoinPriceIndexClientTests.java:35)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n        at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n        at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'application/javascript' not supported for bodyType=com.github.ehayik.coindesk.BitcoinCurrentPrice\n    at app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Body from GET http://localhost:44027/bpi/currentprice.json [DefaultClientResponse]\nOriginal Stack Trace:\n        at app//org.springframework.web.reactive.function.BodyExtractors.lambda$readWithMessageReaders$12(BodyExtractors.java:206)\n        at java.base@17/java.util.Optional.orElseGet(Optional.java:364)\n        at app//org.springframework.web.reactive.function.BodyExtractors.readWithMessageReaders(BodyExtractors.java:202)\n        at app//org.springframework.web.reactive.function.BodyExtractors.lambda$toMono$2(BodyExtractors.java:84)\n        at app//org.springframework.web.reactive.function.client.DefaultClientResponse.body(DefaultClientResponse.java:134)\n        at app//org.springframework.web.reactive.function.client.DefaultClientResponse.bodyToMono(DefaultClientResponse.java:154)\n        at app//org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$bodyToMono$2(DefaultWebClient.java:597)\n        at app//reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n        at app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at app//reactor.core.publisher.FluxPeekFuseable$PeekFuseableConditionalSubscriber.onNext(FluxPeekFuseable.java:503)\n        at app//reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n        at app//reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n        at app//reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n        at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at app//reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n        at app//reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onSubscribeInner(MonoFlatMapMany.java:150)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onSubscribe(MonoFlatMapMany.java:245)\n        at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\n        at app//reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\n        at app//reactor.core.publisher.Flux.subscribe(Flux.java:8671)\n        at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onNext(MonoFlatMapMany.java:195)\n        at app//reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n        at app//reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\n        at app//reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172)\n        at app//reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:435)\n        at app//reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\n        at app//reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195)\n        at app//reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456)\n        at app//reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:647)\n        at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n        at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n        at app//io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n        at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n        at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n        at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n        at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n        at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n        at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base@17/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>This is the declarative client implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@HttpExchange(url = &quot;/bpi&quot;)\npublic interface BitcoinPriceIndexClient {\n\n    @GetExchange(value = &quot;/currentprice.json&quot;)\n    Mono&lt;BitcoinCurrentPrice&gt; getPriceIndexOnRealTime();\n}\n\n@Setter\npublic class BitcoinCurrentPrice {\n\n    private BitcoinPriceIndex bpi;\n\n    public List&lt;Price&gt; getPrices() {\n        return List.of(bpi.usdPrice, bpi.eurPrice, bpi.gbpPrice);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @JsonRootName(value = &quot;bpi&quot;)\n    public static class BitcoinPriceIndex {\n\n        @JsonProperty(&quot;USD&quot;)\n        private Price usdPrice;\n\n        @JsonProperty(&quot;GBP&quot;)\n        private Price gbpPrice;\n\n        @JsonProperty(&quot;EUR&quot;)\n        private Price eurPrice;\n    }\n\n    @Data\n    @Accessors(chain = true)\n    public static class Price {\n\n        private String code;\n\n        @JsonProperty(&quot;rate_float&quot;)\n        private Double rate;\n    }\n}\n</code></pre>\n<p>This is the client's proxy creation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean  \nBitcoinPriceIndexClient bitcoinPriceIndexClient(WebClient.Builder builder, @Value(&quot;${bpi-client.url}&quot;) String url) {  \n    var webClient = builder.baseUrl(url).build();  \n  \n    var httpServiceProxyFactory =  \n            HttpServiceProxyFactory.builder(forClient(webClient)).build();  \n  \n    return httpServiceProxyFactory.createClient(BitcoinPriceIndexClient.class);  \n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1678348133,"post_id":75681683,"comment_id":133515616,"body_markdown":"It looks like this might be a duplicate, there are lots of similar questions like https://stackoverflow.com/questions/28616569/error-creating-bean-with-name-springsecurityfilterchain, have you tried here?","body":"It looks like this might be a duplicate, there are lots of similar questions like <a href=\"https://stackoverflow.com/questions/28616569/error-creating-bean-with-name-springsecurityfilterchain\" title=\"error creating bean with name springsecurityfilterchain\">stackoverflow.com/questions/28616569/&hellip;</a>, have you tried here?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1678349880,"post_id":75681683,"comment_id":133516013,"body_markdown":"This code wouldn&#39;t even work with Spring Boot 3. So the dependencies you show here aren&#39;t your real dependencies (Spring Boot 3, or rather Spring Security 6, doesn&#39;t even include the `WebSecurityConfigurerAdapter`).","body":"This code wouldn&#39;t even work with Spring Boot 3. So the dependencies you show here aren&#39;t your real dependencies (Spring Boot 3, or rather Spring Security 6, doesn&#39;t even include the <code>WebSecurityConfigurerAdapter</code>)."}],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678450622,"creation_date":1678349495,"answer_id":75681917,"question_id":75681683,"body_markdown":"I would suggest you tried the *current* approach to Spring Security which is not to extend the `WebSecurityConfigurerAdapter` anymore ([check out here][1]). You would have to:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MySecurityConfig {\r\n    \r\n        public DataSource dataSource;\r\n\r\n    public MySecurityConfig(DataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n                .usersByUsernameQuery(&quot;select username, password, active  AS enabled from usr where username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles AS authority from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\r\n    }\r\n    \r\n        //customize this @Bean with your configuration\r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n            return http\r\n                    .csrf().disable()\r\n                    .authorizeExchange(exchanges -&gt; exchanges\r\n                            .anyExchange().authenticated()\r\n                    )\r\n                    .httpBasic(withDefaults())\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Spring Boot error creating bean with name WebSecurityConfiguration","body":"<p>I would suggest you tried the <em>current</em> approach to Spring Security which is not to extend the <code>WebSecurityConfigurerAdapter</code> anymore (<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">check out here</a>). You would have to:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n    public DataSource dataSource;\n\npublic MySecurityConfig(DataSource dataSource) {\n    this.dataSource = dataSource;\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth)\n        throws Exception {\n    auth.jdbcAuthentication()\n            .dataSource(dataSource)\n            .passwordEncoder(NoOpPasswordEncoder.getInstance())\n            .usersByUsernameQuery(&quot;select username, password, active  AS enabled from usr where username=?&quot;)\n            .authoritiesByUsernameQuery(&quot;select u.username, ur.roles AS authority from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\n}\n\n    //customize this @Bean with your configuration\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        return http\n                .csrf().disable()\n                .authorizeExchange(exchanges -&gt; exchanges\n                        .anyExchange().authenticated()\n                )\n                .httpBasic(withDefaults())\n                .build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26347676,"reputation":31,"user_id":21357565,"display_name":"Zetta_11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75681917,"answer_count":1,"score":1,"last_activity_date":1679932234,"creation_date":1678347836,"question_id":75681683,"body_markdown":"I&#39;m trying to write a site in Spring Boot and ran into a problem when adding Spring Security to the project.\r\n\r\nConstantly throws this error:\r\n\r\n&gt;Error creating bean with name &#39;org.springframework.security.config.annotation.we b.configuration.WebSecurityConfiguration&#39;:  \r\nUnsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0:  \r\nError creating bean with name &#39;defaultSecurityFilterChain&#39; defined in class path resource\r\n\r\nPOM: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.klimmenkov.spring.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CourseWork&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;CourseWork&lt;/name&gt;\r\n    &lt;description&gt;TEST&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n \r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n \r\n    &lt;build&gt;\r\n \r\n    &lt;/build&gt;\r\n \r\n&lt;/project&gt;\r\n```\r\n\r\nConfig file:\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\n \r\nimport javax.sql.DataSource;\r\n \r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n \r\n    @Autowired\r\n    private DataSource dataSource;\r\n \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/registration&quot;, &quot;/home&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .permitAll()\r\n                .and()\r\n                    .logout()\r\n                    .permitAll();\r\n    }\r\n \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\r\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried to change the version of the dependencies in the POM file, but nothing helped =(","title":"Spring Boot error creating bean with name WebSecurityConfiguration","body":"<p>I'm trying to write a site in Spring Boot and ran into a problem when adding Spring Security to the project.</p>\n<p>Constantly throws this error:</p>\n<blockquote>\n<p>Error creating bean with name 'org.springframework.security.config.annotation.we b.configuration.WebSecurityConfiguration':<br />\nUnsatisfied dependency expressed through method 'setFilterChains' parameter 0:<br />\nError creating bean with name 'defaultSecurityFilterChain' defined in class path resource</p>\n</blockquote>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.klimmenkov.spring.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;CourseWork&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CourseWork&lt;/name&gt;\n    &lt;description&gt;TEST&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n \n    &lt;build&gt;\n \n    &lt;/build&gt;\n \n&lt;/project&gt;\n</code></pre>\n<p>Config file:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\n \nimport javax.sql.DataSource;\n \n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n \n    @Autowired\n    private DataSource dataSource;\n \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                    .authorizeRequests()\n                    .antMatchers(&quot;/registration&quot;, &quot;/home&quot;).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                    .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .permitAll()\n                .and()\n                    .logout()\n                    .permitAll();\n    }\n \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication()\n                .dataSource(dataSource)\n                .passwordEncoder(NoOpPasswordEncoder.getInstance())\n                .usersByUsernameQuery(&quot;select username, password, active from usr where username=?&quot;)\n                .authoritiesByUsernameQuery(&quot;select u.username, ur.roles from usr u inner join user_role ur on u.id = ur.user_id where u.username=?&quot;);\n    }\n}\n</code></pre>\n<p>I tried to change the version of the dependencies in the POM file, but nothing helped =(</p>\n"},{"tags":["java","android","android-emulator"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1677853045,"post_id":75628155,"comment_id":133424264,"body_markdown":"Could it be this? https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions &quot;Granular media permissions&quot;","body":"Could it be this? <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/13/&hellip;</a> &quot;Granular media permissions&quot;"},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":1,"creation_date":1677853311,"post_id":75628155,"comment_id":133424360,"body_markdown":"OH SHUCKS, I scanned through that page multiple times thinking it was &quot;optional&quot;, just now I noticed the use of the word &quot;must&quot; : ** you must request one or more of the following granular media permissions instead of the READ_EXTERNAL_STORAGE permission**","body":"OH SHUCKS, I scanned through that page multiple times thinking it was &quot;optional&quot;, just now I noticed the use of the word &quot;must&quot; : ** you must request one or more of the following granular media permissions instead of the READ_EXTERNAL_STORAGE permission**"},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":1,"creation_date":1677853466,"post_id":75628155,"comment_id":133424408,"body_markdown":"yes that was the issue, I just tried READ_MEDIA_IMAGES and the request shows properly and the handler is executed, thank you so much.\nconsider writing an answer and I&#39;ll mark it accepted","body":"yes that was the issue, I just tried READ_MEDIA_IMAGES and the request shows properly and the handler is executed, thank you so much. consider writing an answer and I&#39;ll mark it accepted"}],"answers":[{"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679932220,"creation_date":1677862798,"answer_id":75629907,"question_id":75628155,"body_markdown":"As of Android 13 and above, apps that request `READ_EXTERNAL_STORAGE` must instead request one or more of the following more granular permissions:\r\n\r\n* `READ_MEDIA_IMAGES`\r\n* `READ_MEDIA_VIDEO`\r\n* `READ_MEDIA_AUDIO`\r\n\r\nReference: https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions","title":"READ_EXTERNAL_STORAGE Permission request not showing on emulator","body":"<p>As of Android 13 and above, apps that request <code>READ_EXTERNAL_STORAGE</code> must instead request one or more of the following more granular permissions:</p>\n<ul>\n<li><code>READ_MEDIA_IMAGES</code></li>\n<li><code>READ_MEDIA_VIDEO</code></li>\n<li><code>READ_MEDIA_AUDIO</code></li>\n</ul>\n<p>Reference: <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions</a></p>\n"}],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75629907,"answer_count":1,"score":3,"last_activity_date":1679932220,"creation_date":1677852688,"question_id":75628155,"body_markdown":"I&#39;m trying to set up a way to register permission result handlers after the activity is initialized, by creating a `Map&lt;Integer, Runnable&gt;` to hold the handlers, when I request permission I use a randomly generated code and save a runnable to the Map of codes/handlers.\r\n\r\nHere&#39;s what I have so far in my activity class\r\n\r\n    private final HashMap&lt;Integer, Runnable&gt; onPermission = new HashMap&lt;&gt;();\r\n\r\n    //i call this from other classes to ask for a permission and register a handler\r\n    public void requestPermission(Runnable onGranted, String...permissions) {\r\n        int code = Permissions.permissionRequestCode();\r\n        onPermission.put(code, onGranted);\r\n        requestPermissions(permissions, code);\r\n    }\r\n\r\n    //overriding this method to check if the Map has a handler for the granted request\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        Runnable handler = onPermission.get(requestCode);\r\n        if (handler != null &amp;&amp; isGranted(grantResults)) {\r\n            handler.run();\r\n            onPermission.remove(requestCode);\r\n        }\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    //utility method to check if all the requested permissions are granted\r\n    private boolean isGranted(int[] results) {\r\n        for (int i : results) {\r\n            if (i != PackageManager.PERMISSION_GRANTED) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nAnd here is an example of how this can be used, where `owner` is an my Activity instance :\r\n\r\n    private void readImages() {\r\n        if (ContextCompat.checkSelfPermission(owner, Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            loadImages();\r\n        } else {\r\n            owner.requestPermission(this::loadImages, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        }\r\n    }\r\n\r\nNow running this on an actual device (Android 12, API 31), works exactly like I would expect (the request shows, and the handler is executed when the permission is granted), however on the emulator (Android 13, API 33), nothing shows when the permission is requested, and it remains &quot;not granted&quot;, the permission doesn&#39;t even show in the &quot;App info&quot; even though it&#39;s included in the manifest.\r\n\r\nReal device : \r\n\r\n[![screenshot from the real device][1]][1]\r\n\r\nEmulator : \r\n\r\n[![screenshot from the emulator][2]][2]\r\n\r\nMy manifest :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;Mesa&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.app.Mesa&quot;\r\n                android:configChanges=&quot;uiMode|screenSize|colorMode&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMy build.gradle :\r\n\r\n    android {\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;org.luke.mesa&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            proguardFiles &#39;proguard-rules.pro&#39;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n            }\r\n    \r\n            debug {\r\n                minifyEnabled false\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n            allprojects {\r\n                tasks.withType(JavaCompile){\r\n                    options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\r\n                }\r\n            }\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n            dataBinding true\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                merges += [&#39;META-INF/DEPENDENCIES&#39;]\r\n            }\r\n        }\r\n        namespace &#39;org.luke.mesa&#39;\r\n        dependenciesInfo {\r\n            includeInApk true\r\n            includeInBundle true\r\n        }\r\n        buildToolsVersion &#39;33.0.0&#39;\r\n    }\r\n\r\npossible duplicates which didn&#39;t solve my problem : \r\n\r\n- [No permissions granted on Android emulator][3]\r\n- [Permissions Dialog not showing in Android 11][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MU1Yd.jpg\r\n  [2]: https://i.stack.imgur.com/a2yhD.png\r\n  [3]: https://stackoverflow.com/questions/32213608/no-permissions-granted-on-android-emulator\r\n  [4]: https://stackoverflow.com/questions/69102394/permissions-dialog-not-showing-in-android-11","title":"READ_EXTERNAL_STORAGE Permission request not showing on emulator","body":"<p>I'm trying to set up a way to register permission result handlers after the activity is initialized, by creating a <code>Map&lt;Integer, Runnable&gt;</code> to hold the handlers, when I request permission I use a randomly generated code and save a runnable to the Map of codes/handlers.</p>\n<p>Here's what I have so far in my activity class</p>\n<pre><code>private final HashMap&lt;Integer, Runnable&gt; onPermission = new HashMap&lt;&gt;();\n\n//i call this from other classes to ask for a permission and register a handler\npublic void requestPermission(Runnable onGranted, String...permissions) {\n    int code = Permissions.permissionRequestCode();\n    onPermission.put(code, onGranted);\n    requestPermissions(permissions, code);\n}\n\n//overriding this method to check if the Map has a handler for the granted request\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    Runnable handler = onPermission.get(requestCode);\n    if (handler != null &amp;&amp; isGranted(grantResults)) {\n        handler.run();\n        onPermission.remove(requestCode);\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\n//utility method to check if all the requested permissions are granted\nprivate boolean isGranted(int[] results) {\n    for (int i : results) {\n        if (i != PackageManager.PERMISSION_GRANTED) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>And here is an example of how this can be used, where <code>owner</code> is an my Activity instance :</p>\n<pre><code>private void readImages() {\n    if (ContextCompat.checkSelfPermission(owner, Manifest.permission.READ_EXTERNAL_STORAGE)\n            == PackageManager.PERMISSION_GRANTED) {\n        loadImages();\n    } else {\n        owner.requestPermission(this::loadImages, Manifest.permission.READ_EXTERNAL_STORAGE);\n    }\n}\n</code></pre>\n<p>Now running this on an actual device (Android 12, API 31), works exactly like I would expect (the request shows, and the handler is executed when the permission is granted), however on the emulator (Android 13, API 33), nothing shows when the permission is requested, and it remains &quot;not granted&quot;, the permission doesn't even show in the &quot;App info&quot; even though it's included in the manifest.</p>\n<p>Real device :</p>\n<p><a href=\"https://i.stack.imgur.com/MU1Yd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MU1Yd.jpg\" alt=\"screenshot from the real device\" /></a></p>\n<p>Emulator :</p>\n<p><a href=\"https://i.stack.imgur.com/a2yhD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2yhD.png\" alt=\"screenshot from the emulator\" /></a></p>\n<p>My manifest :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;Mesa&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\n        &lt;activity\n            android:name=&quot;.app.Mesa&quot;\n            android:configChanges=&quot;uiMode|screenSize|colorMode&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.Mesa.NoActionBar&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>My build.gradle :</p>\n<pre><code>android {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;org.luke.mesa&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        proguardFiles 'proguard-rules.pro'\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n        }\n\n        debug {\n            minifyEnabled false\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n        allprojects {\n            tasks.withType(JavaCompile){\n                options.compilerArgs &lt;&lt;&quot;-Xlint:deprecation&quot;\n            }\n        }\n    }\n    buildFeatures {\n        viewBinding true\n        dataBinding true\n    }\n    packagingOptions {\n        resources {\n            merges += ['META-INF/DEPENDENCIES']\n        }\n    }\n    namespace 'org.luke.mesa'\n    dependenciesInfo {\n        includeInApk true\n        includeInBundle true\n    }\n    buildToolsVersion '33.0.0'\n}\n</code></pre>\n<p>possible duplicates which didn't solve my problem :</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32213608/no-permissions-granted-on-android-emulator\">No permissions granted on Android emulator</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69102394/permissions-dialog-not-showing-in-android-11\">Permissions Dialog not showing in Android 11</a></li>\n</ul>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","concurrenthashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1405969928,"post_id":24872732,"comment_id":38630977,"body_markdown":"First, there&#39;s only ~3k lines of code.","body":"First, there&#39;s only ~3k lines of code."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1405970047,"post_id":24872732,"comment_id":38631042,"body_markdown":"Besides which, since when is 6K lines of code &quot;enormous&quot;?","body":"Besides which, since when is 6K lines of code &quot;enormous&quot;?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1405970144,"post_id":24872732,"comment_id":38631106,"body_markdown":"@HotLicks 6KLOC is a pretty monstrous single class. CHM gets some slack for including a bunch of nested classes.","body":"@HotLicks 6KLOC is a pretty monstrous single class. CHM gets some slack for including a bunch of nested classes."},{"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"score":0,"creation_date":1405970289,"post_id":24872732,"comment_id":38631186,"body_markdown":"@DaveNewton I think the OP was also counting comments + javadoc in the 6k total","body":"@DaveNewton I think the OP was also counting comments + javadoc in the 6k total"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1405971042,"post_id":24872732,"comment_id":38631584,"body_markdown":"@dkatzel Obviously, but they don&#39;t add to the complexity of the code. It&#39;s not 6KLoC.","body":"@dkatzel Obviously, but they don&#39;t add to the complexity of the code. It&#39;s not 6KLoC."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405973050,"post_id":24872732,"comment_id":38632677,"body_markdown":"@DaveNewton I think i&#39;ll edit my question for better language.","body":"@DaveNewton I think i&#39;ll edit my question for better language."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405973345,"post_id":24872732,"comment_id":38632814,"body_markdown":"@DaveNewton hi Dave i have edited my question focusing on  the main issue i wanted to ask. Thanks for pointing out why my question was unconstructive","body":"@DaveNewton hi Dave i have edited my question focusing on  the main issue i wanted to ask. Thanks for pointing out why my question was unconstructive"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405974858,"post_id":24872732,"comment_id":38633606,"body_markdown":"@Todd if you think if the edited question is now constructive and not too broad please vote to reopen it. Or suggest me to make the question better or anyother place where i can get my answer. thanks all","body":"@Todd if you think if the edited question is now constructive and not too broad please vote to reopen it. Or suggest me to make the question better or anyother place where i can get my answer. thanks all"},{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":0,"creation_date":1405975689,"post_id":24872732,"comment_id":38634015,"body_markdown":"It&#39;s still &quot;too broad&quot; as the term is used here. Stack Overflow is [a Q&amp;A resource, not a help forum](http://meta.stackoverflow.com/a/92115/228805). It&#39;s for specific questions about coding that can have definite correct answers. A question pointing to some code and asking in general terms for help understanding what it does or how it works is off-topic, as are requests for references, tutorials, or feature comparisons between products. You need to identify a specific question about the code--what part don&#39;t you understand, and what specifically don&#39;t you understand about it?","body":"It&#39;s still &quot;too broad&quot; as the term is used here. Stack Overflow is <a href=\"http://meta.stackoverflow.com/a/92115/228805\">a Q&amp;A resource, not a help forum</a>. It&#39;s for specific questions about coding that can have definite correct answers. A question pointing to some code and asking in general terms for help understanding what it does or how it works is off-topic, as are requests for references, tutorials, or feature comparisons between products. You need to identify a specific question about the code--what part don&#39;t you understand, and what specifically don&#39;t you understand about it?"},{"owner":{"account_id":1297739,"reputation":12185,"user_id":1248365,"accept_rate":62,"display_name":"Adi Inbar"},"score":0,"creation_date":1405975735,"post_id":24872732,"comment_id":38634039,"body_markdown":"Also, ***include all relevant information in the question*** rather than linking. Please read the following advice on asking questions: [Writing the perfect question](http://goo.gl/1tBMnR).","body":"Also, <b><i>include all relevant information in the question</i></b> rather than linking. Please read the following advice on asking questions: <a href=\"http://goo.gl/1tBMnR\" rel=\"nofollow noreferrer\">Writing the perfect question</a>."},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976821,"post_id":24872732,"comment_id":38634660,"body_markdown":"@AdiInbar thanks. I have narrowed down the question to be very specific. If you think if its not to broad. Please vote to reopen","body":"@AdiInbar thanks. I have narrowed down the question to be very specific. If you think if its not to broad. Please vote to reopen"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976876,"post_id":24872732,"comment_id":38634683,"body_markdown":"@Eran Hi i edited my question to very specific, if you think its fine please vote for reopen","body":"@Eran Hi i edited my question to very specific, if you think its fine please vote for reopen"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1405976922,"post_id":24872732,"comment_id":38634703,"body_markdown":"@DonBranson Hi i have edited my question to very specific, if you think its fine please vote for reopen","body":"@DonBranson Hi i have edited my question to very specific, if you think its fine please vote for reopen"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1408704392,"post_id":24872732,"comment_id":39700339,"body_markdown":"See http://openjdk.java.net/jeps/180 “*In the case of high hash collisions, this will improve worst-case performance from O(n) to O(log n).*”","body":"See <a href=\"http://openjdk.java.net/jeps/180\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/180</a> “<i>In the case of high hash collisions, this will improve worst-case performance from O(n) to O(log n).</i>”"},{"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"score":0,"creation_date":1408815114,"post_id":24872732,"comment_id":39737325,"body_markdown":"@Holger thanks for the link its valuable","body":"@Holger thanks for the link its valuable"}],"answers":[{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1405970725,"creation_date":1405970045,"answer_id":24872895,"question_id":24872732,"body_markdown":"The main changes are to add `ConcurrentHashMap` specific implementations of the new Java 8 default `Map` methods with better concurrent implementations that rely on the internal details.  These changes required lots of new inner classes which bloat the .java file\r\n\r\nFor example, some of these methods include:\r\n\r\n[compute(K key, BiFunction&lt;? super K,? super V,? extends V&gt; remappingFunction)][1]\r\n\r\n[forEach(BiConsumer&lt;? super K,? super V&gt; action)][2]\r\n\r\n[merge(K key, V value, BiFunction&lt;? super V,? super V,? extends V&gt; remappingFunction)][3]\r\n\r\nJust to name a few.\r\n\r\nI think this also shows why you usually shouldn&#39;t care about implementation details on how a class you don&#39;t have to maintain works.  As long as the class follows the contract laid out in its javadoc, you should be agnostic of how it works since the implementation details can change in the future.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"ConcurrentHashMap jdk 8 Uses TreeNodes instead of List .. Why?","body":"<p>The main changes are to add <code>ConcurrentHashMap</code> specific implementations of the new Java 8 default <code>Map</code> methods with better concurrent implementations that rely on the internal details.  These changes required lots of new inner classes which bloat the .java file</p>\n\n<p>For example, some of these methods include:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow\">compute(K key, BiFunction remappingFunction)</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\" rel=\"nofollow\">forEach(BiConsumer action)</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow\">merge(K key, V value, BiFunction remappingFunction)</a></p>\n\n<p>Just to name a few.</p>\n\n<p>I think this also shows why you usually shouldn't care about implementation details on how a class you don't have to maintain works.  As long as the class follows the contract laid out in its javadoc, you should be agnostic of how it works since the implementation details can change in the future.</p>\n"}],"owner":{"account_id":2081572,"reputation":2454,"user_id":1853458,"accept_rate":85,"display_name":"veritas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3416,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"accepted_answer_id":24872895,"answer_count":1,"score":0,"last_activity_date":1679932151,"creation_date":1405969522,"question_id":24872732,"body_markdown":"Hi i know the workings of `ConcurrentHashMap` before JDK 8. \r\nI also understood the code: it was pretty modular and not very hard to understand. \r\n\r\nThe code of `ConcurrentHashMap` in JDK 8 has changed a lot from its previous implementations.\r\n\r\nBecause this question was classified as too broad I will now try to be very specific.\r\n\r\nCHMv8 uses a TreeBin (a variant of RedBlackTree) for buckets rather than a linked list.\r\n\r\nSo my question what is the main advantage of using TreeBin over a linked list?\r\n\r\n[Source code here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/concurrent/ConcurrentHashMap.java)\r\n","title":"ConcurrentHashMap jdk 8 Uses TreeNodes instead of List .. Why?","body":"<p>Hi i know the workings of <code>ConcurrentHashMap</code> before JDK 8. \nI also understood the code: it was pretty modular and not very hard to understand. </p>\n\n<p>The code of <code>ConcurrentHashMap</code> in JDK 8 has changed a lot from its previous implementations.</p>\n\n<p>Because this question was classified as too broad I will now try to be very specific.</p>\n\n<p>CHMv8 uses a TreeBin (a variant of RedBlackTree) for buckets rather than a linked list.</p>\n\n<p>So my question what is the main advantage of using TreeBin over a linked list?</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/concurrent/ConcurrentHashMap.java\" rel=\"nofollow noreferrer\">Source code here</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679906855,"post_id":75853414,"comment_id":133798413,"body_markdown":"The class names in the stacktrace suggest you&#39;re using MySQL Connector/J version 5.1.x, not 8.0.x. Make sure you don&#39;t have some older version pulled in, or on the class path.","body":"The class names in the stacktrace suggest you&#39;re using MySQL Connector/J version 5.1.x, not 8.0.x. Make sure you don&#39;t have some older version pulled in, or on the class path."},{"owner":{"account_id":28134112,"reputation":1,"user_id":21498134,"display_name":"Kim"},"score":1,"creation_date":1679919675,"post_id":75853414,"comment_id":133801670,"body_markdown":"Thank you for reply. I found a MySQL Connector/J version 5.1.x in tomcat/lib, and after removing it, the problem was resolved.","body":"Thank you for reply. I found a MySQL Connector/J version 5.1.x in tomcat/lib, and after removing it, the problem was resolved."}],"owner":{"account_id":28134112,"reputation":1,"user_id":21498134,"display_name":"Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679931950,"answer_count":0,"score":0,"last_activity_date":1679931971,"creation_date":1679904293,"question_id":75853414,"body_markdown":"I&#39;m practicing create an SSM project and trying to connect to MySQL 8.0.32, but I&#39;m encountering some problems.\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.4.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.9.5.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\napplicationContext.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans ...&gt;\r\n\t\r\n\t&lt;context:component-scan base-package=&quot;com.example&quot;&gt;\r\n\t\t&lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;\r\n\t&lt;/context:component-scan&gt;\r\n\r\n\t&lt;context:property-placeholder location=&quot;classpath:dbconfig.properties&quot;/&gt;\r\n\t&lt;bean id=&quot;pooledDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;basePackage&quot; value=&quot;com.example.crud.dao&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;aop:config&gt;\r\n\t\t&lt;aop:pointcut expression=&quot;execution(* com.example.crud.service..*(..))&quot; id=&quot;txPoint&quot;/&gt;\r\n\t\t&lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPoint&quot;/&gt;\r\n\t&lt;/aop:config&gt;\r\n\r\n\t&lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\r\n\t\t&lt;tx:attributes&gt;\r\n\t\t\t&lt;tx:method name=&quot;*&quot;/&gt;\r\n\t\t\t&lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n\t\t&lt;/tx:attributes&gt;\r\n\t&lt;/tx:advice&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\n\r\ndbconfig.properties\r\n\r\n```none\r\njdbc.jdbcUrl=jdbc:mysql://localhost:3306/DemoSSM?serverTimezone=GMT%2B8&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\r\njdbc.driverClass=com.mysql.cj.jdbc.Driver\r\njdbc.user=root\r\njdbc.password=system\r\n```\r\n\r\nCode\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\r\npublic class MapperTest {\r\n\t\r\n\t@Autowired\r\n\tDepartmentMapper departmentMapper;\r\n\t\r\n\t@Test\r\n\tpublic void testCRUD() {\r\n\r\n\t\tSystem.out.println(departmentMapper);\r\n\t\tDepartment vo = new Department();\r\n\t\tvo.setDeptName(&quot;RD&quot;);\r\n\t\tdepartmentMapper.insertSelective(vo);\r\n\t}\r\n}\r\n```\r\n\r\nthrows this:\r\n\r\n```none\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server.\r\n\tat sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:360)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:924)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:870)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2311)\r\n\tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2064)\r\n\tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790)\r\n\tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\r\n\tat sun.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\r\n\tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:395)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2983)\r\n\tat com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1873)\r\n\tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1802)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1206)\r\n\tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2234)\r\n\tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2265)\r\n\t... 18 more\r\n```\r\n\r\nI successfully generated files using MyBatis-Generator.\r\n\r\nI have upgraded the mysql-connector-j to 8.0.32, but the problem still persists.","title":"Can&#39;t connect to mysql 8.0.32 com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException","body":"<p>I'm practicing create an SSM project and trying to connect to MySQL 8.0.32, but I'm encountering some problems.</p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n        &lt;version&gt;0.9.5.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>applicationContext.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans ...&gt;\n    \n    &lt;context:component-scan base-package=&quot;com.example&quot;&gt;\n        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;\n    &lt;/context:component-scan&gt;\n\n    &lt;context:property-placeholder location=&quot;classpath:dbconfig.properties&quot;/&gt;\n    &lt;bean id=&quot;pooledDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.jdbcUrl}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.user}&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\n\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;\n        &lt;property name=&quot;basePackage&quot; value=&quot;com.example.crud.dao&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;pooledDataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;aop:config&gt;\n        &lt;aop:pointcut expression=&quot;execution(* com.example.crud.service..*(..))&quot; id=&quot;txPoint&quot;/&gt;\n        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;txPoint&quot;/&gt;\n    &lt;/aop:config&gt;\n\n    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;*&quot;/&gt;\n            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>dbconfig.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc.jdbcUrl=jdbc:mysql://localhost:3306/DemoSSM?serverTimezone=GMT%2B8&amp;useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8\njdbc.driverClass=com.mysql.cj.jdbc.Driver\njdbc.user=root\njdbc.password=system\n</code></pre>\n<p>Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;})\npublic class MapperTest {\n    \n    @Autowired\n    DepartmentMapper departmentMapper;\n    \n    @Test\n    public void testCRUD() {\n\n        System.out.println(departmentMapper);\n        Department vo = new Department();\n        vo.setDeptName(&quot;RD&quot;);\n        departmentMapper.insertSelective(vo);\n    }\n}\n</code></pre>\n<p>throws this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Could not create connection to database server.\n    at sun.reflect.GeneratedConstructorAccessor16.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\n    at com.mysql.jdbc.Util.getInstance(Util.java:360)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:924)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:870)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2311)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2064)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:790)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44)\n    at sun.reflect.GeneratedConstructorAccessor9.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:395)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\n    at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\nCaused by: java.lang.NullPointerException\n    at com.mysql.jdbc.ConnectionImpl.getServerCharset(ConnectionImpl.java:2983)\n    at com.mysql.jdbc.MysqlIO.sendConnectionAttributes(MysqlIO.java:1873)\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1802)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1206)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2234)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2265)\n    ... 18 more\n</code></pre>\n<p>I successfully generated files using MyBatis-Generator.</p>\n<p>I have upgraded the mysql-connector-j to 8.0.32, but the problem still persists.</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":417733,"reputation":2685,"user_id":793896,"display_name":"Grant Fritchey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679931788,"creation_date":1679931788,"answer_id":75857732,"question_id":75857387,"body_markdown":"What you&#39;re looking for is the baseline command. This rolls up all the migrations so that only new migrations are used. [You can read about it here][1].\r\n\r\n\r\n  [1]: https://documentation.red-gate.com/fd/baseline-184127456.html","title":"How decrease flyway migration","body":"<p>What you're looking for is the baseline command. This rolls up all the migrations so that only new migrations are used. <a href=\"https://documentation.red-gate.com/fd/baseline-184127456.html\" rel=\"nofollow noreferrer\">You can read about it here</a>.</p>\n"}],"owner":{"account_id":2626463,"reputation":11,"user_id":2273352,"display_name":"petrovich_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679931788,"creation_date":1679929675,"question_id":75857387,"body_markdown":"I have more 200 migration of flyway at the moment on prod project. It&#39;s problem for my tests, because they run long time. Is there a right way for decrease count migration files? Maybe best way begin of blank page? Data is very critical \r\n\r\n I&#39;ve no idea at the moment","title":"How decrease flyway migration","body":"<p>I have more 200 migration of flyway at the moment on prod project. It's problem for my tests, because they run long time. Is there a right way for decrease count migration files? Maybe best way begin of blank page? Data is very critical</p>\n<p>I've no idea at the moment</p>\n"},{"tags":["java","spring","spring-security","oauth","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1516300977,"creation_date":1516300977,"answer_id":48328234,"question_id":48024725,"body_markdown":"For the history, hope that&#39;d help someone like me struggling with that.\r\n\r\nI didn&#39;t find a better way than the initial one and made a custom `InternalOAuth2Details` to hold a token value obtained from Spring&#39;s OAuth services. Then, in the `FeignAccessTokenRelyInterceptor` I simply check if current details are `InternalOAuth2Details` and try to get a token value from it, as follows:\r\n\r\n    @Override\r\n    public void apply(RequestTemplate template) {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (auth != null){\r\n            String tokenValue = null;\r\n            if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\r\n                OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\r\n                tokenValue = details.getTokenValue();\r\n            } else if (auth.getDetails() instanceof InternalOAuth2Details) {\r\n                InternalOAuth2Details details = (InternalOAuth2Details) auth.getDetails();\r\n                tokenValue = details.getTokenValue();\r\n            }\r\n            if (tokenValue == null) {\r\n                log.warn(&quot;Current token value is null&quot;);\r\n                return;\r\n            }\r\n            template.header(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenValue);\r\n        }\r\n    }\r\n\r\nI bet it isn&#39;t the best solution, but it seems to work quite stable as of now.","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>For the history, hope that'd help someone like me struggling with that.</p>\n\n<p>I didn't find a better way than the initial one and made a custom <code>InternalOAuth2Details</code> to hold a token value obtained from Spring's OAuth services. Then, in the <code>FeignAccessTokenRelyInterceptor</code> I simply check if current details are <code>InternalOAuth2Details</code> and try to get a token value from it, as follows:</p>\n\n<pre><code>@Override\npublic void apply(RequestTemplate template) {\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    if (auth != null){\n        String tokenValue = null;\n        if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\n            OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\n            tokenValue = details.getTokenValue();\n        } else if (auth.getDetails() instanceof InternalOAuth2Details) {\n            InternalOAuth2Details details = (InternalOAuth2Details) auth.getDetails();\n            tokenValue = details.getTokenValue();\n        }\n        if (tokenValue == null) {\n            log.warn(\"Current token value is null\");\n            return;\n        }\n        template.header(\"Authorization\", \"Bearer \" + tokenValue);\n    }\n}\n</code></pre>\n\n<p>I bet it isn't the best solution, but it seems to work quite stable as of now.</p>\n"},{"tags":[],"owner":{"account_id":28139590,"reputation":1,"user_id":21502859,"display_name":"declan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679931117,"creation_date":1679931117,"answer_id":75857625,"question_id":48024725,"body_markdown":"InternalOAuth2Details out of date\r\n","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>InternalOAuth2Details out of date</p>\n"}],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2401,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48328234,"answer_count":2,"score":4,"last_activity_date":1679931117,"creation_date":1514560913,"question_id":48024725,"body_markdown":"I&#39;m trying to solve a puzzle with enabling OAuth2-based authentication for my Feign client that is used for cross-service communication. \r\n\r\nIn normal cases, when a user pushes a request through API, I&#39;m able to take all authentication details needed from the Spring&#39;s `SecurityContextHolder` (as it normally does its job and fills all the details objects) and enhance Feign&#39;s `Request` as follows:\r\n\r\n    public class FeignAccessTokenRelyInterceptor implements RequestInterceptor {\r\n        private static final Logger log = LoggerFactory.getLogger(FeignAccessTokenRelyInterceptor.class);\r\n    \r\n        @Override\r\n        public void apply(RequestTemplate template) {\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            if (auth != null){\r\n                String tokenValue = null;\r\n                if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\r\n                    OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\r\n                    tokenValue = details.getTokenValue();\r\n                }\r\n                if (tokenValue == null) {\r\n                    log.warn(&quot;Current token value is null&quot;);\r\n                    return;\r\n                }\r\n                template.header(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenValue);\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, when it comes to scheduled calls that are triggered inside the system, the `SecurityContext` is obviously empty. I&#39;m filling it with `UserInfoTokenServices` by manually requesting the access token by client credentials flow beforehand and loading user details:\r\n\r\n    OAuth2Authentication authentication = userInfoTokenServices.loadAuthentication(accessToken);\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nBut such construction doesn&#39;t fill `OAuth2Authentication.details`, on which I rely to get an access token. I tried extending `OAuth2AuthenticationDetails`, but the only constructor requires `HttpServletRequest` which is hard to get inside a scheduled task, and making a dummy instance of it feels like a bad choice.\r\n\r\nSo far, I see the only adequate option to make a separate custom implementation of details holder and pass it to `OAuth2Authentication` along with the access token I have. And then pick it up in `FeignAccessTokenRelyInterceptor`.\r\n\r\n**The question**\r\n\r\nMaybe there are some other options where I can store my access token in the security context and reliably get it from there, in order not to produce new custom classes?\r\n\r\nWill be glad for any help.\r\n\r\nSome related links I&#39;ve studied:\r\n\r\n - https://stackoverflow.com/questions/35056169/how-to-get-custom-user-info-from-oauth2-authorization-server-user-endpoint\r\n - https://stackoverflow.com/questions/40526361/spring-boot-spring-cloud-spring-security-how-to-correctly-obtain-an-oauth2\r\n - https://stackoverflow.com/questions/44297496/spring-feignclient-oauth2-and-scheduled-not-working\r\n - https://stackoverflow.com/questions/29684505/how-can-i-authenticate-a-system-user-for-scheduled-processes-in-spring","title":"Enabling OAuth2 with Feign for scheduled cross-service tasks","body":"<p>I'm trying to solve a puzzle with enabling OAuth2-based authentication for my Feign client that is used for cross-service communication. </p>\n\n<p>In normal cases, when a user pushes a request through API, I'm able to take all authentication details needed from the Spring's <code>SecurityContextHolder</code> (as it normally does its job and fills all the details objects) and enhance Feign's <code>Request</code> as follows:</p>\n\n<pre><code>public class FeignAccessTokenRelyInterceptor implements RequestInterceptor {\n    private static final Logger log = LoggerFactory.getLogger(FeignAccessTokenRelyInterceptor.class);\n\n    @Override\n    public void apply(RequestTemplate template) {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        if (auth != null){\n            String tokenValue = null;\n            if (auth.getDetails() instanceof OAuth2AuthenticationDetails) {\n                OAuth2AuthenticationDetails details = (OAuth2AuthenticationDetails) auth.getDetails();\n                tokenValue = details.getTokenValue();\n            }\n            if (tokenValue == null) {\n                log.warn(\"Current token value is null\");\n                return;\n            }\n            template.header(\"Authorization\", \"Bearer \" + tokenValue);\n        }\n    }\n}\n</code></pre>\n\n<p>However, when it comes to scheduled calls that are triggered inside the system, the <code>SecurityContext</code> is obviously empty. I'm filling it with <code>UserInfoTokenServices</code> by manually requesting the access token by client credentials flow beforehand and loading user details:</p>\n\n<pre><code>OAuth2Authentication authentication = userInfoTokenServices.loadAuthentication(accessToken);\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n\n<p>But such construction doesn't fill <code>OAuth2Authentication.details</code>, on which I rely to get an access token. I tried extending <code>OAuth2AuthenticationDetails</code>, but the only constructor requires <code>HttpServletRequest</code> which is hard to get inside a scheduled task, and making a dummy instance of it feels like a bad choice.</p>\n\n<p>So far, I see the only adequate option to make a separate custom implementation of details holder and pass it to <code>OAuth2Authentication</code> along with the access token I have. And then pick it up in <code>FeignAccessTokenRelyInterceptor</code>.</p>\n\n<p><strong>The question</strong></p>\n\n<p>Maybe there are some other options where I can store my access token in the security context and reliably get it from there, in order not to produce new custom classes?</p>\n\n<p>Will be glad for any help.</p>\n\n<p>Some related links I've studied:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35056169/how-to-get-custom-user-info-from-oauth2-authorization-server-user-endpoint\">How to get custom user info from OAuth2 authorization server /user endpoint</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40526361/spring-boot-spring-cloud-spring-security-how-to-correctly-obtain-an-oauth2\">Spring Boot / Spring Cloud / Spring Security: How to correctly obtain an OAuth2 Access Token in a scheduled task</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44297496/spring-feignclient-oauth2-and-scheduled-not-working\">Spring @FeignClient , OAuth2 and @Scheduled not working</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29684505/how-can-i-authenticate-a-system-user-for-scheduled-processes-in-spring\">How can I authenticate a system user for scheduled processes in Spring?</a></li>\n</ul>\n"},{"tags":["java","swing","jtextarea"],"comments":[{"owner":{"account_id":1205124,"reputation":94,"user_id":1174952,"display_name":"ntprintf"},"score":0,"creation_date":1623859213,"post_id":68006106,"comment_id":120199854,"body_markdown":"Could you please provide the code that you use. The problem on this topic is usually happen when you getSize() before these have actual size for example you call getSize before it render or call pack() or set visible on the root container. Another reason is the size is change by the layout you use.","body":"Could you please provide the code that you use. The problem on this topic is usually happen when you getSize() before these have actual size for example you call getSize before it render or call pack() or set visible on the root container. Another reason is the size is change by the layout you use."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1623860382,"post_id":68006106,"comment_id":120200401,"body_markdown":"Don&#39;t use  a null layout or AbsoluteLayout.  Swing was designed to be used with layout managers. Post an [mre] demonstrating your problem.","body":"Don&#39;t use  a null layout or AbsoluteLayout.  Swing was designed to be used with layout managers. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1623861132,"post_id":68006106,"comment_id":120200736,"body_markdown":"(1-) This question can&#39;t be answered because the OP has not provided the full context of the question. See the OP&#39;s last question for full context: https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form","body":"(1-) This question can&#39;t be answered because the OP has not provided the full context of the question. See the OP&#39;s last question for full context: <a href=\"https://stackoverflow.com/questions/68003700/how-to-resize-jtextarea-so-it-could-fit-all-text-in-it-and-make-the-jpanel-form\" title=\"how to resize jtextarea so it could fit all text in it and make the jpanel form\">stackoverflow.com/questions/68003700/&hellip;</a>"},{"owner":{"account_id":17972371,"reputation":3,"user_id":13060801,"display_name":"progprog"},"score":0,"creation_date":1623900508,"post_id":68006106,"comment_id":120210408,"body_markdown":"@camickr Ah im sorry, im new here... Thank you for pointing out the best way to post. Also thank you for your answer too, that&#39;s helping me to find the answer today. I already changed my layout manager not null or absolute again, but using box layout. And for getting the height of the jTextarea, im calculating it manually because my width is constant value so i could calculate it using the logic of the George below.","body":"@camickr Ah im sorry, im new here... Thank you for pointing out the best way to post. Also thank you for your answer too, that&#39;s helping me to find the answer today. I already changed my layout manager not null or absolute again, but using box layout. And for getting the height of the jTextarea, im calculating it manually because my width is constant value so i could calculate it using the logic of the George below."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1623904552,"post_id":68006106,"comment_id":120211143,"body_markdown":"@progprog *for getting the height of the jTextarea, im calculating it manually* - how?   Your question asks how to calculate the height of the text, not the text area itself. You don&#39;t know how many lines there will be in the text area because of wrapping of the text. The solution provided by George only calculates the height of the text area itself, not of the text. *Also thank you for your answer too,* - well you should reply where the suggestion was given so that other who read the question/suggestion know it provided some help.","body":"@progprog <i>for getting the height of the jTextarea, im calculating it manually</i> - how?   Your question asks how to calculate the height of the text, not the text area itself. You don&#39;t know how many lines there will be in the text area because of wrapping of the text. The solution provided by George only calculates the height of the text area itself, not of the text. <i>Also thank you for your answer too,</i> - well you should reply where the suggestion was given so that other who read the question/suggestion know it provided some help."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1623939359,"post_id":68006106,"comment_id":120225116,"body_markdown":"@progprog You can get the height of the text in a single statement. But I guess that is not your requirement. Since you haven&#39;t posted an [mre] and clarified your requirement based on my comment above.","body":"@progprog You can get the height of the text in a single statement. But I guess that is not your requirement. Since you haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and clarified your requirement based on my comment above."}],"answers":[{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1623859197,"creation_date":1623859197,"answer_id":68006238,"question_id":68006106,"body_markdown":"(If I understood your question)\r\n\r\nJust take the number of lines that exist on the textArea and the height of each line and multiply them:\r\n\r\nAn example:\r\n\r\n    public class ProductsFrame extends JFrame {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(ProductsFrame::runExample);\r\n    \t}\r\n    \r\n    \tprivate static void runExample() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tJTextArea textArea = new JTextArea(10, 10);\r\n    \r\n    \t\tframe.setLayout(new BorderLayout());\r\n    \r\n    \t\tframe.add(new JScrollPane(textArea));\r\n    \r\n    \t\ttextArea.addCaretListener(e -&gt; {\r\n    \t\t\tint linesWithText = textArea.getLineCount();\r\n    \t\t\tint heightOfEachLine = textArea.getFontMetrics(textArea.getFont()).getHeight();\r\n    \r\n    \t\t\tint heightOfText = linesWithText * heightOfEachLine;\r\n    \r\n    \t\t\tSystem.out.println(&quot;TEXt HEIGHT:&quot; + heightOfText);\r\n    \t\t\tSystem.out.println(&quot;TEXT AREA HEIGHT:&quot; + textArea.getSize().height);\r\n    \t\t});\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n","title":"How to know the height of the text contained in JTextArea?","body":"<p>(If I understood your question)</p>\n<p>Just take the number of lines that exist on the textArea and the height of each line and multiply them:</p>\n<p>An example:</p>\n<pre><code>public class ProductsFrame extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(ProductsFrame::runExample);\n    }\n\n    private static void runExample() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JTextArea textArea = new JTextArea(10, 10);\n\n        frame.setLayout(new BorderLayout());\n\n        frame.add(new JScrollPane(textArea));\n\n        textArea.addCaretListener(e -&gt; {\n            int linesWithText = textArea.getLineCount();\n            int heightOfEachLine = textArea.getFontMetrics(textArea.getFont()).getHeight();\n\n            int heightOfText = linesWithText * heightOfEachLine;\n\n            System.out.println(&quot;TEXt HEIGHT:&quot; + heightOfText);\n            System.out.println(&quot;TEXT AREA HEIGHT:&quot; + textArea.getSize().height);\n        });\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283267,"reputation":847,"user_id":580672,"accept_rate":83,"display_name":"Philippp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679930548,"creation_date":1679930548,"answer_id":75857538,"question_id":68006106,"body_markdown":"I found `textArea.getPreferredScrollableViewportSize()` very helpful - it contains the area that the textfield would need to fully display without scrolling.","title":"How to know the height of the text contained in JTextArea?","body":"<p>I found <code>textArea.getPreferredScrollableViewportSize()</code> very helpful - it contains the area that the textfield would need to fully display without scrolling.</p>\n"}],"owner":{"account_id":17972371,"reputation":3,"user_id":13060801,"display_name":"progprog"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":68006238,"answer_count":2,"score":-3,"last_activity_date":1679930548,"creation_date":1623858681,"question_id":68006106,"body_markdown":"I already used `getPreferredSize()`, `getSize()`, `getMaximumSize()`, and `getMinimumSize()`. But none of them give me an accurate height of the text in the `JTextArea`.\r\n\r\n```\r\nJTextArea txt = new JTextArea();\r\ntxt.setColumns(20);\r\ntxt.setLineWrap(true);\r\ntxt.setRows(1);\r\ntxt.setToolTipText(&quot;&quot;);\r\ntxt.setWrapStyleWord(true);\r\ntxt.setAutoscrolls(false);\r\ntxt.setBorder(null);\r\ntxt.setText(&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;);\r\nadd(txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 40, 540, -1));\r\nJOptionPane.ShowMessageDialog(null, txt.getPreferredSize().height);\r\n```\r\n\r\n","title":"How to know the height of the text contained in JTextArea?","body":"<p>I already used <code>getPreferredSize()</code>, <code>getSize()</code>, <code>getMaximumSize()</code>, and <code>getMinimumSize()</code>. But none of them give me an accurate height of the text in the <code>JTextArea</code>.</p>\n<pre><code>JTextArea txt = new JTextArea();\ntxt.setColumns(20);\ntxt.setLineWrap(true);\ntxt.setRows(1);\ntxt.setToolTipText(&quot;&quot;);\ntxt.setWrapStyleWord(true);\ntxt.setAutoscrolls(false);\ntxt.setBorder(null);\ntxt.setText(&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;);\nadd(txt, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 40, 540, -1));\nJOptionPane.ShowMessageDialog(null, txt.getPreferredSize().height);\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","datepicker"],"answers":[{"tags":[],"owner":{"account_id":18348513,"reputation":8716,"user_id":13363205,"display_name":"iknow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596144802,"creation_date":1596144119,"answer_id":63181564,"question_id":63179980,"body_markdown":"The problem is with setting `Widget_Holo_ActionBar_Solid`. If You delete it You won&#39;t get error. Try to create Your own style in this way:\r\n\r\n\r\nstyles.xml:\r\n```\r\n&lt;style name=&quot;DatePickerDialogStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog&quot;&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/date_picker_dialog_header_background&lt;/item&gt;  &lt;!--header background--&gt;\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/date_picker_dialog_background&lt;/item&gt;     &lt;!--calendar background--&gt;\r\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/date_picker_dialog_selected_day&lt;/item&gt; &lt;!--selected day--&gt;\r\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/date_picker_dialog_selected_month&lt;/item&gt; &lt;!--days of the month--&gt;\r\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/date_picker_dialog_day_of_week&lt;/item&gt;    &lt;!--days of the week--&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\ncolors.xml\r\n```\r\n&lt;color name=&quot;date_picker_dialog_header_background&quot;&gt;@color/colorPrimaryDark&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_background&quot;&gt;#00FFFFFF&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_selected_day&quot;&gt;@color/colorAccent&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_selected_month&quot;&gt;#B71C1C&lt;/color&gt;\r\n&lt;color name=&quot;date_picker_dialog_day_of_week&quot;&gt;#611B1B&lt;/color&gt;\r\n```\r\n\r\nAnd then add to create date picker:\r\n\r\n```\r\nDatePickerDialog dialog = new DatePickerDialog(\r\n        MainActivity.this,\r\n        R.style.DatePickerDialogStyle,\r\n        mDateSetListener,\r\n        year,\r\n        month,\r\n        day);\r\n```\r\n\r\nYou set `date_picker_dialog_background` to `#00FFFFFF` You don&#39;t have to call:\r\n```\r\ndialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n```\r\n","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>The problem is with setting <code>Widget_Holo_ActionBar_Solid</code>. If You delete it You won't get error. Try to create Your own style in this way:</p>\n<p>styles.xml:</p>\n<pre><code>&lt;style name=&quot;DatePickerDialogStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dialog&quot;&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/date_picker_dialog_header_background&lt;/item&gt;  &lt;!--header background--&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/date_picker_dialog_background&lt;/item&gt;     &lt;!--calendar background--&gt;\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/date_picker_dialog_selected_day&lt;/item&gt; &lt;!--selected day--&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/date_picker_dialog_selected_month&lt;/item&gt; &lt;!--days of the month--&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/date_picker_dialog_day_of_week&lt;/item&gt;    &lt;!--days of the week--&gt;\n&lt;/style&gt;\n</code></pre>\n<p>colors.xml</p>\n<pre><code>&lt;color name=&quot;date_picker_dialog_header_background&quot;&gt;@color/colorPrimaryDark&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_background&quot;&gt;#00FFFFFF&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_selected_day&quot;&gt;@color/colorAccent&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_selected_month&quot;&gt;#B71C1C&lt;/color&gt;\n&lt;color name=&quot;date_picker_dialog_day_of_week&quot;&gt;#611B1B&lt;/color&gt;\n</code></pre>\n<p>And then add to create date picker:</p>\n<pre><code>DatePickerDialog dialog = new DatePickerDialog(\n        MainActivity.this,\n        R.style.DatePickerDialogStyle,\n        mDateSetListener,\n        year,\n        month,\n        day);\n</code></pre>\n<p>You set <code>date_picker_dialog_background</code> to <code>#00FFFFFF</code> You don't have to call:</p>\n<pre><code>dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12655492,"reputation":376,"user_id":9198161,"display_name":"DavidUps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679930459,"creation_date":1679930459,"answer_id":75857520,"question_id":63179980,"body_markdown":"On Android &gt; 29 you can&#39;t set a `color.xml` only hex","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>On Android &gt; 29 you can't set a <code>color.xml</code> only hex</p>\n"}],"owner":{"display_name":"user9955719"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63181564,"answer_count":2,"score":1,"last_activity_date":1679930459,"creation_date":1596136990,"question_id":63179980,"body_markdown":"I know similar questions have been asked but they didn&#39;t seem to solve this particular case. \r\n\r\nthis is my xml (very simple just a text and a hint text to click to select date):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#000000&quot;\r\n        tools:context=&quot;.moreUserInfo&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView10&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;97dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Enter your birthday&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvDate&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;3dp&quot;\r\n            android:layout_marginTop=&quot;91dp&quot;\r\n            android:layout_marginEnd=&quot;-3dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:hint=&quot;Select Date&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textColorHint=&quot;#CEA6FFCC&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nthis is my .java class:\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.DatePickerDialog;\r\n    import android.graphics.Color;\r\n    import android.graphics.drawable.ColorDrawable;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.DatePicker;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Calendar;\r\n    \r\n    import static android.R.style.Widget_Holo_ActionBar_Solid;\r\n    \r\n    public class moreUserInfo extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;moreUserInfo&quot;;\r\n    \r\n    \r\n        private TextView mDisplayDate;\r\n        private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_more_user_info);\r\n            mDisplayDate = (TextView) findViewById(R.id.tvDate);\r\n            mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Calendar cal = Calendar.getInstance();\r\n                    int year = cal.get(Calendar.YEAR);\r\n                    int month = cal.get(Calendar.MONTH);\r\n                    int day = cal.get(Calendar.DAY_OF_MONTH);\r\n    \r\n                    DatePickerDialog dialog = new DatePickerDialog(moreUserInfo.this, Widget_Holo_ActionBar_Solid, mDateSetListener, year,month,day);\r\n                    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); //make transparent background.\r\n                    dialog.show();\r\n                }\r\n            });\r\n            mDateSetListener = new DatePickerDialog.OnDateSetListener() {\r\n                @Override\r\n                public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\r\n                    Log.d(TAG, &quot;onDateSet: date: &quot;+ i + &quot;/&quot; +i1 + &quot;/&quot; +i2);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nEverything seemed to be fine but when I run it, the app crashes after I click on &quot;Select Date&quot; textView with the following (huge) error message: \r\n\r\n    E/AnimationUtils: RuntimeException for unknown animation name, resouce ID #0x10a0026\r\n    E/AnimationUtils: loadAnimation: getConfiguration = {0 1.3 themeSeq = 0 showBtnBg = 0 214mcc7mnc [en_GB,es_ES] ldltr sw360dp w360dp h616dp 480dpi nrml long port finger -keyb/v/h -nav/h appBounds=Rect(0, 0 - 1080, 1920) s.70 mkbd/h}\r\n        loadAnimation: getDisplayMetrics = DisplayMetrics{density=3.0, width=1080, height=1920, scaledDensity=3.8999999, xdpi=435.42825, ydpi=431.57477}\r\n        loadAnimation: resourceName = android:anim/date_picker_fade_in_material\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.filmmate, PID: 9738\r\n        android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class android.widget.DatePicker\r\n        Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class android.widget.DatePicker\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\r\n            at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\r\n            at android.view.View.performClick(View.java:6897)\r\n            at android.widget.TextView.performClick(TextView.java:12727)\r\n            at android.view.View$PerformClick.run(View.java:26101)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: android.view.InflateException: Binary XML file line #33: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\r\n         Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:965)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.widget.DatePickerCalendarDelegate.&lt;init&gt;(DatePickerCalendarDelegate.java:114)\r\n            at android.widget.DatePicker.createCalendarUIDelegate(DatePicker.java:200)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:173)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:145)\r\n            at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:141)\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n    E/AndroidRuntime:     at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\r\n            at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\r\n            at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\r\n            at android.view.View.performClick(View.java:6897)\r\n            at android.widget.TextView.performClick(TextView.java:12727)\r\n            at android.view.View$PerformClick.run(View.java:26101)\r\n            at android.os.Handler.handleCallback(Handler.java:789)\r\n            at android.os.Handler.dispatchMessage(Handler.java:98)\r\n            at android.os.Looper.loop(Looper.java:164)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n         Caused by: java.lang.NumberFormatException: For input string: &quot;res/drawable-xxhdpi-v4/ab_solid_dark_holo.9.png&quot;\r\n            at java.lang.Integer.parseInt(Integer.java:608)\r\n            at com.android.internal.util.XmlUtils.convertValueToInt(XmlUtils.java:133)\r\n            at android.content.res.TypedArray.getInt(TypedArray.java:375)\r\n            at android.view.animation.Animation.&lt;init&gt;(Animation.java:254)\r\n            at android.view.animation.AlphaAnimation.&lt;init&gt;(AlphaAnimation.java:40)\r\n            at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:170)\r\n            at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:145)\r\n            at android.view.animation.AnimationUtils.loadAnimation(AnimationUtils.java:110)\r\n            at android.widget.ViewAnimator.setInAnimation(ViewAnimator.java:314)\r\n            at android.widget.ViewAnimator.&lt;init&gt;(ViewAnimator.java:58)\r\n            at com.android.internal.widget.DialogViewAnimator.&lt;init&gt;(DialogViewAnimator.java:38)\r\n            \t... 39 more\r\n\r\n\r\nI know it&#39;s a strage issue or maybe a stupid question but help is really appreciated, thanks.\r\n","title":"Date Picker Android Studio crash Error inflating class android.widget.DatePicker","body":"<p>I know similar questions have been asked but they didn't seem to solve this particular case.</p>\n<p>this is my xml (very simple just a text and a hint text to click to select date):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#000000&quot;\n    tools:context=&quot;.moreUserInfo&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView10&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;97dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginTop=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Enter your birthday&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvDate&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginStart=&quot;3dp&quot;\n        android:layout_marginTop=&quot;91dp&quot;\n        android:layout_marginEnd=&quot;-3dp&quot;\n        android:gravity=&quot;center&quot;\n        android:hint=&quot;Select Date&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textColorHint=&quot;#CEA6FFCC&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>this is my .java class:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.DatePickerDialog;\nimport android.graphics.Color;\nimport android.graphics.drawable.ColorDrawable;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.DatePicker;\nimport android.widget.TextView;\n\nimport java.util.Calendar;\n\nimport static android.R.style.Widget_Holo_ActionBar_Solid;\n\npublic class moreUserInfo extends AppCompatActivity {\n\n    private static final String TAG = &quot;moreUserInfo&quot;;\n\n\n    private TextView mDisplayDate;\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_more_user_info);\n        mDisplayDate = (TextView) findViewById(R.id.tvDate);\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Calendar cal = Calendar.getInstance();\n                int year = cal.get(Calendar.YEAR);\n                int month = cal.get(Calendar.MONTH);\n                int day = cal.get(Calendar.DAY_OF_MONTH);\n\n                DatePickerDialog dialog = new DatePickerDialog(moreUserInfo.this, Widget_Holo_ActionBar_Solid, mDateSetListener, year,month,day);\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); //make transparent background.\n                dialog.show();\n            }\n        });\n        mDateSetListener = new DatePickerDialog.OnDateSetListener() {\n            @Override\n            public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {\n                Log.d(TAG, &quot;onDateSet: date: &quot;+ i + &quot;/&quot; +i1 + &quot;/&quot; +i2);\n            }\n        };\n    }\n}\n</code></pre>\n<p>Everything seemed to be fine but when I run it, the app crashes after I click on &quot;Select Date&quot; textView with the following (huge) error message:</p>\n<pre><code>E/AnimationUtils: RuntimeException for unknown animation name, resouce ID #0x10a0026\nE/AnimationUtils: loadAnimation: getConfiguration = {0 1.3 themeSeq = 0 showBtnBg = 0 214mcc7mnc [en_GB,es_ES] ldltr sw360dp w360dp h616dp 480dpi nrml long port finger -keyb/v/h -nav/h appBounds=Rect(0, 0 - 1080, 1920) s.70 mkbd/h}\n    loadAnimation: getDisplayMetrics = DisplayMetrics{density=3.0, width=1080, height=1920, scaledDensity=3.8999999, xdpi=435.42825, ydpi=431.57477}\n    loadAnimation: resourceName = android:anim/date_picker_fade_in_material\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.filmmate, PID: 9738\n    android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class android.widget.DatePicker\n    Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class android.widget.DatePicker\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\n        at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\n        at android.view.View.performClick(View.java:6897)\n        at android.widget.TextView.performClick(TextView.java:12727)\n        at android.view.View$PerformClick.run(View.java:26101)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: android.view.InflateException: Binary XML file line #33: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\n     Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.android.internal.widget.DialogViewAnimator\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:965)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:859)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:866)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.widget.DatePickerCalendarDelegate.&lt;init&gt;(DatePickerCalendarDelegate.java:114)\n        at android.widget.DatePicker.createCalendarUIDelegate(DatePicker.java:200)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:173)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:145)\n        at android.widget.DatePicker.&lt;init&gt;(DatePicker.java:141)\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\nE/AndroidRuntime:     at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:119)\n        at android.app.DatePickerDialog.&lt;init&gt;(DatePickerDialog.java:109)\n        at com.example.filmmate.moreUserInfo$1.onClick(moreUserInfo.java:40)\n        at android.view.View.performClick(View.java:6897)\n        at android.widget.TextView.performClick(TextView.java:12727)\n        at android.view.View$PerformClick.run(View.java:26101)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.NumberFormatException: For input string: &quot;res/drawable-xxhdpi-v4/ab_solid_dark_holo.9.png&quot;\n        at java.lang.Integer.parseInt(Integer.java:608)\n        at com.android.internal.util.XmlUtils.convertValueToInt(XmlUtils.java:133)\n        at android.content.res.TypedArray.getInt(TypedArray.java:375)\n        at android.view.animation.Animation.&lt;init&gt;(Animation.java:254)\n        at android.view.animation.AlphaAnimation.&lt;init&gt;(AlphaAnimation.java:40)\n        at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:170)\n        at android.view.animation.AnimationUtils.createAnimationFromXml(AnimationUtils.java:145)\n        at android.view.animation.AnimationUtils.loadAnimation(AnimationUtils.java:110)\n        at android.widget.ViewAnimator.setInAnimation(ViewAnimator.java:314)\n        at android.widget.ViewAnimator.&lt;init&gt;(ViewAnimator.java:58)\n        at com.android.internal.widget.DialogViewAnimator.&lt;init&gt;(DialogViewAnimator.java:38)\n            ... 39 more\n</code></pre>\n<p>I know it's a strage issue or maybe a stupid question but help is really appreciated, thanks.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679920789,"post_id":75855686,"comment_id":133801964,"body_markdown":"Your pseudocode makes no sense to me. You never compare with the search, you never store in a result, and I don&#39;t see the point in storing that in a map of maps of maps. Please post actual code and say what issues you have with it.","body":"Your pseudocode makes no sense to me. You never compare with the search, you never store in a result, and I don&#39;t see the point in storing that in a map of maps of maps. Please post actual code and say what issues you have with it."},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679921741,"post_id":75855686,"comment_id":133802253,"body_markdown":"_Trying to switch to nested streams_ - this belies a more fundamental problem. Because __that does not reduce mental complexity whatsoever__. You&#39;re currently working on &quot;How do I make sonarlint shut up; I do not actually care about the problems it highlights, I merely want it to stop yapping&quot;. In which case, I have a very simple answer that works for this and many, many other problems: __Uninstall it__. What you _actually_ want is to analyse whether this is _actually_ complicated. I don&#39;t think it&#39;s too bad. However, &#39;turn it into lambdas&#39; isn&#39;t an answer. Think about it.","body":"<i>Trying to switch to nested streams</i> - this belies a more fundamental problem. Because <b>that does not reduce mental complexity whatsoever</b>. You&#39;re currently working on &quot;How do I make sonarlint shut up; I do not actually care about the problems it highlights, I merely want it to stop yapping&quot;. In which case, I have a very simple answer that works for this and many, many other problems: <b>Uninstall it</b>. What you <i>actually</i> want is to analyse whether this is <i>actually</i> complicated. I don&#39;t think it&#39;s too bad. However, &#39;turn it into lambdas&#39; isn&#39;t an answer. Think about it."},{"owner":{"account_id":1259977,"reputation":883,"user_id":1579877,"display_name":"Aron_dc"},"score":0,"creation_date":1679922295,"post_id":75855686,"comment_id":133802436,"body_markdown":"I don&#39;t think your data structure can properly map your usecase.","body":"I don&#39;t think your data structure can properly map your usecase."},{"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"score":0,"creation_date":1679922974,"post_id":75855686,"comment_id":133802663,"body_markdown":"Added sample code @daniu","body":"Added sample code @daniu"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679920177,"creation_date":1679920177,"answer_id":75855763,"question_id":75855686,"body_markdown":"You can use nested `Stream#anyMatch` (which is a short-circuiting operation), but it doesn&#39;t really reduce the cognitive complexity.\r\n\r\n```java\r\nreturn Countries.stream().anyMatch(country -&gt; \r\n\tcountry.getCities().stream().anyMatch(city -&gt; \r\n\t\tcity.getDistricts().stream().anyMatch(district -&gt; {\r\n\t\t\tboolean ret = district.getName().equals(search);\r\n\t\t\tif (ret) {\r\n\t\t\t\t// do something\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t})\r\n\t)\r\n);\r\n```","title":"Java break from nested Stream ForEach","body":"<p>You can use nested <code>Stream#anyMatch</code> (which is a short-circuiting operation), but it doesn't really reduce the cognitive complexity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Countries.stream().anyMatch(country -&gt; \n    country.getCities().stream().anyMatch(city -&gt; \n        city.getDistricts().stream().anyMatch(district -&gt; {\n            boolean ret = district.getName().equals(search);\n            if (ret) {\n                // do something\n            }\n            return ret;\n        })\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75855763,"answer_count":1,"score":-2,"last_activity_date":1679930097,"creation_date":1679919707,"question_id":75855686,"body_markdown":"Edit: Switched pseudo code to a runnable code example.\r\n\r\nEdit2: Sonarlink thinks nested streams reduce cognitive complexity, adding the outcome at the end of my question. Thank you @Unmitigated.\r\n\r\n\r\nI have some objects, lets say; countries, cities, districts. Countries have a list of cities, cities have a list of districts.\r\n\r\nI am trying to find a district by name and put that data in a Map.\r\n\r\nFor example: district name is &quot;Bastille&quot;. I try to find it by checking all countries&#39; all cities&#39; all districts. Here is an example code for my logic.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSystem.out.println(&quot;Hello, World!&quot;);\r\n    \r\n    \t\tList&lt;Country&gt; countries = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tCountry co1 = new Country();\r\n    \t\tco1.setName(&quot;USA&quot;);\r\n    \r\n    \t\tCity cit1 = new City();\r\n    \t\tcit1.setName(&quot;New York&quot;);\r\n    \r\n    \t\tDistrict d1 = new District();\r\n    \t\td1.setName(&quot;Manhattan&quot;);\r\n    \r\n    \t\tDistrict d2 = new District();\r\n    \t\td2.setName(&quot;Queens&quot;);\r\n    \r\n    \t\tcit1.setDistricts(Arrays.asList(d1, d2));\r\n    \t\tco1.setCities(Arrays.asList(cit1));\r\n    \r\n    \t\tcountries.add(co1);\r\n    \r\n    \r\n    \t\tCountry co2 = new Country();\r\n    \t\tco2.setName(&quot;France&quot;);\r\n    \r\n    \t\tCity cit2 = new City();\r\n    \t\tcit2.setName(&quot;Paris&quot;);\r\n    \r\n    \t\tDistrict d3 = new District();\r\n    \t\td3.setName(&quot;Bastille&quot;);\r\n    \r\n    \t\tDistrict d4 = new District();\r\n    \t\td4.setName(&quot;Montmarte&quot;);\r\n    \r\n    \t\tcit2.setDistricts(Arrays.asList(d3, d4));\r\n    \t\tco2.setCities(Arrays.asList(cit2));\r\n    \r\n    \t\tcountries.add(co1);\r\n    \t\tcountries.add(co2);\r\n    \r\n    \r\n    \r\n    \t\tHashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap = new HashMap&lt;&gt;();\r\n    \r\n    \t\tboolean isFound = method1(countries, foundMap, &quot;Bastille&quot;);\r\n    \r\n    \t\tSystem.out.println(foundMap);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static boolean method1(List&lt;Country&gt; countries, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap, String search) {\r\n    \t\tfor(Country country : countries){\r\n    \t\t\tfor(City city : country.getCities()){\r\n    \t\t\t\tfor(District district : city.getDistricts()){\r\n    \t\t\t\t\tif(district.getName().equals(search)){\r\n    \r\n    \t\t\t\t\t\tif(!foundMap.containsKey(country.getName())){\r\n    \t\t\t\t\t\t\tfoundMap.put(country.getName(), new HashMap&lt;&gt;());\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tif(!foundMap.get(country.getName()).containsKey(city.getName())){\r\n    \t\t\t\t\t\t\tfoundMap.get(country.getName()).put(city.getName(), new HashMap&lt;&gt;());\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tfoundMap.get(country.getName()).get(city.getName()).put(district.getName(), &quot;Hello from &quot; + district.getName());\r\n    \r\n    \t\t\t\t\t\treturn true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    }\r\nHere are the sample country, city, district classes;\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    public class Country {\r\n    \r\n    \tString name;\r\n    \tList&lt;City&gt; cities;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic List&lt;City&gt; getCities() {\r\n    \t\treturn cities;\r\n    \t}\r\n    \r\n    \tpublic void setCities(List&lt;City&gt; cities) {\r\n    \t\tthis.cities = cities;\r\n    \t}\r\n    }\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    public class City {\r\n    \r\n    \tString name;\r\n    \tList&lt;District&gt; districts;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic List&lt;District&gt; getDistricts() {\r\n    \t\treturn districts;\r\n    \t}\r\n    \r\n    \tpublic void setDistricts(List&lt;District&gt; districts) {\r\n    \t\tthis.districts = districts;\r\n    \t}\r\n    }\r\n\r\n\r\n    public class District {\r\n    \r\n    \tString name;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\n\r\nThis example creates me the needed HashMap;\r\n\r\n{France={Paris={Bastille=Hello from Bastille}}}\r\n\r\nIn my situation, I need to check method1&#39;s return and throw an exception if this district is not found! (System should contain all the districts so &quot;not found&quot; is a failure)\r\n\r\nI also need all these country name, city name, district name (which these nested for loops provide me) to create this HashMap entry.\r\n\r\nSo is there a more elegant way to implement this logic with streams or other tool? (I am ok with this code but sonarlint is unhappy about &quot;cognitive complexity&quot; and I have to find a way to reduce that). \r\n\r\nTrying to switch to nested streams but I couldn&#39;t figure out how to use stream here. I can use some nested streams but I am not able to return true.\r\n\r\n    countries.getCities().forEach(city-&gt;{\r\n    ...\r\n    ...\r\n    //if district name is Bastille\r\n    return true; //Unexpected Return value because this is inside nested streams, not returning true from the method. If only &quot;return&quot; is used, I only returns from iterable to the outer stream.\r\n    }\r\n\r\nSo is there a better way to make both &quot;check if district exists&quot; and &quot;put all data in a hashmap&quot; logic run? Or only way to solve this is altering the algorithm?\r\n\r\n\r\n**Conclusion**: I am switching my code to the Unmitigated&#39;s answer.\r\n\r\nIn my real situation, I had to create 4 &quot;for&quot; loops then an &quot;if&quot; to check if condition is met, then some business logic with hashmap. Sonarlink thinks method&#39;s cognitive complexity was 30.\r\n\r\nAfter switching to nested streams with anyMatch, an inside boolean variable to check if condition is met then some business logic with hashmap and return; Sonarlink now says cognitive complexity dropped to 20. I think this is Sonarlink&#39;s misjudging because it ignores &quot;stream().anyMatch(...&quot;  but counts &quot;for(Obj o: List&lt;Obj&gt;)&quot;. \r\n\r\nThe problem was: my company did not allow higher level of complexity in methods, after this refactoring Sonarlink is happy.\r\n\r\n\r\n\r\n","title":"Java break from nested Stream ForEach","body":"<p>Edit: Switched pseudo code to a runnable code example.</p>\n<p>Edit2: Sonarlink thinks nested streams reduce cognitive complexity, adding the outcome at the end of my question. Thank you @Unmitigated.</p>\n<p>I have some objects, lets say; countries, cities, districts. Countries have a list of cities, cities have a list of districts.</p>\n<p>I am trying to find a district by name and put that data in a Map.</p>\n<p>For example: district name is &quot;Bastille&quot;. I try to find it by checking all countries' all cities' all districts. Here is an example code for my logic.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello, World!&quot;);\n\n        List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\n\n        Country co1 = new Country();\n        co1.setName(&quot;USA&quot;);\n\n        City cit1 = new City();\n        cit1.setName(&quot;New York&quot;);\n\n        District d1 = new District();\n        d1.setName(&quot;Manhattan&quot;);\n\n        District d2 = new District();\n        d2.setName(&quot;Queens&quot;);\n\n        cit1.setDistricts(Arrays.asList(d1, d2));\n        co1.setCities(Arrays.asList(cit1));\n\n        countries.add(co1);\n\n\n        Country co2 = new Country();\n        co2.setName(&quot;France&quot;);\n\n        City cit2 = new City();\n        cit2.setName(&quot;Paris&quot;);\n\n        District d3 = new District();\n        d3.setName(&quot;Bastille&quot;);\n\n        District d4 = new District();\n        d4.setName(&quot;Montmarte&quot;);\n\n        cit2.setDistricts(Arrays.asList(d3, d4));\n        co2.setCities(Arrays.asList(cit2));\n\n        countries.add(co1);\n        countries.add(co2);\n\n\n\n        HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap = new HashMap&lt;&gt;();\n\n        boolean isFound = method1(countries, foundMap, &quot;Bastille&quot;);\n\n        System.out.println(foundMap);\n\n    }\n\n    public static boolean method1(List&lt;Country&gt; countries, HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; foundMap, String search) {\n        for(Country country : countries){\n            for(City city : country.getCities()){\n                for(District district : city.getDistricts()){\n                    if(district.getName().equals(search)){\n\n                        if(!foundMap.containsKey(country.getName())){\n                            foundMap.put(country.getName(), new HashMap&lt;&gt;());\n                        }\n\n                        if(!foundMap.get(country.getName()).containsKey(city.getName())){\n                            foundMap.get(country.getName()).put(city.getName(), new HashMap&lt;&gt;());\n                        }\n\n                        foundMap.get(country.getName()).get(city.getName()).put(district.getName(), &quot;Hello from &quot; + district.getName());\n\n                        return true;\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>Here are the sample country, city, district classes;</p>\n<pre><code>import java.util.List;\n\npublic class Country {\n\n    String name;\n    List&lt;City&gt; cities;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;City&gt; getCities() {\n        return cities;\n    }\n\n    public void setCities(List&lt;City&gt; cities) {\n        this.cities = cities;\n    }\n}\n\n\nimport java.util.List;\n\npublic class City {\n\n    String name;\n    List&lt;District&gt; districts;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;District&gt; getDistricts() {\n        return districts;\n    }\n\n    public void setDistricts(List&lt;District&gt; districts) {\n        this.districts = districts;\n    }\n}\n\n\npublic class District {\n\n    String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>This example creates me the needed HashMap;</p>\n<p>{France={Paris={Bastille=Hello from Bastille}}}</p>\n<p>In my situation, I need to check method1's return and throw an exception if this district is not found! (System should contain all the districts so &quot;not found&quot; is a failure)</p>\n<p>I also need all these country name, city name, district name (which these nested for loops provide me) to create this HashMap entry.</p>\n<p>So is there a more elegant way to implement this logic with streams or other tool? (I am ok with this code but sonarlint is unhappy about &quot;cognitive complexity&quot; and I have to find a way to reduce that).</p>\n<p>Trying to switch to nested streams but I couldn't figure out how to use stream here. I can use some nested streams but I am not able to return true.</p>\n<pre><code>countries.getCities().forEach(city-&gt;{\n...\n...\n//if district name is Bastille\nreturn true; //Unexpected Return value because this is inside nested streams, not returning true from the method. If only &quot;return&quot; is used, I only returns from iterable to the outer stream.\n}\n</code></pre>\n<p>So is there a better way to make both &quot;check if district exists&quot; and &quot;put all data in a hashmap&quot; logic run? Or only way to solve this is altering the algorithm?</p>\n<p><strong>Conclusion</strong>: I am switching my code to the Unmitigated's answer.</p>\n<p>In my real situation, I had to create 4 &quot;for&quot; loops then an &quot;if&quot; to check if condition is met, then some business logic with hashmap. Sonarlink thinks method's cognitive complexity was 30.</p>\n<p>After switching to nested streams with anyMatch, an inside boolean variable to check if condition is met then some business logic with hashmap and return; Sonarlink now says cognitive complexity dropped to 20. I think this is Sonarlink's misjudging because it ignores &quot;stream().anyMatch(...&quot;  but counts &quot;for(Obj o: List)&quot;.</p>\n<p>The problem was: my company did not allow higher level of complexity in methods, after this refactoring Sonarlink is happy.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":0,"creation_date":1665678134,"post_id":74058881,"comment_id":130760755,"body_markdown":"Move `@Autowired` from the attribute to the ctor in `UsersService`.","body":"Move <code>@Autowired</code> from the attribute to the ctor in <code>UsersService</code>."}],"answers":[{"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665677874,"creation_date":1665677874,"answer_id":74058930,"question_id":74058881,"body_markdown":"```\r\n    public UsersService(UsersRepository usersRepository) {\r\n        this.usersRepository = usersRepository;\r\n    }\r\n```\r\ntry removing this contructor","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<pre><code>    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n</code></pre>\n<p>try removing this contructor</p>\n"},{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665678782,"creation_date":1665678317,"answer_id":74059017,"question_id":74058881,"body_markdown":"It seems you do not have any primary key in your User table.\r\n\r\n\r\nJPA requires that every entity has an ID. So no, entity w/o an ID is not allowed. Try adding a primary key of type Integer as it is required when extending to the JPa repository as the second argument passed is the type of primary key. You can define a field as primary key by using `@Id` annotation. You can do something like below:\r\n\r\n\r\n    package com.model;\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name=Constants.USERS, schema = Constants.SCHEMA)\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n        private int id;   //&lt;----like this\r\n    @Column(name= &quot;username&quot;, nullable=false)\r\n    private String username;\r\n\r\n    @Column(name=&quot;lastname&quot;, nullable = false)\r\n    private String lastname;\r\n\r\n    public Users() {\r\n    }\r\n\r\n    public Users(String username, String lastname) {\r\n        this.username = username;\r\n        this.lastname = lastname;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getLastname() {\r\n        return lastname;\r\n    }\r\n\r\n    public void setLastname(String lastname) {\r\n        this.lastname = lastname;\r\n    }\r\n}\r\n\r\n\r\nKeep your repository same\r\n\r\n\r\nAlso , you do not have to write @Autowire on the field as the constructor will automatically inject the bean to the field\r\n\r\n\r\n \r\n\r\n    @Autowired   // this is not necessary you can remove this too\r\n        private final UsersRepository usersRepository;\r\n    \r\n        public UsersService(UsersRepository usersRepository) {\r\n            this.usersRepository = usersRepository;\r\n        }\r\n\r\n\r\nAlso, I think you should be extending to JpaRepository like below instead of JpaConnector\r\n\r\n    @Repository\r\n    public interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\r\n    \r\n        public List&lt;Users&gt; findAll();\r\n        public long count(); // and no need to define function here\r\n    }\r\n\r\n","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>It seems you do not have any primary key in your User table.</p>\n<p>JPA requires that every entity has an ID. So no, entity w/o an ID is not allowed. Try adding a primary key of type Integer as it is required when extending to the JPa repository as the second argument passed is the type of primary key. You can define a field as primary key by using <code>@Id</code> annotation. You can do something like below:</p>\n<pre><code>package com.model;\nimport javax.persistence.*;\n\n@Entity\n@Table(name=Constants.USERS, schema = Constants.SCHEMA)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private int id;   //&lt;----like this\n@Column(name= &quot;username&quot;, nullable=false)\nprivate String username;\n\n@Column(name=&quot;lastname&quot;, nullable = false)\nprivate String lastname;\n\npublic Users() {\n}\n\npublic Users(String username, String lastname) {\n    this.username = username;\n    this.lastname = lastname;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getLastname() {\n    return lastname;\n}\n\npublic void setLastname(String lastname) {\n    this.lastname = lastname;\n}\n</code></pre>\n<p>}</p>\n<p>Keep your repository same</p>\n<p>Also , you do not have to write @Autowire on the field as the constructor will automatically inject the bean to the field</p>\n<pre><code>@Autowired   // this is not necessary you can remove this too\n    private final UsersRepository usersRepository;\n\n    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n</code></pre>\n<p>Also, I think you should be extending to JpaRepository like below instead of JpaConnector</p>\n<pre><code>@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\n\n    public List&lt;Users&gt; findAll();\n    public long count(); // and no need to define function here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":148297,"reputation":2213,"user_id":359974,"accept_rate":85,"display_name":"Federico Cristina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929931,"creation_date":1679929931,"answer_id":75857436,"question_id":74058881,"body_markdown":"You might need to specify the @EnableJpaRepository in your app, something like this:\r\n\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    ... \r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories\r\n    public class MyApplication {\r\n        ...\r\n    }","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>You might need to specify the @EnableJpaRepository in your app, something like this:</p>\n<pre><code>import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n... \n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class MyApplication {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679929931,"creation_date":1665677637,"question_id":74058881,"body_markdown":"I&#39;m trying to create a REST Service using Spring Boot and I&#39;m having problems using `@Autowired` between Service and Repositories.\r\n\r\nEDIT AFTER ANSWERS:\r\n\r\nThis is my code:\r\n\r\nEntity\r\n\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name= Constants.USERS, schema = Constants.SCHEMA)\r\n    public class Users {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;   //&lt;----like this\r\n        @Column(name = &quot;username&quot;, nullable = false)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;lastname&quot;, nullable = false)\r\n        private String lastname;\r\n    \r\n        public Users() {\r\n        }\r\n    \r\n        public Users(String username, String lastname) {\r\n            this.username = username;\r\n            this.lastname = lastname;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getLastname() {\r\n            return lastname;\r\n        }\r\n    \r\n        public void setLastname(String lastname) {\r\n            this.lastname = lastname;\r\n        }\r\n    \r\n    }\r\n\r\nRepository\r\n\r\n \r\n\r\n       import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\r\n    \r\n        public List&lt;Users&gt; findAll();\r\n        public long count(); // and no need to define function here\r\n    }\r\n\r\n\r\n\r\nService\r\n\r\n     \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class UsersService{\r\n    \r\n        private UsersRepository usersRepository;\r\n    \r\n        @Autowired\r\n        public UsersService(UsersRepository usersRepository) {\r\n            this.usersRepository = usersRepository;\r\n        }\r\n    \r\n    \r\n        public long count() {\r\n            long conteggio = usersRepository.count();\r\n            return conteggio;\r\n        }\r\n    }\r\n        \r\nThis is the traceback\r\n\r\n    Error creating bean with name &#39;usersService&#39; .Unsatisfied dependency expressed through \r\n    constructor paramet\r\n    er 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.repository.UsersRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}.\r\n    No qualifying bean of type &#39;com.intesasanpaolo.dsi.core.bear.ptrm0.connector.jpa.UsersRepository&#39; available:\r\n expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n   \r\n\r\n","title":"&quot;No qualifying bean of type&quot; while using autowired in JPA Repository","body":"<p>I'm trying to create a REST Service using Spring Boot and I'm having problems using <code>@Autowired</code> between Service and Repositories.</p>\n<p>EDIT AFTER ANSWERS:</p>\n<p>This is my code:</p>\n<p>Entity</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name= Constants.USERS, schema = Constants.SCHEMA)\npublic class Users {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;   //&lt;----like this\n    @Column(name = &quot;username&quot;, nullable = false)\n    private String username;\n\n    @Column(name = &quot;lastname&quot;, nullable = false)\n    private String lastname;\n\n    public Users() {\n    }\n\n    public Users(String username, String lastname) {\n        this.username = username;\n        this.lastname = lastname;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>   import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users,Integer&gt; {\n\n    public List&lt;Users&gt; findAll();\n    public long count(); // and no need to define function here\n}\n</code></pre>\n<p>Service</p>\n<pre><code>    import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UsersService{\n\n    private UsersRepository usersRepository;\n\n    @Autowired\n    public UsersService(UsersRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n\n\n    public long count() {\n        long conteggio = usersRepository.count();\n        return conteggio;\n    }\n}\n    \n</code></pre>\n<p>This is the traceback</p>\n<pre><code>Error creating bean with name 'usersService' .Unsatisfied dependency expressed through \nconstructor paramet\ner 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.repository.UsersRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}.\nNo qualifying bean of type 'com.intesasanpaolo.dsi.core.bear.ptrm0.connector.jpa.UsersRepository' available:\n</code></pre>\n<p>expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n"},{"tags":["java","string","spring-boot","whitespace"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679929651,"creation_date":1679928885,"answer_id":75857257,"question_id":75856844,"body_markdown":"I don&#39;t think that is what is happening.  Open up your dev tools on the browser and look at what the browser is sending to the server (ie Network Tab).  I suspect the browser thinks it&#39;s a form submission and is encoding the payload with a form encoding.  You should also look at the mime-type being sent in the `Content-Type` header in dev tools.  If it&#39;s `multipart/form-data` or `application/x-www-form-urlencoded` then that&#39;s a pretty good indicator you&#39;re sending to the server that way.\r\n\r\nIf you are literally trying to send a String you&#39;d want the `Content-Type` header to be &quot;text/plain&quot; or &quot;text/plain;charset=utf-8&quot; since we aren&#39;t in ASCII anymore.  If you are trying to send plain text you&#39;ll have to do that with Javascript to make it work because you&#39;ll have to set that mime-type manually.  The browser won&#39;t do that on its own.\r\n\r\nBut, if you are trying to submit an HTML form then you should just let the browser do its thing, and change the server to use @ModelAttribute and remove @ResponseBody annotation.\r\n\r\nhttps://www.baeldung.com/spring-mvc-form-tutorial","title":"Java whitespaces in the @RequestBody string replaced by &#39;+&#39;","body":"<p>I don't think that is what is happening.  Open up your dev tools on the browser and look at what the browser is sending to the server (ie Network Tab).  I suspect the browser thinks it's a form submission and is encoding the payload with a form encoding.  You should also look at the mime-type being sent in the <code>Content-Type</code> header in dev tools.  If it's <code>multipart/form-data</code> or <code>application/x-www-form-urlencoded</code> then that's a pretty good indicator you're sending to the server that way.</p>\n<p>If you are literally trying to send a String you'd want the <code>Content-Type</code> header to be &quot;text/plain&quot; or &quot;text/plain;charset=utf-8&quot; since we aren't in ASCII anymore.  If you are trying to send plain text you'll have to do that with Javascript to make it work because you'll have to set that mime-type manually.  The browser won't do that on its own.</p>\n<p>But, if you are trying to submit an HTML form then you should just let the browser do its thing, and change the server to use @ModelAttribute and remove @ResponseBody annotation.</p>\n<p><a href=\"https://www.baeldung.com/spring-mvc-form-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-form-tutorial</a></p>\n"}],"owner":{"account_id":13922050,"reputation":1,"user_id":10052214,"display_name":"Ekin Ilman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679929651,"creation_date":1679926670,"question_id":75856844,"body_markdown":"I am trying to send a string like &#39;Ekin Frontend&#39; in the request body and it is converted to &#39;Ekin+Frontend=&#39; at the backend.\r\nI think Springboot converts these whitespaces. Does anyone have any idea ?\r\n\r\nHere is my code block;\r\n\r\n    @PostMapping(&quot;/error&quot;)\r\n    public boolean addError( @RequestBody String errorMsg) {\r\n        ...\r\n    }\r\n\r\n","title":"Java whitespaces in the @RequestBody string replaced by &#39;+&#39;","body":"<p>I am trying to send a string like 'Ekin Frontend' in the request body and it is converted to 'Ekin+Frontend=' at the backend.\nI think Springboot converts these whitespaces. Does anyone have any idea ?</p>\n<p>Here is my code block;</p>\n<pre><code>@PostMapping(&quot;/error&quot;)\npublic boolean addError( @RequestBody String errorMsg) {\n    ...\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":3235605,"reputation":332,"user_id":2729922,"display_name":"Monika X"},"score":1,"creation_date":1679914370,"post_id":75853454,"comment_id":133800376,"body_markdown":"it seems to me that your topic is not configured properly. The exception says &quot;Failed to get metadata for topics [alerts_consumer_group_prod].&quot; and this is actually your groupId: allAlertsConsumerGroupID:alerts_consumer_group_prod","body":"it seems to me that your topic is not configured properly. The exception says &quot;Failed to get metadata for topics [alerts_consumer_group_prod].&quot; and this is actually your groupId: allAlertsConsumerGroupID:alerts_consumer_group_prod"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679928984,"post_id":75853454,"comment_id":133804616,"body_markdown":"1) `.properties` files use `key=value` pairs, not with colons 2) Why do you need to run 4 brokers all on localhost?","body":"1) <code>.properties</code> files use <code>key=value</code> pairs, not with colons 2) Why do you need to run 4 brokers all on localhost?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679929102,"creation_date":1679929102,"answer_id":75857297,"question_id":75853454,"body_markdown":"Typo. Notice the ordering of your constructor\r\n\r\n```\r\npublic AlertRouter(String bootstrapServer, String consumerGroupID, String topic\r\n```\r\n\r\nAnd the invocation\r\n\r\n```\r\nnew AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID\r\n```\r\n\r\n---\r\n\r\nRead the logs more closely, you&#39;ll see your **consumer group name** does not exist as a **topic**\r\n","title":"Flink Kafka consumer : Failed to get metadata for topics","body":"<p>Typo. Notice the ordering of your constructor</p>\n<pre><code>public AlertRouter(String bootstrapServer, String consumerGroupID, String topic\n</code></pre>\n<p>And the invocation</p>\n<pre><code>new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID\n</code></pre>\n<hr />\n<p>Read the logs more closely, you'll see your <strong>consumer group name</strong> does not exist as a <strong>topic</strong></p>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679929102,"creation_date":1679904611,"question_id":75853454,"body_markdown":"I have a flink code which fetches data from kafka and prints to the console.\r\n\r\nIn a simple code which just has the flink code, it prints the data correctly.\r\n\r\nWhen I convert the code to a class structure, it stops the code and starts giving the below message\r\n\r\n```\r\n[SourceCoordinator-Source: Alert Router] ERROR org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext - Exception while handling result from async call in SourceCoordinator-Source: Alert Router. Triggering job failover.\r\norg.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:234)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\r\n\tat org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [alerts_consumer_group_prod].\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:219)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\r\n\t... 6 more\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\r\n\t... 9 more\r\nCaused by: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\r\n```\r\n\r\nThe server does host the topic and the partition (Have checked that multiple times)\r\n\r\nMy Code:\r\n\r\n**config.properties**\r\n\r\n```\r\nbootstrapServers:localhost:9092,localhost:9095,localhost:9097,localhost:9099\r\nallAlertsConsumerGroupID:alerts_consumer_group_prod\r\nallAlertsTopic:&lt;some topic&gt;\r\nallAlertsTopicParallelism:2\r\n```\r\n\r\n**Main Class**\r\n```\r\npackage allEvents;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.util.Properties;\r\n\r\npublic class AllEvents {\r\n    public static void main(String[] args) throws Exception {\r\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\r\n        Properties properties = new Properties();\r\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\r\n        properties.load(fileInputStream);\r\n\r\n        String bootstrapServer = properties.getProperty(&quot;bootstrapServers&quot;);\r\n        String alertTopic = properties.getProperty(&quot;allAlertsTopic&quot;);\r\n        String alertConsumerGroupID = properties.getProperty(&quot;allAlertsConsumerGroupID&quot;);\r\n        int alertTopicParallelism = Integer.parseInt(properties.getProperty(&quot;allAlertsTopicParallelism&quot;));\r\n        System.out.println(&quot;Starting: &quot; + bootstrapServer + &quot;, Topic: &quot; + alertTopic + &quot;, ConsumerGroup: &quot; + alertConsumerGroupID + &quot;, Parallelism: &quot; + alertTopicParallelism);\r\n\r\n        AlertRouter alertRouter = new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID, alertTopicParallelism);\r\n        alertRouter.routeAlerts();\r\n    }\r\n}\r\n```\r\n\r\n**Alert Router**\r\n\r\n```\r\npackage allEvents;\r\n\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\nimport org.apache.flink.connector.jdbc.JdbcConnectionOptions;\r\nimport org.apache.flink.connector.jdbc.JdbcExecutionOptions;\r\nimport org.apache.flink.connector.jdbc.JdbcSink;\r\nimport org.apache.flink.connector.kafka.source.KafkaSource;\r\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\r\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\r\nimport org.apache.flink.util.Collector;\r\nimport org.apache.flink.util.OutputTag;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\n\r\nimport javax.xml.crypto.Data;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Properties;\r\n\r\npublic class AlertRouter {\r\n    private String bootstrapServer;\r\n    private String consumerGroupID;\r\n    private String topic;\r\n    private int parallelism;\r\n\r\n    public AlertRouter(String bootstrapServer, String consumerGroupID, String topic, int parallelism) {\r\n        this.bootstrapServer = bootstrapServer;\r\n        this.consumerGroupID = consumerGroupID;\r\n        this.topic = topic;\r\n        this.parallelism = parallelism;\r\n    }\r\n\r\n    public void routeAlerts() throws Exception {\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(this.parallelism);\r\n\r\n        Properties properties = new Properties();\r\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServer);\r\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupID);\r\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        properties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\r\n\r\n        System.out.println(&quot;Inside route Alerts: &quot; + properties);\r\n\r\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\r\n        Properties fileProps = new Properties();\r\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\r\n        fileProps.load(fileInputStream);\r\n\r\n        KafkaSource&lt;String&gt; alertSourceKafka = KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(this.bootstrapServer)\r\n                .setTopics(this.topic)\r\n                .setProperties(properties)\r\n                .setGroupId(this.consumerGroupID)\r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n           .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\r\n                .build();\r\n\r\n        System.out.println(&quot;Kafka Source: &quot; + this.bootstrapServer);\r\n\r\n        DataStream&lt;String&gt; alertsStream = env.fromSource(alertSourceKafka, WatermarkStrategy.noWatermarks(), &quot;Alert Router&quot;);\r\n\r\n\r\n        alertsStream.print(&quot;Alert Stream&quot;);\r\n        env.execute();\r\n    }\r\n}\r\n```\r\n\r\nCan someone please help me understand the issue here?","title":"Flink Kafka consumer : Failed to get metadata for topics","body":"<p>I have a flink code which fetches data from kafka and prints to the console.</p>\n<p>In a simple code which just has the flink code, it prints the data correctly.</p>\n<p>When I convert the code to a class structure, it stops the code and starts giving the below message</p>\n<pre><code>[SourceCoordinator-Source: Alert Router] ERROR org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext - Exception while handling result from async call in SourceCoordinator-Source: Alert Router. Triggering job failover.\norg.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:234)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\n    at org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [alerts_consumer_group_prod].\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:219)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\n    ... 6 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\n    at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\n    ... 9 more\nCaused by: org.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\n</code></pre>\n<p>The server does host the topic and the partition (Have checked that multiple times)</p>\n<p>My Code:</p>\n<p><strong>config.properties</strong></p>\n<pre><code>bootstrapServers:localhost:9092,localhost:9095,localhost:9097,localhost:9099\nallAlertsConsumerGroupID:alerts_consumer_group_prod\nallAlertsTopic:&lt;some topic&gt;\nallAlertsTopicParallelism:2\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package allEvents;\n\nimport java.io.FileInputStream;\nimport java.util.Properties;\n\npublic class AllEvents {\n    public static void main(String[] args) throws Exception {\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\n        Properties properties = new Properties();\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\n        properties.load(fileInputStream);\n\n        String bootstrapServer = properties.getProperty(&quot;bootstrapServers&quot;);\n        String alertTopic = properties.getProperty(&quot;allAlertsTopic&quot;);\n        String alertConsumerGroupID = properties.getProperty(&quot;allAlertsConsumerGroupID&quot;);\n        int alertTopicParallelism = Integer.parseInt(properties.getProperty(&quot;allAlertsTopicParallelism&quot;));\n        System.out.println(&quot;Starting: &quot; + bootstrapServer + &quot;, Topic: &quot; + alertTopic + &quot;, ConsumerGroup: &quot; + alertConsumerGroupID + &quot;, Parallelism: &quot; + alertTopicParallelism);\n\n        AlertRouter alertRouter = new AlertRouter(bootstrapServer, alertTopic, alertConsumerGroupID, alertTopicParallelism);\n        alertRouter.routeAlerts();\n    }\n}\n</code></pre>\n<p><strong>Alert Router</strong></p>\n<pre><code>package allEvents;\n\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.connector.jdbc.JdbcConnectionOptions;\nimport org.apache.flink.connector.jdbc.JdbcExecutionOptions;\nimport org.apache.flink.connector.jdbc.JdbcSink;\nimport org.apache.flink.connector.kafka.source.KafkaSource;\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.streaming.api.functions.ProcessFunction;\nimport org.apache.flink.util.Collector;\nimport org.apache.flink.util.OutputTag;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\nimport javax.xml.crypto.Data;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Properties;\n\npublic class AlertRouter {\n    private String bootstrapServer;\n    private String consumerGroupID;\n    private String topic;\n    private int parallelism;\n\n    public AlertRouter(String bootstrapServer, String consumerGroupID, String topic, int parallelism) {\n        this.bootstrapServer = bootstrapServer;\n        this.consumerGroupID = consumerGroupID;\n        this.topic = topic;\n        this.parallelism = parallelism;\n    }\n\n    public void routeAlerts() throws Exception {\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(this.parallelism);\n\n        Properties properties = new Properties();\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServer);\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, this.consumerGroupID);\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        properties.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\n\n        System.out.println(&quot;Inside route Alerts: &quot; + properties);\n\n        String propertiesFile = &quot;./src/main/resources/config.properties&quot;;\n        Properties fileProps = new Properties();\n        FileInputStream fileInputStream = new FileInputStream(propertiesFile);\n        fileProps.load(fileInputStream);\n\n        KafkaSource&lt;String&gt; alertSourceKafka = KafkaSource.&lt;String&gt;builder()\n                .setBootstrapServers(this.bootstrapServer)\n                .setTopics(this.topic)\n                .setProperties(properties)\n                .setGroupId(this.consumerGroupID)\n                .setStartingOffsets(OffsetsInitializer.latest())\n           .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\n                .build();\n\n        System.out.println(&quot;Kafka Source: &quot; + this.bootstrapServer);\n\n        DataStream&lt;String&gt; alertsStream = env.fromSource(alertSourceKafka, WatermarkStrategy.noWatermarks(), &quot;Alert Router&quot;);\n\n\n        alertsStream.print(&quot;Alert Stream&quot;);\n        env.execute();\n    }\n}\n</code></pre>\n<p>Can someone please help me understand the issue here?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679897422,"post_id":75852553,"comment_id":133796608,"body_markdown":"`System.out.println(&quot;you enter wrong Input&quot;);sc.next();` --&gt; `System.out.println(&quot;you enter wrong Input&quot;); continue;`","body":"<code>System.out.println(&quot;you enter wrong Input&quot;);sc.next();</code> --&gt; <code>System.out.println(&quot;you enter wrong Input&quot;); continue;</code>"},{"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"score":0,"creation_date":1679897748,"post_id":75852553,"comment_id":133796655,"body_markdown":"yes its works now thanks , can you explain a bit how its functioning? where i did wrong?","body":"yes its works now thanks , can you explain a bit how its functioning? where i did wrong?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679897933,"post_id":75852553,"comment_id":133796684,"body_markdown":"continue skips the rest of the execution, and goes to the next iteration (of any while/do-while/for loop) because of this, it skips `--count;` so count remains 1, `count&gt;0` evaluates to true","body":"continue skips the rest of the execution, and goes to the next iteration (of any while/do-while/for loop) because of this, it skips <code>--count;</code> so count remains 1, <code>count&gt;0</code> evaluates to true"},{"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"score":0,"creation_date":1679900620,"post_id":75852553,"comment_id":133797087,"body_markdown":"@experimentunit1998X thanks for your valuable reply.","body":"@experimentunit1998X thanks for your valuable reply."}],"owner":{"account_id":27208510,"reputation":11,"user_id":20739698,"display_name":"Lord_Shiva_Mahadev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679929046,"creation_date":1679897165,"question_id":75852553,"body_markdown":"here is my code where i want to re-enter input if any miss match exception happens\r\n\r\nits date taking program where user can input date and its going to check it is valid date or not .\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class P3 {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint day=0,month=0,year=0;\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tint count=1;\r\n\t\tdo {\r\n\t\tSystem.out.println(&quot;===============================\\n===============================&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter (DD-MM-YYYY)&quot;);\r\n\t\t\r\n\t\ttry {\t\r\n\t\t\r\n\t\t //day Part\t\r\n\t\t System.out.print(&quot; DD: &quot;);\r\n\t\t day=sc.nextInt();\r\n\t\t if(day&lt;1||day&gt;31) {\r\n\t\t\t\tSystem.out.println(&quot;invalid day [range:1-31]\\nEnter Again&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t \r\n\t\t //Month Part\r\n\t\t System.out.print(&quot; MM: &quot;);\r\n\t\t month=sc.nextInt();\r\n\t\t if(month&lt;1||month&gt;12) {\r\n\t\t\t\tSystem.out.println(&quot;invalid month [range:1-12]\\nEnter Again&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\t\t \r\n\t\t //Year part\r\n\t\t System.out.print(&quot; YYYY: &quot;);\r\n\t\t year=sc.nextInt();\r\n\t\t if(year&lt;1900) {\r\n\t\tSystem.out.println(&quot;no support for year less then 1900 [range:1900-current]&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t \r\n\t\t System.out.println(&quot;Day: &quot;+day+&quot; Month: &quot;+month+&quot; year: &quot;+year);\r\n\t\t System.out.println(&quot;===============================\\n===============================&quot;);\r\n\t\t}\r\n\t\tcatch(InputMismatchException e) {\r\n\t\t\tSystem.out.println(&quot;you enter wrong Input&quot;);\r\n\t\t\tsc.next();\r\n\t\t}\r\n\t\t\t\r\n\t\t--count;\r\n\t\t}while(count&gt;0);\r\n\t\tsc.close();\r\n\t}\r\n}\r\n\t\r\n```\r\n\r\nthis is my catch block in above program i cant perform the re-input if exception happens please help me with this.","title":"Catch Exception (InputMissmatch) and want to re-enter input again","body":"<p>here is my code where i want to re-enter input if any miss match exception happens</p>\n<p>its date taking program where user can input date and its going to check it is valid date or not .</p>\n<pre><code>import java.util.*;\n\npublic class P3 {\n    public static void main(String[] args) {\n        \n        int day=0,month=0,year=0;\n        Scanner sc=new Scanner(System.in);\n        int count=1;\n        do {\n        System.out.println(&quot;===============================\\n===============================&quot;);\n        \n        System.out.println(&quot;Enter (DD-MM-YYYY)&quot;);\n        \n        try {   \n        \n         //day Part \n         System.out.print(&quot; DD: &quot;);\n         day=sc.nextInt();\n         if(day&lt;1||day&gt;31) {\n                System.out.println(&quot;invalid day [range:1-31]\\nEnter Again&quot;);\n                continue;\n            }\n         \n         //Month Part\n         System.out.print(&quot; MM: &quot;);\n         month=sc.nextInt();\n         if(month&lt;1||month&gt;12) {\n                System.out.println(&quot;invalid month [range:1-12]\\nEnter Again&quot;);\n                continue;\n            }        \n         //Year part\n         System.out.print(&quot; YYYY: &quot;);\n         year=sc.nextInt();\n         if(year&lt;1900) {\n        System.out.println(&quot;no support for year less then 1900 [range:1900-current]&quot;);\n                System.exit(0);\n            }\n         \n         System.out.println(&quot;Day: &quot;+day+&quot; Month: &quot;+month+&quot; year: &quot;+year);\n         System.out.println(&quot;===============================\\n===============================&quot;);\n        }\n        catch(InputMismatchException e) {\n            System.out.println(&quot;you enter wrong Input&quot;);\n            sc.next();\n        }\n            \n        --count;\n        }while(count&gt;0);\n        sc.close();\n    }\n}\n    \n</code></pre>\n<p>this is my catch block in above program i cant perform the re-input if exception happens please help me with this.</p>\n"},{"tags":["java","null","final","linkedblockingqueue"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1589425642,"post_id":61788265,"comment_id":109291571,"body_markdown":"They can&#39;t be `final` because they get changed. Make  a variable `final` doesn&#39;t guarantee it is never null. Your question does&#39;t tmake sense.","body":"They can&#39;t be <code>final</code> because they get changed. Make  a variable <code>final</code> doesn&#39;t guarantee it is never null. Your question does&#39;t tmake sense."}],"answers":[{"tags":[],"owner":{"account_id":11295905,"reputation":539,"user_id":8283437,"display_name":"tomtzook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589426066,"creation_date":1589424381,"answer_id":61788421,"question_id":61788265,"body_markdown":"You are correct that `last` is equal to a `node` with a `null` value. However this is intentional. The `lock` is only meant to ensure that each thread can perform modifications in this class correctly. \r\n\r\nSometimes using `null` values is intentional, to indicate a lack of value (empty queue in this case). Because the variable is `private` it can only be modified from within the class, so as long as the one writing the class is aware of the possibility of `null`, everything is alright.\r\n\r\nI think you are confusing multiple different concepts which are not necessarily connected. Note that because `last` is `private` there is no publication. In addition `head` and `last` are meant to be modified, so they can&#39;t be `final`.\r\n\r\n### Edit\r\nPerhaps I misunderstood your question...\r\n\r\n`null` is never assigned to `last` directly. So the only place this could happen is in the constructor, before `last` is assigned `new Node&lt;E&gt;(null)`. Although we can be sure that the constructor finishes before it is used by many threads, there is no visibility guarantee for the values. \r\n\r\nHowever `put` uses a `lock` which does guarantees visibility in use. So if there was no `lock` used, then `last` could actually be `null`.","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>You are correct that <code>last</code> is equal to a <code>node</code> with a <code>null</code> value. However this is intentional. The <code>lock</code> is only meant to ensure that each thread can perform modifications in this class correctly. </p>\n\n<p>Sometimes using <code>null</code> values is intentional, to indicate a lack of value (empty queue in this case). Because the variable is <code>private</code> it can only be modified from within the class, so as long as the one writing the class is aware of the possibility of <code>null</code>, everything is alright.</p>\n\n<p>I think you are confusing multiple different concepts which are not necessarily connected. Note that because <code>last</code> is <code>private</code> there is no publication. In addition <code>head</code> and <code>last</code> are meant to be modified, so they can't be <code>final</code>.</p>\n\n<h3>Edit</h3>\n\n<p>Perhaps I misunderstood your question...</p>\n\n<p><code>null</code> is never assigned to <code>last</code> directly. So the only place this could happen is in the constructor, before <code>last</code> is assigned <code>new Node&lt;E&gt;(null)</code>. Although we can be sure that the constructor finishes before it is used by many threads, there is no visibility guarantee for the values. </p>\n\n<p>However <code>put</code> uses a <code>lock</code> which does guarantees visibility in use. So if there was no <code>lock</code> used, then <code>last</code> could actually be <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589424954,"creation_date":1589424954,"answer_id":61788500,"question_id":61788265,"body_markdown":"Maybe you miss understanding about the  of Java&#39;s [continuous assignment][1]\r\n```java\r\n//first last is inited in the constructor\r\nlast = head = new Node&lt;E&gt;(null); // only the filed&#39;s value in last is null(item &amp; next)\r\n\r\n// enqueue\r\nlast = last.next = node;\r\n//equals:\r\nlast.next = node;\r\nlast = last.next;\r\n```\r\nOnly if you call `last.next` otherwise there will no NPE.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9440844/java-order-of-operations-using-two-assignment-operators-in-a-single-line","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>Maybe you miss understanding about the  of Java's <a href=\"https://stackoverflow.com/questions/9440844/java-order-of-operations-using-two-assignment-operators-in-a-single-line\">continuous assignment</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//first last is inited in the constructor\nlast = head = new Node&lt;E&gt;(null); // only the filed's value in last is null(item &amp; next)\n\n// enqueue\nlast = last.next = node;\n//equals:\nlast.next = node;\nlast = last.next;\n</code></pre>\n\n<p>Only if you call <code>last.next</code> otherwise there will no NPE.</p>\n"},{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589425347,"creation_date":1589425347,"answer_id":61788564,"question_id":61788265,"body_markdown":"According to this blog post https://shipilev.net/blog/2014/safe-public-construction/ even writing to one `final` property in constructor is enough to achieve safe initialization (and thus your object will be always published safely). And `capacity` property is declared as `final`.\r\n\r\n&gt;&gt;In short, we emit a trailing barrier in three cases:\r\n\r\n&gt;&gt;A final field was written. Notice we do not care about what field was actually written, we unconditionally emit the barrier before exiting the (initializer) method. That means if you have at least one final field write, the final fields semantics extend to every other field written in constructor.","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>According to this blog post <a href=\"https://shipilev.net/blog/2014/safe-public-construction/\" rel=\"nofollow noreferrer\">https://shipilev.net/blog/2014/safe-public-construction/</a> even writing to one <code>final</code> property in constructor is enough to achieve safe initialization (and thus your object will be always published safely). And <code>capacity</code> property is declared as <code>final</code>.</p>\n\n<blockquote>\n  <blockquote>\n    <p>In short, we emit a trailing barrier in three cases:</p>\n    \n    <p>A final field was written. Notice we do not care about what field was actually written, we unconditionally emit the barrier before exiting the (initializer) method. That means if you have at least one final field write, the final fields semantics extend to every other field written in constructor.</p>\n  </blockquote>\n</blockquote>\n"}],"owner":{"account_id":18573848,"reputation":1,"user_id":13535064,"display_name":"caihuadaye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":61788564,"answer_count":3,"score":-2,"last_activity_date":1679928690,"creation_date":1589423283,"question_id":61788265,"body_markdown":"I am learning java concurrent programming recently. I know that the `final` keyword can guarantee a safe publication. However, when I read the `LinkedBlockingQueue` source code, I found that the `head` and `last` field did not use the `final` keyword.  I found that the `enqueue` method is called in the `put` method, and the `enqueue` method directly assigns the value to `last.next`. At this time, `last` may be a `null` because `last` is not declared with `final`. Is my understanding correct? Although `lock` can guarantee `last` read and write thread safety, but can `lock`  guarantee that `last` is a correct initial value instead of `null`\r\n\r\n```java\r\npublic class LinkedBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt;\r\n        implements BlockingQueue&lt;E&gt;, java.io.Serializable {\r\ntransient Node&lt;E&gt; head;\r\nprivate transient Node&lt;E&gt; last;\r\npublic LinkedBlockingQueue(int capacity) {\r\n        if (capacity &lt;= 0) throw new IllegalArgumentException();\r\n        this.capacity = capacity;\r\n        last = head = new Node&lt;E&gt;(null);\r\n    }\r\n private void enqueue(Node&lt;E&gt; node) {\r\n        // assert putLock.isHeldByCurrentThread();\r\n        // assert last.next == null;\r\n        last = last.next = node;\r\n    }\r\n\r\npublic void put(E e) throws InterruptedException {\r\n        if (e == null) throw new NullPointerException();\r\n        // Note: convention in all put/take/etc is to preset local var\r\n        // holding count negative to indicate failure unless set.\r\n        int c = -1;\r\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\r\n        final ReentrantLock putLock = this.putLock;\r\n        final AtomicInteger count = this.count;\r\n        putLock.lockInterruptibly();\r\n        try {\r\n            /*\r\n             * Note that count is used in wait guard even though it is\r\n             * not protected by lock. This works because count can\r\n             * only decrease at this point (all other puts are shut\r\n             * out by lock), and we (or some other waiting put) are\r\n             * signalled if it ever changes from capacity. Similarly\r\n             * for all other uses of count in other wait guards.\r\n             */\r\n            while (count.get() == capacity) {\r\n                notFull.await();\r\n            }\r\n            enqueue(node);\r\n            c = count.getAndIncrement();\r\n            if (c + 1 &lt; capacity)\r\n                notFull.signal();\r\n        } finally {\r\n            putLock.unlock();\r\n        }\r\n        if (c == 0)\r\n            signalNotEmpty();\r\n    }\r\n}\r\n```","title":"Using ` LinkedBlockingQueue` may cause null pointer exception","body":"<p>I am learning java concurrent programming recently. I know that the <code>final</code> keyword can guarantee a safe publication. However, when I read the <code>LinkedBlockingQueue</code> source code, I found that the <code>head</code> and <code>last</code> field did not use the <code>final</code> keyword.  I found that the <code>enqueue</code> method is called in the <code>put</code> method, and the <code>enqueue</code> method directly assigns the value to <code>last.next</code>. At this time, <code>last</code> may be a <code>null</code> because <code>last</code> is not declared with <code>final</code>. Is my understanding correct? Although <code>lock</code> can guarantee <code>last</code> read and write thread safety, but can <code>lock</code>  guarantee that <code>last</code> is a correct initial value instead of <code>null</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkedBlockingQueue&lt;E&gt; extends AbstractQueue&lt;E&gt;\n        implements BlockingQueue&lt;E&gt;, java.io.Serializable {\ntransient Node&lt;E&gt; head;\nprivate transient Node&lt;E&gt; last;\npublic LinkedBlockingQueue(int capacity) {\n        if (capacity &lt;= 0) throw new IllegalArgumentException();\n        this.capacity = capacity;\n        last = head = new Node&lt;E&gt;(null);\n    }\n private void enqueue(Node&lt;E&gt; node) {\n        // assert putLock.isHeldByCurrentThread();\n        // assert last.next == null;\n        last = last.next = node;\n    }\n\npublic void put(E e) throws InterruptedException {\n        if (e == null) throw new NullPointerException();\n        // Note: convention in all put/take/etc is to preset local var\n        // holding count negative to indicate failure unless set.\n        int c = -1;\n        Node&lt;E&gt; node = new Node&lt;E&gt;(e);\n        final ReentrantLock putLock = this.putLock;\n        final AtomicInteger count = this.count;\n        putLock.lockInterruptibly();\n        try {\n            /*\n             * Note that count is used in wait guard even though it is\n             * not protected by lock. This works because count can\n             * only decrease at this point (all other puts are shut\n             * out by lock), and we (or some other waiting put) are\n             * signalled if it ever changes from capacity. Similarly\n             * for all other uses of count in other wait guards.\n             */\n            while (count.get() == capacity) {\n                notFull.await();\n            }\n            enqueue(node);\n            c = count.getAndIncrement();\n            if (c + 1 &lt; capacity)\n                notFull.signal();\n        } finally {\n            putLock.unlock();\n        }\n        if (c == 0)\n            signalNotEmpty();\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","linked-list","internal","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":1154498,"reputation":1020,"user_id":1135469,"accept_rate":82,"display_name":"user1135469"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401592006,"creation_date":1401582261,"answer_id":23975682,"question_id":23975527,"body_markdown":"    public Object get(int i) throws IndexOutOfBoundsException {\r\n        if(list.size()&lt;=i) throw new IndexOutOfBoundsException();\r\n        Node current = list.getFirst();\r\n        for(int x = 0; x&lt;=i; x++){\r\n           if(x == i) return current.getElement();//Change this behaviour for remove and set\r\n           current = current.getNext();\r\n        }\r\n    }","title":"Implementation of ArrayList using a LinkedList","body":"<pre><code>public Object get(int i) throws IndexOutOfBoundsException {\n    if(list.size()&lt;=i) throw new IndexOutOfBoundsException();\n    Node current = list.getFirst();\n    for(int x = 0; x&lt;=i; x++){\n       if(x == i) return current.getElement();//Change this behaviour for remove and set\n       current = current.getNext();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679928212,"creation_date":1401582281,"answer_id":23975683,"question_id":23975527,"body_markdown":"It seems like a fairly easy thing to do - just use the API exposed by your LinkedList and add some logic to it. Here is the bit you are missing\r\n\r\n    if (list.size() &lt; I) {\r\n        throw new IndexOutOfBoundsException()\r\n    }\r\n    \r\n    //get a starting point\r\n    Node node = list.getFirst();\r\n\r\n    //loop until you get to the specified position\r\n    while(I-- &gt; 0) {\r\n        node = list.getNext(node);\r\n    } \r\n    \r\n    //now node points at the node in position I - insert the new\r\n    //node before it to comply with the List interface\r\n    list.addBefore(node, e);\r\n\r\n    this.size++;\r\n\r\nI do have to note that your LinkedList implementation can be improved - first of all, the `getPrev()` `getNext()` `addBefore()` and `addAfter()` should be static, as you shouldn&#39;t have to use a LinkedList instance to call them. However, it would be even better if the methods were actually methods in Node, because that way the traversal and usage of the LinkedList would be way more easy. Here is how the above code would look like if the methods were in Node:\r\n\r\n    if (list.size() &lt; I) {\r\n        throw new IndexOutOfBoundsException()\r\n    }\r\n\r\n    //get a starting point\r\n    Node node = list.getFirst();\r\n\r\n    //loop until you get to the specified position\r\n    while(I-- &gt; 0) {\r\n        node = node.getNext();\r\n    } \r\n    \r\n    //now node points at the node in position I - insert the new\r\n    //node before it to comply with the List interface\r\n    node.addBefore(e);\r\n\r\n    this.size++;\r\n\r\nYou pretty much do not need the list at all - certainly you don&#39;t need to just pass extra parameters to some functions. You can still keep the (hopefully static) methods in Linked list that do the same thing, but they&#39;d just be proxies for the Node implementation of the methods, e.g.:\r\n\r\n    public static void addAfter(Node&lt;E&gt; node, E e) {\r\n        node.addAfter(e);\r\n    }\r\n\r\nI am not sure if you will need these methods in LinkedList but they can certainly be there for &quot;backwards compliance&quot;, if you will. \r\n\r\nThe fist bit of code is the implementation for `add()`, I am sure you can work out the rest, as they&#39;d do the same thing.","title":"Implementation of ArrayList using a LinkedList","body":"<p>It seems like a fairly easy thing to do - just use the API exposed by your LinkedList and add some logic to it. Here is the bit you are missing</p>\n<pre><code>if (list.size() &lt; I) {\n    throw new IndexOutOfBoundsException()\n}\n\n//get a starting point\nNode node = list.getFirst();\n\n//loop until you get to the specified position\nwhile(I-- &gt; 0) {\n    node = list.getNext(node);\n} \n\n//now node points at the node in position I - insert the new\n//node before it to comply with the List interface\nlist.addBefore(node, e);\n\nthis.size++;\n</code></pre>\n<p>I do have to note that your LinkedList implementation can be improved - first of all, the <code>getPrev()</code> <code>getNext()</code> <code>addBefore()</code> and <code>addAfter()</code> should be static, as you shouldn't have to use a LinkedList instance to call them. However, it would be even better if the methods were actually methods in Node, because that way the traversal and usage of the LinkedList would be way more easy. Here is how the above code would look like if the methods were in Node:</p>\n<pre><code>if (list.size() &lt; I) {\n    throw new IndexOutOfBoundsException()\n}\n\n//get a starting point\nNode node = list.getFirst();\n\n//loop until you get to the specified position\nwhile(I-- &gt; 0) {\n    node = node.getNext();\n} \n\n//now node points at the node in position I - insert the new\n//node before it to comply with the List interface\nnode.addBefore(e);\n\nthis.size++;\n</code></pre>\n<p>You pretty much do not need the list at all - certainly you don't need to just pass extra parameters to some functions. You can still keep the (hopefully static) methods in Linked list that do the same thing, but they'd just be proxies for the Node implementation of the methods, e.g.:</p>\n<pre><code>public static void addAfter(Node&lt;E&gt; node, E e) {\n    node.addAfter(e);\n}\n</code></pre>\n<p>I am not sure if you will need these methods in LinkedList but they can certainly be there for &quot;backwards compliance&quot;, if you will.</p>\n<p>The fist bit of code is the implementation for <code>add()</code>, I am sure you can work out the rest, as they'd do the same thing.</p>\n"}],"owner":{"account_id":4550436,"reputation":11,"user_id":3695848,"display_name":"cj34cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679928212,"creation_date":1401580489,"question_id":23975527,"body_markdown":"I need to implement both a Queue and ArrayList by using an internal LinkedList. I created my DoublyLinkedList class and was able to implement it into my queue with no problem. The problem I am running into is that to add or delete to/from the ArrayList, the add/delete methods take in a integer for the index and an object/element. All my methods inside my DoublyLinkedList class take in either elements and/or Nodes.\r\n\r\nMy question is this, how can I implement my DoublyLinkedList methods inside my ArrayList when my DLL class doesn&#39;t take any int values in.\r\n\r\nI want to be able to add or delete the node by using the index, but I can&#39;t. Realistically, I would want something like list.addAfter(I) without I being an integer.\r\n\r\nNote: The goal of this assignment is to implement ADTs, so I can&#39;t modify the method signatures of the ArrayList ADT.\r\n\r\nDoublyLinedList Class  \r\n    \r\n    \r\n    public class DoublyLinkedList&lt;E&gt; {\r\n\r\n\tprivate Node&lt;E&gt; head;\r\n\r\n\tprivate Node&lt;E&gt; tail;\r\n\r\n\tprivate int size;\r\n\r\n\tpublic DoublyLinkedList() {\r\n\r\n\t\tthis.head = new Node&lt;E&gt;(null, null, null);\r\n\t\tthis.tail = new Node&lt;E&gt;(null, null, null);\r\n\t\tthis.size = 0;\r\n\r\n\t\thead.setNext(tail);\r\n\t\ttail.setPrev(head);\r\n\r\n\t}\r\n\r\n\tpublic int size() {\r\n\r\n\t\treturn size;\r\n\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\r\n\t\treturn size == 0;\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getPrev(Node&lt;E&gt; n) {\r\n\r\n\t\treturn n.getPrev();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getNext(Node&lt;E&gt; n) {\r\n\r\n\t\treturn n.getNext();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getFirst() {\r\n\r\n\t\treturn head.getNext();\r\n\r\n\t}\r\n\r\n\tpublic Node&lt;E&gt; getLast() {\r\n\r\n\t\treturn tail.getPrev();\r\n\r\n\t}\r\n\r\n\tpublic E remove(Node&lt;E&gt; c) {\r\n\t\tNode&lt;E&gt; a = c.getPrev();\r\n\t\tNode&lt;E&gt; b = c.getNext();\r\n\t\tb.setNext(a);\r\n\t\ta.setPrev(b);\r\n\t\tc.setNext(null);\r\n\t\tc.setPrev(null);\r\n\t\tsize--;\r\n\t\treturn c.getElement();\r\n\t}\r\n\r\n\tpublic E removeFirst() {\r\n\t\treturn remove(head.getNext()); // first element is beyond header\r\n\t}\r\n\r\n\tpublic E removeLast() {\r\n\t\treturn remove(tail.getPrev());\r\n\t}\r\n\r\n\tpublic void addBefore(Node&lt;E&gt; node, E e) {\r\n\r\n\t\tNode&lt;E&gt; prev = getPrev(node);\r\n\r\n\t\tNode&lt;E&gt; n = new Node&lt;E&gt;(e, prev, node);\r\n\r\n\t\tnode.setPrev(n);\r\n\t\tprev.setNext(n);\r\n\r\n\t\tsize++;\r\n\r\n\t}\r\n\r\n\tpublic void addFirst(E e) {\r\n\r\n\t\taddAfter(head, e);\r\n\r\n\t}\r\n\r\n\tpublic void addLast(E e) {\r\n\r\n\t\taddBefore(tail, e);\r\n\r\n\t}\r\n\r\n\tpublic void addAfter(Node&lt;E&gt; node, E e) {\r\n\r\n\t\tNode&lt;E&gt; next = getNext(node);\r\n\r\n\t\tNode&lt;E&gt; n = new Node&lt;E&gt;(e, node, next);\r\n\t\tnode.setNext(n);\r\n\t\tnext.setPrev(n);\r\n\t\tsize++;\r\n\r\n\t}\r\n\r\n    }\r\n\r\nLArrayList class (my Arraylist implementation)\r\n\r\n    public class LArrayList implements List {\r\n\r\n\tprivate DoublyLinkedList list;\r\n\r\n\tprivate int size;\r\n\r\n\tpublic LArrayList() {\r\n\r\n\t\tthis.list = new DoublyLinkedList();\r\n\t\tthis.size = 0;\r\n\r\n\t}\r\n\r\n\tpublic int size() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size == 0;\r\n\t}\r\n\r\n\tpublic void add(int I, Object e) throws IndexOutOfBoundsException {\r\n\r\n\t\tif (isEmpty()) {\r\n\r\n\t\t\tlist.addFirst(e);\r\n\r\n\t\t}\r\n\r\n\t\t// HERE IS MY CONCERN. THESE FOUR METHODS ALL TAKE IN INT VALUES WHILE\r\n\t\t// NON OF MY DLL METHODS DO!\r\n\r\n\t}\r\n\r\n\tpublic Object get(int i) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Object remove(int i) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Object set(int I, Object e) throws IndexOutOfBoundsException {\r\n\t\treturn null;\r\n\t}\r\n\r\n    }","title":"Implementation of ArrayList using a LinkedList","body":"<p>I need to implement both a Queue and ArrayList by using an internal LinkedList. I created my DoublyLinkedList class and was able to implement it into my queue with no problem. The problem I am running into is that to add or delete to/from the ArrayList, the add/delete methods take in a integer for the index and an object/element. All my methods inside my DoublyLinkedList class take in either elements and/or Nodes.</p>\n\n<p>My question is this, how can I implement my DoublyLinkedList methods inside my ArrayList when my DLL class doesn't take any int values in.</p>\n\n<p>I want to be able to add or delete the node by using the index, but I can't. Realistically, I would want something like list.addAfter(I) without I being an integer.</p>\n\n<p>Note: The goal of this assignment is to implement ADTs, so I can't modify the method signatures of the ArrayList ADT.</p>\n\n<p>DoublyLinedList Class  </p>\n\n<pre><code>public class DoublyLinkedList&lt;E&gt; {\n\nprivate Node&lt;E&gt; head;\n\nprivate Node&lt;E&gt; tail;\n\nprivate int size;\n\npublic DoublyLinkedList() {\n\n    this.head = new Node&lt;E&gt;(null, null, null);\n    this.tail = new Node&lt;E&gt;(null, null, null);\n    this.size = 0;\n\n    head.setNext(tail);\n    tail.setPrev(head);\n\n}\n\npublic int size() {\n\n    return size;\n\n}\n\npublic boolean isEmpty() {\n\n    return size == 0;\n}\n\npublic Node&lt;E&gt; getPrev(Node&lt;E&gt; n) {\n\n    return n.getPrev();\n\n}\n\npublic Node&lt;E&gt; getNext(Node&lt;E&gt; n) {\n\n    return n.getNext();\n\n}\n\npublic Node&lt;E&gt; getFirst() {\n\n    return head.getNext();\n\n}\n\npublic Node&lt;E&gt; getLast() {\n\n    return tail.getPrev();\n\n}\n\npublic E remove(Node&lt;E&gt; c) {\n    Node&lt;E&gt; a = c.getPrev();\n    Node&lt;E&gt; b = c.getNext();\n    b.setNext(a);\n    a.setPrev(b);\n    c.setNext(null);\n    c.setPrev(null);\n    size--;\n    return c.getElement();\n}\n\npublic E removeFirst() {\n    return remove(head.getNext()); // first element is beyond header\n}\n\npublic E removeLast() {\n    return remove(tail.getPrev());\n}\n\npublic void addBefore(Node&lt;E&gt; node, E e) {\n\n    Node&lt;E&gt; prev = getPrev(node);\n\n    Node&lt;E&gt; n = new Node&lt;E&gt;(e, prev, node);\n\n    node.setPrev(n);\n    prev.setNext(n);\n\n    size++;\n\n}\n\npublic void addFirst(E e) {\n\n    addAfter(head, e);\n\n}\n\npublic void addLast(E e) {\n\n    addBefore(tail, e);\n\n}\n\npublic void addAfter(Node&lt;E&gt; node, E e) {\n\n    Node&lt;E&gt; next = getNext(node);\n\n    Node&lt;E&gt; n = new Node&lt;E&gt;(e, node, next);\n    node.setNext(n);\n    next.setPrev(n);\n    size++;\n\n}\n\n}\n</code></pre>\n\n<p>LArrayList class (my Arraylist implementation)</p>\n\n<pre><code>public class LArrayList implements List {\n\nprivate DoublyLinkedList list;\n\nprivate int size;\n\npublic LArrayList() {\n\n    this.list = new DoublyLinkedList();\n    this.size = 0;\n\n}\n\npublic int size() {\n    return size;\n}\n\npublic boolean isEmpty() {\n    return size == 0;\n}\n\npublic void add(int I, Object e) throws IndexOutOfBoundsException {\n\n    if (isEmpty()) {\n\n        list.addFirst(e);\n\n    }\n\n    // HERE IS MY CONCERN. THESE FOUR METHODS ALL TAKE IN INT VALUES WHILE\n    // NON OF MY DLL METHODS DO!\n\n}\n\npublic Object get(int i) throws IndexOutOfBoundsException {\n    return null;\n}\n\npublic Object remove(int i) throws IndexOutOfBoundsException {\n    return null;\n}\n\npublic Object set(int I, Object e) throws IndexOutOfBoundsException {\n    return null;\n}\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","optaplanner"],"comments":[{"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"score":1,"creation_date":1389021156,"post_id":20952713,"comment_id":31470718,"body_markdown":"Do you know build tools like ant, maven or gradle?","body":"Do you know build tools like ant, maven or gradle?"},{"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"score":0,"creation_date":1389037307,"post_id":20952713,"comment_id":31480402,"body_markdown":"I know about them, but so far I have used only make and .NET counterparts (NAnt, MSBuild). Which one of them should I pick if IntelliJ&#39;s build tool won&#39;t cut it?","body":"I know about them, but so far I have used only make and .NET counterparts (NAnt, MSBuild). Which one of them should I pick if IntelliJ&#39;s build tool won&#39;t cut it?"},{"owner":{"account_id":3712383,"reputation":1293,"user_id":3152071,"display_name":"bigjosh"},"score":1,"creation_date":1453662396,"post_id":20952713,"comment_id":57689289,"body_markdown":"Vote to correct this issue [here](https://youtrack.jetbrains.com/issue/IDEA-99596),","body":"Vote to correct this issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-99596\" rel=\"nofollow noreferrer\">here</a>,"}],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1389025996,"creation_date":1389025996,"answer_id":20954612,"question_id":20952713,"body_markdown":"To fix:\r\n\r\n 0. *File &gt; Project Structure*\r\n 0.  Under *Project Settings* on the left, select &quot;Artifacts&quot;\r\n 0. Find the JAR definition In the middle pane and select it\r\n 0. In the left pane of the &quot;Output Layout&quot; tab find the jar file in the list and select it\r\n 0. At the bottom, click the &quot;Use Existing Manifest&quot; button and select the manifest file that is in your project source.\r\n 0. Click OK and run the build","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>To fix:</p>\n\n<ol>\n<li><em>File > Project Structure</em></li>\n<li>Under <em>Project Settings</em> on the left, select \"Artifacts\"</li>\n<li>Find the JAR definition In the middle pane and select it</li>\n<li>In the left pane of the \"Output Layout\" tab find the jar file in the list and select it</li>\n<li>At the bottom, click the \"Use Existing Manifest\" button and select the manifest file that is in your project source.</li>\n<li>Click OK and run the build</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389080895,"creation_date":1389080895,"answer_id":20966492,"question_id":20952713,"body_markdown":"There are several ways to generate executable jars. Using IntelliJ&#39;s GUI feature is one good way. Another way is to use **Maven** (or similarly in gradle, buildr, etc) which is build-server friendly:\r\n\r\nIt&#39;s more or less copy pasteable from the optaplanner examples maven build:\r\n\r\n 1. The end-user jar (optaplanner-examples-*.jar) must [include the classpath of its dependencies in its manifest][1].\r\n 2. [The sh and bat script][2] must then run that jar with accordingly.\r\n\r\n\r\n  [1]: https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/pom.xml#L45\r\n  [2]: https://github.com/droolsjbpm/optaplanner/tree/master/optaplanner-distribution/src/main/assembly/scripts","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>There are several ways to generate executable jars. Using IntelliJ's GUI feature is one good way. Another way is to use <strong>Maven</strong> (or similarly in gradle, buildr, etc) which is build-server friendly:</p>\n\n<p>It's more or less copy pasteable from the optaplanner examples maven build:</p>\n\n<ol>\n<li>The end-user jar (optaplanner-examples-*.jar) must <a href=\"https://github.com/droolsjbpm/optaplanner/blob/master/optaplanner-examples/pom.xml#L45\" rel=\"nofollow\">include the classpath of its dependencies in its manifest</a>.</li>\n<li><a href=\"https://github.com/droolsjbpm/optaplanner/tree/master/optaplanner-distribution/src/main/assembly/scripts\" rel=\"nofollow\">The sh and bat script</a> must then run that jar with accordingly.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1403407,"reputation":3110,"user_id":1331754,"display_name":"jamhan"},"down_vote_count":1,"up_vote_count":275,"is_accepted":true,"score":274,"last_activity_date":1389526261,"creation_date":1389526261,"answer_id":21074091,"question_id":20952713,"body_markdown":"I had the same problem.\r\n\r\nMake sure your MANIFEST.MF is in:\r\n\r\n    src/main/resources/META_INF/\r\n\r\nNOT\r\n    \r\n    src/main/java/META_INF/\r\n\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I had the same problem.</p>\n\n<p>Make sure your MANIFEST.MF is in:</p>\n\n<pre><code>src/main/resources/META_INF/\n</code></pre>\n\n<p>NOT</p>\n\n<pre><code>src/main/java/META_INF/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4395834,"reputation":116,"user_id":5334095,"display_name":"marcelocesar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444307102,"creation_date":1444307102,"answer_id":33015735,"question_id":20952713,"body_markdown":"I had a similar problem. \r\n\r\nThe problem was in file pom.xml.\r\n\r\n    &lt;archive&gt;\r\n      &lt;manifestEntries&gt;\r\n        &lt;Dependencies&gt;one.jar,\r\n                      two.rar, \r\n                      other.jar\r\n        &lt;/Dependencies&gt;\r\n      &lt;/manifestEntries&gt;\r\n    &lt;/archive&gt;\r\n\r\nI do not know for what reason this code works in eclipse, but not in IntelliJ\r\n\r\nThis it correct.\r\n\r\n    &lt;archive&gt;\r\n      &lt;manifestEntries&gt;\r\n        &lt;Dependencies&gt;one.jar, two.rar, other.jar&lt;/Dependencies&gt;\r\n      &lt;/manifestEntries&gt;\r\n    &lt;/archive&gt;\r\n\r\nManifest.mf worked!!!\r\n\r\nI hope this helps.\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I had a similar problem. </p>\n\n<p>The problem was in file pom.xml.</p>\n\n<pre><code>&lt;archive&gt;\n  &lt;manifestEntries&gt;\n    &lt;Dependencies&gt;one.jar,\n                  two.rar, \n                  other.jar\n    &lt;/Dependencies&gt;\n  &lt;/manifestEntries&gt;\n&lt;/archive&gt;\n</code></pre>\n\n<p>I do not know for what reason this code works in eclipse, but not in IntelliJ</p>\n\n<p>This it correct.</p>\n\n<pre><code>&lt;archive&gt;\n  &lt;manifestEntries&gt;\n    &lt;Dependencies&gt;one.jar, two.rar, other.jar&lt;/Dependencies&gt;\n  &lt;/manifestEntries&gt;\n&lt;/archive&gt;\n</code></pre>\n\n<p>Manifest.mf worked!!!</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5317286,"reputation":3404,"user_id":5368599,"accept_rate":68,"display_name":"Autumn"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447796651,"creation_date":1447378238,"answer_id":33684513,"question_id":20952713,"body_markdown":"As noted in @grudolf&#39;s comment in one of the other answers, one way to do this (and the only one that worked for me in an imported Gradle project) is to create an empty jar as follows:\r\n\r\n  * Project Structure -&gt; Artifacts -&gt; + Jar -&gt; Empty\r\n  * Centre pane now has Create Manifest and Use Existing Manifest buttons.  Use one of these.\r\n  * I had difficulty if I extracted dependent libraries with their own manifests into the output root, they seemed to intermittently overwrite the new manually created manifest.  Messing around with order of operations seemed to make it work.\r\n\r\nUPDATE:\r\n-----------------\r\nThis is definitely a bug in Idea.  [This linked answer](https://stackoverflow.com/questions/17024715/create-an-excutable-jar-in-intellij-idea/23142480#23142480) works reliably when there are extracted directories.  In essence, you find your .idea/JARNAME.xml, add add the following element to the *very top* of the `&lt;root&gt;` element for your jar.  Any extracted elements above your new file-copy that contain a manifest will clobber your new manifest.\r\n\r\n      &lt;element id=&quot;directory&quot; name=&quot;/META-INF&quot;&gt;\r\n        &lt;element id=&quot;file-copy&quot; path=&quot;$PROJECT_DIR$/modulename/src/META-INF/MANIFEST.MF&quot; /&gt;\r\n      &lt;/element&gt;","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>As noted in @grudolf's comment in one of the other answers, one way to do this (and the only one that worked for me in an imported Gradle project) is to create an empty jar as follows:</p>\n\n<ul>\n<li>Project Structure -> Artifacts -> + Jar -> Empty</li>\n<li>Centre pane now has Create Manifest and Use Existing Manifest buttons.  Use one of these.</li>\n<li>I had difficulty if I extracted dependent libraries with their own manifests into the output root, they seemed to intermittently overwrite the new manually created manifest.  Messing around with order of operations seemed to make it work.</li>\n</ul>\n\n<h2>UPDATE:</h2>\n\n<p>This is definitely a bug in Idea.  <a href=\"https://stackoverflow.com/questions/17024715/create-an-excutable-jar-in-intellij-idea/23142480#23142480\">This linked answer</a> works reliably when there are extracted directories.  In essence, you find your .idea/JARNAME.xml, add add the following element to the <em>very top</em> of the <code>&lt;root&gt;</code> element for your jar.  Any extracted elements above your new file-copy that contain a manifest will clobber your new manifest.</p>\n\n<pre><code>  &lt;element id=\"directory\" name=\"/META-INF\"&gt;\n    &lt;element id=\"file-copy\" path=\"$PROJECT_DIR$/modulename/src/META-INF/MANIFEST.MF\" /&gt;\n  &lt;/element&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4976814,"reputation":131,"user_id":4002905,"display_name":"usbo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452604311,"creation_date":1452604311,"answer_id":34744643,"question_id":20952713,"body_markdown":"If you want to specify Main Class, you have to add this plugin to pom.xml:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;Form&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>If you want to specify Main Class, you have to add this plugin to pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;Form&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482437141,"creation_date":1482248033,"answer_id":41245953,"question_id":20952713,"body_markdown":"To have no problem like Manifest, you should have a directory named &quot;META-INF&quot; in &quot;src&quot; directory. So, create it and put a file named &quot;MANIFEST.MF&quot; in it with the following contents:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: &lt;packageName&gt;.Main\r\n\r\nNot to forgot to replace the package&#39;s name containing Main class above!\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>To have no problem like Manifest, you should have a directory named \"META-INF\" in \"src\" directory. So, create it and put a file named \"MANIFEST.MF\" in it with the following contents:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: &lt;packageName&gt;.Main\n</code></pre>\n\n<p>Not to forgot to replace the package's name containing Main class above!</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679927747,"creation_date":1679927747,"answer_id":75857047,"question_id":20952713,"body_markdown":"Please follow the steps detailed here\r\n\r\nhttps://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\r\n\r\n&gt; Click the Build Project icon to build project. IntelliJ IDEA generates\r\n&gt; target folder. **Note that IntelliJ IDEA only compiles sources and\r\n&gt; doesn&#39;t create either JAR file or Manifest file.**\r\n&gt; \r\n&gt; Create a Manifest file in the resources directory.\r\n&gt; \r\n&gt; Right-click the directory, select New | Directory to create the\r\n&gt; META-INF subdirectory. Then right-click the subdirectory, select New |\r\n&gt; File to create the MANIFEST.MF file.\r\n&gt; \r\n&gt; the Manifest file Open the MANIFEST.MF file in the editor and add\r\n&gt; information about your main class.\r\n&gt; \r\n&gt; Check the following code:\r\n&gt; \r\n&gt; Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\r\n&gt; this line of code into the MANIFEST.MF file with the following code in\r\n&gt; pom.xml:\r\n&gt; \r\n&gt; &lt;plugin&gt;\r\n&gt;     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n&gt;     &lt;configuration&gt;\r\n&gt;         &lt;archive&gt;\r\n&gt;             &lt;manifest&gt;\r\n&gt;                 &lt;mainClass&gt;\r\n&gt;                     com.company.MyApp\r\n&gt;                 &lt;/mainClass&gt;\r\n&gt;             &lt;/manifest&gt;\r\n&gt;         &lt;/archive&gt;\r\n&gt;     &lt;/configuration&gt; &lt;/plugin&gt; In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\r\n&gt; \r\n&gt; POM with manifest Alternatively, you can execute package instead of\r\n&gt; the install command to achieve the same result.","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>Please follow the steps detailed here</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2022.2/convert-a-regular-project-into-a-maven-project.html#develop_with_maven</a></p>\n<blockquote>\n<p>Click the Build Project icon to build project. IntelliJ IDEA generates\ntarget folder. <strong>Note that IntelliJ IDEA only compiles sources and\ndoesn't create either JAR file or Manifest file.</strong></p>\n<p>Create a Manifest file in the resources directory.</p>\n<p>Right-click the directory, select New | Directory to create the\nMETA-INF subdirectory. Then right-click the subdirectory, select New |\nFile to create the MANIFEST.MF file.</p>\n<p>the Manifest file Open the MANIFEST.MF file in the editor and add\ninformation about your main class.</p>\n<p>Check the following code:</p>\n<p>Main-Class: com.company.MyApp Alternatively, we can ask Maven to add\nthis line of code into the MANIFEST.MF file with the following code in\npom.xml:</p>\n\n    org.apache.maven.plugins\n    maven-jar-plugin\n    \n        \n            \n                \n                    com.company.MyApp\n                \n            \n        \n      In your POM specify the Manifest file information, so you can use Maven to generate an executable jar file.\n<p>POM with manifest Alternatively, you can execute package instead of\nthe install command to achieve the same result.</p>\n</blockquote>\n"}],"owner":{"account_id":15963,"reputation":1774,"user_id":34299,"display_name":"grudolf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90069,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":21074091,"answer_count":8,"score":107,"last_activity_date":1679927747,"creation_date":1389020320,"question_id":20952713,"body_markdown":"I&#39;m trying to package a project using OptaPlanner 6.0.1 libraries into a .jar through IntelliJ IDEA&#39;s jar artifact but instead of my manifest.mf containing the standard\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: a.b.c.app\r\n\r\nthe jar uses the one supplied in ecj-3.7.2.jar, one of OptaPlanner&#39;s supporting libraries:\r\n\r\n    Manifest-Version: 1.0\r\n    Build-Jdk: 1.6.0_26\r\n    Built-By: ibrandt\r\n    Created-By: Apache Maven\r\n    Archiver-Version: Plexus Archiver\r\n\r\nBecause of this, a `&quot;no main manifest attribute, in appname.jar&quot;` error happens when trying to run the app. If I manually replace the manifest in .jar file with mine everything works correctly. Is there anything I can do to fix this?\r\n\r\nI keep the libraries in a separate /lib directory and they were added to the root of jar artifact as Extracted Directory, IntelliJ IDEA is v13.0.1.\r\n\r\n\r\n\r\n","title":"Wrong Manifest.mf in IntelliJ IDEA created .jar","body":"<p>I'm trying to package a project using OptaPlanner 6.0.1 libraries into a .jar through IntelliJ IDEA's jar artifact but instead of my manifest.mf containing the standard</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: a.b.c.app\n</code></pre>\n\n<p>the jar uses the one supplied in ecj-3.7.2.jar, one of OptaPlanner's supporting libraries:</p>\n\n<pre><code>Manifest-Version: 1.0\nBuild-Jdk: 1.6.0_26\nBuilt-By: ibrandt\nCreated-By: Apache Maven\nArchiver-Version: Plexus Archiver\n</code></pre>\n\n<p>Because of this, a <code>\"no main manifest attribute, in appname.jar\"</code> error happens when trying to run the app. If I manually replace the manifest in .jar file with mine everything works correctly. Is there anything I can do to fix this?</p>\n\n<p>I keep the libraries in a separate /lib directory and they were added to the root of jar artifact as Extracted Directory, IntelliJ IDEA is v13.0.1.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9449,"page":543,"page_size":100}
