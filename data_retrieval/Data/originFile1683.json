{"items":[{"tags":["java","time","java-time"],"comments":[{"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"score":0,"creation_date":1469016488,"post_id":38480667,"comment_id":64363728,"body_markdown":"What is wrong about the result that you get? I get 2016 29 in both cases, (which is, as far as I can tell, correct).","body":"What is wrong about the result that you get? I get 2016 29 in both cases, (which is, as far as I can tell, correct)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1469016564,"post_id":38480667,"comment_id":64363772,"body_markdown":"There are two DateTimeFormatter.ofPattern methods.  [One of them takes a Locale.](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-java.util.Locale-)","body":"There are two DateTimeFormatter.ofPattern methods.  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-java.util.Locale-\" rel=\"nofollow noreferrer\">One of them takes a Locale.</a>"},{"owner":{"account_id":2200754,"reputation":2067,"user_id":1945220,"accept_rate":93,"display_name":"Unknown"},"score":0,"creation_date":1469017147,"post_id":38480667,"comment_id":64364212,"body_markdown":"Try DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;,Locale.GERMANY);","body":"Try DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;,Locale.GERMANY);"},{"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"score":0,"creation_date":1469018888,"post_id":38480667,"comment_id":64365520,"body_markdown":"@davida. i got 30 (time api) and 29(util.date), my system locale isnt set to germany.","body":"@davida. i got 30 (time api) and 29(util.date), my system locale isnt set to germany."},{"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"score":0,"creation_date":1469018922,"post_id":38480667,"comment_id":64365548,"body_markdown":"this worked &#180;DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;,Locale.GERMANY);&#180;","body":"this worked &#180;DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;,Locale.GERMANY);&#180;"},{"owner":{"account_id":3175071,"reputation":20715,"user_id":2683146,"accept_rate":85,"display_name":"Jean-Fran&#231;ois Savard"},"score":2,"creation_date":1469019035,"post_id":38480667,"comment_id":64365638,"body_markdown":"What is the point of using LocalDateTime.now() if your pattern does not include time ? Could simply use LocalDate.now().","body":"What is the point of using LocalDateTime.now() if your pattern does not include time ? Could simply use LocalDate.now()."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523770086,"post_id":38480667,"comment_id":86692496,"body_markdown":"**Beware:** Your  lowercase `yyyy` (for calendar-year) should be uppercase `YYYY` for week-based-year. See [my Answer](https://stackoverflow.com/a/49838733/642706) for details.","body":"<b>Beware:</b> Your  lowercase <code>yyyy</code> (for calendar-year) should be uppercase <code>YYYY</code> for week-based-year. See <a href=\"https://stackoverflow.com/a/49838733/642706\">my Answer</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":2200754,"reputation":2067,"user_id":1945220,"accept_rate":93,"display_name":"Unknown"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1469019057,"creation_date":1469017419,"answer_id":38481217,"question_id":38480667,"body_markdown":"Pass the Locale to ofPattern method of [DateTimeFormatter][1]\r\n\r\n     DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;,Locale.GERMANY);\r\n     System.out.println(LocalDateTime.now().format(formatter));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"Java Time API Locale (week of the year)","body":"<p>Pass the Locale to ofPattern method of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\">DateTimeFormatter</a></p>\n\n<pre><code> DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy ww\",Locale.GERMANY);\n System.out.println(LocalDateTime.now().format(formatter));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642107645,"creation_date":1523769471,"answer_id":49838733,"question_id":38480667,"body_markdown":"# tl;dr\r\n\r\nUse proper formatting pattern, case-sensitive: `&quot;YYYY ww&quot;`.\r\n\r\n    LocalDate.now( ZoneId.of( &quot;Europe/Berlin&quot; ) )    // Get the current date (date-only value) as seen in the wall-clock time used by the people of a certain region (a time zone).\r\n    .format(                                         // Generate a string representing the week and week-based-year according to a particular locale’s definition of ‘week’.\r\n        DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ).withLocale( Locale.GERMANY )\r\n    )\r\n\r\n\r\n# `yyyy ww` is invalid\r\n\r\nThe `yyyy` coding in *java.time* means calendar-year. Following that with `ww` for a week number of a standard ISO 8601 week-based year is misleading and nonsensical. \r\n\r\n**You should be combining week-number with *week-based-year* number rather than *calendar-year* number**. The formatting code for that is uppercase `YYYY`. So you would want `YYYY ww`.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ) ;\r\n\r\n# Locale affects `YYYY` not `yyyy`\r\n\r\nSince `yyyy` lowercase means calendar year, specifying a `Locale` has no effect. Use `YYYY` uppercase, as mentioned above, if you want the locale-defined week-based-year.\r\n\r\nFor more info, see the Question: [*Java Time&#39;s week-of-week-based-year pattern parsing with DateTimeFormatter*](https://stackoverflow.com/q/39584350/642706)\r\n\r\n\r\n    Locale locale = Locale.GERMANY ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ).withLocale( locale ) ;\r\n    LocalDate ld = LocalDate.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ; // Or &quot;Africa/Tunis&quot;, &quot;Pacific/Auckland&quot; etc. Time zone is unrelated (orthogonal) to locale.\r\n    String output = ld.format( f ) ;\r\n\r\n\r\n\r\n# Standard week\r\n\r\nPerhaps you want the [ISO 8601][1] standard [definition of week][2] rather than a locale-defined definition. This is where week # 1 contains the first Thursday of the calendar year, and starts on a Monday, for a total of 52 or 53 weeks per year.\r\n\r\nISO 8601 defines a standard format for week-based year &amp; week. You may want to consider using the standard format rather than your custom format.\r\n\r\nStandard format is yyyy-Www for the year-week, and yyyy-Www-d to also  display the day-of-week number where 1-7 is Monday-Sunday. For example, `2012-W48-6` is 2012-12-01, a Saturday (day-of-week # 6). \r\n\r\nThe `DateTimeFormatter` class comes with a predefined format for this, [`DateTimeFormatter.ISO_WEEK_DATE`][3].\r\n\r\n    String input = &quot;2012-W48-6&quot;;\r\n    LocalDate ld = LocalDate.parse( input , DateTimeFormatter.ISO_WEEK_DATE );\r\n    System.out.println( ld );\r\n\r\n&gt;2012-12-01\r\n\r\nYou can generate such a string.\r\n\r\n    String output = ld.format( DateTimeFormatter.ISO_WEEK_DATE );\r\n\r\n&gt;2012-W48-6\r\n\r\nIf you want the entire week, without the day-of-week, just truncate the string.\r\n\r\n    String output = ld.format( DateTimeFormatter.ISO_WEEK_DATE ).substring( 0 , 8 ) ;\r\n\r\n&gt;2012-W48\r\n\r\n# `YearWeek`\r\n\r\nIf you will be doing much of this work at all, I suggest adding the [*ThreeTen-Extra*][4] library to your project. That library offers many handy classes, one of which is [`YearWeek`][5] to represent the standard ISO 8601 week as a whole.\r\n\r\n    YearWeek yw = YearWeek.parse( &quot;2012-W48&quot; ) ;\r\n\r\nGet the current week.\r\n\r\n    YearWeek yw = YearWeek.now( ZoneId.of( &quot;Europe/Berlin&quot; ) )     \r\n\r\n&gt;yw.toString(): 2012-W48\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://en.wikipedia.org/wiki/ISO_week_date\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE\r\n  [4]: http://www.threeten.org/threeten-extra/\r\n  [5]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html","title":"Java Time API Locale (week of the year)","body":"<h1>tl;dr</h1>\n<p>Use proper formatting pattern, case-sensitive: <code>&quot;YYYY ww&quot;</code>.</p>\n<pre><code>LocalDate.now( ZoneId.of( &quot;Europe/Berlin&quot; ) )    // Get the current date (date-only value) as seen in the wall-clock time used by the people of a certain region (a time zone).\n.format(                                         // Generate a string representing the week and week-based-year according to a particular locale’s definition of ‘week’.\n    DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ).withLocale( Locale.GERMANY )\n)\n</code></pre>\n<h1><code>yyyy ww</code> is invalid</h1>\n<p>The <code>yyyy</code> coding in <em>java.time</em> means calendar-year. Following that with <code>ww</code> for a week number of a standard ISO 8601 week-based year is misleading and nonsensical.</p>\n<p><strong>You should be combining week-number with <em>week-based-year</em> number rather than <em>calendar-year</em> number</strong>. The formatting code for that is uppercase <code>YYYY</code>. So you would want <code>YYYY ww</code>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ) ;\n</code></pre>\n<h1>Locale affects <code>YYYY</code> not <code>yyyy</code></h1>\n<p>Since <code>yyyy</code> lowercase means calendar year, specifying a <code>Locale</code> has no effect. Use <code>YYYY</code> uppercase, as mentioned above, if you want the locale-defined week-based-year.</p>\n<p>For more info, see the Question: <a href=\"https://stackoverflow.com/q/39584350/642706\"><em>Java Time's week-of-week-based-year pattern parsing with DateTimeFormatter</em></a></p>\n<pre><code>Locale locale = Locale.GERMANY ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;YYYY ww&quot; ).withLocale( locale ) ;\nLocalDate ld = LocalDate.now( ZoneId.of( &quot;Europe/Berlin&quot; ) ) ; // Or &quot;Africa/Tunis&quot;, &quot;Pacific/Auckland&quot; etc. Time zone is unrelated (orthogonal) to locale.\nString output = ld.format( f ) ;\n</code></pre>\n<h1>Standard week</h1>\n<p>Perhaps you want the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">definition of week</a> rather than a locale-defined definition. This is where week # 1 contains the first Thursday of the calendar year, and starts on a Monday, for a total of 52 or 53 weeks per year.</p>\n<p>ISO 8601 defines a standard format for week-based year &amp; week. You may want to consider using the standard format rather than your custom format.</p>\n<p>Standard format is yyyy-Www for the year-week, and yyyy-Www-d to also  display the day-of-week number where 1-7 is Monday-Sunday. For example, <code>2012-W48-6</code> is 2012-12-01, a Saturday (day-of-week # 6).</p>\n<p>The <code>DateTimeFormatter</code> class comes with a predefined format for this, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_WEEK_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_WEEK_DATE</code></a>.</p>\n<pre><code>String input = &quot;2012-W48-6&quot;;\nLocalDate ld = LocalDate.parse( input , DateTimeFormatter.ISO_WEEK_DATE );\nSystem.out.println( ld );\n</code></pre>\n<blockquote>\n<p>2012-12-01</p>\n</blockquote>\n<p>You can generate such a string.</p>\n<pre><code>String output = ld.format( DateTimeFormatter.ISO_WEEK_DATE );\n</code></pre>\n<blockquote>\n<p>2012-W48-6</p>\n</blockquote>\n<p>If you want the entire week, without the day-of-week, just truncate the string.</p>\n<pre><code>String output = ld.format( DateTimeFormatter.ISO_WEEK_DATE ).substring( 0 , 8 ) ;\n</code></pre>\n<blockquote>\n<p>2012-W48</p>\n</blockquote>\n<h1><code>YearWeek</code></h1>\n<p>If you will be doing much of this work at all, I suggest adding the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. That library offers many handy classes, one of which is <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a> to represent the standard ISO 8601 week as a whole.</p>\n<pre><code>YearWeek yw = YearWeek.parse( &quot;2012-W48&quot; ) ;\n</code></pre>\n<p>Get the current week.</p>\n<pre><code>YearWeek yw = YearWeek.now( ZoneId.of( &quot;Europe/Berlin&quot; ) )     \n</code></pre>\n<blockquote>\n<p>yw.toString(): 2012-W48</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38481217,"answer_count":2,"score":3,"last_activity_date":1642107645,"creation_date":1469015873,"question_id":38480667,"body_markdown":"Howto pass a localization to the new Java Time API?\r\n\r\nIn this simple example i try to print current week-of-the-year but the result is always wrong.\r\n\r\n    import java.text.*;\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    import java.util.*;\r\n    \r\n    //wrong result\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy ww&quot;);\r\n    System.out.println(LocalDateTime.now(ZoneId.of(&quot;Europe/Berlin&quot;)).format(formatter));\r\n    \r\n    //this works\r\n    System.out.println(new SimpleDateFormat(&quot;yyyy ww&quot;,Locale.GERMANY).format(new Date()));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Time API Locale (week of the year)","body":"<p>Howto pass a localization to the new Java Time API?</p>\n\n<p>In this simple example i try to print current week-of-the-year but the result is always wrong.</p>\n\n<pre><code>import java.text.*;\nimport java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\n//wrong result\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy ww\");\nSystem.out.println(LocalDateTime.now(ZoneId.of(\"Europe/Berlin\")).format(formatter));\n\n//this works\nSystem.out.println(new SimpleDateFormat(\"yyyy ww\",Locale.GERMANY).format(new Date()));\n</code></pre>\n"},{"tags":["java","eclipse","maven","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642106657,"post_id":70701662,"comment_id":124990718,"body_markdown":"Stack traces are easier to read if you post them formatted as code rather than comments.","body":"Stack traces are easier to read if you post them formatted as code rather than comments."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642107259,"creation_date":1642107259,"answer_id":70702990,"question_id":70701662,"body_markdown":"This is unrelated to Maven, it is an access error caused by incorrect configuration of the Java module system for your application.\r\n\r\nThe error message tells you what is wrong: \r\n\r\n    module rslFxNewMaven does not &quot;opens reselection.view&quot; to module javafx.fxml\r\n\r\nStudy -&gt; [java modules][1].\r\n\r\nAdd the following line to your module-info.java:\r\n\r\n    opens reselection.view to javafx.fxml;\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"How to convert JavaFX project to Maven correctly?","body":"<p>This is unrelated to Maven, it is an access error caused by incorrect configuration of the Java module system for your application.</p>\n<p>The error message tells you what is wrong:</p>\n<pre><code>module rslFxNewMaven does not &quot;opens reselection.view&quot; to module javafx.fxml\n</code></pre>\n<p>Study -&gt; <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">java modules</a>.</p>\n<p>Add the following line to your module-info.java:</p>\n<pre><code>opens reselection.view to javafx.fxml;\n</code></pre>\n"}],"owner":{"account_id":23932532,"reputation":1,"user_id":17926809,"display_name":"vvslava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70702990,"answer_count":1,"score":0,"last_activity_date":1642107259,"creation_date":1642100115,"question_id":70701662,"body_markdown":"I wrote JavaFx project in Eclipse IDE, it worked correctly.\r\n\r\nOnce I converted it into Maven project, my FMXL files stopped opening. However, if I create new FXML files and put them in the same folders, everything works.  \r\n\r\nIs there any way to run my Maven project without recreating all my FXML files?\r\n\r\nI&#39;ve already tried changing paths to my FXML files in code, moving FXMLs to src/main/resources package or simply copying the code from old FXMLs to the new ones, but nothing worked. \r\n\r\nAll FXMLs I created in SceneBuilder and haven&#39;t changed the version of this program  throughout the process.\r\n\r\nI&#39;m loading my FXMLs using the following method:\r\n\r\n    private void showMainPage() throws IOException {\r\n    FXMLLoader loader = new FXMLLoader();\r\n    loader.setLocation(Main.class.getResource(&quot;view/MainView.fxml&quot;));\r\n    mainLayout = loader.load();\r\n    Scene scene = new Scene(mainLayout);\r\n    primaryStage.setScene(scene);\r\n    primaryStage.show();\r\n    }\r\n\r\nmy pom.xml file \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;fx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;fxMaven&lt;/name&gt;\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n        &lt;version&gt;17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;3.36.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;ru.jfxreselection.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n          &lt;resource&gt;\r\n              &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n                  &lt;includes&gt;\r\n                      &lt;include&gt;**/*.fxml&lt;/include&gt;\r\n                  &lt;/includes&gt;\r\n          &lt;/resource&gt;\r\n      &lt;/resources&gt;   \r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nthe error I get trying to run with old .FXML files\r\n\r\n&gt; Exception in Application start method\r\n&gt; java.lang.reflect.InvocationTargetException   at\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)   at\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n&gt; at\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; at java.base/java.lang.reflect.Method.invoke(Method.java:567)   at\r\n&gt; javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&gt; at\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)   at\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n&gt; at\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; at java.base/java.lang.reflect.Method.invoke(Method.java:567)   at\r\n&gt; java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n&gt; Caused by: java.lang.RuntimeException: Exception in Application start\r\n&gt; method   at\r\n&gt; javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n&gt; at java.base/java.lang.Thread.run(Thread.java:831) Caused by:\r\n&gt; javafx.fxml.LoadException: \r\n&gt; /C:/Users/Tormo/eclipse-workspace/rslFxNewMaven/target/classes/reselection/view/MainView.fxml:48\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n&gt; at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)  \r\n&gt; at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)  \r\n&gt; at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)   at\r\n&gt; rslFxNewMaven/reselection.Main.showMainPage(Main.java:28)   at\r\n&gt; rslFxNewMaven/reselection.Main.start(Main.java:22)   at\r\n&gt; javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n&gt; at\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n&gt; at\r\n&gt; javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n&gt; at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\r\n&gt; Method)   at\r\n&gt; javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n&gt; ... 1 more Caused by: java.lang.reflect.InaccessibleObjectException:\r\n&gt; Unable to make private void\r\n&gt; reselection.view.MainViewController.goDacSearch() throws\r\n&gt; java.io.IOException accessible: module rslFxNewMaven does not &quot;opens\r\n&gt; reselection.view&quot; to module javafx.fxml   at\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n&gt; at\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n&gt; at\r\n&gt; java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n&gt; at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)  \r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.addAccessibleMethods(FXMLLoader.java:3611)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor$1.run(FXMLLoader.java:3543)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor$1.run(FXMLLoader.java:3536)\r\n&gt; at\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.addAccessibleMembers(FXMLLoader.java:3535)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.getControllerMethods(FXMLLoader.java:3494)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:573)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:610)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)\r\n&gt; at\r\n&gt; javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\r\n&gt; at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)  \r\n&gt; ... 13 more Exception running application reselection.Main","title":"How to convert JavaFX project to Maven correctly?","body":"<p>I wrote JavaFx project in Eclipse IDE, it worked correctly.</p>\n<p>Once I converted it into Maven project, my FMXL files stopped opening. However, if I create new FXML files and put them in the same folders, everything works.</p>\n<p>Is there any way to run my Maven project without recreating all my FXML files?</p>\n<p>I've already tried changing paths to my FXML files in code, moving FXMLs to src/main/resources package or simply copying the code from old FXMLs to the new ones, but nothing worked.</p>\n<p>All FXMLs I created in SceneBuilder and haven't changed the version of this program  throughout the process.</p>\n<p>I'm loading my FXMLs using the following method:</p>\n<pre><code>private void showMainPage() throws IOException {\nFXMLLoader loader = new FXMLLoader();\nloader.setLocation(Main.class.getResource(&quot;view/MainView.fxml&quot;));\nmainLayout = loader.load();\nScene scene = new Scene(mainLayout);\nprimaryStage.setScene(scene);\nprimaryStage.show();\n}\n</code></pre>\n<p>my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;fx&lt;/groupId&gt;\n  &lt;artifactId&gt;maven&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;fxMaven&lt;/name&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;17&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.26&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n    &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.36.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.mchange/c3p0 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n    &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n    &lt;version&gt;0.9.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;11&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running --&gt;\n                    &lt;!-- Usage: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;ru.jfxreselection.App&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n          &lt;directory&gt;src/main/java&lt;/directory&gt;\n              &lt;includes&gt;\n                  &lt;include&gt;**/*.fxml&lt;/include&gt;\n              &lt;/includes&gt;\n      &lt;/resource&gt;\n  &lt;/resources&gt;   \n&lt;/build&gt;\n</code></pre>\n\n<p>the error I get trying to run with old .FXML files</p>\n<blockquote>\n<p>Exception in Application start method\njava.lang.reflect.InvocationTargetException   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)   at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\nat\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)   at\njava.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start\nmethod   at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\nat\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\nat java.base/java.lang.Thread.run(Thread.java:831) Caused by:\njavafx.fxml.LoadException:\n/C:/Users/Tormo/eclipse-workspace/rslFxNewMaven/target/classes/reselection/view/MainView.fxml:48\nat\njavafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)<br />\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)<br />\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)   at\nrslFxNewMaven/reselection.Main.showMainPage(Main.java:28)   at\nrslFxNewMaven/reselection.Main.start(Main.java:22)   at\njavafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\nat\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\nat\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\nat\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat\njavafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\nat\njavafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native\nMethod)   at\njavafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n... 1 more Caused by: java.lang.reflect.InaccessibleObjectException:\nUnable to make private void\nreselection.view.MainViewController.goDacSearch() throws\njava.io.IOException accessible: module rslFxNewMaven does not &quot;opens\nreselection.view&quot; to module javafx.fxml   at\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\nat\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat\njava.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)<br />\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.addAccessibleMethods(FXMLLoader.java:3611)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor$1.run(FXMLLoader.java:3543)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor$1.run(FXMLLoader.java:3536)\nat\njava.base/java.security.AccessController.doPrivileged(AccessController.java:312)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.addAccessibleMembers(FXMLLoader.java:3535)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ControllerAccessor.getControllerMethods(FXMLLoader.java:3494)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:573)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:610)\nat\njavafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)\nat\njavafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)<br />\n... 13 more Exception running application reselection.Main</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":2108029,"reputation":805,"user_id":1873897,"accept_rate":50,"display_name":"MikeF"},"score":0,"creation_date":1525789780,"post_id":49932528,"comment_id":87489411,"body_markdown":"I&#39;m having the same issue with the Spring example code [here.](https://spring.io/guides/gs/rest-service/#scratch)","body":"I&#39;m having the same issue with the Spring example code <a href=\"https://spring.io/guides/gs/rest-service/#scratch\" rel=\"nofollow noreferrer\">here.</a>"}],"answers":[{"tags":[],"owner":{"account_id":2108029,"reputation":805,"user_id":1873897,"accept_rate":50,"display_name":"MikeF"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1525888956,"creation_date":1525888956,"answer_id":50259519,"question_id":49932528,"body_markdown":"I followed the Spring Restful Service [tutorial](https://spring.io/guides/gs/rest-service/#scratch) that does not have the declaration,and it worked.  Try removing the `mainClass` declaration.\n\n&gt; The Spring Boot gradle plugin provides many convenient features:\n&gt;\n&gt;It collects all the jars on the classpath and builds a single, runnable &quot;&#252;ber-jar&quot;, which makes it more convenient to execute and transport your service.\n&gt;\n&gt;It searches for the public static void main() method to flag as a runnable class.\n&gt;\n&gt;It provides a built-in dependency resolver that sets the version number to match Spring Boot dependencies. You can override any version you wish, but it will default to Boot’s chosen set of versions.","title":"Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension","body":"<p>I followed the Spring Restful Service <a href=\"https://spring.io/guides/gs/rest-service/#scratch\" rel=\"nofollow noreferrer\">tutorial</a> that does not have the declaration,and it worked.  Try removing the <code>mainClass</code> declaration.</p>\n<blockquote>\n<p>The Spring Boot gradle plugin provides many convenient features:</p>\n<p>It collects all the jars on the classpath and builds a single, runnable &quot;über-jar&quot;, which makes it more convenient to execute and transport your service.</p>\n<p>It searches for the public static void main() method to flag as a runnable class.</p>\n<p>It provides a built-in dependency resolver that sets the version number to match Spring Boot dependencies. You can override any version you wish, but it will default to Boot’s chosen set of versions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1533821695,"creation_date":1533821695,"answer_id":51768499,"question_id":49932528,"body_markdown":"***Configuring the main class***\r\n\r\nBy default, the executable archive’s main class will be configured automatically by looking for a class with a `public static void main(String[])` method in directories on the task’s classpath.\r\n\r\nThe main class can also be configured explicitly using the task’s `mainClassName` property:\r\n\r\n    bootJar {\r\n    \tmainClassName = &#39;com.example.ExampleApplication&#39;\r\n    }\r\n\r\nAlternatively, the main class name can be configured project-wide using the `mainClassName` property of the Spring Boot DSL:\r\n\r\n    springBoot {\r\n    \tmainClassName = &#39;com.example.ExampleApplication&#39;\r\n    }\r\n\r\nIf the application plugin has been applied its `mainClassName` project property can be used for the same purpose:\r\n\r\n    mainClassName = &#39;com.example.ExampleApplication&#39;\r\n\r\nLastly, the `Start-Class` attribute can be configured on the task’s manifest:\r\n\r\n    bootJar {\r\n    \tmanifest {\r\n    \t\tattributes &#39;Start-Class&#39;: &#39;com.example.ExampleApplication&#39;\r\n    \t}\r\n    }\r\n\r\n[Refrance][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/","title":"Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension","body":"<p><strong><em>Configuring the main class</em></strong></p>\n\n<p>By default, the executable archive’s main class will be configured automatically by looking for a class with a <code>public static void main(String[])</code> method in directories on the task’s classpath.</p>\n\n<p>The main class can also be configured explicitly using the task’s <code>mainClassName</code> property:</p>\n\n<pre><code>bootJar {\n    mainClassName = 'com.example.ExampleApplication'\n}\n</code></pre>\n\n<p>Alternatively, the main class name can be configured project-wide using the <code>mainClassName</code> property of the Spring Boot DSL:</p>\n\n<pre><code>springBoot {\n    mainClassName = 'com.example.ExampleApplication'\n}\n</code></pre>\n\n<p>If the application plugin has been applied its <code>mainClassName</code> project property can be used for the same purpose:</p>\n\n<pre><code>mainClassName = 'com.example.ExampleApplication'\n</code></pre>\n\n<p>Lastly, the <code>Start-Class</code> attribute can be configured on the task’s manifest:</p>\n\n<pre><code>bootJar {\n    manifest {\n        attributes 'Start-Class': 'com.example.ExampleApplication'\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/\" rel=\"noreferrer\">Refrance</a></p>\n"},{"tags":[],"owner":{"account_id":5002392,"reputation":464,"user_id":4599129,"display_name":"leo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1567568412,"creation_date":1567568412,"answer_id":57781187,"question_id":49932528,"body_markdown":"Basically, this is about `spring-boot gradle plugin`:\r\n\r\n- bevore verion springboot2, it useed `mainClass` property,\r\n- since [v2.0.0.RELEASE][1], it changed to use `mainClassName`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-main-class","title":"Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension","body":"<p>Basically, this is about <code>spring-boot gradle plugin</code>:</p>\n\n<ul>\n<li>bevore verion springboot2, it useed <code>mainClass</code> property,</li>\n<li>since <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-main-class\" rel=\"noreferrer\">v2.0.0.RELEASE</a>, it changed to use <code>mainClassName</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642107177,"creation_date":1642107177,"answer_id":70702982,"question_id":49932528,"body_markdown":"**TL;DR**\r\n\r\nDefine following block in you Gradle build script:\r\n\r\n```groovy\r\nspringBoot {\r\n  mainClass = &#39;com.example.ExampleApplication&#39;\r\n}\r\n```\r\n\r\n**Error**\r\n\r\nWith the **org.springframework.boot** Gradle plugin version 2.6.2.\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;org.springframework.boot&#39; version &#39;2.4.0&#39;\r\n}\r\n```\r\n\r\nI had similar issue.\r\n\r\n&gt; Execution failed for task &#39;:bootJar&#39;.\r\n&gt; Failed to calculate the value of task &#39;:bootJar&#39; property &#39;mainClass&#39;.\r\n   &gt; Main class name has not been configured and it could not be resolved\r\n\r\nSpring has again changed convention of how to provide main class since @leo has provided an answer for this reason I will extend it. Now depending on the version of the springframework.boot plugin you have to define the main class value on following way (sorted from newest to oldest):\r\n\r\n---\r\n\r\n**[SpringFramework 2.4.0 and newer][1]**\r\n\r\n```groovy\r\nspringBoot {\r\n  mainClass = &#39;com.example.ExampleApplication&#39;\r\n}\r\n```\r\n\r\n[Release/Migration notes for 2.4.0][2]\r\n\r\n---\r\n\r\n**[SpringFramework 2.3.12 and older][3]**\r\n\r\n\r\n```groovy\r\nspringBoot {\r\n  mainClassName = &#39;com.example.ExampleApplication&#39;\r\n}\r\n```\r\n\r\n[Release/Migration notes for 2.0.0][4]\r\n\r\n---\r\n\r\n**[SpringFramework 1.5.22.RELEASE and older][5]** (Hopefully you are not using that anymore)\r\n\r\n```groovy\r\nbootRepackage {\r\n  mainClass = &#39;demo.Application&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.4.0/gradle-plugin/reference/htmlsingle/#packaging-executable-configuring-main-class\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#spring-boot-gradle-plugin\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.3.12.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-main-class\r\n  [4]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-updates\r\n  [5]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-repackage-configuration","title":"Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension","body":"<p><strong>TL;DR</strong></p>\n<p>Define following block in you Gradle build script:</p>\n<pre><code>springBoot {\n  mainClass = 'com.example.ExampleApplication'\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<p>With the <strong>org.springframework.boot</strong> Gradle plugin version 2.6.2.</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.4.0'\n}\n</code></pre>\n<p>I had similar issue.</p>\n<blockquote>\n<p>Execution failed for task ':bootJar'.\nFailed to calculate the value of task ':bootJar' property 'mainClass'.\nMain class name has not been configured and it could not be resolved</p>\n</blockquote>\n<p>Spring has again changed convention of how to provide main class since @leo has provided an answer for this reason I will extend it. Now depending on the version of the springframework.boot plugin you have to define the main class value on following way (sorted from newest to oldest):</p>\n<hr />\n<p><strong><a href=\"https://docs.spring.io/spring-boot/docs/2.4.0/gradle-plugin/reference/htmlsingle/#packaging-executable-configuring-main-class\" rel=\"nofollow noreferrer\">SpringFramework 2.4.0 and newer</a></strong></p>\n<pre><code>springBoot {\n  mainClass = 'com.example.ExampleApplication'\n}\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes#spring-boot-gradle-plugin\" rel=\"nofollow noreferrer\">Release/Migration notes for 2.4.0</a></p>\n<hr />\n<p><strong><a href=\"https://docs.spring.io/spring-boot/docs/2.3.12.RELEASE/gradle-plugin/reference/html/#packaging-executable-configuring-main-class\" rel=\"nofollow noreferrer\">SpringFramework 2.3.12 and older</a></strong></p>\n<pre><code>springBoot {\n  mainClassName = 'com.example.ExampleApplication'\n}\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-updates\" rel=\"nofollow noreferrer\">Release/Migration notes for 2.0.0</a></p>\n<hr />\n<p><strong><a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/build-tool-plugins-gradle-plugin.html#build-tool-plugins-gradle-repackage-configuration\" rel=\"nofollow noreferrer\">SpringFramework 1.5.22.RELEASE and older</a></strong> (Hopefully you are not using that anymore)</p>\n<pre><code>bootRepackage {\n  mainClass = 'demo.Application'\n}\n</code></pre>\n"}],"owner":{"account_id":13176144,"reputation":535,"user_id":9517040,"display_name":"JONKI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16014,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1642107177,"creation_date":1524187739,"question_id":49932528,"body_markdown":"I have the main `build.gradle` file for the project\r\n\r\n    buildscript {\r\n    \trepositories {\r\n    \t\tjcenter()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${spring_boot_version}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    def javaProjects = subprojects.findAll {\r\n    \tit.name in [&quot;common&quot;, &quot;core&quot;, &quot;web&quot;, &quot;app&quot;]\r\n    }\r\n    \r\n    allprojects {\r\n    \tapply plugin: &#39;idea&#39;\r\n    \tapply plugin: &#39;eclipse&#39;\r\n    \r\n    \trepositories {\r\n    \t\tjcenter()\r\n    \t}\r\n    }\r\n    \r\n    idea {\r\n    \tproject {\r\n    \t\tjdkName = &quot;1.8&quot;\r\n    \t\tlanguageLevel = &quot;1.8&quot;\r\n    \t\tvcs = &quot;Git&quot;\r\n    \t}\r\n    }\r\n    \r\n    configure(javaProjects) {\r\n    \tapply plugin: &#39;java&#39;\r\n    \tapply plugin: &#39;io.spring.dependency-management&#39;\r\n    \tapply plugin: &#39;findbugs&#39;\r\n    \r\n    \tsourceCompatibility = 1.8\r\n    \ttargetCompatibility = 1.8\r\n    \r\n    \tdependencies {\r\n    \t\t...\r\n    \t}\r\n    }\r\nand the `build.gradle` file for the `app` module, where I have a configuration to run gradle\r\n\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    \r\n    dependencies {\r\n        ...\r\n    }\r\n    \r\n    springBoot {\r\n        mainClass = &quot;com.web.WebApplication&quot;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &quot;Rest-Web-Services&quot;,\r\n                    &#39;Implementation-Version&#39;: &quot;1.0&quot;,\r\n                    &#39;Main-Class&#39;: &quot;com.web.WebApplication&quot;\r\n        }\r\n    }\r\n\r\nwhen build gradle throws\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;...\\REST-Web-Services\\app\\build.gradle&#39; line: 28\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension.\r\n\r\nHow to set the startup `mainClass` class?","title":"Could not set unknown property &#39;mainClass&#39; for object of type org.springframework.boot.gradle.dsl.SpringBootExtension","body":"<p>I have the main <code>build.gradle</code> file for the project</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${spring_boot_version}\")\n    }\n}\n\ndef javaProjects = subprojects.findAll {\n    it.name in [\"common\", \"core\", \"web\", \"app\"]\n}\n\nallprojects {\n    apply plugin: 'idea'\n    apply plugin: 'eclipse'\n\n    repositories {\n        jcenter()\n    }\n}\n\nidea {\n    project {\n        jdkName = \"1.8\"\n        languageLevel = \"1.8\"\n        vcs = \"Git\"\n    }\n}\n\nconfigure(javaProjects) {\n    apply plugin: 'java'\n    apply plugin: 'io.spring.dependency-management'\n    apply plugin: 'findbugs'\n\n    sourceCompatibility = 1.8\n    targetCompatibility = 1.8\n\n    dependencies {\n        ...\n    }\n}\n</code></pre>\n\n<p>and the <code>build.gradle</code> file for the <code>app</code> module, where I have a configuration to run gradle</p>\n\n<pre><code>apply plugin: 'org.springframework.boot'\n\ndependencies {\n    ...\n}\n\nspringBoot {\n    mainClass = \"com.web.WebApplication\"\n}\n\njar {\n    manifest {\n        attributes 'Implementation-Title': \"Rest-Web-Services\",\n                'Implementation-Version': \"1.0\",\n                'Main-Class': \"com.web.WebApplication\"\n    }\n}\n</code></pre>\n\n<p>when build gradle throws</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '...\\REST-Web-Services\\app\\build.gradle' line: 28\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Could not set unknown property 'mainClass' for object of type org.springframework.boot.gradle.dsl.SpringBootExtension.\n</code></pre>\n\n<p>How to set the startup <code>mainClass</code> class?</p>\n"},{"tags":["java","android","kotlin","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642109338,"post_id":70702865,"comment_id":124991496,"body_markdown":"What you say does not com through.","body":"What you say does not com through."},{"owner":{"account_id":344947,"reputation":39,"user_id":1472444,"display_name":"marmay"},"score":0,"creation_date":1642147150,"post_id":70702865,"comment_id":124998485,"body_markdown":"So, is there a way to ignore .nomedia when reading files without MANAGE_EXTERNAL_STORAGE? And using it?","body":"So, is there a way to ignore .nomedia when reading files without MANAGE_EXTERNAL_STORAGE? And using it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642147402,"post_id":70702865,"comment_id":124998567,"body_markdown":"Repeat: `What you say does not com through. ` Sorry, I mean: What you say is not true. Such a file in a folder has not a single effect. Show your code that fails.","body":"Repeat: <code>What you say does not com through. </code> Sorry, I mean: What you say is not true. Such a file in a folder has not a single effect. Show your code that fails."},{"owner":{"account_id":344947,"reputation":39,"user_id":1472444,"display_name":"marmay"},"score":0,"creation_date":1642157541,"post_id":70702865,"comment_id":125001830,"body_markdown":"What do you mean? With targetSdkVersion 31 and compileSdkVersion 31 executed in an Android 11 phone,       \n\n File[] files = directory.listFiles();\n\nshows 0 files if a .nomedia file is inside the directory and shows all files if there is no .nomedia file is inside. Same using MediaStore API","body":"What do you mean? With targetSdkVersion 31 and compileSdkVersion 31 executed in an Android 11 phone,          File[] files = directory.listFiles();  shows 0 files if a .nomedia file is inside the directory and shows all files if there is no .nomedia file is inside. Same using MediaStore API"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642157797,"post_id":70702865,"comment_id":125001941,"body_markdown":"Well not here on a number of Android 11 devices. This .nomedia file now adays has no effect.","body":"Well not here on a number of Android 11 devices. This .nomedia file now adays has no effect."},{"owner":{"account_id":344947,"reputation":39,"user_id":1472444,"display_name":"marmay"},"score":0,"creation_date":1642182798,"post_id":70702865,"comment_id":125011555,"body_markdown":"Have you tried to call a MediaScannerConnection.scanFile?","body":"Have you tried to call a MediaScannerConnection.scanFile?"}],"owner":{"account_id":344947,"reputation":39,"user_id":1472444,"display_name":"marmay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642106503,"creation_date":1642106503,"question_id":70702865,"body_markdown":"I have just notice that in Android 11 &quot;directory.listFiles()&quot; returns 0 files even with MANAGE_EXTERNAL_STORAGE permission granted when a &quot;.nomedia&quot; file is present. But, how do File Managers show them? There should be a way to read files contained in a folder with a &quot;.nomedia&quot; file.\r\n\r\n","title":"Android 11 and .nomedia files","body":"<p>I have just notice that in Android 11 &quot;directory.listFiles()&quot; returns 0 files even with MANAGE_EXTERNAL_STORAGE permission granted when a &quot;.nomedia&quot; file is present. But, how do File Managers show them? There should be a way to read files contained in a folder with a &quot;.nomedia&quot; file.</p>\n"},{"tags":["java","swing","jtextfield","jcombobox","text-cursor"],"comments":[{"owner":{"account_id":1243136,"reputation":1055,"user_id":1205223,"accept_rate":88,"display_name":"Karen"},"score":1,"creation_date":1333186072,"post_id":9954387,"comment_id":12712618,"body_markdown":"I mean I have editable JComboBox with any text in content , and when I click JComboBox I wnat to move marker to the start of editable JComboBox. By default it goes to the end of text field. When I said start of field I don&#39;t mean first item of drop down list.","body":"I mean I have editable JComboBox with any text in content , and when I click JComboBox I wnat to move marker to the start of editable JComboBox. By default it goes to the end of text field. When I said start of field I don&#39;t mean first item of drop down list."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1333186252,"post_id":9954387,"comment_id":12712657,"body_markdown":"Thanks for clarifying.  My confusion became sorted somewhat throughout the editing of that comment.  :)","body":"Thanks for clarifying.  My confusion became sorted somewhat throughout the editing of that comment.  :)"}],"answers":[{"tags":[],"owner":{"account_id":312363,"reputation":8117,"user_id":991191,"accept_rate":84,"display_name":"gorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333183828,"creation_date":1333183828,"answer_id":9954445,"question_id":9954387,"body_markdown":"I think this may be what you&#39;re looking for:\r\n\r\n    JTextField t = new JTextField();\r\n    t.setHorizontalAlignment(JTextField.LEFT);","title":"Move cursor of JTextField or JComboBox to the start","body":"<p>I think this may be what you're looking for:</p>\n\n<pre><code>JTextField t = new JTextField();\nt.setHorizontalAlignment(JTextField.LEFT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1333185880,"creation_date":1333185880,"answer_id":9954665,"question_id":9954387,"body_markdown":"    /**\r\n    * On gaining focus place the cursor at the start of the text.\r\n    */\r\n    public class CursorAtStartFocusListener extends FocusAdapter {\r\n\r\n        @Override\r\n        public void focusGained(java.awt.event.FocusEvent evt) {\r\n            Object source = evt.getSource();\r\n            if (source instanceof JTextComponent) {\r\n                JTextComponent comp = (JTextComponent) source;\r\n                comp.setCaretPosition(0);\r\n            } else {\r\n                Logger.getLogger(getClass().getName()).log(Level.INFO,\r\n                        &quot;A text component expected instead of {0}&quot;,\r\n                        source.getClass().getName());\r\n            }\r\n        }\r\n    }\r\n\r\n    jTextField1.addFocusListener(new CursorAtStartFocusListener());\r\n    jComboBox1.getEditor().getEditorComponent().addFocusListener(new CursorAtStartFocusListener());\r\n    // Only one instance of CursorAtStartFocusListener needed.\r\n","title":"Move cursor of JTextField or JComboBox to the start","body":"<pre><code>/**\n* On gaining focus place the cursor at the start of the text.\n*/\npublic class CursorAtStartFocusListener extends FocusAdapter {\n\n    @Override\n    public void focusGained(java.awt.event.FocusEvent evt) {\n        Object source = evt.getSource();\n        if (source instanceof JTextComponent) {\n            JTextComponent comp = (JTextComponent) source;\n            comp.setCaretPosition(0);\n        } else {\n            Logger.getLogger(getClass().getName()).log(Level.INFO,\n                    \"A text component expected instead of {0}\",\n                    source.getClass().getName());\n        }\n    }\n}\n\njTextField1.addFocusListener(new CursorAtStartFocusListener());\njComboBox1.getEditor().getEditorComponent().addFocusListener(new CursorAtStartFocusListener());\n// Only one instance of CursorAtStartFocusListener needed.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1410316,"reputation":181,"user_id":1337052,"display_name":"user1337052"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334603097,"creation_date":1334603097,"answer_id":10180064,"question_id":9954387,"body_markdown":"You can use this command\r\n\r\n&gt; comp.setCaretPosition(index);\r\n\r\nthere index is caret position.","title":"Move cursor of JTextField or JComboBox to the start","body":"<p>You can use this command</p>\n\n<blockquote>\n  <p>comp.setCaretPosition(index);</p>\n</blockquote>\n\n<p>there index is caret position.</p>\n"}],"owner":{"account_id":1243136,"reputation":1055,"user_id":1205223,"accept_rate":88,"display_name":"Karen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3657,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9954665,"answer_count":3,"score":5,"last_activity_date":1642106366,"creation_date":1333183348,"question_id":9954387,"body_markdown":"I have a `JTextField` with some text. When I click text field the cursor moves to the end of field. I want the cursor to move to the start of the field when it becomes focused. \r\n\r\nI have the same problem with an editable `JComboBox`.\r\n\r\nHow can I achieve this cursor positioning on focus?","title":"Move cursor of JTextField or JComboBox to the start","body":"<p>I have a <code>JTextField</code> with some text. When I click text field the cursor moves to the end of field. I want the cursor to move to the start of the field when it becomes focused. </p>\n\n<p>I have the same problem with an editable <code>JComboBox</code>.</p>\n\n<p>How can I achieve this cursor positioning on focus?</p>\n"},{"tags":["java","android","android-cursor"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1339012195,"post_id":10921109,"comment_id":14244375,"body_markdown":"What is the complete and precise list of pieces of data from a contact that you wish to render in each of your `ListFragment` rows?","body":"What is the complete and precise list of pieces of data from a contact that you wish to render in each of your <code>ListFragment</code> rows?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1339014004,"post_id":10921109,"comment_id":14245079,"body_markdown":"I added code sample, hope it explains (id,name,phone)","body":"I added code sample, hope it explains (id,name,phone)"}],"answers":[{"tags":[],"owner":{"account_id":414812,"reputation":537,"user_id":789243,"accept_rate":80,"display_name":"jmhend"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339012602,"creation_date":1339012602,"answer_id":10921247,"question_id":10921109,"body_markdown":"Using a `Cursor` is a great approach for this problem. To get retrieve information from a specific position, you can use `Cursor.moveToPosition(int position)`. Then you can access any field of the `Cursor`, in this case a `String`,  using `Cursor.getString(int columnIndex)`. \r\n\r\nTake a look at the [Cursor][1] documentation for more details.\r\n\r\nThe best part about this approach is that you can implement a [CursorLoader][2] to do the background data retrieval for you. It also automatically handles repopulating your `ListView` on data changes, orientation changes, etc. Check out [this great tutorial][3] for more explanation.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/database/Cursor.html\r\n  [2]: http://developer.android.com/reference/android/content/CursorLoader.html\r\n  [3]: http://mobile.tutsplus.com/tutorials/android/android-sdk_loading-data_cursorloader/","title":"get contacts performance issue","body":"<p>Using a <code>Cursor</code> is a great approach for this problem. To get retrieve information from a specific position, you can use <code>Cursor.moveToPosition(int position)</code>. Then you can access any field of the <code>Cursor</code>, in this case a <code>String</code>,  using <code>Cursor.getString(int columnIndex)</code>. </p>\n\n<p>Take a look at the <a href=\"http://developer.android.com/reference/android/database/Cursor.html\" rel=\"nofollow\">Cursor</a> documentation for more details.</p>\n\n<p>The best part about this approach is that you can implement a <a href=\"http://developer.android.com/reference/android/content/CursorLoader.html\" rel=\"nofollow\">CursorLoader</a> to do the background data retrieval for you. It also automatically handles repopulating your <code>ListView</code> on data changes, orientation changes, etc. Check out <a href=\"http://mobile.tutsplus.com/tutorials/android/android-sdk_loading-data_cursorloader/\" rel=\"nofollow\">this great tutorial</a> for more explanation.</p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1339016776,"creation_date":1339016776,"answer_id":10922293,"question_id":10921109,"body_markdown":"You can get name and ID at the same time you get the phone number:\r\n\r\n    String[] PROJECTION=new String[] {Contacts._ID, Contacts.DISPLAY_NAME, Phone.NUMBER};\r\n    Cursor pCur = cr.query(Phone.CONTENT_URI, PROJECTION, Phone.CONTACT_ID +&quot; = ?&quot;,\r\n                                          new String[]{id}, null);\r\n\r\nThis eliminates the per-row sub-query.","title":"get contacts performance issue","body":"<p>You can get name and ID at the same time you get the phone number:</p>\n\n<pre><code>String[] PROJECTION=new String[] {Contacts._ID, Contacts.DISPLAY_NAME, Phone.NUMBER};\nCursor pCur = cr.query(Phone.CONTENT_URI, PROJECTION, Phone.CONTACT_ID +\" = ?\",\n                                      new String[]{id}, null);\n</code></pre>\n\n<p>This eliminates the per-row sub-query.</p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10922293,"answer_count":2,"score":5,"last_activity_date":1642106338,"creation_date":1339012006,"question_id":10921109,"body_markdown":"I am trying to get contacts of the android device.\r\nI found a great sample code [here][1] \r\n\r\nHowever, when trying to populate a `ListActivity` with `ArrayAdapter` that is using that code it is taking a lot of time - almost 4 seconds on galaxy s2 and much more on older devices.\r\nI need to improve that performance. What I thought is to implements `Cursor` that will hold more than one dimension `Cursor`, and use `SimpleCursorAdapter` as the list adapter.  \r\nI see few problems with this approach:\r\n\r\n - I don&#39;t know how to get item at specific position.\r\n - each cursor has different columns.\r\n\r\nIs there a better/easier way to do that?\r\n\r\nEDIT:\r\n\r\nhere is my code:\r\n\r\n    public List&lt;ContactData&gt; readContacts(){\r\n        ContentResolver cr = getContentResolver();\r\n        List&lt;ContactData&gt; cd = new ArrayList&lt;ContactData&gt;();\r\n        Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,\r\n               null, null, null, ContactsContract.Contacts.DISPLAY_NAME);\r\n    \r\n        if (cur.getCount() &gt; 0) {\r\n           while (cur.moveToNext()) {\r\n               String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));\r\n               String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n               if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) &gt; 0) {\r\n    \r\n                   // get the phone number\r\n                   Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,\r\n                                          ContactsContract.CommonDataKinds.Phone.CONTACT_ID +&quot; = ?&quot;,\r\n                                          new String[]{id}, null);\r\n                   while (pCur.moveToNext()) {\r\n                         String phone = pCur.getString(\r\n                                pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                         if (!Utils.isEmpty(phone)) {\r\n                        \t cd.add(new ContactData(id, name, phone));\r\n                         }\r\n                   }\r\n                   pCur.close();\r\n    \r\n                  \r\n               }\r\n           }\r\n      }\r\n        return cd;\r\n    }\r\n\r\n\r\nEDIT 2:\r\n\r\nmanaged to fix it by changing it to only one query:\r\n\r\n    public List&lt;ContactData&gt; readContacts(){\r\n        ContentResolver cr = getContentResolver();\r\n        List&lt;ContactData&gt; cd = new ArrayList&lt;ContactData&gt;();\r\n                   Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                \t\t   new String[]{ContactsContract.CommonDataKinds.Phone._ID,ContactsContract.CommonDataKinds.Phone.NUMBER,ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY},\r\n                \t\t   ContactsContract.CommonDataKinds.Phone.NUMBER + &quot; IS NOT NULL&quot;,\r\n                                          null, \r\n                                          ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY);\r\n                   while (pCur.moveToNext()) {\r\n                         String phone = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                         String id = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone._ID));\r\n                         String name = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY));\r\n                        \t ContactData cd1 = contactDataProvider.get();\r\n                        \t cd1.id = id;\r\n                        \t cd1.name = name;\r\n                        \t cd1.phone = phone;\r\n                        \t cd.add(cd1);\r\n                   }\r\n                   pCur.close();\r\n        return cd;\r\n    }\r\n\r\n  [1]: http://www.coderzheaven.com/2011/06/13/get-all-details-from-contacts-in-android/","title":"get contacts performance issue","body":"<p>I am trying to get contacts of the android device.\nI found a great sample code <a href=\"http://www.coderzheaven.com/2011/06/13/get-all-details-from-contacts-in-android/\" rel=\"nofollow\">here</a> </p>\n\n<p>However, when trying to populate a <code>ListActivity</code> with <code>ArrayAdapter</code> that is using that code it is taking a lot of time - almost 4 seconds on galaxy s2 and much more on older devices.\nI need to improve that performance. What I thought is to implements <code>Cursor</code> that will hold more than one dimension <code>Cursor</code>, and use <code>SimpleCursorAdapter</code> as the list adapter.<br>\nI see few problems with this approach:</p>\n\n<ul>\n<li>I don't know how to get item at specific position.</li>\n<li>each cursor has different columns.</li>\n</ul>\n\n<p>Is there a better/easier way to do that?</p>\n\n<p>EDIT:</p>\n\n<p>here is my code:</p>\n\n<pre><code>public List&lt;ContactData&gt; readContacts(){\n    ContentResolver cr = getContentResolver();\n    List&lt;ContactData&gt; cd = new ArrayList&lt;ContactData&gt;();\n    Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,\n           null, null, null, ContactsContract.Contacts.DISPLAY_NAME);\n\n    if (cur.getCount() &gt; 0) {\n       while (cur.moveToNext()) {\n           String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));\n           String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n           if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) &gt; 0) {\n\n               // get the phone number\n               Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,\n                                      ContactsContract.CommonDataKinds.Phone.CONTACT_ID +\" = ?\",\n                                      new String[]{id}, null);\n               while (pCur.moveToNext()) {\n                     String phone = pCur.getString(\n                            pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                     if (!Utils.isEmpty(phone)) {\n                         cd.add(new ContactData(id, name, phone));\n                     }\n               }\n               pCur.close();\n\n\n           }\n       }\n  }\n    return cd;\n}\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>managed to fix it by changing it to only one query:</p>\n\n<pre><code>public List&lt;ContactData&gt; readContacts(){\n    ContentResolver cr = getContentResolver();\n    List&lt;ContactData&gt; cd = new ArrayList&lt;ContactData&gt;();\n               Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                       new String[]{ContactsContract.CommonDataKinds.Phone._ID,ContactsContract.CommonDataKinds.Phone.NUMBER,ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY},\n                       ContactsContract.CommonDataKinds.Phone.NUMBER + \" IS NOT NULL\",\n                                      null, \n                                      ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY);\n               while (pCur.moveToNext()) {\n                     String phone = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                     String id = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone._ID));\n                     String name = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME_PRIMARY));\n                         ContactData cd1 = contactDataProvider.get();\n                         cd1.id = id;\n                         cd1.name = name;\n                         cd1.phone = phone;\n                         cd.add(cd1);\n               }\n               pCur.close();\n    return cd;\n}\n</code></pre>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":18211029,"reputation":66,"user_id":13253555,"display_name":"Jake Bringham"},"score":0,"creation_date":1642102755,"post_id":70701966,"comment_id":124989458,"body_markdown":"Have you tried splitting on whitespace? Probably something like `text.split(&quot;\\s+&quot;)`.\n\nThe only caveat is the possible empty elements at the beginning or end which you can fix by calling `trim()` first.","body":"Have you tried splitting on whitespace? Probably something like <code>text.split(&quot;\\s+&quot;)</code>.  The only caveat is the possible empty elements at the beginning or end which you can fix by calling <code>trim()</code> first."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642103331,"post_id":70701966,"comment_id":124989654,"body_markdown":"Try `(\\b[^\\s]+\\b)`: [split sentences into words with punctuation](https://www.google.com/amp/s/www.b4x.com/android/forum/threads/is-there-a-regex-pattern-that-splits-sentences-into-words.15600/%3famp=1)- adMac231","body":"Try <code>(\\b[^\\s]+\\b)</code>: <a href=\"https://www.google.com/amp/s/www.b4x.com/android/forum/threads/is-there-a-regex-pattern-that-splits-sentences-into-words.15600/%3famp=1\" rel=\"nofollow noreferrer\">split sentences into words with punctuation</a>- adMac231"},{"owner":{"account_id":15777597,"reputation":343,"user_id":11385006,"display_name":"Marcos Blandim"},"score":0,"creation_date":1642104446,"post_id":70701966,"comment_id":124989999,"body_markdown":"`\\w+(&#39;\\w+)?` will match the words you want to include, but it ain&#39;t so straightforward to use it with `split` method","body":"<code>\\w+(&#39;\\w+)?</code> will match the words you want to include, but it ain&#39;t so straightforward to use it with <code>split</code> method"},{"owner":{"account_id":15777597,"reputation":343,"user_id":11385006,"display_name":"Marcos Blandim"},"score":0,"creation_date":1642105001,"post_id":70701966,"comment_id":124990151,"body_markdown":"Split on whitespace and aposthrophs with `&#39;?\\s&#39;?`","body":"Split on whitespace and aposthrophs with <code>&#39;?\\s&#39;?</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642104840,"creation_date":1642104840,"answer_id":70702582,"question_id":70701966,"body_markdown":"It may be simpler to get rid of the single quotes/apostrophes when they occur before/after the word, and then split using the initial delimiter pattern with excluded apostrophe:\r\n```java\r\nString text = &quot;Modern Talking&#39;s Hit:  &#39;You&#39;re my heart, you&#39;re my soul&#39;, 1985&quot;;\r\nString[] words = text.replaceAll(&quot;(?:^|\\\\W)&#39;|&#39;(?:\\\\W|$)&quot;, &quot;&quot;).split(&quot;[^\\\\w^&#39;]+&quot;);\r\nSystem.out.println(Arrays.toString(words));\r\n```\r\nOutput:\r\n```\r\n[Modern, Talking&#39;s, Hit, You&#39;re, my, heart, you&#39;re, my, soul, 1985]\r\n```","title":"Java: Searching for a Regex that splits a text into separate words, including letters, numbers and &#39; between letters","body":"<p>It may be simpler to get rid of the single quotes/apostrophes when they occur before/after the word, and then split using the initial delimiter pattern with excluded apostrophe:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;Modern Talking's Hit:  'You're my heart, you're my soul', 1985&quot;;\nString[] words = text.replaceAll(&quot;(?:^|\\\\W)'|'(?:\\\\W|$)&quot;, &quot;&quot;).split(&quot;[^\\\\w^']+&quot;);\nSystem.out.println(Arrays.toString(words));\n</code></pre>\n<p>Output:</p>\n<pre><code>[Modern, Talking's, Hit, You're, my, heart, you're, my, soul, 1985]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777597,"reputation":343,"user_id":11385006,"display_name":"Marcos Blandim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642105690,"creation_date":1642105690,"answer_id":70702727,"question_id":70701966,"body_markdown":"Instead of splitting, you could use `Pattern` and `MatchResult` libraries to list the words you want with `\\w+(&#39;\\w+)?` regex\r\n\r\n```java\r\nimport java.util.regex.Pattern;\r\nimport java.util.regex.MatchResult;\r\n\r\nString regex = &quot;\\\\w+(&#39;\\\\w+)?&quot;;\r\nString text = &quot;sampl&#39;e &#39;text&#39;&quot;;\r\n\r\nString[] words = Pattern.compile(regex)\r\n                          .matcher(text)\r\n                          .results()\r\n                          .map(MatchResult::group)\r\n                          .toArray(String[]::new);\r\n```\r\nYou could also split for a whitespace surrounded (or not) by apostrophes \r\n```java\r\ntext.split(&quot;&#39;?\\s&#39;?&quot;);\r\n```","title":"Java: Searching for a Regex that splits a text into separate words, including letters, numbers and &#39; between letters","body":"<p>Instead of splitting, you could use <code>Pattern</code> and <code>MatchResult</code> libraries to list the words you want with <code>\\w+('\\w+)?</code> regex</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Pattern;\nimport java.util.regex.MatchResult;\n\nString regex = &quot;\\\\w+('\\\\w+)?&quot;;\nString text = &quot;sampl'e 'text'&quot;;\n\nString[] words = Pattern.compile(regex)\n                          .matcher(text)\n                          .results()\n                          .map(MatchResult::group)\n                          .toArray(String[]::new);\n</code></pre>\n<p>You could also split for a whitespace surrounded (or not) by apostrophes</p>\n<pre class=\"lang-java prettyprint-override\"><code>text.split(&quot;'?\\s'?&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642106120,"creation_date":1642106120,"answer_id":70702804,"question_id":70701966,"body_markdown":"If you want to match words using `\\w`, instead of using split you can use word boundaries and assert not `&#39;` at the left and at the right.\r\n\r\n    \\b(?&lt;!&#39;)\\w+(?:&#39;\\w+)*\\b(?!&#39;)\r\n\r\nIn Java\r\n\r\n    String regex = &quot;\\\\b(?&lt;!&#39;)\\\\w+(?:&#39;\\\\w+)*\\\\b(?!&#39;)&quot;;\r\n    String string = &quot;Can&#39;t but not something like: &#39;HEART&#39;&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n    \r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(0));\r\n    }\r\n\r\nOutput\r\n\r\n    Can&#39;t\r\n    but\r\n    not\r\n    something\r\n    like","title":"Java: Searching for a Regex that splits a text into separate words, including letters, numbers and &#39; between letters","body":"<p>If you want to match words using <code>\\w</code>, instead of using split you can use word boundaries and assert not <code>'</code> at the left and at the right.</p>\n<pre><code>\\b(?&lt;!')\\w+(?:'\\w+)*\\b(?!')\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;\\\\b(?&lt;!')\\\\w+(?:'\\\\w+)*\\\\b(?!')&quot;;\nString string = &quot;Can't but not something like: 'HEART'&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(matcher.group(0));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Can't\nbut\nnot\nsomething\nlike\n</code></pre>\n"}],"owner":{"account_id":23933181,"reputation":71,"user_id":17927333,"display_name":"Stuepfnick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70702582,"answer_count":3,"score":2,"last_activity_date":1642106120,"creation_date":1642101638,"question_id":70701966,"body_markdown":"At the moment I have: `text.split(&quot;[^\\\\w+]&quot;`\r\nBut I also need to include words like: `Can&#39;t` but not something like: `&#39;HEART&#39;`\r\n\r\nI can&#39;t find a solution, that splits a text into words, including the letters, numbers and the aposthroph, if it&#39;s between other letters. Thx","title":"Java: Searching for a Regex that splits a text into separate words, including letters, numbers and &#39; between letters","body":"<p>At the moment I have: <code>text.split(&quot;[^\\\\w+]&quot;</code>\nBut I also need to include words like: <code>Can't</code> but not something like: <code>'HEART'</code></p>\n<p>I can't find a solution, that splits a text into words, including the letters, numbers and the aposthroph, if it's between other letters. Thx</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"score":1,"creation_date":1642108747,"post_id":70702796,"comment_id":124991332,"body_markdown":"Instead of posting a runnable, try using the decor view&#39;s `ViewTreeObserver` and using `OnGlobalLayoutListener`. It&#39;s the same idea, but it might be early enough in the render cycle that you never see the 4th line.","body":"Instead of posting a runnable, try using the decor view&#39;s <code>ViewTreeObserver</code> and using <code>OnGlobalLayoutListener</code>. It&#39;s the same idea, but it might be early enough in the render cycle that you never see the 4th line."},{"owner":{"account_id":2559429,"reputation":1434,"user_id":2220763,"accept_rate":71,"display_name":"p3tch"},"score":0,"creation_date":1642113427,"post_id":70702796,"comment_id":124992663,"body_markdown":"@BenP. thanks a lot, Ben! That seems to have done the trick","body":"@BenP. thanks a lot, Ben! That seems to have done the trick"}],"owner":{"account_id":2559429,"reputation":1434,"user_id":2220763,"accept_rate":71,"display_name":"p3tch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642106082,"creation_date":1642106082,"question_id":70702796,"body_markdown":"I&#39;m trying to programmatically add views to a FlexboxLayout. When the layout has reached 3 wrapped lined, I want to stop adding things to the layout. The `maxLine` attribute wasn&#39;t useful as it starts to add too much on each horizontal line.\r\n\r\n    &lt;com.google.android.flexbox.FlexboxLayout\r\n        android:id=&quot;@+id/dynamic_button_layout&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;584dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:animateLayoutChanges=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:alignContent=&quot;center&quot;\r\n        app:alignItems=&quot;center&quot;\r\n        app:flexDirection=&quot;row&quot;\r\n        app:flexWrap=&quot;wrap&quot;\r\n        app:justifyContent=&quot;center&quot;/&gt;\r\n\r\nI initially tried the following in `onCreate`\r\n\r\n\r\n            int viewNumber = 0;\r\n            for (Button button : buttons){\r\n                flexboxLayout.addView(button);\r\n\r\n                if (flexboxLayout.getFlexLines().size() &gt; 2){\r\n                    flexboxLayout.removeViewAt(viewNumber);\r\n                    break;\r\n                }\r\n\r\n                viewNumber++;\r\n            }\r\n\r\nThe idea being if I&#39;ve gone onto the 4th flex line, I just remove the last view and stop adding more views. The issue is that `.getFlexLines()` is always empty\r\n\r\nIf I do something like this, however, I the flex lines are returned correctly and I can start removing views. The problem with this is you can very briefly see the 4th line of buttons before they&#39;re removed.\r\n\r\n\r\n            getWindow().getDecorView().post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final FlexboxLayout flexboxLayout = findViewById(R.id.dynamic_button_layout);\r\n                    int lines = flexboxLayout.getFlexLines().size(); // this will be 4\r\n                }\r\n            });\r\n\r\n\r\nIs there any way to get the number of flex lines before the UI is actually updated? \r\n","title":"FlexboxLayout.getFlexLines() is 0 until after UI is updated","body":"<p>I'm trying to programmatically add views to a FlexboxLayout. When the layout has reached 3 wrapped lined, I want to stop adding things to the layout. The <code>maxLine</code> attribute wasn't useful as it starts to add too much on each horizontal line.</p>\n<pre><code>&lt;com.google.android.flexbox.FlexboxLayout\n    android:id=&quot;@+id/dynamic_button_layout&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;584dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:alignContent=&quot;center&quot;\n    app:alignItems=&quot;center&quot;\n    app:flexDirection=&quot;row&quot;\n    app:flexWrap=&quot;wrap&quot;\n    app:justifyContent=&quot;center&quot;/&gt;\n</code></pre>\n<p>I initially tried the following in <code>onCreate</code></p>\n<pre><code>        int viewNumber = 0;\n        for (Button button : buttons){\n            flexboxLayout.addView(button);\n\n            if (flexboxLayout.getFlexLines().size() &gt; 2){\n                flexboxLayout.removeViewAt(viewNumber);\n                break;\n            }\n\n            viewNumber++;\n        }\n</code></pre>\n<p>The idea being if I've gone onto the 4th flex line, I just remove the last view and stop adding more views. The issue is that <code>.getFlexLines()</code> is always empty</p>\n<p>If I do something like this, however, I the flex lines are returned correctly and I can start removing views. The problem with this is you can very briefly see the 4th line of buttons before they're removed.</p>\n<pre><code>        getWindow().getDecorView().post(new Runnable() {\n            @Override\n            public void run() {\n                final FlexboxLayout flexboxLayout = findViewById(R.id.dynamic_button_layout);\n                int lines = flexboxLayout.getFlexLines().size(); // this will be 4\n            }\n        });\n</code></pre>\n<p>Is there any way to get the number of flex lines before the UI is actually updated?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":1,"creation_date":1642105887,"post_id":70702670,"comment_id":124990456,"body_markdown":"`/` does not calculate the remainder.","body":"<code>&#47;</code> does not calculate the remainder."},{"owner":{"account_id":7576662,"reputation":1343,"user_id":5748814,"accept_rate":77,"display_name":"daredevil1234"},"score":0,"creation_date":1642106159,"post_id":70702670,"comment_id":124990557,"body_markdown":"multiple people already wrote good responses, but also wanted to check if your code is doing what you are asking.  I see that your question is asking about the &quot;first number below N which can be divided by two numbers&quot; but your code seems to be looking for something else... your code appears to be looking for first below N that can be divided into the multiple of the two divisors - i am not good at math so i don&#39;t know if that equals the same thing, but maybe try being more direct with your logic and it will simplify how the code gets written.","body":"multiple people already wrote good responses, but also wanted to check if your code is doing what you are asking.  I see that your question is asking about the &quot;first number below N which can be divided by two numbers&quot; but your code seems to be looking for something else... your code appears to be looking for first below N that can be divided into the multiple of the two divisors - i am not good at math so i don&#39;t know if that equals the same thing, but maybe try being more direct with your logic and it will simplify how the code gets written."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642105846,"creation_date":1642105846,"answer_id":70702752,"question_id":70702670,"body_markdown":"Your code\r\n\r\n    for (int i = n; i &lt;= 1; i--) {\r\n        remainder = multipliedDivisors / i;\r\n        if (remainder == 0){\r\n            answer = i;\r\n            break;\r\n        }\r\n\r\nDecreases the counter from `n` down to 1. HOWEVER, your `answer` is not updated UNLESS remainder equals to zero. If that condition is never met, the default value of `n` will be returned (which is zero).\r\n\r\nThe problem?  `remainder = multipliedDivisors / i` when will `remainder` be zero?  \r\nBecause of this assignment, `int multipliedDivisors = firstDivisor * secondDivisor;`, only if one of the &quot;divisor&quot; variables is zero.\r\n\r\nRedo your logic.","title":"Update a variable outside a loop from inside the loop","body":"<p>Your code</p>\n<pre><code>for (int i = n; i &lt;= 1; i--) {\n    remainder = multipliedDivisors / i;\n    if (remainder == 0){\n        answer = i;\n        break;\n    }\n</code></pre>\n<p>Decreases the counter from <code>n</code> down to 1. HOWEVER, your <code>answer</code> is not updated UNLESS remainder equals to zero. If that condition is never met, the default value of <code>n</code> will be returned (which is zero).</p>\n<p>The problem?  <code>remainder = multipliedDivisors / i</code> when will <code>remainder</code> be zero?<br />\nBecause of this assignment, <code>int multipliedDivisors = firstDivisor * secondDivisor;</code>, only if one of the &quot;divisor&quot; variables is zero.</p>\n<p>Redo your logic.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642105848,"creation_date":1642105848,"answer_id":70702754,"question_id":70702670,"body_markdown":"Based on your description of:\r\n\r\n&gt; Trying to create a method to return the first number below &quot;n&quot; which\r\n&gt; can be entirely divided by both the first and second divisor.\r\n\r\nTry something more like below with the [% operator](https://www.geeksforgeeks.org/modulo-or-remainder-operator-in-java/) (remainder/modulo):\r\n\r\n    static int highestNumberBelowNDivisibleByTwoNumbers(int firstDivisor, int secondDivisor, int n) {\r\n        while (n&gt;0) {\r\n            if ((n % firstDivisor == 0) &amp;&amp; (n % secondDivisor == 0)) {\r\n                return n;\r\n            }\r\n            n--;\r\n        }\r\n        return -1; // no answer found      \r\n    }","title":"Update a variable outside a loop from inside the loop","body":"<p>Based on your description of:</p>\n<blockquote>\n<p>Trying to create a method to return the first number below &quot;n&quot; which\ncan be entirely divided by both the first and second divisor.</p>\n</blockquote>\n<p>Try something more like below with the <a href=\"https://www.geeksforgeeks.org/modulo-or-remainder-operator-in-java/\" rel=\"nofollow noreferrer\">% operator</a> (remainder/modulo):</p>\n<pre><code>static int highestNumberBelowNDivisibleByTwoNumbers(int firstDivisor, int secondDivisor, int n) {\n    while (n&gt;0) {\n        if ((n % firstDivisor == 0) &amp;&amp; (n % secondDivisor == 0)) {\n            return n;\n        }\n        n--;\n    }\n    return -1; // no answer found      \n}\n</code></pre>\n"}],"owner":{"account_id":23933655,"reputation":1,"user_id":17927723,"display_name":"Harry Whitelegg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642105848,"creation_date":1642105431,"question_id":70702670,"body_markdown":"Trying to create a method to return the first number below &quot;n&quot; which can be entirely divided by both the first and second divisor. Currently my program is returning the default value of &quot;answer&quot; being 0, I want the value which is calculated within the loop to be translated outside the loop to be returned. Yes I am a beginner :(\r\n\r\n    static int highestNumberBelowNDivisibleByTwoNumbers(int firstDivisor, int secondDivisor, int n) {\r\n        int multipliedDivisors = firstDivisor * secondDivisor;\r\n        int answer = 0;\r\n        int remainder = 0;\r\n        for (int i = n; i &lt;= 1; i--) {\r\n            remainder = multipliedDivisors / i;\r\n            if (remainder == 0){\r\n                answer = i;\r\n                break;\r\n            }\r\n        }\r\n        return answer;      \r\n    }","title":"Update a variable outside a loop from inside the loop","body":"<p>Trying to create a method to return the first number below &quot;n&quot; which can be entirely divided by both the first and second divisor. Currently my program is returning the default value of &quot;answer&quot; being 0, I want the value which is calculated within the loop to be translated outside the loop to be returned. Yes I am a beginner :(</p>\n<pre><code>static int highestNumberBelowNDivisibleByTwoNumbers(int firstDivisor, int secondDivisor, int n) {\n    int multipliedDivisors = firstDivisor * secondDivisor;\n    int answer = 0;\n    int remainder = 0;\n    for (int i = n; i &lt;= 1; i--) {\n        remainder = multipliedDivisors / i;\n        if (remainder == 0){\n            answer = i;\n            break;\n        }\n    }\n    return answer;      \n}\n</code></pre>\n"},{"tags":["java","xml","pretty-print"],"owner":{"account_id":22630894,"reputation":13,"user_id":16808270,"display_name":"sarfog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642105782,"creation_date":1642105782,"question_id":70702742,"body_markdown":"I have a piece of Java code which pretty prints xml. When using a LSSerializer to pretty print the output, it is formatted nicely and indented but elements which contain CDATA behave strangely. The XML \r\n\r\n```\r\n&lt;root&gt;&lt;outer&gt;&lt;inner&gt;&lt;text&gt;&lt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;&lt;/inner&gt;&lt;/outer&gt;&lt;/root&gt;\r\n```\r\ngets transformed into the following xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\r\n    &lt;outer&gt;\r\n        &lt;inner&gt;\r\n            &lt;text&gt;\r\n                &lt;![CDATA[Content of the CDATA block]]&gt;\r\n            &lt;/text&gt;\r\n        &lt;/inner&gt;\r\n    &lt;/outer&gt;\r\n&lt;/root&gt;\r\n```\r\nand has the CDATA element in a separate line. This causes issues when extracting the content later on with xpath expressions.\r\n\r\nThe code \r\n\r\n    @Test\r\n    public void testOutputXML() throws Exception {\r\n        final Document document = loadXMLFromString( &quot;&lt;root&gt;&lt;outer&gt;&lt;inner&gt;&lt;text&gt;&lt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;&lt;/inner&gt;&lt;/outer&gt;&lt;/root&gt;&quot; );\r\n        final String formattedXml = toXmlPrettyLS( document );\r\n        final Document formattedDocument = loadXMLFromString( formattedXml );\r\n        XPathFactory xPathfactory = XPathFactory.newInstance();\r\n        XPath xpath = xPathfactory.newXPath();\r\n        XPathExpression expr = xpath.compile(&quot;//text/text()&quot;);\r\n        final String evaluate = expr.evaluate( formattedDocument );\r\n        assertThat( evaluate ).isEqualTo( &quot;Content of the CDATA block&quot; );\r\n    }\r\n\r\n    private String toXmlPrettyLS( final Document document ) throws Exception {\r\n        final ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        final DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\r\n        final DOMImplementationLS loadSave = ( DOMImplementationLS ) registry.getDOMImplementation( &quot;LS&quot; );\r\n        final LSOutput output = loadSave.createLSOutput();\r\n        output.setByteStream( bos );\r\n        final LSSerializer serializer = loadSave.createLSSerializer();\r\n        final DOMConfiguration config = serializer.getDomConfig();\r\n        config.setParameter( &quot;format-pretty-print&quot;, true );\r\n        serializer.write( document, output );\r\n        return String.valueOf( bos );\r\n    }\r\n\r\n    private Document loadXMLFromString( final String xml ) throws Exception {\r\n        final DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        factory.setNamespaceAware( true );\r\n        final DocumentBuilder builder = factory.newDocumentBuilder();\r\n        return builder.parse( new ByteArrayInputStream( xml.getBytes() ) );\r\n    }\r\n \r\n\r\nis used to transform the xml and extract the content, the environment is Java 11.\r\n\r\nHow can I adjust the formatting to get \r\n\r\n```\r\n&lt;text&gt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;\r\n```\r\ninstead?","title":"XML pretty print add unnecessary whitespace element content containing CDATA","body":"<p>I have a piece of Java code which pretty prints xml. When using a LSSerializer to pretty print the output, it is formatted nicely and indented but elements which contain CDATA behave strangely. The XML</p>\n<pre><code>&lt;root&gt;&lt;outer&gt;&lt;inner&gt;&lt;text&gt;&lt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;&lt;/inner&gt;&lt;/outer&gt;&lt;/root&gt;\n</code></pre>\n<p>gets transformed into the following xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\n    &lt;outer&gt;\n        &lt;inner&gt;\n            &lt;text&gt;\n                &lt;![CDATA[Content of the CDATA block]]&gt;\n            &lt;/text&gt;\n        &lt;/inner&gt;\n    &lt;/outer&gt;\n&lt;/root&gt;\n</code></pre>\n<p>and has the CDATA element in a separate line. This causes issues when extracting the content later on with xpath expressions.</p>\n<p>The code</p>\n<pre><code>@Test\npublic void testOutputXML() throws Exception {\n    final Document document = loadXMLFromString( &quot;&lt;root&gt;&lt;outer&gt;&lt;inner&gt;&lt;text&gt;&lt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;&lt;/inner&gt;&lt;/outer&gt;&lt;/root&gt;&quot; );\n    final String formattedXml = toXmlPrettyLS( document );\n    final Document formattedDocument = loadXMLFromString( formattedXml );\n    XPathFactory xPathfactory = XPathFactory.newInstance();\n    XPath xpath = xPathfactory.newXPath();\n    XPathExpression expr = xpath.compile(&quot;//text/text()&quot;);\n    final String evaluate = expr.evaluate( formattedDocument );\n    assertThat( evaluate ).isEqualTo( &quot;Content of the CDATA block&quot; );\n}\n\nprivate String toXmlPrettyLS( final Document document ) throws Exception {\n    final ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    final DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\n    final DOMImplementationLS loadSave = ( DOMImplementationLS ) registry.getDOMImplementation( &quot;LS&quot; );\n    final LSOutput output = loadSave.createLSOutput();\n    output.setByteStream( bos );\n    final LSSerializer serializer = loadSave.createLSSerializer();\n    final DOMConfiguration config = serializer.getDomConfig();\n    config.setParameter( &quot;format-pretty-print&quot;, true );\n    serializer.write( document, output );\n    return String.valueOf( bos );\n}\n\nprivate Document loadXMLFromString( final String xml ) throws Exception {\n    final DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware( true );\n    final DocumentBuilder builder = factory.newDocumentBuilder();\n    return builder.parse( new ByteArrayInputStream( xml.getBytes() ) );\n}\n</code></pre>\n<p>is used to transform the xml and extract the content, the environment is Java 11.</p>\n<p>How can I adjust the formatting to get</p>\n<pre><code>&lt;text&gt;![CDATA[Content of the CDATA block]]&gt;&lt;/text&gt;\n</code></pre>\n<p>instead?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642106007,"post_id":70702694,"comment_id":124990499,"body_markdown":"Looks like some strange versioning problem. Can you create and post a [mre], and tell us the platform, java version (both compiler and runtime), and JavaFX version.","body":"Looks like some strange versioning problem. Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and tell us the platform, java version (both compiler and runtime), and JavaFX version."},{"owner":{"account_id":21118487,"reputation":11,"user_id":15525077,"display_name":"onetinyfear"},"score":0,"creation_date":1642109609,"post_id":70702694,"comment_id":124991580,"body_markdown":"In the process of minimizing the code I figured I might have been initiating the stage incorrectly. Fixing that seemed to have fixed the problem for now. Still, since you mentioned a possibility of versioning issues and might have picked up on something, could you tell me if my setup might also be wrong?  I&#39;m working on windows, using intellij; JavaFX: 17.0.1, compiler ver: 11.0.9 and JRE ver: 1.8.0_281","body":"In the process of minimizing the code I figured I might have been initiating the stage incorrectly. Fixing that seemed to have fixed the problem for now. Still, since you mentioned a possibility of versioning issues and might have picked up on something, could you tell me if my setup might also be wrong?  I&#39;m working on windows, using intellij; JavaFX: 17.0.1, compiler ver: 11.0.9 and JRE ver: 1.8.0_281"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642109702,"post_id":70702694,"comment_id":124991611,"body_markdown":"JavaFX 17 requires at least JDK 11, and if you compile with JDK 11 you can’t run on JDK 8.","body":"JavaFX 17 requires at least JDK 11, and if you compile with JDK 11 you can’t run on JDK 8."},{"owner":{"account_id":21118487,"reputation":11,"user_id":15525077,"display_name":"onetinyfear"},"score":0,"creation_date":1642110110,"post_id":70702694,"comment_id":124991726,"body_markdown":"Noted. Thank you!","body":"Noted. Thank you!"},{"owner":{"account_id":323748,"reputation":2731,"user_id":643951,"accept_rate":56,"display_name":"Ruslan"},"score":0,"creation_date":1684432244,"post_id":70702694,"comment_id":134520320,"body_markdown":"@James_D You should post this as an answer. I was just having the same issue where a client machine could not run the app and it was because they only had Java 8 installed. Thanks a ton either way!","body":"@James_D You should post this as an answer. I was just having the same issue where a client machine could not run the app and it was because they only had Java 8 installed. Thanks a ton either way!"}],"owner":{"account_id":21118487,"reputation":11,"user_id":15525077,"display_name":"onetinyfear"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642105541,"creation_date":1642105541,"question_id":70702694,"body_markdown":"In my project, I&#39;m trying to show a simple text input dialog alert that will let the user input a filename. However, I keep getting an error thrown at the line `Optional&lt;String&gt; result = dialog.showAndWait();` \r\n\r\nFrom the error stack I can see that it&#39;s throwing a `NoSuchMethodError` but I can&#39;t come to any conclusions as to why. Any suggestions would be greatly appreciated.\r\n\r\nThis is my `onNewFileClick` method calling `showAndWait` (in class `MainController`):\r\n\r\n    @FXML\r\n    protected void onNewFileClick(ActionEvent actionEvent) throws IOException {\r\n        TextInputDialog dialog = new TextInputDialog();\r\n        dialog.setTitle(&quot;Nowy plik&quot;);\r\n        dialog.setHeaderText(&quot;Podaj nazwę pliku&quot;);\r\n        Optional&lt;String&gt; result = dialog.showAndWait();\r\n        String filename = &quot;&quot;;\r\n\r\n        if (result.isPresent()) {\r\n            filename = result.get();\r\n            TextFile.createFile(filename);\r\n            goToTextEditor(filename);\r\n        }\r\n    }\r\n\r\nAnd here is my error stack:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.controls/javafx.scene.control.MenuItem.fire(MenuItem.java:459)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1385)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.lambda$createChildren$12(ContextMenuContent.java:1338)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\t... 43 more\r\nCaused by: java.lang.NoSuchMethodError: com.sun.javafx.scene.NodeHelper.recalculateRelativeSizeProperties(Ljavafx/scene/Node;Ljavafx/scene/text/Font;)V\r\n\tat javafx.controls/javafx.scene.control.Labeled$6.set(Labeled.java:375)\r\n\tat javafx.controls/javafx.scene.control.Labeled$6.set(Labeled.java:347)\r\n\tat javafx.graphics/javafx.css.StyleableObjectProperty.applyStyle(StyleableObjectProperty.java:68)\r\n\tat javafx.controls/javafx.scene.control.Labeled$6.applyStyle(Labeled.java:361)\r\n\tat javafx.controls/javafx.scene.control.Labeled$6.applyStyle(Labeled.java:347)\r\n\tat javafx.graphics/javafx.scene.CssStyleHelper.transitionToState(CssStyleHelper.java:787)\r\n\tat javafx.graphics/javafx.scene.Node.doProcessCSS(Node.java:9647)\r\n\tat javafx.graphics/javafx.scene.Node.access$900(Node.java:398)\r\n\tat javafx.graphics/javafx.scene.Node$1.doProcessCSS(Node.java:471)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSSImpl(NodeHelper.java:192)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.superProcessCSSImpl(ParentHelper.java:93)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.superProcessCSS(ParentHelper.java:63)\r\n\tat javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1366)\r\n\tat javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\r\n\tat javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.superProcessCSSImpl(ControlHelper.java:63)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.superProcessCSS(ControlHelper.java:55)\r\n\tat javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:886)\r\n\tat javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\r\n\tat javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\r\n\tat javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\r\n\tat javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\r\n\tat javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\r\n\tat javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\r\n\tat javafx.graphics/javafx.scene.Scene.doCSSPass(Scene.java:569)\r\n\tat javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1745)\r\n\tat javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\r\n\tat javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\r\n\tat javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\r\n\tat javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\r\n\tat javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\r\n\tat javafx.graphics/javafx.stage.Window.show(Window.java:1189)\r\n\tat javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\r\n\tat javafx.graphics/javafx.stage.Stage.showAndWait(Stage.java:463)\r\n\tat javafx.controls/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)\r\n\tat javafx.controls/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)\r\n\tat com.client.skclient/com.client.skclient.controllers.MainController.onNewFileClick(MainController.java:58)\r\n\t... 54 more\r\n```\r\n\r\n","title":"java.lang.NoSuchMethodError thrown when using javafx showAndWait()","body":"<p>In my project, I'm trying to show a simple text input dialog alert that will let the user input a filename. However, I keep getting an error thrown at the line <code>Optional&lt;String&gt; result = dialog.showAndWait();</code></p>\n<p>From the error stack I can see that it's throwing a <code>NoSuchMethodError</code> but I can't come to any conclusions as to why. Any suggestions would be greatly appreciated.</p>\n<p>This is my <code>onNewFileClick</code> method calling <code>showAndWait</code> (in class <code>MainController</code>):</p>\n<pre><code>@FXML\nprotected void onNewFileClick(ActionEvent actionEvent) throws IOException {\n    TextInputDialog dialog = new TextInputDialog();\n    dialog.setTitle(&quot;Nowy plik&quot;);\n    dialog.setHeaderText(&quot;Podaj nazwę pliku&quot;);\n    Optional&lt;String&gt; result = dialog.showAndWait();\n    String filename = &quot;&quot;;\n\n    if (result.isPresent()) {\n        filename = result.get();\n        TextFile.createFile(filename);\n        goToTextEditor(filename);\n    }\n}\n</code></pre>\n<p>And here is my error stack:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.controls/javafx.scene.control.MenuItem.fire(MenuItem.java:459)\n    at javafx.controls/com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.doSelect(ContextMenuContent.java:1385)\n    at javafx.controls/com.sun.javafx.scene.control.ContextMenuContent$MenuItemContainer.lambda$createChildren$12(ContextMenuContent.java:1338)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    ... 43 more\nCaused by: java.lang.NoSuchMethodError: com.sun.javafx.scene.NodeHelper.recalculateRelativeSizeProperties(Ljavafx/scene/Node;Ljavafx/scene/text/Font;)V\n    at javafx.controls/javafx.scene.control.Labeled$6.set(Labeled.java:375)\n    at javafx.controls/javafx.scene.control.Labeled$6.set(Labeled.java:347)\n    at javafx.graphics/javafx.css.StyleableObjectProperty.applyStyle(StyleableObjectProperty.java:68)\n    at javafx.controls/javafx.scene.control.Labeled$6.applyStyle(Labeled.java:361)\n    at javafx.controls/javafx.scene.control.Labeled$6.applyStyle(Labeled.java:347)\n    at javafx.graphics/javafx.scene.CssStyleHelper.transitionToState(CssStyleHelper.java:787)\n    at javafx.graphics/javafx.scene.Node.doProcessCSS(Node.java:9647)\n    at javafx.graphics/javafx.scene.Node.access$900(Node.java:398)\n    at javafx.graphics/javafx.scene.Node$1.doProcessCSS(Node.java:471)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSSImpl(NodeHelper.java:192)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.superProcessCSSImpl(ParentHelper.java:93)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.superProcessCSS(ParentHelper.java:63)\n    at javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1366)\n    at javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\n    at javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.superProcessCSSImpl(ControlHelper.java:63)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.superProcessCSS(ControlHelper.java:55)\n    at javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:886)\n    at javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\n    at javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\n    at javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Parent.doProcessCSS(Parent.java:1397)\n    at javafx.graphics/javafx.scene.Parent.access$400(Parent.java:79)\n    at javafx.graphics/javafx.scene.Parent$1.doProcessCSS(Parent.java:125)\n    at javafx.graphics/com.sun.javafx.scene.ParentHelper.processCSSImpl(ParentHelper.java:98)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\n    at javafx.graphics/javafx.scene.Scene.doCSSPass(Scene.java:569)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1745)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$12.invalidated(Window.java:1086)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:110)\n    at javafx.base/javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:145)\n    at javafx.graphics/javafx.stage.Window.setShowing(Window.java:1174)\n    at javafx.graphics/javafx.stage.Window.show(Window.java:1189)\n    at javafx.graphics/javafx.stage.Stage.show(Stage.java:273)\n    at javafx.graphics/javafx.stage.Stage.showAndWait(Stage.java:463)\n    at javafx.controls/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)\n    at javafx.controls/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)\n    at com.client.skclient/com.client.skclient.controllers.MainController.onNewFileClick(MainController.java:58)\n    ... 54 more\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1642105089,"post_id":70702601,"comment_id":124990176,"body_markdown":"Can a single account be assigned to more than one employee?","body":"Can a single account be assigned to more than one employee?"},{"owner":{"account_id":20971879,"reputation":13,"user_id":15408855,"display_name":"Abuzer ALACA"},"score":0,"creation_date":1642105342,"post_id":70702601,"comment_id":124990262,"body_markdown":"Well, each account can be assigned to clients but not to employee. There has to be only an employee. That was the other tricky part too. Each Client has an account and can be assigned to authorize accounts and some of the clients doesn&#39;t have any accounts to authorize.","body":"Well, each account can be assigned to clients but not to employee. There has to be only an employee. That was the other tricky part too. Each Client has an account and can be assigned to authorize accounts and some of the clients doesn&#39;t have any accounts to authorize."}],"owner":{"account_id":20971879,"reputation":13,"user_id":15408855,"display_name":"Abuzer ALACA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642105385,"creation_date":1642104924,"question_id":70702601,"body_markdown":"I have a class named **Employee** and each employee responsible from some of accounts. But not all accounts have employee assigned. \r\n\r\nBecause some of the accounts belongs to companies. \r\n\r\nHow can I create this relation?\r\n\r\nEmployee Class : \r\n```java\r\n@Entity\r\n@Table(name = &quot;employee&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;seq_person&quot;, allocationSize = 1)\r\n    @GeneratedValue(generator = &quot;seq_person&quot;, strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    @Enumerated\r\n    private JobTitle jobTitle;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;employee_address_id&quot;)\r\n    private List&lt;Address&gt; address;\r\n    @ManyToMany\r\n    @JoinColumn(name = &quot;employee_account_id&quot;)\r\n    private List&lt;Account&gt; accounts;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;employee_auth_account_id&quot;)\r\n    private List&lt;Account&gt; authorizedAccounts;\r\n\r\n    public enum JobTitle {\r\n        ACCOUNT_MANAGER, CONSUMER_MANAGER, BUSINESS_MANAGER\r\n    }\r\n}\r\n```\r\n\r\nAccount Class :\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;account&quot;)\r\npublic class Account {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;seq_person_address&quot;, allocationSize = 1)\r\n    @GeneratedValue(generator = &quot;seq_person_address&quot;, strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    @Enumerated\r\n    private AccountType accountType;\r\n\r\n    @ManyToMany\r\n    @JoinColumn(name = &quot;client_id&quot;)\r\n    private List&lt;Client&gt; clients;\r\n\r\n    private enum AccountType {\r\n        INTERNAL, CONSUMER, SMALL_BUSINESS, LARGE_BUSINESS\r\n    }\r\n}\r\n```\r\n\r\nIf the account belongs to a small business or large business, there should be an employee assigned.\r\n\r\nI checked some website but I couldn&#39;t find any answer online. I am not sure if there is any relation like that exist in Spring or not.\r\n\r\n","title":"Java Spring Table Relations","body":"<p>I have a class named <strong>Employee</strong> and each employee responsible from some of accounts. But not all accounts have employee assigned.</p>\n<p>Because some of the accounts belongs to companies.</p>\n<p>How can I create this relation?</p>\n<p>Employee Class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;employee&quot;)\npublic class Employee {\n    @Id\n    @SequenceGenerator(name = &quot;seq_person&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;seq_person&quot;, strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Enumerated\n    private JobTitle jobTitle;\n\n    @OneToMany\n    @JoinColumn(name = &quot;employee_address_id&quot;)\n    private List&lt;Address&gt; address;\n    @ManyToMany\n    @JoinColumn(name = &quot;employee_account_id&quot;)\n    private List&lt;Account&gt; accounts;\n\n    @OneToMany\n    @JoinColumn(name = &quot;employee_auth_account_id&quot;)\n    private List&lt;Account&gt; authorizedAccounts;\n\n    public enum JobTitle {\n        ACCOUNT_MANAGER, CONSUMER_MANAGER, BUSINESS_MANAGER\n    }\n}\n</code></pre>\n<p>Account Class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @SequenceGenerator(name = &quot;seq_person_address&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;seq_person_address&quot;, strategy = GenerationType.SEQUENCE)\n    private Long id;\n\n    @Enumerated\n    private AccountType accountType;\n\n    @ManyToMany\n    @JoinColumn(name = &quot;client_id&quot;)\n    private List&lt;Client&gt; clients;\n\n    private enum AccountType {\n        INTERNAL, CONSUMER, SMALL_BUSINESS, LARGE_BUSINESS\n    }\n}\n</code></pre>\n<p>If the account belongs to a small business or large business, there should be an employee assigned.</p>\n<p>I checked some website but I couldn't find any answer online. I am not sure if there is any relation like that exist in Spring or not.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642104950,"creation_date":1480668292,"answer_id":40927989,"question_id":40927950,"body_markdown":"This means you don&#39;t have a main method in your class as the error says. Replace the `static` with `public static void main(String[] args)` and it works. Also it is not possible to run a program without a main method.","title":"What does it mean: JavaFX application class must extend javafx.application.Application?","body":"<p>This means you don't have a main method in your class as the error says. Replace the <code>static</code> with <code>public static void main(String[] args)</code> and it works. Also it is not possible to run a program without a main method.</p>\n"},{"tags":[],"owner":{"account_id":2436112,"reputation":5684,"user_id":2125973,"accept_rate":38,"display_name":"Thusitha Thilina Dayaratne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480668304,"creation_date":1480668304,"answer_id":40927993,"question_id":40927950,"body_markdown":"If you want to run your program either you should have the `main` method or if it is a JavaFX application then you have to have the `start` method.\r\nAccording to your class, you don&#39;t have neither of the conditions. So that is why you get the error","title":"What does it mean: JavaFX application class must extend javafx.application.Application?","body":"<p>If you want to run your program either you should have the <code>main</code> method or if it is a JavaFX application then you have to have the <code>start</code> method.\nAccording to your class, you don't have neither of the conditions. So that is why you get the error</p>\n"}],"owner":{"account_id":9767189,"reputation":51,"user_id":7240234,"display_name":"Mukesh Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58373,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1480677312,"answer_count":2,"score":5,"last_activity_date":1642104950,"creation_date":1480668137,"question_id":40927950,"body_markdown":"What is meant by this error:\r\n\r\n&gt; Error: Main method not found in class Static.A, please define the main\r\n&gt; method as:\r\n&gt;        public static void main(String[] args)\r\n&gt;     or a JavaFX application class must extend javafx.application.Application\r\n\r\nI was trying to run a program Without main Method.. \r\n\r\n    public class A\r\n    {\r\n        static\r\n        {\r\n          System.out.println(&quot;Hello&quot;);\r\n          System.exit(0);\r\n         }\r\n    } \r\n\r\n\r\n\r\n","title":"What does it mean: JavaFX application class must extend javafx.application.Application?","body":"<p>What is meant by this error:</p>\n\n<blockquote>\n  <p>Error: Main method not found in class Static.A, please define the main\n  method as:\n         public static void main(String[] args)\n      or a JavaFX application class must extend javafx.application.Application</p>\n</blockquote>\n\n<p>I was trying to run a program Without main Method.. </p>\n\n<pre><code>public class A\n{\n    static\n    {\n      System.out.println(\"Hello\");\n      System.exit(0);\n     }\n} \n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556311569,"creation_date":1556311569,"answer_id":55874727,"question_id":55873312,"body_markdown":"You need to write custom deserialiser and map `telephone` to `mobile`:\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonDeserializationContext;\r\n    import com.google.gson.JsonDeserializer;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParseException;\r\n    import com.google.gson.annotations.JsonAdapter;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.lang.reflect.Type;\r\n    \r\n    public class GsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tGson gson = new GsonBuilder()\r\n    \t\t\t\t.create();\r\n    \r\n    \t\ttry (FileReader jsonReader = new FileReader(jsonFile)) {\r\n    \t\t\tSystem.out.println(gson.fromJson(jsonReader, User.class));\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class UserJsonDeserializer implements JsonDeserializer&lt;User&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic User deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n    \t\tJsonObject jsonObject = json.getAsJsonObject();\r\n    \r\n    \t\tUser user = new User();\r\n    \t\tuser.setUser(jsonObject.get(&quot;user&quot;).getAsString());\r\n    \t\tuser.setMobile(jsonObject.get(&quot;telephone&quot;).getAsString());\r\n    \r\n    \t\treturn user;\r\n    \t}\r\n    }\r\n    \r\n    @JsonAdapter(UserJsonDeserializer.class)\r\n    class User {\r\n    \r\n    \tprivate String user;\r\n    \tprivate String mobile;\r\n    \r\n    \t// getters, setters, toString\r\n    }\r\n\r\nPrints:\r\n\r\n    User{user=&#39;user&#39;, mobile=&#39;123456789&#39;}","title":"How to get additional fields in a json data in GSON","body":"<p>You need to write custom deserialiser and map <code>telephone</code> to <code>mobile</code>:</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonDeserializationContext;\nimport com.google.gson.JsonDeserializer;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParseException;\nimport com.google.gson.annotations.JsonAdapter;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.lang.reflect.Type;\n\npublic class GsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n\n        Gson gson = new GsonBuilder()\n                .create();\n\n        try (FileReader jsonReader = new FileReader(jsonFile)) {\n            System.out.println(gson.fromJson(jsonReader, User.class));\n        }\n    }\n}\n\nclass UserJsonDeserializer implements JsonDeserializer&lt;User&gt; {\n\n    @Override\n    public User deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        JsonObject jsonObject = json.getAsJsonObject();\n\n        User user = new User();\n        user.setUser(jsonObject.get(\"user\").getAsString());\n        user.setMobile(jsonObject.get(\"telephone\").getAsString());\n\n        return user;\n    }\n}\n\n@JsonAdapter(UserJsonDeserializer.class)\nclass User {\n\n    private String user;\n    private String mobile;\n\n    // getters, setters, toString\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>User{user='user', mobile='123456789'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400246,"reputation":281,"user_id":1329160,"display_name":"CFD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642104411,"creation_date":1642103354,"answer_id":70702301,"question_id":55873312,"body_markdown":"In case another google wanderer finds this question, there is a way to process extra tags without completely recreating the de-serialization. Based on [an example given here][1]. The basic premise is this factory gets the first go at deserializing the class, it uses the next possible type adapter for the class to handle the initial deserialize, does its post processing and returns the result.\r\n\r\n    class UserTypeAdapterFactory implements TypeAdapterFactory {\r\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n            if (!User.class.isAssignableFrom(type.getRawType())) return null; // this class only serializes &#39;User&#39; and its subtypes\r\n            final TypeAdapter&lt;User&gt; userAdapter = gson.getDelegateAdapter(this, TypeToken.get(User.class)); // next adapter that isn&#39;t this one\r\n            final TypeAdapter&lt;JsonElement&gt; elementAdapter = gson.getAdapter(JsonElement.class);\r\n            TypeAdapter&lt;User&gt; result = new TypeAdapter&lt;User&gt;() {\r\n                public void write(JsonWriter out, User value) throws IOException {\r\n                    userAdapter.write(out, value);\r\n                }\r\n                public User read(JsonReader in) throws IOException {\r\n                    JsonObject object = elementAdapter.read(in).getAsJsonObject();\r\n                    User profile = userAdapter.fromJsonTree(object);\r\n                    // apply old field to the new, if found (or whatever other post processing)\r\n                    try { profile.mobile = object.get(&quot;telephone&quot;).getAsString(); }\r\n                    catch (Exception ignored) {}\r\n                    return profile;\r\n                }\r\n            }.nullSafe();\r\n            return (TypeAdapter&lt;T&gt;) result;\r\n        }\r\n    }\r\nThen you add to your Gson object something like this and use as normal\r\n\r\n    private Gson createGson() {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        gsonBuilder.registerTypeAdapterFactory(new UserTypeAdapterFactory());\r\n        return gsonBuilder.create();\r\n    }\r\n\r\nNote in this case JsonReader/JsonWriter are from gson library, there may be other implementations, so mind the imports.\r\n\r\n\timport com.google.gson.Gson;\r\n\timport com.google.gson.GsonBuilder;\r\n\timport com.google.gson.JsonElement;\r\n\timport com.google.gson.JsonObject;\r\n\timport com.google.gson.TypeAdapter;\r\n\timport com.google.gson.TypeAdapterFactory;\r\n\timport com.google.gson.reflect.TypeToken;\r\n\timport com.google.gson.stream.JsonReader;\r\n\timport com.google.gson.stream.JsonWriter;\r\n\r\n\r\n  [1]: https://github.com/google/gson/issues/43#issuecomment-83700348","title":"How to get additional fields in a json data in GSON","body":"<p>In case another google wanderer finds this question, there is a way to process extra tags without completely recreating the de-serialization. Based on <a href=\"https://github.com/google/gson/issues/43#issuecomment-83700348\" rel=\"nofollow noreferrer\">an example given here</a>. The basic premise is this factory gets the first go at deserializing the class, it uses the next possible type adapter for the class to handle the initial deserialize, does its post processing and returns the result.</p>\n<pre><code>class UserTypeAdapterFactory implements TypeAdapterFactory {\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        if (!User.class.isAssignableFrom(type.getRawType())) return null; // this class only serializes 'User' and its subtypes\n        final TypeAdapter&lt;User&gt; userAdapter = gson.getDelegateAdapter(this, TypeToken.get(User.class)); // next adapter that isn't this one\n        final TypeAdapter&lt;JsonElement&gt; elementAdapter = gson.getAdapter(JsonElement.class);\n        TypeAdapter&lt;User&gt; result = new TypeAdapter&lt;User&gt;() {\n            public void write(JsonWriter out, User value) throws IOException {\n                userAdapter.write(out, value);\n            }\n            public User read(JsonReader in) throws IOException {\n                JsonObject object = elementAdapter.read(in).getAsJsonObject();\n                User profile = userAdapter.fromJsonTree(object);\n                // apply old field to the new, if found (or whatever other post processing)\n                try { profile.mobile = object.get(&quot;telephone&quot;).getAsString(); }\n                catch (Exception ignored) {}\n                return profile;\n            }\n        }.nullSafe();\n        return (TypeAdapter&lt;T&gt;) result;\n    }\n}\n</code></pre>\n<p>Then you add to your Gson object something like this and use as normal</p>\n<pre><code>private Gson createGson() {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.registerTypeAdapterFactory(new UserTypeAdapterFactory());\n    return gsonBuilder.create();\n}\n</code></pre>\n<p>Note in this case JsonReader/JsonWriter are from gson library, there may be other implementations, so mind the imports.</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.TypeAdapterFactory;\nimport com.google.gson.reflect.TypeToken;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\n</code></pre>\n"}],"owner":{"account_id":8965704,"reputation":715,"user_id":6686446,"display_name":"Kavinda Jayakody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55874727,"answer_count":2,"score":1,"last_activity_date":1642104411,"creation_date":1556304041,"question_id":55873312,"body_markdown":"I have a JSON object which is actually a java object serialized. The JSON object is something like this\r\n\r\n```\r\n{\r\n  user: &#39;user&#39;,\r\n  telephone: &#39;123456789&#39;\r\n}\r\n```\r\nThe java object&#39;s **telephone** field was renamed from &#39;telephone&#39; to &#39;mobile&#39;. So now the java object is has following fields.\r\n\r\n- user\r\n- mobile\r\n\r\nWhat i want to do is a data migration. I want to get the data from the database as a JSON string -&gt; and parse that JSON to java object using GSON (So far we are used gson.fromJson(class, data) method) **preserving** the value in the telephone (since telephone is not a field in the java class now) - so then i can pass that data to the new field (mobile).\r\n\r\nHow can i do this? \r\n\r\nP.S. :- This cannot achieve by some simple database query because we are using a file storage system which don&#39;t have query facility and encoded values.\r\n\r\nP.S. :- Also, we are using the **entity event framework**","title":"How to get additional fields in a json data in GSON","body":"<p>I have a JSON object which is actually a java object serialized. The JSON object is something like this</p>\n\n<pre><code>{\n  user: 'user',\n  telephone: '123456789'\n}\n</code></pre>\n\n<p>The java object's <strong>telephone</strong> field was renamed from 'telephone' to 'mobile'. So now the java object is has following fields.</p>\n\n<ul>\n<li>user</li>\n<li>mobile</li>\n</ul>\n\n<p>What i want to do is a data migration. I want to get the data from the database as a JSON string -> and parse that JSON to java object using GSON (So far we are used gson.fromJson(class, data) method) <strong>preserving</strong> the value in the telephone (since telephone is not a field in the java class now) - so then i can pass that data to the new field (mobile).</p>\n\n<p>How can i do this? </p>\n\n<p>P.S. :- This cannot achieve by some simple database query because we are using a file storage system which don't have query facility and encoded values.</p>\n\n<p>P.S. :- Also, we are using the <strong>entity event framework</strong></p>\n"},{"tags":["java","sorting","do-while"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642101617,"post_id":70701936,"comment_id":124989011,"body_markdown":"Bogo-Sort: `do {shuffle(array); } while (!sorted(array));`.","body":"Bogo-Sort: <code>do {shuffle(array); } while (!sorted(array));</code>."},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1642101926,"post_id":70701936,"comment_id":124989136,"body_markdown":"@Johannes Kuhn i am trying to achieve sorting without using any dedicated sorting functions, something like bubble sorting","body":"@Johannes Kuhn i am trying to achieve sorting without using any dedicated sorting functions, something like bubble sorting"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642101990,"post_id":70701936,"comment_id":124989164,"body_markdown":"You just have to implement `shuffle` and `sorted` yourself.","body":"You just have to implement <code>shuffle</code> and <code>sorted</code> yourself."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1642102123,"post_id":70701936,"comment_id":124989223,"body_markdown":"you don&#39;t need to catch `NullPointerException`!","body":"you don&#39;t need to catch <code>NullPointerException</code>!"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1642102318,"post_id":70701936,"comment_id":124989288,"body_markdown":"catch23 is right, but more importantly, please don&#39;t ever catch an exception without doing something in the catch clause!  at least print it.  Not doing anything will waste HOURS of your time some day--then you&#39;ll never do it again.","body":"catch23 is right, but more importantly, please don&#39;t ever catch an exception without doing something in the catch clause!  at least print it.  Not doing anything will waste HOURS of your time some day--then you&#39;ll never do it again."},{"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"score":0,"creation_date":1642102689,"post_id":70701936,"comment_id":124989433,"body_markdown":"Sorry i just forgot to delete try catch, before i needed it and then i forgot to remove it.\n@Bill K thx for advice, much appreciated","body":"Sorry i just forgot to delete try catch, before i needed it and then i forgot to remove it. @Bill K thx for advice, much appreciated"}],"answers":[{"tags":[],"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642103776,"creation_date":1642103776,"answer_id":70702385,"question_id":70701936,"body_markdown":"You can try this\r\n \r\n\r\n    \r\n    public class Main {\r\n    public static void main(String[] args) {\r\n  \r\n \r\n    String[] names= {&quot;Kat&quot;,&quot;Bart&quot;,&quot;Adam&quot;,&quot;Tom&quot;,&quot;Marie&quot;,&quot;Alan&quot;,&quot;Ellie&quot;,&quot;Ziggy&quot;,&quot;Dan&quot;,&quot;Otto&quot;};\r\n    String temp=&quot;&quot;;\r\n    int i=-1;\r\n  \r\n        do{\r\n          i++;  if(names[i].compareToIgnoreCase(names[i+1])&gt;0){\r\n                temp=names[i];\r\n                names[i]=names[i+1];\r\n                names[i+1]=temp;\r\n                i=-1;\r\n                \r\n            }\r\n       }while(i&lt;names.length-2);\r\n    System.out.println(names[9]);\r\n    System.out.println(&quot;Hello World!&quot;);\r\n    } }\r\n","title":"How can I sort an array using do while loop instead of for","body":"<p>You can try this</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n\n\nString[] names= {&quot;Kat&quot;,&quot;Bart&quot;,&quot;Adam&quot;,&quot;Tom&quot;,&quot;Marie&quot;,&quot;Alan&quot;,&quot;Ellie&quot;,&quot;Ziggy&quot;,&quot;Dan&quot;,&quot;Otto&quot;};\nString temp=&quot;&quot;;\nint i=-1;\n\n    do{\n      i++;  if(names[i].compareToIgnoreCase(names[i+1])&gt;0){\n            temp=names[i];\n            names[i]=names[i+1];\n            names[i+1]=temp;\n            i=-1;\n            \n        }\n   }while(i&lt;names.length-2);\nSystem.out.println(names[9]);\nSystem.out.println(&quot;Hello World!&quot;);\n} }\n</code></pre>\n"}],"owner":{"account_id":23814923,"reputation":1,"user_id":17823315,"display_name":"Komin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642103776,"creation_date":1642101497,"question_id":70701936,"body_markdown":"Just a little something i am trying to figure out, but can&#39;t quite put my finger on it. There is something wrong with my code as it is not working as intended and not sorting properly. While i know how to achieve this with for, i am having trouble with converting it to do while.\r\n\r\n    String[] names= {&quot;Kat&quot;,&quot;Bart&quot;,&quot;Adam&quot;,&quot;Tom&quot;,&quot;Marie&quot;,&quot;Alan&quot;,&quot;Ellie&quot;,&quot;Ziggy&quot;,&quot;Dan&quot;,&quot;Otto&quot;};\r\n        String temp=&quot;&quot;;\r\n        int i=0;\r\n        int j=0;\r\n            do{\r\n                if(names[i].compareToIgnoreCase(names[i+1])&gt;0){\r\n                    temp=names[i];\r\n                    names[i]=names[i+1];\r\n                    names[i+1]=temp;\r\n                    i=0;\r\n                    \r\n                }\r\n                i++;\r\n           }while(i&lt;names.length-1);\r\n        System.out.println(Arrays.toString(names));","title":"How can I sort an array using do while loop instead of for","body":"<p>Just a little something i am trying to figure out, but can't quite put my finger on it. There is something wrong with my code as it is not working as intended and not sorting properly. While i know how to achieve this with for, i am having trouble with converting it to do while.</p>\n<pre><code>String[] names= {&quot;Kat&quot;,&quot;Bart&quot;,&quot;Adam&quot;,&quot;Tom&quot;,&quot;Marie&quot;,&quot;Alan&quot;,&quot;Ellie&quot;,&quot;Ziggy&quot;,&quot;Dan&quot;,&quot;Otto&quot;};\n    String temp=&quot;&quot;;\n    int i=0;\n    int j=0;\n        do{\n            if(names[i].compareToIgnoreCase(names[i+1])&gt;0){\n                temp=names[i];\n                names[i]=names[i+1];\n                names[i+1]=temp;\n                i=0;\n                \n            }\n            i++;\n       }while(i&lt;names.length-1);\n    System.out.println(Arrays.toString(names));\n</code></pre>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":1,"creation_date":1281017815,"post_id":3415507,"comment_id":3554722,"body_markdown":"Why don&#39;t you create an Ant script and pass the full path to the ant build.xml to compile your java files?","body":"Why don&#39;t you create an Ant script and pass the full path to the ant build.xml to compile your java files?"}],"answers":[{"tags":[],"owner":{"account_id":24712,"reputation":65595,"user_id":63034,"accept_rate":57,"display_name":"mikej"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1281023390,"creation_date":1281023390,"answer_id":3416539,"question_id":3415507,"body_markdown":"I might be misunderstanding the question, but you can compile with\r\n\r\n    javac /home/MyJavaFile.java\r\n\r\nThis will create `MyJavaFile.class` in `/home`\r\n\r\nYou can then run it by including `/home` on the classpath. e.g.\r\n\r\n    java -cp /home MyJavaFile\r\n\r\nIf you want to generate the class file in a different directory then you can use the `-d` option to `javac`.","title":"How can I compile and run a Java class in a different directory?","body":"<p>I might be misunderstanding the question, but you can compile with</p>\n\n<pre><code>javac /home/MyJavaFile.java\n</code></pre>\n\n<p>This will create <code>MyJavaFile.class</code> in <code>/home</code></p>\n\n<p>You can then run it by including <code>/home</code> on the classpath. e.g.</p>\n\n<pre><code>java -cp /home MyJavaFile\n</code></pre>\n\n<p>If you want to generate the class file in a different directory then you can use the <code>-d</code> option to <code>javac</code>.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1281023951,"creation_date":1281023951,"answer_id":3416661,"question_id":3415507,"body_markdown":"Use the `-d` command line parameter with `javac` to tell it what directory you&#39;d like to store the compiled class files in.  Then, to run the program, simply include this directory in the classpath:\r\n\r\n    javac -d some/directory myjavafile.java\r\n    java -cp some/directory myjavafile","title":"How can I compile and run a Java class in a different directory?","body":"<p>Use the <code>-d</code> command line parameter with <code>javac</code> to tell it what directory you'd like to store the compiled class files in.  Then, to run the program, simply include this directory in the classpath:</p>\n\n<pre><code>javac -d some/directory myjavafile.java\njava -cp some/directory myjavafile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581295888,"creation_date":1581295888,"answer_id":60142809,"question_id":3415507,"body_markdown":"Just to add to the existing answers, you may want the `--source-path` flag:\r\n\r\n&gt;     --source-path &lt;path&gt;, -sourcepath &lt;path&gt;\r\n          Specify where to find input source files\r\n\r\nI believe this effectively sets the package root `javac` will compile from (i.e. `&lt;path&gt;` will be stripped from the expected package name of the files). It&#39;s still necessary to enumerate the files to compile, and this should still be relative to the current working directory, *not* the path passed to `--source-path`.\r\n\r\nFor example, to compile and run from a project&#39;s root where source is stored in `src/` and you want it build in `bin/`:\r\n\r\n```\r\n$ javac --source-path src -d bin src/mypackage/*.java\r\n$ java -cp bin mypackage.Main\r\n```\r\n\r\nThis works even from directories elsewhere in the filesystem, e.g.:\r\n\r\n```\r\n$ javac --source-path /some/absolute/path/src  -d /some/absolute/path/bin /some/absolute/path/\r\n$ java -cp /some/absolute/path/bin mypackage.Main\r\n```","title":"How can I compile and run a Java class in a different directory?","body":"<p>Just to add to the existing answers, you may want the <code>--source-path</code> flag:</p>\n\n<blockquote>\n<pre><code>--source-path &lt;path&gt;, -sourcepath &lt;path&gt;\n      Specify where to find input source files\n</code></pre>\n</blockquote>\n\n<p>I believe this effectively sets the package root <code>javac</code> will compile from (i.e. <code>&lt;path&gt;</code> will be stripped from the expected package name of the files). It's still necessary to enumerate the files to compile, and this should still be relative to the current working directory, <em>not</em> the path passed to <code>--source-path</code>.</p>\n\n<p>For example, to compile and run from a project's root where source is stored in <code>src/</code> and you want it build in <code>bin/</code>:</p>\n\n<pre><code>$ javac --source-path src -d bin src/mypackage/*.java\n$ java -cp bin mypackage.Main\n</code></pre>\n\n<p>This works even from directories elsewhere in the filesystem, e.g.:</p>\n\n<pre><code>$ javac --source-path /some/absolute/path/src  -d /some/absolute/path/bin /some/absolute/path/\n$ java -cp /some/absolute/path/bin mypackage.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7168713,"reputation":29,"user_id":5476964,"display_name":"VoidOfLimbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642103558,"creation_date":1642103558,"answer_id":70702342,"question_id":3415507,"body_markdown":"I am using VS Code and installed [java][1] and [code runner][2] extensions. When I created new java project using the extension, it was creating the .class file in src instead of bin. To solve the issue I opened settings.json file from File &gt; Preferences &gt; Settings and searched for &quot;settings&quot; (or &quot;code-runner&quot;). Then I added following lines in that file.\r\n\r\n    &quot;code-runner.executorMap&quot;: {\r\n        &quot;java&quot;: &quot;cd \\&quot;$workspaceRoot\\\\\\&quot; &amp;&amp; javac --source-path src -d bin src\\\\$fileName &amp;&amp; java -cp bin $fileNameWithoutExt&quot;,\r\n    }\r\n\r\nIf you don`t want to see the command that runs before code file then add these lines instead:\r\n\r\n    &quot;code-runner.clearPreviousOutput&quot;: true,\r\n    &quot;code-runner.showExecutionMessage&quot;: false,\r\n    &quot;code-runner.executorMap&quot;: {\r\n        &quot;java&quot;: &quot;there is &amp;&amp; clear added in the execution paramater&quot;\r\n        &quot;java&quot;: &quot;cd \\&quot;$workspaceRoot\\\\\\&quot; &amp;&amp; javac --source-path src -d bin src\\\\$fileName &amp;&amp; clear &amp;&amp; java -cp bin $fileNameWithoutExt&quot;,\r\n    }\r\nI hope this finds someone with similar issue.\r\n\r\n  [1]: https://code.visualstudio.com/docs/languages/java\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=CodeStream.codestream","title":"How can I compile and run a Java class in a different directory?","body":"<p>I am using VS Code and installed <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">java</a> and <a href=\"https://marketplace.visualstudio.com/items?itemName=CodeStream.codestream\" rel=\"nofollow noreferrer\">code runner</a> extensions. When I created new java project using the extension, it was creating the .class file in src instead of bin. To solve the issue I opened settings.json file from File &gt; Preferences &gt; Settings and searched for &quot;settings&quot; (or &quot;code-runner&quot;). Then I added following lines in that file.</p>\n<pre><code>&quot;code-runner.executorMap&quot;: {\n    &quot;java&quot;: &quot;cd \\&quot;$workspaceRoot\\\\\\&quot; &amp;&amp; javac --source-path src -d bin src\\\\$fileName &amp;&amp; java -cp bin $fileNameWithoutExt&quot;,\n}\n</code></pre>\n<p>If you don`t want to see the command that runs before code file then add these lines instead:</p>\n<pre><code>&quot;code-runner.clearPreviousOutput&quot;: true,\n&quot;code-runner.showExecutionMessage&quot;: false,\n&quot;code-runner.executorMap&quot;: {\n    &quot;java&quot;: &quot;there is &amp;&amp; clear added in the execution paramater&quot;\n    &quot;java&quot;: &quot;cd \\&quot;$workspaceRoot\\\\\\&quot; &amp;&amp; javac --source-path src -d bin src\\\\$fileName &amp;&amp; clear &amp;&amp; java -cp bin $fileNameWithoutExt&quot;,\n}\n</code></pre>\n<p>I hope this finds someone with similar issue.</p>\n"}],"owner":{"account_id":97554,"reputation":4812,"user_id":264565,"accept_rate":59,"display_name":"vette982"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83522,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":3416539,"answer_count":4,"score":40,"last_activity_date":1642103558,"creation_date":1281017442,"question_id":3415507,"body_markdown":"I&#39;m writing a makefile that compiles a `.java` file in a different directory, and then I want to run it, without changing directories. I want to do something along the lines of:\r\n\r\n    $(SQM_JAVA_TOOL_DONE) : $(SQM_JAVA_TOOL)\r\n            $(shell cd /home_dir)\r\n            javac myjavafile.java\r\n            java myjavafile\r\n\r\nwhere the Java file is `/home/myjavafile.java`, and the makefile isn&#39;t running from `/home`. \r\n\r\nHow can I do this?","title":"How can I compile and run a Java class in a different directory?","body":"<p>I'm writing a makefile that compiles a <code>.java</code> file in a different directory, and then I want to run it, without changing directories. I want to do something along the lines of:</p>\n\n<pre><code>$(SQM_JAVA_TOOL_DONE) : $(SQM_JAVA_TOOL)\n        $(shell cd /home_dir)\n        javac myjavafile.java\n        java myjavafile\n</code></pre>\n\n<p>where the Java file is <code>/home/myjavafile.java</code>, and the makefile isn't running from <code>/home</code>. </p>\n\n<p>How can I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1642084225,"post_id":70698273,"comment_id":124981970,"body_markdown":"seems fine, what is the question? What is not working?","body":"seems fine, what is the question? What is not working?"},{"owner":{"account_id":18111921,"reputation":1037,"user_id":13168911,"display_name":"Andrew Corrigan"},"score":1,"creation_date":1642084987,"post_id":70698273,"comment_id":124982324,"body_markdown":"Have you attempted to solve this? &quot;What am I doing wrong?&quot; is a better question to ask than &quot;Can you write my code please?&quot;","body":"Have you attempted to solve this? &quot;What am I doing wrong?&quot; is a better question to ask than &quot;Can you write my code please?&quot;"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642090748,"post_id":70698273,"comment_id":124984784,"body_markdown":"Javascript is not Java. Why do you tag your question with two entirely different programming languages?","body":"Javascript is not Java. Why do you tag your question with two entirely different programming languages?"}],"answers":[{"tags":[],"owner":{"account_id":23073129,"reputation":847,"user_id":17186475,"display_name":"human bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085520,"creation_date":1642085520,"answer_id":70698604,"question_id":70698273,"body_markdown":"Do you mean that you need a heads/tails *streak* counter? If that&#39;s the case, consider this code:\r\n\r\n    import java.util.*;\r\n    \r\n    public class CoinFlipper\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int headsCount = 0;\r\n            int tailsCount = 0;\r\n            int headsStreakCount = 0; //Counter for streak of heads\r\n            int tailsStreakCount = 0; //Counter for streak of tails\r\n            int highestHeadsStreak = 0; //The highest heads streak so far\r\n            int highestTailsStreak = 0; //The highest tails streak so far\r\n            int numFlips = 1000;\r\n\r\n            for (int i = 1; i &lt;= numFlips; i++)\r\n            {\r\n                Random rand = new Random();\r\n                System.out.println(&quot;Flip &quot; + i + &quot;: &quot;);\r\n                boolean flip = rand.nextBoolean();\r\n                if (flip)\r\n                {\r\n                    System.out.println(&quot;Heads&quot;);\r\n                    headsCount++;\r\n                    headsStreakCount++; //Increment the streak counter\r\n\r\n                    if (tailsStreakCount &gt; highestTailsStreak) //If this was highest streak so far\r\n                        highestTailsStreak = tailsStreakCount; //Store it\r\n                    tailsStreakCount = 0; //The other streak was broken\r\n                }\r\n                else\r\n                { \r\n                    System.out.println(&quot;Tails&quot;);\r\n                    tailsCount++;\r\n                    tailsStreakCount++; //Increment the streak counter\r\n\r\n                     if (headsStreakCount &gt; highestHeadsStreak) //If this was highest streak so far\r\n                        highestHeadsStreak = headsStreakCount; //Store it\r\n                    headsStreakCount = 0; //The other streak was broken\r\n                }\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;Number of Heads: &quot; + headsCount);\r\n            System.out.println(&quot;Number of Tails: &quot; + tailsCount);\r\n            System.out.println();\r\n            System.out.println(&quot;Longest Streak of Heads: &quot; + highestHeadsStreak);\r\n            System.out.println(&quot;Longest Streak of Tails: &quot; + highestTailsStreak);\r\n        }\r\n    }\r\n\r\nAlso, I believe you are programming in Java (not Javascript).","title":"Need to add a heads/tails streak counter for my code","body":"<p>Do you mean that you need a heads/tails <em>streak</em> counter? If that's the case, consider this code:</p>\n<pre><code>import java.util.*;\n\npublic class CoinFlipper\n{\n    public static void main(String[] args)\n    {\n        int headsCount = 0;\n        int tailsCount = 0;\n        int headsStreakCount = 0; //Counter for streak of heads\n        int tailsStreakCount = 0; //Counter for streak of tails\n        int highestHeadsStreak = 0; //The highest heads streak so far\n        int highestTailsStreak = 0; //The highest tails streak so far\n        int numFlips = 1000;\n\n        for (int i = 1; i &lt;= numFlips; i++)\n        {\n            Random rand = new Random();\n            System.out.println(&quot;Flip &quot; + i + &quot;: &quot;);\n            boolean flip = rand.nextBoolean();\n            if (flip)\n            {\n                System.out.println(&quot;Heads&quot;);\n                headsCount++;\n                headsStreakCount++; //Increment the streak counter\n\n                if (tailsStreakCount &gt; highestTailsStreak) //If this was highest streak so far\n                    highestTailsStreak = tailsStreakCount; //Store it\n                tailsStreakCount = 0; //The other streak was broken\n            }\n            else\n            { \n                System.out.println(&quot;Tails&quot;);\n                tailsCount++;\n                tailsStreakCount++; //Increment the streak counter\n\n                 if (headsStreakCount &gt; highestHeadsStreak) //If this was highest streak so far\n                    highestHeadsStreak = headsStreakCount; //Store it\n                headsStreakCount = 0; //The other streak was broken\n            }\n        }\n\n        System.out.println();\n        System.out.println(&quot;Number of Heads: &quot; + headsCount);\n        System.out.println(&quot;Number of Tails: &quot; + tailsCount);\n        System.out.println();\n        System.out.println(&quot;Longest Streak of Heads: &quot; + highestHeadsStreak);\n        System.out.println(&quot;Longest Streak of Tails: &quot; + highestTailsStreak);\n    }\n}\n</code></pre>\n<p>Also, I believe you are programming in Java (not Javascript).</p>\n"}],"owner":{"account_id":23930403,"reputation":1,"user_id":17924975,"display_name":"Savagemonkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642103551,"creation_date":1642084102,"question_id":70698273,"body_markdown":"This code flips an imaginary coin a thousand times and tallies the total number of heads or tails. \r\n\r\n    import java.util.*;\r\n    public class CoinFlipper {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\r\n    \t\tint headsCount = 0;\r\n    \t\tint tailsCount = 0;\r\n    \t\tint numFlips = 1000;\r\n    \t\tfor (int i = 1; i &lt;= numFlips; i++) {\r\n    \t\t\t\r\n    \t\t\tRandom rand = new Random();\r\n    \t\t\tSystem.out.println(&quot;Flip &quot; + i + &quot;: &quot;);\r\n    \t\t\tboolean flip = rand.nextBoolean();\r\n    \t\t\tif (flip) {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Heads&quot;);\r\n    \t\t\t\theadsCount++;\r\n    \t\t\t}else { \r\n    \t\t\t\tSystem.out.println(&quot;Tails&quot;);\r\n    \t\t\t\ttailsCount++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Number of Heads: &quot; + headsCount);\r\n    \t\tSystem.out.println(&quot;Number of Tails: &quot; + tailsCount);\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Longest Streak of Heads: &quot;);\r\n    \t\tSystem.out.println(&quot;Longest Streak of Tails: &quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nHowever, I also need to figure out the longest streak of heads or tails results (i.e. &quot;Heads, Heads, tails, heads, heads, heads&quot; would have a longest streak of 3).\r\n\r\nHow would I go about keeping track of the longest streak?","title":"Need to add a heads/tails streak counter for my code","body":"<p>This code flips an imaginary coin a thousand times and tallies the total number of heads or tails.</p>\n<pre><code>import java.util.*;\npublic class CoinFlipper {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    \n        int headsCount = 0;\n        int tailsCount = 0;\n        int numFlips = 1000;\n        for (int i = 1; i &lt;= numFlips; i++) {\n            \n            Random rand = new Random();\n            System.out.println(&quot;Flip &quot; + i + &quot;: &quot;);\n            boolean flip = rand.nextBoolean();\n            if (flip) {\n                \n                System.out.println(&quot;Heads&quot;);\n                headsCount++;\n            }else { \n                System.out.println(&quot;Tails&quot;);\n                tailsCount++;\n            }\n            \n        }\n        \n        System.out.println();\n        System.out.println(&quot;Number of Heads: &quot; + headsCount);\n        System.out.println(&quot;Number of Tails: &quot; + tailsCount);\n        System.out.println();\n        System.out.println(&quot;Longest Streak of Heads: &quot;);\n        System.out.println(&quot;Longest Streak of Tails: &quot;);\n    }\n\n}\n</code></pre>\n<p>However, I also need to figure out the longest streak of heads or tails results (i.e. &quot;Heads, Heads, tails, heads, heads, heads&quot; would have a longest streak of 3).</p>\n<p>How would I go about keeping track of the longest streak?</p>\n"},{"tags":["java","apache-zookeeper","sequences"],"comments":[{"owner":{"display_name":"user84609"},"score":0,"creation_date":1302949451,"post_id":2671858,"comment_id":6493358,"body_markdown":"This question is old, but pls see my new answer http://stackoverflow.com/questions/2671858/distributed-sequence-number-generation/5685869#5685869","body":"This question is old, but pls see my new answer <a href=\"http://stackoverflow.com/questions/2671858/distributed-sequence-number-generation/5685869#5685869\" title=\"distributed sequence number generation\">stackoverflow.com/questions/2671858/&hellip;</a>"},{"owner":{"account_id":3527550,"reputation":14141,"user_id":2948212,"accept_rate":56,"display_name":"diegosasw"},"score":0,"creation_date":1542666423,"post_id":2671858,"comment_id":93643035,"body_markdown":"How do you use nextval.org? The website is a bit strange and I don&#39;t know what&#39;s about. Is it some Unix command? Or some cloud service?","body":"How do you use nextval.org? The website is a bit strange and I don&#39;t know what&#39;s about. Is it some Unix command? Or some cloud service?"}],"answers":[{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1271725714,"creation_date":1271725714,"answer_id":2671912,"question_id":2671858,"body_markdown":"You could have each node have a unique ID (which you may have anyway) and then prepend that to the sequence number.\r\n\r\nFor example, node 1 generates sequence 001-00001 001-00002 001-00003 etc. and node 5 generates 005-00001 005-00002\r\n\r\nUnique :-)\r\n\r\n\r\nAlternately if you want some sort of a centralized system, you could consider having your sequence server give out in blocks.  This reduces the overhead significantly.  For example, instead of requesting a new ID from the central server for each ID that must be assigned, you request IDs in blocks of 10,000 from the central server and then only have to do another network request when you run out.","title":"Distributed sequence number generation?","body":"<p>You could have each node have a unique ID (which you may have anyway) and then prepend that to the sequence number.</p>\n\n<p>For example, node 1 generates sequence 001-00001 001-00002 001-00003 etc. and node 5 generates 005-00001 005-00002</p>\n\n<p>Unique :-)</p>\n\n<p>Alternately if you want some sort of a centralized system, you could consider having your sequence server give out in blocks.  This reduces the overhead significantly.  For example, instead of requesting a new ID from the central server for each ID that must be assigned, you request IDs in blocks of 10,000 from the central server and then only have to do another network request when you run out.</p>\n"},{"tags":[],"owner":{"account_id":606057,"reputation":59,"user_id":320895,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1271733404,"creation_date":1271726459,"answer_id":2671957,"question_id":2671858,"body_markdown":"Why not use a (thread safe) UUID generator?\r\n\r\nI should probably expand on this.\r\n\r\nUUIDs are guaranteed to be globally unique (if you avoid the ones based on random numbers, where the uniqueness is just highly probable).\r\n\r\nYour &quot;distributed&quot; requirement is met, regardless of how many UUID generators you use, by the global uniqueness of each UUID.\r\n\r\nYour &quot;thread safe&quot; requirement can be met by choosing &quot;thread safe&quot; UUID generators. \r\n\r\nYour &quot;sequence number&quot; requirement is assumed to be met by the guaranteed global uniqueness of each UUID.\r\n\r\nNote that many database sequence number implementations (e.g. Oracle) do not guarantee either monotonically increasing, or (even) increasing sequence numbers (on a per &quot;connection&quot; basis).  This is because a consecutive batch of sequence numbers gets allocated in &quot;cached&quot; blocks on a per connection basis.  This guarantees global uniqueness *and* maintains adequate speed.  But the sequence numbers actually allocated (over time) can be jumbled when there are being allocated by multiple connections!\r\n","title":"Distributed sequence number generation?","body":"<p>Why not use a (thread safe) UUID generator?</p>\n\n<p>I should probably expand on this.</p>\n\n<p>UUIDs are guaranteed to be globally unique (if you avoid the ones based on random numbers, where the uniqueness is just highly probable).</p>\n\n<p>Your \"distributed\" requirement is met, regardless of how many UUID generators you use, by the global uniqueness of each UUID.</p>\n\n<p>Your \"thread safe\" requirement can be met by choosing \"thread safe\" UUID generators. </p>\n\n<p>Your \"sequence number\" requirement is assumed to be met by the guaranteed global uniqueness of each UUID.</p>\n\n<p>Note that many database sequence number implementations (e.g. Oracle) do not guarantee either monotonically increasing, or (even) increasing sequence numbers (on a per \"connection\" basis).  This is because a consecutive batch of sequence numbers gets allocated in \"cached\" blocks on a per connection basis.  This guarantees global uniqueness <em>and</em> maintains adequate speed.  But the sequence numbers actually allocated (over time) can be jumbled when there are being allocated by multiple connections!</p>\n"},{"tags":[],"owner":{"account_id":13660,"reputation":5751,"user_id":27579,"accept_rate":67,"display_name":"wsorenson"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1271726555,"creation_date":1271726555,"answer_id":2671961,"question_id":2671858,"body_markdown":"If it really has to be globally sequential, and not simply unique, then I would consider creating a single, simple service for dispensing these numbers. \r\n\r\nDistributed systems rely on lots of little services interacting, and for this simple kind of task, do you really need or would you really benefit from some other complex, distributed solution?","title":"Distributed sequence number generation?","body":"<p>If it really has to be globally sequential, and not simply unique, then I would consider creating a single, simple service for dispensing these numbers. </p>\n\n<p>Distributed systems rely on lots of little services interacting, and for this simple kind of task, do you really need or would you really benefit from some other complex, distributed solution?</p>\n"},{"tags":[],"owner":{"account_id":6849,"reputation":60850,"user_id":11649,"accept_rate":50,"display_name":"Javier"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343312325,"creation_date":1271726887,"answer_id":2671977,"question_id":2671858,"body_markdown":"There are a few strategies; but none that i know can be really distributed and give a real sequence.\r\n\r\n 1. have a central number generator.  it doesn&#39;t have to be a big database.  `memcached` has a fast atomic counter, in the vast majority of cases it&#39;s fast enough for your entire cluster.\r\n 1. separate an integer range for each node (like [Steven Schlanskter&#39;s answer][1])\r\n 1. use random numbers or UUIDs\r\n 1. use some piece of data, together with the node&#39;s ID, and hash it all (or [hmac][2] it)\r\n\r\npersonally, i&#39;d lean to UUIDs, or memcached if i want to have a mostly-contiguous space.\r\n\r\n\r\n[1]:https://stackoverflow.com/questions/2671858/distributed-sequence-number-generation/2671912#2671912\r\n[2]:http://en.wikipedia.org/wiki/HMAC","title":"Distributed sequence number generation?","body":"<p>There are a few strategies; but none that i know can be really distributed and give a real sequence.</p>\n\n<ol>\n<li>have a central number generator.  it doesn't have to be a big database.  <code>memcached</code> has a fast atomic counter, in the vast majority of cases it's fast enough for your entire cluster.</li>\n<li>separate an integer range for each node (like <a href=\"https://stackoverflow.com/questions/2671858/distributed-sequence-number-generation/2671912#2671912\">Steven Schlanskter's answer</a>)</li>\n<li>use random numbers or UUIDs</li>\n<li>use some piece of data, together with the node's ID, and hash it all (or <a href=\"http://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">hmac</a> it)</li>\n</ol>\n\n<p>personally, i'd lean to UUIDs, or memcached if i want to have a mostly-contiguous space.</p>\n"},{"tags":[],"owner":{"account_id":68397,"reputation":1493,"user_id":199571,"display_name":"Paolo"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1568677649,"creation_date":1286219625,"answer_id":3858354,"question_id":2671858,"body_markdown":"Now there are more options.\r\n\r\nThough this question is &quot;old&quot;, I got here, so I think it might be useful to leave the options I know of (so far):\r\n\r\n - You could try [Hazelcast][1]. In it&#39;s 1.9 release it includes a Distributed implementation of java.util.concurrent.AtomicLong\r\n - You can also use [Zookeeper][2]. It provides methods for creating sequence nodes (appended to znode names, though I prefer using version numbers of the nodes). Be careful with this one though: if you don&#39;t want missed numbers in your sequence, it may not be what you want.\r\n\r\nCheers\r\n\r\n\r\n  [1]: http://www.hazelcast.com\r\n  [2]: http://hadoop.apache.org/zookeeper/","title":"Distributed sequence number generation?","body":"<p>Now there are more options.</p>\n\n<p>Though this question is \"old\", I got here, so I think it might be useful to leave the options I know of (so far):</p>\n\n<ul>\n<li>You could try <a href=\"http://www.hazelcast.com\" rel=\"nofollow noreferrer\">Hazelcast</a>. In it's 1.9 release it includes a Distributed implementation of java.util.concurrent.AtomicLong</li>\n<li>You can also use <a href=\"http://hadoop.apache.org/zookeeper/\" rel=\"nofollow noreferrer\">Zookeeper</a>. It provides methods for creating sequence nodes (appended to znode names, though I prefer using version numbers of the nodes). Be careful with this one though: if you don't want missed numbers in your sequence, it may not be what you want.</li>\n</ul>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"display_name":"user84609"},"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1392764054,"creation_date":1302949289,"answer_id":5685869,"question_id":2671858,"body_markdown":"**OK, this is a very old question, which I&#39;m first seeing now.**\r\n\r\nYou&#39;ll need to differentiate between **sequence numbers** and **unique IDs** that are (optionally) loosely sortable by a specific criteria (typically generation time). True sequence numbers imply knowledge of what all other workers have done, and as such require shared state. There is no easy way of doing this in a distributed, high-scale manner. You could look into things like network broadcasts, windowed ranges for each worker, and [distributed hash tables for unique worker IDs][1], but it&#39;s a lot of work.\r\n\r\n**Unique IDs are another matter, there are several good ways of generating unique IDs in a decentralized manner:**\r\n\r\n**a) You could use [Twitter&#39;s Snowflake ID network service][2].** Snowflake is a:\r\n\r\n - Networked service, i.e. you make a network call to get a unique ID;\r\n - which produces 64 bit unique IDs that are ordered by generation time;\r\n - and the service is highly scalable and (potentially) highly available; each instance can generate many thousand IDs per second, and you can run multiple instances on your LAN/WAN;\r\n - written in Scala, runs on the JVM.\r\n\r\n\r\nb) You could generate the unique IDs on the clients themselves, using an **approach derived from [how UUIDs][3] and Snowflake&#39;s IDs are made.** There are multiple options, but something along the lines of:\r\n\r\n - The most significant 40 or so bits: **A timestamp;** the generation time of the ID. (We&#39;re using the most significant bits for the timestamp to make IDs sort-able by generation time.)\r\n\r\n - The next 14 or so bits: **A per-generator counter,** which each generator increments by one for each new ID generated. This ensures that IDs generated at the same moment (same timestamps) do not overlap.\r\n\r\n - The last 10 or so bits: **A unique value for each generator.** Using this, we don&#39;t need to do any synchronization between generators (which is extremely hard), as all generators produce non-overlapping IDs because of this value.\r\n\r\nc) You could generate the IDs on the clients, using just a **timestamp and random value.** This avoids the need to know all generators, and assign each generator a unique value. On the flip side, such IDs are not *guaranteed* to be globally unique, they&#39;re only *very highly likely* to be unique. (To collide, one or more generators would have to create the same random value at the exact same time.) Something along the lines of:\r\n\r\n - The most significant 32 bits: **Timestamp,** the generation time of the ID.\r\n - The least significant 32 bits: **32-bits of randomness,** generated anew for each ID.\r\n\r\nd) The easy way out, [use UUIDs / GUIDs][4].\r\n\r\n\r\n  [1]: http://horicky.blogspot.com/2007/11/distributed-uuid-generation.html\r\n  [2]: https://blog.twitter.com/2010/announcing-snowflake\r\n  [3]: http://en.wikipedia.org/wiki/Universally_Unique_Identifier\r\n  [4]: http://en.wikipedia.org/wiki/Universally_Unique_Identifier","title":"Distributed sequence number generation?","body":"<p><strong>OK, this is a very old question, which I'm first seeing now.</strong></p>\n\n<p>You'll need to differentiate between <strong>sequence numbers</strong> and <strong>unique IDs</strong> that are (optionally) loosely sortable by a specific criteria (typically generation time). True sequence numbers imply knowledge of what all other workers have done, and as such require shared state. There is no easy way of doing this in a distributed, high-scale manner. You could look into things like network broadcasts, windowed ranges for each worker, and <a href=\"http://horicky.blogspot.com/2007/11/distributed-uuid-generation.html\" rel=\"noreferrer\">distributed hash tables for unique worker IDs</a>, but it's a lot of work.</p>\n\n<p><strong>Unique IDs are another matter, there are several good ways of generating unique IDs in a decentralized manner:</strong></p>\n\n<p><strong>a) You could use <a href=\"https://blog.twitter.com/2010/announcing-snowflake\" rel=\"noreferrer\">Twitter's Snowflake ID network service</a>.</strong> Snowflake is a:</p>\n\n<ul>\n<li>Networked service, i.e. you make a network call to get a unique ID;</li>\n<li>which produces 64 bit unique IDs that are ordered by generation time;</li>\n<li>and the service is highly scalable and (potentially) highly available; each instance can generate many thousand IDs per second, and you can run multiple instances on your LAN/WAN;</li>\n<li>written in Scala, runs on the JVM.</li>\n</ul>\n\n<p>b) You could generate the unique IDs on the clients themselves, using an <strong>approach derived from <a href=\"http://en.wikipedia.org/wiki/Universally_Unique_Identifier\" rel=\"noreferrer\">how UUIDs</a> and Snowflake's IDs are made.</strong> There are multiple options, but something along the lines of:</p>\n\n<ul>\n<li><p>The most significant 40 or so bits: <strong>A timestamp;</strong> the generation time of the ID. (We're using the most significant bits for the timestamp to make IDs sort-able by generation time.)</p></li>\n<li><p>The next 14 or so bits: <strong>A per-generator counter,</strong> which each generator increments by one for each new ID generated. This ensures that IDs generated at the same moment (same timestamps) do not overlap.</p></li>\n<li><p>The last 10 or so bits: <strong>A unique value for each generator.</strong> Using this, we don't need to do any synchronization between generators (which is extremely hard), as all generators produce non-overlapping IDs because of this value.</p></li>\n</ul>\n\n<p>c) You could generate the IDs on the clients, using just a <strong>timestamp and random value.</strong> This avoids the need to know all generators, and assign each generator a unique value. On the flip side, such IDs are not <em>guaranteed</em> to be globally unique, they're only <em>very highly likely</em> to be unique. (To collide, one or more generators would have to create the same random value at the exact same time.) Something along the lines of:</p>\n\n<ul>\n<li>The most significant 32 bits: <strong>Timestamp,</strong> the generation time of the ID.</li>\n<li>The least significant 32 bits: <strong>32-bits of randomness,</strong> generated anew for each ID.</li>\n</ul>\n\n<p>d) The easy way out, <a href=\"http://en.wikipedia.org/wiki/Universally_Unique_Identifier\" rel=\"noreferrer\">use UUIDs / GUIDs</a>.</p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1489949769,"creation_date":1389509761,"answer_id":21072120,"question_id":2671858,"body_markdown":"It can be done with [Redisson][1]. It implements distributed and scalable version of `AtomicLong`. Here is example:\r\n\r\n    Config config = new Config();\r\n    config.addAddress(&quot;some.server.com:8291&quot;);\r\n\r\n    Redisson redisson = Redisson.create(config);\r\n    RAtomicLong atomicLong = redisson.getAtomicLong(&quot;anyAtomicLong&quot;);\r\n    atomicLong.incrementAndGet();\r\n\r\n  [1]: https://redisson.org","title":"Distributed sequence number generation?","body":"<p>It can be done with <a href=\"https://redisson.org\" rel=\"noreferrer\">Redisson</a>. It implements distributed and scalable version of <code>AtomicLong</code>. Here is example:</p>\n\n<pre><code>Config config = new Config();\nconfig.addAddress(\"some.server.com:8291\");\n\nRedisson redisson = Redisson.create(config);\nRAtomicLong atomicLong = redisson.getAtomicLong(\"anyAtomicLong\");\natomicLong.incrementAndGet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405321533,"creation_date":1405321533,"answer_id":24731208,"question_id":2671858,"body_markdown":"I have written a simple service which can generate semi-unique non-sequential 64 bit long numbers. It can be deployed on multiple machines for redundancy and scalability. It use ZeroMQ for messaging. For more information on how it works look at github page: [zUID][1]\r\n\r\n\r\n  [1]: https://github.com/majidazimi/zUID","title":"Distributed sequence number generation?","body":"<p>I have written a simple service which can generate semi-unique non-sequential 64 bit long numbers. It can be deployed on multiple machines for redundancy and scalability. It use ZeroMQ for messaging. For more information on how it works look at github page: <a href=\"https://github.com/majidazimi/zUID\" rel=\"nofollow\">zUID</a></p>\n"},{"tags":[],"owner":{"account_id":2413735,"reputation":401,"user_id":2108278,"accept_rate":31,"display_name":"user2108278"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480065500,"creation_date":1480065500,"answer_id":40801378,"question_id":2671858,"body_markdown":"Using a database you can reach 1.000+ increments per second with a single core. It is pretty easy. You can use its own database as backend to generate that number (as it should be its own aggregate, in DDD terms). \r\n\r\nI had what seems a similar problem. I had several partitions and I wanted to get an offset counter for each one. I implemented something like this:\r\n\r\n    CREATE DATABASE example;\r\n    USE example;\r\n    CREATE TABLE offsets (partition INTEGER, offset LONG, PRIMARY KEY (partition));\r\n    INSERT offsets VALUES (1,0);\r\n\r\nThen executed the following statement:\r\n\r\n    SELECT @offset := offset from offsets WHERE partition=1 FOR UPDATE;\r\n    UPDATE offsets set offset=@offset+1 WHERE partition=1;\r\n\r\nIf your application allows you, you can allocate a block at once (that was my case). \r\n\r\n    SELECT @offset := offset from offsets WHERE partition=1 FOR UPDATE;\r\n    UPDATE offsets set offset=@offset+100 WHERE partition=1;\r\n\r\nIf you need further throughput an cannot allocate offsets in advance you can implement your own service using Flink for real time processing. I was able to get around 100K increments per partition.\r\n\r\nHope it helps!\r\n","title":"Distributed sequence number generation?","body":"<p>Using a database you can reach 1.000+ increments per second with a single core. It is pretty easy. You can use its own database as backend to generate that number (as it should be its own aggregate, in DDD terms). </p>\n\n<p>I had what seems a similar problem. I had several partitions and I wanted to get an offset counter for each one. I implemented something like this:</p>\n\n<pre><code>CREATE DATABASE example;\nUSE example;\nCREATE TABLE offsets (partition INTEGER, offset LONG, PRIMARY KEY (partition));\nINSERT offsets VALUES (1,0);\n</code></pre>\n\n<p>Then executed the following statement:</p>\n\n<pre><code>SELECT @offset := offset from offsets WHERE partition=1 FOR UPDATE;\nUPDATE offsets set offset=@offset+1 WHERE partition=1;\n</code></pre>\n\n<p>If your application allows you, you can allocate a block at once (that was my case). </p>\n\n<pre><code>SELECT @offset := offset from offsets WHERE partition=1 FOR UPDATE;\nUPDATE offsets set offset=@offset+100 WHERE partition=1;\n</code></pre>\n\n<p>If you need further throughput an cannot allocate offsets in advance you can implement your own service using Flink for real time processing. I was able to get around 100K increments per partition.</p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491385838,"creation_date":1491385838,"answer_id":43227684,"question_id":2671858,"body_markdown":"Distributed ID generation can be archived with Redis and Lua. The implementation available in [Github][1]. It produces a distributed and k-sortable unique ids.\r\n\r\n\r\n  [1]: https://github.com/intenthq/icicle","title":"Distributed sequence number generation?","body":"<p>Distributed ID generation can be archived with Redis and Lua. The implementation available in <a href=\"https://github.com/intenthq/icicle\" rel=\"nofollow noreferrer\">Github</a>. It produces a distributed and k-sortable unique ids.</p>\n"},{"tags":[],"owner":{"account_id":2090215,"reputation":11,"user_id":1860223,"display_name":"user1860223"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503460492,"creation_date":1503460492,"answer_id":45830388,"question_id":2671858,"body_markdown":"The problem is similar to:\r\nIn iscsi world, where each luns/volumes have to be uniquely identifiable by the initiators running on the client side.\r\nThe iscsi standard says that the first few bits have to represent the Storage provider/manufacturer information, and the rest monotonically increasing.\r\n\r\nSimilarly, one can use the initial bits in the distributed system of nodes to represent the nodeID and the rest can be monotonically increasing.","title":"Distributed sequence number generation?","body":"<p>The problem is similar to:\nIn iscsi world, where each luns/volumes have to be uniquely identifiable by the initiators running on the client side.\nThe iscsi standard says that the first few bits have to represent the Storage provider/manufacturer information, and the rest monotonically increasing.</p>\n\n<p>Similarly, one can use the initial bits in the distributed system of nodes to represent the nodeID and the rest can be monotonically increasing.</p>\n"},{"tags":[],"owner":{"account_id":3430151,"reputation":21,"user_id":2874832,"display_name":"refuess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522157460,"creation_date":1522038298,"answer_id":49483961,"question_id":2671858,"body_markdown":"One solution that is decent is to use a long time based generation.\r\nIt can be done with the backing of a distributed database. ","title":"Distributed sequence number generation?","body":"<p>One solution that is decent is to use a long time based generation.\nIt can be done with the backing of a distributed database. </p>\n"},{"tags":[],"owner":{"account_id":6951015,"reputation":328,"user_id":5333643,"display_name":"Zohair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536341505,"creation_date":1522215389,"answer_id":49526850,"question_id":2671858,"body_markdown":"I know this is an old question but we were also facing the same need and was unable to find the solution that fulfills our need.\r\nOur requirement was to get a unique sequence (0,1,2,3...n) of ids and hence snowflake did not help.\r\nWe created our own system to generate the ids using Redis. Redis is single threaded hence its list/queue mechanism would always give us 1 pop at a time.\r\n\r\nWhat we do is, We create a buffer of ids, Initially, the queue will have 0 to 20 ids that are ready to be dispatched when requested. Multiple clients can request an id and redis will pop 1 id at a time, After every pop from left, we insert BUFFER + currentId to the right, Which keeps the buffer list going. Implementation [here][1]\r\n\r\n\r\n  [1]: https://github.com/zohairshaikh/unique_sequential_id_generator/blob/master/python/generator.py","title":"Distributed sequence number generation?","body":"<p>I know this is an old question but we were also facing the same need and was unable to find the solution that fulfills our need.\nOur requirement was to get a unique sequence (0,1,2,3...n) of ids and hence snowflake did not help.\nWe created our own system to generate the ids using Redis. Redis is single threaded hence its list/queue mechanism would always give us 1 pop at a time.</p>\n\n<p>What we do is, We create a buffer of ids, Initially, the queue will have 0 to 20 ids that are ready to be dispatched when requested. Multiple clients can request an id and redis will pop 1 id at a time, After every pop from left, we insert BUFFER + currentId to the right, Which keeps the buffer list going. Implementation <a href=\"https://github.com/zohairshaikh/unique_sequential_id_generator/blob/master/python/generator.py\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2157526,"reputation":1239,"user_id":1912391,"accept_rate":22,"display_name":"ZAky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642103448,"creation_date":1642103448,"answer_id":70702318,"question_id":2671858,"body_markdown":"My two cents for gcloud. Using storage file.\r\n\r\nImplemented as cloud function, can easily be converted to a library.\r\n\r\nhttps://github.com/zaky/sequential-counter\r\n\r\n","title":"Distributed sequence number generation?","body":"<p>My two cents for gcloud. Using storage file.</p>\n<p>Implemented as cloud function, can easily be converted to a library.</p>\n<p><a href=\"https://github.com/zaky/sequential-counter\" rel=\"nofollow noreferrer\">https://github.com/zaky/sequential-counter</a></p>\n"}],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92394,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"answer_count":14,"score":125,"last_activity_date":1642103448,"creation_date":1271724770,"question_id":2671858,"body_markdown":"I&#39;ve generally implemented **sequence number generation** using database sequences in the past.\r\n\r\ne.g. Using Postgres SERIAL type [http://www.neilconway.org/docs/sequences/][1]\r\n\r\nI&#39;m curious though as how to generate sequence numbers for large distributed systems where there is no database.  Does anybody have any experience or suggestions of a best practice for achieving sequence number generation in a **thread safe** manner for multiple clients?\r\n\r\n\r\n  [1]: http://www.neilconway.org/docs/sequences/","title":"Distributed sequence number generation?","body":"<p>I've generally implemented <strong>sequence number generation</strong> using database sequences in the past.</p>\n\n<p>e.g. Using Postgres SERIAL type <a href=\"http://www.neilconway.org/docs/sequences/\" rel=\"noreferrer\">http://www.neilconway.org/docs/sequences/</a></p>\n\n<p>I'm curious though as how to generate sequence numbers for large distributed systems where there is no database.  Does anybody have any experience or suggestions of a best practice for achieving sequence number generation in a <strong>thread safe</strong> manner for multiple clients?</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1547015529,"post_id":54098193,"comment_id":95041005,"body_markdown":"When running your client module is the service-implementation module on the modulepath?","body":"When running your client module is the service-implementation module on the modulepath?"},{"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"score":0,"creation_date":1576654129,"post_id":54098193,"comment_id":104965296,"body_markdown":"Did you ever figure out a solution? I&#39;m facing the same exact issue here: https://stackoverflow.com/q/59369028/2130408","body":"Did you ever figure out a solution? I&#39;m facing the same exact issue here: <a href=\"https://stackoverflow.com/q/59369028/2130408\">stackoverflow.com/q/59369028/2130408</a>"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1622544058,"post_id":54098193,"comment_id":119816651,"body_markdown":"It seems you did not &quot;expose&quot; the service interface via `uses` in the service module but instead in the client module, which should only declare is `requires` need on the service module. See [this blog post about Java 9 services and service providers](https://www.logicbig.com/tutorials/core-java-tutorial/modules/services.html)","body":"It seems you did not &quot;expose&quot; the service interface via <code>uses</code> in the service module but instead in the client module, which should only declare is <code>requires</code> need on the service module. See <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/modules/services.html\" rel=\"nofollow noreferrer\">this blog post about Java 9 services and service providers</a>"}],"answers":[{"tags":[],"owner":{"account_id":1813137,"reputation":1,"user_id":1648805,"display_name":"Vikas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1622542051,"creation_date":1622542051,"answer_id":67786841,"question_id":54098193,"body_markdown":"Add annotation @AutoService(EmployeeService.class) in EmployeeServiceImpl class\r\nlike \r\n\r\n@AutoService(EmployeeService.class)\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n   \r\n  .....","title":"ServiceLoader not loading implementation from module","body":"<p>Add annotation @AutoService(EmployeeService.class) in EmployeeServiceImpl class\nlike</p>\n<p>@AutoService(EmployeeService.class)\npublic class EmployeeServiceImpl implements EmployeeService {</p>\n<p>.....</p>\n"},{"tags":[],"owner":{"account_id":18916379,"reputation":29,"user_id":13801353,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642103170,"creation_date":1642103170,"answer_id":70702262,"question_id":54098193,"body_markdown":"Just had the same problem as described here. The problem was that the dependency of the Provider (here: EmployeeServiceImpl.java) was missing for the Consumer (here: EmployeeServiceTest). &lt;br&gt;\r\nEasiest solution in IntelliJ would be to add:\r\n```java\r\nrequires Provider\r\n```\r\nto the Consumer. Then just:&lt;br&gt;\r\nright click -&gt; add dependency&lt;br&gt;\r\nAfter that the you can remove the requires of Provider and\r\n```java\r\nSystem.out.println(loader.iterator().hasNext());\r\n```\r\nshould print true","title":"ServiceLoader not loading implementation from module","body":"<p>Just had the same problem as described here. The problem was that the dependency of the Provider (here: EmployeeServiceImpl.java) was missing for the Consumer (here: EmployeeServiceTest). <br>\nEasiest solution in IntelliJ would be to add:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires Provider\n</code></pre>\n<p>to the Consumer. Then just:<br>\nright click -&gt; add dependency<br>\nAfter that the you can remove the requires of Provider and</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(loader.iterator().hasNext());\n</code></pre>\n<p>should print true</p>\n"}],"owner":{"account_id":7508290,"reputation":327,"user_id":5704156,"accept_rate":41,"display_name":"Sebastian Ampuero Morisaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642103170,"creation_date":1546974620,"question_id":54098193,"body_markdown":"I have a java program that consists of 3 modules: a module containing the service as an interface, a module containing the implementation of that interface and a module containing the client that uses the implementation. The problem is, in the client module Im using `ServiceLoader` to load the Service but the `ServiceLoader` instance has no services in it. \r\n&lt;img src=&quot;https://i.stack.imgur.com/DBDju.png&quot;&gt;\r\n\r\n\r\nI tried using the keywords `provides ... with` in the `module-info.java` file in the implementation module and `uses` in the client module like this tutorial describes: https://dzone.com/articles/java-9-kickoff-project-jigsaw-and-serviceloader-part-2\r\n\r\n**module-info.java** from service module\r\n\r\n    module com.em.common {\r\n    \texports com.em.common.model;\r\n    }\r\n\r\n\r\n**module-info.java** from implementation module\r\n\r\n\r\n    module com.em.implementation {\r\n    \trequires com.em.common;\r\n    \tprovides com.em.common.model.EmployeeService with com.em.implementation.employee.EmployeeServiceImpl;\r\n    }\r\n\r\n\r\n**module-info.java** from client module\r\n\r\n    module com.em.client {\r\n    \trequires com.em.common;\r\n    \tuses com.em.common.model.EmployeeService;\r\n    }\r\n\r\n\r\n**EmployeeServiceImpl.java**\r\n\r\n    package com.em.implementation.employee;\r\n    \r\n    import com.em.common.model.Employee;\r\n    import com.em.common.model.EmployeeService;\r\n    \r\n    public class EmployeeServiceImpl implements EmployeeService {\r\n    \r\n    \tpublic EmployeeServiceImpl() {\r\n    \t\tSystem.out.println(&quot;creating employee&quot;);\r\n    \t}\r\n    \r\n    \tpublic Employee getEmployee(String firstName, String lastName) {\r\n    \r\n    \t\tEmployee employee = new Employee();\r\n    \t\temployee.setFirstName(firstName);\r\n    \t\temployee.setLastName(lastName);\r\n    \t\temployee.setDesignation(&quot;Unimportant Things Designer&quot;);\r\n    \r\n    \t\treturn employee;\r\n    \t}\r\n    }\r\n\r\n**EmployeeServiceTest.java**\r\n\r\n    package com.em.client.employee;\r\n    \r\n    import java.util.ServiceLoader;\r\n    \r\n    import com.em.common.model.EmployeeService;\r\n    \r\n    public class EmployeeServiceTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tServiceLoader&lt;EmployeeService&gt; loader = ServiceLoader.load(EmployeeService.class);\r\n    \t\t\r\n    \t\tSystem.out.println(loader.iterator().hasNext());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThe `System.out.println(loader.iterator().hasNext());` prints `false` when expected is `true`. What is missing there? \r\n\r\n","title":"ServiceLoader not loading implementation from module","body":"<p>I have a java program that consists of 3 modules: a module containing the service as an interface, a module containing the implementation of that interface and a module containing the client that uses the implementation. The problem is, in the client module Im using <code>ServiceLoader</code> to load the Service but the <code>ServiceLoader</code> instance has no services in it. \n<img src=\"https://i.stack.imgur.com/DBDju.png\"></p>\n\n<p>I tried using the keywords <code>provides ... with</code> in the <code>module-info.java</code> file in the implementation module and <code>uses</code> in the client module like this tutorial describes: <a href=\"https://dzone.com/articles/java-9-kickoff-project-jigsaw-and-serviceloader-part-2\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-9-kickoff-project-jigsaw-and-serviceloader-part-2</a></p>\n\n<p><strong>module-info.java</strong> from service module</p>\n\n<pre><code>module com.em.common {\n    exports com.em.common.model;\n}\n</code></pre>\n\n<p><strong>module-info.java</strong> from implementation module</p>\n\n<pre><code>module com.em.implementation {\n    requires com.em.common;\n    provides com.em.common.model.EmployeeService with com.em.implementation.employee.EmployeeServiceImpl;\n}\n</code></pre>\n\n<p><strong>module-info.java</strong> from client module</p>\n\n<pre><code>module com.em.client {\n    requires com.em.common;\n    uses com.em.common.model.EmployeeService;\n}\n</code></pre>\n\n<p><strong>EmployeeServiceImpl.java</strong></p>\n\n<pre><code>package com.em.implementation.employee;\n\nimport com.em.common.model.Employee;\nimport com.em.common.model.EmployeeService;\n\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    public EmployeeServiceImpl() {\n        System.out.println(\"creating employee\");\n    }\n\n    public Employee getEmployee(String firstName, String lastName) {\n\n        Employee employee = new Employee();\n        employee.setFirstName(firstName);\n        employee.setLastName(lastName);\n        employee.setDesignation(\"Unimportant Things Designer\");\n\n        return employee;\n    }\n}\n</code></pre>\n\n<p><strong>EmployeeServiceTest.java</strong></p>\n\n<pre><code>package com.em.client.employee;\n\nimport java.util.ServiceLoader;\n\nimport com.em.common.model.EmployeeService;\n\npublic class EmployeeServiceTest {\n\n    public static void main(String[] args) {\n\n        ServiceLoader&lt;EmployeeService&gt; loader = ServiceLoader.load(EmployeeService.class);\n\n        System.out.println(loader.iterator().hasNext());\n\n    }\n\n}\n</code></pre>\n\n<p>The <code>System.out.println(loader.iterator().hasNext());</code> prints <code>false</code> when expected is <code>true</code>. What is missing there? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":2,"creation_date":1642102043,"post_id":70701969,"comment_id":124989183,"body_markdown":"The question asks for &quot;most loaded in relation to it&#39;s capacity&quot;, but I do not see you using the capacity anywhere. Also, in your for-loop you&#39;re choosing the plane with the least combined kg, not the most.","body":"The question asks for &quot;most loaded in relation to it&#39;s capacity&quot;, but I do not see you using the capacity anywhere. Also, in your for-loop you&#39;re choosing the plane with the least combined kg, not the most."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1642102332,"post_id":70701969,"comment_id":124989295,"body_markdown":"So what does the `capacity` parameter limit: the number of passenger seats, or the maximal weight of the passengers and baggage?","body":"So what does the <code>capacity</code> parameter limit: the number of passenger seats, or the maximal weight of the passengers and baggage?"},{"owner":{"account_id":18134029,"reputation":231,"user_id":13188805,"display_name":"JoeChris"},"score":0,"creation_date":1642102906,"post_id":70701969,"comment_id":124989502,"body_markdown":"What does most loaded in relation to it&#39;s capacity mean? Maybe it is a ratio like seats taken / seats available?","body":"What does most loaded in relation to it&#39;s capacity mean? Maybe it is a ratio like seats taken / seats available?"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642102915,"post_id":70701969,"comment_id":124989505,"body_markdown":"@AlexRudenko , i need to  comapare the  maximal weight of passangers and baggage   to  thae capacity of the plane   not the seats .","body":"@AlexRudenko , i need to  comapare the  maximal weight of passangers and baggage   to  thae capacity of the plane   not the seats ."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642103056,"post_id":70701969,"comment_id":124989556,"body_markdown":"@JoeChris   the relation is : the  closest  combined Kg to the Capacity of plane ,  so in the example above it&#39;s plane2 since the combined Kg is  the most close to the capacity of the plane","body":"@JoeChris   the relation is : the  closest  combined Kg to the Capacity of plane ,  so in the example above it&#39;s plane2 since the combined Kg is  the most close to the capacity of the plane"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642103223,"post_id":70701969,"comment_id":124989619,"body_markdown":"@PetrJaneček  Sorry i  saw  it now that i  head  wrong comparation , now it&#39;s edited","body":"@PetrJaneček  Sorry i  saw  it now that i  head  wrong comparation , now it&#39;s edited"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1642104148,"post_id":70701969,"comment_id":124989912,"body_markdown":"`plane3` seems to be most loaded: 800/2500 (32%) &gt; 600/2000 (30%)","body":"<code>plane3</code> seems to be most loaded: 800/2500 (32%) &gt; 600/2000 (30%)"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1642104290,"post_id":70701969,"comment_id":124989955,"body_markdown":"if maximal weight compared with capacity, then method `addPassengers` is incorrect -- here the capacity in `kg` is compared to the number of passenger seats.","body":"if maximal weight compared with capacity, then method <code>addPassengers</code> is incorrect -- here the capacity in <code>kg</code> is compared to the number of passenger seats."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642104623,"post_id":70701969,"comment_id":124990048,"body_markdown":"@AlexRudenko , For   &quot;plane3 seems to be most loaded: 800/2500 (32%) &gt; 600/2000 (30%)&quot;    i need to  =  2500-800 = 1700  and  2000-600=1400  in this case  mose loade to it&#39;s capacity it&#39;s  2000-600  since  1400 i clsoest to the capacity200  then  1700 to 2500","body":"@AlexRudenko , For   &quot;plane3 seems to be most loaded: 800/2500 (32%) &gt; 600/2000 (30%)&quot;    i need to  =  2500-800 = 1700  and  2000-600=1400  in this case  mose loade to it&#39;s capacity it&#39;s  2000-600  since  1400 i clsoest to the capacity200  then  1700 to 2500"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642104898,"post_id":70701969,"comment_id":124990122,"body_markdown":"@AlexRudenko ,  in method `addPassangers` i compare the Capacity to the passanger.size if i understood good your point.","body":"@AlexRudenko ,  in method <code>addPassangers</code> i compare the Capacity to the passanger.size if i understood good your point."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1642105603,"post_id":70701969,"comment_id":124990362,"body_markdown":"Then you look for the absolute minimum of free weight (capacity - totalWeight), for instance, there could be a smaller plane with capacity 1600 and 400 kg used -- its load rate is just 25%, but its free weight is just 1200 kg.","body":"Then you look for the absolute minimum of free weight (capacity - totalWeight), for instance, there could be a smaller plane with capacity 1600 and 400 kg used -- its load rate is just 25%, but its free weight is just 1200 kg."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642106206,"post_id":70701969,"comment_id":124990575,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/241047/discussion-between-becalinr1-and-alex-rudenko).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/241047/discussion-between-becalinr1-and-alex-rudenko\">continue this discussion in chat</a>."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642106667,"post_id":70701969,"comment_id":124990721,"body_markdown":"@AlexRudenko   , \nSo you mean that i can use in my if() capacity - totalWeight ? if yes , with what i should compare it then ?","body":"@AlexRudenko   ,  So you mean that i can use in my if() capacity - totalWeight ? if yes , with what i should compare it then ?"},{"owner":{"display_name":"user17695302"},"score":1,"creation_date":1642189929,"post_id":70701969,"comment_id":125013979,"body_markdown":"Worked perfectly  @AlexRudenko  \n`planeList.get(i).getCapacity() - planeList.get(i).getCombinedKg() &lt;= loadedInCapacity.getCombinedKg()`","body":"Worked perfectly  @AlexRudenko   <code>planeList.get(i).getCapacity() - planeList.get(i).getCombinedKg() &lt;= loadedInCapacity.getCombinedKg()</code>"}],"owner":{"display_name":"user17695302"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642103103,"creation_date":1642101647,"question_id":70701969,"body_markdown":"i  have to found out the plane that is most loaded in relation to it&#39;s capacity.\r\n\r\nI create a formula inside my Plane class :\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Plane {\r\n        private String name;\r\n        private int sitPLaces;\r\n        private int capacity;\r\n    \r\n        List&lt;Passanger&gt; passangers = new ArrayList&lt;&gt;();\r\n        List&lt;Baggage&gt; baggage = new ArrayList&lt;&gt;();\r\n    \r\n        public Plane(String name, int sitPLaces, int capacity) {\r\n            this.name = name;\r\n            this.sitPLaces = sitPLaces;\r\n            this.capacity = capacity;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getSitPLaces() {\r\n            return sitPLaces;\r\n        }\r\n    \r\n        public void setSitPLaces(int sitPLaces) {\r\n            this.sitPLaces = sitPLaces;\r\n        }\r\n    \r\n        public int getCapacity() {\r\n            return capacity;\r\n        }\r\n    \r\n        public void setCapacity(int capacity) {\r\n            this.capacity = capacity;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Plane{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, sitPLaces=&quot; + sitPLaces +\r\n                    &quot;, capacity=&quot; + capacity +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n        public void addPassanger(Passanger newPassanger) {\r\n            if (capacity &lt; passangers.size()) {\r\n                // System.out.println(&quot;No space for more passangers&quot;);\r\n            } else {\r\n                // System.out.println(&quot;Welcome to board!&quot;);\r\n            }\r\n            passangers.add(newPassanger);\r\n        }\r\n    \r\n        //todo you need sum of weight baggages and passengers to compare it\r\n        public void addBaggage(Baggage newBaggage) {\r\n            baggage.add(newBaggage);\r\n        }\r\n    \r\n        public int getKgPassanger() {\r\n            int totalKg = 0;\r\n            for (int i = 0; i &lt; passangers.size(); i++) {\r\n                totalKg += passangers.get(i).getWeight();\r\n            }\r\n            return totalKg;\r\n        }\r\n    \r\n        public int getKgBaggage() {\r\n            int totalKg = 0;\r\n            for (int i = 0; i &lt; baggage.size(); i++) {\r\n                totalKg += baggage.get(i).getWeigh();\r\n            }\r\n            return totalKg;\r\n        }\r\n        public int getCombinedKg(){\r\n            return getKgBaggage() + getKgPassanger();\r\n        }\r\n    \r\n    \r\n        public int getHowManyPassangersAreIn() {\r\n            return passangers.size();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n \r\n\r\nThat helps me to get the sum of Passangers Kg and Baggages Kg -  now i know i have to compare the sum of those  with the  Capacity  and return the  most laoded to it&#39;s capacity (in my situation \r\nshould be Plane  ({&quot;Plane plane2 = new Plane(&quot;Flig&quot;, 200, 2000)&quot;})\r\n\r\n\r\nHere is my Main class:\r\n\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n    Plane plane1 = new Plane(&quot;Beoing&quot;, 350, 3000);\r\n            plane1.addPassanger(new Passanger(&quot;Victor&quot;, 100));\r\n            plane1.addPassanger(new Passanger(&quot;Stefan&quot;, 100));\r\n    \r\n    \r\n            plane1.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane1.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n    \r\n            Plane plane2 = new Plane(&quot;Flig&quot;, 200, 2000);\r\n            plane2.addPassanger(new Passanger(&quot;Mihai&quot;, 100));\r\n            plane2.addPassanger(new Passanger(&quot;Rudy&quot;, 100));\r\n            plane2.addPassanger(new Passanger(&quot;Rudy&quot;, 100));\r\n    \r\n            plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n    \r\n    \r\n            Plane plane3 = new Plane(&quot;Aly&quot;, 400, 2500);\r\n            plane3.addPassanger(new Passanger(&quot;Vlad&quot;, 100));\r\n            plane3.addPassanger(new Passanger(&quot;Vali&quot;, 100));\r\n            plane3.addPassanger(new Passanger(&quot;Ionut&quot;, 100));\r\n            plane3.addPassanger(new Passanger(&quot;Ionut&quot;, 100));\r\n    \r\n            plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n            plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\r\n    \r\n    \r\n            List&lt;Plane&gt; planeList = List.of(plane1, plane2, plane3);\r\n    \r\n    Plane mostLoadedinRelation = getMostLoadedinRelation(planeList);\r\n            System.out.println(&quot;This plane its loaded most in relation to it&#39;s capacity: &quot; + mostLoadedinRelation);\r\n    }\r\n\r\n\r\n\r\nI made an for() but i do not get the result i need, and i assume that here i am not comparing the right things .\r\n \r\n\r\n\r\n      public static Plane getMostLoadedinRelation(List&lt;Plane&gt; planeList) {\r\n        Plane closest = planeList.get(0);\r\n    \r\n        for (int i = 0; i &lt; planeList.size(); ++i) {\r\n            if (planeList.get(i).getCombinedKg() &lt; planeList.get(i).getCapacity()) {\r\n                closest = planeList.get(i);\r\n            }\r\n        }\r\n        return closest;\r\n    }\r\n\r\nIs it possible to help me by giving me a hint ? \r\nThanks,\r\n","title":"Which plane is most loaded in relation to it&#39;s capacity?","body":"<p>i  have to found out the plane that is most loaded in relation to it's capacity.</p>\n<p>I create a formula inside my Plane class :</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Plane {\n    private String name;\n    private int sitPLaces;\n    private int capacity;\n\n    List&lt;Passanger&gt; passangers = new ArrayList&lt;&gt;();\n    List&lt;Baggage&gt; baggage = new ArrayList&lt;&gt;();\n\n    public Plane(String name, int sitPLaces, int capacity) {\n        this.name = name;\n        this.sitPLaces = sitPLaces;\n        this.capacity = capacity;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getSitPLaces() {\n        return sitPLaces;\n    }\n\n    public void setSitPLaces(int sitPLaces) {\n        this.sitPLaces = sitPLaces;\n    }\n\n    public int getCapacity() {\n        return capacity;\n    }\n\n    public void setCapacity(int capacity) {\n        this.capacity = capacity;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Plane{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, sitPLaces=&quot; + sitPLaces +\n                &quot;, capacity=&quot; + capacity +\n                '}';\n    }\n\n    public void addPassanger(Passanger newPassanger) {\n        if (capacity &lt; passangers.size()) {\n            // System.out.println(&quot;No space for more passangers&quot;);\n        } else {\n            // System.out.println(&quot;Welcome to board!&quot;);\n        }\n        passangers.add(newPassanger);\n    }\n\n    //todo you need sum of weight baggages and passengers to compare it\n    public void addBaggage(Baggage newBaggage) {\n        baggage.add(newBaggage);\n    }\n\n    public int getKgPassanger() {\n        int totalKg = 0;\n        for (int i = 0; i &lt; passangers.size(); i++) {\n            totalKg += passangers.get(i).getWeight();\n        }\n        return totalKg;\n    }\n\n    public int getKgBaggage() {\n        int totalKg = 0;\n        for (int i = 0; i &lt; baggage.size(); i++) {\n            totalKg += baggage.get(i).getWeigh();\n        }\n        return totalKg;\n    }\n    public int getCombinedKg(){\n        return getKgBaggage() + getKgPassanger();\n    }\n\n\n    public int getHowManyPassangersAreIn() {\n        return passangers.size();\n\n    }\n\n}\n</code></pre>\n<p>That helps me to get the sum of Passangers Kg and Baggages Kg -  now i know i have to compare the sum of those  with the  Capacity  and return the  most laoded to it's capacity (in my situation\nshould be Plane  ({&quot;Plane plane2 = new Plane(&quot;Flig&quot;, 200, 2000)&quot;})</p>\n<p>Here is my Main class:</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\nPlane plane1 = new Plane(&quot;Beoing&quot;, 350, 3000);\n        plane1.addPassanger(new Passanger(&quot;Victor&quot;, 100));\n        plane1.addPassanger(new Passanger(&quot;Stefan&quot;, 100));\n\n\n        plane1.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane1.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n\n        Plane plane2 = new Plane(&quot;Flig&quot;, 200, 2000);\n        plane2.addPassanger(new Passanger(&quot;Mihai&quot;, 100));\n        plane2.addPassanger(new Passanger(&quot;Rudy&quot;, 100));\n        plane2.addPassanger(new Passanger(&quot;Rudy&quot;, 100));\n\n        plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane2.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n\n\n        Plane plane3 = new Plane(&quot;Aly&quot;, 400, 2500);\n        plane3.addPassanger(new Passanger(&quot;Vlad&quot;, 100));\n        plane3.addPassanger(new Passanger(&quot;Vali&quot;, 100));\n        plane3.addPassanger(new Passanger(&quot;Ionut&quot;, 100));\n        plane3.addPassanger(new Passanger(&quot;Ionut&quot;, 100));\n\n        plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n        plane3.addBaggage(new Baggage(&quot;Kipling&quot;, 100));\n\n\n        List&lt;Plane&gt; planeList = List.of(plane1, plane2, plane3);\n\nPlane mostLoadedinRelation = getMostLoadedinRelation(planeList);\n        System.out.println(&quot;This plane its loaded most in relation to it's capacity: &quot; + mostLoadedinRelation);\n}\n</code></pre>\n<p>I made an for() but i do not get the result i need, and i assume that here i am not comparing the right things .</p>\n<pre><code>  public static Plane getMostLoadedinRelation(List&lt;Plane&gt; planeList) {\n    Plane closest = planeList.get(0);\n\n    for (int i = 0; i &lt; planeList.size(); ++i) {\n        if (planeList.get(i).getCombinedKg() &lt; planeList.get(i).getCapacity()) {\n            closest = planeList.get(i);\n        }\n    }\n    return closest;\n}\n</code></pre>\n<p>Is it possible to help me by giving me a hint ?\nThanks,</p>\n"},{"tags":["java","maven","web","pom.xml"],"comments":[{"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"score":0,"creation_date":1416471813,"post_id":27034739,"comment_id":42590347,"body_markdown":"This may help you http://stackoverflow.com/questions/4199596/java-lang-noclassdeffounderror-javax-servlet-jsp-el-elexception","body":"This may help you <a href=\"http://stackoverflow.com/questions/4199596/java-lang-noclassdeffounderror-javax-servlet-jsp-el-elexception\" title=\"java lang noclassdeffounderror javax servlet jsp el elexception\">stackoverflow.com/questions/4199596/&hellip;</a>"},{"owner":{"account_id":1530386,"reputation":458,"user_id":1427708,"display_name":"Kamil.H"},"score":0,"creation_date":1416471958,"post_id":27034739,"comment_id":42590402,"body_markdown":"class javax.el.ELException is not available on tomcat 5.5 as it suports servlet 2.0, what you need is servlet 2.1, use newer Tomcat version, 6.0 should work.","body":"class javax.el.ELException is not available on tomcat 5.5 as it suports servlet 2.0, what you need is servlet 2.1, use newer Tomcat version, 6.0 should work."},{"owner":{"account_id":4949203,"reputation":113,"user_id":3983757,"accept_rate":70,"display_name":"Rks"},"score":0,"creation_date":1416473809,"post_id":27034739,"comment_id":42591321,"body_markdown":"@WundwinBorn tried that but not resolved getting som e other error.now i m trying to use tomcat 6 ,see wat haapens..","body":"@WundwinBorn tried that but not resolved getting som e other error.now i m trying to use tomcat 6 ,see wat haapens.."}],"answers":[{"tags":[],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1416472045,"creation_date":1416472045,"answer_id":27034901,"question_id":27034739,"body_markdown":"You Tomcat is extremly outdated. Tomcat 5.5 (Servlet 2.4) does not support the jsp expression language. See this [page](http://tomcat.apache.org/whichversion.html) for an appropriate Tomcat version. Update to Tomcat 7 if you can.","title":"getting error with jstl version and jsp library using in jsp","body":"<p>You Tomcat is extremly outdated. Tomcat 5.5 (Servlet 2.4) does not support the jsp expression language. See this <a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow\">page</a> for an appropriate Tomcat version. Update to Tomcat 7 if you can.</p>\n"},{"tags":[],"owner":{"account_id":4949203,"reputation":113,"user_id":3983757,"accept_rate":70,"display_name":"Rks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642102406,"creation_date":1416474821,"answer_id":27035694,"question_id":27034739,"body_markdown":"The issue is resolved with Tomcat 6","title":"getting error with jstl version and jsp library using in jsp","body":"<p>The issue is resolved with Tomcat 6</p>\n"}],"owner":{"account_id":4949203,"reputation":113,"user_id":3983757,"accept_rate":70,"display_name":"Rks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27034901,"answer_count":2,"score":0,"last_activity_date":1642102406,"creation_date":1416471379,"question_id":27034739,"body_markdown":"I am creating a spring application and when I am running my application I am getting an error. My jsp is using `&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;`\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n\r\nThe error:   \r\n\r\n     javax.servlet.ServletException: javax/el/ELException\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:273)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\r\n    \torg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\r\n    \torg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \r\n    root cause\r\n    \r\n    java.lang.NoClassDefFoundError: javax/el/ELException\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n    \tjava.lang.Class.privateGetPublicMethods(Unknown Source)\r\n    \tjava.lang.Class.getMethods(Unknown Source)\r\n    \tjava.beans.Introspector.getPublicDeclaredMethods(Unknown Source)\r\n    \tjava.beans.Introspector.getTargetMethodInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.&lt;init&gt;(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \torg.apache.jasper.compiler.Generator$TagHandlerInfo.&lt;init&gt;(Generator.java:3729)\r\n    \torg.apache.jasper.compiler.Generator$GenerateVisitor.getTagHandlerInfo(Generator.java:2132)\r\n    \torg.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:1600)\r\n    \torg.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1442)\r\n    \torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\r\n    \torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2216)\r\n    \torg.apache.jasper.compiler.Node$Visitor.visit(Node.java:2222)\r\n    \torg.apache.jasper.compiler.Node$Root.accept(Node.java:457)\r\n    \torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\r\n    \torg.apache.jasper.compiler.Generator.generate(Generator.java:3321)\r\n    \torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:296)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\r\n    \torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:302)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\r\n    \torg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\r\n    \torg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \r\n    root cause\r\n    \r\n    java.lang.ClassNotFoundException: javax.el.ELException\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1363)\r\n    \torg.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1209)\r\n    \tjava.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tjava.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n    \tjava.lang.Class.privateGetPublicMethods(Unknown Source)\r\n    \tjava.lang.Class.getMethods(Unknown Source)\r\n    \tjava.beans.Introspector.getPublicDeclaredMethods(Unknown Source)\r\n    \tjava.beans.Introspector.getTargetMethodInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \tjava.beans.Introspector.&lt;init&gt;(Unknown Source)\r\n    \tjava.beans.Introspector.getBeanInfo(Unknown Source)\r\n    \torg.apache.jasper.compiler.Generator$TagHandlerInfo.&lt;init&gt;(Generator.java:3729)\r\n    \torg.apache.jasper.compiler.Generator$GenerateVisitor.getTagHandlerInfo(Generator.java:2132)\r\n    \torg.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:1600)\r\n    \torg.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1442)\r\n    \torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\r\n    \torg.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2216)\r\n    \torg.apache.jasper.compiler.Node$Visitor.visit(Node.java:2222)\r\n    \torg.apache.jasper.compiler.Node$Root.accept(Node.java:457)\r\n    \torg.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\r\n    \torg.apache.jasper.compiler.Generator.generate(Generator.java:3321)\r\n    \torg.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:296)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\r\n    \torg.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\r\n    \torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:302)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n    \torg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\r\n    \torg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\r\n    \torg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:690)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\r\nI am using 2.5 xsd in web.xml and my Tomcat is 5.5.","title":"getting error with jstl version and jsp library using in jsp","body":"<p>I am creating a spring application and when I am running my application I am getting an error. My jsp is using <code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>The error:</p>\n<pre><code> javax.servlet.ServletException: javax/el/ELException\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:273)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\n    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\n    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\nroot cause\n\njava.lang.NoClassDefFoundError: javax/el/ELException\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    java.lang.Class.privateGetPublicMethods(Unknown Source)\n    java.lang.Class.getMethods(Unknown Source)\n    java.beans.Introspector.getPublicDeclaredMethods(Unknown Source)\n    java.beans.Introspector.getTargetMethodInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.&lt;init&gt;(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    org.apache.jasper.compiler.Generator$TagHandlerInfo.&lt;init&gt;(Generator.java:3729)\n    org.apache.jasper.compiler.Generator$GenerateVisitor.getTagHandlerInfo(Generator.java:2132)\n    org.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:1600)\n    org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1442)\n    org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\n    org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2216)\n    org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2222)\n    org.apache.jasper.compiler.Node$Root.accept(Node.java:457)\n    org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\n    org.apache.jasper.compiler.Generator.generate(Generator.java:3321)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:296)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\n    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:302)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\n    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\n    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\nroot cause\n\njava.lang.ClassNotFoundException: javax.el.ELException\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1363)\n    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1209)\n    java.lang.Class.getDeclaredMethods0(Native Method)\n    java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    java.lang.Class.privateGetPublicMethods(Unknown Source)\n    java.lang.Class.getMethods(Unknown Source)\n    java.beans.Introspector.getPublicDeclaredMethods(Unknown Source)\n    java.beans.Introspector.getTargetMethodInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    java.beans.Introspector.&lt;init&gt;(Unknown Source)\n    java.beans.Introspector.getBeanInfo(Unknown Source)\n    org.apache.jasper.compiler.Generator$TagHandlerInfo.&lt;init&gt;(Generator.java:3729)\n    org.apache.jasper.compiler.Generator$GenerateVisitor.getTagHandlerInfo(Generator.java:2132)\n    org.apache.jasper.compiler.Generator$GenerateVisitor.visit(Generator.java:1600)\n    org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1442)\n    org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\n    org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2216)\n    org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2222)\n    org.apache.jasper.compiler.Node$Root.accept(Node.java:457)\n    org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2166)\n    org.apache.jasper.compiler.Generator.generate(Generator.java:3321)\n    org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:296)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:277)\n    org.apache.jasper.compiler.Compiler.compile(Compiler.java:265)\n    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:302)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:329)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)\n    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:250)\n    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1060)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:798)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:690)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n</code></pre>\n<p>I am using 2.5 xsd in web.xml and my Tomcat is 5.5.</p>\n"},{"tags":["java","spring-boot","data-structures","geolocation"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1600495829,"post_id":63965779,"comment_id":113112104,"body_markdown":"Have you already verified that the naive approach is - performance-wise - not sufficient?","body":"Have you already verified that the naive approach is - performance-wise - not sufficient?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1600495868,"post_id":63965779,"comment_id":113112109,"body_markdown":"Don&#39;t  you use any database for storing data?","body":"Don&#39;t  you use any database for storing data?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1600495895,"post_id":63965779,"comment_id":113112116,"body_markdown":"Look into the Dijkstra shortest path algorithm and how it works. It may help you.","body":"Look into the Dijkstra shortest path algorithm and how it works. It may help you."},{"owner":{"account_id":18763330,"reputation":21,"user_id":13681792,"display_name":"behlHardik"},"score":0,"creation_date":1600503488,"post_id":63965779,"comment_id":113113538,"body_markdown":"@Turing85 yes, it&#39;s taking 2-3 minutes using the regular naive approach","body":"@Turing85 yes, it&#39;s taking 2-3 minutes using the regular naive approach"},{"owner":{"account_id":18763330,"reputation":21,"user_id":13681792,"display_name":"behlHardik"},"score":0,"creation_date":1600503551,"post_id":63965779,"comment_id":113113556,"body_markdown":"@Rono I am consuming the Objects from an API endpoint","body":"@Rono I am consuming the Objects from an API endpoint"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1600503702,"post_id":63965779,"comment_id":113113590,"body_markdown":"@behlHardik Can you show us your approach?  and consuming so much data also takes huge time.","body":"@behlHardik Can you show us your approach?  and consuming so much data also takes huge time."}],"answers":[{"tags":[],"owner":{"account_id":9625696,"reputation":51,"user_id":7145392,"display_name":"Udit kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642102181,"creation_date":1642101836,"answer_id":70702009,"question_id":63965779,"body_markdown":"In order to find out the top &#39;x&#39; nearest hospitals efficiently, I would suggest you to use custom priority queue.","title":"Finding Required Data From A Very Large ArrayList Of Objects","body":"<p>In order to find out the top 'x' nearest hospitals efficiently, I would suggest you to use custom priority queue.</p>\n"}],"owner":{"account_id":18763330,"reputation":21,"user_id":13681792,"display_name":"behlHardik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642102181,"creation_date":1600495678,"question_id":63965779,"body_markdown":"An Arraylist Contains 190,000 Objects Of Structure \r\n\r\n```\r\n {\r\n   srno: 51,\r\n   health_facility_name: &quot;keeraipatti&quot;,\r\n   address: &quot;Keeraipatti building&quot;,\r\n   street: &quot;keeraipatti&quot;,\r\n   landmark: &quot;keeraipatti&quot;,\r\n   locality: &quot;keeraipatti&quot;,\r\n   pincode: 636903,\r\n   landline_number: &quot;NA&quot;,\r\n   latitude: 12.005075,\r\n   longitude: 78.533949,\r\n   altitude: 394.6894,\r\n   facility_type: &quot;SubCentre&quot;,\r\n   state_name: &quot;Tamil Nadu&quot;,\r\n   district_name: &quot;Dharmapuri&quot;,\r\n   taluka_name: &quot;Harur&quot;,\r\n   block_name: &quot;Harur&quot;\r\n} \r\n```\r\nI Get The User&#39;s Current Location Using HTML Gelocation API and send the lattitude and longitude of the user to an endpoint through JavaScript (window.location.href=&#39;......&#39;)\r\n\r\n```\r\n@GetMapping(&quot;/nearHospitals/{lattitude}/{longitude}&quot;)\r\npublic String nearHospitalsHandler(@PathVariable(&quot;lattitude&quot;)double lattitude, \r\n                                   @PathVariable(&quot;longitude&quot;) double longitude)\r\n{\r\n    //call service method to get List of 20 Hospital Objects closest to the user&#39;s \r\n    //location and put it inside the Modal for the view to render\r\n    //what should be the logic here \r\n    return &quot;nearHospitalsView&quot;;\r\n}\r\n```\r\n\r\nNow I have a method that will calculate the distance between the hospital (Object in ArrayList) and the user&#39;s current location.\r\n\r\nNow How Should i Proceed Further, What&#39;s an effieicient way of ifnding the nearest 20 hospitals and returning a list of it.\r\n","title":"Finding Required Data From A Very Large ArrayList Of Objects","body":"<p>An Arraylist Contains 190,000 Objects Of Structure</p>\n<pre><code> {\n   srno: 51,\n   health_facility_name: &quot;keeraipatti&quot;,\n   address: &quot;Keeraipatti building&quot;,\n   street: &quot;keeraipatti&quot;,\n   landmark: &quot;keeraipatti&quot;,\n   locality: &quot;keeraipatti&quot;,\n   pincode: 636903,\n   landline_number: &quot;NA&quot;,\n   latitude: 12.005075,\n   longitude: 78.533949,\n   altitude: 394.6894,\n   facility_type: &quot;SubCentre&quot;,\n   state_name: &quot;Tamil Nadu&quot;,\n   district_name: &quot;Dharmapuri&quot;,\n   taluka_name: &quot;Harur&quot;,\n   block_name: &quot;Harur&quot;\n} \n</code></pre>\n<p>I Get The User's Current Location Using HTML Gelocation API and send the lattitude and longitude of the user to an endpoint through JavaScript (window.location.href='......')</p>\n<pre><code>@GetMapping(&quot;/nearHospitals/{lattitude}/{longitude}&quot;)\npublic String nearHospitalsHandler(@PathVariable(&quot;lattitude&quot;)double lattitude, \n                                   @PathVariable(&quot;longitude&quot;) double longitude)\n{\n    //call service method to get List of 20 Hospital Objects closest to the user's \n    //location and put it inside the Modal for the view to render\n    //what should be the logic here \n    return &quot;nearHospitalsView&quot;;\n}\n</code></pre>\n<p>Now I have a method that will calculate the distance between the hospital (Object in ArrayList) and the user's current location.</p>\n<p>Now How Should i Proceed Further, What's an effieicient way of ifnding the nearest 20 hospitals and returning a list of it.</p>\n"},{"tags":["java","spring","jetty","session-cookies","maven-jetty-plugin"],"comments":[{"owner":{"account_id":8819941,"reputation":799,"user_id":6590156,"accept_rate":33,"display_name":"Parth Patel"},"score":0,"creation_date":1527501778,"post_id":12755499,"comment_id":88137846,"body_markdown":"I tried Attempt #4 but the cookie is still JSESSIONID. so please suggest how you solve your problem.","body":"I tried Attempt #4 but the cookie is still JSESSIONID. so please suggest how you solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":1218047,"reputation":7142,"user_id":1185262,"display_name":"jesse mcconnell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397567996,"creation_date":1349527720,"answer_id":12759950,"question_id":12755499,"body_markdown":"Attempt #4 is on the right track.\r\n\r\nProviding I am reading this right, you&#39;re using the maven configuration on the context /app which means in your web.xml the &lt;path&gt;/&lt;/path&gt; your settings _is_ /app because that is the root of the context you&#39;re configuring.\r\n\r\nPut another way you can&#39;t configure the session for www.foo.com/ if you are only deploying into the www.foo.com/app context, imagine if someone else were deploying apps into that url, you can&#39;t just decide to make your session cookies apply to everyone operating under that url.","title":"How to change jsessionid cookie path to server root in Spring app on Jetty?","body":"<p>Attempt #4 is on the right track.</p>\n\n<p>Providing I am reading this right, you're using the maven configuration on the context /app which means in your web.xml the / your settings <em>is</em> /app because that is the root of the context you're configuring.</p>\n\n<p>Put another way you can't configure the session for www.foo.com/ if you are only deploying into the www.foo.com/app context, imagine if someone else were deploying apps into that url, you can't just decide to make your session cookies apply to everyone operating under that url.</p>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642102053,"creation_date":1642102053,"answer_id":70702055,"question_id":12755499,"body_markdown":"For my sanity, I only configure Jetty programmatically.  If you&#39;re looking to change the cookie path in Jetty 11:\r\n```\r\nsessionHandler.getSessionCookieConfig().setPath(&quot;/&quot;);\r\n```\r\nIf you&#39;re not explicitly creating SessionHandler, you can get a reference to it after you create things like servlet contexts....\r\n```\r\nServletContextHandler sch = new ServletContextHandler(..., &quot;/api&quot;, true, false);\r\nsch.getSessionHandler().getSessionCookieConfig().setPath(&quot;/&quot;);\r\n```\r\nThis way, even though the context is under `/api` the session cookie can be accessible in other contexts.\r\n","title":"How to change jsessionid cookie path to server root in Spring app on Jetty?","body":"<p>For my sanity, I only configure Jetty programmatically.  If you're looking to change the cookie path in Jetty 11:</p>\n<pre><code>sessionHandler.getSessionCookieConfig().setPath(&quot;/&quot;);\n</code></pre>\n<p>If you're not explicitly creating SessionHandler, you can get a reference to it after you create things like servlet contexts....</p>\n<pre><code>ServletContextHandler sch = new ServletContextHandler(..., &quot;/api&quot;, true, false);\nsch.getSessionHandler().getSessionCookieConfig().setPath(&quot;/&quot;);\n</code></pre>\n<p>This way, even though the context is under <code>/api</code> the session cookie can be accessible in other contexts.</p>\n"}],"owner":{"account_id":77238,"reputation":26925,"user_id":220599,"accept_rate":74,"display_name":"Tauren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22297,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1642102053,"creation_date":1349481658,"question_id":12755499,"body_markdown":"I have a Jetty server running a Spring app on the `/app` context. The app uses sessions, so it sets a session cookie, which responds like this:\n\n    set-cookie:JSESSIONID=679b6291-d1cc-47be-bbf6-7ec75214f4e5; Path=/app; HttpOnly\n\nI need that cookie to have a path of `/` instead of the webapp&#39;s context. Plus I want to use secure cookies. I want this response:\n\n    set-cookie:JSESSIONID=679b6291-d1cc-47be-bbf6-7ec75214f4e5; Path=/; HttpOnly; Secure\n\nWhere is the proper place to configure the session cookie? Does spring help with this? Should it be in `web.xml`? Or do I need to configure it in a container specific way, such as `jetty-web.xml`?\n\nI&#39;ve tried a bunch of things, but nothing has worked so far. Below are some things I tried.\n\n----\n\n## Attempt #1\n\nCreated `WEB-INF/jetty-web.xml` with the following:\n\n    &lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\n        &lt;Get name=&quot;sessionHandler&quot;&gt;\n          &lt;Get name=&quot;sessionManager&quot;&gt;\n            &lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;\n            &lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;\n            &lt;Set name=&quot;secureCookies&quot; type=&quot;boolean&quot;&gt;true&lt;/Set&gt;\n            &lt;Set name=&quot;httpOnly&quot; type=&quot;boolean&quot;&gt;true&lt;/Set&gt;\n          &lt;/Get&gt;\n        &lt;/Get&gt;\n    &lt;/Configure&gt;\n\nThis causes an exception to be thrown:\n\n    2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt; java.lang.NoSuchMethodException: class org.eclipse.jetty.server.session.HashSessionManager.setSessionPath(class java.lang.String)\n    2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Get name=&quot;sessionManager&quot;&gt;&lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;&lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;&lt;Set name=&quot;secureCookies&quot;&gt;true&lt;/Set&gt;&lt;Set name=&quot;httpOnly&quot;&gt;true&lt;/Set&gt;&lt;/Get&gt; java.lang.NoSuchMethodException: class org.eclipse.jetty.server.session.HashSessionManager.setSessionPath(class java.lang.String)\n    2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Get name=&quot;sessionHandler&quot;&gt;&lt;Get name=&quot;sessionManager&quot;&gt;&lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;&lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;&lt;Set name=&quot;secureCookies&quot;&gt;true&lt;/Set&gt;&lt;Set name=&quot;httpOnly&quot;&gt;true&lt;/Set&gt;&lt;/Get&gt;&lt;/Get&gt; java.lang.NoSuchMethodException: class \n\nThe full stack trace is in [this gist][1].\n\n## Attempt #2\n\nCreated `WEB-INF/jetty-web.xml` with the following:\n\n    &lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\n        &lt;Call name=&quot;setInitParameter&quot;&gt;\n            &lt;Arg&gt;org.eclipse.jetty.servlet.SessionCookie&lt;/Arg&gt;\n            &lt;Arg&gt;MYSESSIONID&lt;/Arg&gt;\n        &lt;/Call&gt;\n        &lt;Call name=&quot;setInitParameter&quot;&gt;\n            &lt;Arg&gt;org.eclipse.jetty.servlet.SessionIdPathParameterName&lt;/Arg&gt;\n            &lt;Arg&gt;mysessionid&lt;/Arg&gt;\n        &lt;/Call&gt;\n        &lt;Call name=&quot;setInitParameter&quot;&gt;\n            &lt;Arg&gt;org.eclipse.jetty.servlet.SessionPath&lt;/Arg&gt;\n            &lt;Arg&gt;/&lt;/Arg&gt;\n        &lt;/Call&gt;\n    &lt;/Configure&gt;\n\nThis does not cause any exception, but the cookie is still `JSESSIONID` and contains the webapp context path `/app`.\n\n## Attempt #3\n\nUpdated `WEB-INF/web.xml` with the following:\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;org.eclipse.jetty.servlet.SessionPath&lt;/param-name&gt;\n        &lt;param-value&gt;/&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;org.eclipse.jetty.servlet.SessionCookie&lt;/param-name&gt;\n        &lt;param-value&gt;MYSESS&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\nThis does not cause any exception, but the cookie is still `JSESSIONID` and contains the webapp context path `/app`.\n\n## Attempt #4\n\nUpdated `WEB-INF/web.xml` with the following:\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;720&lt;/session-timeout&gt;\n        &lt;cookie-config&gt;\n            &lt;name&gt;SZSESSION&lt;/name&gt;\n            &lt;path&gt;/&lt;/path&gt;\n            &lt;http-only&gt;true&lt;/http-only&gt;\n            &lt;secure&gt;true&lt;/secure&gt;\n        &lt;/cookie-config&gt;\n    &lt;/session-config&gt;\n\nThis does not cause any exception, but the cookie is still `JSESSIONID` and contains the webapp context path `/app`.\n\n## Maven configuration\n\nNote that I&#39;m using Jetty Maven Plugin version 8.1.5.v20120716 and doing a `mvn jetty:run`:\n\n    &lt;jetty.maven.plugin.version&gt;8.1.5.v20120716&lt;/jetty.maven.plugin.version&gt;\n    &lt;spring.version&gt;3.0.0.RELEASE&lt;/spring.version&gt;\n      ...\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${jetty.maven.plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n            &lt;reload&gt;manual&lt;/reload&gt;\n            &lt;stopPort&gt;${jetty.stop.port}&lt;/stopPort&gt;\n            &lt;stopKey&gt;foo&lt;/stopKey&gt;\n            &lt;webAppConfig&gt;\n                  &lt;contextPath&gt;/app&lt;/contextPath&gt;\n            &lt;/webAppConfig&gt;\n        &lt;/configuration&gt;\n           ...\n    &lt;/plugin&gt;\n\n\n  [1]: https://gist.github.com/3843133","title":"How to change jsessionid cookie path to server root in Spring app on Jetty?","body":"<p>I have a Jetty server running a Spring app on the <code>/app</code> context. The app uses sessions, so it sets a session cookie, which responds like this:</p>\n<pre><code>set-cookie:JSESSIONID=679b6291-d1cc-47be-bbf6-7ec75214f4e5; Path=/app; HttpOnly\n</code></pre>\n<p>I need that cookie to have a path of <code>/</code> instead of the webapp's context. Plus I want to use secure cookies. I want this response:</p>\n<pre><code>set-cookie:JSESSIONID=679b6291-d1cc-47be-bbf6-7ec75214f4e5; Path=/; HttpOnly; Secure\n</code></pre>\n<p>Where is the proper place to configure the session cookie? Does spring help with this? Should it be in <code>web.xml</code>? Or do I need to configure it in a container specific way, such as <code>jetty-web.xml</code>?</p>\n<p>I've tried a bunch of things, but nothing has worked so far. Below are some things I tried.</p>\n<hr />\n<h2>Attempt #1</h2>\n<p>Created <code>WEB-INF/jetty-web.xml</code> with the following:</p>\n<pre><code>&lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\n    &lt;Get name=&quot;sessionHandler&quot;&gt;\n      &lt;Get name=&quot;sessionManager&quot;&gt;\n        &lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;\n        &lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;\n        &lt;Set name=&quot;secureCookies&quot; type=&quot;boolean&quot;&gt;true&lt;/Set&gt;\n        &lt;Set name=&quot;httpOnly&quot; type=&quot;boolean&quot;&gt;true&lt;/Set&gt;\n      &lt;/Get&gt;\n    &lt;/Get&gt;\n&lt;/Configure&gt;\n</code></pre>\n<p>This causes an exception to be thrown:</p>\n<pre><code>2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt; java.lang.NoSuchMethodException: class org.eclipse.jetty.server.session.HashSessionManager.setSessionPath(class java.lang.String)\n2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Get name=&quot;sessionManager&quot;&gt;&lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;&lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;&lt;Set name=&quot;secureCookies&quot;&gt;true&lt;/Set&gt;&lt;Set name=&quot;httpOnly&quot;&gt;true&lt;/Set&gt;&lt;/Get&gt; java.lang.NoSuchMethodException: class org.eclipse.jetty.server.session.HashSessionManager.setSessionPath(class java.lang.String)\n2012-10-05 02:41:41.180:WARN:oejx.XmlConfiguration:Config error at &lt;Get name=&quot;sessionHandler&quot;&gt;&lt;Get name=&quot;sessionManager&quot;&gt;&lt;Set name=&quot;sessionCookie&quot;&gt;MYJETTYSESSION&lt;/Set&gt;&lt;Set name=&quot;sessionPath&quot;&gt;/&lt;/Set&gt;&lt;Set name=&quot;secureCookies&quot;&gt;true&lt;/Set&gt;&lt;Set name=&quot;httpOnly&quot;&gt;true&lt;/Set&gt;&lt;/Get&gt;&lt;/Get&gt; java.lang.NoSuchMethodException: class \n</code></pre>\n<p>The full stack trace is in <a href=\"https://gist.github.com/3843133\" rel=\"noreferrer\">this gist</a>.</p>\n<h2>Attempt #2</h2>\n<p>Created <code>WEB-INF/jetty-web.xml</code> with the following:</p>\n<pre><code>&lt;Configure class=&quot;org.eclipse.jetty.webapp.WebAppContext&quot;&gt;\n    &lt;Call name=&quot;setInitParameter&quot;&gt;\n        &lt;Arg&gt;org.eclipse.jetty.servlet.SessionCookie&lt;/Arg&gt;\n        &lt;Arg&gt;MYSESSIONID&lt;/Arg&gt;\n    &lt;/Call&gt;\n    &lt;Call name=&quot;setInitParameter&quot;&gt;\n        &lt;Arg&gt;org.eclipse.jetty.servlet.SessionIdPathParameterName&lt;/Arg&gt;\n        &lt;Arg&gt;mysessionid&lt;/Arg&gt;\n    &lt;/Call&gt;\n    &lt;Call name=&quot;setInitParameter&quot;&gt;\n        &lt;Arg&gt;org.eclipse.jetty.servlet.SessionPath&lt;/Arg&gt;\n        &lt;Arg&gt;/&lt;/Arg&gt;\n    &lt;/Call&gt;\n&lt;/Configure&gt;\n</code></pre>\n<p>This does not cause any exception, but the cookie is still <code>JSESSIONID</code> and contains the webapp context path <code>/app</code>.</p>\n<h2>Attempt #3</h2>\n<p>Updated <code>WEB-INF/web.xml</code> with the following:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;org.eclipse.jetty.servlet.SessionPath&lt;/param-name&gt;\n    &lt;param-value&gt;/&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;org.eclipse.jetty.servlet.SessionCookie&lt;/param-name&gt;\n    &lt;param-value&gt;MYSESS&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>This does not cause any exception, but the cookie is still <code>JSESSIONID</code> and contains the webapp context path <code>/app</code>.</p>\n<h2>Attempt #4</h2>\n<p>Updated <code>WEB-INF/web.xml</code> with the following:</p>\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;720&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        &lt;name&gt;SZSESSION&lt;/name&gt;\n        &lt;path&gt;/&lt;/path&gt;\n        &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p>This does not cause any exception, but the cookie is still <code>JSESSIONID</code> and contains the webapp context path <code>/app</code>.</p>\n<h2>Maven configuration</h2>\n<p>Note that I'm using Jetty Maven Plugin version 8.1.5.v20120716 and doing a <code>mvn jetty:run</code>:</p>\n<pre><code>&lt;jetty.maven.plugin.version&gt;8.1.5.v20120716&lt;/jetty.maven.plugin.version&gt;\n&lt;spring.version&gt;3.0.0.RELEASE&lt;/spring.version&gt;\n  ...\n&lt;plugin&gt;\n    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${jetty.maven.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n        &lt;reload&gt;manual&lt;/reload&gt;\n        &lt;stopPort&gt;${jetty.stop.port}&lt;/stopPort&gt;\n        &lt;stopKey&gt;foo&lt;/stopKey&gt;\n        &lt;webAppConfig&gt;\n              &lt;contextPath&gt;/app&lt;/contextPath&gt;\n        &lt;/webAppConfig&gt;\n    &lt;/configuration&gt;\n       ...\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","serialization","deserialization"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642101058,"creation_date":1642101058,"answer_id":70701855,"question_id":70701490,"body_markdown":"What exception? (please consider to add it to the post, since it seems like an &quot;important detail&quot;)\r\n\r\nSorry, cannot re-produce/comprehend:\r\n\r\n```\r\npackage com.example.serial;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\n\r\npublic class SerialTest {\r\n\r\n  public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n    Car car = new Car();\r\n    car.manufacturer = &quot;Toyota&quot;;\r\n    car.model = &quot;Land Cruiser&quot;;\r\n    \r\n    // tmp memory:\r\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n\r\n    // write object:\r\n    ObjectOutputStream oos = new ObjectOutputStream(outStream);\r\n    oos.writeObject(car);\r\n\r\n    // input stream of &quot;tmp memory&quot;:\r\n    ByteArrayInputStream inStream = new ByteArrayInputStream(outStream.toByteArray());\r\n\r\n    // read object:\r\n    ObjectInputStream ois = new ObjectInputStream(inStream);\r\n    Car c2 = (Car) ois.readObject();\r\n\r\n    // print/verify:\r\n    System.out.println(c2);\r\n  }\r\n}\r\n\r\nclass Vehicle implements Serializable {\r\n\r\n  private static final long serialVersionUID = 0L;\r\n  String manufacturer;\r\n}\r\n\r\nclass Car extends Vehicle {\r\n\r\n  String model;\r\n}\r\n```\r\nPrints:\r\n```\r\ncom.example.serial.Car@1ed6993a\r\n```\r\n\r\nWe can also do:\r\n```lang-java\r\nVehicle car = new Car();\r\n// ... same code, but without &quot;model&quot;\r\n```\r\n\r\nBut not:\r\n```\r\nVehicle car = new Vehicle();\r\n...\r\n```\r\n\r\n..this will lead to: \r\n```lang-text\r\njava.lang.ClassCastException: class com.example.serial.Vehicle cannot be cast to class com.example.serial.Car\r\n```\r\nat this line:\r\n```\r\nCar c2 = (Car) ois.readObject();\r\n```\r\n\r\nReference: https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html","title":"Child Class is Serializable into a file, but the file is not Deserializable","body":"<p>What exception? (please consider to add it to the post, since it seems like an &quot;important detail&quot;)</p>\n<p>Sorry, cannot re-produce/comprehend:</p>\n<pre><code>package com.example.serial;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\npublic class SerialTest {\n\n  public static void main(String[] args) throws IOException, ClassNotFoundException {\n    Car car = new Car();\n    car.manufacturer = &quot;Toyota&quot;;\n    car.model = &quot;Land Cruiser&quot;;\n    \n    // tmp memory:\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n\n    // write object:\n    ObjectOutputStream oos = new ObjectOutputStream(outStream);\n    oos.writeObject(car);\n\n    // input stream of &quot;tmp memory&quot;:\n    ByteArrayInputStream inStream = new ByteArrayInputStream(outStream.toByteArray());\n\n    // read object:\n    ObjectInputStream ois = new ObjectInputStream(inStream);\n    Car c2 = (Car) ois.readObject();\n\n    // print/verify:\n    System.out.println(c2);\n  }\n}\n\nclass Vehicle implements Serializable {\n\n  private static final long serialVersionUID = 0L;\n  String manufacturer;\n}\n\nclass Car extends Vehicle {\n\n  String model;\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>com.example.serial.Car@1ed6993a\n</code></pre>\n<p>We can also do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Vehicle car = new Car();\n// ... same code, but without &quot;model&quot;\n</code></pre>\n<p>But not:</p>\n<pre><code>Vehicle car = new Vehicle();\n...\n</code></pre>\n<p>..this will lead to:</p>\n<pre class=\"lang-text prettyprint-override\"><code>java.lang.ClassCastException: class com.example.serial.Vehicle cannot be cast to class com.example.serial.Car\n</code></pre>\n<p>at this line:</p>\n<pre><code>Car c2 = (Car) ois.readObject();\n</code></pre>\n<p>Reference: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html</a></p>\n"}],"owner":{"account_id":22956230,"reputation":223,"user_id":17086756,"display_name":"nightboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70701855,"answer_count":1,"score":1,"last_activity_date":1642101058,"creation_date":1642099193,"question_id":70701490,"body_markdown":"We have a super class called &quot;Vehicle&quot;, that implements the marker interface Serializable.\r\nThen we have a child class called &quot;Car&quot;, that inherits &quot;Vehicle&quot;, thus the child class &quot;Car&quot; also implements the Serializable marker interface, because of it&#39;s parent &quot;Vehicle&quot;.\r\n\r\nNow we can Serialize any instance of a Vehicle to a File, without any problems.\r\nBut when we try to perform Deserialization of that File, to an Object of type &quot;Car&quot;, then the program throws an Exception.\r\n\r\nThe way I solved this is by implementing the Serializable marker interface manually in the &quot;Car&quot; class. \r\n\r\nWhy is that the case? From all things I read on Serialization today, nobody seems to cover this issue. \r\n\r\nThe conclusion I came to is the following: When the &quot;Car&quot; class inherits the &quot;Vehicle&quot; class, it also inherits the interface implemented in &quot;Vehicle&quot;, thus the &quot;Car&quot; object is serializable, but once we serialize an instance of the &quot;Car&quot; object to a File (for example: &quot;car1.ser&quot;), the &quot;car1.ser&quot; file has an object written to it, with all of it&#39;s modifiers, attributes, methods and etc. \r\nBut somehow the object of type &quot;Car&quot;, that is written to the &quot;car1.ser&quot; file, does not inherit the &quot;Serializable&quot; marker from it&#39;s parent. What is the reason for that, I am not really sure.","title":"Child Class is Serializable into a file, but the file is not Deserializable","body":"<p>We have a super class called &quot;Vehicle&quot;, that implements the marker interface Serializable.\nThen we have a child class called &quot;Car&quot;, that inherits &quot;Vehicle&quot;, thus the child class &quot;Car&quot; also implements the Serializable marker interface, because of it's parent &quot;Vehicle&quot;.</p>\n<p>Now we can Serialize any instance of a Vehicle to a File, without any problems.\nBut when we try to perform Deserialization of that File, to an Object of type &quot;Car&quot;, then the program throws an Exception.</p>\n<p>The way I solved this is by implementing the Serializable marker interface manually in the &quot;Car&quot; class.</p>\n<p>Why is that the case? From all things I read on Serialization today, nobody seems to cover this issue.</p>\n<p>The conclusion I came to is the following: When the &quot;Car&quot; class inherits the &quot;Vehicle&quot; class, it also inherits the interface implemented in &quot;Vehicle&quot;, thus the &quot;Car&quot; object is serializable, but once we serialize an instance of the &quot;Car&quot; object to a File (for example: &quot;car1.ser&quot;), the &quot;car1.ser&quot; file has an object written to it, with all of it's modifiers, attributes, methods and etc.\nBut somehow the object of type &quot;Car&quot;, that is written to the &quot;car1.ser&quot; file, does not inherit the &quot;Serializable&quot; marker from it's parent. What is the reason for that, I am not really sure.</p>\n"},{"tags":["java","pdfbox","nosuchmethoderror"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1642093157,"post_id":70700215,"comment_id":124985814,"body_markdown":"Did you update all neeed dependencies and rebuilt the deployment?","body":"Did you update all neeed dependencies and rebuilt the deployment?"},{"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"score":0,"creation_date":1642093798,"post_id":70700215,"comment_id":124986101,"body_markdown":"Yes. All project dependencies were downloaded and I rebuilt the project.","body":"Yes. All project dependencies were downloaded and I rebuilt the project."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1642098276,"post_id":70700215,"comment_id":124987763,"body_markdown":"Something is Expecting another version of the library with that method in it.  Can the original developer have a look at the code?","body":"Something is Expecting another version of the library with that method in it.  Can the original developer have a look at the code?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1642098308,"post_id":70700215,"comment_id":124987774,"body_markdown":"Are you sure the deployment is correct?","body":"Are you sure the deployment is correct?"},{"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"score":0,"creation_date":1642100355,"post_id":70700215,"comment_id":124988545,"body_markdown":"I&#39;m using eclipse + tomcat 8. I realized now that when I published the updated code in tomcat, I was going to lib pdfbox 1.7.0.","body":"I&#39;m using eclipse + tomcat 8. I realized now that when I published the updated code in tomcat, I was going to lib pdfbox 1.7.0."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1642100406,"post_id":70700215,"comment_id":124988574,"body_markdown":"Are you using eclipse? Anyway, mention the IDE in  the labels.","body":"Are you using eclipse? Anyway, mention the IDE in  the labels."}],"answers":[{"tags":[],"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642100851,"creation_date":1642100851,"answer_id":70701817,"question_id":70700215,"body_markdown":"Thanks for the comments. I temporarily solved my problem by manually removing the old libs, in the directory C:\\TOMCAT\\apache-tomcat-8.0.32\\wtpwebapps\\mp-diariooficial\\WEB-INF\\lib","title":"java.lang.NoSuchMethodError: &#39;org.apache.pdfbox.pdmodel.PDDocument org.apache.pdfbox.pdmodel.PDDocument.load(byte[])&#39;","body":"<p>Thanks for the comments. I temporarily solved my problem by manually removing the old libs, in the directory C:\\TOMCAT\\apache-tomcat-8.0.32\\wtpwebapps\\mp-diariooficial\\WEB-INF\\lib</p>\n"}],"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642100851,"creation_date":1642092648,"question_id":70700215,"body_markdown":"My Project previously used the pdfbox 1.7 dependency. then I switched to 2.0.25 and I am getting the following error.\r\n\r\n    java.lang.NoSuchMethodError: &#39;org.apache.pdfbox.pdmodel.PDDocument org.apache.pdfbox.pdmodel.PDDocument.load(byte[])&#39;\r\n\r\nChecking the class path and the jar of the lib it is possible to verify that the class has the method, however the error continues.\r\n\r\nBelow is a code snippet where I try to read the pages of a pdf.\r\n\r\n    public static void analyseImageEntirePagePdfAto(byte[] sourcePdf) throws Throwable{\r\n    \t\tPDDocument docAto = PDDocument.load(sourcePdf);\r\n    \t\tint p = 0;\r\n    \t\tPDPageTree pageTree = docAto.getPages();\r\n    \t\tfor (PDPage pagina : pageTree){\r\n    \t\t\tp++;\r\n    \t\t\tPDFTextStripper reader = new PDFTextStripper();\r\n    \t\t\treader.setStartPage(p);\r\n    \t\t\treader.setEndPage(p);\r\n    \t\t\tString pageText = reader.getText(docAto);\r\n    \t\t\tif (pageText != &quot;&quot; &amp;&amp; pageText != null){\r\n    \t\t\t\tSystem.out.println(&quot;P&#225;gina &quot; + String.valueOf(p) + &quot; cont&#233;m o texto: &quot; + pageText.substring(0,20) + &quot;...&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;P&#225;gina n&#227;o cont&#233;m o texto.&quot;);\r\n    \t\t\t}\r\n    \t\t\tPDResources pdResources = pagina.getResources();\r\n    \t\t\tint qtdImg = 0;\r\n    \t\t\tfor (COSName c : pdResources.getXObjectNames()){\r\n    \t\t\t\tPDXObject o = pdResources.getXObject(c);\r\n    \t\t\t\tif (o instanceof PDImageXObject){\r\n    \t\t\t\t\tqtdImg++;\r\n    \t\t\t\t\tPDImageXObject i = (PDImageXObject) o;\r\n    \t\t\t\t\tSystem.out.println(&quot;  Imagem &quot; + String.valueOf(qtdImg) + &quot; possui medidas: h - &quot; + String.valueOf(i.getHeight()) + &quot; w - &quot; + String.valueOf(i.getHeight()));\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i2mhf.png","title":"java.lang.NoSuchMethodError: &#39;org.apache.pdfbox.pdmodel.PDDocument org.apache.pdfbox.pdmodel.PDDocument.load(byte[])&#39;","body":"<p>My Project previously used the pdfbox 1.7 dependency. then I switched to 2.0.25 and I am getting the following error.</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.apache.pdfbox.pdmodel.PDDocument org.apache.pdfbox.pdmodel.PDDocument.load(byte[])'\n</code></pre>\n<p>Checking the class path and the jar of the lib it is possible to verify that the class has the method, however the error continues.</p>\n<p>Below is a code snippet where I try to read the pages of a pdf.</p>\n<pre><code>public static void analyseImageEntirePagePdfAto(byte[] sourcePdf) throws Throwable{\n        PDDocument docAto = PDDocument.load(sourcePdf);\n        int p = 0;\n        PDPageTree pageTree = docAto.getPages();\n        for (PDPage pagina : pageTree){\n            p++;\n            PDFTextStripper reader = new PDFTextStripper();\n            reader.setStartPage(p);\n            reader.setEndPage(p);\n            String pageText = reader.getText(docAto);\n            if (pageText != &quot;&quot; &amp;&amp; pageText != null){\n                System.out.println(&quot;Página &quot; + String.valueOf(p) + &quot; contém o texto: &quot; + pageText.substring(0,20) + &quot;...&quot;);\n            } else {\n                System.out.println(&quot;Página não contém o texto.&quot;);\n            }\n            PDResources pdResources = pagina.getResources();\n            int qtdImg = 0;\n            for (COSName c : pdResources.getXObjectNames()){\n                PDXObject o = pdResources.getXObject(c);\n                if (o instanceof PDImageXObject){\n                    qtdImg++;\n                    PDImageXObject i = (PDImageXObject) o;\n                    System.out.println(&quot;  Imagem &quot; + String.valueOf(qtdImg) + &quot; possui medidas: h - &quot; + String.valueOf(i.getHeight()) + &quot; w - &quot; + String.valueOf(i.getHeight()));                   \n                }\n            }           \n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/i2mhf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i2mhf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1642100651,"post_id":70701722,"comment_id":124988677,"body_markdown":"And ... what do you want to know?","body":"And ... what do you want to know?"},{"owner":{"account_id":1914119,"reputation":324,"user_id":1727116,"accept_rate":0,"display_name":"Randhir"},"score":0,"creation_date":1642100767,"post_id":70701722,"comment_id":124988712,"body_markdown":"@ElHoss I am getting Compile Time error.","body":"@ElHoss I am getting Compile Time error."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1642100821,"post_id":70701722,"comment_id":124988732,"body_markdown":"`? extends Number` could be `Float`. You can&#39;t just pass in an Integer. `? super Number` would work though.","body":"<code>? extends Number</code> could be <code>Float</code>. You can&#39;t just pass in an Integer. <code>? super Number</code> would work though."},{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1642100842,"post_id":70701722,"comment_id":124988740,"body_markdown":"obj2 is a an object of any class parameterized with any class that extends Number. It can by Double, Integer, BigDecimal etc. So the error is ok - Integer may not fit.","body":"obj2 is a an object of any class parameterized with any class that extends Number. It can by Double, Integer, BigDecimal etc. So the error is ok - Integer may not fit."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642100869,"post_id":70701722,"comment_id":124988746,"body_markdown":"Go through this [Oracle Java Tutorial on Generics](https://docs.oracle.com/javase/tutorial/extra/generics/index.html) first. Then, come back here and refine your question with specifics or simply close the question.","body":"Go through this <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/index.html\" rel=\"nofollow noreferrer\">Oracle Java Tutorial on Generics</a> first. Then, come back here and refine your question with specifics or simply close the question."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642101066,"post_id":70701722,"comment_id":124988810,"body_markdown":"@user16320675 Just research _Java PECS_.","body":"@user16320675 Just research <i>Java PECS</i>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642101144,"post_id":70701722,"comment_id":124988832,"body_markdown":"@user16320675 so that you could answer your own observation.","body":"@user16320675 so that you could answer your own observation."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642101231,"post_id":70701722,"comment_id":124988860,"body_markdown":"@user16320675 Never mind. This questions is closed now for the same reason why I told you to research PECS.","body":"@user16320675 Never mind. This questions is closed now for the same reason why I told you to research PECS."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1642101311,"post_id":70701722,"comment_id":124988892,"body_markdown":"It&#39;s not clear what you&#39;re trying to do. If you want your class to hold any Number, use `Class1&lt;Number&gt;`. If you want specifically Integers, why would you use `Class1&lt;? extends Number&gt;`?","body":"It&#39;s not clear what you&#39;re trying to do. If you want your class to hold any Number, use <code>Class1&lt;Number&gt;</code>. If you want specifically Integers, why would you use <code>Class1&lt;? extends Number&gt;</code>?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642101660,"post_id":70701722,"comment_id":124989027,"body_markdown":"@user16320675 no, I made the comment before I saw it was closed. Anyway, I thought you were bringing the point because of some confusion. I realize now that it was more rhetorical than anything else. Point taken.","body":"@user16320675 no, I made the comment before I saw it was closed. Anyway, I thought you were bringing the point because of some confusion. I realize now that it was more rhetorical than anything else. Point taken."}],"owner":{"account_id":1914119,"reputation":324,"user_id":1727116,"accept_rate":0,"display_name":"Randhir"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642100754,"answer_count":0,"score":0,"last_activity_date":1642100733,"creation_date":1642100384,"question_id":70701722,"body_markdown":"I am trying to create a generic class with a method that accepts a generic parameter. Now in another class create a method that will accept an object of that generic class. and call the generic method from new/main class. like below sample code.\r\n\r\n```\r\npublic class MainClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMainClass gp = new MainClass();\r\n\t\tClass1&lt;Integer&gt; cls1=new Class1&lt;&gt;();\r\n\t\tgp.method1(cls1);\r\n\t}\r\n\t\r\n\tpublic void method1(Class1&lt;? extends Number&gt; obj2) {\r\n\t\tobj2.method(10);  //CT error - can&#39;t pass integer\r\n\t}\r\n}\r\n\r\nclass Class1&lt;T&gt; {\r\n\tpublic void method(T arg) {\r\n\t\t\r\n\t}\r\n}\r\n``` \r\n\r\nI am getting compile time error. I am learning generic. I don&#39;t know where I am missing?","title":"Java generic concept","body":"<p>I am trying to create a generic class with a method that accepts a generic parameter. Now in another class create a method that will accept an object of that generic class. and call the generic method from new/main class. like below sample code.</p>\n<pre><code>public class MainClass {\n\n    public static void main(String[] args) {\n        MainClass gp = new MainClass();\n        Class1&lt;Integer&gt; cls1=new Class1&lt;&gt;();\n        gp.method1(cls1);\n    }\n    \n    public void method1(Class1&lt;? extends Number&gt; obj2) {\n        obj2.method(10);  //CT error - can't pass integer\n    }\n}\n\nclass Class1&lt;T&gt; {\n    public void method(T arg) {\n        \n    }\n}\n</code></pre>\n<p>I am getting compile time error. I am learning generic. I don't know where I am missing?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642099969,"creation_date":1642098725,"answer_id":70701400,"question_id":70701072,"body_markdown":"The problem is in this block:\r\n\r\n```java\r\n    @Column(name = &quot;addresses&quot;)\r\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private List&lt;AddressDataSet&gt; addresses = new ArrayList&lt;&gt;();\r\n```\r\n\r\nYou either use `@Column` or a`@One/ManyToOne/Many` relation. You cannot use both. The first one is for mapping primitive data types. The other one is for entities relations. Remove `@Column` and you should be good to go.\r\n\r\n**Update**\r\n\r\nYou added `Client` as annotated class, but not `AddressDataSet`. Add it just under the `addAnnotatedClass(Client.class)`:\r\n\r\n```java\r\nvar metadata = new MetadataSources(serviceRegistry)\r\n                .addAnnotatedClass(Client.class)\r\n                .addAnnotatedClass(AddressDataSet.class)\r\n                .getMetadataBuilder()\r\n                .build();\r\n```","title":"Exception in thread &quot;main&quot; org.hibernate.AnnotationException: - Use of @OneToMany or @ManyToMany targeting an unmapped class:","body":"<p>The problem is in this block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Column(name = &quot;addresses&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;AddressDataSet&gt; addresses = new ArrayList&lt;&gt;();\n</code></pre>\n<p>You either use <code>@Column</code> or a<code>@One/ManyToOne/Many</code> relation. You cannot use both. The first one is for mapping primitive data types. The other one is for entities relations. Remove <code>@Column</code> and you should be good to go.</p>\n<p><strong>Update</strong></p>\n<p>You added <code>Client</code> as annotated class, but not <code>AddressDataSet</code>. Add it just under the <code>addAnnotatedClass(Client.class)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var metadata = new MetadataSources(serviceRegistry)\n                .addAnnotatedClass(Client.class)\n                .addAnnotatedClass(AddressDataSet.class)\n                .getMetadataBuilder()\n                .build();\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70701400,"answer_count":1,"score":1,"last_activity_date":1642099969,"creation_date":1642096817,"question_id":70701072,"body_markdown":"Java 11\r\n\r\nTry to use Hibernate\r\n\r\nHere migration sql:\r\n\r\n    create table client\r\n    (\r\n        id bigserial primary key,\r\n        name varchar(255),\r\n        phone varchar(255)\r\n    );\r\n    create sequence clientId start 1 NO MAXVALUE;\r\n    \r\n    create table address_data_set\r\n    (\r\n        id bigserial primary key,\r\n        street varchar(255) not null,\r\n        client_id bigint not null references client(id)\r\n    );\r\n    create sequence addressId start 1 NO MAXVALUE;\r\n\r\n\r\nHere entities:\r\n\r\n    import javax.persistence.*;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static javax.persistence.GenerationType.SEQUENCE;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client {\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE, generator=&quot;clientId_generator&quot;)\r\n        @SequenceGenerator(name = &quot;clientId_generator&quot;, sequenceName = &quot;clientId&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;addresses&quot;)\r\n        @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        private List&lt;AddressDataSet&gt; addresses = new ArrayList&lt;&gt;();\r\n    \r\n        @Column(name = &quot;phone&quot;)\r\n        private String phone;\r\n    }\r\n\r\nAnd one more\r\n\r\n    import javax.persistence.*;\r\n    \r\n    import static javax.persistence.GenerationType.SEQUENCE;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;address_data_set&quot;)\r\n    public class AddressDataSet {\r\n        @Id\r\n        @GeneratedValue(strategy = SEQUENCE, generator=&quot;addressId_generator&quot;)\r\n        @SequenceGenerator(name = &quot;addressId_generator&quot;, sequenceName = &quot;addressId&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;street&quot;)\r\n        private String street;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;client_id&quot;, nullable = false)\r\n        private Client client;\r\n    }\r\n\r\n\r\nAnd try run like this:\r\n\r\n \r\n\r\n    private Main() {\r\n            flywayMigrations();\r\n    \r\n            var configuration = new Configuration()\r\n                    .setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL10Dialect&quot;)\r\n                    .setProperty(&quot;hibernate.connection.url&quot;, URL)\r\n                    .setProperty(&quot;hibernate.connection.username&quot;, USER)\r\n                    .setProperty(&quot;hibernate.connection.password&quot;, PASSWORD)\r\n    \r\n                    .setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;)\r\n                    .setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;) \r\n                    .setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\r\n    \r\n            var serviceRegistry = new StandardServiceRegistryBuilder()\r\n                    .applySettings(configuration.getProperties()).build();\r\n    \r\n            var metadata = new MetadataSources(serviceRegistry)\r\n                    .addAnnotatedClass(Client.class)\r\n                    .getMetadataBuilder()\r\n                    .build();\r\n    \r\n            sessionFactory = metadata.getSessionFactoryBuilder().build();\r\n        }\r\n    \r\n        private void flywayMigrations() {\r\n            logger.info(&quot;db migration started...&quot;);\r\n            var flyway = Flyway.configure()\r\n                    .dataSource(URL, USER, PASSWORD)\r\n                    .locations(&quot;classpath:/db/migration&quot;)\r\n                    .load();\r\n            flyway.migrate();\r\n            logger.info(&quot;db migration finished.&quot;);\r\n            logger.info(&quot;***&quot;);\r\n        }\r\n\r\n\r\nBut I get error:\r\n\r\n    2022-01-13 19:53:45.784 INFO  hw10.Main - db migration started...\r\n    2022-01-13 19:53:45.853 INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 7.1.1 by Redgate\r\n    2022-01-13 19:53:45.984 INFO  o.f.c.i.database.base.DatabaseType - Database: jdbc:postgresql://localhost:5430/hw10 (PostgreSQL 12.9)\r\n    2022-01-13 19:53:46.050 INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.036s)\r\n    2022-01-13 19:53:46.063 INFO  o.f.core.internal.command.DbMigrate - Current version of schema &quot;public&quot;: 11\r\n    2022-01-13 19:53:46.064 INFO  o.f.core.internal.command.DbMigrate - Schema &quot;public&quot; is up to date. No migration necessary.\r\n    2022-01-13 19:53:46.066 INFO  hw10.Main - db migration finished.\r\n    2022-01-13 19:53:46.066 INFO  hw10.Main - ***\r\n    Exception in thread &quot;main&quot; org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: hw10.model.Client.addresses[hw10.model.AddressDataSet]\r\n    \tat org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1351)\r\n    \tat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:874)\r\n    \tat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:799)\r\n    \tat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:53)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1693)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1661)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\r\n    \tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\r\n\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.AnnotationException: - Use of @OneToMany or @ManyToMany targeting an unmapped class:","body":"<p>Java 11</p>\n<p>Try to use Hibernate</p>\n<p>Here migration sql:</p>\n<pre><code>create table client\n(\n    id bigserial primary key,\n    name varchar(255),\n    phone varchar(255)\n);\ncreate sequence clientId start 1 NO MAXVALUE;\n\ncreate table address_data_set\n(\n    id bigserial primary key,\n    street varchar(255) not null,\n    client_id bigint not null references client(id)\n);\ncreate sequence addressId start 1 NO MAXVALUE;\n</code></pre>\n<p>Here entities:</p>\n<pre><code>import javax.persistence.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Entity\n@Table(name = &quot;client&quot;)\npublic class Client {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE, generator=&quot;clientId_generator&quot;)\n    @SequenceGenerator(name = &quot;clientId_generator&quot;, sequenceName = &quot;clientId&quot;, allocationSize = 1)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;addresses&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private List&lt;AddressDataSet&gt; addresses = new ArrayList&lt;&gt;();\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n}\n</code></pre>\n<p>And one more</p>\n<pre><code>import javax.persistence.*;\n\nimport static javax.persistence.GenerationType.SEQUENCE;\n\n@Entity\n@Table(name = &quot;address_data_set&quot;)\npublic class AddressDataSet {\n    @Id\n    @GeneratedValue(strategy = SEQUENCE, generator=&quot;addressId_generator&quot;)\n    @SequenceGenerator(name = &quot;addressId_generator&quot;, sequenceName = &quot;addressId&quot;, allocationSize = 1)\n    private Long id;\n\n    @Column(name = &quot;street&quot;)\n    private String street;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;client_id&quot;, nullable = false)\n    private Client client;\n}\n</code></pre>\n<p>And try run like this:</p>\n<pre><code>private Main() {\n        flywayMigrations();\n\n        var configuration = new Configuration()\n                .setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL10Dialect&quot;)\n                .setProperty(&quot;hibernate.connection.url&quot;, URL)\n                .setProperty(&quot;hibernate.connection.username&quot;, USER)\n                .setProperty(&quot;hibernate.connection.password&quot;, PASSWORD)\n\n                .setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;)\n                .setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;validate&quot;) \n                .setProperty(&quot;hibernate.generate_statistics&quot;, &quot;true&quot;);\n\n        var serviceRegistry = new StandardServiceRegistryBuilder()\n                .applySettings(configuration.getProperties()).build();\n\n        var metadata = new MetadataSources(serviceRegistry)\n                .addAnnotatedClass(Client.class)\n                .getMetadataBuilder()\n                .build();\n\n        sessionFactory = metadata.getSessionFactoryBuilder().build();\n    }\n\n    private void flywayMigrations() {\n        logger.info(&quot;db migration started...&quot;);\n        var flyway = Flyway.configure()\n                .dataSource(URL, USER, PASSWORD)\n                .locations(&quot;classpath:/db/migration&quot;)\n                .load();\n        flyway.migrate();\n        logger.info(&quot;db migration finished.&quot;);\n        logger.info(&quot;***&quot;);\n    }\n</code></pre>\n<p>But I get error:</p>\n<pre><code>2022-01-13 19:53:45.784 INFO  hw10.Main - db migration started...\n2022-01-13 19:53:45.853 INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 7.1.1 by Redgate\n2022-01-13 19:53:45.984 INFO  o.f.c.i.database.base.DatabaseType - Database: jdbc:postgresql://localhost:5430/hw10 (PostgreSQL 12.9)\n2022-01-13 19:53:46.050 INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.036s)\n2022-01-13 19:53:46.063 INFO  o.f.core.internal.command.DbMigrate - Current version of schema &quot;public&quot;: 11\n2022-01-13 19:53:46.064 INFO  o.f.core.internal.command.DbMigrate - Schema &quot;public&quot; is up to date. No migration necessary.\n2022-01-13 19:53:46.066 INFO  hw10.Main - db migration finished.\n2022-01-13 19:53:46.066 INFO  hw10.Main - ***\nException in thread &quot;main&quot; org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: hw10.model.Client.addresses[hw10.model.AddressDataSet]\n    at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1351)\n    at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:874)\n    at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:799)\n    at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:53)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1693)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1661)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1641364799,"post_id":70588712,"comment_id":124782965,"body_markdown":"Can you show us the code of your attempt? What exactly makes you regard it as *not yet successful*?","body":"Can you show us the code of your attempt? What exactly makes you regard it as <i>not yet successful</i>?"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":0,"creation_date":1641365005,"post_id":70588712,"comment_id":124783006,"body_markdown":"You probably want `split(&quot;^A&quot;)`","body":"You probably want <code>split(&quot;^A&quot;)</code>"},{"owner":{"account_id":19559212,"reputation":65,"user_id":14312777,"display_name":"Programmer"},"score":0,"creation_date":1641365668,"post_id":70588712,"comment_id":124783149,"body_markdown":"Added code which I have tried.","body":"Added code which I have tried."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1641365685,"post_id":70588712,"comment_id":124783152,"body_markdown":"What&#39;s the initial String for the expected output of `&quot;EVENT_HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.0^A123456789012&quot;`?","body":"What&#39;s the initial String for the expected output of <code>&quot;EVENT_HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.&zwnj;&#8203;0^A123456789012&quot;</code>?"},{"owner":{"account_id":19559212,"reputation":65,"user_id":14312777,"display_name":"Programmer"},"score":0,"creation_date":1641366676,"post_id":70588712,"comment_id":124783370,"body_markdown":"@Bohemian It is in above code str string variable is my initial String.","body":"@Bohemian It is in above code str string variable is my initial String."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1641369234,"post_id":70588712,"comment_id":124784057,"body_markdown":"Well, I think you just need to use `7` instead of `6` as an argument to `ordinalIndexOf`.","body":"Well, I think you just need to use <code>7</code> instead of <code>6</code> as an argument to <code>ordinalIndexOf</code>."},{"owner":{"account_id":19559212,"reputation":65,"user_id":14312777,"display_name":"Programmer"},"score":0,"creation_date":1641372283,"post_id":70588712,"comment_id":124784924,"body_markdown":"I did try with 7 but logically I didnt get why it should be 7 and not 6.. initial value of pos is set with first index but I did try to set initial pos value to 0 still didnt get it work for 6. –","body":"I did try with 7 but logically I didnt get why it should be 7 and not 6.. initial value of pos is set with first index but I did try to set initial pos value to 0 still didnt get it work for 6. –"}],"answers":[{"tags":[],"owner":{"display_name":"user15070324"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641365124,"creation_date":1641365124,"answer_id":70588771,"question_id":70588712,"body_markdown":"You could try to use the .indexOf() method. So, in this case try:\r\n\r\n```\r\nString str = &quot;HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A&quot;;\r\nSystem.out.println(str.indexOf(&quot;^A&quot;));\r\n```\r\n\r\nThis will print the index of the first appearance of the given substring. Alternatively, you could do:\r\n\r\n```\r\nString str = &quot;HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A&quot;;\r\nSystem.out.println(str.indexOf(&quot;^A&quot;, 10)); // Start at index 10.\r\n```\r\n\r\nPlease refer to the documention here for more: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)","title":"Java String trim based on delimiter nth position","body":"<p>You could try to use the .indexOf() method. So, in this case try:</p>\n<pre><code>String str = &quot;HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A&quot;;\nSystem.out.println(str.indexOf(&quot;^A&quot;));\n</code></pre>\n<p>This will print the index of the first appearance of the given substring. Alternatively, you could do:</p>\n<pre><code>String str = &quot;HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A&quot;;\nSystem.out.println(str.indexOf(&quot;^A&quot;, 10)); // Start at index 10.\n</code></pre>\n<p>Please refer to the documention here for more: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642099796,"creation_date":1641366156,"answer_id":70588931,"question_id":70588712,"body_markdown":"This will extract terms adjacent to `^A` up to the nth `^A` (which is n+1 terms), or blank if that many terms are not present:\r\n\r\n    int n = 6; // for example\r\n    str = str.replaceAll(&quot;(.*?(\\\\^A.*?){&quot; + n + &quot;})\\\\^A.*|.*&quot;, &quot;$1&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nIf the `&quot;^A&quot;` in your input really means character `1`, ie `(char)1` then use octal `\\001` to code it as a String literal:\r\n\r\n    str = str.replaceAll(&quot;(.*?(\\001.*?){&quot; + n + &quot;})\\001.*|.*&quot;, &quot;$1&quot;);\r\n\r\nThe result is a blank when there are insufficient terms (less than n delimiters) thanks to an alternation `|.*` *after* the main regex. Alternations are attempted left to right: If the main regex matches, the captured group will contain your target, but if it doesn&#39;t match group 1 will be empty. In both cases, the entire String is matched and the replacement is group 1, so the result is either the first n+1 terms or blank if n delimiters are not present.\r\n\r\n  [1]: https://ideone.com/K9wl7I","title":"Java String trim based on delimiter nth position","body":"<p>This will extract terms adjacent to <code>^A</code> up to the nth <code>^A</code> (which is n+1 terms), or blank if that many terms are not present:</p>\n<pre><code>int n = 6; // for example\nstr = str.replaceAll(&quot;(.*?(\\\\^A.*?){&quot; + n + &quot;})\\\\^A.*|.*&quot;, &quot;$1&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/K9wl7I\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>If the <code>&quot;^A&quot;</code> in your input really means character <code>1</code>, ie <code>(char)1</code> then use octal <code>\\001</code> to code it as a String literal:</p>\n<pre><code>str = str.replaceAll(&quot;(.*?(\\001.*?){&quot; + n + &quot;})\\001.*|.*&quot;, &quot;$1&quot;);\n</code></pre>\n<p>The result is a blank when there are insufficient terms (less than n delimiters) thanks to an alternation <code>|.*</code> <em>after</em> the main regex. Alternations are attempted left to right: If the main regex matches, the captured group will contain your target, but if it doesn't match group 1 will be empty. In both cases, the entire String is matched and the replacement is group 1, so the result is either the first n+1 terms or blank if n delimiters are not present.</p>\n"}],"owner":{"account_id":19559212,"reputation":65,"user_id":14312777,"display_name":"Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1642099796,"creation_date":1641364691,"question_id":70588712,"body_markdown":"I have a java method in which trying to parse a string where fields are delimited by char ^A. Sample string like below. \r\n\r\n    HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A\r\n\r\nI have attempted to use apache ordinalIndexOf but so far not yet successful with the same.\r\n\r\nIs there any other alternative approach available for this scenario?\r\n\r\n\r\n    public class HelloWorld{\r\n    \r\n    public static int ordinalIndexOf(String str, String substr, int n) {\r\n    \r\n        int pos = str.indexOf(substr);\r\n    \r\n        while (--n &gt; 0 &amp;&amp; pos != -1)\r\n    \r\n            pos = str.indexOf(substr, pos+1);\r\n    \r\n        return pos;\r\n    \r\n    }\r\n         public static void main(String []args){\r\n    //Just kept it here as I need to use standards.. not using in below code\r\n             String CTRL_A = Character.valueOf((char) 0x01).toString();    \r\n         String str = &quot;HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.0^A123456789012^AHAI^ABYE&quot;;\r\n    \r\n                  int position = ordinalIndexOf(str,&quot;^A&quot;,6);\r\n    \r\n            System.out.println(str.substring(0,position));\r\n    \r\n         }\r\n    \r\n    }\r\n\r\nExpected Output String:\r\n\r\n&gt; EVENT_HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.0^A123456789012\r\n\r\n[Referred Link][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/3976616/how-to-find-nth-occurrence-of-character-in-a-string\r\n","title":"Java String trim based on delimiter nth position","body":"<p>I have a java method in which trying to parse a string where fields are delimited by char ^A. Sample string like below.</p>\n<pre><code>HDR^A1^A20220106^ATYPE^AXXX^AJAPAN^AUNIFORM^AHELP^AEXAMPLE^A\n</code></pre>\n<p>I have attempted to use apache ordinalIndexOf but so far not yet successful with the same.</p>\n<p>Is there any other alternative approach available for this scenario?</p>\n<pre><code>public class HelloWorld{\n\npublic static int ordinalIndexOf(String str, String substr, int n) {\n\n    int pos = str.indexOf(substr);\n\n    while (--n &gt; 0 &amp;&amp; pos != -1)\n\n        pos = str.indexOf(substr, pos+1);\n\n    return pos;\n\n}\n     public static void main(String []args){\n//Just kept it here as I need to use standards.. not using in below code\n         String CTRL_A = Character.valueOf((char) 0x01).toString();    \n     String str = &quot;HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.0^A123456789012^AHAI^ABYE&quot;;\n\n              int position = ordinalIndexOf(str,&quot;^A&quot;,6);\n\n        System.out.println(str.substring(0,position));\n\n     }\n\n}\n</code></pre>\n<p>Expected Output String:</p>\n<blockquote>\n<p>EVENT_HDR^ABYE^A20220103065014^Agoogle.com_29958^ABUDDY^A1.0^A123456789012</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/3976616/how-to-find-nth-occurrence-of-character-in-a-string\">Referred Link</a></p>\n"},{"tags":["java","xml","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1695522,"reputation":386,"user_id":1556966,"accept_rate":50,"display_name":"Mayank Choudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642097450,"creation_date":1642097450,"answer_id":70701183,"question_id":70700950,"body_markdown":"Though your best go-to resource for this would be Log4j&#39;s [official documentation][1], I will list out two more references that can help you out.\r\n\r\nBaeldung is one of my favourite Java blogs. You can go through [this article][2].\r\n\r\nYou can also refer to this [Stackoverflow answer][3].\r\n\r\nIf you are in a hurry, have a look at the below code snippet.\r\n\r\n            final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n            final Configuration config = ctx.getConfiguration();\r\n            final Layout layout = PatternLayout.createDefaultLayout(config);\r\n            Appender appender = FileAppender.createAppender(&quot;path/to/logFile.log&quot;, &quot;false&quot;, &quot;false&quot;, &quot;File&quot;, &quot;true&quot;,\r\n                &quot;false&quot;, &quot;false&quot;, &quot;4000&quot;, layout, null, &quot;false&quot;, null, config);\r\n            appender.start();\r\n            config.addAppender(appender);\r\n            AppenderRef ref = AppenderRef.createAppenderRef(&quot;File&quot;, null, null);\r\n            AppenderRef[] refs = new AppenderRef[] {ref};\r\n            LoggerConfig loggerConfig = LoggerConfig.createLogger(&quot;false&quot;, &quot;info&quot;, &quot;org.apache.logging.log4j&quot;,\r\n                &quot;true&quot;, refs, null, config, null );\r\n            loggerConfig.addAppender(appender, null, null);\r\n            config.addLogger(&quot;org.apache.logging.log4j&quot;, loggerConfig);\r\n            ctx.updateLoggers();\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/customconfig.html\r\n  [2]: https://www.baeldung.com/log4j2-programmatic-config\r\n  [3]: https://stackoverflow.com/a/9003191/1556966","title":"How to set log4j 2.x output path after reading in log4j.xml","body":"<p>Though your best go-to resource for this would be Log4j's <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html\" rel=\"nofollow noreferrer\">official documentation</a>, I will list out two more references that can help you out.</p>\n<p>Baeldung is one of my favourite Java blogs. You can go through <a href=\"https://www.baeldung.com/log4j2-programmatic-config\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>You can also refer to this <a href=\"https://stackoverflow.com/a/9003191/1556966\">Stackoverflow answer</a>.</p>\n<p>If you are in a hurry, have a look at the below code snippet.</p>\n<pre><code>        final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n        final Configuration config = ctx.getConfiguration();\n        final Layout layout = PatternLayout.createDefaultLayout(config);\n        Appender appender = FileAppender.createAppender(&quot;path/to/logFile.log&quot;, &quot;false&quot;, &quot;false&quot;, &quot;File&quot;, &quot;true&quot;,\n            &quot;false&quot;, &quot;false&quot;, &quot;4000&quot;, layout, null, &quot;false&quot;, null, config);\n        appender.start();\n        config.addAppender(appender);\n        AppenderRef ref = AppenderRef.createAppenderRef(&quot;File&quot;, null, null);\n        AppenderRef[] refs = new AppenderRef[] {ref};\n        LoggerConfig loggerConfig = LoggerConfig.createLogger(&quot;false&quot;, &quot;info&quot;, &quot;org.apache.logging.log4j&quot;,\n            &quot;true&quot;, refs, null, config, null );\n        loggerConfig.addAppender(appender, null, null);\n        config.addLogger(&quot;org.apache.logging.log4j&quot;, loggerConfig);\n        ctx.updateLoggers();\n</code></pre>\n"}],"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70701183,"answer_count":1,"score":1,"last_activity_date":1642099720,"creation_date":1642096243,"question_id":70700950,"body_markdown":"Say I have an appender defined in the log4j.xml file below.    \r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n                &lt;param name=&quot;File&quot; value=&quot;/home/logs/oarm_log.txt&quot; /&gt;\r\n                &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy-MM-dd-HH&quot; /&gt;\r\n                &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                     &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p[app=%log4j.webapp.name%] [%t] %c - %m\\n&quot; /&gt;\r\n                &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n\r\nHow could I change the value **&quot;/home/logs/oarm_log.txt&quot;** to a different value that comes from a string found in the actual Java code so that the code determines where to output the .txt file?","title":"How to set log4j 2.x output path after reading in log4j.xml","body":"<p>Say I have an appender defined in the log4j.xml file below.</p>\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n            &lt;param name=&quot;File&quot; value=&quot;/home/logs/oarm_log.txt&quot; /&gt;\n            &lt;param name=&quot;DatePattern&quot; value=&quot;'.'yyyy-MM-dd-HH&quot; /&gt;\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n                 &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p[app=%log4j.webapp.name%] [%t] %c - %m\\n&quot; /&gt;\n            &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>How could I change the value <strong>&quot;/home/logs/oarm_log.txt&quot;</strong> to a different value that comes from a string found in the actual Java code so that the code determines where to output the .txt file?</p>\n"},{"tags":["java","unit-testing","mocking","mockito","java-stream"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1642102903,"post_id":70701498,"comment_id":124989501,"body_markdown":"Don&#39;t go down the mocking path. List is trivial to construct. Test your method with a real List with a few known Programs. Think of edge cases - what if no program matches your client. And lastly - think how to improve implementation: is collecting to List necessary to get first element? Maybe change API to return Optional?","body":"Don&#39;t go down the mocking path. List is trivial to construct. Test your method with a real List with a few known Programs. Think of edge cases - what if no program matches your client. And lastly - think how to improve implementation: is collecting to List necessary to get first element? Maybe change API to return Optional?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1642104770,"post_id":70701498,"comment_id":124990090,"body_markdown":"Don&#39;t mock collections or streams.  There&#39;s never a good reason to.","body":"Don&#39;t mock collections or streams.  There&#39;s never a good reason to."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1642155773,"post_id":70701498,"comment_id":125001212,"body_markdown":"See also Mockito’s documentation: [Don&#39;t mock a type you don&#39;t own!](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own), not a hard rule but I think the 3rd bullet applies here: “_might be complex and require a lot of mocks to even work properly_”. In this case I would just use real lists, typically `Arrays.asList(test values)`. If `Program` is a POJO I wouldn’t mock it either – [Don&#39;t mock value objects](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects) from the same documentation page.","body":"See also Mockito’s documentation: <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">Don&#39;t mock a type you don&#39;t own!</a>, not a hard rule but I think the 3rd bullet applies here: “<i>might be complex and require a lot of mocks to even work properly</i>”. In this case I would just use real lists, typically <code>Arrays.asList(test values)</code>. If <code>Program</code> is a POJO I wouldn’t mock it either – <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-value-objects\" rel=\"nofollow noreferrer\">Don&#39;t mock value objects</a> from the same documentation page."},{"owner":{"account_id":9371109,"reputation":105,"user_id":8344848,"display_name":"lukederienzo"},"score":0,"creation_date":1642192898,"post_id":70701498,"comment_id":125014862,"body_markdown":"OK, thanks guys!","body":"OK, thanks guys!"}],"owner":{"account_id":9371109,"reputation":105,"user_id":8344848,"display_name":"lukederienzo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642099240,"creation_date":1642099240,"question_id":70701498,"body_markdown":"I&#39;ve been searching and banging my head on this for a while, and was wondering if anyone out here had any idea how to mock, or if it&#39;s even possible to mock this code.\r\n\r\nHere&#39;s the code. I need to mock &#39;programs&#39; and have it return a designated &#39;Program&#39; object:\r\n```\r\nprivate Program getProgramFromClient(Client client) {\r\n\treturn programs.stream().filter(\r\n\t\t\tprogram -&gt; program.getProgramCode()\r\n\t\t\t\t.equalsIgnoreCase(client.getProgramCode()))\r\n\t\t.collect(Collectors.toList()).get(0);\r\n}\r\n```\r\n\r\nI&#39;m presently using the @Mock annotations on these objects as follows: \r\n\r\n```\r\n@Mock\r\nprivate Program program;\r\n\r\n@Mock\r\nprivate List&lt;Program&gt; programs;\r\n```\r\n\r\nThen in the test class I have the following...\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n\r\n   ...\r\n\r\n   programs = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nand then in the test method I have this:\r\n\r\n```\r\nwhen(programs.stream().filter(any()).collect(any())).thenReturn(programs);\r\nwhen(programs.get(any())).thenReturn(program);\r\n```\r\n\r\nWhen I run the test, I get the following errors:\r\n\r\n```\r\njava.lang.NullPointerException\r\n```\r\nWhich is referring to this line:\r\n```\r\nwhen(programs.stream().filter(any()).collect(any())).thenReturn(programs);\r\n```\r\nWhen I click the error, the cursor moves to the beginning of &#39;filter&#39;, so it looks like it&#39;s saying programs is empty, which I suppose is true, but I&#39;m (trying) to mock it.\r\nDo I need to make it an un-mocked list?\r\ni.e. a real list with the program added?\r\nI think I tried this earlier and still ran into trouble, but If someone suggests it again, I can re-try.\r\n\r\nThe following is also part of the error message, but my feeble and burnt brain is having trouble understanding exactly what this all means at the moment:\r\n```\r\nYou cannot use argument matchers outside of verification or stubbing.\r\nExamples of correct usage of argument matchers:\r\n    when(mock.get(anyInt())).thenReturn(null);\r\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n    verify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\nThis message may appear after an NullPointerException if the last matcher is returning an object \r\nlike any() but the stubbed method signature expect a primitive argument, in this case,\r\nuse primitive alternatives.\r\n    when(mock.get(any())); // bad use, will raise NPE\r\n    when(mock.get(anyInt())); // correct usage use\r\n\r\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\r\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\nMocking methods declared on non-public parent classes is not supported.\r\n\r\n```\r\n\r\nAs always, any and all help is tremendously appreciated!\r\n\r\n","title":"How to use Mockito to mock java stream and filter operation","body":"<p>I've been searching and banging my head on this for a while, and was wondering if anyone out here had any idea how to mock, or if it's even possible to mock this code.</p>\n<p>Here's the code. I need to mock 'programs' and have it return a designated 'Program' object:</p>\n<pre><code>private Program getProgramFromClient(Client client) {\n    return programs.stream().filter(\n            program -&gt; program.getProgramCode()\n                .equalsIgnoreCase(client.getProgramCode()))\n        .collect(Collectors.toList()).get(0);\n}\n</code></pre>\n<p>I'm presently using the @Mock annotations on these objects as follows:</p>\n<pre><code>@Mock\nprivate Program program;\n\n@Mock\nprivate List&lt;Program&gt; programs;\n</code></pre>\n<p>Then in the test class I have the following...</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n\n   ...\n\n   programs = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>and then in the test method I have this:</p>\n<pre><code>when(programs.stream().filter(any()).collect(any())).thenReturn(programs);\nwhen(programs.get(any())).thenReturn(program);\n</code></pre>\n<p>When I run the test, I get the following errors:</p>\n<pre><code>java.lang.NullPointerException\n</code></pre>\n<p>Which is referring to this line:</p>\n<pre><code>when(programs.stream().filter(any()).collect(any())).thenReturn(programs);\n</code></pre>\n<p>When I click the error, the cursor moves to the beginning of 'filter', so it looks like it's saying programs is empty, which I suppose is true, but I'm (trying) to mock it.\nDo I need to make it an un-mocked list?\ni.e. a real list with the program added?\nI think I tried this earlier and still ran into trouble, but If someone suggests it again, I can re-try.</p>\n<p>The following is also part of the error message, but my feeble and burnt brain is having trouble understanding exactly what this all means at the moment:</p>\n<pre><code>You cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n\n</code></pre>\n<p>As always, any and all help is tremendously appreciated!</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642098584,"creation_date":1642098584,"answer_id":70701380,"question_id":70701339,"body_markdown":"You can try [WorkManager][1]. It will delete your file...\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager","title":"Deleting files in the background service","body":"<p>You can try <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">WorkManager</a>. It will delete your file...</p>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642099211,"creation_date":1642099211,"answer_id":70701493,"question_id":70701339,"body_markdown":"Question is pretty vague. Please be specific on which OS you want to this, any specific technology, particular environment... queue of questions on your questions i so endless.\r\n\r\nThough to answer at high level:\r\n&lt;br&gt;**Solution 1:** If windows / Linux, you can write a batch / shell script which you can mark into Windows scheduler / Linux cron job. Batch will have all logic to what to delete from which path, any specific file or starting with etc. scheduler / cron job will decide at what time you want to do this. For this timeline you need to check syntax and for both OS its different. Simple search and you will get everything.\r\n&lt;br&gt;**Solution 2:** If you want o do it by code, you can write a Spring scheduler code (this can be in any language, but as Java developer, I will prefer this) which will interact with file system and perform file deletion for you after particular interval. For this you may need an application server to deploy.\r\n\r\nIf application server is available on machine then this will be easy job for you, or else easiest thing to do is **Solution 1**.","title":"Deleting files in the background service","body":"<p>Question is pretty vague. Please be specific on which OS you want to this, any specific technology, particular environment... queue of questions on your questions i so endless.</p>\n<p>Though to answer at high level:\n<br><strong>Solution 1:</strong> If windows / Linux, you can write a batch / shell script which you can mark into Windows scheduler / Linux cron job. Batch will have all logic to what to delete from which path, any specific file or starting with etc. scheduler / cron job will decide at what time you want to do this. For this timeline you need to check syntax and for both OS its different. Simple search and you will get everything.\n<br><strong>Solution 2:</strong> If you want o do it by code, you can write a Spring scheduler code (this can be in any language, but as Java developer, I will prefer this) which will interact with file system and perform file deletion for you after particular interval. For this you may need an application server to deploy.</p>\n<p>If application server is available on machine then this will be easy job for you, or else easiest thing to do is <strong>Solution 1</strong>.</p>\n"}],"owner":{"account_id":19272868,"reputation":1,"user_id":14885654,"display_name":"Slavuuhhaaa"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642165035,"answer_count":2,"score":0,"last_activity_date":1642099211,"creation_date":1642098256,"question_id":70701339,"body_markdown":"I need to delete files in the background service after a certain time, is it possible to implement this and in what way?","title":"Deleting files in the background service","body":"<p>I need to delete files in the background service after a certain time, is it possible to implement this and in what way?</p>\n"},{"tags":["java","android","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1642070356,"post_id":70695130,"comment_id":124976412,"body_markdown":"Is the column KEY_ID defined as TEXT?","body":"Is the column KEY_ID defined as TEXT?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642098806,"creation_date":1642070577,"answer_id":70695225,"question_id":70695130,"body_markdown":"**In short you are probably trying to insert the *`userName`* into the wrong column.** The **id** column is likely limited to integer values *(long, int, short etc)*.\r\n\r\n\r\nThe only situations where you will get a [datatype mismatch][1] is if you are trying to insert a non integer value into the rowid column or an alias of the rowid column or if the column type is BOOLEAN and you try to insert a large BLOB. As you are not inserting a BLOB, then the former is the cause.\r\n\r\n&gt; (20) SQLITE_MISMATCH\r\nThe SQLITE_MISMATCH error code indicates a datatype mismatch.\r\n&gt;\r\n&gt;SQLite is normally very forgiving about mismatches between the type of a value and the declared type of the container in which that value is to be stored. \r\n&gt;\r\n&gt;For example, SQLite allows the application to store a large BLOB in a column with a declared type of BOOLEAN. But in a few cases, SQLite is strict about types. The SQLITE_MISMATCH error is returned in those few cases when the types do not match.\r\n&gt;\r\n&gt;**The rowid of a table must be an integer. Attempt to set the rowid to anything other than an integer *(or a NULL which will be automatically converted into the next available integer rowid)* results in an SQLITE_MISMATCH error**.\r\n\r\nAs such either the **id** (probably) or the **password** column is defined using `INTEGER PRIMARY KEY` (with or without AUTOINCRMENT or implied if the *PRIMARY KEY clause* is at the table level (after all the column definitions)).\r\n\r\nAt a guess, it may be that you have another column for the **userName**, if so then you may need to use `values.put(????, userName);` where ???? is the column into which the **userName** should be stored. This probably instead of `values.put(KEY_ID, userName);`\r\n\r\n-  Not specifying a ContentValue for the **id** column will result in a unique number being generated and will be the value returned by the insertorThrow method. \r\n\r\n    - Note that with `insertOrThrow` method you would never get -1 returned as an exception would be thrown. You perhaps want to just use the insert method, then -1 would be returned if the row could not be inserted.\r\n        - when you use the `insert` method the underlying generated SQL is `INSERT OR IGNORE ....` which ignores the typical conflicts.\r\n        - when you use the `insertOrThrow` method the underlying generated SQL is  `INSERT ....` and  results in an exception if a conflict occurs.\r\n\r\n    - If you do want to provide the **id**, rather than have it generated, then you could also have `values.put(KEY_ID, a_long_value);` (where a_long_value is that (it could be int)), you would likely then change the signature of the method to enable the value to be passed. \r\n\r\nAlternately, you may need to change the offending the column (probably the **id** column ) to be `TEXT PRIMARY KEY` instead of `INTEGER PRIMARY KEY`. \r\n\r\n\r\nIf you edit your question to show the SQL used to create the table a more specific answer can be provided.\r\n\r\n\r\n  [1]: https://sqlite.org/rescode.html#mismatch","title":"datatype mismatch SQLite: Android","body":"<p><strong>In short you are probably trying to insert the <em><code>userName</code></em> into the wrong column.</strong> The <strong>id</strong> column is likely limited to integer values <em>(long, int, short etc)</em>.</p>\n<p>The only situations where you will get a <a href=\"https://sqlite.org/rescode.html#mismatch\" rel=\"nofollow noreferrer\">datatype mismatch</a> is if you are trying to insert a non integer value into the rowid column or an alias of the rowid column or if the column type is BOOLEAN and you try to insert a large BLOB. As you are not inserting a BLOB, then the former is the cause.</p>\n<blockquote>\n<p>(20) SQLITE_MISMATCH\nThe SQLITE_MISMATCH error code indicates a datatype mismatch.</p>\n<p>SQLite is normally very forgiving about mismatches between the type of a value and the declared type of the container in which that value is to be stored.</p>\n<p>For example, SQLite allows the application to store a large BLOB in a column with a declared type of BOOLEAN. But in a few cases, SQLite is strict about types. The SQLITE_MISMATCH error is returned in those few cases when the types do not match.</p>\n<p><strong>The rowid of a table must be an integer. Attempt to set the rowid to anything other than an integer <em>(or a NULL which will be automatically converted into the next available integer rowid)</em> results in an SQLITE_MISMATCH error</strong>.</p>\n</blockquote>\n<p>As such either the <strong>id</strong> (probably) or the <strong>password</strong> column is defined using <code>INTEGER PRIMARY KEY</code> (with or without AUTOINCRMENT or implied if the <em>PRIMARY KEY clause</em> is at the table level (after all the column definitions)).</p>\n<p>At a guess, it may be that you have another column for the <strong>userName</strong>, if so then you may need to use <code>values.put(????, userName);</code> where ???? is the column into which the <strong>userName</strong> should be stored. This probably instead of <code>values.put(KEY_ID, userName);</code></p>\n<ul>\n<li><p>Not specifying a ContentValue for the <strong>id</strong> column will result in a unique number being generated and will be the value returned by the insertorThrow method.</p>\n<ul>\n<li><p>Note that with <code>insertOrThrow</code> method you would never get -1 returned as an exception would be thrown. You perhaps want to just use the insert method, then -1 would be returned if the row could not be inserted.</p>\n<ul>\n<li>when you use the <code>insert</code> method the underlying generated SQL is <code>INSERT OR IGNORE ....</code> which ignores the typical conflicts.</li>\n<li>when you use the <code>insertOrThrow</code> method the underlying generated SQL is  <code>INSERT ....</code> and  results in an exception if a conflict occurs.</li>\n</ul>\n</li>\n<li><p>If you do want to provide the <strong>id</strong>, rather than have it generated, then you could also have <code>values.put(KEY_ID, a_long_value);</code> (where a_long_value is that (it could be int)), you would likely then change the signature of the method to enable the value to be passed.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Alternately, you may need to change the offending the column (probably the <strong>id</strong> column ) to be <code>TEXT PRIMARY KEY</code> instead of <code>INTEGER PRIMARY KEY</code>.</p>\n<p>If you edit your question to show the SQL used to create the table a more specific answer can be provided.</p>\n"}],"owner":{"account_id":21208041,"reputation":27,"user_id":16199862,"display_name":"Kartik Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642098806,"creation_date":1642070070,"question_id":70695130,"body_markdown":"It is giving me this error when I am adding JAVA string data to the TEXT data type is SQLite how to solve it? \r\n\r\n\r\n    public boolean addRow(Registration details) {\r\n        String userName = details.getName();\r\n        String userPassword = details.getPassword();\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_ID, userName);\r\n        values.put(KEY_PASS, userPassword);\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        long insert = db.insertOrThrow(TABLE_NAME, null, values);\r\n        return insert != -1;\r\n    }\r\n\r\nE/SQLiteLog: (20) statement aborts at 5: [INSERT INTO UserDetails(id,password) VALUES (?,?)] datatype mismatch\r\n","title":"datatype mismatch SQLite: Android","body":"<p>It is giving me this error when I am adding JAVA string data to the TEXT data type is SQLite how to solve it?</p>\n<pre><code>public boolean addRow(Registration details) {\n    String userName = details.getName();\n    String userPassword = details.getPassword();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_ID, userName);\n    values.put(KEY_PASS, userPassword);\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    long insert = db.insertOrThrow(TABLE_NAME, null, values);\n    return insert != -1;\n}\n</code></pre>\n<p>E/SQLiteLog: (20) statement aborts at 5: [INSERT INTO UserDetails(id,password) VALUES (?,?)] datatype mismatch</p>\n"},{"tags":["java","spring-boot","multipartform-data","resttemplate","multipart"],"owner":{"account_id":13405180,"reputation":31,"user_id":9673413,"display_name":"Dhiraj Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642097782,"creation_date":1642097782,"question_id":70701231,"body_markdown":"I have an API that accepts multipart data. End users are iOS and Android users. \r\nAndroid users sends the zip file in encoded string format and iOS users sends the zip itself. \r\n\r\nI want to convert encoded string sent by android users back to zip and send it to other spring micro service. How can I do this in Java?\r\n\r\nWhen iOS send a zip file, I convert it to ByteArrayResource and after conversion, file looks like this in debugger\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when Android users sends the encoded string of a file, I convert it to ByteArrayResource and that file after conversion looks like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oy2nD.png\r\n  [2]: https://i.stack.imgur.com/HeS5P.png\r\n\r\nCode I wrote to convert this file to ByteArrayResource is \r\n\r\n    new ByteArrayResource(Base64.getDecoder().decode(encodedFile))\r\n\r\nHow can I make above code compatible so that it is acceptable by multipart rest api.\r\n\r\nCan anyone help me for the same. I have been banging my head on it for almost a week but no success yet. \r\n\r\nThanking in anticipation. ","title":"Send string encoded file as multipart in resttemplate spring boot java","body":"<p>I have an API that accepts multipart data. End users are iOS and Android users.\nAndroid users sends the zip file in encoded string format and iOS users sends the zip itself.</p>\n<p>I want to convert encoded string sent by android users back to zip and send it to other spring micro service. How can I do this in Java?</p>\n<p>When iOS send a zip file, I convert it to ByteArrayResource and after conversion, file looks like this in debugger</p>\n<p><a href=\"https://i.stack.imgur.com/oy2nD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oy2nD.png\" alt=\"enter image description here\" /></a></p>\n<p>But when Android users sends the encoded string of a file, I convert it to ByteArrayResource and that file after conversion looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/HeS5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HeS5P.png\" alt=\"enter image description here\" /></a></p>\n<p>Code I wrote to convert this file to ByteArrayResource is</p>\n<pre><code>new ByteArrayResource(Base64.getDecoder().decode(encodedFile))\n</code></pre>\n<p>How can I make above code compatible so that it is acceptable by multipart rest api.</p>\n<p>Can anyone help me for the same. I have been banging my head on it for almost a week but no success yet.</p>\n<p>Thanking in anticipation.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":15636414,"reputation":250,"user_id":11281144,"display_name":"Eyasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642097691,"creation_date":1642097691,"answer_id":70701217,"question_id":70698799,"body_markdown":"You can create PersonCreateDto\r\nwhich include Person entity and another two Felds \r\n\r\n    public class PersonCreateDto{\r\n    \r\n    private Person person;\r\n    private String firstfeld;\r\n    private String secondfeld;\r\n    ....\r\n    }\r\n\r\n    PersonCreateDto personCreateDto = new PersonCreateDto();\r\n    model.addAttribute(&quot;personCreateDto &quot;, personCreateDto );\r\n\r\n    &lt;form action=&quot;#&quot; th:action=&quot;@{/persons}&quot; th:object=&quot;${personCreateDto}&quot; method=&quot;post&quot;&gt;\r\n     &lt;input th:type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;firstName&quot; th:field=&quot;*{personCreateDto.person.firstName}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;\r\n     &lt;input th:type=&quot;text&quot; name=&quot;firstfeld&quot; id=&quot;firstfeld&quot; th:field=&quot;*{personCreateDto.firstfeld}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;\r\n     &lt;input th:type=&quot;text&quot; name=&quot;secondfeld&quot; id=&quot;secondfeld&quot; th:field=&quot;*{personCreateDto.secondfeld}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;","title":"spring boot thymeleaf form-field that is not part of the form-object","body":"<p>You can create PersonCreateDto\nwhich include Person entity and another two Felds</p>\n<pre><code>public class PersonCreateDto{\n\nprivate Person person;\nprivate String firstfeld;\nprivate String secondfeld;\n....\n}\n\nPersonCreateDto personCreateDto = new PersonCreateDto();\nmodel.addAttribute(&quot;personCreateDto &quot;, personCreateDto );\n\n&lt;form action=&quot;#&quot; th:action=&quot;@{/persons}&quot; th:object=&quot;${personCreateDto}&quot; method=&quot;post&quot;&gt;\n &lt;input th:type=&quot;text&quot; name=&quot;firstName&quot; id=&quot;firstName&quot; th:field=&quot;*{personCreateDto.person.firstName}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;\n &lt;input th:type=&quot;text&quot; name=&quot;firstfeld&quot; id=&quot;firstfeld&quot; th:field=&quot;*{personCreateDto.firstfeld}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;\n &lt;input th:type=&quot;text&quot; name=&quot;secondfeld&quot; id=&quot;secondfeld&quot; th:field=&quot;*{personCreateDto.secondfeld}&quot; class=&quot;form-control&quot;&gt;&lt;/input&gt;\n</code></pre>\n"}],"owner":{"account_id":18229176,"reputation":111,"user_id":13268423,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642097691,"creation_date":1642086520,"question_id":70698799,"body_markdown":"I am working with Spring Thymeleaf just for simple practicing reasons. I have a custom Person-Class for my person schema. This Person-Class does also contain a field for the hashed password.\r\n\r\nTo add a new Person I have a simple form where the needed attributes for my Person-Class are passed. So I add to the model the following:\r\n\r\n    Person newP = new Person();\r\n    model.addAttribute(&quot;personForm&quot;, newP);\r\n\r\nAnd set up the html field like that:\r\n\r\n       &lt;form action=&quot;#&quot; th:action=&quot;@{/persons}&quot; th:object=&quot;${personForm}&quot; method=&quot;post&quot;&gt;\r\n\r\nHowever I also want to add two extra fields to the form that are not included in the Person-Class:\r\n- Password\r\n- repeat Password\r\n\r\nThese two fields should be validated after the form has been submitted. Then the password hash field of my Person-Class should be filled with that. This is handled in the function of the corresponding Post-RequestMapping.\r\n\r\nSince these two fields are not defined in my person class I wanted to to know if there is still a way to include these two fields into my form without having to add them to my Person-Class.\r\n\r\n","title":"spring boot thymeleaf form-field that is not part of the form-object","body":"<p>I am working with Spring Thymeleaf just for simple practicing reasons. I have a custom Person-Class for my person schema. This Person-Class does also contain a field for the hashed password.</p>\n<p>To add a new Person I have a simple form where the needed attributes for my Person-Class are passed. So I add to the model the following:</p>\n<pre><code>Person newP = new Person();\nmodel.addAttribute(&quot;personForm&quot;, newP);\n</code></pre>\n<p>And set up the html field like that:</p>\n<pre><code>   &lt;form action=&quot;#&quot; th:action=&quot;@{/persons}&quot; th:object=&quot;${personForm}&quot; method=&quot;post&quot;&gt;\n</code></pre>\n<p>However I also want to add two extra fields to the form that are not included in the Person-Class:</p>\n<ul>\n<li>Password</li>\n<li>repeat Password</li>\n</ul>\n<p>These two fields should be validated after the form has been submitted. Then the password hash field of my Person-Class should be filled with that. This is handled in the function of the corresponding Post-RequestMapping.</p>\n<p>Since these two fields are not defined in my person class I wanted to to know if there is still a way to include these two fields into my form without having to add them to my Person-Class.</p>\n"},{"tags":["java","android-studio","android-layout","app-certification-kit"],"comments":[{"owner":{"account_id":8781822,"reputation":72,"user_id":6565223,"display_name":"rodolfocop"},"score":0,"creation_date":1654028560,"post_id":70701052,"comment_id":127993817,"body_markdown":"Hi, I had the same problem as you, I managed to solve it like this: \n https://stackoverflow.com/a/63469344/6565223","body":"Hi, I had the same problem as you, I managed to solve it like this:   <a href=\"https://stackoverflow.com/a/63469344/6565223\">stackoverflow.com/a/63469344/6565223</a>"}],"owner":{"account_id":23932419,"reputation":21,"user_id":17926710,"display_name":"RAVI MANDAL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642097641,"creation_date":1642096764,"question_id":70701052,"body_markdown":"while I was creating a new project Gradle Project Sync Failed, it shows :\r\nCause: unable to find valid certification path to requested target\r\nbut\r\nrunning my older project it runs perfectly. No, any error\r\nI didn&#39;t find the solution for the error anywhere. Help me out\r\n\r\nbuild.gradle(:) - \r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n\r\nbuildscript {\r\n\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir \r\n}\r\n```\r\n\r\napp/build.gradle - \r\n\r\n``` \r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.android.myapplication&quot;\r\n        minSdk 16\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n\r\n```\r\n\r\n\r\nPLEASE HELP ME ANYONE :)","title":"Android Studio: Cause: unable to find valid certification path to requested target","body":"<p>while I was creating a new project Gradle Project Sync Failed, it shows :\nCause: unable to find valid certification path to requested target\nbut\nrunning my older project it runs perfectly. No, any error\nI didn't find the solution for the error anywhere. Help me out</p>\n<p>build.gradle(:) -</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n\nbuildscript {\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir \n}\n</code></pre>\n<p>app/build.gradle -</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.android.myapplication&quot;\n        minSdk 16\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n\n</code></pre>\n<p>PLEASE HELP ME ANYONE :)</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642097550,"creation_date":1642097550,"answer_id":70701201,"question_id":70700847,"body_markdown":"You can do like this:\r\n \r\nAfter grouping by each `code` then use `collectingAndThen` collectors and find max item based on `version` amount and at the end use `map` to extract `creationCode`. \r\n\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.maxBy;\r\n\r\n    Map&lt;String, LocalDateTime&gt; result = histories.stream()\r\n          .collect(Collectors.groupingBy(History::getCode,\r\n                collectingAndThen(maxBy(Comparator.comparing(History::getVersion)),\r\n                      history -&gt; history.map(History::getCreationDate).orElse(null))));","title":"How to get object field for max value in another field in grouped by one more field?","body":"<p>You can do like this:</p>\n<p>After grouping by each <code>code</code> then use <code>collectingAndThen</code> collectors and find max item based on <code>version</code> amount and at the end use <code>map</code> to extract <code>creationCode</code>.</p>\n<pre><code>import static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.maxBy;\n\nMap&lt;String, LocalDateTime&gt; result = histories.stream()\n      .collect(Collectors.groupingBy(History::getCode,\n            collectingAndThen(maxBy(Comparator.comparing(History::getVersion)),\n                  history -&gt; history.map(History::getCreationDate).orElse(null))));\n</code></pre>\n"}],"owner":{"account_id":12712262,"reputation":65,"user_id":9273157,"display_name":"dubnic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70701201,"answer_count":1,"score":1,"last_activity_date":1642097550,"creation_date":1642095649,"question_id":70700847,"body_markdown":"I have list of entities that looks like this:\r\n```\r\nclass History {\r\n    public String code;\r\n    public Integer version;\r\n    public LocalDateTime creationDate;\r\n}\r\n```\r\nFor each code with max version I wanna to get creationDate. I did it like this, but I think that it can be done somehow easier... \r\n```\r\nMap&lt;String, History&gt; historyMaxVersion = histories.stream()\r\n              .collect(Collectors.toMap(History::getCode, Function.identity(),\r\n               BinaryOperator.maxBy(Comparator.comparing(History::getVersion))));\r\n\r\nMap&lt;String, LocalDateTime&gt; historiesLastUpdatedDates = historyMaxVersion.entrySet().stream()\r\n.collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; entry.getValue()\r\n                        .getCreationDate()));\r\n\r\n```","title":"How to get object field for max value in another field in grouped by one more field?","body":"<p>I have list of entities that looks like this:</p>\n<pre><code>class History {\n    public String code;\n    public Integer version;\n    public LocalDateTime creationDate;\n}\n</code></pre>\n<p>For each code with max version I wanna to get creationDate. I did it like this, but I think that it can be done somehow easier...</p>\n<pre><code>Map&lt;String, History&gt; historyMaxVersion = histories.stream()\n              .collect(Collectors.toMap(History::getCode, Function.identity(),\n               BinaryOperator.maxBy(Comparator.comparing(History::getVersion))));\n\nMap&lt;String, LocalDateTime&gt; historiesLastUpdatedDates = historyMaxVersion.entrySet().stream()\n.collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; entry.getValue()\n                        .getCreationDate()));\n\n</code></pre>\n"},{"tags":["java","selenium","internet-explorer","selenium-iedriver","iedriverserver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1501247260,"post_id":45374074,"comment_id":77709737,"body_markdown":"AFAIK, Selenium doesn&#39;t communicates well with `Internet Explorer` until and unless `Zoom Level` is set to `100%`. Any specific business case not to set `Zoom Level` to `100%`? Thanks","body":"AFAIK, Selenium doesn&#39;t communicates well with <code>Internet Explorer</code> until and unless <code>Zoom Level</code> is set to <code>100%</code>. Any specific business case not to set <code>Zoom Level</code> to <code>100%</code>? Thanks"},{"owner":{"account_id":11434114,"reputation":11,"user_id":8382027,"display_name":"jonlip"},"score":0,"creation_date":1501247558,"post_id":45374074,"comment_id":77709973,"body_markdown":"I&#39;m using Selenium for a web browser automation application, and running into issues when certain test users have default zoom levels other than 100%, so I need to change it in the code.","body":"I&#39;m using Selenium for a web browser automation application, and running into issues when certain test users have default zoom levels other than 100%, so I need to change it in the code."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1501247823,"post_id":45374074,"comment_id":77710192,"body_markdown":"Can you share the specific business case (Testcase) where users have to set zoom levels other than 100%? Thanks","body":"Can you share the specific business case (Testcase) where users have to set zoom levels other than 100%? Thanks"},{"owner":{"account_id":11434114,"reputation":11,"user_id":8382027,"display_name":"jonlip"},"score":0,"creation_date":1501247915,"post_id":45374074,"comment_id":77710255,"body_markdown":"Certain machines that may run my application simply have the zoom level at higher than 100%. I&#39;d rather not force them to change this before using it. There is no specific business case.","body":"Certain machines that may run my application simply have the zoom level at higher than 100%. I&#39;d rather not force them to change this before using it. There is no specific business case."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1501248452,"post_id":45374074,"comment_id":77710648,"body_markdown":"I would recommend, before you start your `Automated Test Execution` give yourself time to setup &amp; configure the `Test Environment` first. Successful `Test Execution Result` depends a lot on it. For your reference, [**`here is the link`**](https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver) to the guide for IE settings.","body":"I would recommend, before you start your <code>Automated Test Execution</code> give yourself time to setup &amp; configure the <code>Test Environment</code> first. Successful <code>Test Execution Result</code> depends a lot on it. For your reference, <a href=\"https://github.com/SeleniumHQ/selenium/wiki/InternetExplorerDriver\" rel=\"nofollow noreferrer\"><b><code>here is the link</code></b></a> to the guide for IE settings."}],"answers":[{"tags":[],"owner":{"account_id":11434166,"reputation":2117,"user_id":8382067,"display_name":"Josh Adams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501247451,"creation_date":1501247451,"answer_id":45374450,"question_id":45374074,"body_markdown":"Try ignoring the zoom level all together.\r\n\r\n`DesiredCapabilities caps = DesiredCapabilities.internetExplorer();\r\ncaps.setCapability(&quot;ignoreZoomSetting&quot;, true);\r\ndriver = new InternetExplorerDriver(caps);`\r\n\r\nYou can see others with the zoom issue here: [Similar issue][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12034969/internetexplorerdriver-zoom-level-error","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<p>Try ignoring the zoom level all together.</p>\n\n<p><code>DesiredCapabilities caps = DesiredCapabilities.internetExplorer();\ncaps.setCapability(\"ignoreZoomSetting\", true);\ndriver = new InternetExplorerDriver(caps);</code></p>\n\n<p>You can see others with the zoom issue here: <a href=\"https://stackoverflow.com/questions/12034969/internetexplorerdriver-zoom-level-error\">Similar issue</a></p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501248869,"creation_date":1501248869,"answer_id":45374923,"question_id":45374074,"body_markdown":"From what I googled, you can set the default zoom using the registry. I haven&#39;t tried this myself but you should be able to grab the user&#39;s default setting, change it to 100% (if it&#39;s not there already), do your test, and then restore their default setting.\r\n\r\nI haven&#39;t tried this myself but it looks pretty straightforward.\r\n\r\n    HKEY_CURRENT_USERS\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\r\n\r\nSet ZoomFactor to 1000x the factor you want, e.g. 125% is 125000\r\n\r\nhttps://support.microsoft.com/en-us/help/2689447/how-to-set-the-zoom-level-in-internet-explorer-9","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<p>From what I googled, you can set the default zoom using the registry. I haven't tried this myself but you should be able to grab the user's default setting, change it to 100% (if it's not there already), do your test, and then restore their default setting.</p>\n\n<p>I haven't tried this myself but it looks pretty straightforward.</p>\n\n<pre><code>HKEY_CURRENT_USERS\\SOFTWARE\\Microsoft\\Internet Explorer\\Zoom\n</code></pre>\n\n<p>Set ZoomFactor to 1000x the factor you want, e.g. 125% is 125000</p>\n\n<p><a href=\"https://support.microsoft.com/en-us/help/2689447/how-to-set-the-zoom-level-in-internet-explorer-9\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/2689447/how-to-set-the-zoom-level-in-internet-explorer-9</a></p>\n"},{"tags":[],"owner":{"account_id":10813923,"reputation":1986,"user_id":7953640,"accept_rate":50,"display_name":"Satish Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501252771,"creation_date":1501252771,"answer_id":45376265,"question_id":45374074,"body_markdown":"Try this, you can tweak the calculation which returns the current zoom level, I may be wrong at that\r\n\r\n    from selenium import webdriver\r\n\r\n    driver = webdriver.Chrome(executable_path=&#39;C:\\\\Automation Projects\\\\Selenium Server\\\\chromedriver.exe&#39;)\r\n\r\n    driver.get(&#39;Https://www.google.com&#39;)\r\n\r\n    zoom_level = driver.execute_script(&#39;return (window.outerWidth / window.innerWidth)&#39;)\r\n    if zoom_level &gt; 1:\r\n        driver.execute_script(&quot;document.body.style.zoom=&#39;90%&#39;;&quot;)","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<p>Try this, you can tweak the calculation which returns the current zoom level, I may be wrong at that</p>\n\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.Chrome(executable_path='C:\\\\Automation Projects\\\\Selenium Server\\\\chromedriver.exe')\n\ndriver.get('Https://www.google.com')\n\nzoom_level = driver.execute_script('return (window.outerWidth / window.innerWidth)')\nif zoom_level &gt; 1:\n    driver.execute_script(\"document.body.style.zoom='90%';\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951133,"reputation":111,"user_id":5333733,"display_name":"Champ-Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566788991,"creation_date":1566788991,"answer_id":57651348,"question_id":45374074,"body_markdown":"Try Below Code, It is working code \r\n\r\n    InternetExplorerOptions capabilities= new InternetExplorerOptions();\r\n    \t\t\tcapabilities.setCapability(InternetExplorerDriver.IGNORE_ZOOM_SETTING, true);\r\n    \t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, Constant.drivers + &quot;\\\\IEDriverServer.exe&quot;);\r\n    \t\t\tdriver = new InternetExplorerDriver(capabilities);\r\n    \t\t\tdriver.manage().window().maximize();","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<p>Try Below Code, It is working code </p>\n\n<pre><code>InternetExplorerOptions capabilities= new InternetExplorerOptions();\n            capabilities.setCapability(InternetExplorerDriver.IGNORE_ZOOM_SETTING, true);\n            System.setProperty(\"webdriver.ie.driver\", Constant.drivers + \"\\\\IEDriverServer.exe\");\n            driver = new InternetExplorerDriver(capabilities);\n            driver.manage().window().maximize();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910157,"reputation":4964,"user_id":944190,"accept_rate":54,"display_name":"a Learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642097328,"creation_date":1642097328,"answer_id":70701159,"question_id":45374074,"body_markdown":"    JavascriptExecutor js =(JavascriptExecutor)driver;\r\n    \t\tjs.executeScript(&quot;document.body.style.zoom=&#39;100%&#39;&quot;);","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<pre><code>JavascriptExecutor js =(JavascriptExecutor)driver;\n        js.executeScript(&quot;document.body.style.zoom='100%'&quot;);\n</code></pre>\n"}],"owner":{"account_id":11434114,"reputation":11,"user_id":8382027,"display_name":"jonlip"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1642097328,"creation_date":1501246324,"question_id":45374074,"body_markdown":"I&#39;m running into an issue with Selenium WebDriver in Java, where I can&#39;t set the IE browser zoom level to 100% when the user has a different default value. Ctrl + 0 does not work since this sets the zoom to the default. I&#39;ve tried setting zoom through a JavascriptExecutor, as seen in other posts as well. Any help would be appreciated.","title":"Set zoom level to 100% in Selenium WebDriver when default is not 100","body":"<p>I'm running into an issue with Selenium WebDriver in Java, where I can't set the IE browser zoom level to 100% when the user has a different default value. Ctrl + 0 does not work since this sets the zoom to the default. I've tried setting zoom through a JavascriptExecutor, as seen in other posts as well. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1642099122,"post_id":70701158,"comment_id":124988083,"body_markdown":"How is your `maxPlayerCount` variable getting set? I assume you&#39;re using Spring Boot&#39;s `@ConfigurationProperties` support. Can you share the code that you think should result in the value of `maxPlayerCount` property being applied to your variable?","body":"How is your <code>maxPlayerCount</code> variable getting set? I assume you&#39;re using Spring Boot&#39;s <code>@ConfigurationProperties</code> support. Can you share the code that you think should result in the value of <code>maxPlayerCount</code> property being applied to your variable?"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1642099316,"post_id":70701158,"comment_id":124988169,"body_markdown":"in application.properties file i have this line: maxPlayerCount = 5","body":"in application.properties file i have this line: maxPlayerCount = 5"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1642111234,"post_id":70701158,"comment_id":124992065,"body_markdown":"That&#39;s not enough on its own for a variable in your code named `maxPlayerCount` to be set with its value. You need to be using something like `@ConfigurationProperties` or `@Value` for that to happen.","body":"That&#39;s not enough on its own for a variable in your code named <code>maxPlayerCount</code> to be set with its value. You need to be using something like <code>@ConfigurationProperties</code> or <code>@Value</code> for that to happen."}],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642097324,"creation_date":1642097324,"question_id":70701158,"body_markdown":"I am trying to write unit test of method which is in the image but I put a breakpoint and checked the application.properties value. It was 0 but i set 5 before. After I added this code to the my test class but is not working still.\r\n\r\n@SpringBootTest(properties = {&quot;maxPlayerCount = 5&quot;})\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yA4Ky.jpg\r\n  [2]: https://i.stack.imgur.com/xTPei.jpg","title":"Spring boot mock application properties value while testing","body":"<p>I am trying to write unit test of method which is in the image but I put a breakpoint and checked the application.properties value. It was 0 but i set 5 before. After I added this code to the my test class but is not working still.</p>\n<p>@SpringBootTest(properties = {&quot;maxPlayerCount = 5&quot;})</p>\n<p><a href=\"https://i.stack.imgur.com/yA4Ky.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA4Ky.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xTPei.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xTPei.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1641993438,"post_id":70682189,"comment_id":124953087,"body_markdown":"You must use explicit wait (WebdriverWait)","body":"You must use explicit wait (WebdriverWait)"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642007856,"creation_date":1641993680,"answer_id":70682302,"question_id":70682189,"body_markdown":"You need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the [visibilityOfAllElementsLocatedBy()](https://stackoverflow.com/questions/65677878/webdriver-with-java-not-able-to-get-all-the-text-using-webdriver/65686528#65686528) and you can use the following solution:\r\n\r\n\tif(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;MY_CSS_SELECTOR&quot;))).size() != 0) {\r\n\t\t//...\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nUpdate\r\n------\r\nTo get rid of the _TimeoutException_ instead of a `if-else{}` block, you may like to wrap the line of code within a `try-catch{}` block as follows:\r\n\r\n\ttry {\r\n\t\tnew WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;MY_CSS_SELECTOR&quot;))).size() != 0)\r\n\t\t//...\r\n\t}\r\n\tcatch(Exception e) {\r\n\t  //  Block of code to handle errors\r\n\t}\r\n\r\nPS: Incase you implement [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) you have to remove [implicitlyWait()](https://stackoverflow.com/questions/50518467/how-to-properly-configure-implicit-explicit-waits-and-pageloadtimeout-through/50524225#50524225) completely because as per the [documentation](https://www.selenium.dev/documentation/webdriver/waits/#implicit-wait):\r\n\r\n&gt;Warning: Do not mix implicit and explicit waits. Doing so can cause unpredictable wait times. For example, setting an implicit wait of 10 seconds and an explicit wait of 15 seconds could cause a timeout to occur after 20 seconds.","title":"Selenium: How do I check if an element is on a page without use implicitlyWait?","body":"<p>You need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/questions/65677878/webdriver-with-java-not-able-to-get-all-the-text-using-webdriver/65686528#65686528\">visibilityOfAllElementsLocatedBy()</a> and you can use the following solution:</p>\n<pre><code>if(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;MY_CSS_SELECTOR&quot;))).size() != 0) {\n    //...\n}\n</code></pre>\n<hr />\n<h2>Update</h2>\n<p>To get rid of the <em>TimeoutException</em> instead of a <code>if-else{}</code> block, you may like to wrap the line of code within a <code>try-catch{}</code> block as follows:</p>\n<pre><code>try {\n    new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;MY_CSS_SELECTOR&quot;))).size() != 0)\n    //...\n}\ncatch(Exception e) {\n  //  Block of code to handle errors\n}\n</code></pre>\n<p>PS: Incase you implement <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> you have to remove <a href=\"https://stackoverflow.com/questions/50518467/how-to-properly-configure-implicit-explicit-waits-and-pageloadtimeout-through/50524225#50524225\">implicitlyWait()</a> completely because as per the <a href=\"https://www.selenium.dev/documentation/webdriver/waits/#implicit-wait\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Warning: Do not mix implicit and explicit waits. Doing so can cause unpredictable wait times. For example, setting an implicit wait of 10 seconds and an explicit wait of 15 seconds could cause a timeout to occur after 20 seconds.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642097314,"creation_date":1641995858,"answer_id":70682831,"question_id":70682189,"body_markdown":"You are already using `findElements`,  Note that `findElements` will not throw any error even the passed locators is not available in HTMLDOM. \r\n\r\nIf it finds, it will return a list of web elements. \r\n\r\nNow `findElements` will try to `POLL` the `DOM` if it does not find anything `immediately`, so that&#39;s the reason we use ImplicitWait. \r\n\r\nSince you&#39;ve mentioned that you do not wanna deal with ImplicitWait, and wants to grab the list of web elements, you either have to use ExplicitWait \r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;css_selector_here&quot;)));\r\n\r\nor\r\n\t\r\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(By.cssSelector(&quot;css_selector_here&quot;)));\r\n\r\nBut note that using `explicit wait`, if elements are not found then You will likely get **TimeOutException**. \r\n\r\n\r\n\r\n**ExplicitWait:**\r\n\r\nExplicit waits are available to Selenium clients for imperative, procedural languages. They allow your code to halt program execution, or freeze the thread, until the condition you pass it resolves. The condition is called with a certain frequency until the timeout of the wait is elapsed. This means that for as long as the condition returns a falsy value, it will keep trying and waiting.\r\n\r\nSince explicit waits allow you to wait for a condition to occur, they make a good fit for synchronizing the state between the browser and its DOM, and your WebDriver script.\r\n\r\n\r\n**ImplicitWait:**\r\n\r\nThere is a second type of wait that is distinct from explicit wait called implicit wait. By implicitly waiting, WebDriver polls the DOM for a certain duration when trying to find any element. This can be useful when certain elements on the webpage are not available immediately and need some time to load.\r\n\r\nImplicit waiting for elements to appear is disabled by default and will need to be manually enabled on a per-session basis. Mixing explicit waits and implicit waits will cause unintended consequences, namely waits sleeping for the maximum time even if the element is available or condition is true.\r\n\r\nWarning: Do not mix implicit and explicit waits. Doing so can cause unpredictable wait times. For example, setting an implicit wait of 10 seconds and an explicit wait of 15 seconds could cause a timeout to occur after 20 seconds.\r\n\r\nAn implicit wait is to tell WebDriver to poll the DOM for a certain amount of time when trying to find an element or elements if they are not immediately available. The default setting is 0, meaning disabled. Once set, the implicit wait is set for the life of the session.\r\n\r\n\r\n[Official Docs][1]\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/waits/","title":"Selenium: How do I check if an element is on a page without use implicitlyWait?","body":"<p>You are already using <code>findElements</code>,  Note that <code>findElements</code> will not throw any error even the passed locators is not available in HTMLDOM.</p>\n<p>If it finds, it will return a list of web elements.</p>\n<p>Now <code>findElements</code> will try to <code>POLL</code> the <code>DOM</code> if it does not find anything <code>immediately</code>, so that's the reason we use ImplicitWait.</p>\n<p>Since you've mentioned that you do not wanna deal with ImplicitWait, and wants to grab the list of web elements, you either have to use ExplicitWait</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nwait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;css_selector_here&quot;)));\n</code></pre>\n<p>or</p>\n<pre><code>wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(By.cssSelector(&quot;css_selector_here&quot;)));\n</code></pre>\n<p>But note that using <code>explicit wait</code>, if elements are not found then You will likely get <strong>TimeOutException</strong>.</p>\n<p><strong>ExplicitWait:</strong></p>\n<p>Explicit waits are available to Selenium clients for imperative, procedural languages. They allow your code to halt program execution, or freeze the thread, until the condition you pass it resolves. The condition is called with a certain frequency until the timeout of the wait is elapsed. This means that for as long as the condition returns a falsy value, it will keep trying and waiting.</p>\n<p>Since explicit waits allow you to wait for a condition to occur, they make a good fit for synchronizing the state between the browser and its DOM, and your WebDriver script.</p>\n<p><strong>ImplicitWait:</strong></p>\n<p>There is a second type of wait that is distinct from explicit wait called implicit wait. By implicitly waiting, WebDriver polls the DOM for a certain duration when trying to find any element. This can be useful when certain elements on the webpage are not available immediately and need some time to load.</p>\n<p>Implicit waiting for elements to appear is disabled by default and will need to be manually enabled on a per-session basis. Mixing explicit waits and implicit waits will cause unintended consequences, namely waits sleeping for the maximum time even if the element is available or condition is true.</p>\n<p>Warning: Do not mix implicit and explicit waits. Doing so can cause unpredictable wait times. For example, setting an implicit wait of 10 seconds and an explicit wait of 15 seconds could cause a timeout to occur after 20 seconds.</p>\n<p>An implicit wait is to tell WebDriver to poll the DOM for a certain amount of time when trying to find an element or elements if they are not immediately available. The default setting is 0, meaning disabled. Once set, the implicit wait is set for the life of the session.</p>\n<p><a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">Official Docs</a></p>\n"}],"owner":{"account_id":23918764,"reputation":13,"user_id":17914925,"display_name":"Nikita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70682831,"answer_count":2,"score":1,"last_activity_date":1642097314,"creation_date":1641993272,"question_id":70682189,"body_markdown":"How do I check if an element is on a page without use function implicitlyWait? \r\nI may check that element is on page with use implicitlyWait:\r\n\r\n   \r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n\r\n        if (driver.findElements(By.cssSelector(MY_CSS_SELECTOR)).size() != 0) {\r\n            //...\r\n        }\r\n\r\nIs there any analogue of the solution?\r\n","title":"Selenium: How do I check if an element is on a page without use implicitlyWait?","body":"<p>How do I check if an element is on a page without use function implicitlyWait?\nI may check that element is on page with use implicitlyWait:</p>\n<pre><code>    driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n\n    if (driver.findElements(By.cssSelector(MY_CSS_SELECTOR)).size() != 0) {\n        //...\n    }\n</code></pre>\n<p>Is there any analogue of the solution?</p>\n"},{"tags":["java","arrays","httpresponse"],"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1642095519,"post_id":70700693,"comment_id":124986757,"body_markdown":"just curious. Why would you want to convert it to bytes? Why not communicate using json?","body":"just curious. Why would you want to convert it to bytes? Why not communicate using json?"},{"owner":{"account_id":23932226,"reputation":1,"user_id":17926555,"display_name":"test"},"score":0,"creation_date":1642097859,"post_id":70700693,"comment_id":124987616,"body_markdown":"I encrypt the byte array and build response. On the receiving end, I decrypt and should be able to get the original response back. If I convert custom object alone into byte array, I am not able to get my original response back","body":"I encrypt the byte array and build response. On the receiving end, I decrypt and should be able to get the original response back. If I convert custom object alone into byte array, I am not able to get my original response back"}],"answers":[{"tags":[],"owner":{"account_id":15974270,"reputation":177,"user_id":11527575,"display_name":"Francesco Rogo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642095219,"creation_date":1642095219,"answer_id":70700757,"question_id":70700693,"body_markdown":"Does CustomObject implements Serializable interface? \r\n\r\nIf not just add it and try again.","title":"How to convert ResponseEntity body or ResponseEntity to byte array","body":"<p>Does CustomObject implements Serializable interface?</p>\n<p>If not just add it and try again.</p>\n"}],"owner":{"account_id":23932226,"reputation":1,"user_id":17926555,"display_name":"test"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642097142,"creation_date":1642094950,"question_id":70700693,"body_markdown":"    ResponseEntity&lt;CustomObject&gt; response;\r\n\r\nI need to be able to convert either `ResponseEntity&lt;CustomObject&gt; or CustomObject to byte[]`\r\n\r\nI have tried multiple ways\r\n\r\n     SerializationUtils.serialize(response.getBody())\r\n     ByteArrayOutputStream and ObjectOutputStream\r\n\r\nBut I am getting `NotSerializableException`. Can someone please help me?\r\n\r\nEdit: Implementing Serializable helps in converting CustomObject. Can someone please help me to convert ResponseEntity&lt;CustomObject&gt; to byte array?","title":"How to convert ResponseEntity body or ResponseEntity to byte array","body":"<pre><code>ResponseEntity&lt;CustomObject&gt; response;\n</code></pre>\n<p>I need to be able to convert either <code>ResponseEntity&lt;CustomObject&gt; or CustomObject to byte[]</code></p>\n<p>I have tried multiple ways</p>\n<pre><code> SerializationUtils.serialize(response.getBody())\n ByteArrayOutputStream and ObjectOutputStream\n</code></pre>\n<p>But I am getting <code>NotSerializableException</code>. Can someone please help me?</p>\n<p>Edit: Implementing Serializable helps in converting CustomObject. Can someone please help me to convert ResponseEntity to byte array?</p>\n"},{"tags":["java","postgresql","prepared-statement","resultset"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1642097274,"post_id":70701085,"comment_id":124987399,"body_markdown":"Update the query to join with the with Customer table?","body":"Update the query to join with the with Customer table?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642124720,"post_id":70701085,"comment_id":124994777,"body_markdown":"You might want to look into an ORM such as Hibernate: https://hibernate.org/orm/what-is-an-orm/","body":"You might want to look into an ORM such as Hibernate: <a href=\"https://hibernate.org/orm/what-is-an-orm/\" rel=\"nofollow noreferrer\">hibernate.org/orm/what-is-an-orm</a>"}],"owner":{"account_id":20833429,"reputation":49,"user_id":15302180,"display_name":"Nooby1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642096886,"creation_date":1642096886,"question_id":70701085,"body_markdown":"Sorry for the confusing title, I didn&#39;t know how else to word my problem. So I have an accounts class which has an instance of a Customer class as an argument in the constructor. I am implementing select statements for the Accounts DAO and I am unsure how to use Resultset to get the instance of a customer class so I can  instantiate an account. Is this even possible, or am I approaching it incorrectly? Code below is my account.java file which has setters and getters\r\n\r\n    public class Account {\r\n\r\n        private String acctName;\r\n        private Integer acctID;\r\n        private Double acctTotal;\r\n        private Customer owner;\r\n\r\n    public Account(Customer user, String name, Integer accountID, Double acctTotal) {\r\n        this.acctName = name;\r\n        this.acctID = accountID;\r\n        this.acctTotal = acctTotal;\r\n        this.owner = user;\r\n    }\r\n\r\nCode below is one of the select statements in the Account DAO. How would I get the instance of customer with the Resultset?\r\n\r\n\r\n\r\n     public List&lt;Account&gt; selectAllAccount() {\r\n\r\n        List&lt;Account&gt; allAccounts = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            //Create a connection to DB and prepare select statement\r\n            Connection myConnect = super.getConnection();\r\n            PreparedStatement ps = myConnect.prepareStatement(&quot;SELECT * from Account&quot;);\r\n\r\n            //Store query result to build list of Accounts\r\n            ResultSet queryResult = ps.executeQuery();\r\n\r\n            //while data in query result create Account list\r\n            while(queryResult.next()){\r\n\r\n                String AccountName = queryResult.getString(&quot;AcctName&quot;);\r\n                Integer id = queryResult.getInt(&quot;AcctID&quot;);\r\n                Double acctTotal = queryResult.getDouble(&#39;acctTotal&#39;);\r\n\r\n                \r\n                ***//this is the call I am having trouble understanding how to implement with Resultset*** \r\n                Customer cus = queryResult.getObject(); //This is not right\r\n\r\n                Account Account = new Account(cus, AccountName, id, acctTotal);\r\n                allAccounts.add(Account);\r\n            }\r\n\r\n            return allAccounts;","title":"Using Java.sql result set to instantiate class so I can call my constructor","body":"<p>Sorry for the confusing title, I didn't know how else to word my problem. So I have an accounts class which has an instance of a Customer class as an argument in the constructor. I am implementing select statements for the Accounts DAO and I am unsure how to use Resultset to get the instance of a customer class so I can  instantiate an account. Is this even possible, or am I approaching it incorrectly? Code below is my account.java file which has setters and getters</p>\n<pre><code>public class Account {\n\n    private String acctName;\n    private Integer acctID;\n    private Double acctTotal;\n    private Customer owner;\n\npublic Account(Customer user, String name, Integer accountID, Double acctTotal) {\n    this.acctName = name;\n    this.acctID = accountID;\n    this.acctTotal = acctTotal;\n    this.owner = user;\n}\n</code></pre>\n<p>Code below is one of the select statements in the Account DAO. How would I get the instance of customer with the Resultset?</p>\n<pre><code> public List&lt;Account&gt; selectAllAccount() {\n\n    List&lt;Account&gt; allAccounts = new ArrayList&lt;&gt;();\n\n    try {\n        //Create a connection to DB and prepare select statement\n        Connection myConnect = super.getConnection();\n        PreparedStatement ps = myConnect.prepareStatement(&quot;SELECT * from Account&quot;);\n\n        //Store query result to build list of Accounts\n        ResultSet queryResult = ps.executeQuery();\n\n        //while data in query result create Account list\n        while(queryResult.next()){\n\n            String AccountName = queryResult.getString(&quot;AcctName&quot;);\n            Integer id = queryResult.getInt(&quot;AcctID&quot;);\n            Double acctTotal = queryResult.getDouble('acctTotal');\n\n            \n            ***//this is the call I am having trouble understanding how to implement with Resultset*** \n            Customer cus = queryResult.getObject(); //This is not right\n\n            Account Account = new Account(cus, AccountName, id, acctTotal);\n            allAccounts.add(Account);\n        }\n\n        return allAccounts;\n</code></pre>\n"},{"tags":["java","spring-boot","yaml"],"comments":[{"owner":{"account_id":1749821,"reputation":205,"user_id":1599177,"accept_rate":100,"display_name":"Ghost Rider"},"score":0,"creation_date":1642097734,"post_id":70701078,"comment_id":124987571,"body_markdown":"You need to use @RefreshScope. Also there is another topic regarding your issue - https://stackoverflow.com/questions/64100539/dynamically-update-the-value-annotated-fields-in-spring","body":"You need to use @RefreshScope. Also there is another topic regarding your issue - <a href=\"https://stackoverflow.com/questions/64100539/dynamically-update-the-value-annotated-fields-in-spring\" title=\"dynamically update the value annotated fields in spring\">stackoverflow.com/questions/64100539/&hellip;</a>"},{"owner":{"account_id":10942565,"reputation":1473,"user_id":8041854,"accept_rate":50,"display_name":"Gvtha"},"score":0,"creation_date":1642139052,"post_id":70701078,"comment_id":124996771,"body_markdown":"is there any alternative other than @RefreshScope?","body":"is there any alternative other than @RefreshScope?"}],"owner":{"account_id":10942565,"reputation":1473,"user_id":8041854,"accept_rate":50,"display_name":"Gvtha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642109306,"answer_count":0,"score":1,"last_activity_date":1642096831,"creation_date":1642096831,"question_id":70701078,"body_markdown":"I tried to dynamically update the `example.key`. I can do using `ConfigurationProperties`. But is it possible to update the key string (`@Value(&quot;${example.key}&quot;)`) on the fly without touching the yml file. Because its declared in many places and I do want to update it in all the classes.\r\n\r\n**application.yml**\r\n\r\n    example:\r\n     key: &quot;value&quot;\r\n\r\n**ExampleController.java**\r\n\r\n    @Component\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix=&quot;example&quot;)\r\n    public class ExampleController {\r\n        private String key;\r\n    }\r\n\r\n**ExampleClass.java**\r\n\r\n    @Component\r\n    public class ExampleClass {\r\n    \r\n        @Value(&quot;${example.key}&quot;)\r\n        private String key;\r\n    \r\n        @Autowired\r\n        ExampleController exampleController;\r\n\r\n        public void configTest(String value) {\r\n             exampleController.setKey(value);\r\n             System.out.println(&quot;Result: &quot; + key + &quot;:&quot; + exampleController.getKey());\r\n        }\r\n    \r\n    }\r\n\r\n**Output**\r\n\r\n    configTest(&quot;newValue&quot;);\r\n    \r\n    Result: value : newValue\r\n\r\n    Expected Result: newValue : newValue","title":"Dynamically update yml @values","body":"<p>I tried to dynamically update the <code>example.key</code>. I can do using <code>ConfigurationProperties</code>. But is it possible to update the key string (<code>@Value(&quot;${example.key}&quot;)</code>) on the fly without touching the yml file. Because its declared in many places and I do want to update it in all the classes.</p>\n<p><strong>application.yml</strong></p>\n<pre><code>example:\n key: &quot;value&quot;\n</code></pre>\n<p><strong>ExampleController.java</strong></p>\n<pre><code>@Component\n@Getter\n@Setter\n@ConfigurationProperties(prefix=&quot;example&quot;)\npublic class ExampleController {\n    private String key;\n}\n</code></pre>\n<p><strong>ExampleClass.java</strong></p>\n<pre><code>@Component\npublic class ExampleClass {\n\n    @Value(&quot;${example.key}&quot;)\n    private String key;\n\n    @Autowired\n    ExampleController exampleController;\n\n    public void configTest(String value) {\n         exampleController.setKey(value);\n         System.out.println(&quot;Result: &quot; + key + &quot;:&quot; + exampleController.getKey());\n    }\n\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>configTest(&quot;newValue&quot;);\n\nResult: value : newValue\n\nExpected Result: newValue : newValue\n</code></pre>\n"},{"tags":["java","apex","salesforce-lightning"],"answers":[{"tags":[],"owner":{"account_id":18588222,"reputation":97,"user_id":13546029,"display_name":"Trey6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642096825,"creation_date":1642096825,"answer_id":70701075,"question_id":70627096,"body_markdown":"Found the answer, My DTO set up was incorrect:\r\n\r\n```\r\npublic class CreateCadRequestError {\r\n    public CreateCadRequestErrorMessage error;\r\n}\r\npublic class CreateCadRequestErrorMessage {\r\n    public string message;\r\n}\r\n```","title":"Apex Data Transfer Object. Deserializing data","body":"<p>Found the answer, My DTO set up was incorrect:</p>\n<pre><code>public class CreateCadRequestError {\n    public CreateCadRequestErrorMessage error;\n}\npublic class CreateCadRequestErrorMessage {\n    public string message;\n}\n</code></pre>\n"}],"owner":{"account_id":18588222,"reputation":97,"user_id":13546029,"display_name":"Trey6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70701075,"answer_count":1,"score":0,"last_activity_date":1642096825,"creation_date":1641589030,"question_id":70627096,"body_markdown":"I am new to Apex and SF and I have to manage some errors from an 3rd party API we are calling. I have been using DTO with very simple response objects and the error response object we get back has one more level.\r\n\r\nJSON response from API:\r\n```\r\n{\r\n    &quot;error&quot;: {\r\n        &quot;message&quot;: &quot;File couldn&#39;t be downloaded: main_panel&quot;\r\n    }\r\n}\r\n```\r\n\r\nDTO file:\r\n```\r\npublic class CreateCadRequestError {\r\n        public string error;\r\n        public CreateCadRequestErrorMessage message;\r\n    }\r\n    \r\n    public class CreateCadRequestErrorMessage {\r\n        public string message;\r\n    }\r\n```\r\n\r\nApex class deserializing data\r\n```\r\nclass SoloConnector {\r\n    resp = makeNetworkCall()...\r\n    SoloDTO.CreateCadRequestError resp = ( SoloDTO.CreateCadRequestError )JSON.deserialize( response.getBody(), SoloDTO.CreateCadRequestError.class );\r\n    System.debug(&#39;resp: &#39; + resp.error + resp.message);\r\n\r\n}\r\n```\r\n\r\nI am getting an error \r\n```\r\nillegal value for primitive\r\n```\r\n\r\nI assume its my DTO class and not being able to serialize the data. Any suggetsions?","title":"Apex Data Transfer Object. Deserializing data","body":"<p>I am new to Apex and SF and I have to manage some errors from an 3rd party API we are calling. I have been using DTO with very simple response objects and the error response object we get back has one more level.</p>\n<p>JSON response from API:</p>\n<pre><code>{\n    &quot;error&quot;: {\n        &quot;message&quot;: &quot;File couldn't be downloaded: main_panel&quot;\n    }\n}\n</code></pre>\n<p>DTO file:</p>\n<pre><code>public class CreateCadRequestError {\n        public string error;\n        public CreateCadRequestErrorMessage message;\n    }\n    \n    public class CreateCadRequestErrorMessage {\n        public string message;\n    }\n</code></pre>\n<p>Apex class deserializing data</p>\n<pre><code>class SoloConnector {\n    resp = makeNetworkCall()...\n    SoloDTO.CreateCadRequestError resp = ( SoloDTO.CreateCadRequestError )JSON.deserialize( response.getBody(), SoloDTO.CreateCadRequestError.class );\n    System.debug('resp: ' + resp.error + resp.message);\n\n}\n</code></pre>\n<p>I am getting an error</p>\n<pre><code>illegal value for primitive\n</code></pre>\n<p>I assume its my DTO class and not being able to serialize the data. Any suggetsions?</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":8970213,"reputation":687,"user_id":6689024,"display_name":"Juliano Macedo"},"score":0,"creation_date":1642080633,"post_id":70696876,"comment_id":124980307,"body_markdown":"Using your favorite IDE, attempt to go deep into the debug mode to understand precisely what is happening line by line. Also, you built a high-coupled code between EmployeeValidation and IdentityApiClient class. Check it out and re-design it if possible.","body":"Using your favorite IDE, attempt to go deep into the debug mode to understand precisely what is happening line by line. Also, you built a high-coupled code between EmployeeValidation and IdentityApiClient class. Check it out and re-design it if possible."}],"answers":[{"tags":[],"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642096769,"creation_date":1642096769,"answer_id":70701055,"question_id":70696876,"body_markdown":"The method `identityApiClient.retrieveIdentityDetail` returns a `Mono` which is not being subscribed to by anyone. This code in isolation does not do anything.\r\n\r\n```java \r\nidentityApiClient.retrieveIdentityDetail(identityLocal)\r\n                            .doOnError(e -&gt; errorDetailConsumer.accept(new ErrorDetail(REQUEST_INVALID_PARAM, e.getMessage())));\r\n```\r\n\r\nThe mantra for reactive programming is \r\n\r\n&gt; &quot;Nothing happens until you subscribe&quot;\r\n\r\nFor the majority of use cases, the underlying framework (in this case spring) will subscribe to the `Mono` for you, as long as you return it from your `RouterFunction`.\r\n\r\nI am not fully familiar with your requirement but one possible solution would be to refactor your validator to make it reactive and add it into your reactive stream.","title":"Spring webclient is not logging error response and performing consumer action on receiving error","body":"<p>The method <code>identityApiClient.retrieveIdentityDetail</code> returns a <code>Mono</code> which is not being subscribed to by anyone. This code in isolation does not do anything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>identityApiClient.retrieveIdentityDetail(identityLocal)\n                            .doOnError(e -&gt; errorDetailConsumer.accept(new ErrorDetail(REQUEST_INVALID_PARAM, e.getMessage())));\n</code></pre>\n<p>The mantra for reactive programming is</p>\n<blockquote>\n<p>&quot;Nothing happens until you subscribe&quot;</p>\n</blockquote>\n<p>For the majority of use cases, the underlying framework (in this case spring) will subscribe to the <code>Mono</code> for you, as long as you return it from your <code>RouterFunction</code>.</p>\n<p>I am not fully familiar with your requirement but one possible solution would be to refactor your validator to make it reactive and add it into your reactive stream.</p>\n"}],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642096769,"creation_date":1642078032,"question_id":70696876,"body_markdown":"I have a spring boot service where APIs are exposed via RouterFunction. Once the API request is received , certain validations are triggered. One of the validation, call another API via webclient to validate if received value exist or not. If value do not exist , it has to log the error message and add the error message in array list.\r\n\r\nHowever, below implementation is neither logging the error nor success message nor able to add the error message in array list. \r\n\r\nI also tried to use block() but that gives \r\n\r\n    &#39;IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-3&#39;\r\n\r\nIf I directly expose one API via RouterFunction just to call that lookup API, everything is working. This shows that making call via validation layer is causing issue, perhaps some issue with synchronous and reactive way of making call.\r\n\r\nI am unable to understand the issue with my implementation.Please guide what I am doing wrong.\r\n\r\n**Validation Class which is triggering external validation**\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class EmployeeValidation{\r\n    \t\r\n    \tprivate final IdentityApiClient identityApiClient;\r\n    \t\r\n    \tpublic List&lt;ErrorDetail&gt; validate(Optional&lt;EmployeeRequestDto&gt; employeeRequest) {\r\n            var errors = new ArrayList&lt;ErrorDetail&gt;();\r\n            employeeRequest\r\n                    .ifPresent(employee -&gt; {\r\n                        //some other validations\r\n                        if (errors.isEmpty()) {\r\n                            validateIfIdentityExist(employee.getSecuredEmployeeDetail(), errors::add);\r\n                        }\r\n                    });\r\n            return errors;\r\n        }\r\n    \t\r\n    \tprivate void validateIfIdentityExist(SecuredEmployeeDetailDto securedEmployeeDetailDto, Consumer&lt;ErrorDetail&gt; errorDetailConsumer) {\r\n    \t\tOptional.ofNullable(securedEmployeeDetailDto)\r\n                    .map(SecuredEmployeeDetailDto::getIdentity)\r\n                    .ifPresent(identityLocal -&gt; {\r\n                        log.info(&quot;Going to retrieve identity [{}] detail&quot;, identityLocal);\r\n                        identityApiClient.retrieveIdentityDetail(identityLocal)\r\n                                .doOnError(e -&gt; errorDetailConsumer.accept(new ErrorDetail(REQUEST_INVALID_PARAM, e.getMessage())));\r\n    \r\n                    });\r\n    \t}\r\n    }\r\n\r\n**Webclient which is calling another API to validate value**\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class IdentityApiClient {\r\n    \r\n        private final WebClient identityWebClient;\r\n        private final IdentityProperties identityProperties;\r\n    \t\r\n    \tpublic Mono&lt;IdentityDetail&gt; retrieveIdentityDetail(String identity) {\r\n            log.info(&quot;Going to retrieve identity [{}] detail&quot;, identity);\r\n            return identityWebClient\r\n                    .get()\r\n                    .uri(identityProperties.getLookupPath(), Map.of(&quot;identity&quot;, identity))\r\n                    .retrieve()\r\n                    .onStatus(httpStatus -&gt; httpStatus.equals(UNAUTHORIZED),\r\n                            clientResponse -&gt; clientResponse.bodyToMono(String.class)\r\n                                    .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(UNAUTHORIZED.value(), IdentityLookUpErrorResponse.builder()\r\n                                            .error(identityLookUpErrorResponse)\r\n                                            .message(&quot;Unauthorized Access&quot;)\r\n                                            .status(UNAUTHORIZED.value())\r\n                                            .build()))))\r\n                    .onStatus(HttpStatus::is4xxClientError,\r\n                            clientResponse -&gt; clientResponse.bodyToMono(IdentityLookUpErrorResponse.class)\r\n                                    .switchIfEmpty(Mono.just(IdentityLookUpErrorResponse.builder()\r\n                                            .error(&quot;Received Empty Response Body&quot;)\r\n                                            .message(&quot;Unknown Identity&quot;)\r\n                                            .status(NOT_FOUND.value())\r\n                                            .build()))\r\n                                    .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(identityLookUpErrorResponse.getStatus(), identityLookUpErrorResponse))))\r\n                    .onStatus(HttpStatus::is5xxServerError,\r\n                            clientResponse -&gt; clientResponse.bodyToMono(IdentityLookUpErrorResponse.class)\r\n                                    .switchIfEmpty(Mono.just(IdentityLookUpErrorResponse.builder()\r\n                                            .error(&quot;Received Empty Response Body&quot;)\r\n                                            .message(INTERNAL_SERVER_ERROR.getReasonPhrase())\r\n                                            .status(INTERNAL_SERVER_ERROR.value())\r\n                                            .build()))\r\n                                    .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(identityLookUpErrorResponse.getStatus(), identityLookUpErrorResponse))))\r\n                    .bodyToMono(IdentityDetail.class)\r\n                    .doOnNext(response -&gt; log.info(&quot;Identity [{}] response received&quot;, response)) // not getting logged when called via validator class\r\n                    .doOnError(e -&gt; log.error(&quot;Identity [{}] error response received&quot;, identity, e));// not getting logged when called via validator class\r\n        }\t\r\n    }","title":"Spring webclient is not logging error response and performing consumer action on receiving error","body":"<p>I have a spring boot service where APIs are exposed via RouterFunction. Once the API request is received , certain validations are triggered. One of the validation, call another API via webclient to validate if received value exist or not. If value do not exist , it has to log the error message and add the error message in array list.</p>\n<p>However, below implementation is neither logging the error nor success message nor able to add the error message in array list.</p>\n<p>I also tried to use block() but that gives</p>\n<pre><code>'IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-epoll-3'\n</code></pre>\n<p>If I directly expose one API via RouterFunction just to call that lookup API, everything is working. This shows that making call via validation layer is causing issue, perhaps some issue with synchronous and reactive way of making call.</p>\n<p>I am unable to understand the issue with my implementation.Please guide what I am doing wrong.</p>\n<p><strong>Validation Class which is triggering external validation</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class EmployeeValidation{\n    \n    private final IdentityApiClient identityApiClient;\n    \n    public List&lt;ErrorDetail&gt; validate(Optional&lt;EmployeeRequestDto&gt; employeeRequest) {\n        var errors = new ArrayList&lt;ErrorDetail&gt;();\n        employeeRequest\n                .ifPresent(employee -&gt; {\n                    //some other validations\n                    if (errors.isEmpty()) {\n                        validateIfIdentityExist(employee.getSecuredEmployeeDetail(), errors::add);\n                    }\n                });\n        return errors;\n    }\n    \n    private void validateIfIdentityExist(SecuredEmployeeDetailDto securedEmployeeDetailDto, Consumer&lt;ErrorDetail&gt; errorDetailConsumer) {\n        Optional.ofNullable(securedEmployeeDetailDto)\n                .map(SecuredEmployeeDetailDto::getIdentity)\n                .ifPresent(identityLocal -&gt; {\n                    log.info(&quot;Going to retrieve identity [{}] detail&quot;, identityLocal);\n                    identityApiClient.retrieveIdentityDetail(identityLocal)\n                            .doOnError(e -&gt; errorDetailConsumer.accept(new ErrorDetail(REQUEST_INVALID_PARAM, e.getMessage())));\n\n                });\n    }\n}\n</code></pre>\n<p><strong>Webclient which is calling another API to validate value</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class IdentityApiClient {\n\n    private final WebClient identityWebClient;\n    private final IdentityProperties identityProperties;\n    \n    public Mono&lt;IdentityDetail&gt; retrieveIdentityDetail(String identity) {\n        log.info(&quot;Going to retrieve identity [{}] detail&quot;, identity);\n        return identityWebClient\n                .get()\n                .uri(identityProperties.getLookupPath(), Map.of(&quot;identity&quot;, identity))\n                .retrieve()\n                .onStatus(httpStatus -&gt; httpStatus.equals(UNAUTHORIZED),\n                        clientResponse -&gt; clientResponse.bodyToMono(String.class)\n                                .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(UNAUTHORIZED.value(), IdentityLookUpErrorResponse.builder()\n                                        .error(identityLookUpErrorResponse)\n                                        .message(&quot;Unauthorized Access&quot;)\n                                        .status(UNAUTHORIZED.value())\n                                        .build()))))\n                .onStatus(HttpStatus::is4xxClientError,\n                        clientResponse -&gt; clientResponse.bodyToMono(IdentityLookUpErrorResponse.class)\n                                .switchIfEmpty(Mono.just(IdentityLookUpErrorResponse.builder()\n                                        .error(&quot;Received Empty Response Body&quot;)\n                                        .message(&quot;Unknown Identity&quot;)\n                                        .status(NOT_FOUND.value())\n                                        .build()))\n                                .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(identityLookUpErrorResponse.getStatus(), identityLookUpErrorResponse))))\n                .onStatus(HttpStatus::is5xxServerError,\n                        clientResponse -&gt; clientResponse.bodyToMono(IdentityLookUpErrorResponse.class)\n                                .switchIfEmpty(Mono.just(IdentityLookUpErrorResponse.builder()\n                                        .error(&quot;Received Empty Response Body&quot;)\n                                        .message(INTERNAL_SERVER_ERROR.getReasonPhrase())\n                                        .status(INTERNAL_SERVER_ERROR.value())\n                                        .build()))\n                                .flatMap(identityLookUpErrorResponse -&gt; Mono.error(new IdentityLookUpException(identityLookUpErrorResponse.getStatus(), identityLookUpErrorResponse))))\n                .bodyToMono(IdentityDetail.class)\n                .doOnNext(response -&gt; log.info(&quot;Identity [{}] response received&quot;, response)) // not getting logged when called via validator class\n                .doOnError(e -&gt; log.error(&quot;Identity [{}] error response received&quot;, identity, e));// not getting logged when called via validator class\n    }   \n}\n</code></pre>\n"},{"tags":["java","google-cloud-storage"],"comments":[{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1462207939,"post_id":36985658,"comment_id":61529523,"body_markdown":"&quot;The specified key does not exist&quot; means that GCS can&#39;t find an object of that name. Check the URL you&#39;re fetching and make sure that the bucket and object in it match a real object.","body":"&quot;The specified key does not exist&quot; means that GCS can&#39;t find an object of that name. Check the URL you&#39;re fetching and make sure that the bucket and object in it match a real object."},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1462219546,"post_id":36985658,"comment_id":61535736,"body_markdown":"I already checked and the bucket name and the object name (in this case a constant string variable called a&quot; but still same warning error. I&#39;m still able to download this file but there is only warning message of it.","body":"I already checked and the bucket name and the object name (in this case a constant string variable called a&quot; but still same warning error. I&#39;m still able to download this file but there is only warning message of it."},{"owner":{"account_id":30002,"reputation":37409,"user_id":81491,"accept_rate":82,"display_name":"Brandon Yarbrough"},"score":0,"creation_date":1462247485,"post_id":36985658,"comment_id":61544319,"body_markdown":"Are you perhaps using App Engine&#39;s local development server?","body":"Are you perhaps using App Engine&#39;s local development server?"}],"answers":[{"tags":[],"owner":{"account_id":23932557,"reputation":1,"user_id":17926827,"display_name":"ya mama"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642096595,"creation_date":1642096595,"answer_id":70701018,"question_id":36985658,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Error&gt;&lt;Code&gt;NoSuchKey&lt;/Code&gt;&lt;Message&gt;The specified key does not exist.&lt;/Message&gt;&lt;Key&gt;resources/html5gs/undefined&lt;/Key&gt;&lt;RequestId&gt;D93K9V6EHSSM3MA5&lt;/RequestId&gt;&lt;HostId&gt;OlyGAPwwx1AAhkhbdYQU/g0qZbg1Z2Dsgbxvkx484NxPpWv6wSqWm4/Hnbs20cmmDteqfHnESzE=&lt;/HostId&gt;&lt;/Error&gt;\r\n","title":"NoSuchKey Error While Downloading File From Bucket","body":"\n<p><Code>NoSuchKey</Code>The specified key does not exist.resources/html5gs/undefinedD93K9V6EHSSM3MA5OlyGAPwwx1AAhkhbdYQU/g0qZbg1Z2Dsgbxvkx484NxPpWv6wSqWm4/Hnbs20cmmDteqfHnESzE=</p>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642096595,"creation_date":1462201546,"question_id":36985658,"body_markdown":"I tried to download a file from the bucket but I got an error like this\r\n\r\n    (Signed URL link) NOT FOUND: &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&lt;Error&gt;&lt;Code&gt;NoSuchKey&lt;/Code&gt;&lt;Message&gt;The specified key does not exist.&lt;/Message&gt;&lt;/Error&gt;\r\n\r\nBasically the implementation is something like this\r\n\r\n\tfor (int i = 0; i &lt; providers.size(); i++) {\r\n\t\t\turl2 = providers.get(i).getRemoteGetUrl(a);\r\n\t\t\turl2.setChunk(chunks.get(providers.get(i)));\r\n\t\t\tlist2.add(i, url2);\r\n\t\t\tSystem.out.println(&quot;URL Get from Download &quot;+ url2);\r\n\t}\r\n\r\nwith a is the constant name of the file to be stored in the bucket. I&#39;m still able to download this file but it gave me this warning in the console and it took longer compared with downloading the file from different storage provider of AWS that happened without any error.\r\n\r\nIs there something wrong with the code?\r\n\r\nThanks","title":"NoSuchKey Error While Downloading File From Bucket","body":"<p>I tried to download a file from the bucket but I got an error like this</p>\n\n<pre><code>(Signed URL link) NOT FOUND: &lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;Error&gt;&lt;Code&gt;NoSuchKey&lt;/Code&gt;&lt;Message&gt;The specified key does not exist.&lt;/Message&gt;&lt;/Error&gt;\n</code></pre>\n\n<p>Basically the implementation is something like this</p>\n\n<pre><code>for (int i = 0; i &lt; providers.size(); i++) {\n        url2 = providers.get(i).getRemoteGetUrl(a);\n        url2.setChunk(chunks.get(providers.get(i)));\n        list2.add(i, url2);\n        System.out.println(\"URL Get from Download \"+ url2);\n}\n</code></pre>\n\n<p>with a is the constant name of the file to be stored in the bucket. I'm still able to download this file but it gave me this warning in the console and it took longer compared with downloading the file from different storage provider of AWS that happened without any error.</p>\n\n<p>Is there something wrong with the code?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","logging","apache-kafka","log4j"],"answers":[{"tags":[],"owner":{"account_id":3088315,"reputation":851,"user_id":3437281,"accept_rate":67,"display_name":"ElToro1966"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642096001,"creation_date":1642096001,"answer_id":70700907,"question_id":70652547,"body_markdown":"It&#39;s the double backslash... If I do:\r\n\r\n    /opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\r\n\r\ninstead of\r\n\r\n    //opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\r\n\r\nit works, see also [this][1]. Go figure...\r\n\r\n\r\n  [1]: https://forum.confluent.io/t/the-log4j-system-fails-in-apache-kafka/3855/2","title":"log4j fails in Apache Kafka","body":"<p>It's the double backslash... If I do:</p>\n<pre><code>/opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\n</code></pre>\n<p>instead of</p>\n<pre><code>//opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\n</code></pre>\n<p>it works, see also <a href=\"https://forum.confluent.io/t/the-log4j-system-fails-in-apache-kafka/3855/2\" rel=\"nofollow noreferrer\">this</a>. Go figure...</p>\n"}],"owner":{"account_id":3088315,"reputation":851,"user_id":3437281,"accept_rate":67,"display_name":"ElToro1966"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642096001,"creation_date":1641818277,"question_id":70652547,"body_markdown":"I am new to Apache Kafka and I am using [this][1] for setting up a Kafka 3.0.0 ZooKeeper-less kafka cluster. When I try to generate a storage random UUID, I get:\r\n\r\n    //opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\r\n    \r\n    log4j:ERROR Could not read configuration file from URL [file://opt/kafka_2.13-3.0.0/bin/../config/tools-log4j.properties].\r\n    java.net.UnknownHostException: opt\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633)\r\n    \tat java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045)\r\n    \tat java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010)\r\n    \tat java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102)\r\n    \tat java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088)\r\n    \tat java.base/sun.net.www.protocol.ftp.FtpURLConnection.connect(FtpURLConnection.java:320)\r\n    \tat java.base/sun.net.www.protocol.ftp.FtpURLConnection.getInputStream(FtpURLConnection.java:426)\r\n    \tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:557)\r\n    \tat org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:526)\r\n    \tat org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\r\n    \tat org.slf4j.impl.Log4jLoggerFactory.&lt;init&gt;(Log4jLoggerFactory.java:66)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:72)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:45)\r\n    \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\r\n    \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:417)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\r\n    \tat com.typesafe.scalalogging.Logger$.apply(Logger.scala:31)\r\n    \tat kafka.utils.Log4jControllerRegistration$.&lt;clinit&gt;(Logging.scala:25)\r\n    \tat kafka.tools.StorageTool$.&lt;clinit&gt;(StorageTool.scala:32)\r\n    \tat kafka.tools.StorageTool.main(StorageTool.scala)\r\n    log4j:ERROR Ignoring configuration file [file://opt/kafka_2.13-3.0.0/bin/../config/tools-log4j.properties].\r\n    log4j:WARN No appenders could be found for logger (kafka.utils.Log4jControllerRegistration$).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    \r\n    znl51P7oQX2GDsfi2FRE7g\r\n\r\nSi I get the UUID, but there seems to be no logging. Is this a Kafka bug? Or have I missed something in the setup? \r\n\r\nThe file tools-log4j.properties is in the right place and with the right permissions. File content:\r\n\r\n    &gt; cat /opt/kafka_2.13-3.0.0/config/tools-log4j.properties \r\n    # Licensed to the Apache Software Foundation (ASF) under one or more\r\n    # contributor license agreements.  See the NOTICE file distributed with\r\n    # this work for additional information regarding copyright ownership.\r\n    # The ASF licenses this file to You under the Apache License, Version 2.0\r\n    # (the &quot;License&quot;); you may not use this file except in compliance with\r\n    # the License.  You may obtain a copy of the License at\r\n    #\r\n    #    http://www.apache.org/licenses/LICENSE-2.0\r\n    #\r\n    # Unless required by applicable law or agreed to in writing, software\r\n    # distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n    # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    # See the License for the specific language governing permissions and\r\n    # limitations under the License.\r\n    \r\n    log4j.rootLogger=WARN, stderr\r\n    \r\n    log4j.appender.stderr=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stderr.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n    log4j.appender.stderr.Target=System.err\r\n\r\nThanks.\r\n\r\n  [1]: https://adityasridhar.com/posts/how-to-easily-install-kafka-without-zookeeper","title":"log4j fails in Apache Kafka","body":"<p>I am new to Apache Kafka and I am using <a href=\"https://adityasridhar.com/posts/how-to-easily-install-kafka-without-zookeeper\" rel=\"nofollow noreferrer\">this</a> for setting up a Kafka 3.0.0 ZooKeeper-less kafka cluster. When I try to generate a storage random UUID, I get:</p>\n<pre><code>//opt/kafka_2.13-3.0.0&gt; ./bin/kafka-storage.sh random-uuid\n\nlog4j:ERROR Could not read configuration file from URL [file://opt/kafka_2.13-3.0.0/bin/../config/tools-log4j.properties].\njava.net.UnknownHostException: opt\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045)\n    at java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010)\n    at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102)\n    at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088)\n    at java.base/sun.net.www.protocol.ftp.FtpURLConnection.connect(FtpURLConnection.java:320)\n    at java.base/sun.net.www.protocol.ftp.FtpURLConnection.getInputStream(FtpURLConnection.java:426)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:557)\n    at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:526)\n    at org.apache.log4j.LogManager.&lt;clinit&gt;(LogManager.java:127)\n    at org.slf4j.impl.Log4jLoggerFactory.&lt;init&gt;(Log4jLoggerFactory.java:66)\n    at org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:72)\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:45)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:417)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:362)\n    at com.typesafe.scalalogging.Logger$.apply(Logger.scala:31)\n    at kafka.utils.Log4jControllerRegistration$.&lt;clinit&gt;(Logging.scala:25)\n    at kafka.tools.StorageTool$.&lt;clinit&gt;(StorageTool.scala:32)\n    at kafka.tools.StorageTool.main(StorageTool.scala)\nlog4j:ERROR Ignoring configuration file [file://opt/kafka_2.13-3.0.0/bin/../config/tools-log4j.properties].\nlog4j:WARN No appenders could be found for logger (kafka.utils.Log4jControllerRegistration$).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n\nznl51P7oQX2GDsfi2FRE7g\n</code></pre>\n<p>Si I get the UUID, but there seems to be no logging. Is this a Kafka bug? Or have I missed something in the setup?</p>\n<p>The file tools-log4j.properties is in the right place and with the right permissions. File content:</p>\n<pre><code>&gt; cat /opt/kafka_2.13-3.0.0/config/tools-log4j.properties \n# Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\nlog4j.rootLogger=WARN, stderr\n\nlog4j.appender.stderr=org.apache.log4j.ConsoleAppender\nlog4j.appender.stderr.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\nlog4j.appender.stderr.Target=System.err\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","spring","postgresql","r2dbc"],"comments":[{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641580009,"post_id":69795148,"comment_id":124849891,"body_markdown":"i am also stuck on custom converter for single DB. can you please help me here https://stackoverflow.com/questions/70584887/spring-r2dbc-custom-json-converter-not-working.","body":"i am also stuck on custom converter for single DB. can you please help me here <a href=\"https://stackoverflow.com/questions/70584887/spring-r2dbc-custom-json-converter-not-working\" title=\"spring r2dbc custom json converter not working\">stackoverflow.com/questions/70584887/&hellip;</a>."},{"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"score":0,"creation_date":1642183157,"post_id":69795148,"comment_id":125011709,"body_markdown":"Hi @user1111880, I have had a look at your question. However you are connecting to a single database... It might be slightly different, but maybe you can try anyway.","body":"Hi @user1111880, I have had a look at your question. However you are connecting to a single database... It might be slightly different, but maybe you can try anyway."}],"answers":[{"tags":[],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642095419,"creation_date":1642095419,"answer_id":70700803,"question_id":69795148,"body_markdown":"I have solved this issue.\r\n\r\nI&#39;ve had to manually register a converter that is used with the connection to the database with the table for which a conversion is needed.\r\nThis is the class where I have registered the converters:\r\n\r\n    @Component\r\n    public class FirstR2dbcConverters {\r\n\r\n    // These are the converters. Data is what is persisted to the DB whilst  Json is what is read from the DB.\r\n    private DataToJsonConverter dataWriteConverter;\r\n    private JsonToDataConverter dataReadConverter;\r\n\r\n    @Autowired\r\n    public FirstR2dbcConverters(DataToJsonConverter dataWriteConverter, JsonToDataConverter dataReadConverter){\r\n        this.dataWriteConverter = dataWriteConverter;\r\n        this.dataReadConverter = dataReadConverter;\r\n    }\r\n\r\n    /*\r\n     *  Creates a new r2dbc converter using the one we have defined. This r2dbc converter will replace the default r2dbc converter used by the spring\r\n     * framework.\r\n     */\r\n    public MappingR2dbcConverter r2dbcConverter() {\r\n\r\n        R2dbcMappingContext mappingContext = r2dbcMappingContext();\r\n        R2dbcCustomConversions r2dbcCustomConversions = r2dbcCustomConversions();\r\n\r\n        return new MappingR2dbcConverter(mappingContext, r2dbcCustomConversions);\r\n    }\r\n\r\n    private R2dbcMappingContext r2dbcMappingContext() {\r\n        // Interface and default implementation of a naming strategy.\r\n        NamingStrategy namingStrategy = NamingStrategy.INSTANCE;\r\n\r\n        R2dbcCustomConversions r2dbcCustomConversions = r2dbcCustomConversions();\r\n\r\n        R2dbcMappingContext context = new R2dbcMappingContext(namingStrategy);\r\n        context.setSimpleTypeHolder(r2dbcCustomConversions.getSimpleTypeHolder());\r\n\r\n        return context;\r\n    }\r\n\r\n    /*\r\n        This is where we return our custom object converters for the database.\r\n    */\r\n    @ExcludeFromJacocoGeneratedReport\r\n    private R2dbcCustomConversions r2dbcCustomConversions() {\r\n        Collection&lt;?&gt; converters = Arrays.asList(dataWriteConverter, dataReadConverter);\r\n        R2dbcCustomConversions conversions = R2dbcCustomConversions.of(PostgresDialect.INSTANCE,converters);\r\n        return conversions;\r\n    }}\r\n\r\nThe other connection doesn&#39;t need anything like the above as there aren&#39;t tables with complex data types.\r\n\r\nNow we need to create the configurations for the connections to the two databases.\r\n\r\nIn FirstDatabaseConfig we are going to use the class FirstR2dbcConverters, which will return us the converters we are going to use by default when connecting to First database.\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages = {&quot;packages where the entities to persist are stored&quot;}, entityOperationsRef =\r\n        &quot;firstR2dbcEntityOperations&quot;)\r\n    public class FirstDatabaseConfig {\r\n\r\n    @Value(&quot;${db.first.url}&quot;)\r\n    private String url;\r\n    @Value(&quot;${db.first.username}&quot;)\r\n    private String username;\r\n    @Value(&quot;${db.first.password}&quot;)\r\n    private String password;\r\n\r\n    @Autowired\r\n    private FirstR2dbcConverters firstR2dbcConfiguration;\r\n\r\n    @Bean(name = &quot;firstConnectionFactory&quot;)\r\n    public ConnectionFactory connectionFactory() {\r\n\r\n        // Parses a R2DBC Connection URL and returns the parsed ConnectionFactoryOptions\r\n        // The  ConnectionFactoryOptions is  holder for configuration options related to ConnectionFactory.\r\n        ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\r\n\r\n        // Create and populates a builder with the existing values from a configured ConnectionFactoryOptions\r\n        // and returns it\r\n        ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\r\n\r\n        if (!StringUtils.isEmpty(username)) {\r\n            builder = builder.option(ConnectionFactoryOptions.USER, username);\r\n        }\r\n        if (!StringUtils.isEmpty(password)) {\r\n        // Don&#39;t take this as an example... the password should be kept in a config pwd encrypted.\r\n          builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\r\n        }\r\n        // Returns a ConnectionFactory from an available implementation, created from a collection of ConnectionFactoryOptions\r\n        return ConnectionFactories.get(builder.build());\r\n    }\r\n\r\n    @Bean\r\n    public R2dbcEntityOperations firstR2dbcEntityOperations(@Qualifier(&quot;firstConnectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n\r\n        // Here we are saying that we are going to use the converters when connecting to the DB targeted by the connectionFactory\r\n        DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\r\n        MappingR2dbcConverter customMappingConverter = firstR2dbcConfiguration.r2dbcConverter();\r\n        return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE, customMappingConverter);\r\n    } }\r\n\r\n\r\n\r\n\r\nHowever, when connecting to the other database, we don&#39;t need any converter:\r\n\r\n      @Configuration\r\n      @EnableR2dbcRepositories(basePackages = {&quot;packages where the entities to persist are stored&quot;}, entityOperationsRef =\r\n        &quot;secondR2dbcEntityOperations&quot;)\r\n    public class secondDatabaseConfig {\r\n\r\n    @Value(&quot;${db.second.url}&quot;)\r\n    private String url;\r\n    @Value(&quot;${db.second.username}&quot;)\r\n    private String username;\r\n    @Value(&quot;${db.second.password}&quot;)\r\n    private String password;\r\n\r\n    @Bean(name = &quot;SecondDatabaseConfig&quot;)\r\n    public ConnectionFactory connectionFactory() {\r\n\r\n\r\n        // Parses a R2DBC Connection URL and returns the parsed ConnectionFactoryOptions\r\n        // The ConnectionFactoryOptions is  holder for configuration options related to ConnectionFactory.\r\n        ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\r\n\r\n        // Create and populates a builder with the existing values from a ConnectionFactoryOptions and returns it\r\n        ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\r\n\r\n        if (!StringUtils.isEmpty(username)) {\r\n            builder = builder.option(ConnectionFactoryOptions.USER, username);\r\n        }\r\n        if (!StringUtils.isEmpty(password)) {\r\n           // Don&#39;t take this as an example... the password should be kept in a config pwd encrypted.\r\n            builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\r\n        }\r\n\r\n        // Returns a ConnectionFactory from an available implementation, created from a collection of ConnectionFactoryOptions\r\n        return ConnectionFactories.get(builder.build());\r\n    }\r\n\r\n    @Bean\r\n    public R2dbcEntityOperations secondR2dbcEntityOperations(@Qualifier(&quot;SecondDatabaseConfig&quot;)ConnectionFactory connectionFactory) {\r\n\r\n        DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\r\n\r\n        return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE);\r\n    }}\r\n\r\n\r\n\r\nSo the spring wasn&#39;t picking up the converters when connecting to 2 databases so I&#39;ve had to explicitly tell which converters to use for a specific connection.","title":"Spring data R2DBC - Custom converters not picked up when connecting to multiple databases","body":"<p>I have solved this issue.</p>\n<p>I've had to manually register a converter that is used with the connection to the database with the table for which a conversion is needed.\nThis is the class where I have registered the converters:</p>\n<pre><code>@Component\npublic class FirstR2dbcConverters {\n\n// These are the converters. Data is what is persisted to the DB whilst  Json is what is read from the DB.\nprivate DataToJsonConverter dataWriteConverter;\nprivate JsonToDataConverter dataReadConverter;\n\n@Autowired\npublic FirstR2dbcConverters(DataToJsonConverter dataWriteConverter, JsonToDataConverter dataReadConverter){\n    this.dataWriteConverter = dataWriteConverter;\n    this.dataReadConverter = dataReadConverter;\n}\n\n/*\n *  Creates a new r2dbc converter using the one we have defined. This r2dbc converter will replace the default r2dbc converter used by the spring\n * framework.\n */\npublic MappingR2dbcConverter r2dbcConverter() {\n\n    R2dbcMappingContext mappingContext = r2dbcMappingContext();\n    R2dbcCustomConversions r2dbcCustomConversions = r2dbcCustomConversions();\n\n    return new MappingR2dbcConverter(mappingContext, r2dbcCustomConversions);\n}\n\nprivate R2dbcMappingContext r2dbcMappingContext() {\n    // Interface and default implementation of a naming strategy.\n    NamingStrategy namingStrategy = NamingStrategy.INSTANCE;\n\n    R2dbcCustomConversions r2dbcCustomConversions = r2dbcCustomConversions();\n\n    R2dbcMappingContext context = new R2dbcMappingContext(namingStrategy);\n    context.setSimpleTypeHolder(r2dbcCustomConversions.getSimpleTypeHolder());\n\n    return context;\n}\n\n/*\n    This is where we return our custom object converters for the database.\n*/\n@ExcludeFromJacocoGeneratedReport\nprivate R2dbcCustomConversions r2dbcCustomConversions() {\n    Collection&lt;?&gt; converters = Arrays.asList(dataWriteConverter, dataReadConverter);\n    R2dbcCustomConversions conversions = R2dbcCustomConversions.of(PostgresDialect.INSTANCE,converters);\n    return conversions;\n}}\n</code></pre>\n<p>The other connection doesn't need anything like the above as there aren't tables with complex data types.</p>\n<p>Now we need to create the configurations for the connections to the two databases.</p>\n<p>In FirstDatabaseConfig we are going to use the class FirstR2dbcConverters, which will return us the converters we are going to use by default when connecting to First database.</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages = {&quot;packages where the entities to persist are stored&quot;}, entityOperationsRef =\n    &quot;firstR2dbcEntityOperations&quot;)\npublic class FirstDatabaseConfig {\n\n@Value(&quot;${db.first.url}&quot;)\nprivate String url;\n@Value(&quot;${db.first.username}&quot;)\nprivate String username;\n@Value(&quot;${db.first.password}&quot;)\nprivate String password;\n\n@Autowired\nprivate FirstR2dbcConverters firstR2dbcConfiguration;\n\n@Bean(name = &quot;firstConnectionFactory&quot;)\npublic ConnectionFactory connectionFactory() {\n\n    // Parses a R2DBC Connection URL and returns the parsed ConnectionFactoryOptions\n    // The  ConnectionFactoryOptions is  holder for configuration options related to ConnectionFactory.\n    ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\n\n    // Create and populates a builder with the existing values from a configured ConnectionFactoryOptions\n    // and returns it\n    ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\n\n    if (!StringUtils.isEmpty(username)) {\n        builder = builder.option(ConnectionFactoryOptions.USER, username);\n    }\n    if (!StringUtils.isEmpty(password)) {\n    // Don't take this as an example... the password should be kept in a config pwd encrypted.\n      builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\n    }\n    // Returns a ConnectionFactory from an available implementation, created from a collection of ConnectionFactoryOptions\n    return ConnectionFactories.get(builder.build());\n}\n\n@Bean\npublic R2dbcEntityOperations firstR2dbcEntityOperations(@Qualifier(&quot;firstConnectionFactory&quot;) ConnectionFactory connectionFactory) {\n\n    // Here we are saying that we are going to use the converters when connecting to the DB targeted by the connectionFactory\n    DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\n    MappingR2dbcConverter customMappingConverter = firstR2dbcConfiguration.r2dbcConverter();\n    return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE, customMappingConverter);\n} }\n</code></pre>\n<p>However, when connecting to the other database, we don't need any converter:</p>\n<pre><code>  @Configuration\n  @EnableR2dbcRepositories(basePackages = {&quot;packages where the entities to persist are stored&quot;}, entityOperationsRef =\n    &quot;secondR2dbcEntityOperations&quot;)\npublic class secondDatabaseConfig {\n\n@Value(&quot;${db.second.url}&quot;)\nprivate String url;\n@Value(&quot;${db.second.username}&quot;)\nprivate String username;\n@Value(&quot;${db.second.password}&quot;)\nprivate String password;\n\n@Bean(name = &quot;SecondDatabaseConfig&quot;)\npublic ConnectionFactory connectionFactory() {\n\n\n    // Parses a R2DBC Connection URL and returns the parsed ConnectionFactoryOptions\n    // The ConnectionFactoryOptions is  holder for configuration options related to ConnectionFactory.\n    ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\n\n    // Create and populates a builder with the existing values from a ConnectionFactoryOptions and returns it\n    ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\n\n    if (!StringUtils.isEmpty(username)) {\n        builder = builder.option(ConnectionFactoryOptions.USER, username);\n    }\n    if (!StringUtils.isEmpty(password)) {\n       // Don't take this as an example... the password should be kept in a config pwd encrypted.\n        builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\n    }\n\n    // Returns a ConnectionFactory from an available implementation, created from a collection of ConnectionFactoryOptions\n    return ConnectionFactories.get(builder.build());\n}\n\n@Bean\npublic R2dbcEntityOperations secondR2dbcEntityOperations(@Qualifier(&quot;SecondDatabaseConfig&quot;)ConnectionFactory connectionFactory) {\n\n    DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\n\n    return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE);\n}}\n</code></pre>\n<p>So the spring wasn't picking up the converters when connecting to 2 databases so I've had to explicitly tell which converters to use for a specific connection.</p>\n"}],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2896,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1642095419,"creation_date":1635760080,"question_id":69795148,"body_markdown":"The application I am working on is connecting to 2 postgresql databases at the same time.\r\n\r\nThe application is trying to perform an insert in a table with 3 columns on one of the two databases.\r\nThe columns of the table are a string, a json and a timestamp.\r\n\r\nWhen the application tries to perform the insert, it is getting the following error:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Nested entities are not supported\r\n    \tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writePropertyInternal(MappingR2dbcConverter.java:413)\r\n    \tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writeProperties(MappingR2dbcConverter.java:380)\r\n    \tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writeInternal(MappingR2dbcConverter.java:358)\r\n    \tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.write(MappingR2dbcConverter.java:350)\r\n    \tat org.springframework.data.r2dbc.convert.MappingR2dbcConverter.write(MappingR2dbcConverter.java:64)\r\n    \tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:200)\r\n    \tat org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$9(R2dbcEntityTemplate.java:548)\r\n    \tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\r\n    \tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:387)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295)\r\n    \tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159)\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\r\n    \tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onComplete(ScopePassingSpanSubscriber.java:102)\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:259)\r\n    \tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onComplete(ScopePassingSpanSubscriber.java:102)\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\r\n    \tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:401)\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:420)\r\n    \tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:474)\r\n    \tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:685)\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nIn the stack it says that &quot;nested entities are not supported&quot; but I think that the issue here is that the framework is not using the converters I have defined, in fact the entity doesn&#39;t have any relations with other entities.\r\nFollowing are the details of the entity the application fails to insert:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(&quot;my_tab&quot;)\r\n    public class MyTab implements Persistable&lt;String&gt; {\r\n    \r\n        @Id\r\n        @Column(&quot;identifier&quot;)\r\n        private String identifier;\r\n    \r\n        @Column(&quot;data&quot;)\r\n        private MyData data;\r\n    \r\n        @Column(&quot;created&quot;)\r\n        private LocalDateTime created;\r\n    \r\n    \r\n        @Transient\r\n        @Override\r\n        public String getId() {\r\n            return identifier;\r\n        }\r\n    }\r\n\r\nMyData is basically a PoJo with other fields.\r\n\r\nIn order to allow the application to connect to two databases I have followed what is on the guide:\r\n\r\nhttps://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases\r\n\r\nFollowing are the connection factory objects I have defined:\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages = {&quot;com.my.package.entity.persistence&quot;, &quot;com.my.package.repository.myTab&quot;}, entityOperationsRef =\r\n            &quot;myTabR2dbcEntityOperations&quot;)\r\n    public class FirstDatabaseConfig {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(FirstDatabaseConfig.class);\r\n    \r\n        @Autowired\r\n        private MyDataToJsonConverter myDataWriteConverter;\r\n        @Autowired\r\n        private JsonToMyDataConverter myDataReadConverter;\r\n    \r\n        /*\r\n            Used to configure custom object converters for the database.\r\n         */\r\n       @Bean\r\n        public R2dbcCustomConversions r2dbcCustomConversions() {\r\n            Collection&lt;?&gt; converters = Arrays.asList(myDataWriteConverter, myDataReadConverter);\r\n            R2dbcCustomConversions conversions = R2dbcCustomConversions.of(PostgresDialect.INSTANCE,converters);\r\n            return conversions;\r\n        }\r\n    \r\n        @Bean(name = &quot;firstDatabaseConnectionFactory&quot;)\r\n        public ConnectionFactory connectionFactory() {\r\n    \r\n            // URL, password, username are taken from an application.properties file\r\n            \r\n            ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\r\n    \r\n            ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\r\n    \r\n            if (!StringUtils.isEmpty(username)) {\r\n                builder = builder.option(ConnectionFactoryOptions.USER, username);\r\n            }\r\n            if (!StringUtils.isEmpty(password)) {\r\n                builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\r\n            }\r\n    \r\n            return ConnectionFactories.get(builder.build());\r\n        }\r\n    \r\n        @Bean\r\n        public R2dbcEntityOperations myTabR2dbcEntityOperations(@Qualifier(&quot;firstDatabaseConnectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n    \r\n            DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\r\n    \r\n            return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE);\r\n        }\r\n    }\r\n\r\nThe other configuration class is similar to the one above but it doesn&#39;t use any converters as the other table in the other database has only simple data types.\r\n\r\nMoreover, the guide https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#mapping.configuration suggests how to use custom converters but it doesn&#39;t work either\r\nin my case. Also, it says to extend  AbstractR2dbcConfiguration, which shouldn&#39;t be used if you are connecting to multiple databases, as underlined  at the link on the same guide I posted before https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases.\r\n\r\n\r\nFinally the details of the r2dbc version I am using (gradle):\r\n\r\n    implementation group: &quot;io.r2dbc&quot;, name: &quot;r2dbc-postgresql&quot;, version: &quot;0.8.8.RELEASE&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;\r\n\r\nThe strange thing is that it was working before I have introduced the connection to the other database.\r\n\r\nIf someone might be able to help, that would be really appreciated.","title":"Spring data R2DBC - Custom converters not picked up when connecting to multiple databases","body":"<p>The application I am working on is connecting to 2 postgresql databases at the same time.</p>\n<p>The application is trying to perform an insert in a table with 3 columns on one of the two databases.\nThe columns of the table are a string, a json and a timestamp.</p>\n<p>When the application tries to perform the insert, it is getting the following error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Nested entities are not supported\n    at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writePropertyInternal(MappingR2dbcConverter.java:413)\n    at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writeProperties(MappingR2dbcConverter.java:380)\n    at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.writeInternal(MappingR2dbcConverter.java:358)\n    at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.write(MappingR2dbcConverter.java:350)\n    at org.springframework.data.r2dbc.convert.MappingR2dbcConverter.write(MappingR2dbcConverter.java:64)\n    at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getOutboundRow(DefaultReactiveDataAccessStrategy.java:200)\n    at org.springframework.data.r2dbc.core.R2dbcEntityTemplate.lambda$doInsert$9(R2dbcEntityTemplate.java:548)\n    at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\n    at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n    at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:387)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:295)\n    at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n    at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:159)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\n    at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onComplete(ScopePassingSpanSubscriber.java:102)\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:259)\n    at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onComplete(ScopePassingSpanSubscriber.java:102)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:142)\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:401)\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:420)\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:474)\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:685)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>In the stack it says that &quot;nested entities are not supported&quot; but I think that the issue here is that the framework is not using the converters I have defined, in fact the entity doesn't have any relations with other entities.\nFollowing are the details of the entity the application fails to insert:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(&quot;my_tab&quot;)\npublic class MyTab implements Persistable&lt;String&gt; {\n\n    @Id\n    @Column(&quot;identifier&quot;)\n    private String identifier;\n\n    @Column(&quot;data&quot;)\n    private MyData data;\n\n    @Column(&quot;created&quot;)\n    private LocalDateTime created;\n\n\n    @Transient\n    @Override\n    public String getId() {\n        return identifier;\n    }\n}\n</code></pre>\n<p>MyData is basically a PoJo with other fields.</p>\n<p>In order to allow the application to connect to two databases I have followed what is on the guide:</p>\n<p><a href=\"https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases</a></p>\n<p>Following are the connection factory objects I have defined:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages = {&quot;com.my.package.entity.persistence&quot;, &quot;com.my.package.repository.myTab&quot;}, entityOperationsRef =\n        &quot;myTabR2dbcEntityOperations&quot;)\npublic class FirstDatabaseConfig {\n\n    private static final Logger LOG = LoggerFactory.getLogger(FirstDatabaseConfig.class);\n\n    @Autowired\n    private MyDataToJsonConverter myDataWriteConverter;\n    @Autowired\n    private JsonToMyDataConverter myDataReadConverter;\n\n    /*\n        Used to configure custom object converters for the database.\n     */\n   @Bean\n    public R2dbcCustomConversions r2dbcCustomConversions() {\n        Collection&lt;?&gt; converters = Arrays.asList(myDataWriteConverter, myDataReadConverter);\n        R2dbcCustomConversions conversions = R2dbcCustomConversions.of(PostgresDialect.INSTANCE,converters);\n        return conversions;\n    }\n\n    @Bean(name = &quot;firstDatabaseConnectionFactory&quot;)\n    public ConnectionFactory connectionFactory() {\n\n        // URL, password, username are taken from an application.properties file\n        \n        ConnectionFactoryOptions connectionFactoryOptions = ConnectionFactoryOptions.parse(url);\n\n        ConnectionFactoryOptions.Builder builder = ConnectionFactoryOptions.builder().from(connectionFactoryOptions);\n\n        if (!StringUtils.isEmpty(username)) {\n            builder = builder.option(ConnectionFactoryOptions.USER, username);\n        }\n        if (!StringUtils.isEmpty(password)) {\n            builder = builder.option(ConnectionFactoryOptions.PASSWORD, password);\n        }\n\n        return ConnectionFactories.get(builder.build());\n    }\n\n    @Bean\n    public R2dbcEntityOperations myTabR2dbcEntityOperations(@Qualifier(&quot;firstDatabaseConnectionFactory&quot;) ConnectionFactory connectionFactory) {\n\n        DatabaseClient databaseClient = DatabaseClient.create(connectionFactory);\n\n        return new R2dbcEntityTemplate(databaseClient, PostgresDialect.INSTANCE);\n    }\n}\n</code></pre>\n<p>The other configuration class is similar to the one above but it doesn't use any converters as the other table in the other database has only simple data types.</p>\n<p>Moreover, the guide <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#mapping.configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#mapping.configuration</a> suggests how to use custom converters but it doesn't work either\nin my case. Also, it says to extend  AbstractR2dbcConfiguration, which shouldn't be used if you are connecting to multiple databases, as underlined  at the link on the same guide I posted before <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/r2dbc/docs/current/reference/html/#r2dbc.multiple-databases</a>.</p>\n<p>Finally the details of the r2dbc version I am using (gradle):</p>\n<pre><code>implementation group: &quot;io.r2dbc&quot;, name: &quot;r2dbc-postgresql&quot;, version: &quot;0.8.8.RELEASE&quot;\nimplementation &quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;\n</code></pre>\n<p>The strange thing is that it was working before I have introduced the connection to the other database.</p>\n<p>If someone might be able to help, that would be really appreciated.</p>\n"},{"tags":["java","variables","logging","reflection","log4j"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642096614,"post_id":70700770,"comment_id":124987183,"body_markdown":"Do you instrument the code? Has the code debug information compiled into it?","body":"Do you instrument the code? Has the code debug information compiled into it?"},{"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"score":0,"creation_date":1642113224,"post_id":70700770,"comment_id":124992612,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/24710487/how-to-get-variable-name-java","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24710487/how-to-get-variable-name-java\" title=\"how to get variable name java\">stackoverflow.com/questions/24710487/&hellip;</a>"}],"owner":{"account_id":16116032,"reputation":1,"user_id":11633125,"display_name":"magicmushroom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642095292,"creation_date":1642095292,"question_id":70700770,"body_markdown":"is it possible to print a variable name using log4j?\r\n\r\nI want to achieve something like:\r\n\r\n```SomeObject someName = 123;```\r\n\r\n```log.info(&quot;The variable: &quot; + someName.getMyName() + &quot; was used.&quot;);```\r\n\r\nand get result:\r\nThe variable: someName was used.\r\n\r\nps I do not have access to the object.","title":"Use log4j to print variable name java","body":"<p>is it possible to print a variable name using log4j?</p>\n<p>I want to achieve something like:</p>\n<p><code>SomeObject someName = 123;</code></p>\n<p><code>log.info(&quot;The variable: &quot; + someName.getMyName() + &quot; was used.&quot;);</code></p>\n<p>and get result:\nThe variable: someName was used.</p>\n<p>ps I do not have access to the object.</p>\n"},{"tags":["java","obfuscation"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1642093792,"post_id":70700416,"comment_id":124986096,"body_markdown":"&quot;Firstly, this question came about because I was trying to make a hello world program (the first main method commented out) as convoluted as possible.&quot; - Why is it that you want to do that?","body":"&quot;Firstly, this question came about because I was trying to make a hello world program (the first main method commented out) as convoluted as possible.&quot; - Why is it that you want to do that?"},{"owner":{"account_id":18200823,"reputation":45,"user_id":13245020,"display_name":"tothemax"},"score":0,"creation_date":1642094003,"post_id":70700416,"comment_id":124986188,"body_markdown":"It started as an assignment for a class where we simply had to do the main method which is commented out but I thought it would be humorous to make it ridiculously overcomplicated.","body":"It started as an assignment for a class where we simply had to do the main method which is commented out but I thought it would be humorous to make it ridiculously overcomplicated."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1642094012,"post_id":70700416,"comment_id":124986193,"body_markdown":"The `i == 6` is the space, not `W`. Use it `7` instead.","body":"The <code>i == 6</code> is the space, not <code>W</code>. Use it <code>7</code> instead."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1642094022,"post_id":70700416,"comment_id":124986203,"body_markdown":"`nums[6]` is &quot;32.12&quot;, so you&#39;re basically printing U+0000. I don&#39;t know what I&#39;d expect a console to do with that.","body":"<code>nums[6]</code> is &quot;32.12&quot;, so you&#39;re basically printing U+0000. I don&#39;t know what I&#39;d expect a console to do with that."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1642094045,"post_id":70700416,"comment_id":124986207,"body_markdown":"You&#39;re subtracting 32 from the space. This code works fine as designed and can&#39;t print any of the stuff you say it does, unless that weird control character that subtracting 32 from the space generates causes bizarreness. Make that i ==7 and it prints `Hello, World!` - every time.","body":"You&#39;re subtracting 32 from the space. This code works fine as designed and can&#39;t print any of the stuff you say it does, unless that weird control character that subtracting 32 from the space generates causes bizarreness. Make that i ==7 and it prints <code>Hello, World!</code> - every time."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1642094067,"post_id":70700416,"comment_id":124986210,"body_markdown":"Its likely just a typo, OP meant to upper-case the `w`, which is at index `7` not `6`. So `i == 7` and it works. Voting to close because caused by typo.","body":"Its likely just a typo, OP meant to upper-case the <code>w</code>, which is at index <code>7</code> not <code>6</code>. So <code>i == 7</code> and it works. Voting to close because caused by typo."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1642094117,"post_id":70700416,"comment_id":124986234,"body_markdown":"@rzwitserloot It is actually the space. Which happens to have an ASCII value of `32`. That minus `32` gives `0`, resulting in the null character.","body":"@rzwitserloot It is actually the space. Which happens to have an ASCII value of <code>32</code>. That minus <code>32</code> gives <code>0</code>, resulting in the null character."},{"owner":{"account_id":18200823,"reputation":45,"user_id":13245020,"display_name":"tothemax"},"score":0,"creation_date":1642094119,"post_id":70700416,"comment_id":124986235,"body_markdown":"That was it @Zabuzard thank you! That was a silly mistake on my part. Although, I still am curious why it did that.","body":"That was it @Zabuzard thank you! That was a silly mistake on my part. Although, I still am curious why it did that."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1642094151,"post_id":70700416,"comment_id":124986250,"body_markdown":"@Zabuzard &quot;Voting to close because caused by typo.&quot; - I would not assume the error was a typographic one.  It may very well be a misunderstanding of the index.  Typo suggests that author intended to type 7 but accidentally typed 6, which may not be the case.","body":"@Zabuzard &quot;Voting to close because caused by typo.&quot; - I would not assume the error was a typographic one.  It may very well be a misunderstanding of the index.  Typo suggests that author intended to type 7 but accidentally typed 6, which may not be the case."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1642094325,"post_id":70700416,"comment_id":124986323,"body_markdown":"@tothemax It kinda depends on how your console acts on the nul character `&#39;\\0&#39;`. The console I tested with doesnt print weird stuff, it just skips that character all together.","body":"@tothemax It kinda depends on how your console acts on the nul character <code>&#39;\\0&#39;</code>. The console I tested with doesnt print weird stuff, it just skips that character all together."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1642094333,"post_id":70700416,"comment_id":124986328,"body_markdown":"@tothemax your code always produced the same output, namely &quot;Hello,(0)world!&quot; where (0) was a char with the int value 0 / ascii value `NUL`  - If that was always displayed differently on your part that&#39;s down to whatever you used to display that string messing up, not your code always producing different results.","body":"@tothemax your code always produced the same output, namely &quot;Hello,(0)world!&quot; where (0) was a char with the int value 0 / ascii value <code>NUL</code>  - If that was always displayed differently on your part that&#39;s down to whatever you used to display that string messing up, not your code always producing different results."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1642094473,"post_id":70700416,"comment_id":124986388,"body_markdown":"This looks same as a question closed a few days ago, possibly [this](https://stackoverflow.com/questions/70670108/strange-java-behaviour-when-printing-chars) but I cannot read it now","body":"This looks same as a question closed a few days ago, possibly <a href=\"https://stackoverflow.com/questions/70670108/strange-java-behaviour-when-printing-chars\">this</a> but I cannot read it now"},{"owner":{"account_id":18200823,"reputation":45,"user_id":13245020,"display_name":"tothemax"},"score":1,"creation_date":1642094685,"post_id":70700416,"comment_id":124986459,"body_markdown":"@DuncG it is. I tried to make it more readable and be more specific.","body":"@DuncG it is. I tried to make it more readable and be more specific."},{"owner":{"account_id":18200823,"reputation":45,"user_id":13245020,"display_name":"tothemax"},"score":0,"creation_date":1642094926,"post_id":70700416,"comment_id":124986534,"body_markdown":"@OHGODSPIDERS and Zabuzard okay I see, so it must just be something different about my computer then? I was printing the output in visual studio code.","body":"@OHGODSPIDERS and Zabuzard okay I see, so it must just be something different about my computer then? I was printing the output in visual studio code."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1642095010,"post_id":70700416,"comment_id":124986573,"body_markdown":"The question is indeed better now, well done.","body":"The question is indeed better now, well done."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642095285,"creation_date":1642094932,"answer_id":70700691,"question_id":70700416,"body_markdown":"## tl;dr ##\r\n\r\nThe bug is actually a minor one, you used `i == 6` but instead you should have used `i == 7`.\r\n\r\n----------\r\n## Index ##\r\n\r\nLet&#39;s break down what happens and why. To start off, the source string you are reading from (even though you made it `float`s, but doesn&#39;t matter) is `Hello, World!`, the indices for your array are as follows:\r\n```java\r\n// _ denotes the space\r\nh e l l o , _ w o r  l  d  !\r\n0 1 2 3 4 5 6 7 8 9 10 11 12\r\n```\r\nNote that `6` is actually the index of the space ` ` and not the `w`, which you wanted to capitalize.\r\n\r\n----------\r\n## NUL character ##\r\n\r\nNext up, you subtract `32` from the ASCII value of the space. Fun fact, the ASCII value of that is `32` as well:\r\n\r\n```java\r\nSystem.out.println((int) &#39; &#39;); // 32\r\n```\r\n\r\nSo your subtraction results in `0`. The `char` that has the ASCII value `0` is the so called [null character][1] (not to confuse with the Java keyword `null`), which is a special control character with no visual representation. It can also be written as `&#39;\\0&#39;`.\r\n\r\n```java\r\nSystem.out.println((char) 0);\r\n```\r\n\r\nSo when you told your console to print the null char, it might start doing funny things. Although, the consoles I tested with, simply skip the character and print `Hello,world!` consistently.\r\n\r\nIf you want to try it out with a minimal example, use this one:\r\n```java\r\nSystem.out.println(&quot;Hello,\\0world!&quot;);\r\n```\r\nwhich is the string that your code produced.\r\n\r\n----------\r\n## ASCII table ##\r\n\r\nWhile at it, here is the ASCII table with the **null** character and **space** highlighted (from [Wikipedia][2]):\r\n\r\n[![ASCII table][3]][3]\r\n\r\nYou can also see that the first 32 characters are all control characters without a direct visual representation. In fact, try out this one:\r\n\r\n```java\r\nSystem.out.print((char) 7);\r\n```\r\n\r\ndepending on your console, you might hear a **beep sound** now.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Null_character\r\n  [2]: https://commons.wikimedia.org/wiki/File:ASCII-Table-wide.svg\r\n  [3]: https://i.stack.imgur.com/ZTh2e.png","title":"Strange Java Behavior","body":"<h2>tl;dr</h2>\n<p>The bug is actually a minor one, you used <code>i == 6</code> but instead you should have used <code>i == 7</code>.</p>\n<hr />\n<h2>Index</h2>\n<p>Let's break down what happens and why. To start off, the source string you are reading from (even though you made it <code>float</code>s, but doesn't matter) is <code>Hello, World!</code>, the indices for your array are as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// _ denotes the space\nh e l l o , _ w o r  l  d  !\n0 1 2 3 4 5 6 7 8 9 10 11 12\n</code></pre>\n<p>Note that <code>6</code> is actually the index of the space <code> </code> and not the <code>w</code>, which you wanted to capitalize.</p>\n<hr />\n<h2>NUL character</h2>\n<p>Next up, you subtract <code>32</code> from the ASCII value of the space. Fun fact, the ASCII value of that is <code>32</code> as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println((int) ' '); // 32\n</code></pre>\n<p>So your subtraction results in <code>0</code>. The <code>char</code> that has the ASCII value <code>0</code> is the so called <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"nofollow noreferrer\">null character</a> (not to confuse with the Java keyword <code>null</code>), which is a special control character with no visual representation. It can also be written as <code>'\\0'</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println((char) 0);\n</code></pre>\n<p>So when you told your console to print the null char, it might start doing funny things. Although, the consoles I tested with, simply skip the character and print <code>Hello,world!</code> consistently.</p>\n<p>If you want to try it out with a minimal example, use this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Hello,\\0world!&quot;);\n</code></pre>\n<p>which is the string that your code produced.</p>\n<hr />\n<h2>ASCII table</h2>\n<p>While at it, here is the ASCII table with the <strong>null</strong> character and <strong>space</strong> highlighted (from <a href=\"https://commons.wikimedia.org/wiki/File:ASCII-Table-wide.svg\" rel=\"nofollow noreferrer\">Wikipedia</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/ZTh2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTh2e.png\" alt=\"ASCII table\" /></a></p>\n<p>You can also see that the first 32 characters are all control characters without a direct visual representation. In fact, try out this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print((char) 7);\n</code></pre>\n<p>depending on your console, you might hear a <strong>beep sound</strong> now.</p>\n"}],"owner":{"account_id":18200823,"reputation":45,"user_id":13245020,"display_name":"tothemax"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642094997,"answer_count":1,"score":0,"last_activity_date":1642095285,"creation_date":1642093549,"question_id":70700416,"body_markdown":"Firstly, this question came about because I was trying to make a hello world program (the first main method commented out) as convoluted as possible. I tried to rewrite some of it to make it more readable but maintain the strange behavior I am addressing.\r\n\r\nSpecifically, in the for loop I am trying to convert the strings to floats, then truncate the floats to ASCII values, and then lastly to chars that say &quot;Hello, World!&quot; The problem is that inside the conditional, in the for loop, if you have it simply be (i == 0) it will capitalize the h just fine but when you add  \r\n(i == 6) it acts really strange and ends up printing chars inconsistently such as &quot;Hello,d!&quot;, &quot;Hello,!&quot; and &quot;Hello,rld!&quot; (among others). Can anyone explain this behavior to me? Thank you.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass helloWorld {\r\n\r\n    // public static void main(String[] args) {\r\n    // System.out.println(&quot;Hello, World!&quot;);\r\n    // }\r\n\r\n    public static void main(String[] args) {\r\n        //This array is just soon to be truncated ASCII vals\r\n        String[] nums = {&quot;104.367&quot;, &quot;101.432&quot;, &quot;108.43276&quot;, &quot;108.1&quot;, &quot;111.43&quot;, &quot;44.231&quot;, &quot;32.12&quot;, &quot;119.32&quot;, &quot;111.24&quot;, &quot;114.37&quot;, &quot;108.2&quot;, &quot;100.52&quot;, &quot;33.237&quot;, &quot;10.4&quot;};\r\n        \r\n        //Empty &quot;Hello, World!&quot; string\r\n        String message = &quot;&quot;;\r\n\r\n        //This is to store the converted ASCII values\r\n        char[] chars = new char[nums.length];\r\n\r\n        //this is just the difference in ASCII vals to go from lower to uppercase letters\r\n        int toUpperCase = 32;\r\n\r\n        for (int i = 0; i &lt; nums.length; i++){\r\n            //i == 6 || i == 0 because I want the w and h to be capitalized\r\n            //i == 0 capitalizes the &#39;h&#39; and prints as expected but adding &quot;i == 6 ||&quot; to the condition causes it to break and print chars inconsistently\r\n            if (i == 6 || i == 0) {\r\n                //converts from float to int (truncates decimals to the normal ASCII val) and then from the ASCII value to the char\r\n                chars[i] = (char)((int)((Float.parseFloat(nums[i])) - toUpperCase));\r\n            } else {\r\n                chars[i] = (char)((int)(Float.parseFloat(nums[i])));\r\n            }\r\n            System.out.print(chars[i]);\r\n        }\r\n\r\n        System.out.print(message);\r\n        }\r\n}\r\n```","title":"Strange Java Behavior","body":"<p>Firstly, this question came about because I was trying to make a hello world program (the first main method commented out) as convoluted as possible. I tried to rewrite some of it to make it more readable but maintain the strange behavior I am addressing.</p>\n<p>Specifically, in the for loop I am trying to convert the strings to floats, then truncate the floats to ASCII values, and then lastly to chars that say &quot;Hello, World!&quot; The problem is that inside the conditional, in the for loop, if you have it simply be (i == 0) it will capitalize the h just fine but when you add<br />\n(i == 6) it acts really strange and ends up printing chars inconsistently such as &quot;Hello,d!&quot;, &quot;Hello,!&quot; and &quot;Hello,rld!&quot; (among others). Can anyone explain this behavior to me? Thank you.</p>\n<pre><code>import java.util.Scanner;\n\nclass helloWorld {\n\n    // public static void main(String[] args) {\n    // System.out.println(&quot;Hello, World!&quot;);\n    // }\n\n    public static void main(String[] args) {\n        //This array is just soon to be truncated ASCII vals\n        String[] nums = {&quot;104.367&quot;, &quot;101.432&quot;, &quot;108.43276&quot;, &quot;108.1&quot;, &quot;111.43&quot;, &quot;44.231&quot;, &quot;32.12&quot;, &quot;119.32&quot;, &quot;111.24&quot;, &quot;114.37&quot;, &quot;108.2&quot;, &quot;100.52&quot;, &quot;33.237&quot;, &quot;10.4&quot;};\n        \n        //Empty &quot;Hello, World!&quot; string\n        String message = &quot;&quot;;\n\n        //This is to store the converted ASCII values\n        char[] chars = new char[nums.length];\n\n        //this is just the difference in ASCII vals to go from lower to uppercase letters\n        int toUpperCase = 32;\n\n        for (int i = 0; i &lt; nums.length; i++){\n            //i == 6 || i == 0 because I want the w and h to be capitalized\n            //i == 0 capitalizes the 'h' and prints as expected but adding &quot;i == 6 ||&quot; to the condition causes it to break and print chars inconsistently\n            if (i == 6 || i == 0) {\n                //converts from float to int (truncates decimals to the normal ASCII val) and then from the ASCII value to the char\n                chars[i] = (char)((int)((Float.parseFloat(nums[i])) - toUpperCase));\n            } else {\n                chars[i] = (char)((int)(Float.parseFloat(nums[i])));\n            }\n            System.out.print(chars[i]);\n        }\n\n        System.out.print(message);\n        }\n}\n</code></pre>\n"},{"tags":["java","swing","button"],"answers":[{"tags":[],"owner":{"account_id":20694433,"reputation":57,"user_id":15194991,"display_name":"Drexx_Dusan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641723706,"creation_date":1641723286,"answer_id":70640283,"question_id":70640201,"body_markdown":"Try using JButton instead of Button, if that doesn&#39;t work, jbg ga. Also try extending class with JFrame -&gt; ```extends JFrame```, if you want the subclass to inherit everything from jframe class. Also u have to add it using ```frame.add(button)```","title":"Why doesn&#39;t my second button show in Java","body":"<p>Try using JButton instead of Button, if that doesn't work, jbg ga. Also try extending class with JFrame -&gt; <code>extends JFrame</code>, if you want the subclass to inherit everything from jframe class. Also u have to add it using <code>frame.add(button)</code></p>\n"},{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641801710,"creation_date":1641801710,"answer_id":70649334,"question_id":70640201,"body_markdown":"The second button is not added to frame. You need to call:\r\n```\r\nframe.add(b2);\r\n```\r\n\r\nRegarding button size, use the method `.setSize` for each button to declare what size you want them to have.","title":"Why doesn&#39;t my second button show in Java","body":"<p>The second button is not added to frame. You need to call:</p>\n<pre><code>frame.add(b2);\n</code></pre>\n<p>Regarding button size, use the method <code>.setSize</code> for each button to declare what size you want them to have.</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641805407,"creation_date":1641805407,"answer_id":70649949,"question_id":70640201,"body_markdown":"The other answers are correct that you don&#39;t add the second button at all, however, you shouldn&#39;t add components to frames directly. What you want to do is\r\n\r\n```\r\nframe.getContentPane().add(button1);\r\nframe.getContentPane().add(button2);\r\n```\r\n\r\nYou should also probably be setting a layout manager to the pane.","title":"Why doesn&#39;t my second button show in Java","body":"<p>The other answers are correct that you don't add the second button at all, however, you shouldn't add components to frames directly. What you want to do is</p>\n<pre><code>frame.getContentPane().add(button1);\nframe.getContentPane().add(button2);\n</code></pre>\n<p>You should also probably be setting a layout manager to the pane.</p>\n"},{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641808539,"creation_date":1641808082,"answer_id":70650442,"question_id":70640201,"body_markdown":"Code :\r\n---\r\n\r\n    package hw10;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class HW10 {\r\n        JButton b1;\r\n        JButton b2;\r\n    //    L1 l1;\r\n    /*\r\n        class L1 implements ActionListener {\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n    //            int tmp = Integer.parseInt(b1.getLabel());\r\n                int tmp = Integer.parseInt(b1.getText());\r\n                tmp++;\r\n    //            b1.setLabel(&quot;&quot;+tmp);\r\n                b1.setText(Integer.toString(tmp));\r\n            }\r\n    \r\n        }\r\n    */\r\n    \r\n        public HW10() {\r\n            JFrame frame = new JFrame(&quot;Homework 15&quot;);\r\n    //        l1 = new L1();\r\n            b1 = new JButton(&quot;0&quot;);\r\n    //        b1.setSize(100, 40);\r\n            b2 = new JButton(&quot;KURAC&quot;);\r\n    //        b2.setSize(100, 40);\r\n            /*\r\n                We can use lambda expressions\r\n             */\r\n            b1.addActionListener((ActionEvent e) -&gt; {\r\n                int tmp = Integer.parseInt(b1.getText());\r\n                tmp++;\r\n                b1.setText(Integer.toString(tmp));\r\n            });\r\n            //Use GridBagLayout as your layout manager\r\n            GridBagLayout layout = new GridBagLayout();\r\n            JPanel panel = new JPanel();\r\n            panel.setLayout(layout);\r\n            GridBagConstraints c = new GridBagConstraints();\r\n            c.insets = new Insets(2, 2, 2, 2);\r\n            //0th row\r\n            c.gridx = 0;\r\n            //0th column\r\n            c.gridy = 0;\r\n            //width\r\n            c.ipadx = 100;\r\n            //height\r\n            c.ipady = 30;\r\n            //Adding first button\r\n            panel.add(b1, c);\r\n            //1st column we\r\n            c.gridx = 1;\r\n            //Adding second button\r\n            panel.add(b2, c);\r\n            frame.add(panel);\r\n            frame.setSize(400, 400);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void launch() {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new HW10();\r\n            });\r\n        }\r\n    \r\n        public static void main(String... $) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\nOutput :\r\n----\r\n\r\n[![output][1]][1]\r\n\r\nResource :\r\n-----\r\n\r\n[geeksforgeeks][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Zsbr.png\r\n  [2]: https://www.geeksforgeeks.org/java-awt-gridbaglayout-class/","title":"Why doesn&#39;t my second button show in Java","body":"<h2>Code :</h2>\n<pre><code>package hw10;\n\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\n\npublic class HW10 {\n    JButton b1;\n    JButton b2;\n//    L1 l1;\n/*\n    class L1 implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n//            int tmp = Integer.parseInt(b1.getLabel());\n            int tmp = Integer.parseInt(b1.getText());\n            tmp++;\n//            b1.setLabel(&quot;&quot;+tmp);\n            b1.setText(Integer.toString(tmp));\n        }\n\n    }\n*/\n\n    public HW10() {\n        JFrame frame = new JFrame(&quot;Homework 15&quot;);\n//        l1 = new L1();\n        b1 = new JButton(&quot;0&quot;);\n//        b1.setSize(100, 40);\n        b2 = new JButton(&quot;KURAC&quot;);\n//        b2.setSize(100, 40);\n        /*\n            We can use lambda expressions\n         */\n        b1.addActionListener((ActionEvent e) -&gt; {\n            int tmp = Integer.parseInt(b1.getText());\n            tmp++;\n            b1.setText(Integer.toString(tmp));\n        });\n        //Use GridBagLayout as your layout manager\n        GridBagLayout layout = new GridBagLayout();\n        JPanel panel = new JPanel();\n        panel.setLayout(layout);\n        GridBagConstraints c = new GridBagConstraints();\n        c.insets = new Insets(2, 2, 2, 2);\n        //0th row\n        c.gridx = 0;\n        //0th column\n        c.gridy = 0;\n        //width\n        c.ipadx = 100;\n        //height\n        c.ipady = 30;\n        //Adding first button\n        panel.add(b1, c);\n        //1st column we\n        c.gridx = 1;\n        //Adding second button\n        panel.add(b2, c);\n        frame.add(panel);\n        frame.setSize(400, 400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    public static void launch() {\n        SwingUtilities.invokeLater(() -&gt; {\n            new HW10();\n        });\n    }\n\n    public static void main(String... $) {\n        launch();\n    }\n\n}\n</code></pre>\n<h2>Output :</h2>\n<p><a href=\"https://i.stack.imgur.com/0Zsbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Zsbr.png\" alt=\"output\" /></a></p>\n<h2>Resource :</h2>\n<p><a href=\"https://www.geeksforgeeks.org/java-awt-gridbaglayout-class/\" rel=\"nofollow noreferrer\">geeksforgeeks</a></p>\n"},{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642095246,"creation_date":1642095246,"answer_id":70700761,"question_id":70640201,"body_markdown":"As others pointed out, you missed adding the second button to your frame. A quick fix would be to add both the buttons as below:\r\n\r\n\tframe.getContentPane().add(b1, BorderLayout.NORTH);\r\n\tframe.getContentPane().add(b2, BorderLayout.SOUTH);","title":"Why doesn&#39;t my second button show in Java","body":"<p>As others pointed out, you missed adding the second button to your frame. A quick fix would be to add both the buttons as below:</p>\n<pre><code>frame.getContentPane().add(b1, BorderLayout.NORTH);\nframe.getContentPane().add(b2, BorderLayout.SOUTH);\n</code></pre>\n"}],"owner":{"account_id":23864625,"reputation":45,"user_id":17867147,"display_name":"iSoulFeed1g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70649949,"answer_count":5,"score":2,"last_activity_date":1642095246,"creation_date":1641722632,"question_id":70640201,"body_markdown":"I am having a problem with my code. For some reason, it won&#39;t show my second button b2, and I can&#39;t set the size for the first button. I want to have both buttons next to each other in the middle with some space around them.\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nimport javax.swing.JFrame;\r\n\r\npublic class HW10{\r\n\tButton b1, b2;\r\n\tL1 l1;\r\n\tclass L1 implements ActionListener{\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tint tmp = Integer.parseInt(b1.getLabel());\r\n\t\t\ttmp++;\r\n\t\t\tb1.setLabel(&quot;&quot;+tmp);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tpublic HW10(){\r\n\t\tJFrame frame = new JFrame(&quot;Homework 15&quot;);\r\n\t\tl1 = new L1();\r\n\t\tb1 = new Button(&quot;0&quot;);\r\n\t\tb2 = new Button(&quot;KURAC&quot;);\r\n\t\tb1.addActionListener(l1);\r\n\t\tb1.setBounds(100, 100, 100, 80);\r\n\t\tframe.add(b1);\r\n\t\tframe.setBounds(200,200,400,400);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tHW10 kk = new HW10();\r\n\t}\r\n\r\n}\r\n```","title":"Why doesn&#39;t my second button show in Java","body":"<p>I am having a problem with my code. For some reason, it won't show my second button b2, and I can't set the size for the first button. I want to have both buttons next to each other in the middle with some space around them.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.JFrame;\n\npublic class HW10{\n    Button b1, b2;\n    L1 l1;\n    class L1 implements ActionListener{\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            int tmp = Integer.parseInt(b1.getLabel());\n            tmp++;\n            b1.setLabel(&quot;&quot;+tmp);\n        }\n        \n    }\n    public HW10(){\n        JFrame frame = new JFrame(&quot;Homework 15&quot;);\n        l1 = new L1();\n        b1 = new Button(&quot;0&quot;);\n        b2 = new Button(&quot;KURAC&quot;);\n        b1.addActionListener(l1);\n        b1.setBounds(100, 100, 100, 80);\n        frame.add(b1);\n        frame.setBounds(200,200,400,400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n    public static void main(String[] args) {\n        HW10 kk = new HW10();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javascript"],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1263490172,"creation_date":1263490172,"answer_id":2066133,"question_id":2066096,"body_markdown":"You can use the scripting engine built into Java:\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ScriptEngineManager mgr = new ScriptEngineManager();\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n\r\n        Object result = engine.eval(&quot;my-java-script-code&quot;) \r\n        System.out.println(&quot;Result returned by Javascript is: &quot; + result);\r\n    }\r\n \r\nHere is a more elaborate [example][1].\r\n\r\n\r\n  [1]: http://javadots.blogspot.com/2008/11/scripting-java.html","title":"how to use java to get a js file and execute it and then get the result","body":"<p>You can use the scripting engine built into Java:</p>\n\n<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n\npublic static void main(String[] args) throws Exception {\n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n\n    Object result = engine.eval(\"my-java-script-code\") \n    System.out.println(\"Result returned by Javascript is: \" + result);\n}\n</code></pre>\n\n<p>Here is a more elaborate <a href=\"http://javadots.blogspot.com/2008/11/scripting-java.html\" rel=\"noreferrer\">example</a>.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1642095245,"creation_date":1263490424,"answer_id":2066160,"question_id":2066096,"body_markdown":"There&#39;s three steps to this process:\r\n\r\n 1. Fetch the JS file from the server.\r\n 1. Execute some JS function from the file.\r\n 1. Extract the result.\r\n\r\nThe first step is fairly simple, there are lots of HTTP libraries in Java that will do this - you effectively want to emulate the simple functionality of something like wget or curl.  The exact manner in which you do this will vary depending on what format you want the JS file in for the next step, but the process to get hold of the byte stream is straightforward.\r\n\r\nThe second step will require executing the JS in a Javascript engine.  Java itself cannot interpret Javascript, so you&#39;d need to obtain an engine to run it in - [Rhino][1] is a common choice for this.  Since you&#39;d need to run this outside of Java, you&#39;ll likely have to spawn a process for execution in Rhino using [ProcessBuilder][2].  Additionally, depending on the format of the Javascript you might need to create your own &quot;wrapper&quot; javascript that functions like a main class in Java and calls the method in question.\r\n\r\nFinally you need to get the result out - obviously you don&#39;t have direct access to JavaScript objects from your Java program.  The easiest way is going to be for the JS program to print the result to standard out (possibly serialising as something like JSON depending on the complexity of the object), which is being streamed directly to your Java app due to the way you launched the Rhino process.  This could be another job for your JS wrapper script, if any.  Otherwise, if the JS function has observable side effects (creates a file/modifies a database) then you&#39;ll be able to query those directly from Java.\r\n\r\nJob done.\r\n\r\nI hope you realise this question is *far* too vague to get full answers.  Asking the public to design an entire system goes beyond the point where you&#39;ll get useful, actionable responses.\r\n\r\n\r\n  [1]: http://mozilla.github.io/rhino/\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/ProcessBuilder.html","title":"how to use java to get a js file and execute it and then get the result","body":"<p>There's three steps to this process:</p>\n<ol>\n<li>Fetch the JS file from the server.</li>\n<li>Execute some JS function from the file.</li>\n<li>Extract the result.</li>\n</ol>\n<p>The first step is fairly simple, there are lots of HTTP libraries in Java that will do this - you effectively want to emulate the simple functionality of something like wget or curl.  The exact manner in which you do this will vary depending on what format you want the JS file in for the next step, but the process to get hold of the byte stream is straightforward.</p>\n<p>The second step will require executing the JS in a Javascript engine.  Java itself cannot interpret Javascript, so you'd need to obtain an engine to run it in - <a href=\"http://mozilla.github.io/rhino/\" rel=\"nofollow noreferrer\">Rhino</a> is a common choice for this.  Since you'd need to run this outside of Java, you'll likely have to spawn a process for execution in Rhino using <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>.  Additionally, depending on the format of the Javascript you might need to create your own &quot;wrapper&quot; javascript that functions like a main class in Java and calls the method in question.</p>\n<p>Finally you need to get the result out - obviously you don't have direct access to JavaScript objects from your Java program.  The easiest way is going to be for the JS program to print the result to standard out (possibly serialising as something like JSON depending on the complexity of the object), which is being streamed directly to your Java app due to the way you launched the Rhino process.  This could be another job for your JS wrapper script, if any.  Otherwise, if the JS function has observable side effects (creates a file/modifies a database) then you'll be able to query those directly from Java.</p>\n<p>Job done.</p>\n<p>I hope you realise this question is <em>far</em> too vague to get full answers.  Asking the public to design an entire system goes beyond the point where you'll get useful, actionable responses.</p>\n"},{"tags":[],"owner":{"account_id":6552,"reputation":20287,"user_id":11069,"accept_rate":100,"display_name":"Robert Christie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263490770,"creation_date":1263490770,"answer_id":2066187,"question_id":2066096,"body_markdown":"There are plenty of examples on the web of how to [download a file from a URL][1].\r\n\r\nSuns version of the JDK and JRE includes the [Mozilla Rhino][2] scripting engine.\r\n\r\nAssuming you have stored the contents of the javascript file in a string called &#39;script&#39;, you can execute scripts as follows\r\n\r\n     String result = null;\r\n     ScriptEngineManager mgr = new ScriptEngineManager();\r\n      ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n      try {\r\n        jsEngine.eval(script);\r\n        result = jsEngine.get(&quot;result&quot;)\r\n      } catch (ScriptException ex) {\r\n          ex.printStackTrace();\r\n      } \r\n\r\nThe result will be extracted from the engine and stored in the &#39;result&#39; variable.\r\n\r\nThe is a tutorial on [scripting in Java][3] that might be useful. \r\n\r\n\r\n  [1]: http://www.devdaily.com/java/edu/pj/pj010011/\r\n  [2]: http://www.mozilla.org/rhino/\r\n  [3]: http://java.sun.com/developer/technicalArticles/J2SE/Desktop/scripting/","title":"how to use java to get a js file and execute it and then get the result","body":"<p>There are plenty of examples on the web of how to <a href=\"http://www.devdaily.com/java/edu/pj/pj010011/\" rel=\"nofollow noreferrer\">download a file from a URL</a>.</p>\n\n<p>Suns version of the JDK and JRE includes the <a href=\"http://www.mozilla.org/rhino/\" rel=\"nofollow noreferrer\">Mozilla Rhino</a> scripting engine.</p>\n\n<p>Assuming you have stored the contents of the javascript file in a string called 'script', you can execute scripts as follows</p>\n\n<pre><code> String result = null;\n ScriptEngineManager mgr = new ScriptEngineManager();\n  ScriptEngine jsEngine = mgr.getEngineByName(\"JavaScript\");\n  try {\n    jsEngine.eval(script);\n    result = jsEngine.get(\"result\")\n  } catch (ScriptException ex) {\n      ex.printStackTrace();\n  } \n</code></pre>\n\n<p>The result will be extracted from the engine and stored in the 'result' variable.</p>\n\n<p>The is a tutorial on <a href=\"http://java.sun.com/developer/technicalArticles/J2SE/Desktop/scripting/\" rel=\"nofollow noreferrer\">scripting in Java</a> that might be useful. </p>\n"}],"owner":{"account_id":57059,"reputation":27150,"user_id":170931,"accept_rate":86,"display_name":"Just a learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22065,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":2066160,"answer_count":3,"score":3,"last_activity_date":1642095245,"creation_date":1263489849,"question_id":2066096,"body_markdown":"How can I use java to get a js file located on a web server, then execute the function in the js file and get the result and use the result in java.\r\n\r\nCan you guys give me some code snippet? Great thanks.","title":"how to use java to get a js file and execute it and then get the result","body":"<p>How can I use java to get a js file located on a web server, then execute the function in the js file and get the result and use the result in java.</p>\n\n<p>Can you guys give me some code snippet? Great thanks.</p>\n"},{"tags":["java","class","methods","parameters","boolean"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1642095231,"post_id":70700724,"comment_id":124986653,"body_markdown":"The simple answer is that this just isn&#39;t how Java works and you&#39;ll either need to pass in a mutable object or return a collection and update in the caller.","body":"The simple answer is that this just isn&#39;t how Java works and you&#39;ll either need to pass in a mutable object or return a collection and update in the caller."},{"owner":{"account_id":23712506,"reputation":15,"user_id":17734165,"display_name":"Mendy"},"score":0,"creation_date":1642095338,"post_id":70700724,"comment_id":124986701,"body_markdown":"yeah, kind of.. how would I solve that issue then? Getter and setters? or is there a better solution?","body":"yeah, kind of.. how would I solve that issue then? Getter and setters? or is there a better solution?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1642095822,"post_id":70700724,"comment_id":124986869,"body_markdown":"An object containing those values could be changed by the called function. That said: that kind of mutability can lead to confusing code; it&#39;s often easier to reason about if there&#39;s a returned object containing the updated values. But there&#39;s no single &quot;right&quot; way and what makes the most sense is often context-dependent.","body":"An object containing those values could be changed by the called function. That said: that kind of mutability can lead to confusing code; it&#39;s often easier to reason about if there&#39;s a returned object containing the updated values. But there&#39;s no single &quot;right&quot; way and what makes the most sense is often context-dependent."}],"owner":{"account_id":23712506,"reputation":15,"user_id":17734165,"display_name":"Mendy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642095265,"answer_count":0,"score":0,"last_activity_date":1642095115,"creation_date":1642095115,"question_id":70700724,"body_markdown":"Ok so I have 2 classes for instance:\r\n\r\n```\r\npublic class Boolean {\r\n    public static void test(boolean test1, boolean test2, boolean test3, boolean test 4, boolean test 5, boolean test 6){\r\n        test1 = true;\r\n        test2 = true;\r\n        test3 = true;\r\n        test4 = true;\r\n        test5 = true;\r\n        test6 = true;\r\n    }\r\n}\r\n    \r\n\r\n```\r\n```\r\npublic class Test {\r\n    private boolean test1 = false;\r\n    private boolean test2 = false;\r\n    private boolean test3 = false;\r\n    private boolean test4 = false;\r\n    private boolean test5 = false;\r\n    private boolean test6 = false;\r\n\r\n    public static void main(String[] args) {\r\n        Boolean.test(test1, test2, test3, test4, test6, test7);\r\n        //I want test1,...,test6 to be true now.\r\n    }\r\n\r\n}\r\n```\r\n(This is just a simple example code to describe my problem, obviously this could be solved easier)\r\n\r\nSo I tried this apporoach for one of my projects however it does not seem to work. Any ideas why this wont work?","title":"Changing variables of one class using method from another class","body":"<p>Ok so I have 2 classes for instance:</p>\n<pre><code>public class Boolean {\n    public static void test(boolean test1, boolean test2, boolean test3, boolean test 4, boolean test 5, boolean test 6){\n        test1 = true;\n        test2 = true;\n        test3 = true;\n        test4 = true;\n        test5 = true;\n        test6 = true;\n    }\n}\n    \n\n</code></pre>\n<pre><code>public class Test {\n    private boolean test1 = false;\n    private boolean test2 = false;\n    private boolean test3 = false;\n    private boolean test4 = false;\n    private boolean test5 = false;\n    private boolean test6 = false;\n\n    public static void main(String[] args) {\n        Boolean.test(test1, test2, test3, test4, test6, test7);\n        //I want test1,...,test6 to be true now.\n    }\n\n}\n</code></pre>\n<p>(This is just a simple example code to describe my problem, obviously this could be solved easier)</p>\n<p>So I tried this apporoach for one of my projects however it does not seem to work. Any ideas why this wont work?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1642072583,"post_id":70695593,"comment_id":124977231,"body_markdown":"This ia tree structure. Handling that is covered very broadly. Just iterate recursively. If you do it breadth-first or depth-first does not matter at first glance.","body":"This ia tree structure. Handling that is covered very broadly. Just iterate recursively. If you do it breadth-first or depth-first does not matter at first glance."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1642072653,"post_id":70695593,"comment_id":124977249,"body_markdown":"Since you do not know the depth, you have to use recursion.","body":"Since you do not know the depth, you have to use recursion."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1642095073,"post_id":70695593,"comment_id":124986596,"body_markdown":"&quot;Since you do not know the depth, you have to use recursion.&quot; - I don&#39;t believe that is correct.  Not knowing the depth does not impose a requirement that recursion be used to visit all of the elements.","body":"&quot;Since you do not know the depth, you have to use recursion.&quot; - I don&#39;t believe that is correct.  Not knowing the depth does not impose a requirement that recursion be used to visit all of the elements."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1642180564,"post_id":70695593,"comment_id":125010673,"body_markdown":"Yes, you are absolutely right, my bad.","body":"Yes, you are absolutely right, my bad."}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642073943,"creation_date":1642072905,"answer_id":70695730,"question_id":70695593,"body_markdown":"You cannot iterate a list more efficiently than `O(n)` that&#39;s for sure.\r\n\r\nTherefore you can just create a method to iterate the list and *do something* (basically you can even provide there a function that is implementing your business logic) and if the *inner* `A` contains a list then recursively call again the method on the object \r\n\r\nA simple example of such method could be:\r\n\r\n    String concatenateAllVariables(String current) {\r\n        if(innerObjects != null) { // this and the fact loop won&#39;t start when the list will be empty is our &quot;stop condition&quot;\r\n            for(A a: innerObjects) {\r\n                current += a.concatenateAllVariables(&quot;&quot;); // this is recursive call\r\n            }\r\n        }\r\n        current += someVariable; // where this line (before or after processing children) shoud be is due to traversal algorithm\r\n        return current;\r\n    }\r\n\r\n-----\r\nRead also:\r\n* [What is recursion](https://en.m.wikipedia.org/wiki/Recursion)\r\n* https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter\r\n* https://stackoverflow.com/questions/15306452/traversing-through-all-nodes-of-a-binary-tree-in-java - because in general you can treat every `A` instance as some abstract tree node and it&#39;s list as it&#39;s children (this structure looks a little bit like [B-tree](https://en.m.wikipedia.org/wiki/B-tree))","title":"How do we efficiently iterate a list of objects from the same object class?","body":"<p>You cannot iterate a list more efficiently than <code>O(n)</code> that's for sure.</p>\n<p>Therefore you can just create a method to iterate the list and <em>do something</em> (basically you can even provide there a function that is implementing your business logic) and if the <em>inner</em> <code>A</code> contains a list then recursively call again the method on the object</p>\n<p>A simple example of such method could be:</p>\n<pre><code>String concatenateAllVariables(String current) {\n    if(innerObjects != null) { // this and the fact loop won't start when the list will be empty is our &quot;stop condition&quot;\n        for(A a: innerObjects) {\n            current += a.concatenateAllVariables(&quot;&quot;); // this is recursive call\n        }\n    }\n    current += someVariable; // where this line (before or after processing children) shoud be is due to traversal algorithm\n    return current;\n}\n</code></pre>\n<hr />\n<p>Read also:</p>\n<ul>\n<li><a href=\"https://en.m.wikipedia.org/wiki/Recursion\" rel=\"nofollow noreferrer\">What is recursion</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2186931/java-pass-method-as-parameter\">Java Pass Method as Parameter</a></li>\n<li><a href=\"https://stackoverflow.com/questions/15306452/traversing-through-all-nodes-of-a-binary-tree-in-java\">Traversing through all nodes of a binary tree in Java</a> - because in general you can treat every <code>A</code> instance as some abstract tree node and it's list as it's children (this structure looks a little bit like <a href=\"https://en.m.wikipedia.org/wiki/B-tree\" rel=\"nofollow noreferrer\">B-tree</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642094715,"creation_date":1642073889,"answer_id":70695957,"question_id":70695593,"body_markdown":"To visit each nested node, you can do a tree traversal. There are several traversal orders to choose from:\r\n\r\n* depth first, pre-order \r\n* depth first, post-order\r\n* breadth first\r\n* ...\r\n\r\nHere is some sample code for depth-first, pre-order *printing* of those `someVariable` strings, each indented by the depth in the tree, and another function that performs a *deep copy* of the entire object structure:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class A {\r\n    private String someVariable;\r\n    private List&lt;A&gt; innerObjects;\r\n\r\n    public A(String text) {\r\n        someVariable = text;\r\n        innerObjects = new ArrayList&lt;A&gt;();\r\n    }\r\n\r\n    public A add(String text) {\r\n        return add(new A(text));\r\n    }\r\n\r\n    public A add(A object) {\r\n        innerObjects.add(object);\r\n        return object;\r\n    }\r\n\r\n    public A deepCopy() {\r\n        A object = new A(someVariable);\r\n        for (A inner : innerObjects) {\r\n            object.add(inner.deepCopy());\r\n        }\r\n        return object;\r\n    }\r\n\r\n    public void deepPrint() {\r\n        deepPrint(&quot;&quot;);\r\n    }\r\n    public void deepPrint(String prefix) {\r\n        System.out.println(prefix + someVariable);\r\n        for (A object : innerObjects) {\r\n            object.deepPrint(prefix + &quot;  &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd some driver code to test this:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        A root = new A(&quot;world&quot;);\r\n        A europe = root.add(&quot;Europe&quot;);\r\n        europe.add(&quot;Germany&quot;);\r\n        europe.add(&quot;France&quot;);\r\n        A northAmerica = root.add(&quot;North America&quot;);\r\n        northAmerica.add(&quot;United States&quot;);\r\n        northAmerica.add(&quot;Canada&quot;);\r\n        A copy = root.deepCopy();\r\n        copy.deepPrint();\r\n    }\r\n```\r\n","title":"How do we efficiently iterate a list of objects from the same object class?","body":"<p>To visit each nested node, you can do a tree traversal. There are several traversal orders to choose from:</p>\n<ul>\n<li>depth first, pre-order</li>\n<li>depth first, post-order</li>\n<li>breadth first</li>\n<li>...</li>\n</ul>\n<p>Here is some sample code for depth-first, pre-order <em>printing</em> of those <code>someVariable</code> strings, each indented by the depth in the tree, and another function that performs a <em>deep copy</em> of the entire object structure:</p>\n<pre><code>import java.util.*;\n\npublic class A {\n    private String someVariable;\n    private List&lt;A&gt; innerObjects;\n\n    public A(String text) {\n        someVariable = text;\n        innerObjects = new ArrayList&lt;A&gt;();\n    }\n\n    public A add(String text) {\n        return add(new A(text));\n    }\n\n    public A add(A object) {\n        innerObjects.add(object);\n        return object;\n    }\n\n    public A deepCopy() {\n        A object = new A(someVariable);\n        for (A inner : innerObjects) {\n            object.add(inner.deepCopy());\n        }\n        return object;\n    }\n\n    public void deepPrint() {\n        deepPrint(&quot;&quot;);\n    }\n    public void deepPrint(String prefix) {\n        System.out.println(prefix + someVariable);\n        for (A object : innerObjects) {\n            object.deepPrint(prefix + &quot;  &quot;);\n        }\n    }\n}\n</code></pre>\n<p>And some driver code to test this:</p>\n<pre><code>    public static void main(String[] args) {\n        A root = new A(&quot;world&quot;);\n        A europe = root.add(&quot;Europe&quot;);\n        europe.add(&quot;Germany&quot;);\n        europe.add(&quot;France&quot;);\n        A northAmerica = root.add(&quot;North America&quot;);\n        northAmerica.add(&quot;United States&quot;);\n        northAmerica.add(&quot;Canada&quot;);\n        A copy = root.deepCopy();\n        copy.deepPrint();\n    }\n</code></pre>\n"}],"owner":{"account_id":4995454,"reputation":79,"user_id":4016212,"display_name":"Irinel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70695957,"answer_count":2,"score":0,"last_activity_date":1642094715,"creation_date":1642072301,"question_id":70695593,"body_markdown":"We have this class\r\n\r\n```\r\npublic class A {\r\n\r\n    private String someVariable;\r\n    private List&lt;A&gt; innerObjects;\r\n\r\n    /**\r\n    * setters &amp; getters...\r\n    *\r\n    */\r\n}\r\n```\r\nAssuming that we do not know how many objects there are inside innerObjects how can we iterate this object manually in an optimal way? The main issue would be on the inner list because it might also have another list and another one and another one and so on...\r\n\r\n","title":"How do we efficiently iterate a list of objects from the same object class?","body":"<p>We have this class</p>\n<pre><code>public class A {\n\n    private String someVariable;\n    private List&lt;A&gt; innerObjects;\n\n    /**\n    * setters &amp; getters...\n    *\n    */\n}\n</code></pre>\n<p>Assuming that we do not know how many objects there are inside innerObjects how can we iterate this object manually in an optimal way? The main issue would be on the inner list because it might also have another list and another one and another one and so on...</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1642095309,"post_id":70700636,"comment_id":124986683,"body_markdown":"Generally you would fix this with if statements before you create your book. Of course, you would have to know what a good / bad category is before you can check anything. You could create an enum for that.","body":"Generally you would fix this with if statements before you create your book. Of course, you would have to know what a good / bad category is before you can check anything. You could create an enum for that."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642096020,"post_id":70700636,"comment_id":124986956,"body_markdown":"[Create a custom `Exception`](https://www.baeldung.com/java-new-custom-exception) to alert the console if a book is missing while looping over the file.","body":"<a href=\"https://www.baeldung.com/java-new-custom-exception\" rel=\"nofollow noreferrer\">Create a custom <code>Exception</code></a> to alert the console if a book is missing while looping over the file."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1642096428,"post_id":70700636,"comment_id":124987105,"body_markdown":"For that to work, your input file must have structure.   You assume the first line is author, second line is title, and third line is category.  There&#39;s no way to tell that the first line is actually author.   It could be the category entered by mistake.   Maybe you need to include tags to identify each record, and each fields.","body":"For that to work, your input file must have structure.   You assume the first line is author, second line is title, and third line is category.  There&#39;s no way to tell that the first line is actually author.   It could be the category entered by mistake.   Maybe you need to include tags to identify each record, and each fields."},{"owner":{"account_id":17058090,"reputation":19,"user_id":12342140,"display_name":"Wojciech"},"score":0,"creation_date":1642145071,"post_id":70700636,"comment_id":124997899,"body_markdown":"@MaartenBodewes I believe enum is usefull but not in this particuall case. What if we load next file with same data structure and different category?","body":"@MaartenBodewes I believe enum is usefull but not in this particuall case. What if we load next file with same data structure and different category?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1642149847,"post_id":70700636,"comment_id":124999302,"body_markdown":"Well, it depends of course how the categories are handled. If they are more of a dynamic system then enums don&#39;t make sense.","body":"Well, it depends of course how the categories are handled. If they are more of a dynamic system then enums don&#39;t make sense."}],"owner":{"account_id":17058090,"reputation":19,"user_id":12342140,"display_name":"Wojciech"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642094664,"creation_date":1642094664,"question_id":70700636,"body_markdown":"Let&#39;s suppose we have a situation where one of the record is missing in the books.txt file. How can We handle such a case, so that the program logs a situation to the console and skips it in further processing?\r\n\r\nAnother situation, we input a wrong category the program should inform the user about this and allowed him to enter the correct value.\r\n\r\nAny suggestion would be warmly welcome. \r\n\r\nbooks.txt\r\n\r\n    [Author]\r\n    [Title]\r\n    [Category]\r\n    \r\n    [Author]\r\n    [Title]\r\n    [Category]\r\n    &#39;&#39;&#39;\r\nApp.java\r\n\r\n        import java.util.List;\r\n        \r\n        public class App {\r\n            public static void main(String[] args)  {\r\n                String file = &quot;books.txt&quot;;\r\n                Parser parser = new Parser();\r\n                List&lt;Book&gt; books = parser.parse(file);\r\n        \r\n                Stats stats = new Stats();\r\n        \r\n                stats.countBooksPerCategory(books);\r\n                stats.topAuthors(books);\r\n                stats.topAuthorsInCategory(books, &quot;category&quot;);\r\n         \r\n    \r\n       }\r\n    }\r\n\r\nBook.java\r\n\r\n    import java.util.Objects;\r\n    \r\n    public class Book {\r\n        private final String author;\r\n        private final String title;\r\n        private final String category;\r\n    \r\n        public Book(String author, String title, String category) {\r\n            if( author == null || title == null || category == null)\r\n                throw new IllegalArgumentException();\r\n    \r\n            this.author = author;\r\n            this.title = title;\r\n            this.category = category;\r\n        }\r\n    \r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public String getCategory() {\r\n            return category;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o ==null || getClass() != o.getClass()) return false;\r\n            Book book = (Book) o;\r\n            return author.equals(book.author) &amp;&amp; title.equals(book.title) &amp;&amp; category.equals(book.category);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(author, title, category);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Books{&quot; +\r\n                    &quot;author=&#39;&quot; + author + &#39;\\&#39;&#39; +\r\n                    &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                    &quot;, category=&#39;&quot; + category + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n    \r\nParser.java\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class Parser {\r\n        public List&lt;Book&gt; parse(String pathToFile)  {\r\n            File in = new File(pathToFile);\r\n            List&lt;Book&gt; books = new LinkedList&lt;&gt;();\r\n    \r\n            String line = &quot;&quot;;\r\n            BufferedReader inReader = null ;\r\n    \r\n            try {\r\n                inReader = new BufferedReader(new FileReader(in));\r\n                int i = 1;\r\n                String author = &quot;&quot;;\r\n                String title = &quot;&quot;;\r\n                String category = &quot;&quot;;\r\n    \r\n                while ((line = inReader.readLine()) != null) {\r\n                    if (i == 1) {\r\n                        author = line.trim();\r\n                    } else if (i == 2) {\r\n                        title = line.trim();\r\n                    } else if (i == 3) {\r\n                        category = line.trim();\r\n                    } else {\r\n                        i = 0; \r\n    \r\n                        books.add(new Book(title, author, category));\r\n                    }\r\n                    i++; \r\n                }\r\n            } catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return books;\r\n        }\r\n    \r\n    }\r\n\r\nStats.java\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class Stats {\r\n    \r\n        public void countBooksPerCategory(List&lt;Book&gt; books) {\r\n            Map&lt;String, Integer&gt; counterBookPerCategory = new HashMap&lt;&gt;();\r\n            for (Book book : books) {\r\n                if(!counterBookPerCategory.containsKey(book.getCategory())){\r\n                    counterBookPerCategory.put(book.getCategory(),1);\r\n                }else{\r\n                    int counter = counterBookPerCategory.get(book.getCategory())+1;\r\n                    counterBookPerCategory.put(book.getCategory(), counter);\r\n                }\r\n        }\r\n            for(String k : counterBookPerCategory.keySet()){\r\n                System.out.println(&quot;Number book in category&quot; + k + &quot; is &quot; + counterBookPerCategory.get(k));\r\n            }\r\n        }\r\n        public void topAuthors(List&lt;Book&gt; books) {\r\n            Map&lt;String, Integer&gt; authorStats = new HashMap&lt;&gt;();\r\n    \r\n            for (Book book : books) {\r\n                int counter = authorStats.getOrDefault(book.getAuthor(), 0) + 1;\r\n                authorStats.put(book.getAuthor(), counter);\r\n            }\r\n    \r\n            for (String author : authorStats.keySet()) {\r\n                System.out.println(author + &quot; -&gt; &quot; + authorStats.get(author));\r\n            }\r\n        }\r\n        public void topAuthorsInCategory(List&lt;Book&gt; books, String category) {\r\n            Map&lt;String, Integer&gt; authorStats = new HashMap&lt;&gt;();\r\n    \r\n            for (Book book : books) {\r\n                if (book.getCategory().equals(category)) {\r\n                    int counter = authorStats.getOrDefault(book.getAuthor(), 0) + 1;\r\n                    authorStats.put(book.getAuthor(), counter);\r\n                }\r\n                for (String author : authorStats.keySet()) {\r\n                    System.out.println(author + &quot; -&gt; &quot; + authorStats.get(author));\r\n                }\r\n            }\r\n        }\r\n    }","title":"handle exceptions in java","body":"<p>Let's suppose we have a situation where one of the record is missing in the books.txt file. How can We handle such a case, so that the program logs a situation to the console and skips it in further processing?</p>\n<p>Another situation, we input a wrong category the program should inform the user about this and allowed him to enter the correct value.</p>\n<p>Any suggestion would be warmly welcome.</p>\n<p>books.txt</p>\n<pre><code>[Author]\n[Title]\n[Category]\n\n[Author]\n[Title]\n[Category]\n'''\n</code></pre>\n<p>App.java</p>\n<pre><code>    import java.util.List;\n    \n    public class App {\n        public static void main(String[] args)  {\n            String file = &quot;books.txt&quot;;\n            Parser parser = new Parser();\n            List&lt;Book&gt; books = parser.parse(file);\n    \n            Stats stats = new Stats();\n    \n            stats.countBooksPerCategory(books);\n            stats.topAuthors(books);\n            stats.topAuthorsInCategory(books, &quot;category&quot;);\n     \n\n   }\n}\n</code></pre>\n<p>Book.java</p>\n<pre><code>import java.util.Objects;\n\npublic class Book {\n    private final String author;\n    private final String title;\n    private final String category;\n\n    public Book(String author, String title, String category) {\n        if( author == null || title == null || category == null)\n            throw new IllegalArgumentException();\n\n        this.author = author;\n        this.title = title;\n        this.category = category;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o ==null || getClass() != o.getClass()) return false;\n        Book book = (Book) o;\n        return author.equals(book.author) &amp;&amp; title.equals(book.title) &amp;&amp; category.equals(book.category);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(author, title, category);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Books{&quot; +\n                &quot;author='&quot; + author + '\\'' +\n                &quot;, title='&quot; + title + '\\'' +\n                &quot;, category='&quot; + category + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Parser.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\n\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class Parser {\n    public List&lt;Book&gt; parse(String pathToFile)  {\n        File in = new File(pathToFile);\n        List&lt;Book&gt; books = new LinkedList&lt;&gt;();\n\n        String line = &quot;&quot;;\n        BufferedReader inReader = null ;\n\n        try {\n            inReader = new BufferedReader(new FileReader(in));\n            int i = 1;\n            String author = &quot;&quot;;\n            String title = &quot;&quot;;\n            String category = &quot;&quot;;\n\n            while ((line = inReader.readLine()) != null) {\n                if (i == 1) {\n                    author = line.trim();\n                } else if (i == 2) {\n                    title = line.trim();\n                } else if (i == 3) {\n                    category = line.trim();\n                } else {\n                    i = 0; \n\n                    books.add(new Book(title, author, category));\n                }\n                i++; \n            }\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n        return books;\n    }\n\n}\n</code></pre>\n<p>Stats.java</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Stats {\n\n    public void countBooksPerCategory(List&lt;Book&gt; books) {\n        Map&lt;String, Integer&gt; counterBookPerCategory = new HashMap&lt;&gt;();\n        for (Book book : books) {\n            if(!counterBookPerCategory.containsKey(book.getCategory())){\n                counterBookPerCategory.put(book.getCategory(),1);\n            }else{\n                int counter = counterBookPerCategory.get(book.getCategory())+1;\n                counterBookPerCategory.put(book.getCategory(), counter);\n            }\n    }\n        for(String k : counterBookPerCategory.keySet()){\n            System.out.println(&quot;Number book in category&quot; + k + &quot; is &quot; + counterBookPerCategory.get(k));\n        }\n    }\n    public void topAuthors(List&lt;Book&gt; books) {\n        Map&lt;String, Integer&gt; authorStats = new HashMap&lt;&gt;();\n\n        for (Book book : books) {\n            int counter = authorStats.getOrDefault(book.getAuthor(), 0) + 1;\n            authorStats.put(book.getAuthor(), counter);\n        }\n\n        for (String author : authorStats.keySet()) {\n            System.out.println(author + &quot; -&gt; &quot; + authorStats.get(author));\n        }\n    }\n    public void topAuthorsInCategory(List&lt;Book&gt; books, String category) {\n        Map&lt;String, Integer&gt; authorStats = new HashMap&lt;&gt;();\n\n        for (Book book : books) {\n            if (book.getCategory().equals(category)) {\n                int counter = authorStats.getOrDefault(book.getAuthor(), 0) + 1;\n                authorStats.put(book.getAuthor(), counter);\n            }\n            for (String author : authorStats.keySet()) {\n                System.out.println(author + &quot; -&gt; &quot; + authorStats.get(author));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","io","outputstream","system.out"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642094575,"creation_date":1642094575,"answer_id":70700616,"question_id":70700010,"body_markdown":"One way I thought of is:\r\n\r\n    System.setOut(new PrintStream(new ByteArrayOutputStream() {\r\n        @Override\r\n        public void flush() throws IOException {\r\n            super.flush();\r\n            String old = Preferences.userRoot().node(&quot;app&quot;).get(&quot;stdout&quot;, &quot;&quot;);\r\n            Preferences.userRoot().node(&quot;app&quot;).put(&quot;stdout&quot;, old + toString(StandardCharsets.UTF_8));\r\n            count = 0;\r\n        }\r\n    }, true, StandardCharsets.UTF_8));\r\n\r\nThis creates a `PrintStream` that outputs to a byte array output stream. The `PrintStream` will be automatically flushed whenever you print a newline character (e.g. by using `println`). This will cause the `ByteArrayOutputStream` to flush, which will write everything written to the stream since the last flush, to the preferences.","title":"System.setOut() to a Preferences node","body":"<p>One way I thought of is:</p>\n<pre><code>System.setOut(new PrintStream(new ByteArrayOutputStream() {\n    @Override\n    public void flush() throws IOException {\n        super.flush();\n        String old = Preferences.userRoot().node(&quot;app&quot;).get(&quot;stdout&quot;, &quot;&quot;);\n        Preferences.userRoot().node(&quot;app&quot;).put(&quot;stdout&quot;, old + toString(StandardCharsets.UTF_8));\n        count = 0;\n    }\n}, true, StandardCharsets.UTF_8));\n</code></pre>\n<p>This creates a <code>PrintStream</code> that outputs to a byte array output stream. The <code>PrintStream</code> will be automatically flushed whenever you print a newline character (e.g. by using <code>println</code>). This will cause the <code>ByteArrayOutputStream</code> to flush, which will write everything written to the stream since the last flush, to the preferences.</p>\n"}],"owner":{"account_id":16410233,"reputation":159,"user_id":13069553,"display_name":"Wassim Tahraoui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70700616,"answer_count":1,"score":1,"last_activity_date":1642094575,"creation_date":1642091741,"question_id":70700010,"body_markdown":"How can I achieve the following, where `prefsOutputStream` is the pseudo-variable I&#39;m aiming to make:\r\n```java\r\nPrintStream oldOut = System.out;\r\n\r\nSystem.setOut(prefsOutputStream);\r\n\r\nSystem.out.println(&quot;Foo Bar&quot;);\r\n\r\nString logString = Preferences.userRoot().node(&quot;app&quot;).get(&quot;stdout&quot;,&quot;&quot;);\r\noldOut.println(logString); // Outputs &quot;Foo Bar&quot; into the console\r\n```","title":"System.setOut() to a Preferences node","body":"<p>How can I achieve the following, where <code>prefsOutputStream</code> is the pseudo-variable I'm aiming to make:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PrintStream oldOut = System.out;\n\nSystem.setOut(prefsOutputStream);\n\nSystem.out.println(&quot;Foo Bar&quot;);\n\nString logString = Preferences.userRoot().node(&quot;app&quot;).get(&quot;stdout&quot;,&quot;&quot;);\noldOut.println(logString); // Outputs &quot;Foo Bar&quot; into the console\n</code></pre>\n"},{"tags":["java","loops","collections","iteration"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1377284735,"post_id":18410035,"comment_id":27042910,"body_markdown":"Those are the non-pathological ones, although you might also use any of several functional-style libraries to process collections as well.","body":"Those are the non-pathological ones, although you might also use any of several functional-style libraries to process collections as well."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1377284927,"post_id":18410035,"comment_id":27042994,"body_markdown":"Is the question about the `List` interface specifically?","body":"Is the question about the <code>List</code> interface specifically?"},{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":0,"creation_date":1377285090,"post_id":18410035,"comment_id":27043066,"body_markdown":"@SotiriosDelimanolis, for all intents and purposes, yes it is specific to &lt;code&gt;List&lt;/code&gt;, but if there are other interesting ways to work  with, say, a &lt;code&gt;Collection&lt;/code&gt;, I&#39;d be interested to know them.","body":"@SotiriosDelimanolis, for all intents and purposes, yes it is specific to &lt;code&gt;List&lt;/code&gt;, but if there are other interesting ways to work  with, say, a &lt;code&gt;Collection&lt;/code&gt;, I&#39;d be interested to know them."},{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":0,"creation_date":1377285147,"post_id":18410035,"comment_id":27043092,"body_markdown":"@DaveNewton, thanks for the idea. I&#39;ve never used anything like that. Please take a look at my edited question and let me know if I understood what you meant.","body":"@DaveNewton, thanks for the idea. I&#39;ve never used anything like that. Please take a look at my edited question and let me know if I understood what you meant."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1377285337,"post_id":18410035,"comment_id":27043183,"body_markdown":"I think your understanding of the enhanced `for` loop is wrong. Inside the loop, `element` is a reference to the actual list element, not a copy of it. Similarly with the iterator. You can, in fact, use all three styles to iterate over lists of singletons (or even enum values) that _cannot_ be copied.","body":"I think your understanding of the enhanced <code>for</code> loop is wrong. Inside the loop, <code>element</code> is a reference to the actual list element, not a copy of it. Similarly with the iterator. You can, in fact, use all three styles to iterate over lists of singletons (or even enum values) that <i>cannot</i> be copied."},{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":0,"creation_date":1377285454,"post_id":18410035,"comment_id":27043238,"body_markdown":"@Ted, in that case, could you explain why the iterator / for-each portions in the ListIterationExample.java do not cause `numbers` to change?","body":"@Ted, in that case, could you explain why the iterator / for-each portions in the ListIterationExample.java do not cause <code>numbers</code> to change?"},{"owner":{"account_id":809675,"reputation":24177,"user_id":904316,"accept_rate":100,"display_name":"sdasdadas"},"score":0,"creation_date":1377285465,"post_id":18410035,"comment_id":27043244,"body_markdown":"I think you should scale down your question and post those examples as an answer.","body":"I think you should scale down your question and post those examples as an answer."},{"owner":{"account_id":2997947,"reputation":7676,"user_id":2544089,"display_name":"Mario Rossi"},"score":0,"creation_date":1377285971,"post_id":18410035,"comment_id":27043491,"body_markdown":"Should we be talking about Java 8?  It&#39;s still one year away from a reality!","body":"Should we be talking about Java 8?  It&#39;s still one year away from a reality!"},{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":2,"creation_date":1377285976,"post_id":18410035,"comment_id":27043494,"body_markdown":"@sdasdadas, done: http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410379#answer-18410379","body":"@sdasdadas, done: <a href=\"http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410379#answer-18410379\" title=\"ways to iterate over a list in java\">stackoverflow.com/questions/18410035/&hellip;</a>"},{"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"score":0,"creation_date":1377286186,"post_id":18410035,"comment_id":27043599,"body_markdown":"@MarioRossi, yes, please feel free to list additional techniques offered in Java 8. Perhaps using [the Stream API](http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html &quot;Java 8 Stream API&quot;)?","body":"@MarioRossi, yes, please feel free to list additional techniques offered in Java 8. Perhaps using <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html\" title=\"Java 8 Stream API\" rel=\"nofollow noreferrer\">the Stream API</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2706774,"reputation":1555,"user_id":2336212,"display_name":"shieldgenerator7"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1377284856,"creation_date":1377284856,"answer_id":18410146,"question_id":18410035,"body_markdown":"You could always switch out the first and third examples with a while loop and a little more code. This gives you the advantage of being able to use the do-while:\r\n\r\n    int i = 0;\r\n    do{\r\n     E element = list.get(i);\r\n     i++;\r\n    }\r\n    while (i &lt; list.size());\r\n\r\nOf course, this kind of thing might cause a NullPointerException if the list.size() returns 0, becuase it always gets executed at least once. This can be fixed by testing if element is null before using its attributes / methods tho. Still, it&#39;s a lot simpler and easier to use the for loop","title":"Ways to iterate over a list in Java","body":"<p>You could always switch out the first and third examples with a while loop and a little more code. This gives you the advantage of being able to use the do-while:</p>\n\n<pre><code>int i = 0;\ndo{\n E element = list.get(i);\n i++;\n}\nwhile (i &lt; list.size());\n</code></pre>\n\n<p>Of course, this kind of thing might cause a NullPointerException if the list.size() returns 0, becuase it always gets executed at least once. This can be fixed by testing if element is null before using its attributes / methods tho. Still, it's a lot simpler and easier to use the for loop</p>\n"},{"tags":[],"owner":{"account_id":2997947,"reputation":7676,"user_id":2544089,"display_name":"Mario Rossi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377287969,"creation_date":1377285532,"answer_id":18410339,"question_id":18410035,"body_markdown":"I don&#39;t know what you consider pathological, but let me provide some alternatives you could have not seen before:\r\n\r\n    List&lt;E&gt; sl= list ;\r\n    while( ! sl.empty() ) {\r\n        E element= sl.get(0) ;\r\n        .....\r\n        sl= sl.subList(1,sl.size());\r\n    }\r\n\r\n\r\nOr its recursive version:\r\n\r\n    void visit(List&lt;E&gt; list) {\r\n        if( list.isEmpty() ) return;\r\n        E element= list.get(0) ;\r\n        ....\r\n        visit(list.subList(1,list.size()));\r\n    }\r\n\r\nAlso, a recursive version of the classical `for(int i=0...` :\r\n\r\n    void visit(List&lt;E&gt; list,int pos) {\r\n        if( pos &gt;= list.size() ) return;\r\n        E element= list.get(pos) ;\r\n        ....\r\n        visit(list,pos+1);\r\n    }\r\n\r\nI mention them because you are &quot;somewhat new to Java&quot; and this could be interesting.","title":"Ways to iterate over a list in Java","body":"<p>I don't know what you consider pathological, but let me provide some alternatives you could have not seen before:</p>\n\n<pre><code>List&lt;E&gt; sl= list ;\nwhile( ! sl.empty() ) {\n    E element= sl.get(0) ;\n    .....\n    sl= sl.subList(1,sl.size());\n}\n</code></pre>\n\n<p>Or its recursive version:</p>\n\n<pre><code>void visit(List&lt;E&gt; list) {\n    if( list.isEmpty() ) return;\n    E element= list.get(0) ;\n    ....\n    visit(list.subList(1,list.size()));\n}\n</code></pre>\n\n<p>Also, a recursive version of the classical <code>for(int i=0...</code> :</p>\n\n<pre><code>void visit(List&lt;E&gt; list,int pos) {\n    if( pos &gt;= list.size() ) return;\n    E element= list.get(pos) ;\n    ....\n    visit(list,pos+1);\n}\n</code></pre>\n\n<p>I mention them because you are \"somewhat new to Java\" and this could be interesting.</p>\n"},{"tags":[],"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1377292178,"creation_date":1377285740,"answer_id":18410379,"question_id":18410035,"body_markdown":"Example of each kind listed in the question:\r\n\r\n### ListIterationExample.java\r\n\r\n\r\n    import java.util.*;\r\n\r\n\tpublic class ListIterationExample {\r\n\r\n\t\t public static void main(String []args){\r\n\t\t\tList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n\t\t\t\r\n\t\t\t// populates list with initial values\r\n\t\t\tfor (Integer i : Arrays.asList(0,1,2,3,4,5,6,7))\r\n\t\t\t\tnumbers.add(i);\r\n\t\t\tprintList(numbers);\t\t\t// 0,1,2,3,4,5,6,7\r\n\t\t\t\r\n    \t\t// replaces each element with twice its value\r\n\t\t\tfor (int index=0; index &lt; numbers.size(); index++) {\r\n\t\t\t\tnumbers.set(index, numbers.get(index)*2); \r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 0,2,4,6,8,10,12,14\r\n\r\n            // does nothing because list is not being changed\r\n\t\t\tfor (Integer number : numbers) {\r\n    \t\t\tnumber++; // number = new Integer(number+1);\r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 0,2,4,6,8,10,12,14  \r\n\r\n\t\t\t// same as above -- just different syntax\r\n\t\t\tfor (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\r\n\t\t\t\tInteger number = iter.next();\r\n\t\t\t\tnumber++;\r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 0,2,4,6,8,10,12,14\r\n\r\n    \t\t// ListIterator&lt;?&gt; provides an &quot;add&quot; method to insert elements\r\n            // between the current element and the cursor\r\n\t\t\tfor (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\r\n\t\t\t\tInteger number = iter.next();\r\n\t\t\t\titer.add(number+1);     // insert a number right before this\r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\r\n\r\n        \t// Iterator&lt;?&gt; provides a &quot;remove&quot; method to delete elements\r\n            // between the current element and the cursor\r\n\t\t\tfor (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\r\n\t\t\t\tInteger number = iter.next();\r\n                if (number % 2 == 0)    // if number is even \r\n\t\t\t\t    iter.remove();      // remove it from the collection\r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 1,3,5,7,9,11,13,15\r\n\r\n            // ListIterator&lt;?&gt; provides a &quot;set&quot; method to replace elements\r\n\t\t\tfor (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\r\n\t\t\t\tInteger number = iter.next();\r\n\t\t\t\titer.set(number/2);     // divide each element by 2\r\n\t\t\t}\r\n\t\t\tprintList(numbers);\t\t\t// 0,1,2,3,4,5,6,7\r\n\t\t }\r\n\t\t \r\n\t\t public static void printList(List&lt;Integer&gt; numbers) {\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tfor (Integer number : numbers) {\r\n\t\t\t\tsb.append(number);\r\n\t\t\t\tsb.append(&quot;,&quot;);\r\n\t\t\t}\r\n\t\t\tsb.deleteCharAt(sb.length()-1); // remove trailing comma\r\n\t\t\tSystem.out.println(sb.toString());\r\n\t\t }\r\n\t}","title":"Ways to iterate over a list in Java","body":"<p>Example of each kind listed in the question:</p>\n\n<h3>ListIterationExample.java</h3>\n\n<pre><code>import java.util.*;\n\npublic class ListIterationExample {\n\n     public static void main(String []args){\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n\n        // populates list with initial values\n        for (Integer i : Arrays.asList(0,1,2,3,4,5,6,7))\n            numbers.add(i);\n        printList(numbers);         // 0,1,2,3,4,5,6,7\n\n        // replaces each element with twice its value\n        for (int index=0; index &lt; numbers.size(); index++) {\n            numbers.set(index, numbers.get(index)*2); \n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14\n\n        // does nothing because list is not being changed\n        for (Integer number : numbers) {\n            number++; // number = new Integer(number+1);\n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14  \n\n        // same as above -- just different syntax\n        for (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            number++;\n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14\n\n        // ListIterator&lt;?&gt; provides an \"add\" method to insert elements\n        // between the current element and the cursor\n        for (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            iter.add(number+1);     // insert a number right before this\n        }\n        printList(numbers);         // 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\n\n        // Iterator&lt;?&gt; provides a \"remove\" method to delete elements\n        // between the current element and the cursor\n        for (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            if (number % 2 == 0)    // if number is even \n                iter.remove();      // remove it from the collection\n        }\n        printList(numbers);         // 1,3,5,7,9,11,13,15\n\n        // ListIterator&lt;?&gt; provides a \"set\" method to replace elements\n        for (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            iter.set(number/2);     // divide each element by 2\n        }\n        printList(numbers);         // 0,1,2,3,4,5,6,7\n     }\n\n     public static void printList(List&lt;Integer&gt; numbers) {\n        StringBuilder sb = new StringBuilder();\n        for (Integer number : numbers) {\n            sb.append(number);\n            sb.append(\",\");\n        }\n        sb.deleteCharAt(sb.length()-1); // remove trailing comma\n        System.out.println(sb.toString());\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":333,"is_accepted":true,"score":332,"last_activity_date":1580397769,"creation_date":1377286146,"answer_id":18410489,"question_id":18410035,"body_markdown":"The three forms of looping are nearly identical. The enhanced `for` loop:\r\n\r\n    for (E element : list) {\r\n        . . .\r\n    }\r\n\r\nis, according to the [Java Language Specification][1], _identical_ in effect to the explicit use of an iterator with a traditional `for` loop. In the third case, you can only modify the list contents by removing the current element and, then, only if you do it through the `remove` method of the iterator itself. With index-based iteration, you are free to modify the list in any way. However, adding or removing elements that come before the current index risks having your loop skipping elements or processing the same element multiple times; you need to adjust the loop index properly when you make such changes.\r\n\r\nIn all cases, `element` is a reference to the actual list element. None of the iteration methods makes a copy of anything in the list. Changes to the internal state of `element` will always be seen in the internal state of the corresponding element on the list.\r\n\r\nEssentially, there are only two ways to iterate over a list: by using an index or by using an iterator. The enhanced for loop is just a syntactic shortcut introduced in Java 5 to avoid the tedium of explicitly defining an iterator. For both styles, you can come up with essentially trivial variations using `for`, `while` or `do while` blocks, but they all boil down to the same thing (or, rather, two things).\r\n\r\nEDIT: As @iX3 points out in a comment, you can use a `ListIterator` to set the current element of a list as you are iterating. You would need to use [`List#listIterator()`][2] instead of [`List#iterator()`][3] to initialize the loop variable (which, obviously, would have to be declared a `ListIterator` rather than an `Iterator`).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#listIterator%28%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#iterator%28%29","title":"Ways to iterate over a list in Java","body":"<p>The three forms of looping are nearly identical. The enhanced <code>for</code> loop:</p>\n\n<pre><code>for (E element : list) {\n    . . .\n}\n</code></pre>\n\n<p>is, according to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"noreferrer\">Java Language Specification</a>, <em>identical</em> in effect to the explicit use of an iterator with a traditional <code>for</code> loop. In the third case, you can only modify the list contents by removing the current element and, then, only if you do it through the <code>remove</code> method of the iterator itself. With index-based iteration, you are free to modify the list in any way. However, adding or removing elements that come before the current index risks having your loop skipping elements or processing the same element multiple times; you need to adjust the loop index properly when you make such changes.</p>\n\n<p>In all cases, <code>element</code> is a reference to the actual list element. None of the iteration methods makes a copy of anything in the list. Changes to the internal state of <code>element</code> will always be seen in the internal state of the corresponding element on the list.</p>\n\n<p>Essentially, there are only two ways to iterate over a list: by using an index or by using an iterator. The enhanced for loop is just a syntactic shortcut introduced in Java 5 to avoid the tedium of explicitly defining an iterator. For both styles, you can come up with essentially trivial variations using <code>for</code>, <code>while</code> or <code>do while</code> blocks, but they all boil down to the same thing (or, rather, two things).</p>\n\n<p>EDIT: As @iX3 points out in a comment, you can use a <code>ListIterator</code> to set the current element of a list as you are iterating. You would need to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#listIterator%28%29\" rel=\"noreferrer\"><code>List#listIterator()</code></a> instead of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#iterator%28%29\" rel=\"noreferrer\"><code>List#iterator()</code></a> to initialize the loop variable (which, obviously, would have to be declared a <code>ListIterator</code> rather than an <code>Iterator</code>).</p>\n"},{"tags":[],"owner":{"account_id":2118179,"reputation":8532,"user_id":1882010,"accept_rate":100,"display_name":"eugene82"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1396803707,"creation_date":1396803707,"answer_id":22897118,"question_id":18410035,"body_markdown":"A JDK8-style iteration:\r\n\r\n    public class IterationDemo {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\r\n            list.stream().forEach(elem -&gt; System.out.println(&quot;element &quot; + elem));\r\n        }\r\n    }","title":"Ways to iterate over a list in Java","body":"<p>A JDK8-style iteration:</p>\n\n<pre><code>public class IterationDemo {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\n        list.stream().forEach(elem -&gt; System.out.println(\"element \" + elem));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3409182,"reputation":364,"user_id":2859563,"display_name":"BJYC"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1519406793,"creation_date":1409001270,"answer_id":25494474,"question_id":18410035,"body_markdown":"Right, many alternatives are listed. The easiest and cleanest would be just using the enhanced `for` statement as below. The `Expression` is of some type that is iterable.\r\n\r\n    for ( FormalParameter : Expression ) Statement\r\n\r\nFor example, to iterate through, List&amp;lt;String&gt; ids, we can simply so,\r\n\r\n    for (String str : ids) {\r\n        // Do something\r\n    }\r\n\r\n","title":"Ways to iterate over a list in Java","body":"<p>Right, many alternatives are listed. The easiest and cleanest would be just using the enhanced <code>for</code> statement as below. The <code>Expression</code> is of some type that is iterable.</p>\n\n<pre><code>for ( FormalParameter : Expression ) Statement\n</code></pre>\n\n<p>For example, to iterate through, List&lt;String> ids, we can simply so,</p>\n\n<pre><code>for (String str : ids) {\n    // Do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3007489,"reputation":472,"user_id":2551697,"accept_rate":75,"display_name":"amarseillan"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1428520939,"creation_date":1428520939,"answer_id":29523552,"question_id":18410035,"body_markdown":"The basic loop is not recommended as you do not know the implementation of the list.\r\n\r\nIf that was a LinkedList, each call to \r\n\r\n    list.get(i)\r\n\r\nwould be iterating over the list, resulting in N^2 time complexity.\r\n\r\n","title":"Ways to iterate over a list in Java","body":"<p>The basic loop is not recommended as you do not know the implementation of the list.</p>\n\n<p>If that was a LinkedList, each call to </p>\n\n<pre><code>list.get(i)\n</code></pre>\n\n<p>would be iterating over the list, resulting in N^2 time complexity.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1519524489,"creation_date":1464082734,"answer_id":37409771,"question_id":18410035,"body_markdown":"In **Java 8** we have multiple ways to iterate over collection classes.\r\n\r\nUsing Iterable forEach\r\n----------------------\r\nThe collections that implement `Iterable` (for example all lists) now have `forEach` method. We can use [method-reference][2] introduced in Java 8.  \r\n\r\n    Arrays.asList(1,2,3,4).forEach(System.out::println);\r\n\r\nUsing Streams forEach and forEachOrdered\r\n----------------------\r\nWe can also iterate over a list using [Stream][1] as:\r\n\r\n    Arrays.asList(1,2,3,4).stream().forEach(System.out::println);\r\n    Arrays.asList(1,2,3,4).stream().forEachOrdered(System.out::println);\r\n\r\nWe should prefer `forEachOrdered` over `forEach` because the behaviour of `forEach` is explicitly nondeterministic where as the `forEachOrdered` performs an action for each element of this stream, in the encounter order of the stream if the stream has a defined encounter order. So forEach does not guarantee that the order would be kept.\r\n\r\nThe advantage with streams is that we can also make use of parallel streams wherever appropriate. If the objective is only to print the items irrespective of the order then we can use parallel stream as:\r\n\r\n    Arrays.asList(1,2,3,4).parallelStream().forEach(System.out::println);\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Ways to iterate over a list in Java","body":"<p>In <strong>Java 8</strong> we have multiple ways to iterate over collection classes.</p>\n\n<h2>Using Iterable forEach</h2>\n\n<p>The collections that implement <code>Iterable</code> (for example all lists) now have <code>forEach</code> method. We can use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method-reference</a> introduced in Java 8.  </p>\n\n<pre><code>Arrays.asList(1,2,3,4).forEach(System.out::println);\n</code></pre>\n\n<h2>Using Streams forEach and forEachOrdered</h2>\n\n<p>We can also iterate over a list using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">Stream</a> as:</p>\n\n<pre><code>Arrays.asList(1,2,3,4).stream().forEach(System.out::println);\nArrays.asList(1,2,3,4).stream().forEachOrdered(System.out::println);\n</code></pre>\n\n<p>We should prefer <code>forEachOrdered</code> over <code>forEach</code> because the behaviour of <code>forEach</code> is explicitly nondeterministic where as the <code>forEachOrdered</code> performs an action for each element of this stream, in the encounter order of the stream if the stream has a defined encounter order. So forEach does not guarantee that the order would be kept.</p>\n\n<p>The advantage with streams is that we can also make use of parallel streams wherever appropriate. If the objective is only to print the items irrespective of the order then we can use parallel stream as:</p>\n\n<pre><code>Arrays.asList(1,2,3,4).parallelStream().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480079538,"creation_date":1480079538,"answer_id":40805896,"question_id":18410035,"body_markdown":"For a backward search you should use the following:\r\n\r\n\tfor (ListIterator&lt;SomeClass&gt; iterator = list.listIterator(list.size()); iterator.hasPrevious();) {\r\n        SomeClass item = iterator.previous();\r\n        ...\r\n        item.remove(); // For instance.\r\n    }\r\n\r\nIf you want to know a position, use iterator.previousIndex(). It also helps to write an inner loop that compares two positions in the list (iterators are not equal).","title":"Ways to iterate over a list in Java","body":"<p>For a backward search you should use the following:</p>\n\n<pre><code>for (ListIterator&lt;SomeClass&gt; iterator = list.listIterator(list.size()); iterator.hasPrevious();) {\n    SomeClass item = iterator.previous();\n    ...\n    item.remove(); // For instance.\n}\n</code></pre>\n\n<p>If you want to know a position, use iterator.previousIndex(). It also helps to write an inner loop that compares two positions in the list (iterators are not equal).</p>\n"},{"tags":[],"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1519406883,"creation_date":1516618277,"answer_id":48379848,"question_id":18410035,"body_markdown":"You can use [forEach][1] starting from Java 8:\r\n\r\n     List&lt;String&gt; nameList   = new ArrayList&lt;&gt;(\r\n                Arrays.asList(&quot;USA&quot;, &quot;USSR&quot;, &quot;UK&quot;));\r\n    \r\n     nameList.forEach((v) -&gt; System.out.println(v));\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/foreach.html\r\n","title":"Ways to iterate over a list in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/foreach.html\" rel=\"nofollow noreferrer\">forEach</a> starting from Java 8:</p>\n\n<pre><code> List&lt;String&gt; nameList   = new ArrayList&lt;&gt;(\n            Arrays.asList(\"USA\", \"USSR\", \"UK\"));\n\n nameList.forEach((v) -&gt; System.out.println(v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536240866,"creation_date":1536240866,"answer_id":52205309,"question_id":18410035,"body_markdown":"In `java 8` you can use `List.forEach()` method with `lambda expression` to iterate over a list. \r\n&lt;br/&gt;\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class TestA {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            list.add(&quot;Apple&quot;);\r\n            list.add(&quot;Orange&quot;);\r\n            list.add(&quot;Banana&quot;);\r\n            list.forEach(\r\n                    (name) -&gt; {\r\n                        System.out.println(name);\r\n                    }\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n","title":"Ways to iterate over a list in Java","body":"<p>In <code>java 8</code> you can use <code>List.forEach()</code> method with <code>lambda expression</code> to iterate over a list. \n<br/></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class TestA {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(\"Apple\");\n        list.add(\"Orange\");\n        list.add(\"Banana\");\n        list.forEach(\n                (name) -&gt; {\n                    System.out.println(name);\n                }\n        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10901642,"reputation":96,"user_id":8013743,"display_name":"Imad ALILAT"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1601139299,"creation_date":1601139299,"answer_id":64080324,"question_id":18410035,"body_markdown":"Above you&#39;ll find all differents ways to iterate over a LIST.\r\n   \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    public class test1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//******* Exercise 1 : Write a Java program to create a new array list, add some colors (string) and print out the collection.\r\n\t\tList&lt;String&gt; colors = new ArrayList&lt;String&gt;();\r\n\t\tcolors.add(&quot;Black&quot;);\r\n\t\tcolors.add(&quot;Red&quot;);\r\n\t\tcolors.add(&quot;Green&quot;);\r\n\t\tcolors.add(&quot;Blue&quot;);\r\n\t\tSystem.out.println(colors);\r\n\t\t\r\n\t\t\r\n\t\t//******* Exercise 2 : Write a Java program to iterate through all elements in a array list. \r\n\t\tSystem.out.println(&quot;//******* Exercise 2&quot;);\r\n\t\tList&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\n\t\t\r\n\t\t// iteration type 1 : using FOR loop\r\n\t\tSystem.out.println(&quot;// iteration type 1&quot;);\r\n\t\tfor(Integer nb : list2) {\r\n\t\t\tSystem.out.print(nb + &quot;, &quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t// iteration type 2 : using FOR loop\r\n\t\tSystem.out.println(&quot;// iteration type 2&quot;);\r\n\t\tfor(int i=0; i &lt; list2.size(); i++) {\r\n\t\t\tSystem.out.print(list2.get(i) + &quot;, &quot;);\r\n\t\t}System.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t// iteration type 3  : using Do-While loop\r\n\t\tSystem.out.println(&quot;// iteration type 3&quot;);\r\n\t\tint index21 = 0;\r\n\t\t\r\n\t\tdo {\r\n\t\t\tSystem.out.print(list2.get(index21) + &quot;, &quot;);\r\n\t\t\tindex21++;\r\n\t\t}while(index21&lt;list2.size());\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t\r\n\t\t// iteration type 4  : using While loop\r\n\t\tSystem.out.println(&quot;// iteration type 4&quot;);\r\n\t\tint index22 = 0;\r\n\t\twhile(index22&lt;list2.size()) {\r\n\t\t\tSystem.out.print(list2.get(index22) + &quot;, &quot;);\r\n\t\t\tindex22++;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t\r\n\t\t// iteration type 5  : using  Iterable forEach loop \r\n\t\tSystem.out.println(&quot;// iteration type 5&quot;);\r\n\t\t list2.forEach(elt -&gt; {\r\n\t\t\t System.out.print(elt + &quot;, &quot;);\r\n\t\t });\r\n\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t\r\n\t\t// iteration type 6  : using  Iterator\r\n\t\tSystem.out.println(&quot;// iteration type 6&quot;);\r\n\t\tIterator&lt;Integer&gt; listIterator = list2.iterator();\r\n\t\twhile(listIterator.hasNext()) {\r\n\t\t\tSystem.out.print( listIterator.next() + &quot;, &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\r\n\t\t// iteration type 7  : using  Iterator (From the beginning)\r\n\t\tSystem.out.println(&quot;// iteration type 7&quot;);\r\n\t\tListIterator&lt;Integer&gt; listIterator21 = list2.listIterator(list2.size());\r\n\t\twhile(listIterator21.hasPrevious()) {\r\n\t\t\tSystem.out.print( listIterator21.previous() + &quot;, &quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;\\n&quot;);\t\r\n\t\t\r\n\t\t// iteration type 8  : using  Iterator (From the End)\r\n\t\tSystem.out.println(&quot;// iteration type 8&quot;);\r\n\t\tListIterator&lt;Integer&gt; listIterator22 = list2.listIterator();\r\n\t\twhile(listIterator22.hasNext()) {\r\n\t\t\tSystem.out.print( listIterator22.next() + &quot;, &quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;\\n&quot;);\t\r\n\t}\r\n\r\n    }\r\n","title":"Ways to iterate over a list in Java","body":"<p>Above you'll find all differents ways to iterate over a LIST.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.ListIterator;\n\npublic class test1 {\n\npublic static void main(String[] args) {\n    //******* Exercise 1 : Write a Java program to create a new array list, add some colors (string) and print out the collection.\n    List&lt;String&gt; colors = new ArrayList&lt;String&gt;();\n    colors.add(&quot;Black&quot;);\n    colors.add(&quot;Red&quot;);\n    colors.add(&quot;Green&quot;);\n    colors.add(&quot;Blue&quot;);\n    System.out.println(colors);\n    \n    \n    //******* Exercise 2 : Write a Java program to iterate through all elements in a array list. \n    System.out.println(&quot;//******* Exercise 2&quot;);\n    List&lt;Integer&gt; list2 = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\n    \n    // iteration type 1 : using FOR loop\n    System.out.println(&quot;// iteration type 1&quot;);\n    for(Integer nb : list2) {\n        System.out.print(nb + &quot;, &quot;);\n    }\n    System.out.println(&quot;\\n&quot;);\n    \n    // iteration type 2 : using FOR loop\n    System.out.println(&quot;// iteration type 2&quot;);\n    for(int i=0; i &lt; list2.size(); i++) {\n        System.out.print(list2.get(i) + &quot;, &quot;);\n    }System.out.println(&quot;\\n&quot;);\n    \n    // iteration type 3  : using Do-While loop\n    System.out.println(&quot;// iteration type 3&quot;);\n    int index21 = 0;\n    \n    do {\n        System.out.print(list2.get(index21) + &quot;, &quot;);\n        index21++;\n    }while(index21&lt;list2.size());\n    System.out.println(&quot;\\n&quot;);\n    \n    \n    // iteration type 4  : using While loop\n    System.out.println(&quot;// iteration type 4&quot;);\n    int index22 = 0;\n    while(index22&lt;list2.size()) {\n        System.out.print(list2.get(index22) + &quot;, &quot;);\n        index22++;\n    }\n\n    System.out.println(&quot;\\n&quot;);\n    \n    \n    // iteration type 5  : using  Iterable forEach loop \n    System.out.println(&quot;// iteration type 5&quot;);\n     list2.forEach(elt -&gt; {\n         System.out.print(elt + &quot;, &quot;);\n     });\n\n    System.out.println(&quot;\\n&quot;);\n    \n    \n    // iteration type 6  : using  Iterator\n    System.out.println(&quot;// iteration type 6&quot;);\n    Iterator&lt;Integer&gt; listIterator = list2.iterator();\n    while(listIterator.hasNext()) {\n        System.out.print( listIterator.next() + &quot;, &quot;);\n    }\n    \n    System.out.println(&quot;\\n&quot;);\n    \n    // iteration type 7  : using  Iterator (From the beginning)\n    System.out.println(&quot;// iteration type 7&quot;);\n    ListIterator&lt;Integer&gt; listIterator21 = list2.listIterator(list2.size());\n    while(listIterator21.hasPrevious()) {\n        System.out.print( listIterator21.previous() + &quot;, &quot;);\n    }\n\n    System.out.println(&quot;\\n&quot;);   \n    \n    // iteration type 8  : using  Iterator (From the End)\n    System.out.println(&quot;// iteration type 8&quot;);\n    ListIterator&lt;Integer&gt; listIterator22 = list2.listIterator();\n    while(listIterator22.hasNext()) {\n        System.out.print( listIterator22.next() + &quot;, &quot;);\n    }\n\n    System.out.println(&quot;\\n&quot;);   \n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642094449,"creation_date":1637242162,"answer_id":70020728,"question_id":18410035,"body_markdown":"In Java 8 or above, you can iterate a Hashset  using forEach() method.\r\n\r\n```      \r\nimport java.util.HashSet;\r\n\r\npublic class HashSetTest {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t HashSet&lt;String&gt; hSet = new HashSet&lt;String&gt;();\r\n\t\t  \r\n\t     // Adding elements into your HashSet usind add()\r\n\t\t hSet.add(&quot;test1&quot;);\r\n\t\t hSet.add(&quot;test2&quot;);\r\n\t\t hSet.add(&quot;test3&quot;);\r\n\t  \r\n\t     // Iterating over hash set items\r\n\t\t hSet.forEach(x -&gt; System.out.println(x));\r\n         // Or you can write shorter:\r\n         hSet.forEach(System.out::println);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Ways to iterate over a list in Java","body":"<p>In Java 8 or above, you can iterate a Hashset  using forEach() method.</p>\n<pre><code>import java.util.HashSet;\n\npublic class HashSetTest {\n    public static void main(String[] args) {\n        \n         HashSet&lt;String&gt; hSet = new HashSet&lt;String&gt;();\n          \n         // Adding elements into your HashSet usind add()\n         hSet.add(&quot;test1&quot;);\n         hSet.add(&quot;test2&quot;);\n         hSet.add(&quot;test3&quot;);\n      \n         // Iterating over hash set items\n         hSet.forEach(x -&gt; System.out.println(x));\n         // Or you can write shorter:\n         hSet.forEach(System.out::println);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1200792,"reputation":11279,"user_id":1171509,"accept_rate":84,"display_name":"jacobq"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274013,"favorite_count":0,"down_vote_count":0,"up_vote_count":712,"accepted_answer_id":18410489,"answer_count":13,"score":712,"last_activity_date":1642094449,"creation_date":1377284414,"question_id":18410035,"body_markdown":"Being somewhat new to the Java language I&#39;m trying to familiarize myself with all the ways (or at least the non-pathological ones) that one might iterate through a list (or perhaps other collections) and the advantages or disadvantages of each. \r\n\r\nGiven a &lt;code&gt;List&amp;lt;E&amp;gt; list&lt;/code&gt; object, I know of the following ways to loop through all elements:\r\n\r\n###Basic [for][for-loop] [loop][for-loop-2] (of course, there&#39;re equivalent `while` / `do while` loops as well)\r\n\r\n\t// Not recommended (see below)!\r\n \tfor (int i = 0; i &lt; list.size(); i++) {\r\n \t\tE element = list.get(i);\r\n \t\t// 1 - can call methods of element\r\n \t\t// 2 - can use &#39;i&#39; to make index-based calls to methods of list\r\n\r\n \t\t// ...\r\n  \t}\r\n\r\nNote: As @amarseillan pointed out, this form is a poor choice\r\nfor iterating over `List`s, because the actual implementation of\r\nthe `get` method may not be as efficient as when using an `Iterator`.\r\nFor example, `LinkedList` implementations must traverse all of\r\nthe elements preceding i to get the i-th element.\r\n\r\nIn the above example there&#39;s no way for the `List` implementation to\r\n&quot;save its place&quot; to make future iterations more efficient. \r\nFor an `ArrayList` it doesn&#39;t really matter, because the complexity/cost of `get` is constant time (O(1)) whereas for a `LinkedList` is it proportional to the size of the list (O(n)). \r\n\r\nFor more information about the computational complexity of the built-in `Collections` implementations, check out [this question](https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations).\r\n\r\n###Enhanced [for loop][for-each-loop] (nicely explained [in this question][for-each-loop-so])\r\n\r\n \tfor (E element : list) {\r\n \t\t// 1 - can call methods of element\r\n\r\n \t\t// ...\r\n  \t}\r\n\r\n###[Iterator][iterator]\r\n\r\n\tfor (Iterator&lt;E&gt; iter = list.iterator(); iter.hasNext(); ) {\r\n\t\tE element = iter.next();\r\n \t\t// 1 - can call methods of element\r\n \t\t// 2 - can use iter.remove() to remove the current element from the list\r\n\r\n \t\t// ...\r\n\t}\r\n\r\n###[ListIterator][list-iterator]\r\n\r\n\tfor (ListIterator&lt;E&gt; iter = list.listIterator(); iter.hasNext(); ) {\r\n\t\tE element = iter.next();\r\n \t\t// 1 - can call methods of element\r\n \t\t// 2 - can use iter.remove() to remove the current element from the list\r\n \t\t// 3 - can use iter.add(...) to insert a new element into the list\r\n \t\t//     between element and iter-&gt;next()\r\n \t\t// 4 - can use iter.set(...) to replace the current element\r\n\r\n \t\t// ...\r\n\t}\r\n\r\n###[Functional Java][functional-java] \r\n\r\n\tlist.stream().map(e -&gt; e + 1); // Can apply a transformation function for e\r\n\r\n\r\n###[Iterable.forEach][iterable-forEach], [Stream.forEach][stream-forEach], ...\r\n\r\n(A map method from Java 8&#39;s Stream API (see @i_am_zero&#39;s answer).)\r\n\r\nIn Java 8 collection classes that implement `Iterable` (for example, all `List`s) now have a `forEach` method, which can be used instead of the [for loop statement][for-loop] demonstrated above. (Here is [another question][java-8-foreach-comparison] that provides a good comparison.)\r\n\r\n    Arrays.asList(1,2,3,4).forEach(System.out::println);\r\n    // 1 - can call methods of an element\r\n    // 2 - would need reference to containing object to remove an item\r\n    //     (TODO: someone please confirm / deny this)\r\n    // 3 - functionally separates iteration from the action\r\n    //     being performed with each item.\r\n\r\n    Arrays.asList(1,2,3,4).stream().forEach(System.out::println);\r\n    // Same capabilities as above plus potentially greater\r\n    // utilization of parallelism\r\n    // (caution: consequently, order of execution is not guaranteed,\r\n    // see [Stream.forEachOrdered][stream-foreach-ordered] for more\r\n    // information about this).\r\n\r\nWhat other ways are there, if any?\r\n\r\n(BTW, my interest does not stem at all from a desire to [optimize performance][iterator-performance-question]; I just want to know what forms are available to me as a developer.)\r\n\r\n[for-loop]:http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\r\n[for-loop-2]:http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\r\n[for-each-loop]:http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\r\n[for-each-loop-so]:https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\r\n[iterator]:http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\r\n[list-iterator]:http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\r\n[iterator-performance-question]:https://stackoverflow.com/questions/2113216/which-is-more-efficient-a-for-each-loop-or-an-iterator\r\n[functional-java]:http://functionaljava.org/\r\n[iterable-forEach]:http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\r\n[stream-forEach]:http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\r\n[java-8-foreach-comparison]:https://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\r\n[stream-foreach-ordered]:http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-\r\n\r\n","title":"Ways to iterate over a list in Java","body":"<p>Being somewhat new to the Java language I'm trying to familiarize myself with all the ways (or at least the non-pathological ones) that one might iterate through a list (or perhaps other collections) and the advantages or disadvantages of each. </p>\n\n<p>Given a <code>List&lt;E&gt; list</code> object, I know of the following ways to loop through all elements:</p>\n\n<h3>Basic <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\" rel=\"noreferrer\">for</a> <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"noreferrer\">loop</a> (of course, there're equivalent <code>while</code> / <code>do while</code> loops as well)</h3>\n\n<pre><code>// Not recommended (see below)!\nfor (int i = 0; i &lt; list.size(); i++) {\n    E element = list.get(i);\n    // 1 - can call methods of element\n    // 2 - can use 'i' to make index-based calls to methods of list\n\n    // ...\n}\n</code></pre>\n\n<p>Note: As @amarseillan pointed out, this form is a poor choice\nfor iterating over <code>List</code>s, because the actual implementation of\nthe <code>get</code> method may not be as efficient as when using an <code>Iterator</code>.\nFor example, <code>LinkedList</code> implementations must traverse all of\nthe elements preceding i to get the i-th element.</p>\n\n<p>In the above example there's no way for the <code>List</code> implementation to\n\"save its place\" to make future iterations more efficient. \nFor an <code>ArrayList</code> it doesn't really matter, because the complexity/cost of <code>get</code> is constant time (O(1)) whereas for a <code>LinkedList</code> is it proportional to the size of the list (O(n)). </p>\n\n<p>For more information about the computational complexity of the built-in <code>Collections</code> implementations, check out <a href=\"https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\">this question</a>.</p>\n\n<h3>Enhanced <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"noreferrer\">for loop</a> (nicely explained <a href=\"https://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">in this question</a>)</h3>\n\n<pre><code>for (E element : list) {\n    // 1 - can call methods of element\n\n    // ...\n}\n</code></pre>\n\n<h3><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\" rel=\"noreferrer\">Iterator</a></h3>\n\n<pre><code>for (Iterator&lt;E&gt; iter = list.iterator(); iter.hasNext(); ) {\n    E element = iter.next();\n    // 1 - can call methods of element\n    // 2 - can use iter.remove() to remove the current element from the list\n\n    // ...\n}\n</code></pre>\n\n<h3><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\" rel=\"noreferrer\">ListIterator</a></h3>\n\n<pre><code>for (ListIterator&lt;E&gt; iter = list.listIterator(); iter.hasNext(); ) {\n    E element = iter.next();\n    // 1 - can call methods of element\n    // 2 - can use iter.remove() to remove the current element from the list\n    // 3 - can use iter.add(...) to insert a new element into the list\n    //     between element and iter-&gt;next()\n    // 4 - can use iter.set(...) to replace the current element\n\n    // ...\n}\n</code></pre>\n\n<h3><a href=\"http://functionaljava.org/\" rel=\"noreferrer\">Functional Java</a></h3>\n\n<pre><code>list.stream().map(e -&gt; e + 1); // Can apply a transformation function for e\n</code></pre>\n\n<h3><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"noreferrer\">Iterable.forEach</a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"noreferrer\">Stream.forEach</a>, ...</h3>\n\n<p>(A map method from Java 8's Stream API (see @i_am_zero's answer).)</p>\n\n<p>In Java 8 collection classes that implement <code>Iterable</code> (for example, all <code>List</code>s) now have a <code>forEach</code> method, which can be used instead of the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\" rel=\"noreferrer\">for loop statement</a> demonstrated above. (Here is <a href=\"https://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\">another question</a> that provides a good comparison.)</p>\n\n<pre><code>Arrays.asList(1,2,3,4).forEach(System.out::println);\n// 1 - can call methods of an element\n// 2 - would need reference to containing object to remove an item\n//     (TODO: someone please confirm / deny this)\n// 3 - functionally separates iteration from the action\n//     being performed with each item.\n\nArrays.asList(1,2,3,4).stream().forEach(System.out::println);\n// Same capabilities as above plus potentially greater\n// utilization of parallelism\n// (caution: consequently, order of execution is not guaranteed,\n// see [Stream.forEachOrdered][stream-foreach-ordered] for more\n// information about this).\n</code></pre>\n\n<p>What other ways are there, if any?</p>\n\n<p>(BTW, my interest does not stem at all from a desire to <a href=\"https://stackoverflow.com/questions/2113216/which-is-more-efficient-a-for-each-loop-or-an-iterator\">optimize performance</a>; I just want to know what forms are available to me as a developer.)</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":13097682,"reputation":827,"user_id":9463119,"display_name":"Daniel"},"score":0,"creation_date":1638184480,"post_id":70101089,"comment_id":124011706,"body_markdown":"Can you show the POST request you are sending ?","body":"Can you show the POST request you are sending ?"},{"owner":{"account_id":22273015,"reputation":13,"user_id":16502670,"display_name":"Miki Ahmed"},"score":0,"creation_date":1638307518,"post_id":70101089,"comment_id":124053208,"body_markdown":"I have added a link for the POST request now check it out.","body":"I have added a link for the POST request now check it out."}],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642094432,"creation_date":1642094432,"answer_id":70700593,"question_id":70101089,"body_markdown":"As far as I know, `HttpRequestMethodNotSupportedException` occurs when your end point is identified but you are sending `wrong REST action type`. For example, you are sending request with POST which is actually a GET endpoint.\r\nAlso, I do not see any specific endpoint defined for POST/PUT/PATCH. Rest endpoints must be action verbs for e.g. baseURL/create -&gt; To create a resource and so on..","title":"HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported in Spring API","body":"<p>As far as I know, <code>HttpRequestMethodNotSupportedException</code> occurs when your end point is identified but you are sending <code>wrong REST action type</code>. For example, you are sending request with POST which is actually a GET endpoint.\nAlso, I do not see any specific endpoint defined for POST/PUT/PATCH. Rest endpoints must be action verbs for e.g. baseURL/create -&gt; To create a resource and so on..</p>\n"}],"owner":{"account_id":22273015,"reputation":13,"user_id":16502670,"display_name":"Miki Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642094432,"creation_date":1637777816,"question_id":70101089,"body_markdown":"I want to build an API for my Employee entity(table) and when I tried a GET request by id or without id in the URL it works. but when I tried a POST, PUT, PATCH, or DELETE request it will be 405 error. And it looks like this for POST request\r\n```\r\n2021-11-24 18:42:59.517 DEBUG 4756 [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet         :&quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\r\n2021-11-24 18:42:59.520 WARN 4756---[nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n2021-11-24 18:42:59.520 DEBUG 4756 [nio-8080-exec-6]o.s.web.servlet.DispatcherServlet          :Exiting from &quot;ERROR&quot; dispatch, status 405\r\n```\r\nthe api-controlle class looks like \r\n```\r\npackage com.miki.pma.api.controllers;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.miki.pma.dao.EmployeeRepository;\r\nimport com.miki.pma.entity.Employee;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/app-api/employees&quot;)\r\npublic class EmployeeApiController {\r\n\t\r\n\t@Autowired\r\n\tEmployeeRepository empRepo;\r\n\t\r\n\t@GetMapping()\r\n\tpublic Iterable&lt;Employee&gt; getEmployees(){\r\n\t\treturn empRepo.findAll();\r\n\t}\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tpublic Employee getEmployeeById(@PathVariable(&quot;id&quot;) Long id) {\r\n\t\treturn empRepo.findById(id).get();\r\n\t}\r\n\t@PostMapping(consumes=&quot;application/json&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Employee create(@RequestBody Employee employee) {\r\n    \treturn empRepo.save(employee);\r\n    }\r\n    @PutMapping(consumes=&quot;application/json&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Employee update(@RequestBody Employee employee) {\r\n    \treturn empRepo.save(employee);\r\n    }\r\n    \r\n    @PatchMapping(value = &quot;/{id}&quot;,consumes=&quot;application/json&quot;)\r\n    public Employee partialUpdate(@PathVariable(&quot;id&quot;) Long id, @RequestBody Employee pathEmployee) {\r\n    \t\r\n    \tEmployee emp= empRepo.findById(id).get();\r\n    \t\r\n    \tif(pathEmployee.getEmail()!= null) {\r\n    \t\temp.setEmail(pathEmployee.getEmail());\r\n    \t}\r\n\t\tif(pathEmployee.getFirstName()!= null) {\r\n\t\t    emp.setFirstName(pathEmployee.getFirstName());\t\r\n    \t}\r\n\t\tif(pathEmployee.getLastname()!= null) {\r\n\t\t\temp.setLastname(pathEmployee.getLastname());\r\n\t\t}\r\n    \treturn empRepo.save(emp);\r\n    }\r\n    @DeleteMapping(value=&quot;/{id}&quot;)\r\n\t@ResponseStatus(HttpStatus.NO_CONTENT)\r\n\tpublic void delete(@PathVariable(&quot;id&quot;) Long id) {\r\n\r\n\t\tempRepo.deleteById(id);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThe Employee entity class looks like this\r\n```\r\npackage com.miki.pma.entity;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.SequenceGenerator;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.Size;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.sun.istack.NotNull;\r\n\r\n@Entity\r\npublic class Employee {\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;employee_seq&quot;)\r\n\t@SequenceGenerator(name = &quot;employee_seq&quot;, allocationSize = 1)\r\n\tprivate long employeeId;\r\n\t\r\n\t@NotNull\r\n\t@Size(min=2, max=50)\r\n\tprivate String firstName;\r\n\t\r\n\t@NotNull\r\n\t@Size(min=1, max=50)\r\n\tprivate String lastname;\r\n\t\r\n\t@NotNull\r\n\t@Email\r\n\t@Column(unique=true)\r\n\tprivate String email;\r\n\t\r\n\t@ManyToMany(cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH}\r\n\t, fetch= FetchType.LAZY)\r\n\t@JoinTable(name=&quot;employee_project&quot;,\r\n\t\t\tjoinColumns=@JoinColumn(name=&quot;employee_id&quot;),\r\n\t\t\tinverseJoinColumns=@JoinColumn(name=&quot;project_id&quot;))\r\n\t@JsonIgnore\r\n\tprivate List&lt;Project&gt; projects;\r\n\t\r\n\t\r\n\tpublic List&lt;Project&gt; getProjects() {\r\n\t\treturn projects;\r\n\t}\r\n\tpublic void setProjects(List&lt;Project&gt; projects) {\r\n\t\tthis.projects = projects;\r\n\t}\r\n\tpublic Employee() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic Employee(String firstName, String lastname, String email) {\r\n\t\tsuper();\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.email = email;\r\n\t}\r\n\tpublic long getEmployeeId() {\r\n\t\treturn employeeId;\r\n\t}\r\n\tpublic void setEmployeeId(long employeeId) {\r\n\t\tthis.employeeId = employeeId;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastname() {\r\n\t\treturn lastname;\r\n\t}\r\n\tpublic void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\nyou can see the post request I have tried in this picture link check it out \r\n[Post request from arch][1]\r\n\r\nso how can i use the POST,PUT,DELETE and PATCH request\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PUhRd.png","title":"HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported in Spring API","body":"<p>I want to build an API for my Employee entity(table) and when I tried a GET request by id or without id in the URL it works. but when I tried a POST, PUT, PATCH, or DELETE request it will be 405 error. And it looks like this for POST request</p>\n<pre><code>2021-11-24 18:42:59.517 DEBUG 4756 [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet         :&quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={}\n2021-11-24 18:42:59.520 WARN 4756---[nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]\n2021-11-24 18:42:59.520 DEBUG 4756 [nio-8080-exec-6]o.s.web.servlet.DispatcherServlet          :Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n<p>the api-controlle class looks like</p>\n<pre><code>package com.miki.pma.api.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.miki.pma.dao.EmployeeRepository;\nimport com.miki.pma.entity.Employee;\n\n@RestController\n@RequestMapping(&quot;/app-api/employees&quot;)\npublic class EmployeeApiController {\n    \n    @Autowired\n    EmployeeRepository empRepo;\n    \n    @GetMapping()\n    public Iterable&lt;Employee&gt; getEmployees(){\n        return empRepo.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    public Employee getEmployeeById(@PathVariable(&quot;id&quot;) Long id) {\n        return empRepo.findById(id).get();\n    }\n    @PostMapping(consumes=&quot;application/json&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public Employee create(@RequestBody Employee employee) {\n        return empRepo.save(employee);\n    }\n    @PutMapping(consumes=&quot;application/json&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Employee update(@RequestBody Employee employee) {\n        return empRepo.save(employee);\n    }\n    \n    @PatchMapping(value = &quot;/{id}&quot;,consumes=&quot;application/json&quot;)\n    public Employee partialUpdate(@PathVariable(&quot;id&quot;) Long id, @RequestBody Employee pathEmployee) {\n        \n        Employee emp= empRepo.findById(id).get();\n        \n        if(pathEmployee.getEmail()!= null) {\n            emp.setEmail(pathEmployee.getEmail());\n        }\n        if(pathEmployee.getFirstName()!= null) {\n            emp.setFirstName(pathEmployee.getFirstName());  \n        }\n        if(pathEmployee.getLastname()!= null) {\n            emp.setLastname(pathEmployee.getLastname());\n        }\n        return empRepo.save(emp);\n    }\n    @DeleteMapping(value=&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void delete(@PathVariable(&quot;id&quot;) Long id) {\n\n        empRepo.deleteById(id);\n    }\n\n}\n\n</code></pre>\n<p>The Employee entity class looks like this</p>\n<pre><code>package com.miki.pma.entity;\n\nimport java.util.List;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.SequenceGenerator;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.Size;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.sun.istack.NotNull;\n\n@Entity\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;employee_seq&quot;)\n    @SequenceGenerator(name = &quot;employee_seq&quot;, allocationSize = 1)\n    private long employeeId;\n    \n    @NotNull\n    @Size(min=2, max=50)\n    private String firstName;\n    \n    @NotNull\n    @Size(min=1, max=50)\n    private String lastname;\n    \n    @NotNull\n    @Email\n    @Column(unique=true)\n    private String email;\n    \n    @ManyToMany(cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST, CascadeType.REFRESH}\n    , fetch= FetchType.LAZY)\n    @JoinTable(name=&quot;employee_project&quot;,\n            joinColumns=@JoinColumn(name=&quot;employee_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;project_id&quot;))\n    @JsonIgnore\n    private List&lt;Project&gt; projects;\n    \n    \n    public List&lt;Project&gt; getProjects() {\n        return projects;\n    }\n    public void setProjects(List&lt;Project&gt; projects) {\n        this.projects = projects;\n    }\n    public Employee() {\n        super();\n    }\n    public Employee(String firstName, String lastname, String email) {\n        super();\n        this.firstName = firstName;\n        this.lastname = lastname;\n        this.email = email;\n    }\n    public long getEmployeeId() {\n        return employeeId;\n    }\n    public void setEmployeeId(long employeeId) {\n        this.employeeId = employeeId;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastname() {\n        return lastname;\n    }\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n}\n\n\n</code></pre>\n<p>you can see the post request I have tried in this picture link check it out\n<a href=\"https://i.stack.imgur.com/PUhRd.png\" rel=\"nofollow noreferrer\">Post request from arch</a></p>\n<p>so how can i use the POST,PUT,DELETE and PATCH request</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1642057426,"post_id":70692283,"comment_id":124971805,"body_markdown":"is the above code correct, it&#39;s throwing compile time error first of all, u need to worry about it first i guess, age datatype in setter and getter methods are wrong","body":"is the above code correct, it&#39;s throwing compile time error first of all, u need to worry about it first i guess, age datatype in setter and getter methods are wrong"},{"owner":{"account_id":17385459,"reputation":194,"user_id":15006167,"display_name":"user15006167"},"score":0,"creation_date":1642057575,"post_id":70692283,"comment_id":124971850,"body_markdown":"I will edit it ...Age getter and setter is just a typo...","body":"I will edit it ...Age getter and setter is just a typo..."}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642094123,"creation_date":1642094123,"answer_id":70700531,"question_id":70692283,"body_markdown":"The point is, if you have multiple DTOs that all have the same &quot;name&quot; and &quot;age&quot; property, it would make sense to define a &quot;Person&quot; class with those properties and have Employee extend from that.\r\n\r\nIn any case, SonarQube issues are just issues.  It certainly does not say &quot;it must be removed&quot;.  You are free to interpret the severity of the problem in your own context.  There is no doubt that duplicated code and properties can be a maintenance problem.  If you choose to ignore it, that&#39;s up to you.","title":"SonarQube Major Issue: Duplicated blocks of code must be removed","body":"<p>The point is, if you have multiple DTOs that all have the same &quot;name&quot; and &quot;age&quot; property, it would make sense to define a &quot;Person&quot; class with those properties and have Employee extend from that.</p>\n<p>In any case, SonarQube issues are just issues.  It certainly does not say &quot;it must be removed&quot;.  You are free to interpret the severity of the problem in your own context.  There is no doubt that duplicated code and properties can be a maintenance problem.  If you choose to ignore it, that's up to you.</p>\n"}],"owner":{"account_id":17385459,"reputation":194,"user_id":15006167,"display_name":"user15006167"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3402,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642094123,"creation_date":1642055298,"question_id":70692283,"body_markdown":"Consider the below DTO. In SonarQube scan it says the fields name and age are duplicated in getters and setters. Why is this even an issue? Can someone tell me how to fix this, as I have a ton of DTOs with the same issue?\r\n\r\n    public class Employee {\r\n\r\n       String name;\r\n       int age;\r\n\r\n       public void setName(String name) {\r\n          this.name = name;\r\n       }\r\n       public String getName() {\r\n          return name;\r\n       } \r\n       public void setAge(int age) {\r\n          this.age= age;\r\n       }\r\n       public int getAge() {\r\n          return age;\r\n       }\r\n\r\n    }","title":"SonarQube Major Issue: Duplicated blocks of code must be removed","body":"<p>Consider the below DTO. In SonarQube scan it says the fields name and age are duplicated in getters and setters. Why is this even an issue? Can someone tell me how to fix this, as I have a ton of DTOs with the same issue?</p>\n<pre><code>public class Employee {\n\n   String name;\n   int age;\n\n   public void setName(String name) {\n      this.name = name;\n   }\n   public String getName() {\n      return name;\n   } \n   public void setAge(int age) {\n      this.age= age;\n   }\n   public int getAge() {\n      return age;\n   }\n\n}\n</code></pre>\n"},{"tags":["java","http","proxy","request"],"comments":[{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1642092836,"post_id":70700173,"comment_id":124985682,"body_markdown":"Empty URI isn&#39;t valid in HTTP. Try new `URI.create(&quot;/&quot;)`","body":"Empty URI isn&#39;t valid in HTTP. Try new <code>URI.create(&quot;&#47;&quot;)</code>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1642093251,"post_id":70700173,"comment_id":124985850,"body_markdown":"Does your code work without the proxy?","body":"Does your code work without the proxy?"},{"owner":{"account_id":23931861,"reputation":41,"user_id":17926238,"display_name":"hirtevurte"},"score":0,"creation_date":1642093529,"post_id":70700173,"comment_id":124985977,"body_markdown":"I removed it for security purpose. @MikeClark","body":"I removed it for security purpose. @MikeClark"},{"owner":{"account_id":23931861,"reputation":41,"user_id":17926238,"display_name":"hirtevurte"},"score":0,"creation_date":1642093537,"post_id":70700173,"comment_id":124985981,"body_markdown":"Yes, it&#39;s working. @Thorbj&#248;rnRavnAndersen","body":"Yes, it&#39;s working. @Thorbj&#248;rnRavnAndersen"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1642094602,"post_id":70700173,"comment_id":124986428,"body_markdown":"Test the proxy in combination with the request using another framework like `curl` command-line or a GUI tool like `PostMan`. It may simply be that the proxy is refusing to forward the request you&#39;re sending it, in which case it&#39;s probably a problem with the proxy configuration, not your code.","body":"Test the proxy in combination with the request using another framework like <code>curl</code> command-line or a GUI tool like <code>PostMan</code>. It may simply be that the proxy is refusing to forward the request you&#39;re sending it, in which case it&#39;s probably a problem with the proxy configuration, not your code."},{"owner":{"account_id":23931861,"reputation":41,"user_id":17926238,"display_name":"hirtevurte"},"score":0,"creation_date":1642097003,"post_id":70700173,"comment_id":124987309,"body_markdown":"The server might be not running. When I set to 176.9.63.62:3128 its working. @MikeClark","body":"The server might be not running. When I set to 176.9.63.62:3128 its working. @MikeClark"}],"owner":{"account_id":23931861,"reputation":41,"user_id":17926238,"display_name":"hirtevurte"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642093692,"creation_date":1642092420,"question_id":70700173,"body_markdown":"I want to send a request with proxies but getting a error. How can I fix this error?\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Tunnel failed, got: 400\r\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:586)\r\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n        at Main.main(Main.java:33)\r\nCaused by: java.io.IOException: Tunnel failed, got: 400\r\n        at java.net.http/jdk.internal.net.http.PlainTunnelingConnection.lambda$connectAsync$2(PlainTunnelingConnection.java:97)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n        at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\r\n        at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\r\n        at java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\r\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\r\n        at java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\r\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\r\n        at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\r\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\r\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\r\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\r\nxecutor.runWorker(ThreadPoolExecutor.java:1136)        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI think I found a solution but `java -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;` and `java -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;` commands not worked on Windows&#39;s terminal.\r\n\r\nHere&#39;s my code. I removed inside of URI and BodyPublishers.ofString methods.\r\n\r\n```\r\nHttpRequest httpRequest = HttpRequest.newBuilder()\r\n            .version(Version.HTTP_1_1)\r\n            .uri(URI.create(&quot;&quot;))\r\n            .headers(httpHeaders)\r\n            .method(&quot;POST&quot;, BodyPublishers.ofString(&quot;&quot;))\r\n            .build();\r\n\r\n        HttpClient httpClient = HttpClient.newBuilder()\r\n            .proxy(ProxySelector.of(new InetSocketAddress(&quot;88.198.24.108&quot;, 3128)))\r\n            .connectTimeout(Duration.ofSeconds(10))\r\n            .build();\r\n\r\n        HttpResponse&lt;String&gt; httpResponse = \r\n            httpClient.send(httpRequest, BodyHandlers.ofString());\r\n```","title":"Caused by: java.io.IOException: Tunnel failed, got: 400","body":"<p>I want to send a request with proxies but getting a error. How can I fix this error?</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Tunnel failed, got: 400\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:586)\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n        at Main.main(Main.java:33)\nCaused by: java.io.IOException: Tunnel failed, got: 400\n        at java.net.http/jdk.internal.net.http.PlainTunnelingConnection.lambda$connectAsync$2(PlainTunnelingConnection.java:97)\n        at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n        at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\n        at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\n        at java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\n        at java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n        at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\n        at java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\n        at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\n        at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\n        at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\nxecutor.runWorker(ThreadPoolExecutor.java:1136)        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I think I found a solution but <code>java -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;</code> and <code>java -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;</code> commands not worked on Windows's terminal.</p>\n<p>Here's my code. I removed inside of URI and BodyPublishers.ofString methods.</p>\n<pre><code>HttpRequest httpRequest = HttpRequest.newBuilder()\n            .version(Version.HTTP_1_1)\n            .uri(URI.create(&quot;&quot;))\n            .headers(httpHeaders)\n            .method(&quot;POST&quot;, BodyPublishers.ofString(&quot;&quot;))\n            .build();\n\n        HttpClient httpClient = HttpClient.newBuilder()\n            .proxy(ProxySelector.of(new InetSocketAddress(&quot;88.198.24.108&quot;, 3128)))\n            .connectTimeout(Duration.ofSeconds(10))\n            .build();\n\n        HttpResponse&lt;String&gt; httpResponse = \n            httpClient.send(httpRequest, BodyHandlers.ofString());\n</code></pre>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":21069310,"reputation":27,"user_id":15485878,"display_name":"Shivanand Pandey"},"score":0,"creation_date":1641193724,"post_id":70562528,"comment_id":124735338,"body_markdown":"@Alexey Subach As this code is inspired from the code suggested by you in \n`https://stackoverflow.com/questions/62788267/how-to-apply-background-color-to-table-cell-with-round-corners-in-itext7`. It will be great help if you can provide your sugestion on this issue. Thank you","body":"@Alexey Subach As this code is inspired from the code suggested by you in  <code>https:&#47;&#47;stackoverflow.com&#47;questions&#47;62788267&#47;how-to-apply-ba&zwnj;&#8203;ckground-color-to-ta&zwnj;&#8203;ble-cell-with-round-&zwnj;&#8203;corners-in-itext7</code>. It will be great help if you can provide your sugestion on this issue. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642093518,"creation_date":1642093518,"answer_id":70700408,"question_id":70562528,"body_markdown":"Since you create a table inside rather than outside the loop, you create 1130 tables rather than 1. This is the biggest issue, which prevents you from harnessing the idea of the SO answer you mentioned in the comments.\r\n\r\nIf you place table creation outside the loop just as I do in the following snippet, then the size of the resultant PDF gets reduced from 521 Kb to 51 Kb. If you disable setting a custom table renderer for such a code, then the resultant PDF will be of 45 Kb size.\r\n\r\n        Table table = new Table(new float[] {100f, 100f});\r\n        table.setWidth(506.25f);\r\n        table.setFixedLayout();\r\n\r\n        for (int i =0 ; i &lt; 1130 ; i++) {\r\n            // each iteration of this loop represents adding of a single row\r\n            // some code\r\n        }\r\n\r\n        doc.add(table);\r\n\r\n\r\nThis is how the resultant PDF looks like now:\r\n[![enter image description here][1]][1]\r\n\r\nAs you asked in the question, it has yellow rounded table borders, cell background (which you set to white in your code) and red cell borders.\r\n\r\n  [1]: https://i.stack.imgur.com/aBsaa.png","title":"On creating a table having rounded corner with itext, the size of PDF is increasing unexpectedly","body":"<p>Since you create a table inside rather than outside the loop, you create 1130 tables rather than 1. This is the biggest issue, which prevents you from harnessing the idea of the SO answer you mentioned in the comments.</p>\n<p>If you place table creation outside the loop just as I do in the following snippet, then the size of the resultant PDF gets reduced from 521 Kb to 51 Kb. If you disable setting a custom table renderer for such a code, then the resultant PDF will be of 45 Kb size.</p>\n<pre><code>    Table table = new Table(new float[] {100f, 100f});\n    table.setWidth(506.25f);\n    table.setFixedLayout();\n\n    for (int i =0 ; i &lt; 1130 ; i++) {\n        // each iteration of this loop represents adding of a single row\n        // some code\n    }\n\n    doc.add(table);\n</code></pre>\n<p>This is how the resultant PDF looks like now:\n<a href=\"https://i.stack.imgur.com/aBsaa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBsaa.png\" alt=\"enter image description here\" /></a></p>\n<p>As you asked in the question, it has yellow rounded table borders, cell background (which you set to white in your code) and red cell borders.</p>\n"}],"owner":{"account_id":21069310,"reputation":27,"user_id":15485878,"display_name":"Shivanand Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70700408,"answer_count":1,"score":0,"last_activity_date":1642093518,"creation_date":1641193124,"question_id":70562528,"body_markdown":"I am creating multiple table on the same PDF. I need the rounded corner of table also the border color of cell and border color of table should be different. I have created the table renderer for the same, while creating the table with the renderer, the PDF size is increasing randomly. If we are not using the round corner the PDF size is &quot;61KB&quot; &amp; if I am using the renderer to make round corners then PDF of size is &quot;500KB&quot;. Please suggest how to fix\r\n\r\n    import java.io.FileNotFoundException;\r\n    import com.itextpdf.kernel.colors.Color;\r\n    import com.itextpdf.kernel.colors.DeviceRgb;\r\n    import com.itextpdf.kernel.geom.Rectangle;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfPage;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\n    import com.itextpdf.layout.Document;\r\n    import com.itextpdf.layout.borders.SolidBorder;\r\n    import com.itextpdf.layout.element.Paragraph;\r\n    import com.itextpdf.layout.element.Table;\r\n    import com.itextpdf.layout.element.Text;\r\n    import com.itextpdf.layout.property.TextAlignment;\r\n    import com.itextpdf.layout.property.VerticalAlignment;\r\n    import com.itextpdf.layout.renderer.DrawContext;\r\n    import com.itextpdf.layout.renderer.IRenderer;\r\n    import com.itextpdf.layout.renderer.TableRenderer;\r\n\r\n    public class testDate {\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tString dest = &quot;D://PDF_SIZE.pdf&quot;;\r\n\t\tPdfWriter writer = new PdfWriter(dest);\r\n\t\tPdfDocument pdf = new PdfDocument(writer);\r\n\t\tpdf.addNewPage();\r\n\t\tDocument doc = new Document(pdf);\r\n\t\tfor (int i =0 ; i&lt; 1130 ; i++){\r\n\t\t\tTable table = new Table(new float[]{100f,100f});\r\n\t\t\ttable.setWidth(506.25f);\r\n\t\t\ttable.setProperty(com.itextpdf.layout.property.Property.TABLE_LAYOUT, &quot;fixed&quot;);\r\n\r\n\t\t\tcom.itextpdf.layout.element.Cell cell = new com.itextpdf.layout.element.Cell(1,1);\r\n\t\t\tcell.setWidth(15.165f);\r\n\t\t\tText t =new Text(&quot;A&quot;).setFontSize(11f);\r\n\t\t\tParagraph p = new Paragraph();\r\n\t\t\tp.setFixedLeading(0.0f).setMultipliedLeading(0.86f);\r\n\t\t\tcell.add(p.add(t));\r\n\t\t\tcell.setPadding(3f);\r\n\t\t\tcell.setMinHeight(10f);\r\n\t\t\tcell.setVerticalAlignment(VerticalAlignment.TOP);\r\n\t\t\tcell.setTextAlignment(TextAlignment.LEFT);\r\n\t\t\tcell.setKeepTogether(true);\r\n\t\t\tcell.setBorder(new SolidBorder(new DeviceRgb(255,0,0),0.5f));\r\n\t\t\tcell.setBackgroundColor(new DeviceRgb(255,255,255));\r\n\t\t\ttable.addCell(cell);\r\n\r\n\t\t\tcom.itextpdf.layout.element.Cell cell2 = new com.itextpdf.layout.element.Cell(1,1);\r\n\t\t\tcell2.setWidth(490.33502f);\r\n\t\t\tText t2 =new Text(&quot;Row Number - &quot; + i).setFontSize(11f);\r\n\t\t\tParagraph p2 = new Paragraph();\r\n\t\t\tp2.setFixedLeading(0.0f).setMultipliedLeading(0.86f);\r\n\t\t\tcell2.add(p2.add(t2));\r\n\t\t\tcell2.setPadding(3f);\r\n\t\t\tcell2.setMinHeight(10f);\r\n\t\t\tcell2.setVerticalAlignment(VerticalAlignment.TOP);\r\n\t\t\tcell2.setTextAlignment(TextAlignment.LEFT);\r\n\t\t\tcell.setKeepTogether(true);\r\n\t\t\tcell2.setBorder(new SolidBorder(new DeviceRgb(255,0,0),0.5f));\r\n\t\t\tcell2.setBackgroundColor(new DeviceRgb(255,255,255));\r\n\t\t\ttable.addCell(cell2);\r\n\t\t\ttable.setNextRenderer(new TableBorderRenderer (table));\r\n\t\t\tdoc.add(table);\r\n\r\n\t\t}\r\n\t\tdoc.close();\r\n\t\tSystem.out.println(&quot;table Added.&quot;);\r\n\t}\r\n\r\n\r\n\tpublic static  class TableBorderRenderer extends TableRenderer {\r\n\r\n\r\n\t\tpublic TableBorderRenderer(Table modelElement) {\r\n\t\t\tsuper(modelElement);\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic IRenderer getNextRenderer() {\r\n\t\t\treturn new TableBorderRenderer((Table) modelElement);\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tprotected void drawBorders(DrawContext drawContext) {\r\n\t\t\tRectangle rect = getOccupiedAreaBBox();\r\n\t\t\tPdfPage currentPage = drawContext.getDocument().getPage(getOccupiedArea().getPageNumber());\r\n\r\n\t\t\tPdfCanvas aboveCanvas = new PdfCanvas(currentPage.newContentStreamAfter(), currentPage.getResources(), drawContext.getDocument());\r\n\t\t\tfloat lineWidth = 0.5f;\r\n\t\t\trect.applyMargins(lineWidth / 2, lineWidth / 2, lineWidth / 2, lineWidth / 2, false);\r\n\t\t\tColor strokeColor;\r\n\t\t\tstrokeColor = new DeviceRgb(255,255,0);\r\n\t\t\taboveCanvas.saveState().setLineWidth(0.5f).setStrokeColor(new DeviceRgb(255,255,255)).rectangle(rect).stroke().restoreState();\r\n\t\t\taboveCanvas.saveState().setLineWidth(0.5f).setStrokeColor(strokeColor).roundRectangle(rect.getLeft(), rect.getBottom(), rect.getWidth(), rect.getHeight(), 5).stroke().restoreState();\r\n\t\t\tsuper.drawBorders(drawContext);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void drawChildren(DrawContext drawContext) {\r\n\t\t\tRectangle rect = getOccupiedAreaBBox();\r\n\t\t\tfloat lineWidth = 0.5f;\r\n\t\t\trect.applyMargins(lineWidth, lineWidth, lineWidth, lineWidth, false);\r\n\t\t\tPdfCanvas canvas = drawContext.getCanvas();\r\n\t\t\tcanvas.saveState();\r\n\t\t\tcanvas.roundRectangle(rect.getLeft(), rect.getBottom(), rect.getWidth(), rect.getHeight(), 4.5f);\r\n\t\t\tcanvas.clip().endPath();\r\n\t\t\tsuper.drawChildren(drawContext);\r\n\t\t\tcanvas.restoreState();\r\n\t\t}\r\n\t    }\r\n\t}","title":"On creating a table having rounded corner with itext, the size of PDF is increasing unexpectedly","body":"<p>I am creating multiple table on the same PDF. I need the rounded corner of table also the border color of cell and border color of table should be different. I have created the table renderer for the same, while creating the table with the renderer, the PDF size is increasing randomly. If we are not using the round corner the PDF size is &quot;61KB&quot; &amp; if I am using the renderer to make round corners then PDF of size is &quot;500KB&quot;. Please suggest how to fix</p>\n<pre><code>import java.io.FileNotFoundException;\nimport com.itextpdf.kernel.colors.Color;\nimport com.itextpdf.kernel.colors.DeviceRgb;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfPage;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.SolidBorder;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.element.Text;\nimport com.itextpdf.layout.property.TextAlignment;\nimport com.itextpdf.layout.property.VerticalAlignment;\nimport com.itextpdf.layout.renderer.DrawContext;\nimport com.itextpdf.layout.renderer.IRenderer;\nimport com.itextpdf.layout.renderer.TableRenderer;\n\npublic class testDate {\n\npublic static void main(String[] args) throws FileNotFoundException {\n    String dest = &quot;D://PDF_SIZE.pdf&quot;;\n    PdfWriter writer = new PdfWriter(dest);\n    PdfDocument pdf = new PdfDocument(writer);\n    pdf.addNewPage();\n    Document doc = new Document(pdf);\n    for (int i =0 ; i&lt; 1130 ; i++){\n        Table table = new Table(new float[]{100f,100f});\n        table.setWidth(506.25f);\n        table.setProperty(com.itextpdf.layout.property.Property.TABLE_LAYOUT, &quot;fixed&quot;);\n\n        com.itextpdf.layout.element.Cell cell = new com.itextpdf.layout.element.Cell(1,1);\n        cell.setWidth(15.165f);\n        Text t =new Text(&quot;A&quot;).setFontSize(11f);\n        Paragraph p = new Paragraph();\n        p.setFixedLeading(0.0f).setMultipliedLeading(0.86f);\n        cell.add(p.add(t));\n        cell.setPadding(3f);\n        cell.setMinHeight(10f);\n        cell.setVerticalAlignment(VerticalAlignment.TOP);\n        cell.setTextAlignment(TextAlignment.LEFT);\n        cell.setKeepTogether(true);\n        cell.setBorder(new SolidBorder(new DeviceRgb(255,0,0),0.5f));\n        cell.setBackgroundColor(new DeviceRgb(255,255,255));\n        table.addCell(cell);\n\n        com.itextpdf.layout.element.Cell cell2 = new com.itextpdf.layout.element.Cell(1,1);\n        cell2.setWidth(490.33502f);\n        Text t2 =new Text(&quot;Row Number - &quot; + i).setFontSize(11f);\n        Paragraph p2 = new Paragraph();\n        p2.setFixedLeading(0.0f).setMultipliedLeading(0.86f);\n        cell2.add(p2.add(t2));\n        cell2.setPadding(3f);\n        cell2.setMinHeight(10f);\n        cell2.setVerticalAlignment(VerticalAlignment.TOP);\n        cell2.setTextAlignment(TextAlignment.LEFT);\n        cell.setKeepTogether(true);\n        cell2.setBorder(new SolidBorder(new DeviceRgb(255,0,0),0.5f));\n        cell2.setBackgroundColor(new DeviceRgb(255,255,255));\n        table.addCell(cell2);\n        table.setNextRenderer(new TableBorderRenderer (table));\n        doc.add(table);\n\n    }\n    doc.close();\n    System.out.println(&quot;table Added.&quot;);\n}\n\n\npublic static  class TableBorderRenderer extends TableRenderer {\n\n\n    public TableBorderRenderer(Table modelElement) {\n        super(modelElement);\n\n    }\n\n    @Override\n    public IRenderer getNextRenderer() {\n        return new TableBorderRenderer((Table) modelElement);\n    }\n\n\n    @Override\n    protected void drawBorders(DrawContext drawContext) {\n        Rectangle rect = getOccupiedAreaBBox();\n        PdfPage currentPage = drawContext.getDocument().getPage(getOccupiedArea().getPageNumber());\n\n        PdfCanvas aboveCanvas = new PdfCanvas(currentPage.newContentStreamAfter(), currentPage.getResources(), drawContext.getDocument());\n        float lineWidth = 0.5f;\n        rect.applyMargins(lineWidth / 2, lineWidth / 2, lineWidth / 2, lineWidth / 2, false);\n        Color strokeColor;\n        strokeColor = new DeviceRgb(255,255,0);\n        aboveCanvas.saveState().setLineWidth(0.5f).setStrokeColor(new DeviceRgb(255,255,255)).rectangle(rect).stroke().restoreState();\n        aboveCanvas.saveState().setLineWidth(0.5f).setStrokeColor(strokeColor).roundRectangle(rect.getLeft(), rect.getBottom(), rect.getWidth(), rect.getHeight(), 5).stroke().restoreState();\n        super.drawBorders(drawContext);\n    }\n\n    @Override\n    public void drawChildren(DrawContext drawContext) {\n        Rectangle rect = getOccupiedAreaBBox();\n        float lineWidth = 0.5f;\n        rect.applyMargins(lineWidth, lineWidth, lineWidth, lineWidth, false);\n        PdfCanvas canvas = drawContext.getCanvas();\n        canvas.saveState();\n        canvas.roundRectangle(rect.getLeft(), rect.getBottom(), rect.getWidth(), rect.getHeight(), 4.5f);\n        canvas.clip().endPath();\n        super.drawChildren(drawContext);\n        canvas.restoreState();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1641221251,"post_id":70567255,"comment_id":124743823,"body_markdown":"I&#39;m not a Vaadin user but I assume one of the problems is that `SomeEnum.class` makes it easy to grab the potential values and display a list while `String.class` would allow _any_ input and hence only a text field is used. You might have to provide a list of elements to chose from, maybe there&#39;s some support for enumerables/collections/arrays.","body":"I&#39;m not a Vaadin user but I assume one of the problems is that <code>SomeEnum.class</code> makes it easy to grab the potential values and display a list while <code>String.class</code> would allow <i>any</i> input and hence only a text field is used. You might have to provide a list of elements to chose from, maybe there&#39;s some support for enumerables/collections/arrays."}],"answers":[{"tags":[],"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642093401,"creation_date":1642093401,"answer_id":70700385,"question_id":70567255,"body_markdown":"You can set ListSelect as the container property type directly:\r\n```\r\ncontainer.addContainerProperty(name, ListSelect.class, null, true, true);\r\n```\r\nAnd then create a separate ListSelect instance for each item (do not try to reuse the same instance for all rows!) and set the property e.g. like this:\r\n```\r\nitem.getItemProperty(name).setValue(listSelect);\r\n```\r\nSee also documentation about components inside a Table: https://vaadin.com/docs/v7/framework/components/components-table/#components.table.features.components\r\n\r\nFor Grid you might be interested in SimpleSelectRenderer within the Grid Renderers collection add-on https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7 or maybe even ComponentRenderer add-on https://vaadin.com/directory/component/componentrenderer (but note that for big Grids there can be a notable performance hit)","title":"Change LazyQueryContainer.addContainerProperty behaviour when adding strings","body":"<p>You can set ListSelect as the container property type directly:</p>\n<pre><code>container.addContainerProperty(name, ListSelect.class, null, true, true);\n</code></pre>\n<p>And then create a separate ListSelect instance for each item (do not try to reuse the same instance for all rows!) and set the property e.g. like this:</p>\n<pre><code>item.getItemProperty(name).setValue(listSelect);\n</code></pre>\n<p>See also documentation about components inside a Table: <a href=\"https://vaadin.com/docs/v7/framework/components/components-table/#components.table.features.components\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v7/framework/components/components-table/#components.table.features.components</a></p>\n<p>For Grid you might be interested in SimpleSelectRenderer within the Grid Renderers collection add-on <a href=\"https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7</a> or maybe even ComponentRenderer add-on <a href=\"https://vaadin.com/directory/component/componentrenderer\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/componentrenderer</a> (but note that for big Grids there can be a notable performance hit)</p>\n"}],"owner":{"account_id":23812459,"reputation":11,"user_id":17821111,"display_name":"Knowcolla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642093401,"creation_date":1641220134,"question_id":70567255,"body_markdown":"when we use method\r\n\r\n    LazyQueryContainer#addContainerProperty\r\n\r\nlike that\r\n\r\n    container.addContainerProperty(name, String.class, null, true, true);\r\n\r\nwe will get field which will be a plain text field.\r\n\r\nwhen we use it like that:\r\n\r\n    container.addContainerProperty(name, SomeEnum.class, null, true, true);\r\n\r\nwe will get field which ListSelect to filter\r\n\r\nhow can I do this for String.class? ","title":"Change LazyQueryContainer.addContainerProperty behaviour when adding strings","body":"<p>when we use method</p>\n<pre><code>LazyQueryContainer#addContainerProperty\n</code></pre>\n<p>like that</p>\n<pre><code>container.addContainerProperty(name, String.class, null, true, true);\n</code></pre>\n<p>we will get field which will be a plain text field.</p>\n<p>when we use it like that:</p>\n<pre><code>container.addContainerProperty(name, SomeEnum.class, null, true, true);\n</code></pre>\n<p>we will get field which ListSelect to filter</p>\n<p>how can I do this for String.class?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1642090687,"post_id":70699700,"comment_id":124984758,"body_markdown":"Replace `\\b(?!\\.)` with `(?!\\.?\\d)`","body":"Replace <code>\\b(?!\\.)</code> with <code>(?!\\.?\\d)</code>"},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1642091200,"post_id":70699700,"comment_id":124984978,"body_markdown":"@WiktorStribiżew Perfect, works! Thanks.","body":"@WiktorStribiżew Perfect, works! Thanks."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642091553,"creation_date":1642091553,"answer_id":70699960,"question_id":70699700,"body_markdown":"You can use\r\n```none\r\n(\\$|&#163;|&amp;#36;|&amp;#163;)(\\d+(?:\\.\\d+)?)(?!\\.?\\d)\r\n```\r\nThe `(?!\\.?\\d)` lookahead will only fail if there is an optional dot and then a digit immediately to the right of the current location.","title":"How to capture a period within an optional block","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>(\\$|£|&amp;#36;|&amp;#163;)(\\d+(?:\\.\\d+)?)(?!\\.?\\d)\n</code></pre>\n<p>The <code>(?!\\.?\\d)</code> lookahead will only fail if there is an optional dot and then a digit immediately to the right of the current location.</p>\n"}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70699960,"answer_count":1,"score":1,"last_activity_date":1642092885,"creation_date":1642090426,"question_id":70699700,"body_markdown":"I have the following Strings and wish to capture numbers only including decimal points.\r\n\r\nSo want to capture following type of numbers. \r\n\r\n    1\r\n    10\r\n    100\r\n    10.20\r\n\r\nThis is the regex which works for the Strings at the end. \r\n\r\nRegex\r\n\r\n    (\\$|&#163;|&amp;#36;|&amp;#163;)(\\d+(?:\\.\\d+)?)\\b(?!\\.)\r\n\r\nSee below where I have other Strings which all works less the following String. \r\n\r\n    $0 text $99.&lt;sup&gt;&amp;#164;&lt;/sup&gt;\r\n\r\nThis is cos the $99 is followed by a `.` It is not a decimal thus I don&#39;t want to capture it plus it is optional, not always gonna occur. How could I modify the regex so that I can still capture the value `99` in above String as `matcher 2`? ","title":"How to capture a period within an optional block","body":"<p>I have the following Strings and wish to capture numbers only including decimal points.</p>\n<p>So want to capture following type of numbers.</p>\n<pre><code>1\n10\n100\n10.20\n</code></pre>\n<p>This is the regex which works for the Strings at the end.</p>\n<p>Regex</p>\n<pre><code>(\\$|£|&amp;#36;|&amp;#163;)(\\d+(?:\\.\\d+)?)\\b(?!\\.)\n</code></pre>\n<p>See below where I have other Strings which all works less the following String.</p>\n<pre><code>$0 text $99.&lt;sup&gt;&amp;#164;&lt;/sup&gt;\n</code></pre>\n<p>This is cos the $99 is followed by a <code>.</code> It is not a decimal thus I don't want to capture it plus it is optional, not always gonna occur. How could I modify the regex so that I can still capture the value <code>99</code> in above String as <code>matcher 2</code>?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642092773,"creation_date":1642092773,"answer_id":70700245,"question_id":70699386,"body_markdown":"Instead of clicking on the _close_ button try to click on the element with text as _**I don&#39;t want free shipping**_ inducing [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[class*=&#39;bx-row-submit-no&#39;] &gt; button.bx-button[data-click = &#39;close&#39;][type=&#39;reset&#39;]&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class=&#39;bx-button&#39; and @data-click = &#39;close&#39;][@type=&#39;reset&#39; and contains(., &#39;shipping&#39;)]&quot;))).click();","title":"How to handle pop up windows Java Selenium?","body":"<p>Instead of clicking on the <em>close</em> button try to click on the element with text as <em><strong>I don't want free shipping</strong></em> inducing <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div[class*='bx-row-submit-no'] &gt; button.bx-button[data-click = 'close'][type='reset']&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class='bx-button' and @data-click = 'close'][@type='reset' and contains(., 'shipping')]&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":17581633,"reputation":63,"user_id":12755320,"display_name":"Tetiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70700245,"answer_count":1,"score":0,"last_activity_date":1642092773,"creation_date":1642089036,"question_id":70699386,"body_markdown":"For example, [TjMaxx][1]\r\n\r\n\r\n  [1]: https://tjmaxx.tjx.com/store/index.jsp\r\nWhen the user navigates for the first time pop up window shows up, sometimes 2, and it&#39;s hard to catch and move on. I tried try catch, but it does not work, because it opens some windows that I cannot see. How to catch all windows and dismiss them all for the guest user? \r\n\r\n     try {\r\n            WebElement closeWindowPromo = driver.findElement(By.xpath\r\n                    (&quot;//div[@class =\\&quot;bx-row bx-row-submit bx-row-submit-no  bx-row-2uaILGf bx-element-1360650-2uaILGf\\&quot;]//button[@data-click = &#39;close&#39;]&quot;));\r\n            WebDriverWait w = new WebDriverWait(driver, 5);\r\n            w.until(ExpectedConditions.visibilityOfElementLocated((By) closeWindowPromo));\r\n            System.out.println(&quot;Element is visible&quot;);\r\n\r\n        } catch (NoSuchElementException n) {\r\n\r\n            System.out.println(&quot;Element is invisible&quot;);\r\n        }\r\n        wait = new WebDriverWait(driver, 10);","title":"How to handle pop up windows Java Selenium?","body":"<p>For example, <a href=\"https://tjmaxx.tjx.com/store/index.jsp\" rel=\"nofollow noreferrer\">TjMaxx</a></p>\n<p>When the user navigates for the first time pop up window shows up, sometimes 2, and it's hard to catch and move on. I tried try catch, but it does not work, because it opens some windows that I cannot see. How to catch all windows and dismiss them all for the guest user?</p>\n<pre><code> try {\n        WebElement closeWindowPromo = driver.findElement(By.xpath\n                (&quot;//div[@class =\\&quot;bx-row bx-row-submit bx-row-submit-no  bx-row-2uaILGf bx-element-1360650-2uaILGf\\&quot;]//button[@data-click = 'close']&quot;));\n        WebDriverWait w = new WebDriverWait(driver, 5);\n        w.until(ExpectedConditions.visibilityOfElementLocated((By) closeWindowPromo));\n        System.out.println(&quot;Element is visible&quot;);\n\n    } catch (NoSuchElementException n) {\n\n        System.out.println(&quot;Element is invisible&quot;);\n    }\n    wait = new WebDriverWait(driver, 10);\n</code></pre>\n"},{"tags":["java","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642092346,"creation_date":1642038897,"answer_id":70690539,"question_id":70689954,"body_markdown":"GraalJS (and GraalVM in general) has tight security/access controls by default.  GraalJS is not exposing `getSpeed()` (or any other field or method) on the `Train` instance to JavaScript.\r\n\r\nYou can open up access to all host fields/methods with a configuration setting:\r\n\r\n```\r\nBindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\r\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\r\n```\r\n\r\nor instead enable it on a more granular level by decorating `getSpeed()` in `Train`:\r\n\r\n    import org.graalvm.polyglot.HostAccess;\r\n\t// ...\r\n    @HostAccess.Export\r\n\tpublic double getSpeed() {\r\n\t\treturn this.speed;\r\n\t}\r\n\r\n\r\n","title":"Is there a way to use a java object as an argument for a function and return one of said objects&#39;s values in GraalJS?","body":"<p>GraalJS (and GraalVM in general) has tight security/access controls by default.  GraalJS is not exposing <code>getSpeed()</code> (or any other field or method) on the <code>Train</code> instance to JavaScript.</p>\n<p>You can open up access to all host fields/methods with a configuration setting:</p>\n<pre><code>Bindings bindings = engine.getBindings(ScriptContext.ENGINE_SCOPE);\nbindings.put(&quot;polyglot.js.allowHostAccess&quot;, true);\n</code></pre>\n<p>or instead enable it on a more granular level by decorating <code>getSpeed()</code> in <code>Train</code>:</p>\n<pre><code>import org.graalvm.polyglot.HostAccess;\n// ...\n@HostAccess.Export\npublic double getSpeed() {\n    return this.speed;\n}\n</code></pre>\n"}],"owner":{"account_id":23923837,"reputation":23,"user_id":17919219,"display_name":"Lenny Boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70690539,"answer_count":1,"score":2,"last_activity_date":1642092346,"creation_date":1642032433,"question_id":70689954,"body_markdown":"I want to use a Java object `new Train()` as an argument to pass into a JavaScript function, here is the Java code \r\n\r\n```\r\npublic void execute() {\r\n\r\n        File script = new File(&quot;/Test.js&quot;);\r\n\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\r\n\r\n        try {\r\n\t\t\tengine.eval(new FileReader(script));\r\n\t\t\tInvocable invocable = (Invocable)engine;\r\n\t\t\t\r\n\t\t\tObject result = invocable.invokeFunction(&quot;fun1&quot;, new Train());\r\n\t\t\tSystem.out.println(result);\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n}\r\n```\r\n```\r\npublic class Train {\r\n\r\n     private double speed = 0.0D;\r\n     \r\n     public Train() {\r\n          this.speed = 10.5D;\r\n     }\r\n\r\n     public double getSpeed() {\r\n          return this.speed;\r\n     }\r\n}\r\n```\r\n\r\nJavaScript code\r\n\r\n```\r\nvar fun1 = function test(train) {\r\n    print(train.getSpeed());\r\n    return train.getSpeed();\r\n}\r\n```\r\n\r\nAs of right now it puts this error in the console \r\n\r\n`\r\n[16:56:42] [INFO]: [STDERR]: javax.script.ScriptException: org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (getSpeed) on ScriptExecutor$Train@429b2a7b failed due to: Unknown identifier: getSpeed\r\n[16:56:42] [INFO]: [STDERR]: \tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.toScriptException(GraalJSScriptEngine.java:483)\r\n[16:56:42] [INFO]: [STDERR]: \tat com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.invokeFunction(GraalJSScriptEngine.java:558)\r\n`\r\n\r\nIs there any way to make this work?","title":"Is there a way to use a java object as an argument for a function and return one of said objects&#39;s values in GraalJS?","body":"<p>I want to use a Java object <code>new Train()</code> as an argument to pass into a JavaScript function, here is the Java code</p>\n<pre><code>public void execute() {\n\n        File script = new File(&quot;/Test.js&quot;);\n\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\n\n        try {\n            engine.eval(new FileReader(script));\n            Invocable invocable = (Invocable)engine;\n            \n            Object result = invocable.invokeFunction(&quot;fun1&quot;, new Train());\n            System.out.println(result);\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n\n}\n</code></pre>\n<pre><code>public class Train {\n\n     private double speed = 0.0D;\n     \n     public Train() {\n          this.speed = 10.5D;\n     }\n\n     public double getSpeed() {\n          return this.speed;\n     }\n}\n</code></pre>\n<p>JavaScript code</p>\n<pre><code>var fun1 = function test(train) {\n    print(train.getSpeed());\n    return train.getSpeed();\n}\n</code></pre>\n<p>As of right now it puts this error in the console</p>\n<p><code>[16:56:42] [INFO]: [STDERR]: javax.script.ScriptException: org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (getSpeed) on ScriptExecutor$Train@429b2a7b failed due to: Unknown identifier: getSpeed [16:56:42] [INFO]: [STDERR]:    at com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.toScriptException(GraalJSScriptEngine.java:483) [16:56:42] [INFO]: [STDERR]:    at com.oracle.truffle.js.scriptengine.GraalJSScriptEngine.invokeFunction(GraalJSScriptEngine.java:558)</code></p>\n<p>Is there any way to make this work?</p>\n"},{"tags":["java","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1642096041,"post_id":70700061,"comment_id":124986964,"body_markdown":"There was a javax.xml plugin included with Eclipse up to release 4.6","body":"There was a javax.xml plugin included with Eclipse up to release 4.6"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642100711,"post_id":70700061,"comment_id":124988693,"body_markdown":"Use _Search &gt; Java Search..._ with the option _Application libraries_ to find the plugins that provides a specific Java package.","body":"Use <i>Search &gt; Java Search...</i> with the option <i>Application libraries</i> to find the plugins that provides a specific Java package."},{"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"score":0,"creation_date":1642118819,"post_id":70700061,"comment_id":124993757,"body_markdown":"Thanks to your comments, I found java.xml was among the platform libs. I also found the `filters` option of Tycho plugin `target-platform-configuration` to exclude specific packages from the target platform, but an osgi bundle required it. I solved the issue by downgrading the source level from 11 to 8.","body":"Thanks to your comments, I found java.xml was among the platform libs. I also found the <code>filters</code> option of Tycho plugin <code>target-platform-configuration</code> to exclude specific packages from the target platform, but an osgi bundle required it. I solved the issue by downgrading the source level from 11 to 8."}],"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642091954,"creation_date":1642091954,"question_id":70700061,"body_markdown":"I am facing many instances of the following error message in the process of migrating an Eclipse plugin from Java 8 to Java 11. The build is using Tycho, but I&#39;m not sure that matters much.\r\n\r\n```\r\nThe package org.xml.sax.helpers is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\nThe package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\n…\r\n```\r\n\r\nThe message is explicit. The solution I consider is excluding the dependency that causes the duplication since this is now provided by the runtime environment.\r\n\r\nMy problem is that the target platform that I am using includes hundreds of JAR files and I can&#39;t sift through the uncompressed version of each file to find out which one provides the packages.\r\n\r\nIf I could identify the dependency, or have the Java compiler write a more detailed error message, that would help me solve the issue.\r\n\r\nTherefore, I used https://github.com/javalite/jar-explorer to search my Maven dependencies and the plugins folder of my target platform (Eclipse 2020-09), to no avail.\r\n\r\nIs there in PDE a possibility to identify the plugin that provides a specific Java package?","title":"How to identify in Eclipse PDE the plugin or dependency that provides a package?","body":"<p>I am facing many instances of the following error message in the process of migrating an Eclipse plugin from Java 8 to Java 11. The build is using Tycho, but I'm not sure that matters much.</p>\n<pre><code>The package org.xml.sax.helpers is accessible from more than one module: &lt;unnamed&gt;, java.xml\nThe package javax.xml.parsers is accessible from more than one module: &lt;unnamed&gt;, java.xml\n…\n</code></pre>\n<p>The message is explicit. The solution I consider is excluding the dependency that causes the duplication since this is now provided by the runtime environment.</p>\n<p>My problem is that the target platform that I am using includes hundreds of JAR files and I can't sift through the uncompressed version of each file to find out which one provides the packages.</p>\n<p>If I could identify the dependency, or have the Java compiler write a more detailed error message, that would help me solve the issue.</p>\n<p>Therefore, I used <a href=\"https://github.com/javalite/jar-explorer\" rel=\"nofollow noreferrer\">https://github.com/javalite/jar-explorer</a> to search my Maven dependencies and the plugins folder of my target platform (Eclipse 2020-09), to no avail.</p>\n<p>Is there in PDE a possibility to identify the plugin that provides a specific Java package?</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":2939498,"reputation":3137,"user_id":2517719,"accept_rate":67,"display_name":"Floegipoky"},"score":0,"creation_date":1642091334,"post_id":70699590,"comment_id":124985043,"body_markdown":"Is the `@data` annotation from Lombok? If yes, you should review the documentation because you have some redundant code: https://projectlombok.org/features/Data","body":"Is the <code>@data</code> annotation from Lombok? If yes, you should review the documentation because you have some redundant code: <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">projectlombok.org/features/Data</a>"},{"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"score":0,"creation_date":1642091785,"post_id":70699590,"comment_id":124985250,"body_markdown":"Yes, Removing @Data does not do any change.","body":"Yes, Removing @Data does not do any change."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1642102250,"post_id":70699590,"comment_id":124989264,"body_markdown":"Don&#39;t you need a no-arg constructor?","body":"Don&#39;t you need a no-arg constructor?"}],"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642091798,"creation_date":1642089910,"question_id":70699590,"body_markdown":"I have the following class [Java class in a Scala codebase]\r\n\r\n    \r\n    public class JobConfigTest {\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        private String name;\r\n    \r\n        public JobConfigTest(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\nAnd i am trying to do the below operation - \r\n\r\n   \r\n\r\n     val obj = new JobConfigTest(&quot;Hello&quot;)\r\n        obj.setName(&quot;Hello&quot;)\r\n        println(obj.getName)\r\n\r\n\r\nThe error i get is - \r\n\r\n    no arguments allowed for nullary constructor JobConfigTest: ()com.something.data.config.JobConfigTest\r\n        val obj = new JobConfigTest(&quot;Hello&quot;)\r\n\r\n\r\nThe same codebase works in Java codebase with Java compiler. What am i missing here ?\r\n","title":"Using Java POJO in Scala codebase","body":"<p>I have the following class [Java class in a Scala codebase]</p>\n<pre><code>public class JobConfigTest {\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private String name;\n\n    public JobConfigTest(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>And i am trying to do the below operation -</p>\n<pre><code> val obj = new JobConfigTest(&quot;Hello&quot;)\n    obj.setName(&quot;Hello&quot;)\n    println(obj.getName)\n</code></pre>\n<p>The error i get is -</p>\n<pre><code>no arguments allowed for nullary constructor JobConfigTest: ()com.something.data.config.JobConfigTest\n    val obj = new JobConfigTest(&quot;Hello&quot;)\n</code></pre>\n<p>The same codebase works in Java codebase with Java compiler. What am i missing here ?</p>\n"},{"tags":["java","scala","apache-spark","jdbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642091779,"creation_date":1642091779,"answer_id":70700020,"question_id":70692450,"body_markdown":"The JDBC API offers no such facility. If you want to track this, you&#39;ll need to keep track of which sets of values you added to the batch yourself, and then use the index in the array returned by `BatchUpdateException.getUpdateCounts()` to find out what the actually values were (index 0 is the first set of values added to the batch, index 1 is the second set of vales, and so on).","title":"Catch the rows of data causing batchUpdateException","body":"<p>The JDBC API offers no such facility. If you want to track this, you'll need to keep track of which sets of values you added to the batch yourself, and then use the index in the array returned by <code>BatchUpdateException.getUpdateCounts()</code> to find out what the actually values were (index 0 is the first set of values added to the batch, index 1 is the second set of vales, and so on).</p>\n"}],"owner":{"account_id":23293526,"reputation":21,"user_id":17375245,"display_name":"Sarvesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642091779,"creation_date":1642056354,"question_id":70692450,"body_markdown":"Code:\r\n\r\n    import java.sql.*;\r\n    import java.util.Arrays;\r\n    import java.util.Properties;\r\n     \r\n    public class BatchInsertErrorHandlingExample {\r\n        public static void main(String[] args) {\r\n            Properties myProp = new Properties();\r\n            myProp.put(&quot;user&quot;, &quot;ExampleUser&quot;);\r\n            myProp.put(&quot;password&quot;, &quot;password123&quot;);\r\n            Connection conn;\r\n            \r\n            // establish connection and make a table for the data.\r\n            try {\r\n                conn = DriverManager.getConnection(\r\n                                &quot;jdbc:vertica://VerticaHost:5433/ExampleDB&quot;,\r\n                                myProp);\r\n                \r\n                \r\n                // Disable auto commit\r\n                conn.setAutoCommit(false);\r\n           \r\n                // Create a statement\r\n                Statement stmt = conn.createStatement();\r\n                // Drop table and recreate.\r\n                stmt.execute(&quot;DROP TABLE IF EXISTS customers CASCADE&quot;);\r\n                stmt.execute(&quot;CREATE TABLE customers (CustID int, Last_Name&quot;\r\n                                + &quot; char(50), First_Name char(50),Email char(50), &quot;\r\n                                + &quot;Phone_Number char(12))&quot;);\r\n                \r\n                // Some dummy data to insert. The one row won&#39;t insert because\r\n                // the phone number is too long for the phone column.\r\n                String[] firstNames = new String[] { &quot;Anna&quot;, &quot;Bill&quot;, &quot;Cindy&quot;,\r\n                                &quot;Don&quot;, &quot;Eric&quot; };\r\n                String[] lastNames = new String[] { &quot;Allen&quot;, &quot;Brown&quot;, &quot;Chu&quot;,\r\n                                &quot;Dodd&quot;, &quot;Estavez&quot; };\r\n                String[] emails = new String[] { &quot;aang@example.com&quot;,\r\n                                &quot;b.brown@example.com&quot;, &quot;cindy@example.com&quot;,\r\n                                &quot;d.d@example.com&quot;, &quot;e.estavez@example.com&quot; };\r\n                String[] phoneNumbers = new String[] { &quot;123-456-789&quot;,\r\n                                &quot;555-444-3333&quot;, &quot;555-867-53093453453&quot;,\r\n                                &quot;555-555-1212&quot;, &quot;781-555-0000&quot; };\r\n                \r\n                // Create the prepared statement\r\n                PreparedStatement pstmt = conn.prepareStatement(\r\n                                &quot;INSERT INTO customers (CustID, Last_Name, &quot; + \r\n                                &quot;First_Name, Email, Phone_Number)&quot; +\r\n                                &quot; VALUES(?,?,?,?,?)&quot;);\r\n                \r\n                // Add rows to a batch in a loop. Each iteration adds a\r\n                // new row.\r\n                for (int i = 0; i &lt; firstNames.length; i++) {\r\n                    // Add each parameter to the row.\r\n                    pstmt.setInt(1, i + 1);\r\n                    pstmt.setString(2, lastNames[i]);\r\n                    pstmt.setString(3, firstNames[i]);\r\n                    pstmt.setString(4, emails[i]);\r\n                    pstmt.setString(5, phoneNumbers[i]);\r\n                    // Add row to the batch.\r\n                    pstmt.addBatch();\r\n                }\r\n                \r\n                // Integer array to hold the results of inserting\r\n                // the batch. Will contain an entry for each row,\r\n                // indicating success or failure.\r\n                int[] batchResults = null;\r\n                \r\n                try {\r\n                    // Batch is ready, execute it to insert the data\r\n                    batchResults = pstmt.executeBatch();\r\n                } catch (BatchUpdateException e) {\r\n                    // We expect an exception here, since one of the\r\n                    // inserted phone numbers is too wide for its column. All of the\r\n                    // rest of the rows will be inserted.\r\n                    System.out.println(&quot;Error message: &quot; + e.getMessage());\r\n                    \r\n                    // Batch results isn&#39;t set due to exception, but you\r\n                    // can get it from the exception object.\r\n                    //\r\n                    // In your own code, you shouldn&#39;t assume the a batch\r\n                    // exception occurred, since exceptions can be thrown\r\n                    // by the server for a variety of reasons.\r\n                    batchResults = e.getUpdateCounts();\r\n                }\r\n                // You should also be prepared to catch SQLExceptions in your own\r\n                // application code, to handle dropped connections and other general\r\n                // problems.\r\n                \r\n                // Commit the transaction\r\n                conn.commit();\r\n                \r\n                \r\n                // Print the array holding the results of the batch insertions.\r\n                System.out.println(&quot;Return value from inserting batch: &quot;\r\n                                + Arrays.toString(batchResults));\r\n                // Print the resulting table.\r\n                ResultSet rs = null;\r\n                rs = stmt.executeQuery(&quot;SELECT CustID, First_Name, &quot;\r\n                                + &quot;Last_Name FROM customers ORDER BY CustID&quot;);\r\n                while (rs.next()) {\r\n                    System.out.println(rs.getInt(1) + &quot; - &quot;\r\n                                    + rs.getString(2).trim() + &quot; &quot;\r\n                                    + rs.getString(3).trim());\r\n                }\r\n                \r\n                // Cleanup\r\n                conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n[ OUTPUT ]\r\n\r\nError message: \r\n\r\n&gt; [Vertica]VJDBC One or more rows were rejected by the server.Return\r\n&gt; value from inserting batch: [1, 1, -3, 1, 1] 1 - Anna Allen 2 - Bill\r\n&gt; Brown 4 - Don Dodd 5 - Eric Estavez\r\n\r\nI can catch the exception easily with this, but I want to catch the data which was rejected. Is there any way to retrieve that data?\r\n\r\nO want to print the data which gives out -3 value.","title":"Catch the rows of data causing batchUpdateException","body":"<p>Code:</p>\n<pre><code>import java.sql.*;\nimport java.util.Arrays;\nimport java.util.Properties;\n \npublic class BatchInsertErrorHandlingExample {\n    public static void main(String[] args) {\n        Properties myProp = new Properties();\n        myProp.put(&quot;user&quot;, &quot;ExampleUser&quot;);\n        myProp.put(&quot;password&quot;, &quot;password123&quot;);\n        Connection conn;\n        \n        // establish connection and make a table for the data.\n        try {\n            conn = DriverManager.getConnection(\n                            &quot;jdbc:vertica://VerticaHost:5433/ExampleDB&quot;,\n                            myProp);\n            \n            \n            // Disable auto commit\n            conn.setAutoCommit(false);\n       \n            // Create a statement\n            Statement stmt = conn.createStatement();\n            // Drop table and recreate.\n            stmt.execute(&quot;DROP TABLE IF EXISTS customers CASCADE&quot;);\n            stmt.execute(&quot;CREATE TABLE customers (CustID int, Last_Name&quot;\n                            + &quot; char(50), First_Name char(50),Email char(50), &quot;\n                            + &quot;Phone_Number char(12))&quot;);\n            \n            // Some dummy data to insert. The one row won't insert because\n            // the phone number is too long for the phone column.\n            String[] firstNames = new String[] { &quot;Anna&quot;, &quot;Bill&quot;, &quot;Cindy&quot;,\n                            &quot;Don&quot;, &quot;Eric&quot; };\n            String[] lastNames = new String[] { &quot;Allen&quot;, &quot;Brown&quot;, &quot;Chu&quot;,\n                            &quot;Dodd&quot;, &quot;Estavez&quot; };\n            String[] emails = new String[] { &quot;aang@example.com&quot;,\n                            &quot;b.brown@example.com&quot;, &quot;cindy@example.com&quot;,\n                            &quot;d.d@example.com&quot;, &quot;e.estavez@example.com&quot; };\n            String[] phoneNumbers = new String[] { &quot;123-456-789&quot;,\n                            &quot;555-444-3333&quot;, &quot;555-867-53093453453&quot;,\n                            &quot;555-555-1212&quot;, &quot;781-555-0000&quot; };\n            \n            // Create the prepared statement\n            PreparedStatement pstmt = conn.prepareStatement(\n                            &quot;INSERT INTO customers (CustID, Last_Name, &quot; + \n                            &quot;First_Name, Email, Phone_Number)&quot; +\n                            &quot; VALUES(?,?,?,?,?)&quot;);\n            \n            // Add rows to a batch in a loop. Each iteration adds a\n            // new row.\n            for (int i = 0; i &lt; firstNames.length; i++) {\n                // Add each parameter to the row.\n                pstmt.setInt(1, i + 1);\n                pstmt.setString(2, lastNames[i]);\n                pstmt.setString(3, firstNames[i]);\n                pstmt.setString(4, emails[i]);\n                pstmt.setString(5, phoneNumbers[i]);\n                // Add row to the batch.\n                pstmt.addBatch();\n            }\n            \n            // Integer array to hold the results of inserting\n            // the batch. Will contain an entry for each row,\n            // indicating success or failure.\n            int[] batchResults = null;\n            \n            try {\n                // Batch is ready, execute it to insert the data\n                batchResults = pstmt.executeBatch();\n            } catch (BatchUpdateException e) {\n                // We expect an exception here, since one of the\n                // inserted phone numbers is too wide for its column. All of the\n                // rest of the rows will be inserted.\n                System.out.println(&quot;Error message: &quot; + e.getMessage());\n                \n                // Batch results isn't set due to exception, but you\n                // can get it from the exception object.\n                //\n                // In your own code, you shouldn't assume the a batch\n                // exception occurred, since exceptions can be thrown\n                // by the server for a variety of reasons.\n                batchResults = e.getUpdateCounts();\n            }\n            // You should also be prepared to catch SQLExceptions in your own\n            // application code, to handle dropped connections and other general\n            // problems.\n            \n            // Commit the transaction\n            conn.commit();\n            \n            \n            // Print the array holding the results of the batch insertions.\n            System.out.println(&quot;Return value from inserting batch: &quot;\n                            + Arrays.toString(batchResults));\n            // Print the resulting table.\n            ResultSet rs = null;\n            rs = stmt.executeQuery(&quot;SELECT CustID, First_Name, &quot;\n                            + &quot;Last_Name FROM customers ORDER BY CustID&quot;);\n            while (rs.next()) {\n                System.out.println(rs.getInt(1) + &quot; - &quot;\n                                + rs.getString(2).trim() + &quot; &quot;\n                                + rs.getString(3).trim());\n            }\n            \n            // Cleanup\n            conn.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>[ OUTPUT ]</p>\n<p>Error message:</p>\n<blockquote>\n<p>[Vertica]VJDBC One or more rows were rejected by the server.Return\nvalue from inserting batch: [1, 1, -3, 1, 1] 1 - Anna Allen 2 - Bill\nBrown 4 - Don Dodd 5 - Eric Estavez</p>\n</blockquote>\n<p>I can catch the exception easily with this, but I want to catch the data which was rejected. Is there any way to retrieve that data?</p>\n<p>O want to print the data which gives out -3 value.</p>\n"},{"tags":["java","ssl","mtls"],"comments":[{"owner":{"account_id":14452647,"reputation":89,"user_id":10439676,"display_name":"dkotenko"},"score":0,"creation_date":1641983150,"post_id":70679075,"comment_id":124948853,"body_markdown":"How do you initialize SSLContext? It seems that there is a problem with your Java code. Otherwise, it could be incorrect set of keystore, truststore, certstore files or their formats. Check your code for PKCS12 support.","body":"How do you initialize SSLContext? It seems that there is a problem with your Java code. Otherwise, it could be incorrect set of keystore, truststore, certstore files or their formats. Check your code for PKCS12 support."},{"owner":{"account_id":17624716,"reputation":11,"user_id":12789947,"display_name":"Kallard"},"score":0,"creation_date":1641986423,"post_id":70679075,"comment_id":124950155,"body_markdown":"@dkotenko thanks for your reply. Could you please refer to a doc or example of how it should look like setting SSLContext to my HttpURLConnection. Found something like `connection.setSSLSocketFactory(sslContext.getSocketFactory())` but there is no such method in Java11","body":"@dkotenko thanks for your reply. Could you please refer to a doc or example of how it should look like setting SSLContext to my HttpURLConnection. Found something like <code>connection.setSSLSocketFactory(sslContext.getSocketFactory()&zwnj;&#8203;)</code> but there is no such method in Java11"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1642008826,"post_id":70679075,"comment_id":124960550,"body_markdown":"TCP reset doesn&#39;t convey useful information the way a TLS alert can; your best bet is to look at the server log(s), or have a server admin do so, to see what it didn&#39;t like. BTW [there certainly is per-connection `setSSLSocketFactory` in 11](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/net/ssl/HttpsURLConnection.html#setSSLSocketFactory(javax.net.ssl.SSLSocketFactory))","body":"TCP reset doesn&#39;t convey useful information the way a TLS alert can; your best bet is to look at the server log(s), or have a server admin do so, to see what it didn&#39;t like. BTW <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/net/ssl/HttpsURLConnection.html#setSSLSocketFactory(javax.net.ssl.SSLSocketFactory)\" rel=\"nofollow noreferrer\">there certainly is per-connection <code>setSSLSocketFactory</code> in 11</a>"},{"owner":{"account_id":17624716,"reputation":11,"user_id":12789947,"display_name":"Kallard"},"score":0,"creation_date":1642018438,"post_id":70679075,"comment_id":124964043,"body_markdown":"@dave_thompson_085 thanks for your advice, will request logs from the server side. My bad, I was looking for this method in HttpURLConnection while it was in HttpsURLConnection class. Updated my post with UPD","body":"@dave_thompson_085 thanks for your advice, will request logs from the server side. My bad, I was looking for this method in HttpURLConnection while it was in HttpsURLConnection class. Updated my post with UPD"}],"answers":[{"tags":[],"owner":{"account_id":17624716,"reputation":11,"user_id":12789947,"display_name":"Kallard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642091708,"creation_date":1642091708,"answer_id":70700003,"question_id":70679075,"body_markdown":"Solved. The problem was in the absence of CA certificates in the keystore.\r\n\r\nThe server administrator said that when contacting the load balancer at server.com there is a check that there is a certificate of the particular **root CA in the client&#39;s certificate chain**.\r\n\r\nAfter importing it into the keystore, the entire handshake process was complete and a correct response was received from the server\r\n\r\nHope this will help somebody one day:)","title":"SSL Handshake error after Client Finished handshake message","body":"<p>Solved. The problem was in the absence of CA certificates in the keystore.</p>\n<p>The server administrator said that when contacting the load balancer at server.com there is a check that there is a certificate of the particular <strong>root CA in the client's certificate chain</strong>.</p>\n<p>After importing it into the keystore, the entire handshake process was complete and a correct response was received from the server</p>\n<p>Hope this will help somebody one day:)</p>\n"}],"owner":{"account_id":17624716,"reputation":11,"user_id":12789947,"display_name":"Kallard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8029,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70700003,"answer_count":1,"score":0,"last_activity_date":1642091708,"creation_date":1641979469,"question_id":70679075,"body_markdown":"I&#39;m attempting to perform mutual TLS authentication to server.com (*changed*), and I&#39;m getting `Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking`, `javax.net.ssl.SSLException: readHandshakeRecord` after Produced client Finished handshake message.\r\n\r\nI am using AdoptOpenJDK 11.0.11.9-hotspot.\r\n\r\nJVM options:\r\n\r\n    -Djavax.net.ssl.trustStore=cacerts\r\n    -Djavax.net.ssl.trustStoreType=PKCS12\r\n    -Djavax.net.ssl.trustStorePassword=changeit\r\n    -Djavax.net.ssl.keyStore=keystore\r\n    -Djavax.net.ssl.keyStoreType=PKCS12\r\n    -Djavax.net.ssl.keyStorePassword=changeit\r\n    -Djavax.net.debug=SSL,handshake\r\n    -Djdk.tls.client.protocols=TLSv1.3\r\n    -Djdk.tls.server.protocols=TLSv1.3\r\n    -Dhttps.protocols=TLSv1.3\r\n\r\nCode I use for debugging this problem:\r\n\r\n    public static void main (String[] args) throws IOException {\r\n        URL url = new URL( &quot;https://server.com&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n        con.setConnectTimeout(5000);\r\n        con.setReadTimeout(5000);\r\n        con.connect();\r\n    }\r\n\r\nLogs with handshake steps successfully performed:\r\n\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ClientHello.java:653|Produced ClientHello handshake message (&quot;ClientHello&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ServerHello.java:872|Consuming ServerHello handshake message (&quot;ServerHello&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ServerHello.java:968|Negotiated protocol version: TLSv1.3\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.536 MSK|ChangeCipherSpec.java:246|Consuming ChangeCipherSpec message\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.552 MSK|EncryptedExtensions.java:171|Consuming EncryptedExtensions handshake message (&lt;...&gt;)\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.552 MSK|CertificateRequest.java:926|Consuming CertificateRequest handshake message (&quot;CertificateRequest&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.568 MSK|CertificateMessage.java:1171|Consuming server Certificate handshake message (&quot;Certificate&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.677 MSK|CertificateVerify.java:1161|Consuming CertificateVerify handshake message (&quot;CertificateVerify&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.677 MSK|Finished.java:898|Consuming server Finished handshake message (&quot;Finished&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.693 MSK|CertificateMessage.java:1139|Produced client Certificate message (&quot;Certificate&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.724 MSK|CertificateVerify.java:1126|Produced client CertificateVerify handshake message (&quot;CertificateVerify&quot;: { &lt;...&gt; })\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.739 MSK|Finished.java:673|Produced client Finished handshake message (&quot;Finished&quot;: { &lt;...&gt; })\r\n\r\nJust after that I get:\r\n\r\n    javax.net.ssl|ERROR|01|main|2022-01-12 11:38:54.523 MSK|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n    &quot;throwable&quot; : {\r\n      javax.net.ssl.SSLException: readHandshakeRecord\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1335)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\n      \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n      \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n      \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n      \tat SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)\r\n      Caused by: java.net.SocketException: Software caused connection abort: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\r\n      \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n      \tat java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:679)\r\n      \tat java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:658)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n      \tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\r\n      \tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\r\n      \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n      \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n      \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n      \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n      \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n      \t... 6 more}\r\n    \r\n    )\r\n    javax.net.ssl|WARNING|01|main|2022-01-12 11:38:54.523 MSK|TransportContext.java:383|Fatal: failed to send fatal alert HANDSHAKE_FAILURE (\r\n    &quot;throwable&quot; : {\r\n      java.net.SocketException: Software caused connection abort: socket write error\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n      \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n      \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n      \tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:380)\r\n      \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\r\n      \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\n      \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n      \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n      \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n      \tat SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)}\r\n    \r\n    )\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 11:38:54.523 MSK|SSLSocketImpl.java:1638|close the underlying socket\r\n    javax.net.ssl|DEBUG|01|main|2022-01-12 11:38:54.523 MSK|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1335)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n    \tat SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)\r\n    \tSuppressed: java.net.SocketException: Software caused connection abort: socket write error\r\n    \t\tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \t\tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \t\tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n    \t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:380)\r\n    \t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\r\n    \t\t... 5 more\r\n    Caused by: java.net.SocketException: Software caused connection abort: socket write error\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\r\n    \tat java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\r\n    \tat java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\r\n    \tat java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:679)\r\n    \tat java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:658)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n    \tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\r\n    \tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n    \t... 6 more\r\n    \r\n    Process finished with exit code 1\r\n \r\nThe same request sent with curl or openssl is processed successfully and I get an expected answer from the server.\r\n\r\nWhat can be the reason for such an error almost at the end of the handshake process?\r\n\r\nThanks\r\n\r\n____________\r\n**UPD:**\r\n\r\nAfter comment of @dkotenko I initialised SSLContext programmatically: \r\n\r\n    public static void main (String []args) throws IOException {\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        keyStore.load(new FileInputStream(&quot;keystore&quot;), &quot;changeit&quot;.toCharArray());\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, &quot;changeit&quot;.toCharArray());\r\n        \r\n        KeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        trustStore.load(new FileInputStream(&quot;cacerts&quot;), &quot;changeit&quot;.toCharArray());\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(trustStore);\r\n        \r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\r\n        \r\n        HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n        URL url = new URL(&quot;server.com&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        connection.connect();\r\n    }\r\nbut got exactly the same output.\r\n\r\n\r\n","title":"SSL Handshake error after Client Finished handshake message","body":"<p>I'm attempting to perform mutual TLS authentication to server.com (<em>changed</em>), and I'm getting <code>Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking</code>, <code>javax.net.ssl.SSLException: readHandshakeRecord</code> after Produced client Finished handshake message.</p>\n<p>I am using AdoptOpenJDK 11.0.11.9-hotspot.</p>\n<p>JVM options:</p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n-Djavax.net.ssl.trustStoreType=PKCS12\n-Djavax.net.ssl.trustStorePassword=changeit\n-Djavax.net.ssl.keyStore=keystore\n-Djavax.net.ssl.keyStoreType=PKCS12\n-Djavax.net.ssl.keyStorePassword=changeit\n-Djavax.net.debug=SSL,handshake\n-Djdk.tls.client.protocols=TLSv1.3\n-Djdk.tls.server.protocols=TLSv1.3\n-Dhttps.protocols=TLSv1.3\n</code></pre>\n<p>Code I use for debugging this problem:</p>\n<pre><code>public static void main (String[] args) throws IOException {\n    URL url = new URL( &quot;https://server.com&quot;);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;GET&quot;);\n    con.setConnectTimeout(5000);\n    con.setReadTimeout(5000);\n    con.connect();\n}\n</code></pre>\n<p>Logs with handshake steps successfully performed:</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ClientHello.java:653|Produced ClientHello handshake message (&quot;ClientHello&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ServerHello.java:872|Consuming ServerHello handshake message (&quot;ServerHello&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.505 MSK|ServerHello.java:968|Negotiated protocol version: TLSv1.3\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.536 MSK|ChangeCipherSpec.java:246|Consuming ChangeCipherSpec message\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.552 MSK|EncryptedExtensions.java:171|Consuming EncryptedExtensions handshake message (&lt;...&gt;)\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.552 MSK|CertificateRequest.java:926|Consuming CertificateRequest handshake message (&quot;CertificateRequest&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.568 MSK|CertificateMessage.java:1171|Consuming server Certificate handshake message (&quot;Certificate&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.677 MSK|CertificateVerify.java:1161|Consuming CertificateVerify handshake message (&quot;CertificateVerify&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.677 MSK|Finished.java:898|Consuming server Finished handshake message (&quot;Finished&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.693 MSK|CertificateMessage.java:1139|Produced client Certificate message (&quot;Certificate&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.724 MSK|CertificateVerify.java:1126|Produced client CertificateVerify handshake message (&quot;CertificateVerify&quot;: { &lt;...&gt; })\njavax.net.ssl|DEBUG|01|main|2022-01-12 10:07:55.739 MSK|Finished.java:673|Produced client Finished handshake message (&quot;Finished&quot;: { &lt;...&gt; })\n</code></pre>\n<p>Just after that I get:</p>\n<pre><code>javax.net.ssl|ERROR|01|main|2022-01-12 11:38:54.523 MSK|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: readHandshakeRecord\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1335)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n    at SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)\n  Caused by: java.net.SocketException: Software caused connection abort: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:679)\n    at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:658)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n    ... 6 more}\n\n)\njavax.net.ssl|WARNING|01|main|2022-01-12 11:38:54.523 MSK|TransportContext.java:383|Fatal: failed to send fatal alert HANDSHAKE_FAILURE (\n&quot;throwable&quot; : {\n  java.net.SocketException: Software caused connection abort: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:380)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n    at SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)}\n\n)\njavax.net.ssl|DEBUG|01|main|2022-01-12 11:38:54.523 MSK|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2022-01-12 11:38:54.523 MSK|SSLSocketImpl.java:1657|close the SSL connection (initiative)\nException in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1335)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n    at SbbidIntegraionApplication.main(SbbidIntegraionApplication.java:17)\n    Suppressed: java.net.SocketException: Software caused connection abort: socket write error\n        at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n        at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n        at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:380)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\n        ... 5 more\nCaused by: java.net.SocketException: Software caused connection abort: socket write error\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.base/java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:110)\n    at java.base/java.net.SocketOutputStream.write(SocketOutputStream.java:150)\n    at java.base/sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\n    at java.base/sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at java.base/sun.security.ssl.Finished$T13FinishedProducer.onProduceFinished(Finished.java:679)\n    at java.base/sun.security.ssl.Finished$T13FinishedProducer.produce(Finished.java:658)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011)\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n    ... 6 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>The same request sent with curl or openssl is processed successfully and I get an expected answer from the server.</p>\n<p>What can be the reason for such an error almost at the end of the handshake process?</p>\n<p>Thanks</p>\n<hr />\n<p><strong>UPD:</strong></p>\n<p>After comment of @dkotenko I initialised SSLContext programmatically:</p>\n<pre><code>public static void main (String []args) throws IOException {\n\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    keyStore.load(new FileInputStream(&quot;keystore&quot;), &quot;changeit&quot;.toCharArray());\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    keyManagerFactory.init(keyStore, &quot;changeit&quot;.toCharArray());\n    \n    KeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    trustStore.load(new FileInputStream(&quot;cacerts&quot;), &quot;changeit&quot;.toCharArray());\n    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init(trustStore);\n    \n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\n    \n    HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n    URL url = new URL(&quot;server.com&quot;);\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    connection.connect();\n}\n</code></pre>\n<p>but got exactly the same output.</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642091523,"creation_date":1642090046,"answer_id":70699618,"question_id":70699108,"body_markdown":"This is a classic race condition: your parallel stream executes the `forEach` lambda three times in parallel. In this case, all three threads managed to execute the `doAnswer()` call, before any of them got to the `mymock.toString()` line. It also just so happens that the execution where `val=2` happened to run last. Happily, Mockito is reasonably thread-safe, so you don&#39;t just get exceptions thrown.\r\n\r\nOne way your scenario might occur is if the threads happened to run like this:\r\n1. Main thread: calls `l.parallelStream().forEach()`, which spawns 3 threads with `val` equal to 1, 2 and 3\r\n1. val=1 thread: executes `finalI=val`, giving it a value of 1 in this thread\r\n1. val=2 thread: executes `finalI=val`, giving it a value of 2 in this thread\r\n1. val=3 thread: executes `finalI=val`, giving it a value of 3 in this thread\r\n1. val=3 thread: calls `doAnswer(...)` which makes future calls to `mymock.toString()` print out `3`\r\n1. val=1 thread: calls `doAnswer(...)` which makes future calls to `mymock.toString()` print out `1`\r\n1. val=2 thread: calls `doAnswer(...)` which makes future calls to `mymock.toString()` print out `2`\r\n1. val=1 thread: calls `mymock.toString()`, which prints out `2`\r\n1. val=2 thread: calls `mymock.toString()`, which prints out `2`\r\n1. val=3 thread: calls `mymock.toString()`, which prints out `2`\r\n\r\nNote that this isn&#39;t necessarily happening in order, or even in *this* order:\r\n* some parts of this may literally be happening at the same time, in different cores of your processor.\r\n* while any steps within a single thread would always run in order, they might run before, after, or interleaved with any steps from any other thread.\r\n\r\nBecause the threads are running in parallel, and you have not put anything in place to manage this, there is no guarantee whatsoever about the order in which these calls occur: your output could just as easily have been `1 1 1`, `1 2 3`, `3 2 1` or `3 2 2` or `1 1 3` etc.","title":"Mockito when() in parallel stream unexpected result","body":"<p>This is a classic race condition: your parallel stream executes the <code>forEach</code> lambda three times in parallel. In this case, all three threads managed to execute the <code>doAnswer()</code> call, before any of them got to the <code>mymock.toString()</code> line. It also just so happens that the execution where <code>val=2</code> happened to run last. Happily, Mockito is reasonably thread-safe, so you don't just get exceptions thrown.</p>\n<p>One way your scenario might occur is if the threads happened to run like this:</p>\n<ol>\n<li>Main thread: calls <code>l.parallelStream().forEach()</code>, which spawns 3 threads with <code>val</code> equal to 1, 2 and 3</li>\n<li>val=1 thread: executes <code>finalI=val</code>, giving it a value of 1 in this thread</li>\n<li>val=2 thread: executes <code>finalI=val</code>, giving it a value of 2 in this thread</li>\n<li>val=3 thread: executes <code>finalI=val</code>, giving it a value of 3 in this thread</li>\n<li>val=3 thread: calls <code>doAnswer(...)</code> which makes future calls to <code>mymock.toString()</code> print out <code>3</code></li>\n<li>val=1 thread: calls <code>doAnswer(...)</code> which makes future calls to <code>mymock.toString()</code> print out <code>1</code></li>\n<li>val=2 thread: calls <code>doAnswer(...)</code> which makes future calls to <code>mymock.toString()</code> print out <code>2</code></li>\n<li>val=1 thread: calls <code>mymock.toString()</code>, which prints out <code>2</code></li>\n<li>val=2 thread: calls <code>mymock.toString()</code>, which prints out <code>2</code></li>\n<li>val=3 thread: calls <code>mymock.toString()</code>, which prints out <code>2</code></li>\n</ol>\n<p>Note that this isn't necessarily happening in order, or even in <em>this</em> order:</p>\n<ul>\n<li>some parts of this may literally be happening at the same time, in different cores of your processor.</li>\n<li>while any steps within a single thread would always run in order, they might run before, after, or interleaved with any steps from any other thread.</li>\n</ul>\n<p>Because the threads are running in parallel, and you have not put anything in place to manage this, there is no guarantee whatsoever about the order in which these calls occur: your output could just as easily have been <code>1 1 1</code>, <code>1 2 3</code>, <code>3 2 1</code> or <code>3 2 2</code> or <code>1 1 3</code> etc.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70699618,"answer_count":1,"score":0,"last_activity_date":1642091523,"creation_date":1642087846,"question_id":70699108,"body_markdown":"I was investigating Mockito&#39;s behavior in one of our tests and I didn&#39;t understand its behavior. The following code snippets shows the same behavior : \r\n\r\n\r\n    @Test\r\n    public void test(){\r\n        var mymock = Mockito.mock(Object.class);\r\n        var l = List.of(1,2,3);\r\n        l.parallelStream().forEach(val -&gt; {\r\n            int finalI = val;\r\n            doAnswer(invocationOnMock -&gt; {\r\n                log.info(&quot;{}&quot;,finalI);\r\n                return null;\r\n            }).when(mymock).toString();\r\n            mymock.toString();\r\n        });\r\n    }\r\n\r\nThe output I was expecting is prints of 1,2,3 in some order (not nessaseraly sorted) : \r\n\r\n\r\nThe output I received : \r\n\r\n    2\r\n    2\r\n    2\r\n\r\n\r\nWhy I got this output ?\r\n","title":"Mockito when() in parallel stream unexpected result","body":"<p>I was investigating Mockito's behavior in one of our tests and I didn't understand its behavior. The following code snippets shows the same behavior :</p>\n<pre><code>@Test\npublic void test(){\n    var mymock = Mockito.mock(Object.class);\n    var l = List.of(1,2,3);\n    l.parallelStream().forEach(val -&gt; {\n        int finalI = val;\n        doAnswer(invocationOnMock -&gt; {\n            log.info(&quot;{}&quot;,finalI);\n            return null;\n        }).when(mymock).toString();\n        mymock.toString();\n    });\n}\n</code></pre>\n<p>The output I was expecting is prints of 1,2,3 in some order (not nessaseraly sorted) :</p>\n<p>The output I received :</p>\n<pre><code>2\n2\n2\n</code></pre>\n<p>Why I got this output ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1642091849,"post_id":70699927,"comment_id":124985274,"body_markdown":"Your program already let&#39;s you input all those 3 numbers in one line:  https://ideone.com/C76Xfo (See stdin for the input). So you already got what you want - unless you specifically want to disable the option to enter each number separately.","body":"Your program already let&#39;s you input all those 3 numbers in one line:  <a href=\"https://ideone.com/C76Xfo\" rel=\"nofollow noreferrer\">ideone.com/C76Xfo</a> (See stdin for the input). So you already got what you want - unless you specifically want to disable the option to enter each number separately."},{"owner":{"display_name":"user12962135"},"score":0,"creation_date":1642092514,"post_id":70699927,"comment_id":124985558,"body_markdown":"thank you. i separated them with enter *facepalm*","body":"thank you. i separated them with enter <i>facepalm</i>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1642092820,"post_id":70699927,"comment_id":124985677,"body_markdown":"scanner.nextDouble() skips white space and that includes \\t, \\n.","body":"scanner.nextDouble() skips white space and that includes \\t, \\n."}],"owner":{"display_name":"user12962135"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642091389,"creation_date":1642091389,"question_id":70699927,"body_markdown":"I&#39;m writing a simple program that solves a quadratic equation. I have to input a b c numbers in one line, but I can&#39;t do this. \r\n\r\nMy solution:\r\n\r\n``` \r\n1\r\n2\r\n-4 \r\n```\r\n\r\nBut I need that input:\r\n``` 1 2 -4 ```\r\n\r\n\r\nThis is my solution with 3 lines input instead one line input. Sorry for my bad english.\r\n\r\n```\r\npackage com.sircascado;\r\n\r\nimport java.util.Scanner;\r\nimport java.lang.Math;\r\n\r\nclass Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        double a = sc.nextDouble();\r\n        double b = sc.nextDouble();\r\n        double c = sc.nextDouble();\r\n\r\n        double d = (b * b) - (4 * a * c);\r\n\r\n        double x1 = (-b - Math.sqrt(d)) / (2 * a);\r\n        double x2 = (-b + Math.sqrt(d)) / (2 * a);\r\n\r\n        System.out.println(Math.ceil(x1 + x2) + &quot; &quot;  + Math.ceil(x1 * x2));\r\n\r\n    }\r\n}\r\n```","title":"Scanner input three integers in one line","body":"<p>I'm writing a simple program that solves a quadratic equation. I have to input a b c numbers in one line, but I can't do this.</p>\n<p>My solution:</p>\n<pre><code>1\n2\n-4 \n</code></pre>\n<p>But I need that input:\n<code>1 2 -4</code></p>\n<p>This is my solution with 3 lines input instead one line input. Sorry for my bad english.</p>\n<pre><code>package com.sircascado;\n\nimport java.util.Scanner;\nimport java.lang.Math;\n\nclass Main {\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n\n        double a = sc.nextDouble();\n        double b = sc.nextDouble();\n        double c = sc.nextDouble();\n\n        double d = (b * b) - (4 * a * c);\n\n        double x1 = (-b - Math.sqrt(d)) / (2 * a);\n        double x2 = (-b + Math.sqrt(d)) / (2 * a);\n\n        System.out.println(Math.ceil(x1 + x2) + &quot; &quot;  + Math.ceil(x1 * x2));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","quarkus","quarkus-native"],"answers":[{"tags":[],"owner":{"account_id":2036994,"reputation":381,"user_id":1819111,"display_name":"user1819111"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642091248,"creation_date":1642091248,"answer_id":70699888,"question_id":70665854,"body_markdown":"So I figured it out.\r\nQuarkus doesn&#39;t work well with the initial implementation of the KMS client:\r\nimplementation &#39;com.amazonaws:aws-java-sdk-kms:1.11.483&#39;\r\n\r\nYou should use \r\nimplementation &#39;io.quarkus:quarkus-amazon-kms&#39;","title":"quarkus fails to compile to native","body":"<p>So I figured it out.\nQuarkus doesn't work well with the initial implementation of the KMS client:\nimplementation 'com.amazonaws:aws-java-sdk-kms:1.11.483'</p>\n<p>You should use\nimplementation 'io.quarkus:quarkus-amazon-kms'</p>\n"}],"owner":{"account_id":2036994,"reputation":381,"user_id":1819111,"display_name":"user1819111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642091248,"creation_date":1641899776,"question_id":70665854,"body_markdown":"I am trying to compile to native a small lambda function written with graalvm java and quarkus, but I get this exception. I already tried with adding the flags--allow-incomplete-classpath and --initialize-at-run-time for 2 classes, but this didn&#39;t fix the compilation to native. Does anybody have an idea what can be tried to get around this error?\r\n\r\nThe command executed\r\n\r\n```\r\n    ./gradlew --stacktrace -b ./build.gradle build -Dquarkus.package.type=native -Dquarkus.native.native-image-xmx=3g -Dquarkus.native.additional-build-args=&#39;--allow-incomplete-classpath,--trace-object-instantiation=java.util.Random,--initialize-at-run-time=&quot;com.amazonaws.ClientConfiguration,org.apache.http.impl.auth.NTLMEngineImpl&quot;&#39;\r\n```\r\n\r\nbuild.gradle dependencies:\r\n\r\n```\r\n    dependencies {\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.20&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    \r\n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\r\n        implementation &#39;io.quarkus:quarkus-amazon-lambda&#39;\r\n        implementation &#39;io.quarkus:quarkus-amazon-sns&#39;\r\n        implementation &#39;io.quarkus:quarkus-amazon-kms&#39;\r\n        implementation &#39;javax.activation:activation:1.1.1&#39;\r\n        implementation &#39;com.amazonaws:aws-java-sdk-kms:1.11.483&#39;\r\n    \r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n        testImplementation &#39;io.quarkus:quarkus-junit5-mockito&#39;\r\n        testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n    }\r\n```\r\n\r\nThe error:\r\n\r\n```\r\n* Exception is:\r\n#10 65.67 org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:quarkusBuild&#39;.\r\n#10 65.67       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\r\n#10 65.67       at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n#10 65.67       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\r\n...\r\n...\r\n#10 65.75       at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n#10 65.75       at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n#10 65.75       at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n#10 65.75 Caused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n#10 65.75       [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: java.lang.RuntimeException: Failed to build native image\r\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\r\n#10 65.75       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n#10 65.75       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n#10 65.75       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n#10 65.75       at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n#10 65.75       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n#10 65.75       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n#10 65.75       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n#10 65.75       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n#10 65.75       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n#10 65.75       at java.base/java.lang.Thread.run(Thread.java:829)\r\n#10 65.75       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n#10 65.75 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\r\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\r\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\r\n#10 65.75       ... 11 more\r\n#10 65.75\r\n#10 65.75       at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\r\n#10 65.76       at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\r\n#10 65.76       at io.quarkus.gradle.tasks.QuarkusBuild.buildQuarkus(QuarkusBuild.java:136)\r\n#10 65.76       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n#10 65.76       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n#10 65.76       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n#10 65.76       at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n#10 65.76       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:555)\r\n#10 65.76       at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n...\r\n...\r\n#10 65.86       at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n#10 65.86       at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n#10 65.86       at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n#10 65.87       at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n#10 65.87 Caused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n#10 65.87       [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: java.lang.RuntimeException: Failed to build native image\r\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\r\n#10 65.87       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n#10 65.87       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n#10 65.87       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n#10 65.87       at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n#10 65.87       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n#10 65.87       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n#10 65.87       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n#10 65.87       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n#10 65.87       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n#10 65.87       at java.base/java.lang.Thread.run(Thread.java:829)\r\n#10 65.87       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n#10 65.87 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\r\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\r\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\r\n#10 65.87       ... 11 more\r\n#10 65.87\r\n#10 65.87       at io.quarkus.builder.Execution.run(Execution.java:116)\r\n#10 65.87       at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n#10 65.88       at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:161)\r\n#10 65.88       at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\r\n#10 65.88       ... 200 more\r\n#10 65.88 Caused by: java.lang.RuntimeException: Failed to build native image\r\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\r\n#10 65.88       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n#10 65.88       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n#10 65.88       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n#10 65.88       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n#10 65.88       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n#10 65.88       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n#10 65.88       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n#10 65.88       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n#10 65.88       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n#10 65.88 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\r\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\r\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\r\n#10 65.88       ... 9 more\r\n#10 65.88\r\n#10 65.88\r\n#10 65.88 * Get more help at https://help.gradle.org\r\n#10 65.88\r\n#10 65.88 Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n#10 65.88 Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n#10 65.88 See https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n#10 65.88\r\n#10 65.88 BUILD FAILED in 1m 4s\r\n#10 65.88 10 actionable tasks: 10 executed\r\n```","title":"quarkus fails to compile to native","body":"<p>I am trying to compile to native a small lambda function written with graalvm java and quarkus, but I get this exception. I already tried with adding the flags--allow-incomplete-classpath and --initialize-at-run-time for 2 classes, but this didn't fix the compilation to native. Does anybody have an idea what can be tried to get around this error?</p>\n<p>The command executed</p>\n<pre><code>    ./gradlew --stacktrace -b ./build.gradle build -Dquarkus.package.type=native -Dquarkus.native.native-image-xmx=3g -Dquarkus.native.additional-build-args='--allow-incomplete-classpath,--trace-object-instantiation=java.util.Random,--initialize-at-run-time=&quot;com.amazonaws.ClientConfiguration,org.apache.http.impl.auth.NTLMEngineImpl&quot;'\n</code></pre>\n<p>build.gradle dependencies:</p>\n<pre><code>    dependencies {\n        compileOnly 'org.projectlombok:lombok:1.18.20'\n        annotationProcessor 'org.projectlombok:lombok:1.18.20'\n    \n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n        implementation 'io.quarkus:quarkus-amazon-lambda'\n        implementation 'io.quarkus:quarkus-amazon-sns'\n        implementation 'io.quarkus:quarkus-amazon-kms'\n        implementation 'javax.activation:activation:1.1.1'\n        implementation 'com.amazonaws:aws-java-sdk-kms:1.11.483'\n    \n        testImplementation 'io.rest-assured:rest-assured'\n        testImplementation 'io.quarkus:quarkus-junit5-mockito'\n        testImplementation 'io.quarkus:quarkus-junit5'\n    }\n</code></pre>\n<p>The error:</p>\n<pre><code>* Exception is:\n#10 65.67 org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':quarkusBuild'.\n#10 65.67       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\n#10 65.67       at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n#10 65.67       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\n...\n...\n#10 65.75       at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n#10 65.75       at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n#10 65.75       at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n#10 65.75 Caused by: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n#10 65.75       [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: java.lang.RuntimeException: Failed to build native image\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\n#10 65.75       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n#10 65.75       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n#10 65.75       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n#10 65.75       at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n#10 65.75       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\n#10 65.75       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n#10 65.75       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n#10 65.75       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n#10 65.75       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n#10 65.75       at java.base/java.lang.Thread.run(Thread.java:829)\n#10 65.75       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n#10 65.75 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\n#10 65.75       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\n#10 65.75       ... 11 more\n#10 65.75\n#10 65.75       at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:330)\n#10 65.76       at io.quarkus.runner.bootstrap.AugmentActionImpl.createProductionApplication(AugmentActionImpl.java:175)\n#10 65.76       at io.quarkus.gradle.tasks.QuarkusBuild.buildQuarkus(QuarkusBuild.java:136)\n#10 65.76       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n#10 65.76       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n#10 65.76       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n#10 65.76       at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n#10 65.76       at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n#10 65.76       at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:555)\n#10 65.76       at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n...\n...\n#10 65.86       at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n#10 65.86       at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n#10 65.86       at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n#10 65.87       at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n#10 65.87 Caused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n#10 65.87       [error]: Build step io.quarkus.deployment.pkg.steps.NativeImageBuildStep#build threw an exception: java.lang.RuntimeException: Failed to build native image\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\n#10 65.87       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n#10 65.87       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n#10 65.87       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n#10 65.87       at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n#10 65.87       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\n#10 65.87       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n#10 65.87       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n#10 65.87       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n#10 65.87       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n#10 65.87       at java.base/java.lang.Thread.run(Thread.java:829)\n#10 65.87       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n#10 65.87 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\n#10 65.87       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\n#10 65.87       ... 11 more\n#10 65.87\n#10 65.87       at io.quarkus.builder.Execution.run(Execution.java:116)\n#10 65.87       at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n#10 65.88       at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:161)\n#10 65.88       at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:328)\n#10 65.88       ... 200 more\n#10 65.88 Caused by: java.lang.RuntimeException: Failed to build native image\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:236)\n#10 65.88       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n#10 65.88       at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n#10 65.88       at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n#10 65.88       at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\n#10 65.88       at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n#10 65.88       at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n#10 65.88       at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n#10 65.88       at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n#10 65.88       at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n#10 65.88 Caused by: java.lang.RuntimeException: Image generation failed. Exit code: 1\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.imageGenerationFailed(NativeImageBuildStep.java:372)\n#10 65.88       at io.quarkus.deployment.pkg.steps.NativeImageBuildStep.build(NativeImageBuildStep.java:215)\n#10 65.88       ... 9 more\n#10 65.88\n#10 65.88\n#10 65.88 * Get more help at https://help.gradle.org\n#10 65.88\n#10 65.88 Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\n#10 65.88 Use '--warning-mode all' to show the individual deprecation warnings.\n#10 65.88 See https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\n#10 65.88\n#10 65.88 BUILD FAILED in 1m 4s\n#10 65.88 10 actionable tasks: 10 executed\n</code></pre>\n"},{"tags":["java","security","xss","websecurity"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642126338,"post_id":70695751,"comment_id":124995081,"body_markdown":"What&#39;s the threat model for this? In what scenario do you think the URL-encoded string will cause an XSS issue? Are you URL decoding it before displaying it? If so, you should be passing the URL-decoded string to the filter.","body":"What&#39;s the threat model for this? In what scenario do you think the URL-encoded string will cause an XSS issue? Are you URL decoding it before displaying it? If so, you should be passing the URL-decoded string to the filter."},{"owner":{"account_id":19273448,"reputation":11,"user_id":14086952,"display_name":"Ejaz"},"score":0,"creation_date":1642481377,"post_id":70695751,"comment_id":125075361,"body_markdown":"@TimMoore We are not doing any explicit decoding but the jsoup jar and jsoup code mentioned above is doing the decoding .. Not sure why jsoup is doing the decoding .. Any methods to turn off the decoding in jsoup jar","body":"@TimMoore We are not doing any explicit decoding but the jsoup jar and jsoup code mentioned above is doing the decoding .. Not sure why jsoup is doing the decoding .. Any methods to turn off the decoding in jsoup jar"}],"owner":{"account_id":19273448,"reputation":11,"user_id":14086952,"display_name":"Ejaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642091176,"creation_date":1642072980,"question_id":70695751,"body_markdown":"In our application we are currently using a `Jsoup` jar to filter all the XSS injected scripts.\r\n\r\nBut when the input scripts are encoded and passed the `Jsoup` jar is not filtering it out.\r\n\r\nCurrent Code:\r\n\r\n```java    \r\npublic static String stripXSS(String value) {\r\n    if (value == null) {\r\n        return null;\r\n    }\r\n        \t\t\r\n    String jsoupValue = Jsoup.clean(value, Whitelist.none());\r\n    return Parser.unescapeEntities(jsoupValue, true);\r\n}\r\n```   \r\n\r\nScenario 1 using the following payload:\r\n``` \r\n&quot;&gt;&lt;script&gt;alert(document.domain)&lt;/script&gt;\r\n```\r\nIn this scenario, the `Jsoup` filter is working fine and filtering the script.\r\n\r\nScenario 2, using the following line:\r\n```java\r\nurlencode(htmlencode(payload))\r\n```\r\n\r\nOutput with the HTML encoded: \r\n```\r\n&amp;#x22;&amp;#x3e;&amp;#x3c;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3e;&amp;#x61;&amp;#x6c;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x33;&amp;#x29;&amp;#x3c;&amp;#x2f;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3e;\r\n```\r\n\r\nFinal url encoded: \r\n```\r\n%26%23%78%32%32%3b%26%23%78%33%65%3b%26%23%78%33%63%3b%26%23%78%37%33%3b%26%23%78%36%33%3b%26%23%78%37%32%3b%26%23%78%36%39%3b%26%23%78%37%30%3b%26%23%78%37%34%3b%26%23%78%33%65%3b%26%23%78%36%31%3b%26%23%78%36%63%3b%26%23%78%36%35%3b%26%23%78%37%32%3b%26%23%78%37%34%3b%26%23%78%32%38%3b%26%23%78%33%33%3b%26%23%78%32%39%3b%26%23%78%33%63%3b%26%23%78%32%66%3b%26%23%78%37%33%3b%26%23%78%36%33%3b%26%23%78%37%32%3b%26%23%78%36%39%3b%26%23%78%37%30%3b%26%23%78%37%34%3b%26%23%78%33%65%3b\r\n```\r\n    \r\nWhen the final encoded Url is passed, the `Jsoup` filter is not filtering the input payload correctly.\r\n\r\nAny suggestions on how to use the `Jsoup` jar for this situation?, or any other logic to prevent this type of XSS injection?\r\n\r\n","title":"How to avoid encoded XSS injection in web application using java?","body":"<p>In our application we are currently using a <code>Jsoup</code> jar to filter all the XSS injected scripts.</p>\n<p>But when the input scripts are encoded and passed the <code>Jsoup</code> jar is not filtering it out.</p>\n<p>Current Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stripXSS(String value) {\n    if (value == null) {\n        return null;\n    }\n                \n    String jsoupValue = Jsoup.clean(value, Whitelist.none());\n    return Parser.unescapeEntities(jsoupValue, true);\n}\n</code></pre>\n<p>Scenario 1 using the following payload:</p>\n<pre><code>&quot;&gt;&lt;script&gt;alert(document.domain)&lt;/script&gt;\n</code></pre>\n<p>In this scenario, the <code>Jsoup</code> filter is working fine and filtering the script.</p>\n<p>Scenario 2, using the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>urlencode(htmlencode(payload))\n</code></pre>\n<p>Output with the HTML encoded:</p>\n<pre><code>&amp;#x22;&amp;#x3e;&amp;#x3c;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3e;&amp;#x61;&amp;#x6c;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x33;&amp;#x29;&amp;#x3c;&amp;#x2f;&amp;#x73;&amp;#x63;&amp;#x72;&amp;#x69;&amp;#x70;&amp;#x74;&amp;#x3e;\n</code></pre>\n<p>Final url encoded:</p>\n<pre><code>%26%23%78%32%32%3b%26%23%78%33%65%3b%26%23%78%33%63%3b%26%23%78%37%33%3b%26%23%78%36%33%3b%26%23%78%37%32%3b%26%23%78%36%39%3b%26%23%78%37%30%3b%26%23%78%37%34%3b%26%23%78%33%65%3b%26%23%78%36%31%3b%26%23%78%36%63%3b%26%23%78%36%35%3b%26%23%78%37%32%3b%26%23%78%37%34%3b%26%23%78%32%38%3b%26%23%78%33%33%3b%26%23%78%32%39%3b%26%23%78%33%63%3b%26%23%78%32%66%3b%26%23%78%37%33%3b%26%23%78%36%33%3b%26%23%78%37%32%3b%26%23%78%36%39%3b%26%23%78%37%30%3b%26%23%78%37%34%3b%26%23%78%33%65%3b\n</code></pre>\n<p>When the final encoded Url is passed, the <code>Jsoup</code> filter is not filtering the input payload correctly.</p>\n<p>Any suggestions on how to use the <code>Jsoup</code> jar for this situation?, or any other logic to prevent this type of XSS injection?</p>\n"},{"tags":["java","deployment","log4j","weblogic","ear"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642087158,"post_id":70698790,"comment_id":124983255,"body_markdown":"Don&#39;t use Weblogic. I used to use it while I worked at Lockheed, and I absolutely hated it and so all other developers in my team. Of course, that was about 10-15 years ago, but managing Weblogic instances was always an absolute nightmare. Convince your management to switch to Tomcat or something else.","body":"Don&#39;t use Weblogic. I used to use it while I worked at Lockheed, and I absolutely hated it and so all other developers in my team. Of course, that was about 10-15 years ago, but managing Weblogic instances was always an absolute nightmare. Convince your management to switch to Tomcat or something else."},{"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"score":0,"creation_date":1642090685,"post_id":70698790,"comment_id":124984756,"body_markdown":"Understand. Thanks for advice. Therefore we are going to migrate the project into more smooth env. However, we are still using the apps on old env and need to resolve it.","body":"Understand. Thanks for advice. Therefore we are going to migrate the project into more smooth env. However, we are still using the apps on old env and need to resolve it."},{"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"score":0,"creation_date":1642090769,"post_id":70698790,"comment_id":124984793,"body_markdown":"Otherwise I have tried to change attributes by updating web.xml schema from 2.3 to 3.1 and using metadata-complete=true. And it worked well. However app is not in Active state that means there is some issue inside weblogic. I will edit my post about info.","body":"Otherwise I have tried to change attributes by updating web.xml schema from 2.3 to 3.1 and using metadata-complete=true. And it worked well. However app is not in Active state that means there is some issue inside weblogic. I will edit my post about info."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642099196,"post_id":70698790,"comment_id":124988119,"body_markdown":"I totally get it. We were stuck with Weblogic for similar reasons, but also because in a company like Lockheed with literally thousands of engineers, change comes very slow mostly because of familiarity. One thing I know is that Weblogic is super  heavy duty and even in a project like the F-35 where I worked for most of the 8.5 years I was there, you don&#39;t even use the server to its fullest potential. The side effect of that is situations like this... the problem might be simple, but no one knows how to solve it because the platform is so complicated.","body":"I totally get it. We were stuck with Weblogic for similar reasons, but also because in a company like Lockheed with literally thousands of engineers, change comes very slow mostly because of familiarity. One thing I know is that Weblogic is super  heavy duty and even in a project like the F-35 where I worked for most of the 8.5 years I was there, you don&#39;t even use the server to its fullest potential. The side effect of that is situations like this... the problem might be simple, but no one knows how to solve it because the platform is so complicated."}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642091070,"creation_date":1642086473,"question_id":70698790,"body_markdown":"I would like to deploy EAR file to weblogic.\r\nThe original EAR was with log4j version 1, however now we are trying to upgrade it on higher version 2 due to vulnerability.\r\n\r\nThe original EAR can be deployed on weblogic with success.\r\nBut the fixed EAR with log4j2 (used via log4j bridge) cannot be deployed. There is below error occured.\r\n\r\n\r\nPlease any idea? :/ Thanks\r\n\r\n```\r\nMessage icon - Error Unable to access the selected application.\r\nMessage icon - Error java.io.IOException\r\nMessage icon - Error weblogic.utils.compiler.ToolFailureException\r\n\r\n \r\n\r\n\r\nIn console there is error message like this:\r\n\r\n&lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;\r\n```\r\n\r\n\r\n\r\n**EDIT:**\r\nI have tried to change attributes by updating web.xml schema from 2.3 to 3.1 and using metadata-complete=true. The deployment was fine :) however there was some next issue inside of weblogic - app is not in Active state. There in logs is something with weblogic.application.ModuleException.\r\n\r\n\r\nResource: [https://stackoverflow.com/questions/45211729/weblogic-appmerge-failed-to-merge-your-application-after-java-8-migration][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/45211729/weblogic-appmerge-failed-to-merge-your-application-after-java-8-migration","title":"Weblogic cannot deploy EAR due to appmerge failed","body":"<p>I would like to deploy EAR file to weblogic.\nThe original EAR was with log4j version 1, however now we are trying to upgrade it on higher version 2 due to vulnerability.</p>\n<p>The original EAR can be deployed on weblogic with success.\nBut the fixed EAR with log4j2 (used via log4j bridge) cannot be deployed. There is below error occured.</p>\n<p>Please any idea? :/ Thanks</p>\n<pre><code>Message icon - Error Unable to access the selected application.\nMessage icon - Error java.io.IOException\nMessage icon - Error weblogic.utils.compiler.ToolFailureException\n\n \n\n\nIn console there is error message like this:\n\n&lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt;\n</code></pre>\n<p><strong>EDIT:</strong>\nI have tried to change attributes by updating web.xml schema from 2.3 to 3.1 and using metadata-complete=true. The deployment was fine :) however there was some next issue inside of weblogic - app is not in Active state. There in logs is something with weblogic.application.ModuleException.</p>\n<p>Resource: <a href=\"https://stackoverflow.com/questions/45211729/weblogic-appmerge-failed-to-merge-your-application-after-java-8-migration\">Weblogic: AppMerge failed to merge your application after Java 8 migration</a></p>\n"},{"tags":["java","spring","unit-testing","mockito","autowired"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1445603390,"post_id":33302340,"comment_id":54403397,"body_markdown":"How would you expect `@Mock` and `@Autowired` on single field to work? Do you want it mocked, or auto wired? Also creating a list in your test and hoping spring to detect it is never going to happen. Create mocks in your spring configuration instead of your classes, use the `mock` factory method of `Mockito` for that.","body":"How would you expect <code>@Mock</code> and <code>@Autowired</code> on single field to work? Do you want it mocked, or auto wired? Also creating a list in your test and hoping spring to detect it is never going to happen. Create mocks in your spring configuration instead of your classes, use the <code>mock</code> factory method of <code>Mockito</code> for that."},{"owner":{"account_id":5660403,"reputation":2781,"user_id":4478225,"display_name":"Gr&#233;gory Elhaimer"},"score":0,"creation_date":1445603446,"post_id":33302340,"comment_id":54403439,"body_markdown":"I actually want it mocked, but since it&#39;s a spring bean, shouldn&#39;t in be autowired as well ? I actually tried to remove the autowired, but it did not work as well. It&#39;s even worse since the validators are null and not mocked.","body":"I actually want it mocked, but since it&#39;s a spring bean, shouldn&#39;t in be autowired as well ? I actually tried to remove the autowired, but it did not work as well. It&#39;s even worse since the validators are null and not mocked."},{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":0,"creation_date":1445603820,"post_id":33302340,"comment_id":54403671,"body_markdown":"you can use @Autowired above constructor. So in test you could pass validators as constructor parameters to tested class.","body":"you can use @Autowired above constructor. So in test you could pass validators as constructor parameters to tested class."},{"owner":{"account_id":5660403,"reputation":2781,"user_id":4478225,"display_name":"Gr&#233;gory Elhaimer"},"score":0,"creation_date":1445603900,"post_id":33302340,"comment_id":54403734,"body_markdown":"I must not change the tested class implementation","body":"I must not change the tested class implementation"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1445604284,"post_id":33302340,"comment_id":54404033,"body_markdown":"It is either a mock or a spring bean it cannot be both. You can have your mock auto wired but that will only work if you define your Mocks as spring beans. And you might want to read http://olivergierke.de/2013/11/why-field-injection-is-evil/ and reconsider field injection. I would make the field final and simply create a constructor. That way you can really make it a unit test and construct the object yourself and pass anything you want into the constructor and you increase the code quality imho.","body":"It is either a mock or a spring bean it cannot be both. You can have your mock auto wired but that will only work if you define your Mocks as spring beans. And you might want to read <a href=\"http://olivergierke.de/2013/11/why-field-injection-is-evil/\" rel=\"nofollow noreferrer\">olivergierke.de/2013/11/why-field-injection-is-evil</a> and reconsider field injection. I would make the field final and simply create a constructor. That way you can really make it a unit test and construct the object yourself and pass anything you want into the constructor and you increase the code quality imho."}],"answers":[{"tags":[],"owner":{"account_id":5660403,"reputation":2781,"user_id":4478225,"display_name":"Gr&#233;gory Elhaimer"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1525423795,"creation_date":1445604580,"answer_id":33302741,"question_id":33302340,"body_markdown":"I finally figured it out...\r\n\r\nSometimes, asking a question can give you a better approach to your problems :p\r\n\r\nThe problem is I was linking the validators to the list before they were mocked. The validators was then null and no reference could be updated when the `MockitAnnotations.initMocks(this)` was called.\r\n\r\nMoreover, to avoid iterator problems on `List`, I had to use `@Spy` instead of `@Mock`.\r\n\r\nHere is the final solution:\r\n\r\n\r\n\r\n\t@Mock\r\n\tprivate EsmRegexValidator regexValidator;\r\n\t\r\n\t@Mock\r\n\tprivate EsmFormNotNullValidator notNullValidator;\r\n\t\r\n\t@Mock\r\n\tprivate EsmFormDataTypeValidator dataValidator;\r\n\r\n\t@InjectMocks\r\n\tprivate EsmFormValidatorManager validatorManager;\r\n\t\r\n\t@Spy\r\n\tprivate List&lt;IEsmFormValidator&gt; validators = new ArrayList&lt;IEsmFormValidator&gt;();\r\n\t\r\n\t@Mock\r\n\tprivate ColumnDTO columnDTO;\r\n\r\n\t@Before\r\n\tpublic void init() {\r\n\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t\r\n\t\tvalidators.add(notNullValidator);\r\n\t\tvalidators.add(regexValidator);\r\n\t\tvalidators.add(dataValidator);\r\n\t\t\r\n\t\tMockito.when(columnDTO.getTitle()).thenReturn(&quot;Mock title&quot;);\r\n\t\tMockito.when(columnDTO.getName()).thenReturn(&quot;Mock name&quot;);\r\n\t}","title":"How to mock a autowired list of Spring beans?","body":"<p>I finally figured it out...</p>\n\n<p>Sometimes, asking a question can give you a better approach to your problems :p</p>\n\n<p>The problem is I was linking the validators to the list before they were mocked. The validators was then null and no reference could be updated when the <code>MockitAnnotations.initMocks(this)</code> was called.</p>\n\n<p>Moreover, to avoid iterator problems on <code>List</code>, I had to use <code>@Spy</code> instead of <code>@Mock</code>.</p>\n\n<p>Here is the final solution:</p>\n\n<pre><code>@Mock\nprivate EsmRegexValidator regexValidator;\n\n@Mock\nprivate EsmFormNotNullValidator notNullValidator;\n\n@Mock\nprivate EsmFormDataTypeValidator dataValidator;\n\n@InjectMocks\nprivate EsmFormValidatorManager validatorManager;\n\n@Spy\nprivate List&lt;IEsmFormValidator&gt; validators = new ArrayList&lt;IEsmFormValidator&gt;();\n\n@Mock\nprivate ColumnDTO columnDTO;\n\n@Before\npublic void init() {\n\n    MockitoAnnotations.initMocks(this);\n\n    validators.add(notNullValidator);\n    validators.add(regexValidator);\n    validators.add(dataValidator);\n\n    Mockito.when(columnDTO.getTitle()).thenReturn(\"Mock title\");\n    Mockito.when(columnDTO.getName()).thenReturn(\"Mock name\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674935,"reputation":2038,"user_id":3061233,"accept_rate":71,"display_name":"kristjan reinhold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635855418,"creation_date":1635855418,"answer_id":69810287,"question_id":33302340,"body_markdown":"Adding another answer when dealing with multiple list of beans. Mockito doesnt know anything about the generics it just uses random list provided so in my case something like this happened.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhich threw the ClassCastException because the bean injection was not perfomed correctly. Expecting SfmcImportRepository but injection was SfmcParser\r\n\r\n\r\n\r\n      @Mock SfmcEmailsCsvFileParser emailParser;\r\n      @Mock SfmcSmsCsvFileParser smsParser;\r\n      @Mock SfmcSmsRepository smsRepository;\r\n      @Mock SfmcEmailRepository emailRepository;\r\n   \r\n      List&lt;SfmcImportRepository&gt; sfmcImportRepositories = new ArrayList&lt;&gt;();\r\n      List&lt;SfmcParser&gt; sfmcParsers = new ArrayList&lt;&gt;();\r\n      SfmcFtpService service;\r\n    \r\n      @Before\r\n      public void init() {\r\n        sfmcImportRepositories.add(emailRepository);\r\n        sfmcImportRepositories.add(smsRepository);\r\n        sfmcParsers.add(smsParser);\r\n        sfmcParsers.add(emailParser);\r\n        service = new SfmcFtpService(sfmcImportRepositories, sfmcParsers);\r\n      }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HOuPU.png","title":"How to mock a autowired list of Spring beans?","body":"<p>Adding another answer when dealing with multiple list of beans. Mockito doesnt know anything about the generics it just uses random list provided so in my case something like this happened.</p>\n<p><a href=\"https://i.stack.imgur.com/HOuPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOuPU.png\" alt=\"enter image description here\" /></a></p>\n<p>Which threw the ClassCastException because the bean injection was not perfomed correctly. Expecting SfmcImportRepository but injection was SfmcParser</p>\n<pre><code>  @Mock SfmcEmailsCsvFileParser emailParser;\n  @Mock SfmcSmsCsvFileParser smsParser;\n  @Mock SfmcSmsRepository smsRepository;\n  @Mock SfmcEmailRepository emailRepository;\n\n  List&lt;SfmcImportRepository&gt; sfmcImportRepositories = new ArrayList&lt;&gt;();\n  List&lt;SfmcParser&gt; sfmcParsers = new ArrayList&lt;&gt;();\n  SfmcFtpService service;\n\n  @Before\n  public void init() {\n    sfmcImportRepositories.add(emailRepository);\n    sfmcImportRepositories.add(smsRepository);\n    sfmcParsers.add(smsParser);\n    sfmcParsers.add(emailParser);\n    service = new SfmcFtpService(sfmcImportRepositories, sfmcParsers);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642090993,"creation_date":1642070441,"answer_id":70695191,"question_id":33302340,"body_markdown":"method initMocks  is **deprecated** in the recent versions and is no longer needed:\r\n\r\n    @Mock\r\n    private SomeTxHandler1 txHandler1;\r\n    @Mock\r\n    private SomeTxHandler2 txHandler2;\r\n\r\n    @Spy\r\n    private final List&lt;TxHandler&gt; txHandlers = new ArrayList&lt;&gt;();\r\n\r\n    @Spy // if you want to mock your service&#39;s methods\r\n    @InjectMocks\r\n    private MyService myService;\r\n\r\n    @BeforeEach\r\n    public void init() {\r\n        lenient().when(txHandler1.accept(...)).thenReturn(true);\r\n        txHandlers.add(txHandler1);\r\n        lenient().when(txHandler2.accept(...)).thenReturn(true);\r\n        txHandlers.add(txHandler2);\r\n    }","title":"How to mock a autowired list of Spring beans?","body":"<p>method initMocks  is <strong>deprecated</strong> in the recent versions and is no longer needed:</p>\n<pre><code>@Mock\nprivate SomeTxHandler1 txHandler1;\n@Mock\nprivate SomeTxHandler2 txHandler2;\n\n@Spy\nprivate final List&lt;TxHandler&gt; txHandlers = new ArrayList&lt;&gt;();\n\n@Spy // if you want to mock your service's methods\n@InjectMocks\nprivate MyService myService;\n\n@BeforeEach\npublic void init() {\n    lenient().when(txHandler1.accept(...)).thenReturn(true);\n    txHandlers.add(txHandler1);\n    lenient().when(txHandler2.accept(...)).thenReturn(true);\n    txHandlers.add(txHandler2);\n}\n</code></pre>\n"}],"owner":{"account_id":5660403,"reputation":2781,"user_id":4478225,"display_name":"Gr&#233;gory Elhaimer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22591,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":33302741,"answer_count":3,"score":32,"last_activity_date":1642090993,"creation_date":1445603232,"question_id":33302340,"body_markdown":"I&#39;ve read plenty of articles about how to mock Spring&#39;s bean and their autowired fields. But there is nothing I could find about autowired lists of beans.\r\n\r\n**Concrete problem**\r\n\r\nI&#39;ve a class called `FormValidatorManager`. This class loop through several validators which implements `IFormValidator`. \r\n\r\n    @Component\r\n    public class FormValidatorManager implements IValidatorManager {\r\n    \r\n    \t@Autowired\r\n    \tprivate List&lt;IFormValidator&gt; validators;\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic final IFieldError validate(ColumnDTO columnToValidate, String sentValue) {\t\r\n    \t\tString loweredColName = columnToValidate.getName().toLowerCase();\r\n    \t\tIFieldError errorField = new FieldError(loweredColName);\r\n    \t\t\r\n    \t\tfor (IEsmFormValidator validator : validators) {\r\n    \t\t\tList&lt;String&gt; errrorsFound = validator.validate(columnToValidate, sentValue);\r\n    \t\t\t\r\n    \t\t\t//les erreurs ne doivent pas &#234;tre cumul&#233;es.\r\n    \t\t\tif(CollectionUtils.isNotEmpty(errrorsFound)){\r\n    \t\t\t\terrorField.addErrors(errrorsFound);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn errorField;\r\n    \t}\r\n    }\r\n\r\nI would like to test this class. But I can&#39;t find a way to mock `validators` property.\r\n\r\n**What I&#39;ve tried**\r\n\r\nSince `IFormValidators` are singleton, I tried to mock several instances of these beans hoping them to be reflected in `FormValidatorManager.validators` but without success.\r\n\r\nThen, I tried to create a list of `IFormValidators` which was annotated as  `@Mock`. By initiating the `List` manually, I was hoping `initMocks()` to inject the created list. That was still without success.\r\n\r\nHere is my last try:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations={&quot;classpath:spring/test-validator-context.xml&quot;})\r\n    public class FormValidatorManagerTest {\r\n    \r\n    \t@Mock\r\n    \tprivate RegexValidator regexValidator;\r\n    \t\r\n    \t@Mock\r\n    \tprivate FormNotNullValidator notNullValidator;\r\n    \t\r\n    \t@Mock\r\n    \tprivate FormDataTypeValidator dataValidator;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate FormValidatorManager validatorManager;\r\n    \t\r\n    \t@Mock\r\n    \tprivate List&lt;IEsmFormValidator&gt; validators = new ArrayList&lt;IEsmFormValidator&gt;();\r\n    \t\r\n    \t@Mock\r\n    \tprivate ColumnDTO columnDTO;\r\n    \r\n    \t@Before\r\n    \tpublic void init() {\r\n    \t\t\r\n    \t\tvalidators.add(notNullValidator);\r\n    \t\tvalidators.add(regexValidator);\r\n    \t\tvalidators.add(dataValidator);\r\n    \t\t\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\t\r\n    \t\tMockito.when(columnDTO.getTitle()).thenReturn(&quot;Mock title&quot;);\r\n    \t\tMockito.when(columnDTO.getName()).thenReturn(&quot;Mock name&quot;);\r\n    \t}\r\n    \t\r\n \t\r\n\r\n        @Test\r\n    \tpublic void testNoErrorFound(){\r\n    \t\tmockValidator(notNullValidator,  new ArrayList&lt;String&gt;());\r\n    \t\tmockValidator(regexValidator,  new ArrayList&lt;String&gt;());\r\n    \t\tmockValidator(dataValidator,  new ArrayList&lt;String&gt;());\r\n    \t\t\r\n    \t\tIFieldError fieldErrors = validatorManager.validate(columnDTO, &quot;Not null value&quot;);\r\n    \t\t\r\n    \t\tAssert.assertEquals(0, fieldErrors.getErrors().size());\r\n    \t\t\r\n    \t\tverifyNumberOfValidateCalls(regexValidator, Mockito.atMost(1));\r\n    \t\tverifyNumberOfValidateCalls(dataValidator, Mockito.atMost(1));\r\n    \t\tverifyNumberOfValidateCalls(notNullValidator, Mockito.atMost(1));\r\n    \t}\r\n\r\n\t\r\n\r\n        private void mockValidator(IFormValidator validator, List&lt;String&gt; listToReturn){\r\n    \t\tMockito.when(validator.validate(Mockito.any(ColumnDTO.class), Mockito.anyString())).thenReturn( listToReturn );\r\n    \t}\r\n    \t\r\n    \tprivate void verifyNumberOfValidateCalls(IFormValidator validator, VerificationMode verifMode){\r\n    \t\tMockito.verify(validator, verifMode).validate(Mockito.any(ColumnDTO.class), Mockito.anyString());\r\n    \t}\r\n    }\r\n\r\nAn NPE is thrown in `IFormValidator.validate()` which I thougth would be mocked. The concrete implementation should not be called.\r\n\r\nThis leads to a really bad behavior since some of my tests on that class are false positives while others completly fail.\r\n\r\nI&#39;m trying to figure out how to mock an autowired list of beans while still having the possibility to mock specific implementations.\r\n\r\nDo you have an idea start of solution ?\r\n\r\nRegards","title":"How to mock a autowired list of Spring beans?","body":"<p>I've read plenty of articles about how to mock Spring's bean and their autowired fields. But there is nothing I could find about autowired lists of beans.</p>\n\n<p><strong>Concrete problem</strong></p>\n\n<p>I've a class called <code>FormValidatorManager</code>. This class loop through several validators which implements <code>IFormValidator</code>. </p>\n\n<pre><code>@Component\npublic class FormValidatorManager implements IValidatorManager {\n\n    @Autowired\n    private List&lt;IFormValidator&gt; validators;\n\n\n    @Override\n    public final IFieldError validate(ColumnDTO columnToValidate, String sentValue) {   \n        String loweredColName = columnToValidate.getName().toLowerCase();\n        IFieldError errorField = new FieldError(loweredColName);\n\n        for (IEsmFormValidator validator : validators) {\n            List&lt;String&gt; errrorsFound = validator.validate(columnToValidate, sentValue);\n\n            //les erreurs ne doivent pas être cumulées.\n            if(CollectionUtils.isNotEmpty(errrorsFound)){\n                errorField.addErrors(errrorsFound);\n                break;\n            }\n        }\n\n        return errorField;\n    }\n}\n</code></pre>\n\n<p>I would like to test this class. But I can't find a way to mock <code>validators</code> property.</p>\n\n<p><strong>What I've tried</strong></p>\n\n<p>Since <code>IFormValidators</code> are singleton, I tried to mock several instances of these beans hoping them to be reflected in <code>FormValidatorManager.validators</code> but without success.</p>\n\n<p>Then, I tried to create a list of <code>IFormValidators</code> which was annotated as  <code>@Mock</code>. By initiating the <code>List</code> manually, I was hoping <code>initMocks()</code> to inject the created list. That was still without success.</p>\n\n<p>Here is my last try:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations={\"classpath:spring/test-validator-context.xml\"})\npublic class FormValidatorManagerTest {\n\n    @Mock\n    private RegexValidator regexValidator;\n\n    @Mock\n    private FormNotNullValidator notNullValidator;\n\n    @Mock\n    private FormDataTypeValidator dataValidator;\n\n    @InjectMocks\n    private FormValidatorManager validatorManager;\n\n    @Mock\n    private List&lt;IEsmFormValidator&gt; validators = new ArrayList&lt;IEsmFormValidator&gt;();\n\n    @Mock\n    private ColumnDTO columnDTO;\n\n    @Before\n    public void init() {\n\n        validators.add(notNullValidator);\n        validators.add(regexValidator);\n        validators.add(dataValidator);\n\n        MockitoAnnotations.initMocks(this);\n\n        Mockito.when(columnDTO.getTitle()).thenReturn(\"Mock title\");\n        Mockito.when(columnDTO.getName()).thenReturn(\"Mock name\");\n    }\n\n\n\n    @Test\n    public void testNoErrorFound(){\n        mockValidator(notNullValidator,  new ArrayList&lt;String&gt;());\n        mockValidator(regexValidator,  new ArrayList&lt;String&gt;());\n        mockValidator(dataValidator,  new ArrayList&lt;String&gt;());\n\n        IFieldError fieldErrors = validatorManager.validate(columnDTO, \"Not null value\");\n\n        Assert.assertEquals(0, fieldErrors.getErrors().size());\n\n        verifyNumberOfValidateCalls(regexValidator, Mockito.atMost(1));\n        verifyNumberOfValidateCalls(dataValidator, Mockito.atMost(1));\n        verifyNumberOfValidateCalls(notNullValidator, Mockito.atMost(1));\n    }\n\n\n\n    private void mockValidator(IFormValidator validator, List&lt;String&gt; listToReturn){\n        Mockito.when(validator.validate(Mockito.any(ColumnDTO.class), Mockito.anyString())).thenReturn( listToReturn );\n    }\n\n    private void verifyNumberOfValidateCalls(IFormValidator validator, VerificationMode verifMode){\n        Mockito.verify(validator, verifMode).validate(Mockito.any(ColumnDTO.class), Mockito.anyString());\n    }\n}\n</code></pre>\n\n<p>An NPE is thrown in <code>IFormValidator.validate()</code> which I thougth would be mocked. The concrete implementation should not be called.</p>\n\n<p>This leads to a really bad behavior since some of my tests on that class are false positives while others completly fail.</p>\n\n<p>I'm trying to figure out how to mock an autowired list of beans while still having the possibility to mock specific implementations.</p>\n\n<p>Do you have an idea start of solution ?</p>\n\n<p>Regards</p>\n"},{"tags":["java","android","android-button"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1641999588,"post_id":70683628,"comment_id":124956165,"body_markdown":"`While (i &lt; 11) {` &lt;-- where is `i` declared? And where is it modified?","body":"<code>While (i &lt; 11) {</code> &lt;-- where is <code>i</code> declared? And where is it modified?"},{"owner":{"account_id":11764846,"reputation":165,"user_id":8609783,"display_name":"Gregory Nowik"},"score":0,"creation_date":1641999628,"post_id":70683628,"comment_id":124956182,"body_markdown":"Put it inside runOnUiThread(){}","body":"Put it inside runOnUiThread(){}"},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1641999845,"post_id":70683628,"comment_id":124956293,"body_markdown":"@Michael: After `public class MainActivity extends AppCompatActivity {....}` and Before `OnCreate` where all variables are initialized","body":"@Michael: After <code>public class MainActivity extends AppCompatActivity {....}</code> and Before <code>OnCreate</code> where all variables are initialized"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1642000266,"post_id":70683628,"comment_id":124956507,"body_markdown":"Ok, well, it&#39;s unclear to me from the code you&#39;ve posted how that `while`-loop is supposed to work since you haven&#39;t shown us where `i` is modified.","body":"Ok, well, it&#39;s unclear to me from the code you&#39;ve posted how that <code>while</code>-loop is supposed to work since you haven&#39;t shown us where <code>i</code> is modified."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642000277,"post_id":70683628,"comment_id":124956514,"body_markdown":"@ `i` is declared as `int i = 1;` after `public class MainActivity extends AppCompatActivity {....` and before `OnCreate`. It is mainly used to start the while loop from `1` that goes til `10` to load ten images into array string, so it is used in the beginning of private `animateImages()` method.","body":"@ <code>i</code> is declared as <code>int i = 1;</code> after <code>public class MainActivity extends AppCompatActivity {....</code> and before <code>OnCreate</code>. It is mainly used to start the while loop from <code>1</code> that goes til <code>10</code> to load ten images into array string, so it is used in the beginning of private <code>animateImages()</code> method."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1642000826,"post_id":70683628,"comment_id":124956772,"body_markdown":"But where is it modified? To me your `while`-loop looks broken since it loops while `i &lt; 11` but doesn&#39;t appear to increment `i`. Also, you unconditionally clear `myImages`, but only add images to it if `i &lt; 11`. Is that the intended behavior? What is the relationship between `i` and the number of elements in `myImages`.","body":"But where is it modified? To me your <code>while</code>-loop looks broken since it loops while <code>i &lt; 11</code> but doesn&#39;t appear to increment <code>i</code>. Also, you unconditionally clear <code>myImages</code>, but only add images to it if <code>i &lt; 11</code>. Is that the intended behavior? What is the relationship between <code>i</code> and the number of elements in <code>myImages</code>."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642000989,"post_id":70683628,"comment_id":124956846,"body_markdown":"@Michael: yes, sorry, there is `i++` after url load link. Just modified the code.","body":"@Michael: yes, sorry, there is <code>i++</code> after url load link. Just modified the code."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1642001302,"post_id":70683628,"comment_id":124956998,"body_markdown":"The second time you call that it clears `myImages` but then doesn&#39;t loop because `i` is not reset. Move creation of that list to onCreate instead.","body":"The second time you call that it clears <code>myImages</code> but then doesn&#39;t loop because <code>i</code> is not reset. Move creation of that list to onCreate instead."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642001418,"post_id":70683628,"comment_id":124957056,"body_markdown":"@Michael: `i` is mainly to load 10 images so initialized at `1`.  So, i = 1 will tell the While loop to get my_image1.png, i = 2, my_image2.png and so on. The URL doesn&#39;t change, but the images  get updated periodically, that&#39;s the reason, each time method is called, previously loaded images are cleared and reloaded. Makes sense or Is it the wrong approach?","body":"@Michael: <code>i</code> is mainly to load 10 images so initialized at <code>1</code>.  So, i = 1 will tell the While loop to get my_image1.png, i = 2, my_image2.png and so on. The URL doesn&#39;t change, but the images  get updated periodically, that&#39;s the reason, each time method is called, previously loaded images are cleared and reloaded. Makes sense or Is it the wrong approach?"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1642001419,"post_id":70683628,"comment_id":124957057,"body_markdown":"What is the point of having a separate variable `i` instead of just using `myImages.length`? Like I mentioned, you unconditionally clear `myImages`, but only add new images if `i &lt; 11`.","body":"What is the point of having a separate variable <code>i</code> instead of just using <code>myImages.length</code>? Like I mentioned, you unconditionally clear <code>myImages</code>, but only add new images if <code>i &lt; 11</code>."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642003091,"post_id":70683628,"comment_id":124957907,"body_markdown":"I made a little progress based on comments. I moved all the animation-related variables to `animateImages()` method and now animation runs on button click as well. But, the issue is, it runs &quot;normally&quot; in OnCreate, and on button click, it runs a bit faster. Like there is a bump in animation, where two images scrolls too fast, then bump, then next images too fast..","body":"I made a little progress based on comments. I moved all the animation-related variables to <code>animateImages()</code> method and now animation runs on button click as well. But, the issue is, it runs &quot;normally&quot; in OnCreate, and on button click, it runs a bit faster. Like there is a bump in animation, where two images scrolls too fast, then bump, then next images too fast.."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642004218,"post_id":70683628,"comment_id":124958484,"body_markdown":"@Michael: The idea was to get the images in a loop instead of  hardcoding several links and add to the array list, there i was used and initialized at 1.","body":"@Michael: The idea was to get the images in a loop instead of  hardcoding several links and add to the array list, there i was used and initialized at 1."},{"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"score":0,"creation_date":1642089274,"post_id":70683628,"comment_id":124984099,"body_markdown":"@TylerV: I moved URL loading and `i` to OnCreate. Animation runs on button click as well. I ran into another issue [ there is a bump in animation, it runs faster and faster on each click, although `delay` and `period` are fixed in the beginning with values 1000, 1000 but still, there is a strange bump :/ ]. I might post a new question, but your comment ATM answers the question, care to post it?","body":"@TylerV: I moved URL loading and <code>i</code> to OnCreate. Animation runs on button click as well. I ran into another issue [ there is a bump in animation, it runs faster and faster on each click, although <code>delay</code> and <code>period</code> are fixed in the beginning with values 1000, 1000 but still, there is a strange bump :/ ]. I might post a new question, but your comment ATM answers the question, care to post it?"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642090498,"creation_date":1642090498,"answer_id":70699723,"question_id":70683628,"body_markdown":"The second time you call `animateImages` it clears `myImages` but then doesn&#39;t loop because `i` is not reset so it remains empty. Move creation of that list to `onCreate` instead to avoid that issue.","title":"Why variable gets reset on button click(s) in Android?","body":"<p>The second time you call <code>animateImages</code> it clears <code>myImages</code> but then doesn't loop because <code>i</code> is not reset so it remains empty. Move creation of that list to <code>onCreate</code> instead to avoid that issue.</p>\n"}],"owner":{"account_id":6396175,"reputation":791,"user_id":5827605,"accept_rate":80,"display_name":"khajlk"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70699723,"answer_count":1,"score":0,"last_activity_date":1642090498,"creation_date":1641999017,"question_id":70683628,"body_markdown":"Can someone help me to understand what is happening here? Have been trying to debug, but feel like stuck!\r\n\r\nI am trying to animate some online images in my Android app using the following method.\r\n\r\n    private void animateImages() {\r\n     \r\n            // URL loading\r\n            // int i = 1; (initialized earlier)\r\n            // ArrayList&lt;String&gt; myImages = new ArrayList&lt;&gt;(); (initialized earlier)\r\n            myImages.clear();\r\n            While (i &lt; 11) {\r\n            // Adds ten images using web link\r\n            myImages.add(&quot;My_web_url&quot;);\r\n            i++;\r\n            }            \r\n\r\n            AccelerateInterpolator adi = new AccelerateInterpolator();\r\n            try {\r\n                Field mScroller = ViewPager.class.getDeclaredField(&quot;mScroller&quot;);\r\n                mScroller.setAccessible(true);\r\n                mScroller.set(viewPager, new MyScroller(getApplicationContext(), adi, 1));\r\n            }\r\n            catch (NoSuchFieldException e) {\r\n                e.printStackTrace();\r\n            }\r\n            catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n     \r\n            if (viewPager != null) {\r\n                viewPager.setAdapter(new MyPageAdapter(getApplicationContext(), myImages));\r\n            }\r\n     \r\n            final Handler handler = new Handler();\r\n            final Runnable Update = new Runnable() {\r\n                // Printing variables for debugging \r\n                System.out.println(&quot;The page number is=&quot; + currentPage);\r\n                System.out.println(&quot;The myImages size is=&quot; + myImages.size());\r\n                \r\n                public void run() {\r\n                    if (currentPage == myImages.size() - 1) {\r\n                        currentPage = 0;\r\n                    }\r\n                    viewPager.setCurrentItem(currentPage++, true);\r\n                }\r\n            };\r\n     \r\n            timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    handler.post(Update);\r\n                }\r\n                // delay and period can be initialized as desired\r\n            }, delay, period);\r\n        }\r\n     \r\n    }\r\n\r\nWhen I call this method in `OnCreate`, animation works fine. However, when I call this method in `OnClickButton Listener`, variable `myImages` size (before `public void run()`) become zero and due to this animation doesn&#39;t work.\r\n\r\nIn the above, `MySCroller` and `MyPageAdapete`r are java classes. But, most likely, the issue is related to button click, and I don&#39;t understand why it resets the myImages size which halts the animation!\r\n\r\nThis is how button click listener is called. What am I doing wrong?\r\n\r\n    MyButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            animateImages();\r\n        }\r\n    });\r\n\r\n**Edit 1:**\r\n\r\nThanks to all the comments, I made a little progress.\r\n\r\nI moved all these variables from MainActivity to animateImages() method. The animation runs with button click as well but there is a bump in animation, where too images moves too fast then bump and so on..\r\n\r\n    // Added just before while loop\r\n    DELAY_MS = 1000;\r\n    PERIOD_MS = 1000;\r\n    i = 1;\r\n    currentPage = 0;\r\n\r\nI notice the same animation bump if I move the URL loading while loop to `OnCreate()`.","title":"Why variable gets reset on button click(s) in Android?","body":"<p>Can someone help me to understand what is happening here? Have been trying to debug, but feel like stuck!</p>\n<p>I am trying to animate some online images in my Android app using the following method.</p>\n<pre><code>private void animateImages() {\n \n        // URL loading\n        // int i = 1; (initialized earlier)\n        // ArrayList&lt;String&gt; myImages = new ArrayList&lt;&gt;(); (initialized earlier)\n        myImages.clear();\n        While (i &lt; 11) {\n        // Adds ten images using web link\n        myImages.add(&quot;My_web_url&quot;);\n        i++;\n        }            \n\n        AccelerateInterpolator adi = new AccelerateInterpolator();\n        try {\n            Field mScroller = ViewPager.class.getDeclaredField(&quot;mScroller&quot;);\n            mScroller.setAccessible(true);\n            mScroller.set(viewPager, new MyScroller(getApplicationContext(), adi, 1));\n        }\n        catch (NoSuchFieldException e) {\n            e.printStackTrace();\n        }\n        catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n \n        if (viewPager != null) {\n            viewPager.setAdapter(new MyPageAdapter(getApplicationContext(), myImages));\n        }\n \n        final Handler handler = new Handler();\n        final Runnable Update = new Runnable() {\n            // Printing variables for debugging \n            System.out.println(&quot;The page number is=&quot; + currentPage);\n            System.out.println(&quot;The myImages size is=&quot; + myImages.size());\n            \n            public void run() {\n                if (currentPage == myImages.size() - 1) {\n                    currentPage = 0;\n                }\n                viewPager.setCurrentItem(currentPage++, true);\n            }\n        };\n \n        timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                handler.post(Update);\n            }\n            // delay and period can be initialized as desired\n        }, delay, period);\n    }\n \n}\n</code></pre>\n<p>When I call this method in <code>OnCreate</code>, animation works fine. However, when I call this method in <code>OnClickButton Listener</code>, variable <code>myImages</code> size (before <code>public void run()</code>) become zero and due to this animation doesn't work.</p>\n<p>In the above, <code>MySCroller</code> and <code>MyPageAdapete</code>r are java classes. But, most likely, the issue is related to button click, and I don't understand why it resets the myImages size which halts the animation!</p>\n<p>This is how button click listener is called. What am I doing wrong?</p>\n<pre><code>MyButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        animateImages();\n    }\n});\n</code></pre>\n<p><strong>Edit 1:</strong></p>\n<p>Thanks to all the comments, I made a little progress.</p>\n<p>I moved all these variables from MainActivity to animateImages() method. The animation runs with button click as well but there is a bump in animation, where too images moves too fast then bump and so on..</p>\n<pre><code>// Added just before while loop\nDELAY_MS = 1000;\nPERIOD_MS = 1000;\ni = 1;\ncurrentPage = 0;\n</code></pre>\n<p>I notice the same animation bump if I move the URL loading while loop to <code>OnCreate()</code>.</p>\n"},{"tags":["java","html","jsp"],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642087866,"creation_date":1642087457,"answer_id":70699015,"question_id":70698976,"body_markdown":"You MUST have a complete set of OTHER quotes inside an attribute\r\n\r\n    &lt;TR onmouseover=&quot;rowColor(this, true);&quot; \r\n     onmouseout=&quot;rowColor(this, false);&quot; \r\n      onclick=&quot;workTicket(&#39;displayTicket.action?TICKETID=1367698&amp;amp;TTID=14&#39;,&#39;1367698&#39;);&quot;&gt;   \r\n\r\nThere is no problem with the c:out\r\n\r\n    &lt;TR onmouseover=&quot;rowColor(this, true);&quot; \r\n    onmouseout=&quot;rowColor(this, false);&quot; \r\n    onclick=&quot;workTicket(&lt;c:out value=&quot;&#39;displayTicket.action?TICKETID=${dispTO.ticketNbr}&amp;TTID=${dispTO.ticketTypeId}&#39;,&#39;${dispTO.ticketNbr}&#39;&quot; /&gt;);&quot;&gt;\r\n\r\nwill work\r\n\r\nBUT this is in my opinion better\r\n\r\n\r\n    data-tickettypeid=&quot;&lt;c:out value=&quot;${dispTO.ticketTypeId}&quot; /&gt;&quot;\r\n    data-ticketnbr=&quot;&lt;c:out value=&quot;${dispTO.ticketNbr}&quot; /&gt;&quot;\r\n    onclick=&quot;workTicket(`displayTicket.action?TICKETID=${this.dataset.tickettypeid}&amp;TTID=${this.dataset.ticketnbr}`,this.dataset.tickettypeid)&quot;\r\n\r\nand even better:\r\n\r\n    document.getElementById(&quot;myTable&quot;).addEventListener(&quot;click&quot;,function(e) {\r\n      const tgt = e.target.closest(&quot;tr&quot;);\r\n      if (tgt &amp;&amp; tgt.getAttribute(&quot;data-tickettypeid&quot;)) {\r\n        workTicket(`displayTicket.action?TICKETID=${tgt.dataset.tickettypeid}&amp;TTID=${tgt.dataset.ticketnbr}`,tgt.dataset.tickettypeid)\r\n      }\r\n    })\r\n\r\nthen you can use\r\n\r\n    &lt;tr data-tickettypeid=&quot;&lt;c:out value=&quot;${dispTO.ticketTypeId}&quot; /&gt;&quot;\r\n    data-ticketnbr=&quot;&lt;c:out value=&quot;${dispTO.ticketNbr}&quot; /&gt;&quot;&gt;\r\n\r\nAs for the mouseover and out, use CSS","title":"Escaping quotes inside quotes in html","body":"<p>You MUST have a complete set of OTHER quotes inside an attribute</p>\n<pre><code>&lt;TR onmouseover=&quot;rowColor(this, true);&quot; \n onmouseout=&quot;rowColor(this, false);&quot; \n  onclick=&quot;workTicket('displayTicket.action?TICKETID=1367698&amp;amp;TTID=14','1367698');&quot;&gt;   \n</code></pre>\n<p>There is no problem with the c:out</p>\n<pre><code>&lt;TR onmouseover=&quot;rowColor(this, true);&quot; \nonmouseout=&quot;rowColor(this, false);&quot; \nonclick=&quot;workTicket(&lt;c:out value=&quot;'displayTicket.action?TICKETID=${dispTO.ticketNbr}&amp;TTID=${dispTO.ticketTypeId}','${dispTO.ticketNbr}'&quot; /&gt;);&quot;&gt;\n</code></pre>\n<p>will work</p>\n<p>BUT this is in my opinion better</p>\n<pre><code>data-tickettypeid=&quot;&lt;c:out value=&quot;${dispTO.ticketTypeId}&quot; /&gt;&quot;\ndata-ticketnbr=&quot;&lt;c:out value=&quot;${dispTO.ticketNbr}&quot; /&gt;&quot;\nonclick=&quot;workTicket(`displayTicket.action?TICKETID=${this.dataset.tickettypeid}&amp;TTID=${this.dataset.ticketnbr}`,this.dataset.tickettypeid)&quot;\n</code></pre>\n<p>and even better:</p>\n<pre><code>document.getElementById(&quot;myTable&quot;).addEventListener(&quot;click&quot;,function(e) {\n  const tgt = e.target.closest(&quot;tr&quot;);\n  if (tgt &amp;&amp; tgt.getAttribute(&quot;data-tickettypeid&quot;)) {\n    workTicket(`displayTicket.action?TICKETID=${tgt.dataset.tickettypeid}&amp;TTID=${tgt.dataset.ticketnbr}`,tgt.dataset.tickettypeid)\n  }\n})\n</code></pre>\n<p>then you can use</p>\n<pre><code>&lt;tr data-tickettypeid=&quot;&lt;c:out value=&quot;${dispTO.ticketTypeId}&quot; /&gt;&quot;\ndata-ticketnbr=&quot;&lt;c:out value=&quot;${dispTO.ticketNbr}&quot; /&gt;&quot;&gt;\n</code></pre>\n<p>As for the mouseover and out, use CSS</p>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642090460,"creation_date":1642087245,"question_id":70698976,"body_markdown":"Not sure why this error is happening in Chrome and Edge, but not in IE (yeah business team is still stuck with it)\r\n\r\nSeeing &quot;Uncaught SyntaxError: Unexpected end of input&quot;  on this html line\r\n\r\n    &lt;TR onmouseover=&quot;rowColor(this, true);&quot; onmouseout=&quot;rowColor(this, false);&quot; onclick=&#39;workTicket(&#39;displayTicket.action?TICKETID=1367698&amp;amp;TTID=14&#39;,&#39;1367698&#39;);&#39;&gt;   \r\n\r\n \r\n\r\nand the following is the corresponding jsp/struts line\r\n\r\n    &lt;TR onmouseover=&quot;rowColor(this, true);&quot; onmouseout=&quot;rowColor(this, false);&quot; onclick=&#39;workTicket(&lt;c:out value=&quot;&#39;displayTicket.action?TICKETID=${dispTO.ticketNbr}&amp;TTID=${dispTO.ticketTypeId}&#39;,&#39;${dispTO.ticketNbr}&#39;&quot; /&gt;);&#39;&gt;\r\n\r\n\r\nI don&#39;t see anything wrong in the above line except the onclick attribute starts with single quote. Any idea why this is happening?\r\n","title":"Escaping quotes inside quotes in html","body":"<p>Not sure why this error is happening in Chrome and Edge, but not in IE (yeah business team is still stuck with it)</p>\n<p>Seeing &quot;Uncaught SyntaxError: Unexpected end of input&quot;  on this html line</p>\n<pre><code>&lt;TR onmouseover=&quot;rowColor(this, true);&quot; onmouseout=&quot;rowColor(this, false);&quot; onclick='workTicket('displayTicket.action?TICKETID=1367698&amp;amp;TTID=14','1367698');'&gt;   \n</code></pre>\n<p>and the following is the corresponding jsp/struts line</p>\n<pre><code>&lt;TR onmouseover=&quot;rowColor(this, true);&quot; onmouseout=&quot;rowColor(this, false);&quot; onclick='workTicket(&lt;c:out value=&quot;'displayTicket.action?TICKETID=${dispTO.ticketNbr}&amp;TTID=${dispTO.ticketTypeId}','${dispTO.ticketNbr}'&quot; /&gt;);'&gt;\n</code></pre>\n<p>I don't see anything wrong in the above line except the onclick attribute starts with single quote. Any idea why this is happening?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"score":0,"creation_date":1642061256,"post_id":70693166,"comment_id":124972954,"body_markdown":"This means that the class is available during the compilation but it is not present during runtime. Are you using any build tool?","body":"This means that the class is available during the compilation but it is not present during runtime. Are you using any build tool?"},{"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"score":0,"creation_date":1642061399,"post_id":70693166,"comment_id":124973015,"body_markdown":"Build tool like? I&#39;ve installed kafka and jdk. Plus I&#39;ve specified the classpath just like in the link, confused as to why this isn&#39;t working.","body":"Build tool like? I&#39;ve installed kafka and jdk. Plus I&#39;ve specified the classpath just like in the link, confused as to why this isn&#39;t working."},{"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"score":1,"creation_date":1642061876,"post_id":70693166,"comment_id":124973185,"body_markdown":"Check the classes in the classpath, and also confirm that it is serializa-tion. I believe it should be serialization that &#39;-&#39; is a typo.","body":"Check the classes in the classpath, and also confirm that it is serializa-tion. I believe it should be serialization that &#39;-&#39; is a typo."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1642089651,"post_id":70693166,"comment_id":124984289,"body_markdown":"I suggest you use Maven/Gradle and run jar files, not compiled classes or use the Kafka server classpath, which includes more files than you actually need. Besides that, do you get the same error on `kafka-console-producer`? If not, your classpath is incorrect","body":"I suggest you use Maven/Gradle and run jar files, not compiled classes or use the Kafka server classpath, which includes more files than you actually need. Besides that, do you get the same error on <code>kafka-console-producer</code>? If not, your classpath is incorrect"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642089955,"creation_date":1642089955,"answer_id":70699601,"question_id":70693166,"body_markdown":"Linked page has a typo in the serializers\r\n\r\nRemove the hyphens from `serializa-tion` since they are not allowed in Java class names\r\n\r\nOr use `StringSerializer.class` directly as the value rather than a string.\r\n\r\n---\r\n\r\nI still recommend that you use an IDE along with Maven/Gradle rather than editing and compiling via a terminal ","title":"Executing simple kafka producer program in java","body":"<p>Linked page has a typo in the serializers</p>\n<p>Remove the hyphens from <code>serializa-tion</code> since they are not allowed in Java class names</p>\n<p>Or use <code>StringSerializer.class</code> directly as the value rather than a string.</p>\n<hr />\n<p>I still recommend that you use an IDE along with Maven/Gradle rather than editing and compiling via a terminal</p>\n"}],"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70699601,"answer_count":1,"score":0,"last_activity_date":1642089955,"creation_date":1642060873,"question_id":70693166,"body_markdown":"I&#39;ve setup kafka in my google cloud instance, and was able to run the commands for producer and consumer creation successfully.\r\n\r\nNow I&#39;m trying to run this [simple kafka producer code][1] in java, however I&#39;m not able to successfully execute the code after compilation. \r\n\r\nFor compilation, \r\n```\r\nsudo javac -classpath &#39;/opt/kafka/libs/*&#39; *.java\r\n```\r\nworks perfectly and the `SimpleProducer.class` is generated. \r\n\r\nHowever when I try the execution command, I get the below errors.\r\n```\r\n[username@gcloud-instance ~]$ java -cp &#39;/opt/kafka/libs/*&#39;:. SimpleProducer\r\nError: Could not find or load main class SimpleProducer\r\n```\r\nI tried running some other commands like\r\n```\r\n[username@gcloud-instance ~]$ sudo java -cp &#39;/opt/kafka/libs/*&#39;:. SimpleProducer sample-quickstart-topic\r\nException in thread &quot;main&quot; org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serializa-tion.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.seriali\r\nza-tion.StringSerializer could not be found.\r\n        at org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\r\n        at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n        at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n        at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n        at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\r\n        at org.apache.kafka.clients.producer.ProducerConfig.&lt;init&gt;(ProducerConfig.java:490)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\r\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\r\n        at SimpleProducer.main(SimpleProducer.java:28)\r\n```\r\nBut none seem to work. Any help would be appreciated, thanks.\r\n\r\n  [1]: https://www.tutorialspoint.com/apache_kafka/apache_kafka_simple_producer_example.htm","title":"Executing simple kafka producer program in java","body":"<p>I've setup kafka in my google cloud instance, and was able to run the commands for producer and consumer creation successfully.</p>\n<p>Now I'm trying to run this <a href=\"https://www.tutorialspoint.com/apache_kafka/apache_kafka_simple_producer_example.htm\" rel=\"nofollow noreferrer\">simple kafka producer code</a> in java, however I'm not able to successfully execute the code after compilation.</p>\n<p>For compilation,</p>\n<pre><code>sudo javac -classpath '/opt/kafka/libs/*' *.java\n</code></pre>\n<p>works perfectly and the <code>SimpleProducer.class</code> is generated.</p>\n<p>However when I try the execution command, I get the below errors.</p>\n<pre><code>[username@gcloud-instance ~]$ java -cp '/opt/kafka/libs/*':. SimpleProducer\nError: Could not find or load main class SimpleProducer\n</code></pre>\n<p>I tried running some other commands like</p>\n<pre><code>[username@gcloud-instance ~]$ sudo java -cp '/opt/kafka/libs/*':. SimpleProducer sample-quickstart-topic\nException in thread &quot;main&quot; org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serializa-tion.StringSerializer for configuration key.serializer: Class org.apache.kafka.common.seriali\nza-tion.StringSerializer could not be found.\n        at org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\n        at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\n        at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\n        at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\n        at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\n        at org.apache.kafka.clients.producer.ProducerConfig.&lt;init&gt;(ProducerConfig.java:490)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\n        at SimpleProducer.main(SimpleProducer.java:28)\n</code></pre>\n<p>But none seem to work. Any help would be appreciated, thanks.</p>\n"},{"tags":["java","dictionary","kotlin","serialization"],"answers":[{"tags":[],"owner":{"account_id":2450365,"reputation":13659,"user_id":2136812,"accept_rate":47,"display_name":"Lena Bru"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1614966169,"creation_date":1614966169,"answer_id":66497192,"question_id":60813349,"body_markdown":"    @file:UseSerializers(LocalDateSerializer::class)\r\n\r\nput this in the file where your object is declared it should use LocalDateSerializer every time it sees Local Date\r\n","title":"Is there a way to serialize a map in Kotlinx-Serialization","body":"<pre><code>@file:UseSerializers(LocalDateSerializer::class)\n</code></pre>\n<p>put this in the file where your object is declared it should use LocalDateSerializer every time it sees Local Date</p>\n"}],"owner":{"account_id":18035671,"reputation":101,"user_id":13109148,"display_name":"jchtd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5814,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1642089950,"creation_date":1584965566,"question_id":60813349,"body_markdown":"I&#39;m using Kotlin 1.3.10 (and bound to this version) and Kotlinx-Serialization 0.13 and I&#39;m having trouble with serializing a map in Kotlinx-Serialization.\r\n\r\nI have the following code:\r\n\r\n```\r\n@Serializer(forClass = LocalDate::class)\r\nobject LocalDateSerializer : KSerializer&lt;LocalDate&gt; {\r\n    private val formatter: DateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n    override val descriptor: SerialDescriptor\r\n        get() = StringDescriptor.withName(&quot;LocalDate&quot;)\r\n    override fun serialize(encoder: Encoder, obj: LocalDate) {\r\n        encoder.encodeString(obj.format(formatter))\r\n    }\r\n    override fun deserialize(decoder: Decoder): LocalDate {\r\n        return LocalDate.parse(decoder.decodeString(), formatter)\r\n    }\r\n}\r\n\r\n@Serializable\r\ndata class MyClass (\r\n    val students: Map&lt;String,LocalDate&gt;\r\n)\r\n\r\n@UnstableDefault\r\n@Test\r\nfun decodeEncodeSerialization() {\r\n    val jsonParser = Json(\r\n        JsonConfiguration(\r\n            allowStructuredMapKeys = true\r\n        )\r\n    )\r\n    val mc = MyClass(\r\n        mapOf(&quot;Alex&quot; to LocalDate.of(1997,2,23))\r\n        )\r\n\r\n    val mcJson = jsonParser.stringify(MyClass.serializer(), mc)\r\n    val mcObject = jsonParser.parse(MyClass.serializer(), mcJson)\r\n\r\n    assert(true)\r\n}\r\n```\r\n\r\nThere is a red line when inspecting the code which says &quot;Serializer has not been found for &#39;LocalDate&#39;. To use context serializer as fallback, explicitly annotate type or property with @ContextualSerialization.&quot;\r\n\r\nWith other types of fields, it would have been enough to add @Serialization to it. \r\n\r\n```\r\n@Serializable\r\ndata class Student (\r\n    val name: String,\r\n    @Serializable(with = LocalDateSerializer::class)\r\n    val dob: LocalDate\r\n)\r\n```\r\n\r\nBut with a map I can&#39;t seem to figure out how. I put it above, or beside the object...\r\n```\r\n@Serializable\r\ndata class MyClass (\r\n    val students: Map&lt;String,@Serializable(with = LocalDateSerializer::class) LocalDate&gt; //here\r\n    //or \r\n    //@Serializable(with = LocalDateSerializer::class)\r\n    //val students2: Map&lt;String, LocalDate&gt; //here \r\n)\r\n```\r\n\r\n...but tests still fail with\r\n\r\n&gt;kotlinx.serialization.SerializationException: Can&#39;t locate argument-less serializer for class java.time.LocalDate (Kotlin reflection is not available). For generic classes, such as lists, please provide serializer explicitly.\r\n\r\nAnd the workaround I have for it is \r\n```\r\n@Serializable\r\ndata class MyClass (\r\n    val students: List&lt;Student&gt;\r\n)\r\n@Serializable\r\ndata class Student (\r\n    val name: String,\r\n    @Serializable(with = LocalDateSerializer::class)\r\n    val dob: LocalDate\r\n)\r\n```\r\n\r\nIs there a way I would not resort to the workaround? Thank you!","title":"Is there a way to serialize a map in Kotlinx-Serialization","body":"<p>I'm using Kotlin 1.3.10 (and bound to this version) and Kotlinx-Serialization 0.13 and I'm having trouble with serializing a map in Kotlinx-Serialization.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>@Serializer(forClass = LocalDate::class)\nobject LocalDateSerializer : KSerializer&lt;LocalDate&gt; {\n    private val formatter: DateTimeFormatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\")\n    override val descriptor: SerialDescriptor\n        get() = StringDescriptor.withName(\"LocalDate\")\n    override fun serialize(encoder: Encoder, obj: LocalDate) {\n        encoder.encodeString(obj.format(formatter))\n    }\n    override fun deserialize(decoder: Decoder): LocalDate {\n        return LocalDate.parse(decoder.decodeString(), formatter)\n    }\n}\n\n@Serializable\ndata class MyClass (\n    val students: Map&lt;String,LocalDate&gt;\n)\n\n@UnstableDefault\n@Test\nfun decodeEncodeSerialization() {\n    val jsonParser = Json(\n        JsonConfiguration(\n            allowStructuredMapKeys = true\n        )\n    )\n    val mc = MyClass(\n        mapOf(\"Alex\" to LocalDate.of(1997,2,23))\n        )\n\n    val mcJson = jsonParser.stringify(MyClass.serializer(), mc)\n    val mcObject = jsonParser.parse(MyClass.serializer(), mcJson)\n\n    assert(true)\n}\n</code></pre>\n\n<p>There is a red line when inspecting the code which says \"Serializer has not been found for 'LocalDate'. To use context serializer as fallback, explicitly annotate type or property with @ContextualSerialization.\"</p>\n\n<p>With other types of fields, it would have been enough to add @Serialization to it. </p>\n\n<pre><code>@Serializable\ndata class Student (\n    val name: String,\n    @Serializable(with = LocalDateSerializer::class)\n    val dob: LocalDate\n)\n</code></pre>\n\n<p>But with a map I can't seem to figure out how. I put it above, or beside the object...</p>\n\n<pre><code>@Serializable\ndata class MyClass (\n    val students: Map&lt;String,@Serializable(with = LocalDateSerializer::class) LocalDate&gt; //here\n    //or \n    //@Serializable(with = LocalDateSerializer::class)\n    //val students2: Map&lt;String, LocalDate&gt; //here \n)\n</code></pre>\n\n<p>...but tests still fail with</p>\n\n<blockquote>\n  <p>kotlinx.serialization.SerializationException: Can't locate argument-less serializer for class java.time.LocalDate (Kotlin reflection is not available). For generic classes, such as lists, please provide serializer explicitly.</p>\n</blockquote>\n\n<p>And the workaround I have for it is </p>\n\n<pre><code>@Serializable\ndata class MyClass (\n    val students: List&lt;Student&gt;\n)\n@Serializable\ndata class Student (\n    val name: String,\n    @Serializable(with = LocalDateSerializer::class)\n    val dob: LocalDate\n)\n</code></pre>\n\n<p>Is there a way I would not resort to the workaround? Thank you!</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":1,"creation_date":1420875312,"post_id":27873915,"comment_id":44149841,"body_markdown":"index is 0, do you change it somewhere?","body":"index is 0, do you change it somewhere?"},{"owner":{"account_id":5571015,"reputation":1,"user_id":4416306,"display_name":"alexandre kodok"},"score":0,"creation_date":1420875518,"post_id":27873915,"comment_id":44149875,"body_markdown":"yes, it changes after the user add the book.","body":"yes, it changes after the user add the book."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1420875926,"post_id":27873915,"comment_id":44149955,"body_markdown":"An array is not an `ArrayList`.","body":"An array is not an <code>ArrayList</code>."}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420875473,"creation_date":1420875473,"answer_id":27873955,"question_id":27873915,"body_markdown":"First off, your index is 0 so your `for` doesn&#39;t loop. Replace index with `myBook.size()`\r\n","title":"Searching object","body":"<p>First off, your index is 0 so your <code>for</code> doesn't loop. Replace index with <code>myBook.size()</code></p>\n"}],"owner":{"account_id":5571015,"reputation":1,"user_id":4416306,"display_name":"alexandre kodok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642089857,"creation_date":1420875084,"question_id":27873915,"body_markdown":"I want to search object inside arraylist get value from user input and print it to text area. here is the code.\r\n\r\n    //the arrayList I declared\r\n      Book[]myBook = new Book [30];\r\n      int index = 0;\r\n\r\n    private void searchBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n\r\n        String title = titleTF.getText();\r\n        boolean found = false;\r\n        for (int i = 0; i &lt; index; i++) {\r\n            if (myBook[i].getTitle().equals(title));\r\n            {\r\n                outputTA.append(&quot;Book Title : &quot; + myBook[i].getTitle() + &quot;\\n&quot;);\r\n                outputTA.append(&quot;Book Author : &quot; + myBook[i].getAuthor() + &quot;\\n&quot;);\r\n                outputTA.append(&quot;Year of Publication : &quot; + myBook[i].getYear() + &quot;\\n&quot;);\r\n                outputTA.append(&quot;Book Status : &quot; + myBook[i].getStatus() + &quot;\\n&quot;);\r\n                outputTA.append(&quot;======================================\\n&quot;);\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (found == false) {\r\n            JOptionPane.showMessageDialog(this, &quot;Book is not Found! Please Try again!&quot;);\r\n        }\r\n    }\r\n\r\nThe problem is, when I click the search button, it will display the first object in the arraylist. Which line of code is wrong?","title":"Searching object","body":"<p>I want to search object inside arraylist get value from user input and print it to text area. here is the code.</p>\n<pre><code>//the arrayList I declared\n  Book[]myBook = new Book [30];\n  int index = 0;\n\nprivate void searchBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n\n    String title = titleTF.getText();\n    boolean found = false;\n    for (int i = 0; i &lt; index; i++) {\n        if (myBook[i].getTitle().equals(title));\n        {\n            outputTA.append(&quot;Book Title : &quot; + myBook[i].getTitle() + &quot;\\n&quot;);\n            outputTA.append(&quot;Book Author : &quot; + myBook[i].getAuthor() + &quot;\\n&quot;);\n            outputTA.append(&quot;Year of Publication : &quot; + myBook[i].getYear() + &quot;\\n&quot;);\n            outputTA.append(&quot;Book Status : &quot; + myBook[i].getStatus() + &quot;\\n&quot;);\n            outputTA.append(&quot;======================================\\n&quot;);\n            found = true;\n            break;\n        }\n    }\n\n    if (found == false) {\n        JOptionPane.showMessageDialog(this, &quot;Book is not Found! Please Try again!&quot;);\n    }\n}\n</code></pre>\n<p>The problem is, when I click the search button, it will display the first object in the arraylist. Which line of code is wrong?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1642175571,"post_id":70699377,"comment_id":125008641,"body_markdown":"JoinTable tells JPA to use a relational table to contain the mapping, much like a M:M situation. The actual cardinality can be controlled on a relational table using constraints on the foreign keys to the main entity tables, so a relational table can be used for any relation type, even 1:1s. It is just more common and usually efficient to have 1:1s use a FK directly in the entity, reducing some table joins and overhead. You have set it up trying to use the entity table as the relational table, which is a bad idea - It will work for reads, but not writes.","body":"JoinTable tells JPA to use a relational table to contain the mapping, much like a M:M situation. The actual cardinality can be controlled on a relational table using constraints on the foreign keys to the main entity tables, so a relational table can be used for any relation type, even 1:1s. It is just more common and usually efficient to have 1:1s use a FK directly in the entity, reducing some table joins and overhead. You have set it up trying to use the entity table as the relational table, which is a bad idea - It will work for reads, but not writes."}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642089808,"creation_date":1642089808,"answer_id":70699567,"question_id":70699377,"body_markdown":"Don&#39;t use `@JoinTable`, the table is the same as the entity you are referencing. You just have to specify the `@JoinColumn`, hibernate will look for the column in the table referenced by the entity you are mapping the list to, `NomenclatureVersion` :\r\n\r\n```java\r\n@OneToMany\r\n@JoinColumn(name=&quot;nomenclature_id&quot;) \r\nprivate List&lt;NomenclatureVersion&gt; version;\r\n```","title":"PSQLException: ERROR: column does not exist","body":"<p>Don't use <code>@JoinTable</code>, the table is the same as the entity you are referencing. You just have to specify the <code>@JoinColumn</code>, hibernate will look for the column in the table referenced by the entity you are mapping the list to, <code>NomenclatureVersion</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany\n@JoinColumn(name=&quot;nomenclature_id&quot;) \nprivate List&lt;NomenclatureVersion&gt; version;\n</code></pre>\n"}],"owner":{"account_id":23731817,"reputation":75,"user_id":17750960,"display_name":"Polos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70699567,"answer_count":1,"score":0,"last_activity_date":1642089808,"creation_date":1642088989,"question_id":70699377,"body_markdown":"I have following entities: \r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;nomenclature&quot;, schema = &quot;public&quot;)\r\npublic class Nomenclature implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany\r\n    @JoinTable(name=&quot;nomenclature_versions&quot;,\r\n            joinColumns= @JoinColumn(name=&quot;nomenclature_id&quot;, referencedColumnName=&quot;id&quot;))\r\n    private List&lt;NomenclatureVersion&gt; version;\r\n}\r\n```\r\nand \r\n```\r\n@Entity\r\n@Setter\r\n@Getter\r\n@Table(name = &quot;nomenclature_versions&quot;, schema = &quot;public&quot;)\r\n@NoArgsConstructor\r\npublic class NomenclatureVersion implements Serializable {\r\n    @Id\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;nomenclature_id&quot;)\r\n    private Long nomenclatureId;\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private LocalDateTime creationDate;\r\n    @Column(name = &quot;puls_code&quot;)\r\n    private String pulsCode;\r\n    @Column(name = &quot;pic_url&quot;)\r\n    private String picUrl;\r\n    @Column(name = &quot;current&quot;)\r\n    private boolean current;\r\n}\r\n```\r\n\r\nWhen im trying to get Nomenclature with JPARepository getById(id) method im getting `org.postgresql.util.PSQLException: ERROR: column version0_.version_id does not exist`\r\n\r\nIt feels like the problem is around Hibernate Naming Strategies but i cant solve it. \r\n\r\nIs there any other way to let Hibernate know which column should it use to join tables?","title":"PSQLException: ERROR: column does not exist","body":"<p>I have following entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;nomenclature&quot;, schema = &quot;public&quot;)\npublic class Nomenclature implements Serializable {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany\n    @JoinTable(name=&quot;nomenclature_versions&quot;,\n            joinColumns= @JoinColumn(name=&quot;nomenclature_id&quot;, referencedColumnName=&quot;id&quot;))\n    private List&lt;NomenclatureVersion&gt; version;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Setter\n@Getter\n@Table(name = &quot;nomenclature_versions&quot;, schema = &quot;public&quot;)\n@NoArgsConstructor\npublic class NomenclatureVersion implements Serializable {\n    @Id\n    @Generated(GenerationTime.INSERT)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;nomenclature_id&quot;)\n    private Long nomenclatureId;\n    @Column(name = &quot;user_id&quot;)\n    private Long userId;\n    @Column(name = &quot;creation_date&quot;)\n    private LocalDateTime creationDate;\n    @Column(name = &quot;puls_code&quot;)\n    private String pulsCode;\n    @Column(name = &quot;pic_url&quot;)\n    private String picUrl;\n    @Column(name = &quot;current&quot;)\n    private boolean current;\n}\n</code></pre>\n<p>When im trying to get Nomenclature with JPARepository getById(id) method im getting <code>org.postgresql.util.PSQLException: ERROR: column version0_.version_id does not exist</code></p>\n<p>It feels like the problem is around Hibernate Naming Strategies but i cant solve it.</p>\n<p>Is there any other way to let Hibernate know which column should it use to join tables?</p>\n"},{"tags":["java","api","websocket","binance"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1642088289,"post_id":70698978,"comment_id":124983709,"body_markdown":"The documentation says to use close(). I don&#39;t quite understand what that comment on the deprecated annotation actually means.","body":"The documentation says to use close(). I don&#39;t quite understand what that comment on the deprecated annotation actually means."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1642089486,"post_id":70698978,"comment_id":124984208,"body_markdown":"Link to documentation: https://github.com/binance-exchange/binance-java-api#closing-web-sockets","body":"Link to documentation: <a href=\"https://github.com/binance-exchange/binance-java-api#closing-web-sockets\" rel=\"nofollow noreferrer\">github.com/binance-exchange/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5189266,"reputation":101,"user_id":4152671,"display_name":"SjoCi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642089497,"creation_date":1642089497,"answer_id":70699490,"question_id":70698978,"body_markdown":"It seams to me that the method returns with the Closeable. And this is true for not just the createNewWebSocket(..)...\r\n\r\nIn the github readme they explain it this way:\r\nhttps://github.com/binance-exchange/binance-java-api#closing-web-sockets\r\n\r\n```\r\nClosable ws = client.onAggTradeEvent(&quot;ethbtc&quot;, someCallback);\r\n// some time later...\r\nws.close();\r\n```\r\nSo you should not close the `client`, but the called method&#39;s return-object (the `Closable ws`).\r\n\r\nIn the the [link](https://github.com/binance-exchange/binance-java-api/blob/8d38e8e63c8bf125aff963bac0284961af0630e6/src/main/java/com/binance/api/client/impl/BinanceApiWebSocketClientImpl.java) you posted, it looks like many methods return with such Closeables.","title":"Closing WebSocket connection","body":"<p>It seams to me that the method returns with the Closeable. And this is true for not just the createNewWebSocket(..)...</p>\n<p>In the github readme they explain it this way:\n<a href=\"https://github.com/binance-exchange/binance-java-api#closing-web-sockets\" rel=\"nofollow noreferrer\">https://github.com/binance-exchange/binance-java-api#closing-web-sockets</a></p>\n<pre><code>Closable ws = client.onAggTradeEvent(&quot;ethbtc&quot;, someCallback);\n// some time later...\nws.close();\n</code></pre>\n<p>So you should not close the <code>client</code>, but the called method's return-object (the <code>Closable ws</code>).</p>\n<p>In the the <a href=\"https://github.com/binance-exchange/binance-java-api/blob/8d38e8e63c8bf125aff963bac0284961af0630e6/src/main/java/com/binance/api/client/impl/BinanceApiWebSocketClientImpl.java\" rel=\"nofollow noreferrer\">link</a> you posted, it looks like many methods return with such Closeables.</p>\n"}],"owner":{"account_id":23931061,"reputation":41,"user_id":17925547,"display_name":"Tasl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1642089497,"creation_date":1642087263,"question_id":70698978,"body_markdown":"I already have SDK with WS connection, but it has no method to close it. In documentation has been said:\r\n\r\n\r\n\r\n     * @deprecated This method is no longer functional. Please use the returned {@link Closeable} from any of the other methods to close the web socket.\r\n     \r\n    @Override\r\n    public void close() { }\r\n\r\n    private Closeable createNewWebSocket(String channel, BinanceApiWebSocketListener&lt;?&gt; listener) {\r\n        String streamingUrl = String.format(&quot;%s/%s&quot;, BinanceApiConfig.getStreamApiBaseUrl(), channel);\r\n        Request request = new Request.Builder().url(streamingUrl).build();\r\n        final WebSocket webSocket = client.newWebSocket(request, listener);\r\n        return () -&gt; {\r\n            final int code = 1000;\r\n            listener.onClosing(webSocket, code, null);\r\n            webSocket.close(code, null);\r\n            listener.onClosed(webSocket, code, null);\r\n        };\r\n    }\r\n\r\nSo, how can I write close function to close my connection? Or get this @link Closeable?\r\nhttps://github.com/binance-exchange/binance-java-api/blob/8d38e8e63c8bf125aff963bac0284961af0630e6/src/main/java/com/binance/api/client/impl/BinanceApiWebSocketClientImpl.java","title":"Closing WebSocket connection","body":"<p>I already have SDK with WS connection, but it has no method to close it. In documentation has been said:</p>\n<pre><code> * @deprecated This method is no longer functional. Please use the returned {@link Closeable} from any of the other methods to close the web socket.\n \n@Override\npublic void close() { }\n\nprivate Closeable createNewWebSocket(String channel, BinanceApiWebSocketListener&lt;?&gt; listener) {\n    String streamingUrl = String.format(&quot;%s/%s&quot;, BinanceApiConfig.getStreamApiBaseUrl(), channel);\n    Request request = new Request.Builder().url(streamingUrl).build();\n    final WebSocket webSocket = client.newWebSocket(request, listener);\n    return () -&gt; {\n        final int code = 1000;\n        listener.onClosing(webSocket, code, null);\n        webSocket.close(code, null);\n        listener.onClosed(webSocket, code, null);\n    };\n}\n</code></pre>\n<p>So, how can I write close function to close my connection? Or get this @link Closeable?\n<a href=\"https://github.com/binance-exchange/binance-java-api/blob/8d38e8e63c8bf125aff963bac0284961af0630e6/src/main/java/com/binance/api/client/impl/BinanceApiWebSocketClientImpl.java\" rel=\"nofollow noreferrer\">https://github.com/binance-exchange/binance-java-api/blob/8d38e8e63c8bf125aff963bac0284961af0630e6/src/main/java/com/binance/api/client/impl/BinanceApiWebSocketClientImpl.java</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1642060544,"post_id":70693032,"comment_id":124972710,"body_markdown":"[GestureDetector](https://developer.android.com/reference/android/view/GestureDetector) does support double tap. Though using this on a button just for double tap is kind of overkill and not necessarily simpler because it require overiding touch event. [Implementing your own logic](https://stackoverflow.com/questions/4849115/implement-double-click-for-button-in-android) woudn&#39;t be hard.","body":"<a href=\"https://developer.android.com/reference/android/view/GestureDetector\" rel=\"nofollow noreferrer\">GestureDetector</a> does support double tap. Though using this on a button just for double tap is kind of overkill and not necessarily simpler because it require overiding touch event. <a href=\"https://stackoverflow.com/questions/4849115/implement-double-click-for-button-in-android\">Implementing your own logic</a> woudn&#39;t be hard."}],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642060840,"creation_date":1642060840,"answer_id":70693160,"question_id":70693032,"body_markdown":"You can Gesture Detector for detecting double taps.\r\n\r\n    final GestureDetector mDetector = new GestureDetector(getContext(), new GestureDetector.SimpleOnGestureListener {\r\n    \r\n        @Override\r\n        public boolean onDown(MotionEvent e) {\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onDoubleTap(MotionEvent e) {\r\n    \r\n            return true;\r\n        }\r\n    });\r\n\r\nFor more details you can check [this][1] documentation.\r\n\r\n\r\n  [1]: https://developer.android.com/training/gestures/detector.html","title":"Handaling single and double taps android kotlin","body":"<p>You can Gesture Detector for detecting double taps.</p>\n<pre><code>final GestureDetector mDetector = new GestureDetector(getContext(), new GestureDetector.SimpleOnGestureListener {\n\n    @Override\n    public boolean onDown(MotionEvent e) {\n\n        return true;\n    }\n\n    @Override\n    public boolean onDoubleTap(MotionEvent e) {\n\n        return true;\n    }\n});\n</code></pre>\n<p>For more details you can check <a href=\"https://developer.android.com/training/gestures/detector.html\" rel=\"nofollow noreferrer\">this</a> documentation.</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642089361,"creation_date":1642089361,"answer_id":70699460,"question_id":70693032,"body_markdown":"Answer given by @TaranmeetSingh is absolutely right but there is a better solution. You can use [this][1] library to do it.\r\n# How to implement\r\n\r\n[![](https://jitpack.io/v/pedromassango/doubleClick.svg)](https://jitpack.io/#pedromassango/doubleClick)\r\n\r\n1. Add this library -&gt; `implementation &#39;com.github.pedromassango:doubleClick:CURRENT-VERSION&#39;`(Version is given above).\r\n\r\n2. Instead of using an `onClickListenerObject` for onClickListener, you can use `DoubleClickListener` Check the example below\r\n\r\n       Button btn = new Button(this);\r\n       btn.setOnClickListener( new DoubleClick(new DoubleClickListener() {\r\n            @Override\r\n            public void onSingleClick(View view) {\r\n\r\n                // Single tap here.\r\n            }\r\n\r\n            @Override\r\n            public void onDoubleClick(View view) {\r\n\r\n                // Double tap here.\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://github.com/pedromassango/doubleClick","title":"Handaling single and double taps android kotlin","body":"<p>Answer given by @TaranmeetSingh is absolutely right but there is a better solution. You can use <a href=\"https://github.com/pedromassango/doubleClick\" rel=\"nofollow noreferrer\">this</a> library to do it.</p>\n<h1>How to implement</h1>\n<p><a href=\"https://jitpack.io/#pedromassango/doubleClick\" rel=\"nofollow noreferrer\"><img src=\"https://jitpack.io/v/pedromassango/doubleClick.svg\" alt=\"\" /></a></p>\n<ol>\n<li><p>Add this library -&gt; <code>implementation 'com.github.pedromassango:doubleClick:CURRENT-VERSION'</code>(Version is given above).</p>\n</li>\n<li><p>Instead of using an <code>onClickListenerObject</code> for onClickListener, you can use <code>DoubleClickListener</code> Check the example below</p>\n<pre><code>Button btn = new Button(this);\nbtn.setOnClickListener( new DoubleClick(new DoubleClickListener() {\n     @Override\n     public void onSingleClick(View view) {\n\n         // Single tap here.\n     }\n\n     @Override\n     public void onDoubleClick(View view) {\n\n         // Double tap here.\n     }\n });\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":23504422,"reputation":15,"user_id":17553911,"display_name":"Digital Water"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642089361,"creation_date":1642060141,"question_id":70693032,"body_markdown":"I want to display some toast when my button is clicked once and other toast when my button is clicked twice. Is there any built in library or do I need to implement custom logic?","title":"Handaling single and double taps android kotlin","body":"<p>I want to display some toast when my button is clicked once and other toast when my button is clicked twice. Is there any built in library or do I need to implement custom logic?</p>\n"},{"tags":["java","couchbase"],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642088848,"creation_date":1642088848,"answer_id":70699345,"question_id":70695057,"body_markdown":"Are you in a situation where you expect data not to persist periodically due to an unstable application or Couchbase cluster, or are you just being extra careful?\r\n\r\nIn either case, what you&#39;re probably looking for are **Durability** options. For example:\r\n\r\n    collection.upsert(&quot;my-document&quot;, JsonObject.create().put(&quot;doc&quot;, true),\r\n                upsertOptions().durability(DurabilityLevel.MAJORITY));\r\n\r\n`DurabilityLevel` has multiple options: `Majority, MajorityAndPersistToActive, PersistToMajority`, and `None`.\r\n\r\nFor more details on which ones you should choose and why, check out the docs on [durable writes][1].\r\n\r\nAlso note that if you&#39;re on an older version of Couchbase (pre-6.5 I think), there are still some durability options, but they are all &quot;client checked&quot; options, which means there are some edge cases (which may be very infrequently encountered).\r\n\r\n  [1]: https://docs.couchbase.com/java-sdk/current/concept-docs/durability-replication-failure-considerations.html#durable-writes","title":"How to ensure data is saved in Couchbase?","body":"<p>Are you in a situation where you expect data not to persist periodically due to an unstable application or Couchbase cluster, or are you just being extra careful?</p>\n<p>In either case, what you're probably looking for are <strong>Durability</strong> options. For example:</p>\n<pre><code>collection.upsert(&quot;my-document&quot;, JsonObject.create().put(&quot;doc&quot;, true),\n            upsertOptions().durability(DurabilityLevel.MAJORITY));\n</code></pre>\n<p><code>DurabilityLevel</code> has multiple options: <code>Majority, MajorityAndPersistToActive, PersistToMajority</code>, and <code>None</code>.</p>\n<p>For more details on which ones you should choose and why, check out the docs on <a href=\"https://docs.couchbase.com/java-sdk/current/concept-docs/durability-replication-failure-considerations.html#durable-writes\" rel=\"nofollow noreferrer\">durable writes</a>.</p>\n<p>Also note that if you're on an older version of Couchbase (pre-6.5 I think), there are still some durability options, but they are all &quot;client checked&quot; options, which means there are some edge cases (which may be very infrequently encountered).</p>\n"}],"owner":{"account_id":17509928,"reputation":31,"user_id":12698239,"display_name":"icehead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70699345,"answer_count":1,"score":2,"last_activity_date":1642088848,"creation_date":1642069745,"question_id":70695057,"body_markdown":"I&#39;m implementing strong data consistency between two applications, one of which uses Couchbase as its storage.\r\n\r\nWhat is the right way to check if data sent from app1 to app2_with_couchbase is actually persisted to inform app1? Database could be queried periodically to confirm, but there is probably more elegant approach.\r\nI&#39;m using a standard Couchbase client for Java.","title":"How to ensure data is saved in Couchbase?","body":"<p>I'm implementing strong data consistency between two applications, one of which uses Couchbase as its storage.</p>\n<p>What is the right way to check if data sent from app1 to app2_with_couchbase is actually persisted to inform app1? Database could be queried periodically to confirm, but there is probably more elegant approach.\nI'm using a standard Couchbase client for Java.</p>\n"},{"tags":["java","date","locale"],"comments":[{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1594999410,"post_id":62956945,"comment_id":111332611,"body_markdown":"does this answer your question? \n\nhttps://stackoverflow.com/questions/8770726/java-date-format-conversion-getting-wrong-month","body":"does this answer your question?   <a href=\"https://stackoverflow.com/questions/8770726/java-date-format-conversion-getting-wrong-month\" title=\"java date format conversion getting wrong month\">stackoverflow.com/questions/8770726/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1595268875,"post_id":62956945,"comment_id":111410319,"body_markdown":"`MonthDay.now(ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;MMM dd&quot;, Locale.forLanguageTag(&quot;nl-NL&quot;)))` just gave me `jul. 20` Is this what you were after?","body":"<code>MonthDay.now(ZoneId.systemDefault()).format(DateTimeFormatte&zwnj;&#8203;r.ofPattern(&quot;MMM dd&quot;, Locale.forLanguageTag(&quot;nl-NL&quot;)))</code> just gave me <code>jul. 20</code> Is this what you were after?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642088548,"creation_date":1595005531,"answer_id":62958676,"question_id":62956945,"body_markdown":"Never use 2-4 character pseudo-zones such as `PST`, `CST`, or `IST`. These values are not standardized, and are not even unique!\r\n\r\n[Real time zone names][1] are in the format of `Continent/ Region` such as `Africa/Tunis` or `Asia/Tokyo`. For the time zone of most of the west coast of US, if that is what you meant by `PST`, use `America/Los_Angeles`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ; \r\n\r\nNever use the terrible legacy date-time classes such as `Calendar`. Use only *java.time* classes.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\nGenerate text in standard [ISO 8601][2] format wisely extended by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString() ;\r\n\r\nLocalize a textual representation for Dutch language and Netherlands culture.\r\n\r\n    Locale locale = new Locale( &quot;nl&quot; , &quot;NL&quot; ) ;\r\n    DateTimeFormatter f = \r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.FULL )\r\n        .withLocale( locale ) \r\n    ;\r\n    String output = zdt.format( f ) ;\r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n&gt; 2020-07-17T09:30:58.183568-07:00[America/Los_Angeles]\r\n\r\n&gt;vrijdag 17 juli 2020 om 09:30:58 Pacific-zomertijd\r\n\r\n\r\nSearch to learn more. All this has been addressed many many times already on Stack Overflow.\r\n  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.m.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://ideone.com/vHO9rW","title":"How to get date in &quot;mmm dd&quot; format for nl_NL locale?","body":"<p>Never use 2-4 character pseudo-zones such as <code>PST</code>, <code>CST</code>, or <code>IST</code>. These values are not standardized, and are not even unique!</p>\n<p><a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Real time zone names</a> are in the format of <code>Continent/ Region</code> such as <code>Africa/Tunis</code> or <code>Asia/Tokyo</code>. For the time zone of most of the west coast of US, if that is what you meant by <code>PST</code>, use <code>America/Los_Angeles</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Los_Angeles&quot; ) ; \n</code></pre>\n<p>Never use the terrible legacy date-time classes such as <code>Calendar</code>. Use only <em>java.time</em> classes.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>Generate text in standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format wisely extended by appending the name of the time zone in square brackets.</p>\n<pre><code>String output = zdt.toString() ;\n</code></pre>\n<p>Localize a textual representation for Dutch language and Netherlands culture.</p>\n<pre><code>Locale locale = new Locale( &quot;nl&quot; , &quot;NL&quot; ) ;\nDateTimeFormatter f = \n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.FULL )\n    .withLocale( locale ) \n;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/vHO9rW\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2020-07-17T09:30:58.183568-07:00[America/Los_Angeles]</p>\n</blockquote>\n<blockquote>\n<p>vrijdag 17 juli 2020 om 09:30:58 Pacific-zomertijd</p>\n</blockquote>\n<p>Search to learn more. All this has been addressed many many times already on Stack Overflow.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595007700,"creation_date":1595007700,"answer_id":62959210,"question_id":62956945,"body_markdown":" &gt; I am not getting it in correct nl_NL format\r\n\r\nThat is because `new Locale(&quot;nl_NL&quot;)` is wrong. It must be either [**`new Locale(&quot;nl&quot;, &quot;NL&quot;)`**][1] with separate `language` and `country` parameters, or [**`Locale.forLanguageTag(&quot;nl-NL&quot;)`**][2] with a `languageTag` parameter using a dash in the value. It is never with an underscore.\r\n\r\nIt is also because date pattern `&quot;mmm dd&quot;` is wrong. It must be [**`&quot;MMM dd&quot;`**][3] with M&#39;s in uppercase to represent *month*, not in lowercase which represents *minute*.\r\n\r\nAnd finally, using time zone `PST` is wrong, because it is not well-defined. It can mean &quot;Pitcairn Standard Time&quot; or &quot;Pacific Standard Time&quot;, and even that second one is wrong, because the US Pacific coast is currently observing `PDT` (Pacific Daylight Time). The correct time zone is `America/Los_Angeles`.\r\n\r\nApplying those fixes to the question code:\r\n\r\n```lang-java\r\nCalendar calendar = Calendar.getInstance(); \r\nDateFormat df = new SimpleDateFormat(&quot;MMM dd&quot;, new Locale(&quot;nl&quot;, &quot;NL&quot;));\r\ndf.setTimeZone(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\r\nString expectedDate = df.format(calendar.getTime()).toLowerCase();\r\nSystem.out.println(&quot;Date in PST Timezone : &quot; + expectedDate);\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\nDate in PST Timezone : jul. 17\r\n```\r\n\r\nOf course, for a date-only value, time zone doesn&#39;t really apply, but there it is.\r\n\r\n---\r\n\r\nYou should however use the newer Java 8 Time API.\r\n\r\n```lang-java\r\nDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;MMM dd&quot;, new Locale(&quot;nl&quot;, &quot;NL&quot;));\r\nString date = MonthDay.now(ZoneId.of(&quot;America/Los_Angeles&quot;)).format(fmt);\r\nSystem.out.println(&quot;Date : &quot; + date);\r\n```\r\n\r\n*Output*\r\n\r\n```lang-none\r\nDate : jul. 17\r\n```\r\n\r\nYou can also use `LocaleDate.now(...)`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#Locale-java.lang.String-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#forLanguageTag-java.lang.String-\r\n  [3]: https://stackoverflow.com/a/4216767/5221149","title":"How to get date in &quot;mmm dd&quot; format for nl_NL locale?","body":"<blockquote>\n<p>I am not getting it in correct nl_NL format</p>\n</blockquote>\n<p>That is because <code>new Locale(&quot;nl_NL&quot;)</code> is wrong. It must be either <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#Locale-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><strong><code>new Locale(&quot;nl&quot;, &quot;NL&quot;)</code></strong></a> with separate <code>language</code> and <code>country</code> parameters, or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#forLanguageTag-java.lang.String-\" rel=\"nofollow noreferrer\"><strong><code>Locale.forLanguageTag(&quot;nl-NL&quot;)</code></strong></a> with a <code>languageTag</code> parameter using a dash in the value. It is never with an underscore.</p>\n<p>It is also because date pattern <code>&quot;mmm dd&quot;</code> is wrong. It must be <a href=\"https://stackoverflow.com/a/4216767/5221149\"><strong><code>&quot;MMM dd&quot;</code></strong></a> with M's in uppercase to represent <em>month</em>, not in lowercase which represents <em>minute</em>.</p>\n<p>And finally, using time zone <code>PST</code> is wrong, because it is not well-defined. It can mean &quot;Pitcairn Standard Time&quot; or &quot;Pacific Standard Time&quot;, and even that second one is wrong, because the US Pacific coast is currently observing <code>PDT</code> (Pacific Daylight Time). The correct time zone is <code>America/Los_Angeles</code>.</p>\n<p>Applying those fixes to the question code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar calendar = Calendar.getInstance(); \nDateFormat df = new SimpleDateFormat(&quot;MMM dd&quot;, new Locale(&quot;nl&quot;, &quot;NL&quot;));\ndf.setTimeZone(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\nString expectedDate = df.format(calendar.getTime()).toLowerCase();\nSystem.out.println(&quot;Date in PST Timezone : &quot; + expectedDate);\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>Date in PST Timezone : jul. 17\n</code></pre>\n<p>Of course, for a date-only value, time zone doesn't really apply, but there it is.</p>\n<hr />\n<p>You should however use the newer Java 8 Time API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;MMM dd&quot;, new Locale(&quot;nl&quot;, &quot;NL&quot;));\nString date = MonthDay.now(ZoneId.of(&quot;America/Los_Angeles&quot;)).format(fmt);\nSystem.out.println(&quot;Date : &quot; + date);\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>Date : jul. 17\n</code></pre>\n<p>You can also use <code>LocaleDate.now(...)</code>.</p>\n"}],"owner":{"account_id":2450710,"reputation":50,"user_id":2137067,"display_name":"shantanu kulkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62958676,"answer_count":2,"score":0,"last_activity_date":1642088548,"creation_date":1594999092,"question_id":62956945,"body_markdown":"I want to get date in jave for nl_NL locale\r\n\r\n    Calendar calendar = Calendar.getInstance(); \r\n    DateFormat df = new SimpleDateFormat(Pattern, new Locale(&quot;nl_NL&quot;));\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n    String expectedDate = df.format(calendar.getTime()).toLowerCase();\r\n    System.out.println(&quot;Date in PST Timezone : &quot; + expectedDate);\r\n    return expectedDate;\r\n\r\nI am not getting it in correct nl_NL format! \r\n\r\ncan someone please help me in this ?\r\n","title":"How to get date in &quot;mmm dd&quot; format for nl_NL locale?","body":"<p>I want to get date in jave for nl_NL locale</p>\n<pre><code>Calendar calendar = Calendar.getInstance(); \nDateFormat df = new SimpleDateFormat(Pattern, new Locale(&quot;nl_NL&quot;));\ndf.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\nString expectedDate = df.format(calendar.getTime()).toLowerCase();\nSystem.out.println(&quot;Date in PST Timezone : &quot; + expectedDate);\nreturn expectedDate;\n</code></pre>\n<p>I am not getting it in correct nl_NL format!</p>\n<p>can someone please help me in this ?</p>\n"},{"tags":["java","multithreading","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1504390821,"post_id":46018534,"comment_id":78997199,"body_markdown":"`Executors.newFixedThreadPool(nThreads)` where `nThreads =1`?","body":"<code>Executors.newFixedThreadPool(nThreads)</code> where <code>nThreads =1</code>?"},{"owner":{"account_id":7716280,"reputation":349,"user_id":8484328,"display_name":"africandrogba"},"score":0,"creation_date":1504392032,"post_id":46018534,"comment_id":78997417,"body_markdown":"What will I get from that? How can I get the number of tasks in queue of threadpool? Please be elaborate.","body":"What will I get from that? How can I get the number of tasks in queue of threadpool? Please be elaborate."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1504396908,"post_id":46018534,"comment_id":78998172,"body_markdown":"Assuming that `newSingleThreadExecutor()` is actually returning a type of `ThreadPoolExector`, you can just cast the object and call https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#getActiveCount--  Not sure why that&#39;s important though.","body":"Assuming that <code>newSingleThreadExecutor()</code> is actually returning a type of <code>ThreadPoolExector</code>, you can just cast the object and call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#getActiveCount--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>  Not sure why that&#39;s important though."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1528969526,"post_id":46018534,"comment_id":88711581,"body_markdown":"@markspace Your assumption is wrong, look at my comment below.","body":"@markspace Your assumption is wrong, look at my comment below."}],"answers":[{"tags":[],"owner":{"account_id":6512090,"reputation":336,"user_id":5038981,"display_name":"Sammy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506447168,"creation_date":1506447168,"answer_id":46432593,"question_id":46018534,"body_markdown":"You can cast this to ThreadPoolExecutor.\r\n\r\nThreadPoolExecutor ex=(ThreadPoolExecutor)executor;\r\nex.getQueue().size();","title":"How to get the number of tasks in a queue in executor service?","body":"<p>You can cast this to ThreadPoolExecutor.</p>\n\n<p>ThreadPoolExecutor ex=(ThreadPoolExecutor)executor;\nex.getQueue().size();</p>\n"},{"tags":[],"owner":{"account_id":3999523,"reputation":371,"user_id":3295911,"display_name":"tanacsg"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1642088410,"creation_date":1553819380,"answer_id":55408826,"question_id":46018534,"body_markdown":"I think this should work:\r\n\r\n        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) this.executorService;\r\n        int activeCount = threadPoolExecutor.getActiveCount();\r\n        long taskCount = threadPoolExecutor.getTaskCount();\r\n        long completedTaskCount = threadPoolExecutor.getCompletedTaskCount();\r\n        long tasksToDo = taskCount - completedTaskCount - activeCount;\r\n\r\nFor some reason though it does not always exclude all the cancelled tasks, only after some periodic clean ups. So I had to introduce a second counter:\r\n\r\n        long tasksToDo2 = threadPoolExecutor.getQueue().stream().filter(t -&gt; !((FutureTask) t).isDone()).count();\r\n\r\n\r\n","title":"How to get the number of tasks in a queue in executor service?","body":"<p>I think this should work:</p>\n<pre><code>    ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) this.executorService;\n    int activeCount = threadPoolExecutor.getActiveCount();\n    long taskCount = threadPoolExecutor.getTaskCount();\n    long completedTaskCount = threadPoolExecutor.getCompletedTaskCount();\n    long tasksToDo = taskCount - completedTaskCount - activeCount;\n</code></pre>\n<p>For some reason though it does not always exclude all the cancelled tasks, only after some periodic clean ups. So I had to introduce a second counter:</p>\n<pre><code>    long tasksToDo2 = threadPoolExecutor.getQueue().stream().filter(t -&gt; !((FutureTask) t).isDone()).count();\n</code></pre>\n"}],"owner":{"account_id":7716280,"reputation":349,"user_id":8484328,"display_name":"africandrogba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8325,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1642088410,"creation_date":1504389080,"question_id":46018534,"body_markdown":"So I am using executorservice to create a threadpool. \r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\nI am trying to access the number of tasks in the queue of the threadpool. I see that there are no methods to get that.\r\nI know there are methods to get the queue size in threadpoolexecutor but how can I do that with executorservice object. \r\n\r\nLike I said I can get the queue information if I have created a ThreadpoolExecutor like this\r\n\r\n  \r\n\r\n    ThreadPoolExecutor tpExecutor =  new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\r\n\r\nI know I can use the tpExecutor.queue.size() to get the number of tasks in queue of threadpool. \r\nBut currently I have declared my threadpool using Executor Service. How can I do that?\r\nIt would be appreciable if people can write code and demonstrate. ","title":"How to get the number of tasks in a queue in executor service?","body":"<p>So I am using executorservice to create a threadpool. </p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n</code></pre>\n\n<p>I am trying to access the number of tasks in the queue of the threadpool. I see that there are no methods to get that.\nI know there are methods to get the queue size in threadpoolexecutor but how can I do that with executorservice object. </p>\n\n<p>Like I said I can get the queue information if I have created a ThreadpoolExecutor like this</p>\n\n<pre><code>ThreadPoolExecutor tpExecutor =  new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n\n<p>I know I can use the tpExecutor.queue.size() to get the number of tasks in queue of threadpool. \nBut currently I have declared my threadpool using Executor Service. How can I do that?\nIt would be appreciable if people can write code and demonstrate. </p>\n"},{"tags":["java","android","android-sqlite","expandablelistview","expandablelistadapter"],"answers":[{"tags":[],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642087782,"creation_date":1633195856,"answer_id":69418741,"question_id":69417887,"body_markdown":"I ended up solving this by manually keeping track of all expanded states within the adapter and creating a ```requery()``` call through in my Adapter implementation which recreates the expansion states when the ```Cursor``` is requeried.  I felt like this was the most elegant solution for solving this rather strange quirk with ```CursorTreeAdapter``` updates.\r\n\r\nI added the following code to the ```CursorTreeAdapter``` implementation:\r\n\r\n    public void requery() {\r\n        getCursor().requery();\r\n        for(int i = 0; i &lt; getCursor().getCount(); i++) {\r\n            Cursor groupCursor = getGroup(i);\r\n            String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\r\n            if(expansionStates.containsKey(productID)) {\r\n                if(expansionStates.get(productID))\r\n                    mShipKitExpandableListView.expandGroup(i);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onGroupCollapsed(int groupPosition) {\r\n        Cursor groupCursor = getGroup(groupPosition);\r\n        String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\r\n        expansionStates.put(productID, false);\r\n    }\r\n\r\n    @Override\r\n    public void onGroupExpanded(int groupPosition) {\r\n        Cursor groupCursor = getGroup(groupPosition);\r\n        String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\r\n        expansionStates.put(productID, true);\r\n    }\r\n\r\nFrom here, it&#39;s just a simple matter of calling the ```ShipKitExpandableAdapter.requery()``` method rather than the underlying Cursor&#39;s requery method, and, lo and behold, on every requery the expansion states are preserved.  Note that you can, of course, preserve the expanded state using any identifier in your Cursor result by changing the Map.Entry type arguments (if necessary) and filling in your own column name in ```getColumnIndex()```.\r\n\r\nHandler:\r\n\r\n    /**\r\n\t * a Handler which will be invoked when a database change has occurred.\r\n     * I have tried several possibilities to achieve the desired behavior to no avail.\r\n\t */\r\n\tpublic android.os.Handler mRefreshHandler = new Handler() {\r\n\t\t@Override\r\n\t\tpublic void handleMessage(android.os.Message msg) {\r\n\t\t\tnew SummaryTask().execute();\r\n\t\t\tmShipKitExpandableListAdapter.requery();\r\n\t\t}\r\n\t};","title":"Android CursorTreeAdapter does not update group cursor / collapses group after Cursor update","body":"<p>I ended up solving this by manually keeping track of all expanded states within the adapter and creating a <code>requery()</code> call through in my Adapter implementation which recreates the expansion states when the <code>Cursor</code> is requeried.  I felt like this was the most elegant solution for solving this rather strange quirk with <code>CursorTreeAdapter</code> updates.</p>\n<p>I added the following code to the <code>CursorTreeAdapter</code> implementation:</p>\n<pre><code>public void requery() {\n    getCursor().requery();\n    for(int i = 0; i &lt; getCursor().getCount(); i++) {\n        Cursor groupCursor = getGroup(i);\n        String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\n        if(expansionStates.containsKey(productID)) {\n            if(expansionStates.get(productID))\n                mShipKitExpandableListView.expandGroup(i);\n        }\n    }\n}\n\n@Override\npublic void onGroupCollapsed(int groupPosition) {\n    Cursor groupCursor = getGroup(groupPosition);\n    String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\n    expansionStates.put(productID, false);\n}\n\n@Override\npublic void onGroupExpanded(int groupPosition) {\n    Cursor groupCursor = getGroup(groupPosition);\n    String productID = groupCursor.getString(groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\n    expansionStates.put(productID, true);\n}\n</code></pre>\n<p>From here, it's just a simple matter of calling the <code>ShipKitExpandableAdapter.requery()</code> method rather than the underlying Cursor's requery method, and, lo and behold, on every requery the expansion states are preserved.  Note that you can, of course, preserve the expanded state using any identifier in your Cursor result by changing the Map.Entry type arguments (if necessary) and filling in your own column name in <code>getColumnIndex()</code>.</p>\n<p>Handler:</p>\n<pre><code>/**\n * a Handler which will be invoked when a database change has occurred.\n * I have tried several possibilities to achieve the desired behavior to no avail.\n */\npublic android.os.Handler mRefreshHandler = new Handler() {\n    @Override\n    public void handleMessage(android.os.Message msg) {\n        new SummaryTask().execute();\n        mShipKitExpandableListAdapter.requery();\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642087782,"creation_date":1633185528,"question_id":69417887,"body_markdown":"I would like ExpandableListView to update (rebind?) both the group items and the child items when a SQLite database change is made.  I have implemented my own subclass of CursorTreeAdapter.  When the database is updated, the backing cursors (both children and group) need to be requeried and the views refreshed, preserving expanded/collapsed state of the groups.  However, I&#39;m unable to achieve this  behavior.\r\n\r\n**Desired behavior:** Both the group cursor and the child cursor are updated.  A child item will be added, and all groups currently expanded will remain expanded.\r\n\r\n**Scenario #1 - Updating using** ```CursorTreeAdapter.notifyDataSetChanged()```\r\n\r\nWhen a database change occurs, and I invoke this method on the Adapter, the child item is added, the groups remain expanded as they were but **the group item text is not updated**.\r\n\r\nIn this scenario, the group view displayed data is not changed to reflect the child data.  I can see that the group cursor has not been updated by invoking this method, and contains stale data.\r\n\r\n**Scenario #2 - Updating using** ```CursorTreeAdapter.getCursor().requery()```\r\n\r\nWhen a database change occurs, and I invoke this method on the Adapter, the child item is added, the **group which has the new child collapses automatically**, and the group item text is updated.\r\n\r\nIn this scenario, I can see that the group cursor has been updated and the data in the group view is correct, but the group should not collapse after a child is added.  I do not understand why the expanded state is not preserved, but it should be.\r\n\r\nApplicable code follows...\r\n\r\nIf it is of any consequence, here is the ```build.gradle``` pertinent settings with packaging options and dependencies omitted for brevity:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.conceptualsystems.kitting&quot;\r\n            minSdkVersion 24\r\n            targetSdkVersion 29\r\n            versionCode 92\r\n            versionName &quot;2.29&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            multiDexEnabled true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nHandler:\r\n\r\n    /**\r\n\t * a Handler which will be invoked when a database change has occurred.\r\n     * I have tried several possibilities to achieve the desired behavior to no avail.\r\n\t */\r\n\tpublic android.os.Handler mRefreshHandler = new Handler() {\r\n\t\t@Override\r\n\t\tpublic void handleMessage(android.os.Message msg) {\r\n\t\t\tnew SummaryTask().execute();\r\n\t\t\t//mShipKitExpandableListAdapter.notifyDataSetChanged();\r\n\t\t\t//mShipKitExpandableListAdapter.setGroupCursor(\r\n\t\t\t//\t\tDbSingleton.getInstance().getDatabase().rawQuery(\r\n\t\t\t//\t\t\t\tgetGroupQuery(), null\r\n\t\t\t//\t\t));\r\n\t\t\tmShipKitExpandableListAdapter.getCursor().requery();\r\n\t\t\t//mShipKitExpandableListView.invalidateViews();\r\n\t\t}\r\n\t};\r\n\r\nShipKitExpandableAdapter:\r\n\r\n\tpublic class ShipKitExpandableAdapter extends CursorTreeAdapter {\r\n\t\tpublic ShipKitExpandableAdapter(Cursor cursor, Context context) {\r\n\t\t\tsuper(cursor, context, true);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected Cursor getChildrenCursor(Cursor groupCursor) {\r\n\t\t\tString productName = groupCursor.getString(\r\n\t\t\t\t\tgroupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\r\n\r\n\t\t\treturn DbSingleton.getInstance().getDatabase().rawQuery(\r\n\t\t\t\t\tgetChildQuery(productName), null\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {\r\n\t\t\tView groupView = super.getGroupView(\r\n\t\t\t\t\tgroupPosition,\r\n\t\t\t\t\tisExpanded,\r\n\t\t\t\t\tconvertView,\r\n\t\t\t\t\tparent);\r\n\t\t\tif(groupView != null) {\r\n\t\t\t\tColorLayout.setTheme(groupView);\r\n\t\t\t}\r\n\r\n\t\t\treturn groupView;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected View newGroupView(Context context, Cursor cursor, boolean isExpanded, ViewGroup parent) {\r\n\t\t\treturn mInflater.inflate(R.layout.ship_list_group, parent, false);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void bindGroupView(View view, Context context, Cursor cursor, boolean isExpanded) {\r\n\t\t\ttry {\r\n\t\t\t\tString count = cursor.getString(cursor.getColumnIndex(&quot;count&quot;));\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_pieces)).setText(count);\r\n\t\t\t\tString netUnits = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET));\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_net_units)).setText(netUnits);\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_net_uom)).setText(&quot; lbs&quot;);\r\n\t\t\t\tString productName = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME));\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_product_name)).setText(productName);\r\n\t\t\t\tString grossUnits = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS));\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_gross_units)).setText(grossUnits);\r\n\t\t\t\t((TextView)view.findViewById(R.id.group_gross_uom)).setText(&quot; lbs&quot;);\r\n\t\t\t\tColorLayout.setTheme(view);\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tmLogger.info(&quot;error getting a field: &quot;, e);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic View getChildView(final int groupPosition,\r\n\t\t\t\t\t\t\t\t final int childPosition, boolean isLastChild, View convertView,\r\n\t\t\t\t\t\t\t\t ViewGroup parent) {\r\n\t\t\tfinal View childView = super.getChildView(\r\n\t\t\t\t\tgroupPosition,\r\n\t\t\t\t\tchildPosition,\r\n\t\t\t\t\tisLastChild,\r\n\t\t\t\t\tconvertView,\r\n\t\t\t\t\tparent);\r\n\t\t\tif(childView != null) {\r\n\t\t\t\tColorLayout.setTheme(childView);\r\n\r\n\t\t\t\tchildView.setOnLongClickListener(new View.OnLongClickListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic boolean onLongClick(View v) {\r\n\t\t\t\t\t\t//long press deletes a shipment record.\r\n\t\t\t\t\t\t//mShipKitAdapter.getCursor().moveToPosition(position);\r\n\t\t\t\t\t\t//String kit_id = kitCursor.getString(kitCursor.getColumnIndex(DbSchema.KitSchema.TABLE_NAME+DbSchema.KitSchema.COLUMN_ID));\r\n\t\t\t\t\t\tString kit_id = ((TextView)childView.findViewById(R.id.kit_id)).getText().toString();\r\n\t\t\t\t\t\tremoveDialog(DIALOG_CONFIRM_DELETE);\r\n\r\n\t\t\t\t\t\tBundle b = new Bundle();\r\n\t\t\t\t\t\tif(kit_id!=null) {\r\n\t\t\t\t\t\t\tb.putInt(&quot;kit_id&quot;, Integer.valueOf(kit_id));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tshowDialog(DIALOG_CONFIRM_DELETE, b);\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn childView;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected View newChildView(Context context, Cursor cursor, boolean isLastChild, ViewGroup parent) {\r\n\t\t\treturn mInflater.inflate(R.layout.ship_list_item, parent, false);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void bindChildView(View view, Context context, Cursor cursor, boolean isLastChild) {\r\n\t\t\ttry {\r\n\t\t\t\t((TextView)view.findViewById(R.id.kit_id)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID)));\r\n\t\t\t\t((TextView)view.findViewById(R.id.net_units)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET)));\r\n\t\t\t\t((TextView)view.findViewById(R.id.net_uom)).setText(&quot; lbs&quot;);\r\n\t\t\t\t((TextView)view.findViewById(R.id.product_name)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME)));\r\n\t\t\t\t((TextView)view.findViewById(R.id.gross_units)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS)));\r\n\t\t\t\t((TextView)view.findViewById(R.id.gross_uom)).setText(&quot; lbs&quot;);\r\n\t\t\t\tColorLayout.setTheme(view);\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tmLogger.info(&quot;error getting a field: &quot;, e);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nSetting Adapter:\r\n\r\n    mShipKitExpandableListAdapter = new ShipKitExpandableAdapter(\r\n        DbSingleton.getInstance().getDatabase().rawQuery(\r\n                getGroupQuery(), null\r\n        ),\r\n        ShipActivity.this\r\n    );\r\n    mShipKitExpandableListView.setAdapter(mShipKitExpandableListAdapter);\r\n    mShipKitExpandableListView.setGroupIndicator(null);\r\n\r\nDatabase queries:\r\n\r\n    public String getGroupQuery() {\r\n        return &quot;SELECT &quot; +\r\n                &quot;COUNT(*) AS count, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema._ID +\r\n                &quot; AS _id, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_ID +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID + &quot;, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;, &quot; +\r\n                &quot;SUM(&quot; +\r\n                    DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS +\r\n                &quot;)&quot; +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS + &quot;, &quot; +\r\n                &quot;SUM(&quot; +\r\n                    DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_NET +\r\n                &quot;)&quot; +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET + &quot;, &quot; +\r\n                DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\r\n                &quot; AS &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\r\n                &quot; FROM &quot; + DbSchemaKitting.KitSchema.TABLE_NAME +\r\n                &quot; LEFT OUTER JOIN &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME +\r\n                &quot; ON &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;=&quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitProductSchema.COLUMN_ID +\r\n                &quot; WHERE &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_SHIP_ID + &quot;=&quot; + mShipmentID +\r\n                &quot; GROUP BY &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID;\r\n    }\r\n\r\n    public String getChildQuery(String productName) {\r\n        return &quot;SELECT &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema._ID +\r\n                &quot; AS _id, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_ID +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID + &quot;, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS + &quot;, &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_NET +\r\n                &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET + &quot;, &quot; +\r\n                DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\r\n                &quot; AS &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\r\n                &quot; FROM &quot; + DbSchemaKitting.KitSchema.TABLE_NAME +\r\n                &quot; LEFT OUTER JOIN &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME +\r\n                &quot; ON &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;=&quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitProductSchema.COLUMN_ID +\r\n                &quot; WHERE &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_SHIP_ID + &quot;=&quot; + mShipmentID + &quot; AND &quot; +\r\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;=&#39;&quot; + productName + &quot;&#39;&quot;;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/sUZbn.jpg","title":"Android CursorTreeAdapter does not update group cursor / collapses group after Cursor update","body":"<p>I would like ExpandableListView to update (rebind?) both the group items and the child items when a SQLite database change is made.  I have implemented my own subclass of CursorTreeAdapter.  When the database is updated, the backing cursors (both children and group) need to be requeried and the views refreshed, preserving expanded/collapsed state of the groups.  However, I'm unable to achieve this  behavior.</p>\n<p><strong>Desired behavior:</strong> Both the group cursor and the child cursor are updated.  A child item will be added, and all groups currently expanded will remain expanded.</p>\n<p><strong>Scenario #1 - Updating using</strong> <code>CursorTreeAdapter.notifyDataSetChanged()</code></p>\n<p>When a database change occurs, and I invoke this method on the Adapter, the child item is added, the groups remain expanded as they were but <strong>the group item text is not updated</strong>.</p>\n<p>In this scenario, the group view displayed data is not changed to reflect the child data.  I can see that the group cursor has not been updated by invoking this method, and contains stale data.</p>\n<p><strong>Scenario #2 - Updating using</strong> <code>CursorTreeAdapter.getCursor().requery()</code></p>\n<p>When a database change occurs, and I invoke this method on the Adapter, the child item is added, the <strong>group which has the new child collapses automatically</strong>, and the group item text is updated.</p>\n<p>In this scenario, I can see that the group cursor has been updated and the data in the group view is correct, but the group should not collapse after a child is added.  I do not understand why the expanded state is not preserved, but it should be.</p>\n<p>Applicable code follows...</p>\n<p>If it is of any consequence, here is the <code>build.gradle</code> pertinent settings with packaging options and dependencies omitted for brevity:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion '30.0.2'\n\n    defaultConfig {\n        applicationId &quot;com.conceptualsystems.kitting&quot;\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 92\n        versionName &quot;2.29&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n<p>Handler:</p>\n<pre><code>/**\n * a Handler which will be invoked when a database change has occurred.\n * I have tried several possibilities to achieve the desired behavior to no avail.\n */\npublic android.os.Handler mRefreshHandler = new Handler() {\n    @Override\n    public void handleMessage(android.os.Message msg) {\n        new SummaryTask().execute();\n        //mShipKitExpandableListAdapter.notifyDataSetChanged();\n        //mShipKitExpandableListAdapter.setGroupCursor(\n        //      DbSingleton.getInstance().getDatabase().rawQuery(\n        //              getGroupQuery(), null\n        //      ));\n        mShipKitExpandableListAdapter.getCursor().requery();\n        //mShipKitExpandableListView.invalidateViews();\n    }\n};\n</code></pre>\n<p>ShipKitExpandableAdapter:</p>\n<pre><code>public class ShipKitExpandableAdapter extends CursorTreeAdapter {\n    public ShipKitExpandableAdapter(Cursor cursor, Context context) {\n        super(cursor, context, true);\n    }\n\n    @Override\n    protected Cursor getChildrenCursor(Cursor groupCursor) {\n        String productName = groupCursor.getString(\n                groupCursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID));\n\n        return DbSingleton.getInstance().getDatabase().rawQuery(\n                getChildQuery(productName), null\n        );\n    }\n\n    @Override\n    public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {\n        View groupView = super.getGroupView(\n                groupPosition,\n                isExpanded,\n                convertView,\n                parent);\n        if(groupView != null) {\n            ColorLayout.setTheme(groupView);\n        }\n\n        return groupView;\n    }\n\n    @Override\n    protected View newGroupView(Context context, Cursor cursor, boolean isExpanded, ViewGroup parent) {\n        return mInflater.inflate(R.layout.ship_list_group, parent, false);\n    }\n\n    @Override\n    protected void bindGroupView(View view, Context context, Cursor cursor, boolean isExpanded) {\n        try {\n            String count = cursor.getString(cursor.getColumnIndex(&quot;count&quot;));\n            ((TextView)view.findViewById(R.id.group_pieces)).setText(count);\n            String netUnits = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET));\n            ((TextView)view.findViewById(R.id.group_net_units)).setText(netUnits);\n            ((TextView)view.findViewById(R.id.group_net_uom)).setText(&quot; lbs&quot;);\n            String productName = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME));\n            ((TextView)view.findViewById(R.id.group_product_name)).setText(productName);\n            String grossUnits = cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS));\n            ((TextView)view.findViewById(R.id.group_gross_units)).setText(grossUnits);\n            ((TextView)view.findViewById(R.id.group_gross_uom)).setText(&quot; lbs&quot;);\n            ColorLayout.setTheme(view);\n        } catch(Exception e) {\n            mLogger.info(&quot;error getting a field: &quot;, e);\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public View getChildView(final int groupPosition,\n                             final int childPosition, boolean isLastChild, View convertView,\n                             ViewGroup parent) {\n        final View childView = super.getChildView(\n                groupPosition,\n                childPosition,\n                isLastChild,\n                convertView,\n                parent);\n        if(childView != null) {\n            ColorLayout.setTheme(childView);\n\n            childView.setOnLongClickListener(new View.OnLongClickListener() {\n                @Override\n                public boolean onLongClick(View v) {\n                    //long press deletes a shipment record.\n                    //mShipKitAdapter.getCursor().moveToPosition(position);\n                    //String kit_id = kitCursor.getString(kitCursor.getColumnIndex(DbSchema.KitSchema.TABLE_NAME+DbSchema.KitSchema.COLUMN_ID));\n                    String kit_id = ((TextView)childView.findViewById(R.id.kit_id)).getText().toString();\n                    removeDialog(DIALOG_CONFIRM_DELETE);\n\n                    Bundle b = new Bundle();\n                    if(kit_id!=null) {\n                        b.putInt(&quot;kit_id&quot;, Integer.valueOf(kit_id));\n                    }\n\n                    showDialog(DIALOG_CONFIRM_DELETE, b);\n\n                    return true;\n                }\n            });\n        }\n\n        return childView;\n    }\n\n    @Override\n    protected View newChildView(Context context, Cursor cursor, boolean isLastChild, ViewGroup parent) {\n        return mInflater.inflate(R.layout.ship_list_item, parent, false);\n    }\n\n    @Override\n    protected void bindChildView(View view, Context context, Cursor cursor, boolean isLastChild) {\n        try {\n            ((TextView)view.findViewById(R.id.kit_id)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID)));\n            ((TextView)view.findViewById(R.id.net_units)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET)));\n            ((TextView)view.findViewById(R.id.net_uom)).setText(&quot; lbs&quot;);\n            ((TextView)view.findViewById(R.id.product_name)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME)));\n            ((TextView)view.findViewById(R.id.gross_units)).setText(cursor.getString(cursor.getColumnIndex(DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS)));\n            ((TextView)view.findViewById(R.id.gross_uom)).setText(&quot; lbs&quot;);\n            ColorLayout.setTheme(view);\n        } catch(Exception e) {\n            mLogger.info(&quot;error getting a field: &quot;, e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Setting Adapter:</p>\n<pre><code>mShipKitExpandableListAdapter = new ShipKitExpandableAdapter(\n    DbSingleton.getInstance().getDatabase().rawQuery(\n            getGroupQuery(), null\n    ),\n    ShipActivity.this\n);\nmShipKitExpandableListView.setAdapter(mShipKitExpandableListAdapter);\nmShipKitExpandableListView.setGroupIndicator(null);\n</code></pre>\n<p>Database queries:</p>\n<pre><code>public String getGroupQuery() {\n    return &quot;SELECT &quot; +\n            &quot;COUNT(*) AS count, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema._ID +\n            &quot; AS _id, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_ID +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID + &quot;, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;, &quot; +\n            &quot;SUM(&quot; +\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS +\n            &quot;)&quot; +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS + &quot;, &quot; +\n            &quot;SUM(&quot; +\n                DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_NET +\n            &quot;)&quot; +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET + &quot;, &quot; +\n            DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\n            &quot; AS &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\n            &quot; FROM &quot; + DbSchemaKitting.KitSchema.TABLE_NAME +\n            &quot; LEFT OUTER JOIN &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME +\n            &quot; ON &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;=&quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitProductSchema.COLUMN_ID +\n            &quot; WHERE &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_SHIP_ID + &quot;=&quot; + mShipmentID +\n            &quot; GROUP BY &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID;\n}\n\npublic String getChildQuery(String productName) {\n    return &quot;SELECT &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema._ID +\n            &quot; AS _id, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_ID +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_ID + &quot;, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_GROSS + &quot;, &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_NET +\n            &quot; AS &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitSchema.COLUMN_NET + &quot;, &quot; +\n            DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\n            &quot; AS &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;dot&quot; + DbSchemaKitting.KitProductSchema.COLUMN_NAME +\n            &quot; FROM &quot; + DbSchemaKitting.KitSchema.TABLE_NAME +\n            &quot; LEFT OUTER JOIN &quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME +\n            &quot; ON &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;=&quot; + DbSchemaKitting.KitProductSchema.TABLE_NAME + &quot;.&quot; +  DbSchemaKitting.KitProductSchema.COLUMN_ID +\n            &quot; WHERE &quot; + DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_SHIP_ID + &quot;=&quot; + mShipmentID + &quot; AND &quot; +\n            DbSchemaKitting.KitSchema.TABLE_NAME + &quot;.&quot; + DbSchemaKitting.KitSchema.COLUMN_FIN_ID + &quot;='&quot; + productName + &quot;'&quot;;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sUZbn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUZbn.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reflection","netbeans","java-module","java-16"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636715966,"creation_date":1636715966,"answer_id":69942115,"question_id":69932308,"body_markdown":"You are creating a new module layer containing two modules and establishing access of one of these modules to the other. However, you actually want to establishing access for the currently running main method to one the these modules.\r\n\r\nThe currently running main method can’t be part of the new module layer it just creates. Assuming standard launcher setup, it belongs to a `Controller` module loaded by the system class loader as part of the boot-layer.\r\n\r\nSo, instead of granting access to a new module of the same name in the new layer, you have to change the code to grant access to the already loaded `Controller` module. Since the new `Controller` module of the new module layer serves no purpose then, you can remove it from the layer configuration.\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n   Path baseDir = Path.of(\r\n     &quot;C:/Users/Home/Documents/NetBeansProjects/Netbeans/Modular-Testing/build/modules/&quot;);\r\n\r\n   // Create the configuration for the new module\r\n   // with boot-layer configuration as it&#39;s parent\r\n   Configuration level1=Configuration.resolve\r\n   (\r\n     ModuleFinder.of(baseDir.resolve(&quot;Test_Module_A&quot;)),\r\n     List.of(ModuleLayer.boot().configuration()),\r\n     ModuleFinder.of(), List.of(&quot;Test_Module_A&quot;)\r\n   );\r\n\r\n   //create the module layer with only one class loader and boot layer as parent\r\n   var layer1Controller = ModuleLayer.defineModulesWithOneLoader(\r\n     level1, List.of(ModuleLayer.boot()), ClassLoader.getSystemClassLoader()\r\n   );\r\n   var testModA = layer1Controller.layer().findModule(&quot;Test_Module_A&quot;).get();\r\n   var myModule = CustomModuleTest.class.getModule();\r\n\r\n   myModule.addReads(testModA); // add read edge\r\n\r\n   layer1Controller.addOpens(testModA, &quot;package_a&quot;, myModule); // open package_a\r\n\r\n   //Do the actual Test\r\n   Class&lt;?&gt; targetClass = testModA.getClassLoader().loadClass(&quot;package_a.ClassA&quot;);\r\n   Method method = targetClass.getDeclaredMethod(&quot;callMe&quot;);\r\n   method.setAccessible(true);\r\n   method.invoke(null);\r\n}\r\n```\r\n","title":"java ModuleLayer : ModuleLayer.Controller add methods don&#39;t work","body":"<p>You are creating a new module layer containing two modules and establishing access of one of these modules to the other. However, you actually want to establishing access for the currently running main method to one the these modules.</p>\n<p>The currently running main method can’t be part of the new module layer it just creates. Assuming standard launcher setup, it belongs to a <code>Controller</code> module loaded by the system class loader as part of the boot-layer.</p>\n<p>So, instead of granting access to a new module of the same name in the new layer, you have to change the code to grant access to the already loaded <code>Controller</code> module. Since the new <code>Controller</code> module of the new module layer serves no purpose then, you can remove it from the layer configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n   Path baseDir = Path.of(\n     &quot;C:/Users/Home/Documents/NetBeansProjects/Netbeans/Modular-Testing/build/modules/&quot;);\n\n   // Create the configuration for the new module\n   // with boot-layer configuration as it's parent\n   Configuration level1=Configuration.resolve\n   (\n     ModuleFinder.of(baseDir.resolve(&quot;Test_Module_A&quot;)),\n     List.of(ModuleLayer.boot().configuration()),\n     ModuleFinder.of(), List.of(&quot;Test_Module_A&quot;)\n   );\n\n   //create the module layer with only one class loader and boot layer as parent\n   var layer1Controller = ModuleLayer.defineModulesWithOneLoader(\n     level1, List.of(ModuleLayer.boot()), ClassLoader.getSystemClassLoader()\n   );\n   var testModA = layer1Controller.layer().findModule(&quot;Test_Module_A&quot;).get();\n   var myModule = CustomModuleTest.class.getModule();\n\n   myModule.addReads(testModA); // add read edge\n\n   layer1Controller.addOpens(testModA, &quot;package_a&quot;, myModule); // open package_a\n\n   //Do the actual Test\n   Class&lt;?&gt; targetClass = testModA.getClassLoader().loadClass(&quot;package_a.ClassA&quot;);\n   Method method = targetClass.getDeclaredMethod(&quot;callMe&quot;);\n   method.setAccessible(true);\n   method.invoke(null);\n}\n</code></pre>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69942115,"answer_count":1,"score":3,"last_activity_date":1642087708,"creation_date":1636650832,"question_id":69932308,"body_markdown":"I am using Netbeans 12.5 and java 16\r\n\r\nIn an Java Modular Project I have 2 Modules\r\n\r\n    Modular-Testing(/*The Project Name*/)\r\n    |\r\n    |----Consumer(/*Module Name*/)\r\n    |    |\r\n         |--classes(/*Folder Name*/)\r\n            |\r\n            |--main(/*package name*/)\r\n               |\r\n               |--CustomModuleTest.java(Main Class)    \r\n    \r\n    \r\n         \r\n    |--Test_Module_A(/*Module Name*/)\r\n        |\r\n        |--classes(/*Folder Name*/)\r\n            |\r\n            |--package_a(/*package name*/)\r\n               |\r\n               |--ClassA.java  \r\n\r\nCustomModuleTest.java\r\n\r\n    public static void main(String[] args)throws Exception\r\n    {\r\n       Path baseDir=Path.of(&quot;C:/Users/Home/Documents/NetBeansProjects/Netbeans/Modular-Testing/build/modules/&quot;);\r\n     \r\n       //Create the configuration for these two modules with boot-layer configuration as it&#39;s parent\r\n       Configuration level1=Configuration.resolve\r\n       (\r\n         ModuleFinder.of(baseDir.resolve(&quot;Consumer&quot;),baseDir.resolve(&quot;Test_Module_A&quot;))\r\n        ,List.of(ModuleLayer.boot().configuration())\r\n        ,ModuleFinder.of()\r\n        ,List.of(&quot;Consumer&quot;,&quot;Test_Module_A&quot;)\r\n       );   \r\n\r\n       //create the module layer with only one system class loader and boot layer as parent\r\n       ModuleLayer.Controller layer1=ModuleLayer.defineModulesWithOneLoader\r\n       (\r\n         level1\r\n        ,List.of(ModuleLayer.boot())\r\n        ,ClassLoader.getSystemClassLoader()\r\n       ); \r\n       \r\n       //this is the main purpose of this test. I want to call ClassA.callMe() via reflection after I have dynamically achieved the permissions for it by first\r\n       //Making Consumer Module read(requires) Test_Module_A\r\n       //Making Test_Module_A open it&#39;s package(package_a) to Consumer\r\n       //With this consumer should have full reflective access to Test_Module_A(or that&#39;s what i had hoped but it didn&#39;t work)\r\n\r\n                              //Require(Read)\r\n       //Make Module Consumer---------------&gt;Test_Module_A \r\n       layer1.addReads\r\n       (\r\n         layer1.layer().findModule(&quot;Consumer&quot;).get()\r\n        ,layer1.layer().findModule(&quot;Test_Module_A&quot;).get()\r\n       ); \r\n                                     //Open package_a\r\n       //Make Module Test_Module_A--------------------&gt;Consumer \r\n       layer1.addOpens\r\n       (\r\n        layer1.layer().findModule(&quot;Test_Module_A&quot;).get()\r\n       ,&quot;package_a&quot;\r\n       ,layer1.layer().findModule(&quot;Consumer&quot;).get()\r\n       ); \r\n       \r\n       //Do the actual Test\r\n       Class targetClass=layer1.layer().findLoader(&quot;Test_Module_A&quot;).loadClass(&quot;package_a.ClassA&quot;);\r\n       Method method=targetClass.getDeclaredMethod(&quot;callMe&quot;);\r\n       method.trySetAccessible();\r\n       method.invoke(null);  //&lt;---------Crashes Here(It&#39;s a static method so no object reference)\r\n    }\r\n\r\n\r\nClassA does nothing\r\n\r\n    package package_a;\r\n    \r\n    public class ClassA \r\n    {\r\n      private static void callMe()\r\n      {\r\n       System.out.println(&quot;Hooray You Called Me Using ModuleLayers!!!&quot;);\r\n      }\r\n    }\r\n\r\nmodule-info for both Consumer &amp; Test_Module_A are empty\r\n\r\n    module Consumer{}\r\n    module Test_Module_A{}\r\n\r\nthe module-info of both these modules are empty because i want to dynamically add Opens/Exports using [ModuleLayer.Controller](https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.Controller.html)\r\n\r\nThe class is located with no problems the method is made accessable using trySetAccessible() but as soon as i call invoke i get this error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessException: class main.CustomModuleTest (in module Consumer) cannot access class package_a.ClassA (in module Test_Module_A) because module Test_Module_A does not export package_a to module Consumer\r\n    \tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:385)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:687)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:559)\r\n\r\nThe test is run from CustomModuleTest.java main method inside Consumer Module\r\nthe addReads &amp; addOpens method either don&#39;t work or i am just using it wrong\r\n\r\nAny ideas?\r\n\r\n\r\n\r\n \r\n\r\n \r\n\r\n\r\n","title":"java ModuleLayer : ModuleLayer.Controller add methods don&#39;t work","body":"<p>I am using Netbeans 12.5 and java 16</p>\n<p>In an Java Modular Project I have 2 Modules</p>\n<pre><code>Modular-Testing(/*The Project Name*/)\n|\n|----Consumer(/*Module Name*/)\n|    |\n     |--classes(/*Folder Name*/)\n        |\n        |--main(/*package name*/)\n           |\n           |--CustomModuleTest.java(Main Class)    \n\n\n     \n|--Test_Module_A(/*Module Name*/)\n    |\n    |--classes(/*Folder Name*/)\n        |\n        |--package_a(/*package name*/)\n           |\n           |--ClassA.java  \n</code></pre>\n<p>CustomModuleTest.java</p>\n<pre><code>public static void main(String[] args)throws Exception\n{\n   Path baseDir=Path.of(&quot;C:/Users/Home/Documents/NetBeansProjects/Netbeans/Modular-Testing/build/modules/&quot;);\n \n   //Create the configuration for these two modules with boot-layer configuration as it's parent\n   Configuration level1=Configuration.resolve\n   (\n     ModuleFinder.of(baseDir.resolve(&quot;Consumer&quot;),baseDir.resolve(&quot;Test_Module_A&quot;))\n    ,List.of(ModuleLayer.boot().configuration())\n    ,ModuleFinder.of()\n    ,List.of(&quot;Consumer&quot;,&quot;Test_Module_A&quot;)\n   );   \n\n   //create the module layer with only one system class loader and boot layer as parent\n   ModuleLayer.Controller layer1=ModuleLayer.defineModulesWithOneLoader\n   (\n     level1\n    ,List.of(ModuleLayer.boot())\n    ,ClassLoader.getSystemClassLoader()\n   ); \n   \n   //this is the main purpose of this test. I want to call ClassA.callMe() via reflection after I have dynamically achieved the permissions for it by first\n   //Making Consumer Module read(requires) Test_Module_A\n   //Making Test_Module_A open it's package(package_a) to Consumer\n   //With this consumer should have full reflective access to Test_Module_A(or that's what i had hoped but it didn't work)\n\n                          //Require(Read)\n   //Make Module Consumer---------------&gt;Test_Module_A \n   layer1.addReads\n   (\n     layer1.layer().findModule(&quot;Consumer&quot;).get()\n    ,layer1.layer().findModule(&quot;Test_Module_A&quot;).get()\n   ); \n                                 //Open package_a\n   //Make Module Test_Module_A--------------------&gt;Consumer \n   layer1.addOpens\n   (\n    layer1.layer().findModule(&quot;Test_Module_A&quot;).get()\n   ,&quot;package_a&quot;\n   ,layer1.layer().findModule(&quot;Consumer&quot;).get()\n   ); \n   \n   //Do the actual Test\n   Class targetClass=layer1.layer().findLoader(&quot;Test_Module_A&quot;).loadClass(&quot;package_a.ClassA&quot;);\n   Method method=targetClass.getDeclaredMethod(&quot;callMe&quot;);\n   method.trySetAccessible();\n   method.invoke(null);  //&lt;---------Crashes Here(It's a static method so no object reference)\n}\n</code></pre>\n<p>ClassA does nothing</p>\n<pre><code>package package_a;\n\npublic class ClassA \n{\n  private static void callMe()\n  {\n   System.out.println(&quot;Hooray You Called Me Using ModuleLayers!!!&quot;);\n  }\n}\n</code></pre>\n<p>module-info for both Consumer &amp; Test_Module_A are empty</p>\n<pre><code>module Consumer{}\nmodule Test_Module_A{}\n</code></pre>\n<p>the module-info of both these modules are empty because i want to dynamically add Opens/Exports using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.Controller.html\" rel=\"nofollow noreferrer\">ModuleLayer.Controller</a></p>\n<p>The class is located with no problems the method is made accessable using trySetAccessible() but as soon as i call invoke i get this error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessException: class main.CustomModuleTest (in module Consumer) cannot access class package_a.ClassA (in module Test_Module_A) because module Test_Module_A does not export package_a to module Consumer\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:385)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:687)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:559)\n</code></pre>\n<p>The test is run from CustomModuleTest.java main method inside Consumer Module\nthe addReads &amp; addOpens method either don't work or i am just using it wrong</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","postgresql","heroku","desktop-application"],"comments":[{"owner":{"account_id":3597514,"reputation":117142,"user_id":3001761,"display_name":"jonrsharpe"},"score":2,"creation_date":1642088512,"post_id":70699035,"comment_id":124983803,"body_markdown":"It depends what you mean by &quot;non-web&quot;. You can have _workers_, per https://devcenter.heroku.com/articles/procfile, but it sounds like you&#39;re looking for more of a remote desktop.","body":"It depends what you mean by &quot;non-web&quot;. You can have <i>workers</i>, per <a href=\"https://devcenter.heroku.com/articles/procfile\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/procfile</a>, but it sounds like you&#39;re looking for more of a remote desktop."},{"owner":{"account_id":23547262,"reputation":75,"user_id":17590500,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1642088887,"post_id":70699035,"comment_id":124983945,"body_markdown":"What I want is basically to upload a java binary that will update the database that my api, which is hosted on heroku, accesses. Does this fall under the workers? It&#39;s basically a database update routine.","body":"What I want is basically to upload a java binary that will update the database that my api, which is hosted on heroku, accesses. Does this fall under the workers? It&#39;s basically a database update routine."},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1642098112,"post_id":70699035,"comment_id":124987707,"body_markdown":"These words are all pretty loaded. When _I_ see &quot;desktop application&quot; I imagine something with a GUI that runs on the machine I&#39;m sitting in front of, outside of a browser. You can&#39;t do that on Heroku since Heroku&#39;s code runs on its dynos. But if it&#39;s something you can schedule to run in the background, without a GUI and without user interaction, you should be able to do that on Heroku. That&#39;s the kind of thing workers are good at.","body":"These words are all pretty loaded. When <i>I</i> see &quot;desktop application&quot; I imagine something with a GUI that runs on the machine I&#39;m sitting in front of, outside of a browser. You can&#39;t do that on Heroku since Heroku&#39;s code runs on its dynos. But if it&#39;s something you can schedule to run in the background, without a GUI and without user interaction, you should be able to do that on Heroku. That&#39;s the kind of thing workers are good at."}],"owner":{"account_id":23547262,"reputation":75,"user_id":17590500,"display_name":"Leonardo Manzini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642087553,"creation_date":1642087553,"question_id":70699035,"body_markdown":"There is a way to create non-web Java app on Heroku? I&#39;s my first time using the Heroku application, I know just how to upload the app, but how can I configure the same to run as desktop application and non-web?\r\n\r\nDisclaimer: I tried to understand it in the Heroku documentation, but at first glance, it got too confusing for me...","title":"There is a way to create non-web Java app on Heroku?","body":"<p>There is a way to create non-web Java app on Heroku? I's my first time using the Heroku application, I know just how to upload the app, but how can I configure the same to run as desktop application and non-web?</p>\n<p>Disclaimer: I tried to understand it in the Heroku documentation, but at first glance, it got too confusing for me...</p>\n"},{"tags":["java","mysql","spring-mvc","configuration","ibm-midrange"],"answers":[{"tags":[],"owner":{"account_id":9139050,"reputation":76,"user_id":6797622,"display_name":"Veselin Perović"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642070563,"creation_date":1642070563,"answer_id":70695224,"question_id":70694789,"body_markdown":"Based on this line of stack trace\r\n\r\n    java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\r\n\r\nit seems that you don&#39;t have MySQL JDBC driver jar on the classpath.","title":"How to configure 2 databases in the root-context.xml in spring mvc project? please provide me any suggessions","body":"<p>Based on this line of stack trace</p>\n<pre><code>java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\n</code></pre>\n<p>it seems that you don't have MySQL JDBC driver jar on the classpath.</p>\n"}],"owner":{"account_id":20102275,"reputation":11,"user_id":14740509,"display_name":"Kavana NV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642087550,"creation_date":1642068641,"question_id":70694789,"body_markdown":"     &lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.ibm.as400.access.AS400JDBCDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:as400://**.*.**.*/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;******&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;******&quot; /&gt;      \r\n    \t&lt;/bean&gt;  \r\n    &lt;bean id=&quot;homedao&quot; class=&quot;com.bsdealer.daoImpl.DashboardImpl&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nThis is my current configuration and i need to add mysql configuration too, so i have added these line but getting some errors.\r\n\r\n \r\n\r\n    &lt;bean id=&quot;dataSource2&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;****&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;****&quot; /&gt;      \r\n    \t&lt;/bean&gt; \r\n    \r\n    \r\n    &lt;bean id=&quot;testdao&quot; class=&quot;com.bsdealer.daoImpl.testImpl&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\n**I have also added the error logs here:**\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource2&#39; defined in ServletContext resource [/WEB-INF/spring/root-context.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1506)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)\r\n\t... 45 more\r\nCaused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\r\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:121)\r\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:75)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1502)\r\n\t... 56 more\r\n```","title":"How to configure 2 databases in the root-context.xml in spring mvc project? please provide me any suggessions","body":"<pre><code> &lt;bean id=&quot;dataSource&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.ibm.as400.access.AS400JDBCDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:as400://**.*.**.*/&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;******&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;******&quot; /&gt;      \n    &lt;/bean&gt;  \n&lt;bean id=&quot;homedao&quot; class=&quot;com.bsdealer.daoImpl.DashboardImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>This is my current configuration and i need to add mysql configuration too, so i have added these line but getting some errors.</p>\n<pre><code>&lt;bean id=&quot;dataSource2&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;****&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;****&quot; /&gt;      \n    &lt;/bean&gt; \n\n\n&lt;bean id=&quot;testdao&quot; class=&quot;com.bsdealer.daoImpl.testImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p><strong>I have also added the error logs here:</strong></p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource2' defined in ServletContext resource [/WEB-INF/spring/root-context.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1506)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)\n    ... 45 more\nCaused by: org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.mysql.cj.jdbc.Driver]\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:121)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:75)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1502)\n    ... 56 more\n</code></pre>\n"},{"tags":["java","multithreading","url","proxy"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642080599,"post_id":70697405,"comment_id":124980288,"body_markdown":"So what did you try? A redirect is normally a 301 or 302 response along with a new location, did you try to read that? (You might need to tell the client not to automatically follow redirects)","body":"So what did you try? A redirect is normally a 301 or 302 response along with a new location, did you try to read that? (You might need to tell the client not to automatically follow redirects)"},{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":1,"creation_date":1642080608,"post_id":70697405,"comment_id":124980291,"body_markdown":"Please show us some code, what have you tried.","body":"Please show us some code, what have you tried."},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642081124,"post_id":70697405,"comment_id":124980492,"body_markdown":"@Thomas I havent tried, can you tell me what I can do to try it? SHould I just send a request to that URL? and then How will it tell me what url it has been redirected to?","body":"@Thomas I havent tried, can you tell me what I can do to try it? SHould I just send a request to that URL? and then How will it tell me what url it has been redirected to?"},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642082820,"post_id":70697405,"comment_id":124981324,"body_markdown":"@tostao I tried sending a HttpRequest to the root URL (method: GET) it just sends me the HTML of the webpage. Any way to get the URL I am redirected to?","body":"@tostao I tried sending a HttpRequest to the root URL (method: GET) it just sends me the HTML of the webpage. Any way to get the URL I am redirected to?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642082989,"post_id":70697405,"comment_id":124981414,"body_markdown":"Read my comment again, I already added some hints on how to detect a redirect (maybe some additional research is needed but it should get you started). Basically first make sure the redirect is even happening, i.e. an indicator would be that if you run it in the browser the url changes. If it was just an internal proxy/forward you won&#39;t know whether there was an internal redirect or not.","body":"Read my comment again, I already added some hints on how to detect a redirect (maybe some additional research is needed but it should get you started). Basically first make sure the redirect is even happening, i.e. an indicator would be that if you run it in the browser the url changes. If it was just an internal proxy/forward you won&#39;t know whether there was an internal redirect or not."},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642083024,"post_id":70697405,"comment_id":124981432,"body_markdown":"@Thomas But I want to get the url it will be redirected to, so isnt it better letting Follow Redirect on?","body":"@Thomas But I want to get the url it will be redirected to, so isnt it better letting Follow Redirect on?"},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642083409,"post_id":70697405,"comment_id":124981613,"body_markdown":"@Thomas it does redirect me I tried it in my browser","body":"@Thomas it does redirect me I tried it in my browser"},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642084574,"post_id":70697405,"comment_id":124982139,"body_markdown":"Also @Thomas I dont want to detect the redirect, I want to get the URL of the redirect cause I am fully sure the redirect will happen every time you go to the URL","body":"Also @Thomas I dont want to detect the redirect, I want to get the URL of the redirect cause I am fully sure the redirect will happen every time you go to the URL"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642088255,"post_id":70697405,"comment_id":124983692,"body_markdown":"&quot;so isnt it better letting Follow Redirect on?&quot; - depends, if you want the page you got redirected to then yes. But if you want the url you need to stop and examine the result. In most cases you&#39;d get a 301, 302 or 303 status with the new url (which the client/browser might follow automatically) or you actually get the HTML page which contains a redirect header, some javascript etc. - this is likely not directly evaluated by a http client and you might have to do the parsing yourself.","body":"&quot;so isnt it better letting Follow Redirect on?&quot; - depends, if you want the page you got redirected to then yes. But if you want the url you need to stop and examine the result. In most cases you&#39;d get a 301, 302 or 303 status with the new url (which the client/browser might follow automatically) or you actually get the HTML page which contains a redirect header, some javascript etc. - this is likely not directly evaluated by a http client and you might have to do the parsing yourself."},{"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"score":0,"creation_date":1642089336,"post_id":70697405,"comment_id":124984135,"body_markdown":"Man you are  so smart, that was really helpful, I am dumb, thanks a lot","body":"Man you are  so smart, that was really helpful, I am dumb, thanks a lot"}],"answers":[{"tags":[],"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642087238,"creation_date":1642087238,"answer_id":70698975,"question_id":70697405,"body_markdown":"I have solved the problem by using a bit of cURL.\r\nSo what I do is I execute `curl URL` and it shows me the page structure of the URL and the page structure is just an anchor element So I parse the link from it . ","title":"Getting the link I am redirected to","body":"<p>I have solved the problem by using a bit of cURL.\nSo what I do is I execute <code>curl URL</code> and it shows me the page structure of the URL and the page structure is just an anchor element So I parse the link from it .</p>\n"}],"owner":{"account_id":23398308,"reputation":103,"user_id":17461896,"display_name":"Vinesh Rajpurohit"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642087238,"creation_date":1642080421,"question_id":70697405,"body_markdown":"I am using Java, and I want to send a request to a URL and then get the URL I am redirected to.\r\n\r\nI would like the solution if it included the use of HttpClient and Requests as I already have used that past. ","title":"Getting the link I am redirected to","body":"<p>I am using Java, and I want to send a request to a URL and then get the URL I am redirected to.</p>\n<p>I would like the solution if it included the use of HttpClient and Requests as I already have used that past.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641186346,"creation_date":1641185971,"answer_id":70561845,"question_id":70561056,"body_markdown":"You apparently want to know what this line does:\r\n\r\n      bw.write(j + &quot;\\n&quot;);\r\n\r\nThe first thing that happens is that `j + &quot;\\n&quot;` is evaluated.  Since one of the operands is a string, that `+` is a string concatenation (see [JLS 15.18.1][1]).  The value of the other operand is converted to a `String` *as if* you called `new String(int)` on it (see [JLS 5.1.1][2]).  That renders it in decimal format.\r\n\r\nFor example, if `j` was 42, the result of that will be a string equivalent to `&quot;42\\n&quot;`; i.e. 3 characters.\r\n\r\nThen `Writer.write(String)` is used to output the string which just writes the characters of the string (see [javadoc](https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html#write(java.lang.String))\r\n\r\n\r\n------------------\r\n\r\nYour self answer says:  \r\n\r\n&gt; `Bufferedwrite` receives characters, so if you type int, it outputs an empty value.\r\n\r\nIt it hard to understand exactly what you mean, but if you are saying `BufferedWriter.write(int)` outputs an &quot;empty value&quot;, that is incorrect.  The `Writer.write(int)` method interprets the `int` as a Unicode codepoint and outputs that ... according to the encoding of the output stream you are writing to.\r\n\r\nThat is NEVER an empty value.\r\n\r\nIt *might* be a non-printing character (e.g. an ASCII control character), but even those are not empty.  There will be something in the output stream.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.11","title":"The correlation between bufferedwrite and n characters","body":"<p>You apparently want to know what this line does:</p>\n<pre><code>  bw.write(j + &quot;\\n&quot;);\n</code></pre>\n<p>The first thing that happens is that <code>j + &quot;\\n&quot;</code> is evaluated.  Since one of the operands is a string, that <code>+</code> is a string concatenation (see <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">JLS 15.18.1</a>).  The value of the other operand is converted to a <code>String</code> <em>as if</em> you called <code>new String(int)</code> on it (see <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.11\" rel=\"nofollow noreferrer\">JLS 5.1.1</a>).  That renders it in decimal format.</p>\n<p>For example, if <code>j</code> was 42, the result of that will be a string equivalent to <code>&quot;42\\n&quot;</code>; i.e. 3 characters.</p>\n<p>Then <code>Writer.write(String)</code> is used to output the string which just writes the characters of the string (see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html#write(java.lang.String)\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<hr />\n<p>Your self answer says:</p>\n<blockquote>\n<p><code>Bufferedwrite</code> receives characters, so if you type int, it outputs an empty value.</p>\n</blockquote>\n<p>It it hard to understand exactly what you mean, but if you are saying <code>BufferedWriter.write(int)</code> outputs an &quot;empty value&quot;, that is incorrect.  The <code>Writer.write(int)</code> method interprets the <code>int</code> as a Unicode codepoint and outputs that ... according to the encoding of the output stream you are writing to.</p>\n<p>That is NEVER an empty value.</p>\n<p>It <em>might</em> be a non-printing character (e.g. an ASCII control character), but even those are not empty.  There will be something in the output stream.</p>\n"}],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642087004,"creation_date":1641175206,"question_id":70561056,"body_markdown":"```java\r\npublic class SieveOfEratosthenes_re {\r\n    public static void main(String[] args) throws IOException{\r\n        \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\r\n        int N = Integer.parseInt(br.readLine());\r\n        int K = Integer.parseInt(br.readLine());\r\n        int count = 0;\r\n\r\n        boolean[] arr = new boolean[N+1];\r\n        for(int i=2; i&lt;=N; i++){\r\n            if(count==K){\r\n                break;\r\n            }\r\n            for(int j=i; j&lt;=N; j+=i){\r\n                if(arr[j]==false){\r\n                    arr[j] = true;\r\n                    count++;\r\n                }\r\n                if(count==K){\r\n                    bw.write(j + &quot;\\n&quot;); // I don&#39;t know this part\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        bw.flush();\r\n        bw.close();\r\n    }\r\n}\r\n```\r\n\r\nIf n is added to the bufferedwrite, it is output from the terminal, and if n is not added, it is not output.\r\nWhat&#39;s the reason?","title":"The correlation between bufferedwrite and n characters","body":"<pre class=\"lang-java prettyprint-override\"><code>public class SieveOfEratosthenes_re {\n    public static void main(String[] args) throws IOException{\n        \n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\n        int N = Integer.parseInt(br.readLine());\n        int K = Integer.parseInt(br.readLine());\n        int count = 0;\n\n        boolean[] arr = new boolean[N+1];\n        for(int i=2; i&lt;=N; i++){\n            if(count==K){\n                break;\n            }\n            for(int j=i; j&lt;=N; j+=i){\n                if(arr[j]==false){\n                    arr[j] = true;\n                    count++;\n                }\n                if(count==K){\n                    bw.write(j + &quot;\\n&quot;); // I don't know this part\n                    break;\n                }\n            }\n        }\n        bw.flush();\n        bw.close();\n    }\n}\n</code></pre>\n<p>If n is added to the bufferedwrite, it is output from the terminal, and if n is not added, it is not output.\nWhat's the reason?</p>\n"},{"tags":["java","android","google-cloud-firestore","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642076896,"creation_date":1642076896,"answer_id":70696618,"question_id":70696412,"body_markdown":"Loading data from firestore/firebase take sometime you should call set adapter inside load level after getting response from the document \r\n\r\n     RecyclerView recyclerView;\r\n\r\n     // Array list for recycler view data source\r\n     public static List&lt;String&gt; levelList = new ArrayList&lt;&gt;();\r\n\r\n    // Layout Manager\r\n    RecyclerView.LayoutManager RecyclerViewLayoutManager;\r\n\r\n    // adapter class object\r\n    LevelAdapter adapter;\r\n\r\n    // Linear Layout Manager\r\n    LinearLayoutManager HorizontalLayout;\r\n\r\n    FirebaseFirestore firebaseFirestore;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_level);\r\n\r\n\r\n    // initialisation with id&#39;s\r\n    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n    RecyclerViewLayoutManager = new \r\n    LinearLayoutManager(getApplicationContext());\r\n\r\n    // Set LayoutManager on Recycler View\r\n    recyclerView.setLayoutManager(RecyclerViewLayoutManager);\r\n\r\n    firebaseFirestore = FirebaseFirestore.getInstance();\r\n\r\n     HorizontalLayout = new LinearLayoutManager(LevelActivity.this, \r\n    LinearLayoutManager.HORIZONTAL, false);\r\n    recyclerView.setLayoutManager(HorizontalLayout);\r\n   \r\n     loadLevel();\r\n    \r\n   \r\n   \r\n\r\n     }\r\n\r\n    private void loadLevel(){\r\n    levelList.clear();\r\n\r\n         firebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\r\n            .document(&quot;TOTAL_LEVELS&quot;).get()\r\n            .addOnCompleteListener(task -&gt; {\r\n                if (task.isSuccessful()) {\r\n                    DocumentSnapshot doc = task.getResult();\r\n                    if (doc.exists()) {\r\n                        long levelCount = (long) doc.get(&quot;count&quot;);\r\n\r\n                        for (int i = 1; i &lt;= levelCount; i++) {\r\n                            String levelName = doc.getString(&quot;LEVEL&quot; + i);\r\n                            levelList.add(levelName);\r\n                        }\r\n                      //Set Adapter here\r\n                      adapter = new LevelAdapter(levelList);\r\n\r\n   \r\n   \r\n\r\n                     // Set adapter on recycler view\r\n                     recyclerView.setAdapter(adapter);\r\n\r\n                    }else{\r\n                        Toast.makeText(LevelActivity.this, &quot;no level&quot;, \r\n     Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }else{\r\n\r\n                    Toast.makeText(LevelActivity.this, \r\n     task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    }","title":"Firestore data not showing in recycler view","body":"<p>Loading data from firestore/firebase take sometime you should call set adapter inside load level after getting response from the document</p>\n<pre><code> RecyclerView recyclerView;\n\n // Array list for recycler view data source\n public static List&lt;String&gt; levelList = new ArrayList&lt;&gt;();\n\n// Layout Manager\nRecyclerView.LayoutManager RecyclerViewLayoutManager;\n\n// adapter class object\nLevelAdapter adapter;\n\n// Linear Layout Manager\nLinearLayoutManager HorizontalLayout;\n\nFirebaseFirestore firebaseFirestore;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_level);\n\n\n// initialisation with id's\nrecyclerView = (RecyclerView) findViewById(R.id.recyclerview);\nRecyclerViewLayoutManager = new \nLinearLayoutManager(getApplicationContext());\n\n// Set LayoutManager on Recycler View\nrecyclerView.setLayoutManager(RecyclerViewLayoutManager);\n\nfirebaseFirestore = FirebaseFirestore.getInstance();\n\n HorizontalLayout = new LinearLayoutManager(LevelActivity.this, \nLinearLayoutManager.HORIZONTAL, false);\nrecyclerView.setLayoutManager(HorizontalLayout);\n\n loadLevel();\n\n\n\n\n }\n\nprivate void loadLevel(){\nlevelList.clear();\n\n     firebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\n        .document(&quot;TOTAL_LEVELS&quot;).get()\n        .addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                DocumentSnapshot doc = task.getResult();\n                if (doc.exists()) {\n                    long levelCount = (long) doc.get(&quot;count&quot;);\n\n                    for (int i = 1; i &lt;= levelCount; i++) {\n                        String levelName = doc.getString(&quot;LEVEL&quot; + i);\n                        levelList.add(levelName);\n                    }\n                  //Set Adapter here\n                  adapter = new LevelAdapter(levelList);\n\n\n\n\n                 // Set adapter on recycler view\n                 recyclerView.setAdapter(adapter);\n\n                }else{\n                    Toast.makeText(LevelActivity.this, &quot;no level&quot;, \n Toast.LENGTH_SHORT).show();\n                }\n\n            }else{\n\n                Toast.makeText(LevelActivity.this, \n task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642086420,"creation_date":1642086420,"answer_id":70698779,"question_id":70696412,"body_markdown":"Data is loaded from Firebase asynchronously, since it takes some time to get the data from the cloud-based database. This means that initially your adapter renders the recycler view with an empty `levelList`.\r\n\r\nThen when the data comes back from the network, your `addOnCompleteListener` gets called with it and adds the data to the `levelList`. But at that point, you&#39;ll need to tell the adapter that you changed the data and that it needs to rerender by calling `notifyDataSetChanged()` on it.\r\n\r\nSo in your `addOnCompleteListener` call `adapter.notifyDataSetChanged()` after you&#39;ve added all data to `levelList`:\r\n```\r\nfirebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\r\n        .document(&quot;TOTAL_LEVELS&quot;).get()\r\n        .addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                DocumentSnapshot doc = task.getResult();\r\n                if (doc.exists()) {\r\n                    long levelCount = (long) doc.get(&quot;count&quot;);\r\n\r\n                    for (int i = 1; i &lt;= levelCount; i++) {\r\n                        String levelName = doc.getString(&quot;LEVEL&quot; + i);\r\n                        levelList.add(levelName);\r\n                    }\r\n\r\n                }else{\r\n                    Toast.makeText(LevelActivity.this, &quot;no level&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                adapter.notifyDataSetChanged(); // &#128072;\r\n            }else{\r\n\r\n                Toast.makeText(LevelActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n```\r\n","title":"Firestore data not showing in recycler view","body":"<p>Data is loaded from Firebase asynchronously, since it takes some time to get the data from the cloud-based database. This means that initially your adapter renders the recycler view with an empty <code>levelList</code>.</p>\n<p>Then when the data comes back from the network, your <code>addOnCompleteListener</code> gets called with it and adds the data to the <code>levelList</code>. But at that point, you'll need to tell the adapter that you changed the data and that it needs to rerender by calling <code>notifyDataSetChanged()</code> on it.</p>\n<p>So in your <code>addOnCompleteListener</code> call <code>adapter.notifyDataSetChanged()</code> after you've added all data to <code>levelList</code>:</p>\n<pre><code>firebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\n        .document(&quot;TOTAL_LEVELS&quot;).get()\n        .addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                DocumentSnapshot doc = task.getResult();\n                if (doc.exists()) {\n                    long levelCount = (long) doc.get(&quot;count&quot;);\n\n                    for (int i = 1; i &lt;= levelCount; i++) {\n                        String levelName = doc.getString(&quot;LEVEL&quot; + i);\n                        levelList.add(levelName);\n                    }\n\n                }else{\n                    Toast.makeText(LevelActivity.this, &quot;no level&quot;, Toast.LENGTH_SHORT).show();\n                }\n                adapter.notifyDataSetChanged(); // 👈\n            }else{\n\n                Toast.makeText(LevelActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":19658678,"reputation":1,"user_id":14390690,"display_name":"Saamii Abbasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642086420,"creation_date":1642075905,"question_id":70696412,"body_markdown":"I am trying to add data in my recycler view from firestore.\r\nI have documents with name (Level+&quot;levelNo.&quot;)\r\nBut nothing is showing on my activity\r\nHere is the code:\r\n\r\nMAIN LEVEL ACTIVITY:\r\n```\r\npublic class LevelActivity extends AppCompatActivity {\r\n    // Recycler View object\r\n    RecyclerView recyclerView;\r\n\r\n    // Array list for recycler view data source\r\n    public static List&lt;String&gt; levelList = new ArrayList&lt;&gt;();\r\n\r\n    // Layout Manager\r\n    RecyclerView.LayoutManager RecyclerViewLayoutManager;\r\n\r\n    // adapter class object\r\n    LevelAdapter adapter;\r\n\r\n    // Linear Layout Manager\r\n    LinearLayoutManager HorizontalLayout;\r\n\r\n    FirebaseFirestore firebaseFirestore;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_level);\r\n\r\n        // initialisation with id&#39;s\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n        RecyclerViewLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n\r\n        // Set LayoutManager on Recycler View\r\n        recyclerView.setLayoutManager(RecyclerViewLayoutManager);\r\n\r\n        firebaseFirestore = FirebaseFirestore.getInstance();\r\n\r\n        loadLevel();\r\n        // calling constructor of adapter\r\n        // with source list as a parameter\r\n        adapter = new LevelAdapter(levelList);\r\n\r\n        // Set Horizontal Layout Manager\r\n        // for Recycler view\r\n        HorizontalLayout = new LinearLayoutManager(LevelActivity.this, LinearLayoutManager.HORIZONTAL, false);\r\n        recyclerView.setLayoutManager(HorizontalLayout);\r\n\r\n        // Set adapter on recycler view\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n\r\n    private void loadLevel(){\r\n        levelList.clear();\r\n\r\n        firebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\r\n                .document(&quot;TOTAL_LEVELS&quot;).get()\r\n                .addOnCompleteListener(task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot doc = task.getResult();\r\n                        if (doc.exists()) {\r\n                            long levelCount = (long) doc.get(&quot;count&quot;);\r\n\r\n                            for (int i = 1; i &lt;= levelCount; i++) {\r\n                                String levelName = doc.getString(&quot;LEVEL&quot; + i);\r\n                                levelList.add(levelName);\r\n                            }\r\n\r\n                        }else{\r\n                            Toast.makeText(LevelActivity.this, &quot;no level&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                    }else{\r\n\r\n                        Toast.makeText(LevelActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n}\r\n```\r\nLEVEL ADAPTER:\r\n```\r\npublic class LevelAdapter extends RecyclerView.Adapter&lt;LevelAdapter.MyView&gt; {\r\n\r\n    // List with String type\r\n    private final List&lt;String&gt; levelList;\r\n\r\n    // View Holder class which\r\n    // extends RecyclerView.ViewHolder\r\n    public class MyView extends RecyclerView.ViewHolder {\r\n        // Text View\r\n        TextView textView;\r\n\r\n        // parameterised constructor for View Holder class\r\n        // which takes the view as a parameter\r\n        public MyView(View view) {\r\n            super(view);\r\n            // initialise TextView with id\r\n            textView = (TextView) view.findViewById(R.id.textview);\r\n        }\r\n    }\r\n\r\n    // Constructor for adapter class\r\n    // which takes a list of String type\r\n    public LevelAdapter(List&lt;String&gt; horizontalList) {\r\n        this.levelList = horizontalList;\r\n    }\r\n\r\n    // Override onCreateViewHolder which deals\r\n    // with the inflation of the card layout\r\n    // as an item for the RecyclerView.\r\n    @Override\r\n    public MyView onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        // Inflate item.xml using LayoutInflator\r\n        View itemView\r\n                = LayoutInflater\r\n                .from(parent.getContext())\r\n                .inflate(R.layout.recycler_view_item,\r\n                        parent, false);\r\n\r\n        // return itemView\r\n        return new MyView(itemView);\r\n    }\r\n\r\n    // Override onBindViewHolder which deals\r\n    // with the setting of different data\r\n    // and methods related to clicks on\r\n    // particular items of the RecyclerView.\r\n    @Override\r\n    public void onBindViewHolder(final MyView holder, final int position) {\r\n        // Set the text of each item of\r\n        // Recycler view with the list items\r\n        holder.textView.setText(levelList.get(position));\r\n    }\r\n\r\n    // Override getItemCount which Returns\r\n    // the length of the RecyclerView.\r\n    @Override\r\n    public int getItemCount() {\r\n        return levelList.size();\r\n    }\r\n}\r\n```","title":"Firestore data not showing in recycler view","body":"<p>I am trying to add data in my recycler view from firestore.\nI have documents with name (Level+&quot;levelNo.&quot;)\nBut nothing is showing on my activity\nHere is the code:</p>\n<p>MAIN LEVEL ACTIVITY:</p>\n<pre><code>public class LevelActivity extends AppCompatActivity {\n    // Recycler View object\n    RecyclerView recyclerView;\n\n    // Array list for recycler view data source\n    public static List&lt;String&gt; levelList = new ArrayList&lt;&gt;();\n\n    // Layout Manager\n    RecyclerView.LayoutManager RecyclerViewLayoutManager;\n\n    // adapter class object\n    LevelAdapter adapter;\n\n    // Linear Layout Manager\n    LinearLayoutManager HorizontalLayout;\n\n    FirebaseFirestore firebaseFirestore;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_level);\n\n        // initialisation with id's\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n        RecyclerViewLayoutManager = new LinearLayoutManager(getApplicationContext());\n\n        // Set LayoutManager on Recycler View\n        recyclerView.setLayoutManager(RecyclerViewLayoutManager);\n\n        firebaseFirestore = FirebaseFirestore.getInstance();\n\n        loadLevel();\n        // calling constructor of adapter\n        // with source list as a parameter\n        adapter = new LevelAdapter(levelList);\n\n        // Set Horizontal Layout Manager\n        // for Recycler view\n        HorizontalLayout = new LinearLayoutManager(LevelActivity.this, LinearLayoutManager.HORIZONTAL, false);\n        recyclerView.setLayoutManager(HorizontalLayout);\n\n        // Set adapter on recycler view\n        recyclerView.setAdapter(adapter);\n    }\n\n    private void loadLevel(){\n        levelList.clear();\n\n        firebaseFirestore.collection(&quot;QUIZ LEVELS&quot;)\n                .document(&quot;TOTAL_LEVELS&quot;).get()\n                .addOnCompleteListener(task -&gt; {\n                    if (task.isSuccessful()) {\n                        DocumentSnapshot doc = task.getResult();\n                        if (doc.exists()) {\n                            long levelCount = (long) doc.get(&quot;count&quot;);\n\n                            for (int i = 1; i &lt;= levelCount; i++) {\n                                String levelName = doc.getString(&quot;LEVEL&quot; + i);\n                                levelList.add(levelName);\n                            }\n\n                        }else{\n                            Toast.makeText(LevelActivity.this, &quot;no level&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                    }else{\n\n                        Toast.makeText(LevelActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n}\n</code></pre>\n<p>LEVEL ADAPTER:</p>\n<pre><code>public class LevelAdapter extends RecyclerView.Adapter&lt;LevelAdapter.MyView&gt; {\n\n    // List with String type\n    private final List&lt;String&gt; levelList;\n\n    // View Holder class which\n    // extends RecyclerView.ViewHolder\n    public class MyView extends RecyclerView.ViewHolder {\n        // Text View\n        TextView textView;\n\n        // parameterised constructor for View Holder class\n        // which takes the view as a parameter\n        public MyView(View view) {\n            super(view);\n            // initialise TextView with id\n            textView = (TextView) view.findViewById(R.id.textview);\n        }\n    }\n\n    // Constructor for adapter class\n    // which takes a list of String type\n    public LevelAdapter(List&lt;String&gt; horizontalList) {\n        this.levelList = horizontalList;\n    }\n\n    // Override onCreateViewHolder which deals\n    // with the inflation of the card layout\n    // as an item for the RecyclerView.\n    @Override\n    public MyView onCreateViewHolder(ViewGroup parent, int viewType) {\n        // Inflate item.xml using LayoutInflator\n        View itemView\n                = LayoutInflater\n                .from(parent.getContext())\n                .inflate(R.layout.recycler_view_item,\n                        parent, false);\n\n        // return itemView\n        return new MyView(itemView);\n    }\n\n    // Override onBindViewHolder which deals\n    // with the setting of different data\n    // and methods related to clicks on\n    // particular items of the RecyclerView.\n    @Override\n    public void onBindViewHolder(final MyView holder, final int position) {\n        // Set the text of each item of\n        // Recycler view with the list items\n        holder.textView.setText(levelList.get(position));\n    }\n\n    // Override getItemCount which Returns\n    // the length of the RecyclerView.\n    @Override\n    public int getItemCount() {\n        return levelList.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642064447,"post_id":70693723,"comment_id":124974062,"body_markdown":"What to you mean by &quot;no luck&quot;?  Compilation errors?  Runtime errors?  Error messages?  Stack traces?  Please be **specific**.   (For what it is worth, programming is not about luck ...)","body":"What to you mean by &quot;no luck&quot;?  Compilation errors?  Runtime errors?  Error messages?  Stack traces?  Please be <b>specific</b>.   (For what it is worth, programming is not about luck ...)"},{"owner":{"account_id":3861695,"reputation":177,"user_id":3199285,"display_name":"user3199285"},"score":0,"creation_date":1642065129,"post_id":70693723,"comment_id":124974295,"body_markdown":"@StephenC seems that it is not a right way to do. Also it&#39;s throwing below error : \nCaused by: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D","body":"@StephenC seems that it is not a right way to do. Also it&#39;s throwing below error :  Caused by: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642066453,"post_id":70693723,"comment_id":124974807,"body_markdown":"Please **EDIT** your question to include the complete stacktrace as text.","body":"Please <b>EDIT</b> your question to include the complete stacktrace as text."},{"owner":{"account_id":3861695,"reputation":177,"user_id":3199285,"display_name":"user3199285"},"score":0,"creation_date":1642066754,"post_id":70693723,"comment_id":124974926,"body_markdown":"I have included the stacktrace as well.","body":"I have included the stacktrace as well."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642069572,"post_id":70693723,"comment_id":124976064,"body_markdown":"I don&#39;t know the answer ... but I know why `json(array.toString())` doesn&#39;t work.  The `json` method expects its argument to be a string that is a path to a file in the file system.","body":"I don&#39;t know the answer ... but I know why <code>json(array.toString())</code> doesn&#39;t work.  The <code>json</code> method expects its argument to be a string that is a path to a file in the file system."}],"answers":[{"tags":[],"owner":{"account_id":11989815,"reputation":5119,"user_id":8773309,"display_name":"Mohana B C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642085448,"creation_date":1642085448,"answer_id":70698586,"question_id":70693723,"body_markdown":"You should create a RDD from JSON string and pass that to `spark.read.json` method.\r\n\r\n    SparkSession spark = SparkSession.builder().master(&quot;local&quot;).getOrCreate();\r\n    \r\n    String s = &quot;{\\&quot;root\\&quot;:[ \\n&quot; +\r\n                    &quot;  {\\n&quot; +\r\n                    &quot;    \\&quot;firstName\\&quot;:\\&quot;John\\&quot;,\\n&quot; +\r\n                    &quot;    \\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;,\\n&quot; +\r\n                    &quot;    \\&quot;deparment\\&quot; : {\\n&quot; +\r\n                    &quot;       \\&quot;DeptCode\\&quot;:\\&quot;10\\&quot;,\\n&quot; +\r\n                    &quot;       \\&quot;deptName\\&quot; : \\&quot;HR\\&quot;\\n&quot; +\r\n                    &quot;     }\\n&quot; +\r\n                    &quot;  },\\n&quot; +\r\n                    &quot;  {\\n&quot; +\r\n                    &quot;    \\&quot;firstName\\&quot;:\\&quot;Mel\\&quot;,\\n&quot; +\r\n                    &quot;    \\&quot;lastName\\&quot;:\\&quot;Gibson\\&quot;,\\n&quot; +\r\n                    &quot;    \\&quot;deparment\\&quot; : {\\n&quot; +\r\n                    &quot;       \\&quot;DeptCode\\&quot;:\\&quot;20\\&quot;,\\n&quot; +\r\n                    &quot;       \\&quot;deptName\\&quot; : \\&quot;IT\\&quot;\\n&quot; +\r\n                    &quot; }\\n&quot; +\r\n                    &quot;}\\n&quot; +\r\n                    &quot;]}&quot;;\r\n    JSONObject json = (JSONObject) JSONValue.parse(s);\r\n    JSONArray msgsArray = (JSONArray) json.get(&quot;root&quot;);\r\n    \r\n    scala.collection.Seq&lt;String&gt; seq = scala.collection.JavaConverters.asScalaIteratorConverter\r\n                           (Arrays.asList(msgsArray.toString()).iterator()).asScala().toSeq();\r\n    \r\n    RDD&lt;String&gt; jsonRDD = spark.sparkContext().\r\n    parallelize(seq, 4, scala.reflect.ClassTag$.MODULE$.apply(String.class));\r\n    \r\n    spark.read().json(jsonRDD).show();\r\n    \r\n    \r\n    +---------+---------+--------+\r\n    |deparment|firstName|lastName|\r\n    +---------+---------+--------+\r\n    | {10, HR}|     John|     Doe|\r\n    | {20, IT}|      Mel|  Gibson|\r\n    +---------+---------+--------+","title":"Converting a JSONArray into Java Spark Dataframe","body":"<p>You should create a RDD from JSON string and pass that to <code>spark.read.json</code> method.</p>\n<pre><code>SparkSession spark = SparkSession.builder().master(&quot;local&quot;).getOrCreate();\n\nString s = &quot;{\\&quot;root\\&quot;:[ \\n&quot; +\n                &quot;  {\\n&quot; +\n                &quot;    \\&quot;firstName\\&quot;:\\&quot;John\\&quot;,\\n&quot; +\n                &quot;    \\&quot;lastName\\&quot;:\\&quot;Doe\\&quot;,\\n&quot; +\n                &quot;    \\&quot;deparment\\&quot; : {\\n&quot; +\n                &quot;       \\&quot;DeptCode\\&quot;:\\&quot;10\\&quot;,\\n&quot; +\n                &quot;       \\&quot;deptName\\&quot; : \\&quot;HR\\&quot;\\n&quot; +\n                &quot;     }\\n&quot; +\n                &quot;  },\\n&quot; +\n                &quot;  {\\n&quot; +\n                &quot;    \\&quot;firstName\\&quot;:\\&quot;Mel\\&quot;,\\n&quot; +\n                &quot;    \\&quot;lastName\\&quot;:\\&quot;Gibson\\&quot;,\\n&quot; +\n                &quot;    \\&quot;deparment\\&quot; : {\\n&quot; +\n                &quot;       \\&quot;DeptCode\\&quot;:\\&quot;20\\&quot;,\\n&quot; +\n                &quot;       \\&quot;deptName\\&quot; : \\&quot;IT\\&quot;\\n&quot; +\n                &quot; }\\n&quot; +\n                &quot;}\\n&quot; +\n                &quot;]}&quot;;\nJSONObject json = (JSONObject) JSONValue.parse(s);\nJSONArray msgsArray = (JSONArray) json.get(&quot;root&quot;);\n\nscala.collection.Seq&lt;String&gt; seq = scala.collection.JavaConverters.asScalaIteratorConverter\n                       (Arrays.asList(msgsArray.toString()).iterator()).asScala().toSeq();\n\nRDD&lt;String&gt; jsonRDD = spark.sparkContext().\nparallelize(seq, 4, scala.reflect.ClassTag$.MODULE$.apply(String.class));\n\nspark.read().json(jsonRDD).show();\n\n\n+---------+---------+--------+\n|deparment|firstName|lastName|\n+---------+---------+--------+\n| {10, HR}|     John|     Doe|\n| {20, IT}|      Mel|  Gibson|\n+---------+---------+--------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642086150,"creation_date":1642086150,"answer_id":70698720,"question_id":70693723,"body_markdown":"You can import json from a string to a dataset, but there is a caveat that it has to be one object per string.\r\n \r\n[Spark Documentation:][1]\r\n&gt; // Alternatively, a DataFrame can be created for a JSON dataset\r\n&gt; represented by // a Dataset[String] storing one JSON object per string\r\n&gt; val otherPeopleDataset = spark.createDataset( &quot;&quot;&quot;{&quot;name&quot;:&quot;Yin&quot;,&quot;address&quot;:{&quot;city&quot;:&quot;Columbus&quot;,&quot;state&quot;:&quot;Ohio&quot;}}&quot;&quot;&quot; :: Nil) \r\n&gt; val otherPeople = spark.read.json(otherPeopleDataset)\r\n&gt; otherPeople.show()\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.2.0/sql-programming-guide.html#json-datasets","title":"Converting a JSONArray into Java Spark Dataframe","body":"<p>You can import json from a string to a dataset, but there is a caveat that it has to be one object per string.</p>\n<p><a href=\"https://spark.apache.org/docs/2.2.0/sql-programming-guide.html#json-datasets\" rel=\"nofollow noreferrer\">Spark Documentation:</a></p>\n<blockquote>\n<p>// Alternatively, a DataFrame can be created for a JSON dataset\nrepresented by // a Dataset[String] storing one JSON object per string\nval otherPeopleDataset = spark.createDataset( &quot;&quot;&quot;{&quot;name&quot;:&quot;Yin&quot;,&quot;address&quot;:{&quot;city&quot;:&quot;Columbus&quot;,&quot;state&quot;:&quot;Ohio&quot;}}&quot;&quot;&quot; :: Nil)\nval otherPeople = spark.read.json(otherPeopleDataset)\notherPeople.show()</p>\n</blockquote>\n"}],"owner":{"account_id":3861695,"reputation":177,"user_id":3199285,"display_name":"user3199285"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70698586,"answer_count":2,"score":2,"last_activity_date":1642086150,"creation_date":1642063830,"question_id":70693723,"body_markdown":"I am posting this question after searching a lot on the web but couldn&#39;t find the answer.\r\nI have a JSONArray in below format\r\n\r\n    [ \r\n      {\r\n        &quot;firstName&quot;:&quot;John&quot;,\r\n\t    &quot;lastName&quot;:&quot;Doe&quot;,\r\n\t    &quot;deparment&quot; : {\r\n\t       &quot;DeptCode&quot;:&quot;10&quot;,\r\n\t\t   &quot;deptName&quot; : &quot;HR&quot;\r\n\t     }\r\n      },\r\n      {\r\n        &quot;firstName&quot;:&quot;Mel&quot;,\r\n\t    &quot;lastName&quot;:&quot;Gibson&quot;,\r\n\t    &quot;deparment&quot; : {\r\n\t       &quot;DeptCode&quot;:&quot;20&quot;,\r\n\t\t   &quot;deptName&quot; : &quot;IT&quot;\r\n\t }\r\n    }\r\n    ]\r\n\r\nThe JSONArray is from org.json.simple.JSONArray package. I am trying to convert this into Java Spark Dataframe. I was trying with the below code : \r\n\r\n    SparkConf conf = new SparkConf().setAppName(&quot;linecount&quot;).setMaster(&quot;local[*]&quot;);\r\n\tSparkSession session = SparkSession.builder().config(conf).getOrCreate();\t\t\r\n\tDataset&lt;Row&gt; dataset = session.read().json(array.toString());\r\n\r\nBut no luck. I am facing below error. Also I can see in scala we can convert it to Dataframe using DS method. \r\nhas someone tried this before ? \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D,%7B%22firstName%22:%22Mel%22,%22lastName%22:%22Gibson%22%7D%5D\r\n\tat org.apache.hadoop.fs.Path.initialize(Path.java:206)\r\n\tat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:172)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$.org$apache$spark$sql$execution$datasources$DataSource$$checkAndGlobPathIfNecessary(DataSource.scala:615)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$14.apply(DataSource.scala:350)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$14.apply(DataSource.scala:350)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\r\n\tat scala.collection.immutable.List.foreach(List.scala:318)\r\n\tat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\r\n\tat scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:349)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:178)\r\n\tat org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:333)\r\n\tat org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:279)\r\n\tat com.vikas.rawat.AnotherMainClass.main(AnotherMainClass.java:34)\r\n    Caused by: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D,%7B%22firstName%22:%22Mel%22,%22lastName%22:%22Gibson%22%7D%5D\r\n\tat java.net.URI.checkPath(Unknown Source)\r\n\tat java.net.URI.&lt;init&gt;(Unknown Source)\r\n\tat org.apache.hadoop.fs.Path.initialize(Path.java:203)\r\n\t... 14 more","title":"Converting a JSONArray into Java Spark Dataframe","body":"<p>I am posting this question after searching a lot on the web but couldn't find the answer.\nI have a JSONArray in below format</p>\n<pre><code>[ \n  {\n    &quot;firstName&quot;:&quot;John&quot;,\n    &quot;lastName&quot;:&quot;Doe&quot;,\n    &quot;deparment&quot; : {\n       &quot;DeptCode&quot;:&quot;10&quot;,\n       &quot;deptName&quot; : &quot;HR&quot;\n     }\n  },\n  {\n    &quot;firstName&quot;:&quot;Mel&quot;,\n    &quot;lastName&quot;:&quot;Gibson&quot;,\n    &quot;deparment&quot; : {\n       &quot;DeptCode&quot;:&quot;20&quot;,\n       &quot;deptName&quot; : &quot;IT&quot;\n }\n}\n]\n</code></pre>\n<p>The JSONArray is from org.json.simple.JSONArray package. I am trying to convert this into Java Spark Dataframe. I was trying with the below code :</p>\n<pre><code>SparkConf conf = new SparkConf().setAppName(&quot;linecount&quot;).setMaster(&quot;local[*]&quot;);\nSparkSession session = SparkSession.builder().config(conf).getOrCreate();       \nDataset&lt;Row&gt; dataset = session.read().json(array.toString());\n</code></pre>\n<p>But no luck. I am facing below error. Also I can see in scala we can convert it to Dataframe using DS method.\nhas someone tried this before ?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D,%7B%22firstName%22:%22Mel%22,%22lastName%22:%22Gibson%22%7D%5D\nat org.apache.hadoop.fs.Path.initialize(Path.java:206)\nat org.apache.hadoop.fs.Path.&lt;init&gt;(Path.java:172)\nat org.apache.spark.sql.execution.datasources.DataSource$.org$apache$spark$sql$execution$datasources$DataSource$$checkAndGlobPathIfNecessary(DataSource.scala:615)\nat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$14.apply(DataSource.scala:350)\nat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$14.apply(DataSource.scala:350)\nat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\nat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:251)\nat scala.collection.immutable.List.foreach(List.scala:318)\nat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:251)\nat scala.collection.AbstractTraversable.flatMap(Traversable.scala:105)\nat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:349)\nat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:178)\nat org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:333)\nat org.apache.spark.sql.DataFrameReader.json(DataFrameReader.scala:279)\nat com.vikas.rawat.AnotherMainClass.main(AnotherMainClass.java:34)\nCaused by: java.net.URISyntaxException: Relative path in absolute URI: [{&quot;firstName&quot;:%22John%22,%22lastName%22:%22Doe%22%7D,%7B%22firstName%22:%22Mel%22,%22lastName%22:%22Gibson%22%7D%5D\nat java.net.URI.checkPath(Unknown Source)\nat java.net.URI.&lt;init&gt;(Unknown Source)\nat org.apache.hadoop.fs.Path.initialize(Path.java:203)\n... 14 more\n</code></pre>\n"},{"tags":["java","android","screenshot","android-mediaprojection","android-virtualdisplay"],"comments":[{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1642008184,"post_id":70685383,"comment_id":124960273,"body_markdown":"Can&#39;t you [set the screen size](https://learn.microsoft.com/en-us/dotnet/api/android.media.projection.mediaprojection.createvirtualdisplay?view=xamarin-android-sdk-12) when creating the VirtualDisplay?","body":"Can&#39;t you <a href=\"https://learn.microsoft.com/en-us/dotnet/api/android.media.projection.mediaprojection.createvirtualdisplay?view=xamarin-android-sdk-12\" rel=\"nofollow noreferrer\">set the screen size</a> when creating the VirtualDisplay?"},{"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"score":0,"creation_date":1642008330,"post_id":70685383,"comment_id":124960338,"body_markdown":"That just sets the size of the VirtualDisplay, which still contains the entire screen.","body":"That just sets the size of the VirtualDisplay, which still contains the entire screen."},{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1642009107,"post_id":70685383,"comment_id":124960676,"body_markdown":"I&#39;ve read around and it seems impossible to do with this API, try reading [here](https://developer.mozilla.org/en-US/docs/Web/API/Screen_Capture_API), if it&#39;s not out of date it should do the trick.","body":"I&#39;ve read around and it seems impossible to do with this API, try reading <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Screen_Capture_API\" rel=\"nofollow noreferrer\">here</a>, if it&#39;s not out of date it should do the trick."},{"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"score":0,"creation_date":1642010459,"post_id":70685383,"comment_id":124961210,"body_markdown":"I am using Java, please refer to the appropriate documentation.","body":"I am using Java, please refer to the appropriate documentation."},{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1642022858,"post_id":70685383,"comment_id":124965437,"body_markdown":"Sorry, I didn&#39;t realise, try [this](https://www.geeksforgeeks.org/how-to-capture-screenshot-of-a-view-and-save-it-to-gallery-in-android/) guide, from the mini introductory video it looks like it only screens the logo, so not full screen.","body":"Sorry, I didn&#39;t realise, try <a href=\"https://www.geeksforgeeks.org/how-to-capture-screenshot-of-a-view-and-save-it-to-gallery-in-android/\" rel=\"nofollow noreferrer\">this</a> guide, from the mini introductory video it looks like it only screens the logo, so not full screen."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1642066799,"post_id":70685383,"comment_id":124974944,"body_markdown":"if you want to record surface,you can use recordablesurfaceview https://github.com/spaceLenny/recordablesurfaceview","body":"if you want to record surface,you can use recordablesurfaceview <a href=\"https://github.com/spaceLenny/recordablesurfaceview\" rel=\"nofollow noreferrer\">github.com/spaceLenny/recordablesurfaceview</a>"},{"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"score":0,"creation_date":1642083151,"post_id":70685383,"comment_id":124981490,"body_markdown":"Thank you for that but I do not need to save a recording to a file, I simply want to achieve what is shown in the image. @Eugenio this does not really help because he is simply saving the image that is being held in the View.","body":"Thank you for that but I do not need to save a recording to a file, I simply want to achieve what is shown in the image. @Eugenio this does not really help because he is simply saving the image that is being held in the View."}],"answers":[{"tags":[],"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085883,"creation_date":1642085883,"answer_id":70698664,"question_id":70685383,"body_markdown":"Thanks to [this][1] question, I have found a solution. Setting the `SurfaceView`&#39;s scale was the key:\r\n\r\n    mSurface.setScaleX(/*scale factor*/);\r\n    mSurface.setScaleY(/*scale factor*/);\r\n\r\nAs for the scale factors, I am currently trying with trial and error until I get a perfect fit and it blends in perfectly with the background, but I will try to do it in a more programmatic and precise manner.\r\n\r\n  [1]: https://stackoverflow.com/questions/61352523/android-crop-video-from-mediacodec-in-surfaceview","title":"Defining an area for a screen capture on android","body":"<p>Thanks to <a href=\"https://stackoverflow.com/questions/61352523/android-crop-video-from-mediacodec-in-surfaceview\">this</a> question, I have found a solution. Setting the <code>SurfaceView</code>'s scale was the key:</p>\n<pre><code>mSurface.setScaleX(/*scale factor*/);\nmSurface.setScaleY(/*scale factor*/);\n</code></pre>\n<p>As for the scale factors, I am currently trying with trial and error until I get a perfect fit and it blends in perfectly with the background, but I will try to do it in a more programmatic and precise manner.</p>\n"}],"owner":{"account_id":6934959,"reputation":438,"user_id":5323220,"accept_rate":25,"display_name":"Noam Suissa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642085883,"creation_date":1642006391,"question_id":70685383,"body_markdown":"I currently have a `VirtualDisplay` set up using the `MediaProjection` API which is being drawn on to a `SurfaceView` that is always visible. The VirtualDisplay is, however, capturing the entire display but I would like it do capture only the portion of which the SurfaceView is covering. Is there any solution to this, I would appreciate the help?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iCSlj.jpg","title":"Defining an area for a screen capture on android","body":"<p>I currently have a <code>VirtualDisplay</code> set up using the <code>MediaProjection</code> API which is being drawn on to a <code>SurfaceView</code> that is always visible. The VirtualDisplay is, however, capturing the entire display but I would like it do capture only the portion of which the SurfaceView is covering. Is there any solution to this, I would appreciate the help?</p>\n<p><a href=\"https://i.stack.imgur.com/iCSlj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCSlj.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1642084322,"post_id":70698287,"comment_id":124982016,"body_markdown":"You are using `set.union` function already.","body":"You are using <code>set.union</code> function already."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1642088457,"post_id":70698287,"comment_id":124983777,"body_markdown":"The union of two integer set should result in an integer set.  First, dump the content of setA into a tmp array of size (setA length + setB length).   Then add only values in setB to tmp if it&#39;s not already in temp.  Keep track of how many numbers have been added to tmp.  Create a new array unionAB of size of the number of values added to tmp.  Copy the values in tmp to unionAB.","body":"The union of two integer set should result in an integer set.  First, dump the content of setA into a tmp array of size (setA length + setB length).   Then add only values in setB to tmp if it&#39;s not already in temp.  Keep track of how many numbers have been added to tmp.  Create a new array unionAB of size of the number of values added to tmp.  Copy the values in tmp to unionAB."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085508,"creation_date":1642085136,"answer_id":70698518,"question_id":70698287,"body_markdown":"Probably can be done easier. What I do here is:\r\n\r\n 1. Create array that can fit both arrays if nothing is duplicated\r\n 2. Copy `resA` to resulting array\r\n 3. For every element `b` check if it is not there yes in `res`\r\n 4. If element is there already - skip the iteration, if it is not, add and it\r\n 5. As a cleanup, trim down the array to the length of actual elements which are not 0\r\n\r\n\r\n      public static void main(String[] args) {\r\n\r\n        int setA[] = {1, 3, 5, 7, 10, 11};\r\n        int setB[] = {2, 4, 7, 12, 15};\r\n        int[] res = new int[setA.length + setB.length];\r\n        //copy a to res\r\n        int pointer = 0;\r\n        for (; pointer &lt; setA.length; pointer++) {\r\n            res[pointer] = setA[pointer];\r\n        }\r\n        for (int b : setB) {\r\n            boolean alreadyThere = false;\r\n            for (int i=0;i&lt;pointer;i++) {\r\n                if (res[i] == b) {\r\n                    alreadyThere = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (alreadyThere) continue;\r\n            res[pointer++] = b;\r\n        }\r\n\r\n        //optionally shrink down to pointer length\r\n        int ret[] = new int[pointer];\r\n        for (int i = 0; i &lt; ret.length; i++) {\r\n            ret[i] = res[i];\r\n        }\r\n\r\n        //print out\r\n        Arrays.stream(ret).forEach(r -&gt; System.out.print(r + &quot; &quot;));\r\n    }\r\n\r\nAs a curiosity, it is possible to do it without boolean flag by using labels (which is discouraged nowdays)\r\n\r\n    for (int b : setB) skipIt:{\r\n        for (int i=0;i&lt;pointer;i++) {\r\n            if (res[i] == b) {\r\n                break skipIt;\r\n            }\r\n        }\r\n        res[pointer++] = b;\r\n    }\r\n\r\n\r\nOutput\r\n\r\n    1 3 5 7 10 11 2 4 12 15 ","title":"How do I remove elements of an array without using methods or functions","body":"<p>Probably can be done easier. What I do here is:</p>\n<ol>\n<li><p>Create array that can fit both arrays if nothing is duplicated</p>\n</li>\n<li><p>Copy <code>resA</code> to resulting array</p>\n</li>\n<li><p>For every element <code>b</code> check if it is not there yes in <code>res</code></p>\n</li>\n<li><p>If element is there already - skip the iteration, if it is not, add and it</p>\n</li>\n<li><p>As a cleanup, trim down the array to the length of actual elements which are not 0</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>int setA[] = {1, 3, 5, 7, 10, 11};\nint setB[] = {2, 4, 7, 12, 15};\nint[] res = new int[setA.length + setB.length];\n//copy a to res\nint pointer = 0;\nfor (; pointer &lt; setA.length; pointer++) {\n    res[pointer] = setA[pointer];\n}\nfor (int b : setB) {\n    boolean alreadyThere = false;\n    for (int i=0;i&lt;pointer;i++) {\n        if (res[i] == b) {\n            alreadyThere = true;\n            break;\n        }\n    }\n    if (alreadyThere) continue;\n    res[pointer++] = b;\n}\n\n//optionally shrink down to pointer length\nint ret[] = new int[pointer];\nfor (int i = 0; i &lt; ret.length; i++) {\n    ret[i] = res[i];\n}\n\n//print out\nArrays.stream(ret).forEach(r -&gt; System.out.print(r + &quot; &quot;));\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>As a curiosity, it is possible to do it without boolean flag by using labels (which is discouraged nowdays)</p>\n<pre><code>for (int b : setB) skipIt:{\n    for (int i=0;i&lt;pointer;i++) {\n        if (res[i] == b) {\n            break skipIt;\n        }\n    }\n    res[pointer++] = b;\n}\n</code></pre>\n<p>Output</p>\n<pre><code>1 3 5 7 10 11 2 4 12 15 \n</code></pre>\n"}],"owner":{"account_id":23904917,"reputation":19,"user_id":17902625,"display_name":"Z1latro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1642085508,"creation_date":1642084175,"question_id":70698287,"body_markdown":"I need to get the union of two sets without repeated or duplicate elements. I&#39;m not allowed to use methods and functions. Need to code from scratch.\r\n\r\nHere is what I have so far:\r\n\r\n    public class MyClass {\r\n\r\n    public static void main (String[] args) {\r\n\r\n        int setA[] = {1,3,5,7,10,11};\r\n        int setB[] = {2,4,7,12,15};\r\n        \r\n        MyClass set=new MyClass();\r\n        set.union(setA, setB);\r\n    public void union(int setA[],int setB[]) {\r\n        String hold=&quot;&quot;;\r\n        for(int i=0;i&lt;setA.length;i++) {\r\n            hold+=setA[i]+&quot; &quot;;\r\n    }\r\n        for(int i=0;i&lt;setB.length;i++) {\r\n            hold+=setB[i]+&quot; &quot;;\r\n    }\r\n        System.out.println(hold);\r\n    }\r\n\r\n\r\nThe output is:\r\n\r\n```\r\n1 3 5 7 10 11 2 4 7 12 15\r\n```","title":"How do I remove elements of an array without using methods or functions","body":"<p>I need to get the union of two sets without repeated or duplicate elements. I'm not allowed to use methods and functions. Need to code from scratch.</p>\n<p>Here is what I have so far:</p>\n<pre><code>public class MyClass {\n\npublic static void main (String[] args) {\n\n    int setA[] = {1,3,5,7,10,11};\n    int setB[] = {2,4,7,12,15};\n    \n    MyClass set=new MyClass();\n    set.union(setA, setB);\npublic void union(int setA[],int setB[]) {\n    String hold=&quot;&quot;;\n    for(int i=0;i&lt;setA.length;i++) {\n        hold+=setA[i]+&quot; &quot;;\n}\n    for(int i=0;i&lt;setB.length;i++) {\n        hold+=setB[i]+&quot; &quot;;\n}\n    System.out.println(hold);\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>1 3 5 7 10 11 2 4 7 12 15\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1642085565,"post_id":70696989,"comment_id":124982600,"body_markdown":"That&#39;s quite a bit of code. When you step through this code line by line in a debugger and inspect the value of each variable on every line, which is the first line that doesn&#39;t do what you expect it to do?","body":"That&#39;s quite a bit of code. When you step through this code line by line in a debugger and inspect the value of each variable on every line, which is the first line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642088015,"post_id":70696989,"comment_id":124983624,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":23929697,"reputation":1,"user_id":17924375,"display_name":"Mohammad Maaz"},"score":0,"creation_date":1642097214,"post_id":70696989,"comment_id":124987374,"body_markdown":"@AlexMamo for (int i = 0 ; i &lt; friendList.size() ; i++){\n                    sendPostToFriendsNewsFeed(type, key, post, friendList, i);\n                } this should run for both the contacts of the user but instead it runs for only the last child","body":"@AlexMamo for (int i = 0 ; i &lt; friendList.size() ; i++){                     sendPostToFriendsNewsFeed(type, key, post, friendList, i);                 } this should run for both the contacts of the user but instead it runs for only the last child"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642107051,"post_id":70696989,"comment_id":124990839,"body_markdown":"Have you tried to step through the debugger to see what goes wrong?","body":"Have you tried to step through the debugger to see what goes wrong?"}],"owner":{"account_id":23929697,"reputation":1,"user_id":17924375,"display_name":"Mohammad Maaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642085503,"creation_date":1642078581,"question_id":70696989,"body_markdown":"I&#39;m trying to make a social media app and to send news feed what im doing is sending the new post to all the users which are currently in friendslist of the current user. \r\n\r\n![User contacts][1]\r\n\r\n  [1]: https://i.stack.imgur.com/1pjrw.png\r\n\r\n\r\nFirstly i get all the contacts user id using following method \r\n\r\n    friendList = new ArrayList&lt;&gt;();\r\n        contactRef.child(&quot;Contacts&quot;).child(currentUser).addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n                friendList.clear();\r\n                friendList.add(dataSnapshot.getKey());\r\n                if(!dataSnapshot.exists()){\r\n                    Log.v(&quot;data&quot;,&quot;nothing found&quot;);\r\n                }else{\r\n                  for (int i = 0; i &lt; friendList.size(); i++) {\r\n                    GetNewsFeed(friendList,i);\r\n                  }\r\n               }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\nthen i use the friendslist to get the size and run it thorugh the for loop to send the post to each user&#39;s newsfeed.\r\n\r\n    share_post_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String post = user_post_status.getText().toString();\r\n                if(TextUtils.isEmpty(post)){\r\n                    showMessage(&quot;Type something first &quot;);\r\n                }else{\r\n                    DatabaseReference userMessageKeyRef = rootRef.child(&quot;Users&quot;).child(currentUser).push();\r\n                    String key = userMessageKeyRef.getKey();\r\n                    type = &quot;text&quot;;\r\n                    for (int i = 0 ; i &lt; friendList.size() ; i++){\r\n                        sendPostToFriendsNewsFeed(type, key, post, friendList, i);\r\n                    }\r\n                    sendPostToProfileFeed(type, key, post);\r\n                    user_post_status.setText(&quot;&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        private void sendPostToFriendsNewsFeed(final String type, final String key, String post, List&lt;String&gt; userList, int i) {[enter image description here][1]\r\n        Map textBody = new HashMap();\r\n        textBody.put(&quot;post&quot;,post);\r\n        textBody.put(&quot;type&quot;,type);\r\n        textBody.put(&quot;name&quot;,current_user_name);\r\n        textBody.put(&quot;photo&quot;,current_user_photo);\r\n        textBody.put(&quot;date&quot;,saveCurrentDate);\r\n        textBody.put(&quot;time&quot;,saveCurrentTime);\r\n        textBody.put(&quot;key&quot;,key);\r\n        textBody.put(&quot;uid&quot;,currentUser);\r\n\r\n        newsFeedRef.child(userList.get(i)).child(key).updateChildren(textBody).addOnCompleteListener(new OnCompleteListener() {\r\n            @Override\r\n            public void onComplete(@NonNull Task task) {\r\n                Log.v(&quot;sent&quot;,uid);\r\n                Log.i(&quot;User post shared&quot;, &quot;post type =&quot; +type+ &quot;, &quot;+&quot;postID = &quot;+key+&quot;, &quot;+&quot;userID = &quot;+currentUser);\r\n            }\r\n        });\r\n    }\r\n\r\n&#39;Log.v(&quot;sent&quot;,uid)&#39; this message in onComplete displays the user id of the last child of friendlist. \r\n\r\n![NewsFeed][2]\r\n\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/5asxV.png","title":"How to send data to multiple firebase childs using for loop","body":"<p>I'm trying to make a social media app and to send news feed what im doing is sending the new post to all the users which are currently in friendslist of the current user.</p>\n<p><img src=\"https://i.stack.imgur.com/1pjrw.png\" alt=\"User contacts\" /></p>\n<p>Firstly i get all the contacts user id using following method</p>\n<pre><code>friendList = new ArrayList&lt;&gt;();\n    contactRef.child(&quot;Contacts&quot;).child(currentUser).addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n            friendList.clear();\n            friendList.add(dataSnapshot.getKey());\n            if(!dataSnapshot.exists()){\n                Log.v(&quot;data&quot;,&quot;nothing found&quot;);\n            }else{\n              for (int i = 0; i &lt; friendList.size(); i++) {\n                GetNewsFeed(friendList,i);\n              }\n           }\n        }\n\n        @Override\n        public void onChildChanged(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n\n        }\n\n        @Override\n        public void onChildRemoved(@NonNull DataSnapshot dataSnapshot) {\n\n        }\n\n        @Override\n        public void onChildMoved(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n</code></pre>\n<p>then i use the friendslist to get the size and run it thorugh the for loop to send the post to each user's newsfeed.</p>\n<pre><code>share_post_button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String post = user_post_status.getText().toString();\n            if(TextUtils.isEmpty(post)){\n                showMessage(&quot;Type something first &quot;);\n            }else{\n                DatabaseReference userMessageKeyRef = rootRef.child(&quot;Users&quot;).child(currentUser).push();\n                String key = userMessageKeyRef.getKey();\n                type = &quot;text&quot;;\n                for (int i = 0 ; i &lt; friendList.size() ; i++){\n                    sendPostToFriendsNewsFeed(type, key, post, friendList, i);\n                }\n                sendPostToProfileFeed(type, key, post);\n                user_post_status.setText(&quot;&quot;);\n            }\n        }\n    });\n\n    private void sendPostToFriendsNewsFeed(final String type, final String key, String post, List&lt;String&gt; userList, int i) {[enter image description here][1]\n    Map textBody = new HashMap();\n    textBody.put(&quot;post&quot;,post);\n    textBody.put(&quot;type&quot;,type);\n    textBody.put(&quot;name&quot;,current_user_name);\n    textBody.put(&quot;photo&quot;,current_user_photo);\n    textBody.put(&quot;date&quot;,saveCurrentDate);\n    textBody.put(&quot;time&quot;,saveCurrentTime);\n    textBody.put(&quot;key&quot;,key);\n    textBody.put(&quot;uid&quot;,currentUser);\n\n    newsFeedRef.child(userList.get(i)).child(key).updateChildren(textBody).addOnCompleteListener(new OnCompleteListener() {\n        @Override\n        public void onComplete(@NonNull Task task) {\n            Log.v(&quot;sent&quot;,uid);\n            Log.i(&quot;User post shared&quot;, &quot;post type =&quot; +type+ &quot;, &quot;+&quot;postID = &quot;+key+&quot;, &quot;+&quot;userID = &quot;+currentUser);\n        }\n    });\n}\n</code></pre>\n<p>'Log.v(&quot;sent&quot;,uid)' this message in onComplete displays the user id of the last child of friendlist.</p>\n<p><img src=\"https://i.stack.imgur.com/5asxV.png\" alt=\"NewsFeed\" /></p>\n"},{"tags":["java","android","firebase-realtime-database","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":8713922,"reputation":158,"user_id":6519248,"display_name":"Yoav Gibri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642083299,"creation_date":1642083299,"answer_id":70698074,"question_id":70697600,"body_markdown":"You should override `onBindViewHolder` so it can call `populateViewHolder`.\r\ntry something like this:\r\n\r\n     @Override\r\n    public void onBindViewHolder(VH viewHolder, int position) {\r\n        Category model = getItem(position);\r\n        populateViewHolder(viewHolder, model, position);\r\n    }\r\n\r\n\r\nAlso, I believe that in `onCreateViewHolder` you should inflate your item layout and return a new ViewHolder.","title":"Loading Text and Image from FireBase Database to a View Holder","body":"<p>You should override <code>onBindViewHolder</code> so it can call <code>populateViewHolder</code>.\ntry something like this:</p>\n<pre><code> @Override\npublic void onBindViewHolder(VH viewHolder, int position) {\n    Category model = getItem(position);\n    populateViewHolder(viewHolder, model, position);\n}\n</code></pre>\n<p>Also, I believe that in <code>onCreateViewHolder</code> you should inflate your item layout and return a new ViewHolder.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642085139,"creation_date":1642085139,"answer_id":70698519,"question_id":70697600,"body_markdown":"To use the adapter&#39;s from FirebaseUI, you need to override them and implement both `onCreateViewHolder` and `onBindViewHolder`. There is no need for a `populateViewHolder` method though.\r\n\r\nFrom the FirebaseUI documentation on [Using the FirebaseRecyclerAdapter](https://github.com/firebase/FirebaseUI-Android/tree/master/database#using-the-firebaserecycleradapter) comes this minimal example:\r\n\r\n```\r\nFirebaseRecyclerAdapter adapter = new FirebaseRecyclerAdapter&lt;Chat, ChatHolder&gt;(options) {\r\n    @Override\r\n    public ChatHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        // Create a new instance of the ViewHolder, in this case we are using a custom\r\n        // layout called R.layout.message for each item\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.message, parent, false);\r\n\r\n        return new ChatHolder(view);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(ChatHolder holder, int position, Chat model) {\r\n        // Bind the Chat object to the ChatHolder\r\n        // ...\r\n    }\r\n};\r\n```\r\n\r\nMost of the code you have in `populateViewHolder` now, will end up in   `onBindViewHolder` when using FirebaseUI.","title":"Loading Text and Image from FireBase Database to a View Holder","body":"<p>To use the adapter's from FirebaseUI, you need to override them and implement both <code>onCreateViewHolder</code> and <code>onBindViewHolder</code>. There is no need for a <code>populateViewHolder</code> method though.</p>\n<p>From the FirebaseUI documentation on <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/database#using-the-firebaserecycleradapter\" rel=\"nofollow noreferrer\">Using the FirebaseRecyclerAdapter</a> comes this minimal example:</p>\n<pre><code>FirebaseRecyclerAdapter adapter = new FirebaseRecyclerAdapter&lt;Chat, ChatHolder&gt;(options) {\n    @Override\n    public ChatHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        // Create a new instance of the ViewHolder, in this case we are using a custom\n        // layout called R.layout.message for each item\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.message, parent, false);\n\n        return new ChatHolder(view);\n    }\n\n    @Override\n    protected void onBindViewHolder(ChatHolder holder, int position, Chat model) {\n        // Bind the Chat object to the ChatHolder\n        // ...\n    }\n};\n</code></pre>\n<p>Most of the code you have in <code>populateViewHolder</code> now, will end up in   <code>onBindViewHolder</code> when using FirebaseUI.</p>\n"}],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642085149,"creation_date":1642081384,"question_id":70697600,"body_markdown":"Need To Get the Text &amp; Image From FireBase Database And View them Using FireBase RecyclerAdapter But the Problem is:\r\n\r\n- There is a red line Under `FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt;`which said \r\n\r\n&gt; Class &#39;Anonymous class derived from FirebaseRecyclerAdapter&#39; must either be declared abstract or implement abstract method &#39;onBindViewHolder(VH, int, T)&#39; in &#39;FirebaseRecyclerAdapter&#39;\r\n\r\n- populateViewHolder I write it manully I think this method is depreciated.\r\n\r\n[Click to See a Picture Which Shows the Problems][1]\r\n\r\n    private void loadMenu() {\r\n        FirebaseRecyclerAdapter&lt;Category,MenuViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt; (Category.class , R.layout.menu_item , MenuViewHolder.class , category){\r\n            @Override\r\n            protected void populateViewHolder(@NonNull MenuViewHolder viewHolder, Category model, int position) {\r\n                viewHolder.txtMenuName.setText(model.getName());\r\n                Picasso.get().load(model.getImage()).into(viewHolder.ImageView);\r\n                Category clickItem = model;\r\n                viewHolder.setItemClickListener(new ItemClickListener() {\r\n                    @Override\r\n                    public void onClick(View view, int position, boolean isLongClick) {\r\n                        Toast.makeText(Home.this, &quot;&quot; + clickItem.getName(), Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                return null;\r\n     \r\n\r\n           }\r\n            };\r\n            recycler_menu.setAdapter(adapter);\r\n    }\r\n\r\n\r\n  [1]: http://tinyimg.io/i/b4nZuWq.PNG\r\n\r\nThanks A Lot","title":"Loading Text and Image from FireBase Database to a View Holder","body":"<p>Need To Get the Text &amp; Image From FireBase Database And View them Using FireBase RecyclerAdapter But the Problem is:</p>\n<ul>\n<li>There is a red line Under <code>FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt;</code>which said</li>\n</ul>\n<blockquote>\n<p>Class 'Anonymous class derived from FirebaseRecyclerAdapter' must either be declared abstract or implement abstract method 'onBindViewHolder(VH, int, T)' in 'FirebaseRecyclerAdapter'</p>\n</blockquote>\n<ul>\n<li>populateViewHolder I write it manully I think this method is depreciated.</li>\n</ul>\n<p><a href=\"http://tinyimg.io/i/b4nZuWq.PNG\" rel=\"nofollow noreferrer\">Click to See a Picture Which Shows the Problems</a></p>\n<pre><code>private void loadMenu() {\n    FirebaseRecyclerAdapter&lt;Category,MenuViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Category, MenuViewHolder&gt; (Category.class , R.layout.menu_item , MenuViewHolder.class , category){\n        @Override\n        protected void populateViewHolder(@NonNull MenuViewHolder viewHolder, Category model, int position) {\n            viewHolder.txtMenuName.setText(model.getName());\n            Picasso.get().load(model.getImage()).into(viewHolder.ImageView);\n            Category clickItem = model;\n            viewHolder.setItemClickListener(new ItemClickListener() {\n                @Override\n                public void onClick(View view, int position, boolean isLongClick) {\n                    Toast.makeText(Home.this, &quot;&quot; + clickItem.getName(), Toast.LENGTH_SHORT).show();\n\n                }\n            });\n        }\n\n        @NonNull\n        @Override\n        public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            return null;\n \n\n       }\n        };\n        recycler_menu.setAdapter(adapter);\n}\n</code></pre>\n<p>Thanks A Lot</p>\n"},{"tags":["java","spring","amazon-web-services"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1642083592,"post_id":70627829,"comment_id":124981690,"body_markdown":"Please include error text, not an image.","body":"Please include error text, not an image."},{"owner":{"account_id":356260,"reputation":2426,"user_id":695657,"accept_rate":78,"display_name":"Sai Upadhyayula"},"score":0,"creation_date":1643326314,"post_id":70627829,"comment_id":125317176,"body_markdown":"I am the author of the tutorial, I think may be the maven dependency - spring-cloud-aws-context or spring-cloud-aws-autoconfigure is not downloaded properly.\n\nTry to run &#39;mvn clean compile&#39; to force maven to download the dependencies.","body":"I am the author of the tutorial, I think may be the maven dependency - spring-cloud-aws-context or spring-cloud-aws-autoconfigure is not downloaded properly.  Try to run &#39;mvn clean compile&#39; to force maven to download the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642084748,"creation_date":1642083668,"answer_id":70698170,"question_id":70627829,"body_markdown":"If you want to build a Spring App that works with Amazon S3, refer to this AWS tutorial. It walks you through building a Java Spring BOOT app that uses Amazon S3, Amazon Rekognition, and other services. It also uses AWS SDK for Java V2 - which is the recommended SDK to use.\r\n\r\nThe use case for this app is it analyzes many nature images that are located in an Amazon S3 bucket. \r\n\r\n[Detect objects in images with Amazon Rekognition using an AWS SDK][1]\r\n\r\nThere is also a sample Spring BOOT app that streams videos located in an Amazon S3 bucket:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhich seems to be what you are trying to do. See \r\n\r\n[Building a Spring Boot web application that Streams Amazon S3 content over HTTP][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/rekognition/latest/dg/example_cross_RekognitionPhotoAnalyzer_section.html\r\n  [2]: https://i.stack.imgur.com/HKKqo.png\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/create_spring_stream_app","title":"Java cannot find S3 service","body":"<p>If you want to build a Spring App that works with Amazon S3, refer to this AWS tutorial. It walks you through building a Java Spring BOOT app that uses Amazon S3, Amazon Rekognition, and other services. It also uses AWS SDK for Java V2 - which is the recommended SDK to use.</p>\n<p>The use case for this app is it analyzes many nature images that are located in an Amazon S3 bucket.</p>\n<p><a href=\"https://docs.aws.amazon.com/rekognition/latest/dg/example_cross_RekognitionPhotoAnalyzer_section.html\" rel=\"nofollow noreferrer\">Detect objects in images with Amazon Rekognition using an AWS SDK</a></p>\n<p>There is also a sample Spring BOOT app that streams videos located in an Amazon S3 bucket:</p>\n<p><a href=\"https://i.stack.imgur.com/HKKqo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKKqo.png\" alt=\"enter image description here\" /></a></p>\n<p>Which seems to be what you are trying to do. See</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/create_spring_stream_app\" rel=\"nofollow noreferrer\">Building a Spring Boot web application that Streams Amazon S3 content over HTTP</a></p>\n"}],"owner":{"account_id":23864818,"reputation":1,"user_id":17867309,"display_name":"marwek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642084748,"creation_date":1641594364,"question_id":70627829,"body_markdown":"I&#39;ve got a problem following [tutorial](https://www.youtube.com/watch?v=_VbmA1F7a-0&amp;list=PLSVW22jAG8pC-4yRGXgbuSIhvaohXSDPw&amp;index=3&amp;ab_channel=ProgrammingTechie)\r\nHave been looking for solutions, but no result\r\n\r\nIntelliJ can&#39;t read imports from package amazonaws services S3, when I build an app, the error says\r\n![com.amazonaws.services.s3 does not exist](https://i.stack.imgur.com/uzEuz.png)\r\n\r\npom.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;youtube&lt;/artifactId&gt;\r\n            &lt;groupId&gt;pl.marcin&lt;/groupId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;16&lt;/source&gt;\r\n                        &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nclass which is connected with error\r\n\r\n    package pl.marcin.youtube.service;\r\n    \r\n    \r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n    import com.amazonaws.services.s3.model.CannedAccessControlList;\r\n    import com.amazonaws.services.s3.model.ObjectMetadata;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.util.StringUtils;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    import org.springframework.web.server.ResponseStatusException;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class S3Service implements FileService {\r\n    \r\n        public static final String YOUTUBE_DEMO = &quot;youtube-mw&quot;;\r\n    \r\n        private final AmazonS3Client awsS3Client;\r\n    \r\n        @Override\r\n        public String uploadFile(MultipartFile file) {\r\n    \r\n            var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\r\n            var key = UUID.randomUUID().toString() + &quot;.&quot; + filenameExtension;\r\n    \r\n            var metadata = new ObjectMetadata();\r\n            metadata.setContentLength(file.getSize());\r\n            metadata.setContentType(file.getContentType());\r\n            try {\r\n                awsS3Client.putObject(YOUTUBE_DEMO, key, file.getInputStream(), metadata);\r\n            } catch (IOException ex){\r\n                throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                        &quot;An exception occured while uploading a file&quot;);\r\n            }\r\n            awsS3Client.setObjectAcl(YOUTUBE_DEMO, key, CannedAccessControlList.PublicRead);\r\n            return awsS3Client.getResourceUrl(YOUTUBE_DEMO, key);\r\n        }\r\n    }\r\n\r\n","title":"Java cannot find S3 service","body":"<p>I've got a problem following <a href=\"https://www.youtube.com/watch?v=_VbmA1F7a-0&amp;list=PLSVW22jAG8pC-4yRGXgbuSIhvaohXSDPw&amp;index=3&amp;ab_channel=ProgrammingTechie\" rel=\"nofollow noreferrer\">tutorial</a>\nHave been looking for solutions, but no result</p>\n<p>IntelliJ can't read imports from package amazonaws services S3, when I build an app, the error says\n<img src=\"https://i.stack.imgur.com/uzEuz.png\" alt=\"com.amazonaws.services.s3 does not exist\" /></p>\n<p>pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;youtube&lt;/artifactId&gt;\n        &lt;groupId&gt;pl.marcin&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>class which is connected with error</p>\n<pre><code>package pl.marcin.youtube.service;\n\n\nimport com.amazonaws.services.s3.AmazonS3Client;\nimport com.amazonaws.services.s3.model.CannedAccessControlList;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\npublic class S3Service implements FileService {\n\n    public static final String YOUTUBE_DEMO = &quot;youtube-mw&quot;;\n\n    private final AmazonS3Client awsS3Client;\n\n    @Override\n    public String uploadFile(MultipartFile file) {\n\n        var filenameExtension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n        var key = UUID.randomUUID().toString() + &quot;.&quot; + filenameExtension;\n\n        var metadata = new ObjectMetadata();\n        metadata.setContentLength(file.getSize());\n        metadata.setContentType(file.getContentType());\n        try {\n            awsS3Client.putObject(YOUTUBE_DEMO, key, file.getInputStream(), metadata);\n        } catch (IOException ex){\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n                    &quot;An exception occured while uploading a file&quot;);\n        }\n        awsS3Client.setObjectAcl(YOUTUBE_DEMO, key, CannedAccessControlList.PublicRead);\n        return awsS3Client.getResourceUrl(YOUTUBE_DEMO, key);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","nullpointerexception"],"comments":[{"owner":{"account_id":3812797,"reputation":83,"user_id":3163079,"display_name":"yahitesh"},"score":0,"creation_date":1642088660,"post_id":70698210,"comment_id":124983856,"body_markdown":"I think you are getting entityManager as null\n\n\nentityManager.getTransaction( ).begin( );","body":"I think you are getting entityManager as null   entityManager.getTransaction( ).begin( );"},{"owner":{"account_id":16203031,"reputation":1,"user_id":11698984,"display_name":"charanteja"},"score":0,"creation_date":1642090482,"post_id":70698210,"comment_id":124984667,"body_markdown":"Yes, it is for transaction begining. Anything wrong in that?","body":"Yes, it is for transaction begining. Anything wrong in that?"}],"owner":{"account_id":16203031,"reputation":1,"user_id":11698984,"display_name":"charanteja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642454157,"answer_count":0,"score":0,"last_activity_date":1642084476,"creation_date":1642083859,"question_id":70698210,"body_markdown":"**Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2:java (default-cli) on project FrescoJPADemo: An exception occured while executing the Java class. null: InvocationTargetException: NullPointerException -&gt; [Help 1]**\r\n\r\n1. JPADemo.java\r\n    ```\r\n    import javax.persistence.*;\r\n    import frescojpa.Student;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class JPADemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n     EntityManagerFactory emf =\r\n          Persistence.createEntityManagerFactory(&quot;$objectdb/students.odb&quot;);\r\n      EntityManager entityManager = emf.createEntityManager();\r\n      entityManager.getTransaction( ).begin( );\r\n        try {\r\n              Student student = new Student(1, &quot;Ramesh&quot;);\r\n              entityManager.persist(student);\r\n              Student student1 = new Student(2, &quot;John&quot;);\r\n              entityManager.persist(student1);\r\n              Student student2 = new Student(3, &quot;Ali&quot;);\r\n              entityManager.persist(student2);\r\n              System.out.println(entityManager.find(Student.class,1).getStudentName());\r\n              System.out.println(entityManager.find(Student.class,2).getStudentName());\r\n              System.out.println(entityManager.find(Student.class,3).getStudentName());\r\n    \t\t      entityManager.getTransaction( ).commit( );\r\n            }\r\n            finally {\r\n                entityManager.close();\r\n    \t\t\t      emf.close();\r\n            } \r\n          }\r\n      }\r\n\r\n2.Student.java\r\n\r\n```\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport java.io.Serializable;\r\n@Entity\r\npublic class Student implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private int studentRollNumber;\r\n    private String studentName;\r\n\r\n    public Student(int studentRollNumber, String studentName) {\r\n        this.studentRollNumber = studentRollNumber;\r\n        this.studentName = studentName;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getStudentRollNumber() {\r\n        return studentRollNumber;\r\n    }\r\n\r\n    public void setStudentRollNumber(int studentRollNumber) {\r\n        this.studentRollNumber = studentRollNumber;\r\n    }\r\n\r\n    public String getStudentName() {\r\n        return studentName;\r\n    }\r\n\r\n    public void setStudentName(String studentName) {\r\n        this.studentName = studentName;\r\n    }\r\n}\r\n```\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;FrescoJPADemo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;FrescoJPADemo&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; \r\n  &lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;objectdb&lt;/id&gt;\r\n\t\t\t&lt;name&gt;ObjectDB Repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://m2.objectdb.com&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.objectdb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;objectdb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0-RC1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commonj.sdo&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;8.0.15&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;enhance&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.objectdb.Enhancer&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;argument&gt;student.*&lt;/argument&gt;\r\n\t\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;student.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nscore.java\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport javax.persistence.*;\r\n\r\npublic class Score {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t EntityManagerFactory emf =\r\n\t\t            Persistence.createEntityManagerFactory(&quot;$objectdb/students.odb&quot;);\r\n\t\t        EntityManager em = emf.createEntityManager();\r\n\r\n\r\n\t\t        // Find the number of Student objects in the database:\r\n\t\t        Query q1 = em.createQuery(&quot;SELECT COUNT(p) FROM Student p&quot;);\r\n\t\t        System.out.println(&quot;Total Points: &quot; + q1.getSingleResult());\r\n\r\n\t\t  \r\n\t\t        // Retrieve all the Student objects from the database:\r\n\t\t        TypedQuery&lt;Student&gt; query =\r\n\t\t            em.createQuery(&quot;SELECT p FROM Student p&quot;, Student.class);\r\n\t\t        List&lt;Student&gt; results = query.getResultList();\r\n\t\t        int count=0;\r\n\t\t        for (Student p : results) {\r\n\t\t        \tString name=p.getStudentName();\r\n\t\t            if(name.equals(&quot;Ramesh&quot;) || name.equals(&quot;John&quot;) || name.equals(&quot;Ali&quot;)){\r\n\t\t            \tcount++;\r\n\t\t            }\r\n\t\t        }\r\n\r\n\t\t        if(count&gt;=3){\r\n\t\t        \tSystem.out.println(&quot;FS_SCORE:100%&quot;);\r\n\t\t        }else{\r\n\t\t        \tSystem.out.println(&quot;FS_SCORE:0%&quot;);\r\n\t\t        }\r\n\r\n\t\t        // Close the database connection:\r\n\t\t        em.close();\r\n\t\t        emf.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Getting Score 0 Please help I am not able to understand what&#39;s wrong in that, It is hackerrank problem**\r\n","title":"An exception occured while executing the Java class. null: InvocationTargetException: NullPointerException","body":"<p><strong>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2:java (default-cli) on project FrescoJPADemo: An exception occured while executing the Java class. null: InvocationTargetException: NullPointerException -&gt; [Help 1]</strong></p>\n<ol>\n<li>JPADemo.java\n<pre><code>import javax.persistence.*;\nimport frescojpa.Student;\n\nimport java.util.*;\n\npublic class JPADemo {\n\n    public static void main(String[] args) {\n EntityManagerFactory emf =\n      Persistence.createEntityManagerFactory(&quot;$objectdb/students.odb&quot;);\n  EntityManager entityManager = emf.createEntityManager();\n  entityManager.getTransaction( ).begin( );\n    try {\n          Student student = new Student(1, &quot;Ramesh&quot;);\n          entityManager.persist(student);\n          Student student1 = new Student(2, &quot;John&quot;);\n          entityManager.persist(student1);\n          Student student2 = new Student(3, &quot;Ali&quot;);\n          entityManager.persist(student2);\n          System.out.println(entityManager.find(Student.class,1).getStudentName());\n          System.out.println(entityManager.find(Student.class,2).getStudentName());\n          System.out.println(entityManager.find(Student.class,3).getStudentName());\n              entityManager.getTransaction( ).commit( );\n        }\n        finally {\n            entityManager.close();\n                  emf.close();\n        } \n      }\n  }\n\n</code></pre>\n</li>\n</ol>\n<p>2.Student.java</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.io.Serializable;\n@Entity\npublic class Student implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private int studentRollNumber;\n    private String studentName;\n\n    public Student(int studentRollNumber, String studentName) {\n        this.studentRollNumber = studentRollNumber;\n        this.studentName = studentName;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getStudentRollNumber() {\n        return studentRollNumber;\n    }\n\n    public void setStudentRollNumber(int studentRollNumber) {\n        this.studentRollNumber = studentRollNumber;\n    }\n\n    public String getStudentName() {\n        return studentName;\n    }\n\n    public void setStudentName(String studentName) {\n        this.studentName = studentName;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;FrescoJPADemo&lt;/groupId&gt;\n  &lt;artifactId&gt;FrescoJPADemo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; \n  &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;objectdb&lt;/id&gt;\n            &lt;name&gt;ObjectDB Repository&lt;/name&gt;\n            &lt;url&gt;https://m2.objectdb.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.objectdb&lt;/groupId&gt;\n            &lt;artifactId&gt;objectdb&lt;/artifactId&gt;\n            &lt;version&gt;2.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0-RC1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;commonj.sdo&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.15&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.7&lt;/source&gt;\n                        &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;enhance&lt;/id&gt;\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;java&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;mainClass&gt;com.objectdb.Enhancer&lt;/mainClass&gt;\n                                &lt;arguments&gt;\n                                    &lt;argument&gt;student.*&lt;/argument&gt;\n                                &lt;/arguments&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;java&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;mainClass&gt;student.Main&lt;/mainClass&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>score.java</p>\n<pre><code>import java.util.List;\n\nimport javax.persistence.*;\n\npublic class Score {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n         EntityManagerFactory emf =\n                    Persistence.createEntityManagerFactory(&quot;$objectdb/students.odb&quot;);\n                EntityManager em = emf.createEntityManager();\n\n\n                // Find the number of Student objects in the database:\n                Query q1 = em.createQuery(&quot;SELECT COUNT(p) FROM Student p&quot;);\n                System.out.println(&quot;Total Points: &quot; + q1.getSingleResult());\n\n          \n                // Retrieve all the Student objects from the database:\n                TypedQuery&lt;Student&gt; query =\n                    em.createQuery(&quot;SELECT p FROM Student p&quot;, Student.class);\n                List&lt;Student&gt; results = query.getResultList();\n                int count=0;\n                for (Student p : results) {\n                    String name=p.getStudentName();\n                    if(name.equals(&quot;Ramesh&quot;) || name.equals(&quot;John&quot;) || name.equals(&quot;Ali&quot;)){\n                        count++;\n                    }\n                }\n\n                if(count&gt;=3){\n                    System.out.println(&quot;FS_SCORE:100%&quot;);\n                }else{\n                    System.out.println(&quot;FS_SCORE:0%&quot;);\n                }\n\n                // Close the database connection:\n                em.close();\n                emf.close();\n    }\n\n}\n</code></pre>\n<p><strong>Getting Score 0 Please help I am not able to understand what's wrong in that, It is hackerrank problem</strong></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1642147221,"post_id":70698112,"comment_id":124998514,"body_markdown":"Looks like https://youtrack.jetbrains.com/issue/IDEA-123702 issue, when genertaed sources directory is not recognized properly for the `maven-jaxb2-plugin` plugin.","body":"Looks like <a href=\"https://youtrack.jetbrains.com/issue/IDEA-123702\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-123702</a> issue, when genertaed sources directory is not recognized properly for the <code>maven-jaxb2-plugin</code> plugin."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1642147226,"post_id":70698112,"comment_id":124998515,"body_markdown":"First, please make sure that the source directory resets even when you have the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | **Keep source and test folders on project reload** option is enabled. Then to help IDE to recognize the genrated source directory you can declare the generated sources directory explicitly (either in the jaxb maven plugin configuration or use maven-compiler or build-helper maven plugins) like e.g. https://stackoverflow.com/a/42226970/2000323","body":"First, please make sure that the source directory resets even when you have the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | <b>Keep source and test folders on project reload</b> option is enabled. Then to help IDE to recognize the genrated source directory you can declare the generated sources directory explicitly (either in the jaxb maven plugin configuration or use maven-compiler or build-helper maven plugins) like e.g. <a href=\"https://stackoverflow.com/a/42226970/2000323\">stackoverflow.com/a/42226970/2000323</a>"}],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642084451,"creation_date":1642083473,"question_id":70698112,"body_markdown":"I&#39;m using maven-jaxb2-plugin to generate some classes in taget/generated-sources.\r\nSince I upgraded from IntelliJ 2019 to 2021.3 these generated classes are not recognized by the IDE anymore, even though the build works fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I manually mark generated sources as Sources, it works fine. But after mvn clean install, I have to redo the process.\r\n\r\nThe previous version of IntellIj was able to set generated-sources as Sources by default.\r\nCan I replicate this behaviour on the newer version?\r\nI played a bit in Settings &gt; Build Execution &gt; Maven &gt; Importing.\r\nBut with no luck\r\n\r\n  [1]: https://i.stack.imgur.com/Iw3K5.png","title":"IntelliJ generated sources issue","body":"<p>I'm using maven-jaxb2-plugin to generate some classes in taget/generated-sources.\nSince I upgraded from IntelliJ 2019 to 2021.3 these generated classes are not recognized by the IDE anymore, even though the build works fine.</p>\n<p><a href=\"https://i.stack.imgur.com/Iw3K5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iw3K5.png\" alt=\"enter image description here\" /></a></p>\n<p>If I manually mark generated sources as Sources, it works fine. But after mvn clean install, I have to redo the process.</p>\n<p>The previous version of IntellIj was able to set generated-sources as Sources by default.\nCan I replicate this behaviour on the newer version?\nI played a bit in Settings &gt; Build Execution &gt; Maven &gt; Importing.\nBut with no luck</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8309,"page":1683,"page_size":100}
