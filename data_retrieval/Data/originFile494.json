{"items":[{"tags":["java","android","camera"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681821143,"post_id":76043612,"comment_id":134115453,"body_markdown":"Please post the logcat lines in a normal way in a code block preserving lines.","body":"Please post the logcat lines in a normal way in a code block preserving lines."},{"owner":{"account_id":14454479,"reputation":45,"user_id":10441091,"display_name":"youssef SULTAN"},"score":0,"creation_date":1681843122,"post_id":76043612,"comment_id":134121359,"body_markdown":"@blackapps i&#39;ve posted the logcat","body":"@blackapps i&#39;ve posted the logcat"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681849982,"post_id":76043612,"comment_id":134122737,"body_markdown":"Yes, but unreadable. Post it in the normal way was the comment.","body":"Yes, but unreadable. Post it in the normal way was the comment."}],"owner":{"account_id":14454479,"reputation":45,"user_id":10441091,"display_name":"youssef SULTAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681822185,"creation_date":1681814572,"question_id":76043612,"body_markdown":"I&#39;m trying to capture an image in an Activity using ActivityResultLauncher. the image is captured but after pressing confirm. the app doesn&#39;t go back to the screen I launched the camera from, rather than it goes to the main screen.\r\n    \r\n    public void captureImage(){\r\n        ContentValues values = new ContentValues();\r\n        values.put(MediaStore.Images.Media.TITLE, &quot;Cust-&quot; + customerName+ newCustomerID);\r\n        values.put(MediaStore.Images.Media.DESCRIPTION, &quot;From the Camera&quot;);\r\n        image_uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n\r\n        cameraActivityResultLauncher.launch(image_uri);\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Uri&gt; cameraActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.TakePicture(),\r\n            new ActivityResultCallback&lt;Boolean&gt;() {\r\n                @Override\r\n                public void onActivityResult(Boolean result) {\r\n                    if(result) {\r\n                        Bitmap inputImage = uriToBitmap(image_uri);\r\n                        Bitmap rotated = rotateBitmap(inputImage);\r\n                        imageView.setImageBitmap(rotated);\r\n                    }\r\n\r\n                }\r\n            });\r\n\r\n\r\n\r\n    //TODO takes URI of the image and returns bitmap\r\n    private Bitmap uriToBitmap(Uri selectedFileUri) {\r\n        try {\r\n            ParcelFileDescriptor parcelFileDescriptor =\r\n                    getContentResolver().openFileDescriptor(selectedFileUri, &quot;r&quot;);\r\n            FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\r\n            Bitmap image = BitmapFactory.decodeFileDescriptor(fileDescriptor);\r\n            parcelFileDescriptor.close();\r\n            return image;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return  null;\r\n    }\r\n\r\n    //TODO rotate image if image captured on samsung devices\r\n    //TODO Most phone cameras are landscape, meaning if you take the photo in portrait, the resulting photos will be rotated 90 degrees.\r\n    @SuppressLint(&quot;Range&quot;)\r\n    public Bitmap rotateBitmap(Bitmap input){\r\n        String[] orientationColumn = {MediaStore.Images.Media.ORIENTATION};\r\n        Cursor cur = getContentResolver().query(image_uri, orientationColumn, null, null, null);\r\n        int orientation = -1;\r\n        if (cur != null &amp;&amp; cur.moveToFirst()) {\r\n            orientation = cur.getInt(cur.getColumnIndex(orientationColumn[0]));\r\n        }\r\n        Log.d(&quot;tryOrientation&quot;,orientation+&quot;&quot;);\r\n        Matrix rotationMatrix = new Matrix();\r\n        rotationMatrix.setRotate(orientation);\r\n        Bitmap cropped = Bitmap.createBitmap(input,0,0, input.getWidth(), input.getHeight(), rotationMatrix, true);\r\n        return cropped;\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\nLogcat:\r\n\r\n&gt; Handler (com.samsung.android.camera.core2.device.CamDeviceHandlerManager$ExecTimeLoggingHandler) {8f36486} sending message to a Handler on a dead thread\r\n                                                                                                    java.lang.IllegalStateException: Handler (com.samsung.android.camera.core2.device.CamDeviceHandlerManager$ExecTimeLoggingHandler) {8f36486} sending message to a Handler on a dead thread\r\n                                                                                                    \tat android.os.MessageQueue.enqueueMessage(MessageQueue.java:560)\r\n                                                                                                    \tat android.os.Handler.enqueueMessage(Handler.java:778)\r\n                                                                                                    \tat android.os.Handler.sendMessageAtTime(Handler.java:727)\r\n                                                                                                    \tat android.os.Handler.sendMessageDelayed(Handler.java:697)\r\n                                                                                                    \tat android.os.Handler.post(Handler.java:427)\r\n                                                                                                    \tat com.samsung.android.camera.core2.device.CamDeviceImpl.lambda$createCaptureSessionInternal$2(CamDeviceImpl.java:634)\r\n                                                                                                    \tat com.samsung.android.camera.core2.device.-$$Lambda$CamDeviceImpl$5X5wiAbd03qI4TTgkJV3Zs0XzuA.accept(Unknown Source:4)\r\n                                                                                                    \tat java.util.Optional.ifPresent(Optional.java:179)\r\n                                                                                                    \tat com.samsung.android.camera.core2.device.CamDeviceImpl.lambda$createCaptureSessionInternal$3$CamDeviceImpl(CamDeviceImpl.java:634)\r\n                                                                                                    \tat com.samsung.android.camera.core2.device.-$$Lambda$CamDeviceImpl$ckQoqhLVTrOTDJwKo66Y0V6AUsk.execute(Unknown Source:2)\r\n                                                                                                    \tat android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.onReady(CallbackProxies.java:74)\r\n                                                                                                    \tat android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onIdle(CameraCaptureSessionImpl.java:843)\r\n                                                                                                    \tat android.hardware.camera2.impl.CameraDeviceImpl$6.run(CameraDeviceImpl.java:244)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:226)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:313)\r\n                                                                                                    \tat android.os.HandlerThread.run(HandlerThread.java:67)\r\n\r\n","title":"Capturing Image using ActivityResultLauncher does not return to the activity that&#39;s called in, else it returns to main activity after capturing image","body":"<p>I'm trying to capture an image in an Activity using ActivityResultLauncher. the image is captured but after pressing confirm. the app doesn't go back to the screen I launched the camera from, rather than it goes to the main screen.</p>\n<pre><code>public void captureImage(){\n    ContentValues values = new ContentValues();\n    values.put(MediaStore.Images.Media.TITLE, &quot;Cust-&quot; + customerName+ newCustomerID);\n    values.put(MediaStore.Images.Media.DESCRIPTION, &quot;From the Camera&quot;);\n    image_uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n\n    cameraActivityResultLauncher.launch(image_uri);\n}\n\nActivityResultLauncher&lt;Uri&gt; cameraActivityResultLauncher = registerForActivityResult(\n        new ActivityResultContracts.TakePicture(),\n        new ActivityResultCallback&lt;Boolean&gt;() {\n            @Override\n            public void onActivityResult(Boolean result) {\n                if(result) {\n                    Bitmap inputImage = uriToBitmap(image_uri);\n                    Bitmap rotated = rotateBitmap(inputImage);\n                    imageView.setImageBitmap(rotated);\n                }\n\n            }\n        });\n\n\n\n//TODO takes URI of the image and returns bitmap\nprivate Bitmap uriToBitmap(Uri selectedFileUri) {\n    try {\n        ParcelFileDescriptor parcelFileDescriptor =\n                getContentResolver().openFileDescriptor(selectedFileUri, &quot;r&quot;);\n        FileDescriptor fileDescriptor = parcelFileDescriptor.getFileDescriptor();\n        Bitmap image = BitmapFactory.decodeFileDescriptor(fileDescriptor);\n        parcelFileDescriptor.close();\n        return image;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return  null;\n}\n\n//TODO rotate image if image captured on samsung devices\n//TODO Most phone cameras are landscape, meaning if you take the photo in portrait, the resulting photos will be rotated 90 degrees.\n@SuppressLint(&quot;Range&quot;)\npublic Bitmap rotateBitmap(Bitmap input){\n    String[] orientationColumn = {MediaStore.Images.Media.ORIENTATION};\n    Cursor cur = getContentResolver().query(image_uri, orientationColumn, null, null, null);\n    int orientation = -1;\n    if (cur != null &amp;&amp; cur.moveToFirst()) {\n        orientation = cur.getInt(cur.getColumnIndex(orientationColumn[0]));\n    }\n    Log.d(&quot;tryOrientation&quot;,orientation+&quot;&quot;);\n    Matrix rotationMatrix = new Matrix();\n    rotationMatrix.setRotate(orientation);\n    Bitmap cropped = Bitmap.createBitmap(input,0,0, input.getWidth(), input.getHeight(), rotationMatrix, true);\n    return cropped;\n}\n</code></pre>\n<p>Logcat:</p>\n<blockquote>\n<p>Handler (com.samsung.android.camera.core2.device.CamDeviceHandlerManager$ExecTimeLoggingHandler) {8f36486} sending message to a Handler on a dead thread\njava.lang.IllegalStateException: Handler (com.samsung.android.camera.core2.device.CamDeviceHandlerManager$ExecTimeLoggingHandler) {8f36486} sending message to a Handler on a dead thread\nat android.os.MessageQueue.enqueueMessage(MessageQueue.java:560)\nat android.os.Handler.enqueueMessage(Handler.java:778)\nat android.os.Handler.sendMessageAtTime(Handler.java:727)\nat android.os.Handler.sendMessageDelayed(Handler.java:697)\nat android.os.Handler.post(Handler.java:427)\nat com.samsung.android.camera.core2.device.CamDeviceImpl.lambda$createCaptureSessionInternal$2(CamDeviceImpl.java:634)\nat com.samsung.android.camera.core2.device.-$$Lambda$CamDeviceImpl$5X5wiAbd03qI4TTgkJV3Zs0XzuA.accept(Unknown Source:4)\nat java.util.Optional.ifPresent(Optional.java:179)\nat com.samsung.android.camera.core2.device.CamDeviceImpl.lambda$createCaptureSessionInternal$3$CamDeviceImpl(CamDeviceImpl.java:634)\nat com.samsung.android.camera.core2.device.-$$Lambda$CamDeviceImpl$ckQoqhLVTrOTDJwKo66Y0V6AUsk.execute(Unknown Source:2)\nat android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.onReady(CallbackProxies.java:74)\nat android.hardware.camera2.impl.CameraCaptureSessionImpl$2.onIdle(CameraCaptureSessionImpl.java:843)\nat android.hardware.camera2.impl.CameraDeviceImpl$6.run(CameraDeviceImpl.java:244)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.os.HandlerThread.run(HandlerThread.java:67)</p>\n</blockquote>\n"},{"tags":["java","hibernate","web-services","apache-axis"],"comments":[{"owner":{"account_id":1645895,"reputation":5799,"user_id":1517453,"display_name":"Pradeep Pati"},"score":0,"creation_date":1382236605,"post_id":19471158,"comment_id":28879378,"body_markdown":"Can you post your code?","body":"Can you post your code?"}],"answers":[{"tags":[],"owner":{"account_id":3302826,"reputation":4533,"user_id":2778527,"accept_rate":40,"display_name":"ajitksharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405883751,"creation_date":1400818003,"answer_id":23820804,"question_id":19471158,"body_markdown":"I figured out. Actually I need to configure the axis2.xml file:\r\n\r\nIn Message Formatter this should be added\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;messageFormatter contentType=&quot;application/json&quot;\r\n\t\t\tclass=&quot;org.apache.axis2.json.JSONMessageFormatter&quot; /&gt;\r\n    &lt;/messageFormatters&gt;\r\n\r\nAnd in Message Builders\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;messageBuilder contentType=&quot;application/json&quot;\r\n\t\t\tclass=&quot;org.apache.axis2.json.JSONOMBuilder&quot; /&gt;\r\n    &lt;/messageBuilders&gt;\r\n\r\nThis solved my problem. Hope it will help others.","title":"Couldn&#39;t access Webservice with client code using Apache axis2 And restful webservice","body":"<p>I figured out. Actually I need to configure the axis2.xml file:</p>\n\n<p>In Message Formatter this should be added</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;messageFormatter contentType=\"application/json\"\n        class=\"org.apache.axis2.json.JSONMessageFormatter\" /&gt;\n&lt;/messageFormatters&gt;\n</code></pre>\n\n<p>And in Message Builders</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;messageBuilder contentType=\"application/json\"\n        class=\"org.apache.axis2.json.JSONOMBuilder\" /&gt;\n&lt;/messageBuilders&gt;\n</code></pre>\n\n<p>This solved my problem. Hope it will help others.</p>\n"}],"owner":{"account_id":3302826,"reputation":4533,"user_id":2778527,"accept_rate":40,"display_name":"ajitksharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23820804,"answer_count":1,"score":0,"last_activity_date":1681822077,"creation_date":1382216850,"question_id":19471158,"body_markdown":"I created an restful webservices using Axis2.\r\nI deployed .aar file on server, when i am trying to access that webservice with url through axi2 services its showing the error from java page which i have used in webservice like :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;getActivitiesResponse&gt;\r\n        &lt;statusCode&gt;300&lt;/statusCode&gt;\r\n        &lt;statusMessage&gt;NO_RESULTS_FOUND&lt;/statusMessage&gt;\r\n    &lt;/getActivitiesResponse&gt;\r\n\r\nBut when i am trying to access with some client code that is trying to hit the url with request parameters its saying:\r\n\r\n\r\n      java.io.IOException: Server returned HTTP response code: 500 for URL\r\n\r\nI am using OMElement for request and response creation\r\n\r\nApache Tomact Server Log:\r\n\r\n        \tOct 19, 2013 11:06:47 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n\tSEVERE: Servlet.service() for servlet [helloServlet] in context with path [/TestWSJSSonP] threw exception\r\n\tjava.lang.IllegalArgumentException: JSON source MUST not be null\r\n\tat com.sun.jersey.api.json.JSONWithPadding.&lt;init&gt;(JSONWithPadding.java:90)\r\n\tat com.vrgtec.JSonP.core.SpurWebServiceJSonP.getActivityList(SpurWebServiceJSonP.java:19)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n\r\n\r\n hello servlet is\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\n\t\r\n\r\nCould you please help me...i have spent alot of hours in building libraries...and resolving classpath","title":"Couldn&#39;t access Webservice with client code using Apache axis2 And restful webservice","body":"<p>I created an restful webservices using Axis2.\nI deployed .aar file on server, when i am trying to access that webservice with url through axi2 services its showing the error from java page which i have used in webservice like :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;getActivitiesResponse&gt;\n    &lt;statusCode&gt;300&lt;/statusCode&gt;\n    &lt;statusMessage&gt;NO_RESULTS_FOUND&lt;/statusMessage&gt;\n&lt;/getActivitiesResponse&gt;\n</code></pre>\n\n<p>But when i am trying to access with some client code that is trying to hit the url with request parameters its saying:</p>\n\n<pre><code>  java.io.IOException: Server returned HTTP response code: 500 for URL\n</code></pre>\n\n<p>I am using OMElement for request and response creation</p>\n\n<p>Apache Tomact Server Log:</p>\n\n<pre><code>        Oct 19, 2013 11:06:47 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [helloServlet] in context with path [/TestWSJSSonP] threw exception\njava.lang.IllegalArgumentException: JSON source MUST not be null\nat com.sun.jersey.api.json.JSONWithPadding.&lt;init&gt;(JSONWithPadding.java:90)\nat com.vrgtec.JSonP.core.SpurWebServiceJSonP.getActivityList(SpurWebServiceJSonP.java:19)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\nat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\nat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\nat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1511)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1442)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1391)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1381)\nat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\nat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\nat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>hello servlet is</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;helloServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n</code></pre>\n\n<p>Could you please help me...i have spent alot of hours in building libraries...and resolving classpath</p>\n"},{"tags":["java","xml","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":16467295,"reputation":121,"user_id":11897145,"display_name":"Arne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565798676,"creation_date":1565798676,"answer_id":57498327,"question_id":57497034,"body_markdown":"In Java there is nothing like `nillable = true`. But you can assign a `null` value to an object reference:\r\n\r\n    Skills mySkills = null;\r\n    Weapons myWeapons = null;","title":"What is the equivalent of NILLABLE from XML to JAVA","body":"<p>In Java there is nothing like <code>nillable = true</code>. But you can assign a <code>null</code> value to an object reference:</p>\n\n<pre><code>Skills mySkills = null;\nWeapons myWeapons = null;\n</code></pre>\n"}],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681822048,"creation_date":1565793974,"question_id":57497034,"body_markdown":"what is the equivalent of \r\n\r\n    &lt;Skills/&gt;\r\n    &lt;Weapons/&gt;\r\n\r\nfrom XML to JAVA?\r\nIm working on SOAP so I had to ask.\r\n\r\nAlso there are elements like\r\n\r\n    &lt;Skills nillable = true&gt;\r\n\r\nAre these required in objects in Java? Or can I just assign null values to them?\r\n\r\n\r\n","title":"What is the equivalent of NILLABLE from XML to JAVA","body":"<p>what is the equivalent of </p>\n\n<pre><code>&lt;Skills/&gt;\n&lt;Weapons/&gt;\n</code></pre>\n\n<p>from XML to JAVA?\nIm working on SOAP so I had to ask.</p>\n\n<p>Also there are elements like</p>\n\n<pre><code>&lt;Skills nillable = true&gt;\n</code></pre>\n\n<p>Are these required in objects in Java? Or can I just assign null values to them?</p>\n"},{"tags":["java","eclipse","web-services","apache-axis"],"comments":[{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367538276,"post_id":16348945,"comment_id":23421778,"body_markdown":"Can you paste the WSDL?","body":"Can you paste the WSDL?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367544443,"post_id":16348945,"comment_id":23423026,"body_markdown":"Sure thing!  But it&#39;s too long to be able to write here. Instead I&#39;ll just upload a txt file for you to see it.\n\n[link](http://www.tourmoon.biosoft.cl/service.txt)\n\nthanks!","body":"Sure thing!  But it&#39;s too long to be able to write here. Instead I&#39;ll just upload a txt file for you to see it.  <a href=\"http://www.tourmoon.biosoft.cl/service.txt\" rel=\"nofollow noreferrer\">link</a>  thanks!"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367546012,"post_id":16348945,"comment_id":23423312,"body_markdown":"To get past the error ***&quot;The content of the body cannot be displayed in the form view. Please switch to the source view to examine the raw content.&quot;***, look for a tab, usually in the bottom of the window, probably the &quot;FORM&quot; tab is selected. Look for a &quot;SOURCE&quot; tab; Let me know if it works.","body":"To get past the error <b><i>&quot;The content of the body cannot be displayed in the form view. Please switch to the source view to examine the raw content.&quot;</i></b>, look for a tab, usually in the bottom of the window, probably the &quot;FORM&quot; tab is selected. Look for a &quot;SOURCE&quot; tab; Let me know if it works."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367546109,"post_id":16348945,"comment_id":23423329,"body_markdown":"Can you also paste us the line 488 and surroundings (like methods) of `ServicioSoapBindingStub.java`? I&#39;m asking based on the stack trace `client.ServicioSoapBindingStub.ingresarAlumnoCurso(ServicioSoapBindingStub.java:488)`","body":"Can you also paste us the line 488 and surroundings (like methods) of <code>ServicioSoapBindingStub.java</code>? I&#39;m asking based on the stack trace <code>client.ServicioSoapBindingStub.ingresarAlumnoCurso(ServicioS&zwnj;&#8203;oapBindingStub.java:&zwnj;&#8203;488)</code>"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367546275,"post_id":16348945,"comment_id":23423360,"body_markdown":"Or, better yet, what tool did you use to generate the client code from the WSDL? The problem is possibly not related to your host being called `Mauricio-PC`, I believe the error message is misleading in that way.","body":"Or, better yet, what tool did you use to generate the client code from the WSDL? The problem is possibly not related to your host being called <code>Mauricio-PC</code>, I believe the error message is misleading in that way."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367546580,"post_id":16348945,"comment_id":23423424,"body_markdown":"There is the SOAP Request Envelope:","body":"There is the SOAP Request Envelope:"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367547011,"post_id":16348945,"comment_id":23423513,"body_markdown":"SOAP Request Envelope, where?","body":"SOAP Request Envelope, where?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367547511,"post_id":16348945,"comment_id":23423604,"body_markdown":"Here it&#39;s the soap:\n[link](http://www.tourmoon.biosoft.cl/Soapenvelope.txt)\n\nThe whole explanation is in the link\n\nThanks for your time!","body":"Here it&#39;s the soap: <a href=\"http://www.tourmoon.biosoft.cl/Soapenvelope.txt\" rel=\"nofollow noreferrer\">link</a>  The whole explanation is in the link  Thanks for your time!"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367547691,"post_id":16348945,"comment_id":23423629,"body_markdown":"The problem is very likely not in the Axis generated code, but in you business method (`verActa()`?). Can you execute the business method (not the web service, forget about it for now) with `alu_dni=1` and `cur_codasign=1` without errors?","body":"The problem is very likely not in the Axis generated code, but in you business method (<code>verActa()</code>?). Can you execute the business method (not the web service, forget about it for now) with <code>alu_dni=1</code> and <code>cur_codasign=1</code> without errors?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367547799,"post_id":16348945,"comment_id":23423644,"body_markdown":"I mean, you are getting a falty envelope as response. This highly indicates that the error is not in the client, but in the server (the web service or the business method). Have you got access to the server where the service is running? Can you check it&#39;s log for errors?","body":"I mean, you are getting a falty envelope as response. This highly indicates that the error is not in the client, but in the server (the web service or the business method). Have you got access to the server where the service is running? Can you check it&#39;s log for errors?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367547939,"post_id":16348945,"comment_id":23423674,"body_markdown":"its gives me &quot;esp&quot;:-2,&quot;desc_resp&quot;:&quot;No se encontr&#243; alguno de los objetos&quot;}\n&quot; wich is exactly what is expected, cause there are not objects &quot;alumno&quot; with dni = 1 or curso with coasign = 1. Again, I have tested every method as a java application, as well utilizing JUnit test to see incoherences on try-catchs, but everything is fine.\n\nThe problem is when I try to consume my service from the wsdl, using persistence layer. Without persistence layer the problem is gone.","body":"its gives me &quot;esp&quot;:-2,&quot;desc_resp&quot;:&quot;No se encontr&#243; alguno de los objetos&quot;} &quot; wich is exactly what is expected, cause there are not objects &quot;alumno&quot; with dni = 1 or curso with coasign = 1. Again, I have tested every method as a java application, as well utilizing JUnit test to see incoherences on try-catchs, but everything is fine.  The problem is when I try to consume my service from the wsdl, using persistence layer. Without persistence layer the problem is gone."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367548349,"post_id":16348945,"comment_id":23423749,"body_markdown":"The log doesn&#39;t show anything after a clean of it and testing the wsdl, as well the client.","body":"The log doesn&#39;t show anything after a clean of it and testing the wsdl, as well the client."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367548728,"post_id":16348945,"comment_id":23423802,"body_markdown":"But, you see, if you send a well-formed envelope, and the server returns one with a fault, the problem can&#39;t be on the client, do you agree? The client&#39;s only job is to create a well-formed envelope, and it is doing so. Can you paste us your `@WebService` class? (it&#39;s ok pasting in the question, you can let it be big.)","body":"But, you see, if you send a well-formed envelope, and the server returns one with a fault, the problem can&#39;t be on the client, do you agree? The client&#39;s only job is to create a well-formed envelope, and it is doing so. Can you paste us your <code>@WebService</code> class? (it&#39;s ok pasting in the question, you can let it be big.)"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367548999,"post_id":16348945,"comment_id":23423855,"body_markdown":"Ok, I edited it on the question. Search on the last part of it :)","body":"Ok, I edited it on the question. Search on the last part of it :)"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367549298,"post_id":16348945,"comment_id":23423910,"body_markdown":"I see it now. So, as you said, when you call `Servicio.ingresarAlumnoCurso(&quot;1&quot;,&quot;1&quot;)` directly it works as expected, right? In that `Soapenvelope.txt` you mention two envelopes (one sent, other received), how did you try them out (used another tool)?","body":"I see it now. So, as you said, when you call <code>Servicio.ingresarAlumnoCurso(&quot;1&quot;,&quot;1&quot;)</code> directly it works as expected, right? In that <code>Soapenvelope.txt</code> you mention two envelopes (one sent, other received), how did you try them out (used another tool)?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367549568,"post_id":16348945,"comment_id":23423953,"body_markdown":"Yeah, it works as expected. For instance, since there is no student (alumno), gives some error (&quot;-2, object already in the DB&quot; or something. \n\nI tested in the Eclipse Web Service Explorer. Right click on the wsdl, test with and use such tool. I can choose ANY method from the wsdl (I have 11) and everyone gives me that error. Of course, with different parameters and such.","body":"Yeah, it works as expected. For instance, since there is no student (alumno), gives some error (&quot;-2, object already in the DB&quot; or something.   I tested in the Eclipse Web Service Explorer. Right click on the wsdl, test with and use such tool. I can choose ANY method from the wsdl (I have 11) and everyone gives me that error. Of course, with different parameters and such."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367550670,"post_id":16348945,"comment_id":23424155,"body_markdown":"Yeh, that&#39;s what I mean, you tried with *Web Service Explorer* (not the axis client) and you got a faulty envelope, isn&#39;t that so? Let&#39;s narrow it down, make the `verActa()` this: `public String verActa(String alu_dni, String cur_codasign){ return &quot;hello!&quot; }` and call it using the client. If the problem is in the client, it must yield the same error as it is yielding now. If the problem is in the server, the client will work fine this time.","body":"Yeh, that&#39;s what I mean, you tried with <i>Web Service Explorer</i> (not the axis client) and you got a faulty envelope, isn&#39;t that so? Let&#39;s narrow it down, make the <code>verActa()</code> this: <code>public String verActa(String alu_dni, String cur_codasign){ return &quot;hello!&quot; }</code> and call it using the client. If the problem is in the client, it must yield the same error as it is yielding now. If the problem is in the server, the client will work fine this time."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367550982,"post_id":16348945,"comment_id":23424215,"body_markdown":"The problem is the server. The method worked just fine, aka return &quot;hello&quot;&quot;.","body":"The problem is the server. The method worked just fine, aka return &quot;hello&quot;&quot;."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367551121,"post_id":16348945,"comment_id":23424248,"body_markdown":"OK. Where are you deploying it? Using eclipse? How do you access the database? JDBC? Hibernate?","body":"OK. Where are you deploying it? Using eclipse? How do you access the database? JDBC? Hibernate?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367551237,"post_id":16348945,"comment_id":23424270,"body_markdown":"Using Eclipse JUNO to develope, Tomcat 6 is deploying the service. The Database is MySQL, Hibernate as persistent layer.","body":"Using Eclipse JUNO to develope, Tomcat 6 is deploying the service. The Database is MySQL, Hibernate as persistent layer."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367551429,"post_id":16348945,"comment_id":23424308,"body_markdown":"When you test (and get the expected result), how are you testing the `Servicio` class? Via a `main` method of a class? If so, it is possible that the database access is not being properly executed under tomcat. Does the tomcat have the mysql driver in its `lib/` folder?","body":"When you test (and get the expected result), how are you testing the <code>Servicio</code> class? Via a <code>main</code> method of a class? If so, it is possible that the database access is not being properly executed under tomcat. Does the tomcat have the mysql driver in its <code>lib&#47;</code> folder?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367552539,"post_id":16348945,"comment_id":23424509,"body_markdown":"via main method directly on another class who calls the methods from the bussiness layer. I get the expected results on every method. I added the mysql driver (mysql-connector-java-5.1.25-bin.jar).","body":"via main method directly on another class who calls the methods from the bussiness layer. I get the expected results on every method. I added the mysql driver (mysql-connector-java-5.1.25-bin.jar)."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367552843,"post_id":16348945,"comment_id":23424577,"body_markdown":"Where did you place it? In the `tomcat\\lib` folder? Have you tested the service now via Eclipse&#39;s Web Service Explorer?","body":"Where did you place it? In the <code>tomcat\\lib</code> folder? Have you tested the service now via Eclipse&#39;s Web Service Explorer?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367553088,"post_id":16348945,"comment_id":23424620,"body_markdown":"Yes, tested it using [this](http://www.mkyong.com/tomcat/how-to-configure-mysql-datasource-in-tomcat-6/) tutorial. Still no success in the wsdl. And yes, on the lib folder in the tomcat directory.","body":"Yes, tested it using <a href=\"http://www.mkyong.com/tomcat/how-to-configure-mysql-datasource-in-tomcat-6/\" rel=\"nofollow noreferrer\">this</a> tutorial. Still no success in the wsdl. And yes, on the lib folder in the tomcat directory."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367553663,"post_id":16348945,"comment_id":23424737,"body_markdown":"How many eclipse projects have you got? `SistemaCapacitacion` only? Where is `Servicio` class? At this project or another? Where are the classes you can successfully use the `main`, also at `SistemaCapacitacion`? I believe we may be facing a classpath issue. That error message (`AxisFault faultCode: ...`) is misleading.","body":"How many eclipse projects have you got? <code>SistemaCapacitacion</code> only? Where is <code>Servicio</code> class? At this project or another? Where are the classes you can successfully use the <code>main</code>, also at <code>SistemaCapacitacion</code>? I believe we may be facing a classpath issue. That error message (<code>AxisFault faultCode: ...</code>) is misleading."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367553970,"post_id":16348945,"comment_id":23424807,"body_markdown":"Servicio class is on SistemaCapacitacion, same goes for the class that uses the main method. I have multiple projects, but I have removed all but the SistemaCapacitacion project from the resources of the server.","body":"Servicio class is on SistemaCapacitacion, same goes for the class that uses the main method. I have multiple projects, but I have removed all but the SistemaCapacitacion project from the resources of the server."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367554174,"post_id":16348945,"comment_id":23424847,"body_markdown":"Ok. Can you see some `.wsdd` files in `SistemaCapacitacion` (under `WEB-INF`)? We could edit the `sever-config.wsdd` as described [in this article](http://blogmines.com/blog/2007/02/09/how-to-log-soap-messages-for-a-tomcataxis-web-service/) and see the log with the actual error. We&#39;ll then be able to find out if it is a `ClassNotFoundException` error, for instance.","body":"Ok. Can you see some <code>.wsdd</code> files in <code>SistemaCapacitacion</code> (under <code>WEB-INF</code>)? We could edit the <code>sever-config.wsdd</code> as described <a href=\"http://blogmines.com/blog/2007/02/09/how-to-log-soap-messages-for-a-tomcataxis-web-service/\" rel=\"nofollow noreferrer\">in this article</a> and see the log with the actual error. We&#39;ll then be able to find out if it is a <code>ClassNotFoundException</code> error, for instance."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367554720,"post_id":16348945,"comment_id":23424921,"body_markdown":"It&#39;s sever-config or server-config? I dont see an sever-config.wsdl file anywhere. Should I paste the file?","body":"It&#39;s sever-config or server-config? I dont see an sever-config.wsdl file anywhere. Should I paste the file?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367554839,"post_id":16348945,"comment_id":23424946,"body_markdown":"Oh, yes, sorry, it is `server-config`. My bad, it was a typo.","body":"Oh, yes, sorry, it is <code>server-config</code>. My bad, it was a typo."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367555113,"post_id":16348945,"comment_id":23424998,"body_markdown":"Uhm, its confusing the file. So many entries, I dont really know where to place the three pieces of code. Could I have some guiadance there? Will post the server-config in the main post.","body":"Uhm, its confusing the file. So many entries, I dont really know where to place the three pieces of code. Could I have some guiadance there? Will post the server-config in the main post."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367555931,"post_id":16348945,"comment_id":23425193,"body_markdown":"I added the changed server-config in an answer. Make a backup of your old .wsdd and use the one I pasted.","body":"I added the changed server-config in an answer. Make a backup of your old .wsdd and use the one I pasted."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367556342,"post_id":16348945,"comment_id":23425300,"body_markdown":"So, did you execute it? Is the `axis.log` being generated in the `bin/` folder?","body":"So, did you execute it? Is the <code>axis.log</code> being generated in the <code>bin&#47;</code> folder?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367556729,"post_id":16348945,"comment_id":23425398,"body_markdown":"Okay, made the backup, changed the whole content to your post code, tried the wsdl on the web services explorer and nothing is created on the bin directory of apache. Should it have a specific name?","body":"Okay, made the backup, changed the whole content to your post code, tried the wsdl on the web services explorer and nothing is created on the bin directory of apache. Should it have a specific name?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367556874,"post_id":16348945,"comment_id":23425439,"body_markdown":"Yes, `axis.log`. Search for it in `SistemaCapacitacion\\bin` (or use the search tool).","body":"Yes, <code>axis.log</code>. Search for it in <code>SistemaCapacitacion\\bin</code> (or use the search tool)."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367557479,"post_id":16348945,"comment_id":23425606,"body_markdown":"Searched on the whole PC. No results.","body":"Searched on the whole PC. No results."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367557696,"post_id":16348945,"comment_id":23425676,"body_markdown":"Ok. Let&#39;s try something else. Add the JSP file I put in the answer.","body":"Ok. Let&#39;s try something else. Add the JSP file I put in the answer."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367557922,"post_id":16348945,"comment_id":23425732,"body_markdown":"Hopefully the server will throw the **real** exception and give us some pointers.","body":"Hopefully the server will throw the <b>real</b> exception and give us some pointers."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367558213,"post_id":16348945,"comment_id":23425806,"body_markdown":"Added the content of the pague localhost:8080/SistemaCapacitacion/index.jsp\nin the first post.","body":"Added the content of the pague localhost:8080/SistemaCapacitacion/index.jsp in the first post."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367558478,"post_id":16348945,"comment_id":23425879,"body_markdown":"Your program uses a class named `org.orm.PersistentException` and tomcat is unable to find it. In what JAR is it? I searched a bit and it seems to be in some file called `orm.jar` (from visual-paradigm?). If so add it to the `lib/` folder of your tomcat.","body":"Your program uses a class named <code>org.orm.PersistentException</code> and tomcat is unable to find it. In what JAR is it? I searched a bit and it seems to be in some file called <code>orm.jar</code> (from visual-paradigm?). If so add it to the <code>lib&#47;</code> folder of your tomcat."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367558949,"post_id":16348945,"comment_id":23426031,"body_markdown":"Added that jar, changed the content of the page in the main post.","body":"Added that jar, changed the content of the page in the main post."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367559192,"post_id":16348945,"comment_id":23426115,"body_markdown":"As the error says, you have more than one `org.apache.commons.logging.Log` on your classpath. Do your eclipse project have any `commons-logging.jar`? Try removing it from the project (actually, move it somewhere else instead of deleting).","body":"As the error says, you have more than one <code>org.apache.commons.logging.Log</code> on your classpath. Do your eclipse project have any <code>commons-logging.jar</code>? Try removing it from the project (actually, move it somewhere else instead of deleting)."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367559403,"post_id":16348945,"comment_id":23426186,"body_markdown":"Hey, I&#39;m sorry, but I really gotta go. It&#39;s past 2 AM here (I&#39;m at Brazil) and I gotta be at work by 9 AM. Keep on updating it, I&#39;ll help you from there I am as soon as I get to the computer, alright?","body":"Hey, I&#39;m sorry, but I really gotta go. It&#39;s past 2 AM here (I&#39;m at Brazil) and I gotta be at work by 9 AM. Keep on updating it, I&#39;ll help you from there I am as soon as I get to the computer, alright?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367559670,"post_id":16348945,"comment_id":23426263,"body_markdown":"You just edited, I see, you are getting `java.lang.NoClassDefFoundError: org.orm.PersistentManager`. Did you take the `orm.jar` away?","body":"You just edited, I see, you are getting <code>java.lang.NoClassDefFoundError: org.orm.PersistentManager</code>. Did you take the <code>orm.jar</code> away?"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367559685,"post_id":16348945,"comment_id":23426267,"body_markdown":"Okay, np. I just changed the content of the pague. I guess you helped a lot. Don&#39;t worry, I&#39;ll try to figure the rest (without screwing it up.\n\nThanks!","body":"Okay, np. I just changed the content of the pague. I guess you helped a lot. Don&#39;t worry, I&#39;ll try to figure the rest (without screwing it up.  Thanks!"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367559823,"post_id":16348945,"comment_id":23426305,"body_markdown":"FOr this last problem, try putting the `orm.jar` back into `tomcat\\lib`. If it doesnt work, try placing it on `WEB-INF\\lib` of `SistemaCapacitacion` instead. Anyway, see ya!!","body":"FOr this last problem, try putting the <code>orm.jar</code> back into <code>tomcat\\lib</code>. If it doesnt work, try placing it on <code>WEB-INF\\lib</code> of <code>SistemaCapacitacion</code> instead. Anyway, see ya!!"},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367559841,"post_id":16348945,"comment_id":23426316,"body_markdown":"No, I didn&#39;t take it away.","body":"No, I didn&#39;t take it away."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367559964,"post_id":16348945,"comment_id":23426347,"body_markdown":"Whatever, go and rest, Its late ehre too (almost 2AM) and working this late won&#39;t help that much.","body":"Whatever, go and rest, Its late ehre too (almost 2AM) and working this late won&#39;t help that much."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367568208,"post_id":16348945,"comment_id":23429228,"body_markdown":"Okay, new edits on the main post. Explained it the best I could.","body":"Okay, new edits on the main post. Explained it the best I could."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367605241,"post_id":16348945,"comment_id":23448973,"body_markdown":"Err... Classpath errors are nasty. The current error says you have two `org.apache.commons.logging.Log` in your classpath, meaning there probably are two .JARs with such a class. I know for a fact that `commons-logging.jar` has such a class. Taking it away should solve the problem (if that doesn&#39;t bring others), have you tried it? The other strange one is `orm.jar`. How big is it? Can you show us its contents?","body":"Err... Classpath errors are nasty. The current error says you have two <code>org.apache.commons.logging.Log</code> in your classpath, meaning there probably are two .JARs with such a class. I know for a fact that <code>commons-logging.jar</code> has such a class. Taking it away should solve the problem (if that doesn&#39;t bring others), have you tried it? The other strange one is <code>orm.jar</code>. How big is it? Can you show us its contents?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367605736,"post_id":16348945,"comment_id":23449237,"body_markdown":"You asked ***what group do I eliminate/move and what group I keep? is there a &quot;good&quot; method to remove them?*** You are talking about dependency (JARs you need and the JARs needed by those JARs) management. The best thing is to use a tool like [Maven](http://obscuredclarity.blogspot.com.br/2012/04/hello-world-maven-m2eclipse-and-eclipse.html), but that&#39;s a whole new talk.","body":"You asked <b><i>what group do I eliminate/move and what group I keep? is there a &quot;good&quot; method to remove them?</i></b> You are talking about dependency (JARs you need and the JARs needed by those JARs) management. The best thing is to use a tool like <a href=\"http://obscuredclarity.blogspot.com.br/2012/04/hello-world-maven-m2eclipse-and-eclipse.html\" rel=\"nofollow noreferrer\">Maven</a>, but that&#39;s a whole new talk."},{"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"score":0,"creation_date":1367611944,"post_id":16348945,"comment_id":23451917,"body_markdown":"THAT SOLVED IT. I can&#39;t believe it was just cause a .jar was duplicated. They added the .jar to the classpath, but I ignored that fact and added to the proyect again at the server. God, you helped me by a lot. Thanks dude, you saved me a big one! How could I pay this to you? :)","body":"THAT SOLVED IT. I can&#39;t believe it was just cause a .jar was duplicated. They added the .jar to the classpath, but I ignored that fact and added to the proyect again at the server. God, you helped me by a lot. Thanks dude, you saved me a big one! How could I pay this to you? :)"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1367630710,"post_id":16348945,"comment_id":23457185,"body_markdown":"There&#39;s absolutely no need to pay :) I&#39;m really glad I could help! I&#39;ll try to edit the answer so that it can help somehow anyone with that problem in the future. Cheers!","body":"There&#39;s absolutely no need to pay :) I&#39;m really glad I could help! I&#39;ll try to edit the answer so that it can help somehow anyone with that problem in the future. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1367557721,"creation_date":1367555897,"answer_id":16351667,"question_id":16348945,"body_markdown":"JSP File:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Test JSP&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    HI THERE!\r\n    &lt;%= new servicio.Servicio().verActa(&quot;1&quot;, &quot;1&quot;) %&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nName it `index.jsp`\r\nAdd it to your `WebContent\\` folder. Make sure there is no other file named `index` or `default`.\r\n\r\nNow go to: `http://youserver/SistemaCapacitacion/`","title":"Eclipse, consuming a web service gives java.lang.reflect.InvocationTargetException","body":"<p>JSP File:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Test JSP&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\nHI THERE!\n&lt;%= new servicio.Servicio().verActa(\"1\", \"1\") %&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Name it <code>index.jsp</code>\nAdd it to your <code>WebContent\\</code> folder. Make sure there is no other file named <code>index</code> or <code>default</code>.</p>\n\n<p>Now go to: <code>http://youserver/SistemaCapacitacion/</code></p>\n"}],"owner":{"account_id":2718071,"reputation":23,"user_id":2344968,"display_name":"Mauricio Alejandro Westermeyer"},"comment_count":52,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4815,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16351667,"answer_count":1,"score":1,"last_activity_date":1681822000,"creation_date":1367534547,"question_id":16348945,"body_markdown":"Would like some help. I already spent a lot of hours trying to solve this problem, searching in the web, some sites - and some questions here - but still no answer for this. Any help will be greatly appreciated.\r\n\r\nI&#39;m not by that means a specialist in this, so some information may be vague I&#39;ll try to be to use the best terms to describe the problem.\r\n\r\nWhen I try to consume a webservice I myself created using Eclipse, in Java language, using Apache Tomcat 6, it gives me an error:\r\n\r\n&gt; The content of the body cannot be displayed in the form view. Please switch to the source view to examine the raw content.\r\n\r\nI tested the webservice (the 11 methods) as an Java application and JUnit Test and it was fine. The methods delete, add, modify, and search for some information in a database on MYSQL. As I said, the methods run properly as an Java application. \r\n\r\nI tried to generate a client on a different project. If I try to consume the web service from the client, it gives me this error:\r\n\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode: \r\n     faultString: java.lang.reflect.InvocationTargetException\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n\t    {http://xml.apache.org/axis/}hostname:Mauricio-PC\r\n\r\n    java.lang.reflect.InvocationTargetException\r\n\t    at org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:222)\tat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:129)\r\n\tat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1087)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source)\r\n\tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\r\n\tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\r\n\tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\r\n\tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\r\n\tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n\tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n\tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n\tat client.ServicioSoapBindingStub.ingresarAlumnoCurso(ServicioSoapBindingStub.java:488)\r\n\tat client.ServicioProxy.ingresarAlumnoCurso(ServicioProxy.java:80)\r\n\tat client.Prueba.main(Prueba.java:19) \r\n\r\nI remember someone saying it was cause my hostname is called &quot;Mauricio-PC&quot; and Tomcat couldn&#39;t recognize it. But I don&#39;t really know if that&#39;s true.\r\n\r\nSo, any help is greatly appreciated. Feel free to ask any questions.\r\n\r\nThanks.\r\n\r\nEDIT: I had created another project with another name, ServicioCapacitacion instead of SistemaCapacitacion. Same files. I reimported the .jars.\r\n\r\nSo I have this libraries:\r\n\r\n    Library Apache Tomcat v6.0:\r\n      annotations-api.jar\r\n      catalina-ant.jar\r\n      catalina-ha.jar\r\n      catalina-tribes.jar\r\n      catalina.jar\r\n      ecj-3.7.2.jar\r\n      el-api.jar\r\n      gson-2.2.3.jar\r\n      jasper-el.jar\r\n      jasper.jar\r\n      jsp-api.jar\r\n      mysql-connector-java-5.1.25-bin.jar\r\n      orm.jar\r\n      servlet-api.jar\r\n      tomcat-coyote.jar\r\n      tomcat-dbcp.jar\r\n      tomcat-i18n-es.jar\r\n      tomcat-i18n-fr.jar\r\n      tomcat-i18n-ja.jar\r\n    \r\n    JRE System Library:\r\n      resources.jar\r\n      rt.jar\r\n      jsse.jar\r\n      jce.jar\r\n      charsets.jar\r\n      jfr.jar\r\n      access-bridge-64.jar\r\n      dnsns.jar\r\n      jaccess.jar\r\n      localedata.jar\r\n      sunec.jar\r\n      sunjce_provider.jar\r\n      sunmscapi.jar\r\n      zipfs.jar\r\n    \r\n    JUnit 4:\r\n    \r\n      junit.jar\r\n      org.hamcrest.core_1.1.0.v20090501071000.jar\r\n    \r\n    Web App Libraries:\r\n      axis.jar\r\n      commons-discovery-0.2.jar\r\n      commons-logging.jar\r\n      jaxrpc.jar\r\n      saaj.jar\r\n      wsdl4j.jar\r\n    \r\n    \r\n    \r\n    gwt-dev.jar    &lt;- These are alone, not inside any Library\r\n    gwt-servlet.jar\r\n    mail.jar\r\n\r\nAND inside the directory WebContent&gt;WEB-INF&gt;lib there are these libraries:\r\n\r\n    axis.jar\r\n    commons-discovery-0.2.jar\r\n    commons-logging.jar\r\n    jaxrpc.jar\r\n    saaj.jar\r\n    wsdl4j.jar\r\n\r\nI know already these libraries are repeated, my question is, do I have to delete one of these groups? what group do I eliminate/move and what group I keep? is there a &quot;good&quot; method to remove them?\r\n\r\n  \r\nNEW Display of the localhost:8080/ServicioCapacitacion/index.jsp\r\n\r\n    Estado HTTP 500 - javax.servlet.ServletException: java.lang.ExceptionInInitializerError\r\n    \r\n    type Informe de Excepci&#243;n\r\n    \r\n    mensaje javax.servlet.ServletException: java.lang.ExceptionInInitializerError\r\n    \r\n    descripci&#243;n El servidor encontr&#243; un error interno que hizo que no pudiera rellenar este requerimiento.\r\n    \r\n    excepci&#243;n\r\n    \r\n    org.apache.jasper.JasperException: javax.servlet.ServletException: java.lang.ExceptionInInitializerError\r\n    \torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:502)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:412)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    causa ra&#237;z\r\n    \r\n    javax.servlet.ServletException: java.lang.ExceptionInInitializerError\r\n    \torg.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:865)\r\n    \torg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:794)\r\n    \torg.apache.jsp.index_jsp._jspService(index_jsp.java:71)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    causa ra&#237;z\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tnegocio.Capacitacion.verActa(Capacitacion.java:329)\r\n    \tservicio.Servicio.verActa(Servicio.java:70)\r\n    \torg.apache.jsp.index_jsp._jspService(index_jsp.java:62)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    causa ra&#237;z\r\n    \r\n    org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed.) (Caused by org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed.))\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n    \torg.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n    \torg.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\r\n    \tnegocio.Capacitacion.verActa(Capacitacion.java:329)\r\n    \tservicio.Servicio.verActa(Servicio.java:70)\r\n    \torg.apache.jsp.index_jsp._jspService(index_jsp.java:62)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    causa ra&#237;z\r\n    \r\n    org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed.)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:397)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n    \torg.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n    \torg.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\r\n    \tnegocio.Capacitacion.verActa(Capacitacion.java:329)\r\n    \tservicio.Servicio.verActa(Servicio.java:70)\r\n    \torg.apache.jsp.index_jsp._jspService(index_jsp.java:62)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    causa ra&#237;z\r\n    \r\n    org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of &#39;org.apache.commons.logging.Log&#39; visible, which is not allowed.\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:385)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\r\n    \torg.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\r\n    \torg.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\r\n    \torg.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\r\n    \tnegocio.Capacitacion.verActa(Capacitacion.java:329)\r\n    \tservicio.Servicio.verActa(Servicio.java:70)\r\n    \torg.apache.jsp.index_jsp._jspService(index_jsp.java:62)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    nota La traza completa de la causa de este error se encuentra en los archivos de diario de Apache Tomcat/6.0.36.\r\n    \r\n    Apache Tomcat/6.0.36","title":"Eclipse, consuming a web service gives java.lang.reflect.InvocationTargetException","body":"<p>Would like some help. I already spent a lot of hours trying to solve this problem, searching in the web, some sites - and some questions here - but still no answer for this. Any help will be greatly appreciated.</p>\n\n<p>I'm not by that means a specialist in this, so some information may be vague I'll try to be to use the best terms to describe the problem.</p>\n\n<p>When I try to consume a webservice I myself created using Eclipse, in Java language, using Apache Tomcat 6, it gives me an error:</p>\n\n<blockquote>\n  <p>The content of the body cannot be displayed in the form view. Please switch to the source view to examine the raw content.</p>\n</blockquote>\n\n<p>I tested the webservice (the 11 methods) as an Java application and JUnit Test and it was fine. The methods delete, add, modify, and search for some information in a database on MYSQL. As I said, the methods run properly as an Java application. </p>\n\n<p>I tried to generate a client on a different project. If I try to consume the web service from the client, it gives me this error:</p>\n\n<pre><code>AxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode: \n faultString: java.lang.reflect.InvocationTargetException\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}hostname:Mauricio-PC\n\njava.lang.reflect.InvocationTargetException\n    at org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:222)  at org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:129)\nat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1087)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\nat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\nat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source)\nat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\nat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\nat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\nat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\nat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\nat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\nat org.apache.axis.client.Call.invoke(Call.java:2767)\nat org.apache.axis.client.Call.invoke(Call.java:2443)\nat org.apache.axis.client.Call.invoke(Call.java:2366)\nat org.apache.axis.client.Call.invoke(Call.java:1812)\nat client.ServicioSoapBindingStub.ingresarAlumnoCurso(ServicioSoapBindingStub.java:488)\nat client.ServicioProxy.ingresarAlumnoCurso(ServicioProxy.java:80)\nat client.Prueba.main(Prueba.java:19) \n</code></pre>\n\n<p>I remember someone saying it was cause my hostname is called \"Mauricio-PC\" and Tomcat couldn't recognize it. But I don't really know if that's true.</p>\n\n<p>So, any help is greatly appreciated. Feel free to ask any questions.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: I had created another project with another name, ServicioCapacitacion instead of SistemaCapacitacion. Same files. I reimported the .jars.</p>\n\n<p>So I have this libraries:</p>\n\n<pre><code>Library Apache Tomcat v6.0:\n  annotations-api.jar\n  catalina-ant.jar\n  catalina-ha.jar\n  catalina-tribes.jar\n  catalina.jar\n  ecj-3.7.2.jar\n  el-api.jar\n  gson-2.2.3.jar\n  jasper-el.jar\n  jasper.jar\n  jsp-api.jar\n  mysql-connector-java-5.1.25-bin.jar\n  orm.jar\n  servlet-api.jar\n  tomcat-coyote.jar\n  tomcat-dbcp.jar\n  tomcat-i18n-es.jar\n  tomcat-i18n-fr.jar\n  tomcat-i18n-ja.jar\n\nJRE System Library:\n  resources.jar\n  rt.jar\n  jsse.jar\n  jce.jar\n  charsets.jar\n  jfr.jar\n  access-bridge-64.jar\n  dnsns.jar\n  jaccess.jar\n  localedata.jar\n  sunec.jar\n  sunjce_provider.jar\n  sunmscapi.jar\n  zipfs.jar\n\nJUnit 4:\n\n  junit.jar\n  org.hamcrest.core_1.1.0.v20090501071000.jar\n\nWeb App Libraries:\n  axis.jar\n  commons-discovery-0.2.jar\n  commons-logging.jar\n  jaxrpc.jar\n  saaj.jar\n  wsdl4j.jar\n\n\n\ngwt-dev.jar    &lt;- These are alone, not inside any Library\ngwt-servlet.jar\nmail.jar\n</code></pre>\n\n<p>AND inside the directory WebContent>WEB-INF>lib there are these libraries:</p>\n\n<pre><code>axis.jar\ncommons-discovery-0.2.jar\ncommons-logging.jar\njaxrpc.jar\nsaaj.jar\nwsdl4j.jar\n</code></pre>\n\n<p>I know already these libraries are repeated, my question is, do I have to delete one of these groups? what group do I eliminate/move and what group I keep? is there a \"good\" method to remove them?</p>\n\n<p>NEW Display of the localhost:8080/ServicioCapacitacion/index.jsp</p>\n\n<pre><code>Estado HTTP 500 - javax.servlet.ServletException: java.lang.ExceptionInInitializerError\n\ntype Informe de Excepción\n\nmensaje javax.servlet.ServletException: java.lang.ExceptionInInitializerError\n\ndescripción El servidor encontró un error interno que hizo que no pudiera rellenar este requerimiento.\n\nexcepción\n\norg.apache.jasper.JasperException: javax.servlet.ServletException: java.lang.ExceptionInInitializerError\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:502)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:412)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ncausa raíz\n\njavax.servlet.ServletException: java.lang.ExceptionInInitializerError\n    org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:865)\n    org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:794)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:71)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ncausa raíz\n\njava.lang.ExceptionInInitializerError\n    negocio.Capacitacion.verActa(Capacitacion.java:329)\n    servicio.Servicio.verActa(Servicio.java:70)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:62)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ncausa raíz\n\norg.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed.) (Caused by org.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed.))\n    org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:543)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n    org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n    org.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\n    negocio.Capacitacion.verActa(Capacitacion.java:329)\n    servicio.Servicio.verActa(Servicio.java:70)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:62)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ncausa raíz\n\norg.apache.commons.logging.LogConfigurationException: org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed. (Caused by org.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed.)\n    org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:397)\n    org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n    org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n    org.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\n    negocio.Capacitacion.verActa(Capacitacion.java:329)\n    servicio.Servicio.verActa(Servicio.java:70)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:62)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ncausa raíz\n\norg.apache.commons.logging.LogConfigurationException: Invalid class loader hierarchy.  You have more than one version of 'org.apache.commons.logging.Log' visible, which is not allowed.\n    org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:385)\n    org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)\n    org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)\n    org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)\n    org.orm.PersistentManager.&lt;clinit&gt;(PersistentManager.java:34)\n    negocio.Capacitacion.verActa(Capacitacion.java:329)\n    servicio.Servicio.verActa(Servicio.java:70)\n    org.apache.jsp.index_jsp._jspService(index_jsp.java:62)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:388)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nnota La traza completa de la causa de este error se encuentra en los archivos de diario de Apache Tomcat/6.0.36.\n\nApache Tomcat/6.0.36\n</code></pre>\n"},{"tags":["java","email","apache-axis"],"comments":[{"owner":{"account_id":3703110,"reputation":3347,"user_id":3082272,"accept_rate":50,"display_name":"bobbel"},"score":0,"creation_date":1396349865,"post_id":22783744,"comment_id":34738043,"body_markdown":"Try to send `\\r\\n` instead of `\\n`.","body":"Try to send <code>\\r\\n</code> instead of <code>\\n</code>."}],"answers":[{"comments":[{"owner":{"account_id":2607098,"reputation":1259,"user_id":2258047,"accept_rate":59,"display_name":"Stathis Andronikos"},"score":0,"creation_date":1396350440,"post_id":22783835,"comment_id":34738431,"body_markdown":"With &lt;br/&gt; it&#39;s ok. Thanks!","body":"With &lt;br/&gt; it&#39;s ok. Thanks!"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1396354112,"post_id":22783835,"comment_id":34740992,"body_markdown":"No, SMS is different. The SMS viewer is typically very simple and I doubt that it supports HTML tags. The SMS viewer are very different and platform specific. Typically people tend to avoid any special characters into SMS. Try `\\n` however. Probably it will work, but I am not sure. Moreover this may depend on the sending technique. Probably `\\n` will be removed or corrupted by your client.","body":"No, SMS is different. The SMS viewer is typically very simple and I doubt that it supports HTML tags. The SMS viewer are very different and platform specific. Typically people tend to avoid any special characters into SMS. Try <code>\\n</code> however. Probably it will work, but I am not sure. Moreover this may depend on the sending technique. Probably <code>\\n</code> will be removed or corrupted by your client."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396349895,"creation_date":1396349895,"answer_id":22783835,"question_id":22783744,"body_markdown":"I can suggest you to try the following things. \r\n\r\nIf you are reading this email on Windows probably you should send `\\r\\n` instead of `\\n`, i.e. system property `line.separator`. \r\n\r\nIf you are reading this email as HTML probably you should send the HTML newline tag `&lt;br/&gt;`.","title":"java string new line not working when sending with email","body":"<p>I can suggest you to try the following things. </p>\n\n<p>If you are reading this email on Windows probably you should send <code>\\r\\n</code> instead of <code>\\n</code>, i.e. system property <code>line.separator</code>. </p>\n\n<p>If you are reading this email as HTML probably you should send the HTML newline tag <code>&lt;br/&gt;</code>.</p>\n"}],"owner":{"account_id":2607098,"reputation":1259,"user_id":2258047,"accept_rate":59,"display_name":"Stathis Andronikos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22783835,"answer_count":1,"score":0,"last_activity_date":1681821938,"creation_date":1396349603,"question_id":22783744,"body_markdown":"Let&#39;s say I want to send an email using `org.apache.axis.client.Call` and the body message of the mail has a format like :\r\n\r\n    bodyMsg=&quot;Name:Justin\\nSurname:Biber\\nPosition:artist\\nField1:1234\\nField2:eqweq&quot;;\r\n\r\n but when I receive the mail there is no the new line for each field. For example, I want to receive : \r\n\r\n        Name:Justin\r\n        Surname:Biber\r\n        Position:artist\r\n        Field1:1234\r\n        Field2:eqweq\r\n\r\n  and I am receiving this :\r\n \r\n\r\n    Name:Justin Surname:BiberPosition:artist Field1:1234 Field2:eqweq\r\n\r\n   A snippet of my code is something like that : \r\n\r\n        org.apache.axis.client.Call _call = createCall();\r\n            _call.setOperation(_operations[0]);\r\n            _call.setUseSOAPAction(true);\r\n            _call.setSOAPActionURI(&quot;&quot;);\r\n            _call.setEncodingStyle(null);\r\n            _call.setProperty(org.apache.axis.client.Call.SEND_TYPE_ATTR, Boolean.FALSE);\r\n            _call.setProperty(org.apache.axis.AxisEngine.PROP_DOMULTIREFS, Boolean.FALSE);\r\n            _call.setSOAPVersion(org.apache.axis.soap.SOAPConstants.SOAP11_CONSTANTS);\r\n            _call.setOperationName(new javax.xml.namespace.QName(&quot;http://example.com/&quot;, &quot;createEmail&quot;));\r\n    \r\n            setRequestHeaders(_call);\r\n            setAttachments(_call);\r\n     try {        java.lang.Object _resp = _call.invoke(new java.lang.Object[] {new java.lang.Long(arg0), arg1, arg2, bodyMsg});\r\n     } catch(Exception ex) {}\r\n\r\n Any suggestion?","title":"java string new line not working when sending with email","body":"<p>Let's say I want to send an email using <code>org.apache.axis.client.Call</code> and the body message of the mail has a format like :</p>\n\n<pre><code>bodyMsg=\"Name:Justin\\nSurname:Biber\\nPosition:artist\\nField1:1234\\nField2:eqweq\";\n</code></pre>\n\n<p>but when I receive the mail there is no the new line for each field. For example, I want to receive : </p>\n\n<pre><code>    Name:Justin\n    Surname:Biber\n    Position:artist\n    Field1:1234\n    Field2:eqweq\n</code></pre>\n\n<p>and I am receiving this :</p>\n\n<pre><code>Name:Justin Surname:BiberPosition:artist Field1:1234 Field2:eqweq\n</code></pre>\n\n<p>A snippet of my code is something like that : </p>\n\n<pre><code>    org.apache.axis.client.Call _call = createCall();\n        _call.setOperation(_operations[0]);\n        _call.setUseSOAPAction(true);\n        _call.setSOAPActionURI(\"\");\n        _call.setEncodingStyle(null);\n        _call.setProperty(org.apache.axis.client.Call.SEND_TYPE_ATTR, Boolean.FALSE);\n        _call.setProperty(org.apache.axis.AxisEngine.PROP_DOMULTIREFS, Boolean.FALSE);\n        _call.setSOAPVersion(org.apache.axis.soap.SOAPConstants.SOAP11_CONSTANTS);\n        _call.setOperationName(new javax.xml.namespace.QName(\"http://example.com/\", \"createEmail\"));\n\n        setRequestHeaders(_call);\n        setAttachments(_call);\n try {        java.lang.Object _resp = _call.invoke(new java.lang.Object[] {new java.lang.Long(arg0), arg1, arg2, bodyMsg});\n } catch(Exception ex) {}\n</code></pre>\n\n<p>Any suggestion?</p>\n"},{"tags":["java","sql","excel","arraylist","apache-poi"],"owner":{"account_id":22868957,"reputation":1,"user_id":17012271,"display_name":"Mohamed Khalid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681821650,"creation_date":1681818922,"question_id":76044289,"body_markdown":"I have Excel file in that i have three sheets. I am using fillo api to query excel file using SQL Queries i can get recordset of two excel sheets dynamically, but when i try to fetch the third recordset the previous values are erasing. what i want is i need to have all the values of three recordsets in one row.\r\n\r\nFor Example: [101, 17000, AD_VP, Administration Vice President, 15000, 30000, AD_VP]\r\nHere, 101, 17000, AD_VP are from one table and remaining are from another table but i can&#39;t get the third table values in same row.\r\n\r\nI want this to be done in dynamic way.\r\n\r\n\r\nI tried below code, it is working for two tables but not for more than two.\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tFillo fillo = new Fillo();\r\n\t\tConnection connection = null;\r\n\t\tRecordset recordset = null;\r\n\t\tRecordset recordset1 = null;\r\n\t\t\r\n\t\t//String originalQuery = &quot;SELECT EMPLOYEES.EMPLOYEE_ID, EMPLOYEES.SALARY, JOBS.JOB_TITLE, JOBS.MIN_SALARY, JOBS.MAX_SALARY FROM EMPLOYEES INNER JOIN JOBS ON  EMPLOYEES.JOB_ID = JOBS.JOB_ID&quot;;\r\n\t\tString originalQuery = &quot;SELECT EMPLOYEES.EMPLOYEE_ID, EMPLOYEES.SALARY, DEPARTMENTS.DEPARTMENT_NAME, LOCATIONS.POSTAL_CODE, LOCATIONS.CITY FROM EMPLOYEES INNER JOIN DEPARTMENTS ON  EMPLOYEES.DEPARTMENT_ID = DEPARTMENTS.DEPARTMENT_ID   INNER JOIN LOCATIONS ON  DEPARTMENTS.LOCATION_ID = LOCATIONS.LOCATION_ID&quot;;\r\n\t\ttry {\r\n\t\t\t//connection = fillo.getConnection(&quot;D:\\\\employeeJobs.xlsx&quot;);\r\n\t\t\tconnection = fillo.getConnection(&quot;D:\\\\MultipleSheets.xlsx&quot;);\r\n\t\t\t\r\n\t\t\tString[] tableNames = MultipleSeparateJoins.extractTableNames(originalQuery);\r\n\t\t\tList&lt;String&gt; commonColumns = null;\r\n\t\t\tList&lt;String&gt; addColumns = new ArrayList&lt;String&gt;();\r\n\t\t\tfor(int i=0; i&lt;tableNames.length-1; i++) {\r\n\t\t\t\tString[] secondTablename = tableNames;\r\n\t\t\t\tcommonColumns = MultipleSeparateJoins.extractCommonColumns(originalQuery, tableNames[i], secondTablename[i+1]);\r\n\t\t\t\taddColumns.addAll(commonColumns);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(addColumns);\r\n\t\t\tString query = &quot;&quot;;\r\n\t\t\tString query1 = &quot;&quot;;\r\n\t\t\tArrayList&lt;String&gt; fieldNames = new ArrayList&lt;&gt;();\r\n\t\t\tArrayList&lt;ArrayList&lt;String&gt;&gt; fieldValues = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;tableNames.length-1; i++) {\r\n\t\t\t\tquery = MultipleSeparateJoins.extractQuery(originalQuery, tableNames[i]);\r\n\t\t\t\trecordset = connection.executeQuery(query);\r\n\t\t\t\tquery1 = MultipleSeparateJoins.extractQuery(originalQuery, tableNames[i+1]);\r\n\t\t\t\trecordset1 = connection.executeQuery(query1);\r\n\t\t\t\tif(fieldNames.containsAll(recordset.getFieldNames())) {\r\n\t\t\t\t\tfieldNames.addAll(recordset1.getFieldNames());\r\n\t\t\t\t}else {\r\n\t\t\t\t\tfieldNames.addAll(recordset.getFieldNames());\r\n\t\t\t\t\tfieldNames.addAll(recordset1.getFieldNames());\t\r\n\t\t\t\t}\r\n\t\t\t\twhile(recordset.next()) {\r\n\t\t\t\t\tArrayList&lt;String&gt; rowValues = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tfor(String fieldName : recordset.getFieldNames()) {\r\n\t\t\t\t\t\trowValues.add(recordset.getField(fieldName));\r\n\t\t\t\t\t}\r\n\t\t\t\t\twhile(recordset1.next()) {\r\n\t\t\t\t\t\tif(recordset1.getField(addColumns.get(i)).equals(recordset.getField(addColumns.get(i)))) {\r\n\t\t\t\t\t\t\tfor(String fieldName : recordset1.getFieldNames()) {\r\n\t\t\t\t\t\t\t\trowValues.add(recordset1.getField(fieldName));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfieldValues.add(rowValues);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\trecordset1.moveFirst();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Total Number of Records are: &quot;+fieldValues.size());\r\n\t\t\tfor(String fieldName : fieldNames) {\r\n\t\t\t\tSystem.out.print(fieldName + &quot;\\t&quot;+&quot;\\t&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tfor(ArrayList&lt;String&gt; row : fieldValues) {\r\n\t\t\t\tfor(String value : row) {\r\n\t\t\t\t\tSystem.out.print(value + &quot;\\t&quot;+&quot;\\t&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t}catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tconnection.close();\r\n\t\t\trecordset.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static String[] extractTableNames(String originalQuery) {\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\bFROM\\\\s+\\\\w+&quot;, Pattern.CASE_INSENSITIVE);\r\n\t\tPattern pattern1 = Pattern.compile(&quot;\\\\bJOIN\\\\s+\\\\w+&quot;, Pattern.CASE_INSENSITIVE);\r\n\t\tMatcher matcher = pattern.matcher(originalQuery);\r\n\t\tMatcher matcher1 = pattern1.matcher(originalQuery);\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\twhile(matcher.find()) {\r\n\t\t\tString tableName = matcher.group().replaceAll(&quot;(?i)FROM\\\\s+&quot;, &quot;&quot;);\r\n\t\t\tsb.append(tableName).append(&quot;,&quot;);\r\n\t\t}\r\n\t\twhile(matcher1.find()) {\r\n\t\t\tString tableName = matcher1.group().replaceAll(&quot;(?i)JOIN\\\\s+&quot;, &quot;&quot;);\r\n\t\t\tsb.append(tableName).append(&quot;,&quot;);\r\n\t\t}\r\n\t\tString[] tableNames = sb.toString().split(&quot;,&quot;);\r\n\t\treturn tableNames;\r\n\t}\r\n\t\r\n\tpublic static String extractQuery(String originalQuery, String tableName) {\t\t\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\b&quot; + tableName + &quot;\\\\.\\\\w+&quot;/*&quot;(?i)SELECT\\\\s+(.*?)\\\\bFROM\\\\s+&quot;*/);\r\n\t    Matcher matcher = pattern.matcher(originalQuery);\r\n\t    StringBuilder sb = new StringBuilder();\r\n\t    while (matcher.find()) {\r\n\t        String column = matcher.group();\r\n\t        sb.append(column).append(&quot;, &quot;);\r\n\t    \t/*String selectClause = matcher.group(1); // Extract the text between SELECT and FROM\r\n\t        String[] columns = selectClause.split(&quot;,&quot;);\r\n\t        for (String column : columns) {\r\n\t            String trimmedColumn = column.trim();\r\n\t            if (trimmedColumn.startsWith(tableName + &quot;.&quot;)) {\r\n\t                sb.append(trimmedColumn).append(&quot;, &quot;);\r\n\t            }\r\n\t        }*/\r\n\t    }\r\n\r\n\t    // Remove the trailing comma and space from the extracted column names\r\n\t    if (sb.length() &gt; 0) {\r\n\t        sb.delete(sb.length() - 2, sb.length());\r\n\t    }\r\n\r\n\t    // Build the extracted query with the extracted column names\r\n\t    String extractedQuery = &quot;SELECT &quot; + sb.toString() + &quot; FROM &quot; + tableName;\r\n\r\n\t    return extractedQuery;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static List&lt;String&gt; extractCommonColumns(String originalQuery, String tableName, String secondTablename){\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\bJOIN\\\\s+&quot; + secondTablename + &quot;\\\\s+ON\\\\s+&quot; + tableName + &quot;\\\\.\\\\w+\\\\s*=\\\\s*&quot; + secondTablename + &quot;\\\\.\\\\w+&quot;);\r\n\t\tMatcher matcher = pattern.matcher(originalQuery);\r\n\t\tList&lt;String&gt; commonColumns = new ArrayList&lt;&gt;();\r\n\r\n\t\tif (matcher.find()) {\r\n\t        String match = matcher.group();\r\n\t        String[] columns = match.split(&quot;\\\\s*=\\\\s*&quot;); // splitting based on = (equals)\r\n\t        if (columns.length == 2) {\r\n\t            String[] parts1 = columns[0].split(&quot;\\\\s+&quot;); // splitting based on white space \r\n\t            String[] parts2 = columns[1].split(&quot;\\\\s+&quot;); \r\n\t            if (parts1.length &gt; 0 &amp;&amp; parts2.length &gt; 0) {\r\n\t            \tString[] subParts = parts1[3].split(&quot;\\\\.&quot;); // splitting based on . (dot)\r\n\t            \tString[] subParts1 = parts2[0].split(&quot;\\\\.&quot;);\r\n\t                commonColumns.add(subParts[1]); \r\n\t                //commonColumns.add(subParts1[1]); \r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t\treturn commonColumns;\r\n\t}\r\n```\r\n","title":"Get data from Excel files using SQL query in Java","body":"<p>I have Excel file in that i have three sheets. I am using fillo api to query excel file using SQL Queries i can get recordset of two excel sheets dynamically, but when i try to fetch the third recordset the previous values are erasing. what i want is i need to have all the values of three recordsets in one row.</p>\n<p>For Example: [101, 17000, AD_VP, Administration Vice President, 15000, 30000, AD_VP]\nHere, 101, 17000, AD_VP are from one table and remaining are from another table but i can't get the third table values in same row.</p>\n<p>I want this to be done in dynamic way.</p>\n<p>I tried below code, it is working for two tables but not for more than two.</p>\n<pre><code>public static void main(String[] args) {\n        Fillo fillo = new Fillo();\n        Connection connection = null;\n        Recordset recordset = null;\n        Recordset recordset1 = null;\n        \n        //String originalQuery = &quot;SELECT EMPLOYEES.EMPLOYEE_ID, EMPLOYEES.SALARY, JOBS.JOB_TITLE, JOBS.MIN_SALARY, JOBS.MAX_SALARY FROM EMPLOYEES INNER JOIN JOBS ON  EMPLOYEES.JOB_ID = JOBS.JOB_ID&quot;;\n        String originalQuery = &quot;SELECT EMPLOYEES.EMPLOYEE_ID, EMPLOYEES.SALARY, DEPARTMENTS.DEPARTMENT_NAME, LOCATIONS.POSTAL_CODE, LOCATIONS.CITY FROM EMPLOYEES INNER JOIN DEPARTMENTS ON  EMPLOYEES.DEPARTMENT_ID = DEPARTMENTS.DEPARTMENT_ID   INNER JOIN LOCATIONS ON  DEPARTMENTS.LOCATION_ID = LOCATIONS.LOCATION_ID&quot;;\n        try {\n            //connection = fillo.getConnection(&quot;D:\\\\employeeJobs.xlsx&quot;);\n            connection = fillo.getConnection(&quot;D:\\\\MultipleSheets.xlsx&quot;);\n            \n            String[] tableNames = MultipleSeparateJoins.extractTableNames(originalQuery);\n            List&lt;String&gt; commonColumns = null;\n            List&lt;String&gt; addColumns = new ArrayList&lt;String&gt;();\n            for(int i=0; i&lt;tableNames.length-1; i++) {\n                String[] secondTablename = tableNames;\n                commonColumns = MultipleSeparateJoins.extractCommonColumns(originalQuery, tableNames[i], secondTablename[i+1]);\n                addColumns.addAll(commonColumns);\n            }\n            System.out.println(addColumns);\n            String query = &quot;&quot;;\n            String query1 = &quot;&quot;;\n            ArrayList&lt;String&gt; fieldNames = new ArrayList&lt;&gt;();\n            ArrayList&lt;ArrayList&lt;String&gt;&gt; fieldValues = new ArrayList&lt;&gt;();\n            \n            for(int i=0; i&lt;tableNames.length-1; i++) {\n                query = MultipleSeparateJoins.extractQuery(originalQuery, tableNames[i]);\n                recordset = connection.executeQuery(query);\n                query1 = MultipleSeparateJoins.extractQuery(originalQuery, tableNames[i+1]);\n                recordset1 = connection.executeQuery(query1);\n                if(fieldNames.containsAll(recordset.getFieldNames())) {\n                    fieldNames.addAll(recordset1.getFieldNames());\n                }else {\n                    fieldNames.addAll(recordset.getFieldNames());\n                    fieldNames.addAll(recordset1.getFieldNames());  \n                }\n                while(recordset.next()) {\n                    ArrayList&lt;String&gt; rowValues = new ArrayList&lt;&gt;();\n                    for(String fieldName : recordset.getFieldNames()) {\n                        rowValues.add(recordset.getField(fieldName));\n                    }\n                    while(recordset1.next()) {\n                        if(recordset1.getField(addColumns.get(i)).equals(recordset.getField(addColumns.get(i)))) {\n                            for(String fieldName : recordset1.getFieldNames()) {\n                                rowValues.add(recordset1.getField(fieldName));\n                            }\n                            fieldValues.add(rowValues);\n                            break;\n                        }\n                    }\n                    recordset1.moveFirst();\n                }\n                \n            }\n            System.out.println(&quot;Total Number of Records are: &quot;+fieldValues.size());\n            for(String fieldName : fieldNames) {\n                System.out.print(fieldName + &quot;\\t&quot;+&quot;\\t&quot;);\n            }\n            System.out.println();\n            \n            for(ArrayList&lt;String&gt; row : fieldValues) {\n                for(String value : row) {\n                    System.out.print(value + &quot;\\t&quot;+&quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n        }catch(Exception e) {\n            e.printStackTrace();\n        }finally {\n            connection.close();\n            recordset.close();\n        }\n    }\n    \n    public static String[] extractTableNames(String originalQuery) {\n        Pattern pattern = Pattern.compile(&quot;\\\\bFROM\\\\s+\\\\w+&quot;, Pattern.CASE_INSENSITIVE);\n        Pattern pattern1 = Pattern.compile(&quot;\\\\bJOIN\\\\s+\\\\w+&quot;, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(originalQuery);\n        Matcher matcher1 = pattern1.matcher(originalQuery);\n        StringBuilder sb = new StringBuilder();\n        while(matcher.find()) {\n            String tableName = matcher.group().replaceAll(&quot;(?i)FROM\\\\s+&quot;, &quot;&quot;);\n            sb.append(tableName).append(&quot;,&quot;);\n        }\n        while(matcher1.find()) {\n            String tableName = matcher1.group().replaceAll(&quot;(?i)JOIN\\\\s+&quot;, &quot;&quot;);\n            sb.append(tableName).append(&quot;,&quot;);\n        }\n        String[] tableNames = sb.toString().split(&quot;,&quot;);\n        return tableNames;\n    }\n    \n    public static String extractQuery(String originalQuery, String tableName) {     \n        Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + tableName + &quot;\\\\.\\\\w+&quot;/*&quot;(?i)SELECT\\\\s+(.*?)\\\\bFROM\\\\s+&quot;*/);\n        Matcher matcher = pattern.matcher(originalQuery);\n        StringBuilder sb = new StringBuilder();\n        while (matcher.find()) {\n            String column = matcher.group();\n            sb.append(column).append(&quot;, &quot;);\n            /*String selectClause = matcher.group(1); // Extract the text between SELECT and FROM\n            String[] columns = selectClause.split(&quot;,&quot;);\n            for (String column : columns) {\n                String trimmedColumn = column.trim();\n                if (trimmedColumn.startsWith(tableName + &quot;.&quot;)) {\n                    sb.append(trimmedColumn).append(&quot;, &quot;);\n                }\n            }*/\n        }\n\n        // Remove the trailing comma and space from the extracted column names\n        if (sb.length() &gt; 0) {\n            sb.delete(sb.length() - 2, sb.length());\n        }\n\n        // Build the extracted query with the extracted column names\n        String extractedQuery = &quot;SELECT &quot; + sb.toString() + &quot; FROM &quot; + tableName;\n\n        return extractedQuery;\n        \n    }\n    \n    public static List&lt;String&gt; extractCommonColumns(String originalQuery, String tableName, String secondTablename){\n        Pattern pattern = Pattern.compile(&quot;\\\\bJOIN\\\\s+&quot; + secondTablename + &quot;\\\\s+ON\\\\s+&quot; + tableName + &quot;\\\\.\\\\w+\\\\s*=\\\\s*&quot; + secondTablename + &quot;\\\\.\\\\w+&quot;);\n        Matcher matcher = pattern.matcher(originalQuery);\n        List&lt;String&gt; commonColumns = new ArrayList&lt;&gt;();\n\n        if (matcher.find()) {\n            String match = matcher.group();\n            String[] columns = match.split(&quot;\\\\s*=\\\\s*&quot;); // splitting based on = (equals)\n            if (columns.length == 2) {\n                String[] parts1 = columns[0].split(&quot;\\\\s+&quot;); // splitting based on white space \n                String[] parts2 = columns[1].split(&quot;\\\\s+&quot;); \n                if (parts1.length &gt; 0 &amp;&amp; parts2.length &gt; 0) {\n                    String[] subParts = parts1[3].split(&quot;\\\\.&quot;); // splitting based on . (dot)\n                    String[] subParts1 = parts2[0].split(&quot;\\\\.&quot;);\n                    commonColumns.add(subParts[1]); \n                    //commonColumns.add(subParts1[1]); \n                }\n            }\n        }\n\n        return commonColumns;\n    }\n</code></pre>\n"},{"tags":["java","spring","rest","jmix"],"answers":[{"comments":[{"owner":{"account_id":13823239,"reputation":140,"user_id":9978189,"display_name":"Kada B"},"score":0,"creation_date":1681825469,"post_id":76044707,"comment_id":134116761,"body_markdown":"Thx for the elaborate answer with example.\nOk, I was considering to solve this with roles however we authenticate with keycloak and there is currently some change happening with the authentification method, that&#39;s why I wanted to refrain from roles as they are managed by keycloak.\nI think however this is the easiest and most straight forward solution.","body":"Thx for the elaborate answer with example. Ok, I was considering to solve this with roles however we authenticate with keycloak and there is currently some change happening with the authentification method, that&#39;s why I wanted to refrain from roles as they are managed by keycloak. I think however this is the easiest and most straight forward solution."}],"tags":[],"owner":{"account_id":8158497,"reputation":291,"user_id":6143241,"display_name":"Maxim Gorbunkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681821402,"creation_date":1681821402,"answer_id":76044707,"question_id":76032809,"body_markdown":"You can limit the number of entities available with REST API with [resource role][1].\r\n\r\nThe role must have the &quot;API&quot; scope:\r\n\r\n    @ResourceRole(name = &quot;New role&quot;, code = &quot;new-role&quot;, scope = &quot;API&quot;)\r\n\r\nFor this role you can limit the number of entities the user can access, e.g. like this:\r\n\r\n        @EntityAttributePolicy(entityClass = MyEntity.class,\r\n            attributes = &quot;*&quot;,\r\n            action = EntityAttributePolicyAction.MODIFY)\r\n        @EntityPolicy(entityClass = MyEntity.class,\r\n            actions = EntityPolicyAction.ALL)\r\n        void myEntity();\r\n\r\nIf you assign this role to a user, the user won&#39;t be able to read only specified entities with the REST API.\r\n\r\n\r\n  [1]: https://docs.jmix.io/jmix/security/resource-roles.html","title":"Expose only specific jmixentities wit Jmix Rest","body":"<p>You can limit the number of entities available with REST API with <a href=\"https://docs.jmix.io/jmix/security/resource-roles.html\" rel=\"nofollow noreferrer\">resource role</a>.</p>\n<p>The role must have the &quot;API&quot; scope:</p>\n<pre><code>@ResourceRole(name = &quot;New role&quot;, code = &quot;new-role&quot;, scope = &quot;API&quot;)\n</code></pre>\n<p>For this role you can limit the number of entities the user can access, e.g. like this:</p>\n<pre><code>    @EntityAttributePolicy(entityClass = MyEntity.class,\n        attributes = &quot;*&quot;,\n        action = EntityAttributePolicyAction.MODIFY)\n    @EntityPolicy(entityClass = MyEntity.class,\n        actions = EntityPolicyAction.ALL)\n    void myEntity();\n</code></pre>\n<p>If you assign this role to a user, the user won't be able to read only specified entities with the REST API.</p>\n"}],"owner":{"account_id":13823239,"reputation":140,"user_id":9978189,"display_name":"Kada B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76044707,"answer_count":1,"score":1,"last_activity_date":1681821402,"creation_date":1681717772,"question_id":76032809,"body_markdown":"in our project we use the Jmix-Rest API and expose the Entities annotated with JMixEntity for Rest calls. This however exposes all JmixEntities per default. The JmixEntity-Annotation is used for both, the CRUD rest api and for templating etc. While the later is ok for the templating etc the former is not supposed to expose all entities per CRUD per default.\r\nHowever we are looking for a way to expose only a few select entities like that and not make them accessible via Rest per default.\r\n\r\nIs there a property, setting or annotation that lets you do that in JMix?\r\nI know that Jmix is built ontop of Spring. Is there maybe a way with Spring config or anntotations?\r\n\r\nThank you in advance!","title":"Expose only specific jmixentities wit Jmix Rest","body":"<p>in our project we use the Jmix-Rest API and expose the Entities annotated with JMixEntity for Rest calls. This however exposes all JmixEntities per default. The JmixEntity-Annotation is used for both, the CRUD rest api and for templating etc. While the later is ok for the templating etc the former is not supposed to expose all entities per CRUD per default.\nHowever we are looking for a way to expose only a few select entities like that and not make them accessible via Rest per default.</p>\n<p>Is there a property, setting or annotation that lets you do that in JMix?\nI know that Jmix is built ontop of Spring. Is there maybe a way with Spring config or anntotations?</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","sftp","javac"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681785607,"post_id":76040639,"comment_id":134109359,"body_markdown":"*Connected with server* - works for me. If you add the classpath to `java SftpExample`","body":"<i>Connected with server</i> - works for me. If you add the classpath to <code>java SftpExample</code>"},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1681785831,"post_id":76040639,"comment_id":134109385,"body_markdown":"@ScaryWombat could you please write the command","body":"@ScaryWombat could you please write the command"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681785886,"post_id":76040639,"comment_id":134109391,"body_markdown":"No.  With respect, part of being a programmer is to know how to search for such things.","body":"No.  With respect, part of being a programmer is to know how to search for such things."},{"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"score":0,"creation_date":1681790385,"post_id":76040639,"comment_id":134109796,"body_markdown":"set CLASSPATH=%Path%;C:\\Users\\dhs\\Desktop\\javacode\\jsch-0.1.55.jar;   this work for me","body":"set CLASSPATH=%Path%;C:\\Users\\dhs\\Desktop\\javacode\\jsch-0.1.55.j&zwnj;&#8203;ar;   this work for me"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681790644,"post_id":76040639,"comment_id":134109817,"body_markdown":"awesome.  Didn&#39;t need me after all.","body":"awesome.  Didn&#39;t need me after all."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681821218,"post_id":76040639,"comment_id":134115472,"body_markdown":"Including the PATH in CLASSPATH is not correct. In any case, the better solution would be to specify the classpath also when running `java` (i.e. `java -cp .;jsch-0.1.55.jar SftpExample`), because setting CLASSPATH can have issues when you&#39;re running multiple Java applications with incompatible classpaths.","body":"Including the PATH in CLASSPATH is not correct. In any case, the better solution would be to specify the classpath also when running <code>java</code> (i.e. <code>java -cp .;jsch-0.1.55.jar SftpExample</code>), because setting CLASSPATH can have issues when you&#39;re running multiple Java applications with incompatible classpaths."}],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681821092,"answer_count":0,"score":0,"last_activity_date":1681821311,"creation_date":1681785013,"question_id":76040639,"body_markdown":"I am working on an Sftp connection where the code is \r\n\r\n```java\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.Session;\r\n  \r\npublic class SftpExample {\r\n    public static void main(String[] args) {\r\n        String host = &quot;ABCDAWSFTP01&quot;;\r\n        String user = &quot;jira2timesheet&quot;;\r\n        String password = &quot;pass&quot;;\r\n        int port = 22;\r\n          \r\n        try {\r\n            JSch jsch = new JSch();\r\n            Session session = jsch.getSession(user, host, port);\r\n            session.setPassword(password);\r\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.connect();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Connected with server&quot;);\r\n              \r\n            // Perform SFTP operations here\r\n           \r\n            session.disconnect();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBy adding the jar jsch-0.1.55.jar and running the following commands, I get the following response \r\n\r\n```none\r\n&gt;C:\\Users\\dhs\\Desktop\\javacode&gt;javac -cp jsch-0.1.55.jar SftpExample.java\r\n\r\n&gt;C:\\Users\\dhs\\Desktop\\javacode&gt;java SftpExample\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch\r\n        at SftpExample.main(SftpExample.java:12)\r\nCaused by: java.lang.ClassNotFoundException: com.jcraft.jsch.JSch\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n```\r\n\r\nI&#39;m unable to understand the exception. Can someone please guide me?","title":"Sftp connection ClassNotFoundException","body":"<p>I am working on an Sftp connection where the code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n  \npublic class SftpExample {\n    public static void main(String[] args) {\n        String host = &quot;ABCDAWSFTP01&quot;;\n        String user = &quot;jira2timesheet&quot;;\n        String password = &quot;pass&quot;;\n        int port = 22;\n          \n        try {\n            JSch jsch = new JSch();\n            Session session = jsch.getSession(user, host, port);\n            session.setPassword(password);\n            session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n            session.connect();\n            \n            System.out.println(&quot;Connected with server&quot;);\n              \n            // Perform SFTP operations here\n           \n            session.disconnect();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>By adding the jar jsch-0.1.55.jar and running the following commands, I get the following response</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;C:\\Users\\dhs\\Desktop\\javacode&gt;javac -cp jsch-0.1.55.jar SftpExample.java\n\n&gt;C:\\Users\\dhs\\Desktop\\javacode&gt;java SftpExample\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch\n        at SftpExample.main(SftpExample.java:12)\nCaused by: java.lang.ClassNotFoundException: com.jcraft.jsch.JSch\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>I'm unable to understand the exception. Can someone please guide me?</p>\n"},{"tags":["java","performance","concurrency","queue","batch-processing"],"answers":[{"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1681850832,"post_id":76044687,"comment_id":134122887,"body_markdown":"`LinkedTransferQueue` also implements this interface and is not lock based. JCTools also offers its own non-blocking queues with a `drainTo(Consumer&lt;E&gt;)` option which may be a good fit.","body":"<code>LinkedTransferQueue</code> also implements this interface and is not lock based. JCTools also offers its own non-blocking queues with a <code>drainTo(Consumer&lt;E&gt;)</code> option which may be a good fit."},{"owner":{"account_id":7207750,"reputation":1,"user_id":5502845,"display_name":"Karthik A.K"},"score":0,"creation_date":1682552375,"post_id":76044687,"comment_id":134235943,"body_markdown":"Didn&#39;t got with the queue. Used Executors to split the records into batches of 1000 and used jdbc batch update to insert the records.","body":"Didn&#39;t got with the queue. Used Executors to split the records into batches of 1000 and used jdbc batch update to insert the records."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681821300,"creation_date":1681821300,"answer_id":76044687,"question_id":76044266,"body_markdown":"Well the javadocs for the `BlockingQueue` state that it is thread-safe.  The javadocs for `drainTo` on `LinkedBlockingQueue` javadoc says this:\r\n\r\n&gt; [T]he behavior of this operation is **undefined** if the specified collection is modified while the operation is in progress.\r\n\r\nHowever, that caveat applies to the collection you are draining the to rather than the queue itself.\r\n\r\nSo, assuming that the `Collection` you are draining to is *thread confined*, it is safe to use `drainTo`.\r\n\r\nHowever ... `drainTo` is a method on `LinkedBlockingQueue` rather than `ConcurrentLinkedQueue`.  And there is a clue in the respective class names.  The `LinkedBlockingQueue` class is NOT a concurrent queue.  Calling `drainTo` will **lock** the queue&lt;sup&gt;1&lt;/sup&gt; for the duration of the operation, and that will block any other thread that is attempting to add elements to the queue.  If you are draining up to 1000 elements at a time, the blocking time *could* be significant.\r\n\r\nSo your choices are:\r\n\r\n  - Use `LinkedBlockingQueue` and `drainTo` ... if you don&#39;t require concurrency; i.e. if blocking of producer threads is OK.\r\n  - Use `ConcurrentLinkedQueue` and a loop that calls `poll()` up to 1000 times if you require the queue to be concurrent.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This is what the Java 17 implementation does, and I expect it will be the same for earlier versions.&lt;/sup&gt;","title":"Non blocking queue that allows to poll in batches","body":"<p>Well the javadocs for the <code>BlockingQueue</code> state that it is thread-safe.  The javadocs for <code>drainTo</code> on <code>LinkedBlockingQueue</code> javadoc says this:</p>\n<blockquote>\n<p>[T]he behavior of this operation is <strong>undefined</strong> if the specified collection is modified while the operation is in progress.</p>\n</blockquote>\n<p>However, that caveat applies to the collection you are draining the to rather than the queue itself.</p>\n<p>So, assuming that the <code>Collection</code> you are draining to is <em>thread confined</em>, it is safe to use <code>drainTo</code>.</p>\n<p>However ... <code>drainTo</code> is a method on <code>LinkedBlockingQueue</code> rather than <code>ConcurrentLinkedQueue</code>.  And there is a clue in the respective class names.  The <code>LinkedBlockingQueue</code> class is NOT a concurrent queue.  Calling <code>drainTo</code> will <strong>lock</strong> the queue<sup>1</sup> for the duration of the operation, and that will block any other thread that is attempting to add elements to the queue.  If you are draining up to 1000 elements at a time, the blocking time <em>could</em> be significant.</p>\n<p>So your choices are:</p>\n<ul>\n<li>Use <code>LinkedBlockingQueue</code> and <code>drainTo</code> ... if you don't require concurrency; i.e. if blocking of producer threads is OK.</li>\n<li>Use <code>ConcurrentLinkedQueue</code> and a loop that calls <code>poll()</code> up to 1000 times if you require the queue to be concurrent.</li>\n</ul>\n<hr />\n<p><sup>1 - This is what the Java 17 implementation does, and I expect it will be the same for earlier versions.</sup></p>\n"}],"owner":{"account_id":7207750,"reputation":1,"user_id":5502845,"display_name":"Karthik A.K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681821300,"creation_date":1681818792,"question_id":76044266,"body_markdown":"I have a requirement where millions of records I receive in a stream needs to be stored in database.\r\n\r\n\r\nI was thinking of using ConcurrentLinkedQueue(CLQ) to put all the data I receive and use a consumer which would poll in batches of 1000 and use batch update to store in DB.\r\nThe issue I see using CLQ is that we can’t poll in batches.\r\n\r\nI&#39;m not confident of using the drainto method as its not clear whether its safe to use or not.\r\n\r\nWhat options do I have?","title":"Non blocking queue that allows to poll in batches","body":"<p>I have a requirement where millions of records I receive in a stream needs to be stored in database.</p>\n<p>I was thinking of using ConcurrentLinkedQueue(CLQ) to put all the data I receive and use a consumer which would poll in batches of 1000 and use batch update to store in DB.\nThe issue I see using CLQ is that we can’t poll in batches.</p>\n<p>I'm not confident of using the drainto method as its not clear whether its safe to use or not.</p>\n<p>What options do I have?</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":9087509,"reputation":138,"user_id":6764869,"display_name":"ahmad faraz"},"score":0,"creation_date":1474472854,"post_id":39620871,"comment_id":66547947,"body_markdown":"Yeah i saw that but these font size are fix . I want it variable . Size of each row can change any time","body":"Yeah i saw that but these font size are fix . I want it variable . Size of each row can change any time"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1474473692,"post_id":39620871,"comment_id":66548506,"body_markdown":"@ahmad faraz I edited the question let me know if it works for you.","body":"@ahmad faraz I edited the question let me know if it works for you."}],"tags":[],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1474473672,"creation_date":1474472040,"answer_id":39620871,"question_id":39620548,"body_markdown":"&gt; A similar question is here:\r\n\r\nhttps://stackoverflow.com/questions/3117086/how-to-change-the-font-size-in-listview-in-javafx\r\n\r\nAlso you can play with the `.css` below:\r\n\r\n    .list-cell:filled:selected:focused, .list-cell:filled:selected {\r\n        -fx-background-color: linear-gradient(#328BDB 0.0%, #207BCF 25.0%, #1973C9 75.0%, #0A65BF 100.0%);\r\n        -fx-text-fill: white;\r\n    }\r\n    \r\n    .list-cell{\r\n    \t-fx-font-size:15.0;\r\n    }\r\n    \r\n    .list-cell:even { /* &lt;=== changed to even */\r\n        -fx-background-color: white;\r\n    }\r\n    \r\n    .list-cell:filled:hover {\r\n        -fx-background-color: #0093ff;\r\n        -fx-text-fill: white;\r\n    }\r\n\r\n&gt; How to use external css in JavaFX?\r\n\r\nhttps://stackoverflow.com/questions/22066799/how-to-use-external-css-file-to-style-a-javafx-application\r\n\r\n&gt; How to programmatically change the size of text?:\r\n\r\n**Before Java8:**\r\n\r\n    listView.setCellFactory(new Callback&lt;ListView&lt;String&gt;, ListCell&lt;String&gt;&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic ListCell&lt;String&gt; call(ListView&lt;String&gt; p) {\r\n    \t\t\t\treturn new ListCell&lt;String&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected void updateItem(String item, boolean empty) {\r\n    \t\t\t\t\t\tsuper.updateItem(item, empty);\r\n    \t\t\t\t\t\tif (item != null) {\r\n    \t\t\t\t\t\t\tsetText(item);\r\n    \r\n    \t\t\t\t\t\t\t// decide to add a new styleClass\r\n    \t\t\t\t\t\t\t// getStyleClass().add(&quot;costume style&quot;);\r\n    \t\t\t\t\t\t\t// decide the new font size\r\n    \t\t\t\t\t\t\tsetFont(Font.font(16));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n **With lambda expressions:**\r\n\r\n    listView.setCellFactory(cell -&gt; {\r\n    \t\t\treturn new ListCell&lt;String&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tprotected void updateItem(String item, boolean empty) {\r\n    \t\t\t\t\tsuper.updateItem(item, empty);\r\n    \t\t\t\t\tif (item != null) {\r\n    \t\t\t\t\t\tsetText(item);\r\n    \r\n    \t\t\t\t\t\t// decide to add a new styleClass\r\n    \t\t\t\t\t\t// getStyleClass().add(&quot;costume style&quot;);\r\n    \t\t\t\t\t\t// decide the new font size\r\n    \t\t\t\t\t\tsetFont(Font.font(16));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t});","title":"Change ListView font size in JavaFX","body":"<blockquote>\n  <p>A similar question is here:</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/3117086/how-to-change-the-font-size-in-listview-in-javafx\">How to change the font size in ListView in JavaFX?</a></p>\n\n<p>Also you can play with the <code>.css</code> below:</p>\n\n<pre><code>.list-cell:filled:selected:focused, .list-cell:filled:selected {\n    -fx-background-color: linear-gradient(#328BDB 0.0%, #207BCF 25.0%, #1973C9 75.0%, #0A65BF 100.0%);\n    -fx-text-fill: white;\n}\n\n.list-cell{\n    -fx-font-size:15.0;\n}\n\n.list-cell:even { /* &lt;=== changed to even */\n    -fx-background-color: white;\n}\n\n.list-cell:filled:hover {\n    -fx-background-color: #0093ff;\n    -fx-text-fill: white;\n}\n</code></pre>\n\n<blockquote>\n  <p>How to use external css in JavaFX?</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/22066799/how-to-use-external-css-file-to-style-a-javafx-application\">How to use external css file to style a javafx application</a></p>\n\n<blockquote>\n  <p>How to programmatically change the size of text?:</p>\n</blockquote>\n\n<p><strong>Before Java8:</strong></p>\n\n<pre><code>listView.setCellFactory(new Callback&lt;ListView&lt;String&gt;, ListCell&lt;String&gt;&gt;() {\n            @Override\n            public ListCell&lt;String&gt; call(ListView&lt;String&gt; p) {\n                return new ListCell&lt;String&gt;() {\n                    @Override\n                    protected void updateItem(String item, boolean empty) {\n                        super.updateItem(item, empty);\n                        if (item != null) {\n                            setText(item);\n\n                            // decide to add a new styleClass\n                            // getStyleClass().add(\"costume style\");\n                            // decide the new font size\n                            setFont(Font.font(16));\n                        }\n                    }\n                };\n            }\n        });\n</code></pre>\n\n<p><strong>With lambda expressions:</strong></p>\n\n<pre><code>listView.setCellFactory(cell -&gt; {\n            return new ListCell&lt;String&gt;() {\n                @Override\n                protected void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (item != null) {\n                        setText(item);\n\n                        // decide to add a new styleClass\n                        // getStyleClass().add(\"costume style\");\n                        // decide the new font size\n                        setFont(Font.font(16));\n                    }\n                }\n            };\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1474473422,"post_id":39620921,"comment_id":66548323,"body_markdown":"@ahmadfaraz  Strings are not a javafx object. I would use Label to represent a String","body":"@ahmadfaraz  Strings are not a javafx object. I would use Label to represent a String"}],"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474472135,"creation_date":1474472135,"answer_id":39620921,"question_id":39620548,"body_markdown":"In javaFx you can use css to style different objects. It depends on the object in your list view but it would go something like this. \r\n\r\n    ListView&lt;Hyperlink&gt; listview = ..\r\n               \r\n                ObservableList&lt;Hyperlink&gt; lists = listview.getItems();\r\n                \r\n                for(Hyperlink link:lists)\r\n                {\r\n                    link.setStyle(&quot;-fx-background-color:#ffffff&quot;);\r\n                }","title":"Change ListView font size in JavaFX","body":"<p>In javaFx you can use css to style different objects. It depends on the object in your list view but it would go something like this. </p>\n\n<pre><code>ListView&lt;Hyperlink&gt; listview = ..\n\n            ObservableList&lt;Hyperlink&gt; lists = listview.getItems();\n\n            for(Hyperlink link:lists)\n            {\n                link.setStyle(\"-fx-background-color:#ffffff\");\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474475091,"creation_date":1474474154,"answer_id":39621562,"question_id":39620548,"body_markdown":"Store text and text size in a item class\r\n\r\n    public class SizedText {\r\n        \r\n        private final int textSize;\r\n        private final String text;\r\n\r\n        public SizedText(int textSize, String text) {\r\n            this.textSize = textSize;\r\n            this.text = text;\r\n        }\r\n\r\n        public int getTextSize() {\r\n            return textSize;\r\n        }\r\n\r\n        public String getText() {\r\n            return text;\r\n        }\r\n    }\r\n\r\nAnd use a `cellFactory` that returns `ListCell`s that set the text size according to the item data in the `updateItem` method.\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        ListView&lt;SizedText&gt; list = new ListView&lt;&gt;(FXCollections.observableArrayList(\r\n                new SizedText(10, &quot;10&quot;),\r\n                new SizedText(15, &quot;15&quot;),\r\n                new SizedText(20, &quot;20&quot;),\r\n                new SizedText(25, &quot;25&quot;),\r\n                new SizedText(30, &quot;30&quot;),\r\n                new SizedText(35, &quot;35&quot;),\r\n                new SizedText(40, &quot;40&quot;),\r\n                new SizedText(50, &quot;50&quot;),\r\n                new SizedText(60, &quot;60&quot;)\r\n        ));\r\n        \r\n        list.setCellFactory(l -&gt; new ListCell&lt;SizedText&gt;() {\r\n            \r\n            @Override\r\n            protected void updateItem(SizedText item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                \r\n                if (empty || item == null) {\r\n                    setText(null);\r\n                } else {\r\n                    setText(item.getText());\r\n                    setFont(Font.font(item.getTextSize()));\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n        Scene scene = new Scene(list);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }","title":"Change ListView font size in JavaFX","body":"<p>Store text and text size in a item class</p>\n\n<pre><code>public class SizedText {\n\n    private final int textSize;\n    private final String text;\n\n    public SizedText(int textSize, String text) {\n        this.textSize = textSize;\n        this.text = text;\n    }\n\n    public int getTextSize() {\n        return textSize;\n    }\n\n    public String getText() {\n        return text;\n    }\n}\n</code></pre>\n\n<p>And use a <code>cellFactory</code> that returns <code>ListCell</code>s that set the text size according to the item data in the <code>updateItem</code> method.</p>\n\n<pre><code>@Override\npublic void start(Stage primaryStage) {\n    ListView&lt;SizedText&gt; list = new ListView&lt;&gt;(FXCollections.observableArrayList(\n            new SizedText(10, \"10\"),\n            new SizedText(15, \"15\"),\n            new SizedText(20, \"20\"),\n            new SizedText(25, \"25\"),\n            new SizedText(30, \"30\"),\n            new SizedText(35, \"35\"),\n            new SizedText(40, \"40\"),\n            new SizedText(50, \"50\"),\n            new SizedText(60, \"60\")\n    ));\n\n    list.setCellFactory(l -&gt; new ListCell&lt;SizedText&gt;() {\n\n        @Override\n        protected void updateItem(SizedText item, boolean empty) {\n            super.updateItem(item, empty);\n\n            if (empty || item == null) {\n                setText(null);\n            } else {\n                setText(item.getText());\n                setFont(Font.font(item.getTextSize()));\n            }\n        }\n\n    });\n\n    Scene scene = new Scene(list);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681821270,"creation_date":1681820777,"answer_id":76044591,"question_id":39620548,"body_markdown":"For anyone struggling to make sense of fabians example above, I thought it would help to break it down and show it in a simpler context. It works quite well and lets you set the font programmatically instead of needing to use CSS.\r\n\r\n    ListView&lt;String&gt; listView = new ListView&lt;&gt;();\r\n\r\n    listView.setCellFactory(l-&gt;new ListCell&lt;String&gt;() {\r\n    \tprotected void updateItem(String item, boolean empty) {\r\n    \t\tsuper.updateItem(item, empty);\r\n    \r\n    \t\tif(empty || item == null) {\r\n    \t\t\tsetText(null);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsetText(item.toString());\r\n    \t\t\tsetFont(Fonts.Monaco(15));\r\n            }\r\n    \t}\r\n    });\r\n\r\nYou can do this with any class you want, as long as it has a method for getting a String from it that will end up in the cell via the setText method. Like for example, if you make your own class, then just write an Override method for toString() and make sure that method spits out the test you need to show up in the list. Everywhere you see String in this example, if you use another class make sure that class is declared in all of those three spots.\r\n\r\nOnce you set the cell factory you can add or remove from the ListView as much as you want and it just works.\r\n\r\nIn this example, the Fonts class is my own that I made that lets me easily gain access to different fonts, but you could just as easily use `javafx.scene.text.Font.loadFont()`.\r\n\r\nSo if I wanted to use a custom class \r\n\r\n\r\n    class MyClass {\r\n    \tpublic MyClass(String text, int num) {\r\n    \t\tthis.text = text;\r\n    \t\tthis.num  = num;\r\n    \t}\r\n    \r\n    \tprivate final String text;\r\n    \tprivate final int    num;\r\n    \r\n    \tpublic String getMyText() {\r\n    \t\treturn text;\r\n    \t}\r\n    }\r\n\r\nI could implement it into the ListView like this:\r\n\r\n    class SomeClass {\r\n    \tpublic static void makeListView() {\r\n    \t\tListView&lt;MyClass&gt; list = new ListView();\r\n    \t\tlistView.setCellFactory(l-&gt;new ListCell&lt;MyClass&gt;() {\r\n    \t\t\tprotected void updateItem(MyClass item, boolean empty) {\r\n    \t\t\t\tsuper.updateItem(item, empty);\r\n    \t\t\t\tif(empty || item == null) {\r\n    \t\t\t\t\tsetText(null);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tsetText(item.getMyText());\r\n    \t\t\t\t\tsetFont(Font.loadFont(&quot;Courier New&quot;,15));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nFrom there, you could drop as many instantiations of MyClasss into the list as you need and it will be added using the font you spec in \r\n the setFont() method.\r\n","title":"Change ListView font size in JavaFX","body":"<p>For anyone struggling to make sense of fabians example above, I thought it would help to break it down and show it in a simpler context. It works quite well and lets you set the font programmatically instead of needing to use CSS.</p>\n<pre><code>ListView&lt;String&gt; listView = new ListView&lt;&gt;();\n\nlistView.setCellFactory(l-&gt;new ListCell&lt;String&gt;() {\n    protected void updateItem(String item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if(empty || item == null) {\n            setText(null);\n        }\n        else {\n            setText(item.toString());\n            setFont(Fonts.Monaco(15));\n        }\n    }\n});\n</code></pre>\n<p>You can do this with any class you want, as long as it has a method for getting a String from it that will end up in the cell via the setText method. Like for example, if you make your own class, then just write an Override method for toString() and make sure that method spits out the test you need to show up in the list. Everywhere you see String in this example, if you use another class make sure that class is declared in all of those three spots.</p>\n<p>Once you set the cell factory you can add or remove from the ListView as much as you want and it just works.</p>\n<p>In this example, the Fonts class is my own that I made that lets me easily gain access to different fonts, but you could just as easily use <code>javafx.scene.text.Font.loadFont()</code>.</p>\n<p>So if I wanted to use a custom class</p>\n<pre><code>class MyClass {\n    public MyClass(String text, int num) {\n        this.text = text;\n        this.num  = num;\n    }\n\n    private final String text;\n    private final int    num;\n\n    public String getMyText() {\n        return text;\n    }\n}\n</code></pre>\n<p>I could implement it into the ListView like this:</p>\n<pre><code>class SomeClass {\n    public static void makeListView() {\n        ListView&lt;MyClass&gt; list = new ListView();\n        listView.setCellFactory(l-&gt;new ListCell&lt;MyClass&gt;() {\n            protected void updateItem(MyClass item, boolean empty) {\n                super.updateItem(item, empty);\n                if(empty || item == null) {\n                    setText(null);\n                }\n                else {\n                    setText(item.getMyText());\n                    setFont(Font.loadFont(&quot;Courier New&quot;,15));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>From there, you could drop as many instantiations of MyClasss into the list as you need and it will be added using the font you spec in\nthe setFont() method.</p>\n"}],"owner":{"account_id":9087509,"reputation":138,"user_id":6764869,"display_name":"ahmad faraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8531,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39620871,"answer_count":4,"score":3,"last_activity_date":1681821270,"creation_date":1474471145,"question_id":39620548,"body_markdown":"I want to know how can I change the list view items text font size in JavaFx. The size of each row text will vary . I tried using cell factor property but i don&#39;t know how to use it. Can anybody help me here ?\r\n","title":"Change ListView font size in JavaFX","body":"<p>I want to know how can I change the list view items text font size in JavaFx. The size of each row text will vary . I tried using cell factor property but i don't know how to use it. Can anybody help me here ?</p>\n"},{"tags":["java","oracle","exception","jdbc","executequery"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1681376631,"post_id":76002751,"comment_id":134047387,"body_markdown":"Why are you using ojdbc6? AFAIK, Oracle hasn&#39;t released drivers for Java 6 in some time, which means it is probably a pretty old driver. Use a newer version of the driver. Also, please post a [mre].","body":"Why are you using ojdbc6? AFAIK, Oracle hasn&#39;t released drivers for Java 6 in some time, which means it is probably a pretty old driver. Use a newer version of the driver. Also, please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":1,"creation_date":1681387725,"post_id":76002751,"comment_id":134050077,"body_markdown":"Honesty I&#39;d not waste much time with problem like this. ojdbc is intended for Java 1.8. You should use ojdbc8 with JDK 1.8. Also I have doubts about compatibility of any version of ojdb6 with Oracle 19c. The span is too big. Check here https://stackoverflow.com/a/56531594/836215 , &quot;execute&quot; the driver and you will see for which database version this driver is intended.","body":"Honesty I&#39;d not waste much time with problem like this. ojdbc is intended for Java 1.8. You should use ojdbc8 with JDK 1.8. Also I have doubts about compatibility of any version of ojdb6 with Oracle 19c. The span is too big. Check here <a href=\"https://stackoverflow.com/a/56531594/836215\">stackoverflow.com/a/56531594/836215</a> , &quot;execute&quot; the driver and you will see for which database version this driver is intended."}],"answers":[{"tags":[],"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681389502,"creation_date":1681389502,"answer_id":76005526,"question_id":76002751,"body_markdown":"Thank you both @Mark Rotteveel and @ibre5041 for your response.\r\n\r\nAs per [What are the Oracle JDBC releases Vs JDK versions?]\r\nhttps://www.oracle.com/in/database/technologies/faq-jdbc.html\r\n\r\nThe combination 19C database, java 1.8 and ojdbc6.jar is not compatible. \r\n\r\n&gt; The Oracle JDBC driver is always compliant to the latest JDK version\r\n&gt; in each of the new releases. In some versions, JDBC drivers support\r\n&gt; multiple JDK versions. Use the table below to choose the correct JDBC\r\n&gt; driver based on your preferred JDK version.\r\n\r\n**Oracle Database version**                       \r\n=======================                       \r\n 19.x\r\n\r\n**JDBC Jar files specific to the release** \r\n======================================\r\n\r\n - JDBC 4.3 in ojdbc10.jar \r\n - JDBC 4.2 in ojdbc8.jar\r\n\r\nAfter using ojdbc8.jar instead of ojdbc6.jar both query execution approaches working fine.\r\n","title":"Oracle 19c upgrade: JDBC error java.sql.SQLRecoverableException: Closed Connection","body":"<p>Thank you both @Mark Rotteveel and @ibre5041 for your response.</p>\n<p>As per [What are the Oracle JDBC releases Vs JDK versions?]\n<a href=\"https://www.oracle.com/in/database/technologies/faq-jdbc.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/database/technologies/faq-jdbc.html</a></p>\n<p>The combination 19C database, java 1.8 and ojdbc6.jar is not compatible.</p>\n<blockquote>\n<p>The Oracle JDBC driver is always compliant to the latest JDK version\nin each of the new releases. In some versions, JDBC drivers support\nmultiple JDK versions. Use the table below to choose the correct JDBC\ndriver based on your preferred JDK version.</p>\n</blockquote>\n<h1><strong>Oracle Database version</strong></h1>\n<p>19.x</p>\n<h1><strong>JDBC Jar files specific to the release</strong></h1>\n<ul>\n<li>JDBC 4.3 in ojdbc10.jar</li>\n<li>JDBC 4.2 in ojdbc8.jar</li>\n</ul>\n<p>After using ojdbc8.jar instead of ojdbc6.jar both query execution approaches working fine.</p>\n"}],"owner":{"account_id":10706418,"reputation":675,"user_id":7880079,"display_name":"Kousik Mandal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681821239,"creation_date":1681370992,"question_id":76002751,"body_markdown":"We have recently upgraded Oracle database from 11g release2 to 19c. \r\n\r\nNow we have Oracle 19c database server, JDK 1.8 and ojdbc6.jar combination.\r\n\r\nWe have some java code to create JDBC Statement object with scrollable and concurrent read only ResultSet feature. With the mentioned combination JDBC query execution is failing with following error\r\n\r\nApproach1:\r\n\r\n    Statement statement = connection.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_READ_ONLY);\t\t\t\t\t\r\n    ResultSet resultSet = statement.executeQuery(query);\r\n\r\nPost upgrade statement.executeQuery() method is throwing following Exception\r\n\r\n    java.sql.SQLRecoverableException: Closed Connection\r\n            at oracle.jdbc.driver.OracleStatement.ensureOpen(OracleStatement.java:4477)\r\n            at oracle.jdbc.driver.OracleStatement.clearWarnings(OracleStatement.java:3430)\r\n            at oracle.jdbc.driver.OracleStatement.prepareForNewResults(OracleStatement.java:3946)\r\n            at oracle.jdbc.driver.OracleStatement.doScrollExecuteCommon(OracleStatement.java:5246)\r\n            at oracle.jdbc.driver.OracleStatement.doScrollStmtExecuteQuery(OracleStatement.java:5302)\r\n            at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1325)\r\n            at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:422)\r\n            at JDBCConnectionUtilDebug.getQueryOutput(JDBCConnectionUtilDebug.java:294)\r\n\r\n\r\nBut if I run same sql query using following approach, then it works fine\r\n\r\nApproach2:\r\n\r\n     Statement stat = connection.createStatement();\r\n     boolean ret = stat.execute(query&quot;);\r\n     if (ret) {\r\n     ResultSet rs = stat.getResultSet();\r\n\r\nAny help/pointer why Approach1 is failing but Approach2 is working?","title":"Oracle 19c upgrade: JDBC error java.sql.SQLRecoverableException: Closed Connection","body":"<p>We have recently upgraded Oracle database from 11g release2 to 19c.</p>\n<p>Now we have Oracle 19c database server, JDK 1.8 and ojdbc6.jar combination.</p>\n<p>We have some java code to create JDBC Statement object with scrollable and concurrent read only ResultSet feature. With the mentioned combination JDBC query execution is failing with following error</p>\n<p>Approach1:</p>\n<pre><code>Statement statement = connection.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_READ_ONLY);                   \nResultSet resultSet = statement.executeQuery(query);\n</code></pre>\n<p>Post upgrade statement.executeQuery() method is throwing following Exception</p>\n<pre><code>java.sql.SQLRecoverableException: Closed Connection\n        at oracle.jdbc.driver.OracleStatement.ensureOpen(OracleStatement.java:4477)\n        at oracle.jdbc.driver.OracleStatement.clearWarnings(OracleStatement.java:3430)\n        at oracle.jdbc.driver.OracleStatement.prepareForNewResults(OracleStatement.java:3946)\n        at oracle.jdbc.driver.OracleStatement.doScrollExecuteCommon(OracleStatement.java:5246)\n        at oracle.jdbc.driver.OracleStatement.doScrollStmtExecuteQuery(OracleStatement.java:5302)\n        at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1325)\n        at oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleStatementWrapper.java:422)\n        at JDBCConnectionUtilDebug.getQueryOutput(JDBCConnectionUtilDebug.java:294)\n</code></pre>\n<p>But if I run same sql query using following approach, then it works fine</p>\n<p>Approach2:</p>\n<pre><code> Statement stat = connection.createStatement();\n boolean ret = stat.execute(query&quot;);\n if (ret) {\n ResultSet rs = stat.getResultSet();\n</code></pre>\n<p>Any help/pointer why Approach1 is failing but Approach2 is working?</p>\n"},{"tags":["java","spring-boot","resilience4j","resilience4j-retry"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1681816729,"post_id":76043588,"comment_id":134114296,"body_markdown":"As per 1st snap code you are calling direct service due to this retry seems to be ignored, to execute can&#39;t we use get() function to execute retry like Retry.decorateCheckedSupplier(retry, myService::bar).get();","body":"As per 1st snap code you are calling direct service due to this retry seems to be ignored, to execute can&#39;t we use get() function to execute retry like Retry.decorateCheckedSupplier(retry, myService::bar).get();"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1681821178,"post_id":76043846,"comment_id":134115464,"body_markdown":"Based on information I&#39;ve read functiona style is more flexible. What if I want to have cicuite breaker over retry for endpoint#1 and retry over cicuite breaker fpr endpoint#2 ? looks like spring boot config doesn&#39;t support it","body":"Based on information I&#39;ve read functiona style is more flexible. What if I want to have cicuite breaker over retry for endpoint#1 and retry over cicuite breaker fpr endpoint#2 ? looks like spring boot config doesn&#39;t support it"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681816209,"creation_date":1681816209,"answer_id":76043846,"question_id":76043588,"body_markdown":"Since you use Spring Boot, there is no need for manual configuring of `RetryConfig`, the `RetryRegistry ` registry, etc. All the configuration is handled by the framework as you define entries only in `application.yml`.\r\n\r\n```yml\r\nresilience4j:\r\n  retry:\r\n    instances:\r\n      retry-bar:              # custom backend instance name definition\r\n        maxRetryAttempts: 5\r\n        waitDuration: 100ms\r\n```\r\nIf you don&#39;t do it and you want to stick with `RetryConfig` and other configuration classes, you have to define them all as `@Bean` in the `@Configuration` class and make sure they are component-scanned by Spring.\r\n\r\n____\r\n\r\nTo apply the retry configuration, annotate the method `bar` with the `@Retry` annotation to suggest the method should be decorated with the retry mechanism:\r\n\r\n```java\r\n@Retry(&quot;retry-bar&quot;)\r\npublic String bar() throws InterruptedException {\r\n    log.error(&quot;Bar is called&quot;);\r\n    Thread.sleep(3000);\r\n    if (true) {\r\n        throw new RuntimeException(&quot;bar exception&quot;);\r\n    }\r\n    return &quot;Success&quot;;\r\n}\r\n```\r\n\r\nReference:\r\n- Resilience4j &amp; Spring Boot integration: https://resilience4j.readme.io/docs/getting-started-3\r\n- Refactoring article: https://reflectoring.io/retry-with-springboot-resilience4j\r\n","title":"Why Retry is not triggered when I use resilience4j functional configuration?","body":"<p>Since you use Spring Boot, there is no need for manual configuring of <code>RetryConfig</code>, the <code>RetryRegistry </code> registry, etc. All the configuration is handled by the framework as you define entries only in <code>application.yml</code>.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resilience4j:\n  retry:\n    instances:\n      retry-bar:              # custom backend instance name definition\n        maxRetryAttempts: 5\n        waitDuration: 100ms\n</code></pre>\n<p>If you don't do it and you want to stick with <code>RetryConfig</code> and other configuration classes, you have to define them all as <code>@Bean</code> in the <code>@Configuration</code> class and make sure they are component-scanned by Spring.</p>\n<hr />\n<p>To apply the retry configuration, annotate the method <code>bar</code> with the <code>@Retry</code> annotation to suggest the method should be decorated with the retry mechanism:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retry(&quot;retry-bar&quot;)\npublic String bar() throws InterruptedException {\n    log.error(&quot;Bar is called&quot;);\n    Thread.sleep(3000);\n    if (true) {\n        throw new RuntimeException(&quot;bar exception&quot;);\n    }\n    return &quot;Success&quot;;\n}\n</code></pre>\n<p>Reference:</p>\n<ul>\n<li>Resilience4j &amp; Spring Boot integration: <a href=\"https://resilience4j.readme.io/docs/getting-started-3\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/getting-started-3</a></li>\n<li>Refactoring article: <a href=\"https://reflectoring.io/retry-with-springboot-resilience4j\" rel=\"nofollow noreferrer\">https://reflectoring.io/retry-with-springboot-resilience4j</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681821105,"creation_date":1681821105,"answer_id":76044655,"question_id":76043588,"body_markdown":"The issue was that I had to use decorator instead of raw function.\r\nCorrect implemtation is:\r\n\r\n    CheckedFunction0&lt;String&gt; decoratedFunction = Retry.decorateCheckedSupplier(retry, myService::bar);\r\n    decoratedFunction.apply();","title":"Why Retry is not triggered when I use resilience4j functional configuration?","body":"<p>The issue was that I had to use decorator instead of raw function.\nCorrect implemtation is:</p>\n<pre><code>CheckedFunction0&lt;String&gt; decoratedFunction = Retry.decorateCheckedSupplier(retry, myService::bar);\ndecoratedFunction.apply();\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76044655,"answer_count":2,"score":1,"last_activity_date":1681821105,"creation_date":1681814346,"question_id":76043588,"body_markdown":"I had successful experiments with spring boot configuration for resillence4j but I want to try functional configuration.\r\n\r\nSo I have implemented following code:\r\n\r\n        RetryConfig config = RetryConfig.custom()\r\n                .maxAttempts(6)\r\n                .waitDuration(Duration.ofMillis(100))\r\n                .build();\r\n\r\n        RetryRegistry registry = RetryRegistry.of(config);\r\n\r\n        Retry retry = registry.retry(&quot;name1&quot;);\r\n        Retry.decorateCheckedSupplier(retry, myService::bar);\r\n\r\n        myService.bar();\r\n\r\n----------\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class MyService {\r\n        public String bar() throws InterruptedException {\r\n            log.error(&quot;Bar is called&quot;);\r\n            Thread.sleep(3000);\r\n            if (true) {\r\n                throw new RuntimeException(&quot;bar exception&quot;);\r\n            }\r\n            return &quot;Success&quot;;\r\n        }\r\n    }\r\n\r\nWhen I start the application I see **single** error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: bar exception\r\n\r\nWhy retry was not triggered ?","title":"Why Retry is not triggered when I use resilience4j functional configuration?","body":"<p>I had successful experiments with spring boot configuration for resillence4j but I want to try functional configuration.</p>\n<p>So I have implemented following code:</p>\n<pre><code>    RetryConfig config = RetryConfig.custom()\n            .maxAttempts(6)\n            .waitDuration(Duration.ofMillis(100))\n            .build();\n\n    RetryRegistry registry = RetryRegistry.of(config);\n\n    Retry retry = registry.retry(&quot;name1&quot;);\n    Retry.decorateCheckedSupplier(retry, myService::bar);\n\n    myService.bar();\n</code></pre>\n<hr />\n<pre><code>@Service\n@Slf4j\npublic class MyService {\n    public String bar() throws InterruptedException {\n        log.error(&quot;Bar is called&quot;);\n        Thread.sleep(3000);\n        if (true) {\n            throw new RuntimeException(&quot;bar exception&quot;);\n        }\n        return &quot;Success&quot;;\n    }\n}\n</code></pre>\n<p>When I start the application I see <strong>single</strong> error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: bar exception\n</code></pre>\n<p>Why retry was not triggered ?</p>\n"},{"tags":["java","reactjs","typescript","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"score":0,"creation_date":1670697592,"post_id":74754789,"comment_id":131935220,"body_markdown":"Thanks Subarata!\nI set breakpoint on here &#39;userDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);&#39; , Error says email and password both are null.\n(I added specific error message image!)\nThis problem is on backend side?","body":"Thanks Subarata! I set breakpoint on here &#39;userDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);&#39; , Error says email and password both are null. (I added specific error message image!) This problem is on backend side?"}],"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670690489,"creation_date":1670690489,"answer_id":74754789,"question_id":74753148,"body_markdown":"Make sure your ***signupForm.getPassword()*** has any value. Might signupForm.getPassword() has **null** value or signupForm instance is not created.\r\n\r\nIf we look the method of ***BCryptPasswordEncoder*** class you may notice if ***rawPassword*** is null then this error message is returned.\r\n\r\n\t@Override\r\n\tpublic String encode(CharSequence rawPassword) {\r\n\t\tif (rawPassword == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;rawPassword cannot be null&quot;);\r\n\t\t}\r\n\t\tString salt = getSalt();\r\n\t\treturn BCrypt.hashpw(rawPassword.toString(), salt);\r\n\t}","title":"rawPassword cannot be null","body":"<p>Make sure your <em><strong>signupForm.getPassword()</strong></em> has any value. Might signupForm.getPassword() has <strong>null</strong> value or signupForm instance is not created.</p>\n<p>If we look the method of <em><strong>BCryptPasswordEncoder</strong></em> class you may notice if <em><strong>rawPassword</strong></em> is null then this error message is returned.</p>\n<pre><code>@Override\npublic String encode(CharSequence rawPassword) {\n    if (rawPassword == null) {\n        throw new IllegalArgumentException(&quot;rawPassword cannot be null&quot;);\n    }\n    String salt = getSalt();\n    return BCrypt.hashpw(rawPassword.toString(), salt);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27707659,"reputation":46,"user_id":21150956,"display_name":"Amith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681821105,"creation_date":1681821105,"answer_id":76044656,"question_id":74753148,"body_markdown":"From your response i can see that the request does not have any value for the email and password. My guess is you are not populating the values correctly. I can see that you are not using @RequestBody anotation on your post method.\r\n```\r\n@PostMapping(&quot;/signup&quot;)\r\n    public String signup(@RequestBody(&quot;signupForm&quot;) @Validated SignupForm signupForm, BindingResult result , Model model, HttpServletRequest request) {\r\n        YOUR CUSTOM LOGIC\r\n}\r\n```\r\nHope this helps.","title":"rawPassword cannot be null","body":"<p>From your response i can see that the request does not have any value for the email and password. My guess is you are not populating the values correctly. I can see that you are not using @RequestBody anotation on your post method.</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\n    public String signup(@RequestBody(&quot;signupForm&quot;) @Validated SignupForm signupForm, BindingResult result , Model model, HttpServletRequest request) {\n        YOUR CUSTOM LOGIC\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681821105,"creation_date":1670677387,"question_id":74753148,"body_markdown":"I&#39;m learning Java Springboot and creating todo app with React(TypeScript) and Springboot now.\r\n\r\nI want to signup but **once I try to call api for signup, Error occurs and says &quot;rawPassword cannot be null&quot; from springboot.**\r\n\r\nI&#39;m making frontend localhost:3000, backend localhost:8080 running.\r\n\r\n\r\n**Signup.tsx**\r\n`\r\n```\r\nimport React, { useEffect, useRef } from &#39;react&#39;\r\nimport { Link, redirect, Route } from &quot;react-router-dom&quot;;\r\nimport { useState } from &quot;react&quot;;\r\nimport { Flex,Heading,Input,Button,InputGroup,Stack,InputLeftElement,chakra,Box,Avatar,FormControl,FormHelperText,InputRightElement, InputElementProps} from &quot;@chakra-ui/react&quot;;\r\nimport { FaUserAlt, FaLock } from &quot;react-icons/fa&quot;;\r\nimport axios from &#39;axios&#39;;\r\nimport { BASE_URL } from &#39;./helper/BASE_URL&#39;;\r\n\r\nconst CFaUserAlt = chakra(FaUserAlt);\r\nconst CFaLock = chakra(FaLock);\r\n\r\nconst Signup = () =&gt; {\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [inputEmail, setInputEmail] = useState(&quot;&quot;)\r\n    const [inputPassword, setInputPassword] = useState(&quot;&quot;);\r\n    const handleShowClick = () =&gt; setShowPassword(!showPassword);\r\n\r\n    const handleInputEmailChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; setInputEmail(event.target.value);\r\n    const handleInputPasswordChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; setInputPassword(event.target.value);\r\n    const isError = inputEmail === &quot;&quot;\r\n\r\n    const onClickSignup = (event: any) =&gt; {\r\n        event.preventDefault(); \r\n        axios.post(BASE_URL + &quot;/signup&quot;, {\r\n            email: inputEmail,\r\n            password: inputPassword\r\n        }).then((response) =&gt; {\r\n            console.log(response);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        &lt;div&gt;\r\n            &lt;Flex\r\n            flexDirection=&quot;column&quot;\r\n            width=&quot;100wh&quot;\r\n            height=&quot;100vh&quot;\r\n            backgroundColor=&quot;blue.500&quot;\r\n            justifyContent=&quot;center&quot;\r\n            alignItems=&quot;center&quot;\r\n            &gt;\r\n            &lt;Stack\r\n            flexDir=&quot;column&quot;\r\n            mb=&quot;2&quot;\r\n            justifyContent=&quot;center&quot;\r\n            alignItems=&quot;center&quot;\r\n            &gt;\r\n            &lt;Avatar bg=&quot;teal.500&quot; /&gt;\r\n            &lt;Heading color=&quot;white&quot;&gt;新規登録&lt;/Heading&gt;\r\n            &lt;Box minW={{ base: &quot;90%&quot;, md: &quot;468px&quot; }}&gt;\r\n                &lt;form onSubmit={onClickSignup}&gt;\r\n                    &lt;Stack\r\n                    spacing={4}\r\n                    p=&quot;1rem&quot;\r\n                    backgroundColor=&quot;whiteAlpha.900&quot;\r\n                    boxShadow=&quot;md&quot;\r\n                &gt;\r\n                    &lt;FormControl isInvalid={isError}&gt;\r\n                        &lt;InputGroup&gt;\r\n                            &lt;InputLeftElement\r\n                            pointerEvents=&quot;none&quot;\r\n                            children={&lt;CFaUserAlt color=&quot;gray.300&quot; /&gt;}\r\n                            /&gt;\r\n                                &lt;Input type=&quot;email&quot; id=&quot;email&quot; name=&#39;email&#39; value={inputEmail} onChange={handleInputEmailChange} placeholder=&quot;メールアドレス&quot; /&gt;\r\n                        &lt;/InputGroup&gt;\r\n                    &lt;/FormControl&gt;\r\n                    &lt;FormControl isInvalid={isError}&gt;\r\n                        &lt;InputGroup&gt;\r\n                            &lt;InputLeftElement\r\n                            pointerEvents=&quot;none&quot;\r\n                            color=&quot;gray.300&quot;\r\n                            children={&lt;CFaLock color=&quot;gray.300&quot; /&gt;}\r\n                            /&gt;\r\n                            &lt;Input\r\n                            type={showPassword ? &quot;text&quot; : &quot;password&quot;}\r\n                            id=&quot;password&quot;\r\n                            name=&quot;password&quot;\r\n                            placeholder=&quot;パスワードは6文字以上の英数字で入力&quot;\r\n                            value={inputPassword} onChange={handleInputPasswordChange}\r\n                            /&gt;\r\n                                &lt;InputRightElement width=&quot;4.5rem&quot;&gt;\r\n                                    &lt;Button h=&quot;1.75rem&quot; size=&quot;sm&quot; onClick={handleShowClick}&gt;\r\n                                    {showPassword ? &quot;Hide&quot; : &quot;Show&quot;}\r\n                                    &lt;/Button&gt;\r\n                                &lt;/InputRightElement&gt;\r\n                        &lt;/InputGroup&gt;\r\n                    &lt;/FormControl&gt;\r\n                    &lt;Button\r\n                    borderRadius={0}\r\n                    type=&quot;submit&quot;\r\n                    variant=&quot;solid&quot;\r\n                    colorScheme=&quot;blue&quot;\r\n                    width=&quot;full&quot;\r\n                    &gt;\r\n                        登録\r\n                    &lt;/Button&gt;\r\n                    &lt;/Stack&gt;\r\n                &lt;/form&gt;\r\n            &lt;/Box&gt;\r\n        &lt;/Stack&gt;\r\n        &lt;Box pt=&quot;3&quot;&gt;\r\n            &lt;Link style={{color: &quot;white&quot;}} to={&#39;/&#39;}&gt;ホームへ&lt;/Link&gt;\r\n        &lt;/Box&gt;\r\n    &lt;/Flex&gt;\r\n            &lt;Link to=&quot;/&quot;&gt;Homeへ&lt;/Link&gt;\r\n        &lt;/div&gt;\r\n    )\r\n}\r\n\r\nexport default Signup\r\n```\r\n`\r\n\r\n\r\n\r\n**UserDetailsServiceImpl.java**\r\n`\r\n```\r\npackage com.portfolio.todoapp.asoviewtodo.Service;\r\n\r\nimport com.portfolio.todoapp.asoviewtodo.Repositopry.UserRepository;\r\nimport com.portfolio.todoapp.asoviewtodo.UserDetailsImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.*;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        try {\r\n            String sql = &quot;SELECT * FROM asoviewtodo.users WHERE email = ?;&quot;;\r\n`your text`            Map&lt;String, Object&gt; map = jdbcTemplate.queryForMap(sql, email);\r\n            String password = (String)map.get(&quot;password&quot;);\r\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            authorities.add(new SimpleGrantedAuthority((String)map.get(&quot;authority&quot;)));\r\n            return new UserDetailsImpl(email, password, authorities);\r\n        }catch (Exception e) {\r\n            throw new UsernameNotFoundException(&quot;user not found&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    public void register(String email, String password, String authority) {\r\n        String sql = &quot;INSERT INTO asoviewtodo.users (email, password, authority) VALUES (?,?,?)&quot;;\r\n        jdbcTemplate.update(sql, email, passwordEncoder.encode(password), authority);\r\n    }\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\n**WebSecurityConfig.java**\r\n\r\n`\r\n```\r\npackage com.portfolio.todoapp.asoviewtodo.Config;\r\n\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().antMatchers(&quot;/signup&quot;).permitAll().anyRequest().authenticated().and().csrf().\r\n                disable().cors();\r\n        http.formLogin(login -&gt; login.loginPage(&quot;http://localhost:3000/login&quot;).loginProcessingUrl(&quot;/login&quot;).\r\n                defaultSuccessUrl(&quot;http://localhost:3000/&quot;).failureUrl(&quot;/login/error&quot;).permitAll()).\r\n                logout(logout -&gt; logout.logoutUrl(&quot;http://localhost:3000/login&quot;));\r\n         return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        final CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Allow-Origin&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setExposedHeaders(List.of(&quot;Authorization&quot;, &quot;Access-Control-Allow-Origin&quot;));\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n**UserController.java**\r\n`\r\n```\r\npackage com.portfolio.todoapp.asoviewtodo.Controller;\r\n\r\nimport com.portfolio.todoapp.asoviewtodo.SignupForm;\r\nimport com.portfolio.todoapp.asoviewtodo.Service.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.dao.DataAccessException;\r\nimport org.springframework.security.authentication.AnonymousAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContext;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\n@CrossOrigin(&quot;http://localhost:3000&quot;)\r\npublic class TestController {\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsServiceImpl;\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String login() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/signup&quot;)\r\n    public String newSignup(SignupForm signupForm) {\r\n        return &quot;signup&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public String signup(@Validated SignupForm signupForm, BindingResult result , Model model, HttpServletRequest request) {\r\n        try {\r\n            userDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);\r\n        }catch (DataAccessException e) {\r\n            model.addAttribute(&quot;signupError&quot;, &quot;fail to signup&quot;);\r\n        }\r\n\r\n        result.hasErrors();\r\n        if(result.hasErrors()) {\r\n            return &quot;signup&quot;;\r\n        }\r\n\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        Authentication authentication = context.getAuthentication();\r\n\r\n        if(authentication instanceof AnonymousAuthenticationToken == false) {\r\n            SecurityContextHolder.clearContext();\r\n        }\r\n        try {\r\n            request.login(signupForm.getEmail(), signupForm.getPassword());\r\n        } catch(ServletException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nThis is error message image when setting breakpoint on \r\n&#39;\r\nuserDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);\r\n&#39;\r\n\r\n[enter image description here][1]\r\n\r\nI tried to set PROXY:http://localhost:8080 on package.json but same error occurs, doesn&#39;t work.\r\n\r\nI confirmed that I could get and keep value of password on Inspect, so I don&#39;t know why this is happening.\r\n\r\nI would appreciate it if you would answer to me. Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kr3BW.jpg","title":"rawPassword cannot be null","body":"<p>I'm learning Java Springboot and creating todo app with React(TypeScript) and Springboot now.</p>\n<p>I want to signup but <strong>once I try to call api for signup, Error occurs and says &quot;rawPassword cannot be null&quot; from springboot.</strong></p>\n<p>I'm making frontend localhost:3000, backend localhost:8080 running.</p>\n<p><strong>Signup.tsx</strong>\n`</p>\n<pre><code>import React, { useEffect, useRef } from 'react'\nimport { Link, redirect, Route } from &quot;react-router-dom&quot;;\nimport { useState } from &quot;react&quot;;\nimport { Flex,Heading,Input,Button,InputGroup,Stack,InputLeftElement,chakra,Box,Avatar,FormControl,FormHelperText,InputRightElement, InputElementProps} from &quot;@chakra-ui/react&quot;;\nimport { FaUserAlt, FaLock } from &quot;react-icons/fa&quot;;\nimport axios from 'axios';\nimport { BASE_URL } from './helper/BASE_URL';\n\nconst CFaUserAlt = chakra(FaUserAlt);\nconst CFaLock = chakra(FaLock);\n\nconst Signup = () =&gt; {\n    const [showPassword, setShowPassword] = useState(false);\n    const [inputEmail, setInputEmail] = useState(&quot;&quot;)\n    const [inputPassword, setInputPassword] = useState(&quot;&quot;);\n    const handleShowClick = () =&gt; setShowPassword(!showPassword);\n\n    const handleInputEmailChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; setInputEmail(event.target.value);\n    const handleInputPasswordChange = (event: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; setInputPassword(event.target.value);\n    const isError = inputEmail === &quot;&quot;\n\n    const onClickSignup = (event: any) =&gt; {\n        event.preventDefault(); \n        axios.post(BASE_URL + &quot;/signup&quot;, {\n            email: inputEmail,\n            password: inputPassword\n        }).then((response) =&gt; {\n            console.log(response);\n        })\n    }\n    \n    return (\n        &lt;div&gt;\n            &lt;Flex\n            flexDirection=&quot;column&quot;\n            width=&quot;100wh&quot;\n            height=&quot;100vh&quot;\n            backgroundColor=&quot;blue.500&quot;\n            justifyContent=&quot;center&quot;\n            alignItems=&quot;center&quot;\n            &gt;\n            &lt;Stack\n            flexDir=&quot;column&quot;\n            mb=&quot;2&quot;\n            justifyContent=&quot;center&quot;\n            alignItems=&quot;center&quot;\n            &gt;\n            &lt;Avatar bg=&quot;teal.500&quot; /&gt;\n            &lt;Heading color=&quot;white&quot;&gt;新規登録&lt;/Heading&gt;\n            &lt;Box minW={{ base: &quot;90%&quot;, md: &quot;468px&quot; }}&gt;\n                &lt;form onSubmit={onClickSignup}&gt;\n                    &lt;Stack\n                    spacing={4}\n                    p=&quot;1rem&quot;\n                    backgroundColor=&quot;whiteAlpha.900&quot;\n                    boxShadow=&quot;md&quot;\n                &gt;\n                    &lt;FormControl isInvalid={isError}&gt;\n                        &lt;InputGroup&gt;\n                            &lt;InputLeftElement\n                            pointerEvents=&quot;none&quot;\n                            children={&lt;CFaUserAlt color=&quot;gray.300&quot; /&gt;}\n                            /&gt;\n                                &lt;Input type=&quot;email&quot; id=&quot;email&quot; name='email' value={inputEmail} onChange={handleInputEmailChange} placeholder=&quot;メールアドレス&quot; /&gt;\n                        &lt;/InputGroup&gt;\n                    &lt;/FormControl&gt;\n                    &lt;FormControl isInvalid={isError}&gt;\n                        &lt;InputGroup&gt;\n                            &lt;InputLeftElement\n                            pointerEvents=&quot;none&quot;\n                            color=&quot;gray.300&quot;\n                            children={&lt;CFaLock color=&quot;gray.300&quot; /&gt;}\n                            /&gt;\n                            &lt;Input\n                            type={showPassword ? &quot;text&quot; : &quot;password&quot;}\n                            id=&quot;password&quot;\n                            name=&quot;password&quot;\n                            placeholder=&quot;パスワードは6文字以上の英数字で入力&quot;\n                            value={inputPassword} onChange={handleInputPasswordChange}\n                            /&gt;\n                                &lt;InputRightElement width=&quot;4.5rem&quot;&gt;\n                                    &lt;Button h=&quot;1.75rem&quot; size=&quot;sm&quot; onClick={handleShowClick}&gt;\n                                    {showPassword ? &quot;Hide&quot; : &quot;Show&quot;}\n                                    &lt;/Button&gt;\n                                &lt;/InputRightElement&gt;\n                        &lt;/InputGroup&gt;\n                    &lt;/FormControl&gt;\n                    &lt;Button\n                    borderRadius={0}\n                    type=&quot;submit&quot;\n                    variant=&quot;solid&quot;\n                    colorScheme=&quot;blue&quot;\n                    width=&quot;full&quot;\n                    &gt;\n                        登録\n                    &lt;/Button&gt;\n                    &lt;/Stack&gt;\n                &lt;/form&gt;\n            &lt;/Box&gt;\n        &lt;/Stack&gt;\n        &lt;Box pt=&quot;3&quot;&gt;\n            &lt;Link style={{color: &quot;white&quot;}} to={'/'}&gt;ホームへ&lt;/Link&gt;\n        &lt;/Box&gt;\n    &lt;/Flex&gt;\n            &lt;Link to=&quot;/&quot;&gt;Homeへ&lt;/Link&gt;\n        &lt;/div&gt;\n    )\n}\n\nexport default Signup\n</code></pre>\n<p>`</p>\n<p><strong>UserDetailsServiceImpl.java</strong>\n`</p>\n<pre><code>package com.portfolio.todoapp.asoviewtodo.Service;\n\nimport com.portfolio.todoapp.asoviewtodo.Repositopry.UserRepository;\nimport com.portfolio.todoapp.asoviewtodo.UserDetailsImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.*;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        try {\n            String sql = &quot;SELECT * FROM asoviewtodo.users WHERE email = ?;&quot;;\n`your text`            Map&lt;String, Object&gt; map = jdbcTemplate.queryForMap(sql, email);\n            String password = (String)map.get(&quot;password&quot;);\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            authorities.add(new SimpleGrantedAuthority((String)map.get(&quot;authority&quot;)));\n            return new UserDetailsImpl(email, password, authorities);\n        }catch (Exception e) {\n            throw new UsernameNotFoundException(&quot;user not found&quot;, e);\n        }\n    }\n\n    @Transactional\n    public void register(String email, String password, String authority) {\n        String sql = &quot;INSERT INTO asoviewtodo.users (email, password, authority) VALUES (?,?,?)&quot;;\n        jdbcTemplate.update(sql, email, passwordEncoder.encode(password), authority);\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n<p><strong>WebSecurityConfig.java</strong></p>\n<p>`</p>\n<pre><code>package com.portfolio.todoapp.asoviewtodo.Config;\n\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.List;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(&quot;/signup&quot;).permitAll().anyRequest().authenticated().and().csrf().\n                disable().cors();\n        http.formLogin(login -&gt; login.loginPage(&quot;http://localhost:3000/login&quot;).loginProcessingUrl(&quot;/login&quot;).\n                defaultSuccessUrl(&quot;http://localhost:3000/&quot;).failureUrl(&quot;/login/error&quot;).permitAll()).\n                logout(logout -&gt; logout.logoutUrl(&quot;http://localhost:3000/login&quot;));\n         return http.build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        final CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Allow-Origin&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setExposedHeaders(List.of(&quot;Authorization&quot;, &quot;Access-Control-Allow-Origin&quot;));\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p><strong>UserController.java</strong>\n`</p>\n<pre><code>package com.portfolio.todoapp.asoviewtodo.Controller;\n\nimport com.portfolio.todoapp.asoviewtodo.SignupForm;\nimport com.portfolio.todoapp.asoviewtodo.Service.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.dao.DataAccessException;\nimport org.springframework.security.authentication.AnonymousAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\n@CrossOrigin(&quot;http://localhost:3000&quot;)\npublic class TestController {\n    @Autowired\n    UserDetailsServiceImpl userDetailsServiceImpl;\n\n    @GetMapping(&quot;/login&quot;)\n    public String login() {\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(&quot;/signup&quot;)\n    public String newSignup(SignupForm signupForm) {\n        return &quot;signup&quot;;\n    }\n\n    @PostMapping(&quot;/signup&quot;)\n    public String signup(@Validated SignupForm signupForm, BindingResult result , Model model, HttpServletRequest request) {\n        try {\n            userDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);\n        }catch (DataAccessException e) {\n            model.addAttribute(&quot;signupError&quot;, &quot;fail to signup&quot;);\n        }\n\n        result.hasErrors();\n        if(result.hasErrors()) {\n            return &quot;signup&quot;;\n        }\n\n        SecurityContext context = SecurityContextHolder.getContext();\n        Authentication authentication = context.getAuthentication();\n\n        if(authentication instanceof AnonymousAuthenticationToken == false) {\n            SecurityContextHolder.clearContext();\n        }\n        try {\n            request.login(signupForm.getEmail(), signupForm.getPassword());\n        } catch(ServletException e) {\n            e.printStackTrace();\n        }\n\n        return &quot;redirect:/&quot;;\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>This is error message image when setting breakpoint on\n'\nuserDetailsServiceImpl.register(signupForm.getEmail(), signupForm.getPassword(), &quot;ROLE_USER&quot;);\n'</p>\n<p><a href=\"https://i.stack.imgur.com/Kr3BW.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to set PROXY:http://localhost:8080 on package.json but same error occurs, doesn't work.</p>\n<p>I confirmed that I could get and keep value of password on Inspect, so I don't know why this is happening.</p>\n<p>I would appreciate it if you would answer to me. Thanks</p>\n"},{"tags":["java","json","curl","embedded-linux","paging"],"answers":[{"tags":[],"owner":{"account_id":2578132,"reputation":1841,"user_id":2235381,"display_name":"lojza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555511775,"creation_date":1555511775,"answer_id":55730125,"question_id":55724669,"body_markdown":"Dollar sign is probably not necessary.\r\n\r\n    curl http://127.0.0.1:80/service/ressource/elementuri?limit=2&amp;offset=2","title":"get a pagingobject in http response requested over curl","body":"<p>Dollar sign is probably not necessary.</p>\n\n<pre><code>curl http://127.0.0.1:80/service/ressource/elementuri?limit=2&amp;offset=2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681821001,"creation_date":1679064468,"answer_id":75768985,"question_id":55724669,"body_markdown":"Paging for VIWI is explained in the [VIWI specification][1]. Please note that special characters like the dollar sign must be escaped (see the table [here][2]) if the client does not do that automatically.\r\n\r\n\r\n  [1]: https://www.w3.org/Submission/viwi-protocol/#paging\r\n  [2]: https://www.w3schools.com/tags/ref_urlencode.ASP","title":"get a pagingobject in http response requested over curl","body":"<p>Paging for VIWI is explained in the <a href=\"https://www.w3.org/Submission/viwi-protocol/#paging\" rel=\"nofollow noreferrer\">VIWI specification</a>. Please note that special characters like the dollar sign must be escaped (see the table <a href=\"https://www.w3schools.com/tags/ref_urlencode.ASP\" rel=\"nofollow noreferrer\">here</a>) if the client does not do that automatically.</p>\n"}],"owner":{"account_id":11179200,"reputation":1,"user_id":8203726,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55730125,"answer_count":2,"score":0,"last_activity_date":1681821001,"creation_date":1555494370,"question_id":55724669,"body_markdown":"Hello people i have a question about how to get JSON pagingObject in my response with a http curl get (curl running on jokto-linux-system).\r\ni wanted to get a special page over the parameter $offset=0 and $limit=0.\r\nBut i dont know where to put the parameter to get on the right page of the serviceressource. I get all the ressources back but i need to see how much pages are used also i didnt see this too.\r\nSo my basic problem is the visibility and changing of the parameter $offset and $limit of the pagingObject of an Service/Ressource with amount of Ressourceelements. \r\nThank you very much for evry answer\r\n\r\n\r\n\r\nThis my basic &quot;GET&quot; i try: curl -i http://127.0.0.1:80/service/ressource/Elementuri\r\n\r\nTried to get an the object over header: curl -X GET -H &quot;$offset&quot; -H &quot;$limit&quot; http://127.0.0.1:80/service/ressource/elementuri\r\n\r\nI tried it to set after the uri:  curl -X GET http://127.0.0.1:80/service/ressource/elementuri?$offset=0&amp;$limit=1","title":"get a pagingobject in http response requested over curl","body":"<p>Hello people i have a question about how to get JSON pagingObject in my response with a http curl get (curl running on jokto-linux-system).\ni wanted to get a special page over the parameter $offset=0 and $limit=0.\nBut i dont know where to put the parameter to get on the right page of the serviceressource. I get all the ressources back but i need to see how much pages are used also i didnt see this too.\nSo my basic problem is the visibility and changing of the parameter $offset and $limit of the pagingObject of an Service/Ressource with amount of Ressourceelements. \nThank you very much for evry answer</p>\n\n<p>This my basic \"GET\" i try: curl -i <a href=\"http://127.0.0.1:80/service/ressource/Elementuri\" rel=\"nofollow noreferrer\">http://127.0.0.1:80/service/ressource/Elementuri</a></p>\n\n<p>Tried to get an the object over header: curl -X GET -H \"$offset\" -H \"$limit\" <a href=\"http://127.0.0.1:80/service/ressource/elementuri\" rel=\"nofollow noreferrer\">http://127.0.0.1:80/service/ressource/elementuri</a></p>\n\n<p>I tried it to set after the uri:  curl -X GET <a href=\"http://127.0.0.1:80/service/ressource/elementuri\" rel=\"nofollow noreferrer\">http://127.0.0.1:80/service/ressource/elementuri</a>?$offset=0&amp;$limit=1</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":24206920,"reputation":13,"user_id":18163974,"display_name":"sadhna singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681820783,"creation_date":1681740217,"question_id":76036020,"body_markdown":"```none\r\n The following declarations have the same JVM signature (postProcessAllModels(Ljava/util/Map;)Ljava/util/Map;):\r\n    [javac]     fun postProcessAllModels(objs: MutableMap&lt;String?, Any?&gt;?): MutableMap&lt;String?, Any?&gt;? defined in CheckCodegen\r\n    [javac]     fun postProcessAllModels(p0: MutableMap&lt;String?, ModelsMap?&gt;?): MutableMap&lt;String?, ModelsMap?&gt;? defined in CheckCodegen\r\n    [javac] class PayStationControllerCodegen(codegenAmender: CodegenAmender = combinedAmender())\r\n    [javac]       ^\r\n```\r\n\r\nin CheckCodegen:\r\n\r\n```kotlin\r\nclass CheckCodegen(codegenAmender: CodegenAmender = combinedAmender())\r\n    : AbstractCheckCodegen(codegenAmender)\r\n\r\n    private fun combinedAmender() = CodegenAmender.combine(\r\n        PolymorphicPropertyTyper(),\r\n        ModelSpecializer(), ......)\r\n```\r\n\r\nIn AbstractCheckCodegen [Java]\r\n\r\n```java\r\npublic AbstractCheckCodegen(CodegenAmender codegenAmender) {\r\n    this(codegenAmender, getPrivateFieldsSystemProperty());\r\n}\r\n\r\n@Override\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic Map&lt;String, Object&gt; processAllModels(Map&lt;String, Object&gt; objs) {\r\n    List&lt;CodegenModel&gt; models = objs.values().stream()\r\n            .map(value -&gt; (Map&lt;String, Object&gt;) value)\r\n            .flatMap(inner -&gt; ((List&lt;Map&lt;String, Object&gt;&gt;) inner.get(&quot;models&quot;)).stream())\r\n            .map(mo -&gt; (CodegenModel) mo.get(&quot;model&quot;))\r\n            .collect(ImmutableList.toImmutableList());\r\n\r\n    models.forEach(codegenAmender::amendModel);\r\n    codegenAmender.amendModels(models);\r\n\r\n    return super.processAllModels(objs);\r\n}\r\n```\r\n\r\nI tried adding:\r\n\r\n```kotlin\r\n@JvmName(&quot;setcombinedAmender&quot;)\r\nprivate fun combinedAmender() = CodegenAmender.combine(\r\n```\r\nbut it did not work","title":"Inherited platform declarations clash: The following declarations have the same JVM signature (processAllModels(Ljava/util/Map;)Ljava/util/Map;):","body":"<pre class=\"lang-none prettyprint-override\"><code> The following declarations have the same JVM signature (postProcessAllModels(Ljava/util/Map;)Ljava/util/Map;):\n    [javac]     fun postProcessAllModels(objs: MutableMap&lt;String?, Any?&gt;?): MutableMap&lt;String?, Any?&gt;? defined in CheckCodegen\n    [javac]     fun postProcessAllModels(p0: MutableMap&lt;String?, ModelsMap?&gt;?): MutableMap&lt;String?, ModelsMap?&gt;? defined in CheckCodegen\n    [javac] class PayStationControllerCodegen(codegenAmender: CodegenAmender = combinedAmender())\n    [javac]       ^\n</code></pre>\n<p>in CheckCodegen:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class CheckCodegen(codegenAmender: CodegenAmender = combinedAmender())\n    : AbstractCheckCodegen(codegenAmender)\n\n    private fun combinedAmender() = CodegenAmender.combine(\n        PolymorphicPropertyTyper(),\n        ModelSpecializer(), ......)\n</code></pre>\n<p>In AbstractCheckCodegen [Java]</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AbstractCheckCodegen(CodegenAmender codegenAmender) {\n    this(codegenAmender, getPrivateFieldsSystemProperty());\n}\n\n@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic Map&lt;String, Object&gt; processAllModels(Map&lt;String, Object&gt; objs) {\n    List&lt;CodegenModel&gt; models = objs.values().stream()\n            .map(value -&gt; (Map&lt;String, Object&gt;) value)\n            .flatMap(inner -&gt; ((List&lt;Map&lt;String, Object&gt;&gt;) inner.get(&quot;models&quot;)).stream())\n            .map(mo -&gt; (CodegenModel) mo.get(&quot;model&quot;))\n            .collect(ImmutableList.toImmutableList());\n\n    models.forEach(codegenAmender::amendModel);\n    codegenAmender.amendModels(models);\n\n    return super.processAllModels(objs);\n}\n</code></pre>\n<p>I tried adding:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmName(&quot;setcombinedAmender&quot;)\nprivate fun combinedAmender() = CodegenAmender.combine(\n</code></pre>\n<p>but it did not work</p>\n"},{"tags":["java","swagger","swagger-ui","springdoc"],"owner":{"account_id":7540549,"reputation":387,"user_id":5725291,"display_name":"hideous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681820594,"creation_date":1681819756,"question_id":76044436,"body_markdown":"I have the following Java classes:\r\n\r\n`State.java`\r\n\r\n```java\r\n@ArraySchema(schema = @Schema(name = &quot;State&quot;))\r\npublic class State extends ArrayList&lt;Operation&gt;\r\n{}\r\n```\r\n\r\n`Operation.java`\r\n\r\n```java\r\n@Builder(toBuilder = true)\r\n@Data\r\n@Jacksonized\r\npublic class Operation\r\n{\r\n   @Schema(required = true)\r\n   @JsonProperty(&quot;op&quot;)\r\n   private String op;\r\n}\r\n```\r\n\r\nThis generates the following schema for `State` with an extra schema for `Operation`:\r\n\r\n```json\r\n&quot;State&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;$ref&quot;:&quot;#/components/schemas/Operation&quot;}}\r\n```\r\n\r\nNow, I don&#39;t want to generate an extra schema for `Operation` and instead include the properties of it under `items`. So, in the end I want to generate the following:\r\n\r\n```json\r\n&quot;State&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{{&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;op&quot;: string}}}}\r\n```\r\n\r\nIs there a way to achieve this?\r\n\r\nI&#39;m using Springdoc with `io.swagger.core.v3:swagger-annotations:jar:2.2.8`","title":"How to avoid creating a new Swagger schema definition in a schema of type array?","body":"<p>I have the following Java classes:</p>\n<p><code>State.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArraySchema(schema = @Schema(name = &quot;State&quot;))\npublic class State extends ArrayList&lt;Operation&gt;\n{}\n</code></pre>\n<p><code>Operation.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder = true)\n@Data\n@Jacksonized\npublic class Operation\n{\n   @Schema(required = true)\n   @JsonProperty(&quot;op&quot;)\n   private String op;\n}\n</code></pre>\n<p>This generates the following schema for <code>State</code> with an extra schema for <code>Operation</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;State&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{&quot;$ref&quot;:&quot;#/components/schemas/Operation&quot;}}\n</code></pre>\n<p>Now, I don't want to generate an extra schema for <code>Operation</code> and instead include the properties of it under <code>items</code>. So, in the end I want to generate the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;State&quot;:{&quot;type&quot;:&quot;array&quot;,&quot;items&quot;:{{&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;op&quot;: string}}}}\n</code></pre>\n<p>Is there a way to achieve this?</p>\n<p>I'm using Springdoc with <code>io.swagger.core.v3:swagger-annotations:jar:2.2.8</code></p>\n"},{"tags":["java","spring","spring-boot","websocket","rabbitmq"],"owner":{"account_id":16077207,"reputation":13,"user_id":11604138,"display_name":"Faz Fazzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681820555,"creation_date":1681809599,"question_id":76042874,"body_markdown":"In my app i have a frontend that connects via gateway to two instances of the same microservice, configured with an external rabbitmq broker, \r\neverything is good if i launch only one ms instance, but the following scenario occurs when i deploy 2 instances:\r\n\r\n1. user login and make a websocket connection to the ms A\r\n\r\n2. user triggers a web rest endpoint , that gets load balanced into ms A, the ms fetch the simp session id from the websocket user registry, and send a message to the subscribed channel, no errors\r\n\r\n3. user client sees the websocket data as expected\r\n\r\n4. user triggers again the same web rest endpoint, that gets load balanced into ms B, the ms fetch the simp session id from the websocket user registry, and send a message to the subscribed channel, no errors\r\n\r\n5. the request never arrives to the broker or to the client/browser, the logs shows the following in StompBrokerRelayMessageHandler:\r\n\r\n```\r\nNo TCP connection for session oxsyxbwp in GenericMessage [payload=byte[1094], headers={simpMessageType=MESSAGE, nativeHeaders={simpOrigDestination=[/user/exchange/amq.direct/get-notifications]}, contentType=application/json, simpSessionId=oxsyxbwp, simpDestination=/exchange/amq.direct/get-notifications-useroxsyxbwp}]\r\n```\r\n\r\nand digging into the source code i see that the broker returns without sending the message if tcp connection is not present\r\n\r\n\r\n**Expected**:\r\n\r\nto be able to succesfully publish message for a user websocket subscription, even from the microservice instance that didn&#39;t create the websocket connection/session to the client, since i&#39;m using an external broker, and spring is supposed to alert the other server that &quot;own&quot; the websocket session, as far as i understand? Otherwise why would someone bother with an external broker relay?\r\n\r\nthis is the relevant configuration\r\n\r\n```\r\n   @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableStompBrokerRelay(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/exchange/&quot;)\r\n            .setAutoStartup(Boolean.TRUE)\r\n            .setSystemHeartbeatReceiveInterval(50000)\r\n            .setSystemHeartbeatSendInterval(50000)\r\n            .setRelayHost(applicationProperties.getWebsocket().getRelayhost())\r\n            .setRelayPort(applicationProperties.getWebsocket().getRelayport())\r\n            .setClientLogin(applicationProperties.getWebsocket().getLogin())\r\n            .setSystemLogin(applicationProperties.getWebsocket().getLogin())\r\n            .setSystemPasscode(applicationProperties.getWebsocket().getPasscode())\r\n            .setClientPasscode(applicationProperties.getWebsocket().getPasscode())\r\n            .setTcpClient(createTcpClient())\r\n\r\n            .setUserDestinationBroadcast(&quot;/topic/unresolved.user.dest&quot;)\r\n            .setUserRegistryBroadcast(&quot;/topic/registry.broadcast&quot;);\r\n\r\n        config.setPathMatcher(new AntPathMatcher(&quot;.&quot;));\r\n        config.setUserDestinationPrefix(&quot;/user&quot;);\r\n\r\n    }\r\n   private ReactorNettyTcpClient&lt;byte[]&gt; createTcpClient() {\r\n\r\n        return new ReactorNettyTcpClient&lt;&gt;(applicationProperties.getWebsocket().getRelayhost(),\r\n            applicationProperties.getWebsocket().getRelayport(),\r\n            new StompReactorNettyCodec());\r\n   }\r\n```\r\n\r\nthis is how i publish messages:   \r\n```\r\npublic static final String CHANNEL_NAME = &quot;/exchange/amq.direct/get-notifications&quot;;\r\npublic static final String NOTIFICATION_DEST = &quot;/user/exchange/amq.direct/get-notifications&quot;;\r\n\r\n retrieveWebsocketSessionId(jhiUserId, users)\r\n                .ifPresent(sessionId -&gt;\r\n                    // send to user\r\n                    messagingTemplate.convertAndSendToUser(\r\n                        sessionId,\r\n                        CHANNEL_NAME,\r\n                        notificationList,\r\n                        simpMessageHelper.createHeaders(sessionId)\r\n                    )\r\n                );\r\n\r\n    private Optional&lt;String&gt; retrieveWebsocketSessionId(String jhiUserId, Set&lt;SimpUser&gt; users) {\r\n        for (SimpUser user : users) {\r\n            if (user.getName().equals(jhiUserId)) {\r\n                for (SimpSession session : user.getSessions()) {\r\n                    // find if that session has our subscription associated\r\n                    for (SimpSubscription sub : session.getSubscriptions()) {\r\n                        if (sub.getDestination().equals(NOTIFICATION_DEST)) {\r\n                            log.info(&quot;user {} is logged in. forwarding message to destination {} with session Id: {}&quot;, jhiUserId, sub.getDestination(), session.getId());\r\n                            return Optional.of(session.getId());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        log.info(&quot;user {} currently is not logged in or he hasn&#39;t a websocket connection yet. discard message&quot;, jhiUserId);\r\n        return Optional.empty();\r\n    }\r\n```\r\n\r\nthank you in advance for any pointers or clarifications\r\n\r\np.s. version: spring-boot-starter-websocket\\2.7.3\\spring-boot-starter-websocket-2.7.3.pom\r\n\r\n\r\n**EDIT**: \r\nas a &quot;workaround&quot; i changed my flow as follow: every instance of the microservice gets the notification message from a queue (actually in my full system the rest api invoked send a message in a rabbitmq queue, and the notification microservice read the message, perform some logic and push it to the websocket connection) \r\n\r\nthen the instance check if the user is actually connected to the websocket local registry, if so push the message to the websocket, otherwise it exits without doing nothing\r\n\r\nthis is how i collect the info about an user being connected to the local instance:\r\n\r\n```\r\n  // map of jhiUserId / simpSessionId, or null if not connected to the instance\r\n    private Map&lt;String, String&gt; connectedSessionsMap = new ConcurrentHashMap&lt;&gt;();\r\n    @EventListener\r\n    public void handleBrokerAvailabilityEvent(BrokerAvailabilityEvent event) {\r\n        log.info(&quot;Broker rabbitmq available: {}&quot;, event.isBrokerAvailable());\r\n        connectedSessionsMap.clear();\r\n    }\r\n    @EventListener\r\n    public void handleSessionDisconnectEvent(SessionDisconnectEvent event) {\r\n        StompHeaderAccessor headers = StompHeaderAccessor.wrap(event.getMessage());\r\n        Principal principal = headers.getUser();\r\n        if (principal != null) {\r\n            String username = principal.getName();\r\n            log.info(&quot;Websocket session disconnected, user: {} sessionId: {}, populating connectedSessionsMap cache&quot;, username, headers.getSessionId());\r\n            connectedSessionsMap.put(username, null);\r\n        } else {\r\n            log.warn(&quot;WARNING: no principal found for ws disconnected event: {} , message: {}&quot;, event, event.getMessage());\r\n        }\r\n    }\r\n\r\n    @EventListener\r\n    public void handleSessionConnectEvent(SessionConnectEvent event) {\r\n        StompHeaderAccessor headers = StompHeaderAccessor.wrap(event.getMessage());\r\n        Principal principal = headers.getUser();\r\n        if (principal != null) {\r\n            String username = principal.getName();\r\n            log.info(&quot;Websocket session connect, user: {} sessionId: {}, populating connectedSessionsMap cache&quot;, username, headers.getSessionId());\r\n            connectedSessionsMap.put(username, headers.getSessionId());\r\n        } else {\r\n            log.warn(&quot;WARNING: no principal found for ws connect event: {} , message: {}&quot;, event, event.getMessage());\r\n        }\r\n\r\n    }\r\n```\r\n\r\nthis is the logic the read from the message queue and propagate the message to the websocket\r\n```\r\n  @RabbitListener(queues = &quot;#{exportQueue.getName()}&quot;)\r\n    public void listen(BaseMessage&lt;ExportMessageDTO&gt; inMessage) {\r\n\r\n        log.info(&quot;Received message from rabbitmq broker {} , {} {}&quot;, inMessage, exportQueue.getName(), exportQueue.getActualName());\r\n\r\n\r\n        String id = inMessage.getPrincipalId();\r\n        String email = inMessage.getPrincipalEmail();\r\n        String message = inMessage.getData().getMessage();\r\n\r\n        if (!pushNotificationDelegate.checkIfUserIsLocal(id)) {\r\n         log.info(&quot;user {} not connected to this server, another instance will handle the message, exiting...&quot;, id);\r\n         return;\r\n        }\r\n[...]\r\n```","title":"spring websocket rabbitmq external relay in multiserver environment does not scale","body":"<p>In my app i have a frontend that connects via gateway to two instances of the same microservice, configured with an external rabbitmq broker,\neverything is good if i launch only one ms instance, but the following scenario occurs when i deploy 2 instances:</p>\n<ol>\n<li><p>user login and make a websocket connection to the ms A</p>\n</li>\n<li><p>user triggers a web rest endpoint , that gets load balanced into ms A, the ms fetch the simp session id from the websocket user registry, and send a message to the subscribed channel, no errors</p>\n</li>\n<li><p>user client sees the websocket data as expected</p>\n</li>\n<li><p>user triggers again the same web rest endpoint, that gets load balanced into ms B, the ms fetch the simp session id from the websocket user registry, and send a message to the subscribed channel, no errors</p>\n</li>\n<li><p>the request never arrives to the broker or to the client/browser, the logs shows the following in StompBrokerRelayMessageHandler:</p>\n</li>\n</ol>\n<pre><code>No TCP connection for session oxsyxbwp in GenericMessage [payload=byte[1094], headers={simpMessageType=MESSAGE, nativeHeaders={simpOrigDestination=[/user/exchange/amq.direct/get-notifications]}, contentType=application/json, simpSessionId=oxsyxbwp, simpDestination=/exchange/amq.direct/get-notifications-useroxsyxbwp}]\n</code></pre>\n<p>and digging into the source code i see that the broker returns without sending the message if tcp connection is not present</p>\n<p><strong>Expected</strong>:</p>\n<p>to be able to succesfully publish message for a user websocket subscription, even from the microservice instance that didn't create the websocket connection/session to the client, since i'm using an external broker, and spring is supposed to alert the other server that &quot;own&quot; the websocket session, as far as i understand? Otherwise why would someone bother with an external broker relay?</p>\n<p>this is the relevant configuration</p>\n<pre><code>   @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableStompBrokerRelay(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/exchange/&quot;)\n            .setAutoStartup(Boolean.TRUE)\n            .setSystemHeartbeatReceiveInterval(50000)\n            .setSystemHeartbeatSendInterval(50000)\n            .setRelayHost(applicationProperties.getWebsocket().getRelayhost())\n            .setRelayPort(applicationProperties.getWebsocket().getRelayport())\n            .setClientLogin(applicationProperties.getWebsocket().getLogin())\n            .setSystemLogin(applicationProperties.getWebsocket().getLogin())\n            .setSystemPasscode(applicationProperties.getWebsocket().getPasscode())\n            .setClientPasscode(applicationProperties.getWebsocket().getPasscode())\n            .setTcpClient(createTcpClient())\n\n            .setUserDestinationBroadcast(&quot;/topic/unresolved.user.dest&quot;)\n            .setUserRegistryBroadcast(&quot;/topic/registry.broadcast&quot;);\n\n        config.setPathMatcher(new AntPathMatcher(&quot;.&quot;));\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n\n    }\n   private ReactorNettyTcpClient&lt;byte[]&gt; createTcpClient() {\n\n        return new ReactorNettyTcpClient&lt;&gt;(applicationProperties.getWebsocket().getRelayhost(),\n            applicationProperties.getWebsocket().getRelayport(),\n            new StompReactorNettyCodec());\n   }\n</code></pre>\n<p>this is how i publish messages:</p>\n<pre><code>public static final String CHANNEL_NAME = &quot;/exchange/amq.direct/get-notifications&quot;;\npublic static final String NOTIFICATION_DEST = &quot;/user/exchange/amq.direct/get-notifications&quot;;\n\n retrieveWebsocketSessionId(jhiUserId, users)\n                .ifPresent(sessionId -&gt;\n                    // send to user\n                    messagingTemplate.convertAndSendToUser(\n                        sessionId,\n                        CHANNEL_NAME,\n                        notificationList,\n                        simpMessageHelper.createHeaders(sessionId)\n                    )\n                );\n\n    private Optional&lt;String&gt; retrieveWebsocketSessionId(String jhiUserId, Set&lt;SimpUser&gt; users) {\n        for (SimpUser user : users) {\n            if (user.getName().equals(jhiUserId)) {\n                for (SimpSession session : user.getSessions()) {\n                    // find if that session has our subscription associated\n                    for (SimpSubscription sub : session.getSubscriptions()) {\n                        if (sub.getDestination().equals(NOTIFICATION_DEST)) {\n                            log.info(&quot;user {} is logged in. forwarding message to destination {} with session Id: {}&quot;, jhiUserId, sub.getDestination(), session.getId());\n                            return Optional.of(session.getId());\n                        }\n                    }\n                }\n            }\n        }\n        log.info(&quot;user {} currently is not logged in or he hasn't a websocket connection yet. discard message&quot;, jhiUserId);\n        return Optional.empty();\n    }\n</code></pre>\n<p>thank you in advance for any pointers or clarifications</p>\n<p>p.s. version: spring-boot-starter-websocket\\2.7.3\\spring-boot-starter-websocket-2.7.3.pom</p>\n<p><strong>EDIT</strong>:\nas a &quot;workaround&quot; i changed my flow as follow: every instance of the microservice gets the notification message from a queue (actually in my full system the rest api invoked send a message in a rabbitmq queue, and the notification microservice read the message, perform some logic and push it to the websocket connection)</p>\n<p>then the instance check if the user is actually connected to the websocket local registry, if so push the message to the websocket, otherwise it exits without doing nothing</p>\n<p>this is how i collect the info about an user being connected to the local instance:</p>\n<pre><code>  // map of jhiUserId / simpSessionId, or null if not connected to the instance\n    private Map&lt;String, String&gt; connectedSessionsMap = new ConcurrentHashMap&lt;&gt;();\n    @EventListener\n    public void handleBrokerAvailabilityEvent(BrokerAvailabilityEvent event) {\n        log.info(&quot;Broker rabbitmq available: {}&quot;, event.isBrokerAvailable());\n        connectedSessionsMap.clear();\n    }\n    @EventListener\n    public void handleSessionDisconnectEvent(SessionDisconnectEvent event) {\n        StompHeaderAccessor headers = StompHeaderAccessor.wrap(event.getMessage());\n        Principal principal = headers.getUser();\n        if (principal != null) {\n            String username = principal.getName();\n            log.info(&quot;Websocket session disconnected, user: {} sessionId: {}, populating connectedSessionsMap cache&quot;, username, headers.getSessionId());\n            connectedSessionsMap.put(username, null);\n        } else {\n            log.warn(&quot;WARNING: no principal found for ws disconnected event: {} , message: {}&quot;, event, event.getMessage());\n        }\n    }\n\n    @EventListener\n    public void handleSessionConnectEvent(SessionConnectEvent event) {\n        StompHeaderAccessor headers = StompHeaderAccessor.wrap(event.getMessage());\n        Principal principal = headers.getUser();\n        if (principal != null) {\n            String username = principal.getName();\n            log.info(&quot;Websocket session connect, user: {} sessionId: {}, populating connectedSessionsMap cache&quot;, username, headers.getSessionId());\n            connectedSessionsMap.put(username, headers.getSessionId());\n        } else {\n            log.warn(&quot;WARNING: no principal found for ws connect event: {} , message: {}&quot;, event, event.getMessage());\n        }\n\n    }\n</code></pre>\n<p>this is the logic the read from the message queue and propagate the message to the websocket</p>\n<pre><code>  @RabbitListener(queues = &quot;#{exportQueue.getName()}&quot;)\n    public void listen(BaseMessage&lt;ExportMessageDTO&gt; inMessage) {\n\n        log.info(&quot;Received message from rabbitmq broker {} , {} {}&quot;, inMessage, exportQueue.getName(), exportQueue.getActualName());\n\n\n        String id = inMessage.getPrincipalId();\n        String email = inMessage.getPrincipalEmail();\n        String message = inMessage.getData().getMessage();\n\n        if (!pushNotificationDelegate.checkIfUserIsLocal(id)) {\n         log.info(&quot;user {} not connected to this server, another instance will handle the message, exiting...&quot;, id);\n         return;\n        }\n[...]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5587685,"reputation":1003,"user_id":4427829,"display_name":"Amit Naik"},"score":7,"creation_date":1538550640,"post_id":52621518,"comment_id":92176778,"body_markdown":"dependency injection in an interface won&#39;t work cause you can&#39;t instantiate an interface so you wont be able to inject anything.","body":"dependency injection in an interface won&#39;t work cause you can&#39;t instantiate an interface so you wont be able to inject anything."},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":0,"creation_date":1538551161,"post_id":52621518,"comment_id":92177045,"body_markdown":"Use the annotation in the implementation class.","body":"Use the annotation in the implementation class."}],"answers":[{"comments":[{"owner":{"account_id":3500565,"reputation":369,"user_id":2927422,"display_name":"Pablo Fradua"},"score":2,"creation_date":1538550868,"post_id":52621591,"comment_id":92176896,"body_markdown":"Thanks for the advice, but it will be cleaner to switch to an abstract class (in my case).","body":"Thanks for the advice, but it will be cleaner to switch to an abstract class (in my case)."}],"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1538550676,"creation_date":1538550676,"answer_id":52621591,"question_id":52621518,"body_markdown":"Adding a Variable into interface is not possible in Java. It will be by default a `public static final` constant. So you have to do either the following:\r\n\r\n    MyValidationBean beanToBeAutowired = new MyValidationBeanImpl();\r\n\r\nor the following:\r\n\r\n    MyValidationBean beanToBeAutowired();\r\n\r\n    default Boolean doSomeNewValidations(){\r\n        return beanToBeAutowired().doSomeNewValidations();\r\n    }\r\n\r\nAnd you can override the `beanToBeAutowired` method in the implementation class.","title":"Autowire Spring Bean into interface for default method","body":"<p>Adding a Variable into interface is not possible in Java. It will be by default a <code>public static final</code> constant. So you have to do either the following:</p>\n\n<pre><code>MyValidationBean beanToBeAutowired = new MyValidationBeanImpl();\n</code></pre>\n\n<p>or the following:</p>\n\n<pre><code>MyValidationBean beanToBeAutowired();\n\ndefault Boolean doSomeNewValidations(){\n    return beanToBeAutowired().doSomeNewValidations();\n}\n</code></pre>\n\n<p>And you can override the <code>beanToBeAutowired</code> method in the implementation class.</p>\n"},{"comments":[{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1538550791,"post_id":52621612,"comment_id":92176855,"body_markdown":"I was thinking the same thing... I&#39;d recommend providing a basic implementation to this answer to demonstrate how this might work","body":"I was thinking the same thing... I&#39;d recommend providing a basic implementation to this answer to demonstrate how this might work"},{"owner":{"account_id":3500565,"reputation":369,"user_id":2927422,"display_name":"Pablo Fradua"},"score":0,"creation_date":1538551077,"post_id":52621612,"comment_id":92176997,"body_markdown":"Same as with shazin&#39;s answer, would work but it&#39;s be easier in my case to switch to an abstract class. Thanks for the input","body":"Same as with shazin&#39;s answer, would work but it&#39;s be easier in my case to switch to an abstract class. Thanks for the input"},{"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"score":0,"creation_date":1681817065,"post_id":52621612,"comment_id":134114373,"body_markdown":"Maybe making it an abstract class will not do. Simply because the child class can only extend one parent class, and you may need to add this behavior to a class which is already extending something. Hence, you may need an interface. Example: PeriodicTask interface, Human parent class, Man child class. A Man extends Human and implements PeriodicTask, which means a Man is also a Human, and can execute all behaviors inside PeriodicTask. PeriodicTask cannot be another abstract class.","body":"Maybe making it an abstract class will not do. Simply because the child class can only extend one parent class, and you may need to add this behavior to a class which is already extending something. Hence, you may need an interface. Example: PeriodicTask interface, Human parent class, Man child class. A Man extends Human and implements PeriodicTask, which means a Man is also a Human, and can execute all behaviors inside PeriodicTask. PeriodicTask cannot be another abstract class."}],"tags":[],"owner":{"account_id":5587685,"reputation":1003,"user_id":4427829,"display_name":"Amit Naik"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538550962,"creation_date":1538550753,"answer_id":52621612,"question_id":52621518,"body_markdown":"i can think of solution as below -\r\n\r\n    public interface IValidator {\r\n\r\n       public Service getBeanToBeAutowired();\r\n   \r\n       default Boolean doSomeNewValidations(){\r\n        return getBeanToBeAutowired().doSomeNewValidations();\r\n       }\r\n\r\n    }\r\n\r\n    public class ValidatorClass implements IValidator {\r\n    \r\n        @Autowire private Service service;\r\n    \r\n        @Override\r\n        public Service getBeanToBeAutowired() {\r\n            return service;\r\n        }\r\n    \r\n    }","title":"Autowire Spring Bean into interface for default method","body":"<p>i can think of solution as below -</p>\n\n<pre><code>public interface IValidator {\n\n   public Service getBeanToBeAutowired();\n\n   default Boolean doSomeNewValidations(){\n    return getBeanToBeAutowired().doSomeNewValidations();\n   }\n\n}\n\npublic class ValidatorClass implements IValidator {\n\n    @Autowire private Service service;\n\n    @Override\n    public Service getBeanToBeAutowired() {\n        return service;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"score":0,"creation_date":1681816844,"post_id":52621872,"comment_id":134114321,"body_markdown":"I think this is not the case because the MyValidationBean is the same for all implementations. Hence, no need to be an argument.","body":"I think this is not the case because the MyValidationBean is the same for all implementations. Hence, no need to be an argument."}],"tags":[],"owner":{"account_id":14242449,"reputation":2057,"user_id":10288420,"display_name":"drowny"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538551624,"creation_date":1538551624,"answer_id":52621872,"question_id":52621518,"body_markdown":"***Just an idea***, send validation `bean` to interface as `parameter`;\r\n\r\n\r\n    public interface IValidator {\r\n    \r\n        default Boolean doSomeNewValidations(MyValidationBean beanToBeAutowired){\r\n            return beanToBeAutowired.doSomeNewValidations();\r\n        }\r\n    }\r\n\r\n\r\nYour `callerClass`; \r\n\r\n\r\n    public class CallerClass implements IValidator{\r\n         \r\n        @Autowired\r\n        MyValidationBean beanToBeAutowired;\r\n        ...\r\n\r\n        doSomeNewValidations(beanToBeAutowired);\r\n    \r\n    }","title":"Autowire Spring Bean into interface for default method","body":"<p><strong><em>Just an idea</em></strong>, send validation <code>bean</code> to interface as <code>parameter</code>;</p>\n\n<pre><code>public interface IValidator {\n\n    default Boolean doSomeNewValidations(MyValidationBean beanToBeAutowired){\n        return beanToBeAutowired.doSomeNewValidations();\n    }\n}\n</code></pre>\n\n<p>Your <code>callerClass</code>; </p>\n\n<pre><code>public class CallerClass implements IValidator{\n\n    @Autowired\n    MyValidationBean beanToBeAutowired;\n    ...\n\n    doSomeNewValidations(beanToBeAutowired);\n\n}\n</code></pre>\n"}],"owner":{"account_id":3500565,"reputation":369,"user_id":2927422,"display_name":"Pablo Fradua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13401,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":52621591,"answer_count":3,"score":11,"last_activity_date":1681820312,"creation_date":1538550447,"question_id":52621518,"body_markdown":"I need to add a default method to an interface some classes implement, but my IDE complains (`bean may not have been initialized`).\r\nCode would be something like this:\r\n\r\n    public interface IValidator {\r\n    \r\n        MyValidationBean beanToBeAutowired;\r\n        ...\r\n        default Boolean doSomeNewValidations(){\r\n            return beanToBeAutowired.doSomeNewValidations();\r\n        }\r\n    }\r\n\r\nIs it just that autowiring into interfaces is not allowed or there&#39;s something wrong with the code?\r\nUsing `@Component` on the interface doesn&#39;t make any difference.\r\n\r\nI&#39;d rather keep this design instead of using an abstract class.","title":"Autowire Spring Bean into interface for default method","body":"<p>I need to add a default method to an interface some classes implement, but my IDE complains (<code>bean may not have been initialized</code>).\nCode would be something like this:</p>\n\n<pre><code>public interface IValidator {\n\n    MyValidationBean beanToBeAutowired;\n    ...\n    default Boolean doSomeNewValidations(){\n        return beanToBeAutowired.doSomeNewValidations();\n    }\n}\n</code></pre>\n\n<p>Is it just that autowiring into interfaces is not allowed or there's something wrong with the code?\nUsing <code>@Component</code> on the interface doesn't make any difference.</p>\n\n<p>I'd rather keep this design instead of using an abstract class.</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-validator","apache-commons-beanutils"],"answers":[{"comments":[{"owner":{"account_id":18941383,"reputation":77,"user_id":14295696,"display_name":"BaaDe"},"score":0,"creation_date":1616974197,"post_id":66846788,"comment_id":118163118,"body_markdown":"Thank you! Ii&#39;ve been looking for something to help me all day and I didn&#39;t even think they could be different class methods\nYou saved me!","body":"Thank you! Ii&#39;ve been looking for something to help me all day and I didn&#39;t even think they could be different class methods You saved me!"},{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1617003953,"post_id":66846788,"comment_id":118168842,"body_markdown":"That&#39;s great to hear :) We all have been in the same situationn. Keep going and good luck :)","body":"That&#39;s great to hear :) We all have been in the same situationn. Keep going and good luck :)"}],"tags":[],"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617004025,"creation_date":1616970432,"answer_id":66846788,"question_id":66846574,"body_markdown":"So I checked the [Spring-Framework](https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/BeanUtils.java) `BeanUtils.java`.\r\n\r\nBut there wasn&#39;t any method `getProperty()`. \r\n\r\nThen I looked for other BeanUtils.getProperty() methods and there is the `Apache Commons` [BeanUtils](http://commons.apache.org/proper/commons-beanutils/). \r\n\r\nTake a look at the class [methods/fields](http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html) and here the [getProperty()](http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#getProperty-java.lang.Object-java.lang.String-)\r\n\r\nYou can also search the [PropertyUtils](http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/index.html) class\r\n\r\nCheck [here](https://www.codota.com/code/java/methods/org.apache.commons.beanutils.BeanUtils/getProperty) for examples as well.\r\n\r\nHope it will help. Good luck :)","title":"Cannot resolve method &#39;getProperty&#39; in &#39;BeanUtils&#39;","body":"<p>So I checked the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/BeanUtils.java\" rel=\"nofollow noreferrer\">Spring-Framework</a> <code>BeanUtils.java</code>.</p>\n<p>But there wasn't any method <code>getProperty()</code>.</p>\n<p>Then I looked for other BeanUtils.getProperty() methods and there is the <code>Apache Commons</code> <a href=\"http://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">BeanUtils</a>.</p>\n<p>Take a look at the class <a href=\"http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html\" rel=\"nofollow noreferrer\">methods/fields</a> and here the <a href=\"http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#getProperty-java.lang.Object-java.lang.String-\" rel=\"nofollow noreferrer\">getProperty()</a></p>\n<p>You can also search the <a href=\"http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/index.html\" rel=\"nofollow noreferrer\">PropertyUtils</a> class</p>\n<p>Check <a href=\"https://www.codota.com/code/java/methods/org.apache.commons.beanutils.BeanUtils/getProperty\" rel=\"nofollow noreferrer\">here</a> for examples as well.</p>\n<p>Hope it will help. Good luck :)</p>\n"},{"tags":[],"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681819999,"creation_date":1681819999,"answer_id":76044476,"question_id":66846574,"body_markdown":"I know this question is bit old,but whoever wants to stick to spring framework can use the below.\r\n\r\n  \r\n\r\n     BeanWrapper beanWrapper = PropertyAccessorFactory.forBeanPropertyAccess(value);\r\n     final Object actualFieldValue = beanWrapper.getPropertyValue(fieldName);","title":"Cannot resolve method &#39;getProperty&#39; in &#39;BeanUtils&#39;","body":"<p>I know this question is bit old,but whoever wants to stick to spring framework can use the below.</p>\n<pre><code> BeanWrapper beanWrapper = PropertyAccessorFactory.forBeanPropertyAccess(value);\n final Object actualFieldValue = beanWrapper.getPropertyValue(fieldName);\n</code></pre>\n"}],"owner":{"account_id":18941383,"reputation":77,"user_id":14295696,"display_name":"BaaDe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66846788,"answer_count":2,"score":0,"last_activity_date":1681819999,"creation_date":1616968469,"question_id":66846574,"body_markdown":"I&#39;m trying to make a custom annotation using hibernate validator,found an &quot;old&quot; code right here on stackOverflow but there is a method called\r\n\r\n    BeanUtils.getProperty ()\r\n\r\nwhich returns me the following error:\r\n\r\n    Cannot solve method &#39;getProperty&#39; in &#39;BeanUtils&#39;\r\n\r\nI didn&#39;t find anything recent on the internet about it, does this method no longer exist? how can I replace it and maintain functionality?\r\n\r\nHere the code I&#39;m referring to:\r\n\r\n    package br.com.bandtec.projetocaputeam.dominio.validator;\r\n    \r\n    import org.springframework.beans.BeanUtils;\r\n    import javax.validation.ConstraintValidator;\r\n    import javax.validation.ConstraintValidatorContext;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    /**\r\n     * Implementation of {@link NotNullIfAnotherFieldHasValue} validator.\r\n     **/\r\n    /**\r\n     * Implementation of {@link NotNullIfAnotherFieldHasValue} validator.\r\n     **/\r\n    public class NotNullIfAnotherFieldHasValueValidator\r\n            implements ConstraintValidator&lt;NotNullIfAnotherFieldHasValue, Object&gt; {\r\n    \r\n        private String fieldName;\r\n        private String expectedFieldValue;\r\n        private String dependFieldName;\r\n    \r\n        @Override\r\n        public void initialize(NotNullIfAnotherFieldHasValue annotation) {\r\n            fieldName          = annotation.fieldName();\r\n            expectedFieldValue = annotation.fieldValue();\r\n            dependFieldName    = annotation.dependFieldName();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext ctx) {\r\n    \r\n            if (value == null) {\r\n                return true;\r\n            }\r\n    \r\n            try {\r\n                String fieldValue       = BeanUtils.getProperty(value, fieldName);\r\n                String dependFieldValue = BeanUtils.getProperty(value, dependFieldName);\r\n    \r\n                if (expectedFieldValue.equals(fieldValue) &amp;&amp; dependFieldValue == null) {\r\n                    ctx.disableDefaultConstraintViolation();\r\n                    ctx.buildConstraintViolationWithTemplate(ctx.getDefaultConstraintMessageTemplate())\r\n                            .addNode(dependFieldName)\r\n                            .addConstraintViolation();\r\n                    return false;\r\n                }\r\n    \r\n            } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nAnd [here&#39;s][1] the page where I got this code\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9284450/jsr-303-validation-if-one-field-equals-something-then-these-other-fields-sho/9287796#9287796\r\n","title":"Cannot resolve method &#39;getProperty&#39; in &#39;BeanUtils&#39;","body":"<p>I'm trying to make a custom annotation using hibernate validator,found an &quot;old&quot; code right here on stackOverflow but there is a method called</p>\n<pre><code>BeanUtils.getProperty ()\n</code></pre>\n<p>which returns me the following error:</p>\n<pre><code>Cannot solve method 'getProperty' in 'BeanUtils'\n</code></pre>\n<p>I didn't find anything recent on the internet about it, does this method no longer exist? how can I replace it and maintain functionality?</p>\n<p>Here the code I'm referring to:</p>\n<pre><code>package br.com.bandtec.projetocaputeam.dominio.validator;\n\nimport org.springframework.beans.BeanUtils;\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\nimport java.lang.reflect.InvocationTargetException;\n\n/**\n * Implementation of {@link NotNullIfAnotherFieldHasValue} validator.\n **/\n/**\n * Implementation of {@link NotNullIfAnotherFieldHasValue} validator.\n **/\npublic class NotNullIfAnotherFieldHasValueValidator\n        implements ConstraintValidator&lt;NotNullIfAnotherFieldHasValue, Object&gt; {\n\n    private String fieldName;\n    private String expectedFieldValue;\n    private String dependFieldName;\n\n    @Override\n    public void initialize(NotNullIfAnotherFieldHasValue annotation) {\n        fieldName          = annotation.fieldName();\n        expectedFieldValue = annotation.fieldValue();\n        dependFieldName    = annotation.dependFieldName();\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext ctx) {\n\n        if (value == null) {\n            return true;\n        }\n\n        try {\n            String fieldValue       = BeanUtils.getProperty(value, fieldName);\n            String dependFieldValue = BeanUtils.getProperty(value, dependFieldName);\n\n            if (expectedFieldValue.equals(fieldValue) &amp;&amp; dependFieldValue == null) {\n                ctx.disableDefaultConstraintViolation();\n                ctx.buildConstraintViolationWithTemplate(ctx.getDefaultConstraintMessageTemplate())\n                        .addNode(dependFieldName)\n                        .addConstraintViolation();\n                return false;\n            }\n\n        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException ex) {\n            throw new RuntimeException(ex);\n        }\n\n        return true;\n    }\n\n}\n</code></pre>\n<p>And <a href=\"https://stackoverflow.com/questions/9284450/jsr-303-validation-if-one-field-equals-something-then-these-other-fields-sho/9287796#9287796\">here's</a> the page where I got this code</p>\n"},{"tags":["java","html","spring-boot","web","spring-restcontroller"],"answers":[{"comments":[{"owner":{"display_name":"user20879521"},"score":0,"creation_date":1681819331,"post_id":76044078,"comment_id":134114974,"body_markdown":"Thank you! This is not working in my case, but thank you for your suggestion.","body":"Thank you! This is not working in my case, but thank you for your suggestion."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681817693,"creation_date":1681817693,"answer_id":76044078,"question_id":76043996,"body_markdown":"To return the HTML page (view), you have to use Spring MVC, i.e. `@Controller` instead of `@RestController` and return `ModelAndView` with `index` as a view name:\r\n\r\n```java\r\n@Controller\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/webpage&quot;)\r\npublic class IndexController {\r\n\r\n    @GetMapping(path = {&quot;mainpage&quot;})\r\n    public ModelAndView index() {\r\n        final var modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n    // other methods\r\n}\r\n```","title":"Return Html page using RestController in Spring Boot","body":"<p>To return the HTML page (view), you have to use Spring MVC, i.e. <code>@Controller</code> instead of <code>@RestController</code> and return <code>ModelAndView</code> with <code>index</code> as a view name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@AllArgsConstructor\n@RequestMapping(&quot;/webpage&quot;)\npublic class IndexController {\n\n    @GetMapping(path = {&quot;mainpage&quot;})\n    public ModelAndView index() {\n        final var modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;index&quot;);\n        return modelAndView;\n    }\n\n    // other methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26324839,"reputation":26,"user_id":19986323,"display_name":"Johnson Jayaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681819923,"creation_date":1681817965,"answer_id":76044123,"question_id":76043996,"body_markdown":"Please note that your class IndexController shall not have `@RestController` if you need to show an HTML page. It shall only have `@Controller`.\r\n\r\nIn simple terms `@RestController = @Controller + @ResponseBody`\r\n\r\nIn your case, the `@RestController` annotation you used makes all the methods within it `@ResponseBody` by default, and you don&#39;t have to explicitly mention\r\n\r\n`@ResponseBody` annotation doesn&#39;t show the view instead it sends a String response.\r\n\r\nSteps to fix this issue:\r\n1. Change `@RestController` annotation to `@Controller` in class level\r\n2. Remove `@ResponseBody` from the method in which you&#39;re planning to show the HTML\r\n\r\nSo your code will be \r\n\r\n```java\r\n@Controller\r\n@AllArgsConstructor\r\n@RequestMapping(path = &quot;/webpage&quot;)\r\npublic class IndexController {\r\n\r\n    @GetMapping(path = {&quot;mainpage&quot;})\r\n    public String index(){\r\n        return &quot;Index&quot;;\r\n    }\r\n\r\n   //Other methods\r\n    \r\n}\r\n```\r\n\r\nJust make sure you have `spring-boot-starter-thymeleaf` dependency in your POM.xml\r\n\r\nThanks.\r\n\r\n ","title":"Return Html page using RestController in Spring Boot","body":"<p>Please note that your class IndexController shall not have <code>@RestController</code> if you need to show an HTML page. It shall only have <code>@Controller</code>.</p>\n<p>In simple terms <code>@RestController = @Controller + @ResponseBody</code></p>\n<p>In your case, the <code>@RestController</code> annotation you used makes all the methods within it <code>@ResponseBody</code> by default, and you don't have to explicitly mention</p>\n<p><code>@ResponseBody</code> annotation doesn't show the view instead it sends a String response.</p>\n<p>Steps to fix this issue:</p>\n<ol>\n<li>Change <code>@RestController</code> annotation to <code>@Controller</code> in class level</li>\n<li>Remove <code>@ResponseBody</code> from the method in which you're planning to show the HTML</li>\n</ol>\n<p>So your code will be</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@AllArgsConstructor\n@RequestMapping(path = &quot;/webpage&quot;)\npublic class IndexController {\n\n    @GetMapping(path = {&quot;mainpage&quot;})\n    public String index(){\n        return &quot;Index&quot;;\n    }\n\n   //Other methods\n    \n}\n</code></pre>\n<p>Just make sure you have <code>spring-boot-starter-thymeleaf</code> dependency in your POM.xml</p>\n<p>Thanks.</p>\n"}],"owner":{"display_name":"user20879521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76044123,"answer_count":2,"score":1,"last_activity_date":1681819923,"creation_date":1681817186,"question_id":76043996,"body_markdown":"I am trying to get the HTML page that I created. This is the structure of my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the &quot;IndexController&quot; class:\r\n\r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(path = &quot;/webpage&quot;)\r\n    public class IndexController {\r\n    \r\n            @GetMapping(path = {&quot;mainpage&quot;})\r\n            @ResponseBody\r\n            public String index(){\r\n                return &quot;Index&quot;;\r\n            }\r\n        \r\n            @PostMapping(&quot;/check&quot;)\r\n            public String CheckDataset(@ModelAttribute CheckModel checkModel){\r\n                System.out.println(checkModel);\r\n                return null;\r\n            }\r\n        \r\n        }\r\n\r\nWhen I open the HTML webpage directly from intellij:\r\n\r\n[![enter image description here][2]][2] \r\n\r\nIs opening perfectly, but when I am trying to open the HTML from Spring Boot is returning just the &quot;Index&quot; String.\r\n\r\nDo you have any idea how to solve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wvmus.png\r\n  [2]: https://i.stack.imgur.com/DB1gD.png","title":"Return Html page using RestController in Spring Boot","body":"<p>I am trying to get the HTML page that I created. This is the structure of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/Wvmus.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wvmus.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the &quot;IndexController&quot; class:</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(path = &quot;/webpage&quot;)\npublic class IndexController {\n\n        @GetMapping(path = {&quot;mainpage&quot;})\n        @ResponseBody\n        public String index(){\n            return &quot;Index&quot;;\n        }\n    \n        @PostMapping(&quot;/check&quot;)\n        public String CheckDataset(@ModelAttribute CheckModel checkModel){\n            System.out.println(checkModel);\n            return null;\n        }\n    \n    }\n</code></pre>\n<p>When I open the HTML webpage directly from intellij:</p>\n<p><a href=\"https://i.stack.imgur.com/DB1gD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DB1gD.png\" alt=\"enter image description here\" /></a></p>\n<p>Is opening perfectly, but when I am trying to open the HTML from Spring Boot is returning just the &quot;Index&quot; String.</p>\n<p>Do you have any idea how to solve this?</p>\n"},{"tags":["java","apache-flink","ttl"],"answers":[{"comments":[{"owner":{"account_id":283698,"reputation":1799,"user_id":581351,"accept_rate":100,"display_name":"sakisk"},"score":0,"creation_date":1681887441,"post_id":76044457,"comment_id":134127442,"body_markdown":"Can you please add a reference to the &quot;can have only one cleanup option at a time&quot;?","body":"Can you please add a reference to the &quot;can have only one cleanup option at a time&quot;?"}],"tags":[],"owner":{"account_id":28334279,"reputation":26,"user_id":21668073,"display_name":"MessoMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681819869,"creation_date":1681819869,"answer_id":76044457,"question_id":76043019,"body_markdown":"### ** I propose you 3 ways **\r\nAccording to the official Apache Flink documentation, the StateTtlConfig can have only one cleanup option at a time. So in the example you provided, it is not valid to combine the cleanupInRocksdbCompactFilter and cleanupFullSnapshot options together.\r\n\r\nTherefore, you need to choose one of them based on your use case. The cleanupInRocksdbCompactFilter option is generally more efficient, as it only cleans up expired state during RocksDB compaction, whereas the cleanupFullSnapshot option takes a full snapshot of the state and removes all expired state in one go.\r\n\r\nSo, for example, if you have large amounts of state and you want to minimize the impact on performance, you can use the cleanupInRocksdbCompactFilter option with a high cleanupInRocksdbCompactFilter value. On the other hand, if you have a smaller amount of state and need to ensure that expired state is removed as soon as possible, you can use the cleanupFullSnapshot option.\r\n## ** 1rst way -**\r\nHere&#39;s an example of a valid StateTtlConfig that uses the cleanupInRocksdbCompactFilter option:\r\n\r\n```Java\r\nStateTtlConfig ttlConfig = StateTtlConfig\r\n    .newBuilder(Time.minutes(3))\r\n    .cleanupInRocksdbCompactFilter(1000)\r\n    .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\r\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\r\n    .build();\r\n```\r\n\r\n## ** 2nd way -**\r\n\r\n```Java\r\nStateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Duration.ofMinutes(3))\r\n    .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\r\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\r\n    .cleanupFullSnapshot()\r\n    .cleanupInBackground(Duration.ofMinutes(1))\r\n    .build();\r\n```\r\nIn this example, we&#39;re using the `Duration` class instead of the deprecated Time class. We&#39;re also setting the UpdateType to `OnCreateAndWrite`, which means that the TTL will be checked when a new value is written to the state and when it&#39;s initially created. We&#39;re also using `StateVisibility.NeverReturnExpired` to ensure that expired state values are never returned by the Flink job.\r\n\r\nAdditionally, we&#39;re using both `cleanupFullSnapshot()` and `cleanupInBackground(Duration.ofMinutes(1))` to ensure that expired state is efficiently cleaned up both during a full snapshot and in the background at regular intervals. This helps to minimize the impact on the job&#39;s performance while still maintaining efficient state cleanup.\r\n\r\nOverall, this example provides a more robust and professional configuration for a Flink StateTtlConfig.\r\n\r\n\r\n## ** 3rd way - **\r\n```Java\r\nimport org.apache.flink.api.common.state.StateTtlConfig;\r\nimport org.apache.flink.api.common.time.Time;\r\n\r\nStateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Time.minutes(3))\r\n    // Only keep data in RocksDB for 1000 records\r\n    .cleanupInRocksdbCompactFilter(1000)\r\n    // Take full snapshot of state to remove expired keys\r\n    .cleanupFullSnapshot()\r\n    // Update TTL on both read and write operations\r\n    .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\r\n    // Never return expired state\r\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\r\n    .build();\r\n```\r\nhere i assumes that the required Flink libraries are already imported and that this code is being used within a valid Flink context.\r\n","title":"Is this a valid Flink StateTtlConfig?","body":"<h3>** I propose you 3 ways **</h3>\n<p>According to the official Apache Flink documentation, the StateTtlConfig can have only one cleanup option at a time. So in the example you provided, it is not valid to combine the cleanupInRocksdbCompactFilter and cleanupFullSnapshot options together.</p>\n<p>Therefore, you need to choose one of them based on your use case. The cleanupInRocksdbCompactFilter option is generally more efficient, as it only cleans up expired state during RocksDB compaction, whereas the cleanupFullSnapshot option takes a full snapshot of the state and removes all expired state in one go.</p>\n<p>So, for example, if you have large amounts of state and you want to minimize the impact on performance, you can use the cleanupInRocksdbCompactFilter option with a high cleanupInRocksdbCompactFilter value. On the other hand, if you have a smaller amount of state and need to ensure that expired state is removed as soon as possible, you can use the cleanupFullSnapshot option.</p>\n<h2>** 1rst way -**</h2>\n<p>Here's an example of a valid StateTtlConfig that uses the cleanupInRocksdbCompactFilter option:</p>\n<pre><code>StateTtlConfig ttlConfig = StateTtlConfig\n    .newBuilder(Time.minutes(3))\n    .cleanupInRocksdbCompactFilter(1000)\n    .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\n    .build();\n</code></pre>\n<h2>** 2nd way -**</h2>\n<pre><code>StateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Duration.ofMinutes(3))\n    .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\n    .cleanupFullSnapshot()\n    .cleanupInBackground(Duration.ofMinutes(1))\n    .build();\n</code></pre>\n<p>In this example, we're using the <code>Duration</code> class instead of the deprecated Time class. We're also setting the UpdateType to <code>OnCreateAndWrite</code>, which means that the TTL will be checked when a new value is written to the state and when it's initially created. We're also using <code>StateVisibility.NeverReturnExpired</code> to ensure that expired state values are never returned by the Flink job.</p>\n<p>Additionally, we're using both <code>cleanupFullSnapshot()</code> and <code>cleanupInBackground(Duration.ofMinutes(1))</code> to ensure that expired state is efficiently cleaned up both during a full snapshot and in the background at regular intervals. This helps to minimize the impact on the job's performance while still maintaining efficient state cleanup.</p>\n<p>Overall, this example provides a more robust and professional configuration for a Flink StateTtlConfig.</p>\n<h2>** 3rd way - **</h2>\n<pre><code>import org.apache.flink.api.common.state.StateTtlConfig;\nimport org.apache.flink.api.common.time.Time;\n\nStateTtlConfig ttlConfig = StateTtlConfig.newBuilder(Time.minutes(3))\n    // Only keep data in RocksDB for 1000 records\n    .cleanupInRocksdbCompactFilter(1000)\n    // Take full snapshot of state to remove expired keys\n    .cleanupFullSnapshot()\n    // Update TTL on both read and write operations\n    .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\n    // Never return expired state\n    .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\n    .build();\n</code></pre>\n<p>here i assumes that the required Flink libraries are already imported and that this code is being used within a valid Flink context.</p>\n"}],"owner":{"account_id":283698,"reputation":1799,"user_id":581351,"accept_rate":100,"display_name":"sakisk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681819869,"creation_date":1681810592,"question_id":76043019,"body_markdown":"By reading the [official docs][1], it&#39;s not clear if I can combine different cleanup options, in this case `cleanupInRocksdbCompactFilter` and `cleanupFullSnapshot`.\r\n\r\n```\r\nStateTtlConfig ttlConfig = StateTtlConfig\r\n                .newBuilder(Time.minutes(3))\r\n                .cleanupInRocksdbCompactFilter(1000)\r\n                .cleanupFullSnapshot()\r\n                .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\r\n                .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\r\n                .build();\r\n```\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/dev/datastream/fault-tolerance/state/#state-time-to-live-ttl","title":"Is this a valid Flink StateTtlConfig?","body":"<p>By reading the <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/dev/datastream/fault-tolerance/state/#state-time-to-live-ttl\" rel=\"nofollow noreferrer\">official docs</a>, it's not clear if I can combine different cleanup options, in this case <code>cleanupInRocksdbCompactFilter</code> and <code>cleanupFullSnapshot</code>.</p>\n<pre><code>StateTtlConfig ttlConfig = StateTtlConfig\n                .newBuilder(Time.minutes(3))\n                .cleanupInRocksdbCompactFilter(1000)\n                .cleanupFullSnapshot()\n                .setUpdateType(StateTtlConfig.UpdateType.OnReadAndWrite)\n                .setStateVisibility(StateTtlConfig.StateVisibility.NeverReturnExpired)\n                .build();\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681806215,"post_id":76042343,"comment_id":134111899,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551). Instead [edit] your question to include the output as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>. Instead <a href=\"https://stackoverflow.com/posts/76042343/edit\">edit</a> your question to include the output as properly formatted text."},{"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1700159086,"post_id":76042343,"comment_id":136623333,"body_markdown":"Did you got the answer?","body":"Did you got the answer?"}],"owner":{"account_id":11086367,"reputation":59,"user_id":8139913,"display_name":"qijun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1681828245,"answer_count":0,"score":2,"last_activity_date":1681819757,"creation_date":1681806114,"question_id":76042343,"body_markdown":"**Dockerfile**\r\n\r\n```\r\nFROM frolvlad/alpine-glibc\r\nRUN echo http://mirrors.aliyun.com/alpine/v3.10/main/ &gt; /etc/apk/repositories &amp;&amp; echo http://mirrors.aliyun.com/alpine/v3.10/community/ &gt;&gt; /etc/apk/repositories &amp;&amp; apk update\r\nRUN apk add -U tzdata\r\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &#39;Asia/Shanghai&#39; &gt;/etc/timezone\r\nENV LANG=zh_CN.UTF-8\r\nENV LANGUAGE=zh_CN.UTF-8\r\n\r\nADD jdk-17_linux-x64_bin.tar.gz /usr/java\r\n\r\nRUN ln -s /usr/java/jdk-17.0.6 /usr/java/default\r\nENV JAVA_HOME=/usr/java/default\r\nENV PATH $JAVA_HOME/bin:$PATH\r\n```\r\n\r\n**docker version**\r\n\r\nDocker version 17.04.0-ce, build 4845c56\r\n\r\n**JDK version**\r\n\r\n```none\r\njava version &quot;17.0.6&quot; 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n\r\nIf I do not add `--security-opt seccomp=unconfined` in docker run command, it returns the error below \r\n\r\n```none\r\n/ # java -version\r\n[0.118s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.\r\n#\r\n# There is insufficient memory for the Java Runtime Environment to continue.\r\n# Cannot create worker GC thread. Out of system resources.\r\n# An error report file with more information is saved as:\r\n# //hs_err_pid6.log\r\n```\r\n","title":"oracle jdk17 in docker Failed to start thread &quot;GC Thread#0&quot;","body":"<p><strong>Dockerfile</strong></p>\n<pre><code>FROM frolvlad/alpine-glibc\nRUN echo http://mirrors.aliyun.com/alpine/v3.10/main/ &gt; /etc/apk/repositories &amp;&amp; echo http://mirrors.aliyun.com/alpine/v3.10/community/ &gt;&gt; /etc/apk/repositories &amp;&amp; apk update\nRUN apk add -U tzdata\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo 'Asia/Shanghai' &gt;/etc/timezone\nENV LANG=zh_CN.UTF-8\nENV LANGUAGE=zh_CN.UTF-8\n\nADD jdk-17_linux-x64_bin.tar.gz /usr/java\n\nRUN ln -s /usr/java/jdk-17.0.6 /usr/java/default\nENV JAVA_HOME=/usr/java/default\nENV PATH $JAVA_HOME/bin:$PATH\n</code></pre>\n<p><strong>docker version</strong></p>\n<p>Docker version 17.04.0-ce, build 4845c56</p>\n<p><strong>JDK version</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;17.0.6&quot; 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n<p>If I do not add <code>--security-opt seccomp=unconfined</code> in docker run command, it returns the error below</p>\n<pre class=\"lang-none prettyprint-override\"><code>/ # java -version\n[0.118s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Cannot create worker GC thread. Out of system resources.\n# An error report file with more information is saved as:\n# //hs_err_pid6.log\n</code></pre>\n"},{"tags":["java","spring","redis","spring-data","jedis"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681750746,"post_id":76018413,"comment_id":134103905,"body_markdown":"Not sure how to avoid but I can provide a workaround.","body":"Not sure how to avoid but I can provide a workaround."},{"owner":{"account_id":6160536,"reputation":409,"user_id":4802286,"accept_rate":56,"display_name":"conjenks"},"score":0,"creation_date":1681759785,"post_id":76018413,"comment_id":134105937,"body_markdown":"@JohnWilliams I would love to hear the workaround.","body":"@JohnWilliams I would love to hear the workaround."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681819302,"creation_date":1681819302,"answer_id":76044359,"question_id":76018413,"body_markdown":"A suggested workaround is to wrap the call in a [Spring @Retryable][1] as follows. It will cause a retry when a null is returned. The retry attempts will back-off exponentially.\r\n\r\n    public class RedisRetryWrapper {\r\n    \r\n    \t@Autowired\r\n    \tprivate RedisTemplate redisTemplate;\r\n    \t\r\n    \t@Retryable(retryFor = NullReturnException.class, maxAttempts = 5, backoff = @Backoff(delay = 10))\r\n    \tpublic Object opsForHash(Object key, Object hashKey) {\r\n    \t\tObject result = redisTemplate.opsForHash().get(key, hashKey);\r\n    \t\tif (result == null) {\r\n    \t\t\tthrow new NullReturnException();\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    }\r\n\r\n`opsForHash` must be called from a class besides `RedisRetryWrapper` to allow the java proxy mechanism to work.\r\n\r\n**NullReturnException**\r\n\r\n    public class NullReturnException extends RuntimeException {}\r\n\r\n**Dependencies**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n  [1]: https://www.baeldung.com/spring-retry\r\n\r\n\r\n","title":"redisTemplate.opsForHash.get(key, hashKey) is returning null instead of proper value, due to pipelining","body":"<p>A suggested workaround is to wrap the call in a <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Spring @Retryable</a> as follows. It will cause a retry when a null is returned. The retry attempts will back-off exponentially.</p>\n<pre><code>public class RedisRetryWrapper {\n\n    @Autowired\n    private RedisTemplate redisTemplate;\n    \n    @Retryable(retryFor = NullReturnException.class, maxAttempts = 5, backoff = @Backoff(delay = 10))\n    public Object opsForHash(Object key, Object hashKey) {\n        Object result = redisTemplate.opsForHash().get(key, hashKey);\n        if (result == null) {\n            throw new NullReturnException();\n        }\n        return result;\n    }\n\n}\n</code></pre>\n<p><code>opsForHash</code> must be called from a class besides <code>RedisRetryWrapper</code> to allow the java proxy mechanism to work.</p>\n<p><strong>NullReturnException</strong></p>\n<pre><code>public class NullReturnException extends RuntimeException {}\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6160536,"reputation":409,"user_id":4802286,"accept_rate":56,"display_name":"conjenks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681819302,"creation_date":1681500958,"question_id":76018413,"body_markdown":"We are running this command in a multi-client, high-traffic application and it is occasionally returning null even when there is a value for it in Redis:\r\n\r\n    Object result = redisTemplate.opsForHash().get(KEY, hashKey);\r\n\r\nThis is because `JedishHashCommands` has this implementation for `hGet`:\r\n\r\n    public byte[] hGet(byte[] key, byte[] field) {\r\n        Assert.notNull(key, &quot;Key must not be null!&quot;);\r\n        Assert.notNull(field, &quot;Field must not be null!&quot;);\r\n\r\n        try {\r\n            if (this.isPipelined()) {\r\n                this.pipeline(this.connection.newJedisResult(this.connection.getRequiredPipeline().hget(key, field)));\r\n                return null;\r\n            } else if (this.isQueueing()) {\r\n                this.transaction(this.connection.newJedisResult(this.connection.getRequiredTransaction().hget(key, field)));\r\n                return null;\r\n            } else {\r\n                return this.connection.getJedis().hget(key, field);\r\n            }\r\n        } catch (Exception var4) {\r\n            throw this.convertJedisAccessException(var4);\r\n        }\r\n    }\r\n\r\nSo it looks like whenever we happen to be pipelining or queuing, this `hGet` will return null even if there is a proper value for it stored in Redis. How do we avoid this? Are we not supposed to use `RedisTemplate.opsForHash` ?","title":"redisTemplate.opsForHash.get(key, hashKey) is returning null instead of proper value, due to pipelining","body":"<p>We are running this command in a multi-client, high-traffic application and it is occasionally returning null even when there is a value for it in Redis:</p>\n<pre><code>Object result = redisTemplate.opsForHash().get(KEY, hashKey);\n</code></pre>\n<p>This is because <code>JedishHashCommands</code> has this implementation for <code>hGet</code>:</p>\n<pre><code>public byte[] hGet(byte[] key, byte[] field) {\n    Assert.notNull(key, &quot;Key must not be null!&quot;);\n    Assert.notNull(field, &quot;Field must not be null!&quot;);\n\n    try {\n        if (this.isPipelined()) {\n            this.pipeline(this.connection.newJedisResult(this.connection.getRequiredPipeline().hget(key, field)));\n            return null;\n        } else if (this.isQueueing()) {\n            this.transaction(this.connection.newJedisResult(this.connection.getRequiredTransaction().hget(key, field)));\n            return null;\n        } else {\n            return this.connection.getJedis().hget(key, field);\n        }\n    } catch (Exception var4) {\n        throw this.convertJedisAccessException(var4);\n    }\n}\n</code></pre>\n<p>So it looks like whenever we happen to be pipelining or queuing, this <code>hGet</code> will return null even if there is a proper value for it stored in Redis. How do we avoid this? Are we not supposed to use <code>RedisTemplate.opsForHash</code> ?</p>\n"},{"tags":["java","testing","recursion","runtime-error","stack-overflow"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1681753011,"post_id":76037790,"comment_id":134104462,"body_markdown":"1. It doesn&#39;t return a method; it returns the result of *calling* that method.  2. When do you *want* it to stop?  3. Compilers don&#39;t execute code.  4. B/c `obj1` is a local variable, not an instace variable.","body":"1. It doesn&#39;t return a method; it returns the result of <i>calling</i> that method.  2. When do you <i>want</i> it to stop?  3. Compilers don&#39;t execute code.  4. B/c <code>obj1</code> is a local variable, not an instace variable."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1681753060,"post_id":76037790,"comment_id":134104470,"body_markdown":"Take care of java naming conventions. Class names should start with upper case Character","body":"Take care of java naming conventions. Class names should start with upper case Character"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681753233,"post_id":76037790,"comment_id":134104512,"body_markdown":"You are asking many questions in one. That is against Stackoverflow guidelines. The question could be closed by the community because it lacks focus: https://stackoverflow.com/help/closed-questions. Kindly read https://stackoverflow.com/help/how-to-ask for tips on how to improve your question.","body":"You are asking many questions in one. That is against Stackoverflow guidelines. The question could be closed by the community because it lacks focus: <a href=\"https://stackoverflow.com/help/closed-questions\">stackoverflow.com/help/closed-questions</a>. Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> for tips on how to improve your question."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681753395,"post_id":76037790,"comment_id":134104565,"body_markdown":"You can split it into creating specific questions one each.","body":"You can split it into creating specific questions one each."}],"answers":[{"comments":[{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1681958735,"post_id":76037898,"comment_id":134141705,"body_markdown":"It&#39;ll be easier to stop the recursion if the return value of the method is `void`. then to stop we just have to execute `return;` while returning a number will continue to execute the method over and over again. The variable is still passed through arguments, so no problem there.","body":"It&#39;ll be easier to stop the recursion if the return value of the method is <code>void</code>. then to stop we just have to execute <code>return;</code> while returning a number will continue to execute the method over and over again. The variable is still passed through arguments, so no problem there."},{"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"score":0,"creation_date":1681966307,"post_id":76037898,"comment_id":134142414,"body_markdown":"@SuperCoder - huh? I did my best to answer your question based on the example of _your_ code. It looked like you wanted to return a double for some reason so I did that. Perhaps if you explained the actual problem your code was trying to solve, this would make much more sense.","body":"@SuperCoder - huh? I did my best to answer your question based on the example of <i>your</i> code. It looked like you wanted to return a double for some reason so I did that. Perhaps if you explained the actual problem your code was trying to solve, this would make much more sense."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1681968182,"post_id":76037898,"comment_id":134142624,"body_markdown":"i&#39;m not criticising yours, this would work too","body":"i&#39;m not criticising yours, this would work too"},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1681968210,"post_id":76037898,"comment_id":134142630,"body_markdown":"thx anyways tho","body":"thx anyways tho"}],"tags":[],"owner":{"account_id":82804,"reputation":15527,"user_id":232566,"accept_rate":50,"display_name":"RQDQ"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681753949,"creation_date":1681753507,"answer_id":76037898,"question_id":76037790,"body_markdown":"Here is one way to approach this. \r\n\r\nNotes:\r\n- The class exposes a simple method that kicks off the recursion.\r\n- The recursive method checks for the number of recursions.\r\n- It returns a hardcoded value because I have no idea what you&#39;re actually trying to do.\r\n\r\n```java\r\npublic class MySampleClass\r\n{\r\n    private static double methodTestPrivate(int callIndex)\r\n    {\r\n       //Check for terminating condition\r\n       if (callIndex &gt;= 10)\r\n           return 42.0;\r\n\r\n       //Recursive call\r\n       return methodTestPrivate(callIndex+1);\r\n    }\r\n\r\n    public static double methodTest()\r\n    {  \r\n        return methodTestPrivate(0);\r\n    }\r\n}\r\n\r\npublic class MyProgram\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.print(MySampleClass.methodTest());\r\n    }\r\n}\r\n```","title":"Confusing Recursive StackOverflowError program","body":"<p>Here is one way to approach this.</p>\n<p>Notes:</p>\n<ul>\n<li>The class exposes a simple method that kicks off the recursion.</li>\n<li>The recursive method checks for the number of recursions.</li>\n<li>It returns a hardcoded value because I have no idea what you're actually trying to do.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySampleClass\n{\n    private static double methodTestPrivate(int callIndex)\n    {\n       //Check for terminating condition\n       if (callIndex &gt;= 10)\n           return 42.0;\n\n       //Recursive call\n       return methodTestPrivate(callIndex+1);\n    }\n\n    public static double methodTest()\n    {  \n        return methodTestPrivate(0);\n    }\n}\n\npublic class MyProgram\n{\n    public static void main(String[] args)\n    {\n        System.out.print(MySampleClass.methodTest());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1681958240,"post_id":76038137,"comment_id":134141663,"body_markdown":"to stop the recursion we pass the variable through an argument and turn the recursive function return value to `void` . I think this&#39;ll be easier cuz to stop the recursion we just have to pass an incrementing argument in the method and check using an if else whether it passes a certain threshold and pass `return methodTest(i++)` if no and simply `return` when it does. If the method has a return datatype then even if `return 0;` is executed it will continue to work with that.","body":"to stop the recursion we pass the variable through an argument and turn the recursive function return value to <code>void</code> . I think this&#39;ll be easier cuz to stop the recursion we just have to pass an incrementing argument in the method and check using an if else whether it passes a certain threshold and pass <code>return methodTest(i++)</code> if no and simply <code>return</code> when it does. If the method has a return datatype then even if <code>return 0;</code> is executed it will continue to work with that."}],"tags":[],"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681819204,"creation_date":1681755629,"answer_id":76038137,"question_id":76037790,"body_markdown":" 1. You are not returning a method, you are returning the result of (recursively) calling the method, and the method is defined to return double so all is good\r\n 2. There is no real practical way to do it without a counter unless you want to go bananas and use `Thread.currentThread().getStackTrace()` and count the number of times your method appears in the stack. The simpler way is to pass a counter parameter starting with 0, increment it in any recursive call and add a condition to stop when it reaches your limit (as suggested by RQDQ).\r\n 3. It executes `methodTest.methodTest()` and prints its return value\r\n 4. Because `methodTest` is a static method and cannot be associated with an instance and `obj1` is an instance.","title":"Confusing Recursive StackOverflowError program","body":"<ol>\n<li>You are not returning a method, you are returning the result of (recursively) calling the method, and the method is defined to return double so all is good</li>\n<li>There is no real practical way to do it without a counter unless you want to go bananas and use <code>Thread.currentThread().getStackTrace()</code> and count the number of times your method appears in the stack. The simpler way is to pass a counter parameter starting with 0, increment it in any recursive call and add a condition to stop when it reaches your limit (as suggested by RQDQ).</li>\n<li>It executes <code>methodTest.methodTest()</code> and prints its return value</li>\n<li>Because <code>methodTest</code> is a static method and cannot be associated with an instance and <code>obj1</code> is an instance.</li>\n</ol>\n"}],"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76037898,"answer_count":2,"score":-3,"last_activity_date":1681819204,"creation_date":1681752721,"question_id":76037790,"body_markdown":"I wrote down a recursive program in Java (for fun) where a few things are not clear :\r\n&lt;br&gt;\r\n```\r\npublic class methodTest\r\n{\r\n    public static double methodTest()\r\n    {\r\n        System.out.println(&quot;qwerty&quot;) ; // sign that this method is called\r\n        methodTest obj1 = new methodTest() ; // creating an object (perhaps unnessary)\r\n        System.out.println(methodTest.methodTest()) ; // ??!\r\n        return methodTest() ; // returning the same function\r\n    }\r\n}\r\n```\r\n1) Why, if the return datatype is ``` double ```, my BlueJ compiler not showing a syntax error when returning a method ?\r\n2) How can this program be **stopped** if the number of times this method is &#39;recursed&#39; ***with and without*** using an incrementing variable ?\r\n[I tried using a static int initialised in the class (before ```methodTest()```) and incrementing it in the method but it shows &quot;unreachable statement&quot;]\r\n3) What is the computer doing when it tries to execute the `System.out.println(methodTest.methodTest())` statement ?\r\n4) Why does the compiler give a syntax error (`cannot find symbol - variable obj1`) when I replace (in `System.out.println(methodTest.methodTest())`) `.methodTest` with `.obj1` ?\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nPlease answer my questions ☝️","title":"Confusing Recursive StackOverflowError program","body":"<p>I wrote down a recursive program in Java (for fun) where a few things are not clear :\n<br></p>\n<pre><code>public class methodTest\n{\n    public static double methodTest()\n    {\n        System.out.println(&quot;qwerty&quot;) ; // sign that this method is called\n        methodTest obj1 = new methodTest() ; // creating an object (perhaps unnessary)\n        System.out.println(methodTest.methodTest()) ; // ??!\n        return methodTest() ; // returning the same function\n    }\n}\n</code></pre>\n<ol>\n<li>Why, if the return datatype is <code>double</code>, my BlueJ compiler not showing a syntax error when returning a method ?</li>\n<li>How can this program be <strong>stopped</strong> if the number of times this method is 'recursed' <em><strong>with and without</strong></em> using an incrementing variable ?\n[I tried using a static int initialised in the class (before <code>methodTest()</code>) and incrementing it in the method but it shows &quot;unreachable statement&quot;]</li>\n<li>What is the computer doing when it tries to execute the <code>System.out.println(methodTest.methodTest())</code> statement ?</li>\n<li>Why does the compiler give a syntax error (<code>cannot find symbol - variable obj1</code>) when I replace (in <code>System.out.println(methodTest.methodTest())</code>) <code>.methodTest</code> with <code>.obj1</code> ?\n<br>\n<br>\nPlease answer my questions ☝️</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1681818069,"post_id":76044092,"comment_id":134114632,"body_markdown":"Your use case seems to be completely different than comparing 2 objects to determine their order (which is what those compare methods are for). So i don&#39;t quite see where you see the connection and what you think should maybe be similar in those 2 different use cases. You are trying to do something different (determining if at least 2 objects fulfill a certain condition) and that has little to do with comparing 2 objects to determine their natural order.","body":"Your use case seems to be completely different than comparing 2 objects to determine their order (which is what those compare methods are for). So i don&#39;t quite see where you see the connection and what you think should maybe be similar in those 2 different use cases. You are trying to do something different (determining if at least 2 objects fulfill a certain condition) and that has little to do with comparing 2 objects to determine their natural order."}],"answers":[{"tags":[],"owner":{"account_id":6178072,"reputation":279,"user_id":4814403,"display_name":"Gal Weiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681819068,"creation_date":1681819068,"answer_id":76044316,"question_id":76044092,"body_markdown":"I think that if you are using reduce-like functions, \r\nwhich is basically what you have in the Java stream (Stream.allMatch, Stream.anyMatch and Stream.reduce), you are much better with the atomic two-object comparison function (or conflicting in your case). You can compose any type of comparison/conflict check using these functions very easily.\r\n\r\nFurthermore, your 75 lines function seems kinda bloated, in the 8 queens problem (or n-queens), if you use the backtracking algorithm, all you need to do is try to add a queen at a certain point of time and check if it conflicts with other queens. You never need to check conflicts between all the possible queen pairs. \r\n\r\nRegarding the implementation, I think that an arithmetic approach is very elegant. use the coorinates deltas to determine if they have the same diagonal.\r\n\r\n    public static boolean areQueensOnSameDiagonal(Queen queen1, Queen queen2) {\r\n        // Calculate delta of x and y coordinates\r\n        int deltaX = Math.abs(queen1.x - queen2.x);\r\n        int deltaY = Math.abs(queen1.y - queen2.y);\r\n        \r\n        // Queens are on the same diagonal if delta of x and y coordinates are the same\r\n        return deltaX == deltaY;\r\n    }\r\n\r\n","title":"should I make methods to compare two objects or an arbitrary number of objects?","body":"<p>I think that if you are using reduce-like functions,\nwhich is basically what you have in the Java stream (Stream.allMatch, Stream.anyMatch and Stream.reduce), you are much better with the atomic two-object comparison function (or conflicting in your case). You can compose any type of comparison/conflict check using these functions very easily.</p>\n<p>Furthermore, your 75 lines function seems kinda bloated, in the 8 queens problem (or n-queens), if you use the backtracking algorithm, all you need to do is try to add a queen at a certain point of time and check if it conflicts with other queens. You never need to check conflicts between all the possible queen pairs.</p>\n<p>Regarding the implementation, I think that an arithmetic approach is very elegant. use the coorinates deltas to determine if they have the same diagonal.</p>\n<pre><code>public static boolean areQueensOnSameDiagonal(Queen queen1, Queen queen2) {\n    // Calculate delta of x and y coordinates\n    int deltaX = Math.abs(queen1.x - queen2.x);\n    int deltaY = Math.abs(queen1.y - queen2.y);\n    \n    // Queens are on the same diagonal if delta of x and y coordinates are the same\n    return deltaX == deltaY;\n}\n</code></pre>\n"}],"owner":{"account_id":26089053,"reputation":53,"user_id":19786208,"display_name":"Arthur Brenno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681819899,"accepted_answer_id":76044316,"answer_count":1,"score":0,"last_activity_date":1681819068,"creation_date":1681817775,"question_id":76044092,"body_markdown":"I&#39;ve seen a lot of methods, like:\r\n\r\n`Integer.compare(int, int)`\r\n\r\n`Arrays.compare(Object, Object)`\r\n\r\n`Arrays.equals(byte, byte)`\r\n\r\nAnd all of them accept just two argument values. My point here is:\r\n&gt;Is there any conventions about making these methods? Why not making them accept and arbitrary number of arguments?\r\n\r\nAs a beginner, this question got me thinking a lot. I&#39;m currently solving the Eight Queens puzzle in Java and I got to this:\r\n\r\nI need to make a method to check if the queens are at the same diagonal. Currently, the method has occupied 75 lines of code. I&#39;m taking an arbitrary number of `Queen` objects, like:\r\n\r\n`public static boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens)`\r\n\r\nWould be better if I just compared two queens?\r\n\r\n`public static boolean areAtTheSameDiagonal(Queen queenOne, Queen queenTwo)`\r\n\r\nAnd then executing this method to all queens? To see if any of them could attack another?\r\n\r\nMy Eight Queens problem was just an example, should I make methods to compare just two things or **it depends on the case**?","title":"should I make methods to compare two objects or an arbitrary number of objects?","body":"<p>I've seen a lot of methods, like:</p>\n<p><code>Integer.compare(int, int)</code></p>\n<p><code>Arrays.compare(Object, Object)</code></p>\n<p><code>Arrays.equals(byte, byte)</code></p>\n<p>And all of them accept just two argument values. My point here is:</p>\n<blockquote>\n<p>Is there any conventions about making these methods? Why not making them accept and arbitrary number of arguments?</p>\n</blockquote>\n<p>As a beginner, this question got me thinking a lot. I'm currently solving the Eight Queens puzzle in Java and I got to this:</p>\n<p>I need to make a method to check if the queens are at the same diagonal. Currently, the method has occupied 75 lines of code. I'm taking an arbitrary number of <code>Queen</code> objects, like:</p>\n<p><code>public static boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens)</code></p>\n<p>Would be better if I just compared two queens?</p>\n<p><code>public static boolean areAtTheSameDiagonal(Queen queenOne, Queen queenTwo)</code></p>\n<p>And then executing this method to all queens? To see if any of them could attack another?</p>\n<p>My Eight Queens problem was just an example, should I make methods to compare just two things or <strong>it depends on the case</strong>?</p>\n"},{"tags":["java","android","flutter","debugging","gradle"],"comments":[{"owner":{"account_id":10832388,"reputation":1265,"user_id":7966313,"display_name":"Enzo Lizama"},"score":1,"creation_date":1638811471,"post_id":69619829,"comment_id":124181761,"body_markdown":"Any solution? Same problem here","body":"Any solution? Same problem here"},{"owner":{"account_id":21572410,"reputation":412,"user_id":15905119,"display_name":"yendis"},"score":0,"creation_date":1639555488,"post_id":69619829,"comment_id":124375741,"body_markdown":"I have solved it here. Check and report if it helped you. https://stackoverflow.com/a/70359396/15905119 @EnzoLizama","body":"I have solved it here. Check and report if it helped you. <a href=\"https://stackoverflow.com/a/70359396/15905119\">stackoverflow.com/a/70359396/15905119</a> @EnzoLizama"}],"answers":[{"tags":[],"owner":{"account_id":21572410,"reputation":412,"user_id":15905119,"display_name":"yendis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1639550634,"creation_date":1639550634,"answer_id":70359396,"question_id":69619829,"body_markdown":"&gt; I solved this issue by downloading the required NDK side by side\r\n&gt; package as shown in this screenshot for the required SDK platform.\r\n\r\n \r\nIf you keep getting errors after doing this, please share error logs or screenshots. Thanks.\r\n\r\n\r\n[![Android Studio screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XHJjw.png","title":"Could not resolve all files for configuration &#39;:app:androidJdkImage","body":"<blockquote>\n<p>I solved this issue by downloading the required NDK side by side\npackage as shown in this screenshot for the required SDK platform.</p>\n</blockquote>\n<p>If you keep getting errors after doing this, please share error logs or screenshots. Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/XHJjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHJjw.png\" alt=\"Android Studio screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13012907,"reputation":3760,"user_id":9405238,"display_name":"Doan Bui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651544742,"creation_date":1651544742,"answer_id":72094239,"question_id":69619829,"body_markdown":"In my case, I only need update **Android Studio** to newer version and it&#39;s working normally again.","title":"Could not resolve all files for configuration &#39;:app:androidJdkImage","body":"<p>In my case, I only need update <strong>Android Studio</strong> to newer version and it's working normally again.</p>\n"},{"tags":[],"owner":{"account_id":8909314,"reputation":762,"user_id":6650143,"display_name":"SAM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681819045,"creation_date":1681819045,"answer_id":76044313,"question_id":69619829,"body_markdown":"I got the same error and checked the folder where the jdk is installed, for me this was `usr/lib/jvm/...` and the file `jlink` mentioned in the error message was missing. So i uninstalled the jdk with \r\n```\r\nsudo apt-get remove openjdk*\r\nsudo apt-get clean\r\n```\r\nand reinstalled it with\r\n```\r\nsudo apt-get install openjdk-8-jdk\r\n```\r\nAfterwards I checked the folder again and the jlink-file was there and it worked afterwards.\r\n\r\nI have to mention that I do not have a flutter but a react-native project, but I think the solution could be quite the same.","title":"Could not resolve all files for configuration &#39;:app:androidJdkImage","body":"<p>I got the same error and checked the folder where the jdk is installed, for me this was <code>usr/lib/jvm/...</code> and the file <code>jlink</code> mentioned in the error message was missing. So i uninstalled the jdk with</p>\n<pre><code>sudo apt-get remove openjdk*\nsudo apt-get clean\n</code></pre>\n<p>and reinstalled it with</p>\n<pre><code>sudo apt-get install openjdk-8-jdk\n</code></pre>\n<p>Afterwards I checked the folder again and the jlink-file was there and it worked afterwards.</p>\n<p>I have to mention that I do not have a flutter but a react-native project, but I think the solution could be quite the same.</p>\n"}],"owner":{"account_id":21572410,"reputation":412,"user_id":15905119,"display_name":"yendis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13795,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70359396,"answer_count":3,"score":6,"last_activity_date":1681819045,"creation_date":1634576209,"question_id":69619829,"body_markdown":"I am trying to build flutter apk on debug mode from android studio.\r\n\r\nFlutter run\r\nI get this error:\r\n\r\nLaunching lib/main.dart on sdk gphone x86 arm in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:androidJdkImage&#39;.\r\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for JdkImageTransform: /Users/mac/Library/Android/sdk/platforms/android-30/core-for-system-modules.jar.\r\n         &gt; jlink executable /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/jlink does not exist.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 20s\r\nException: Gradle task assembleDebug failed with exit code 1","title":"Could not resolve all files for configuration &#39;:app:androidJdkImage","body":"<p>I am trying to build flutter apk on debug mode from android studio.</p>\n<p>Flutter run\nI get this error:</p>\n<p>Launching lib/main.dart on sdk gphone x86 arm in debug mode...\nRunning Gradle task 'assembleDebug'...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:androidJdkImage'.\nFailed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n&gt; Execution failed for JdkImageTransform: /Users/mac/Library/Android/sdk/platforms/android-30/core-for-system-modules.jar.\n&gt; jlink executable /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/jlink does not exist.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 20s\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java","hibernate","jpa","transactions","ejb"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1681496004,"post_id":76015583,"comment_id":134071500,"body_markdown":"I would hope so as that transaction can be holding locks that prevent other transactions from completing. It isn&#39;t best to keep transactions open for long periods, and just being able to disable a transaction does nothing to release its locks and let other processes continue. What is your purpose in suspending the transaction exactly?","body":"I would hope so as that transaction can be holding locks that prevent other transactions from completing. It isn&#39;t best to keep transactions open for long periods, and just being able to disable a transaction does nothing to release its locks and let other processes continue. What is your purpose in suspending the transaction exactly?"},{"owner":{"account_id":2470850,"reputation":1666,"user_id":2152752,"accept_rate":43,"display_name":"oscar"},"score":0,"creation_date":1681566064,"post_id":76015583,"comment_id":134078933,"body_markdown":"@Chris The purpose of suspending the transaction was to avoid the timeout, some of the processes that handle files are close to five minutes (in the example it would be the threadSleep15seconds method) and they generate a timeout in the transaction but the file operation is carried out correctly. The idea was to use NOT_SUPPORTED so that this time would not be added to the transaction time but either I am not using it correctly or it does not work like that and I will have no choice but to either increase the transaction timeout or refactor the code.","body":"@Chris The purpose of suspending the transaction was to avoid the timeout, some of the processes that handle files are close to five minutes (in the example it would be the threadSleep15seconds method) and they generate a timeout in the transaction but the file operation is carried out correctly. The idea was to use NOT_SUPPORTED so that this time would not be added to the transaction time but either I am not using it correctly or it does not work like that and I will have no choice but to either increase the transaction timeout or refactor the code."},{"owner":{"account_id":1533908,"reputation":26,"user_id":1430432,"display_name":"Raj Raj"},"score":2,"creation_date":1681679497,"post_id":76015583,"comment_id":134091455,"body_markdown":"When using TransactionAttributeType.NOT_SUPPORTED, ongoing transactions are suspended during method execution and resumed upon completion. The transaction timeout still runs, so if it expires before the method completes, the transaction is rolled back. In this case, the transaction is rolled back before the method completes because Foo2.threadSleep15seconds() takes more than the 10-second timeout value set for Foo1.saveWith10secondsTimeout(). You can increase the timeout value or handle the file operations asynchronously or in smaller chunks if you can&#39;t modify the code.","body":"When using TransactionAttributeType.NOT_SUPPORTED, ongoing transactions are suspended during method execution and resumed upon completion. The transaction timeout still runs, so if it expires before the method completes, the transaction is rolled back. In this case, the transaction is rolled back before the method completes because Foo2.threadSleep15seconds() takes more than the 10-second timeout value set for Foo1.saveWith10secondsTimeout(). You can increase the timeout value or handle the file operations asynchronously or in smaller chunks if you can&#39;t modify the code."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681807592,"creation_date":1681807592,"answer_id":76042571,"question_id":76015583,"body_markdown":"It seems there is some design issue here.\r\n\r\n`Foo2.threadSleep15seconds()` seems to be simulating the long-running file process that you are talking about.  How tightly that file processing is associated with the ongoing DB transaction?\r\n\r\nIf you can have some kind of state management separately, what you can do is, as part of the `Foo1.saveWith10secondsTimeout()`, you just insert a record in a DB table that file processing is `pending`. And return immediately, so that the transaction is not held up for a long period.\r\n\r\nHave a separate thread (asynchronous execution of `Foo2.threadSleep15seconds()`) to process all the files to be processed by all the requests made to `Foo1.saveWith10secondsTimeout()`.  That thread (or a pool of threads) will continue to process files and change the status of those files in the DB Table from `pending` to `done` or `error` based on the result and then trigger the next process based on the result.\r\n\r\nBut if a single transaction is held up till the time all the files are processed, it would definitely lock up some other activities elsewhere.","title":"TransactionAttributeType.NOT_SUPPORTED method spends transaction time of the suspended transaction","body":"<p>It seems there is some design issue here.</p>\n<p><code>Foo2.threadSleep15seconds()</code> seems to be simulating the long-running file process that you are talking about.  How tightly that file processing is associated with the ongoing DB transaction?</p>\n<p>If you can have some kind of state management separately, what you can do is, as part of the <code>Foo1.saveWith10secondsTimeout()</code>, you just insert a record in a DB table that file processing is <code>pending</code>. And return immediately, so that the transaction is not held up for a long period.</p>\n<p>Have a separate thread (asynchronous execution of <code>Foo2.threadSleep15seconds()</code>) to process all the files to be processed by all the requests made to <code>Foo1.saveWith10secondsTimeout()</code>.  That thread (or a pool of threads) will continue to process files and change the status of those files in the DB Table from <code>pending</code> to <code>done</code> or <code>error</code> based on the result and then trigger the next process based on the result.</p>\n<p>But if a single transaction is held up till the time all the files are processed, it would definitely lock up some other activities elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":11132642,"reputation":111,"user_id":8172158,"display_name":"Michael Musgrove"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681818476,"creation_date":1681818476,"answer_id":76044223,"question_id":76015583,"body_markdown":"The transaction timeout means that the transaction may be rolled back if it is still active when the period has elapsed. Suspending the transaction has no effect on the timeout (since that would contradict the purpose of setting the timeout).","title":"TransactionAttributeType.NOT_SUPPORTED method spends transaction time of the suspended transaction","body":"<p>The transaction timeout means that the transaction may be rolled back if it is still active when the period has elapsed. Suspending the transaction has no effect on the timeout (since that would contradict the purpose of setting the timeout).</p>\n"}],"owner":{"account_id":2470850,"reputation":1666,"user_id":2152752,"accept_rate":43,"display_name":"oscar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76044223,"answer_count":2,"score":1,"last_activity_date":1681818476,"creation_date":1681478742,"question_id":76015583,"body_markdown":"I have a method that does heavy operations (file handling) that does not need a transaction but is inside one and generates timeouts. I don&#39;t have the option to refactor the code or to raise the default transaction timeout. I have tried using `TransactionAttributeType.NOT_SUPPORTED` in the file handler method to temporarily suspend the transaction but it keeps counting time while it is suspended and keeps giving me timeout. \r\n\r\nIs this way of working correct? When the transaction is suspended, is the transaction time still spent?\r\n\r\nI have made the following example approximation with the same problem.\r\nCode:\r\n\r\n    @Slf4j\r\n    @Stateless\r\n    public class Foo1 {\r\n\r\n        @Inject\r\n        Foo2 foo2;\r\n    \r\n        @PersistenceContext\r\n        EntityManager em;\r\n    \r\n        @TransactionTimeout(value= 10, unit = TimeUnit.SECONDS)\r\n        public void saveWith10secondsTimeout() {\r\n            log.info(&quot;Start Foo1&quot;);\r\n            Foo entity = new entity();\r\n            em.persist(entity);\r\n            foo2.threadSleep15seconds();\r\n            log.info(&quot;End Foo1&quot;);\r\n        }\r\n    }\r\n\r\n    @Slf4j\r\n    @Stateless\r\n    @TransactionAttribute(value = TransactionAttributeType.NOT_SUPPORTED)\r\n    public class Foo2 {\r\n        public void threadSleep15seconds() {\r\n            log.info(&quot;Start Foo2&quot;);\r\n            try {\r\n                Thread.sleep(15 * 1000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            log.info(&quot;End Foo2&quot;);\r\n        }\r\n    }\r\n\r\nController call:\r\n\r\n    @Inject\r\n    Foo1 foo1;\r\n    \r\n    @GET\r\n    @Path(&quot;/foo-not-supported&quot;)\r\n    @TransactionAttribute(TransactionAttributeType.NEVER)\r\n    public Response testNotSupported() {\r\n        log.info(&quot;Start testNotSupported&quot;);\r\n        foo1.saveWith10secondsTimeout();\r\n        return Response.status(OK).build();\r\n    }\r\n\r\nLogs:\r\n\r\n    15:00:30,867 INFO  [com.FooController] (default task-1) Start testNotSupported\r\n    15:00:30,868 INFO  [com.Foo1] (default task-1) Start Foo1\r\n    15:00:30,883 INFO  [com.Foo2] (default task-1) Start Foo2\r\n    15:00:40,867 INFO  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff7f000101:-441cac6:64394e3c:382 in state  RUN\r\n    15:00:40,877 INFO  [org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorTrackingImpl] (Transaction Reaper Worker 0) HHH000451: Transaction afterCompletion called by a background thread; delaying afterCompletion processing until the original thread can handle it. [status=4]\r\n    15:00:40,881 INFO  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012121: TransactionReaper::doCancellations worker Thread[Transaction Reaper Worker 0,5,main] successfully canceled TX 0:ffff7f000101:-441cac6:64394e3c:382\r\n    15:00:45,884 INFO  [com.Foo2] (default task-1) End Foo2\r\n    15:00:45,884 INFO  [com.Foo1] (default task-1) End Foo1\r\n    15:00:45,884 INFO  [com.arjuna.ats.arjuna] (default task-1) ARJUNA012077: Abort called on already aborted atomic action 0:ffff7f000101:-441cac6:64394e3c:382\r\n    15:00:45,887 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component Foo1 for method public void com.Foo1.saveWith10secondsTimeout(): javax.ejb.EJBTransactionRolledbackException: javax.transaction.RollbackException: WFLYEJB0447: Transaction &#39;Local transaction (delegate=TransactionImple &lt; ac, BasicAction: 0:ffff7f000101:-441cac6:64394e3c:382 status: ActionStatus.ABORTED &gt;, owner=Local transaction context for provider JBoss JTA transaction provider)&#39; was already rolled back\r\n\r\n","title":"TransactionAttributeType.NOT_SUPPORTED method spends transaction time of the suspended transaction","body":"<p>I have a method that does heavy operations (file handling) that does not need a transaction but is inside one and generates timeouts. I don't have the option to refactor the code or to raise the default transaction timeout. I have tried using <code>TransactionAttributeType.NOT_SUPPORTED</code> in the file handler method to temporarily suspend the transaction but it keeps counting time while it is suspended and keeps giving me timeout.</p>\n<p>Is this way of working correct? When the transaction is suspended, is the transaction time still spent?</p>\n<p>I have made the following example approximation with the same problem.\nCode:</p>\n<pre><code>@Slf4j\n@Stateless\npublic class Foo1 {\n\n    @Inject\n    Foo2 foo2;\n\n    @PersistenceContext\n    EntityManager em;\n\n    @TransactionTimeout(value= 10, unit = TimeUnit.SECONDS)\n    public void saveWith10secondsTimeout() {\n        log.info(&quot;Start Foo1&quot;);\n        Foo entity = new entity();\n        em.persist(entity);\n        foo2.threadSleep15seconds();\n        log.info(&quot;End Foo1&quot;);\n    }\n}\n\n@Slf4j\n@Stateless\n@TransactionAttribute(value = TransactionAttributeType.NOT_SUPPORTED)\npublic class Foo2 {\n    public void threadSleep15seconds() {\n        log.info(&quot;Start Foo2&quot;);\n        try {\n            Thread.sleep(15 * 1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        log.info(&quot;End Foo2&quot;);\n    }\n}\n</code></pre>\n<p>Controller call:</p>\n<pre><code>@Inject\nFoo1 foo1;\n\n@GET\n@Path(&quot;/foo-not-supported&quot;)\n@TransactionAttribute(TransactionAttributeType.NEVER)\npublic Response testNotSupported() {\n    log.info(&quot;Start testNotSupported&quot;);\n    foo1.saveWith10secondsTimeout();\n    return Response.status(OK).build();\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>15:00:30,867 INFO  [com.FooController] (default task-1) Start testNotSupported\n15:00:30,868 INFO  [com.Foo1] (default task-1) Start Foo1\n15:00:30,883 INFO  [com.Foo2] (default task-1) Start Foo2\n15:00:40,867 INFO  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff7f000101:-441cac6:64394e3c:382 in state  RUN\n15:00:40,877 INFO  [org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorTrackingImpl] (Transaction Reaper Worker 0) HHH000451: Transaction afterCompletion called by a background thread; delaying afterCompletion processing until the original thread can handle it. [status=4]\n15:00:40,881 INFO  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012121: TransactionReaper::doCancellations worker Thread[Transaction Reaper Worker 0,5,main] successfully canceled TX 0:ffff7f000101:-441cac6:64394e3c:382\n15:00:45,884 INFO  [com.Foo2] (default task-1) End Foo2\n15:00:45,884 INFO  [com.Foo1] (default task-1) End Foo1\n15:00:45,884 INFO  [com.arjuna.ats.arjuna] (default task-1) ARJUNA012077: Abort called on already aborted atomic action 0:ffff7f000101:-441cac6:64394e3c:382\n15:00:45,887 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component Foo1 for method public void com.Foo1.saveWith10secondsTimeout(): javax.ejb.EJBTransactionRolledbackException: javax.transaction.RollbackException: WFLYEJB0447: Transaction 'Local transaction (delegate=TransactionImple &lt; ac, BasicAction: 0:ffff7f000101:-441cac6:64394e3c:382 status: ActionStatus.ABORTED &gt;, owner=Local transaction context for provider JBoss JTA transaction provider)' was already rolled back\n</code></pre>\n"},{"tags":["java","android","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681835495,"post_id":76044209,"comment_id":134119593,"body_markdown":"*&quot;I try with below code but Line draw end of page. I want draw line below of my table.&quot;* - What table? I mean, did you add a table to the `Document` just before? Or is that table already part of a PDF you loaded?","body":"<i>&quot;I try with below code but Line draw end of page. I want draw line below of my table.&quot;</i> - What table? I mean, did you add a table to the <code>Document</code> just before? Or is that table already part of a PDF you loaded?"}],"owner":{"account_id":28210075,"reputation":1,"user_id":21562507,"display_name":"Abhi Plx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681818386,"creation_date":1681818386,"question_id":76044209,"body_markdown":"I want draw full width line in my document. \r\n\r\nI try with below code but Line draw end of page. I want draw line below of my table.\r\n\r\n ```PdfCanvas canvas = new PdfCanvas(pdfDocument.addNewPage());\r\n            Rectangle rectangle=PageSize.A4;\r\n            canvas.saveState()\r\n                    .setLineWidth(5)\r\n                    .setStrokeColor(Utils.getColorFor_iText(&quot;#FF5722&quot;))\r\n                    .moveTo(0, 0)\r\n                    .lineTo(rectangle.getWidth(),  0)\r\n                    .stroke()\r\n                    .restoreState();```","title":"How to draw full width line using iText7 in android","body":"<p>I want draw full width line in my document.</p>\n<p>I try with below code but Line draw end of page. I want draw line below of my table.</p>\n<pre><code>           Rectangle rectangle=PageSize.A4;\n           canvas.saveState()\n                   .setLineWidth(5)\n                   .setStrokeColor(Utils.getColorFor_iText(&quot;#FF5722&quot;))\n                   .moveTo(0, 0)\n                   .lineTo(rectangle.getWidth(),  0)\n                   .stroke()\n                   .restoreState();```\n</code></pre>\n"},{"tags":["java","redis","evict"],"comments":[{"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"score":0,"creation_date":1681807609,"post_id":76038148,"comment_id":134112202,"body_markdown":"On all the keys or some pattern of the keys? You can always write a script that does the eviction for you at certain interval","body":"On all the keys or some pattern of the keys? You can always write a script that does the eviction for you at certain interval"}],"answers":[{"tags":[],"owner":{"account_id":4160855,"reputation":3938,"user_id":5338708,"display_name":"Simon Prickett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681818186,"creation_date":1681818186,"answer_id":76044165,"question_id":76038148,"body_markdown":"Custom eviction policies can&#39;t be set at the database level, Redis supports a few eviction policies that can be configured in the server&#39;s config file: https://redis.io/docs/reference/eviction/\r\n\r\nIf you wanted something custom you&#39;d need to develop this in your application and have it manage the keyspace accordingly.  If you needed to monitor memory usage on the Redis server from your application, you could use the INFO (https://redis.io/commands/info/) and MEMORY USAGE (https://redis.io/commands/memory-usage/) commands for example.","title":"Custom Eviction Policy in Redis","body":"<p>Custom eviction policies can't be set at the database level, Redis supports a few eviction policies that can be configured in the server's config file: <a href=\"https://redis.io/docs/reference/eviction/\" rel=\"nofollow noreferrer\">https://redis.io/docs/reference/eviction/</a></p>\n<p>If you wanted something custom you'd need to develop this in your application and have it manage the keyspace accordingly.  If you needed to monitor memory usage on the Redis server from your application, you could use the INFO (<a href=\"https://redis.io/commands/info/\" rel=\"nofollow noreferrer\">https://redis.io/commands/info/</a>) and MEMORY USAGE (<a href=\"https://redis.io/commands/memory-usage/\" rel=\"nofollow noreferrer\">https://redis.io/commands/memory-usage/</a>) commands for example.</p>\n"}],"owner":{"account_id":7189817,"reputation":45,"user_id":5696736,"display_name":"Belf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681818186,"creation_date":1681755762,"question_id":76038148,"body_markdown":"I have been reading and searching for Java-based Redis Clients and OMs that allow one to communicate with Redis Server. So far, I have understood that we can only set one of the predefined eviction policies and the Redis server handles the eviction process.\r\nI want to use a custom Eviction Policy in Redis, besides for example LRU and LFU. Is there a way can I inject my policy?","title":"Custom Eviction Policy in Redis","body":"<p>I have been reading and searching for Java-based Redis Clients and OMs that allow one to communicate with Redis Server. So far, I have understood that we can only set one of the predefined eviction policies and the Redis server handles the eviction process.\nI want to use a custom Eviction Policy in Redis, besides for example LRU and LFU. Is there a way can I inject my policy?</p>\n"},{"tags":["java","android","firebase-cloud-messaging"],"owner":{"account_id":19321582,"reputation":1,"user_id":14125162,"display_name":"simran inamdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681818173,"creation_date":1681818173,"question_id":76044160,"body_markdown":" public void onMessageReceived(RemoteMessage remoteMessage) {\r\n\r\n        Map&lt;String, String&gt; body = Collections.emptyMap();\r\n\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            body = remoteMessage.getData();\r\n            Log.d(TAG, &quot;Message data payload: &quot; + body);\r\n            //messageBody = body.toString();\r\n        }\r\n\r\n        sendNotification(body);\r\n        \r\n    }\r\n    \r\n\r\n     private void sendNotification(Map&lt;String, String&gt; messageBody) {\r\n        Intent intent = null;\r\n\r\n        notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n            createChannel(notificationManager);\r\n        }\r\n\r\n\r\n        String notificationType = messageBody.get(&quot;notificationType&quot;);\r\n        String typeOfPatient = messageBody.get(&quot;&quot;);\r\n\r\n        if ((notificationType != null ) &amp;&amp; (notificationType.equalsIgnoreCase(&quot;chatmessage&quot;))){\r\n            intent = new Intent(this, SplashScreenActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intent.putExtra(&quot;notify&quot;, true);\r\n        }\r\n\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0  /*Request code*/ , intent,\r\n                PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        String title = &quot;Patient Name &quot; + messageBody.get(&quot;name&quot;);\r\n        String message;\r\n       \r\n\r\n\r\n       \r\n\r\n\r\n    }\r\n\r\n    \r\n\r\nupgraded compile SDK and target SDK 30 to 33 after upgradation not able to receive any notification on android 13 OS phone.","title":"Upgreded android app to compile sdk 33 and target sdk 33 after upgrading not able to receive the notification on android 13 OS phones","body":"<p>public void onMessageReceived(RemoteMessage remoteMessage) {</p>\n<pre><code>    Map&lt;String, String&gt; body = Collections.emptyMap();\n\n    // Check if message contains a data payload.\n    if (remoteMessage.getData().size() &gt; 0) {\n        body = remoteMessage.getData();\n        Log.d(TAG, &quot;Message data payload: &quot; + body);\n        //messageBody = body.toString();\n    }\n\n    sendNotification(body);\n    \n}\n\n\n private void sendNotification(Map&lt;String, String&gt; messageBody) {\n    Intent intent = null;\n\n    notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n        createChannel(notificationManager);\n    }\n\n\n    String notificationType = messageBody.get(&quot;notificationType&quot;);\n    String typeOfPatient = messageBody.get(&quot;&quot;);\n\n    if ((notificationType != null ) &amp;&amp; (notificationType.equalsIgnoreCase(&quot;chatmessage&quot;))){\n        intent = new Intent(this, SplashScreenActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(&quot;notify&quot;, true);\n    }\n\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0  /*Request code*/ , intent,\n            PendingIntent.FLAG_IMMUTABLE);\n\n    String title = &quot;Patient Name &quot; + messageBody.get(&quot;name&quot;);\n    String message;\n   \n\n\n   \n\n\n}\n</code></pre>\n<p>upgraded compile SDK and target SDK 30 to 33 after upgradation not able to receive any notification on android 13 OS phone.</p>\n"},{"tags":["java","xml","database","xquery","basex"],"comments":[{"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"score":0,"creation_date":1681764040,"post_id":76039111,"comment_id":134106723,"body_markdown":"While asking an XQuery question you need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example):\n(1) Well-formed input XML.\n(2) Your logic, and XQuery that tries to implement it.\n(3) Desired output based on the #1 above.\n(4) XQuery processor and its conformance with the XQuery standards: 1.0, 3.0, 3.1, or 4.0.","body":"While asking an XQuery question you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: (1) Well-formed input XML. (2) Your logic, and XQuery that tries to implement it. (3) Desired output based on the #1 above. (4) XQuery processor and its conformance with the XQuery standards: 1.0, 3.0, 3.1, or 4.0."},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1681819869,"post_id":76039111,"comment_id":134115113,"body_markdown":"What is `ARREL`? What is `nom`? What is `ordinador`? What does `Utilitats.formaObjecteXML(ordinador)` return? Without knowing the values of these variables it&#39;s impossible to say where the error is, but any one of them could be the cause of your error. e.g. `nom` = `(` would cause an error. If I had to guess, I would suspect `nom`; is it supposed to contain a representation of a string (in the XML data model)? Unless it already includes quote marks (e.g. `String nom = &quot;&#39;foo&#39;&quot;;`) you&#39;d need to add quotes: `xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[nom=&#39;&quot;+nom+&quot;&#39;]&quot;)`","body":"What is <code>ARREL</code>? What is <code>nom</code>? What is <code>ordinador</code>? What does <code>Utilitats.formaObjecteXML(ordinador)</code> return? Without knowing the values of these variables it&#39;s impossible to say where the error is, but any one of them could be the cause of your error. e.g. <code>nom</code> = <code>(</code> would cause an error. If I had to guess, I would suspect <code>nom</code>; is it supposed to contain a representation of a string (in the XML data model)? Unless it already includes quote marks (e.g. <code>String nom = &quot;&#39;foo&#39;&quot;;</code>) you&#39;d need to add quotes: <code>xqe.executeQuery(ARREL+&quot;ordinadors&#47;ordinador[nom=&#39;&quot;+nom+&quot;&#39;]&quot;&zwnj;&#8203;)</code>"},{"owner":{"account_id":25313696,"reputation":33,"user_id":19136113,"display_name":"Jose M Lopez"},"score":0,"creation_date":1681937238,"post_id":76039111,"comment_id":134139238,"body_markdown":"Ty for answering Conal, if you keep reading, you’ll see that I’d found the cause and it’s explained there.","body":"Ty for answering Conal, if you keep reading, you’ll see that I’d found the cause and it’s explained there."}],"answers":[{"tags":[],"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681766493,"creation_date":1681765454,"answer_id":76039283,"question_id":76039111,"body_markdown":"I created a sample XML file: &#39;e:\\Temp\\ordinadors.xml&#39;\r\n\r\n    &lt;ordinadors&gt;\r\n    \t&lt;ordinador&gt;1&lt;/ordinador&gt;\r\n    \t&lt;ordinador&gt;18&lt;/ordinador&gt;\r\n    &lt;/ordinadors&gt;\r\n\r\nManually set BaseX 10.5 setting at the COMMAND prompt:\r\n\r\n    set STRIPWS true\r\n\r\nFor the reference: [STRIPWS][1]\r\n\r\nOr programmatically, directly in XQuery. See below.\r\n\r\n**XQuery**\r\n\r\n    xquery version &quot;3.1&quot; encoding &quot;UTF-8&quot;;\r\n    \r\n    declare base-uri &#39;e:\\Temp\\&#39;;\r\n    (: https://docs.basex.org/wiki/XQuery_Extensions#Pragmas :)\r\n    declare option db:stripws &quot;true&quot;;\r\n    \r\n    copy $input := doc(&quot;ordinadors.xml&quot;)\r\n    modify delete node $input/ordinadors/*\r\n    return $input\r\n\r\n**Output**\r\n\r\n    &lt;ordinadors/&gt;\r\n\r\n\r\n  [1]: https://docs.basex.org/wiki/Options#CHOP","title":"I got an Invalid XQuery syntax, syntax does not pass static validation error working with java","body":"<p>I created a sample XML file: 'e:\\Temp\\ordinadors.xml'</p>\n<pre><code>&lt;ordinadors&gt;\n    &lt;ordinador&gt;1&lt;/ordinador&gt;\n    &lt;ordinador&gt;18&lt;/ordinador&gt;\n&lt;/ordinadors&gt;\n</code></pre>\n<p>Manually set BaseX 10.5 setting at the COMMAND prompt:</p>\n<pre><code>set STRIPWS true\n</code></pre>\n<p>For the reference: <a href=\"https://docs.basex.org/wiki/Options#CHOP\" rel=\"nofollow noreferrer\">STRIPWS</a></p>\n<p>Or programmatically, directly in XQuery. See below.</p>\n<p><strong>XQuery</strong></p>\n<pre><code>xquery version &quot;3.1&quot; encoding &quot;UTF-8&quot;;\n\ndeclare base-uri 'e:\\Temp\\';\n(: https://docs.basex.org/wiki/XQuery_Extensions#Pragmas :)\ndeclare option db:stripws &quot;true&quot;;\n\ncopy $input := doc(&quot;ordinadors.xml&quot;)\nmodify delete node $input/ordinadors/*\nreturn $input\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>&lt;ordinadors/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25313696,"reputation":33,"user_id":19136113,"display_name":"Jose M Lopez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681817598,"creation_date":1681817598,"answer_id":76044065,"question_id":76039111,"body_markdown":"At last I&#39;ve found my mistake, at the &quot;eliminarTot()&quot; method (delete every node inside the root tag) I changed the query: \r\n`xqe.executeQuery(&quot;for $i in &quot;+ ARREL + &quot;ordinadors return delete node $i&quot;);` \r\nto: \r\n`xqe.executeQuery(&quot;delete node &quot;+ ARREL + &quot;ordinadors/ordinador&quot;);`\r\nthis way the root tag &lt;ordinadors&gt; it&#39;s not removed.\r\nAlso at the &quot;inserir()&quot; method I had another mistake I changed:\r\n`XQResultSequence xqrs = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[nom=&quot;+nom+&quot;]&quot;);`\r\nto:\r\n`String resultat = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[@id=&quot;+id+&quot;]&quot;).getSequenceAsString(null);`\r\nand then the checking:\r\n\r\n    if(resultat.isEmpty()){\r\n                xqe.executeQuery(&quot;insert node \r\n    &quot;+Utilitats.formaObjecteXML(ordinador)+&quot; into &quot;+ARREL+&quot;ordinadors&quot;);\r\n\r\nThat&#39;ll be all.\r\nTY for your answer Yitzhak Khabinsky :D","title":"I got an Invalid XQuery syntax, syntax does not pass static validation error working with java","body":"<p>At last I've found my mistake, at the &quot;eliminarTot()&quot; method (delete every node inside the root tag) I changed the query:\n<code>xqe.executeQuery(&quot;for $i in &quot;+ ARREL + &quot;ordinadors return delete node $i&quot;);</code>\nto:\n<code>xqe.executeQuery(&quot;delete node &quot;+ ARREL + &quot;ordinadors/ordinador&quot;);</code>\nthis way the root tag  it's not removed.\nAlso at the &quot;inserir()&quot; method I had another mistake I changed:\n<code>XQResultSequence xqrs = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[nom=&quot;+nom+&quot;]&quot;);</code>\nto:\n<code>String resultat = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[@id=&quot;+id+&quot;]&quot;).getSequenceAsString(null);</code>\nand then the checking:</p>\n<pre><code>if(resultat.isEmpty()){\n            xqe.executeQuery(&quot;insert node \n&quot;+Utilitats.formaObjecteXML(ordinador)+&quot; into &quot;+ARREL+&quot;ordinadors&quot;);\n</code></pre>\n<p>That'll be all.\nTY for your answer Yitzhak Khabinsky :D</p>\n"}],"owner":{"account_id":25313696,"reputation":33,"user_id":19136113,"display_name":"Jose M Lopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76044065,"answer_count":2,"score":1,"last_activity_date":1681817598,"creation_date":1681763779,"question_id":76039111,"body_markdown":"I&#39;m getting this error: Invalid XQuery syntax, syntax does not pass static validation. eac4.gestors.GestorException \r\nat eac4.gestors.GestorOrdinador.inserir(GestorOrdinador.java:57) \r\nat eac4.gestors.TestGestor.bTestInserir(TestGestor.java:107) \r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \r\n\r\nI&#39;m working on an exercise with some tests provided by my professor, I have to make 5 methods and their tests run one after another, if one fails, the following will fail too. The first method has to erase everything that is inside an XML file (except the root label &quot;ordinadors&quot;) and I&#39;ve done this: \r\n```\r\npublic static final String ARREL = &quot;doc(\\&quot;ordinadors/ordinadors.xml\\&quot;)/collection(\\&quot;ordinadors\\&quot;)/&quot;;\r\n\r\npublic void eliminarTot() throws GestorException {\r\n    try {\r\n        XQExpression xqe = conn.createExpression();\r\n        xqe.executeQuery(&quot;for $i in &quot;+ ARREL + &quot;ordinadors return delete node $i&quot;);\r\n    } catch (XQException ex) {\r\n        Logger.getLogger(GestorOrdinador.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n}\r\n```\r\nThe following method, that is the one giving the error, has to insert an object on that XML file: (little explanation: **Utilitats.formaObjecteXML(ordinador)** returns a String transforming an object into an XML-kind String) \r\n\r\n```\r\npublic void inserir(Ordinador ordinador) throws GestorException {\r\n    //TODO implementar m&#232;tode \r\n    String nom = ordinador.getNom(); \r\n    try { \r\n        XQExpression xqe = conn.createExpression(); \r\n        XQResultSequence xqrs = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[nom=&quot;+nom+&quot;]&quot;);\r\n\r\n        if(xqrs.next()){ \r\n            throw new GestorException(&quot;this ordinador already exists&quot;); \r\n        } else { \r\n            xqe.executeQuery(&quot;insert node &quot;+Utilitats.formaObjecteXML(ordinador)+&quot; into &quot; +ARREL+&quot;ordinadors&quot;); \r\n        } \r\n    } catch (XQException ex) {\r\n        throw new GestorException(ex.getMessage()); \r\n    } \r\n}\r\n```\r\n\r\nthe fact is that I don&#39;t get where is the syntax wrong, also, this line: **at eac4.gestors.GestorOrdinador.inserir(GestorOrdinador.java:57)** refers to this one: \r\n\r\n```\r\n} catch (XQException ex) {\r\n    *throw new GestorException(ex.getMessage());*\r\n}\r\n```\r\nI don&#39;t know how to handle this. Maybe there&#39;s a mistake on the **eliminarTot** method or it&#39;s just on the **inserir**... \r\n\r\nAs the test **eliminarTot** is succeeding, I asume that connection with de DB (BASEX 10.5) is ok, the Libraries are also ok, and i&#39;m using JDK 11 as my professor required.\r\nWe also are told to use XQUF to interact with the DB from Netbeans (mandatory).\r\nTY all.","title":"I got an Invalid XQuery syntax, syntax does not pass static validation error working with java","body":"<p>I'm getting this error: Invalid XQuery syntax, syntax does not pass static validation. eac4.gestors.GestorException\nat eac4.gestors.GestorOrdinador.inserir(GestorOrdinador.java:57)\nat eac4.gestors.TestGestor.bTestInserir(TestGestor.java:107)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</p>\n<p>I'm working on an exercise with some tests provided by my professor, I have to make 5 methods and their tests run one after another, if one fails, the following will fail too. The first method has to erase everything that is inside an XML file (except the root label &quot;ordinadors&quot;) and I've done this:</p>\n<pre><code>public static final String ARREL = &quot;doc(\\&quot;ordinadors/ordinadors.xml\\&quot;)/collection(\\&quot;ordinadors\\&quot;)/&quot;;\n\npublic void eliminarTot() throws GestorException {\n    try {\n        XQExpression xqe = conn.createExpression();\n        xqe.executeQuery(&quot;for $i in &quot;+ ARREL + &quot;ordinadors return delete node $i&quot;);\n    } catch (XQException ex) {\n        Logger.getLogger(GestorOrdinador.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n<p>The following method, that is the one giving the error, has to insert an object on that XML file: (little explanation: <strong>Utilitats.formaObjecteXML(ordinador)</strong> returns a String transforming an object into an XML-kind String)</p>\n<pre><code>public void inserir(Ordinador ordinador) throws GestorException {\n    //TODO implementar mètode \n    String nom = ordinador.getNom(); \n    try { \n        XQExpression xqe = conn.createExpression(); \n        XQResultSequence xqrs = xqe.executeQuery(ARREL+&quot;ordinadors/ordinador[nom=&quot;+nom+&quot;]&quot;);\n\n        if(xqrs.next()){ \n            throw new GestorException(&quot;this ordinador already exists&quot;); \n        } else { \n            xqe.executeQuery(&quot;insert node &quot;+Utilitats.formaObjecteXML(ordinador)+&quot; into &quot; +ARREL+&quot;ordinadors&quot;); \n        } \n    } catch (XQException ex) {\n        throw new GestorException(ex.getMessage()); \n    } \n}\n</code></pre>\n<p>the fact is that I don't get where is the syntax wrong, also, this line: <strong>at eac4.gestors.GestorOrdinador.inserir(GestorOrdinador.java:57)</strong> refers to this one:</p>\n<pre><code>} catch (XQException ex) {\n    *throw new GestorException(ex.getMessage());*\n}\n</code></pre>\n<p>I don't know how to handle this. Maybe there's a mistake on the <strong>eliminarTot</strong> method or it's just on the <strong>inserir</strong>...</p>\n<p>As the test <strong>eliminarTot</strong> is succeeding, I asume that connection with de DB (BASEX 10.5) is ok, the Libraries are also ok, and i'm using JDK 11 as my professor required.\nWe also are told to use XQUF to interact with the DB from Netbeans (mandatory).\nTY all.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1670284887,"post_id":74695675,"comment_id":131836579,"body_markdown":"Good introduction to the topic by Venkat Subramaniam a noted teacher and Java consultant, tend to be verbose but well worth the time  https://www.youtube.com/watch?v=15X0qFtBqiQ  or plenty of tutorial material on Java Functional programming online.","body":"Good introduction to the topic by Venkat Subramaniam a noted teacher and Java consultant, tend to be verbose but well worth the time  <a href=\"https://www.youtube.com/watch?v=15X0qFtBqiQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=15X0qFtBqiQ</a>  or plenty of tutorial material on Java Functional programming online."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681278949,"post_id":74740806,"comment_id":134028742,"body_markdown":"Or `getPrice = c::getName`.","body":"Or <code>getPrice = c::getName</code>."}],"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681817343,"creation_date":1670576295,"answer_id":74740806,"question_id":74695675,"body_markdown":"If you want to express City::getName, the lambda could also be written accordingly, maybe makes it more concise to understand what exactly happens:\r\n```\r\nfinal Function&lt;City, String&gt; getPrice = c -&gt; c.getName();\r\n```\r\nAdditional to the discussion, why is it a Function and not a Supplier:\r\nIn contrast to the Supplier, the Function takes an argument. So the use-case would be different.\r\n1. With Supplier&lt;String&gt;, you would always base on the same City, eg.\r\n   ```\r\n    final City city = currentCity\r\n    supplier = () -&gt; city.getName()\r\n    // or\r\n    supplier = city::getName\r\n   ```\r\n1. With Function&lt;City,String&gt;, you would always provide the instance to the Function: \r\n   ```\r\n    func = (city) -&gt; city.getName()\r\n    // or\r\n    func = City::getName\r\n   ```","title":"How is a getter method of a class a Function&lt;ThisObject, ReturnType&gt; if a getter doesn&#39;t take in anything?","body":"<p>If you want to express City::getName, the lambda could also be written accordingly, maybe makes it more concise to understand what exactly happens:</p>\n<pre><code>final Function&lt;City, String&gt; getPrice = c -&gt; c.getName();\n</code></pre>\n<p>Additional to the discussion, why is it a Function and not a Supplier:\nIn contrast to the Supplier, the Function takes an argument. So the use-case would be different.</p>\n<ol>\n<li>With Supplier, you would always base on the same City, eg.\n<pre><code> final City city = currentCity\n supplier = () -&gt; city.getName()\n // or\n supplier = city::getName\n</code></pre>\n</li>\n<li>With Function&lt;City,String&gt;, you would always provide the instance to the Function:\n<pre><code> func = (city) -&gt; city.getName()\n // or\n func = City::getName\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26494727,"reputation":11,"user_id":20132656,"display_name":"hellohellohello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681817343,"creation_date":1670283681,"question_id":74695675,"body_markdown":"https://medium.com/quick-code/java-8-functional-programming-how-i-do-f11239a0aa90\r\n\r\nI&#39;m looking at this article because I was wondering how to implement getters in functional interfaces for long xml-type nested objects (basically trying to figure out if I can chain getters to get a deeply nested object that represents an XML tree).\r\n\r\nThe part that confuses me is how a getter is a `Function&lt;City, String&gt;`. Do non static methods always take in the object that the method corresponds to? I&#39;ve read a lot of the docs but I don&#39;t see any of this mentioned. Can someone point me in the right direction here?\r\n\r\nWhy City::getName not supplier? Getters don&#39;t take in anything.","title":"How is a getter method of a class a Function&lt;ThisObject, ReturnType&gt; if a getter doesn&#39;t take in anything?","body":"<p><a href=\"https://medium.com/quick-code/java-8-functional-programming-how-i-do-f11239a0aa90\" rel=\"nofollow noreferrer\">https://medium.com/quick-code/java-8-functional-programming-how-i-do-f11239a0aa90</a></p>\n<p>I'm looking at this article because I was wondering how to implement getters in functional interfaces for long xml-type nested objects (basically trying to figure out if I can chain getters to get a deeply nested object that represents an XML tree).</p>\n<p>The part that confuses me is how a getter is a <code>Function&lt;City, String&gt;</code>. Do non static methods always take in the object that the method corresponds to? I've read a lot of the docs but I don't see any of this mentioned. Can someone point me in the right direction here?</p>\n<p>Why City::getName not supplier? Getters don't take in anything.</p>\n"},{"tags":["java","flutter","kotlin","dart","google-signin"],"answers":[{"tags":[],"owner":{"account_id":19977418,"reputation":152,"user_id":14641365,"display_name":"Shahzad Umar Baig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681817327,"creation_date":1681817327,"answer_id":76044023,"question_id":70534768,"body_markdown":"How I resolved it? I was initially creating a single instance of Google Sign In class.\r\n\r\n```\r\nfinal GoogleSignIn googleSignIn = GoogleSignIn();\r\n```\r\n\r\nSo I changed it to make it nullable and then assigned the variable in Sign In Function itself\r\n\r\n```\r\ntry {\r\n   _googleSignIn = GoogleSignIn();\r\n   final GoogleSignInAccount? googleSignInAccount = await _googleSignIn?.signIn();\r\n   final GoogleSignInAuthentication googleSignInAuthentication = await googleSignInAccount!.authentication;\r\n   if (googleSignInAuthentication.idToken != null) {\r\n     return googleSignInAuthentication.idToken!;\r\n   } else {\r\n     throw Exception(&quot;Google Authentication Failed&quot;);\r\n   }    \r\n} catch (e) {\r\n   rethrow;\r\n}\r\n```\r\n\r\nOnce it is signed In, after logging out I would call this function\r\n\r\n```\r\n  Future disconnectFirebaseAndGoogle() async {\r\n    await _googleSignIn?.signOut();\r\n    await firebaseAuth.signOut();\r\n    _googleSignIn = null;\r\n  }\r\n```\r\n\r\nThis fixed the same problem I had and now it does not give Bad Request error anymore.","title":"Google Sign In PlatformException(exception, BAD_REQUEST, null, null) on Flutter","body":"<p>How I resolved it? I was initially creating a single instance of Google Sign In class.</p>\n<pre><code>final GoogleSignIn googleSignIn = GoogleSignIn();\n</code></pre>\n<p>So I changed it to make it nullable and then assigned the variable in Sign In Function itself</p>\n<pre><code>try {\n   _googleSignIn = GoogleSignIn();\n   final GoogleSignInAccount? googleSignInAccount = await _googleSignIn?.signIn();\n   final GoogleSignInAuthentication googleSignInAuthentication = await googleSignInAccount!.authentication;\n   if (googleSignInAuthentication.idToken != null) {\n     return googleSignInAuthentication.idToken!;\n   } else {\n     throw Exception(&quot;Google Authentication Failed&quot;);\n   }    \n} catch (e) {\n   rethrow;\n}\n</code></pre>\n<p>Once it is signed In, after logging out I would call this function</p>\n<pre><code>  Future disconnectFirebaseAndGoogle() async {\n    await _googleSignIn?.signOut();\n    await firebaseAuth.signOut();\n    _googleSignIn = null;\n  }\n</code></pre>\n<p>This fixed the same problem I had and now it does not give Bad Request error anymore.</p>\n"}],"owner":{"account_id":22625379,"reputation":315,"user_id":16803545,"display_name":"Kucing Malaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681817327,"creation_date":1640884815,"question_id":70534768,"body_markdown":"This problem occurs on some devices, I tried in Pixel 4 XL API 30, API 29 and real device no problem, but in Pixel 4 API 30 got this error:\r\n```PlatformException(exception, BAD_REQUEST, null, null)```\r\n\r\n\r\n```\r\ntry {\r\n  final GoogleSignIn googleSignIn = GoogleSignIn();\r\n  final GoogleSignInAccount? googleUser = await googleSignIn.signIn(); // Receive my Google Account details\r\n  if (googleUser == null) return;\r\n\r\n  final googleAuth = await googleUser.authentication; // &lt;-- Catch error here\r\n\r\n  credential = GoogleAuthProvider.credential(\r\n    accessToken: googleAuth.accessToken,\r\n    idToken: googleAuth.idToken\r\n  );\r\n} catch (e) {\r\n  print(e); // PlatformException(exception, BAD_REQUEST, null, null)\r\n}\r\n```\r\nWhy does it happen on some devices? Is there a way to solve this problem?","title":"Google Sign In PlatformException(exception, BAD_REQUEST, null, null) on Flutter","body":"<p>This problem occurs on some devices, I tried in Pixel 4 XL API 30, API 29 and real device no problem, but in Pixel 4 API 30 got this error:\n<code>PlatformException(exception, BAD_REQUEST, null, null)</code></p>\n<pre><code>try {\n  final GoogleSignIn googleSignIn = GoogleSignIn();\n  final GoogleSignInAccount? googleUser = await googleSignIn.signIn(); // Receive my Google Account details\n  if (googleUser == null) return;\n\n  final googleAuth = await googleUser.authentication; // &lt;-- Catch error here\n\n  credential = GoogleAuthProvider.credential(\n    accessToken: googleAuth.accessToken,\n    idToken: googleAuth.idToken\n  );\n} catch (e) {\n  print(e); // PlatformException(exception, BAD_REQUEST, null, null)\n}\n</code></pre>\n<p>Why does it happen on some devices? Is there a way to solve this problem?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681817781,"post_id":76041095,"comment_id":134114559,"body_markdown":"Use a library that works. This thing is 11 years old and appears to have been only experimental in the first place. [This link](https://code.google.com/archive/p/log4jdbc-remix/) says it is dead.","body":"Use a library that works. This thing is 11 years old and appears to have been only experimental in the first place. <a href=\"https://code.google.com/archive/p/log4jdbc-remix/\" rel=\"nofollow noreferrer\">This link</a> says it is dead."}],"owner":{"account_id":27940521,"reputation":1,"user_id":21336643,"display_name":"Wolp2a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681817301,"creation_date":1681796329,"question_id":76041095,"body_markdown":"when I add this dependency in Gradle,\r\n\r\n```\r\ndependencies {\r\n  implementation &#39;org.lazyluke:log4jdbc-remix:0.2.7&#39;\r\n}\r\n```\r\n\r\nfound a problem in ResultSetSpy class,\r\nClass &#39;ResultSetSpy&#39; must either be declared abstract or implement abstract method &#39;getObject(int, Class&lt;T&gt;)&#39; in &#39;ResultSet&#39;\r\n\r\n\r\n\r\nthis error is causing JDBC connection error with DB.\r\nDoes anyone know how to resolve?","title":"ResultSet missing getObject()","body":"<p>when I add this dependency in Gradle,</p>\n<pre><code>dependencies {\n  implementation 'org.lazyluke:log4jdbc-remix:0.2.7'\n}\n</code></pre>\n<p>found a problem in ResultSetSpy class,\nClass 'ResultSetSpy' must either be declared abstract or implement abstract method 'getObject(int, Class)' in 'ResultSet'</p>\n<p>this error is causing JDBC connection error with DB.\nDoes anyone know how to resolve?</p>\n"},{"tags":["javascript","java","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1681666971,"post_id":76029197,"comment_id":134089841,"body_markdown":"The CryptoJS code is inconsistent. You generate a random 32 bytes key, but then pass it as a Base64 encoded string. Therefore CryptoJS uses a key derivation function. This is probably not intended, since such a key can be used directly. For this it has to be passed as WordArray. So you should fix the CryptoJS code first. By the way, CryptoJS has its own PRNG: `CryptoJS.lib.WordArray.random()` i.e. the crypto module of NodeJS is not needed at all. The combination of both probably does not work either.","body":"The CryptoJS code is inconsistent. You generate a random 32 bytes key, but then pass it as a Base64 encoded string. Therefore CryptoJS uses a key derivation function. This is probably not intended, since such a key can be used directly. For this it has to be passed as WordArray. So you should fix the CryptoJS code first. By the way, CryptoJS has its own PRNG: <code>CryptoJS.lib.WordArray.random()</code> i.e. the crypto module of NodeJS is not needed at all. The combination of both probably does not work either."},{"owner":{"account_id":255434,"reputation":21298,"user_id":535480,"display_name":"James"},"score":0,"creation_date":1681667089,"post_id":76029197,"comment_id":134089849,"body_markdown":"Not happy with the encryption provided by https?","body":"Not happy with the encryption provided by https?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1681667367,"post_id":76029197,"comment_id":134089885,"body_markdown":"Also the IV should be passed as WordArray. The Base64 encoding of the key and IV should only be used for the output. Furthermore, a public RSA key is imported at the beginning, which is not used in the rest of the code. What is this about?","body":"Also the IV should be passed as WordArray. The Base64 encoding of the key and IV should only be used for the output. Furthermore, a public RSA key is imported at the beginning, which is not used in the rest of the code. What is this about?"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1681680522,"post_id":76029197,"comment_id":134091576,"body_markdown":"`meant to encrypt data and send to backend for decryption` -  I&#39;d better challenge this design as unnecessary complexity. what kind of attacks would this design prevent your users from? save your time and don&#39;t implement useless things...","body":"<code>meant to encrypt data and send to backend for decryption</code> -  I&#39;d better challenge this design as unnecessary complexity. what kind of attacks would this design prevent your users from? save your time and don&#39;t implement useless things..."},{"owner":{"account_id":4238824,"reputation":727,"user_id":3469303,"accept_rate":100,"display_name":"Akin_Glen"},"score":0,"creation_date":1681816761,"post_id":76029197,"comment_id":134114300,"body_markdown":"Hi ursa, the design is meant to simulate sending card details from a javascript frontend to a java (likely spring boot) backend. The regulators we&#39;re working with are insisting that some form of encryption be used to concel card information when sending","body":"Hi ursa, the design is meant to simulate sending card details from a javascript frontend to a java (likely spring boot) backend. The regulators we&#39;re working with are insisting that some form of encryption be used to concel card information when sending"},{"owner":{"account_id":4238824,"reputation":727,"user_id":3469303,"accept_rate":100,"display_name":"Akin_Glen"},"score":0,"creation_date":1681816809,"post_id":76029197,"comment_id":134114312,"body_markdown":"Hi Topaco, you were right! Thanks! I followed your instructions and everything is working now. Thanks!","body":"Hi Topaco, you were right! Thanks! I followed your instructions and everything is working now. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":4238824,"reputation":727,"user_id":3469303,"accept_rate":100,"display_name":"Akin_Glen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681817030,"creation_date":1681817030,"answer_id":76043972,"question_id":76029197,"body_markdown":"Following Topaco&#39;s explanation, I passed the secret_key and iv as WordArray not Base64, and that resolved the issue.\r\n\r\n    function encrypt(data) {\r\n      // convert the JSON object to a string\r\n      const jsonDataString = JSON.stringify(data);\r\n    \r\n      // Create iv and secret_key\r\n      let iv = crypto.randomBytes(16);\r\n      let secret_key = crypto.randomBytes(32);\r\n    \r\n      iv = CryptoJS.lib.WordArray.create(iv);\r\n      secret_key = CryptoJS.lib.WordArray.create(secret_key);\r\n    \r\n      // Encrypt the plaintext using AES/CBC/PKCS5Padding\r\n      const ciphertext = CryptoJS.AES.encrypt(jsonDataString, secret_key, {\r\n        iv: iv,\r\n        padding: CryptoJS.pad.Pkcs7,\r\n        mode: CryptoJS.mode.CBC,\r\n      });\r\n      console.log(&quot;cipherText&quot;, ciphertext);\r\n    \r\n      // Print the ciphertext\r\n      console.log(ciphertext.toString());\r\n    }","title":"How do I carry out AES Encryption in javascript and decrypt the result in Java?","body":"<p>Following Topaco's explanation, I passed the secret_key and iv as WordArray not Base64, and that resolved the issue.</p>\n<pre><code>function encrypt(data) {\n  // convert the JSON object to a string\n  const jsonDataString = JSON.stringify(data);\n\n  // Create iv and secret_key\n  let iv = crypto.randomBytes(16);\n  let secret_key = crypto.randomBytes(32);\n\n  iv = CryptoJS.lib.WordArray.create(iv);\n  secret_key = CryptoJS.lib.WordArray.create(secret_key);\n\n  // Encrypt the plaintext using AES/CBC/PKCS5Padding\n  const ciphertext = CryptoJS.AES.encrypt(jsonDataString, secret_key, {\n    iv: iv,\n    padding: CryptoJS.pad.Pkcs7,\n    mode: CryptoJS.mode.CBC,\n  });\n  console.log(&quot;cipherText&quot;, ciphertext);\n\n  // Print the ciphertext\n  console.log(ciphertext.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":4238824,"reputation":727,"user_id":3469303,"accept_rate":100,"display_name":"Akin_Glen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76043972,"answer_count":1,"score":0,"last_activity_date":1681817030,"creation_date":1681664652,"question_id":76029197,"body_markdown":"I have a JavaScript frontend that&#39;s meant to encrypt data using AES/CBC/PKCS7Padding and send to a Java backend for decryption.\r\n\r\nThis is an extract of my JavaScript code:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n    export const encryptPaymentData = (data) =&gt; {\r\n      var encrypt = new JSEncrypt()\r\n      encrypt.setPublicKey(publicKey)\r\n    \r\n      // convert the JSON object to a string\r\n      const jsonDataString = JSON.stringify(data)\r\n    \r\n      // Create iv and secret_key\r\n      let iv = crypto.randomBytes(16)\r\n      let secret_key = crypto.randomBytes(32)\r\n    \r\n      // iv = Buffer.from(iv).toString(&quot;base64&quot;)\r\n      // secret_key = Buffer.from(secret_key).toString(&quot;base64&quot;)\r\n    \r\n      iv = CryptoJS.enc.Base64.stringify(CryptoJS.lib.WordArray.create(iv))\r\n      secret_key = CryptoJS.enc.Base64.stringify(\r\n        CryptoJS.lib.WordArray.create(secret_key)\r\n      )\r\n    \r\n      // Encrypt the plaintext using AES/CBC/PKCS5Padding\r\n      console.log(&quot;iv&quot;, iv)\r\n      console.log(&quot;Secret&quot;, secret_key)\r\n      const ciphertext = CryptoJS.AES.encrypt(jsonDataString, secret_key, {\r\n        iv: iv,\r\n        padding: CryptoJS.pad.Pkcs7,\r\n        mode: CryptoJS.mode.CBC,\r\n      })\r\n      console.log(&quot;cipherText&quot;, ciphertext)\r\n    \r\n      // Print the ciphertext\r\n      console.log(ciphertext.toString())\r\n    }\r\n\r\nAnd this is an extract of my Java code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    private static final String ALGORITHM = &quot;AES/CBC/PKCS7Padding&quot;;\r\n\r\n    public String decryptAES(String ciphertext, String secretKey, String iv) throws Exception {\r\n            IvParameterSpec ivSpec = new IvParameterSpec(Base64.getDecoder().decode(iv));\r\n            SecretKeySpec keySpec = new SecretKeySpec(Base64.getDecoder().decode(secretKey), &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM, &quot;BC&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec);\r\n            byte[] decrypted = cipher.doFinal(Base64.getDecoder().decode(ciphertext));\r\n            return new String(decrypted);\r\n        }\r\n\r\n\r\nWhen I copy the secret key and iv and encrypted value and try to decrypt in my Java program, I keep getting an error: `javax.crypto.BadPaddingException: pad block corrupted`\r\n\r\nPlease, what could the problem be?\r\n","title":"How do I carry out AES Encryption in javascript and decrypt the result in Java?","body":"<p>I have a JavaScript frontend that's meant to encrypt data using AES/CBC/PKCS7Padding and send to a Java backend for decryption.</p>\n<p>This is an extract of my JavaScript code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export const encryptPaymentData = (data) =&gt; {\n  var encrypt = new JSEncrypt()\n  encrypt.setPublicKey(publicKey)\n\n  // convert the JSON object to a string\n  const jsonDataString = JSON.stringify(data)\n\n  // Create iv and secret_key\n  let iv = crypto.randomBytes(16)\n  let secret_key = crypto.randomBytes(32)\n\n  // iv = Buffer.from(iv).toString(&quot;base64&quot;)\n  // secret_key = Buffer.from(secret_key).toString(&quot;base64&quot;)\n\n  iv = CryptoJS.enc.Base64.stringify(CryptoJS.lib.WordArray.create(iv))\n  secret_key = CryptoJS.enc.Base64.stringify(\n    CryptoJS.lib.WordArray.create(secret_key)\n  )\n\n  // Encrypt the plaintext using AES/CBC/PKCS5Padding\n  console.log(&quot;iv&quot;, iv)\n  console.log(&quot;Secret&quot;, secret_key)\n  const ciphertext = CryptoJS.AES.encrypt(jsonDataString, secret_key, {\n    iv: iv,\n    padding: CryptoJS.pad.Pkcs7,\n    mode: CryptoJS.mode.CBC,\n  })\n  console.log(&quot;cipherText&quot;, ciphertext)\n\n  // Print the ciphertext\n  console.log(ciphertext.toString())\n}\n</code></pre>\n<p>And this is an extract of my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String ALGORITHM = &quot;AES/CBC/PKCS7Padding&quot;;\n\npublic String decryptAES(String ciphertext, String secretKey, String iv) throws Exception {\n        IvParameterSpec ivSpec = new IvParameterSpec(Base64.getDecoder().decode(iv));\n        SecretKeySpec keySpec = new SecretKeySpec(Base64.getDecoder().decode(secretKey), &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(ALGORITHM, &quot;BC&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, ivSpec);\n        byte[] decrypted = cipher.doFinal(Base64.getDecoder().decode(ciphertext));\n        return new String(decrypted);\n    }\n</code></pre>\n<p>When I copy the secret key and iv and encrypted value and try to decrypt in my Java program, I keep getting an error: <code>javax.crypto.BadPaddingException: pad block corrupted</code></p>\n<p>Please, what could the problem be?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681815319,"post_id":76043204,"comment_id":134113961,"body_markdown":"`Avoid making CPU-intensive implementations` never heard of this &quot;rule&quot; just make sure you use parallel fluxes and split it out on cpu cores if you are to do CPU-intensive work.","body":"<code>Avoid making CPU-intensive implementations</code> never heard of this &quot;rule&quot; just make sure you use parallel fluxes and split it out on cpu cores if you are to do CPU-intensive work."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1681816451,"post_id":76043204,"comment_id":134114220,"body_markdown":"You are right. I was unclear.","body":"You are right. I was unclear."}],"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681816510,"creation_date":1681811852,"answer_id":76043204,"question_id":76042446,"body_markdown":"There are 3 &quot;my&quot; main rules in the reactor concept:\r\n1. Never block thread\r\n2. Never leave out the context, that is, do not implement big business logic in like a &quot;map&quot;\r\n3. If you use a blocking library, always wrap it! https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\r\n\r\n&gt; Suggestion: I think it&#39;s easier with Kotlin Coroutine the WebFlux, so\r\n&gt; we do our own and company projects in Kotlin. At least, that&#39;s what we\r\n&gt; do. Coroutine is compatible with WebFlux and vice-versa and does not\r\n&gt; need a stream-like structure, but the main rules are still live.\r\n\r\nWhat you want do:\r\n```java\r\nreturn WebClient\r\n    .builder()\r\n    // ...\r\n    .retrieve()\r\n    .bodyToMono(Foo2.class)\r\n    .flatMap(foo2 -&gt; {\r\n         return WebClient\r\n            .builder()\r\n            // ...\r\n            .body(Mono.just(foo3), Foo2.class)\r\n            .retrieve()\r\n            .bodyToMono(Foo3.class);\r\n     });\r\n```","title":"Create a call using WebClient that depends on the response body from another WebClient call","body":"<p>There are 3 &quot;my&quot; main rules in the reactor concept:</p>\n<ol>\n<li>Never block thread</li>\n<li>Never leave out the context, that is, do not implement big business logic in like a &quot;map&quot;</li>\n<li>If you use a blocking library, always wrap it! <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking</a></li>\n</ol>\n<blockquote>\n<p>Suggestion: I think it's easier with Kotlin Coroutine the WebFlux, so\nwe do our own and company projects in Kotlin. At least, that's what we\ndo. Coroutine is compatible with WebFlux and vice-versa and does not\nneed a stream-like structure, but the main rules are still live.</p>\n</blockquote>\n<p>What you want do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return WebClient\n    .builder()\n    // ...\n    .retrieve()\n    .bodyToMono(Foo2.class)\n    .flatMap(foo2 -&gt; {\n         return WebClient\n            .builder()\n            // ...\n            .body(Mono.just(foo3), Foo2.class)\n            .retrieve()\n            .bodyToMono(Foo3.class);\n     });\n</code></pre>\n"}],"owner":{"account_id":28336914,"reputation":1,"user_id":21670516,"display_name":"Rlnd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681816510,"creation_date":1681806818,"question_id":76042446,"body_markdown":"I was dipping my toes with the new Spring Reactive Framework (As we&#39;re planning on migrating our APIs to Spring Boot 3). I was looking on to how to get the response from an earlier WebClient call before initiating the second WebClient call. When I tried to use `.block()` to wait for the response from the first call, I get an exception `java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio`.\r\n\r\nI have some Node.js experience so I have been using `Promises` and `await` in a Node.js context.\r\n\r\nHere&#39;s an example of what I wanted to achieve using a Node.js code block:\r\n\r\n```\r\nconst firstDownstreamResponse = await axios.post(url, body);\r\nconst elementFromFirstDownstreamCall = firstDownstreamResponse.data;\r\nconst secondDownstreamResponse = await axios.post(url2, elementFromFirstDownstreamCall);\r\n```\r\n\r\nI tried using the WebClient as such:\r\n\r\n```\r\nFoo2 downstreamResponse1 = WebClient.builder().baseUrl(url).build()\r\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n        .body(Mono.just(body), Foo.class)\r\n        .retrieve().bodyToMono(Foo2.class).block(); // I get an error here\r\n\r\nFoo3 downstreamResponse2 = WebClient.builder().baseUrl(url2).build()\r\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n        .body(Mono.just(downstreamResponse1), Foo2.class)\r\n        .retrieve().bodyToMono(Foo3.class).block();\r\n```\r\n\r\nAdditional question/s: How would I approach WebClient if I wanted to do some further orchestration to the response data before I returning it to the controller, in the cases wherein the API response structure is different from the downstream response that I get from the WebClient?\r\n\r\n```\r\nFoo2 downstreamResponse = WebClient.builder().baseUrl(url).build()\r\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n        .body(Mono.just(body), Foo.class)\r\n        .retrieve().bodyToMono(Foo2.class).bloick()\r\n\r\nFooApiResponse fooApiResp = modifyResponse(downstreamResponse); // this will change the downstream response to one that conforms to the API spec.\r\n```\r\n\r\nAlso, how can I ensure that there will be contents to the response body getting sent back to the consumer when they initiate a call to the Reactive API microservice? As I might be wondering if there will be a case where some consuming applications might get a blank response body whilst the Reactive API are still waiting for the downstream responses.\r\n\r\n(In the case of Node.js we can use `await` for both these purposes).","title":"Create a call using WebClient that depends on the response body from another WebClient call","body":"<p>I was dipping my toes with the new Spring Reactive Framework (As we're planning on migrating our APIs to Spring Boot 3). I was looking on to how to get the response from an earlier WebClient call before initiating the second WebClient call. When I tried to use <code>.block()</code> to wait for the response from the first call, I get an exception <code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio</code>.</p>\n<p>I have some Node.js experience so I have been using <code>Promises</code> and <code>await</code> in a Node.js context.</p>\n<p>Here's an example of what I wanted to achieve using a Node.js code block:</p>\n<pre><code>const firstDownstreamResponse = await axios.post(url, body);\nconst elementFromFirstDownstreamCall = firstDownstreamResponse.data;\nconst secondDownstreamResponse = await axios.post(url2, elementFromFirstDownstreamCall);\n</code></pre>\n<p>I tried using the WebClient as such:</p>\n<pre><code>Foo2 downstreamResponse1 = WebClient.builder().baseUrl(url).build()\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .body(Mono.just(body), Foo.class)\n        .retrieve().bodyToMono(Foo2.class).block(); // I get an error here\n\nFoo3 downstreamResponse2 = WebClient.builder().baseUrl(url2).build()\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .body(Mono.just(downstreamResponse1), Foo2.class)\n        .retrieve().bodyToMono(Foo3.class).block();\n</code></pre>\n<p>Additional question/s: How would I approach WebClient if I wanted to do some further orchestration to the response data before I returning it to the controller, in the cases wherein the API response structure is different from the downstream response that I get from the WebClient?</p>\n<pre><code>Foo2 downstreamResponse = WebClient.builder().baseUrl(url).build()\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .body(Mono.just(body), Foo.class)\n        .retrieve().bodyToMono(Foo2.class).bloick()\n\nFooApiResponse fooApiResp = modifyResponse(downstreamResponse); // this will change the downstream response to one that conforms to the API spec.\n</code></pre>\n<p>Also, how can I ensure that there will be contents to the response body getting sent back to the consumer when they initiate a call to the Reactive API microservice? As I might be wondering if there will be a case where some consuming applications might get a blank response body whilst the Reactive API are still waiting for the downstream responses.</p>\n<p>(In the case of Node.js we can use <code>await</code> for both these purposes).</p>\n"},{"tags":["java","collections","iterator","enumeration"],"comments":[{"owner":{"account_id":26963,"reputation":35564,"user_id":70616,"accept_rate":74,"display_name":"victor hugo"},"score":4,"creation_date":1244079708,"post_id":948194,"comment_id":12782546,"body_markdown":"I used a google search and the first result was an interesting discussion in JavaRanch about [Enumeration vs Iterator](http://www.coderanch.com/t/202139/Performance/java/Enumeration-vs-Iterator)","body":"I used a google search and the first result was an interesting discussion in JavaRanch about <a href=\"http://www.coderanch.com/t/202139/Performance/java/Enumeration-vs-Iterator\" rel=\"nofollow noreferrer\">Enumeration vs Iterator</a>"}],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":9,"creation_date":1343145680,"post_id":948224,"comment_id":15410094,"body_markdown":"I think there is a bit of explanation missing from this answer regarding concurrency.","body":"I think there is a bit of explanation missing from this answer regarding concurrency."},{"owner":{"account_id":99112,"reputation":7249,"user_id":267892,"accept_rate":97,"display_name":"Emil"},"score":0,"creation_date":1352655659,"post_id":948224,"comment_id":18193190,"body_markdown":"@Paul_Draper: Edits should not be adding new meaning to the post, that is what comments are for.","body":"@Paul_Draper: Edits should not be adding new meaning to the post, that is what comments are for."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":4,"creation_date":1362386375,"post_id":948224,"comment_id":21414265,"body_markdown":"@coobird Are you sure &quot;Enumerations are typically faster&quot; ? since Enumeration has &quot;synchronizing block of code inside the nextElement()&quot; And We don&#39;t have Synchronization at Iterators which causes ConcurrentModificationException rit?? Do we call Iterators are typically faster and Enumerations are a little safer. ??","body":"@coobird Are you sure &quot;Enumerations are typically faster&quot; ? since Enumeration has &quot;synchronizing block of code inside the nextElement()&quot; And We don&#39;t have Synchronization at Iterators which causes ConcurrentModificationException rit?? Do we call Iterators are typically faster and Enumerations are a little safer. ??"},{"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"score":0,"creation_date":1362495760,"post_id":948224,"comment_id":21465034,"body_markdown":"@KanagaveluSugumar Thank you for pointing that out. (I didn&#39;t notice that the additional discussion was added to this answer.) I have rolled back the edit, as it wasn&#39;t entirely accurate.","body":"@KanagaveluSugumar Thank you for pointing that out. (I didn&#39;t notice that the additional discussion was added to this answer.) I have rolled back the edit, as it wasn&#39;t entirely accurate."},{"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"score":0,"creation_date":1406452928,"post_id":948224,"comment_id":38831823,"body_markdown":"I think it&#39;s worth pointing out that remove() is an optional method on the Iterator interface and quite a lot of implementating classes don&#39;t implement it.","body":"I think it&#39;s worth pointing out that remove() is an optional method on the Iterator interface and quite a lot of implementating classes don&#39;t implement it."},{"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"score":1,"creation_date":1412235636,"post_id":948224,"comment_id":41003583,"body_markdown":"&quot;Method names have been improved.&quot; - Thanks for being honest ;)","body":"&quot;Method names have been improved.&quot; - Thanks for being honest ;)"},{"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"score":0,"creation_date":1453066844,"post_id":948224,"comment_id":57428728,"body_markdown":"please, add &quot;fail-fast&quot; explanation also to this answer!","body":"please, add &quot;fail-fast&quot; explanation also to this answer!"},{"owner":{"account_id":6008582,"reputation":631,"user_id":4719765,"accept_rate":0,"display_name":"rocky"},"score":0,"creation_date":1515582608,"post_id":948224,"comment_id":83351830,"body_markdown":"@coobird just wondering why enumeration does not have remove method?","body":"@coobird just wondering why enumeration does not have remove method?"},{"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"score":0,"creation_date":1649784907,"post_id":948224,"comment_id":126962321,"body_markdown":"@rocky: Because they didn&#39;t think to add it initially, considered it too much trouble, or didn&#39;t have a good design for it yet. Most collections you iterate don&#39;t have obvious/easy ways to enable removal of elements and/or allowing removal would hide inefficiencies (e.g. when iterating an `ArrayList`, it would be inefficient to allow element-by-element removal; each removal would be `O(n)`). Presumably when they first implemented iteration, they decided to stick with universal features; by the time they came up with a better system, back-compat constraints prevented improving `Enumeration`.","body":"@rocky: Because they didn&#39;t think to add it initially, considered it too much trouble, or didn&#39;t have a good design for it yet. Most collections you iterate don&#39;t have obvious/easy ways to enable removal of elements and/or allowing removal would hide inefficiencies (e.g. when iterating an <code>ArrayList</code>, it would be inefficient to allow element-by-element removal; each removal would be <code>O(n)</code>). Presumably when they first implemented iteration, they decided to stick with universal features; by the time they came up with a better system, back-compat constraints prevented improving <code>Enumeration</code>."}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":9,"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1598677450,"creation_date":1244079984,"answer_id":948224,"question_id":948194,"body_markdown":"Looking at the Java API Specification for the [`Iterator`][1] interface, there is an explanation of the differences between [`Enumeration`][2]:\r\n\r\n&gt; Iterators differ from\r\n&gt; enumerations in two ways:\r\n&gt; \r\n&gt;* Iterators allow the caller to remove elements from the underlying\r\n&gt; collection during the iteration with\r\n&gt; well-defined semantics.\r\n&gt;* Method names have been improved.\r\n\r\nThe bottom line is, both `Enumeration` and `Iterator` will give successive elements, but `Iterator` improved the method names by shortening away the verbiage, and it has an additional `remove` method. Here is a side-by-side comparison:\r\n    \r\n      Enumeration                     Iterator\r\n      ----------------                ----------------\r\n      hasMoreElements()               hasNext()\r\n      nextElement()                   next()\r\n      N/A                             remove()\r\n\r\nAs also mentioned in the Java API Specifications, for newer programs, `Iterator` should be preferred over `Enumeration`, as &quot;Iterator takes the place of Enumeration in the Java collections framework.&quot; (From the [`Iterator`][1] specifications.)\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html","title":"Difference between Java Enumeration and Iterator","body":"<p>Looking at the Java API Specification for the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a> interface, there is an explanation of the differences between <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\" rel=\"noreferrer\"><code>Enumeration</code></a>:</p>\n<blockquote>\n<p>Iterators differ from\nenumerations in two ways:</p>\n<ul>\n<li>Iterators allow the caller to remove elements from the underlying\ncollection during the iteration with\nwell-defined semantics.</li>\n<li>Method names have been improved.</li>\n</ul>\n</blockquote>\n<p>The bottom line is, both <code>Enumeration</code> and <code>Iterator</code> will give successive elements, but <code>Iterator</code> improved the method names by shortening away the verbiage, and it has an additional <code>remove</code> method. Here is a side-by-side comparison:</p>\n<pre><code>  Enumeration                     Iterator\n  ----------------                ----------------\n  hasMoreElements()               hasNext()\n  nextElement()                   next()\n  N/A                             remove()\n</code></pre>\n<p>As also mentioned in the Java API Specifications, for newer programs, <code>Iterator</code> should be preferred over <code>Enumeration</code>, as &quot;Iterator takes the place of Enumeration in the Java collections framework.&quot; (From the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a> specifications.)</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1244080080,"creation_date":1244080080,"answer_id":948228,"question_id":948194,"body_markdown":"&quot;Officially&quot;, they are supposed to be similar with the iterator interface supporting extra operations (e.g., removal). Generally, the tendency is to use iterators.\r\n\r\nHere is from [the enumeration interface javadocs][1]:\r\n\r\n&gt;NOTE: The functionality of this interface is duplicated by the\r\n&gt; Iterator interface. In addition,\r\n&gt; Iterator adds an optional remove\r\n&gt; operation, and has shorter method\r\n&gt; names. New implementations should\r\n&gt; consider using Iterator in preference\r\n&gt; to Enumeration.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html","title":"Difference between Java Enumeration and Iterator","body":"<p>\"Officially\", they are supposed to be similar with the iterator interface supporting extra operations (e.g., removal). Generally, the tendency is to use iterators.</p>\n\n<p>Here is from <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\" rel=\"noreferrer\">the enumeration interface javadocs</a>:</p>\n\n<blockquote>\n  <p>NOTE: The functionality of this interface is duplicated by the\n  Iterator interface. In addition,\n  Iterator adds an optional remove\n  operation, and has shorter method\n  names. New implementations should\n  consider using Iterator in preference\n  to Enumeration.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":39321,"reputation":1046,"user_id":113331,"display_name":"Licky Lindsay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244082494,"creation_date":1244082494,"answer_id":948313,"question_id":948194,"body_markdown":"If you&#39;re writing your own collection class, and you&#39;re extending any of the existing classes or implementing any of the Collections framework interfaces, you basically have no choice but to use Iterator.\r\n\r\nIf for some reason (that I can&#39;t think of) you&#39;re creating a custom collection class that does not relate to java.util.Collection or java.util.Map in any way, you should *still* implement Iterable so people can use your class in for loops.\r\n","title":"Difference between Java Enumeration and Iterator","body":"<p>If you're writing your own collection class, and you're extending any of the existing classes or implementing any of the Collections framework interfaces, you basically have no choice but to use Iterator.</p>\n\n<p>If for some reason (that I can't think of) you're creating a custom collection class that does not relate to java.util.Collection or java.util.Map in any way, you should <em>still</em> implement Iterable so people can use your class in for loops.</p>\n"},{"comments":[{"owner":{"account_id":219375,"reputation":5029,"user_id":476235,"accept_rate":59,"display_name":"javauser71"},"score":0,"creation_date":1371168379,"post_id":9645719,"comment_id":24736201,"body_markdown":"It is true that Enumeration does &quot;not&quot; expose remove() method - but it also does not pay attention to the invocation of Collection&#39;s remove() api. For example following code will just print: AAA, CCC, EEE.\n\n----------------------------------------------------- \nVector&lt;String&gt; v=new Vector&lt;String&gt;(6); v.add(&quot;AAA&quot;); v.add(&quot;BBB&quot;); v.add(&quot;CCC&quot;); v.add(&quot;DDD&quot;); v.add(&quot;EEE&quot;); v.add(&quot;FFF&quot;); Enumeration&lt;String&gt; en = v.elements(); while(en.hasMoreElements()) String value=(String) en.nextElement(); System.out.println(value); v.remove(value);","body":"It is true that Enumeration does &quot;not&quot; expose remove() method - but it also does not pay attention to the invocation of Collection&#39;s remove() api. For example following code will just print: AAA, CCC, EEE.  -----------------------------------------------------  Vector&lt;String&gt; v=new Vector&lt;String&gt;(6); v.add(&quot;AAA&quot;); v.add(&quot;BBB&quot;); v.add(&quot;CCC&quot;); v.add(&quot;DDD&quot;); v.add(&quot;EEE&quot;); v.add(&quot;FFF&quot;); Enumeration&lt;String&gt; en = v.elements(); while(en.hasMoreElements()) String value=(String) en.nextElement(); System.out.println(value); v.remove(value);"}],"tags":[],"owner":{"account_id":1231886,"reputation":6128,"user_id":1196285,"accept_rate":68,"display_name":"bnguyen82"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1331375680,"creation_date":1331375680,"answer_id":9645719,"question_id":948194,"body_markdown":"The main different is Enumeration doesn&#39;t expose remove() method. Moreover, Iterator don&#39;t allow a simultaneously navigation and modification on an underlying object. They have a control to see if there are concurrent modifications or so, and hence takes more processing. So Enumeration&#39;s performance is virtually 50% faster than Iterator. If we need only navigation ignoring such a synchronization, just use Enumeration.","title":"Difference between Java Enumeration and Iterator","body":"<p>The main different is Enumeration doesn't expose remove() method. Moreover, Iterator don't allow a simultaneously navigation and modification on an underlying object. They have a control to see if there are concurrent modifications or so, and hence takes more processing. So Enumeration's performance is virtually 50% faster than Iterator. If we need only navigation ignoring such a synchronization, just use Enumeration.</p>\n"},{"comments":[{"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"score":1,"creation_date":1406452797,"post_id":12001990,"comment_id":38831797,"body_markdown":"Where did you see that you can use Enumeration for key sets of Map??","body":"Where did you see that you can use Enumeration for key sets of Map??"}],"tags":[],"owner":{"account_id":1758647,"reputation":5,"user_id":1606301,"display_name":"pavan kumar"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1349273534,"creation_date":1345190517,"answer_id":12001990,"question_id":948194,"body_markdown":"Both iterator and enumeration are used to retrieve the data, the difference is that enumeration can be used only for legacy classes i.e vector/stack whereas iterators can be used for the rest. Enumeration can also be used for the key set in maps.","title":"Difference between Java Enumeration and Iterator","body":"<p>Both iterator and enumeration are used to retrieve the data, the difference is that enumeration can be used only for legacy classes i.e vector/stack whereas iterators can be used for the rest. Enumeration can also be used for the key set in maps.</p>\n"},{"comments":[{"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"score":12,"creation_date":1406453257,"post_id":13081850,"comment_id":38831909,"body_markdown":"Only partly true: this behaviour is not defined in the interface, it is up to the implementation of the Iterator.\nIt&#39;s true that the &#39;old&#39; collection implementations in java.util (HashSet, ArrayList etc.) exhibit this behaviour.\nHowever, the newer &#39;concurrent&#39; collections will never throw a ConcurrentModificationException, they will traverse the collection as of the time of creation of the iterator.\nOther implementations may show still different behaviour.","body":"Only partly true: this behaviour is not defined in the interface, it is up to the implementation of the Iterator. It&#39;s true that the &#39;old&#39; collection implementations in java.util (HashSet, ArrayList etc.) exhibit this behaviour. However, the newer &#39;concurrent&#39; collections will never throw a ConcurrentModificationException, they will traverse the collection as of the time of creation of the iterator. Other implementations may show still different behaviour."},{"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"score":1,"creation_date":1406453568,"post_id":13081850,"comment_id":38831973,"body_markdown":"Also worth pointing out: &quot;Note that fail-fast behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: ConcurrentModificationException should be used only to detect bugs.&quot;\nhttp://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html","body":"Also worth pointing out: &quot;Note that fail-fast behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a best-effort basis. Therefore, it would be wrong to write a program that depended on this exception for its correctness: ConcurrentModificationException should be used only to detect bugs.&quot; <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}],"tags":[],"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1351232812,"creation_date":1351232812,"answer_id":13081850,"question_id":948194,"body_markdown":"Iterators are &lt;b&gt;fail-fast&lt;/b&gt; . i.e. when one thread changes the collection by add / remove operations , while another thread is traversing it through an Iterator using `hasNext() or next()` method, the iterator fails quickly by throwing `ConcurrentModificationException` . The fail-fast behavior of iterators can be used only to detect bugs. The Enumerations returned by the methods of classes like Hashtable, Vector are not fail-fast that is achieved by synchronizing the block of code inside the `nextElement()` method that locks the current Vector object which costs lots of time.","title":"Difference between Java Enumeration and Iterator","body":"<p>Iterators are <b>fail-fast</b> . i.e. when one thread changes the collection by add / remove operations , while another thread is traversing it through an Iterator using <code>hasNext() or next()</code> method, the iterator fails quickly by throwing <code>ConcurrentModificationException</code> . The fail-fast behavior of iterators can be used only to detect bugs. The Enumerations returned by the methods of classes like Hashtable, Vector are not fail-fast that is achieved by synchronizing the block of code inside the <code>nextElement()</code> method that locks the current Vector object which costs lots of time.</p>\n"},{"tags":[],"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1361832389,"creation_date":1361832389,"answer_id":15078008,"question_id":948194,"body_markdown":"One simple fact but haven&#39;t mentioned in previous answers is that `Iterator&lt;T&gt;` is used with `Iterable&lt;T&gt;` to serve in interpreting `for(_type_ element:collection){...}` structure.","title":"Difference between Java Enumeration and Iterator","body":"<p>One simple fact but haven't mentioned in previous answers is that <code>Iterator&lt;T&gt;</code> is used with <code>Iterable&lt;T&gt;</code> to serve in interpreting <code>for(_type_ element:collection){...}</code> structure.</p>\n"},{"tags":[],"owner":{"account_id":2472300,"reputation":3706,"user_id":2153834,"accept_rate":67,"display_name":"Vipin Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681816498,"creation_date":1456212364,"answer_id":35571252,"question_id":948194,"body_markdown":"There are three differences between `Enumeration` and `Iterator`:   \r\n\r\n**Enumeration**  \r\n 1. It is used for legacy classes only (e.g. `Vector`)\r\n\r\n    \t// v is an object of the Vector class\r\n        Enumeration e = v.elements();  \r\n\r\n2. We can not remove elements, the collection itself cannot be altered; elements can only be accessed\r\n3. the following two methods are available:\r\n   \r\n   - `public boolean hasNextElement()`\r\n   - `public Object nextElement()`\r\n\r\n**Iterator** \r\n\r\n 1. It is applicable for all collections in the Collection framework:\r\n\r\n        // c is any Collection\r\n        classIterator itr = c.iterator();  \r\n    \t\r\n 2. It is possible both to iterate and access the elements, and the elements can be removed.\r\n\r\n 3. Three Method are available\r\n    - `public boolean hasNext()`\r\n    - `public Object next()`\r\n    - `public void remove()`\r\n\r\n**Limitation** for both `Enumeration` and `Iterator`:\r\n\r\n - The can only move in the forward direction;\r\n - There are no methods to add or replace an element. \r\n","title":"Difference between Java Enumeration and Iterator","body":"<p>There are three differences between <code>Enumeration</code> and <code>Iterator</code>:</p>\n<p><strong>Enumeration</strong></p>\n<ol>\n<li><p>It is used for legacy classes only (e.g. <code>Vector</code>)</p>\n<pre><code>// v is an object of the Vector class\nEnumeration e = v.elements();  \n</code></pre>\n</li>\n<li><p>We can not remove elements, the collection itself cannot be altered; elements can only be accessed</p>\n</li>\n<li><p>the following two methods are available:</p>\n<ul>\n<li><code>public boolean hasNextElement()</code></li>\n<li><code>public Object nextElement()</code></li>\n</ul>\n</li>\n</ol>\n<p><strong>Iterator</strong></p>\n<ol>\n<li><p>It is applicable for all collections in the Collection framework:</p>\n<pre><code>// c is any Collection\nclassIterator itr = c.iterator();  \n</code></pre>\n</li>\n<li><p>It is possible both to iterate and access the elements, and the elements can be removed.</p>\n</li>\n<li><p>Three Method are available</p>\n<ul>\n<li><code>public boolean hasNext()</code></li>\n<li><code>public Object next()</code></li>\n<li><code>public void remove()</code></li>\n</ul>\n</li>\n</ol>\n<p><strong>Limitation</strong> for both <code>Enumeration</code> and <code>Iterator</code>:</p>\n<ul>\n<li>The can only move in the forward direction;</li>\n<li>There are no methods to add or replace an element.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8431566,"reputation":17,"user_id":6327109,"display_name":"Jay Sheth"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472961362,"creation_date":1472961362,"answer_id":39313401,"question_id":948194,"body_markdown":"Enumeration can be used only for the legacy class(Vector, Stack...), while Iterator can be used for all. ","title":"Difference between Java Enumeration and Iterator","body":"<p>Enumeration can be used only for the legacy class(Vector, Stack...), while Iterator can be used for all. </p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1681816541,"post_id":61222562,"comment_id":134114244,"body_markdown":"Yes, as stated in all the other answers up to this point.","body":"Yes, as stated in all the other answers up to this point."}],"tags":[],"owner":{"account_id":12904355,"reputation":777,"user_id":9332102,"display_name":"Dhirendra Gautam"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1586931885,"creation_date":1586931885,"answer_id":61222562,"question_id":948194,"body_markdown":"1) The main difference between Iterator and Enumeration is removal of the element \r\nwhile traversing the collection. Iterator can remove the element during traversal of collection as it has remove() method. Enumeration does not have remove() method.\r\n\r\n2) Enumeration is fail-safe in nature. It does not throw ConcurrentModificationException if Collection is modified during the traversal.\r\nIterator is fail-fast in nature. It throws ConcurrentModificationException if a Collection is modified while iterating other than its own remove() method.\r\n\r\n3) Enumeration is a legacy interface which is used for traversing Vector, Hashtable. \r\nIterator is not a legacy interface. Iterator can be used for the traversal of HashMap, LinkedList,  ArrayList, HashSet, TreeMap, TreeSet . \r\n","title":"Difference between Java Enumeration and Iterator","body":"<p>1) The main difference between Iterator and Enumeration is removal of the element \nwhile traversing the collection. Iterator can remove the element during traversal of collection as it has remove() method. Enumeration does not have remove() method.</p>\n\n<p>2) Enumeration is fail-safe in nature. It does not throw ConcurrentModificationException if Collection is modified during the traversal.\nIterator is fail-fast in nature. It throws ConcurrentModificationException if a Collection is modified while iterating other than its own remove() method.</p>\n\n<p>3) Enumeration is a legacy interface which is used for traversing Vector, Hashtable. \nIterator is not a legacy interface. Iterator can be used for the traversal of HashMap, LinkedList,  ArrayList, HashSet, TreeMap, TreeSet . </p>\n"}],"owner":{"account_id":38002,"reputation":35251,"user_id":108869,"accept_rate":83,"display_name":"cometta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97089,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":948224,"answer_count":10,"score":138,"last_activity_date":1681816498,"creation_date":1244079316,"question_id":948194,"body_markdown":"What is the exact difference between these two interfaces? Does [`Enumeration`](http://docs.oracle.com/javase/7/docs/api/java/util/Enumeration.html) have benefits over using [`Iterator`](http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html)?  If anyone could elaborate, a reference article would be appreciated.","title":"Difference between Java Enumeration and Iterator","body":"<p>What is the exact difference between these two interfaces? Does <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Enumeration.html\" rel=\"noreferrer\"><code>Enumeration</code></a> have benefits over using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\" rel=\"noreferrer\"><code>Iterator</code></a>?  If anyone could elaborate, a reference article would be appreciated.</p>\n"},{"tags":["java","arraylist","junit5","hashset","playing-cards"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681746992,"post_id":76036992,"comment_id":134103057,"body_markdown":"How is `deck.size()` cheating? Isn&#39;t that exactly the kind of functionality that you&#39;re trying to test? And copying the code block is not just inefficient, but pointless: if you do that, then you&#39;re testing the **test code** and not the code in the class under test (and there&#39;s no guarantee that neither of those gets changed). Something like `assertEquals(52, new Deck().size))` should be fine (or maybe swap the arguments, I always forget which one is the expected and not all assertion systems agree).","body":"How is <code>deck.size()</code> cheating? Isn&#39;t that exactly the kind of functionality that you&#39;re trying to test? And copying the code block is not just inefficient, but pointless: if you do that, then you&#39;re testing the <b>test code</b> and not the code in the class under test (and there&#39;s no guarantee that neither of those gets changed). Something like <code>assertEquals(52, new Deck().size))</code> should be fine (or maybe swap the arguments, I always forget which one is the expected and not all assertion systems agree)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1681754033,"post_id":76036992,"comment_id":134104722,"body_markdown":"Please add some more code to complete at least this class and also maybe a method that uses it.","body":"Please add some more code to complete at least this class and also maybe a method that uses it."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1681785487,"post_id":76036992,"comment_id":134109348,"body_markdown":"assuming you have a getter method for your Deck class, you can then call the get method to get the deck from your Deck class after instantiating it in your junit test. Then assert that there are 52 cards. But this requires you to have class variables, meaning that the `HashSet&lt;Card&gt; deck` variable declaration needs to be outside the constructor.","body":"assuming you have a getter method for your Deck class, you can then call the get method to get the deck from your Deck class after instantiating it in your junit test. Then assert that there are 52 cards. But this requires you to have class variables, meaning that the <code>HashSet&lt;Card&gt; deck</code> variable declaration needs to be outside the constructor."},{"owner":{"account_id":27124803,"reputation":1,"user_id":20668008,"display_name":"Bobby2Kills"},"score":0,"creation_date":1681806108,"post_id":76036992,"comment_id":134111874,"body_markdown":"@JoachimSauer thanks for taking the time to comment. I meant just having System.out.println(deck.size()); in my normal Deck class is cheating in the sense it&#39;s not Junit testing. No issues with using deck().size in my test class except it just flags up &quot;Method Call Expected&quot; on Deck()","body":"@JoachimSauer thanks for taking the time to comment. I meant just having System.out.println(deck.size()); in my normal Deck class is cheating in the sense it&#39;s not Junit testing. No issues with using deck().size in my test class except it just flags up &quot;Method Call Expected&quot; on Deck()"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1681809630,"post_id":76036992,"comment_id":134112604,"body_markdown":"@Bobby2Kills when you say &quot; I&#39;m wanting to unit test everything&quot;, what do you mean? you want to test that every single card is there?","body":"@Bobby2Kills when you say &quot; I&#39;m wanting to unit test everything&quot;, what do you mean? you want to test that every single card is there?"},{"owner":{"account_id":27124803,"reputation":1,"user_id":20668008,"display_name":"Bobby2Kills"},"score":0,"creation_date":1681810382,"post_id":76036992,"comment_id":134112780,"body_markdown":"@Bentaye sorry that was probably misleading on my part. I basically mean the things I am &quot;testing&quot; e.g. by doing System.out.prints to see if they work... I&#39;m trying to learn to use proper Junit tests instead.\n\nI&#39;ll need to get used to test-driven development for my apprenticeship, so trying to get better at testing full stop.","body":"@Bentaye sorry that was probably misleading on my part. I basically mean the things I am &quot;testing&quot; e.g. by doing System.out.prints to see if they work... I&#39;m trying to learn to use proper Junit tests instead.  I&#39;ll need to get used to test-driven development for my apprenticeship, so trying to get better at testing full stop."}],"answers":[{"comments":[{"owner":{"account_id":27124803,"reputation":1,"user_id":20668008,"display_name":"Bobby2Kills"},"score":0,"creation_date":1681805795,"post_id":76037223,"comment_id":134111800,"body_markdown":"Thank you so much for taking the time with this. I&#39;m not too sure what you mean by &#39;heap&#39; but I&#39;ll look into it. My grasp on this is pretty poor right now and this is a learning exercise for me.\nMockito is next on the list of things I need to learn, and something I will eventually want to implement. \nThis is a learning exercise for me, hoping to be able to create a functional version of Blackjack. Once I have that working, I&#39;ll be trying to make other card games and hope to learn more as I go along.\n\nI&#39;ve updated my post with the rest of my code so far.","body":"Thank you so much for taking the time with this. I&#39;m not too sure what you mean by &#39;heap&#39; but I&#39;ll look into it. My grasp on this is pretty poor right now and this is a learning exercise for me. Mockito is next on the list of things I need to learn, and something I will eventually want to implement.  This is a learning exercise for me, hoping to be able to create a functional version of Blackjack. Once I have that working, I&#39;ll be trying to make other card games and hope to learn more as I go along.  I&#39;ve updated my post with the rest of my code so far."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1681847957,"post_id":76037223,"comment_id":134122307,"body_markdown":"Heap is the part of the main memory that java uses to store objects. As opposed to the stack, where parameters of method calls are stored. (Parameters with objects are always just references to that object, so the actual object data is stored in the heap while the reference as parameter is stored in the stack.) The operator `new` allocates memory on the heap that is freed again, when (simplified) the garbage collector finds no further reference to that object.","body":"Heap is the part of the main memory that java uses to store objects. As opposed to the stack, where parameters of method calls are stored. (Parameters with objects are always just references to that object, so the actual object data is stored in the heap while the reference as parameter is stored in the stack.) The operator <code>new</code> allocates memory on the heap that is freed again, when (simplified) the garbage collector finds no further reference to that object."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681748250,"creation_date":1681748250,"answer_id":76037223,"question_id":76036992,"body_markdown":"Your code shows a constructor that uses local variables. You cannot unit test those inside details of a method or constructor.\r\n\r\nYou should unit test expected outputs of methods or constructors or interactions with other objects methods. (The interaction testing is a bit &quot;higher level&quot; but only until you find out how to use Mockito or another library that handles most stuff on that for you.)\r\n\r\nIf you keep that code in the constructor as it is, you cannot unit test anything there, as it has no side effects - except if you have unexpected side effects in the `Suit.values()` and `Rank.values()` (both `enums` I guess?) or in the constructor of `Card`.\r\n\r\nEven the heap should be the same before and after as all objects probably get garbage collected after calling that constructor.","title":"How to write a test (of e.g. the .size() if an ArrayList that&#39;s been put into a HashSet that has a nested for each loop in it?","body":"<p>Your code shows a constructor that uses local variables. You cannot unit test those inside details of a method or constructor.</p>\n<p>You should unit test expected outputs of methods or constructors or interactions with other objects methods. (The interaction testing is a bit &quot;higher level&quot; but only until you find out how to use Mockito or another library that handles most stuff on that for you.)</p>\n<p>If you keep that code in the constructor as it is, you cannot unit test anything there, as it has no side effects - except if you have unexpected side effects in the <code>Suit.values()</code> and <code>Rank.values()</code> (both <code>enums</code> I guess?) or in the constructor of <code>Card</code>.</p>\n<p>Even the heap should be the same before and after as all objects probably get garbage collected after calling that constructor.</p>\n"},{"comments":[{"owner":{"account_id":27124803,"reputation":1,"user_id":20668008,"display_name":"Bobby2Kills"},"score":0,"creation_date":1681893066,"post_id":76037256,"comment_id":134128737,"body_markdown":"Thank you so much. \nMy code has evolved since posting this, but creating the deck in the @BeforeEach and also the getCards() method saved my bacon. Thank you.","body":"Thank you so much.  My code has evolved since posting this, but creating the deck in the @BeforeEach and also the getCards() method saved my bacon. Thank you."}],"tags":[],"owner":{"display_name":"user21651537"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681748473,"creation_date":1681748473,"answer_id":76037256,"question_id":76036992,"body_markdown":"Tell me if this what you want? Or else I can modify if its not exactly what you asked for\r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class DeckTest {\r\n    \r\n        @Test\r\n        void thereAre52CardsInADeck() {\r\n            Deck deck = new Deck();\r\n   \r\n            int deckSize = deck.getDeckSize();\r\n    \r\n            Assertions.assertEquals(52, deckSize, &quot;The deck should contain 52 cards&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to write a test (of e.g. the .size() if an ArrayList that&#39;s been put into a HashSet that has a nested for each loop in it?","body":"<p>Tell me if this what you want? Or else I can modify if its not exactly what you asked for</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\npublic class DeckTest {\n\n    @Test\n    void thereAre52CardsInADeck() {\n        Deck deck = new Deck();\n\n        int deckSize = deck.getDeckSize();\n\n        Assertions.assertEquals(52, deckSize, &quot;The deck should contain 52 cards&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681815818,"creation_date":1681814261,"answer_id":76043576,"question_id":76036992,"body_markdown":"First, you don&#39;t need both `cards` and `deck` in your `Deck` class, just go with \r\n```\r\npublic class Deck {\r\n\r\n    private final Set&lt;Card&gt; cards;\r\n\r\n    public Deck() {\r\n        cards = new HashSet&lt;&gt;();\r\n        for (Suit suit : Suit.values()) {\r\n            for (Rank rank : Rank.values()) {\r\n                cards.add(new Card(rank, suit));\r\n            }\r\n        }\r\n    }\r\n\r\n    public Set&lt;Card&gt; getCards() {\r\n        return cards;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen what you need to do is create a test class, first declare the dependency on junit5, here is for maven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(See [here][1] if you are using another dependency management tool)\r\n\r\nThen write the test this way:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.*;\r\n\r\nclass DeckTest {\r\n\r\n    private Deck deck;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        deck = new Deck();\r\n    }\r\n\r\n    @Test\r\n    void deckHad52Cards() {\r\n        assertEquals(52, deck.getCards().size());\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Additionally:\r\nAs your cards are stored in a `Set`, that will ensure that there are no duplicate cards, but that only work if you override the `equals` method in your `Card` class, so add the following bit of code in `Card`\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n        Card card = (Card) o;\r\n        return rank == card.rank &amp;&amp; suit == card.suit;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(rank, suit);\r\n    }\r\n\r\nand you can then test hat by creating a test class for `Card`, ie `CardTest` and have the 2 following tests in it:\r\n\r\n\r\n    @Test\r\n    void sameCardsShouldBeEqual() {\r\n        assertEquals(new Card(Rank.ACE, Suit.CLUBS), new Card(Rank.ACE, Suit.CLUBS));\r\n    }\r\n\r\n    @Test\r\n    void differentCardsShouldNotBeEqual() {\r\n        assertEquals(new Card(Rank.KING, Suit.CLUBS), new Card(Rank.ACE, Suit.CLUBS));\r\n    }\r\n\r\n\r\nAfter all this, you have tested that you have 52 distinct cards in your deck.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api/5.9.2","title":"How to write a test (of e.g. the .size() if an ArrayList that&#39;s been put into a HashSet that has a nested for each loop in it?","body":"<p>First, you don't need both <code>cards</code> and <code>deck</code> in your <code>Deck</code> class, just go with</p>\n<pre><code>public class Deck {\n\n    private final Set&lt;Card&gt; cards;\n\n    public Deck() {\n        cards = new HashSet&lt;&gt;();\n        for (Suit suit : Suit.values()) {\n            for (Rank rank : Rank.values()) {\n                cards.add(new Card(rank, suit));\n            }\n        }\n    }\n\n    public Set&lt;Card&gt; getCards() {\n        return cards;\n    }\n\n}\n</code></pre>\n<p>Then what you need to do is create a test class, first declare the dependency on junit5, here is for maven:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;version&gt;5.9.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(See <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api/5.9.2\" rel=\"nofollow noreferrer\">here</a> if you are using another dependency management tool)</p>\n<p>Then write the test this way:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.*;\n\nclass DeckTest {\n\n    private Deck deck;\n\n    @BeforeEach\n    void setUp() {\n        deck = new Deck();\n    }\n\n    @Test\n    void deckHad52Cards() {\n        assertEquals(52, deck.getCards().size());\n    }\n\n}\n</code></pre>\n<h3>Additionally:</h3>\n<p>As your cards are stored in a <code>Set</code>, that will ensure that there are no duplicate cards, but that only work if you override the <code>equals</code> method in your <code>Card</code> class, so add the following bit of code in <code>Card</code></p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) {\n        return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n        return false;\n    }\n    Card card = (Card) o;\n    return rank == card.rank &amp;&amp; suit == card.suit;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(rank, suit);\n}\n</code></pre>\n<p>and you can then test hat by creating a test class for <code>Card</code>, ie <code>CardTest</code> and have the 2 following tests in it:</p>\n<pre><code>@Test\nvoid sameCardsShouldBeEqual() {\n    assertEquals(new Card(Rank.ACE, Suit.CLUBS), new Card(Rank.ACE, Suit.CLUBS));\n}\n\n@Test\nvoid differentCardsShouldNotBeEqual() {\n    assertEquals(new Card(Rank.KING, Suit.CLUBS), new Card(Rank.ACE, Suit.CLUBS));\n}\n</code></pre>\n<p>After all this, you have tested that you have 52 distinct cards in your deck.</p>\n"}],"owner":{"account_id":27124803,"reputation":1,"user_id":20668008,"display_name":"Bobby2Kills"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1681815818,"creation_date":1681746684,"question_id":76036992,"body_markdown":"I&#39;m new to Java, on an apprenticeship, and struggling really. \r\nI&#39;m wanting to write a junit5 test for this:\r\n(I should add, this project is not finished, I&#39;m working my way through trying to create a game of Blackjack while learning along the way)\r\n\r\n    public Deck() {\r\n\r\n        ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n            //fill deck with cards\r\n        for (Suit suit: Suit.values()) {\r\n            for (Rank rank: Rank.values()){\r\n                cards.add(new Card(rank,suit));\r\n            };\r\n        }\r\n        HashSet&lt;Card&gt; deck = new HashSet&lt;&gt;(cards);;\r\n\r\nnow I can quite easily get the answer with: \r\n  `  System.out.println(deck.size());`\r\nbut that&#39;s cheating.\r\n\r\nI can&#39;t quite figure out how to write a test for e.g.\r\n    `void thereAre52CardsInADeck(){\r\n    }`\r\nwithout just putting the whole block of code in there.\r\nThat seems inefficient. \r\n\r\nCan anyone help/offer advice?\r\n\r\nEDIT:\r\nI really am entirely new to this, and fairly new to coding full stop, so apologies. This is part of a learning exercise for me.\r\n\r\n1 - by &quot;System.out.println(deck.size())&quot; cheating, I meant just having that at the end of my Deck() class (i.e. and not in a junit test class) is cheating because I&#39;m wanting to unit test everything\r\n\r\n2 - my suit class is:\r\n\r\n    public enum Suit {HEARTS, CLUBS, Diamonds, Spades}\r\n\r\nmy Rank class is\r\n\r\n    public enum Rank {\r\n        ACE(1), DEUCE(2), THREE(3), FOUR(4), FIVE(5), SIX(6), SEVEN(7), EIGHT(8), NINE(9), TEN(10), JACK(10), QUEEN(10), KING(10);\r\n        private final int rankValue;\r\n    \r\n        private Rank(int rankValue) {\r\n            this.rankValue = rankValue;\r\n        }\r\n    \r\n        public int getRankValue(){\r\n        return rankValue;\r\n        }\r\n    }\r\n\r\nMy card class is:\r\n\r\n    public class Card {\r\n        private final Rank rank;\r\n        private final Suit suit;\r\n        public Card (Rank rank, Suit suit) {\r\n            this.rank = rank;\r\n            this.suit = suit;\r\n        }\r\n        public Rank getRank() {\r\n            return rank;\r\n        }\r\n    \r\n        public Suit getSuit(){\r\n            return suit;\r\n        }\r\n    \r\n        @Override\r\n        public String toString(){\r\n            return rank + &quot; of &quot; + suit;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy main right now is:\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n        Deck deck = new Deck();\r\n    }\r\n}\r\n\r\n\r\n\r\nI&#39;ve ran the project and know I can get the correct amount running it with System.out.println(deck.size()), and if I remove the .size() I get my full list too, but I&#39;ve not managed to work it out in a Junit test.\r\n\r\n\r\n","title":"How to write a test (of e.g. the .size() if an ArrayList that&#39;s been put into a HashSet that has a nested for each loop in it?","body":"<p>I'm new to Java, on an apprenticeship, and struggling really.\nI'm wanting to write a junit5 test for this:\n(I should add, this project is not finished, I'm working my way through trying to create a game of Blackjack while learning along the way)</p>\n<pre><code>public Deck() {\n\n    ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n        //fill deck with cards\n    for (Suit suit: Suit.values()) {\n        for (Rank rank: Rank.values()){\n            cards.add(new Card(rank,suit));\n        };\n    }\n    HashSet&lt;Card&gt; deck = new HashSet&lt;&gt;(cards);;\n</code></pre>\n<p>now I can quite easily get the answer with:\n<code>  System.out.println(deck.size());</code>\nbut that's cheating.</p>\n<p>I can't quite figure out how to write a test for e.g.\n<code>void thereAre52CardsInADeck(){ }</code>\nwithout just putting the whole block of code in there.\nThat seems inefficient.</p>\n<p>Can anyone help/offer advice?</p>\n<p>EDIT:\nI really am entirely new to this, and fairly new to coding full stop, so apologies. This is part of a learning exercise for me.</p>\n<p>1 - by &quot;System.out.println(deck.size())&quot; cheating, I meant just having that at the end of my Deck() class (i.e. and not in a junit test class) is cheating because I'm wanting to unit test everything</p>\n<p>2 - my suit class is:</p>\n<pre><code>public enum Suit {HEARTS, CLUBS, Diamonds, Spades}\n</code></pre>\n<p>my Rank class is</p>\n<pre><code>public enum Rank {\n    ACE(1), DEUCE(2), THREE(3), FOUR(4), FIVE(5), SIX(6), SEVEN(7), EIGHT(8), NINE(9), TEN(10), JACK(10), QUEEN(10), KING(10);\n    private final int rankValue;\n\n    private Rank(int rankValue) {\n        this.rankValue = rankValue;\n    }\n\n    public int getRankValue(){\n    return rankValue;\n    }\n}\n</code></pre>\n<p>My card class is:</p>\n<pre><code>public class Card {\n    private final Rank rank;\n    private final Suit suit;\n    public Card (Rank rank, Suit suit) {\n        this.rank = rank;\n        this.suit = suit;\n    }\n    public Rank getRank() {\n        return rank;\n    }\n\n    public Suit getSuit(){\n        return suit;\n    }\n\n    @Override\n    public String toString(){\n        return rank + &quot; of &quot; + suit;\n    }\n\n}\n</code></pre>\n<p>My main right now is:\npublic class Main {</p>\n<pre><code>public static void main(String[] args){\n    Deck deck = new Deck();\n}\n</code></pre>\n<p>}</p>\n<p>I've ran the project and know I can get the correct amount running it with System.out.println(deck.size()), and if I remove the .size() I get my full list too, but I've not managed to work it out in a Junit test.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1681812673,"post_id":76043332,"comment_id":134113321,"body_markdown":"Try with `map` and `orElse`","body":"Try with <code>map</code> and <code>orElse</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1681812878,"post_id":76043332,"comment_id":134113364,"body_markdown":"`zdtstr = (zdt == null) ? &quot;???&quot; : zdt.format(myformatter);` ?! (no for for creating an additional instance, couple of method calls, ....)","body":"<code>zdtstr = (zdt == null) ? &quot;???&quot; : zdt.format(myformatter);</code> ?! (no for for creating an additional instance, couple of method calls, ....)"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1681812934,"post_id":76043332,"comment_id":134113381,"body_markdown":"Don&#39;t really see the point. If your method doesn&#39;t return an `Optional` to begin with, might as well just use a ternary operator: `String zdtstr = zdt != null ? zdt.format(myformatter) : &quot;???&quot;;`","body":"Don&#39;t really see the point. If your method doesn&#39;t return an <code>Optional</code> to begin with, might as well just use a ternary operator: <code>String zdtstr = zdt != null ? zdt.format(myformatter) : &quot;???&quot;;</code>"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":3,"creation_date":1681813077,"post_id":76043332,"comment_id":134113428,"body_markdown":"I would consider changing `getMyTime` to return an optional. Then you could to `String zdtstr = getMyTime().map(myformatter::format).orElse(&quot;???&quot;);`","body":"I would consider changing <code>getMyTime</code> to return an optional. Then you could to <code>String zdtstr = getMyTime().map(myformatter::format).orElse(&quot;???&quot;);</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681815918,"post_id":76043332,"comment_id":134114081,"body_markdown":"When null is a legitimate return value of a method, that method should return an `Optional`.","body":"When null is a legitimate return value of a method, that method should return an <code>Optional</code>."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681812907,"post_id":76043369,"comment_id":134113370,"body_markdown":"This isn&#39;t shorter though. Or, only if you cheat and use prejudicial style guide rules, in which case I can make it shorter still by removing all spaces from this, which seems silly.","body":"This isn&#39;t shorter though. Or, only if you cheat and use prejudicial style guide rules, in which case I can make it shorter still by removing all spaces from this, which seems silly."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1681813193,"post_id":76043369,"comment_id":134113457,"body_markdown":"@rzwitserloot Not sure what you mean, I consider 3 lines shorter than 5. And I do find it more elegant, but that&#39;s always a matter of taste of course.","body":"@rzwitserloot Not sure what you mean, I consider 3 lines shorter than 5. And I do find it more elegant, but that&#39;s always a matter of taste of course."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681813460,"post_id":76043369,"comment_id":134113519,"body_markdown":"For `if`, you MUST use braces, but with lambda functions you don&#39;t? Then the problem is the style guide and not that lambdas are somehow shorter than a simple `if`.","body":"For <code>if</code>, you MUST use braces, but with lambda functions you don&#39;t? Then the problem is the style guide and not that lambdas are somehow shorter than a simple <code>if</code>."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1681813838,"post_id":76043369,"comment_id":134113604,"body_markdown":"What style guide do you keep referring to? OP was asking a question how to transform his code into an `Optional` construct, I answered it. Not sure how not adding braces around a lambda invalidates that (and, fwiw, I didn&#39;t count the braces as lines anyway).","body":"What style guide do you keep referring to? OP was asking a question how to transform his code into an <code>Optional</code> construct, I answered it. Not sure how not adding braces around a lambda invalidates that (and, fwiw, I didn&#39;t count the braces as lines anyway)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681814842,"post_id":76043369,"comment_id":134113866,"body_markdown":"The one that makes you say &#39;with `if` it is 5 lines but with `.ofNullable` it is 3. That doesn&#39;t make sense unless your style guide dictates that `if` MUST use braces but also says that lambda don&#39;t have to, which is inconsistent.","body":"The one that makes you say &#39;with <code>if</code> it is 5 lines but with <code>.ofNullable</code> it is 3. That doesn&#39;t make sense unless your style guide dictates that <code>if</code> MUST use braces but also says that lambda don&#39;t have to, which is inconsistent."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1681815950,"post_id":76043369,"comment_id":134114086,"body_markdown":"@rzwitserloot I&#39;m talking about logical lines, ie pretty much statements.","body":"@rzwitserloot I&#39;m talking about logical lines, ie pretty much statements."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681824962,"post_id":76043369,"comment_id":134116588,"body_markdown":"See Xiidref&#39;s answer which does it in 2, if you go by that metric. If `getMyTime()` is, as the `get` suggests, not expensive, it could do it in 1.","body":"See Xiidref&#39;s answer which does it in 2, if you go by that metric. If <code>getMyTime()</code> is, as the <code>get</code> suggests, not expensive, it could do it in 1."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1681833466,"post_id":76043369,"comment_id":134119071,"body_markdown":"Im aware of the ternary operator and use it quite often. It&#39;s not &quot;my metric&quot;, op explicitly asked about &quot;shorter&quot; and &quot;Optional&quot;.","body":"Im aware of the ternary operator and use it quite often. It&#39;s not &quot;my metric&quot;, op explicitly asked about &quot;shorter&quot; and &quot;Optional&quot;."}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":8,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1681813003,"creation_date":1681812766,"answer_id":76043369,"question_id":76043332,"body_markdown":"You can use `ofNullable` to transfer the `null` into an empty `Optional`, then use `orElse`.\r\n\r\n```\r\nString zdtStr = Optional.ofNullable(getMyTime())\r\n .map(zdt -&gt; zdt.format(myformatter));\r\n .orElse(&quot;???&quot;);\r\n```","title":"Java Optionals: not null and method OR default value","body":"<p>You can use <code>ofNullable</code> to transfer the <code>null</code> into an empty <code>Optional</code>, then use <code>orElse</code>.</p>\n<pre><code>String zdtStr = Optional.ofNullable(getMyTime())\n .map(zdt -&gt; zdt.format(myformatter));\n .orElse(&quot;???&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681812908,"creation_date":1681812908,"answer_id":76043390,"question_id":76043332,"body_markdown":"You can just use a ternary operator : \r\n```java\r\nZonedDateTime zdt = getMyTime();\r\nString zdtstr = (zdt != null) ? zdt.format(myformatter) : &quot;???&quot;;\r\n```","title":"Java Optionals: not null and method OR default value","body":"<p>You can just use a ternary operator :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt = getMyTime();\nString zdtstr = (zdt != null) ? zdt.format(myformatter) : &quot;???&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681815807,"creation_date":1681815807,"answer_id":76043770,"question_id":76043332,"body_markdown":"if `getMyTime()` can return null, you can even have this getter to return an `Optional` in the first place. \r\n\r\n    Optional&lt;ZonedDateTime&gt; getMyTime() { \r\n        return Optional.ofNullable(myTime); \r\n    }\r\n\r\nAs a result, you can use it nicely, in a declarative and null-safe way:\r\n\r\n    getMyTime()\r\n      .map(zdt -&gt; zdt.format(myformatter));\r\n      .orElse(&quot;???&quot;);","title":"Java Optionals: not null and method OR default value","body":"<p>if <code>getMyTime()</code> can return null, you can even have this getter to return an <code>Optional</code> in the first place.</p>\n<pre><code>Optional&lt;ZonedDateTime&gt; getMyTime() { \n    return Optional.ofNullable(myTime); \n}\n</code></pre>\n<p>As a result, you can use it nicely, in a declarative and null-safe way:</p>\n<pre><code>getMyTime()\n  .map(zdt -&gt; zdt.format(myformatter));\n  .orElse(&quot;???&quot;);\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76043390,"answer_count":3,"score":0,"last_activity_date":1681815807,"creation_date":1681812529,"question_id":76043332,"body_markdown":"How can I make that shorter/more elegant with an Optional??\r\n\r\n    ZonedDateTime zdt = getMyTime ();\t// returns ZonedDateTime or null\r\n   \tString zdtstr = &quot;&quot;;\r\n   \tif (zdt != null)\r\n   \t{\r\n   \t\tzdtstr = zdt.format (myformatter);\r\n   \t}\r\n   \telse\r\n   \t{\r\n   \t\tzdtstr = &quot;???&quot;;\r\n   \t}\r\n\r\nI tried Optional.isPresentorElse but it does not return a result (String I need in my sample).","title":"Java Optionals: not null and method OR default value","body":"<p>How can I make that shorter/more elegant with an Optional??</p>\n<pre><code>ZonedDateTime zdt = getMyTime ();   // returns ZonedDateTime or null\nString zdtstr = &quot;&quot;;\nif (zdt != null)\n{\n    zdtstr = zdt.format (myformatter);\n}\nelse\n{\n    zdtstr = &quot;???&quot;;\n}\n</code></pre>\n<p>I tried Optional.isPresentorElse but it does not return a result (String I need in my sample).</p>\n"},{"tags":["java","junit5"],"answers":[{"comments":[{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1681803090,"post_id":76038766,"comment_id":134111225,"body_markdown":"is there any way to get class name associated with the @DisplayNameGeneration annotation?","body":"is there any way to get class name associated with the @DisplayNameGeneration annotation?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681803405,"post_id":76038766,"comment_id":134111297,"body_markdown":"maybe something like this `nameGenerator.generateDisplayNameForClass(new Object() {}.getClass()))` ?","body":"maybe something like this <code>nameGenerator.generateDisplayNameForClass(new Object() {}.getClass()))</code> ?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1681803974,"post_id":76038766,"comment_id":134111426,"body_markdown":"No, I want pass CustomDisplayNameGenerator.class during runtime to DisplayNameGenerator.getDisplayNameGenerator() method","body":"No, I want pass CustomDisplayNameGenerator.class during runtime to DisplayNameGenerator.getDisplayNameGenerator() method"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681806217,"post_id":76038766,"comment_id":134111900,"body_markdown":"yes - i believe you can do something. I&#39;ll come back a bit later in the day with another answer","body":"yes - i believe you can do something. I&#39;ll come back a bit later in the day with another answer"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1681811273,"post_id":76038766,"comment_id":134112983,"body_markdown":"I am able to resolve it , thanks","body":"I am able to resolve it , thanks"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1681815068,"post_id":76038766,"comment_id":134113911,"body_markdown":"i have updated the answer with an alternative solution, I believe it&#39;s pretty cool, take a look:)","body":"i have updated the answer with an alternative solution, I believe it&#39;s pretty cool, take a look:)"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681815030,"creation_date":1681760791,"answer_id":76038766,"question_id":76038434,"body_markdown":"The code looks ok, there is only one small issue is here: \r\n\r\n    DisplayNameGenerator name = getDisplayNameGenerator(DisplayNameGenerator.Standard.class);\r\n\r\nThis line will return an instance of `DisplayNameGenerator.Standard`, so - in your case - you&#39;ll want to use your own class there:\r\n            \r\n    DisplayNameGenerator nameGenerator = DisplayNameGenerator.getDisplayNameGenerator(CustomDisplayNameGenerator.class);\r\n\tSystem.out.println(nameGenerator.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\r\n\r\nOn the other hand, this won&#39;t be much different from directly calling the constructor:\r\n\r\n    DisplayNameGenerator nameGenerator = new CustomDisplayNameGenerator();\r\n    System.out.println(nameGenerator.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\r\n\r\n\r\n----------\r\n\r\n\r\nAs discussed in the comments, I found a better solution for this: you can define a custom test extension that implements the *BeforeTestExecutionCallback* :\r\n\r\n    public class PrintTestNameBeforeEach implements BeforeTestExecutionCallback {\r\n        @Override\r\n        public void beforeTestExecution(ExtensionContext context) {\r\n            System.out.println(context.getDisplayName());\r\n        }\r\n    }\r\n\r\nNow, you can simply annotate any test class with `@ExtendWith(PrintTestNameBeforeEach.class)` and all the methods will be printed, using the custom display name generator if you have one.\r\n\r\n    @ExtendWith(PrintTestNameBeforeEach.class)\r\n    @DisplayNameGeneration(CustomDisplayNameGenerator.class)\r\n    class JUnit5Callbacks {\r\n    \r\n    \t@Test\r\n    \tvoid myFirstTest() {\r\n    \t\tSystem.out.println(&quot;running the first test...&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid mySecondTest() {\r\n    \t\tSystem.out.println(&quot;running the second test...&quot;);\r\n    \t}\r\n    }\r\n\r\nPs: I wrote a small medium article about it, you can see all the steps here: https://medium.com/javarevisited/junit5-callbacks-in-less-than-3-minutes-55a87e000fcc\r\n","title":"How to print CustomDisplayNameGenerator value in the console using Junit 5 and java?","body":"<p>The code looks ok, there is only one small issue is here:</p>\n<pre><code>DisplayNameGenerator name = getDisplayNameGenerator(DisplayNameGenerator.Standard.class);\n</code></pre>\n<p>This line will return an instance of <code>DisplayNameGenerator.Standard</code>, so - in your case - you'll want to use your own class there:</p>\n<pre><code>DisplayNameGenerator nameGenerator = DisplayNameGenerator.getDisplayNameGenerator(CustomDisplayNameGenerator.class);\nSystem.out.println(nameGenerator.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\n</code></pre>\n<p>On the other hand, this won't be much different from directly calling the constructor:</p>\n<pre><code>DisplayNameGenerator nameGenerator = new CustomDisplayNameGenerator();\nSystem.out.println(nameGenerator.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\n</code></pre>\n<hr />\n<p>As discussed in the comments, I found a better solution for this: you can define a custom test extension that implements the <em>BeforeTestExecutionCallback</em> :</p>\n<pre><code>public class PrintTestNameBeforeEach implements BeforeTestExecutionCallback {\n    @Override\n    public void beforeTestExecution(ExtensionContext context) {\n        System.out.println(context.getDisplayName());\n    }\n}\n</code></pre>\n<p>Now, you can simply annotate any test class with <code>@ExtendWith(PrintTestNameBeforeEach.class)</code> and all the methods will be printed, using the custom display name generator if you have one.</p>\n<pre><code>@ExtendWith(PrintTestNameBeforeEach.class)\n@DisplayNameGeneration(CustomDisplayNameGenerator.class)\nclass JUnit5Callbacks {\n\n    @Test\n    void myFirstTest() {\n        System.out.println(&quot;running the first test...&quot;);\n    }\n\n    @Test\n    void mySecondTest() {\n        System.out.println(&quot;running the second test...&quot;);\n    }\n}\n</code></pre>\n<p>Ps: I wrote a small medium article about it, you can see all the steps here: <a href=\"https://medium.com/javarevisited/junit5-callbacks-in-less-than-3-minutes-55a87e000fcc\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/junit5-callbacks-in-less-than-3-minutes-55a87e000fcc</a></p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76038766,"answer_count":1,"score":0,"last_activity_date":1681815030,"creation_date":1681757959,"question_id":76038434,"body_markdown":"I want to print CustomDisplayNameGenerator value in the console using junit 5 and java.\r\n\r\n    import org.junit.jupiter.api.DisplayNameGenerator;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.lang.reflect.Method;\r\n    \r\n    public class CustomDisplayNameGenerator extends DisplayNameGenerator.Standard {\r\n        private static final Logger logger = LoggerFactory.getLogger(CustomDisplayNameGenerator.class);\r\n    \r\n        @Override\r\n        public String generateDisplayNameForClass(Class&lt;?&gt; testClass) {\r\n            return replaceCamelCase(super.generateDisplayNameForClass(testClass));\r\n        }\r\n    \r\n        @Override\r\n        public String generateDisplayNameForNestedClass(Class&lt;?&gt; nestedClass) {\r\n            return replaceCamelCase(super.generateDisplayNameForNestedClass(nestedClass));\r\n        }\r\n    \r\n        @Override\r\n        public String generateDisplayNameForMethod(Class&lt;?&gt; testClass, Method testMethod) {\r\n    \r\n            StringBuilder result = new StringBuilder();\r\n            result.append( &quot;Test&quot; + &quot;;&quot;);\r\n            result.append( &quot;Project&quot; + &quot;Test;&quot;);\r\n            result.append( &quot;JIRA id&quot; + &quot;435345;&quot;);\r\n            return result.toString();\r\n    \r\n        }\r\n    \r\n        String replaceCamelCase(String camelCase) {\r\n            StringBuilder result = new StringBuilder();\r\n            result.append(camelCase.charAt(0));\r\n            for (int i = 1; i &lt; camelCase.length(); i++) {\r\n                if (Character.isUpperCase(camelCase.charAt(i))) {\r\n                    result.append(&#39; &#39;);\r\n                    result.append(Character.toLowerCase(camelCase.charAt(i)));\r\n                } else {\r\n                    result.append(camelCase.charAt(i));\r\n                }\r\n            }\r\n            return result.toString();\r\n        }\r\n    }\r\n\r\nI am not sure what it is I need to do further. Can someone help me please? Here is the code so far I have got:\r\n\r\n\r\n    import Framework.Annotations.Common.*;\r\n    import org.junit.jupiter.api.*;\r\n    import java.lang.annotation.Annotation;\r\n    import static org.junit.jupiter.api.DisplayNameGenerator.getDisplayNameGenerator;\r\n    \r\n    @DisplayNameGeneration(CustomDisplayNameGenerator.class)\r\n    public class JUnit5GeneratedExample  {\r\n    \r\n        @Test\r\n        void simpleTestExecution() {\r\n            Annotation displayNameGeneration = getClass().getAnnotation(DisplayNameGeneration.class);\r\n            if (displayNameGeneration != null) {\r\n                System.out.println(displayNameGeneration.toString());\r\n                DisplayNameGenerator name = getDisplayNameGenerator(DisplayNameGenerator.Standard.class);\r\n                System.out.println(name.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\r\n            }\r\n            System.out.printf(&quot;This is printed&quot;);\r\n        }\r\n    }\r\n\r\nI am trying to print below highlighted text in my console. Is there a way to print CustomDisplayNameGenerator in the console?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7A5Nq.png","title":"How to print CustomDisplayNameGenerator value in the console using Junit 5 and java?","body":"<p>I want to print CustomDisplayNameGenerator value in the console using junit 5 and java.</p>\n<pre><code>import org.junit.jupiter.api.DisplayNameGenerator;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.lang.reflect.Method;\n\npublic class CustomDisplayNameGenerator extends DisplayNameGenerator.Standard {\n    private static final Logger logger = LoggerFactory.getLogger(CustomDisplayNameGenerator.class);\n\n    @Override\n    public String generateDisplayNameForClass(Class&lt;?&gt; testClass) {\n        return replaceCamelCase(super.generateDisplayNameForClass(testClass));\n    }\n\n    @Override\n    public String generateDisplayNameForNestedClass(Class&lt;?&gt; nestedClass) {\n        return replaceCamelCase(super.generateDisplayNameForNestedClass(nestedClass));\n    }\n\n    @Override\n    public String generateDisplayNameForMethod(Class&lt;?&gt; testClass, Method testMethod) {\n\n        StringBuilder result = new StringBuilder();\n        result.append( &quot;Test&quot; + &quot;;&quot;);\n        result.append( &quot;Project&quot; + &quot;Test;&quot;);\n        result.append( &quot;JIRA id&quot; + &quot;435345;&quot;);\n        return result.toString();\n\n    }\n\n    String replaceCamelCase(String camelCase) {\n        StringBuilder result = new StringBuilder();\n        result.append(camelCase.charAt(0));\n        for (int i = 1; i &lt; camelCase.length(); i++) {\n            if (Character.isUpperCase(camelCase.charAt(i))) {\n                result.append(' ');\n                result.append(Character.toLowerCase(camelCase.charAt(i)));\n            } else {\n                result.append(camelCase.charAt(i));\n            }\n        }\n        return result.toString();\n    }\n}\n</code></pre>\n<p>I am not sure what it is I need to do further. Can someone help me please? Here is the code so far I have got:</p>\n<pre><code>import Framework.Annotations.Common.*;\nimport org.junit.jupiter.api.*;\nimport java.lang.annotation.Annotation;\nimport static org.junit.jupiter.api.DisplayNameGenerator.getDisplayNameGenerator;\n\n@DisplayNameGeneration(CustomDisplayNameGenerator.class)\npublic class JUnit5GeneratedExample  {\n\n    @Test\n    void simpleTestExecution() {\n        Annotation displayNameGeneration = getClass().getAnnotation(DisplayNameGeneration.class);\n        if (displayNameGeneration != null) {\n            System.out.println(displayNameGeneration.toString());\n            DisplayNameGenerator name = getDisplayNameGenerator(DisplayNameGenerator.Standard.class);\n            System.out.println(name.generateDisplayNameForMethod(CustomDisplayNameGenerator.class,  new Object(){}.getClass().getEnclosingMethod()));\n        }\n        System.out.printf(&quot;This is printed&quot;);\n    }\n}\n</code></pre>\n<p>I am trying to print below highlighted text in my console. Is there a way to print CustomDisplayNameGenerator in the console?</p>\n<p><a href=\"https://i.stack.imgur.com/7A5Nq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7A5Nq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","selenium-webdriver","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681480231,"post_id":76012517,"comment_id":134067680,"body_markdown":"What error message are you getting? Edit it as text into your question.","body":"What error message are you getting? Edit it as text into your question."}],"answers":[{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681814810,"creation_date":1681814810,"answer_id":76043646,"question_id":76012517,"body_markdown":"    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    public class Zerodha {\r\n    \tpublic static WebDriver driver;\r\n    \tstatic {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;enter your chromedriver.exe file path&quot;);\r\n    \t}\r\n    public static void main(String[] args) {\r\n    \tChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    \tdriver=new ChromeDriver(options);\r\n    \tdriver.get(&quot;https://kite.zerodha.com/&quot;);\r\n    }\r\n    }\r\n\r\n","title":"How to automate TOTP login in zerodha","body":"<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class Zerodha {\n    public static WebDriver driver;\n    static {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;enter your chromedriver.exe file path&quot;);\n    }\npublic static void main(String[] args) {\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    driver=new ChromeDriver(options);\n    driver.get(&quot;https://kite.zerodha.com/&quot;);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":14357528,"reputation":37,"user_id":10370935,"display_name":"sandeep kande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76043646,"answer_count":1,"score":0,"last_activity_date":1681814810,"creation_date":1681456811,"question_id":76012517,"body_markdown":"I am trying to automate the TOTP login process in Zerodha using Selenium and java, but I am encountering an issue where the Chrome window opens up but does not navigate to the Zerodha login page. Instead, the window is empty with no content.\r\n\r\nI have verified that the ChromeDriver version I am using is compatible with my Chrome browser version, and I have also ensured that the ChromeDriver executable file is in the PATH environment variable. However, the issue persists.\r\n\r\nHere is the code I am using to automate the TOTP login in Zerodha:\r\n\r\n \r\n\r\n            ChromeOptions cap = new ChromeOptions();\r\n            cap.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\r\n            cap.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\karan\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n            ChromeDriver driver = new ChromeDriver(cap);\r\n    \r\n    \r\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \r\n            driver.manage().window().maximize();\r\n    \r\n    \r\n            try {\r\n                driver.get(&quot;https://kite.zerodha.com&quot;);\r\n    \r\n            }catch(Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\nwhy above code is not navigating to the zerodha login page?","title":"How to automate TOTP login in zerodha","body":"<p>I am trying to automate the TOTP login process in Zerodha using Selenium and java, but I am encountering an issue where the Chrome window opens up but does not navigate to the Zerodha login page. Instead, the window is empty with no content.</p>\n<p>I have verified that the ChromeDriver version I am using is compatible with my Chrome browser version, and I have also ensured that the ChromeDriver executable file is in the PATH environment variable. However, the issue persists.</p>\n<p>Here is the code I am using to automate the TOTP login in Zerodha:</p>\n<pre><code>        ChromeOptions cap = new ChromeOptions();\n        cap.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\n        cap.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\karan\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver(cap);\n\n\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\n        driver.manage().window().maximize();\n\n\n        try {\n            driver.get(&quot;https://kite.zerodha.com&quot;);\n\n        }catch(Exception e){\n            System.out.println(e);\n        }\n    }\n</code></pre>\n<p>why above code is not navigating to the zerodha login page?</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1681812146,"post_id":76043177,"comment_id":134113207,"body_markdown":"Double does not have enough precision to represent the number precisely. logPow should mostly be calculated by repeatedly applying the mod in between the different multiplications to keep the numbers small.","body":"Double does not have enough precision to represent the number precisely. logPow should mostly be calculated by repeatedly applying the mod in between the different multiplications to keep the numbers small."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1681812267,"post_id":76043177,"comment_id":134113230,"body_markdown":"Because `long` has more bits than `double`. NB `%` isn&#39;t a modulo operator. It is a remainder operator. [JLS #15.17.3](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.17.3).","body":"Because <code>long</code> has more bits than <code>double</code>. NB <code>%</code> isn&#39;t a modulo operator. It is a remainder operator. <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.17.3\" rel=\"nofollow noreferrer\">JLS #15.17.3</a>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1681817213,"post_id":76043177,"comment_id":134114412,"body_markdown":"@user207421 technically long has the same number of bits as double, they&#39;re just used for different things.","body":"@user207421 technically long has the same number of bits as double, they&#39;re just used for different things."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1681817676,"post_id":76043177,"comment_id":134114534,"body_markdown":"@matt OK, more bits *of precision.*","body":"@matt OK, more bits <i>of precision.</i>"}],"answers":[{"comments":[{"owner":{"account_id":28312559,"reputation":1,"user_id":21649609,"display_name":"Saminul Haque"},"score":0,"creation_date":1681842959,"post_id":76043355,"comment_id":134121322,"body_markdown":"Thanks for the information. I&#39;m a beginner programmer so I&#39;m just trying to figure out how the data types work with each other.","body":"Thanks for the information. I&#39;m a beginner programmer so I&#39;m just trying to figure out how the data types work with each other."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681812693,"creation_date":1681812693,"answer_id":76043355,"question_id":76043177,"body_markdown":"Because `Math.pow` does double math.\r\n\r\nComputers aren&#39;t magical.\r\n\r\nGrab a piece of paper. Write down the result of computing 1 divided by 3 on this paper, in decimal format.\r\n\r\nSo, you write 0.333333... and eventually you run out of paper. You now have a paper filled with a LOT of 3s and it still isn&#39;t quite perfectly accurate.\r\n\r\nA computer has the same issue, except because it counts in binary, almost all values have this problem (even, say, 1 divided by 5, which fits perfectly well on your paper as 0.2, but a computer can&#39;t do it precisely).\r\n\r\nNevertheless, the `double` system says it can represent these things.\r\n\r\nSo, how? By __rounding__. Silently. After all, you only have 64 bits, which means doubles can only be used to store at most 2^64 unique numbers. That&#39;s _a lot_ of numbers, but nothing like the literally infinite amount of numbers between 0 and 1, let alone between -infinity and +infinity which double more or less oversimplified claims to be able to represent.\r\n\r\nThat rounding means, amongst other things:\r\n\r\n* Only powers of 2 can be stored properly. It is very easy to observe!\r\n\r\n```java\r\ndouble d = 0;\r\nfor (int i = 0; i &lt; 10; i++) d += 0.1;\r\n// 0.1 * 10 is obviously 1, so this prints...\r\nSystem.out.println(d);\r\n// 0.9999999999. Oh. And this?\r\nSystem.out.println(d == 1.0);\r\n// false! False? Yes! False! Oh dear!\r\n```\r\n\r\n0.1 (one tenth) is not a power of 2, so, it aint perfect, and simply adding 0.1 ten times is enough to see real error here - enough to make that no longer equal to 1.0.\r\n\r\n* All numbers are rounded to the nearest &#39;blessed&#39; number, a blessed number is one double can represent exactly. There are slightly less than 2^64 such blessed numbers. They are not equally distributed: The closer to 1.0 you are the more blessed numbers there are. As you move away from that, there are fewer and fewer (I.e. the distance between blessed numbers increases). 2^52 is an important marker point: That is the point where the distance between 2 blessed numbers is __more__ than 1.\r\n\r\n* All integral values from -2^52 to +2^52 can be represented perfectly. But go beyond that and this is no longer true.\r\n\r\n* `double` does support the `%` operator but it is very &#39;weird&#39; and it is extremely likely you never want to use it.\r\n\r\n* `Math.pow` only works on doubles. Java, however, will silently &#39;cast&#39; ints and longs to double if needed. The result is, in any case, a `double`.\r\n\r\n* All integral numbers between 2^52 and 2^63 are representable in `long` values but not (necessarily, a few are) in doubles.\r\n\r\nSpecifically, 31^11 is representable in `long` but not exactly representable in `double`. Thus, `Math.pow(31,11)` returns the &#39;wrong&#39; result - it&#39;s right in double math, because in double math, which is a very bizarro number system, the meaning of e.g. `a = b + c` is not: &quot;Add b to c and return the result&quot;. It is: &quot;Add b to c. Then, round the result of the computation to the nearest blessed number. Then return that&quot;.\r\n\r\n`Math.pow(31,11)` is no different: It&#39;s &#39;calculate 31^11, then round it to the nearest blessed number, that is the result of the computation&#39;. This number is not the same as 31^11.\r\n","title":"Why is the modulo operation returning two different values?","body":"<p>Because <code>Math.pow</code> does double math.</p>\n<p>Computers aren't magical.</p>\n<p>Grab a piece of paper. Write down the result of computing 1 divided by 3 on this paper, in decimal format.</p>\n<p>So, you write 0.333333... and eventually you run out of paper. You now have a paper filled with a LOT of 3s and it still isn't quite perfectly accurate.</p>\n<p>A computer has the same issue, except because it counts in binary, almost all values have this problem (even, say, 1 divided by 5, which fits perfectly well on your paper as 0.2, but a computer can't do it precisely).</p>\n<p>Nevertheless, the <code>double</code> system says it can represent these things.</p>\n<p>So, how? By <strong>rounding</strong>. Silently. After all, you only have 64 bits, which means doubles can only be used to store at most 2^64 unique numbers. That's <em>a lot</em> of numbers, but nothing like the literally infinite amount of numbers between 0 and 1, let alone between -infinity and +infinity which double more or less oversimplified claims to be able to represent.</p>\n<p>That rounding means, amongst other things:</p>\n<ul>\n<li>Only powers of 2 can be stored properly. It is very easy to observe!</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>double d = 0;\nfor (int i = 0; i &lt; 10; i++) d += 0.1;\n// 0.1 * 10 is obviously 1, so this prints...\nSystem.out.println(d);\n// 0.9999999999. Oh. And this?\nSystem.out.println(d == 1.0);\n// false! False? Yes! False! Oh dear!\n</code></pre>\n<p>0.1 (one tenth) is not a power of 2, so, it aint perfect, and simply adding 0.1 ten times is enough to see real error here - enough to make that no longer equal to 1.0.</p>\n<ul>\n<li><p>All numbers are rounded to the nearest 'blessed' number, a blessed number is one double can represent exactly. There are slightly less than 2^64 such blessed numbers. They are not equally distributed: The closer to 1.0 you are the more blessed numbers there are. As you move away from that, there are fewer and fewer (I.e. the distance between blessed numbers increases). 2^52 is an important marker point: That is the point where the distance between 2 blessed numbers is <strong>more</strong> than 1.</p>\n</li>\n<li><p>All integral values from -2^52 to +2^52 can be represented perfectly. But go beyond that and this is no longer true.</p>\n</li>\n<li><p><code>double</code> does support the <code>%</code> operator but it is very 'weird' and it is extremely likely you never want to use it.</p>\n</li>\n<li><p><code>Math.pow</code> only works on doubles. Java, however, will silently 'cast' ints and longs to double if needed. The result is, in any case, a <code>double</code>.</p>\n</li>\n<li><p>All integral numbers between 2^52 and 2^63 are representable in <code>long</code> values but not (necessarily, a few are) in doubles.</p>\n</li>\n</ul>\n<p>Specifically, 31^11 is representable in <code>long</code> but not exactly representable in <code>double</code>. Thus, <code>Math.pow(31,11)</code> returns the 'wrong' result - it's right in double math, because in double math, which is a very bizarro number system, the meaning of e.g. <code>a = b + c</code> is not: &quot;Add b to c and return the result&quot;. It is: &quot;Add b to c. Then, round the result of the computation to the nearest blessed number. Then return that&quot;.</p>\n<p><code>Math.pow(31,11)</code> is no different: It's 'calculate 31^11, then round it to the nearest blessed number, that is the result of the computation'. This number is not the same as 31^11.</p>\n"}],"owner":{"account_id":28312559,"reputation":1,"user_id":21649609,"display_name":"Saminul Haque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76043355,"answer_count":1,"score":-3,"last_activity_date":1681814640,"creation_date":1681811704,"question_id":76043177,"body_markdown":"I&#39;m trying to calculate the modulo of a large number. But when I try it with two different methods, I get two different answers.\r\n\r\n    long a = 1;\r\n    for(int i=1; i&lt;=11; i++){\r\n       a = a*31;\r\n    }\r\n    System.out.println(a);\r\n    System.out.println(a%23);\r\n    System.out.println(Math.pow(31,11));\r\n    System.out.println(Math.pow(31,11)%23);\r\n\r\nThis is the output\r\n\r\n25408476896404831\r\n\r\n1\r\n\r\n2.540847689640483E16\r\n\r\n2.0\r\n\r\nThe calculation with the long is the correct one, so why is Math.pow giving me a different answer?","title":"Why is the modulo operation returning two different values?","body":"<p>I'm trying to calculate the modulo of a large number. But when I try it with two different methods, I get two different answers.</p>\n<pre><code>long a = 1;\nfor(int i=1; i&lt;=11; i++){\n   a = a*31;\n}\nSystem.out.println(a);\nSystem.out.println(a%23);\nSystem.out.println(Math.pow(31,11));\nSystem.out.println(Math.pow(31,11)%23);\n</code></pre>\n<p>This is the output</p>\n<p>25408476896404831</p>\n<p>1</p>\n<p>2.540847689640483E16</p>\n<p>2.0</p>\n<p>The calculation with the long is the correct one, so why is Math.pow giving me a different answer?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1680449392,"post_id":75912878,"comment_id":133896780,"body_markdown":"Delete endpoint should return nothing by convention. You can&#39;t return user just deleted. Why should you?","body":"Delete endpoint should return nothing by convention. You can&#39;t return user just deleted. Why should you?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680454291,"post_id":75912878,"comment_id":133897579,"body_markdown":"This is not clear do you want to fix a Lazy initialization exception or awoid it?","body":"This is not clear do you want to fix a Lazy initialization exception or awoid it?"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680455519,"post_id":75912878,"comment_id":133897728,"body_markdown":"@RomanC whichever is the best option, but I think I would love to understand both of them fixing as well as avoiding it. Also I am not able to understand why every other endpoint such as POST/GET/PUT requests works fine, but when I try to return object from DELETE endpoint only then why do I get this exception ?","body":"@RomanC whichever is the best option, but I think I would love to understand both of them fixing as well as avoiding it. Also I am not able to understand why every other endpoint such as POST/GET/PUT requests works fine, but when I try to return object from DELETE endpoint only then why do I get this exception ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680455911,"post_id":75912878,"comment_id":133897775,"body_markdown":"Why do you need it? These objects should be removed as well before you delete a user.","body":"Why do you need it? These objects should be removed as well before you delete a user."},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680456107,"post_id":75912878,"comment_id":133897807,"body_markdown":"@RomanC most likely in real project I won&#39;t use it, but since learning I would like to know the actual problem behind this, as well as also the workaround to fix this.","body":"@RomanC most likely in real project I won&#39;t use it, but since learning I would like to know the actual problem behind this, as well as also the workaround to fix this."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680457266,"post_id":75912878,"comment_id":133897978,"body_markdown":"Fixing is easy if you understand what I have written in the answer below.","body":"Fixing is easy if you understand what I have written in the answer below."},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680457520,"post_id":75912878,"comment_id":133898013,"body_markdown":"thnx for your answer, I was also somewhat naively thinking in a similar direction","body":"thnx for your answer, I was also somewhat naively thinking in a similar direction"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680457711,"post_id":75912878,"comment_id":133898032,"body_markdown":"@RomanC I now understand what I m doing is ideally wrong, but I would like to know if there is no other way out to have what I m trying to achieve, i.e. return an object from DELETE endpoint and also don&#39;t receive this exception ?","body":"@RomanC I now understand what I m doing is ideally wrong, but I would like to know if there is no other way out to have what I m trying to achieve, i.e. return an object from DELETE endpoint and also don&#39;t receive this exception ?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680458919,"post_id":75912878,"comment_id":133898217,"body_markdown":"The entity object you return no longer in the db, nor in the session, and also have orphans removed option. What a list you want to get? You said than GET/POST/PUT methods works but you didn&#39;t post a code.","body":"The entity object you return no longer in the db, nor in the session, and also have orphans removed option. What a list you want to get? You said than GET/POST/PUT methods works but you didn&#39;t post a code."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680458187,"creation_date":1680457065,"answer_id":75913625,"question_id":75912878,"body_markdown":"The [`LazyInitializationException`][1]: \r\n\r\n&gt;Indicates an attempt to access unfetched data outside the context of an open stateful Session.\r\nFor example, this exception occurs when an uninitialized proxy or collection is accessed after the session was closed.\r\n\r\nis coming because you use a proxy object returned by the repository. The proxy is trying to initialize a collection associated with that object when you access it. But it fails to initialize a collection because this object is no longer in the session since it was removed.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/LazyInitializationException.html","title":"Could not write JSON: failed to lazily initialize a collection when returning an entity object from delete method","body":"<p>The <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/LazyInitializationException.html\" rel=\"nofollow noreferrer\"><code>LazyInitializationException</code></a>:</p>\n<blockquote>\n<p>Indicates an attempt to access unfetched data outside the context of an open stateful Session.\nFor example, this exception occurs when an uninitialized proxy or collection is accessed after the session was closed.</p>\n</blockquote>\n<p>is coming because you use a proxy object returned by the repository. The proxy is trying to initialize a collection associated with that object when you access it. But it fails to initialize a collection because this object is no longer in the session since it was removed.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75913625,"answer_count":1,"score":1,"last_activity_date":1681814214,"creation_date":1680448587,"question_id":75912878,"body_markdown":"While I was practicing to implement `@OneToMany` bididrectional association I got stuck in implementing delete operation for a `User` entity, I receive this warning - `Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session` &lt;br&gt; &lt;br&gt;\r\nSo, I have two entities as follows : \r\n\r\n&lt;h4&gt; User Entity &lt;/h4&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id ;\r\n    \r\n        private String username ;\r\n        private String password ;\r\n        private String email ;\r\n        private String firstname ;\r\n        private String lastname ;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;user&quot; ,\r\n                cascade = CascadeType.ALL ,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;Playlist&gt; playlists = new ArrayList&lt;&gt;() ;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\n&lt;h4&gt; Playlist Entity &lt;/h4&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;playlist&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\r\n    public class Playlist {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String name;\r\n        private String description;\r\n\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n        // getters and setters\r\n    \r\n    }\r\n\r\n\r\n&lt;h4&gt;UserController Class &lt;/h4&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/users&quot;)\r\n    public class userController {\r\n    \r\n        @Autowired\r\n        UserService userService ;\r\n    \r\n        // ... other controller mappings\r\n    \r\n        @PostMapping(&quot;&quot;)\r\n        public User createUser(@RequestBody User reqUser){\r\n            return userService.createUser(reqUser) ;\r\n        }\r\n\r\n        @DeleteMapping(&quot;/{userID}&quot;)\r\n        public User removeUser (@PathVariable Long userID) {\r\n            return userService.removeUser(userID) ;\r\n        }\r\n    }\r\n\r\n&lt;h4&gt;removeUser method in UserService Class &lt;/h4&gt;\r\n\r\n    @Service\r\n    public class UserService {\r\n    \r\n        @Autowired\r\n        UserRepo userRepo ;\r\n    \r\n        public List&lt;User&gt; getAllUsers() {\r\n            List &lt;User&gt; users = new ArrayList&lt;&gt;() ;\r\n            userRepo.findAll().forEach(users::add);\r\n            return users ;\r\n        }\r\n    \r\n        public User createUser(User reqUser) {\r\n            User newUser = new User() ;\r\n            newUser.setUsername(reqUser.getUsername());\r\n            newUser.setEmail(reqUser.getEmail());\r\n            newUser.setPassword(reqUser.getPassword());\r\n            newUser.setFirstname(reqUser.getFirstname());\r\n            newUser.setLastname(reqUser.getLastname());\r\n\r\n            // adding playlists\r\n            reqUser.getPlaylists().forEach( playlist -&gt; {\r\n                newUser.addPlaylist(playlist);\r\n            });\r\n\r\n            userRepo.save(newUser) ;\r\n\r\n            return newUser ;\r\n        }\r\n        \r\n        public User removeUser(Long userID) {\r\n\r\n            // check if user exists\r\n            User user = userRepo.findById(userID).orElseThrow(\r\n                    () -&gt; new EntityNotFoundException(&quot;User doesn&#39;t exists with userID &quot; + userID)\r\n            );\r\n\r\n            userRepo.deleteById(userID) ;\r\n            return user ;\r\n        }\r\n    }\r\n\r\n&lt;br&gt; \r\nThe Get request for user fetches me this response:  \r\n\r\n    {\r\n    \t&quot;id&quot;: 20,\r\n    \t&quot;username&quot;: &quot;poodie&quot;,\r\n    \t&quot;password&quot;: &quot;randomPasswrod&quot;,\r\n    \t&quot;email&quot;: null,\r\n    \t&quot;firstname&quot;: &quot;Raj&quot;,\r\n    \t&quot;lastname&quot;: &quot;Bhushan&quot;,\r\n    \t&quot;playlists&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: 27,\r\n    \t\t\t&quot;name&quot;: &quot;playlist-01&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;first playlist&quot;,\r\n    \t\t\t&quot;user&quot;: 20,\r\n    \t\t\t&quot;songs&quot;: []\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: 28,\r\n    \t\t\t&quot;name&quot;: &quot;playlist-02&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;first playlist&quot;,\r\n    \t\t\t&quot;user&quot;: 20,\r\n    \t\t\t&quot;songs&quot;: []\r\n    \t\t}\r\n    \t]\r\n    }\r\n&lt;hr&gt;\r\nSadly, when I want to delete this same User, &lt;b&gt;even though it gets deleted but I get this error in POSTMAN&lt;/b&gt; &lt;br&gt; \r\n\r\n    {\r\n    \t&quot;timestamp&quot;: &quot;2023-04-02T14:39:45.433+00:00&quot;,\r\n    \t&quot;status&quot;: 500,\r\n    \t&quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    \t&quot;path&quot;: &quot;/api/users/20&quot;\r\n    }\r\n\r\nBelow you can see the warning received in stack trace : \r\n\r\n    2023-04-02 20:09:45.418  WARN 26500 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter\r\n    .HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session; nested exception is com.fasterxml\r\n    .jackson.databind.JsonMappingException: failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: com.rudra.musicStreaming\r\n    .models.User[&quot;playlists&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;com.rudra.musicStreaming.models.Playlist[&quot;songs&quot;])]\r\n\r\n**Although this user gets deleted from DB, but leaves this warning in the stack trace. How can I get rid of this problem (`Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session`) and what is the cause of this issue ?**\r\n\r\nNote : When I modify the delete method to not return any `User` object, everything works fine but when I try to return `User` entity&#39;s object while performing delete operation (as shown in the code shared above) this warning occurs within the stack trace.","title":"Could not write JSON: failed to lazily initialize a collection when returning an entity object from delete method","body":"<p>While I was practicing to implement <code>@OneToMany</code> bididrectional association I got stuck in implementing delete operation for a <code>User</code> entity, I receive this warning - <code>Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session</code> <br> <br>\nSo, I have two entities as follows :</p>\n<h4> User Entity </h4>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id ;\n\n    private String username ;\n    private String password ;\n    private String email ;\n    private String firstname ;\n    private String lastname ;\n\n    @OneToMany(\n            mappedBy = &quot;user&quot; ,\n            cascade = CascadeType.ALL ,\n            orphanRemoval = true\n    )\n    private List&lt;Playlist&gt; playlists = new ArrayList&lt;&gt;() ;\n\n    // getters and setters\n}\n</code></pre>\n<h4> Playlist Entity </h4>\n<pre><code>@Entity\n@Table(name = &quot;playlist&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class,property = &quot;id&quot;)\npublic class Playlist {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n    private String description;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    // getters and setters\n\n}\n</code></pre>\n<h4>UserController Class </h4>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class userController {\n\n    @Autowired\n    UserService userService ;\n\n    // ... other controller mappings\n\n    @PostMapping(&quot;&quot;)\n    public User createUser(@RequestBody User reqUser){\n        return userService.createUser(reqUser) ;\n    }\n\n    @DeleteMapping(&quot;/{userID}&quot;)\n    public User removeUser (@PathVariable Long userID) {\n        return userService.removeUser(userID) ;\n    }\n}\n</code></pre>\n<h4>removeUser method in UserService Class </h4>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    UserRepo userRepo ;\n\n    public List&lt;User&gt; getAllUsers() {\n        List &lt;User&gt; users = new ArrayList&lt;&gt;() ;\n        userRepo.findAll().forEach(users::add);\n        return users ;\n    }\n\n    public User createUser(User reqUser) {\n        User newUser = new User() ;\n        newUser.setUsername(reqUser.getUsername());\n        newUser.setEmail(reqUser.getEmail());\n        newUser.setPassword(reqUser.getPassword());\n        newUser.setFirstname(reqUser.getFirstname());\n        newUser.setLastname(reqUser.getLastname());\n\n        // adding playlists\n        reqUser.getPlaylists().forEach( playlist -&gt; {\n            newUser.addPlaylist(playlist);\n        });\n\n        userRepo.save(newUser) ;\n\n        return newUser ;\n    }\n    \n    public User removeUser(Long userID) {\n\n        // check if user exists\n        User user = userRepo.findById(userID).orElseThrow(\n                () -&gt; new EntityNotFoundException(&quot;User doesn't exists with userID &quot; + userID)\n        );\n\n        userRepo.deleteById(userID) ;\n        return user ;\n    }\n}\n</code></pre>\n<br> \nThe Get request for user fetches me this response:  \n<pre><code>{\n    &quot;id&quot;: 20,\n    &quot;username&quot;: &quot;poodie&quot;,\n    &quot;password&quot;: &quot;randomPasswrod&quot;,\n    &quot;email&quot;: null,\n    &quot;firstname&quot;: &quot;Raj&quot;,\n    &quot;lastname&quot;: &quot;Bhushan&quot;,\n    &quot;playlists&quot;: [\n        {\n            &quot;id&quot;: 27,\n            &quot;name&quot;: &quot;playlist-01&quot;,\n            &quot;description&quot;: &quot;first playlist&quot;,\n            &quot;user&quot;: 20,\n            &quot;songs&quot;: []\n        },\n        {\n            &quot;id&quot;: 28,\n            &quot;name&quot;: &quot;playlist-02&quot;,\n            &quot;description&quot;: &quot;first playlist&quot;,\n            &quot;user&quot;: 20,\n            &quot;songs&quot;: []\n        }\n    ]\n}\n</code></pre>\n<hr>\nSadly, when I want to delete this same User, <b>even though it gets deleted but I get this error in POSTMAN</b> <br> \n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-02T14:39:45.433+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/users/20&quot;\n}\n</code></pre>\n<p>Below you can see the warning received in stack trace :</p>\n<pre><code>2023-04-02 20:09:45.418  WARN 26500 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter\n.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session; nested exception is com.fasterxml\n.jackson.databind.JsonMappingException: failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: com.rudra.musicStreaming\n.models.User[&quot;playlists&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;com.rudra.musicStreaming.models.Playlist[&quot;songs&quot;])]\n</code></pre>\n<p><strong>Although this user gets deleted from DB, but leaves this warning in the stack trace. How can I get rid of this problem (<code>Could not write JSON: failed to lazily initialize a collection, could not initialize proxy - no Session</code>) and what is the cause of this issue ?</strong></p>\n<p>Note : When I modify the delete method to not return any <code>User</code> object, everything works fine but when I try to return <code>User</code> entity's object while performing delete operation (as shown in the code shared above) this warning occurs within the stack trace.</p>\n"},{"tags":["java","build","jar","ant"],"answers":[{"tags":[],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681814138,"creation_date":1681814138,"answer_id":76043562,"question_id":76043145,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZUnES.png\r\n\r\nadded the jar entry in the build file","title":"Deployment is showing jar errors which is already added","body":"<p><a href=\"https://i.stack.imgur.com/ZUnES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUnES.png\" alt=\"enter image description here\" /></a></p>\n<p>added the jar entry in the build file</p>\n"}],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76043562,"answer_count":1,"score":-2,"last_activity_date":1681814138,"creation_date":1681811525,"question_id":76043145,"body_markdown":"I have added a jsch-0.1.55.jar in my project but while deploying the project i am getting the error that the import are not working\r\n\r\n\r\n\r\n[![project build to deploy][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pmAB.png\r\n  [2]: https://i.stack.imgur.com/mMlfF.png","title":"Deployment is showing jar errors which is already added","body":"<p>I have added a jsch-0.1.55.jar in my project but while deploying the project i am getting the error that the import are not working</p>\n<p><a href=\"https://i.stack.imgur.com/0pmAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pmAB.png\" alt=\"project build to deploy\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mMlfF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mMlfF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1681816535,"post_id":76043453,"comment_id":134114242,"body_markdown":"Have you called `createNewExtentTest` anywhere prior?","body":"Have you called <code>createNewExtentTest</code> anywhere prior?"},{"owner":{"account_id":28011981,"reputation":1,"user_id":21394340,"display_name":"Bavani"},"score":0,"creation_date":1681817606,"post_id":76043453,"comment_id":134114506,"body_markdown":"No. if i comment below line from Base.java then it is working. but i dont want to do that.\n\n        ExtentLogger.info(&quot;Launching &quot; + PropertyUtils.getValue(ConfigProperties.ENVIRONMENT) + &quot;url&quot;);","body":"No. if i comment below line from Base.java then it is working. but i dont want to do that.          ExtentLogger.info(&quot;Launching &quot; + PropertyUtils.getValue(ConfigProperties.ENVIRONMENT) + &quot;url&quot;);"}],"owner":{"account_id":28011981,"reputation":1,"user_id":21394340,"display_name":"Bavani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681813287,"creation_date":1681813287,"question_id":76043453,"body_markdown":"I am not able to fix this error. Sharing my code. Please help\r\n\r\nGetting error - java.lang.NullPointerException: Cannot invoke &quot;com.aventstack.extentreports.ExtentTest.info(String)&quot; because the return value of &quot;org.mdb.reports.ExtentManager.getExtentTest()&quot; is null  \tat org.mdb.reports.ExtentLogger.info(ExtentLogger.java:31) \tat org.mdb.scripts.Base.login(Base.ja\r\n\r\nOpportunityCreationTest.java file\r\n\r\n```\r\n\r\n\r\npublic class OpportunityCreationTest extends OpportunityBase {\r\n\r\n    private OpportunityCreationTest (){\r\n\r\n    }\r\n\r\n    @DataProvider(name = &quot;getOpportunityData&quot;, parallel = true)\r\n    public Iterator&lt;Object[]&gt; getOpportunityData() {\r\n        Collection&lt;Object[]&gt; mapObj = new ArrayList&lt;&gt;();\r\n        for (HashMap&lt;String, Object&gt; map : JsonFileParser.getJsonData(JsonFileName.OPPORTUNITY)) {\r\n            mapObj.add(new Object[]{map});\r\n        }\r\n        return mapObj.iterator();\r\n    }\r\n\r\n    @Test(dataProvider = &quot;getOpportunityData&quot;, description = &quot;Verify Sales Reps are able to create Opportunities&quot;, groups = {&quot;test&quot;})\r\n    public void createOppTest(HashMap&lt;String, Object&gt; map) throws Exception {\r\n        login();\r\n        dataSetUp(map.get(&quot;url&quot;).toString(), map.get(&quot;sales_rep&quot;).toString());\r\n        String closeDateValue = JsonFileParser.getJsonData(JsonFileName.OPPORTUNITY).get(0).get(&quot;closeDateValue&quot;).toString();\r\n\r\n        createOpportunity(closeDateValue);\r\n        logout();\r\n    }\r\n    }\r\n\r\n```\r\nBase.java\r\n\r\n```\r\n    public static void login() throws Exception {\r\n        ExtentLogger.info(&quot;Launching &quot; + PropertyUtils.getValue(ConfigProperties.ENVIRONMENT) + &quot;url&quot;);\r\n        DriverManager.getDriver().get(JsonUtils.getValue(ConfigProperties.URL));\r\n        SalesforceLoginLogout salesforceLoginLogout = new SalesforceLoginLogout();\r\n        try {\r\n            salesforceLoginLogout.login();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nExtendlogger.java\r\n\r\n```\r\n    public static void info(String message) {\r\n      ExtentManager.getExtentTest().info(message);\r\n    }\r\n```\r\n\r\n\r\ni dont want to update the base.java or Extendlogger.java. i want to fix OpportunityCreationTest.java file, what am i missing to pass?\r\n\r\n\r\n\r\n","title":"Getting error - java.lang.NullPointerException: Cannot invoke &quot;com.aventstack.extentreports.ExtentTest.info(String)&quot;","body":"<p>I am not able to fix this error. Sharing my code. Please help</p>\n<p>Getting error - java.lang.NullPointerException: Cannot invoke &quot;com.aventstack.extentreports.ExtentTest.info(String)&quot; because the return value of &quot;org.mdb.reports.ExtentManager.getExtentTest()&quot; is null    at org.mdb.reports.ExtentLogger.info(ExtentLogger.java:31)  at org.mdb.scripts.Base.login(Base.ja</p>\n<p>OpportunityCreationTest.java file</p>\n<pre><code>\n\npublic class OpportunityCreationTest extends OpportunityBase {\n\n    private OpportunityCreationTest (){\n\n    }\n\n    @DataProvider(name = &quot;getOpportunityData&quot;, parallel = true)\n    public Iterator&lt;Object[]&gt; getOpportunityData() {\n        Collection&lt;Object[]&gt; mapObj = new ArrayList&lt;&gt;();\n        for (HashMap&lt;String, Object&gt; map : JsonFileParser.getJsonData(JsonFileName.OPPORTUNITY)) {\n            mapObj.add(new Object[]{map});\n        }\n        return mapObj.iterator();\n    }\n\n    @Test(dataProvider = &quot;getOpportunityData&quot;, description = &quot;Verify Sales Reps are able to create Opportunities&quot;, groups = {&quot;test&quot;})\n    public void createOppTest(HashMap&lt;String, Object&gt; map) throws Exception {\n        login();\n        dataSetUp(map.get(&quot;url&quot;).toString(), map.get(&quot;sales_rep&quot;).toString());\n        String closeDateValue = JsonFileParser.getJsonData(JsonFileName.OPPORTUNITY).get(0).get(&quot;closeDateValue&quot;).toString();\n\n        createOpportunity(closeDateValue);\n        logout();\n    }\n    }\n\n</code></pre>\n<p>Base.java</p>\n<pre><code>    public static void login() throws Exception {\n        ExtentLogger.info(&quot;Launching &quot; + PropertyUtils.getValue(ConfigProperties.ENVIRONMENT) + &quot;url&quot;);\n        DriverManager.getDriver().get(JsonUtils.getValue(ConfigProperties.URL));\n        SalesforceLoginLogout salesforceLoginLogout = new SalesforceLoginLogout();\n        try {\n            salesforceLoginLogout.login();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Extendlogger.java</p>\n<pre><code>    public static void info(String message) {\n      ExtentManager.getExtentTest().info(message);\n    }\n</code></pre>\n<p>i dont want to update the base.java or Extendlogger.java. i want to fix OpportunityCreationTest.java file, what am i missing to pass?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":0,"creation_date":1669817541,"post_id":74629008,"comment_id":131729212,"body_markdown":"enable debug log and see","body":"enable debug log and see"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1669819971,"post_id":74629008,"comment_id":131730317,"body_markdown":"@so-random-dude : added the log line :- ```Application availability state ReadinessState changed to REFUSING_TRAFFIC```","body":"@so-random-dude : added the log line :- <code>Application availability state ReadinessState changed to REFUSING_TRAFFIC</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1669826949,"post_id":74629008,"comment_id":131733122,"body_markdown":"I think your logs are not complete and therefore you don&#39;t know what happened in between and startup failed. Take a look here https://github.com/spring-projects/spring-boot/issues/12542#issuecomment-398446273 on how to fix your logs. then you can fix the startup accordingly.","body":"I think your logs are not complete and therefore you don&#39;t know what happened in between and startup failed. Take a look here <a href=\"https://github.com/spring-projects/spring-boot/issues/12542#issuecomment-398446273\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a> on how to fix your logs. then you can fix the startup accordingly."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1669887499,"post_id":74629008,"comment_id":131746681,"body_markdown":"issue is fixed, provided an explanation and answer below.","body":"issue is fixed, provided an explanation and answer below."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1669987208,"post_id":74629008,"comment_id":131773826,"body_markdown":"@so-random-dude : Please see my answer once .... and please help me to estimate how many seconds do we need to keep to make it an optimal one...","body":"@so-random-dude : Please see my answer once .... and please help me to estimate how many seconds do we need to keep to make it an optimal one..."}],"answers":[{"tags":[],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669887317,"creation_date":1669886957,"answer_id":74639620,"question_id":74629008,"body_markdown":"Here is the point :\r\n\r\n&gt; sometimes our apps may need a little bit of time before being able to accept requests. The kubelet can make sure that the application receives requests only when it&#39;s ready. Also, if the main process of a pod crashes for any reason, the kubelet will restart the container.\r\n\r\nReference : [Spring-Boot-Liveness-And-Readiness][1]\r\n\r\nIn order to fulfill these responsibilities, Kubernetes has two probes: liveness probes and readiness probes\r\n\r\nIn my case as soon as the app was starting the `ReadinessState` changed to `REFUSING_TRAFFIC`. Hence added some delay seconds to the property in kubernetes service config yml to give some time to the app to make `ReadinessState` changed from `REFUSING_TRAFFIC` to `ACCEPTING_TRAFFIC` \r\n\r\nIn kustomization.yml file added the below 2 config properties which resolved the issue :\r\n\r\n    1. readinessProbe/initialDelaySeconds : 60\r\n    2. livenessProbe/initialDelaySeconds : 60\r\n\r\nAlso same can be added in application.yml file as below :\r\n\r\n    livenessProbe:\r\n      httpGet:\r\n        path: /actuator/health/liveness\r\n        port: 8080\r\n        initialDelaySeconds: 30\r\n        periodSeconds: 30\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-liveness-readiness-probes","title":"Spring Boot Application gets shutdown immediately after start in Kubernetes env","body":"<p>Here is the point :</p>\n<blockquote>\n<p>sometimes our apps may need a little bit of time before being able to accept requests. The kubelet can make sure that the application receives requests only when it's ready. Also, if the main process of a pod crashes for any reason, the kubelet will restart the container.</p>\n</blockquote>\n<p>Reference : <a href=\"https://www.baeldung.com/spring-liveness-readiness-probes\" rel=\"nofollow noreferrer\">Spring-Boot-Liveness-And-Readiness</a></p>\n<p>In order to fulfill these responsibilities, Kubernetes has two probes: liveness probes and readiness probes</p>\n<p>In my case as soon as the app was starting the <code>ReadinessState</code> changed to <code>REFUSING_TRAFFIC</code>. Hence added some delay seconds to the property in kubernetes service config yml to give some time to the app to make <code>ReadinessState</code> changed from <code>REFUSING_TRAFFIC</code> to <code>ACCEPTING_TRAFFIC</code></p>\n<p>In kustomization.yml file added the below 2 config properties which resolved the issue :</p>\n<pre><code>1. readinessProbe/initialDelaySeconds : 60\n2. livenessProbe/initialDelaySeconds : 60\n</code></pre>\n<p>Also same can be added in application.yml file as below :</p>\n<pre><code>livenessProbe:\n  httpGet:\n    path: /actuator/health/liveness\n    port: 8080\n    initialDelaySeconds: 30\n    periodSeconds: 30\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74639620,"answer_count":1,"score":1,"last_activity_date":1681813265,"creation_date":1669816780,"question_id":74629008,"body_markdown":"I have one application which is running fine in local, dev env. In dev it runs as an image in kubernetes in AWS cloud. Upto this everything went fine. Now I am trying to deploy the app in PP env. However in PP, the applications is starting and then immediately shutdown.\r\n\r\nHere the configurations :\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xyz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;my-app&lt;/name&gt;\r\n    \t&lt;description&gt;My App System&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;skipTests&gt;true&lt;/skipTests&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.263&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n    \r\n**Main Class:**\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MyApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public RestTemplate getRestTemplate() {     \r\n            return new RestTemplate();\r\n        }\r\n    \r\n    }\r\n\r\n**Start up log:**\r\n\r\n    2022-11-30 13:10:53.112  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-11-30 13:11:03.604  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-11-30 13:11:11.305  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2022-11-30 13:11:11.816  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-11-30 13:11:12.110  INFO 1 --- [           main] c.a.f.MyApplication                      : Started MyApplication in 96.297 seconds (JVM running for 104.706)\r\n    2022-11-30 13:11:12.513  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-11-30 13:11:12.607  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-11-30 13:11:12.797  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nPlease help me if you have any clue as where it may go wrong.\r\n\r\n***UPDATE*:**\r\n\r\n**DEBUG log :-**\r\n\r\n    Application availability state ReadinessState changed to REFUSING_TRAFFIC\r\n\r\n\r\n    2022-11-30 14:45:14.420  INFO 1 --- [           main] c.a.f.MyApplication                      : Started FMyApplication in 98.611 seconds (JVM running for 107.522)\r\n    2022-11-30 14:45:14.512 DEBUG 1 --- [ionShutdownHook] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to REFUSING_TRAFFIC\r\n    2022-11-30 14:45:14.514 DEBUG 1 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5733f295, started on Wed Nov 30 14:44:06 GMT 2022, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@78ffe6dc\r\n    2022-11-30 14:45:14.516 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647\r\n    2022-11-30 14:45:14.601 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Bean &#39;webServerGracefulShutdown&#39; completed its stop procedure\r\n    2022-11-30 14:45:14.601 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483646\r\n    2022-11-30 14:45:14.616 DEBUG 1 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\r\n    2022-11-30 14:45:14.715 DEBUG 1 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed from REFUSING_TRAFFIC to ACCEPTING_TRAFFIC\r\n    2022-11-30 14:45:14.716 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Bean &#39;webServerStartStop&#39; completed its stop procedure\r\n    2022-11-30 14:45:14.812 DEBUG 1 --- [ionShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-11-30 14:45:14.904  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing\r\n    2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@6534185f] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@d499c13]\r\n    2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\r\n    2022-11-30 14:45:14.915 DEBUG 1 --- [ionShutdownHook] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\r\n    2022-11-30 14:45:14.917  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-11-30 14:45:14.917 DEBUG 1 --- [ionShutdownHook] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=10, active=0, idle=10, waiting=0)\r\n    2022-11-30 14:45:15.009 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@14a049f9: (connection evicted)\r\n    2022-11-30 14:45:15.011 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@82010d7: (connection evicted)\r\n    2022-11-30 14:45:15.013 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@47daf598: (connection evicted)\r\n    2022-11-30 14:45:15.018 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@4ff4f31c: (connection evicted)\r\n    2022-11-30 14:45:15.021 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@76d717a6: (connection evicted)\r\n    2022-11-30 14:45:15.104 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@37134f98: (connection evicted)\r\n    2022-11-30 14:45:15.106 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@27f50ad7: (connection evicted)\r\n    2022-11-30 14:45:15.109 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@4ff16126: (connection evicted)\r\n    2022-11-30 14:45:15.111 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@1d53559: (connection evicted)\r\n    2022-11-30 14:45:15.113 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@67077c93: (connection evicted)\r\n    2022-11-30 14:45:15.201 DEBUG 1 --- [ionShutdownHook] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\r\n    2022-11-30 14:45:15.201  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.","title":"Spring Boot Application gets shutdown immediately after start in Kubernetes env","body":"<p>I have one application which is running fine in local, dev env. In dev it runs as an image in kubernetes in AWS cloud. Upto this everything went fine. Now I am trying to deploy the app in PP env. However in PP, the applications is starting and then immediately shutdown.</p>\n<p>Here the configurations :</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-app&lt;/name&gt;\n    &lt;description&gt;My App System&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n            &lt;version&gt;1.12.263&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n    \n    @Bean\n    public RestTemplate getRestTemplate() {     \n        return new RestTemplate();\n    }\n\n}\n</code></pre>\n<p><strong>Start up log:</strong></p>\n<pre><code>2022-11-30 13:10:53.112  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-11-30 13:11:03.604  WARN 1 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-11-30 13:11:11.305  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 16 endpoint(s) beneath base path '/actuator'\n2022-11-30 13:11:11.816  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-11-30 13:11:12.110  INFO 1 --- [           main] c.a.f.MyApplication                      : Started MyApplication in 96.297 seconds (JVM running for 104.706)\n2022-11-30 13:11:12.513  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-11-30 13:11:12.607  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-11-30 13:11:12.797  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Please help me if you have any clue as where it may go wrong.</p>\n<p><strong><em>UPDATE</em>:</strong></p>\n<p><strong>DEBUG log :-</strong></p>\n<pre><code>Application availability state ReadinessState changed to REFUSING_TRAFFIC\n\n\n2022-11-30 14:45:14.420  INFO 1 --- [           main] c.a.f.MyApplication                      : Started FMyApplication in 98.611 seconds (JVM running for 107.522)\n2022-11-30 14:45:14.512 DEBUG 1 --- [ionShutdownHook] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed to REFUSING_TRAFFIC\n2022-11-30 14:45:14.514 DEBUG 1 --- [ionShutdownHook] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5733f295, started on Wed Nov 30 14:44:06 GMT 2022, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@78ffe6dc\n2022-11-30 14:45:14.516 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647\n2022-11-30 14:45:14.601 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Bean 'webServerGracefulShutdown' completed its stop procedure\n2022-11-30 14:45:14.601 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483646\n2022-11-30 14:45:14.616 DEBUG 1 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state LivenessState changed to CORRECT\n2022-11-30 14:45:14.715 DEBUG 1 --- [           main] o.s.b.a.ApplicationAvailabilityBean      : Application availability state ReadinessState changed from REFUSING_TRAFFIC to ACCEPTING_TRAFFIC\n2022-11-30 14:45:14.716 DEBUG 1 --- [ionShutdownHook] o.s.c.support.DefaultLifecycleProcessor  : Bean 'webServerStartStop' completed its stop procedure\n2022-11-30 14:45:14.812 DEBUG 1 --- [ionShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2022-11-30 14:45:14.904  INFO 1 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.hibernate.internal.SessionFactoryImpl  : HHH000031: Closing\n2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.h.type.spi.TypeConfiguration$Scope     : Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@6534185f] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@d499c13]\n2022-11-30 14:45:14.904 DEBUG 1 --- [ionShutdownHook] o.h.s.i.AbstractServiceRegistryImpl      : Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\n2022-11-30 14:45:14.915 DEBUG 1 --- [ionShutdownHook] o.h.b.r.i.BootstrapServiceRegistryImpl   : Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\n2022-11-30 14:45:14.917  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-11-30 14:45:14.917 DEBUG 1 --- [ionShutdownHook] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Before shutdown stats (total=10, active=0, idle=10, waiting=0)\n2022-11-30 14:45:15.009 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@14a049f9: (connection evicted)\n2022-11-30 14:45:15.011 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@82010d7: (connection evicted)\n2022-11-30 14:45:15.013 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@47daf598: (connection evicted)\n2022-11-30 14:45:15.018 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@4ff4f31c: (connection evicted)\n2022-11-30 14:45:15.021 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@76d717a6: (connection evicted)\n2022-11-30 14:45:15.104 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@37134f98: (connection evicted)\n2022-11-30 14:45:15.106 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@27f50ad7: (connection evicted)\n2022-11-30 14:45:15.109 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@4ff16126: (connection evicted)\n2022-11-30 14:45:15.111 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@1d53559: (connection evicted)\n2022-11-30 14:45:15.113 DEBUG 1 --- [nnection closer] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@67077c93: (connection evicted)\n2022-11-30 14:45:15.201 DEBUG 1 --- [ionShutdownHook] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)\n2022-11-30 14:45:15.201  INFO 1 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681472035,"post_id":76014667,"comment_id":134065684,"body_markdown":"Can you show us your code and the error?","body":"Can you show us your code and the error?"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681472371,"post_id":76014667,"comment_id":134065754,"body_markdown":"Edit your question and add your code there. Also format it so that others can read it easily.","body":"Edit your question and add your code there. Also format it so that others can read it easily."},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681473099,"post_id":76014667,"comment_id":134065925,"body_markdown":"thanks @Shawn, without js, i get below error\n org.openqa.selenium.ElementNotInteractableException: Element cannot be interacted with via the keyboard because it is not focusable","body":"thanks @Shawn, without js, i get below error  org.openqa.selenium.ElementNotInteractableException: Element cannot be interacted with via the keyboard because it is not focusable"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681473424,"post_id":76014667,"comment_id":134065992,"body_markdown":"Did it work with JS?","body":"Did it work with JS?"},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681473932,"post_id":76014667,"comment_id":134066122,"body_markdown":"No, no action and cursor remain in the username field.","body":"No, no action and cursor remain in the username field."},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681474154,"post_id":76014667,"comment_id":134066187,"body_markdown":"Can you share the URL if it is public?","body":"Can you share the URL if it is public?"},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681475339,"post_id":76014667,"comment_id":134066470,"body_markdown":"sorry its not public,","body":"sorry its not public,"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681486335,"post_id":76014667,"comment_id":134069330,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the HTML as text and properly format it instead. You can keep the screenshot since it shows the UI but edit your question and post the HTML as text, properly formatted.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the HTML as text and properly format it instead. You can keep the screenshot since it shows the UI but edit your question and post the HTML as text, properly formatted."},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681488296,"post_id":76014667,"comment_id":134069798,"body_markdown":"sure JeffC, html also updated now.","body":"sure JeffC, html also updated now."}],"answers":[{"comments":[{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681488343,"post_id":76016722,"comment_id":134069809,"body_markdown":"It uses a frame, which i have switched already before this. also tried with and without switching frame (there is only one frame in dom)","body":"It uses a frame, which i have switched already before this. also tried with and without switching frame (there is only one frame in dom)"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681489013,"post_id":76016722,"comment_id":134070010,"body_markdown":"So did this work? If not, what was the error message?","body":"So did this work? If not, what was the error message?"},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681635116,"post_id":76016722,"comment_id":134085560,"body_markdown":"&quot;element cannot be interacted with via the keyboard because it is not focusable&quot; error thrown.","body":"&quot;element cannot be interacted with via the keyboard because it is not focusable&quot; error thrown."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681659796,"post_id":76016722,"comment_id":134088734,"body_markdown":"@Gireesh I&#39;ve added an alternate approach that I think will work.","body":"@Gireesh I&#39;ve added an alternate approach that I think will work."},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681718087,"post_id":76016722,"comment_id":134095730,"body_markdown":"Hi JeffC, scripts just passed without any error and value not entered in to the password field.\n\n- Also tried different options of keep //object[@id=&#39;pwd_ibj&#39;] but the value not entered.\n- Object tag actually highlights the input field of password. but not sure how do i pass values.\n- Also tried your second attempt with and without switch frames. not helped.","body":"Hi JeffC, scripts just passed without any error and value not entered in to the password field.  - Also tried different options of keep //object[@id=&#39;pwd_ibj&#39;] but the value not entered. - Object tag actually highlights the input field of password. but not sure how do i pass values. - Also tried your second attempt with and without switch frames. not helped."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681749047,"post_id":76016722,"comment_id":134103515,"body_markdown":"@Gireesh Are you able to send keys to the Username field? If so, you can try sending TAB from there to put you into the Password field and then type the password? I dunno... without seeing the page, I&#39;m kinda out of ideas.","body":"@Gireesh Are you able to send keys to the Username field? If so, you can try sending TAB from there to put you into the Password field and then type the password? I dunno... without seeing the page, I&#39;m kinda out of ideas."},{"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"score":0,"creation_date":1681813340,"post_id":76016722,"comment_id":134113496,"body_markdown":"thanks JeffC for your honest efforts, I know its bit painful without having looked at the page. however I have done this using Robot class now. sure this isnt good option, but will work for now. thank you once again for your lot of ideas.","body":"thanks JeffC for your honest efforts, I know its bit painful without having looked at the page. however I have done this using Robot class now. sure this isnt good option, but will work for now. thank you once again for your lot of ideas."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681659782,"creation_date":1681486315,"answer_id":76016722,"question_id":76014667,"body_markdown":"Given the HTML you&#39;ve posted, the below should work.\r\n\r\n    driver.findElement(By.id(&quot;pw_obj&quot;)).sendKeys(&quot;password&quot;)\r\n\r\nIf it doesn&#39;t, it&#39;s likely in an IFRAME, etc. but we can&#39;t tell given the limited HTML posted.\r\n\r\n-----\r\n\r\nSecond attempt...\r\n\r\nI would try setting the value on the hidden INPUT directly using JS.\r\n\r\n    WebElement myElement = driver.findElement(By.cssSelector(&quot;[name=&#39;pw&#39;]&quot;));\r\n    String js = &quot;arguments[0].setAttribute(&#39;value&#39;,&#39;&quot; + &quot;123456&quot; + &quot;&#39;)&quot;;\r\n    ((JavascriptExecutor) driver).executeScript(js, myElement);","title":"cant click on password field using javascript (using selenium + java), can you help pls?","body":"<p>Given the HTML you've posted, the below should work.</p>\n<pre><code>driver.findElement(By.id(&quot;pw_obj&quot;)).sendKeys(&quot;password&quot;)\n</code></pre>\n<p>If it doesn't, it's likely in an IFRAME, etc. but we can't tell given the limited HTML posted.</p>\n<hr />\n<p>Second attempt...</p>\n<p>I would try setting the value on the hidden INPUT directly using JS.</p>\n<pre><code>WebElement myElement = driver.findElement(By.cssSelector(&quot;[name='pw']&quot;));\nString js = &quot;arguments[0].setAttribute('value','&quot; + &quot;123456&quot; + &quot;')&quot;;\n((JavascriptExecutor) driver).executeScript(js, myElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681813251,"creation_date":1681813251,"answer_id":76043449,"question_id":76014667,"body_markdown":"Finally, I found a solution. sure it can be better but these kind of fields, I think this will better fit.\r\n\r\n```\r\nRobot robot = new Robot();\r\nrobot.keyPress(&#39;1&#39;)\r\nrobot.keyPress(&#39;2&#39;)\r\nrobot.keyPress(&#39;3&#39;)\r\n```\r\n\r\nor \r\n\r\n```\r\nString pwd = &quot;123456&quot;\r\nRobot robot = new Robot();\r\n\r\nfor(int c=0;c&lt;pwd.length();c++){\r\n   robot.keyPress(pwd.charAt(c));\r\n}\r\n```","title":"cant click on password field using javascript (using selenium + java), can you help pls?","body":"<p>Finally, I found a solution. sure it can be better but these kind of fields, I think this will better fit.</p>\n<pre><code>Robot robot = new Robot();\nrobot.keyPress('1')\nrobot.keyPress('2')\nrobot.keyPress('3')\n</code></pre>\n<p>or</p>\n<pre><code>String pwd = &quot;123456&quot;\nRobot robot = new Robot();\n\nfor(int c=0;c&lt;pwd.length();c++){\n   robot.keyPress(pwd.charAt(c));\n}\n</code></pre>\n"}],"owner":{"account_id":11151010,"reputation":13,"user_id":8184259,"display_name":"Gireesh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76043449,"answer_count":2,"score":-2,"last_activity_date":1681813251,"creation_date":1681471962,"question_id":76014667,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wDvCy.png\r\n\r\nhere password input field needs to entered with an value, however I tried options with javascript and xpath and nothing works. any help here is appreciated. thanks.\r\n\r\n-- tried this using js: \r\n\r\n```\r\nWebElement myElement = driver.findElement(By.xpath(&quot;//script[@type=&#39;text/javascript&#39;]/following::object[@id=&#39;pw_obj&#39;]&quot;));\r\nString js = &quot;arguments[0].setAttribute(&#39;value&#39;,&#39;&quot;+&quot;123456&quot;+&quot;&#39;)&quot;; \r\n((JavascriptExecutor) driver).executeScript(js, myElement);\r\n```\r\nalso using without js: \r\n```\r\nWebElement pw = driver.findElement(By.xpath(&quot;//input[@name=&#39;pw_obj&#39;]&quot;));\r\npw.sendKeys(&quot;23456&quot;);\r\n```\r\n\r\nhtml:\r\n\r\n    &lt;li&gt;\r\n        &lt;div&gt;\r\n            &lt;span class=&quot;login_left&quot; id=&quot;login_pw&quot;&gt;Password:&lt;/span&gt;\r\n            &lt;object width=&quot;148&quot; height=&quot;22&quot; id=&quot;pw_obj&quot; classid=&quot;CLSID:fc0bff2d-47a5-0846-0147-a5084e8b000e&quot; codebase=&quot;/xxxx/yyyyyy/signin/CTPCryp.CAB#version=1,0,0,00&quot; vspace=&quot;1&quot; style=&quot;border: 1px solid rgb(171, 173, 179); border-image: none;&quot; onkeydown=&quot;pw_objKeyDownFunc(event);&quot;&gt;\r\n                &lt;PARAM NAME=&quot;_cx&quot; VALUE=&quot;3916&quot;&gt;\r\n                &lt;PARAM NAME=&quot;_cy&quot; VALUE=&quot;582&quot;&gt;\r\n            &lt;/object&gt;\r\n            &lt;input name=&quot;pw&quot; type=&quot;hidden&quot;&gt;\r\n            &lt;input name=&quot;ssicFlag&quot; type=&quot;hidden&quot; value=&quot;0&quot;&gt;\r\n            &lt;input name=&quot;flowCtx.defaultRoleId&quot; type=&quot;hidden&quot; value=&quot;&quot;&gt;\r\n        &lt;/div&gt;\r\n    &lt;/li&gt;","title":"cant click on password field using javascript (using selenium + java), can you help pls?","body":"<p><a href=\"https://i.stack.imgur.com/wDvCy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDvCy.png\" alt=\"enter image description here\" /></a></p>\n<p>here password input field needs to entered with an value, however I tried options with javascript and xpath and nothing works. any help here is appreciated. thanks.</p>\n<p>-- tried this using js:</p>\n<pre><code>WebElement myElement = driver.findElement(By.xpath(&quot;//script[@type='text/javascript']/following::object[@id='pw_obj']&quot;));\nString js = &quot;arguments[0].setAttribute('value','&quot;+&quot;123456&quot;+&quot;')&quot;; \n((JavascriptExecutor) driver).executeScript(js, myElement);\n</code></pre>\n<p>also using without js:</p>\n<pre><code>WebElement pw = driver.findElement(By.xpath(&quot;//input[@name='pw_obj']&quot;));\npw.sendKeys(&quot;23456&quot;);\n</code></pre>\n<p>html:</p>\n<pre><code>&lt;li&gt;\n    &lt;div&gt;\n        &lt;span class=&quot;login_left&quot; id=&quot;login_pw&quot;&gt;Password:&lt;/span&gt;\n        &lt;object width=&quot;148&quot; height=&quot;22&quot; id=&quot;pw_obj&quot; classid=&quot;CLSID:fc0bff2d-47a5-0846-0147-a5084e8b000e&quot; codebase=&quot;/xxxx/yyyyyy/signin/CTPCryp.CAB#version=1,0,0,00&quot; vspace=&quot;1&quot; style=&quot;border: 1px solid rgb(171, 173, 179); border-image: none;&quot; onkeydown=&quot;pw_objKeyDownFunc(event);&quot;&gt;\n            &lt;PARAM NAME=&quot;_cx&quot; VALUE=&quot;3916&quot;&gt;\n            &lt;PARAM NAME=&quot;_cy&quot; VALUE=&quot;582&quot;&gt;\n        &lt;/object&gt;\n        &lt;input name=&quot;pw&quot; type=&quot;hidden&quot;&gt;\n        &lt;input name=&quot;ssicFlag&quot; type=&quot;hidden&quot; value=&quot;0&quot;&gt;\n        &lt;input name=&quot;flowCtx.defaultRoleId&quot; type=&quot;hidden&quot; value=&quot;&quot;&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1681765457,"post_id":76039237,"comment_id":134106968,"body_markdown":"for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {\n                     rs.next();\n            } \nyour code  will call rs.next indexReadFromDatabase -1 times  are you sure it&#39;s not loop more than the number of row from that resultset you get","body":"for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {                      rs.next();             }  your code  will call rs.next indexReadFromDatabase -1 times  are you sure it&#39;s not loop more than the number of row from that resultset you get"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1681765531,"post_id":76039237,"comment_id":134106979,"body_markdown":"better to use [try with resource](https://dev.java/learn/exceptions/catching-handling/#try-with-resources) so it auto close all the resource you do not need","body":"better to use <a href=\"https://dev.java/learn/exceptions/catching-handling/#try-with-resources\" rel=\"nofollow noreferrer\">try with resource</a> so it auto close all the resource you do not need"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681766495,"creation_date":1681766181,"answer_id":76039342,"question_id":76039237,"body_markdown":"# Loop the result set once only\r\n\r\nYou went past the last row of your `ResulSet`, by looping twice on the same result set.\r\n\r\nFirst you run your `for` loop (which you neglected to explain to us):\r\n\r\n            for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {\r\n                     rs.next();\r\n            }\r\n\r\nThen you pass the ResultSet to the `mayo` method where you keep on calling [`ResultSet#next`][1]. We don&#39;t know the value of `indexReadFromDatabase` but at some point your successive calls to `next` will move the cursor past the end of the result set.\r\n\r\nSolution: **Loop the result set only once**.\r\n\r\nOther issues: \r\n\r\n - In modern Java, we need not call `Class.forName`. Many years ago JDBC was  changed to automatically load drivers via the [Service Provider Interface (SPI)][2] facility.\r\n - You should be closing your JDBC resources when done with them. The [try-with-resources][3] syntax of Java 7+ makes this simple.\r\n\r\n```java\r\ntry (\r\n    Connection  conn = myDataSource.getConnection( myUrl , &quot;&quot; , &quot;&quot; ) ;\r\n    Statement stmt = conn.createStatement() ; \r\n    ResultSet  rs = stmt.executeQuery(myQuery) ; \r\n)   \r\n{\r\n    while ( rs.next() ) { \r\n        … process results\r\n    } \r\n} catch ( SqlException e ) {\r\n    … handle exception\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html#next()\r\n  [2]: https://Service%20provider%20interface\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Getting error in &quot;Operation not allowed after ResultSet closed&quot;","body":"<h1>Loop the result set once only</h1>\n<p>You went past the last row of your <code>ResulSet</code>, by looping twice on the same result set.</p>\n<p>First you run your <code>for</code> loop (which you neglected to explain to us):</p>\n<pre><code>        for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {\n                 rs.next();\n        }\n</code></pre>\n<p>Then you pass the ResultSet to the <code>mayo</code> method where you keep on calling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\"><code>ResultSet#next</code></a>. We don't know the value of <code>indexReadFromDatabase</code> but at some point your successive calls to <code>next</code> will move the cursor past the end of the result set.</p>\n<p>Solution: <strong>Loop the result set only once</strong>.</p>\n<p>Other issues:</p>\n<ul>\n<li>In modern Java, we need not call <code>Class.forName</code>. Many years ago JDBC was  changed to automatically load drivers via the <a href=\"https://Service%20provider%20interface\" rel=\"nofollow noreferrer\">Service Provider Interface (SPI)</a> facility.</li>\n<li>You should be closing your JDBC resources when done with them. The <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax of Java 7+ makes this simple.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>try (\n    Connection  conn = myDataSource.getConnection( myUrl , &quot;&quot; , &quot;&quot; ) ;\n    Statement stmt = conn.createStatement() ; \n    ResultSet  rs = stmt.executeQuery(myQuery) ; \n)   \n{\n    while ( rs.next() ) { \n        … process results\n    } \n} catch ( SqlException e ) {\n    … handle exception\n}\n</code></pre>\n"}],"owner":{"account_id":28333603,"reputation":1,"user_id":21667520,"display_name":"LorenLiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681813238,"creation_date":1681765017,"question_id":76039237,"body_markdown":"Im getting the exception:\r\n\r\n*Operation not allowed after ResultSet closed*\r\n\r\nit says problem is in the method `teamNumberGet = rs.getInt(&quot;something&quot;);`\r\n\r\nWhere am I wrong?\r\n\r\ncode:\r\n\r\n```java\r\ntry {\r\n  Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n  Connection conn = DriverManager.getConnection(url, username, password);\r\n  Statement stmt = conn.createStatement();\r\n\r\n  String sql = &quot;SELECT * FROM MatchScouting&quot;;\r\n  ResultSet rs = stmt.executeQuery(sql);\r\n\r\n\r\n  for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {\r\n    rs.next();\r\n  }\r\n  ayo(rs, conn);\r\n}\r\ncatch (SQLException e) {\r\n  throw new RuntimeException(e);\r\n}\r\n\r\npublic static void ayo(ResultSet rs, Connection conn) throws SQLException {\r\n  int i = 0;\r\n  while (rs.next()) {\r\n    i++;\r\n    System.out.println(&quot;team---------------------------------&quot; + i);\r\n\r\n    teamNumberGet = rs.getInt(&quot;something&quot;);\r\n  }          \r\n} \r\n```\r\n\r\nI tried to find out if there was anywhere to make the ResultSet `rs` close, but it never did","title":"Getting error in &quot;Operation not allowed after ResultSet closed&quot;","body":"<p>Im getting the exception:</p>\n<p><em>Operation not allowed after ResultSet closed</em></p>\n<p>it says problem is in the method <code>teamNumberGet = rs.getInt(&quot;something&quot;);</code></p>\n<p>Where am I wrong?</p>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n  Connection conn = DriverManager.getConnection(url, username, password);\n  Statement stmt = conn.createStatement();\n\n  String sql = &quot;SELECT * FROM MatchScouting&quot;;\n  ResultSet rs = stmt.executeQuery(sql);\n\n\n  for (int ayooo = 1; ayooo &lt; indexReadFromDatabase; ayooo++) {\n    rs.next();\n  }\n  ayo(rs, conn);\n}\ncatch (SQLException e) {\n  throw new RuntimeException(e);\n}\n\npublic static void ayo(ResultSet rs, Connection conn) throws SQLException {\n  int i = 0;\n  while (rs.next()) {\n    i++;\n    System.out.println(&quot;team---------------------------------&quot; + i);\n\n    teamNumberGet = rs.getInt(&quot;something&quot;);\n  }          \n} \n</code></pre>\n<p>I tried to find out if there was anywhere to make the ResultSet <code>rs</code> close, but it never did</p>\n"},{"tags":["java","mapstruct","mapper"],"comments":[{"owner":{"account_id":4552817,"reputation":2059,"user_id":3697441,"accept_rate":80,"display_name":"EKW"},"score":0,"creation_date":1681760628,"post_id":76038707,"comment_id":134106103,"body_markdown":"Can you edit your question to more clearly state what issue you&#39;re encountering?","body":"Can you edit your question to more clearly state what issue you&#39;re encountering?"},{"owner":{"account_id":10350691,"reputation":907,"user_id":7634201,"display_name":"C. Weber"},"score":2,"creation_date":1681761729,"post_id":76038707,"comment_id":134106342,"body_markdown":"data must not be null. Otherwise a NPE will be raised.","body":"data must not be null. Otherwise a NPE will be raised."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1681800764,"post_id":76038707,"comment_id":134110719,"body_markdown":"nullcheck in `dataToBase64` is necessary as @C.Weber wrote","body":"nullcheck in <code>dataToBase64</code> is necessary as @C.Weber wrote"}],"answers":[{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1681783538,"post_id":76039148,"comment_id":134109202,"body_markdown":"Unless you&#39;re doing the null check as a predicate (or similar lambda), the `isNull` method is less idiomatic Java than a standard null check.  `if (data == null)` would be more idiomatic in this case.","body":"Unless you&#39;re doing the null check as a predicate (or similar lambda), the <code>isNull</code> method is less idiomatic Java than a standard null check.  <code>if (data == null)</code> would be more idiomatic in this case."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681796213,"creation_date":1681764192,"answer_id":76039148,"question_id":76038707,"body_markdown":"To simplify the question, run this line of code first (you&#39;ll get the same error):\r\n\r\n    Base64.getEncoder().encodeToString(null);\r\n    // java.lang.NullPointerException: Cannot read the array length because &quot;src&quot; is null\r\n\r\nAn easy fix would be a simple null check - but you need to decide what do you want to do if the parameter is null. here are some options:\r\n\r\n    String dataToBase64(byte[] data){\r\n    \tif(Objects.isNull(data)) {\r\n    \t\tdata = new byte[0];\r\n    \t}\r\n    \treturn Base64.getEncoder().encodeToString(data);\r\n    }\r\n\r\n    String dataToBase64(byte[] data){\r\n    \tif(Objects.isNull(data)) {\r\n    \t\treturn null;\r\n    \t}\r\n    \treturn Base64.getEncoder().encodeToString(data);\r\n    }\r\n\r\n    Optional&lt;String&gt; dataToBase64(byte[] data){\r\n    \treturn Optional.ofNullable(data)\r\n            .map(Base64.getEncoder()::encodeToString);\r\n    }","title":"Mapstruct: qualified by name null pointer exception","body":"<p>To simplify the question, run this line of code first (you'll get the same error):</p>\n<pre><code>Base64.getEncoder().encodeToString(null);\n// java.lang.NullPointerException: Cannot read the array length because &quot;src&quot; is null\n</code></pre>\n<p>An easy fix would be a simple null check - but you need to decide what do you want to do if the parameter is null. here are some options:</p>\n<pre><code>String dataToBase64(byte[] data){\n    if(Objects.isNull(data)) {\n        data = new byte[0];\n    }\n    return Base64.getEncoder().encodeToString(data);\n}\n\nString dataToBase64(byte[] data){\n    if(Objects.isNull(data)) {\n        return null;\n    }\n    return Base64.getEncoder().encodeToString(data);\n}\n\nOptional&lt;String&gt; dataToBase64(byte[] data){\n    return Optional.ofNullable(data)\n        .map(Base64.getEncoder()::encodeToString);\n}\n</code></pre>\n"}],"owner":{"account_id":26229958,"reputation":3,"user_id":19907590,"display_name":"Tachank.a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76039148,"answer_count":1,"score":0,"last_activity_date":1681813120,"creation_date":1681760248,"question_id":76038707,"body_markdown":"When evaluating, match the fields using the get error method:\r\n\r\n&gt; java.lang.NullPointerException: Cannot read the array length because\r\n&gt; &quot;src&quot; is null \tat\r\n&gt; java.base/java.util.Base64$Encoder.encode(Base64.java:291) ~[na:na]\r\n&gt; \tat java.base/java.util.Base64$Encoder.encodeToString(Base64.java:345)\r\n&gt; ~[na:na] \tat\r\n&gt; fqw.application.mapper.ResponseMapper.dataToBase64(ResponseMapper.java:31)\r\n&gt; ~[main/:na] .....\r\n\r\nMapper:\r\n\r\n\r\n```\r\n@Mapper\r\npublic interface ResponseMapper {\r\n\r\n    ResponseMapper INSTANCE = Mappers.getMapper(ResponseMapper.class);\r\n\r\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\r\n    @Mapping(target = &quot;imageName&quot;, source = &quot;imageMetadata.imageName&quot;)\r\n    @Mapping(target = &quot;imageData&quot;, source = &quot;loadedImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    @Mapping(target = &quot;imageResultData&quot;, source = &quot;resultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    @Mapping(target = &quot;description&quot;, source = &quot;imageMetadata.description&quot;)\r\n    @Mapping(target = &quot;contentType&quot;, source = &quot;imageMetadata.contentType&quot;)\r\n    ResponseDTO taskToResponseDTO(Task task);\r\n\r\n\r\n    @Named(&quot;dataToBase64&quot;)\r\n    default String dataToBase64(byte[] data){\r\n        return Base64.getEncoder().encodeToString(data);\r\n    }\r\n}\r\n```\r\n\r\n\r\nwhat could be the problem?","title":"Mapstruct: qualified by name null pointer exception","body":"<p>When evaluating, match the fields using the get error method:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot read the array length because\n&quot;src&quot; is null     at\njava.base/java.util.Base64$Encoder.encode(Base64.java:291) ~[na:na]\nat java.base/java.util.Base64$Encoder.encodeToString(Base64.java:345)\n~[na:na]  at\nfqw.application.mapper.ResponseMapper.dataToBase64(ResponseMapper.java:31)\n~[main/:na] .....</p>\n</blockquote>\n<p>Mapper:</p>\n<pre><code>@Mapper\npublic interface ResponseMapper {\n\n    ResponseMapper INSTANCE = Mappers.getMapper(ResponseMapper.class);\n\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\n    @Mapping(target = &quot;imageName&quot;, source = &quot;imageMetadata.imageName&quot;)\n    @Mapping(target = &quot;imageData&quot;, source = &quot;loadedImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    @Mapping(target = &quot;imageResultData&quot;, source = &quot;resultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    @Mapping(target = &quot;description&quot;, source = &quot;imageMetadata.description&quot;)\n    @Mapping(target = &quot;contentType&quot;, source = &quot;imageMetadata.contentType&quot;)\n    ResponseDTO taskToResponseDTO(Task task);\n\n\n    @Named(&quot;dataToBase64&quot;)\n    default String dataToBase64(byte[] data){\n        return Base64.getEncoder().encodeToString(data);\n    }\n}\n</code></pre>\n<p>what could be the problem?</p>\n"},{"tags":["java","oracle","jdbc","jasper-reports","classnotfoundexception"],"comments":[{"owner":{"account_id":6839027,"reputation":4521,"user_id":5260008,"accept_rate":100,"display_name":"N00b Pr0grammer"},"score":0,"creation_date":1497440481,"post_id":44543585,"comment_id":76077973,"body_markdown":"Helpful link: https://sourceforge.net/p/pljrxml2pdf/discussion/general/thread/30c69e33/ - This post says that you need to point to the `Oracle jdbc-driver-jar` on the `Driver classpath`.","body":"Helpful link: <a href=\"https://sourceforge.net/p/pljrxml2pdf/discussion/general/thread/30c69e33/\" rel=\"nofollow noreferrer\">sourceforge.net/p/pljrxml2pdf/discussion/general/thread/&hellip;</a> - This post says that you need to point to the <code>Oracle jdbc-driver-jar</code> on the <code>Driver classpath</code>."},{"owner":{"account_id":11081033,"reputation":93,"user_id":8136206,"display_name":"Aaron R."},"score":0,"creation_date":1497441099,"post_id":44543585,"comment_id":76078421,"body_markdown":"Thanks, but that&#39;s not solving my problem. I can execute the report without the BLOB&#39;s,  so the database connection works with the driver classpath. But Jasper can&#39;t find oracle.jdbc.OracleBlob which ojdbc6.jar normally should contain..","body":"Thanks, but that&#39;s not solving my problem. I can execute the report without the BLOB&#39;s,  so the database connection works with the driver classpath. But Jasper can&#39;t find oracle.jdbc.OracleBlob which ojdbc6.jar normally should contain.."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1497444930,"post_id":44543585,"comment_id":76081355,"body_markdown":"it&#39;s somehow not finding the class when you run the report (why?, not enough info in post to understand),  try with just java.sql.Blob, I guess you do not need any special method on the OracleBlob","body":"it&#39;s somehow not finding the class when you run the report (why?, not enough info in post to understand),  try with just java.sql.Blob, I guess you do not need any special method on the OracleBlob"},{"owner":{"account_id":11081033,"reputation":93,"user_id":8136206,"display_name":"Aaron R."},"score":0,"creation_date":1497445239,"post_id":44543585,"comment_id":76081600,"body_markdown":"I can&#39;t even add the BLOB field to the detail band, without the field i can run the report. I also tried java.sql.Blob, that doesn&#39;t matter. (With java.sql.Blob I get java.lang.NullPointerException when adding the field to the detail band)","body":"I can&#39;t even add the BLOB field to the detail band, without the field i can run the report. I also tried java.sql.Blob, that doesn&#39;t matter. (With java.sql.Blob I get java.lang.NullPointerException when adding the field to the detail band)"}],"answers":[{"comments":[{"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"score":1,"creation_date":1529089577,"post_id":50837218,"comment_id":88765009,"body_markdown":"The recommendation is to use the latest JDBC driver which is ojdbc8.jar from 12.2.0.1.","body":"The recommendation is to use the latest JDBC driver which is ojdbc8.jar from 12.2.0.1."}],"tags":[],"owner":{"account_id":2204848,"reputation":4377,"user_id":1948325,"accept_rate":43,"display_name":"Oscar P&#233;rez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528892635,"creation_date":1528892635,"answer_id":50837218,"question_id":44543585,"body_markdown":"Recently I had asimilar issue and the solution was to upgrade the oracle driver. I changed `ojdbc14.jar` by  `ojdbc6.jar` and the problem was solved.","title":"Jasper Reports - java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob when using BLOB as Detail Field","body":"<p>Recently I had asimilar issue and the solution was to upgrade the oracle driver. I changed <code>ojdbc14.jar</code> by  <code>ojdbc6.jar</code> and the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":2704150,"reputation":1168,"user_id":2334114,"display_name":"ShadowGames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577720905,"creation_date":1577720905,"answer_id":59533408,"question_id":44543585,"body_markdown":"If you&#39;ve got a maven project you might be missing in your pom.xml the following:\r\n\r\n        &lt;properties&gt;\r\n            &lt;ojdbc6.version&gt;11.2.0.2.0&lt;/ojdbc6.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.ojdbc6&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n            &lt;version&gt;${ojdbc6.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Jasper Reports - java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob when using BLOB as Detail Field","body":"<p>If you've got a maven project you might be missing in your pom.xml the following:</p>\n\n<pre><code>    &lt;properties&gt;\n        &lt;ojdbc6.version&gt;11.2.0.2.0&lt;/ojdbc6.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.ojdbc6&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;${ojdbc6.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682060828,"post_id":76043272,"comment_id":134159288,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76043272/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27741310,"reputation":1,"user_id":21177717,"display_name":"user21177717"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681812227,"creation_date":1681812227,"answer_id":76043272,"question_id":44543585,"body_markdown":"Try changing the Class Type to java.awt.Image in the dataset for the corresponding BLOB fields. It helped me.","title":"Jasper Reports - java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob when using BLOB as Detail Field","body":"<p>Try changing the Class Type to java.awt.Image in the dataset for the corresponding BLOB fields. It helped me.</p>\n"}],"owner":{"account_id":11081033,"reputation":93,"user_id":8136206,"display_name":"Aaron R."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10012,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681812227,"creation_date":1497439957,"question_id":44543585,"body_markdown":"I want to show BLOB Images in a report. But if I drop the BLOB Field into the detail band I just get the error message: `java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob cannot be found by net.sf.jasperreports_6.2.0.final`\r\nI added the ojdbc6.jar to the classpath of my database connection before. \r\nDoes anybody have a solution here? \r\n\r\nThanks for help guys!","title":"Jasper Reports - java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob when using BLOB as Detail Field","body":"<p>I want to show BLOB Images in a report. But if I drop the BLOB Field into the detail band I just get the error message: <code>java.lang.ClassNotFoundException: oracle.jdbc.OracleBlob cannot be found by net.sf.jasperreports_6.2.0.final</code>\nI added the ojdbc6.jar to the classpath of my database connection before. \nDoes anybody have a solution here? </p>\n\n<p>Thanks for help guys!</p>\n"},{"tags":["java","generics","var"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1681808669,"post_id":76042683,"comment_id":134112414,"body_markdown":"Is `get()` supposed to be the same as `create()` in this example?","body":"Is <code>get()</code> supposed to be the same as <code>create()</code> in this example?"},{"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"score":0,"creation_date":1681808906,"post_id":76042683,"comment_id":134112466,"body_markdown":"yeah, should be create, I mistyped that.. thanks @khelwood","body":"yeah, should be create, I mistyped that.. thanks @khelwood"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681811549,"creation_date":1681811549,"answer_id":76043149,"question_id":76042683,"body_markdown":"The [FAQ about Local Variable Type Inference](https://openjdk.org/projects/amber/guides/lvti-faq#Q8) describes whats happening:\r\n\r\n&gt; **Q8. Can you use var with a diamond on the right-hand side?**\r\n&gt;\r\n&gt; Yes, it works, but it’s probably not what you want. Consider:\r\n&gt;\r\n&gt;     var list = new ArrayList&lt;&gt;();\r\n&gt;\r\n&gt; This will infer the type of list to be `ArrayList&lt;Object&gt;`. In general, it’s preferable use an explicit type on the left with diamond on the right, or use var on the left with an explicit type on the right. See the [LVTI Style Guidelines](https://openjdk.org/projects/amber/guides/lvti-style-guide), [guideline G6](https://openjdk.org/projects/amber/guides/lvti-style-guide#G6), for further information.\r\n\r\nThat guideline G6 additionally states:\r\n\r\n&gt; For its inference, diamond can use the target type (typically, the left-hand side of a declaration) or the types of constructor arguments. If neither is present, it falls back to the broadest applicable type, which is often `Object`. This is usually not what was intended.","title":"How does Java infer the type when using `var` and generic methods without parameters?","body":"<p>The <a href=\"https://openjdk.org/projects/amber/guides/lvti-faq#Q8\" rel=\"nofollow noreferrer\">FAQ about Local Variable Type Inference</a> describes whats happening:</p>\n<blockquote>\n<p><strong>Q8. Can you use var with a diamond on the right-hand side?</strong></p>\n<p>Yes, it works, but it’s probably not what you want. Consider:</p>\n<pre><code>var list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This will infer the type of list to be <code>ArrayList&lt;Object&gt;</code>. In general, it’s preferable use an explicit type on the left with diamond on the right, or use var on the left with an explicit type on the right. See the <a href=\"https://openjdk.org/projects/amber/guides/lvti-style-guide\" rel=\"nofollow noreferrer\">LVTI Style Guidelines</a>, <a href=\"https://openjdk.org/projects/amber/guides/lvti-style-guide#G6\" rel=\"nofollow noreferrer\">guideline G6</a>, for further information.</p>\n</blockquote>\n<p>That guideline G6 additionally states:</p>\n<blockquote>\n<p>For its inference, diamond can use the target type (typically, the left-hand side of a declaration) or the types of constructor arguments. If neither is present, it falls back to the broadest applicable type, which is often <code>Object</code>. This is usually not what was intended.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681812036,"creation_date":1681811634,"answer_id":76043167,"question_id":76042683,"body_markdown":"For how `var` works, refer to section [14.4.1][1] of the JLS.\r\n\r\n&gt;  If the LocalVariableType is `var`, then let T be the type of the initializer expression when treated as if it did not appear in an assignment context, and were thus a standalone expression (&#167;15.2). The type of the local variable is the upward projection of T with respect to all synthetic type variables mentioned by T (&#167;4.10.5).\r\n\r\nTo know how the type parameter gets inferred, refer to section [15.12.2.6][2], where it specifies how the *invocation type* is determined\r\n\r\n&gt;  If the chosen method is generic and the method invocation does not provide explicit type arguments, the invocation type is inferred as specified in &#167;18.5.2.\r\n\r\nDigging deeper into [18.5.2][3], we find a lot of rules that are not relevant to your situation - about the case of poly expressions (which the method call in the initialiser of `var` can never be). In the case of not using `var`, more bounds would be added in this step. It also mentioned what additional bounds to add when there are argument expressions (which your method has none). The relevant part is that `T` is eventually [resolved][4] (section 18.4).\r\n\r\nWhat constraints are on `T`? Well, you did not write `T extends Something`, so the only bound is `T &lt;: Object`. (See the end of section [18.1.3][5]) This just means `T` must be a subtype of `Object`. In other words, `Object`  is the only *lower bound* of `T`. If you declare the method with `&lt;T extend SomeOtherType&gt;`, then it would have `SomeOtherType` as a lower bound.\r\n\r\nThe section about resolution is quite long, but the relevant thing here is that lower bounds are resolved to their [least upper bound][6], a super type that is more specific than any other common super type the types have.\r\n\r\nSince we only have one lower bound, `Object`, its least upper bound is trivially itself. Therefore, `T` is inferred to be `Object`. You can see this by adding the `--debug=verboseResolution=all` option when compiling:\r\n\r\n```none\r\nJavaClass.java:8: Note: resolving method create in type JavaClass to candidate 0\r\n        var s = create();\r\n                ^\r\n  phase: BASIC\r\n  with actuals: no arguments\r\n  with type-args: no arguments\r\n  candidates:\r\n      #0 applicable method found: &lt;T&gt;create()\r\n        (partially instantiated to: ()Set&lt;Object&gt;)\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;create()\r\nJavaClass.java:8: Note: Deferred instantiation of method &lt;T&gt;create()\r\n        var s = create();\r\n                      ^\r\n  instantiated signature: ()Set&lt;Object&gt;\r\n  target-type: &lt;none&gt;\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;create()\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.6\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.2\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.4\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.1.3\r\n  [6]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10.4","title":"How does Java infer the type when using `var` and generic methods without parameters?","body":"<p>For how <code>var</code> works, refer to section <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.4.1\" rel=\"nofollow noreferrer\">14.4.1</a> of the JLS.</p>\n<blockquote>\n<p>If the LocalVariableType is <code>var</code>, then let T be the type of the initializer expression when treated as if it did not appear in an assignment context, and were thus a standalone expression (§15.2). The type of the local variable is the upward projection of T with respect to all synthetic type variables mentioned by T (§4.10.5).</p>\n</blockquote>\n<p>To know how the type parameter gets inferred, refer to section <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.2.6\" rel=\"nofollow noreferrer\">15.12.2.6</a>, where it specifies how the <em>invocation type</em> is determined</p>\n<blockquote>\n<p>If the chosen method is generic and the method invocation does not provide explicit type arguments, the invocation type is inferred as specified in §18.5.2.</p>\n</blockquote>\n<p>Digging deeper into <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.5.2\" rel=\"nofollow noreferrer\">18.5.2</a>, we find a lot of rules that are not relevant to your situation - about the case of poly expressions (which the method call in the initialiser of <code>var</code> can never be). In the case of not using <code>var</code>, more bounds would be added in this step. It also mentioned what additional bounds to add when there are argument expressions (which your method has none). The relevant part is that <code>T</code> is eventually <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.4\" rel=\"nofollow noreferrer\">resolved</a> (section 18.4).</p>\n<p>What constraints are on <code>T</code>? Well, you did not write <code>T extends Something</code>, so the only bound is <code>T &lt;: Object</code>. (See the end of section <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-18.html#jls-18.1.3\" rel=\"nofollow noreferrer\">18.1.3</a>) This just means <code>T</code> must be a subtype of <code>Object</code>. In other words, <code>Object</code>  is the only <em>lower bound</em> of <code>T</code>. If you declare the method with <code>&lt;T extend SomeOtherType&gt;</code>, then it would have <code>SomeOtherType</code> as a lower bound.</p>\n<p>The section about resolution is quite long, but the relevant thing here is that lower bounds are resolved to their <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.10.4\" rel=\"nofollow noreferrer\">least upper bound</a>, a super type that is more specific than any other common super type the types have.</p>\n<p>Since we only have one lower bound, <code>Object</code>, its least upper bound is trivially itself. Therefore, <code>T</code> is inferred to be <code>Object</code>. You can see this by adding the <code>--debug=verboseResolution=all</code> option when compiling:</p>\n<pre class=\"lang-none prettyprint-override\"><code>JavaClass.java:8: Note: resolving method create in type JavaClass to candidate 0\n        var s = create();\n                ^\n  phase: BASIC\n  with actuals: no arguments\n  with type-args: no arguments\n  candidates:\n      #0 applicable method found: &lt;T&gt;create()\n        (partially instantiated to: ()Set&lt;Object&gt;)\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;create()\nJavaClass.java:8: Note: Deferred instantiation of method &lt;T&gt;create()\n        var s = create();\n                      ^\n  instantiated signature: ()Set&lt;Object&gt;\n  target-type: &lt;none&gt;\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;create()\n</code></pre>\n"}],"owner":{"account_id":1309929,"reputation":4821,"user_id":1258130,"accept_rate":60,"display_name":"eja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1681812036,"creation_date":1681808410,"question_id":76042683,"body_markdown":"Considering a following example of a generic method without any parameters:\r\n\r\n```java\r\nprivate &lt;T&gt; Set&lt;T&gt; create() {\r\n    return new HashSet&lt;T&gt;();\r\n}\r\n```\r\n\r\nAccording to the docs, the type will be inferred depending on how the return value is used, i.e., during assignments, from the LHS type defined, for example:\r\n\r\n```java\r\nSet&lt;Integer&gt; numbers = create();\r\n```\r\n\r\nHow does this play out when using the `var` keyword? \r\n\r\nThe following will compile:\r\n\r\n```java\r\nvar numbers = create();\r\n```\r\n","title":"How does Java infer the type when using `var` and generic methods without parameters?","body":"<p>Considering a following example of a generic method without any parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; Set&lt;T&gt; create() {\n    return new HashSet&lt;T&gt;();\n}\n</code></pre>\n<p>According to the docs, the type will be inferred depending on how the return value is used, i.e., during assignments, from the LHS type defined, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; numbers = create();\n</code></pre>\n<p>How does this play out when using the <code>var</code> keyword?</p>\n<p>The following will compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var numbers = create();\n</code></pre>\n"},{"tags":["java","performance","kotlin","java-17"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681811815,"creation_date":1681811444,"answer_id":76043133,"question_id":76025522,"body_markdown":"Here is a list of improvements you may get automatically when compiling (unchanged) Java source code targeting a newer Java version, ordered by their minimum target version:\r\n\r\n- JDK&#160;1.4: [Early initialization of outer this reference.][JDK-4030374]  \r\n   Starting with this version, the synthetic field holding the reference to the outer instance is initialized before calling the super constructor.\r\n   This is a stability/robustness improvement, not affecting the performance\r\n\r\n - JDK&#160;1.5/Java&#160;5: [String concatenation without synchronization][JDK-4868974]  \r\n   Prior to this version, string concatenation used [`StringBuffer`] under the hood, which performs unnecessary synchronization.\r\n   Starting with this version, string concatenation gets compiled to code using [`StringBuilder`] which does not perform synchronization.\r\n\r\n - JDK&#160;1.5/Java&#160;5: [Direct support for class literals in bytecode][JDK-4639391]  \r\n   Class literals like `Foo.class` get compiled to a single bytecode instruction. Prior to this version, it was syntactic sugar for\r\n   calling [`Class.forName(&quot;Foo&quot;)`][forName] and remembering the result in a synthetic `static` field.\r\n   The direct support requires less code and may be slightly faster.\r\n\r\n - Java&#160;6: [StackMapTables to improve verification speed.][JDK-6227862]  \r\n   This version introduced StackMapTables (for the ordinary desktop/server JVMs) which provide hints to the verifier. This can reduce startup time.\r\n\r\n - Java&#160;9: [String concatenation using `invokedynamic`.][JDK-8085796]  \r\n   Starting with this version, string concatenation gets compiled to a single `invokedynamic` instruction instead of a sequence of `append` calls on a [`StringBuilder`].\r\n   This can reduce the bytecode size dramatically. Further, this opens the opportunity to the runtime, to provide faster implementation code.\r\n   Note that currently this applies to `javac` only, not to Eclipse’s `ecj`.\r\n\r\n - Java&#160;11: [Nest based access][JDK-8046171]  \r\n   This features allows classes belonging to a nest (typically inner classes/nested classes) to access each others `private` members directly, without additional helper methods.\r\n   This will reduce the code size and may in some cases improve performance, e.g. when a long call chain exceeded inlining limits and does not anymore.\r\n\r\n - Java&#160;18: [No unnecessary outer references in inner classes.][JDK-8271717]  \r\n   Prior to this version, inner classes always had a synthetic field referencing the outer instance. Starting with this version, the field is only maintained if the inner class actually accesses the outer instance.\r\n   This may have a positive impact on garbage collection performance (and slightly reduce code size).\r\n\r\nSo the general answer is that recompiling source code targeting a newer version can have a benefit, but specifically switching from 11 to 17 has not, to my knowledge.\r\n\r\nAlso, these improvements apply to the standard Java compiler and will affect Kotlin only when its compiler also adopts the changes. On the other hand, the Kotlin compiler could also use [JVM/Bytecode/Platform enhancements] which the Java compiler doesn’t use.\r\n\r\n[JDK-4030374]: https://bugs.openjdk.org/browse/JDK-4030374\r\n[JDK-4868974]: https://bugs.openjdk.org/browse/JDK-4868974\r\n[JDK-4639391]: https://bugs.openjdk.org/browse/JDK-4639391\r\n[JDK-6227862]: https://bugs.openjdk.org/browse/JDK-6227862\r\n[JDK-8085796]: https://bugs.openjdk.org/browse/JDK-8085796\r\n[JDK-8046171]: https://bugs.openjdk.org/browse/JDK-8046171\r\n[JDK-8271717]: https://bugs.openjdk.org/browse/JDK-8271717\r\n\r\n[forName]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\r\n[`StringBuffer`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuffer.html\r\n[`StringBuilder`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\r\n[JVM/Bytecode/Platform enhancements]: https://stackoverflow.com/a/70302533/2711488","title":"Java: Is there any benefit in compiling with `-target` higher than `11`?","body":"<p>Here is a list of improvements you may get automatically when compiling (unchanged) Java source code targeting a newer Java version, ordered by their minimum target version:</p>\n<ul>\n<li><p>JDK 1.4: <a href=\"https://bugs.openjdk.org/browse/JDK-4030374\" rel=\"nofollow noreferrer\">Early initialization of outer this reference.</a><br />\nStarting with this version, the synthetic field holding the reference to the outer instance is initialized before calling the super constructor.\nThis is a stability/robustness improvement, not affecting the performance</p>\n</li>\n<li><p>JDK 1.5/Java 5: <a href=\"https://bugs.openjdk.org/browse/JDK-4868974\" rel=\"nofollow noreferrer\">String concatenation without synchronization</a><br />\nPrior to this version, string concatenation used <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\"><code>StringBuffer</code></a> under the hood, which performs unnecessary synchronization.\nStarting with this version, string concatenation gets compiled to code using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> which does not perform synchronization.</p>\n</li>\n<li><p>JDK 1.5/Java 5: <a href=\"https://bugs.openjdk.org/browse/JDK-4639391\" rel=\"nofollow noreferrer\">Direct support for class literals in bytecode</a><br />\nClass literals like <code>Foo.class</code> get compiled to a single bytecode instruction. Prior to this version, it was syntactic sugar for\ncalling <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Class.forName(&quot;Foo&quot;)</code></a> and remembering the result in a synthetic <code>static</code> field.\nThe direct support requires less code and may be slightly faster.</p>\n</li>\n<li><p>Java 6: <a href=\"https://bugs.openjdk.org/browse/JDK-6227862\" rel=\"nofollow noreferrer\">StackMapTables to improve verification speed.</a><br />\nThis version introduced StackMapTables (for the ordinary desktop/server JVMs) which provide hints to the verifier. This can reduce startup time.</p>\n</li>\n<li><p>Java 9: <a href=\"https://bugs.openjdk.org/browse/JDK-8085796\" rel=\"nofollow noreferrer\">String concatenation using <code>invokedynamic</code>.</a><br />\nStarting with this version, string concatenation gets compiled to a single <code>invokedynamic</code> instruction instead of a sequence of <code>append</code> calls on a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>.\nThis can reduce the bytecode size dramatically. Further, this opens the opportunity to the runtime, to provide faster implementation code.\nNote that currently this applies to <code>javac</code> only, not to Eclipse’s <code>ecj</code>.</p>\n</li>\n<li><p>Java 11: <a href=\"https://bugs.openjdk.org/browse/JDK-8046171\" rel=\"nofollow noreferrer\">Nest based access</a><br />\nThis features allows classes belonging to a nest (typically inner classes/nested classes) to access each others <code>private</code> members directly, without additional helper methods.\nThis will reduce the code size and may in some cases improve performance, e.g. when a long call chain exceeded inlining limits and does not anymore.</p>\n</li>\n<li><p>Java 18: <a href=\"https://bugs.openjdk.org/browse/JDK-8271717\" rel=\"nofollow noreferrer\">No unnecessary outer references in inner classes.</a><br />\nPrior to this version, inner classes always had a synthetic field referencing the outer instance. Starting with this version, the field is only maintained if the inner class actually accesses the outer instance.\nThis may have a positive impact on garbage collection performance (and slightly reduce code size).</p>\n</li>\n</ul>\n<p>So the general answer is that recompiling source code targeting a newer version can have a benefit, but specifically switching from 11 to 17 has not, to my knowledge.</p>\n<p>Also, these improvements apply to the standard Java compiler and will affect Kotlin only when its compiler also adopts the changes. On the other hand, the Kotlin compiler could also use <a href=\"https://stackoverflow.com/a/70302533/2711488\">JVM/Bytecode/Platform enhancements</a> which the Java compiler doesn’t use.</p>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681811815,"creation_date":1681608437,"question_id":76025522,"body_markdown":"The project I work on is data-heavy, and performance matters.\r\n\r\nIt is currently being compiled from Kotlin with `-target 11`, but somewhere, it runs on JRE 17+.\r\n\r\nWould it make a difference in performance if it was compiled with `target 17`? As far as I have seen, there were not many bytecode changes between 11 and 17. Are there any theoretical articles or benchmarks?\r\n\r\n(Hypothetically, I could measure myself, but due to how the project is built and deployed, moving everything to Java 17 would be quite a lot of effort just to try `-target 17`. The upgrade is scheduled for later.)\r\n\r\nHere is a very old similar question for `-source 1.4` and `-target 1.7`: https://stackoverflow.com/questions/15408824/using-target-higher-than-source-with-javac\r\n","title":"Java: Is there any benefit in compiling with `-target` higher than `11`?","body":"<p>The project I work on is data-heavy, and performance matters.</p>\n<p>It is currently being compiled from Kotlin with <code>-target 11</code>, but somewhere, it runs on JRE 17+.</p>\n<p>Would it make a difference in performance if it was compiled with <code>target 17</code>? As far as I have seen, there were not many bytecode changes between 11 and 17. Are there any theoretical articles or benchmarks?</p>\n<p>(Hypothetically, I could measure myself, but due to how the project is built and deployed, moving everything to Java 17 would be quite a lot of effort just to try <code>-target 17</code>. The upgrade is scheduled for later.)</p>\n<p>Here is a very old similar question for <code>-source 1.4</code> and <code>-target 1.7</code>: <a href=\"https://stackoverflow.com/questions/15408824/using-target-higher-than-source-with-javac\">Using -target higher than -source with javac</a></p>\n"},{"tags":["java","linear-programming","cplex","branch-and-bound"],"owner":{"account_id":11778701,"reputation":41,"user_id":8619181,"display_name":"Luuk van Nes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681811807,"creation_date":1681811807,"question_id":76043198,"body_markdown":"Below i have a simplified code example of what i want to achieve. Basically i want to select a starting time for two different items (each chosen from a list of possible starting times). The goal is to find equal starting times for the two items. To enforce this i want to branch on the range of starting times if the lp finds starting times that are unequal. The normal way of branching using cplex would not work here, because as far as i know cplex won&#39;t call the branch callback is the solution found is feasible. So my idea is to copy the lp twice and change the ranges for each copy. I am currently using the modeling by columns technique. However I&#39;m not sure on how exactly to approach that. I found a link on how to copy a model but it doesn&#39;t seem to work as example.LPMatrixIterator() returns https://www.ibm.com/support/pages/clone-ilocplex-object-using-java-api.\r\nIs it feasible to simply recreate the model from start (using warm start) or is that extremely slow? Or is there another way to copy the model or achieve what i want?\r\n\r\n(obviously for this example this is not an effective way of building the lp, this is just a simple example to show my issue)\r\n\r\n\r\n```\r\nval example = IloCplex()\r\nval obje = example.addMaximize(&quot;value of items&quot;)\r\n\r\nval range1 = example.addRange(.0,100.0);\r\nval numberOfItem1 = example.addRange(.0,1.0);\r\n//list of item1 starting times to choose from\r\nval timesToStartTask1 = doubleArrayOf(10.0,20.0,30.0,70.0,85.0)\r\nval timeChosen1 = IloNumVarArray()\r\n\r\nval range2 = example.addRange(.0,100.0);\r\nval numberOfItem2 = example.addRange(.0,1.0);\r\n//list of item1 starting times to choose from\r\nval timesToStartTask2 = doubleArrayOf(10.0,20.0,30.0,70.0,85.0)\r\nval timeChosen2 = IloNumVarArray()\r\n\r\nfor (i in 0 until timesToStartTask1.size){\r\n    timeChosen1.add(example.boolVar(example.column(obje, 1.0)\r\n            .and(example.column(numberOfItem1, 1.0))\r\n            .and(example.column(range1, timesToStartTask1[i]))))\r\n    timeChosen2.add(example.boolVar(example.column(obje, 1.0)\r\n            .and(example.column(numberOfItem2, 1.0))\r\n            .and(example.column(range1, timesToStartTask2[i]))))\r\n}\r\n\r\nexample.solve()\r\n```\r\n\r\nI have tried looking at the documentation for cplex, but haven&#39;t been able to find anything that helps","title":"Create custom branches for cplex","body":"<p>Below i have a simplified code example of what i want to achieve. Basically i want to select a starting time for two different items (each chosen from a list of possible starting times). The goal is to find equal starting times for the two items. To enforce this i want to branch on the range of starting times if the lp finds starting times that are unequal. The normal way of branching using cplex would not work here, because as far as i know cplex won't call the branch callback is the solution found is feasible. So my idea is to copy the lp twice and change the ranges for each copy. I am currently using the modeling by columns technique. However I'm not sure on how exactly to approach that. I found a link on how to copy a model but it doesn't seem to work as example.LPMatrixIterator() returns <a href=\"https://www.ibm.com/support/pages/clone-ilocplex-object-using-java-api\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/clone-ilocplex-object-using-java-api</a>.\nIs it feasible to simply recreate the model from start (using warm start) or is that extremely slow? Or is there another way to copy the model or achieve what i want?</p>\n<p>(obviously for this example this is not an effective way of building the lp, this is just a simple example to show my issue)</p>\n<pre><code>val example = IloCplex()\nval obje = example.addMaximize(&quot;value of items&quot;)\n\nval range1 = example.addRange(.0,100.0);\nval numberOfItem1 = example.addRange(.0,1.0);\n//list of item1 starting times to choose from\nval timesToStartTask1 = doubleArrayOf(10.0,20.0,30.0,70.0,85.0)\nval timeChosen1 = IloNumVarArray()\n\nval range2 = example.addRange(.0,100.0);\nval numberOfItem2 = example.addRange(.0,1.0);\n//list of item1 starting times to choose from\nval timesToStartTask2 = doubleArrayOf(10.0,20.0,30.0,70.0,85.0)\nval timeChosen2 = IloNumVarArray()\n\nfor (i in 0 until timesToStartTask1.size){\n    timeChosen1.add(example.boolVar(example.column(obje, 1.0)\n            .and(example.column(numberOfItem1, 1.0))\n            .and(example.column(range1, timesToStartTask1[i]))))\n    timeChosen2.add(example.boolVar(example.column(obje, 1.0)\n            .and(example.column(numberOfItem2, 1.0))\n            .and(example.column(range1, timesToStartTask2[i]))))\n}\n\nexample.solve()\n</code></pre>\n<p>I have tried looking at the documentation for cplex, but haven't been able to find anything that helps</p>\n"},{"tags":["java","file","jsp","wildfly","handler"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1681827689,"post_id":76043129,"comment_id":134117390,"body_markdown":"Did you define at least one `&lt;security-role&gt;` in your web.xml ?","body":"Did you define at least one <code>&lt;security-role&gt;</code> in your web.xml ?"},{"owner":{"account_id":10176854,"reputation":61,"user_id":8564592,"display_name":"Nikhil"},"score":0,"creation_date":1681873782,"post_id":76043129,"comment_id":134125614,"body_markdown":"Yes. &lt;security-role&gt;&lt;role-name&gt;*&lt;/role-name&gt;&lt;/security-role&gt;","body":"Yes. &lt;security-role&gt;&lt;role-name&gt;*&lt;/role-name&gt;&lt;/security-role&gt;"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1681889456,"post_id":76043129,"comment_id":134127919,"body_markdown":"Can you put your **complete** web.xml (ie with the `login-config`part) ?","body":"Can you put your <b>complete</b> web.xml (ie with the <code>login-config</code>part) ?"}],"owner":{"account_id":10176854,"reputation":61,"user_id":8564592,"display_name":"Nikhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681811416,"creation_date":1681811416,"question_id":76043129,"body_markdown":"In my Java EE web app, I have defined file handlers for multiple locations on disk. For example,\r\n\r\n    &lt;location name=&quot;/ReportsProcessingPath&quot; handler=&quot;reportsProcessingPath&quot;/&gt;\r\n\r\nand the corresponding handler as,\r\n\r\n    &lt;file name=&quot;reportsProcessingPath&quot; path=&quot;${REPORTS_PROCESSING_PATH}&quot;/&gt;\r\n\r\nThe variable `REPORTS_PROCESSING_PATH` is defined in an Env file, and points to a path on disk.\r\n\r\nThese are used to download reports generated dynamically. Generated reports are placed in that path on disk, and an `&lt;a&gt;` tag is placed on the front end JSP page with the `href` attribute set to the file path (containing the file handler, of course). For example,\r\n\r\n    &lt;a href=&quot;/ReportsProcessingPath/myfile.zip&quot; download&gt;Download report&lt;/a&gt;\r\n\r\nRight now, all users on the website, whether authenticated or non-authenticated, can download this file if they know the complete path to it, including the handler name. \r\n\r\nI want to allow only authenticated users to be able to access this file.\r\n\r\nI tried defining a security constraint in `web.xml` as,\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;ReportsProcessingPath&lt;/web-resource-name&gt;\r\n            &lt;description&gt;Declarative security tests&lt;/description&gt;\r\n            &lt;url-pattern&gt;/ReportsProcessingPath/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n            &lt;role-name&gt;*&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\n But this does not work. The file is still downloadable by non-authenticated users.\r\n\r\nIs there a way to require authentication before accessing resources defined in file handlers?\r\n\r\nIf not, what is the easiest way to transition this setup to a state where authentication will be required before accessing these resources?\r\n\r\nThanks!","title":"Is there a way to add security constraint to a file handler in WildFly?","body":"<p>In my Java EE web app, I have defined file handlers for multiple locations on disk. For example,</p>\n<pre><code>&lt;location name=&quot;/ReportsProcessingPath&quot; handler=&quot;reportsProcessingPath&quot;/&gt;\n</code></pre>\n<p>and the corresponding handler as,</p>\n<pre><code>&lt;file name=&quot;reportsProcessingPath&quot; path=&quot;${REPORTS_PROCESSING_PATH}&quot;/&gt;\n</code></pre>\n<p>The variable <code>REPORTS_PROCESSING_PATH</code> is defined in an Env file, and points to a path on disk.</p>\n<p>These are used to download reports generated dynamically. Generated reports are placed in that path on disk, and an <code>&lt;a&gt;</code> tag is placed on the front end JSP page with the <code>href</code> attribute set to the file path (containing the file handler, of course). For example,</p>\n<pre><code>&lt;a href=&quot;/ReportsProcessingPath/myfile.zip&quot; download&gt;Download report&lt;/a&gt;\n</code></pre>\n<p>Right now, all users on the website, whether authenticated or non-authenticated, can download this file if they know the complete path to it, including the handler name.</p>\n<p>I want to allow only authenticated users to be able to access this file.</p>\n<p>I tried defining a security constraint in <code>web.xml</code> as,</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;ReportsProcessingPath&lt;/web-resource-name&gt;\n        &lt;description&gt;Declarative security tests&lt;/description&gt;\n        &lt;url-pattern&gt;/ReportsProcessingPath/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;*&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>But this does not work. The file is still downloadable by non-authenticated users.</p>\n<p>Is there a way to require authentication before accessing resources defined in file handlers?</p>\n<p>If not, what is the easiest way to transition this setup to a state where authentication will be required before accessing these resources?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","security","csrf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681724690,"post_id":76033737,"comment_id":134097219,"body_markdown":"Have you tried with simply `http.csrf().disable()`?","body":"Have you tried with simply <code>http.csrf().disable()</code>?"},{"owner":{"account_id":28327885,"reputation":1,"user_id":21662622,"display_name":"Adrian Valentin"},"score":0,"creation_date":1681724756,"post_id":76033737,"comment_id":134097232,"body_markdown":"yes, it didn&#39;t work","body":"yes, it didn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":28327885,"reputation":1,"user_id":21662622,"display_name":"Adrian Valentin"},"score":0,"creation_date":1681730771,"post_id":76034547,"comment_id":134098567,"body_markdown":"done that but still getting same message","body":"done that but still getting same message"},{"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"score":0,"creation_date":1681731982,"post_id":76034547,"comment_id":134098855,"body_markdown":"I put up a simple demo with this config (https://github.com/hugoalexandremf/spring-security-demo) - /auth/test is allowed. A simple HTTP GET to http://localhost:8080/auth/test will exemplify this use case scenario.","body":"I put up a simple demo with this config (<a href=\"https://github.com/hugoalexandremf/spring-security-demo\" rel=\"nofollow noreferrer\">github.com/hugoalexandremf/spring-security-demo</a>) - /auth/test is allowed. A simple HTTP GET to <a href=\"http://localhost:8080/auth/test\" rel=\"nofollow noreferrer\">localhost:8080/auth/test</a> will exemplify this use case scenario."},{"owner":{"account_id":28327885,"reputation":1,"user_id":21662622,"display_name":"Adrian Valentin"},"score":0,"creation_date":1681740832,"post_id":76034547,"comment_id":134101289,"body_markdown":"I can see your example is working but it seems like mine is still failing to work for some reason.","body":"I can see your example is working but it seems like mine is still failing to work for some reason."}],"tags":[],"owner":{"account_id":10466881,"reputation":166,"user_id":7716050,"display_name":"hugoalexandremf"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681732070,"creation_date":1681730039,"answer_id":76034547,"question_id":76033737,"body_markdown":"This config is not catching the requests to `/api/auth/**`:\r\n\r\n```java\r\n.requestMatchers(&quot;/api/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n```\r\n\r\nSpecifically configuring the endpoints to apply this configuration on will work, i.e.:\r\n\r\n```java\r\n.authorizeHttpRequests((authz) -&gt; authz\r\n        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n        .anyRequest().authenticated()\r\n)\r\n```\r\n\r\nDemo: [https://github.com/hugoalexandremf/spring-security-demo][1]\r\n\r\nReference: [https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-security-matchers][2]\r\n\r\n\r\n  [1]: https://github.com/hugoalexandremf/spring-security-demo\r\n  [2]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-security-matchers","title":"&quot;An expected CSRF token cannot be found&quot; using Spring boot 3.0.5","body":"<p>This config is not catching the requests to <code>/api/auth/**</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.requestMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n</code></pre>\n<p>Specifically configuring the endpoints to apply this configuration on will work, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.authorizeHttpRequests((authz) -&gt; authz\n        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n        .anyRequest().authenticated()\n)\n</code></pre>\n<p>Demo: <a href=\"https://github.com/hugoalexandremf/spring-security-demo\" rel=\"nofollow noreferrer\">https://github.com/hugoalexandremf/spring-security-demo</a></p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-security-matchers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-security-matchers</a></p>\n"}],"owner":{"account_id":28327885,"reputation":1,"user_id":21662622,"display_name":"Adrian Valentin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681811241,"creation_date":1681724477,"question_id":76033737,"body_markdown":"I am using Spring boot 3.0.5 along with Spring Security 6.\r\nI am facing this issue when I am trying to call an endpoint to register an account into the application: **An expected CSRF token cannot be found**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n```\r\nThis is my security configuring class, note that I disabled csrf but I still get the above message.\r\nCan you help me understanding what I&#39;ve done wrong? Thank you!\r\n\r\n\r\nI&#39;ve tried to call a register account endpoint but faced the issue:**An expected CSRF token cannot be found**. I would have expected not to receive this message since I disabled csrf into security configuration class\r\n[calling register endpoint][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U3qUz.png","title":"&quot;An expected CSRF token cannot be found&quot; using Spring boot 3.0.5","body":"<p>I am using Spring boot 3.0.5 along with Spring Security 6.\nI am facing this issue when I am trying to call an endpoint to register an account into the application: <strong>An expected CSRF token cannot be found</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n</code></pre>\n<p>This is my security configuring class, note that I disabled csrf but I still get the above message.\nCan you help me understanding what I've done wrong? Thank you!</p>\n<p>I've tried to call a register account endpoint but faced the issue:<strong>An expected CSRF token cannot be found</strong>. I would have expected not to receive this message since I disabled csrf into security configuration class\n<a href=\"https://i.stack.imgur.com/U3qUz.png\" rel=\"nofollow noreferrer\">calling register endpoint</a></p>\n"},{"tags":["java","spring-boot","spring-data-redis"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681801868,"post_id":76041638,"comment_id":134110972,"body_markdown":"And what have you tried for the reactive approach?","body":"And what have you tried for the reactive approach?"},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1681811217,"post_id":76041638,"comment_id":134112968,"body_markdown":"@M.Deinum added in the question","body":"@M.Deinum added in the question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681820079,"post_id":76041638,"comment_id":134115162,"body_markdown":"You provided a customized (why) redistemplate? Not what you tried? You should be retrieving a flux of commands from kafka and pass that to your template. You shouldn&#39;t be collecting them into a list.","body":"You provided a customized (why) redistemplate? Not what you tried? You should be retrieving a flux of commands from kafka and pass that to your template. You shouldn&#39;t be collecting them into a list."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1681821236,"post_id":76041638,"comment_id":134115476,"body_markdown":"@M.Deinum Will that not be too many roundtrips to redis? I am creating a list of the commands so that there are less calls made to redis. Also the command is GEOADD which i dont understand how to implement in this case.\nFor reference every 10 seconds i get around 5k commands","body":"@M.Deinum Will that not be too many roundtrips to redis? I am creating a list of the commands so that there are less calls made to redis. Also the command is GEOADD which i dont understand how to implement in this case. For reference every 10 seconds i get around 5k commands"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681821493,"post_id":76041638,"comment_id":134115559,"body_markdown":"Why would that be too many roundtrips? You have a streaming approach, but suddenly block in the middle? Send the command, flush periodically and continue. What you currently do is stream, block to list, list to stream, try to shoehorn the stream in how we did blocking with list before. I have to state that I&#39;m very novice in Redis, you have to make sure you also use the reactive GeoAdd command and not the previous one. You might need to use the reactive client (instead of the blocking one and instead of the template for this).","body":"Why would that be too many roundtrips? You have a streaming approach, but suddenly block in the middle? Send the command, flush periodically and continue. What you currently do is stream, block to list, list to stream, try to shoehorn the stream in how we did blocking with list before. I have to state that I&#39;m very novice in Redis, you have to make sure you also use the reactive GeoAdd command and not the previous one. You might need to use the reactive client (instead of the blocking one and instead of the template for this)."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1681821966,"post_id":76041638,"comment_id":134115662,"body_markdown":"Sure I understand what you mean, but the issue is I also have to make call to tile38 database which uses redis/io.lettuce , the commands supported by tile38 are not present in reactive redis client. Earlier i was using  List&lt;CommandArgs&lt;String, String&gt;&gt; to execute the necessary, i was sending queries like &quot;SET fleet data POINT 28.3 32.4&quot; and everything was working fine. With kafka i am getting these coordinates all i need to do it put them in tile38 which connects just like redis does with the port change. Thats why i am creating this List of commands. With stream there is no direct function.","body":"Sure I understand what you mean, but the issue is I also have to make call to tile38 database which uses redis/io.lettuce , the commands supported by tile38 are not present in reactive redis client. Earlier i was using  List&lt;CommandArgs&lt;String, String&gt;&gt; to execute the necessary, i was sending queries like &quot;SET fleet data POINT 28.3 32.4&quot; and everything was working fine. With kafka i am getting these coordinates all i need to do it put them in tile38 which connects just like redis does with the port change. Thats why i am creating this List of commands. With stream there is no direct function."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681822320,"post_id":76041638,"comment_id":134115755,"body_markdown":"Why not, you can do the same but using a `Flux`. The reactive lettuce parts have the same methods as the async one (at least the flush, dispatch etc).","body":"Why not, you can do the same but using a <code>Flux</code>. The reactive lettuce parts have the same methods as the async one (at least the flush, dispatch etc)."}],"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681811200,"creation_date":1681801187,"question_id":76041638,"body_markdown":"I have a micro-service which is written in Springboot. I wanted to explore how reactive approach can improve the performance of my system.\r\nThe flow of part I planned on picking for this reactive approach is -&gt; \r\nGetting message stream from kafka -&gt; batching them and making a call to redis\r\n\r\nI have implemented reactive kafka but unable to implement pipelining in redis using reactive approach. Single calls seem to work fine. But is there no support for a reactive Flux/Mono on pipelined/batch calls? What is the right way to do it? \r\n\r\nBelow is the code for my non reactive approach -&gt; \r\n\r\n        public List&lt;List&lt;Object&gt;&gt; executeBatchedCommands(@NotNull List&lt;CommandArgs&lt;String, String&gt;&gt; commandArgsList , BatchedCommandType commandType) {\r\n        List&lt;List&lt;Object&gt;&gt; results = new ArrayList&lt;&gt;();\r\n        RedisAsyncCommands&lt;String, String&gt; asyncCommands = client.connect().async();\r\n        asyncCommands.setAutoFlushCommands(false);\r\n        List&lt;RedisFuture&lt;List&lt;Object&gt;&gt;&gt; futureResults = new ArrayList&lt;&gt;();\r\n        for (CommandArgs&lt;String, String&gt; commandArgs : commandArgsList) {\r\n            RedisFuture&lt;List&lt;Object&gt;&gt; future = asyncCommands.dispatch(\r\n                    commandType,\r\n                    new ArrayOutput&lt;&gt;(StringCodec.UTF8),\r\n                    commandArgs);\r\n            futureResults.add(future);\r\n        }\r\n        asyncCommands.flushCommands();\r\n        for (RedisFuture&lt;List&lt;Object&gt;&gt; future : futureResults) {\r\n            try {\r\n                results.add(future.get());\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        asyncCommands.setAutoFlushCommands(true);\r\n        return results;\r\n    }\r\n\r\n\r\nThis is what i want (a redis reactive stream listener which will accept queries i want it to execute which will be coming from kafka )\r\n\r\n\r\n    public class CustomReactiveRedisTemplate extends ReactiveRedisTemplate&lt;String, String&gt; {\r\n\r\n    public CustomReactiveRedisTemplate(ReactiveRedisConnectionFactory connectionFactory,\r\n                                       RedisSerializationContext&lt;String, String&gt; serializationContext) {\r\n        super(connectionFactory, serializationContext);\r\n    }\r\n\r\n    public Mono&lt;Void&gt; customCommand(CommandKeyword commandType, List&lt;CommandArgs&lt;String, String&gt;&gt; commandArgsList) {\r\n        return execute(connection -&gt; {\r\n            connection.setCommands().....\r\n        }).then();\r\n    }\r\n}\r\n\r\n\r\nor a ReactiveStreamOperation \r\n\r\n     ReactiveStreamOperations&lt;String, String, T&gt; streamOperations = redisTemplate.opsForStream();\r\n\r\nBut cant figure out how to run a custom query. \r\n","title":"Is there no support for pipeline calls with reactive redis in springboot?","body":"<p>I have a micro-service which is written in Springboot. I wanted to explore how reactive approach can improve the performance of my system.\nThe flow of part I planned on picking for this reactive approach is -&gt;\nGetting message stream from kafka -&gt; batching them and making a call to redis</p>\n<p>I have implemented reactive kafka but unable to implement pipelining in redis using reactive approach. Single calls seem to work fine. But is there no support for a reactive Flux/Mono on pipelined/batch calls? What is the right way to do it?</p>\n<p>Below is the code for my non reactive approach -&gt;</p>\n<pre><code>    public List&lt;List&lt;Object&gt;&gt; executeBatchedCommands(@NotNull List&lt;CommandArgs&lt;String, String&gt;&gt; commandArgsList , BatchedCommandType commandType) {\n    List&lt;List&lt;Object&gt;&gt; results = new ArrayList&lt;&gt;();\n    RedisAsyncCommands&lt;String, String&gt; asyncCommands = client.connect().async();\n    asyncCommands.setAutoFlushCommands(false);\n    List&lt;RedisFuture&lt;List&lt;Object&gt;&gt;&gt; futureResults = new ArrayList&lt;&gt;();\n    for (CommandArgs&lt;String, String&gt; commandArgs : commandArgsList) {\n        RedisFuture&lt;List&lt;Object&gt;&gt; future = asyncCommands.dispatch(\n                commandType,\n                new ArrayOutput&lt;&gt;(StringCodec.UTF8),\n                commandArgs);\n        futureResults.add(future);\n    }\n    asyncCommands.flushCommands();\n    for (RedisFuture&lt;List&lt;Object&gt;&gt; future : futureResults) {\n        try {\n            results.add(future.get());\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n    asyncCommands.setAutoFlushCommands(true);\n    return results;\n}\n</code></pre>\n<p>This is what i want (a redis reactive stream listener which will accept queries i want it to execute which will be coming from kafka )</p>\n<pre><code>public class CustomReactiveRedisTemplate extends ReactiveRedisTemplate&lt;String, String&gt; {\n\npublic CustomReactiveRedisTemplate(ReactiveRedisConnectionFactory connectionFactory,\n                                   RedisSerializationContext&lt;String, String&gt; serializationContext) {\n    super(connectionFactory, serializationContext);\n}\n\npublic Mono&lt;Void&gt; customCommand(CommandKeyword commandType, List&lt;CommandArgs&lt;String, String&gt;&gt; commandArgsList) {\n    return execute(connection -&gt; {\n        connection.setCommands().....\n    }).then();\n}\n</code></pre>\n<p>}</p>\n<p>or a ReactiveStreamOperation</p>\n<pre><code> ReactiveStreamOperations&lt;String, String, T&gt; streamOperations = redisTemplate.opsForStream();\n</code></pre>\n<p>But cant figure out how to run a custom query.</p>\n"},{"tags":["java","spring-boot","mocking","junit5"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681825076,"post_id":76041493,"comment_id":134116617,"body_markdown":"have you tried simply moving bean definitions such as ` @Bean public Mockers mockersTest() { ... ) `  to some configuration file in the src/test package?","body":"have you tried simply moving bean definitions such as ` @Bean public Mockers mockersTest() { ... ) `  to some configuration file in the src/test package?"},{"owner":{"account_id":7459405,"reputation":1115,"user_id":5671480,"accept_rate":67,"display_name":"Sanal S"},"score":0,"creation_date":1681882349,"post_id":76041493,"comment_id":134126526,"body_markdown":"@EmanuelTrandafir I had asked the same on reddit and got a hint from there and its fixed. https://www.reddit.com/r/SpringBoot/comments/12qdfm6/how_to_move_mock_classes_from_src_to_test_package/","body":"@EmanuelTrandafir I had asked the same on reddit and got a hint from there and its fixed. <a href=\"https://www.reddit.com/r/SpringBoot/comments/12qdfm6/how_to_move_mock_classes_from_src_to_test_package/\" rel=\"nofollow noreferrer\">reddit.com/r/SpringBoot/comments/12qdfm6/&hellip;</a>"}],"owner":{"account_id":7459405,"reputation":1115,"user_id":5671480,"accept_rate":67,"display_name":"Sanal S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681810562,"creation_date":1681800038,"question_id":76041493,"body_markdown":"I am assigned to upgrade a project(not done by me or anyone I can contact) and one task is to move the test specific mock classes to the test package. I am including parts of the code that you guys may find useful to help me. I am only learning with junit.\r\n\r\nEdit: *We already have integration and unit tests inside the test package, it&#39;s all working fine. But the mock classes(3 of them) and the mock server that are required when running these test cases are written inside the source package and are currently initiated as a bean inside the main class. Is there a way to move these mock classes and mock server to the test package and start them as a bean when executing the test classes?*\r\n\r\nThis is the main class\r\n\r\n    @SpringBootApplication\r\n    @ImportResource({ &quot;classpath:applicationContext.xml&quot; })\r\n    @EnableJpaRepositories(basePackages = &quot;package.name&quot;, entityManagerFactoryRef = &quot;firstFactory&quot;, transactionManagerRef = &quot;firstTXManager&quot;)\r\n    @EnableIntegration\r\n    @EnableSwagger2\r\n    public class Driver {\r\n        public static void main(String[] args) throws Exception {\r\n            ...\r\n            ...\r\n            SpringApplication.run(Driver.class, args);\r\n        }\r\n        ...\r\n        ...\r\n\r\n        //I need to move the following code, but I don&#39;t know to where!\r\n        @Bean\r\n        @Profile({ &quot;test&quot; })\r\n        public Mockers mockersTest() {\r\n\t        return new Mockers();\r\n        }\r\n\r\n        @Bean\r\n        @Profile({ &quot;mock1&quot;, &quot;mock2&quot; })\r\n        public MockersDev mockersDev() {\r\n\t        return new MockersDev();\r\n        }\r\n\r\n        @Bean\r\n        @Profile({ &quot;online1&quot;, &quot;online2&quot;, &quot;online3&quot;, &quot;staging&quot; })\r\n        public MockersProd mockersProd() {\r\n\t        return new MockersProd();\r\n        }\r\n    }\r\n\r\nMock server class. I tried moving this mock server and the next three mock classes to test package. But I don&#39;t know how to initialize them, as done within the main class.\r\n\r\n\r\n```\r\nimport com.google.common.collect.Queues;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.text.MessageFormat;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.jboss.netty.bootstrap.ServerBootstrap;\r\nimport org.jboss.netty.channel.ChannelEvent;\r\nimport org.jboss.netty.channel.ChannelFactory;\r\nimport org.jboss.netty.channel.ChannelHandler;\r\nimport org.jboss.netty.channel.ChannelHandlerContext;\r\nimport org.jboss.netty.channel.Channels;\r\nimport org.jboss.netty.channel.MessageEvent;\r\nimport org.jboss.netty.channel.SimpleChannelHandler;\r\nimport org.jboss.netty.channel.group.ChannelGroup;\r\nimport org.jboss.netty.channel.group.DefaultChannelGroup;\r\nimport org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory;\r\nimport org.jboss.netty.handler.codec.string.StringDecoder;\r\nimport org.jboss.netty.handler.codec.string.StringEncoder;\r\nimport org.jboss.netty.logging.InternalLoggerFactory;\r\nimport org.jboss.netty.logging.Slf4JLoggerFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.event.ContextClosedEvent;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.util.Assert;\r\n\r\n@ConditionalOnProperty(name = { &quot;app.server.enabled&quot; }, matchIfMissing = true)\r\n@Configuration\r\npublic class MockServer {\r\n    ...\r\n    ...\r\n    @Autowired\r\n    @Qualifier(&quot;mockServerQueue&quot;)\r\n    private LinkedBlockingQueue&lt;String&gt; mockServerQueue;\r\n\r\n    @Bean\r\n    public LinkedBlockingQueue&lt;String&gt; mockServerQueue() {\r\n\treturn Queues.newLinkedBlockingQueue(100);\r\n    }\r\n\r\n    @Bean\r\n    public ApplicationListener&lt;ContextRefreshedEvent&gt; startServer() throws Exception {\r\n        return new ApplicationListener&lt;ContextRefreshedEvent&gt;() {\r\n            public void onApplicationEvent(ContextRefreshedEvent event) {\r\n                ...\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public ApplicationListener&lt;ContextClosedEvent&gt; stopServer() throws Exception {\r\n    \treturn new ApplicationListener&lt;ContextClosedEvent&gt;() {\r\n    \t\tpublic void onApplicationEvent(ContextClosedEvent event) {\r\n    \t\t\t...\r\n    \t\t}\r\n    \t};\r\n    }\r\n}\r\n```\r\n\r\n\r\nFollowing are the three Mock classes\r\n\r\n```\r\nimport de.svenjacobs.loremipsum.LoremIpsum;\r\nimport java.util.Calendar;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Transactional\r\npublic class Mockers\r\nimplements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    ...\r\n    ...    \r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        ...\r\n        ...\r\n    }\r\n    ...//serveral other methods\r\n    ...\r\n}\r\n```\r\n\r\n```\r\nimport de.svenjacobs.loremipsum.LoremIpsum;\r\nimport java.util.Calendar;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.transaction.annotation.Transactional; // Added missing imports.\r\nimport org.springframework.context.ApplicationListener;\r\nimport au.com.streamlinemedia.abc.service.HttpService;\r\n\r\n@Transactional\r\npublic class MockersDev implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    ...\r\n    ...\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        ...\r\n    }\r\n    ...//serveral other methods\r\n    ...\r\n}\r\n```\r\n\r\n\r\n```\r\nimport de.svenjacobs.loremipsum.LoremIpsum;\r\n\r\nimport java.util.Calendar;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.ApplicationListener;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Transactional\r\npublic class MockersProd implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    ...\r\n    ...\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n    //Empty method\r\n    }\r\n    ...//serveral other methods\r\n    ...\r\n}\r\n```","title":"How to move Mock classes from src to test package and load them as beans","body":"<p>I am assigned to upgrade a project(not done by me or anyone I can contact) and one task is to move the test specific mock classes to the test package. I am including parts of the code that you guys may find useful to help me. I am only learning with junit.</p>\n<p>Edit: <em>We already have integration and unit tests inside the test package, it's all working fine. But the mock classes(3 of them) and the mock server that are required when running these test cases are written inside the source package and are currently initiated as a bean inside the main class. Is there a way to move these mock classes and mock server to the test package and start them as a bean when executing the test classes?</em></p>\n<p>This is the main class</p>\n<pre><code>@SpringBootApplication\n@ImportResource({ &quot;classpath:applicationContext.xml&quot; })\n@EnableJpaRepositories(basePackages = &quot;package.name&quot;, entityManagerFactoryRef = &quot;firstFactory&quot;, transactionManagerRef = &quot;firstTXManager&quot;)\n@EnableIntegration\n@EnableSwagger2\npublic class Driver {\n    public static void main(String[] args) throws Exception {\n        ...\n        ...\n        SpringApplication.run(Driver.class, args);\n    }\n    ...\n    ...\n\n    //I need to move the following code, but I don't know to where!\n    @Bean\n    @Profile({ &quot;test&quot; })\n    public Mockers mockersTest() {\n        return new Mockers();\n    }\n\n    @Bean\n    @Profile({ &quot;mock1&quot;, &quot;mock2&quot; })\n    public MockersDev mockersDev() {\n        return new MockersDev();\n    }\n\n    @Bean\n    @Profile({ &quot;online1&quot;, &quot;online2&quot;, &quot;online3&quot;, &quot;staging&quot; })\n    public MockersProd mockersProd() {\n        return new MockersProd();\n    }\n}\n</code></pre>\n<p>Mock server class. I tried moving this mock server and the next three mock classes to test package. But I don't know how to initialize them, as done within the main class.</p>\n<pre><code>import com.google.common.collect.Queues;\nimport java.net.InetSocketAddress;\nimport java.nio.charset.StandardCharsets;\nimport java.text.MessageFormat;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.TimeUnit;\nimport org.jboss.netty.bootstrap.ServerBootstrap;\nimport org.jboss.netty.channel.ChannelEvent;\nimport org.jboss.netty.channel.ChannelFactory;\nimport org.jboss.netty.channel.ChannelHandler;\nimport org.jboss.netty.channel.ChannelHandlerContext;\nimport org.jboss.netty.channel.Channels;\nimport org.jboss.netty.channel.MessageEvent;\nimport org.jboss.netty.channel.SimpleChannelHandler;\nimport org.jboss.netty.channel.group.ChannelGroup;\nimport org.jboss.netty.channel.group.DefaultChannelGroup;\nimport org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory;\nimport org.jboss.netty.handler.codec.string.StringDecoder;\nimport org.jboss.netty.handler.codec.string.StringEncoder;\nimport org.jboss.netty.logging.InternalLoggerFactory;\nimport org.jboss.netty.logging.Slf4JLoggerFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.event.ContextClosedEvent;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.util.Assert;\n\n@ConditionalOnProperty(name = { &quot;app.server.enabled&quot; }, matchIfMissing = true)\n@Configuration\npublic class MockServer {\n    ...\n    ...\n    @Autowired\n    @Qualifier(&quot;mockServerQueue&quot;)\n    private LinkedBlockingQueue&lt;String&gt; mockServerQueue;\n\n    @Bean\n    public LinkedBlockingQueue&lt;String&gt; mockServerQueue() {\n    return Queues.newLinkedBlockingQueue(100);\n    }\n\n    @Bean\n    public ApplicationListener&lt;ContextRefreshedEvent&gt; startServer() throws Exception {\n        return new ApplicationListener&lt;ContextRefreshedEvent&gt;() {\n            public void onApplicationEvent(ContextRefreshedEvent event) {\n                ...\n\n            }\n        }\n    }\n\n    @Bean\n    public ApplicationListener&lt;ContextClosedEvent&gt; stopServer() throws Exception {\n        return new ApplicationListener&lt;ContextClosedEvent&gt;() {\n            public void onApplicationEvent(ContextClosedEvent event) {\n                ...\n            }\n        };\n    }\n}\n</code></pre>\n<p>Following are the three Mock classes</p>\n<pre><code>import de.svenjacobs.loremipsum.LoremIpsum;\nimport java.util.Calendar;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Transactional\npublic class Mockers\nimplements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n    ...\n    ...    \n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        ...\n        ...\n    }\n    ...//serveral other methods\n    ...\n}\n</code></pre>\n<pre><code>import de.svenjacobs.loremipsum.LoremIpsum;\nimport java.util.Calendar;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.transaction.annotation.Transactional; // Added missing imports.\nimport org.springframework.context.ApplicationListener;\nimport au.com.streamlinemedia.abc.service.HttpService;\n\n@Transactional\npublic class MockersDev implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n    ...\n    ...\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        ...\n    }\n    ...//serveral other methods\n    ...\n}\n</code></pre>\n<pre><code>import de.svenjacobs.loremipsum.LoremIpsum;\n\nimport java.util.Calendar;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Transactional\npublic class MockersProd implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n    ...\n    ...\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n    //Empty method\n    }\n    ...//serveral other methods\n    ...\n}\n</code></pre>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1681811081,"post_id":76043004,"comment_id":134112942,"body_markdown":"Everything looks fine, but one thing is bothering me here: `Persistence.createEntityManagerFactory` in the `CRUDRepositoryJPA` - this is something unusual in interface and might be some problem for mockito. Try to refactor this to not have this emf in the interface","body":"Everything looks fine, but one thing is bothering me here: <code>Persistence.createEntityManagerFactory</code> in the <code>CRUDRepositoryJPA</code> - this is something unusual in interface and might be some problem for mockito. Try to refactor this to not have this emf in the interface"},{"owner":{"account_id":15651682,"reputation":1,"user_id":11292952,"display_name":"nico"},"score":0,"creation_date":1681813210,"post_id":76043004,"comment_id":134113462,"body_markdown":"Indeed, thank you. When I get rid of `CRUDRepositoryJPA`completely, put single `emf`instances in the respective repositories, then don&#39;t instantiate those in my model but rather pass a new dedicated &#39;RepositoryModel&#39; class/object responsible for repository instantiation &amp; provision to the model itself (which I can mock), then tests run successfully. Not quite sure if this is the most elegant/best way to solve it, but thanks already!","body":"Indeed, thank you. When I get rid of <code>CRUDRepositoryJPA</code>completely, put single <code>emf</code>instances in the respective repositories, then don&#39;t instantiate those in my model but rather pass a new dedicated &#39;RepositoryModel&#39; class/object responsible for repository instantiation &amp; provision to the model itself (which I can mock), then tests run successfully. Not quite sure if this is the most elegant/best way to solve it, but thanks already!"}],"owner":{"account_id":15651682,"reputation":1,"user_id":11292952,"display_name":"nico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681810535,"creation_date":1681810489,"question_id":76043004,"body_markdown":"I am new to Mockito and trying to test a model class by mocking the repositories it is using. When doing so, I get following exception by Mockito (example, applies for all repositories I&#39;m using):\r\n\r\n\r\n```\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Cannot instrument interface [...].CRUDRepositoryJPA because it or one of its supertypes could not be initialized\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class [..].BookRepository.\r\n```\r\n\r\nDo I need to handle/mock the interfaces somehow, too?\r\n\r\nTest Class:\r\n\r\n```\r\npublic ModelTest{\r\n    @Mock\r\n    private BookRepository bookRepository = mock(BookRepository.class);\r\n    [...]\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        model = new ClientModel();\r\n\r\n        when(bookRepository.readAll()).thenReturn(TestConfig.defaultBooks());\r\n        [...]\r\n\r\n        model.readRepositories();\r\n    }\r\n\r\n    @Test\r\n    [...]\r\n}\r\n```\r\n\r\nRepository Class:\r\n```\r\npublic class BookRepository implements CRUDRepositoryJPA&lt;Book&gt; {\r\n    [...]\r\n}\r\n```\r\n\r\nInterfaces:\r\n\r\n```\r\npublic interface CRUDRepositoryJPA&lt;T&gt; extends CRUDRepository&lt;T&gt; {\r\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(Config.DB_NAME);\r\n}\r\n\r\npublic interface CRUDRepository&lt;T&gt; {\r\n    void create(T t);\r\n    Optional&lt;T&gt; readById(long id);\r\n    List&lt;T&gt; readAll();\r\n    void update(T t);\r\n    void delete(T t);\r\n}\r\n\r\n```\r\n\r\nTest dependencies (Mockito 5.2.1):\r\n```\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.+&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.+&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:5.+&#39;\r\n```\r\n\r\n\r\nSystem info from exception:\r\n\r\n```\r\nJava               : 19\r\nJVM vendor name    : Amazon.com Inc.\r\nJVM vendor version : 19.0.1+10-FR\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 19.0.1+10-FR\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 13.3\r\n```\r\n\r\n\r\nExpected repository classes to be mockable, e.g. readAll() for model initialization that requires these methods. ","title":"Mockito cannot mock class as it cannot instrument interface","body":"<p>I am new to Mockito and trying to test a model class by mocking the repositories it is using. When doing so, I get following exception by Mockito (example, applies for all repositories I'm using):</p>\n<pre><code>Underlying exception : org.mockito.exceptions.base.MockitoException: Cannot instrument interface [...].CRUDRepositoryJPA because it or one of its supertypes could not be initialized\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class [..].BookRepository.\n</code></pre>\n<p>Do I need to handle/mock the interfaces somehow, too?</p>\n<p>Test Class:</p>\n<pre><code>public ModelTest{\n    @Mock\n    private BookRepository bookRepository = mock(BookRepository.class);\n    [...]\n\n    @BeforeEach\n    void setUp() {\n        model = new ClientModel();\n\n        when(bookRepository.readAll()).thenReturn(TestConfig.defaultBooks());\n        [...]\n\n        model.readRepositories();\n    }\n\n    @Test\n    [...]\n}\n</code></pre>\n<p>Repository Class:</p>\n<pre><code>public class BookRepository implements CRUDRepositoryJPA&lt;Book&gt; {\n    [...]\n}\n</code></pre>\n<p>Interfaces:</p>\n<pre><code>public interface CRUDRepositoryJPA&lt;T&gt; extends CRUDRepository&lt;T&gt; {\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(Config.DB_NAME);\n}\n\npublic interface CRUDRepository&lt;T&gt; {\n    void create(T t);\n    Optional&lt;T&gt; readById(long id);\n    List&lt;T&gt; readAll();\n    void update(T t);\n    void delete(T t);\n}\n\n</code></pre>\n<p>Test dependencies (Mockito 5.2.1):</p>\n<pre><code>    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.+'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.+'\n    testImplementation 'org.mockito:mockito-core:5.+'\n</code></pre>\n<p>System info from exception:</p>\n<pre><code>Java               : 19\nJVM vendor name    : Amazon.com Inc.\nJVM vendor version : 19.0.1+10-FR\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 19.0.1+10-FR\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 13.3\n</code></pre>\n<p>Expected repository classes to be mockable, e.g. readAll() for model initialization that requires these methods.</p>\n"},{"tags":["java","html","spring-boot","post","form-data"],"owner":{"account_id":22357835,"reputation":33,"user_id":16574787,"display_name":"ArtflPhenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681810316,"creation_date":1681802858,"question_id":76041878,"body_markdown":"so i have a form in with inputs id and nickname\r\n\r\ni have a method in controller that accepts post:\r\n```\r\n@PostMapping(&quot;/test&quot;)\r\npublic String post(HttpServletRequest request, ModelMap model, Map&lt;String, String&gt; queryParameters, @Valid @ModelAttribute(name = &quot;form&quot;) Person form, BindingResult bRes) {}\r\n```\r\n\r\nPerson class:\r\n```\r\n@lombok.Data\r\npublic abstract class Person {\r\n\t@NotNull\r\n\tprotected Long id;\r\n\t@NotBlank\r\n\tprotected String nickname;\r\n}\r\n```\r\n\r\nmy problem is when the form action is changed to &#39;/test?nickname=John&#39; and in the input has value of Doe, the nickname of Person becomes &#39;John,Doe&#39;\r\n\r\nis there a way to separate the 2 or just get the value in the form only\r\n\r\ndoing request.getParameter(&quot;nickname&quot;) returns the url parameter version or &#39;John&#39; in this case.\r\ndoing request.getParameterValues(&quot;nickname&quot;) returns all or john and doe in this case.\r\n\r\nnormally a workaround is get the last value of request.getParameterValues(&quot;nickname&quot;):\r\n```\r\nString[] tempNicknames = request.getParameterValues(&quot;nickname&quot;);\r\nString postNickname = tempNicknames[tempNicknames.length-1];\r\n```\r\n\r\nbut if the nickname converted to lists of strings the workaround will not work anymore","title":"in posting in spring boot, how to separate the value from form submitted and the one from url if both uses same name/parameter attribute?","body":"<p>so i have a form in with inputs id and nickname</p>\n<p>i have a method in controller that accepts post:</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\npublic String post(HttpServletRequest request, ModelMap model, Map&lt;String, String&gt; queryParameters, @Valid @ModelAttribute(name = &quot;form&quot;) Person form, BindingResult bRes) {}\n</code></pre>\n<p>Person class:</p>\n<pre><code>@lombok.Data\npublic abstract class Person {\n    @NotNull\n    protected Long id;\n    @NotBlank\n    protected String nickname;\n}\n</code></pre>\n<p>my problem is when the form action is changed to '/test?nickname=John' and in the input has value of Doe, the nickname of Person becomes 'John,Doe'</p>\n<p>is there a way to separate the 2 or just get the value in the form only</p>\n<p>doing request.getParameter(&quot;nickname&quot;) returns the url parameter version or 'John' in this case.\ndoing request.getParameterValues(&quot;nickname&quot;) returns all or john and doe in this case.</p>\n<p>normally a workaround is get the last value of request.getParameterValues(&quot;nickname&quot;):</p>\n<pre><code>String[] tempNicknames = request.getParameterValues(&quot;nickname&quot;);\nString postNickname = tempNicknames[tempNicknames.length-1];\n</code></pre>\n<p>but if the nickname converted to lists of strings the workaround will not work anymore</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1681736850,"post_id":76034826,"comment_id":134100123,"body_markdown":"What RDBMS are you using? What&#39;s the `CREATE TABLE` definition of the table you&#39;re inserting to?","body":"What RDBMS are you using? What&#39;s the <code>CREATE TABLE</code> definition of the table you&#39;re inserting to?"},{"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"score":0,"creation_date":1681802594,"post_id":76034826,"comment_id":134111120,"body_markdown":"I&#39;m using POSTGRESQL. Create table definition is\n\n    dslContext.createTable(name(tableName))\n                .column(&quot;id&quot;, dataType.nullable(false).identity(true))\n                .column(&quot;GUID&quot;, SQLDataType.VARCHAR.nullable(true))\n                .columns(cols)\n                .execute();","body":"I&#39;m using POSTGRESQL. Create table definition is      dslContext.createTable(name(tableName))                 .column(&quot;id&quot;, dataType.nullable(false).identity(true))                 .column(&quot;GUID&quot;, SQLDataType.VARCHAR.nullable(true))                 .columns(cols)                 .execute();"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681810274,"creation_date":1681810274,"answer_id":76042971,"question_id":76034826,"body_markdown":"### How to return generated IDs with jOOQ in PostgreSQL:\r\n\r\nJust add a [`RETURNING` clause to your `INSERT` statement][1]. For PostgreSQL, this is supported natively by jOOQ:\r\n\r\n```java\r\nRecord result =\r\ndslContext.insertInto(table(name), field(&quot;email&quot;), field(&quot;password&quot;))\r\n                .values(&quot;test@mail.com&quot;, &quot;password&quot;)\r\n                .returningResult(field(&quot;guid&quot;))\r\n                .fetchOne();\r\nSystem.out.println(result);\r\n```\r\n\r\n### A note on using the code generator:\r\n\r\nIt&#39;s generally recommended to use [jOOQ&#39;s code generator][2] for almost all cases (except when you have a dynamic schema). You&#39;ll get compile time type safety and a lot of other great benefits, among others, you can use [jOOQ&#39;s `UpdatableRecord` for simplified CRUD][3]. The `UpdatableRecord`, by default, fetches generated keys for you, automatically:\r\n\r\n```java\r\nMyTableRecord r = ctx.newRecord(MY_TABLE);\r\nr.setEmail(&quot;test@gmail.com&quot;);\r\nr.setPassword(&quot;password&quot;);\r\nr.store();\r\nSystem.out.println(r.getGuid()); // this has been fetched automatically\r\n```\r\n\r\n### Schema mapping for multi tenancy\r\n\r\nYou&#39;re using `table(name)`, which hints at a dynamic schema, but do note that if the only reason your schema is dynamic is multi tenancy, then please note that jOOQ has a solution for that called [catalog, schema, and table mapping][4]\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/insert-statement/insert-returning/\r\n  [2]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [3]: https://tjooq\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/","title":"Is there any way to return the id of that last inserted record other than dslContext.lastID() in JOOQ?","body":"<h3>How to return generated IDs with jOOQ in PostgreSQL:</h3>\n<p>Just add a <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/insert-statement/insert-returning/\" rel=\"nofollow noreferrer\"><code>RETURNING</code> clause to your <code>INSERT</code> statement</a>. For PostgreSQL, this is supported natively by jOOQ:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Record result =\ndslContext.insertInto(table(name), field(&quot;email&quot;), field(&quot;password&quot;))\n                .values(&quot;test@mail.com&quot;, &quot;password&quot;)\n                .returningResult(field(&quot;guid&quot;))\n                .fetchOne();\nSystem.out.println(result);\n</code></pre>\n<h3>A note on using the code generator:</h3>\n<p>It's generally recommended to use <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">jOOQ's code generator</a> for almost all cases (except when you have a dynamic schema). You'll get compile time type safety and a lot of other great benefits, among others, you can use <a href=\"https://tjooq\" rel=\"nofollow noreferrer\">jOOQ's <code>UpdatableRecord</code> for simplified CRUD</a>. The <code>UpdatableRecord</code>, by default, fetches generated keys for you, automatically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyTableRecord r = ctx.newRecord(MY_TABLE);\nr.setEmail(&quot;test@gmail.com&quot;);\nr.setPassword(&quot;password&quot;);\nr.store();\nSystem.out.println(r.getGuid()); // this has been fetched automatically\n</code></pre>\n<h3>Schema mapping for multi tenancy</h3>\n<p>You're using <code>table(name)</code>, which hints at a dynamic schema, but do note that if the only reason your schema is dynamic is multi tenancy, then please note that jOOQ has a solution for that called <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/\" rel=\"nofollow noreferrer\">catalog, schema, and table mapping</a></p>\n"}],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76042971,"answer_count":1,"score":1,"last_activity_date":1681810274,"creation_date":1681731900,"question_id":76034826,"body_markdown":"I need to retrieve the ID of the last inserted record, so I can insert a value like &#39;ABCD-lastId&#39; into a field for unique identification, in addition to the primary key. Are there any alternative methods for achieving this?\r\n\r\nCurrently I&#39;m using last ID method of DSL Context for getting the id. But I&#39;m not sure it is a good approach since at the same time some other record are inserted.\r\n\r\nI&#39;m using like this\r\n\r\n    dslContext.insertInto(table(name), field(&quot;email&quot;), field(&quot;password&quot;))\r\n                    .values(&quot;test@mail.com&quot;, &quot;password&quot;)\r\n                    .execute();\r\n            System.out.println(dslContext.lastID());","title":"Is there any way to return the id of that last inserted record other than dslContext.lastID() in JOOQ?","body":"<p>I need to retrieve the ID of the last inserted record, so I can insert a value like 'ABCD-lastId' into a field for unique identification, in addition to the primary key. Are there any alternative methods for achieving this?</p>\n<p>Currently I'm using last ID method of DSL Context for getting the id. But I'm not sure it is a good approach since at the same time some other record are inserted.</p>\n<p>I'm using like this</p>\n<pre><code>dslContext.insertInto(table(name), field(&quot;email&quot;), field(&quot;password&quot;))\n                .values(&quot;test@mail.com&quot;, &quot;password&quot;)\n                .execute();\n        System.out.println(dslContext.lastID());\n</code></pre>\n"},{"tags":["java","android","ratingbar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889655,"post_id":76041168,"comment_id":134127970,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17262271,"reputation":343,"user_id":12499875,"display_name":"Cypher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681799442,"creation_date":1681799442,"answer_id":76041428,"question_id":76041168,"body_markdown":"You can use SharedPreference to store rating bar values.\r\n\r\n    val preferences = getSharedPreferences(&quot;My_pref&quot;, MODE_PRIVATE)\r\n\r\n    @Override\r\n        public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\r\n            preferences.edit().putFloat(&quot;Rating&quot;, rating).apply()\r\n        }\r\n\r\nto retrieve the value from shared preference, you can do like this.\r\n\r\n \r\n\r\n    val rating = preferences.getFloat(&quot;RATING&quot;, 0.0f)\r\n\r\nNote: you will lose your rating values if you uninstall the app.","title":"How to save the RatingBar values in Android Studio?","body":"<p>You can use SharedPreference to store rating bar values.</p>\n<pre><code>val preferences = getSharedPreferences(&quot;My_pref&quot;, MODE_PRIVATE)\n\n@Override\n    public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\n        preferences.edit().putFloat(&quot;Rating&quot;, rating).apply()\n    }\n</code></pre>\n<p>to retrieve the value from shared preference, you can do like this.</p>\n<pre><code>val rating = preferences.getFloat(&quot;RATING&quot;, 0.0f)\n</code></pre>\n<p>Note: you will lose your rating values if you uninstall the app.</p>\n"}],"owner":{"account_id":28041139,"reputation":1,"user_id":21418690,"display_name":"Manu AS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681809567,"creation_date":1681797172,"question_id":76041168,"body_markdown":"I have used a RatingBar in my code, but I am having trouble saving the data. Additionally, I am encountering an issue where if I provide a rating for the first row, it is automatically taken as the rating for the seventh row.\r\n\r\nI am using the following code:\r\n\r\n```java\r\nratingBar.setOnRatingBarChangeListener(new RatingBar.OnRatingBarChangeListener() {\r\n    @Override\r\n    public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\r\n        ratevalue=ratingBar.getRating();\r\n```","title":"How to save the RatingBar values in Android Studio?","body":"<p>I have used a RatingBar in my code, but I am having trouble saving the data. Additionally, I am encountering an issue where if I provide a rating for the first row, it is automatically taken as the rating for the seventh row.</p>\n<p>I am using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ratingBar.setOnRatingBarChangeListener(new RatingBar.OnRatingBarChangeListener() {\n    @Override\n    public void onRatingChanged(RatingBar ratingBar, float rating, boolean fromUser) {\n        ratevalue=ratingBar.getRating();\n</code></pre>\n"},{"tags":["java","glassfish"],"comments":[{"owner":{"account_id":1977090,"reputation":8845,"user_id":1774643,"accept_rate":70,"display_name":"Georgian"},"score":0,"creation_date":1477312903,"post_id":40200727,"comment_id":67700681,"body_markdown":"Isn&#39;t the default user *admin* and pass *admin*?","body":"Isn&#39;t the default user <i>admin</i> and pass <i>admin</i>?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1477313120,"post_id":40200727,"comment_id":67700829,"body_markdown":"Thank you @CGec, i tryed to create a domain with another username and password, but same problem, is that what you mean?","body":"Thank you @CGec, i tryed to create a domain with another username and password, but same problem, is that what you mean?"},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":0,"creation_date":1478194255,"post_id":40200727,"comment_id":68065682,"body_markdown":"Can you try to reproduce the problem, then look in the `server.log` to see what errors are there?","body":"Can you try to reproduce the problem, then look in the <code>server.log</code> to see what errors are there?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478419029,"post_id":40200727,"comment_id":68140372,"body_markdown":"Thank you @Mike i already set the log in the question?","body":"Thank you @Mike i already set the log in the question?"},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":0,"creation_date":1478439377,"post_id":40200727,"comment_id":68145209,"body_markdown":"having a quick look, there&#39;s a few weird things there. I think the key bit is the expired certificate, though. The admin console does 2-way SSL authentication with the DAS, so there could be a problem with your key/trust stores. Try getting your certificate updated first.","body":"having a quick look, there&#39;s a few weird things there. I think the key bit is the expired certificate, though. The admin console does 2-way SSL authentication with the DAS, so there could be a problem with your key/trust stores. Try getting your certificate updated first."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478440176,"post_id":40200727,"comment_id":68145482,"body_markdown":"Thank @Mike, i don&#39;t use any certificate, i don&#39;t have any one? actually i work with PAYARA, it work fine with me","body":"Thank @Mike, i don&#39;t use any certificate, i don&#39;t have any one? actually i work with PAYARA, it work fine with me"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478440335,"post_id":40200727,"comment_id":68145534,"body_markdown":"I think the only solution now, is to change my OS, i have 1 month with this problem, it make me crazy","body":"I think the only solution now, is to change my OS, i have 1 month with this problem, it make me crazy"},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":0,"creation_date":1478443809,"post_id":40200727,"comment_id":68146664,"body_markdown":"In that case, this probably just the built-in GlassFish 3 key/truststores being out of date. GF 3.x is very old now! ;) so a solution would be to copy the keystore and cacerts from GlassFish 4.1.1 or Payara Server to your GF 3.1.2 domain in the domains config folder (replacing the ones in there). If I&#39;m right about the problem, that would probably work.","body":"In that case, this probably just the built-in GlassFish 3 key/truststores being out of date. GF 3.x is very old now! ;) so a solution would be to copy the keystore and cacerts from GlassFish 4.1.1 or Payara Server to your GF 3.1.2 domain in the domains config folder (replacing the ones in there). If I&#39;m right about the problem, that would probably work."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478444370,"post_id":40200727,"comment_id":68146839,"body_markdown":"thank you @Mike i will try to do it and i will inform you.","body":"thank you @Mike i will try to do it and i will inform you."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478501486,"post_id":40200727,"comment_id":68163772,"body_markdown":"@Mike, i replace the two files but its not work :(","body":"@Mike, i replace the two files but its not work :("}],"answers":[{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478198465,"post_id":40407751,"comment_id":68068038,"body_markdown":"i do all what you said @FanOfSkynyrd but this also not work with me!","body":"i do all what you said @FanOfSkynyrd but this also not work with me!"}],"tags":[],"owner":{"account_id":9564546,"reputation":11,"user_id":7104248,"display_name":"FanOfSkynyrd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478194008,"creation_date":1478194008,"answer_id":40407751,"question_id":40200727,"body_markdown":"Have you tried changing the admin password via console/cmd with:\r\n\r\n    asadmin change-admin-password \r\nRespond to the prompts - you must set a non-empty new password for GlassFish to accept the next command.\r\n\r\n    asadmin enable-secure-admin\r\n    asadmin restart-domain\r\n\r\nSuggestion taken from [here][1]\r\n\r\nAlso, have you tried another jdk version?  If possible try uninstalling 1.7.0 and try an earlier version.  If no luck with an earlier jdk, try a more recent.\r\n\r\nTry going to `&#39;glassfish-install-path/domains/domain-name/config/admin-keyfile code`\r\n\r\n(domain-name is the name of your domain, default should be domain1)\r\n\r\nOpen the admin-keyfile in Notepad, it should show a hashed value of the password (with the hashing algorithm used).  Try picking a new password, hashing it using the same algortithm, then copying/pasting into the admin-keyfile, save and try logging into console with the new password (plain text obviously) you pasted in the file.\r\n\r\n\r\n  [1]: https://java.net/jira/browse/GLASSFISH-18063?focusedCommentId=331152&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-331152","title":"GlassFish 3 Authentication Failed","body":"<p>Have you tried changing the admin password via console/cmd with:</p>\n\n<pre><code>asadmin change-admin-password \n</code></pre>\n\n<p>Respond to the prompts - you must set a non-empty new password for GlassFish to accept the next command.</p>\n\n<pre><code>asadmin enable-secure-admin\nasadmin restart-domain\n</code></pre>\n\n<p>Suggestion taken from <a href=\"https://java.net/jira/browse/GLASSFISH-18063?focusedCommentId=331152&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-331152\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Also, have you tried another jdk version?  If possible try uninstalling 1.7.0 and try an earlier version.  If no luck with an earlier jdk, try a more recent.</p>\n\n<p>Try going to <code>'glassfish-install-path/domains/domain-name/config/admin-keyfile code</code></p>\n\n<p>(domain-name is the name of your domain, default should be domain1)</p>\n\n<p>Open the admin-keyfile in Notepad, it should show a hashed value of the password (with the hashing algorithm used).  Try picking a new password, hashing it using the same algortithm, then copying/pasting into the admin-keyfile, save and try logging into console with the new password (plain text obviously) you pasted in the file.</p>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478592599,"post_id":40480369,"comment_id":68207677,"body_markdown":"this work fine in command prompt but the problem is the Administration Console.","body":"this work fine in command prompt but the problem is the Administration Console."},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1478594138,"post_id":40480369,"comment_id":68208422,"body_markdown":"@YoucefLaidani For Administration Console, you need to do some extra jobs. It is described details here: http://logicoy.com/blogs/instructions-for-using-ldap-for-authenticating-admin/ . Please check.","body":"@YoucefLaidani For Administration Console, you need to do some extra jobs. It is described details here: <a href=\"http://logicoy.com/blogs/instructions-for-using-ldap-for-authenticating-admin/\" rel=\"nofollow noreferrer\">logicoy.com/blogs/&hellip;</a> . Please check."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478617468,"post_id":40480369,"comment_id":68224177,"body_markdown":"i don&#39;t use LDAP, this solution not really help me!","body":"i don&#39;t use LDAP, this solution not really help me!"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478760924,"post_id":40480369,"comment_id":68283833,"body_markdown":"Your two answers deserve the bounty @SkyWalker, thank you for your answers","body":"Your two answers deserve the bounty @SkyWalker, thank you for your answers"}],"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1478586679,"creation_date":1478586679,"answer_id":40480369,"question_id":40200727,"body_markdown":"\r\n\r\nUlises Fasoli&#39;s blog has a [great tutorial for glassfish admin password][1]. Please check the following procedure:\r\n\r\nIf like me you hate having to type your user/password combination every-time that you run the asadmin utility command you have 2 options\r\n\r\n1. Creating a password file and then using the --user --passwordfile options everytime you execute an asadmin command (ugh...)\r\n2. Using the asadmin login command and never think about your password again\r\nHere&#39;s how you could implement both solutions :\r\n\r\n1. Creating the password file\r\n---\r\n\r\nFirst you will need to create a file following the directives that can be found here[http://docs.oracle.com/cd/E19776-01/820-4495/ghytn/index.html]\r\n\r\n    AS_ADMIN_MASTERPASSWORD=mypassword\r\n    AS_ADMIN_USERPASSWORD=mypassword\r\n    AS_ADMIN_ALIASPASSWORD=mypassword\r\n\r\n\r\n    ${glassfish_install}/glassfish/bin/asadmin  --user admin --passwordfile ${glassfish_install}/glassfish-password.txt list-applications mydomain\r\n\r\nNow even though this works perfectly I find it a bit of a nag to have to write all this every-time I want to execute an asadmin command and sure I could write a bash script that wraps the underlying asadmin tool with the --user and --passwordfile options pre-generated but I just don&#39;t want to\r\n\r\n2. Using the asadmin login command\r\n---\r\n\r\nThe one I prefer though is using the asadmin login command.\r\n\r\nBasically what this command does is it prompts you for your glassfish credentials and then stores them in an encrypted file (.asadminpass) under the user&#39;s home folder\r\n\r\nHere is how to use it :\r\n---\r\n\r\n&gt;     ${glassfish_install}/glassfish/bin/asadmin login \r\n&gt;     Enter admin user name [default: admin]&gt; admin\r\n&gt;     Enter admin password&gt;\r\n&gt;     Login information relevant to admin user name [admin]\r\n&gt;     for host [localhost] and admin port [4848] stored at\r\n&gt;     [/home/user/.asadminpass] successfully.\r\n&gt;     Make sure that this file remains protected.\r\n\r\nOnce this is done you will be able to execute asadmin commands without being prompted for a password\r\n\r\n&gt;     ${glassfish_install}/glassfish/bin/asadmin list-applications\r\n&gt;     Nothing to list.\r\n&gt;     Command list-applications executed successfully.\r\n\r\nYou can even store remote glassfish instances password by using the --host flag with the login command\r\n\r\n&gt;     [arte@arte-epg-api2 .ssh]$ /data/glassfish/bin/asadmin login --host myremotehost.com\r\n&gt;     Enter admin user name [default: admin]&gt; admin\r\n&gt;     Enter admin password&gt;\r\n&gt;     Login information relevant to admin user name [admin]\r\n&gt;     for host [myremotehost.com] and admin port [4848] stored at\r\n&gt;     [/home/user/.asadminpass] successfully.\r\n&gt;     Make sure that this file remains protected.\r\n\r\n\r\n  [1]: http://ufasoli.blogspot.com/2013/07/glassfish-asadmin-without-password.html","title":"GlassFish 3 Authentication Failed","body":"<p>Ulises Fasoli's blog has a <a href=\"http://ufasoli.blogspot.com/2013/07/glassfish-asadmin-without-password.html\" rel=\"nofollow noreferrer\">great tutorial for glassfish admin password</a>. Please check the following procedure:</p>\n\n<p>If like me you hate having to type your user/password combination every-time that you run the asadmin utility command you have 2 options</p>\n\n<ol>\n<li>Creating a password file and then using the --user --passwordfile options everytime you execute an asadmin command (ugh...)</li>\n<li>Using the asadmin login command and never think about your password again\nHere's how you could implement both solutions :</li>\n</ol>\n\n<h2>1. Creating the password file</h2>\n\n<p>First you will need to create a file following the directives that can be found here[<a href=\"http://docs.oracle.com/cd/E19776-01/820-4495/ghytn/index.html]\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E19776-01/820-4495/ghytn/index.html]</a></p>\n\n<pre><code>AS_ADMIN_MASTERPASSWORD=mypassword\nAS_ADMIN_USERPASSWORD=mypassword\nAS_ADMIN_ALIASPASSWORD=mypassword\n\n\n${glassfish_install}/glassfish/bin/asadmin  --user admin --passwordfile ${glassfish_install}/glassfish-password.txt list-applications mydomain\n</code></pre>\n\n<p>Now even though this works perfectly I find it a bit of a nag to have to write all this every-time I want to execute an asadmin command and sure I could write a bash script that wraps the underlying asadmin tool with the --user and --passwordfile options pre-generated but I just don't want to</p>\n\n<h2>2. Using the asadmin login command</h2>\n\n<p>The one I prefer though is using the asadmin login command.</p>\n\n<p>Basically what this command does is it prompts you for your glassfish credentials and then stores them in an encrypted file (.asadminpass) under the user's home folder</p>\n\n<h2>Here is how to use it :</h2>\n\n<blockquote>\n<pre><code>${glassfish_install}/glassfish/bin/asadmin login \nEnter admin user name [default: admin]&gt; admin\nEnter admin password&gt;\nLogin information relevant to admin user name [admin]\nfor host [localhost] and admin port [4848] stored at\n[/home/user/.asadminpass] successfully.\nMake sure that this file remains protected.\n</code></pre>\n</blockquote>\n\n<p>Once this is done you will be able to execute asadmin commands without being prompted for a password</p>\n\n<blockquote>\n<pre><code>${glassfish_install}/glassfish/bin/asadmin list-applications\nNothing to list.\nCommand list-applications executed successfully.\n</code></pre>\n</blockquote>\n\n<p>You can even store remote glassfish instances password by using the --host flag with the login command</p>\n\n<blockquote>\n<pre><code>[arte@arte-epg-api2 .ssh]$ /data/glassfish/bin/asadmin login --host myremotehost.com\nEnter admin user name [default: admin]&gt; admin\nEnter admin password&gt;\nLogin information relevant to admin user name [admin]\nfor host [myremotehost.com] and admin port [4848] stored at\n[/home/user/.asadminpass] successfully.\nMake sure that this file remains protected.\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1478592271,"post_id":40480390,"comment_id":68207493,"body_markdown":"Thank you @SkyWalker for your answer, i tryed all what you do in the answer one and two, but nothing, same error, i can give you another information if i do deploy with command prompt every my application is deploy and i work normally, maybe this make sense thank you so much for your answer.","body":"Thank you @SkyWalker for your answer, i tryed all what you do in the answer one and two, but nothing, same error, i can give you another information if i do deploy with command prompt every my application is deploy and i work normally, maybe this make sense thank you so much for your answer."},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1478594042,"post_id":40480390,"comment_id":68208380,"body_markdown":"@YoucefLaidani For Administration Console, you need to do some extra jobs. It is described details here: http://logicoy.com/blogs/instructions-for-using-ldap-for-authenticating-admin/ . Please check.","body":"@YoucefLaidani For Administration Console, you need to do some extra jobs. It is described details here: <a href=\"http://logicoy.com/blogs/instructions-for-using-ldap-for-authenticating-admin/\" rel=\"nofollow noreferrer\">logicoy.com/blogs/&hellip;</a> . Please check."}],"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478586770,"creation_date":1478586770,"answer_id":40480390,"question_id":40200727,"body_markdown":"Suggestion#1:\r\n---\r\nIn oracle Community Handat told about reset/remove password:\r\n\r\n&gt; The password.txt file is user created so if you didn&#39;t create one for\r\n&gt; autostart then there won&#39;t be such a file. To reset the password, or\r\n&gt; remove it, there is a file in the config directory called\r\n&gt; admin-keyfile. You can hash a known password with SSHA256 and replace\r\n&gt; the one in there or remove the hashed password (between ; ;)\r\n&gt; altogether to have no password.\r\n\r\nResource Link:\r\nhttps://community.oracle.com/thread/2403904\r\n\r\nSuggestion#2:\r\n---\r\n\r\n[Martin][1] suggested that\r\n\r\nThe problem is that the admin user is:\r\n\r\n    --user anonymous\r\n\r\nno where documented. I only found it in the  config/admin-keyfile. The password then is indeed empty as vkraemer suggested:\r\n\r\n    AS_ADMIN_MASTERPASSWORD=\r\n    AS_ADMIN_PASSWORD=\r\n\r\nResource Link:\r\n---\r\nhttps://stackoverflow.com/a/4212765/2293534\r\n\r\nSuggestion#3:\r\n---\r\nIf you use Netbeans then please check for password:\r\n\r\n&gt; Netbeans - &gt; Services - &gt; Glassfish -&gt; Properties -&gt; Password show?\r\n\r\nInformation#1:\r\n---\r\nIn [glassfish administration guide][2], it is written as\r\n\r\n&gt; Note: For the zip bundle of GlassFish Server 4.0, the default\r\n&gt; administrator login is admin, with no password, which means that no\r\n&gt; login is required.\r\n\r\nResource Link:\r\nhttps://askubuntu.com/a/526232\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/341091/martin\r\n  [2]: https://glassfish.java.net/docs/4.0/administration-guide.pdf","title":"GlassFish 3 Authentication Failed","body":"<h2>Suggestion#1:</h2>\n\n<p>In oracle Community Handat told about reset/remove password:</p>\n\n<blockquote>\n  <p>The password.txt file is user created so if you didn't create one for\n  autostart then there won't be such a file. To reset the password, or\n  remove it, there is a file in the config directory called\n  admin-keyfile. You can hash a known password with SSHA256 and replace\n  the one in there or remove the hashed password (between ; ;)\n  altogether to have no password.</p>\n</blockquote>\n\n<p>Resource Link:\n<a href=\"https://community.oracle.com/thread/2403904\" rel=\"nofollow noreferrer\">https://community.oracle.com/thread/2403904</a></p>\n\n<h2>Suggestion#2:</h2>\n\n<p><a href=\"https://stackoverflow.com/users/341091/martin\">Martin</a> suggested that</p>\n\n<p>The problem is that the admin user is:</p>\n\n<pre><code>--user anonymous\n</code></pre>\n\n<p>no where documented. I only found it in the  config/admin-keyfile. The password then is indeed empty as vkraemer suggested:</p>\n\n<pre><code>AS_ADMIN_MASTERPASSWORD=\nAS_ADMIN_PASSWORD=\n</code></pre>\n\n<h2>Resource Link:</h2>\n\n<p><a href=\"https://stackoverflow.com/a/4212765/2293534\">https://stackoverflow.com/a/4212765/2293534</a></p>\n\n<h2>Suggestion#3:</h2>\n\n<p>If you use Netbeans then please check for password:</p>\n\n<blockquote>\n  <p>Netbeans - > Services - > Glassfish -> Properties -> Password show?</p>\n</blockquote>\n\n<h2>Information#1:</h2>\n\n<p>In <a href=\"https://glassfish.java.net/docs/4.0/administration-guide.pdf\" rel=\"nofollow noreferrer\">glassfish administration guide</a>, it is written as</p>\n\n<blockquote>\n  <p>Note: For the zip bundle of GlassFish Server 4.0, the default\n  administrator login is admin, with no password, which means that no\n  login is required.</p>\n</blockquote>\n\n<p>Resource Link:\n<a href=\"https://askubuntu.com/a/526232\">https://askubuntu.com/a/526232</a></p>\n"},{"tags":[],"owner":{"account_id":10741408,"reputation":1,"user_id":21637604,"display_name":"Sasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681808951,"creation_date":1681419196,"answer_id":76009747,"question_id":40200727,"body_markdown":"I had the same problem and gained back control by creating a password file in the installation folder containing a one liner:\r\n\r\n    AS_ADMIN_PASSWORD=your-password\r\n\r\nAfter this execute the following commands:\r\n\r\n    asadmin --user admin --pssswordfile paaswd.txt\r\n    \r\n    asadmin stop-domain\r\n    \r\n    asadmin start-domain\r\n\r\n\r\n","title":"GlassFish 3 Authentication Failed","body":"<p>I had the same problem and gained back control by creating a password file in the installation folder containing a one liner:</p>\n<pre><code>AS_ADMIN_PASSWORD=your-password\n</code></pre>\n<p>After this execute the following commands:</p>\n<pre><code>asadmin --user admin --pssswordfile paaswd.txt\n\nasadmin stop-domain\n\nasadmin start-domain\n</code></pre>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5456,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40480369,"answer_count":4,"score":6,"last_activity_date":1681808951,"creation_date":1477208917,"question_id":40200727,"body_markdown":"I worked with `GlassFish` so much, now when i try to start `GlassFish` and when i set username and password, i get **Authentication Failed** :\r\n\r\n[![Authentication Failed][1]][1]\r\n\r\n - I tryed with another glassfish, and another version `3.1.2.1` and `3.1.2`, and `Oracle GlassFish Server 3.1.2.2`\r\n\r\n - I delete my domain and i create it again many times, but i get the same problem,\r\n - I create a domain without password, but still ask for the password!!\r\n - I use `jdk1.7.0`.\r\n\r\nI think the problem in my windows?\r\n\r\nSomeone have an idea about this problem, and how to solve it?\r\n\r\n**Log**\r\n\r\n    [#|2016-11-06T08:54:21.111+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.ssl.security.com.sun.enterprise.security.ssl.impl|_ThreadID=94;_ThreadName=Thread-2;|SEC5054: Certificate has expired: [\r\n    [\r\n      Version: V3\r\n      Subject: CN=GTE CyberTrust Root 5, OU=&quot;GTE CyberTrust Solutions, Inc.&quot;, O=GTE Corporation, C=US\r\n      Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\r\n    \r\n      Key:  Sun RSA public key, 2048 bits\r\n      modulus: 23741889829347261660812437366387754385443431973861114865490414153884050331745811968523116847625570146592736935209718565296053386842135985534863157983128812774162998053673746470782252407673402238146869994438729551246768368782318393878374421033907597162218758024581735139682087126982809511479059100617027892880227587855877479432885604404402435662802390484099065871430585284534529627347717530352189612077130606642676951640071336717026459037542552927905851171460589361570392199748753414855675665635003335769915908187224347232807336022456537328962095005323382940080676931822787496212635993279098588863972868266229522169377\r\n      public exponent: 65537\r\n      Validity: [From: Fri Aug 14 15:50:00 GMT+01:00 1998,\r\n                   To: Thu Aug 15 00:59:00 GMT+01:00 2013]\r\n      Issuer: CN=GTE CyberTrust Root 5, OU=&quot;GTE CyberTrust Solutions, Inc.&quot;, O=GTE Corporation, C=US\r\n      SerialNumber: [    01b6]\r\n    \r\n    Certificate Extensions: 4\r\n    [1]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 76 0A 49 21 38 4C 9F DE   F8 C4 49 C7 71 71 91 9D  v.I!8L....I.qq..\r\n    ]\r\n    ]\r\n    \r\n    [2]: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.2.840.113763.1.2.1.3]\r\n    []  ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:5\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA1withRSA]\r\n      Signature:\r\n    0000: 41 3A D4 18 5B DA B8 DE   21 1C E1 8E 09 E5 F1 68  A:..[...!......h\r\n    0010: 34 FF DE 96 F4 07 F5 A7   3C F3 AC 4A B1 9B FA 92  4.......&lt;..J....\r\n    0020: FA 9B ED E6 32 21 AA 4A   76 C5 DC 4F 38 E5 DF D5  ....2!.Jv..O8...\r\n    0030: 86 E4 D5 C8 76 7D 98 D7   B1 CD 8F 4D B5 91 23 6C  ....v......M..#l\r\n    0040: 8B 8A EB EA 7C EF 14 94   C4 C6 F0 1F 4A 2D 32 71  ............J-2q\r\n    0050: 63 2B 63 91 26 02 09 B6   80 1D ED E2 CC B8 7F DB  c+c.&amp;...........\r\n    0060: 87 63 C8 E1 D0 6C 26 B1   35 1D 40 66 10 1B CD 95  .c...l&amp;.5.@f....\r\n    0070: 54 18 33 61 EC 13 4F DA   13 F7 99 AF 3E D0 CF 8E  T.3a..O.....&gt;...\r\n    0080: A6 72 A2 B3 C3 05 9A C9   27 7D 92 CC 7E 52 8D B3  .r......&#39;....R..\r\n    0090: AB 70 6D 9E 89 9F 4D EB   1A 75 C2 98 AA D5 02 16  .pm...M..u......\r\n    00A0: D7 0C 8A BF 25 E4 EB 2D   BC 98 E9 58 38 19 7C B9  ....%..-...X8...\r\n    00B0: 37 FE DB E2 99 08 73 06   C7 97 83 6A 7D 10 01 2F  7.....s....j.../\r\n    00C0: 32 B9 17 05 4A 65 E6 2F   CE BE 5E 53 A6 82 E9 9A  2...Je./..^S....\r\n    00D0: 53 0A 84 74 2D 83 CA C8   94 16 76 5F 94 61 28 F0  S..t-.....v_.a(.\r\n    00E0: 85 A7 39 BB D7 8B D9 A8   B2 13 1D 54 09 34 24 7D  ..9........T.4$.\r\n    00F0: 20 81 7D 66 7E A2 90 74   5C 10 C6 BD EC AB 1B C2   ..f...t\\.......\r\n    \r\n    ]|#]\r\n    \r\n    [#|2016-11-06T08:54:29.913+0100|WARNING|glassfish3.1.2|org.apache.catalina.connector.Request|_ThreadID=94;_ThreadName=Thread-2;|PWC4011: Unable to set request character encoding to UTF-8 from context , because request parameters have already been read, or ServletRequest.getReader() has already been called|#]\r\n    \r\n    [#|2016-11-06T08:54:31.147+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.ssl.security.com.sun.enterprise.security.ssl.impl|_ThreadID=57;_ThreadName=Thread-2;|SEC5054: Certificate has expired: [\r\n    [\r\n      Version: V3\r\n      Subject: CN=GTE CyberTrust Root 5, OU=&quot;GTE CyberTrust Solutions, Inc.&quot;, O=GTE Corporation, C=US\r\n      Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\r\n    \r\n      Key:  Sun RSA public key, 2048 bits\r\n      modulus: 23741889829347261660812437366387754385443431973861114865490414153884050331745811968523116847625570146592736935209718565296053386842135985534863157983128812774162998053673746470782252407673402238146869994438729551246768368782318393878374421033907597162218758024581735139682087126982809511479059100617027892880227587855877479432885604404402435662802390484099065871430585284534529627347717530352189612077130606642676951640071336717026459037542552927905851171460589361570392199748753414855675665635003335769915908187224347232807336022456537328962095005323382940080676931822787496212635993279098588863972868266229522169377\r\n      public exponent: 65537\r\n      Validity: [From: Fri Aug 14 15:50:00 GMT+01:00 1998,\r\n                   To: Thu Aug 15 00:59:00 GMT+01:00 2013]\r\n      Issuer: CN=GTE CyberTrust Root 5, OU=&quot;GTE CyberTrust Solutions, Inc.&quot;, O=GTE Corporation, C=US\r\n      SerialNumber: [    01b6]\r\n    \r\n    Certificate Extensions: 4\r\n    [1]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 76 0A 49 21 38 4C 9F DE   F8 C4 49 C7 71 71 91 9D  v.I!8L....I.qq..\r\n    ]\r\n    ]\r\n    \r\n    [2]: ObjectId: 2.5.29.32 Criticality=false\r\n    CertificatePolicies [\r\n      [CertificatePolicyId: [1.2.840.113763.1.2.1.3]\r\n    []  ]\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      Key_CertSign\r\n      Crl_Sign\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.19 Criticality=true\r\n    BasicConstraints:[\r\n      CA:true\r\n      PathLen:5\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA1withRSA]\r\n      Signature:\r\n    0000: 41 3A D4 18 5B DA B8 DE   21 1C E1 8E 09 E5 F1 68  A:..[...!......h\r\n    0010: 34 FF DE 96 F4 07 F5 A7   3C F3 AC 4A B1 9B FA 92  4.......&lt;..J....\r\n    0020: FA 9B ED E6 32 21 AA 4A   76 C5 DC 4F 38 E5 DF D5  ....2!.Jv..O8...\r\n    0030: 86 E4 D5 C8 76 7D 98 D7   B1 CD 8F 4D B5 91 23 6C  ....v......M..#l\r\n    0040: 8B 8A EB EA 7C EF 14 94   C4 C6 F0 1F 4A 2D 32 71  ............J-2q\r\n    0050: 63 2B 63 91 26 02 09 B6   80 1D ED E2 CC B8 7F DB  c+c.&amp;...........\r\n    0060: 87 63 C8 E1 D0 6C 26 B1   35 1D 40 66 10 1B CD 95  .c...l&amp;.5.@f....\r\n    0070: 54 18 33 61 EC 13 4F DA   13 F7 99 AF 3E D0 CF 8E  T.3a..O.....&gt;...\r\n    0080: A6 72 A2 B3 C3 05 9A C9   27 7D 92 CC 7E 52 8D B3  .r......&#39;....R..\r\n    0090: AB 70 6D 9E 89 9F 4D EB   1A 75 C2 98 AA D5 02 16  .pm...M..u......\r\n    00A0: D7 0C 8A BF 25 E4 EB 2D   BC 98 E9 58 38 19 7C B9  ....%..-...X8...\r\n    00B0: 37 FE DB E2 99 08 73 06   C7 97 83 6A 7D 10 01 2F  7.....s....j.../\r\n    00C0: 32 B9 17 05 4A 65 E6 2F   CE BE 5E 53 A6 82 E9 9A  2...Je./..^S....\r\n    00D0: 53 0A 84 74 2D 83 CA C8   94 16 76 5F 94 61 28 F0  S..t-.....v_.a(.\r\n    00E0: 85 A7 39 BB D7 8B D9 A8   B2 13 1D 54 09 34 24 7D  ..9........T.4$.\r\n    00F0: 20 81 7D 66 7E A2 90 74   5C 10 C6 BD EC AB 1B C2   ..f...t\\.......\r\n    \r\n    ]|#]\r\n    \r\n    [#|2016-11-06T08:54:31.149+0100|WARNING|glassfish3.1.2|org.apache.catalina.connector.Request|_ThreadID=57;_ThreadName=Thread-2;|PWC4011: Unable to set request character encoding to UTF-8 from context , because request parameters have already been read, or ServletRequest.getReader() has already been called|#]\r\n    \r\n    [#|2016-11-06T08:54:32.613+0100|INFO|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=57;_ThreadName=Thread-2;|Unsupported Response Format: &#39;text/html; charset=utf-8&#39;!|#]\r\n    \r\n    [#|2016-11-06T08:55:01.001+0100|WARNING|glassfish3.1.2|javax.enterprise.system.jmx.org.glassfish.admin.mbeanserver|_ThreadID=43;_ThreadName=Thread-2;|JMX007: Cannot start JMX connector JmxConnector config: { name = system, Protocol = rmi_jrmp, Address = 0.0.0.0, Port = 8686, AcceptAll = false, AuthRealmName = admin-realm, SecurityEnabled = false} having exception java.io.IOException: Cannot bind to URL [rmi://HISSAB-VDI15.grp-sonelgaz.sng:8686/jmxrmi]: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server]|#]\r\n    \r\n    [#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|java.io.IOException: Cannot bind to URL [rmi://HISSAB-VDI15.grp-sonelgaz.sng:8686/jmxrmi]: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server]\r\n    \tat javax.management.remote.rmi.RMIConnectorServer.newIOException(RMIConnectorServer.java:827)\r\n    \tat javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:432)\r\n    \tat org.glassfish.admin.mbeanserver.RMIConnectorStarter.start(RMIConnectorStarter.java:301)\r\n    \tat org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.startConnector(JMXStartupService.java:287)\r\n    \tat org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.run(JMXStartupService.java:328)\r\n    Caused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server]\r\n    \tat com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:159)\r\n    \tat com.sun.jndi.toolkit.url.GenericURLContext.rebind(GenericURLContext.java:249)\r\n    \tat javax.naming.InitialContext.rebind(InitialContext.java:427)\r\n    \tat javax.naming.InitialContext.rebind(InitialContext.java:427)\r\n    \tat javax.management.remote.rmi.RMIConnectorServer.bind(RMIConnectorServer.java:642)\r\n    \tat javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:427)\r\n    \t... 3 more\r\n    Caused by: java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server\r\n    \tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:632)\r\n    \tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n    \tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n    \tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:340)\r\n    \tat sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)\r\n    \tat com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:157)\r\n    \t... 8 more\r\n    Caused by: java.net.SocketException: Malformed reply from SOCKS server\r\n    \tat java.net.SocksSocketImpl.readSocksReply(SocksSocketImpl.java:128)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:459)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat java.net.Socket.connect(Socket.java:528)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:425)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:208)\r\n    \tat sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\r\n    \tat sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:146)\r\n    \tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)\r\n    \t... 13 more\r\n    |#]\r\n    \r\n    [#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.management.remote.rmi.RMIConnectorServer.newIOException(RMIConnectorServer.java:827)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:432)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat org.glassfish.admin.mbeanserver.RMIConnectorStarter.start(RMIConnectorStarter.java:301)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.startConnector(JMXStartupService.java:287)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.run(JMXStartupService.java:328)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server]|#]\r\n    \r\n    [#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:159)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat com.sun.jndi.toolkit.url.GenericURLContext.rebind(GenericURLContext.java:249)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.naming.InitialContext.rebind(InitialContext.java:427)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.naming.InitialContext.rebind(InitialContext.java:427)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.management.remote.rmi.RMIConnectorServer.bind(RMIConnectorServer.java:642)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:427)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\t... 3 more|#]\r\n    \r\n    [#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \r\n    \tjava.net.SocketException: Malformed reply from SOCKS server|#]\r\n    \r\n    [#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:632)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:340)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:157)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\t... 8 more|#]\r\n    \r\n    [#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: java.net.SocketException: Malformed reply from SOCKS server|#]\r\n    \r\n    [#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.SocksSocketImpl.readSocksReply(SocksSocketImpl.java:128)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:459)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.Socket.connect(Socket.java:579)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.Socket.connect(Socket.java:528)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.Socket.&lt;init&gt;(Socket.java:425)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat java.net.Socket.&lt;init&gt;(Socket.java:208)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:146)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)|#]\r\n    \r\n    [#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|\t... 13 more|#]\r\n    \r\n    [#|2016-11-06T08:55:02.438+0100|INFO|glassfish3.1.2|null|_ThreadID=42;_ThreadName=Thread-2;|Domain Pinged: stable.glassfish.org|#]\r\n\r\n  [1]: https://i.stack.imgur.com/9bn1z.png\r\n\r\n","title":"GlassFish 3 Authentication Failed","body":"<p>I worked with <code>GlassFish</code> so much, now when i try to start <code>GlassFish</code> and when i set username and password, i get <strong>Authentication Failed</strong> :</p>\n\n<p><a href=\"https://i.stack.imgur.com/9bn1z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9bn1z.png\" alt=\"Authentication Failed\"></a></p>\n\n<ul>\n<li><p>I tryed with another glassfish, and another version <code>3.1.2.1</code> and <code>3.1.2</code>, and <code>Oracle GlassFish Server 3.1.2.2</code></p></li>\n<li><p>I delete my domain and i create it again many times, but i get the same problem,</p></li>\n<li>I create a domain without password, but still ask for the password!!</li>\n<li>I use <code>jdk1.7.0</code>.</li>\n</ul>\n\n<p>I think the problem in my windows?</p>\n\n<p>Someone have an idea about this problem, and how to solve it?</p>\n\n<p><strong>Log</strong></p>\n\n<pre><code>[#|2016-11-06T08:54:21.111+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.ssl.security.com.sun.enterprise.security.ssl.impl|_ThreadID=94;_ThreadName=Thread-2;|SEC5054: Certificate has expired: [\n[\n  Version: V3\n  Subject: CN=GTE CyberTrust Root 5, OU=\"GTE CyberTrust Solutions, Inc.\", O=GTE Corporation, C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n\n  Key:  Sun RSA public key, 2048 bits\n  modulus: 23741889829347261660812437366387754385443431973861114865490414153884050331745811968523116847625570146592736935209718565296053386842135985534863157983128812774162998053673746470782252407673402238146869994438729551246768368782318393878374421033907597162218758024581735139682087126982809511479059100617027892880227587855877479432885604404402435662802390484099065871430585284534529627347717530352189612077130606642676951640071336717026459037542552927905851171460589361570392199748753414855675665635003335769915908187224347232807336022456537328962095005323382940080676931822787496212635993279098588863972868266229522169377\n  public exponent: 65537\n  Validity: [From: Fri Aug 14 15:50:00 GMT+01:00 1998,\n               To: Thu Aug 15 00:59:00 GMT+01:00 2013]\n  Issuer: CN=GTE CyberTrust Root 5, OU=\"GTE CyberTrust Solutions, Inc.\", O=GTE Corporation, C=US\n  SerialNumber: [    01b6]\n\nCertificate Extensions: 4\n[1]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 76 0A 49 21 38 4C 9F DE   F8 C4 49 C7 71 71 91 9D  v.I!8L....I.qq..\n]\n]\n\n[2]: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.2.840.113763.1.2.1.3]\n[]  ]\n]\n\n[3]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  Key_CertSign\n  Crl_Sign\n]\n\n[4]: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:5\n]\n\n]\n  Algorithm: [SHA1withRSA]\n  Signature:\n0000: 41 3A D4 18 5B DA B8 DE   21 1C E1 8E 09 E5 F1 68  A:..[...!......h\n0010: 34 FF DE 96 F4 07 F5 A7   3C F3 AC 4A B1 9B FA 92  4.......&lt;..J....\n0020: FA 9B ED E6 32 21 AA 4A   76 C5 DC 4F 38 E5 DF D5  ....2!.Jv..O8...\n0030: 86 E4 D5 C8 76 7D 98 D7   B1 CD 8F 4D B5 91 23 6C  ....v......M..#l\n0040: 8B 8A EB EA 7C EF 14 94   C4 C6 F0 1F 4A 2D 32 71  ............J-2q\n0050: 63 2B 63 91 26 02 09 B6   80 1D ED E2 CC B8 7F DB  c+c.&amp;...........\n0060: 87 63 C8 E1 D0 6C 26 B1   35 1D 40 66 10 1B CD 95  .c...l&amp;.5.@f....\n0070: 54 18 33 61 EC 13 4F DA   13 F7 99 AF 3E D0 CF 8E  T.3a..O.....&gt;...\n0080: A6 72 A2 B3 C3 05 9A C9   27 7D 92 CC 7E 52 8D B3  .r......'....R..\n0090: AB 70 6D 9E 89 9F 4D EB   1A 75 C2 98 AA D5 02 16  .pm...M..u......\n00A0: D7 0C 8A BF 25 E4 EB 2D   BC 98 E9 58 38 19 7C B9  ....%..-...X8...\n00B0: 37 FE DB E2 99 08 73 06   C7 97 83 6A 7D 10 01 2F  7.....s....j.../\n00C0: 32 B9 17 05 4A 65 E6 2F   CE BE 5E 53 A6 82 E9 9A  2...Je./..^S....\n00D0: 53 0A 84 74 2D 83 CA C8   94 16 76 5F 94 61 28 F0  S..t-.....v_.a(.\n00E0: 85 A7 39 BB D7 8B D9 A8   B2 13 1D 54 09 34 24 7D  ..9........T.4$.\n00F0: 20 81 7D 66 7E A2 90 74   5C 10 C6 BD EC AB 1B C2   ..f...t\\.......\n\n]|#]\n\n[#|2016-11-06T08:54:29.913+0100|WARNING|glassfish3.1.2|org.apache.catalina.connector.Request|_ThreadID=94;_ThreadName=Thread-2;|PWC4011: Unable to set request character encoding to UTF-8 from context , because request parameters have already been read, or ServletRequest.getReader() has already been called|#]\n\n[#|2016-11-06T08:54:31.147+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.ssl.security.com.sun.enterprise.security.ssl.impl|_ThreadID=57;_ThreadName=Thread-2;|SEC5054: Certificate has expired: [\n[\n  Version: V3\n  Subject: CN=GTE CyberTrust Root 5, OU=\"GTE CyberTrust Solutions, Inc.\", O=GTE Corporation, C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n\n  Key:  Sun RSA public key, 2048 bits\n  modulus: 23741889829347261660812437366387754385443431973861114865490414153884050331745811968523116847625570146592736935209718565296053386842135985534863157983128812774162998053673746470782252407673402238146869994438729551246768368782318393878374421033907597162218758024581735139682087126982809511479059100617027892880227587855877479432885604404402435662802390484099065871430585284534529627347717530352189612077130606642676951640071336717026459037542552927905851171460589361570392199748753414855675665635003335769915908187224347232807336022456537328962095005323382940080676931822787496212635993279098588863972868266229522169377\n  public exponent: 65537\n  Validity: [From: Fri Aug 14 15:50:00 GMT+01:00 1998,\n               To: Thu Aug 15 00:59:00 GMT+01:00 2013]\n  Issuer: CN=GTE CyberTrust Root 5, OU=\"GTE CyberTrust Solutions, Inc.\", O=GTE Corporation, C=US\n  SerialNumber: [    01b6]\n\nCertificate Extensions: 4\n[1]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 76 0A 49 21 38 4C 9F DE   F8 C4 49 C7 71 71 91 9D  v.I!8L....I.qq..\n]\n]\n\n[2]: ObjectId: 2.5.29.32 Criticality=false\nCertificatePolicies [\n  [CertificatePolicyId: [1.2.840.113763.1.2.1.3]\n[]  ]\n]\n\n[3]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  Key_CertSign\n  Crl_Sign\n]\n\n[4]: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen:5\n]\n\n]\n  Algorithm: [SHA1withRSA]\n  Signature:\n0000: 41 3A D4 18 5B DA B8 DE   21 1C E1 8E 09 E5 F1 68  A:..[...!......h\n0010: 34 FF DE 96 F4 07 F5 A7   3C F3 AC 4A B1 9B FA 92  4.......&lt;..J....\n0020: FA 9B ED E6 32 21 AA 4A   76 C5 DC 4F 38 E5 DF D5  ....2!.Jv..O8...\n0030: 86 E4 D5 C8 76 7D 98 D7   B1 CD 8F 4D B5 91 23 6C  ....v......M..#l\n0040: 8B 8A EB EA 7C EF 14 94   C4 C6 F0 1F 4A 2D 32 71  ............J-2q\n0050: 63 2B 63 91 26 02 09 B6   80 1D ED E2 CC B8 7F DB  c+c.&amp;...........\n0060: 87 63 C8 E1 D0 6C 26 B1   35 1D 40 66 10 1B CD 95  .c...l&amp;.5.@f....\n0070: 54 18 33 61 EC 13 4F DA   13 F7 99 AF 3E D0 CF 8E  T.3a..O.....&gt;...\n0080: A6 72 A2 B3 C3 05 9A C9   27 7D 92 CC 7E 52 8D B3  .r......'....R..\n0090: AB 70 6D 9E 89 9F 4D EB   1A 75 C2 98 AA D5 02 16  .pm...M..u......\n00A0: D7 0C 8A BF 25 E4 EB 2D   BC 98 E9 58 38 19 7C B9  ....%..-...X8...\n00B0: 37 FE DB E2 99 08 73 06   C7 97 83 6A 7D 10 01 2F  7.....s....j.../\n00C0: 32 B9 17 05 4A 65 E6 2F   CE BE 5E 53 A6 82 E9 9A  2...Je./..^S....\n00D0: 53 0A 84 74 2D 83 CA C8   94 16 76 5F 94 61 28 F0  S..t-.....v_.a(.\n00E0: 85 A7 39 BB D7 8B D9 A8   B2 13 1D 54 09 34 24 7D  ..9........T.4$.\n00F0: 20 81 7D 66 7E A2 90 74   5C 10 C6 BD EC AB 1B C2   ..f...t\\.......\n\n]|#]\n\n[#|2016-11-06T08:54:31.149+0100|WARNING|glassfish3.1.2|org.apache.catalina.connector.Request|_ThreadID=57;_ThreadName=Thread-2;|PWC4011: Unable to set request character encoding to UTF-8 from context , because request parameters have already been read, or ServletRequest.getReader() has already been called|#]\n\n[#|2016-11-06T08:54:32.613+0100|INFO|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=57;_ThreadName=Thread-2;|Unsupported Response Format: 'text/html; charset=utf-8'!|#]\n\n[#|2016-11-06T08:55:01.001+0100|WARNING|glassfish3.1.2|javax.enterprise.system.jmx.org.glassfish.admin.mbeanserver|_ThreadID=43;_ThreadName=Thread-2;|JMX007: Cannot start JMX connector JmxConnector config: { name = system, Protocol = rmi_jrmp, Address = 0.0.0.0, Port = 8686, AcceptAll = false, AuthRealmName = admin-realm, SecurityEnabled = false} having exception java.io.IOException: Cannot bind to URL [rmi://HISSAB-VDI15.grp-sonelgaz.sng:8686/jmxrmi]: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server]|#]\n\n[#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|java.io.IOException: Cannot bind to URL [rmi://HISSAB-VDI15.grp-sonelgaz.sng:8686/jmxrmi]: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server]\n    at javax.management.remote.rmi.RMIConnectorServer.newIOException(RMIConnectorServer.java:827)\n    at javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:432)\n    at org.glassfish.admin.mbeanserver.RMIConnectorStarter.start(RMIConnectorStarter.java:301)\n    at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.startConnector(JMXStartupService.java:287)\n    at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.run(JMXStartupService.java:328)\nCaused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server]\n    at com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:159)\n    at com.sun.jndi.toolkit.url.GenericURLContext.rebind(GenericURLContext.java:249)\n    at javax.naming.InitialContext.rebind(InitialContext.java:427)\n    at javax.naming.InitialContext.rebind(InitialContext.java:427)\n    at javax.management.remote.rmi.RMIConnectorServer.bind(RMIConnectorServer.java:642)\n    at javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:427)\n    ... 3 more\nCaused by: java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:632)\n    at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n    at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n    at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:340)\n    at sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)\n    at com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:157)\n    ... 8 more\nCaused by: java.net.SocketException: Malformed reply from SOCKS server\n    at java.net.SocksSocketImpl.readSocksReply(SocksSocketImpl.java:128)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:459)\n    at java.net.Socket.connect(Socket.java:579)\n    at java.net.Socket.connect(Socket.java:528)\n    at java.net.Socket.&lt;init&gt;(Socket.java:425)\n    at java.net.Socket.&lt;init&gt;(Socket.java:208)\n    at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\n    at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:146)\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)\n    ... 13 more\n|#]\n\n[#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.management.remote.rmi.RMIConnectorServer.newIOException(RMIConnectorServer.java:827)|#]\n\n[#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:432)|#]\n\n[#|2016-11-06T08:55:01.004+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at org.glassfish.admin.mbeanserver.RMIConnectorStarter.start(RMIConnectorStarter.java:301)|#]\n\n[#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.startConnector(JMXStartupService.java:287)|#]\n\n[#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at org.glassfish.admin.mbeanserver.JMXStartupService$JMXConnectorsStarterThread.run(JMXStartupService.java:328)|#]\n\n[#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server]|#]\n\n[#|2016-11-06T08:55:01.005+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:159)|#]\n\n[#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at com.sun.jndi.toolkit.url.GenericURLContext.rebind(GenericURLContext.java:249)|#]\n\n[#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.naming.InitialContext.rebind(InitialContext.java:427)|#]\n\n[#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.naming.InitialContext.rebind(InitialContext.java:427)|#]\n\n[#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.management.remote.rmi.RMIConnectorServer.bind(RMIConnectorServer.java:642)|#]\n\n[#|2016-11-06T08:55:01.006+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at javax.management.remote.rmi.RMIConnectorServer.start(RMIConnectorServer.java:427)|#]\n\n[#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| ... 3 more|#]\n\n[#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: java.rmi.ConnectIOException: Exception creating connection to: HISSAB-VDI15.grp-sonelgaz.sng; nested exception is: \n    java.net.SocketException: Malformed reply from SOCKS server|#]\n\n[#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:632)|#]\n\n[#|2016-11-06T08:55:01.007+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)|#]\n\n[#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)|#]\n\n[#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:340)|#]\n\n[#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)|#]\n\n[#|2016-11-06T08:55:01.008+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at com.sun.jndi.rmi.registry.RegistryContext.rebind(RegistryContext.java:157)|#]\n\n[#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| ... 8 more|#]\n\n[#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;|Caused by: java.net.SocketException: Malformed reply from SOCKS server|#]\n\n[#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.SocksSocketImpl.readSocksReply(SocksSocketImpl.java:128)|#]\n\n[#|2016-11-06T08:55:01.009+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:459)|#]\n\n[#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.Socket.connect(Socket.java:579)|#]\n\n[#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.Socket.connect(Socket.java:528)|#]\n\n[#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.Socket.&lt;init&gt;(Socket.java:425)|#]\n\n[#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at java.net.Socket.&lt;init&gt;(Socket.java:208)|#]\n\n[#|2016-11-06T08:55:01.010+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)|#]\n\n[#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:146)|#]\n\n[#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)|#]\n\n[#|2016-11-06T08:55:01.011+0100|SEVERE|glassfish3.1.2|javax.enterprise.system.std.com.sun.enterprise.server.logging|_ThreadID=43;_ThreadName=Thread-2;| ... 13 more|#]\n\n[#|2016-11-06T08:55:02.438+0100|INFO|glassfish3.1.2|null|_ThreadID=42;_ThreadName=Thread-2;|Domain Pinged: stable.glassfish.org|#]\n</code></pre>\n"},{"tags":["java","opencv","face-recognition","training-data","bytedeco-javacv"],"owner":{"account_id":15473116,"reputation":76,"user_id":14473479,"display_name":"gutey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681808891,"creation_date":1681656110,"question_id":76028414,"body_markdown":"I am trying to write a simple software that, given a set of images, recognise if the person I am looking is in that set.\r\nBy looking at the openCV doc I came across the class `FaceRecognizer`. I have tried to look for examples and this one was the only one I was able to find:\r\nhttps://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java\r\n\r\nI have made some replacements because some classes were not available in Java since I am not using `org.bytedeco`. This is the updated code:\r\n\r\n\r\n```\r\n/**\r\n * I couldn&#39;t find any tutorial on how to perform face recognition using OpenCV and Java,\r\n * so I decided to share a viable solution here. The solution is very inefficient in its\r\n * current form as the training model is built at each run, however it shows what&#39;s needed\r\n * to make it work.\r\n *\r\n * The class below takes two arguments: The path to the directory containing the training\r\n * faces and the path to the image you want to classify. Not that all images has to be of\r\n * the same size and that the faces already has to be cropped out of their original images\r\n * (Take a look here http://fivedots.coe.psu.ac.th/~ad/jg/nui07/index.html if you haven&#39;t\r\n * done the face detection yet).\r\n *\r\n * For the simplicity of this post, the class also requires that the training images have\r\n * filename format: &lt;label&gt;-rest_of_filename.png. For example:\r\n *\r\n * 1-jon_doe_1.png\r\n * 1-jon_doe_2.png\r\n * 2-jane_doe_1.png\r\n * 2-jane_doe_2.png\r\n * ...and so on.\r\n *\r\n * Source: http://pcbje.com/2012/12/doing-face-recognition-with-javacv/\r\n *\r\n * @author Petter Christian Bjelland\r\n */\r\npublic class OpenCVFaceRecognizer {\r\n    public static void main(String[] args) {\r\n        String trainingDir = args[0];\r\n        Mat testImage = Imgcodecs.imread(args[1], Imgcodecs.IMREAD_GRAYSCALE);\r\n\r\n        File root = new File(trainingDir);\r\n\r\n        FilenameFilter imgFilter = new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                name = name.toLowerCase();\r\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\r\n            }\r\n        };\r\n\r\n        File[] imageFiles = root.listFiles(imgFilter);\r\n\r\n        List&lt;Mat&gt; images = new ArrayList&lt;&gt;(imageFiles.length);\r\n\r\n        Mat labels = new Mat(imageFiles.length, 1, CvType.CV_32SC1);\r\n        IntBuffer labelsBuf = labels.createBuffer();\r\n\r\n        int counter = 0;\r\n\r\n        for (File image : imageFiles) {\r\n            Mat img = Imgcodecs.imread(image.getAbsolutePath(), Imgcodecs.IMREAD_GRAYSCALE);\r\n\r\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\r\n\r\n            images.add(counter, img);\r\n\r\n            labelsBuf.put(counter, label);\r\n\r\n            counter++;\r\n        }\r\n\r\n        FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\r\n        // FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\r\n        // FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\r\n\r\n        faceRecognizer.train(images, labels);\r\n\r\n        //IntPointer label = new IntPointer(1);\r\n        int[] label = new int [1];\r\n        //DoublePointer confidence = new DoublePointer(1);\r\n        double[] confidence = new double [1];\r\n        faceRecognizer.predict(testImage, label, confidence);\r\n        int predictedLabel = label[0];\r\n\r\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nMy questions are:\r\n\r\n1. `.createBuffer()` does not exist for the `Mat` class in the opencv dependency. So, how can I replace it?\r\n2. Why do all images have to be of the same size? Because of course the training directory has images of different sizes. \r\n3. Why the faces have to be already cropped out? I am able to successfully detect a face by drawing a rectangle (if you want I can share the code here as well). So, I should save the detected faces to file or I can simply create a new instance of BufferedImages with the area of the detected face?\r\n4. What are labels and what&#39;s their use? Simply to determine that those photos represent the same person?\r\nFor instance:\r\n1-jon_at_the_sea.png\r\n1-jon_at_the_beach.png\r\n\r\nThank you.\r\n","title":"OpenCV Example with FaceRecognizer. Mat.createBuffer() does not exist. Why all the images have to be of the same size and to be cropped out?","body":"<p>I am trying to write a simple software that, given a set of images, recognise if the person I am looking is in that set.\nBy looking at the openCV doc I came across the class <code>FaceRecognizer</code>. I have tried to look for examples and this one was the only one I was able to find:\n<a href=\"https://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java\" rel=\"nofollow noreferrer\">https://github.com/bytedeco/javacv/blob/master/samples/OpenCVFaceRecognizer.java</a></p>\n<p>I have made some replacements because some classes were not available in Java since I am not using <code>org.bytedeco</code>. This is the updated code:</p>\n<pre><code>/**\n * I couldn't find any tutorial on how to perform face recognition using OpenCV and Java,\n * so I decided to share a viable solution here. The solution is very inefficient in its\n * current form as the training model is built at each run, however it shows what's needed\n * to make it work.\n *\n * The class below takes two arguments: The path to the directory containing the training\n * faces and the path to the image you want to classify. Not that all images has to be of\n * the same size and that the faces already has to be cropped out of their original images\n * (Take a look here http://fivedots.coe.psu.ac.th/~ad/jg/nui07/index.html if you haven't\n * done the face detection yet).\n *\n * For the simplicity of this post, the class also requires that the training images have\n * filename format: &lt;label&gt;-rest_of_filename.png. For example:\n *\n * 1-jon_doe_1.png\n * 1-jon_doe_2.png\n * 2-jane_doe_1.png\n * 2-jane_doe_2.png\n * ...and so on.\n *\n * Source: http://pcbje.com/2012/12/doing-face-recognition-with-javacv/\n *\n * @author Petter Christian Bjelland\n */\npublic class OpenCVFaceRecognizer {\n    public static void main(String[] args) {\n        String trainingDir = args[0];\n        Mat testImage = Imgcodecs.imread(args[1], Imgcodecs.IMREAD_GRAYSCALE);\n\n        File root = new File(trainingDir);\n\n        FilenameFilter imgFilter = new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                name = name.toLowerCase();\n                return name.endsWith(&quot;.jpg&quot;) || name.endsWith(&quot;.pgm&quot;) || name.endsWith(&quot;.png&quot;);\n            }\n        };\n\n        File[] imageFiles = root.listFiles(imgFilter);\n\n        List&lt;Mat&gt; images = new ArrayList&lt;&gt;(imageFiles.length);\n\n        Mat labels = new Mat(imageFiles.length, 1, CvType.CV_32SC1);\n        IntBuffer labelsBuf = labels.createBuffer();\n\n        int counter = 0;\n\n        for (File image : imageFiles) {\n            Mat img = Imgcodecs.imread(image.getAbsolutePath(), Imgcodecs.IMREAD_GRAYSCALE);\n\n            int label = Integer.parseInt(image.getName().split(&quot;\\\\-&quot;)[0]);\n\n            images.add(counter, img);\n\n            labelsBuf.put(counter, label);\n\n            counter++;\n        }\n\n        FaceRecognizer faceRecognizer = FisherFaceRecognizer.create();\n        // FaceRecognizer faceRecognizer = EigenFaceRecognizer.create();\n        // FaceRecognizer faceRecognizer = LBPHFaceRecognizer.create();\n\n        faceRecognizer.train(images, labels);\n\n        //IntPointer label = new IntPointer(1);\n        int[] label = new int [1];\n        //DoublePointer confidence = new DoublePointer(1);\n        double[] confidence = new double [1];\n        faceRecognizer.predict(testImage, label, confidence);\n        int predictedLabel = label[0];\n\n        System.out.println(&quot;Predicted label: &quot; + predictedLabel);\n    }\n}\n\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li><code>.createBuffer()</code> does not exist for the <code>Mat</code> class in the opencv dependency. So, how can I replace it?</li>\n<li>Why do all images have to be of the same size? Because of course the training directory has images of different sizes.</li>\n<li>Why the faces have to be already cropped out? I am able to successfully detect a face by drawing a rectangle (if you want I can share the code here as well). So, I should save the detected faces to file or I can simply create a new instance of BufferedImages with the area of the detected face?</li>\n<li>What are labels and what's their use? Simply to determine that those photos represent the same person?\nFor instance:\n1-jon_at_the_sea.png\n1-jon_at_the_beach.png</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","date","comparison"],"answers":[{"comments":[{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":8,"creation_date":1449096758,"post_id":2592513,"comment_id":55863502,"body_markdown":"Is this inclusive, or exclusive for the borders?","body":"Is this inclusive, or exclusive for the borders?"},{"owner":{"account_id":1300126,"reputation":3092,"user_id":1250229,"display_name":"Mifmif"},"score":1,"creation_date":1462875415,"post_id":2592513,"comment_id":61810008,"body_markdown":"@DanielH&#225;ri no its not inclusive.  you can use the solution suggested  in the first comment , or use CompareTo()&gt;=0 .","body":"@DanielH&#225;ri no its not inclusive.  you can use the solution suggested  in the first comment , or use CompareTo()&gt;=0 ."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1462875610,"post_id":2592513,"comment_id":61810137,"body_markdown":"The normal usually &quot;left inclusive, right exclusive&quot;, this why I think this should be specified exactly. With &quot;left inclusive, right exclusive&quot; borders, you can specify fe: a month interval easily: [2016/04/01, 2016/05/01], this why this is the normal and used as default in many use cases.","body":"The normal usually &quot;left inclusive, right exclusive&quot;, this why I think this should be specified exactly. With &quot;left inclusive, right exclusive&quot; borders, you can specify fe: a month interval easily: [2016/04/01, 2016/05/01], this why this is the normal and used as default in many use cases."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1519343272,"post_id":2592513,"comment_id":84885169,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html) are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1519372335,"post_id":2592513,"comment_id":84893385,"body_markdown":"@BasilBourque yes, correct, hence the remarks about Joda and `java.time` for Java 8, which is now the standard version (contrary to the time I wrote this answer). Feel free to edit this answer and add more recent example code, of course! ;) (EDIT: ah, I see you yourself already provided an answer with said examples)","body":"@BasilBourque yes, correct, hence the remarks about Joda and <code>java.time</code> for Java 8, which is now the standard version (contrary to the time I wrote this answer). Feel free to edit this answer and add more recent example code, of course! ;) (EDIT: ah, I see you yourself already provided an answer with said examples)"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":5,"down_vote_count":1,"up_vote_count":686,"is_accepted":true,"score":685,"last_activity_date":1474225678,"creation_date":1270644614,"answer_id":2592513,"question_id":2592501,"body_markdown":"[Date][1] has [before][2] and [after][3] methods and can be [compared to each other][4] as follows:\r\n\r\n    if(todayDate.after(historyDate) &amp;&amp; todayDate.before(futureDate)) {\r\n        // In between\r\n    }\r\n\r\nFor an inclusive comparison:\r\n\r\n    if(!historyDate.after(todayDate) &amp;&amp; !futureDate.before(todayDate)) {\r\n        /* historyDate &lt;= todayDate &lt;= futureDate */ \r\n    }\r\n\r\nYou could also give [Joda-Time][5] a go, but note that:\r\n\r\n&gt; Joda-Time is the *de facto* standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to [java.time][6] ([JSR-310][7]).\r\n\r\nBack-ports are available for Java 6 and 7 as well as Android.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Date.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#before(java.util.Date)\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#after(java.util.Date)\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/Date.html#compareTo(java.util.Date)\r\n  [5]: http://www.joda.org/joda-time/\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [7]: https://jcp.org/en/jsr/detail?id=310","title":"How to compare dates in Java?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\">Date</a> has <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#before(java.util.Date)\" rel=\"noreferrer\">before</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#after(java.util.Date)\" rel=\"noreferrer\">after</a> methods and can be <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Date.html#compareTo(java.util.Date)\" rel=\"noreferrer\">compared to each other</a> as follows:</p>\n\n<pre><code>if(todayDate.after(historyDate) &amp;&amp; todayDate.before(futureDate)) {\n    // In between\n}\n</code></pre>\n\n<p>For an inclusive comparison:</p>\n\n<pre><code>if(!historyDate.after(todayDate) &amp;&amp; !futureDate.before(todayDate)) {\n    /* historyDate &lt;= todayDate &lt;= futureDate */ \n}\n</code></pre>\n\n<p>You could also give <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> a go, but note that:</p>\n\n<blockquote>\n  <p>Joda-Time is the <em>de facto</em> standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> (<a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR-310</a>).</p>\n</blockquote>\n\n<p>Back-ports are available for Java 6 and 7 as well as Android.</p>\n"},{"comments":[{"owner":{"account_id":2919783,"reputation":1140,"user_id":3140396,"accept_rate":69,"display_name":"Giancarlo Ventura Granados"},"score":0,"creation_date":1452533208,"post_id":2592514,"comment_id":57200988,"body_markdown":"Works perfect with Date, Byte, Long, Integer...","body":"Works perfect with Date, Byte, Long, Integer..."},{"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"score":1,"creation_date":1534308114,"post_id":2592514,"comment_id":90658617,"body_markdown":"Sometimes it doesn&#39;t work. I triggered multiple times using in a main method to check equality. Most of the times it says equal, but not all times.","body":"Sometimes it doesn&#39;t work. I triggered multiple times using in a main method to check equality. Most of the times it says equal, but not all times."},{"owner":{"account_id":66537,"reputation":10733,"user_id":195130,"accept_rate":83,"display_name":"Chandra Sekar"},"score":0,"creation_date":1534428142,"post_id":2592514,"comment_id":90709206,"body_markdown":"@Syed Can you share your code?","body":"@Syed Can you share your code?"},{"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"score":0,"creation_date":1534490818,"post_id":2592514,"comment_id":90731619,"body_markdown":"@ChandraSekarS, try to execute as a main method code by taking same dates and see the output. Sometimes, it gives 0 and sometimes 1.","body":"@ChandraSekarS, try to execute as a main method code by taking same dates and see the output. Sometimes, it gives 0 and sometimes 1."}],"tags":[],"owner":{"account_id":66537,"reputation":10733,"user_id":195130,"accept_rate":83,"display_name":"Chandra Sekar"},"comment_count":4,"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1522082540,"creation_date":1270644619,"answer_id":2592514,"question_id":2592501,"body_markdown":"Use [compareTo][1]:\r\n\r\n`date1.compareTo(date2);`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#compareTo-java.util.Date-\r\n","title":"How to compare dates in Java?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#compareTo-java.util.Date-\" rel=\"noreferrer\">compareTo</a>:</p>\n\n<p><code>date1.compareTo(date2);</code></p>\n"},{"comments":[{"owner":{"account_id":343275,"reputation":1306,"user_id":674887,"accept_rate":80,"display_name":"Dr. No"},"score":6,"creation_date":1320335309,"post_id":2592549,"comment_id":9784200,"body_markdown":"I think that &quot;new Date(today.getYear(),today.getMonth()-1,today.getDay());&quot; it&#39;s deprecated.  http://download.oracle.com/javase/6/docs/api/java/util/Date.html","body":"I think that &quot;new Date(today.getYear(),today.getMonth()-1,today.getDay());&quot; it&#39;s deprecated.  <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/util/Date.html</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1427095886,"post_id":2592549,"comment_id":46621162,"body_markdown":"@Muath: Although I am not 100 % sure, I think it is because the month component in `Date` is zero-indexed.","body":"@Muath: Although I am not 100 % sure, I think it is because the month component in <code>Date</code> is zero-indexed."},{"owner":{"account_id":4561270,"reputation":5677,"user_id":3703534,"accept_rate":75,"display_name":"Sachith Wickramaarachchi"},"score":0,"creation_date":1482610430,"post_id":2592549,"comment_id":69836823,"body_markdown":"i think in there else part is not working :)","body":"i think in there else part is not working :)"}],"tags":[],"owner":{"account_id":118608,"reputation":386,"user_id":309749,"display_name":"sam"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1339224889,"creation_date":1270644972,"answer_id":2592549,"question_id":2592501,"body_markdown":"Compare the two dates:\r\n\r\n      Date today = new Date();                 \t \r\n      Date myDate = new Date(today.getYear(),today.getMonth()-1,today.getDay());\r\n      System.out.println(&quot;My Date is&quot;+myDate);    \r\n      System.out.println(&quot;Today Date is&quot;+today);\r\n      if (today.compareTo(myDate)&lt;0)\r\n          System.out.println(&quot;Today Date is Lesser than my Date&quot;);\r\n      else if (today.compareTo(myDate)&gt;0)\r\n          System.out.println(&quot;Today Date is Greater than my date&quot;); \r\n      else\r\n          System.out.println(&quot;Both Dates are equal&quot;); \r\n","title":"How to compare dates in Java?","body":"<p>Compare the two dates:</p>\n\n<pre><code>  Date today = new Date();                   \n  Date myDate = new Date(today.getYear(),today.getMonth()-1,today.getDay());\n  System.out.println(\"My Date is\"+myDate);    \n  System.out.println(\"Today Date is\"+today);\n  if (today.compareTo(myDate)&lt;0)\n      System.out.println(\"Today Date is Lesser than my Date\");\n  else if (today.compareTo(myDate)&gt;0)\n      System.out.println(\"Today Date is Greater than my date\"); \n  else\n      System.out.println(\"Both Dates are equal\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":41924,"reputation":2366,"user_id":122003,"accept_rate":58,"display_name":"Everyone"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1270646301,"creation_date":1270646301,"answer_id":2592689,"question_id":2592501,"body_markdown":"Use getTime() to get the numeric value of the date, and then compare using the returned values.\r\n","title":"How to compare dates in Java?","body":"<p>Use getTime() to get the numeric value of the date, and then compare using the returned values.</p>\n"},{"tags":[],"owner":{"account_id":2582165,"reputation":4567,"user_id":2746582,"display_name":"Brownsoo Han"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385537299,"creation_date":1385537299,"answer_id":20236301,"question_id":2592501,"body_markdown":"This code determine today is in some duration.. based on KOREA locale\r\n \r\n        Calendar cstart = Calendar.getInstance(Locale.KOREA);\r\n        cstart.clear();\r\n        cstart.set(startyear, startmonth, startday);\r\n        \r\n        \r\n        Calendar cend = Calendar.getInstance(Locale.KOREA);\r\n        cend.clear();\r\n        cend.set(endyear, endmonth, endday);\r\n        \r\n        Calendar c = Calendar.getInstance(Locale.KOREA);\r\n        \r\n        if(c.after(cstart) &amp;&amp; c.before(cend)) {\r\n        \t// today is in startyear/startmonth/startday ~ endyear/endmonth/endday\r\n        }","title":"How to compare dates in Java?","body":"<p>This code determine today is in some duration.. based on KOREA locale</p>\n\n<pre><code>    Calendar cstart = Calendar.getInstance(Locale.KOREA);\n    cstart.clear();\n    cstart.set(startyear, startmonth, startday);\n\n\n    Calendar cend = Calendar.getInstance(Locale.KOREA);\n    cend.clear();\n    cend.set(endyear, endmonth, endday);\n\n    Calendar c = Calendar.getInstance(Locale.KOREA);\n\n    if(c.after(cstart) &amp;&amp; c.before(cend)) {\n        // today is in startyear/startmonth/startday ~ endyear/endmonth/endday\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1519343331,"post_id":21085919,"comment_id":84885191,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":13573474,"reputation":400,"user_id":9791519,"display_name":"Sapthaka"},"score":0,"creation_date":1673343394,"post_id":21085919,"comment_id":132471940,"body_markdown":"compareTo method may give a sporadic issue. better to use another way","body":"compareTo method may give a sporadic issue. better to use another way"}],"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"comment_count":2,"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1681808868,"creation_date":1389597964,"answer_id":21085919,"question_id":2592501,"body_markdown":"Following are most common way of comparing `dates` (my preference is **Approach 1**):\r\n\r\n**Approach 1: Using `Date.before()`, `Date.after()` and `Date.equals(`)**\r\n\r\n    if (date1.after(date2)) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    }\r\n    \r\n    if (date1.before(date2)) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    }\r\n    \r\n    if (date1.equals(date2)) {\r\n        System.out.println(&quot;Date1 is equal Date2&quot;);\r\n    }\r\n\r\n**Approach 2: `Date.compareTo()`**\r\n\r\n    if (date1.compareTo(date2) &gt; 0) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    } else if (date1.compareTo(date2) &lt; 0) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    } else {\r\n        System.out.println(&quot;Date1 is equal to Date2&quot;);\r\n    }\r\n\r\n**Approach 3:  `Calendar.before()`, `Calendar.after(`) and `Calendar.equals()`**\r\n\r\n    Calendar cal1 = Calendar.getInstance();\r\n    Calendar cal2 = Calendar.getInstance();\r\n    cal1.setTime(date1);\r\n    cal2.setTime(date2);\r\n    \r\n    if (cal1.after(cal2)) {\r\n        System.out.println(&quot;Date1 is after Date2&quot;);\r\n    }\r\n    \r\n    if (cal1.before(cal2)) {\r\n        System.out.println(&quot;Date1 is before Date2&quot;);\r\n    }\r\n    \r\n    if (cal1.equals(cal2)) {\r\n        System.out.println(&quot;Date1 is equal Date2&quot;);\r\n    }","title":"How to compare dates in Java?","body":"<p>Following are most common way of comparing <code>dates</code> (my preference is <strong>Approach 1</strong>):</p>\n<p><strong>Approach 1: Using <code>Date.before()</code>, <code>Date.after()</code> and <code>Date.equals(</code>)</strong></p>\n<pre><code>if (date1.after(date2)) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n}\n\nif (date1.before(date2)) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n}\n\nif (date1.equals(date2)) {\n    System.out.println(&quot;Date1 is equal Date2&quot;);\n}\n</code></pre>\n<p><strong>Approach 2: <code>Date.compareTo()</code></strong></p>\n<pre><code>if (date1.compareTo(date2) &gt; 0) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n} else if (date1.compareTo(date2) &lt; 0) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n} else {\n    System.out.println(&quot;Date1 is equal to Date2&quot;);\n}\n</code></pre>\n<p><strong>Approach 3:  <code>Calendar.before()</code>, <code>Calendar.after(</code>) and <code>Calendar.equals()</code></strong></p>\n<pre><code>Calendar cal1 = Calendar.getInstance();\nCalendar cal2 = Calendar.getInstance();\ncal1.setTime(date1);\ncal2.setTime(date2);\n\nif (cal1.after(cal2)) {\n    System.out.println(&quot;Date1 is after Date2&quot;);\n}\n\nif (cal1.before(cal2)) {\n    System.out.println(&quot;Date1 is before Date2&quot;);\n}\n\nif (cal1.equals(cal2)) {\n    System.out.println(&quot;Date1 is equal Date2&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1668730541,"post_id":21422228,"comment_id":131484066,"body_markdown":"Excellent practice-tip to mention the [(right) _half-open_ interval](https://wcipeg.com/wiki/Half-open_interval) approach for the predicate &quot;is inside a time span&quot;.","body":"Excellent practice-tip to mention the <a href=\"https://wcipeg.com/wiki/Half-open_interval\" rel=\"nofollow noreferrer\">(right) <i>half-open</i> interval</a> approach for the predicate &quot;is inside a time span&quot;."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1594330505,"creation_date":1390970308,"answer_id":21422228,"question_id":2592501,"body_markdown":"# tl;dr\r\n\r\n    LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\r\n    Boolean isBetween = \r\n        ( ! today.isBefore( localDate1 ) )  // “not-before” is short for “is-equal-to or later-than”.\r\n        &amp;&amp;\r\n        today.isBefore( localDate3 ) ; \r\n\r\n\r\n\r\nOr, better, if you add the *ThreeTen-Extra* library to your project. \r\n\r\n    LocalDateRange.of(\r\n        LocalDate.of( … ) ,\r\n        LocalDate.of( … )\r\n    ).contains(\r\n        LocalDate.now()\r\n    )\r\n\r\nHalf-open approach, where beginning is *inclusive* while ending is *exclusive*. \r\n\r\n# Bad Choice of Format\r\n\r\nBy the way, that is a bad choice of format for a text representation of a date or date-time value. Whenever possible, stick with the standard [ISO 8601][1] formats. ISO 8601 formats are unambiguous, understandable across human cultures, and are easy to parse by machine. \r\n\r\nFor a date-only value, the standard format is YYYY-MM-DD. Note how this format has the benefit of being chronological when sorted alphabetically.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][2]][2]\r\n\r\n# `DateTimeFormatter`\r\n\r\nAs your input strings are non-standard format, we must define a formatting pattern to match.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; );\r\n\r\nUse that to parse the input strings.\r\n\r\n    LocalDate start = LocalDate.parse( &quot;22-02-2010&quot; , f );\r\n    LocalDate stop = LocalDate.parse( &quot;25-12-2010&quot; , f );\r\n\r\nIn date-time work, usually best to define a span of time by the Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*. So we want to know if today is the same or later than the start and also before the stop. A briefer way of saying “is the same or later than the start” is “not before the start”.\r\n\r\n    Boolean intervalContainsToday = ( ! today.isBefore( start ) ) &amp;&amp; today.isBefore( stop ) ;\r\n\r\nSee [the Answer by gstackoverflow](https://stackoverflow.com/a/33693122/642706) showing the list of comparison methods you can call.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n----------\r\nUPDATE: This “Joda-Time” section below is left intact as history. The [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. \r\n\r\nJoda-Time\r\n==\r\n\r\nOther answers are correct with regard to the bundled java.util.Date and java.util.Calendar classes. But those classes are notoriously troublesome. So here&#39;s some example code using the [Joda-Time][3] 2.3 library.\r\n\r\nIf you truly want a date without any time portion and no time zone, then use the [`LocalDate`][4] class in Joda-Time. That class provides methods of comparison including `compareTo` (used with [Java Comparators][5]), `isBefore`, `isAfter`, and `isEqual`.\r\n\r\nInputs…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String string1 = &quot;22-02-2010&quot;;\r\n    String string2 = &quot;07-04-2010&quot;;\r\n    String string3 = &quot;25-12-2010&quot;;\r\n\r\nDefine a formatter describing the input strings…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;dd-MM-yyyy&quot; );\r\n\r\nUse formatter to parse the strings into LocalDate objects…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    LocalDate localDate1 = formatter.parseLocalDate( string1 );\r\n    LocalDate localDate2 = formatter.parseLocalDate( string2 );\r\n    LocalDate localDate3 = formatter.parseLocalDate( string3 );\r\n\r\n    boolean is1After2 = localDate1.isAfter( localDate2 );\r\n    boolean is2Before3 = localDate2.isBefore( localDate3 );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;Dates: &quot; + localDate1 + &quot; &quot; + localDate2 + &quot; &quot; + localDate3 );\r\n    System.out.println( &quot;is1After2 &quot; + is1After2 );\r\n    System.out.println( &quot;is2Before3 &quot; + is2Before3 );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Dates: 2010-02-22 2010-04-07 2010-12-25\r\n    is1After2 false\r\n    is2Before3 true\r\n\r\nSo see if the second is between the other two (exclusively, meaning not equal to either endpoint)…\r\n\r\n    boolean is2Between1And3 = ( ( localDate2.isAfter( localDate1 ) ) &amp;&amp; ( localDate2.isBefore( localDate3 ) ) );\r\n\r\nWorking With Spans Of Time\r\n==\r\n\r\nIf you are working with spans of time, I suggest exploring in Joda-Time the classes: [Duration][6], [Interval][7], and [Period][8]. Methods such as `overlap` and `contains` make comparisons easy.\r\n\r\nFor text representations, look at the ISO 8601 standard’s:\r\n\r\n - [duration][9]&lt;br&gt;Format: PnYnMnDTnHnMnS&lt;br&gt;Example: P3Y6M4DT12H30M5S&lt;br /&gt;(Means “three years, six months, four days, twelve hours, thirty minutes, and five seconds”)\r\n - [interval][10]&lt;br&gt;Format: start/end&lt;br&gt;Example: 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z\r\n\r\nJoda-Time classes can work with strings in both those formats, both as input (parsing) and output (generating strings).\r\n\r\nJoda-Time performs comparisons using the **Half-Open** approach where the beginning of the span is *inclusive* while the ending is *exclusive*. This approach is a wise one for handling spans of time. Search StackOverflow for more info.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://i.stack.imgur.com/G2e2V.png\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [6]: http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\r\n  [7]: http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\r\n  [8]: http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\r\n  [9]: http://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [10]: http://en.wikipedia.org/wiki/ISO_8601#Time_intervals","title":"How to compare dates in Java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;\nBoolean isBetween = \n    ( ! today.isBefore( localDate1 ) )  // “not-before” is short for “is-equal-to or later-than”.\n    &amp;&amp;\n    today.isBefore( localDate3 ) ; \n</code></pre>\n<p>Or, better, if you add the <em>ThreeTen-Extra</em> library to your project.</p>\n<pre><code>LocalDateRange.of(\n    LocalDate.of( … ) ,\n    LocalDate.of( … )\n).contains(\n    LocalDate.now()\n)\n</code></pre>\n<p>Half-open approach, where beginning is <em>inclusive</em> while ending is <em>exclusive</em>.</p>\n<h1>Bad Choice of Format</h1>\n<p>By the way, that is a bad choice of format for a text representation of a date or date-time value. Whenever possible, stick with the standard <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. ISO 8601 formats are unambiguous, understandable across human cultures, and are easy to parse by machine.</p>\n<p>For a date-only value, the standard format is YYYY-MM-DD. Note how this format has the benefit of being chronological when sorted alphabetically.</p>\n<h1><code>LocalDate</code></h1>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G2e2V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G2e2V.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<h1><code>DateTimeFormatter</code></h1>\n<p>As your input strings are non-standard format, we must define a formatting pattern to match.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; );\n</code></pre>\n<p>Use that to parse the input strings.</p>\n<pre><code>LocalDate start = LocalDate.parse( &quot;22-02-2010&quot; , f );\nLocalDate stop = LocalDate.parse( &quot;25-12-2010&quot; , f );\n</code></pre>\n<p>In date-time work, usually best to define a span of time by the Half-Open approach where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So we want to know if today is the same or later than the start and also before the stop. A briefer way of saying “is the same or later than the start” is “not before the start”.</p>\n<pre><code>Boolean intervalContainsToday = ( ! today.isBefore( start ) ) &amp;&amp; today.isBefore( stop ) ;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/33693122/642706\">the Answer by gstackoverflow</a> showing the list of comparison methods you can call.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n<hr />\n<p>UPDATE: This “Joda-Time” section below is left intact as history. The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<h1>Joda-Time</h1>\n<p>Other answers are correct with regard to the bundled java.util.Date and java.util.Calendar classes. But those classes are notoriously troublesome. So here's some example code using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.3 library.</p>\n<p>If you truly want a date without any time portion and no time zone, then use the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class in Joda-Time. That class provides methods of comparison including <code>compareTo</code> (used with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">Java Comparators</a>), <code>isBefore</code>, <code>isAfter</code>, and <code>isEqual</code>.</p>\n<p>Inputs…</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string1 = &quot;22-02-2010&quot;;\nString string2 = &quot;07-04-2010&quot;;\nString string3 = &quot;25-12-2010&quot;;\n</code></pre>\n<p>Define a formatter describing the input strings…</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;dd-MM-yyyy&quot; );\n</code></pre>\n<p>Use formatter to parse the strings into LocalDate objects…</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate localDate1 = formatter.parseLocalDate( string1 );\nLocalDate localDate2 = formatter.parseLocalDate( string2 );\nLocalDate localDate3 = formatter.parseLocalDate( string3 );\n\nboolean is1After2 = localDate1.isAfter( localDate2 );\nboolean is2Before3 = localDate2.isBefore( localDate3 );\n</code></pre>\n<p>Dump to console…</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;Dates: &quot; + localDate1 + &quot; &quot; + localDate2 + &quot; &quot; + localDate3 );\nSystem.out.println( &quot;is1After2 &quot; + is1After2 );\nSystem.out.println( &quot;is2Before3 &quot; + is2Before3 );\n</code></pre>\n<p>When run…</p>\n<pre class=\"lang-none prettyprint-override\"><code>Dates: 2010-02-22 2010-04-07 2010-12-25\nis1After2 false\nis2Before3 true\n</code></pre>\n<p>So see if the second is between the other two (exclusively, meaning not equal to either endpoint)…</p>\n<pre><code>boolean is2Between1And3 = ( ( localDate2.isAfter( localDate1 ) ) &amp;&amp; ( localDate2.isBefore( localDate3 ) ) );\n</code></pre>\n<h1>Working With Spans Of Time</h1>\n<p>If you are working with spans of time, I suggest exploring in Joda-Time the classes: <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Duration.html\" rel=\"noreferrer\">Duration</a>, <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a>, and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Period.html\" rel=\"noreferrer\">Period</a>. Methods such as <code>overlap</code> and <code>contains</code> make comparisons easy.</p>\n<p>For text representations, look at the ISO 8601 standard’s:</p>\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">duration</a><br>Format: PnYnMnDTnHnMnS<br>Example: P3Y6M4DT12H30M5S<br />(Means “three years, six months, four days, twelve hours, thirty minutes, and five seconds”)</li>\n<li><a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" rel=\"noreferrer\">interval</a><br>Format: start/end<br>Example: 2007-03-01T13:00:00Z/2008-05-11T15:30:00Z</li>\n</ul>\n<p>Joda-Time classes can work with strings in both those formats, both as input (parsing) and output (generating strings).</p>\n<p>Joda-Time performs comparisons using the <strong>Half-Open</strong> approach where the beginning of the span is <em>inclusive</em> while the ending is <em>exclusive</em>. This approach is a wise one for handling spans of time. Search StackOverflow for more info.</p>\n"},{"tags":[],"owner":{"account_id":31629,"reputation":264557,"user_id":87015,"accept_rate":94,"display_name":"Salman A"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1431674293,"creation_date":1431629823,"answer_id":30245187,"question_id":2592501,"body_markdown":"You can use [`Date.getTime()`][1] which:\r\n\r\n&gt; Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT\r\n&gt; represented by this Date object.\r\n\r\nThis means you can compare them just like numbers:\r\n\r\n    if (date1.getTime() &lt;= date.getTime() &amp;&amp; date.getTime() &lt;= date2.getTime()) {\r\n        /*\r\n         * date is between date1 and date2 (both inclusive)\r\n         */\r\n    }\r\n\r\n    /*\r\n     * when date1 = 2015-01-01 and date2 = 2015-01-10 then\r\n     * returns true for:\r\n     * 2015-01-01\r\n     * 2015-01-01 00:00:01\r\n     * 2015-01-02\r\n     * 2015-01-10\r\n     * returns false for:\r\n     * 2014-12-31 23:59:59\r\n     * 2015-01-10 00:00:01\r\n     * \r\n     * if one or both dates are exclusive then change &lt;= to &lt;\r\n     */\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()","title":"How to compare dates in Java?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\" rel=\"noreferrer\"><code>Date.getTime()</code></a> which:</p>\n\n<blockquote>\n  <p>Returns the number of milliseconds since January 1, 1970, 00:00:00 GMT\n  represented by this Date object.</p>\n</blockquote>\n\n<p>This means you can compare them just like numbers:</p>\n\n<pre><code>if (date1.getTime() &lt;= date.getTime() &amp;&amp; date.getTime() &lt;= date2.getTime()) {\n    /*\n     * date is between date1 and date2 (both inclusive)\n     */\n}\n\n/*\n * when date1 = 2015-01-01 and date2 = 2015-01-10 then\n * returns true for:\n * 2015-01-01\n * 2015-01-01 00:00:01\n * 2015-01-02\n * 2015-01-10\n * returns false for:\n * 2014-12-31 23:59:59\n * 2015-01-10 00:00:01\n * \n * if one or both dates are exclusive then change &lt;= to &lt;\n */\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8369642,"reputation":131,"user_id":6285157,"display_name":"Punithapriya"},"score":0,"creation_date":1470632117,"post_id":33693122,"comment_id":65009526,"body_markdown":"how to download these three classes","body":"how to download these three classes"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1470643701,"post_id":33693122,"comment_id":65014367,"body_markdown":"@Punithapriya These classes exists in java 8 standart library. Thus just download java 8","body":"@Punithapriya These classes exists in java 8 standart library. Thus just download java 8"},{"owner":{"account_id":8369642,"reputation":131,"user_id":6285157,"display_name":"Punithapriya"},"score":0,"creation_date":1470647615,"post_id":33693122,"comment_id":65016514,"body_markdown":"yes i have seen thanks","body":"yes i have seen thanks"}],"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1473225729,"creation_date":1447418903,"answer_id":33693122,"question_id":2592501,"body_markdown":"Update for Java 8 and later\r\n=\r\n - [`isAfter()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-)\r\n - [`isBefore()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-)\r\n - [`isEqual()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isEqual-java.time.chrono.ChronoLocalDate-)\r\n - [`compareTo()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#compareTo-java.time.chrono.ChronoLocalDate-)\r\n\r\nThese methods exists in [`LocalDate`][1], [`LocalTime`][2], and [`LocalDateTime`][3] classes. \r\n\r\nThose classes are built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use…*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to compare dates in Java?","body":"<h1>Update for Java 8 and later</h1>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isAfter-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isAfter()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isBefore()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isEqual-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isEqual()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#compareTo-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>compareTo()</code></a></li>\n</ul>\n\n<p>These methods exists in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> classes. </p>\n\n<p>Those classes are built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>).</p>\n"},{"tags":[],"owner":{"account_id":5516845,"reputation":91,"user_id":4381287,"display_name":"Garambe"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1448363613,"creation_date":1448362170,"answer_id":33891596,"question_id":2592501,"body_markdown":"Try this\r\n\t\r\n\r\n    public static boolean compareDates(String psDate1, String psDate2) throws ParseException{\r\n    \t\tSimpleDateFormat dateFormat = new SimpleDateFormat (&quot;dd/MM/yyyy&quot;);\r\n    \t\tDate date1 = dateFormat.parse(psDate1);\r\n    \t\tDate date2 = dateFormat.parse(psDate2);\r\n    \t\tif(date2.after(date1)) {\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}","title":"How to compare dates in Java?","body":"<p>Try this</p>\n\n<pre><code>public static boolean compareDates(String psDate1, String psDate2) throws ParseException{\n        SimpleDateFormat dateFormat = new SimpleDateFormat (\"dd/MM/yyyy\");\n        Date date1 = dateFormat.parse(psDate1);\n        Date date2 = dateFormat.parse(psDate2);\n        if(date2.after(date1)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1483752199,"post_id":41513054,"comment_id":70240063,"body_markdown":"Does not answer the Question. The Question involves *three* dates, not two. “How do I verify if today&#39;s date is in between date1 and date 3?” Furthermore, this calculation returns the number of 24-hour periods, not the number of calendar days elapsed. Yet another problem: This answer uses date-time values while the Question is about date-only values without time-of-day.","body":"Does not answer the Question. The Question involves <i>three</i> dates, not two. “How do I verify if today&#39;s date is in between date1 and date 3?” Furthermore, this calculation returns the number of 24-hour periods, not the number of calendar days elapsed. Yet another problem: This answer uses date-time values while the Question is about date-only values without time-of-day."}],"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483731468,"creation_date":1483731468,"answer_id":41513054,"question_id":2592501,"body_markdown":"This method worked for me:\r\n\r\n     public static String daysBetween(String day1, String day2) {\r\n        String daysBetween = &quot;&quot;;\r\n        SimpleDateFormat myFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n        try {\r\n            Date date1 = myFormat.parse(day1);\r\n            Date date2 = myFormat.parse(day2);\r\n            long diff = date2.getTime() - date1.getTime();\r\n            daysBetween = &quot;&quot;+(TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return daysBetween;\r\n    }","title":"How to compare dates in Java?","body":"<p>This method worked for me:</p>\n\n<pre><code> public static String daysBetween(String day1, String day2) {\n    String daysBetween = \"\";\n    SimpleDateFormat myFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n    try {\n        Date date1 = myFormat.parse(day1);\n        Date date2 = myFormat.parse(day2);\n        long diff = date2.getTime() - date1.getTime();\n        daysBetween = \"\"+(TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS));\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return daysBetween;\n}\n</code></pre>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181768,"favorite_count":0,"down_vote_count":1,"up_vote_count":448,"closed_date":1518074517,"accepted_answer_id":2592513,"answer_count":11,"score":447,"last_activity_date":1681808868,"creation_date":1270644516,"question_id":2592501,"body_markdown":"How do I compare dates in between in Java? \r\n\r\nExample:\r\n\r\n date1 is `22-02-2010`&lt;br /&gt;\r\n date2 is `07-04-2010` today &lt;br /&gt;\r\n date3 is `25-12-2010`\r\n\r\n`date3` is always greater than `date1` and `date2` is always today. How do I verify if today&#39;s date is in between date1 and date 3?\r\n","title":"How to compare dates in Java?","body":"<p>How do I compare dates in between in Java? </p>\n\n<p>Example:</p>\n\n<p>date1 is <code>22-02-2010</code><br />\n date2 is <code>07-04-2010</code> today <br />\n date3 is <code>25-12-2010</code></p>\n\n<p><code>date3</code> is always greater than <code>date1</code> and <code>date2</code> is always today. How do I verify if today's date is in between date1 and date 3?</p>\n"},{"tags":["java","apple-m1","minikube","mockserver"],"owner":{"account_id":3076850,"reputation":614,"user_id":2605956,"accept_rate":29,"display_name":"froy001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681808860,"creation_date":1681808198,"question_id":76042657,"body_markdown":"I am running minikube on my M1 machine i.e. arm64 arch \r\nThe minikunbe start command is:\r\n\r\n    minikube start -p foobar --kubernetes-version=v1.23.16 --container-runtime=docker --vm=true --network socker_vmnet --cpus 4 --memory 10g\r\n\r\nWhen pulling mockserver image i.e. \r\n\r\n    docker pull mockserver/mockserver:5.15.0\r\n\r\nYou can see that the result of the `pull` command and specifically the architecture which is arm64:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;Id&quot;: &quot;sha256:95de41c9a8f374c82ed7ddb5c3c239d745667a6c6ef37819d48507e8039aab68&quot;,\r\n        &quot;RepoTags&quot;: [\r\n            &quot;mockserver/mockserver:5.15.0&quot;\r\n        ],\r\n        &quot;RepoDigests&quot;: [\r\n            &quot;mockserver/mockserver@sha256:0f9ef78c94894ac3e70135d156193b25e23872575d58e2228344964273b4af6b&quot;\r\n        ],\r\n        &quot;Parent&quot;: &quot;&quot;,\r\n        &quot;Comment&quot;: &quot;buildkit.dockerfile.v0&quot;,\r\n        &quot;Created&quot;: &quot;2023-01-12T09:24:32.534016275Z&quot;,\r\n        &quot;Container&quot;: &quot;&quot;,\r\n        &quot;ContainerConfig&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: null,\r\n            &quot;Cmd&quot;: null,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;&quot;,\r\n            &quot;Entrypoint&quot;: null,\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n        &quot;DockerVersion&quot;: &quot;&quot;,\r\n        &quot;Author&quot;: &quot;James Bloom \\&quot;jamesdbloom@gmail.com\\&quot;&quot;,\r\n        &quot;Config&quot;: {\r\n            &quot;Hostname&quot;: &quot;&quot;,\r\n            &quot;Domainname&quot;: &quot;&quot;,\r\n            &quot;User&quot;: &quot;nonroot&quot;,\r\n            &quot;AttachStdin&quot;: false,\r\n            &quot;AttachStdout&quot;: false,\r\n            &quot;AttachStderr&quot;: false,\r\n            &quot;ExposedPorts&quot;: {\r\n                &quot;1080/tcp&quot;: {}\r\n            },\r\n            &quot;Tty&quot;: false,\r\n            &quot;OpenStdin&quot;: false,\r\n            &quot;StdinOnce&quot;: false,\r\n            &quot;Env&quot;: [\r\n                &quot;JAVA_VERSION=17.0.4&quot;,\r\n                &quot;LANG=C.UTF-8&quot;,\r\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\r\n                &quot;SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt&quot;,\r\n                &quot;SERVER_PORT=1080&quot;\r\n            ],\r\n            &quot;Cmd&quot;: null,\r\n            &quot;ArgsEscaped&quot;: true,\r\n            &quot;Image&quot;: &quot;&quot;,\r\n            &quot;Volumes&quot;: null,\r\n            &quot;WorkingDir&quot;: &quot;/home/nonroot&quot;,\r\n            &quot;Entrypoint&quot;: [\r\n                &quot;java&quot;,\r\n                &quot;-Dfile.encoding=UTF-8&quot;,\r\n                &quot;-cp&quot;,\r\n                &quot;/mockserver-netty-jar-with-dependencies.jar:/libs/*&quot;,\r\n                &quot;-Dmockserver.propertyFile=/config/mockserver.properties&quot;,\r\n                &quot;org.mockserver.cli.Main&quot;\r\n            ],\r\n            &quot;OnBuild&quot;: null,\r\n            &quot;Labels&quot;: null\r\n        },\r\n        &quot;Architecture&quot;: &quot;arm64&quot;,\r\n        &quot;Os&quot;: &quot;linux&quot;,\r\n        &quot;Size&quot;: 275668416,\r\n        &quot;VirtualSize&quot;: 275668416,\r\n        &quot;GraphDriver&quot;: {\r\n            &quot;Data&quot;: {\r\n                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/09023f315a1db5df781df9dcd495575e3fa5ffc869b05867b9dbdac6cc0f43d7/diff:/var/lib/docker/overlay2/c12958ff74a0d0b38d4a9078418a133896971503074d220a2b55a96ff1890cf1/diff:/var/lib/docker/overlay2/ba271473e4a6fb358e7626e548de976505a9c637a67b5d3e1f3590c3bdc779af/diff:/var/lib/docker/overlay2/c07b166a9ffcc1ee4c0d6f46887384750e467ea8c47cde14b84295b43afd77ec/diff:/var/lib/docker/overlay2/443d2ed633d45c7be4c7d317cf9d4c138a80ba3e15fc4ed6427679efc4f2c70d/diff:/var/lib/docker/overlay2/581bd89c864cd38bd32c9a42f115f4921c427804b91e870ed3e561c905557638/diff&quot;,\r\n                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/merged&quot;,\r\n                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/diff&quot;,\r\n                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/work&quot;\r\n            },\r\n            &quot;Name&quot;: &quot;overlay2&quot;\r\n        },\r\n        &quot;RootFS&quot;: {\r\n            &quot;Type&quot;: &quot;layers&quot;,\r\n            &quot;Layers&quot;: [\r\n                &quot;sha256:cb60fb9b862c6a89f92e484bc3b72bbc0352b41166df5c4a68bfb52f52504a7d&quot;,\r\n                &quot;sha256:00c562532b203116c721c11aee6fe1fe50b5e2068cee2c343c1df1050a866b3e&quot;,\r\n                &quot;sha256:e83d4114481dc897d49d5a9a8b68bf71c4f08f1a5c1adff44603c56b958fed53&quot;,\r\n                &quot;sha256:45f84957a62ddbeee272fc25653d35160f934dd8bb930bc0d30b80d1cfb7cfd3&quot;,\r\n                &quot;sha256:468a6b28e336b9ead462b8128b8d8c60e458a1facc41b5e925fca21b6718c368&quot;,\r\n                &quot;sha256:f753c3e5f9d750c2e2b830fcb428451aa734456474d25fba225041ed34c29f05&quot;,\r\n                &quot;sha256:bccdbe648bac42eb712b7623e7134b1ff1cb0be076d19174482e80d71f664949&quot;\r\n            ]\r\n        },\r\n        &quot;Metadata&quot;: {\r\n            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nwhen running : `docker run -d --rm --platform linux/arm64 -P mockserver/mockserver:5.15.0`. I am getting the same java error expected from the incompatibility of amd64 images running on arm64 machines i.e.\r\n\r\n    exec /usr/bin/java: exec format error\r\n\r\nI am not sure what the issue is and I can&#39;t find anything wrong with the image and arch type. \r\n\r\nCan you? ","title":"Mockserver is crushing when running on minikube docker M1","body":"<p>I am running minikube on my M1 machine i.e. arm64 arch\nThe minikunbe start command is:</p>\n<pre><code>minikube start -p foobar --kubernetes-version=v1.23.16 --container-runtime=docker --vm=true --network socker_vmnet --cpus 4 --memory 10g\n</code></pre>\n<p>When pulling mockserver image i.e.</p>\n<pre><code>docker pull mockserver/mockserver:5.15.0\n</code></pre>\n<p>You can see that the result of the <code>pull</code> command and specifically the architecture which is arm64:</p>\n<pre><code>[\n    {\n        &quot;Id&quot;: &quot;sha256:95de41c9a8f374c82ed7ddb5c3c239d745667a6c6ef37819d48507e8039aab68&quot;,\n        &quot;RepoTags&quot;: [\n            &quot;mockserver/mockserver:5.15.0&quot;\n        ],\n        &quot;RepoDigests&quot;: [\n            &quot;mockserver/mockserver@sha256:0f9ef78c94894ac3e70135d156193b25e23872575d58e2228344964273b4af6b&quot;\n        ],\n        &quot;Parent&quot;: &quot;&quot;,\n        &quot;Comment&quot;: &quot;buildkit.dockerfile.v0&quot;,\n        &quot;Created&quot;: &quot;2023-01-12T09:24:32.534016275Z&quot;,\n        &quot;Container&quot;: &quot;&quot;,\n        &quot;ContainerConfig&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: null,\n            &quot;Cmd&quot;: null,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;&quot;,\n            &quot;Entrypoint&quot;: null,\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n        &quot;DockerVersion&quot;: &quot;&quot;,\n        &quot;Author&quot;: &quot;James Bloom \\&quot;jamesdbloom@gmail.com\\&quot;&quot;,\n        &quot;Config&quot;: {\n            &quot;Hostname&quot;: &quot;&quot;,\n            &quot;Domainname&quot;: &quot;&quot;,\n            &quot;User&quot;: &quot;nonroot&quot;,\n            &quot;AttachStdin&quot;: false,\n            &quot;AttachStdout&quot;: false,\n            &quot;AttachStderr&quot;: false,\n            &quot;ExposedPorts&quot;: {\n                &quot;1080/tcp&quot;: {}\n            },\n            &quot;Tty&quot;: false,\n            &quot;OpenStdin&quot;: false,\n            &quot;StdinOnce&quot;: false,\n            &quot;Env&quot;: [\n                &quot;JAVA_VERSION=17.0.4&quot;,\n                &quot;LANG=C.UTF-8&quot;,\n                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;,\n                &quot;SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt&quot;,\n                &quot;SERVER_PORT=1080&quot;\n            ],\n            &quot;Cmd&quot;: null,\n            &quot;ArgsEscaped&quot;: true,\n            &quot;Image&quot;: &quot;&quot;,\n            &quot;Volumes&quot;: null,\n            &quot;WorkingDir&quot;: &quot;/home/nonroot&quot;,\n            &quot;Entrypoint&quot;: [\n                &quot;java&quot;,\n                &quot;-Dfile.encoding=UTF-8&quot;,\n                &quot;-cp&quot;,\n                &quot;/mockserver-netty-jar-with-dependencies.jar:/libs/*&quot;,\n                &quot;-Dmockserver.propertyFile=/config/mockserver.properties&quot;,\n                &quot;org.mockserver.cli.Main&quot;\n            ],\n            &quot;OnBuild&quot;: null,\n            &quot;Labels&quot;: null\n        },\n        &quot;Architecture&quot;: &quot;arm64&quot;,\n        &quot;Os&quot;: &quot;linux&quot;,\n        &quot;Size&quot;: 275668416,\n        &quot;VirtualSize&quot;: 275668416,\n        &quot;GraphDriver&quot;: {\n            &quot;Data&quot;: {\n                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/09023f315a1db5df781df9dcd495575e3fa5ffc869b05867b9dbdac6cc0f43d7/diff:/var/lib/docker/overlay2/c12958ff74a0d0b38d4a9078418a133896971503074d220a2b55a96ff1890cf1/diff:/var/lib/docker/overlay2/ba271473e4a6fb358e7626e548de976505a9c637a67b5d3e1f3590c3bdc779af/diff:/var/lib/docker/overlay2/c07b166a9ffcc1ee4c0d6f46887384750e467ea8c47cde14b84295b43afd77ec/diff:/var/lib/docker/overlay2/443d2ed633d45c7be4c7d317cf9d4c138a80ba3e15fc4ed6427679efc4f2c70d/diff:/var/lib/docker/overlay2/581bd89c864cd38bd32c9a42f115f4921c427804b91e870ed3e561c905557638/diff&quot;,\n                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/merged&quot;,\n                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/diff&quot;,\n                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/1b978f0a0fd1f88dc3afb29152ffec3be06243dde3063f5bb3e51b11c4551881/work&quot;\n            },\n            &quot;Name&quot;: &quot;overlay2&quot;\n        },\n        &quot;RootFS&quot;: {\n            &quot;Type&quot;: &quot;layers&quot;,\n            &quot;Layers&quot;: [\n                &quot;sha256:cb60fb9b862c6a89f92e484bc3b72bbc0352b41166df5c4a68bfb52f52504a7d&quot;,\n                &quot;sha256:00c562532b203116c721c11aee6fe1fe50b5e2068cee2c343c1df1050a866b3e&quot;,\n                &quot;sha256:e83d4114481dc897d49d5a9a8b68bf71c4f08f1a5c1adff44603c56b958fed53&quot;,\n                &quot;sha256:45f84957a62ddbeee272fc25653d35160f934dd8bb930bc0d30b80d1cfb7cfd3&quot;,\n                &quot;sha256:468a6b28e336b9ead462b8128b8d8c60e458a1facc41b5e925fca21b6718c368&quot;,\n                &quot;sha256:f753c3e5f9d750c2e2b830fcb428451aa734456474d25fba225041ed34c29f05&quot;,\n                &quot;sha256:bccdbe648bac42eb712b7623e7134b1ff1cb0be076d19174482e80d71f664949&quot;\n            ]\n        },\n        &quot;Metadata&quot;: {\n            &quot;LastTagTime&quot;: &quot;0001-01-01T00:00:00Z&quot;\n        }\n    }\n]\n</code></pre>\n<p>when running : <code>docker run -d --rm --platform linux/arm64 -P mockserver/mockserver:5.15.0</code>. I am getting the same java error expected from the incompatibility of amd64 images running on arm64 machines i.e.</p>\n<pre><code>exec /usr/bin/java: exec format error\n</code></pre>\n<p>I am not sure what the issue is and I can't find anything wrong with the image and arch type.</p>\n<p>Can you?</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1681749284,"post_id":76037322,"comment_id":134103556,"body_markdown":"What&#39;s the year?","body":"What&#39;s the year?"},{"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"score":1,"creation_date":1681750545,"post_id":76037322,"comment_id":134103863,"body_markdown":"@aled oops! Can I set it to a default year?","body":"@aled oops! Can I set it to a default year?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1681785106,"post_id":76037322,"comment_id":134109314,"body_markdown":"Edit the Question&#39;s title and body to make clear that you are asking for how to set a default year in the formatter.","body":"Edit the Question&#39;s title and body to make clear that you are asking for how to set a default year in the formatter."}],"answers":[{"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1681753492,"post_id":76037699,"comment_id":134104599,"body_markdown":"Sorry, my mistake. It should be `ChronoField`.","body":"Sorry, my mistake. It should be <code>ChronoField</code>."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681753770,"creation_date":1681752035,"answer_id":76037699,"question_id":76037322,"body_markdown":"The issue is that the construction of a `LocalDateTime` requires a *year* to be present, but your time string does not.\r\n\r\nYou can instruct the `DateTimeFormatterBuilder` to default to some value if some element is absent, using `parseDefaulting`.\r\n\r\n```java\r\nDateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\r\n    .parseDefaulting(ChronoField.YEAR, 2023)\r\n    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\r\n    .toFormatter()\r\n    .withLocale(Locale.US);\r\n```","title":"Unable to parse custom Java date: Can I set it to a default year?","body":"<p>The issue is that the construction of a <code>LocalDateTime</code> requires a <em>year</em> to be present, but your time string does not.</p>\n<p>You can instruct the <code>DateTimeFormatterBuilder</code> to default to some value if some element is absent, using <code>parseDefaulting</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\n    .parseDefaulting(ChronoField.YEAR, 2023)\n    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\n    .toFormatter()\n    .withLocale(Locale.US);\n</code></pre>\n"}],"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76037699,"answer_count":1,"score":2,"last_activity_date":1681808528,"creation_date":1681749021,"question_id":76037322,"body_markdown":"    DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\r\n                        .appendPattern(&quot;h:mm a z - d MMMM&quot;)\r\n                        .toFormatter()\r\n                        .withLocale(Locale.US);\r\n    \r\n                String test = &quot;7:00 PM EST - 14 April&quot;;\r\n    LocalDateTime date2 = LocalDateTime.parse(test, formatter2);\r\n\r\nIt throws this exception\r\n\r\n&gt; java.time.format.DateTimeParseException: Text &#39;7:00 PM EST - 14 April&#39;\r\n&gt; could not be parsed: Unable to obtain LocalDateTime from\r\n&gt; TemporalAccessor: {DayOfMonth=14, MonthOfYear=4},ISO,America/New_York\r\n&gt; resolved to 19:00 of type java.time.format.Parsed\r\n\r\nBut you can see that it correctly parsed out all the components. What&#39;s the issue?","title":"Unable to parse custom Java date: Can I set it to a default year?","body":"<pre><code>DateTimeFormatter formatter2 = new DateTimeFormatterBuilder()\n                    .appendPattern(&quot;h:mm a z - d MMMM&quot;)\n                    .toFormatter()\n                    .withLocale(Locale.US);\n\n            String test = &quot;7:00 PM EST - 14 April&quot;;\nLocalDateTime date2 = LocalDateTime.parse(test, formatter2);\n</code></pre>\n<p>It throws this exception</p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '7:00 PM EST - 14 April'\ncould not be parsed: Unable to obtain LocalDateTime from\nTemporalAccessor: {DayOfMonth=14, MonthOfYear=4},ISO,America/New_York\nresolved to 19:00 of type java.time.format.Parsed</p>\n</blockquote>\n<p>But you can see that it correctly parsed out all the components. What's the issue?</p>\n"},{"tags":["java","kotlin","gradle","groovy"],"owner":{"account_id":7964582,"reputation":3705,"user_id":6011193,"accept_rate":32,"display_name":"chikadance"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681808201,"answer_count":0,"score":0,"last_activity_date":1681808070,"creation_date":1681808070,"question_id":76042635,"body_markdown":"following is my build.gradle\r\n\r\n    compileGroovy.dependsOn -= compileJava\r\n    \r\n    compileKotlin {\r\n        dependsOn compileGroovy\r\n    }\r\n\r\nit raise err\r\n\r\n    Circular dependency between the following tasks:\r\n    :compileGroovy\r\n    \\--- :compileJava\r\n         \\--- :compileKotlin\r\n              \\--- :compileGroovy (*)\r\n\r\nbut debug compileGroovy.dependsOn in idea, the dependsOn is empty\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPCQ9.png\r\n\r\nI&#39;s confused, how to fix above Circular dependency and make first run compileGroovy and then run compileKotlin","title":"How to make compileGroovy run before compileKotlin","body":"<p>following is my build.gradle</p>\n<pre><code>compileGroovy.dependsOn -= compileJava\n\ncompileKotlin {\n    dependsOn compileGroovy\n}\n</code></pre>\n<p>it raise err</p>\n<pre><code>Circular dependency between the following tasks:\n:compileGroovy\n\\--- :compileJava\n     \\--- :compileKotlin\n          \\--- :compileGroovy (*)\n</code></pre>\n<p>but debug compileGroovy.dependsOn in idea, the dependsOn is empty</p>\n<p><a href=\"https://i.stack.imgur.com/kPCQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPCQ9.png\" alt=\"enter image description here\" /></a></p>\n<p>I's confused, how to fix above Circular dependency and make first run compileGroovy and then run compileKotlin</p>\n"},{"tags":["java","swingworker","graphing"],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681807765,"creation_date":1681807765,"answer_id":76042592,"question_id":30598896,"body_markdown":"A few things:\r\n\r\n* `SwingWorker.done()` is executed on the EDT, using `SwingUtilities.invokeLater` there isn&#39;t necessary\r\n* Triggering the SwingWorker from the `paintComponent()` method isn&#39;t a good idea as it may do more computations than necessary. You should rather execute the SwingWorker when the state changes, and just let `paintComponent()` draw the data that were last computed.\r\n* Holding a reference to the component Graphics2D object at the class level is dubious, there is no garantee the instance will be the same between two `paintComponent()` calls, so you may end up drawing on the wrong graphic context.\r\n* If the rendering time is important, even once the computations are done, you should consider drawing to an off screen image first.\r\n","title":"Graphics and SwingWorker","body":"<p>A few things:</p>\n<ul>\n<li><code>SwingWorker.done()</code> is executed on the EDT, using <code>SwingUtilities.invokeLater</code> there isn't necessary</li>\n<li>Triggering the SwingWorker from the <code>paintComponent()</code> method isn't a good idea as it may do more computations than necessary. You should rather execute the SwingWorker when the state changes, and just let <code>paintComponent()</code> draw the data that were last computed.</li>\n<li>Holding a reference to the component Graphics2D object at the class level is dubious, there is no garantee the instance will be the same between two <code>paintComponent()</code> calls, so you may end up drawing on the wrong graphic context.</li>\n<li>If the rendering time is important, even once the computations are done, you should consider drawing to an off screen image first.</li>\n</ul>\n"}],"owner":{"account_id":6065016,"reputation":133,"user_id":4735630,"accept_rate":78,"display_name":"San Mor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681807765,"creation_date":1433255205,"question_id":30598896,"body_markdown":"I&#39;m trying to paint a dynamic graph that has a few thousand points. I&#39;m using SwingWorker class that gets the Graphics object as an argument. I initialize the graphics object in the constructor of the SwingWorker class and then call the main graphing function doGraph() in the done() method i.e, after all the calculations are done. I&#39;m having issues with painting, not sure what is going on. The code works if I call doGraph() from the constructor of the SwingWorker class but not when I place it in done().\r\n\r\nAny help is greatly appreciated. I have simplified the code for ease of understanding. I`m just trying to paint a rectangle in the doGraph() for simplicity.\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.RenderingHints.Key;\r\n\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class UIGraph extends JPanel {\r\n\r\n\tprivate double minX, maxX;\r\n\tprivate double minY, maxY;\r\n\tprivate SWPaint swPaint; //Swing Worker object\r\n\tprivate Graphics2D g2D;\r\n\tpublic Key key = RenderingHints.KEY_ANTIALIASING;\r\n\tpublic Object obj = RenderingHints.VALUE_ANTIALIAS_ON;\r\n\tprivate int labelPadding = 25;\r\n\tprivate int padding = 25;\r\n\tprivate int padConst = (2 * padding) - labelPadding;\r\n\tprivate double xScale;\r\n\tprivate double yScale;\r\n\r\n\t/**\r\n\t * Crate Panel\r\n\t */\r\n\tprivate void createUI() {\r\n\t\tsetBackground(new Color(245, 255, 250));\r\n\t\tsetLayout(new BorderLayout(0, 0));\r\n\t}\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * \r\n\t */\r\n\tpublic UIGraph() {\r\n\t\tcreateUI();\r\n\t\tgetMinMax();\r\n\t}\r\n\r\n\t/**\r\n\t * Paint Component. Do all the calculations and graphing\r\n\t */\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tif (swPaint != null) {\r\n\t\t\tif (!swPaint.isDone()) { // The swing worker is busy with tasks. Set Visibility to false and return.\r\n\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tswPaint = new SWPaint(g);  //Create a swing worker class, pass graphics object as argument\r\n\t\tswPaint.execute();\r\n\t    }\r\n    }\r\n\r\n\t/**\r\n\t * Get the Min and Max values of Data\r\n\t */\r\n\tprivate void getMinMax() {\r\n      //obtain min and max values\r\n\t}\r\n\r\n\r\n\t\r\n\t/**\r\n\t * Main method for graphing\r\n\t * \r\n\t * @param g2D \r\n\t */\r\n\tprivate void doGraph() {\r\n\t\txScale = (double) (getWidth() - padConst) / (maxX - minX);\r\n\t\tyScale = (double) (getHeight() - padConst) / (maxY - minY);\r\n\r\n\t\tg2D.setColor(Color.WHITE);\r\n\t\tg2D.fillRect(padding + labelPadding, padding, getWidth() - (2 * padding) - labelPadding, getHeight() - 2 * padding\r\n\t\t\t\t- labelPadding);\r\n\t\tg2D.setColor(Color.BLACK);\r\n\t}\r\n\r\n\t/**\r\n\t * Swing Worker to handle Paint\r\n\t *\r\n\t */\r\n\tpublic class SWPaint extends SwingWorker&lt;Void, Void&gt; {\r\n\r\n\t\t/**\r\n\t\t * Constructor\r\n\t\t * \r\n\t\t * @param g\r\n\t\t */\r\n\t\tpublic SWPaint(Graphics g) {\r\n\t\t\tg2D = (Graphics2D) g;\r\n\t\t\tg2D.setRenderingHint(key, obj);\r\n\r\n           //doGraph() //This works\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Do graphing calculations here\r\n\t\t */\r\n\t\t@Override\r\n\t\tprotected Void doInBackground() throws Exception {\r\n\t\t\t// do all calculations here\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * The SW is done. Paint the graph. Set Visibility to true\r\n\t\t */\r\n\t\tprotected void done() {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tdoGraph();  //This doesn`t work here.\r\n\t\t\t\t\tsetVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t  }\r\n    }\r\n","title":"Graphics and SwingWorker","body":"<p>I'm trying to paint a dynamic graph that has a few thousand points. I'm using SwingWorker class that gets the Graphics object as an argument. I initialize the graphics object in the constructor of the SwingWorker class and then call the main graphing function doGraph() in the done() method i.e, after all the calculations are done. I'm having issues with painting, not sure what is going on. The code works if I call doGraph() from the constructor of the SwingWorker class but not when I place it in done().</p>\n\n<p>Any help is greatly appreciated. I have simplified the code for ease of understanding. I`m just trying to paint a rectangle in the doGraph() for simplicity.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.RenderingHints.Key;\n\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\n\n@SuppressWarnings(\"serial\")\npublic class UIGraph extends JPanel {\n\nprivate double minX, maxX;\nprivate double minY, maxY;\nprivate SWPaint swPaint; //Swing Worker object\nprivate Graphics2D g2D;\npublic Key key = RenderingHints.KEY_ANTIALIASING;\npublic Object obj = RenderingHints.VALUE_ANTIALIAS_ON;\nprivate int labelPadding = 25;\nprivate int padding = 25;\nprivate int padConst = (2 * padding) - labelPadding;\nprivate double xScale;\nprivate double yScale;\n\n/**\n * Crate Panel\n */\nprivate void createUI() {\n    setBackground(new Color(245, 255, 250));\n    setLayout(new BorderLayout(0, 0));\n}\n\n/**\n * Constructor\n * \n */\npublic UIGraph() {\n    createUI();\n    getMinMax();\n}\n\n/**\n * Paint Component. Do all the calculations and graphing\n */\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n\n    if (swPaint != null) {\n        if (!swPaint.isDone()) { // The swing worker is busy with tasks. Set Visibility to false and return.\n            SwingUtilities.invokeLater(new Runnable() {\n                public void run() {\n                    setVisible(false);\n                }\n            });\n            return;\n        }\n    }\n\n    swPaint = new SWPaint(g);  //Create a swing worker class, pass graphics object as argument\n    swPaint.execute();\n    }\n}\n\n/**\n * Get the Min and Max values of Data\n */\nprivate void getMinMax() {\n  //obtain min and max values\n}\n\n\n\n/**\n * Main method for graphing\n * \n * @param g2D \n */\nprivate void doGraph() {\n    xScale = (double) (getWidth() - padConst) / (maxX - minX);\n    yScale = (double) (getHeight() - padConst) / (maxY - minY);\n\n    g2D.setColor(Color.WHITE);\n    g2D.fillRect(padding + labelPadding, padding, getWidth() - (2 * padding) - labelPadding, getHeight() - 2 * padding\n            - labelPadding);\n    g2D.setColor(Color.BLACK);\n}\n\n/**\n * Swing Worker to handle Paint\n *\n */\npublic class SWPaint extends SwingWorker&lt;Void, Void&gt; {\n\n    /**\n     * Constructor\n     * \n     * @param g\n     */\n    public SWPaint(Graphics g) {\n        g2D = (Graphics2D) g;\n        g2D.setRenderingHint(key, obj);\n\n       //doGraph() //This works\n    }\n\n    /**\n     * Do graphing calculations here\n     */\n    @Override\n    protected Void doInBackground() throws Exception {\n        // do all calculations here\n        return null;\n    }\n\n    /*\n     * The SW is done. Paint the graph. Set Visibility to true\n     */\n    protected void done() {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                doGraph();  //This doesn`t work here.\n                setVisible(true);\n            }\n        });\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","gradle","upgrade","java-11","modelmapper"],"comments":[{"owner":{"account_id":18770784,"reputation":177,"user_id":13687639,"display_name":"MoKi"},"score":0,"creation_date":1681218347,"post_id":75986143,"comment_id":134018090,"body_markdown":"did you check all the dependencies?","body":"did you check all the dependencies?"},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1681218493,"post_id":75986143,"comment_id":134018141,"body_markdown":"All dependencies have been updated","body":"All dependencies have been updated"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1681218897,"post_id":75986143,"comment_id":134018272,"body_markdown":"If it works locally, but fails at the server level, I suggest you take a look at your active JDK on the server level.  There must be a difference between your local setup vs server.","body":"If it works locally, but fails at the server level, I suggest you take a look at your active JDK on the server level.  There must be a difference between your local setup vs server."},{"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"score":0,"creation_date":1681220649,"post_id":75986143,"comment_id":134018854,"body_markdown":"JDK on server is also jdk11\n$ java -version\nopenjdk version &quot;11.0.7&quot; 2020-04-14 LTS\nOpenJDK Runtime Environment Zulu11.39+15-CA (build 11.0.7+10-LTS)\nOpenJDK 64-Bit Server VM Zulu11.39+15-CA (build 11.0.7+10-LTS, mixed mode)","body":"JDK on server is also jdk11 $ java -version openjdk version &quot;11.0.7&quot; 2020-04-14 LTS OpenJDK Runtime Environment Zulu11.39+15-CA (build 11.0.7+10-LTS) OpenJDK 64-Bit Server VM Zulu11.39+15-CA (build 11.0.7+10-LTS, mixed mode)"},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":1,"creation_date":1681223139,"post_id":75986143,"comment_id":134019632,"body_markdown":"Suggest reading, all answers here and comments as well, https://stackoverflow.com/questions/37916165/spring-modelmapper-error-mapping-already-exists-for-controller, Also Check if null check helps as mentioned","body":"Suggest reading, all answers here and comments as well, <a href=\"https://stackoverflow.com/questions/37916165/spring-modelmapper-error-mapping-already-exists-for-controller\" title=\"spring modelmapper error mapping already exists for controller\">stackoverflow.com/questions/37916165/&hellip;</a>, Also Check if null check helps as mentioned"},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":0,"creation_date":1681224225,"post_id":75986143,"comment_id":134019932,"body_markdown":"Also your question says errors exist, But what are the errors that are causing exception?, could you post the full stack trace, If that shows!!","body":"Also your question says errors exist, But what are the errors that are causing exception?, could you post the full stack trace, If that shows!!"}],"answers":[{"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1681492241,"post_id":76009057,"comment_id":134070750,"body_markdown":"But why did that work locally then?   Does not make sense","body":"But why did that work locally then?   Does not make sense"}],"tags":[],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681807740,"creation_date":1681413287,"answer_id":76009057,"question_id":75986143,"body_markdown":"The error was resolved by upgrading the version of the `org.springframework.boot` dependency from `2.2.4.RELEASE` to `2.2.11.RELEASE`, which also updated the version of the `spring.data.mongodb.core` dependency.\r\n\r\nThis update fixed the issue with model mapping, which was caused by the previous version of the `spring.data.mongodb.core` dependency.","title":"After upgrading jdk version 8 to 11. And updating the model mapper plugin to 2.3.9, still facing model mapper Exception","body":"<p>The error was resolved by upgrading the version of the <code>org.springframework.boot</code> dependency from <code>2.2.4.RELEASE</code> to <code>2.2.11.RELEASE</code>, which also updated the version of the <code>spring.data.mongodb.core</code> dependency.</p>\n<p>This update fixed the issue with model mapping, which was caused by the previous version of the <code>spring.data.mongodb.core</code> dependency.</p>\n"}],"owner":{"account_id":28196096,"reputation":11,"user_id":21550705,"display_name":"hemanth reddy m"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681807740,"creation_date":1681217687,"question_id":75986143,"body_markdown":"&gt;     Exception Message: org.modelmapper.MappingException: ModelMapper mapping errors:1) Error mapping\r\n&gt;      \tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\r\n&gt;     \tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:81)\r\n&gt;       at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\n&gt;       at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\n&gt;       at rest.translator.impl.MongoDbDocumentTranslatorImpl.toResponse(MongoDbDocumentTranslatorImpl.java:214)\r\n&gt;       at rest.translator.impl.MongoDbDocumentTranslatorImpl.translate(MongoDbDocumentTranslatorImpl.java:200)\r\n&gt;       at rest.translator.impl.UserInformationTranslatorImpl.translate(UserInformationTranslatorImpl.java:38)\r\n&gt;       at rest.controller.UserController.lambda$getAll$1(UserController.java:106)\r\n&gt;       at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n&gt;       at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\r\n&gt;       at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)...\r\n\r\nI tried updating the model mapper plugin.It does not work.\r\n\r\nIn Local, the `getAll` endpoint seems to be working.  \r\nAt environment server level, fails with a model mapper exception.\r\n\r\nThese are the following dependencies:\r\n\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        compile &#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.1.0.M4&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-log4j2&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-resource-server&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-jose&#39;\r\n        compile &#39;org.springframework.security:spring-security-config&#39;\r\n        compile &#39;org.springframework.retry:spring-retry&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        }\r\n        compile &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    \r\n        compile &#39;com.nimbusds:oauth2-oidc-sdk:7.1.1&#39;\r\n    \r\n        compile &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n        compile &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n        compile &#39;io.springfox:springfox-bean-validators:2.9.2&#39;\r\n        compile &quot;gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.22.1&quot;\r\n        compile &quot;gradle.plugin.com.github.sherter.google-java-format:google-java-format-gradle-plugin:0.8&quot;\r\n        compile &#39;org.apache.commons:commons-lang3:3.0&#39;\r\n        compile &#39;commons-io:commons-io:2.6&#39;\r\n        compile &#39;org.aspectj:aspectjweaver&#39;\r\n        compile &#39;org.modelmapper:modelmapper:2.3.9&#39;\r\n        compile &#39;com.amazonaws:aws-java-sdk-s3:1.11.797&#39;\r\n        compile &#39;com.amazonaws:aws-java-sdk-core:1.11.797&#39;\r\n        compile &#39;org.assertj:assertj-core:3.6.2&#39;\r\n        runtime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n        testCompile &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testCompile &#39;org.springframework.security:spring-security-test&#39;\r\n        testCompile &#39;org.springframework.restdocs:spring-restdocs-mockmvc&#39;\r\n        testCompile &#39;de.bwaldvogel:mongo-java-server:1.16.0&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.3.1&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.3.1&#39;\r\n        testCompile group: &#39;io.findify&#39;, name: &#39;s3mock_2.12&#39;, version: &#39;0.2.6&#39;\r\n        compile &#39;io.cucumber:cucumber-java:4.5.3&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-mail&#39;, version: &#39;2.4.2&#39;\r\n        compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n        // jdk 11 migration dependencies\r\n        implementation &quot;javax.xml.bind:jaxb-api:2.3.1&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0.1&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.1&quot;\r\n        implementation &quot;com.sun.activation:javax.activation:1.2.0&quot;\r\n        implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n        compile group: &#39;org.ow2.asm&#39;, name: &#39;asm&#39;, version: &#39;7.1&#39;\r\n        testCompile(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\r\n        implementation &#39;org.springframework.boot:spring-boot-test&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-test-autoconfigure&#39;\r\n        // end of jdk 11 migration dependencies\r\n    }\r\n\r\nmodelmapper 2.4.0 also results in same exception.\r\n\r\nWhat is the possible fix!!?","title":"After upgrading jdk version 8 to 11. And updating the model mapper plugin to 2.3.9, still facing model mapper Exception","body":"<blockquote>\n<pre><code>Exception Message: org.modelmapper.MappingException: ModelMapper mapping errors:1) Error mapping\n  at org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\n  at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:81)\n  at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\n  at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\n  at rest.translator.impl.MongoDbDocumentTranslatorImpl.toResponse(MongoDbDocumentTranslatorImpl.java:214)\n  at rest.translator.impl.MongoDbDocumentTranslatorImpl.translate(MongoDbDocumentTranslatorImpl.java:200)\n  at rest.translator.impl.UserInformationTranslatorImpl.translate(UserInformationTranslatorImpl.java:38)\n  at rest.controller.UserController.lambda$getAll$1(UserController.java:106)\n  at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n  at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\n  at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)...\n</code></pre>\n</blockquote>\n<p>I tried updating the model mapper plugin.It does not work.</p>\n<p>In Local, the <code>getAll</code> endpoint seems to be working.<br />\nAt environment server level, fails with a model mapper exception.</p>\n<p>These are the following dependencies:</p>\n<pre><code>dependencies {\n    compile 'org.springframework.boot:spring-boot-starter-actuator'\n    compile 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    compile 'org.springframework.boot:spring-boot-starter-security'\n    compile 'org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.1.0.M4'\n    compile 'org.springframework.boot:spring-boot-starter-log4j2'\n    compile 'org.springframework.security:spring-security-oauth2-resource-server'\n    compile 'org.springframework.security:spring-security-oauth2-jose'\n    compile 'org.springframework.security:spring-security-config'\n    compile 'org.springframework.retry:spring-retry'\n    compile 'org.springframework.boot:spring-boot-starter-cache'\n    compile 'org.springframework.boot:spring-boot-starter-data-redis'\n    compile('org.springframework.boot:spring-boot-starter-web') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n    compile 'io.micrometer:micrometer-registry-prometheus'\n\n    compile 'com.nimbusds:oauth2-oidc-sdk:7.1.1'\n\n    compile 'io.springfox:springfox-swagger2:2.9.2'\n    compile 'io.springfox:springfox-swagger-ui:2.9.2'\n    compile 'io.springfox:springfox-bean-validators:2.9.2'\n    compile &quot;gradle.plugin.com.palantir.gradle.docker:gradle-docker:0.22.1&quot;\n    compile &quot;gradle.plugin.com.github.sherter.google-java-format:google-java-format-gradle-plugin:0.8&quot;\n    compile 'org.apache.commons:commons-lang3:3.0'\n    compile 'commons-io:commons-io:2.6'\n    compile 'org.aspectj:aspectjweaver'\n    compile 'org.modelmapper:modelmapper:2.3.9'\n    compile 'com.amazonaws:aws-java-sdk-s3:1.11.797'\n    compile 'com.amazonaws:aws-java-sdk-core:1.11.797'\n    compile 'org.assertj:assertj-core:3.6.2'\n    runtime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testCompile 'org.springframework.boot:spring-boot-starter-test'\n    testCompile 'org.springframework.security:spring-security-test'\n    testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc'\n    testCompile 'de.bwaldvogel:mongo-java-server:1.16.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.1'\n    testCompile group: 'io.findify', name: 's3mock_2.12', version: '0.2.6'\n    compile 'io.cucumber:cucumber-java:4.5.3'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-mail', version: '2.4.2'\n    compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n    // jdk 11 migration dependencies\n    implementation &quot;javax.xml.bind:jaxb-api:2.3.1&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-core:2.3.0.1&quot;\n    implementation &quot;com.sun.xml.bind:jaxb-impl:2.3.1&quot;\n    implementation &quot;com.sun.activation:javax.activation:1.2.0&quot;\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\n    compile group: 'org.ow2.asm', name: 'asm', version: '7.1'\n    testCompile(&quot;javax.xml.ws:jaxws-api:2.3.1&quot;)\n    implementation 'org.springframework.boot:spring-boot-test'\n    implementation 'org.springframework.boot:spring-boot-test-autoconfigure'\n    // end of jdk 11 migration dependencies\n}\n</code></pre>\n<p>modelmapper 2.4.0 also results in same exception.</p>\n<p>What is the possible fix!!?</p>\n"},{"tags":["java","maven","hygiene"],"owner":{"account_id":22314095,"reputation":11,"user_id":16537701,"display_name":"Praveen Mathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681807482,"creation_date":1681804205,"question_id":76042045,"body_markdown":"While running `mvn clean install` in hygieia/API\r\n\r\n```\r\n[ERROR] Errors: [ERROR] MonitorProxyConfigTest.testProxy_PROXY_DIRECT:122-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP:78-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP_lowercase:100-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_SOCKS:144-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_empty:175-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_null:219-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_whitespace:197-&gt;assertAuthenticator:370 &#187; InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] ServiceServiceTest.update:93 &#187; NullPointer\r\n```\r\n\r\n After running `mvn clean install` in hygieia API folder I need to get API.jar file but it is showing error.","title":"Getting error while running mvn clean install in hygieia/API","body":"<p>While running <code>mvn clean install</code> in hygieia/API</p>\n<pre><code>[ERROR] Errors: [ERROR] MonitorProxyConfigTest.testProxy_PROXY_DIRECT:122-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP:78-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_HTTP_lowercase:100-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_SOCKS:144-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_empty:175-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_null:219-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] MonitorProxyConfigTest.testProxy_PROXY_whitespace:197-&gt;assertAuthenticator:370 » InaccessibleObject Unable to make field private static volatile java.net.Authenticator java.net.Authenticator.theAuthenticator accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7bfcd12c [ERROR] ServiceServiceTest.update:93 » NullPointer\n</code></pre>\n<p>After running <code>mvn clean install</code> in hygieia API folder I need to get API.jar file but it is showing error.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":389084,"reputation":111,"user_id":748348,"display_name":"Johan P"},"score":0,"creation_date":1675178872,"post_id":75298586,"comment_id":132870328,"body_markdown":"Both links concern iText5, I presume you are using itext7?","body":"Both links concern iText5, I presume you are using itext7?"},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1675609173,"post_id":75298586,"comment_id":132961815,"body_markdown":"I use 5.5.13.1 from the maven repo https://mvnrepository.com/artifact/com.itextpdf/itextpdf.","body":"I use 5.5.13.1 from the maven repo <a href=\"https://mvnrepository.com/artifact/com.itextpdf/itextpdf\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/itextpdf</a>."},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1675609750,"post_id":75298586,"comment_id":132961947,"body_markdown":"How to use a custom TTF? I&#39;ve tried this\nhttps://stackoverflow.com/questions/6922959/how-to-add-new-fonts-to-itext-using-java\nIt wrotes: \nThe method createFont(PRIndirectReference) in the type BaseFont is not applicable for the arguments (String, String)","body":"How to use a custom TTF? I&#39;ve tried this <a href=\"https://stackoverflow.com/questions/6922959/how-to-add-new-fonts-to-itext-using-java\" title=\"how to add new fonts to itext using java\">stackoverflow.com/questions/6922959/&hellip;</a> It wrotes:  The method createFont(PRIndirectReference) in the type BaseFont is not applicable for the arguments (String, String)"},{"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"score":0,"creation_date":1680199570,"post_id":75298586,"comment_id":133861949,"body_markdown":"I changed to itext 7, but still can&#39;t solve the problem.","body":"I changed to itext 7, but still can&#39;t solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680201097,"creation_date":1680201097,"answer_id":75891789,"question_id":75298586,"body_markdown":"I finally made it.\r\nI don&#39;t know why, but UTF-8 is not working with ő, Ő, ű, Ű characters, but CP1250 does.\r\n\r\n```\r\n    PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.CP1250, true);\r\n```","title":"How to place foreign characters to a PDF in itextpdf like &#39;ő&#39; or &#39;ű&#39;?","body":"<p>I finally made it.\nI don't know why, but UTF-8 is not working with ő, Ő, ű, Ű characters, but CP1250 does.</p>\n<pre><code>    PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.CP1250, true);\n</code></pre>\n"}],"owner":{"account_id":6129872,"reputation":1,"user_id":4780476,"display_name":"Fabio M&#225;ndity"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681807248,"creation_date":1675175009,"question_id":75298586,"body_markdown":"I have a function to place my text in the document into something like a table.\r\n\r\n    \tprivate static void addCenteredParagraph(Document document, float width, String text) {\r\n    \tPdfFont timesNewRomanBold = null;\r\n    \ttry {\r\n    \ttimesNewRomanBold = PdfFontFactory.createFont(StandardFonts.TIMES_BOLD);\r\n    \t} catch (IOException e) {\r\n    \tLOGGER.error(&quot;Failed to create Times New Roman Bold font.&quot;);\r\n    \tLOGGER.error(e);\r\n    \t}\r\n    \r\n    \tList&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\r\n    \r\n    \t// Create a TabStop at the middle of the page\r\n    \ttabStops.add(new TabStop(width / 2, TabAlignment.CENTER));\r\n    \r\n    \t// Create a TabStop at the end of the page\r\n    \ttabStops.add(new TabStop(width, TabAlignment.LEFT));\r\n    \r\n    \tParagraph p = new Paragraph().addTabStops(tabStops).setFontSize(14);\r\n    \tif (timesNewRomanBold != null) {\r\n    \t\tp.setFont(timesNewRomanBold);\r\n    \t}\r\n    \tp.add(new Tab()).add(text).add(new Tab());\r\n    \tdocument.add(p);\r\n    \t}\r\n\r\nBut my problem is it shows empty characters in the exported PDF instead of the letters ő, Ő,ű, Ű. \r\n\r\nTimes New Roman supports these characters, so I think I need to set it to UTF8, but I couldn&#39;t find a workaround on Google to do it. \r\n\r\nCan someone please explain how to make these characters appear properly on the pdf?\r\n\r\nTried these, but some of them are deprecated functions, or not applicable to the arguments I&#39;m trying to give them, or I don&#39;t use Chunk. \r\nhttps://stackoverflow.com/questions/24772212/itext-pdf-writer-is-there-any-way-to-allow-unicode-subscript-symbol-in-the-pdf\r\nhttps://stackoverflow.com/questions/39505223/how-can-i-set-encoding-for-itext-when-i-insert-value-to-placeholder-in-pdf-form\r\n\r\nEdit: I figured out, that timesNewRomanBold is null, even if I set it to HELVETICA or COURIER.\r\n\r\nEdit 2: I also tried with ChatGPT, but the program still doesn&#39;t show these characters:\r\n\r\n```\r\n    import java.io.IOException;\r\n    \r\n    import com.itextpdf.io.font.PdfEncodings;\r\n    import com.itextpdf.kernel.font.PdfFont;\r\n    import com.itextpdf.kernel.font.PdfFontFactory;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.layout.Document;\r\n    import com.itextpdf.layout.element.Paragraph;\r\n    import com.itextpdf.layout.property.TextAlignment;\r\n    import com.itextpdf.layout.property.VerticalAlignment;\r\n    \r\n    public class PDFMaker {\r\n        public static void main(String[] args) {\r\n            try {\r\n            \tPdfDocument pdfDoc = new PdfDocument(new PdfWriter(&quot;output.pdf&quot;));\r\n            \tDocument document = new Document(pdfDoc);\r\n    \r\n                PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.UTF8, true);\r\n    \r\n                Paragraph paragraph = new Paragraph(&quot;&#193;rv&#237;ztűrő t&#252;k&#246;rf&#250;r&#243;g&#233;p.&quot;);\r\n                paragraph.setFont(font);\r\n                paragraph.setTextAlignment(TextAlignment.CENTER);\r\n                paragraph.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n                document.add(paragraph);\r\n    \r\n                document.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n```","title":"How to place foreign characters to a PDF in itextpdf like &#39;ő&#39; or &#39;ű&#39;?","body":"<p>I have a function to place my text in the document into something like a table.</p>\n<pre><code>    private static void addCenteredParagraph(Document document, float width, String text) {\n    PdfFont timesNewRomanBold = null;\n    try {\n    timesNewRomanBold = PdfFontFactory.createFont(StandardFonts.TIMES_BOLD);\n    } catch (IOException e) {\n    LOGGER.error(&quot;Failed to create Times New Roman Bold font.&quot;);\n    LOGGER.error(e);\n    }\n\n    List&lt;TabStop&gt; tabStops = new ArrayList&lt;&gt;();\n\n    // Create a TabStop at the middle of the page\n    tabStops.add(new TabStop(width / 2, TabAlignment.CENTER));\n\n    // Create a TabStop at the end of the page\n    tabStops.add(new TabStop(width, TabAlignment.LEFT));\n\n    Paragraph p = new Paragraph().addTabStops(tabStops).setFontSize(14);\n    if (timesNewRomanBold != null) {\n        p.setFont(timesNewRomanBold);\n    }\n    p.add(new Tab()).add(text).add(new Tab());\n    document.add(p);\n    }\n</code></pre>\n<p>But my problem is it shows empty characters in the exported PDF instead of the letters ő, Ő,ű, Ű.</p>\n<p>Times New Roman supports these characters, so I think I need to set it to UTF8, but I couldn't find a workaround on Google to do it.</p>\n<p>Can someone please explain how to make these characters appear properly on the pdf?</p>\n<p>Tried these, but some of them are deprecated functions, or not applicable to the arguments I'm trying to give them, or I don't use Chunk.\n<a href=\"https://stackoverflow.com/questions/24772212/itext-pdf-writer-is-there-any-way-to-allow-unicode-subscript-symbol-in-the-pdf\">Itext PDF writer, Is there any way to allow unicode subscript symbol in the pdf? (Without setTextRise)</a>\n<a href=\"https://stackoverflow.com/questions/39505223/how-can-i-set-encoding-for-itext-when-i-insert-value-to-placeholder-in-pdf-form\">How can I set encoding for iText when I insert value to placeholder in pdf form?</a></p>\n<p>Edit: I figured out, that timesNewRomanBold is null, even if I set it to HELVETICA or COURIER.</p>\n<p>Edit 2: I also tried with ChatGPT, but the program still doesn't show these characters:</p>\n<pre><code>    import java.io.IOException;\n    \n    import com.itextpdf.io.font.PdfEncodings;\n    import com.itextpdf.kernel.font.PdfFont;\n    import com.itextpdf.kernel.font.PdfFontFactory;\n    import com.itextpdf.kernel.pdf.PdfDocument;\n    import com.itextpdf.kernel.pdf.PdfWriter;\n    import com.itextpdf.layout.Document;\n    import com.itextpdf.layout.element.Paragraph;\n    import com.itextpdf.layout.property.TextAlignment;\n    import com.itextpdf.layout.property.VerticalAlignment;\n    \n    public class PDFMaker {\n        public static void main(String[] args) {\n            try {\n                PdfDocument pdfDoc = new PdfDocument(new PdfWriter(&quot;output.pdf&quot;));\n                Document document = new Document(pdfDoc);\n    \n                PdfFont font = PdfFontFactory.createFont(&quot;C:/Windows/Fonts/arial.ttf&quot;, PdfEncodings.UTF8, true);\n    \n                Paragraph paragraph = new Paragraph(&quot;Árvíztűrő tükörfúrógép.&quot;);\n                paragraph.setFont(font);\n                paragraph.setTextAlignment(TextAlignment.CENTER);\n                paragraph.setVerticalAlignment(VerticalAlignment.MIDDLE);\n                document.add(paragraph);\n    \n                document.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1681782350,"post_id":76040445,"comment_id":134109095,"body_markdown":"When the code reaches the line `HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;()`, what do you expect to be in the variable named `map`?","body":"When the code reaches the line <code>HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;()</code>, what do you expect to be in the variable named <code>map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7976288,"reputation":1639,"user_id":6019358,"display_name":"Bryce Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681782501,"creation_date":1681782501,"answer_id":76040484,"question_id":76040445,"body_markdown":"The ```reverse()``` method expects ```Map&lt;Integer, String&gt;``` parameter and return a ```Map&lt;Integer, String&gt;``` object, but you&#39;re calling it without any arguments and without assigning the object.\r\n\r\nI modified your code, this should work.\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class test {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer, String&gt; original = new HashMap&lt;Integer, String&gt;();\r\n        original.put(18, &quot;Eightenn&quot;);\r\n        original.put(50, &quot;Fifty&quot;);\r\n        original.put(132, &quot;neThreeTwo&quot;);\r\n\r\n        Map&lt;String, Integer&gt; reversed = reverse(original);\r\n        System.out.println(&quot;Reversed map: &quot; + reversed);\r\n    }\r\n\r\n    public static Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\r\n        Map&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\r\n        for(int key : map.keySet()) {\r\n            String value = map.get(key);\r\n            reversed.put(value, key);\r\n        }\r\n        return reversed;\r\n    }\r\n}\r\n```","title":"Having trouble running public HashMap method","body":"<p>The <code>reverse()</code> method expects <code>Map&lt;Integer, String&gt;</code> parameter and return a <code>Map&lt;Integer, String&gt;</code> object, but you're calling it without any arguments and without assigning the object.</p>\n<p>I modified your code, this should work.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class test {\n\n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; original = new HashMap&lt;Integer, String&gt;();\n        original.put(18, &quot;Eightenn&quot;);\n        original.put(50, &quot;Fifty&quot;);\n        original.put(132, &quot;neThreeTwo&quot;);\n\n        Map&lt;String, Integer&gt; reversed = reverse(original);\n        System.out.println(&quot;Reversed map: &quot; + reversed);\n    }\n\n    public static Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\n        Map&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\n        for(int key : map.keySet()) {\n            String value = map.get(key);\n            reversed.put(value, key);\n        }\n        return reversed;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18912930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76040484,"answer_count":1,"score":1,"last_activity_date":1681806775,"creation_date":1681782019,"question_id":76040445,"body_markdown":"The purpose and goal of the method is to print the hash map in reverse from ```&lt;Key, Value&gt;``` to ```&lt;Value, Key&gt;```. But I&#39;m having a problem on line 7(**revrse();**) where where I get the error \r\n\r\n&gt; &quot;*The method reverse(Map&lt;Integer,String&gt;) in the type lab8_Part3 is not applicable for the arguments ()*&quot;. \r\n\r\nAll the solutions eclipse suggest result in an error and I&#39;m stumped. Help is appreciated\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\treverse();\r\n\t}\r\n\r\n\tpublic Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\r\n\t    HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\r\n\t    reversed.put(&quot;Eightenn&quot;, 18);\r\n\t    reversed.put(&quot;Fifty&quot;, 50);\r\n\t    reversed.put(&quot;neThreeTwo&quot;, 132);\r\n\t    reversed.put(&quot;Ocho&quot;, 8);\r\n\t    reversed.put(&quot;Forty-one&quot;, 41);\r\n\t    System.out.println(&quot;Reversered map &quot; + reversed);\r\n\t    for(int key : map.keySet()) {\r\n\t        String value = map.get(key);\r\n\r\n\t        if(!reversed.containsKey(value)) {\r\n\t            reversed.put(value, key);\r\n\t        }\r\n\t    }\r\n\t    return reversed;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe purpose and goal of the method is to print the hash map in reverse from ```&lt;Key, Value&gt;``` to ```&lt;Value, Key&gt;```.","title":"Having trouble running public HashMap method","body":"<p>The purpose and goal of the method is to print the hash map in reverse from <code>&lt;Key, Value&gt;</code> to <code>&lt;Value, Key&gt;</code>. But I'm having a problem on line 7(<strong>revrse();</strong>) where where I get the error</p>\n<blockquote>\n<p>&quot;<em>The method reverse(Map&lt;Integer,String&gt;) in the type lab8_Part3 is not applicable for the arguments ()</em>&quot;.</p>\n</blockquote>\n<p>All the solutions eclipse suggest result in an error and I'm stumped. Help is appreciated</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class test {\n\n    public static void main(String[] args) {\n        reverse();\n    }\n\n    public Map&lt;String, Integer&gt; reverse(Map&lt;Integer, String&gt; map) {\n        HashMap&lt;String, Integer&gt; reversed = new HashMap&lt;String, Integer&gt;();\n        reversed.put(&quot;Eightenn&quot;, 18);\n        reversed.put(&quot;Fifty&quot;, 50);\n        reversed.put(&quot;neThreeTwo&quot;, 132);\n        reversed.put(&quot;Ocho&quot;, 8);\n        reversed.put(&quot;Forty-one&quot;, 41);\n        System.out.println(&quot;Reversered map &quot; + reversed);\n        for(int key : map.keySet()) {\n            String value = map.get(key);\n\n            if(!reversed.containsKey(value)) {\n                reversed.put(value, key);\n            }\n        }\n        return reversed;\n    }\n}\n</code></pre>\n<p>The purpose and goal of the method is to print the hash map in reverse from <code>&lt;Key, Value&gt;</code> to <code>&lt;Value, Key&gt;</code>.</p>\n"},{"tags":["java","macos","java-home","macos-big-sur"],"comments":[{"owner":{"account_id":18096884,"reputation":7249,"user_id":13155046,"display_name":"Milovan Tomašević"},"score":0,"creation_date":1608034945,"post_id":64917779,"comment_id":115453301,"body_markdown":"You may find the answers from [JAVA_HOME in Mac](https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently/65162351#65162351)","body":"You may find the answers from <a href=\"https://stackoverflow.com/questions/14702702/how-to-set-java-home-in-mac-permanently/65162351#65162351\">JAVA_HOME in Mac</a>"},{"owner":{"account_id":3016122,"reputation":181,"user_id":3375037,"display_name":"lenborje"},"score":0,"creation_date":1617976179,"post_id":64917779,"comment_id":118469081,"body_markdown":"I can&#39;t reproduce this problem at all, on any of the Macs I have access to. But then I also don&#39;t have the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin` mentioned below on any of them.","body":"I can&#39;t reproduce this problem at all, on any of the Macs I have access to. But then I also don&#39;t have the <code>&#47;Library&#47;Internet Plug-Ins&#47;JavaAppletPlugin.plugin</code> mentioned below on any of them."}],"answers":[{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1605810755,"post_id":64917842,"comment_id":114773377,"body_markdown":"Seems like a bug to me.  I can think of no justification for either its apparent new behavior or for deciding to change it out from under everyone already using its prior behavior. - Maybe someone should Radar this issue.","body":"Seems like a bug to me.  I can think of no justification for either its apparent new behavior or for deciding to change it out from under everyone already using its prior behavior. - Maybe someone should Radar this issue."},{"owner":{"account_id":375336,"reputation":23046,"user_id":726106,"display_name":"Jeremy Huddleston Sequoia"},"score":2,"creation_date":1624487151,"post_id":64917842,"comment_id":120375833,"body_markdown":"Note that this change in behavior in v11.0 was not intentional.  It was fixed in v11.2 to return to be consistent with the older behavior for `JAVA_HOME`.","body":"Note that this change in behavior in v11.0 was not intentional.  It was fixed in v11.2 to return to be consistent with the older behavior for <code>JAVA_HOME</code>."},{"owner":{"account_id":13366317,"reputation":113,"user_id":9646463,"display_name":"Abhay Nagaraj"},"score":0,"creation_date":1648328091,"post_id":64917842,"comment_id":126597898,"body_markdown":"This worked for me although the route that led me to this problem of a wrongly set/unavailable JAVA_HOME environment variable. \n\n&quot;java -version&quot; command upon execution, gave me all the rightly seeming answers.\nBut upon trying to access the path, it wasn&#39;t something that was present indeed. \nTherefore, I tried unsetting the JAVA_HOME variable using the above command and removed all the other two variable values except for v jdk 11\nThat resolved the long running issue I had run into, after upgrading to MacOS BigSur. Hope it helps someone else stuck in a similar rabbit hole.","body":"This worked for me although the route that led me to this problem of a wrongly set/unavailable JAVA_HOME environment variable.   &quot;java -version&quot; command upon execution, gave me all the rightly seeming answers. But upon trying to access the path, it wasn&#39;t something that was present indeed.  Therefore, I tried unsetting the JAVA_HOME variable using the above command and removed all the other two variable values except for v jdk 11 That resolved the long running issue I had run into, after upgrading to MacOS BigSur. Hope it helps someone else stuck in a similar rabbit hole."}],"tags":[],"owner":{"account_id":17535901,"reputation":1139,"user_id":12719036,"display_name":"Konstantin"},"comment_count":3,"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1605812292,"creation_date":1605810554,"answer_id":64917842,"question_id":64917779,"body_markdown":"Seems in macOS Big Sur v11.0.1 the behavior of the `/usr/libexec/java_home -v ...` command has changed: it is sensitive to the previously set value of `JAVA_HOME` environment variable.\r\n\r\nExact behavior is not clear, I couldn&#39;t find any documentation on this, but in my experiments it reported the version already set in `JAVA_HOME`, regardless of the `-v` switch:\r\n\r\n```shell\r\n% JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home /usr/libexec/java_home -v 1.8.0_162\r\n/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\r\n```\r\n\r\nAdditionally, I noticed that it reports nothing, if `JAVA_HOME` is set, but doesn&#39;t point to a valid java home (also for `-V`):\r\n\r\n```shell\r\n% JAVA_HOME=dummy /usr/libexec/java_home -v 1.7.0_45\r\n% JAVA_HOME=dummy /usr/libexec/java_home -V\r\n%\r\n```\r\n\r\nSolution is to ensure `JAVA_HOME` is _not_ set before executing `/usr/libexec/java_home`:\r\n\r\n```shell\r\n% unset JAVA_HOME ; /usr/libexec/java_home -v 1.8.0_162\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\r\n```\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Seems in macOS Big Sur v11.0.1 the behavior of the <code>/usr/libexec/java_home -v ...</code> command has changed: it is sensitive to the previously set value of <code>JAVA_HOME</code> environment variable.</p>\n<p>Exact behavior is not clear, I couldn't find any documentation on this, but in my experiments it reported the version already set in <code>JAVA_HOME</code>, regardless of the <code>-v</code> switch:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home /usr/libexec/java_home -v 1.8.0_162\n/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n</code></pre>\n<p>Additionally, I noticed that it reports nothing, if <code>JAVA_HOME</code> is set, but doesn't point to a valid java home (also for <code>-V</code>):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% JAVA_HOME=dummy /usr/libexec/java_home -v 1.7.0_45\n% JAVA_HOME=dummy /usr/libexec/java_home -V\n%\n</code></pre>\n<p>Solution is to ensure <code>JAVA_HOME</code> is <em>not</em> set before executing <code>/usr/libexec/java_home</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% unset JAVA_HOME ; /usr/libexec/java_home -v 1.8.0_162\n/Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17535901,"reputation":1139,"user_id":12719036,"display_name":"Konstantin"},"score":1,"creation_date":1607765770,"post_id":65243230,"comment_id":115379507,"body_markdown":"That&#39;s one of JVMs on your mac, selected by default - I have the same too. Check what JVMs available calling `/usr/libexec/java_home -V`, and then get JAVA_HOME for the one you need calling `/usr/libexec/java_home -v &lt;ver&gt;`.","body":"That&#39;s one of JVMs on your mac, selected by default - I have the same too. Check what JVMs available calling <code>&#47;usr&#47;libexec&#47;java_home -V</code>, and then get JAVA_HOME for the one you need calling <code>&#47;usr&#47;libexec&#47;java_home -v &lt;ver&gt;</code>."}],"tags":[],"owner":{"account_id":10496023,"reputation":71,"user_id":7736253,"display_name":"Philip"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607639420,"creation_date":1607639420,"answer_id":65243230,"question_id":64917779,"body_markdown":"For me, it is totally broken.\r\nUnsetting JAVA_HOME, /usr/libexec/java_home gives:\r\n\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>For me, it is totally broken.\nUnsetting JAVA_HOME, /usr/libexec/java_home gives:</p>\n<p>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</p>\n"},{"tags":[],"owner":{"account_id":4215255,"reputation":1711,"user_id":3451686,"display_name":"landerlyoung"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1608133643,"creation_date":1608133643,"answer_id":65326599,"question_id":64917779,"body_markdown":"As I tryed. I just delete the `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin` and relogin. Then everything works fine.","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>As I tryed. I just delete the <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin</code> and relogin. Then everything works fine.</p>\n"},{"tags":[],"owner":{"account_id":3229028,"reputation":591,"user_id":2724716,"display_name":"Muditha sumanathunga"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611042893,"creation_date":1611042893,"answer_id":65787369,"question_id":64917779,"body_markdown":"For me https://developer.apple.com/forums/thread/666681 worked after spending so much time on the solutions.\r\n\r\nI simply call following commands\r\n\r\nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \r\n\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefpane\r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>For me <a href=\"https://developer.apple.com/forums/thread/666681\" rel=\"noreferrer\">https://developer.apple.com/forums/thread/666681</a> worked after spending so much time on the solutions.</p>\n<p>I simply call following commands</p>\n<p>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin</p>\n<p>sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefpane</p>\n"},{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1611761629,"creation_date":1611574463,"answer_id":65883959,"question_id":64917779,"body_markdown":"Had this problem after installing Big Sur.\r\n\r\nFirst I started uninstalling all JDK from the system with:\r\n\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin  \r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane  \r\n    sudo rm -rf /Library/Application\\ Support/Oracle/Java/ \r\n    sudo rm -rf /Library/Java/JavaVirtualMachines \r\n\r\nThen, I installed the JDK that I am going to use:\r\n\r\n    brew tap AdoptOpenJDK/openjdk\r\n    brew install --cask adoptopenjdk&lt;version&gt;\r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Had this problem after installing Big Sur.</p>\n<p>First I started uninstalling all JDK from the system with:</p>\n<pre><code>sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin  \nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane  \nsudo rm -rf /Library/Application\\ Support/Oracle/Java/ \nsudo rm -rf /Library/Java/JavaVirtualMachines \n</code></pre>\n<p>Then, I installed the JDK that I am going to use:</p>\n<pre><code>brew tap AdoptOpenJDK/openjdk\nbrew install --cask adoptopenjdk&lt;version&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4668437,"reputation":1406,"user_id":3780884,"accept_rate":50,"display_name":"fobbymaster"},"score":2,"creation_date":1621881164,"post_id":66268297,"comment_id":119622675,"body_markdown":"Following these steps blew away my existing terminal settings. I don&#39;t quite remember where they were set, but they are now gone.","body":"Following these steps blew away my existing terminal settings. I don&#39;t quite remember where they were set, but they are now gone."},{"owner":{"account_id":7582999,"reputation":437,"user_id":5753128,"display_name":"rahulxyz"},"score":1,"creation_date":1621939537,"post_id":66268297,"comment_id":119639060,"body_markdown":"Worked for me. I also had run &quot;unset JAVA_HOME ;&quot; before this.","body":"Worked for me. I also had run &quot;unset JAVA_HOME ;&quot; before this."},{"owner":{"account_id":10201818,"reputation":236,"user_id":7531819,"display_name":"Nickr"},"score":1,"creation_date":1632274458,"post_id":66268297,"comment_id":122445860,"body_markdown":"Thank you, the instruction was clear and worked perfectly. I encountered issues with building android apps in Ionic when my office macbook updated to Big Sur. Even though my device has a lot of restrictions, no special permissions needed to apply this fix. Thank you again.","body":"Thank you, the instruction was clear and worked perfectly. I encountered issues with building android apps in Ionic when my office macbook updated to Big Sur. Even though my device has a lot of restrictions, no special permissions needed to apply this fix. Thank you again."},{"owner":{"account_id":202133,"reputation":4754,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"score":0,"creation_date":1633260293,"post_id":66268297,"comment_id":122707430,"body_markdown":"The same is working with JDK 11 as well. Just tested it.","body":"The same is working with JDK 11 as well. Just tested it."}],"tags":[],"owner":{"account_id":202133,"reputation":4754,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"comment_count":4,"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1613683099,"creation_date":1613683099,"answer_id":66268297,"question_id":64917779,"body_markdown":"I have Big Sur 11.2.1 from 18.02.2021. I had the same issue with JAVA_HOME path configuration. After reading a lot of information I solved my problem with next:\r\n\r\nInstall JDK 8: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\nJava SE Development Kit 8u281\r\n\r\nInstall it as usual on your MacOS Big Sur.\r\n\r\nCheck JDK version:\r\n\r\n    java -version\r\n    java version &quot;1.8.0_281&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_281-b09)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.281-b09, mixed mode)\r\n\r\nCheck what versions of JDK are already installed on your machine:\r\n\r\n    /usr/libexec/java_home -V \r\n    Matching Java Virtual Machines (2):\r\n        1.8.281.09 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_281 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nGet only one that you need:\r\n\r\n    /usr/libexec/java_home -v 1.8.0_281\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n\r\nOn Catalina and Big Sur - there is Z-shell , to add Environment variables like JAVA_HOME there are two files for that: ~/.zshenv and ~/.zshrc, I couldn&#39;t make it work with first one. It worked for me like this:\r\n\r\n    nano ~/.zshrc\r\n\r\nAdd to that file this line:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 1.8.0_281)\r\n\r\nPress Ctrl+X and save changes.\r\n\r\nThen run command to apply that changes to current terminal:\r\n\r\n    source ~/.zshrc\r\n\r\nAfter that you can check if everything is working with command:\r\n\r\n    echo $JAVA_HOME\r\n    it will print you: /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\r\n\r\nRestart your terminal and programs which will be using JAVA_HOME variable. For me it was Android Studio. Now everything works fine. \r\nI am new to Mac OS and it took me with 4hours to solve this. With Windows it&#39;s just done in a minute:)","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>I have Big Sur 11.2.1 from 18.02.2021. I had the same issue with JAVA_HOME path configuration. After reading a lot of information I solved my problem with next:</p>\n<p>Install JDK 8: <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a>\nJava SE Development Kit 8u281</p>\n<p>Install it as usual on your MacOS Big Sur.</p>\n<p>Check JDK version:</p>\n<pre><code>java -version\njava version &quot;1.8.0_281&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_281-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.281-b09, mixed mode)\n</code></pre>\n<p>Check what versions of JDK are already installed on your machine:</p>\n<pre><code>/usr/libexec/java_home -V \nMatching Java Virtual Machines (2):\n    1.8.281.09 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_281 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>Get only one that you need:</p>\n<pre><code>/usr/libexec/java_home -v 1.8.0_281\n/Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n</code></pre>\n<p>On Catalina and Big Sur - there is Z-shell , to add Environment variables like JAVA_HOME there are two files for that: ~/.zshenv and ~/.zshrc, I couldn't make it work with first one. It worked for me like this:</p>\n<pre><code>nano ~/.zshrc\n</code></pre>\n<p>Add to that file this line:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 1.8.0_281)\n</code></pre>\n<p>Press Ctrl+X and save changes.</p>\n<p>Then run command to apply that changes to current terminal:</p>\n<pre><code>source ~/.zshrc\n</code></pre>\n<p>After that you can check if everything is working with command:</p>\n<pre><code>echo $JAVA_HOME\nit will print you: /Library/Java/JavaVirtualMachines/jdk1.8.0_281.jdk/Contents/Home\n</code></pre>\n<p>Restart your terminal and programs which will be using JAVA_HOME variable. For me it was Android Studio. Now everything works fine.\nI am new to Mac OS and it took me with 4hours to solve this. With Windows it's just done in a minute:)</p>\n"},{"tags":[],"owner":{"account_id":4181390,"reputation":1,"user_id":3426320,"display_name":"partha"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623103863,"creation_date":1623086147,"answer_id":67876037,"question_id":64917779,"body_markdown":"Agree with [@Konstantin][1]. I faced the same issue , after the Big Sur upgrade. \r\n\r\nThe steps you need to follow to fix this are :\r\n\r\n   1. unset JAVA_HOME\r\n   2. check what java_home in library is pointing to: /usr/libexec/java_home -v\r\n\r\n&gt; Matching Java Virtual Machines (2):\r\n\r\n    1.8.221.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\n    1.8.0_221 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n\r\n   3. Because both the versions start with 1.8.221, so by default 1st one is picked, check the version\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n   4.  `export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home&#39;`\r\n   5. `echo $JAVA_HOME`\r\n\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/12719036/konstantin","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>Agree with <a href=\"https://stackoverflow.com/users/12719036/konstantin\">@Konstantin</a>. I faced the same issue , after the Big Sur upgrade.</p>\n<p>The steps you need to follow to fix this are :</p>\n<ol>\n<li>unset JAVA_HOME</li>\n<li>check what java_home in library is pointing to: /usr/libexec/java_home -v</li>\n</ol>\n<blockquote>\n<p>Matching Java Virtual Machines (2):</p>\n</blockquote>\n<pre><code>1.8.221.11 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n\n1.8.0_221 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home\n</code></pre>\n<ol start=\"3\">\n<li>Because both the versions start with 1.8.221, so by default 1st one is picked, check the version</li>\n</ol>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home</p>\n</blockquote>\n<ol start=\"4\">\n<li><code>export JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home'</code></li>\n<li><code>echo $JAVA_HOME</code></li>\n</ol>\n<blockquote>\n<p>/Library/Java/JavaVirtualMachines/jdk1.8.0_221.jdk/Contents/Home</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12745655,"reputation":1,"user_id":9771583,"display_name":"mismo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625615243,"creation_date":1625615243,"answer_id":68278517,"question_id":64917779,"body_markdown":"$&gt; /usr/libexec/java_home -v &quot;1.8.0&quot;\r\nappears to access the exact jdk if present. Ignores the &#39;plugin&#39; if installed. \r\nThe quotes were recommended in random places on internet. They are also shown in the man page.","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>$&gt; /usr/libexec/java_home -v &quot;1.8.0&quot;\nappears to access the exact jdk if present. Ignores the 'plugin' if installed.\nThe quotes were recommended in random places on internet. They are also shown in the man page.</p>\n"},{"tags":[],"owner":{"account_id":7205529,"reputation":680,"user_id":5501258,"display_name":"Aseem Savio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640331437,"creation_date":1640331437,"answer_id":70470589,"question_id":64917779,"body_markdown":"The `/usr/libexec/java_home` tool in macOS will give you the location of the latest Java version installed. Invoke it from the terminal to get a response similar to the following:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\r\n\r\nNavigate into the root and open the `.zprofile` file.\r\n\r\n    cd ~\r\n    open .zprofile\r\nIf the file is not found, create one using the `echo &gt; .zprofile` command.\r\n\r\nOpen the file using `open .zprofile`. This should open it up in a text editor.\r\n\r\nAdd the response of the `/usr/libexec/java_home` tool into the file like so:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\r\n\r\n\r\n \r\n\r\n","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>The <code>/usr/libexec/java_home</code> tool in macOS will give you the location of the latest Java version installed. Invoke it from the terminal to get a response similar to the following:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\n</code></pre>\n<p>Navigate into the root and open the <code>.zprofile</code> file.</p>\n<pre><code>cd ~\nopen .zprofile\n</code></pre>\n<p>If the file is not found, create one using the <code>echo &gt; .zprofile</code> command.</p>\n<p>Open the file using <code>open .zprofile</code>. This should open it up in a text editor.</p>\n<p>Add the response of the <code>/usr/libexec/java_home</code> tool into the file like so:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.1.jdk/Contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14213417,"reputation":235,"user_id":10267948,"display_name":"ibozkurt79"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645742680,"creation_date":1645742680,"answer_id":71259110,"question_id":64917779,"body_markdown":"My solution is creating a link to your JDK file. Apparently, Teradata studio was executing a wrong path\r\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre/lib/server/libjvm.dylib /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/lib/libserver.dylib","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>My solution is creating a link to your JDK file. Apparently, Teradata studio was executing a wrong path\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/jre/lib/server/libjvm.dylib /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home/lib/libserver.dylib</p>\n"},{"tags":[],"owner":{"account_id":9696339,"reputation":345,"user_id":7192651,"display_name":"Yuqiu G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681806670,"creation_date":1681806670,"answer_id":76042428,"question_id":64917779,"body_markdown":"download and install jdk from oracle and then do\r\n    \r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n\r\nThen jre versions should not appear when you do \r\n\r\n    /usr/libexec/java_home -V | grep jdk\r\n\r\nadd export JAVA_HOME=`/usr/libexec/java_home -v 1.8` to ~/.zshrc","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>download and install jdk from oracle and then do</p>\n<pre><code>sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\n</code></pre>\n<p>Then jre versions should not appear when you do</p>\n<pre><code>/usr/libexec/java_home -V | grep jdk\n</code></pre>\n<p>add export JAVA_HOME=<code>/usr/libexec/java_home -v 1.8</code> to ~/.zshrc</p>\n"}],"owner":{"account_id":17535901,"reputation":1139,"user_id":12719036,"display_name":"Konstantin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60269,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":64917842,"answer_count":11,"score":45,"last_activity_date":1681806670,"creation_date":1605810287,"question_id":64917779,"body_markdown":"In my setup on macOS I&#39;m working with several JDKs, switching between them via `/usr/libexec/java_home` tool, similar to a method described in [this SO answer][1]\r\n\r\nAfter upgrading to macOS Big Sur v11.0.1, my JAVA_HOME setting stopped working, always reporting the same java version:\r\n\r\n```shell\r\n% /usr/libexec/java_home -V\r\nMatching Java Virtual Machines (5):\r\n    11.0.8 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 11&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n    1.8.162.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n    1.8.0_162 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\r\n    1.8.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\r\n    1.7.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n\r\n% /usr/libexec/java_home -v 1.8.162.12\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n\r\n% /usr/libexec/java_home -v 1.7.0_45\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x/24657630#24657630","title":"Wrong JAVA_HOME after upgrade to macOS Big Sur v11.0.1","body":"<p>In my setup on macOS I'm working with several JDKs, switching between them via <code>/usr/libexec/java_home</code> tool, similar to a method described in <a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-os-x/24657630#24657630\">this SO answer</a></p>\n<p>After upgrading to macOS Big Sur v11.0.1, my JAVA_HOME setting stopped working, always reporting the same java version:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>% /usr/libexec/java_home -V\nMatching Java Virtual Machines (5):\n    11.0.8 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 11&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n    1.8.162.12 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_162 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home\n    1.8.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\n    1.7.0_45 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 7&quot; /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n\n% /usr/libexec/java_home -v 1.8.162.12\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n\n% /usr/libexec/java_home -v 1.7.0_45\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home\n</code></pre>\n"},{"tags":["java","asynchronous","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681758370,"creation_date":1681758370,"answer_id":76038485,"question_id":76037487,"body_markdown":"Every decent test case has these steps:\r\n\r\n1. [Given] - Create input (e.g. a DocumentRequest instance)\r\n1. [When] - Make some modification(s) (e.g the service call)\r\n1. [Then] - Check correctness of the result obtained (assertions)\r\n\r\nUnit testing asynchronous methods is not so hard what is seems. Fortunately there are a lot of good library to help. One of popular library is [Awaitility](http://www.awaitility.org/)\r\n\r\nIf you use Maven as build tool, just add this dependency to `pom.xml`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFor demonstration I made a sample service:\r\n\r\n```java\r\npublic class FutureService {\r\n    private final Executor executor = CompletableFuture.delayedExecutor(5L, TimeUnit.SECONDS);\r\n\r\n    public CompletableFuture&lt;Boolean&gt; negate(boolean input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; !input, executor);\r\n    }\r\n}\r\n```\r\nThe `negate` method returns `CompletableFuture&lt;Boolean&gt;` which waits for 5 seconds before completition. It is just for the demonstration. \r\n\r\nThe test for this service is something like this.\r\n\r\n```java\r\nclass FutureTest {\r\n\r\n    private final FutureService futureService = new FutureService();\r\n\r\n    @Test\r\n    void futureTest() throws ExecutionException, InterruptedException {\r\n        // given (call service)\r\n        CompletableFuture&lt;Boolean&gt; future = futureService.negate(true);\r\n        // when (wait until the CompletableFuture will be done but at most 10 seconds\r\n        Awaitility.await().atMost(Duration.ofSeconds(10L)).until(future::isDone);\r\n        // then (in this case the returned boolean value should be false)\r\n        Assertions.assertFalse(future.get());\r\n    }\r\n}\r\n```","title":"How add assertion on Completablefuture&lt;boolean&gt; Junit Mockito","body":"<p>Every decent test case has these steps:</p>\n<ol>\n<li>[Given] - Create input (e.g. a DocumentRequest instance)</li>\n<li>[When] - Make some modification(s) (e.g the service call)</li>\n<li>[Then] - Check correctness of the result obtained (assertions)</li>\n</ol>\n<p>Unit testing asynchronous methods is not so hard what is seems. Fortunately there are a lot of good library to help. One of popular library is <a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">Awaitility</a></p>\n<p>If you use Maven as build tool, just add this dependency to <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For demonstration I made a sample service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FutureService {\n    private final Executor executor = CompletableFuture.delayedExecutor(5L, TimeUnit.SECONDS);\n\n    public CompletableFuture&lt;Boolean&gt; negate(boolean input) {\n        return CompletableFuture.supplyAsync(() -&gt; !input, executor);\n    }\n}\n</code></pre>\n<p>The <code>negate</code> method returns <code>CompletableFuture&lt;Boolean&gt;</code> which waits for 5 seconds before completition. It is just for the demonstration.</p>\n<p>The test for this service is something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FutureTest {\n\n    private final FutureService futureService = new FutureService();\n\n    @Test\n    void futureTest() throws ExecutionException, InterruptedException {\n        // given (call service)\n        CompletableFuture&lt;Boolean&gt; future = futureService.negate(true);\n        // when (wait until the CompletableFuture will be done but at most 10 seconds\n        Awaitility.await().atMost(Duration.ofSeconds(10L)).until(future::isDone);\n        // then (in this case the returned boolean value should be false)\n        Assertions.assertFalse(future.get());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13644817,"reputation":38,"user_id":9844057,"display_name":"Jesus Gino Huapaya Caycho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76038485,"answer_count":1,"score":1,"last_activity_date":1681806485,"creation_date":1681750299,"question_id":76037487,"body_markdown":"I have a Service called `asynEvaluaEstadoSiniestro` that return true or false, and some repositories that are mocked in my test.\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class AsynEvaluaEstadoSiniestroImpl implements AsynEvaluaEstadoSiniestro {\r\n\r\n  @Async(&quot;myExecutor&quot;)\r\n  public CompletableFuture&lt;Boolean&gt; getEvaluacionEstadoSiniestro(DocumentRequest request) throws BusinessException {\r\n  //do some persistances operations in repositories and return fooResult as true or false;|\r\n\r\n  return CompletableFuture.completedFuture(fooResult);\r\n  }\r\n}\r\n```\r\n\r\n    @InjectMocks\r\n    AsynEvaluaEstadoSiniestroImpl asynEvaluaEstadoSiniestro;\r\n    \r\n    @Test\r\n    @DisplayName(&quot;Async process (1)&quot;)\r\n    void insertarSolicitudTest() throws BusinessException {\r\n       //some when repositories functions needed for testing\r\n    \r\n    CompletableFuture&lt;Boolean&gt; cf = asynEvaluaEstadoSiniestro.getEvaluacionEstadoSiniestro(documentRequest());\r\n            cf.isDone();\r\n    }\r\n    \r\n\r\nwhen i execute sonaqube coverity it say:   \r\n**Add at least one assertion to this test case.**\r\n\r\nHow can i add a assertion to this test???\r\n\r\ni hope to add a assertion to this test.","title":"How add assertion on Completablefuture&lt;boolean&gt; Junit Mockito","body":"<p>I have a Service called <code>asynEvaluaEstadoSiniestro</code> that return true or false, and some repositories that are mocked in my test.</p>\n<pre><code>@Service\n@Slf4j\npublic class AsynEvaluaEstadoSiniestroImpl implements AsynEvaluaEstadoSiniestro {\n\n  @Async(&quot;myExecutor&quot;)\n  public CompletableFuture&lt;Boolean&gt; getEvaluacionEstadoSiniestro(DocumentRequest request) throws BusinessException {\n  //do some persistances operations in repositories and return fooResult as true or false;|\n\n  return CompletableFuture.completedFuture(fooResult);\n  }\n}\n</code></pre>\n<pre><code>@InjectMocks\nAsynEvaluaEstadoSiniestroImpl asynEvaluaEstadoSiniestro;\n\n@Test\n@DisplayName(&quot;Async process (1)&quot;)\nvoid insertarSolicitudTest() throws BusinessException {\n   //some when repositories functions needed for testing\n\nCompletableFuture&lt;Boolean&gt; cf = asynEvaluaEstadoSiniestro.getEvaluacionEstadoSiniestro(documentRequest());\n        cf.isDone();\n}\n</code></pre>\n<p>when i execute sonaqube coverity it say:<br />\n<strong>Add at least one assertion to this test case.</strong></p>\n<p>How can i add a assertion to this test???</p>\n<p>i hope to add a assertion to this test.</p>\n"},{"tags":["java","spring","spring-boot","apache-spark"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1675601748,"post_id":75350944,"comment_id":132960462,"body_markdown":"I doubt that will work, move to `spring-boot` 2.7","body":"I doubt that will work, move to <code>spring-boot</code> 2.7"},{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675603509,"post_id":75350944,"comment_id":132960803,"body_markdown":"@AndreyB.Panfilov would you mind explaining why?","body":"@AndreyB.Panfilov would you mind explaining why?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1675603939,"post_id":75350944,"comment_id":132960875,"body_markdown":"spark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change","body":"spark heavily <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1\" rel=\"nofollow noreferrer\">depends on <code>Java Servlet 4.0</code> (part of Java EE 8)</a>: , <code>spring-boot 3</code> and <code>spring 6</code> deliberately do not support <code>Java EE 8</code> - their developers have switched to <code>Jakarta EE 9</code> which is not backward compatible with <code>Java EE 8</code> due to namespace change"},{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675605664,"post_id":75350944,"comment_id":132961167,"body_markdown":"Oh wow thanks, didn&#39;t know that. Is there a way to force spark to use ‘Jakarta EE 9’ or is it not a good idea as it might break? @AndreyB.Panfilov","body":"Oh wow thanks, didn&#39;t know that. Is there a way to force spark to use ‘Jakarta EE 9’ or is it not a good idea as it might break? @AndreyB.Panfilov"},{"owner":{"account_id":7070585,"reputation":53,"user_id":5412315,"display_name":"CodeBlooded"},"score":0,"creation_date":1698043267,"post_id":75350944,"comment_id":136350182,"body_markdown":"@NikoKonovalov, were you able to resolve this issue? I&#39;m facing same issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Thanks","body":"@NikoKonovalov, were you able to resolve this issue? I&#39;m facing same issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675588890,"post_id":75351148,"comment_id":132958442,"body_markdown":"By adding scope you mean to which dependencies?","body":"By adding scope you mean to which dependencies?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1675592379,"post_id":75351148,"comment_id":132959007,"body_markdown":"@NikoKonovalov as I mentioned, javax.servlet-api","body":"@NikoKonovalov as I mentioned, javax.servlet-api"},{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675597056,"post_id":75351148,"comment_id":132959699,"body_markdown":"The thing is since Servlet API 5.0, the API moved from the package javax.servlet to jakarta.servlet So instead of adding dependency of javax , add dependency of jakarta in pom of the project (taken from here: https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener)\n\nstill after adding it to my pom.xml it doesn&#39;t fix the issue","body":"The thing is since Servlet API 5.0, the API moved from the package javax.servlet to jakarta.servlet So instead of adding dependency of javax , add dependency of jakarta in pom of the project (taken from here: <a href=\"https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\" title=\"java lang classnotfoundexception javax servlet http httpsessionidlistener\">stackoverflow.com/questions/36196086/&hellip;</a>)  still after adding it to my pom.xml it doesn&#39;t fix the issue"}],"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675588023,"creation_date":1675588023,"answer_id":75351148,"question_id":75350944,"body_markdown":"Add scope to your dependency and retry;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor with `test` scope.","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>Add scope to your dependency and retry;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or with <code>test</code> scope.</p>\n"},{"comments":[{"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"score":0,"creation_date":1675597624,"post_id":75351366,"comment_id":132959797,"body_markdown":"I updated my topic, please see update v1","body":"I updated my topic, please see update v1"},{"owner":{"account_id":8283204,"reputation":11,"user_id":6227188,"display_name":"Burak Balım"},"score":0,"creation_date":1675606977,"post_id":75351366,"comment_id":132961395,"body_markdown":"I think you should exclude servlet api from your spark library that has this. also, spring web included javax.servlet. you can execute mvn clean install in your terminal and reload the maven project in IntelliJ","body":"I think you should exclude servlet api from your spark library that has this. also, spring web included javax.servlet. you can execute mvn clean install in your terminal and reload the maven project in IntelliJ"}],"tags":[],"owner":{"account_id":8283204,"reputation":11,"user_id":6227188,"display_name":"Burak Balım"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675590563,"creation_date":1675590563,"answer_id":75351366,"question_id":75350944,"body_markdown":"you can reload all maven project if you use IntelliJ and I don&#39;t see version for your javax, first, you can check project dependencies for this library","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>you can reload all maven project if you use IntelliJ and I don't see version for your javax, first, you can check project dependencies for this library</p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680969520,"creation_date":1680969520,"answer_id":75966233,"question_id":75350944,"body_markdown":"- *According to a comment above*\r\n\r\n  &gt; move to `spring-boot` 2.7\r\n\r\n  This **worked** for me.\r\n\r\n- *Following is the complete (rough) **guide** to setup Spark + Java + Spring.*\r\n\r\n  *(As of now)*\r\n\r\n  *(May or may not work, but works for me; I dont have sufficient knowledge on how this really works)*\r\n\r\n## code config (for reference)\r\n\r\n#### \\*outline view\r\n\r\n[![code config][1]][1]\r\n\r\n#### Maven Pom\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;LSpark&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;LSpark_ch08a1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;LSpark_ch08a1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-streaming --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n#### VM argument (Run Configuration)\r\n\r\n```\r\n--add-exports java.base/sun.nio.ch=ALL-UNNAMED\r\n```\r\n\r\n\r\n#### example code\r\n\r\n```java\r\npackage com.ex.main;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Encoder;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\n\r\npublic class LSpark_ch08a1_Intro {\r\n\r\n  public static void demo_Intro() {\r\n\r\n    ArrayList&lt;User&gt; arr_user = new ArrayList&lt;&gt;();\r\n    arr_user.add(new User(1, &quot;AA&quot;, &quot;NA&quot;, 1000));\r\n    arr_user.add(new User(2, &quot;BB&quot;, &quot;NA&quot;, 1010));\r\n    arr_user.add(new User(3, &quot;CC&quot;, &quot;NA&quot;, 1020));\r\n    arr_user.add(new User(4, &quot;DD&quot;, &quot;NA&quot;, 1030));\r\n    arr_user.add(new User(5, &quot;EE&quot;, &quot;NA&quot;, 1100));\r\n    arr_user.add(new User(6, &quot;FF&quot;, &quot;NA&quot;, 1600));\r\n    arr_user.add(new User(7, &quot;GG&quot;, &quot;NA&quot;, 1800));\r\n    arr_user.add(new User(8, &quot;HH&quot;, &quot;NA&quot;, 2000));\r\n    arr_user.add(new User(9, &quot;II&quot;, &quot;NA&quot;, 3000));\r\n\r\n    //    Encoder&lt;User&gt; UserEncoder = Encoders.bean(User.class);\r\n\r\n    SparkSession spark = SparkSession.builder()\r\n                                     .appName(&quot;IntroLearn&quot;)\r\n                                     .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                                     .getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; df = spark.createDataFrame(arr_user, User.class);\r\n    df.show();\r\n        \r\n    //    df = df.select(&quot;id&quot;);\r\n    //    df.show();\r\n\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    LSpark_ch08a1_Intro.demo_Intro();\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n#### output\r\n\r\n```\r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n23/04/08 23:26:47 INFO SparkContext: Running Spark version 3.3.2\r\n23/04/08 23:26:47 WARN Shell: Did not find winutils.exe: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\r\n23/04/08 23:26:47 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\r\n23/04/08 23:26:47 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\r\n23/04/08 23:26:47 INFO SparkContext: Submitted application: IntroLearn\r\n23/04/08 23:26:47 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/04/08 23:26:47 INFO ResourceProfile: Limiting resource is cpu\r\n23/04/08 23:26:47 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls to: Zlgtx\r\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls to: Zlgtx\r\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls groups to: \r\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls groups to: \r\n23/04/08 23:26:47 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Zlgtx); groups with view permissions: Set(); users  with modify permissions: Set(Zlgtx); groups with modify permissions: Set()\r\n23/04/08 23:26:48 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 52048.\r\n23/04/08 23:26:48 INFO SparkEnv: Registering MapOutputTracker\r\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMaster\r\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/04/08 23:26:48 INFO DiskBlockManager: Created local directory at C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\blockmgr-200c582b-4f3e-49b1-b674-bbaacb62b443\r\n23/04/08 23:26:48 INFO MemoryStore: MemoryStore started with capacity 1658.4 MiB\r\n23/04/08 23:26:48 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/04/08 23:26:49 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/04/08 23:26:49 INFO Executor: Starting executor ID driver on host ZLT6DHSRC\r\n23/04/08 23:26:49 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/04/08 23:26:49 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 52049.\r\n23/04/08 23:26:49 INFO NettyBlockTransferService: Server created on ZLT6DHSRC:52049\r\n23/04/08 23:26:49 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/04/08 23:26:49 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManagerMasterEndpoint: Registering block manager ZLT6DHSRC:52049 with 1658.4 MiB RAM, BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, ZLT6DHSRC, 52049, None)\r\n23/04/08 23:26:49 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/04/08 23:26:49 INFO SharedState: Warehouse path is &#39;file:/G:/wsp/eclipse/LSpark_ch08a1/spark-warehouse&#39;.\r\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 151.5239 ms\r\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 12.3755 ms\r\n+---+---+----+\r\n| id|job|name|\r\n+---+---+----+\r\n|  1| NA|  AA|\r\n|  2| NA|  BB|\r\n|  3| NA|  CC|\r\n|  4| NA|  DD|\r\n|  5| NA|  EE|\r\n|  6| NA|  FF|\r\n|  7| NA|  GG|\r\n|  8| NA|  HH|\r\n|  9| NA|  II|\r\n+---+---+----+\r\n\r\n23/04/08 23:26:52 INFO SparkContext: Invoking stop() from shutdown hook\r\n23/04/08 23:26:52 INFO SparkUI: Stopped Spark web UI at http://ZLT6DHSRC:4040\r\n23/04/08 23:26:52 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/04/08 23:26:52 INFO MemoryStore: MemoryStore cleared\r\n23/04/08 23:26:52 INFO BlockManager: BlockManager stopped\r\n23/04/08 23:26:52 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/04/08 23:26:52 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/04/08 23:26:52 INFO SparkContext: Successfully stopped SparkContext\r\n23/04/08 23:26:52 INFO ShutdownHookManager: Shutdown hook called\r\n23/04/08 23:26:52 INFO ShutdownHookManager: Deleting directory C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\spark-f1d38682-d750-4fdb-891f-7f1f8b007bc3\r\n\r\n\r\n```\r\n\r\n#### reference\r\n\r\n```\r\n/**\r\n@setting::\r\n\r\n[]\r\n.config(&quot;spark.master&quot;, &quot;local&quot;)\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/38008330/spark-error-a-master-url-must-be-set-in-your-configuration-when-submitting-a\r\n\r\n\r\n;not_working; spring-spark-example/pom.xml at master &#183; Zhuinden/spring-spark-example\r\n;not_working; https://github.com/Zhuinden/spring-spark-example/blob/master/pom.xml\r\n;not_working; \r\n;not_working; java - Use Spring together with Spark - Stack Overflow\r\n;not_working; https://stackoverflow.com/questions/30053449/use-spring-together-with-spark\r\n\r\n[]\r\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead:\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/59629214/caused-by-org-apache-logging-log4j-loggingexception-log4j-slf4j-impl-cannot-be\r\n\r\n[]\r\nAdd the JVM option &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot;\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct\r\n\r\n;no_longer; []\r\n;no_longer; &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n;no_longer; &lt;dependency&gt;\r\n;no_longer;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n;no_longer;     &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n;no_longer;     &lt;version&gt;3.1.0&lt;/version&gt;\r\n;no_longer; &lt;/dependency&gt;\r\n;no_longer; &lt;&gt;\r\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\r\n;no_longer; \r\n;no_longer; spring - Getting java.lang.ClassNotFoundException: javax.servlet.ServletContext in JUnit - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/19690267/getting-java-lang-classnotfoundexception-javax-servlet-servletcontext-in-junit\r\n;no_longer; \r\n;no_longer; Spring Boot java.lang.NoClassDefFoundError: javax/servlet/Filter - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/30374316/spring-boot-java-lang-noclassdeffounderror-javax-servlet-filter\r\n;no_longer; \r\n;no_longer; maven - java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener - Stack Overflow\r\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\r\n;no_longer; \r\n;no_longer; // that feel old class jarkatar idk // or the ProSpring5 annotation\r\n\r\n\r\n[]\r\nspark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot\r\n\r\n\r\n[]\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;&gt;\r\nhttps://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\r\n\r\n~// still , should I download Spark installer or just Maven is good ? // k Maven is good \r\n\r\n*/\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OciwU.png","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<ul>\n<li><p><em>According to a comment above</em></p>\n<blockquote>\n<p>move to <code>spring-boot</code> 2.7</p>\n</blockquote>\n<p>This <strong>worked</strong> for me.</p>\n</li>\n<li><p><em>Following is the complete (rough) <strong>guide</strong> to setup Spark + Java + Spring.</em></p>\n<p><em>(As of now)</em></p>\n<p><em>(May or may not work, but works for me; I dont have sufficient knowledge on how this really works)</em></p>\n</li>\n</ul>\n<h2>code config (for reference)</h2>\n<h4>*outline view</h4>\n<p><a href=\"https://i.stack.imgur.com/OciwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OciwU.png\" alt=\"code config\" /></a></p>\n<h4>Maven Pom</h4>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;LSpark&lt;/groupId&gt;\n    &lt;artifactId&gt;LSpark_ch08a1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;LSpark_ch08a1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-streaming --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt; &lt;!--must--&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h4>VM argument (Run Configuration)</h4>\n<pre><code>--add-exports java.base/sun.nio.ch=ALL-UNNAMED\n</code></pre>\n<h4>example code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ex.main;\n\nimport java.util.ArrayList;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\n\npublic class LSpark_ch08a1_Intro {\n\n  public static void demo_Intro() {\n\n    ArrayList&lt;User&gt; arr_user = new ArrayList&lt;&gt;();\n    arr_user.add(new User(1, &quot;AA&quot;, &quot;NA&quot;, 1000));\n    arr_user.add(new User(2, &quot;BB&quot;, &quot;NA&quot;, 1010));\n    arr_user.add(new User(3, &quot;CC&quot;, &quot;NA&quot;, 1020));\n    arr_user.add(new User(4, &quot;DD&quot;, &quot;NA&quot;, 1030));\n    arr_user.add(new User(5, &quot;EE&quot;, &quot;NA&quot;, 1100));\n    arr_user.add(new User(6, &quot;FF&quot;, &quot;NA&quot;, 1600));\n    arr_user.add(new User(7, &quot;GG&quot;, &quot;NA&quot;, 1800));\n    arr_user.add(new User(8, &quot;HH&quot;, &quot;NA&quot;, 2000));\n    arr_user.add(new User(9, &quot;II&quot;, &quot;NA&quot;, 3000));\n\n    //    Encoder&lt;User&gt; UserEncoder = Encoders.bean(User.class);\n\n    SparkSession spark = SparkSession.builder()\n                                     .appName(&quot;IntroLearn&quot;)\n                                     .config(&quot;spark.master&quot;, &quot;local&quot;)\n                                     .getOrCreate();\n\n    Dataset&lt;Row&gt; df = spark.createDataFrame(arr_user, User.class);\n    df.show();\n        \n    //    df = df.select(&quot;id&quot;);\n    //    df.show();\n\n  }\n\n  public static void main(String[] args) {\n    LSpark_ch08a1_Intro.demo_Intro();\n\n  }\n\n}\n</code></pre>\n<h4>output</h4>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\n23/04/08 23:26:47 INFO SparkContext: Running Spark version 3.3.2\n23/04/08 23:26:47 WARN Shell: Did not find winutils.exe: java.io.FileNotFoundException: java.io.FileNotFoundException: HADOOP_HOME and hadoop.home.dir are unset. -see https://wiki.apache.org/hadoop/WindowsProblems\n23/04/08 23:26:47 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\n23/04/08 23:26:47 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/04/08 23:26:47 INFO ResourceUtils: ==============================================================\n23/04/08 23:26:47 INFO SparkContext: Submitted application: IntroLearn\n23/04/08 23:26:47 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/04/08 23:26:47 INFO ResourceProfile: Limiting resource is cpu\n23/04/08 23:26:47 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls to: Zlgtx\n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls to: Zlgtx\n23/04/08 23:26:47 INFO SecurityManager: Changing view acls groups to: \n23/04/08 23:26:47 INFO SecurityManager: Changing modify acls groups to: \n23/04/08 23:26:47 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(Zlgtx); groups with view permissions: Set(); users  with modify permissions: Set(Zlgtx); groups with modify permissions: Set()\n23/04/08 23:26:48 INFO Utils: Successfully started service 'sparkDriver' on port 52048.\n23/04/08 23:26:48 INFO SparkEnv: Registering MapOutputTracker\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMaster\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/04/08 23:26:48 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/04/08 23:26:48 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/04/08 23:26:48 INFO DiskBlockManager: Created local directory at C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\blockmgr-200c582b-4f3e-49b1-b674-bbaacb62b443\n23/04/08 23:26:48 INFO MemoryStore: MemoryStore started with capacity 1658.4 MiB\n23/04/08 23:26:48 INFO SparkEnv: Registering OutputCommitCoordinator\n23/04/08 23:26:49 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/04/08 23:26:49 INFO Executor: Starting executor ID driver on host ZLT6DHSRC\n23/04/08 23:26:49 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/04/08 23:26:49 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 52049.\n23/04/08 23:26:49 INFO NettyBlockTransferService: Server created on ZLT6DHSRC:52049\n23/04/08 23:26:49 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/04/08 23:26:49 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManagerMasterEndpoint: Registering block manager ZLT6DHSRC:52049 with 1658.4 MiB RAM, BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, ZLT6DHSRC, 52049, None)\n23/04/08 23:26:49 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/04/08 23:26:49 INFO SharedState: Warehouse path is 'file:/G:/wsp/eclipse/LSpark_ch08a1/spark-warehouse'.\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 151.5239 ms\n23/04/08 23:26:52 INFO CodeGenerator: Code generated in 12.3755 ms\n+---+---+----+\n| id|job|name|\n+---+---+----+\n|  1| NA|  AA|\n|  2| NA|  BB|\n|  3| NA|  CC|\n|  4| NA|  DD|\n|  5| NA|  EE|\n|  6| NA|  FF|\n|  7| NA|  GG|\n|  8| NA|  HH|\n|  9| NA|  II|\n+---+---+----+\n\n23/04/08 23:26:52 INFO SparkContext: Invoking stop() from shutdown hook\n23/04/08 23:26:52 INFO SparkUI: Stopped Spark web UI at http://ZLT6DHSRC:4040\n23/04/08 23:26:52 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/04/08 23:26:52 INFO MemoryStore: MemoryStore cleared\n23/04/08 23:26:52 INFO BlockManager: BlockManager stopped\n23/04/08 23:26:52 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/04/08 23:26:52 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/04/08 23:26:52 INFO SparkContext: Successfully stopped SparkContext\n23/04/08 23:26:52 INFO ShutdownHookManager: Shutdown hook called\n23/04/08 23:26:52 INFO ShutdownHookManager: Deleting directory C:\\Users\\Zlgtx\\AppData\\Local\\Temp\\spark-f1d38682-d750-4fdb-891f-7f1f8b007bc3\n\n\n</code></pre>\n<h4>reference</h4>\n<pre><code>/**\n@setting::\n\n[]\n.config(&quot;spark.master&quot;, &quot;local&quot;)\n&lt;&gt;\nhttps://stackoverflow.com/questions/38008330/spark-error-a-master-url-must-be-set-in-your-configuration-when-submitting-a\n\n\n;not_working; spring-spark-example/pom.xml at master · Zhuinden/spring-spark-example\n;not_working; https://github.com/Zhuinden/spring-spark-example/blob/master/pom.xml\n;not_working; \n;not_working; java - Use Spring together with Spark - Stack Overflow\n;not_working; https://stackoverflow.com/questions/30053449/use-spring-together-with-spark\n\n[]\nIn other case, if you use the starters for assembling dependencies, you have to exclude Logback and then include log4j 2 instead:\n&lt;&gt;\nhttps://stackoverflow.com/questions/59629214/caused-by-org-apache-logging-log4j-loggingexception-log4j-slf4j-impl-cannot-be\n\n[]\nAdd the JVM option &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot;\n&lt;&gt;\nhttps://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct\n\n;no_longer; []\n;no_longer; &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n;no_longer; &lt;dependency&gt;\n;no_longer;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n;no_longer;     &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n;no_longer;     &lt;version&gt;3.1.0&lt;/version&gt;\n;no_longer; &lt;/dependency&gt;\n;no_longer; &lt;&gt;\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\n;no_longer; \n;no_longer; spring - Getting java.lang.ClassNotFoundException: javax.servlet.ServletContext in JUnit - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/19690267/getting-java-lang-classnotfoundexception-javax-servlet-servletcontext-in-junit\n;no_longer; \n;no_longer; Spring Boot java.lang.NoClassDefFoundError: javax/servlet/Filter - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/30374316/spring-boot-java-lang-noclassdeffounderror-javax-servlet-filter\n;no_longer; \n;no_longer; maven - java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener - Stack Overflow\n;no_longer; https://stackoverflow.com/questions/36196086/java-lang-classnotfoundexception-javax-servlet-http-httpsessionidlistener\n;no_longer; \n;no_longer; // that feel old class jarkatar idk // or the ProSpring5 annotation\n\n\n[]\nspark heavily [depends on `Java Servlet 4.0` (part of Java EE 8)](https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.13/3.3.1): , `spring-boot 3` and `spring 6` deliberately do not support `Java EE 8` - their developers have switched to `Jakarta EE 9` which is not backward compatible with `Java EE 8` due to namespace change\n&lt;&gt;\nhttps://stackoverflow.com/questions/75350944/dependecy-conflict-apache-spark-and-spring-boot\n\n\n[]\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;&gt;\nhttps://stackoverflow.com/questions/42352091/spark-sql-fails-with-java-lang-noclassdeffounderror-org-codehaus-commons-compil\n\n~// still , should I download Spark installer or just Maven is good ? // k Maven is good \n\n*/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"score":0,"creation_date":1690876796,"post_id":76042397,"comment_id":135410557,"body_markdown":"OMG I&#39;ve been struggling with this for weeks! This totally worked for me. Wherever you are, whoever you are...I&#39;m sending a big Hadoken of blessings your way!","body":"OMG I&#39;ve been struggling with this for weeks! This totally worked for me. Wherever you are, whoever you are...I&#39;m sending a big Hadoken of blessings your way!"},{"owner":{"account_id":7070585,"reputation":53,"user_id":5412315,"display_name":"CodeBlooded"},"score":0,"creation_date":1698079694,"post_id":76042397,"comment_id":136357033,"body_markdown":"I&#39;m facing similar issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Could you please share your pom dependency that have modfied to overcome the issue?","body":"I&#39;m facing similar issue with spark 3.3.3 , java 17, spring-boot 3.1.4. Could you please share your pom dependency that have modfied to overcome the issue?"}],"tags":[],"owner":{"account_id":8553554,"reputation":83,"user_id":6409826,"display_name":"Cesar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681806477,"creation_date":1681806477,"answer_id":76042397,"question_id":75350944,"body_markdown":"i had a similar problem: looks like a jakarta version conflict between spring boot (v.3.0.5 in my case) and spark (3.4.0)\r\nI was able to resolve the conflict with these properties:\r\n\r\n    &lt;properties&gt;\r\n    &lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\r\n    &lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>i had a similar problem: looks like a jakarta version conflict between spring boot (v.3.0.5 in my case) and spark (3.4.0)\nI was able to resolve the conflict with these properties:</p>\n<pre><code>&lt;properties&gt;\n&lt;jakarta-servlet.version&gt;4.0.3&lt;/jakarta-servlet.version&gt;\n&lt;jersey.version&gt;2.36&lt;/jersey.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":18423089,"reputation":171,"user_id":13420196,"display_name":"Niko Konovalov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2013,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1681806477,"creation_date":1675585289,"question_id":75350944,"body_markdown":"So I&#39;m building a full stack backtesting application for trading strategies and currently I thought of using Spring Boot as a Server, and Apache Spark for data processing. \r\n\r\nI tried creating Spring Boot &amp; Apache Spark in the same project but with no luck, I couldn&#39;t solve a dependency conflict, I&#39;m getting an error:\r\n\r\n```console\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/Servlet\r\n\tat org.apache.spark.ui.SparkUI$.create(SparkUI.scala:223)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:484)\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n\tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n\tat scala.Option.getOrElse(Option.scala:201)\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n\tat com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Servlet\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 7 more\r\n```\r\n\r\nIf I add hadoop dependecise then I&#39;ll get a different error:\r\n```console\r\nException in thread &quot;main&quot; javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\r\n\tat org.sparkproject.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\r\n\tat org.sparkproject.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\r\n\tat org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.sparkproject.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\r\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.sparkproject.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\r\n\tat org.sparkproject.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\r\n\tat org.sparkproject.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\r\n\tat org.sparkproject.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\r\n\tat org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\r\n\tat org.apache.spark.ui.ServerInfo.addHandler(JettyUtils.scala:491)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2(SparkUI.scala:76)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2$adapted(SparkUI.scala:76)\r\n\tat scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\r\n\tat scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\r\n\tat scala.collection.AbstractIterable.foreach(Iterable.scala:926)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1(SparkUI.scala:76)\r\n\tat org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1$adapted(SparkUI.scala:74)\r\n\tat scala.Option.foreach(Option.scala:437)\r\n\tat org.apache.spark.ui.SparkUI.attachAllHandler(SparkUI.scala:74)\r\n\tat org.apache.spark.SparkContext.$anonfun$new$31(SparkContext.scala:648)\r\n\tat org.apache.spark.SparkContext.$anonfun$new$31$adapted(SparkContext.scala:648)\r\n\tat scala.Option.foreach(Option.scala:437)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:648)\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n\tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n\tat scala.Option.getOrElse(Option.scala:201)\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n\tat com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI tied excluding servlet from spark like so:\r\n```xml\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.eclipse.jetty.orbit&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n```\r\n\r\nIt doesn&#39;t help\r\n\r\nThis is a clean pom.xml file that I&#39;m using right now:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.samurai.lab&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;market-data&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;market-data&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;apache-spark.version&gt;3.3.1&lt;/apache-spark.version&gt;\r\n\t\t&lt;hadoop.version&gt;3.3.2&lt;/hadoop.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache-spark.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${apache-spark.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAny ideas on how to make it work and solve the conflict?\r\n\r\n### Update v1 ###\r\n\r\nI have the dependency as part of the spark-core:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UqKxb.png","title":"Dependecy conflict Apache Spark and Spring Boot","body":"<p>So I'm building a full stack backtesting application for trading strategies and currently I thought of using Spring Boot as a Server, and Apache Spark for data processing.</p>\n<p>I tried creating Spring Boot &amp; Apache Spark in the same project but with no luck, I couldn't solve a dependency conflict, I'm getting an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/Servlet\n    at org.apache.spark.ui.SparkUI$.create(SparkUI.scala:223)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:484)\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n    at scala.Option.getOrElse(Option.scala:201)\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n    at com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Servlet\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 7 more\n</code></pre>\n<p>If I add hadoop dependecise then I'll get a different error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.servlet.UnavailableException: Servlet class org.glassfish.jersey.servlet.ServletContainer is not a javax.servlet.Servlet\n    at org.sparkproject.jetty.servlet.ServletHolder.checkServletType(ServletHolder.java:514)\n    at org.sparkproject.jetty.servlet.ServletHolder.doStart(ServletHolder.java:386)\n    at org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.sparkproject.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:749)\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.sparkproject.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774)\n    at org.sparkproject.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379)\n    at org.sparkproject.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916)\n    at org.sparkproject.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288)\n    at org.sparkproject.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73)\n    at org.apache.spark.ui.ServerInfo.addHandler(JettyUtils.scala:491)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2(SparkUI.scala:76)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$2$adapted(SparkUI.scala:76)\n    at scala.collection.IterableOnceOps.foreach(IterableOnce.scala:563)\n    at scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:561)\n    at scala.collection.AbstractIterable.foreach(Iterable.scala:926)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1(SparkUI.scala:76)\n    at org.apache.spark.ui.SparkUI.$anonfun$attachAllHandler$1$adapted(SparkUI.scala:74)\n    at scala.Option.foreach(Option.scala:437)\n    at org.apache.spark.ui.SparkUI.attachAllHandler(SparkUI.scala:74)\n    at org.apache.spark.SparkContext.$anonfun$new$31(SparkContext.scala:648)\n    at org.apache.spark.SparkContext.$anonfun$new$31$adapted(SparkContext.scala:648)\n    at scala.Option.foreach(Option.scala:437)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:648)\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n    at scala.Option.getOrElse(Option.scala:201)\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n    at com.samurai.lab.marketdata.MarketDataApplication.main(MarketDataApplication.java:12)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tied excluding servlet from spark like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jetty.orbit&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n</code></pre>\n<p>It doesn't help</p>\n<p>This is a clean pom.xml file that I'm using right now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.samurai.lab&lt;/groupId&gt;\n    &lt;artifactId&gt;market-data&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;market-data&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;apache-spark.version&gt;3.3.1&lt;/apache-spark.version&gt;\n        &lt;hadoop.version&gt;3.3.2&lt;/hadoop.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;${apache-spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;${apache-spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Any ideas on how to make it work and solve the conflict?</p>\n<h3>Update v1</h3>\n<p>I have the dependency as part of the spark-core:\n<a href=\"https://i.stack.imgur.com/UqKxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UqKxb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","rest","multipartform-data"],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681806321,"creation_date":1681806161,"question_id":76042350,"body_markdown":"I need to do RestTemplate request to get response from this method:\r\n\r\n    @GetMapping(value = DEVICE_ID_PATH, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n            log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n            DeviceSummaryResponse response =\r\n                deviceSummaryMapper.toResponse(mobileComplexService.getSummary(id));\r\n    \r\n            MultiValueMap&lt;String, Object&gt; deviceSummary = new LinkedMultiValueMap&lt;&gt;();\r\n    \r\n            deviceSummary.add(&quot;route&quot;, new HttpEntity&lt;&gt;(response.getRoute(), getStreamHeader()));\r\n            deviceSummary.add(&quot;config&quot;, new HttpEntity&lt;&gt;(response.getConfig(), getJsonHeader()));\r\n    \r\n            return new ResponseEntity&lt;&gt;(deviceSummary, HttpStatus.OK);\r\n        }\r\n\r\n\r\nI try create this Rest query:\r\n\r\n    public MobileComplexSummaryDto getSummary(String deviceIp, Integer apiServerPort) throws DeviceSummaryObtainingException {\r\n            log.debug(&quot;Requesting mobile complex device summary for ip = {}...&quot;, deviceIp);\r\n    \r\n            ResponseEntity&lt;DeviceSummaryResponse&gt; response;\r\n    \r\n            try {\r\n                response = restTemplate.exchange(\r\n                    String.format(URL_TEMPLATE, deviceIp, apiServerPort, coreComplexApiAware.deviceSummaryEndpoint()),\r\n                    HttpMethod.GET,\r\n                    new HttpEntity&lt;&gt;(Map.of(HttpHeaders.ACCEPT, MediaType.MULTIPART_FORM_DATA_VALUE)),\r\n                    DeviceSummaryResponse.class\r\n                );\r\n            } catch (RestClientException e) {\r\n                throw new DeviceSummaryObtainingException(e.getMessage(), e);\r\n            }\r\n    \r\n            if (response.getStatusCode().is2xxSuccessful()) {\r\n                return deviceSummaryMapper.toDto(response.getBody());\r\n            } else {\r\n                throw new DeviceSummaryObtainingException();\r\n            }\r\n        }\r\n\r\n\r\nIt is my response Entity:\r\n\r\n    @Data\r\n    @Validated\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @NotNull\r\n        private ConfigResponse config;\r\n    \r\n        @NotNull\r\n        private InputStream route;\r\n    }\r\n\r\nbut its dont work, HttpMessageConverter error.\r\n\r\nHow correctly get MultiValueMap&lt;String, Object&gt; by RestTemplate?\r\nCan you give me correct example please?","title":"HTTP get MultiValueMap response using RestTemplate","body":"<p>I need to do RestTemplate request to get response from this method:</p>\n<pre><code>@GetMapping(value = DEVICE_ID_PATH, produces = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n        DeviceSummaryResponse response =\n            deviceSummaryMapper.toResponse(mobileComplexService.getSummary(id));\n\n        MultiValueMap&lt;String, Object&gt; deviceSummary = new LinkedMultiValueMap&lt;&gt;();\n\n        deviceSummary.add(&quot;route&quot;, new HttpEntity&lt;&gt;(response.getRoute(), getStreamHeader()));\n        deviceSummary.add(&quot;config&quot;, new HttpEntity&lt;&gt;(response.getConfig(), getJsonHeader()));\n\n        return new ResponseEntity&lt;&gt;(deviceSummary, HttpStatus.OK);\n    }\n</code></pre>\n<p>I try create this Rest query:</p>\n<pre><code>public MobileComplexSummaryDto getSummary(String deviceIp, Integer apiServerPort) throws DeviceSummaryObtainingException {\n        log.debug(&quot;Requesting mobile complex device summary for ip = {}...&quot;, deviceIp);\n\n        ResponseEntity&lt;DeviceSummaryResponse&gt; response;\n\n        try {\n            response = restTemplate.exchange(\n                String.format(URL_TEMPLATE, deviceIp, apiServerPort, coreComplexApiAware.deviceSummaryEndpoint()),\n                HttpMethod.GET,\n                new HttpEntity&lt;&gt;(Map.of(HttpHeaders.ACCEPT, MediaType.MULTIPART_FORM_DATA_VALUE)),\n                DeviceSummaryResponse.class\n            );\n        } catch (RestClientException e) {\n            throw new DeviceSummaryObtainingException(e.getMessage(), e);\n        }\n\n        if (response.getStatusCode().is2xxSuccessful()) {\n            return deviceSummaryMapper.toDto(response.getBody());\n        } else {\n            throw new DeviceSummaryObtainingException();\n        }\n    }\n</code></pre>\n<p>It is my response Entity:</p>\n<pre><code>@Data\n@Validated\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DeviceSummaryResponse {\n\n    @NotNull\n    private ConfigResponse config;\n\n    @NotNull\n    private InputStream route;\n}\n</code></pre>\n<p>but its dont work, HttpMessageConverter error.</p>\n<p>How correctly get MultiValueMap&lt;String, Object&gt; by RestTemplate?\nCan you give me correct example please?</p>\n"},{"tags":["javascript","java","sockets","tcp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681558031,"post_id":76020087,"comment_id":134077866,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21263154,"reputation":1,"user_id":15643718,"display_name":"juanLude"},"score":0,"creation_date":1681711950,"post_id":76020087,"comment_id":134094631,"body_markdown":"I ended up fixing up the issue by simply adding a newline character &quot;\\n&quot; in the client.write(input) statement like so:\nclient.write(input + &quot;\\n&quot;);\nI know \\n is a character used to represent the end of a line of text and to start a new line but I don&#39;t get why this character was not necessary to be added in the Client written in Java.","body":"I ended up fixing up the issue by simply adding a newline character &quot;\\n&quot; in the client.write(input) statement like so: client.write(input + &quot;\\n&quot;); I know \\n is a character used to represent the end of a line of text and to start a new line but I don&#39;t get why this character was not necessary to be added in the Client written in Java."},{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":3,"creation_date":1681806303,"post_id":76020087,"comment_id":134111924,"body_markdown":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/)). By SE policy, any vandalism will be reverted. If you want to delete your post, the &quot;delete&quot; link is right next to the &quot;edit&quot; link you used to wreck it.","body":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>). By SE policy, any vandalism will be reverted. If you want to delete your post, the &quot;delete&quot; link is right next to the &quot;edit&quot; link you used to wreck it."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1681807078,"post_id":76020087,"comment_id":134112082,"body_markdown":"Please create an answer post to present your solution.","body":"Please create an answer post to present your solution."}],"owner":{"account_id":21263154,"reputation":1,"user_id":15643718,"display_name":"juanLude"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681806312,"creation_date":1681526053,"question_id":76020087,"body_markdown":"I am trying to develop a simple application using TCP sockets.\r\nServer is in Java and Client in JavaScript.\r\nThe idea is to have inputs taken on the client, send them to the server and feeding back to the client.\r\nThe client can type CONNECT, PUT , GET,  DELETE, or DISCONNECT and server should process accordingly as per server code provided.\r\nThe problem I am having is that I am not getting a response back from the server before I get prompted for input on the client. It looks like the client will not let me take any inputs from the server until I close the client socket. When I type DISCONNECT, whatever I have typed in, the server will spit it out right before the client shuts down.\r\nThis server/client app works when I have the client developed in Java but not in JavaScript.\r\n\r\n\r\nServer:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class KeyValueServer {\r\n    private static Map&lt;String, String&gt; keyValueStore;\r\n    private static Map&lt;String, Boolean&gt; clientConnected;\r\n\r\n    public KeyValueServer() {\r\n        keyValueStore = new HashMap&lt;&gt;();\r\n        clientConnected = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void start(int port) {\r\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\r\n            System.out.println(&quot;Server started on port &quot; + port);\r\n\r\n            while (true) {\r\n                // Accept incoming client connections\r\n                Socket clientSocket = serverSocket.accept();\r\n                System.out.println(&quot;New client connected&quot;);\r\n\r\n                // Create a new thread for each client once connected\r\n                ClientHandler clientHandler = new ClientHandler(clientSocket);\r\n                Thread clientThread = new Thread(clientHandler);\r\n                clientThread.start();\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Error: Port &quot; + port + &quot; is already in use.&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    private static class ClientHandler implements Runnable {\r\n        private final Socket clientSocket;\r\n        // private String clientUsername;\r\n\r\n        public ClientHandler(Socket clientSocket) {\r\n            this.clientSocket = clientSocket;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Read data from the client and send responses back\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                \r\n                String inputLine;\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    System.out.println(inputLine);\r\n                    String[] tokens = inputLine.split(&quot; &quot;, 2);\r\n                    String command = tokens[0];\r\n\r\n                    switch (command) {\r\n                        case &quot;CONNECT&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            if (clientConnected.containsKey(tokens[1])) {\r\n                                System.out.println(&quot;CONNECT: ERROR&quot;);\r\n                                out.println(&quot;CONNECT: ERROR&quot;);\r\n                                \r\n                                break;\r\n                            }\r\n\r\n                            String clientId = tokens[1];\r\n                            clientConnected.put(clientId, true);\r\n                            // keyValueStore.putIfAbsent(clientId, &quot;&quot;);\r\n                            out.println(&quot;CONNECT: OK&quot;);\r\n                            System.out.println(&quot;CONNECT: OK&quot;);\r\n                            out.flush(); // flush the buffer to send the message immediately\r\n                            break;\r\n\r\n                        case &quot;PUT&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            System.out.println(clientConnected.toString());\r\n                            if (clientConnected.containsValue(true)) {\r\n                                String inputLine2;\r\n                                inputLine2 = in.readLine();\r\n                                keyValueStore.put(tokens[1], inputLine2);\r\n                                System.out.println(keyValueStore.toString());\r\n                                System.out.println(&quot;PUT: OK&quot;);\r\n                            } else {\r\n                                System.out.println(&quot;PUT: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;GET&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n\r\n                            if (clientConnected.containsValue(true)) {\r\n                                String value = keyValueStore.getOrDefault(tokens[1], &quot;&quot;);\r\n                                if (value.isEmpty()) {\r\n                                    System.out.println(&quot;GET: ERROR&quot;);\r\n                                } else {\r\n                                    System.out.println(value);\r\n                                }\r\n                            } else {\r\n                                System.out.println(&quot;GET: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;DELETE&quot;:\r\n                            if (tokens.length &lt; 2) {\r\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                                break;\r\n                            }\r\n                            if (clientConnected.containsValue(true)) {\r\n                                keyValueStore.remove(tokens[1]);\r\n                                System.out.println(&quot;DELETE: OK&quot;);\r\n                            } else {\r\n                                System.out.println(&quot;DELETE: ERROR&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        case &quot;DISCONNECT&quot;:\r\n                            if (clientConnected.containsValue(true)) {\r\n\r\n                                clientConnected.remove(tokens[0]);\r\n                                keyValueStore.remove(tokens[0]);\r\n                                clientConnected.clear();\r\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\r\n                                out.println(&quot;DISCONNECT: OK&quot;);\r\n                                System.exit(0);\r\n                            } else {\r\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\r\n                                out.println(&quot;DISCONNECT: OK&quot;);\r\n                            }\r\n                            break;\r\n\r\n                        default:\r\n                            System.out.println(&quot;ERROR: Invalid command&quot;);\r\n                            out.println(&quot;ERROR: Invalid command&quot;);\r\n                            in.close();\r\n                            out.close();\r\n                            clientSocket.close();\r\n                            System.exit(0);\r\n                            break;\r\n                    }\r\n\r\n                }\r\n\r\n                // Close the client socket when the client disconnects\r\n                in.close();\r\n                out.close();\r\n                clientSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        KeyValueServer server = new KeyValueServer();\r\n        server.start(8080);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nClient:\r\n\r\n```\r\nconst readline = require(&#39;readline&#39;);\r\nconst net = require(&#39;net&#39;);\r\n\r\nconst serverAddress = &#39;localhost&#39;;\r\nconst port = 8080;\r\n\r\nconst client = new net.Socket();\r\ndebugger;\r\nconst rl = readline.createInterface({\r\n  input: process.stdin,\r\n  output: process.stdout\r\n});\r\n\r\nclient.connect(port, serverAddress, () =&gt; {\r\n  console.log(&#39;Connected to server&#39;);\r\n  rl.setPrompt(&#39;Enter message to send to server: &#39;);\r\n  rl.prompt();\r\n});\r\n\r\n\r\nrl.on(&#39;line&#39;, (input) =&gt; {\r\n    \r\n  if (input.trim() === &#39;DISCONNECT&#39;) {\r\n    client.write(input);\r\n    client.end();\r\n    rl.close();\r\n  } else {\r\n    client.write(input);\r\n    \r\n    rl.prompt();\r\n  }\r\n});\r\n\r\nclient.on(&#39;data&#39;, (data) =&gt; {\r\n    console.log(`Server message Received: ${data}`);\r\n  const serverMessage = data.toString();\r\n  console.log(&#39;Server says: &#39; + serverMessage);\r\n  rl.prompt();\r\n});\r\n\r\nclient.on(&#39;close&#39;, () =&gt; {\r\n  console.log(&#39;Connection closed&#39;);\r\n  process.exit(0);\r\n});\r\n\r\nclient.on(&#39;error&#39;, (err) =&gt; {\r\n  console.log(&#39;Error connecting to server: &#39; + err.message);\r\n  process.exit(1);\r\n});\r\n\r\n```\r\n\r\n\r\nOn the console:\r\n\r\nClient\r\n------                                             \r\nEnter message to send to server: CONNECT Juan       \r\nEnter message to send to server:\r\n                     \r\nServer\r\n-------\r\nServer started on port 8080                                        \r\nNew client connected                               \r\n(I should expect a &quot;CONNECT: OK&quot; message)                ","title":"Networked application using TCP sockets - Server side: Java / Client side: Javascript","body":"<p>I am trying to develop a simple application using TCP sockets.\nServer is in Java and Client in JavaScript.\nThe idea is to have inputs taken on the client, send them to the server and feeding back to the client.\nThe client can type CONNECT, PUT , GET,  DELETE, or DISCONNECT and server should process accordingly as per server code provided.\nThe problem I am having is that I am not getting a response back from the server before I get prompted for input on the client. It looks like the client will not let me take any inputs from the server until I close the client socket. When I type DISCONNECT, whatever I have typed in, the server will spit it out right before the client shuts down.\nThis server/client app works when I have the client developed in Java but not in JavaScript.</p>\n<p>Server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KeyValueServer {\n    private static Map&lt;String, String&gt; keyValueStore;\n    private static Map&lt;String, Boolean&gt; clientConnected;\n\n    public KeyValueServer() {\n        keyValueStore = new HashMap&lt;&gt;();\n        clientConnected = new HashMap&lt;&gt;();\n    }\n\n    public void start(int port) {\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\n            System.out.println(&quot;Server started on port &quot; + port);\n\n            while (true) {\n                // Accept incoming client connections\n                Socket clientSocket = serverSocket.accept();\n                System.out.println(&quot;New client connected&quot;);\n\n                // Create a new thread for each client once connected\n                ClientHandler clientHandler = new ClientHandler(clientSocket);\n                Thread clientThread = new Thread(clientHandler);\n                clientThread.start();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Error: Port &quot; + port + &quot; is already in use.&quot;);\n            System.exit(1);\n        }\n    }\n\n    private static class ClientHandler implements Runnable {\n        private final Socket clientSocket;\n        // private String clientUsername;\n\n        public ClientHandler(Socket clientSocket) {\n            this.clientSocket = clientSocket;\n        }\n\n        @Override\n        public void run() {\n            try {\n                // Read data from the client and send responses back\n                BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n                \n                String inputLine;\n                while ((inputLine = in.readLine()) != null) {\n                    System.out.println(inputLine);\n                    String[] tokens = inputLine.split(&quot; &quot;, 2);\n                    String command = tokens[0];\n\n                    switch (command) {\n                        case &quot;CONNECT&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            if (clientConnected.containsKey(tokens[1])) {\n                                System.out.println(&quot;CONNECT: ERROR&quot;);\n                                out.println(&quot;CONNECT: ERROR&quot;);\n                                \n                                break;\n                            }\n\n                            String clientId = tokens[1];\n                            clientConnected.put(clientId, true);\n                            // keyValueStore.putIfAbsent(clientId, &quot;&quot;);\n                            out.println(&quot;CONNECT: OK&quot;);\n                            System.out.println(&quot;CONNECT: OK&quot;);\n                            out.flush(); // flush the buffer to send the message immediately\n                            break;\n\n                        case &quot;PUT&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            System.out.println(clientConnected.toString());\n                            if (clientConnected.containsValue(true)) {\n                                String inputLine2;\n                                inputLine2 = in.readLine();\n                                keyValueStore.put(tokens[1], inputLine2);\n                                System.out.println(keyValueStore.toString());\n                                System.out.println(&quot;PUT: OK&quot;);\n                            } else {\n                                System.out.println(&quot;PUT: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;GET&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n\n                            if (clientConnected.containsValue(true)) {\n                                String value = keyValueStore.getOrDefault(tokens[1], &quot;&quot;);\n                                if (value.isEmpty()) {\n                                    System.out.println(&quot;GET: ERROR&quot;);\n                                } else {\n                                    System.out.println(value);\n                                }\n                            } else {\n                                System.out.println(&quot;GET: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;DELETE&quot;:\n                            if (tokens.length &lt; 2) {\n                                System.out.println(&quot;ERROR: Invalid command&quot;);\n                                break;\n                            }\n                            if (clientConnected.containsValue(true)) {\n                                keyValueStore.remove(tokens[1]);\n                                System.out.println(&quot;DELETE: OK&quot;);\n                            } else {\n                                System.out.println(&quot;DELETE: ERROR&quot;);\n                            }\n                            break;\n\n                        case &quot;DISCONNECT&quot;:\n                            if (clientConnected.containsValue(true)) {\n\n                                clientConnected.remove(tokens[0]);\n                                keyValueStore.remove(tokens[0]);\n                                clientConnected.clear();\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\n                                out.println(&quot;DISCONNECT: OK&quot;);\n                                System.exit(0);\n                            } else {\n                                System.out.println(&quot;DISCONNECT: OK&quot;);\n                                out.println(&quot;DISCONNECT: OK&quot;);\n                            }\n                            break;\n\n                        default:\n                            System.out.println(&quot;ERROR: Invalid command&quot;);\n                            out.println(&quot;ERROR: Invalid command&quot;);\n                            in.close();\n                            out.close();\n                            clientSocket.close();\n                            System.exit(0);\n                            break;\n                    }\n\n                }\n\n                // Close the client socket when the client disconnects\n                in.close();\n                out.close();\n                clientSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        KeyValueServer server = new KeyValueServer();\n        server.start(8080);\n    }\n\n}\n\n\n</code></pre>\n<p>Client:</p>\n<pre><code>const readline = require('readline');\nconst net = require('net');\n\nconst serverAddress = 'localhost';\nconst port = 8080;\n\nconst client = new net.Socket();\ndebugger;\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\nclient.connect(port, serverAddress, () =&gt; {\n  console.log('Connected to server');\n  rl.setPrompt('Enter message to send to server: ');\n  rl.prompt();\n});\n\n\nrl.on('line', (input) =&gt; {\n    \n  if (input.trim() === 'DISCONNECT') {\n    client.write(input);\n    client.end();\n    rl.close();\n  } else {\n    client.write(input);\n    \n    rl.prompt();\n  }\n});\n\nclient.on('data', (data) =&gt; {\n    console.log(`Server message Received: ${data}`);\n  const serverMessage = data.toString();\n  console.log('Server says: ' + serverMessage);\n  rl.prompt();\n});\n\nclient.on('close', () =&gt; {\n  console.log('Connection closed');\n  process.exit(0);\n});\n\nclient.on('error', (err) =&gt; {\n  console.log('Error connecting to server: ' + err.message);\n  process.exit(1);\n});\n\n</code></pre>\n<p>On the console:</p>\n<h2>Client</h2>\n<p>Enter message to send to server: CONNECT Juan<br />\nEnter message to send to server:</p>\n<h2>Server</h2>\n<p>Server started on port 8080<br />\nNew client connected<br />\n(I should expect a &quot;CONNECT: OK&quot; message)</p>\n"},{"tags":["java","spring-boot","ssl","spring-security","ssl-certificate"],"answers":[{"comments":[{"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"score":0,"creation_date":1681805067,"post_id":76042175,"comment_id":134111641,"body_markdown":"Ok, thank you @OrangeDog how can I import private key?","body":"Ok, thank you @OrangeDog how can I import private key?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1681806227,"post_id":76042175,"comment_id":134111904,"body_markdown":"Actually, the p7b doesn&#39;t have the private key either. You presumably generated it yourself?","body":"Actually, the p7b doesn&#39;t have the private key either. You presumably generated it yourself?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1681808360,"post_id":76042175,"comment_id":134112351,"body_markdown":"https://stackoverflow.com/questions/31132288/how-to-import-a-secret-key-into-key-store-by-keytool/31139339","body":"<a href=\"https://stackoverflow.com/questions/31132288/how-to-import-a-secret-key-into-key-store-by-keytool/31139339\" title=\"how to import a secret key into key store by keytool\">stackoverflow.com/questions/31132288/&hellip;</a>"}],"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681806226,"creation_date":1681804984,"answer_id":76042175,"question_id":76042139,"body_markdown":"You have only imported the certificate, not its corresponding private key.\r\n\r\nHence, it is not a key entry.\r\n\r\nYou need to add the private key that you used to generate the certificate signing request.","title":"Spring Boot with purchased certificate gives error: Alias name [...] does not identify a key entry","body":"<p>You have only imported the certificate, not its corresponding private key.</p>\n<p>Hence, it is not a key entry.</p>\n<p>You need to add the private key that you used to generate the certificate signing request.</p>\n"}],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681806226,"creation_date":1681804763,"question_id":76042139,"body_markdown":"I bought an ssl certificate and got a `wildcard_certificate.cer` file and a `wildcard_certificate.p7b` file\r\n\r\nI ran this command for import my certificate\r\n```bash\r\nkeytool -import -alias arubaCert -file ./wildcard_certificate.cer -keystore ./wildcard_certificate.p12 -storepass myPassword\r\n``` \r\n\r\nand then this command for set my certificate \r\n\r\n```bash\r\nkeytool -importcert -file /root/server/static/keys/wildcard_certificate.cer -alias arubaCert -keystore /etc/ssl/certs/java/cacerts\r\n``` \r\n\r\nbut when I launch the server application, I get this error\r\n\r\n```log\r\nCaused by: java.io.IOException: Alias name [arubaCert] does not identify a key entry\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:337) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:104) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 33 common frames omitted\r\n```\r\n\r\nHow can I setup spring boot for https?\r\n\r\n\r\nThis is my properties file\r\n\r\n```yaml\r\nserver.port=443\r\nserver.port.http=80\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=arubaCert\r\nserver.ssl.key-password=myPassword\r\nserver.ssl.key-store=/root/server/static/keys/wildcard_certificate.p12\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.keyStoreType=PKCS12\r\nserver.ssl.keystore-password=myPassword\r\nserver.ssl.trust-certificate=/root/server/static/keys/wildcard_certificate.cer\r\ntrust.store=/root/server/static/keys/wildcard_certificate.p12\r\ntrust.store.password=myPassword\r\n\r\n```\r\n","title":"Spring Boot with purchased certificate gives error: Alias name [...] does not identify a key entry","body":"<p>I bought an ssl certificate and got a <code>wildcard_certificate.cer</code> file and a <code>wildcard_certificate.p7b</code> file</p>\n<p>I ran this command for import my certificate</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -import -alias arubaCert -file ./wildcard_certificate.cer -keystore ./wildcard_certificate.p12 -storepass myPassword\n</code></pre>\n<p>and then this command for set my certificate</p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -importcert -file /root/server/static/keys/wildcard_certificate.cer -alias arubaCert -keystore /etc/ssl/certs/java/cacerts\n</code></pre>\n<p>but when I launch the server application, I get this error</p>\n<pre><code>Caused by: java.io.IOException: Alias name [arubaCert] does not identify a key entry\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:337) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:104) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 33 common frames omitted\n</code></pre>\n<p>How can I setup spring boot for https?</p>\n<p>This is my properties file</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server.port=443\nserver.port.http=80\nserver.ssl.enabled=true\nserver.ssl.key-alias=arubaCert\nserver.ssl.key-password=myPassword\nserver.ssl.key-store=/root/server/static/keys/wildcard_certificate.p12\nserver.ssl.key-store-type=PKCS12\nserver.ssl.keyStoreType=PKCS12\nserver.ssl.keystore-password=myPassword\nserver.ssl.trust-certificate=/root/server/static/keys/wildcard_certificate.cer\ntrust.store=/root/server/static/keys/wildcard_certificate.p12\ntrust.store.password=myPassword\n\n</code></pre>\n"},{"tags":["java","string","arrays","mac-address"],"comments":[{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":1,"creation_date":1273403384,"post_id":2797430,"comment_id":2834383,"body_markdown":"If you need to return a string formatted the same way, use a StringBuilder, and append to it in a loop parts formatted with String.format(..).","body":"If you need to return a string formatted the same way, use a StringBuilder, and append to it in a loop parts formatted with String.format(..)."},{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1273403471,"post_id":2797430,"comment_id":2834392,"body_markdown":"See http://stackoverflow.com/questions/311165/how-do-you-convert-byte-array-to-hexadecimal-string-and-vice-versa-in-c/632920#632920","body":"See <a href=\"http://stackoverflow.com/questions/311165/how-do-you-convert-byte-array-to-hexadecimal-string-and-vice-versa-in-c/632920#632920\" title=\"how do you convert byte array to hexadecimal string and vice versa in c\">stackoverflow.com/questions/311165/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1273403452,"creation_date":1273403452,"answer_id":2797441,"question_id":2797430,"body_markdown":"Perhaps you could use &lt;a href=&quot;http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html&quot;&gt;`Hex.encodeHex(bytes)`&lt;/a&gt; from commons-codec.\r\n\r\n&lt;a href=&quot;http://rgagnon.com/javadetails/java-0596.html&quot;&gt;Here are&lt;/a&gt; other ways to do this, without 3rd party libraries.","title":"Formatting MAC address byte array to String","body":"<p>Perhaps you could use <a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html\" rel=\"nofollow noreferrer\"><code>Hex.encodeHex(bytes)</code></a> from commons-codec.</p>\n\n<p><a href=\"http://rgagnon.com/javadetails/java-0596.html\" rel=\"nofollow noreferrer\">Here are</a> other ways to do this, without 3rd party libraries.</p>\n"},{"comments":[{"owner":{"account_id":108005,"reputation":4460,"user_id":286881,"accept_rate":88,"display_name":"Chris"},"score":0,"creation_date":1305913583,"post_id":2797498,"comment_id":7037255,"body_markdown":"This looks nice to me. It is possible to avoid the String.format() too if performance is a concern as it is a notoriously slow function.","body":"This looks nice to me. It is possible to avoid the String.format() too if performance is a concern as it is a notoriously slow function."},{"owner":{"account_id":2129761,"reputation":229,"user_id":1890851,"accept_rate":20,"display_name":"Durrat"},"score":0,"creation_date":1363942575,"post_id":2797498,"comment_id":22063001,"body_markdown":"It gives me NullPointerException at line `NetworkInterface ni = NetworkInterface.getByInetAddress(addr);`  but my InetAddress object contains valid IPAddress...any help is appreciated....","body":"It gives me NullPointerException at line <code>NetworkInterface ni = NetworkInterface.getByInetAddress(addr);</code>  but my InetAddress object contains valid IPAddress...any help is appreciated...."},{"owner":{"account_id":3012980,"reputation":492,"user_id":9533625,"display_name":"Heuriskos"},"score":0,"creation_date":1585230178,"post_id":2797498,"comment_id":107692637,"body_markdown":"@Chris it&#39;s unlikely a few calls to String.format will be the bottleneck in an application","body":"@Chris it&#39;s unlikely a few calls to String.format will be the bottleneck in an application"}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1273404851,"creation_date":1273404851,"answer_id":2797498,"question_id":2797430,"body_markdown":"There is no standard text representation for Mac addresses. You just need to convert it to hex and separate the bytes for readability. Here is the function I use in the format of ifconfig on Unix,\r\n\r\n\tpublic static String getMacAddress(String ipAddr)\r\n\t\t\tthrows UnknownHostException, SocketException {\r\n\t\tInetAddress addr = InetAddress.getByName(ipAddr);\r\n\t\tNetworkInterface ni = NetworkInterface.getByInetAddress(addr);\r\n\t\tif (ni == null)\r\n\t\t\treturn null;\r\n\r\n\t\tbyte[] mac = ni.getHardwareAddress();\r\n\t\tif (mac == null)\r\n\t\t\treturn null;\r\n\r\n\t\tStringBuilder sb = new StringBuilder(18);\r\n\t\tfor (byte b : mac) {\r\n\t\t\tif (sb.length() &gt; 0)\r\n\t\t\t\tsb.append(&#39;:&#39;);\r\n\t\t\tsb.append(String.format(&quot;%02x&quot;, b));\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nYou just need to change the &#39;:&#39; to &#39;-&#39;.","title":"Formatting MAC address byte array to String","body":"<p>There is no standard text representation for Mac addresses. You just need to convert it to hex and separate the bytes for readability. Here is the function I use in the format of ifconfig on Unix,</p>\n\n<pre><code>public static String getMacAddress(String ipAddr)\n        throws UnknownHostException, SocketException {\n    InetAddress addr = InetAddress.getByName(ipAddr);\n    NetworkInterface ni = NetworkInterface.getByInetAddress(addr);\n    if (ni == null)\n        return null;\n\n    byte[] mac = ni.getHardwareAddress();\n    if (mac == null)\n        return null;\n\n    StringBuilder sb = new StringBuilder(18);\n    for (byte b : mac) {\n        if (sb.length() &gt; 0)\n            sb.append(':');\n        sb.append(String.format(\"%02x\", b));\n    }\n    return sb.toString();\n}\n</code></pre>\n\n<p>You just need to change the ':' to '-'.</p>\n"},{"tags":[],"owner":{"account_id":562,"reputation":3657,"user_id":728,"accept_rate":91,"display_name":"TJR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278007124,"creation_date":1278006733,"answer_id":3160355,"question_id":2797430,"body_markdown":"      private static final byte[] NULL_MAC = new byte[] {0, 0, 0, 0, 0, 0};\r\n    \r\n      public static String getMacString(byte[] macAddress) {\r\n        StringBuilder retval = new StringBuilder(17);\r\n        if (macAddress == null) {\r\n          macAddress = NULL_MAC;\r\n        }\r\n        boolean isFirst = true;\r\n        for (byte b : macAddress) {\r\n          if (!isFirst) {\r\n            retval.append(&quot;:&quot;);\r\n          } else {\r\n            isFirst = false;\r\n          }\r\n          retval.append(String.format(&quot;%02x&quot;, b &amp; 0xff));\r\n        }\r\n        return retval.toString();\r\n      }\r\n\r\n","title":"Formatting MAC address byte array to String","body":"<pre><code>  private static final byte[] NULL_MAC = new byte[] {0, 0, 0, 0, 0, 0};\n\n  public static String getMacString(byte[] macAddress) {\n    StringBuilder retval = new StringBuilder(17);\n    if (macAddress == null) {\n      macAddress = NULL_MAC;\n    }\n    boolean isFirst = true;\n    for (byte b : macAddress) {\n      if (!isFirst) {\n        retval.append(\":\");\n      } else {\n        isFirst = false;\n      }\n      retval.append(String.format(\"%02x\", b &amp; 0xff));\n    }\n    return retval.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261151,"reputation":4632,"user_id":545138,"accept_rate":71,"display_name":"dude"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486654577,"creation_date":1292523871,"answer_id":4464093,"question_id":2797430,"body_markdown":"It should be something like\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; mac.length(); i++) {\r\n        b.append(String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length() - 1) ? &quot;-&quot; : &quot;&quot;);\r\n    \r\n    String s = sb.toString();\r\n","title":"Formatting MAC address byte array to String","body":"<p>It should be something like</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; mac.length(); i++) {\n    b.append(String.format(\"%02X%s\", mac[i], (i &lt; mac.length() - 1) ? \"-\" : \"\");\n\nString s = sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108005,"reputation":4460,"user_id":286881,"accept_rate":88,"display_name":"Chris"},"score":2,"creation_date":1305913418,"post_id":6070291,"comment_id":7037216,"body_markdown":"Concatenating strings with += is extremely inefficient (use a StringBuilder instead as in the other answers). Additionally, it appears that you have bundled up too much code onto a single line which neither helps nor hinders performance but does produce unreadable code when scaled up to many thousands of lines.","body":"Concatenating strings with += is extremely inefficient (use a StringBuilder instead as in the other answers). Additionally, it appears that you have bundled up too much code onto a single line which neither helps nor hinders performance but does produce unreadable code when scaled up to many thousands of lines."}],"tags":[],"owner":{"account_id":757949,"reputation":11,"user_id":762520,"display_name":"renzo_toppa"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1305888945,"creation_date":1305885647,"answer_id":6070291,"question_id":2797430,"body_markdown":"    String s=&quot;&quot;;\r\n    for (int i = 0; i &lt; mac.length; i++) { \r\n      s += String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length - 1) ? &quot;-&quot; : &quot;&quot;);\r\n    }","title":"Formatting MAC address byte array to String","body":"<pre><code>String s=\"\";\nfor (int i = 0; i &lt; mac.length; i++) { \n  s += String.format(\"%02X%s\", mac[i], (i &lt; mac.length - 1) ? \"-\" : \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306672,"reputation":41,"user_id":2781272,"display_name":"Az MaYo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382956766,"creation_date":1382956766,"answer_id":19632564,"question_id":2797430,"body_markdown":" By this you can easily formate Mac Address String.\r\n  \r\n\r\n    import java.net.InetAddress;\r\n    import java.net.NetworkInterface;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n     \r\n    public class App{\r\n     \r\n       public static void main(String[] args){\r\n     \r\n    \tInetAddress ip;\r\n    \ttry {\r\n     \r\n    \t\tip = InetAddress.getLocalHost();\r\n    \t\tSystem.out.println(&quot;Current IP address : &quot; + ip.getHostAddress());\r\n     \r\n    \t\tNetworkInterface network = NetworkInterface.getByInetAddress(ip);\r\n     \r\n    \t\tbyte[] mac = network.getHardwareAddress();\r\n     \r\n    \t\tSystem.out.print(&quot;Current MAC address : &quot;);\r\n     \r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; mac.length; i++) {\r\n    \t\t\tsb.append(String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length - 1) ? &quot;-&quot; : &quot;&quot;));\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(sb.toString());\r\n     \r\n    \t} catch (UnknownHostException e) {\r\n     \r\n    \t\te.printStackTrace();\r\n     \r\n    \t} catch (SocketException e){\r\n     \r\n    \t\te.printStackTrace();\r\n     \r\n    \t}\r\n     \r\n       }\r\n     \r\n    }\r\n\r\ncopy from here : http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182","title":"Formatting MAC address byte array to String","body":"<p>By this you can easily formate Mac Address String.</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.NetworkInterface;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\n\npublic class App{\n\n   public static void main(String[] args){\n\n    InetAddress ip;\n    try {\n\n        ip = InetAddress.getLocalHost();\n        System.out.println(\"Current IP address : \" + ip.getHostAddress());\n\n        NetworkInterface network = NetworkInterface.getByInetAddress(ip);\n\n        byte[] mac = network.getHardwareAddress();\n\n        System.out.print(\"Current MAC address : \");\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; mac.length; i++) {\n            sb.append(String.format(\"%02X%s\", mac[i], (i &lt; mac.length - 1) ? \"-\" : \"\"));        \n        }\n        System.out.println(sb.toString());\n\n    } catch (UnknownHostException e) {\n\n        e.printStackTrace();\n\n    } catch (SocketException e){\n\n        e.printStackTrace();\n\n    }\n\n   }\n\n}\n</code></pre>\n\n<p>copy from here : <a href=\"http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-get-mac-address-in-java/comment-page-1/#comment-139182</a></p>\n"},{"tags":[],"owner":{"account_id":1172694,"reputation":1409,"user_id":1466126,"accept_rate":62,"display_name":"Jeroen Kransen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403599295,"creation_date":1401391668,"answer_id":23941417,"question_id":2797430,"body_markdown":"I know this is a Java related question, but for Scala users who ended up here like I did, this is a way to do it in Scala: \r\n\r\n    bytes.map(&quot;%02X&quot; format _).mkString (&quot;:&quot;)","title":"Formatting MAC address byte array to String","body":"<p>I know this is a Java related question, but for Scala users who ended up here like I did, this is a way to do it in Scala: </p>\n\n<pre><code>bytes.map(\"%02X\" format _).mkString (\":\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4769333,"reputation":41,"user_id":3854589,"display_name":"Jim Row"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540798398,"creation_date":1539879030,"answer_id":52878291,"question_id":2797430,"body_markdown":"For something lightweight and fast, try the following.  3rd party  external dependencies are minimal and just uses some &quot;old school&quot; bit math.\r\n\r\n    public static String buildMACAddressString(byte[] macaddress) {\r\n        char[] buffer = new char[macaddress.length*3];\r\n        char[] inttohex= {&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;};\r\n        int destIndex=0;\r\n        byte byteValue;\r\n        for (int i = 0; i &lt; macaddress.length; i++) {\r\n            // pull current byte value\r\n            byteValue = (byte) (macaddress[i] &amp; 0xff);\r\n            // convert high nibble to hex char and store into char array..\r\n            buffer[destIndex++]=inttohex[(byteValue&amp;0xf0)&gt;&gt;4];\r\n            // Convert low nibble to hex char and store into char array..\r\n            buffer[destIndex++]=inttohex[byteValue&amp;0xf];\r\n            // Inject spacer\r\n            if (i &lt; macaddress.length-1)\r\n                buffer[destIndex++]=&#39;:&#39;;\r\n        }\r\n        return String.valueOf(buffer,0,destIndex);\r\n    }\r\n\r\n","title":"Formatting MAC address byte array to String","body":"<p>For something lightweight and fast, try the following.  3rd party  external dependencies are minimal and just uses some \"old school\" bit math.</p>\n\n<pre><code>public static String buildMACAddressString(byte[] macaddress) {\n    char[] buffer = new char[macaddress.length*3];\n    char[] inttohex= {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};\n    int destIndex=0;\n    byte byteValue;\n    for (int i = 0; i &lt; macaddress.length; i++) {\n        // pull current byte value\n        byteValue = (byte) (macaddress[i] &amp; 0xff);\n        // convert high nibble to hex char and store into char array..\n        buffer[destIndex++]=inttohex[(byteValue&amp;0xf0)&gt;&gt;4];\n        // Convert low nibble to hex char and store into char array..\n        buffer[destIndex++]=inttohex[byteValue&amp;0xf];\n        // Inject spacer\n        if (i &lt; macaddress.length-1)\n            buffer[destIndex++]=':';\n    }\n    return String.valueOf(buffer,0,destIndex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21224028,"reputation":157,"user_id":15610035,"display_name":"Voronin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657230269,"creation_date":1657230269,"answer_id":72904563,"question_id":2797430,"body_markdown":"There is a new way, but it seems it *requires* Java 17.\r\n\r\nYou can use the **`java.util.HexFormat`** class, specifically define a format (e.g. `ofDelimiter(&quot;:&quot;)`, there are many more formatting possibilities), and then use the formatter (e.g. `hexFormat.formatHex(ni.getHardwareAddress())`).\r\n\r\n```java\r\n    private List&lt;String&gt; getHardwareAddresses(List&lt;byte[]&gt; ipAddresses) {\r\n        HexFormat hexFormat = HexFormat.ofDelimiter(&quot;:&quot;);\r\n        List&lt;String&gt; hardwareAddresses = new ArrayList&lt;&gt;();\r\n        try {\r\n            for (byte[] ipAddress : ipAddresses) {\r\n                NetworkInterface ni = NetworkInterface.getByInetAddress(InetAddress.getByAddress(ipAddress));\r\n                if (ni.getHardwareAddress() != null) {\r\n                    hardwareAddresses.add(hexFormat.formatHex(ni.getHardwareAddress()));\r\n                }\r\n            }\r\n        } catch (SocketException | UnknownHostException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return hardwareAddresses;\r\n    }\r\n```\r\nIn the example above I have a list of IP addresses as `List&lt;byte[]&gt;` and use them to get the MAC addresses of those devices if available (`if (ni.getHardwareAddress() != null) {...}`).","title":"Formatting MAC address byte array to String","body":"<p>There is a new way, but it seems it <em>requires</em> Java 17.</p>\n<p>You can use the <strong><code>java.util.HexFormat</code></strong> class, specifically define a format (e.g. <code>ofDelimiter(&quot;:&quot;)</code>, there are many more formatting possibilities), and then use the formatter (e.g. <code>hexFormat.formatHex(ni.getHardwareAddress())</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private List&lt;String&gt; getHardwareAddresses(List&lt;byte[]&gt; ipAddresses) {\n        HexFormat hexFormat = HexFormat.ofDelimiter(&quot;:&quot;);\n        List&lt;String&gt; hardwareAddresses = new ArrayList&lt;&gt;();\n        try {\n            for (byte[] ipAddress : ipAddresses) {\n                NetworkInterface ni = NetworkInterface.getByInetAddress(InetAddress.getByAddress(ipAddress));\n                if (ni.getHardwareAddress() != null) {\n                    hardwareAddresses.add(hexFormat.formatHex(ni.getHardwareAddress()));\n                }\n            }\n        } catch (SocketException | UnknownHostException e) {\n            e.printStackTrace();\n        }\n        return hardwareAddresses;\n    }\n</code></pre>\n<p>In the example above I have a list of IP addresses as <code>List&lt;byte[]&gt;</code> and use them to get the MAC addresses of those devices if available (<code>if (ni.getHardwareAddress() != null) {...}</code>).</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677062346,"creation_date":1677062346,"answer_id":75531515,"question_id":2797430,"body_markdown":"Java 17+:\r\n\r\n    private static String formatMacHex(byte[] mac) {\r\n        return HexFormat.ofDelimiter(&quot;-&quot;).formatHex(mac);\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>Java 17+:</p>\n<pre><code>private static String formatMacHex(byte[] mac) {\n    return HexFormat.ofDelimiter(&quot;-&quot;).formatHex(mac);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":109994,"reputation":15573,"user_id":291240,"accept_rate":70,"display_name":"William Hu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681805508,"creation_date":1681805508,"answer_id":76042244,"question_id":2797430,"body_markdown":"A kotlin version:\r\n\r\n    private fun convertToMacAddress(macByteArray: ByteArray): String {\r\n        return macByteArray.joinToString(&quot;:&quot;) { String.format(&quot;%02x&quot;, it) }\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>A kotlin version:</p>\n<pre><code>private fun convertToMacAddress(macByteArray: ByteArray): String {\n    return macByteArray.joinToString(&quot;:&quot;) { String.format(&quot;%02x&quot;, it) }\n}\n</code></pre>\n"}],"owner":{"account_id":126417,"reputation":3531,"user_id":322897,"accept_rate":100,"display_name":"rgksugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26550,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2797498,"answer_count":11,"score":9,"last_activity_date":1681805508,"creation_date":1273403083,"question_id":2797430,"body_markdown":"I am using this code to find the MAC address of a machine. This code prints directly the MAC address, but I want to return it as a string. I am completely confused.\r\n\r\nplease help.\r\n\r\n    try {\r\n        \r\n        InetAddress add = InetAddress.getByName(&quot;10.123.96.102&quot;);\r\n        NetworkInterface ni1 = NetworkInterface.getByInetAddress(add);\r\n        if (ni1 != null) {\r\n            byte[] mac1 = ni1.getHardwareAddress();\r\n            if (mac1 != null) {\r\n                for (int k = 0; k &lt; mac1.length; k++) {\r\n                    System.out.format(&quot;%02X%s&quot;, mac1[k], (k &lt; mac1.length - 1) ? &quot;-&quot; : &quot;&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Address doesn&#39;t exist &quot;);\r\n            }\r\n            System.out.println();\r\n        } else {\r\n            System.out.println(&quot;address is not found.&quot;);\r\n        }\r\n    } catch (UnknownHostException e) {\r\n        e.printStackTrace();\r\n    } catch (SocketException e) {\r\n        e.printStackTrace();\r\n    }","title":"Formatting MAC address byte array to String","body":"<p>I am using this code to find the MAC address of a machine. This code prints directly the MAC address, but I want to return it as a string. I am completely confused.</p>\n\n<p>please help.</p>\n\n<pre><code>try {\n\n    InetAddress add = InetAddress.getByName(\"10.123.96.102\");\n    NetworkInterface ni1 = NetworkInterface.getByInetAddress(add);\n    if (ni1 != null) {\n        byte[] mac1 = ni1.getHardwareAddress();\n        if (mac1 != null) {\n            for (int k = 0; k &lt; mac1.length; k++) {\n                System.out.format(\"%02X%s\", mac1[k], (k &lt; mac1.length - 1) ? \"-\" : \"\");\n            }\n        } else {\n            System.out.println(\"Address doesn't exist \");\n        }\n        System.out.println();\n    } else {\n        System.out.println(\"address is not found.\");\n    }\n} catch (UnknownHostException e) {\n    e.printStackTrace();\n} catch (SocketException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681805646,"post_id":76041967,"comment_id":134111771,"body_markdown":"You could reasonably simply build this with your own annotation processor (similar to what Lombok does, but standardized, fewer capabilities, but generating additional sources is what it does best).","body":"You could reasonably simply build this with your own annotation processor (similar to what Lombok does, but standardized, fewer capabilities, but generating additional sources is what it does best)."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1681805804,"post_id":76042207,"comment_id":134111803,"body_markdown":"Minor note: Lombok is not *just* an annotation processor. Specifically the ability to change the class that&#39;s annotated itself is not present in the standardized annotation processor API, so Lombok hot-patches itself into the compiler to achieve  that.","body":"Minor note: Lombok is not <i>just</i> an annotation processor. Specifically the ability to change the class that&#39;s annotated itself is not present in the standardized annotation processor API, so Lombok hot-patches itself into the compiler to achieve  that."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1681805181,"creation_date":1681805181,"answer_id":76042207,"question_id":76041967,"body_markdown":"While the Reflection API permits inspecting fields and methods at runtime, generating additional code from existing declarations would require a compiler plugin (such as an annotation processor, like Lombok is). Alternatively, a separate build step could generate the sources for the enum before compilation.\r\n\r\nI know of no existing annotation processor or code generator that creates such an enum.","title":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?","body":"<p>While the Reflection API permits inspecting fields and methods at runtime, generating additional code from existing declarations would require a compiler plugin (such as an annotation processor, like Lombok is). Alternatively, a separate build step could generate the sources for the enum before compilation.</p>\n<p>I know of no existing annotation processor or code generator that creates such an enum.</p>\n"}],"owner":{"account_id":4357786,"reputation":133,"user_id":3555851,"accept_rate":100,"display_name":"Denis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76042207,"answer_count":1,"score":0,"last_activity_date":1681805181,"creation_date":1681803512,"question_id":76041967,"body_markdown":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?\r\n\r\n```\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AuditEventGridDataRow {\r\n    private String vendor;\r\n\r\n    @AllArgsConstructor\r\n    public enum ColName {\r\n        vendor(&quot;vendor&quot;);\r\n\r\n        @Getter\r\n        private final String fieldName;\r\n    }\r\n}\r\n```","title":"Is there a mechanism that automatically created an enumeration with the name of the entity fields?","body":"<p>Is there a mechanism that automatically created an enumeration with the name of the entity fields?</p>\n<pre><code>import lombok.*;\n\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AuditEventGridDataRow {\n    private String vendor;\n\n    @AllArgsConstructor\n    public enum ColName {\n        vendor(&quot;vendor&quot;);\n\n        @Getter\n        private final String fieldName;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681752117,"post_id":76037038,"comment_id":134104233,"body_markdown":"The entities are correct. Only it will be better to use Set instead of List. And you will need some additional code in the service class. Please share what you have and I can update it.","body":"The entities are correct. Only it will be better to use Set instead of List. And you will need some additional code in the service class. Please share what you have and I can update it."},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1681764954,"post_id":76037038,"comment_id":134106882,"body_markdown":"@Mar-Z Are you suggesting to assign those child entities manually, and save them after I save MessageConfig entity to db? I&#39;ve updated this post with service layer method that saves MessageConfig entity to db","body":"@Mar-Z Are you suggesting to assign those child entities manually, and save them after I save MessageConfig entity to db? I&#39;ve updated this post with service layer method that saves MessageConfig entity to db"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681805113,"creation_date":1681805113,"answer_id":76042197,"question_id":76037038,"body_markdown":"The child entities must be saved to the database after the parent entity has been saved. This is because the id of parent will be generated only with the save method.\r\n\r\n**Solution** - add following block\r\n\r\n    messageConfigRepository.save(config);\r\n\r\n    for (Schedule schedule : config.schedule()) {\r\n        schedule.setConfig(config);\r\n        scheduleRepository.save(schedule);\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);","title":"Spring Data Jpa - save OneToMany bidirectional entities","body":"<p>The child entities must be saved to the database after the parent entity has been saved. This is because the id of parent will be generated only with the save method.</p>\n<p><strong>Solution</strong> - add following block</p>\n<pre><code>messageConfigRepository.save(config);\n\nfor (Schedule schedule : config.schedule()) {\n    schedule.setConfig(config);\n    scheduleRepository.save(schedule);\n}\n\nreturn new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681805113,"creation_date":1681746982,"question_id":76037038,"body_markdown":"I&#39;m facing a problem with persisting a JPA entity in database.I have a child ```Schedule``` entity, and a parent ```MessageConfig``` entity. When calling a ```@PostMapping``` request with this payload:\r\n```\r\n{\r\n    &quot;emailAdvertisement&quot;:{\r\n        &quot;template&quot;:&quot;some string&quot;,\r\n        &quot;topic&quot;: &quot;some string&quot;,\r\n        &quot;image&quot;: &quot;some string&quot;\r\n    },\r\n    &quot;smsAdvertisement&quot;:{\r\n        &quot;text&quot;:&quot;smsText&quot;\r\n    },\r\n    &quot;sendTypes&quot;:&quot;Sms,Email&quot;,\r\n    &quot;schedule&quot;:[\r\n\t\t{ &quot;timeToSend&quot;:&quot;17-04-2023 17:35&quot;},\r\n\t\t{ &quot;timeToSend&quot;:&quot;17-04-2023 17:45&quot;}\r\n\t\t]\r\n}\r\n```\r\nI get &quot;Object references an unsaved transient instance - save the transient instance before flushing&quot; error. ```MessageConfig``` is saved in db, but in schedule table the column for message_config_id foreign key is filled with null. My guess is that ```Schedule``` entity is trying to associate itself with an entity that is not yet persisted.\r\nI&#39;ve tried following solutions, but still not having a result:\r\n\r\n 1. Place @CascadeType.All in both sides\r\n 2. Place @Cascade(CascadeType.SAVE_UPDATE) on ManyToOne side\r\n 3. Place @CascadeType.Persist on ManyToOne side\r\n\r\n\r\n\r\nChild entity class\r\n```\r\n@Entity\r\n@Data\r\npublic class Schedule {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;dd-MM-yyyy HH:mm&quot;)\r\n    private LocalDateTime timeToSend;\r\n\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;config_id&quot;)\r\n    private MessageConfig config; //something wrong with this\r\n\r\n    private SendStatus sendStatus = SendStatus.WAITING;\r\n}\r\n```\r\nParent entity class\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class MessageConfig {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    private Customer customer;\r\n\r\n    private String name;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private EmailAdvertisement emailAdvertisement;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private SmsAdvertisement smsAdvertisement;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n    private MessengerAdvertisement messengerAdvertisement;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval = true)\r\n    private List&lt;Client&gt; clients;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;config&quot;, cascade = CascadeType.ALL, orphanRemoval = true)  //something wrong with this\r\n    private List&lt;Schedule&gt; schedule;\r\n\r\n    private String sendTypes;\r\n\r\n    public MessageConfig(EmailAdvertisement emailAdvertisement,\r\n                         SmsAdvertisement smsAdvertisement,\r\n                         MessengerAdvertisement messengerAdvertisement,\r\n                         String sendTypes,\r\n                         List&lt;Client&gt; clients) {\r\n        this.emailAdvertisement = emailAdvertisement;\r\n        this.smsAdvertisement = smsAdvertisement;\r\n        this.messengerAdvertisement = messengerAdvertisement;\r\n        this.sendTypes = sendTypes;\r\n        this.clients = clients;\r\n    }\r\n\r\n}\r\n```\r\nService method to save config in db\r\n```\r\npublic ResponseEntity&lt;MessageConfig&gt; postConfig(String configDto, MultipartFile file) {\r\n        try {\r\n            MessageConfig config = mapper.readValue(configDto, MessageConfig.class);\r\n            Customer customer = new Customer(&quot;NikePR&quot;, &quot;nikePR@gmail.com&quot;, &quot;password&quot;);\r\n            config.setClients(csvParser.parseCsvToList(file));\r\n            config.setCustomer(customer);\r\n            messageConfigRepository.save(config);\r\n            return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\nIs there any solution that will not require additional table with message_config_id/schedule_id mapping","title":"Spring Data Jpa - save OneToMany bidirectional entities","body":"<p>I'm facing a problem with persisting a JPA entity in database.I have a child <code>Schedule</code> entity, and a parent <code>MessageConfig</code> entity. When calling a <code>@PostMapping</code> request with this payload:</p>\n<pre><code>{\n    &quot;emailAdvertisement&quot;:{\n        &quot;template&quot;:&quot;some string&quot;,\n        &quot;topic&quot;: &quot;some string&quot;,\n        &quot;image&quot;: &quot;some string&quot;\n    },\n    &quot;smsAdvertisement&quot;:{\n        &quot;text&quot;:&quot;smsText&quot;\n    },\n    &quot;sendTypes&quot;:&quot;Sms,Email&quot;,\n    &quot;schedule&quot;:[\n        { &quot;timeToSend&quot;:&quot;17-04-2023 17:35&quot;},\n        { &quot;timeToSend&quot;:&quot;17-04-2023 17:45&quot;}\n        ]\n}\n</code></pre>\n<p>I get &quot;Object references an unsaved transient instance - save the transient instance before flushing&quot; error. <code>MessageConfig</code> is saved in db, but in schedule table the column for message_config_id foreign key is filled with null. My guess is that <code>Schedule</code> entity is trying to associate itself with an entity that is not yet persisted.\nI've tried following solutions, but still not having a result:</p>\n<ol>\n<li>Place @CascadeType.All in both sides</li>\n<li>Place @Cascade(CascadeType.SAVE_UPDATE) on ManyToOne side</li>\n<li>Place @CascadeType.Persist on ManyToOne side</li>\n</ol>\n<p>Child entity class</p>\n<pre><code>@Entity\n@Data\npublic class Schedule {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;dd-MM-yyyy HH:mm&quot;)\n    private LocalDateTime timeToSend;\n\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;config_id&quot;)\n    private MessageConfig config; //something wrong with this\n\n    private SendStatus sendStatus = SendStatus.WAITING;\n}\n</code></pre>\n<p>Parent entity class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class MessageConfig {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Customer customer;\n\n    private String name;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private EmailAdvertisement emailAdvertisement;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private SmsAdvertisement smsAdvertisement;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    private MessengerAdvertisement messengerAdvertisement;\n\n    @OneToMany(cascade = CascadeType.ALL,fetch = FetchType.LAZY,orphanRemoval = true)\n    private List&lt;Client&gt; clients;\n\n\n    @OneToMany(mappedBy = &quot;config&quot;, cascade = CascadeType.ALL, orphanRemoval = true)  //something wrong with this\n    private List&lt;Schedule&gt; schedule;\n\n    private String sendTypes;\n\n    public MessageConfig(EmailAdvertisement emailAdvertisement,\n                         SmsAdvertisement smsAdvertisement,\n                         MessengerAdvertisement messengerAdvertisement,\n                         String sendTypes,\n                         List&lt;Client&gt; clients) {\n        this.emailAdvertisement = emailAdvertisement;\n        this.smsAdvertisement = smsAdvertisement;\n        this.messengerAdvertisement = messengerAdvertisement;\n        this.sendTypes = sendTypes;\n        this.clients = clients;\n    }\n\n}\n</code></pre>\n<p>Service method to save config in db</p>\n<pre><code>public ResponseEntity&lt;MessageConfig&gt; postConfig(String configDto, MultipartFile file) {\n        try {\n            MessageConfig config = mapper.readValue(configDto, MessageConfig.class);\n            Customer customer = new Customer(&quot;NikePR&quot;, &quot;nikePR@gmail.com&quot;, &quot;password&quot;);\n            config.setClients(csvParser.parseCsvToList(file));\n            config.setCustomer(customer);\n            messageConfigRepository.save(config);\n            return new ResponseEntity&lt;&gt;(config, HttpStatus.CREATED);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>Is there any solution that will not require additional table with message_config_id/schedule_id mapping</p>\n"},{"tags":["java","bazel","bazel-java"],"comments":[{"owner":{"account_id":975399,"reputation":7972,"user_id":996815,"accept_rate":96,"display_name":"Vertexwahn"},"score":0,"creation_date":1681756453,"post_id":76035764,"comment_id":134105222,"body_markdown":"I assume that you can run `generator/ExampleGenerator_x86_64.exe` successfully without Bazel - is this correct?","body":"I assume that you can run <code>generator&#47;ExampleGenerator_x86_64.exe</code> successfully without Bazel - is this correct?"},{"owner":{"account_id":4355972,"reputation":13,"user_id":3554584,"display_name":"RAHUL S K"},"score":0,"creation_date":1681803205,"post_id":76035764,"comment_id":134111246,"body_markdown":"Yes.. I can run it successfully without Bazel.","body":"Yes.. I can run it successfully without Bazel."}],"owner":{"account_id":4355972,"reputation":13,"user_id":3554584,"display_name":"RAHUL S K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681804329,"creation_date":1681738560,"question_id":76035764,"body_markdown":"I want to run a .exe file in **bazel** **build** which requires java to run.\r\n\r\nThis executable creates a directory and some files if run successfully.\r\n\r\nMy ExampleGenerator.bzl\r\n\r\n    def _example_generator_impl(ctx):\r\n        outputs = []\r\n        if ctx.outputs.outDir:\r\n            outputs.append(ctx.outputs.outDir)\r\n        \r\n        ctx.actions.run(\r\n            inputs = ctx.files.input,\r\n            arguments = [args],\r\n            outputs = outputs,\r\n            executable = ctx.executable.generator_tool\r\n        )\r\n    \r\n    example_generator = rule(\r\n        implementation = _example_generator_impl,\r\n        attrs = {\r\n            &quot;input&quot;: attr.label (\r\n                    allow_single_file = [&quot;.txt&quot;],\r\n                    mandatory = True\r\n            ),\r\n            &quot;outDir&quot;: attr.output(),\r\n            &quot;generator_tool&quot;: attr.label(\r\n                executable = True,\r\n                allow_files = True,\r\n                cfg = &quot;exec&quot;,\r\n                default = Label(&quot;generator/ExampleGenerator_x86_64.exe&quot;),\r\n            )\r\n        }\r\n    )\r\n\r\n\r\nAnd BUILD file\r\n\r\n    load(&quot;:ExampleGenerator.bzl&quot; , &quot;example_generator&quot;)\r\n    example_generator(\r\n    \tname = &quot;Example&quot;,\r\n    \tinput = &quot;inputFile.txt&quot;,\r\n    \toutDir = &quot;Outdir&quot;,\r\n    )\r\n\r\nWhenever I run bazel build,\r\nI get the following windows error diagolue saying bazel did not find jre/jawaw.exe in the path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I make it work? Or any other implementation to run the .exe file will be helpful\r\n\r\nThanks!!\r\n\r\nPS: I have installed all required JDK and the .exe runs correctly in command prompt.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SPx9q.png","title":"Bazel ctx.actions.run(..) running windows java executable","body":"<p>I want to run a .exe file in <strong>bazel</strong> <strong>build</strong> which requires java to run.</p>\n<p>This executable creates a directory and some files if run successfully.</p>\n<p>My ExampleGenerator.bzl</p>\n<pre><code>def _example_generator_impl(ctx):\n    outputs = []\n    if ctx.outputs.outDir:\n        outputs.append(ctx.outputs.outDir)\n    \n    ctx.actions.run(\n        inputs = ctx.files.input,\n        arguments = [args],\n        outputs = outputs,\n        executable = ctx.executable.generator_tool\n    )\n\nexample_generator = rule(\n    implementation = _example_generator_impl,\n    attrs = {\n        &quot;input&quot;: attr.label (\n                allow_single_file = [&quot;.txt&quot;],\n                mandatory = True\n        ),\n        &quot;outDir&quot;: attr.output(),\n        &quot;generator_tool&quot;: attr.label(\n            executable = True,\n            allow_files = True,\n            cfg = &quot;exec&quot;,\n            default = Label(&quot;generator/ExampleGenerator_x86_64.exe&quot;),\n        )\n    }\n)\n</code></pre>\n<p>And BUILD file</p>\n<pre><code>load(&quot;:ExampleGenerator.bzl&quot; , &quot;example_generator&quot;)\nexample_generator(\n    name = &quot;Example&quot;,\n    input = &quot;inputFile.txt&quot;,\n    outDir = &quot;Outdir&quot;,\n)\n</code></pre>\n<p>Whenever I run bazel build,\nI get the following windows error diagolue saying bazel did not find jre/jawaw.exe in the path.</p>\n<p><a href=\"https://i.stack.imgur.com/SPx9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SPx9q.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I make it work? Or any other implementation to run the .exe file will be helpful</p>\n<p>Thanks!!</p>\n<p>PS: I have installed all required JDK and the .exe runs correctly in command prompt.</p>\n"},{"tags":["java","android","android-studio","android-webview","android-camera"],"comments":[{"owner":{"account_id":9536392,"reputation":67,"user_id":7086431,"accept_rate":83,"display_name":"Mahmoud Ragab"},"score":0,"creation_date":1692825888,"post_id":76041564,"comment_id":135678563,"body_markdown":"Hi, did you solve it?","body":"Hi, did you solve it?"},{"owner":{"account_id":23973000,"reputation":575,"user_id":17961431,"display_name":"Dev Beginner "},"score":0,"creation_date":1699334666,"post_id":76041564,"comment_id":136515373,"body_markdown":"@MahmoudRagab Yes.","body":"@MahmoudRagab Yes."},{"owner":{"account_id":9536392,"reputation":67,"user_id":7086431,"accept_rate":83,"display_name":"Mahmoud Ragab"},"score":0,"creation_date":1699445879,"post_id":76041564,"comment_id":136531708,"body_markdown":"Awesome, what did you do please?","body":"Awesome, what did you do please?"}],"answers":[{"comments":[{"owner":{"account_id":23973000,"reputation":575,"user_id":17961431,"display_name":"Dev Beginner "},"score":1,"creation_date":1681804954,"post_id":76041753,"comment_id":134111619,"body_markdown":"Hi! I did the HTML change as well. But still the same.","body":"Hi! I did the HTML change as well. But still the same."}],"tags":[],"owner":{"account_id":8402161,"reputation":547,"user_id":6306928,"display_name":"asajadi84"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802001,"creation_date":1681802001,"answer_id":76041753,"question_id":76041564,"body_markdown":"This problem is not because of the Android application or the way you coded it. Since you are using a WebView, the html code of the website tells the WebView the proper dialog box to appear. You need to modify your html.\r\nSee: [HTML File Upload Doesn&#39;t Show Gallery on Android][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24470932/html-file-upload-doesnt-show-gallery-on-android","title":"Android Web View Attach image from gallery or Camera","body":"<p>This problem is not because of the Android application or the way you coded it. Since you are using a WebView, the html code of the website tells the WebView the proper dialog box to appear. You need to modify your html.\nSee: <a href=\"https://stackoverflow.com/questions/24470932/html-file-upload-doesnt-show-gallery-on-android\">HTML File Upload Doesn't Show Gallery on Android</a></p>\n"}],"owner":{"account_id":23973000,"reputation":575,"user_id":17961431,"display_name":"Dev Beginner "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681804055,"creation_date":1681800575,"question_id":76041564,"body_markdown":"I&#39;m trying to create an Android app for my web system. This is my first try at Android Studio. I followed a few tutorials and made up something.\r\n\r\nSo when I open the app it opens my web system within the app.\r\n\r\nThere is a section that uploads images, but when I click it, it won&#39;t open and ask for a gallery or camera. \r\n\r\nI would like to know how to do it.\r\n\r\nI&#39;m using Android Studio for this and these are the current codes.\r\n\r\nMainActivity.java\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n  WebView webView;\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    webView = findViewById(R.id.webview);\r\n    webView.setWebViewClient(new WebViewClient());\r\n    webView.loadUrl(&quot;https://www.mysitenamegoeshear.com/&quot;);\r\n    WebSettings websettings = webView.getSettings();\r\n    websettings.setJavaScriptEnabled(true);\r\n  }\r\n  private class MyWebView extends WebViewClient {\r\n    @Override\r\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n      super.onPageStarted(view, url, favicon);\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n      return super.shouldOverrideUrlLoading(view, request);\r\n\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public void onBackPressed() {\r\n    if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\r\n      webView.goBack();\r\n    } else {\r\n      super.onBackPressed();\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\nThis is how it opens in the mobile browser. Here when It clicks to ``Choose File`` This pop-up appears. I want to do the same in my web view also.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P256z.png","title":"Android Web View Attach image from gallery or Camera","body":"<p>I'm trying to create an Android app for my web system. This is my first try at Android Studio. I followed a few tutorials and made up something.</p>\n<p>So when I open the app it opens my web system within the app.</p>\n<p>There is a section that uploads images, but when I click it, it won't open and ask for a gallery or camera.</p>\n<p>I would like to know how to do it.</p>\n<p>I'm using Android Studio for this and these are the current codes.</p>\n<p>MainActivity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n  WebView webView;\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView = findViewById(R.id.webview);\n    webView.setWebViewClient(new WebViewClient());\n    webView.loadUrl(&quot;https://www.mysitenamegoeshear.com/&quot;);\n    WebSettings websettings = webView.getSettings();\n    websettings.setJavaScriptEnabled(true);\n  }\n  private class MyWebView extends WebViewClient {\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n      super.onPageStarted(view, url, favicon);\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n      return super.shouldOverrideUrlLoading(view, request);\n\n    }\n  }\n\n  @Override\n  public void onBackPressed() {\n    if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\n      webView.goBack();\n    } else {\n      super.onBackPressed();\n    }\n\n  }\n\n}\n</code></pre>\n<p>This is how it opens in the mobile browser. Here when It clicks to <code>Choose File</code> This pop-up appears. I want to do the same in my web view also.</p>\n<p><a href=\"https://i.stack.imgur.com/P256z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P256z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","performance-testing","wiremock"],"answers":[{"comments":[{"owner":{"account_id":8769434,"reputation":128,"user_id":6556776,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1681808380,"post_id":76041905,"comment_id":134112358,"body_markdown":"Will `WireMockConfigurationCustomizer` work for a specific profile (`pref`), for other profiles will it take default configurations?","body":"Will <code>WireMockConfigurationCustomizer</code> work for a specific profile (<code>pref</code>), for other profiles will it take default configurations?"},{"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"score":0,"creation_date":1681820530,"post_id":76041905,"comment_id":134115299,"body_markdown":"Yes. The `@Profile(&quot;perf&quot;)` annotation makes sure this customizer is only created when that profile is active. If that profile is not active the customizer will not be created and wiremock will run with default configurations.","body":"Yes. The <code>@Profile(&quot;perf&quot;)</code> annotation makes sure this customizer is only created when that profile is active. If that profile is not active the customizer will not be created and wiremock will run with default configurations."},{"owner":{"account_id":8769434,"reputation":128,"user_id":6556776,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1682326466,"post_id":76041905,"comment_id":134191694,"body_markdown":"`WireMockConfigurationCustomizer`  is a class from `spring-cloud-contract`, is there any similar customization class present with wiremock - `group: &#39;com.github.tomakehurst&#39;, name: &#39;wiremock-jre8&#39;` as well?","body":"<code>WireMockConfigurationCustomizer</code>  is a class from <code>spring-cloud-contract</code>, is there any similar customization class present with wiremock - <code>group: &#39;com.github.tomakehurst&#39;, name: &#39;wiremock-jre8&#39;</code> as well?"},{"owner":{"account_id":8769434,"reputation":128,"user_id":6556776,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1682329036,"post_id":76041905,"comment_id":134192265,"body_markdown":"found `ResponseDefinitionTransformer ` for implementing this","body":"found <code>ResponseDefinitionTransformer </code> for implementing this"},{"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"score":0,"creation_date":1682330042,"post_id":76041905,"comment_id":134192488,"body_markdown":"Yes the configuration with `WireMockConfigurationCustomizer` does only work if you let spring configure wiremock by annotating your test with `@AutoConfigureWireMock`. However  as you mentioned, you can still configure Wiremock manually and add the transformer based on the active profiles.","body":"Yes the configuration with <code>WireMockConfigurationCustomizer</code> does only work if you let spring configure wiremock by annotating your test with <code>@AutoConfigureWireMock</code>. However  as you mentioned, you can still configure Wiremock manually and add the transformer based on the active profiles."}],"tags":[],"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681803030,"creation_date":1681803030,"answer_id":76041905,"question_id":76004783,"body_markdown":"You can create a `WireMockConfigurationCustomizer` when profile `perf` is active and register an extension which is setting that delay instead of setting the delay directly in your wiremock stub definitions.\r\n\r\n```java\r\n@Configuration\r\npublic class WiremockConfig {\r\n\r\n    @Bean\r\n    @Profile(&quot;perf&quot;)\r\n    public WireMockConfigurationCustomizer wiremockConfig() {\r\n        return config -&gt; config.extensions(\r\n                new ResponseDefinitionTransformer() {\r\n                    @Override\r\n                    public ResponseDefinition transform(Request request, ResponseDefinition response, FileSource fileSource, Parameters parameters) {\r\n                        return ResponseDefinitionBuilder.like(response).withFixedDelay(2000).build();\r\n                    }\r\n\r\n                    @Override\r\n                    public String getName() {\r\n                        return &quot;inject-delay-transformer&quot;;\r\n                    }\r\n                }\r\n        );\r\n    }\r\n}\r\n``` ","title":"Wiremock setup based on spring profiles in spring boot application","body":"<p>You can create a <code>WireMockConfigurationCustomizer</code> when profile <code>perf</code> is active and register an extension which is setting that delay instead of setting the delay directly in your wiremock stub definitions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WiremockConfig {\n\n    @Bean\n    @Profile(&quot;perf&quot;)\n    public WireMockConfigurationCustomizer wiremockConfig() {\n        return config -&gt; config.extensions(\n                new ResponseDefinitionTransformer() {\n                    @Override\n                    public ResponseDefinition transform(Request request, ResponseDefinition response, FileSource fileSource, Parameters parameters) {\n                        return ResponseDefinitionBuilder.like(response).withFixedDelay(2000).build();\n                    }\n\n                    @Override\n                    public String getName() {\n                        return &quot;inject-delay-transformer&quot;;\n                    }\n                }\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8769434,"reputation":128,"user_id":6556776,"display_name":"Ashutosh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76041905,"answer_count":1,"score":0,"last_activity_date":1681803030,"creation_date":1681384549,"question_id":76004783,"body_markdown":"I have run into a probelm with Wiremock setup with spring boot application.\r\n\r\n&gt;**Background:**\r\nCurrent application setup has wiremock implemented for functional tests(spring profile - `test`) to mock responses for multiple downstream services.\r\n\r\n\r\nI need to setup **Performance Test Environment (`perf`)** for the application, I will be using different wiremock configurations for `perf` environment .\r\nAs there are multiple downstream services involved, I want to simulate delayed response from downstream services to get accurate results. Wiremock provides us with following configuration to do that:\r\n\r\n&gt; `&quot;fixedDelayMilliseconds&quot;: &lt;x milliseconds&gt;`\r\n\r\n(*ref : https://wiremock.org/docs/simulating-faults/*)\r\n\r\n\r\nBut if I include this param in my current wiremock configuration, it will also get applied to functional test(spring profile `test`). Please suggest a way to add this delay based on spring profile only for `perf` but not for `test`.\r\n\r\n\r\n\r\nI am thinking to implement mocked services implementation for `perf` env and add response delays there, but I want to achieve this through configurations, if possible.","title":"Wiremock setup based on spring profiles in spring boot application","body":"<p>I have run into a probelm with Wiremock setup with spring boot application.</p>\n<blockquote>\n<p><strong>Background:</strong>\nCurrent application setup has wiremock implemented for functional tests(spring profile - <code>test</code>) to mock responses for multiple downstream services.</p>\n</blockquote>\n<p>I need to setup <strong>Performance Test Environment (<code>perf</code>)</strong> for the application, I will be using different wiremock configurations for <code>perf</code> environment .\nAs there are multiple downstream services involved, I want to simulate delayed response from downstream services to get accurate results. Wiremock provides us with following configuration to do that:</p>\n<blockquote>\n<p><code>&quot;fixedDelayMilliseconds&quot;: &lt;x milliseconds&gt;</code></p>\n</blockquote>\n<p>(<em>ref : <a href=\"https://wiremock.org/docs/simulating-faults/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/simulating-faults/</a></em>)</p>\n<p>But if I include this param in my current wiremock configuration, it will also get applied to functional test(spring profile <code>test</code>). Please suggest a way to add this delay based on spring profile only for <code>perf</code> but not for <code>test</code>.</p>\n<p>I am thinking to implement mocked services implementation for <code>perf</code> env and add response delays there, but I want to achieve this through configurations, if possible.</p>\n"},{"tags":["java","spring-webflux","spring-cloud-gateway","reactor-netty"],"owner":{"account_id":20019710,"reputation":1,"user_id":14674904,"display_name":"Don________"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681802875,"creation_date":1681802875,"question_id":76041881,"body_markdown":"When i send a GET HTTP message to the SpringCloudGateway, it responses with 400: Bad Request!\r\nHow to solve this problem without modifying the request path.\r\n\r\nThe exception in Console\r\n\r\n```\r\njava.net.URISyntaxException: Malformed escape pair at index 50: http://localhost:8080/api/user/application?data_a=%u589E\r\n\tat java.net.URI$Parser.fail(URI.java:2848) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.scanEscape(URI.java:2978) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.scan(URI.java:3001) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.checkChars(URI.java:3019) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.parseHierarchical(URI.java:3111) ~[na:1.8.0_131]\r\n\tat java.net.URI$Parser.parse(URI.java:3053) ~[na:1.8.0_131]\r\n\tat java.net.URI.&lt;init&gt;(URI.java:588) ~[na:1.8.0_131]\r\n\tat java.net.URI.create(URI.java:850) ~[na:1.8.0_131]\r\n\tat reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:360) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:153) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:137) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:200) ~[reactor-netty-http-1.0.4.jar:1.0.4]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.59.Final.jar:4.1.59.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\r\n```\r\n\r\nPOM.xml\r\n\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2020.0.2&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\nThis exception occurs only when the log level is debug.When it&#39;s info, the console is empty","title":"400 Bad Request in SpringCloudGateway?","body":"<p>When i send a GET HTTP message to the SpringCloudGateway, it responses with 400: Bad Request!\nHow to solve this problem without modifying the request path.</p>\n<p>The exception in Console</p>\n<pre><code>java.net.URISyntaxException: Malformed escape pair at index 50: http://localhost:8080/api/user/application?data_a=%u589E\n    at java.net.URI$Parser.fail(URI.java:2848) ~[na:1.8.0_131]\n    at java.net.URI$Parser.scanEscape(URI.java:2978) ~[na:1.8.0_131]\n    at java.net.URI$Parser.scan(URI.java:3001) ~[na:1.8.0_131]\n    at java.net.URI$Parser.checkChars(URI.java:3019) ~[na:1.8.0_131]\n    at java.net.URI$Parser.parseHierarchical(URI.java:3111) ~[na:1.8.0_131]\n    at java.net.URI$Parser.parse(URI.java:3053) ~[na:1.8.0_131]\n    at java.net.URI.&lt;init&gt;(URI.java:588) ~[na:1.8.0_131]\n    at java.net.URI.create(URI.java:850) ~[na:1.8.0_131]\n    at reactor.netty.http.HttpOperations.resolvePath(HttpOperations.java:360) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:153) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpServerOperations.&lt;init&gt;(HttpServerOperations.java:137) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:200) ~[reactor-netty-http-1.0.4.jar:1.0.4]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.59.Final.jar:4.1.59.Final]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\n</code></pre>\n<p>POM.xml</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2020.0.2&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>This exception occurs only when the log level is debug.When it's info, the console is empty</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681807721,"post_id":76041852,"comment_id":134112221,"body_markdown":"It&#39;s not possible currently, i.e. there are no appropriate classes. One might do it with the COS classes after reading and understanding the PDF specification (&quot;12.5.6.23 Redaction Annotations&quot;). I could implement such classes later this year if somebody comes up with a few sample PDFs.","body":"It&#39;s not possible currently, i.e. there are no appropriate classes. One might do it with the COS classes after reading and understanding the PDF specification (&quot;12.5.6.23 Redaction Annotations&quot;). I could implement such classes later this year if somebody comes up with a few sample PDFs."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1681823236,"post_id":76041852,"comment_id":134116024,"body_markdown":"In other words, it is possible nowadays using lowlevel APIs, there merely is not yet a highlevel API for redaction marks in PDFBox. If you know the internals of the PDF format, therefore, you can create redaction marks with PDFBox; otherwise, you should wait until @Tilman or some other kind soul implements the high level API.","body":"In other words, it is possible nowadays using lowlevel APIs, there merely is not yet a highlevel API for redaction marks in PDFBox. If you know the internals of the PDF format, therefore, you can create redaction marks with PDFBox; otherwise, you should wait until @Tilman or some other kind soul implements the high level API."},{"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"score":0,"creation_date":1682037178,"post_id":76041852,"comment_id":134156735,"body_markdown":"Thanks for the response. I found such feature in python module PyMuPDF. It has apis to make all types of highlights and redactions.","body":"Thanks for the response. I found such feature in python module PyMuPDF. It has apis to make all types of highlights and redactions."},{"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"score":0,"creation_date":1682070963,"post_id":76041852,"comment_id":134161439,"body_markdown":"Note: PyMuPDF is AGPL license. Not free.","body":"Note: PyMuPDF is AGPL license. Not free."}],"owner":{"account_id":1340849,"reputation":142,"user_id":1282525,"accept_rate":50,"display_name":"Harish Alwala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681802641,"creation_date":1681802641,"question_id":76041852,"body_markdown":"I am looking to create redaction marks in pdf using pdfbox. The generated pdf with redaction marks will be used to make redactions in acrobat pdf reader.\r\n\r\nIs it possible to create Redaction marks using pdfbox Java api.\r\n\r\nSample code would be much helpful.\r\n\r\n","title":"&quot;Redaction marks&quot; with pdfbox Java api","body":"<p>I am looking to create redaction marks in pdf using pdfbox. The generated pdf with redaction marks will be used to make redactions in acrobat pdf reader.</p>\n<p>Is it possible to create Redaction marks using pdfbox Java api.</p>\n<p>Sample code would be much helpful.</p>\n"},{"tags":["java","android","sql","android-room"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1681746835,"post_id":76036711,"comment_id":134103007,"body_markdown":"Add one day to endday.","body":"Add one day to endday."},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1681756973,"post_id":76036711,"comment_id":134105332,"body_markdown":"*...all activities with the dates between the startdate and enddate from the picker will be shown...* your query checks only the column `start_time` to be between `:from` and `:to`. It does not check the column `end_time`. Is this that you want?","body":"<i>...all activities with the dates between the startdate and enddate from the picker will be shown...</i> your query checks only the column <code>start_time</code> to be between <code>:from</code> and <code>:to</code>. It does not check the column <code>end_time</code>. Is this that you want?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681765816,"creation_date":1681762650,"answer_id":76038983,"question_id":76036711,"body_markdown":"From a quick look, the daterangepicker could use dates that include the date and time down to milliseconds (long/Long) but at a guess uses the start of the day e.g. `2023-04-01 00:00:00.000` and `2023-04-30 00:00:00.000`.\r\n\r\n- Note these are visual representations of the value not the actual value that is stored (e.g. `23-04-01 00:00:00.000` would be stored as `1680307200000`, whilst if not including milliseconds, `23-04-01 00:00:00`, then it would be stored as `1680307200`).\r\n\r\n\r\nThus virtually any date/time/millis on 04/30 will be excluded unless it is the very first milli second of the date which is highly unlikely.\r\n\r\n- If the milliseconds are not returned and just the time, the difference would be that the selection would then only include those rows that had a date/time of up to and including `23-04-30 00:00:00` NOT `23-04-30 00:00:01` or greater.\r\n\r\nThis appears to match your description of the issue. \r\n\r\nWhat you can do is just use the date part for the comparisons and the SQLite `date` function will do this *(if the milliseconds are dropped AND the function is told that it is handling a unix timestamp)*\r\n- a) drop the milli seconds by dividing by 1000 and then \r\n- b) use the date function to extract just the date component with the **unixepoch** modifier.\r\n\r\nSo you could use *(assuming that milliseconds are stored)*:-\r\n\r\n    @Query(&quot;SELECT * FROM tasks WHERE date(start_time / 1000,&#39;unixepoch&#39;) BETWEEN date(:from/1000,&#39;unixepoch&#39;) AND date(:to/1000,&#39;unixepoch&#39;)&quot;)\r\n\r\nYou may wish to refer to https://www.sqlite.org/lang_datefunc.html \r\n\r\n- Note the above is in-principle code, that is the code has not been compiled and/or run.\r\n- if the milliseconds are not stored then simply remove the 3 divisions by 1000 e.g. `@Query(&quot;SELECT * FROM tasks WHERE date(start_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;)&quot;)`\r\n\r\n\r\n&gt; they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.\r\n\r\nYou are only showing rows that have the start date in the date range. It would not show, for example one that started on 31st march and ended on 10th April. For that, assuming that the end date/time is held in a column name **end_time** then you could use (assuming no milliseconds):-\r\n\r\n`@Query(&quot;SELECT * FROM tasks WHERE date(start_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;) OR date(end_time,&#39;unixepoch&#39;) BETWEEN date(:from,&#39;unixepoch&#39;) AND date(:to,&#39;unixepoch&#39;)&quot;)`\r\n\r\n","title":"How to get all Dates between two Dates in Android Room","body":"<p>From a quick look, the daterangepicker could use dates that include the date and time down to milliseconds (long/Long) but at a guess uses the start of the day e.g. <code>2023-04-01 00:00:00.000</code> and <code>2023-04-30 00:00:00.000</code>.</p>\n<ul>\n<li>Note these are visual representations of the value not the actual value that is stored (e.g. <code>23-04-01 00:00:00.000</code> would be stored as <code>1680307200000</code>, whilst if not including milliseconds, <code>23-04-01 00:00:00</code>, then it would be stored as <code>1680307200</code>).</li>\n</ul>\n<p>Thus virtually any date/time/millis on 04/30 will be excluded unless it is the very first milli second of the date which is highly unlikely.</p>\n<ul>\n<li>If the milliseconds are not returned and just the time, the difference would be that the selection would then only include those rows that had a date/time of up to and including <code>23-04-30 00:00:00</code> NOT <code>23-04-30 00:00:01</code> or greater.</li>\n</ul>\n<p>This appears to match your description of the issue.</p>\n<p>What you can do is just use the date part for the comparisons and the SQLite <code>date</code> function will do this <em>(if the milliseconds are dropped AND the function is told that it is handling a unix timestamp)</em></p>\n<ul>\n<li>a) drop the milli seconds by dividing by 1000 and then</li>\n<li>b) use the date function to extract just the date component with the <strong>unixepoch</strong> modifier.</li>\n</ul>\n<p>So you could use <em>(assuming that milliseconds are stored)</em>:-</p>\n<pre><code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time / 1000,'unixepoch') BETWEEN date(:from/1000,'unixepoch') AND date(:to/1000,'unixepoch')&quot;)\n</code></pre>\n<p>You may wish to refer to <a href=\"https://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_datefunc.html</a></p>\n<ul>\n<li>Note the above is in-principle code, that is the code has not been compiled and/or run.</li>\n<li>if the milliseconds are not stored then simply remove the 3 divisions by 1000 e.g. <code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch')&quot;)</code></li>\n</ul>\n<blockquote>\n<p>they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.</p>\n</blockquote>\n<p>You are only showing rows that have the start date in the date range. It would not show, for example one that started on 31st march and ended on 10th April. For that, assuming that the end date/time is held in a column name <strong>end_time</strong> then you could use (assuming no milliseconds):-</p>\n<p><code>@Query(&quot;SELECT * FROM tasks WHERE date(start_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch') OR date(end_time,'unixepoch') BETWEEN date(:from,'unixepoch') AND date(:to,'unixepoch')&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802534,"creation_date":1681802534,"answer_id":76041832,"question_id":76036711,"body_markdown":"you can try like this its work for me\r\n\r\n     @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN strftime(&#39;%s&#39;, date(:from/1000, &quot; +\r\n            &quot;&#39;unixepoch&#39;))  AND strftime(&#39;%s&#39;, date(:to/1000, &#39;unixepoch&#39;)) )\r\n    List&lt;TimeEntity&gt; getChoosenTimes(long from, long to);","title":"How to get all Dates between two Dates in Android Room","body":"<p>you can try like this its work for me</p>\n<pre><code> @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN strftime('%s', date(:from/1000, &quot; +\n        &quot;'unixepoch'))  AND strftime('%s', date(:to/1000, 'unixepoch')) )\nList&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\n</code></pre>\n"}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1681802534,"creation_date":1681744742,"question_id":76036711,"body_markdown":"i have an application in which the users do some tasks. if they finished the task, it will be safed in a room database with the startdate and enddate. start and enddate are stored with a typeconverter from date to long. then the users can choose two dates from a daterangepicker. When the selection is done, they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.\r\n\r\nThe problem is that the @Query statement in the DAO Class is not inclusive. If running it excludes the endate by one day. \r\n\r\n    @Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN :from AND :to&quot;)\r\n    List&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\r\nFor example. If i want to pick all the days between 1. April and 30. April the user did some tasks, it gives me only all days up to 29. April. \r\n\r\nCan anybody tell me how i can change the query to not exclude the last day?\r\n\r\n\r\n","title":"How to get all Dates between two Dates in Android Room","body":"<p>i have an application in which the users do some tasks. if they finished the task, it will be safed in a room database with the startdate and enddate. start and enddate are stored with a typeconverter from date to long. then the users can choose two dates from a daterangepicker. When the selection is done, they can press a button and all activities with the dates between the startdate and enddate from the picker will be shown to the user in a recyclerview.</p>\n<p>The problem is that the @Query statement in the DAO Class is not inclusive. If running it excludes the endate by one day.</p>\n<pre><code>@Query(&quot;SELECT * FROM tasks WHERE start_time BETWEEN :from AND :to&quot;)\nList&lt;TimeEntity&gt; getChoosenTimes(long from, long to);\n</code></pre>\n<p>For example. If i want to pick all the days between 1. April and 30. April the user did some tasks, it gives me only all days up to 29. April.</p>\n<p>Can anybody tell me how i can change the query to not exclude the last day?</p>\n"},{"tags":["java","grpc-java"],"owner":{"account_id":19466002,"reputation":445,"user_id":14239262,"display_name":"eof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681802411,"creation_date":1681802411,"question_id":76041816,"body_markdown":"The gRPC examples for Java are quite basic. Does anyone know of any up-to-date examples that actually inject to the server a custom Netty EventLoopGroup? I&#39;m setting up gRPC for the first time in Java while I&#39;ve used Netty. The service I have makes multiple backend calls using different libraries built on top of Netty, so I would prefer to manage threadpools myself.","title":"gRPC custom netty event loop group","body":"<p>The gRPC examples for Java are quite basic. Does anyone know of any up-to-date examples that actually inject to the server a custom Netty EventLoopGroup? I'm setting up gRPC for the first time in Java while I've used Netty. The service I have makes multiple backend calls using different libraries built on top of Netty, so I would prefer to manage threadpools myself.</p>\n"},{"tags":["java","android","button","onclick"],"answers":[{"comments":[{"owner":{"account_id":21514836,"reputation":1,"user_id":15856892,"display_name":"TurboAli"},"score":0,"creation_date":1626959999,"post_id":68477025,"comment_id":121034831,"body_markdown":"thnx I&#39;m not sure how to implement this since I&#39;m not familiar with kotlin. I did find a easier solution and it seems that your provided for loop is shorter for what I found.  switch(v.getId()){\n                case R.id.btn:\n\n                    if (btn!= null) {\n                        String sometext= &quot;&lt;b&gt;text&lt;/b&gt;&quot;;\n                        btn.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);\n                        btn.setTextColor(Color.YELLOW);\n                        btn.setBackgroundResource(R.drawable.grey);\n                    }\n                    break;","body":"thnx I&#39;m not sure how to implement this since I&#39;m not familiar with kotlin. I did find a easier solution and it seems that your provided for loop is shorter for what I found.  switch(v.getId()){                 case R.id.btn:                      if (btn!= null) {                         String sometext= &quot;&lt;b&gt;text&lt;/b&gt;&quot;;                         btn.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);                         btn.setTextColor(Color.YELLOW);                         btn.setBackgroundResource(R.drawable.grey);                     }                     break;"}],"tags":[],"owner":{"account_id":5085524,"reputation":111,"user_id":4080371,"display_name":"Satish Bonagiri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626905368,"creation_date":1626905368,"answer_id":68477025,"question_id":68475407,"body_markdown":"one approach could be -  if all the buttons are created dynamically hold all of them in a List , assign unique Id to each button (**by using setId/setTag**) programatically. In click listener compare the clicked view ID with List of button IDs and do the required action.\r\n\r\n**Below is a working sample code for reference:** \r\n\r\n    class MainActivity : AppCompatActivity() ,View.OnClickListener{\r\n\r\n    private lateinit var linearLayout: LinearLayout\r\n\r\n    private val NUM_BUTTONS :Int = 10\r\n\r\n    private var buttonList = ArrayList&lt;Button&gt;()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        linearLayout = findViewById(R.id.linearLayout)\r\n\r\n       for( i in 1..NUM_BUTTONS){\r\n           val button = Button(this)\r\n           button.id= i\r\n           button.tag = i\r\n           button.text = &quot;button &quot; + i.toString()\r\n           button.setOnClickListener(this)\r\n           buttonList.add(button)\r\n           linearLayout.addView(button)\r\n       }\r\n    }\r\n\r\n    override fun onClick(view: View) {\r\n        for( button in buttonList){\r\n            if(button.id == view.id){\r\n                button.text = &quot;Clicked Me&quot;\r\n            }else{\r\n                button.text = &quot;Un Click All&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nxml layout :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:id=&quot;@+id/linearLayout&quot;&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>one approach could be -  if all the buttons are created dynamically hold all of them in a List , assign unique Id to each button (<strong>by using setId/setTag</strong>) programatically. In click listener compare the clicked view ID with List of button IDs and do the required action.</p>\n<p><strong>Below is a working sample code for reference:</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() ,View.OnClickListener{\n\nprivate lateinit var linearLayout: LinearLayout\n\nprivate val NUM_BUTTONS :Int = 10\n\nprivate var buttonList = ArrayList&lt;Button&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    linearLayout = findViewById(R.id.linearLayout)\n\n   for( i in 1..NUM_BUTTONS){\n       val button = Button(this)\n       button.id= i\n       button.tag = i\n       button.text = &quot;button &quot; + i.toString()\n       button.setOnClickListener(this)\n       buttonList.add(button)\n       linearLayout.addView(button)\n   }\n}\n\noverride fun onClick(view: View) {\n    for( button in buttonList){\n        if(button.id == view.id){\n            button.text = &quot;Clicked Me&quot;\n        }else{\n            button.text = &quot;Un Click All&quot;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>xml layout :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/linearLayout&quot;&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918139,"reputation":51,"user_id":9341603,"display_name":"Ashok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802353,"creation_date":1681802353,"answer_id":76041806,"question_id":68475407,"body_markdown":"Sorry for the delay. It may helpful for someone.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Button[] btns;\r\n    int btnClicked = 0;\r\n\r\n    private void buttonsClickStatus() {\r\n      btns = new Button[]{btn1, btn2, btn3, ......., btn100};\r\n      for(int i = 0; i &lt; buttons.length; ++i) {\r\n        //default buttons\r\n        btns[i].setText(&quot;Not clicked&quot;);\r\n        btns[i].setTextColor(Color.WHITE);\r\n        btns[i].setBackgroundResource(R.drawable.purple);\r\n        int j = i; \r\n        btns[i].setOnClickListener(v -&gt; {\r\n          btnClicked = j;\r\n          for(int k = 0; k &lt; buttons.length; ++k) {\r\n            if(btnClicked == k) {\r\n              //After specific button clicked\r\n              btns[k].setText(&quot;Clicked &quot;+k);\r\n              btns[k].setTextColor(Color.GREEN);\r\n              btns[k].setBackgroundResource(R.drawable.yellow);\r\n            } else {\r\n              //Remaining buttons set to default\r\n              btns[k].setText(&quot;Not clicked&quot;);\r\n              btns[i].setTextColor(Color.WHITE);\r\n              btns[i].setBackgroundResource(R.drawable.purple);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>Sorry for the delay. It may helpful for someone.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Button[] btns;\nint btnClicked = 0;\n\nprivate void buttonsClickStatus() {\n  btns = new Button[]{btn1, btn2, btn3, ......., btn100};\n  for(int i = 0; i &lt; buttons.length; ++i) {\n    //default buttons\n    btns[i].setText(\"Not clicked\");\n    btns[i].setTextColor(Color.WHITE);\n    btns[i].setBackgroundResource(R.drawable.purple);\n    int j = i; \n    btns[i].setOnClickListener(v -&gt; {\n      btnClicked = j;\n      for(int k = 0; k &lt; buttons.length; ++k) {\n        if(btnClicked == k) {\n          //After specific button clicked\n          btns[k].setText(\"Clicked \"+k);\n          btns[k].setTextColor(Color.GREEN);\n          btns[k].setBackgroundResource(R.drawable.yellow);\n        } else {\n          //Remaining buttons set to default\n          btns[k].setText(\"Not clicked\");\n          btns[i].setTextColor(Color.WHITE);\n          btns[i].setBackgroundResource(R.drawable.purple);\n        }\n      }\n    });\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":21514836,"reputation":1,"user_id":15856892,"display_name":"TurboAli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681802353,"creation_date":1626895500,"question_id":68475407,"body_markdown":"solution found! see update!\r\n\r\nI looked everywhere to find a solution but i couldn&#39;t find a satisfied answer to my problem.\r\n\r\nI have 100&#39;s of buttons with default layout and text. What I&#39;m looking for is a simple,easy method/solution when pressed on button1 to change its text and background and when pressed on button2 to change its own text and background but button1 should go back to its previous/default settings and the other buttons as well.\r\n\r\nI have a way to do it but since I have 500 other buttons , it would take me long time to write all of them and I want to keep my code short as well. \r\n\r\nBelow is the code I&#39;m using now, I hope you guys can be of any help. Thank you!\r\n\r\n    btn1.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n\r\n          \r\n                String sometext = &quot;&lt;b&gt;sometext&lt;/b&gt;&quot;;\r\n                btn1.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);\r\n                btn1.setTextColor(Color.YELLOW);\r\n                btn1.setBackgroundResource(R.drawable.grey);\r\n\r\n                btn2.setText(getString(R.string.todeaulttext));\r\n                btn2.setTextColor(Color.WHITE);\r\n                btn2.setBackgroundResource(R.drawable.purple);\r\n\r\n                btn3.setText(getString(R.string.todefaulttext));\r\n                btn3.setTextColor(Color.WHITE);\r\n                btn3.setBackgroundResource(R.drawable.purple);\r\n\r\n    btn2.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n\r\n                String   someothertext= &quot;&lt;b&gt;someothertext&lt;/b&gt;&quot;;\r\n                btn2.setText(Html.fromHtml(someothertext), Button.BufferType.SPANNABLE);\r\n                btn2.setTextColor(Color.YELLOW);\r\n                btn2.setBackgroundResource(R.drawable.grey);\r\n\r\n                btn1.setText(getString(R.string.todeaulttext));\r\n                btn1.setTextColor(Color.WHITE);\r\n                btn1.setBackgroundResource(R.drawable.purple);\r\n             \r\n                btn3.getResources().getString(R.string.todeaulttext);\r\n                btn3.setTextColor(Color.WHITE);\r\n                btn3.setBackgroundResource(R.drawable.purple);\r\n\r\nupdate: found a solution to my problem testing with nested for loops and it works like a charm.\r\n\r\nfirst for loop = to set the onclickListeners to all buttons.\r\n\r\nSecond loop = to define text color and background to all buttons.\r\n\r\nThird loop = to set the button text(strings) to each button.\r\n\r\nFourth loop with if statement =  to change the text color and background when clicked on a button. Only changes the button text color and background that is being clicked.\r\n\r\nFifth loop inside if statement = to change text(string) of the clicked button only.\r\n\r\nI hope this will be of use to others with similar problem writing many buttons with different strings to each button and to set only the button text, text color and background of the clicked button \r\n\r\nfor (int i1 = 0; i1 &lt; Array.length; i1++) {\r\n\r\n                buttons[i1] = findViewById(Array[i1]);\r\n                Button btn1 = findViewById(Array[i1]);\r\n                int finalI1 = i1;\r\n                int finalI = i1;\r\n\r\n                buttons[i1].setOnClickListener(v16 -&gt; {\r\n\r\n                    for (int j = 0; j &lt; Array.length; j++) {\r\n                        buttons[j] = findViewById(Array[j]);\r\n                        Button btn = findViewById(Array[j]);\r\n                        btn.setTextColor(Color.WHITE);\r\n                        btn.setBackgroundResource(R.drawable.purple);\r\n\r\n                        String[] stringArray = getResources().getStringArray(R.array.somestrings);\r\n\r\n                        for (int k = 0; k &lt; stringArray.length; k++) {\r\n                            buttons[k] = findViewById(Array[k]);\r\n                            Button btn2 = findViewById(Array[k]);\r\n                            btn2.setText(stringArray[k]);\r\n                        }\r\n\r\n                        int id = btn1.getId();\r\n                        if (id == Array[finalI1]) {\r\n\r\n                            for (int l = 0; l &lt; Array.length; l++) {\r\n                                buttons[l] = findViewById(verbsArray[l]);\r\n                                btn1.setTextColor(Color.YELLOW);\r\n                                btn1.setBackgroundResource(R.drawable.grey);\r\n                            }\r\n\r\n                            if (id == Array[finalI]) {\r\n\r\n                                String[] stringArray1 = getResources().getStringArray(R.array.someotherstring);\r\n                               \r\n                               btn1.setText(stringArray1[finalI]);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n","title":"For loops multiple buttons and strings : how to change button text and background and to restore to default settings, if another button is clicked?","body":"<p>solution found! see update!</p>\n<p>I looked everywhere to find a solution but i couldn't find a satisfied answer to my problem.</p>\n<p>I have 100's of buttons with default layout and text. What I'm looking for is a simple,easy method/solution when pressed on button1 to change its text and background and when pressed on button2 to change its own text and background but button1 should go back to its previous/default settings and the other buttons as well.</p>\n<p>I have a way to do it but since I have 500 other buttons , it would take me long time to write all of them and I want to keep my code short as well.</p>\n<p>Below is the code I'm using now, I hope you guys can be of any help. Thank you!</p>\n<pre><code>btn1.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n\n      \n            String sometext = &quot;&lt;b&gt;sometext&lt;/b&gt;&quot;;\n            btn1.setText(Html.fromHtml(sometext), Button.BufferType.SPANNABLE);\n            btn1.setTextColor(Color.YELLOW);\n            btn1.setBackgroundResource(R.drawable.grey);\n\n            btn2.setText(getString(R.string.todeaulttext));\n            btn2.setTextColor(Color.WHITE);\n            btn2.setBackgroundResource(R.drawable.purple);\n\n            btn3.setText(getString(R.string.todefaulttext));\n            btn3.setTextColor(Color.WHITE);\n            btn3.setBackgroundResource(R.drawable.purple);\n\nbtn2.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n\n            String   someothertext= &quot;&lt;b&gt;someothertext&lt;/b&gt;&quot;;\n            btn2.setText(Html.fromHtml(someothertext), Button.BufferType.SPANNABLE);\n            btn2.setTextColor(Color.YELLOW);\n            btn2.setBackgroundResource(R.drawable.grey);\n\n            btn1.setText(getString(R.string.todeaulttext));\n            btn1.setTextColor(Color.WHITE);\n            btn1.setBackgroundResource(R.drawable.purple);\n         \n            btn3.getResources().getString(R.string.todeaulttext);\n            btn3.setTextColor(Color.WHITE);\n            btn3.setBackgroundResource(R.drawable.purple);\n</code></pre>\n<p>update: found a solution to my problem testing with nested for loops and it works like a charm.</p>\n<p>first for loop = to set the onclickListeners to all buttons.</p>\n<p>Second loop = to define text color and background to all buttons.</p>\n<p>Third loop = to set the button text(strings) to each button.</p>\n<p>Fourth loop with if statement =  to change the text color and background when clicked on a button. Only changes the button text color and background that is being clicked.</p>\n<p>Fifth loop inside if statement = to change text(string) of the clicked button only.</p>\n<p>I hope this will be of use to others with similar problem writing many buttons with different strings to each button and to set only the button text, text color and background of the clicked button</p>\n<p>for (int i1 = 0; i1 &lt; Array.length; i1++) {</p>\n<pre><code>            buttons[i1] = findViewById(Array[i1]);\n            Button btn1 = findViewById(Array[i1]);\n            int finalI1 = i1;\n            int finalI = i1;\n\n            buttons[i1].setOnClickListener(v16 -&gt; {\n\n                for (int j = 0; j &lt; Array.length; j++) {\n                    buttons[j] = findViewById(Array[j]);\n                    Button btn = findViewById(Array[j]);\n                    btn.setTextColor(Color.WHITE);\n                    btn.setBackgroundResource(R.drawable.purple);\n\n                    String[] stringArray = getResources().getStringArray(R.array.somestrings);\n\n                    for (int k = 0; k &lt; stringArray.length; k++) {\n                        buttons[k] = findViewById(Array[k]);\n                        Button btn2 = findViewById(Array[k]);\n                        btn2.setText(stringArray[k]);\n                    }\n\n                    int id = btn1.getId();\n                    if (id == Array[finalI1]) {\n\n                        for (int l = 0; l &lt; Array.length; l++) {\n                            buttons[l] = findViewById(verbsArray[l]);\n                            btn1.setTextColor(Color.YELLOW);\n                            btn1.setBackgroundResource(R.drawable.grey);\n                        }\n\n                        if (id == Array[finalI]) {\n\n                            String[] stringArray1 = getResources().getStringArray(R.array.someotherstring);\n                           \n                           btn1.setText(stringArray1[finalI]);\n                        }\n                    }\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["java","int","compare","java-stream","comparator"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1595770312,"post_id":63100808,"comment_id":111583047,"body_markdown":"So you have `Integer` fields, not `int` fields, right? Otherwise they could not be `null`, or is the entire object containing the fields `null`?","body":"So you have <code>Integer</code> fields, not <code>int</code> fields, right? Otherwise they could not be <code>null</code>, or is the entire object containing the fields <code>null</code>?"},{"owner":{"account_id":7979600,"reputation":68,"user_id":6021475,"display_name":"SanTos A"},"score":0,"creation_date":1595770989,"post_id":63100808,"comment_id":111583226,"body_markdown":"Yeah Integer fields","body":"Yeah Integer fields"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1595771096,"post_id":63100808,"comment_id":111583270,"body_markdown":"You will have to implement your own comparator.","body":"You will have to implement your own comparator."}],"answers":[{"tags":[],"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595770804,"creation_date":1595770804,"answer_id":63100915,"question_id":63100808,"body_markdown":"The simplest way seems to be to write a comparator that&#39;s specific to the exact concerns that apply to sorting the particular pojo.\r\n\r\nIt seems to me more obvious than duct-taping parts together that don&#39;t behave how you want them (e.g., comparingInt not tolerating null references).\r\n\r\n","title":"Java 8 comparingInt with null values","body":"<p>The simplest way seems to be to write a comparator that's specific to the exact concerns that apply to sorting the particular pojo.</p>\n<p>It seems to me more obvious than duct-taping parts together that don't behave how you want them (e.g., comparingInt not tolerating null references).</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1595772670,"creation_date":1595772670,"answer_id":63101281,"question_id":63100808,"body_markdown":"Since your component `Integer` objects are `null` you cannot use `comparingInt` with them. Instead of using `comparingInt`, first create a helper null-safe Integer comparator, and use that in your Pojo comparator.\r\n\r\n    Comparator&lt;Integer&gt; nullsLast = Comparator.nullsLast(Comparator.naturalOrder());\r\n    Comparator&lt;Pojo&gt; pojoComparator = Comparator.comparing(Pojo::getFirstInteger, nullsLast)\r\n                .thenComparing(Pojo::getSecondInteger, nullsLast)\r\n                .thenComparing(Pojo::getThirdInteger, nullsLast);\r\n","title":"Java 8 comparingInt with null values","body":"<p>Since your component <code>Integer</code> objects are <code>null</code> you cannot use <code>comparingInt</code> with them. Instead of using <code>comparingInt</code>, first create a helper null-safe Integer comparator, and use that in your Pojo comparator.</p>\n<pre><code>Comparator&lt;Integer&gt; nullsLast = Comparator.nullsLast(Comparator.naturalOrder());\nComparator&lt;Pojo&gt; pojoComparator = Comparator.comparing(Pojo::getFirstInteger, nullsLast)\n            .thenComparing(Pojo::getSecondInteger, nullsLast)\n            .thenComparing(Pojo::getThirdInteger, nullsLast);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6745176,"reputation":2134,"user_id":5197004,"accept_rate":86,"display_name":"Benjamin Sch&#252;ller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681802323,"creation_date":1681802323,"answer_id":76041803,"question_id":63100808,"body_markdown":"I know this question is already three years old, but why you don&#39;t just adapt the key extractor for `Comparing.comparingInt`?\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n        Stream.of(4, 2, 7, 3, null, 1, 9)\r\n            .sorted(Comparator.comparingInt(i -&gt; Objects.nonNull(i) ? i : Integer.MAX_VALUE))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\nIn my example i have an Int-Stream with a null value. To catch and adapt it for the comparator you just have to check it in the key extractor. If the integer is null you change it to another value. Here i took Integer.MAX_VALUE to put the element to the end of the list.","title":"Java 8 comparingInt with null values","body":"<p>I know this question is already three years old, but why you don't just adapt the key extractor for <code>Comparing.comparingInt</code>?</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) {\n    Stream.of(4, 2, 7, 3, null, 1, 9)\n        .sorted(Comparator.comparingInt(i -&gt; Objects.nonNull(i) ? i : Integer.MAX_VALUE))\n        .forEach(System.out::println);\n}\n</code></pre>\n<p>In my example i have an Int-Stream with a null value. To catch and adapt it for the comparator you just have to check it in the key extractor. If the integer is null you change it to another value. Here i took Integer.MAX_VALUE to put the element to the end of the list.</p>\n"}],"owner":{"account_id":7979600,"reputation":68,"user_id":6021475,"display_name":"SanTos A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63101281,"answer_count":3,"score":0,"last_activity_date":1681802323,"creation_date":1595770252,"question_id":63100808,"body_markdown":"I have a functionality to sort a list of pojo by 3 Integer fields.\r\n\r\nCurrently I am using `comparingInt()` and `thenComparingBy()`.\r\n\r\nBut i may get a null value in between. This throws a `NullPointerException`.\r\n\r\nFor this i want to add null values at the end. `Comparator.nullsLast()` does not work for my case as I am comparing by 3 integer values.\r\n\r\nIs there a way to achieve this....","title":"Java 8 comparingInt with null values","body":"<p>I have a functionality to sort a list of pojo by 3 Integer fields.</p>\n<p>Currently I am using <code>comparingInt()</code> and <code>thenComparingBy()</code>.</p>\n<p>But i may get a null value in between. This throws a <code>NullPointerException</code>.</p>\n<p>For this i want to add null values at the end. <code>Comparator.nullsLast()</code> does not work for my case as I am comparing by 3 integer values.</p>\n<p>Is there a way to achieve this....</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":27914600,"reputation":21,"user_id":21316023,"display_name":"Ruslan Valeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681361297,"creation_date":1681360033,"answer_id":76001615,"question_id":76001082,"body_markdown":"Yes, you can. You should write Bean Post Processor for your interface `MyInterface`, that before start spring app will look throw over all classes and find all that implements that interface, then register all classes to ApplicationContext","title":"Force interface implementations to be Spring Components","body":"<p>Yes, you can. You should write Bean Post Processor for your interface <code>MyInterface</code>, that before start spring app will look throw over all classes and find all that implements that interface, then register all classes to ApplicationContext</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681388366,"creation_date":1681388366,"answer_id":76005359,"question_id":76001082,"body_markdown":"Auto-registering all implementations of a specific interface can be done as follows. Note: a full scan of the classpath, including classes that have not been loaded, can be time-consuming with a large classpath.\r\n\r\nCreate a `@Configuration` class that implements `BeanDefinitionRegistryPostProcessor` &amp; `PriorityOrdered` as follows. THis will scan and create beans with names as per the package &amp; classname of the implementing class.\r\n\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import org.reflections.Reflections;\r\n    import org.reflections.scanners.Scanners;\r\n    import org.reflections.util.ClasspathHelper;\r\n    import org.reflections.util.ConfigurationBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\r\n    import org.springframework.beans.factory.support.RootBeanDefinition;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.PriorityOrdered;\r\n    \r\n    import com.example.demo.service.MyInterface;\r\n    \r\n    \r\n    @Configuration\r\n    public class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\r\n    \r\n        public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    \r\n        \tCollection&lt;URL&gt; allPackagePrefixes = Arrays.stream(Package.getPackages()).map(p -&gt; p.getName())\r\n        \t        .map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().map(s -&gt; ClasspathHelper.forPackage(s)).reduce((c1, c2) -&gt; {\r\n        \t            Collection&lt;URL&gt; c3 = new HashSet&lt;&gt;();\r\n        \t            c3.addAll(c1);\r\n        \t            c3.addAll(c2);\r\n        \t            return c3;\r\n        \t        }).get();\r\n        \tConfigurationBuilder config = new ConfigurationBuilder().addUrls(allPackagePrefixes)\r\n        \t        .addScanners(Scanners.SubTypes);\r\n        \tReflections reflections = new Reflections(config);\r\n        \tSet&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\r\n        \t\r\n        \tclasses.stream().forEach(clazz -&gt; {\r\n                String className = clazz.getName();\r\n    \t\t\tBeanDefinition beanDefn= new RootBeanDefinition(className);\r\n                registry.registerBeanDefinition(className, beanDefn);\r\n                logger.debug(&quot;Registering bean {}&quot;, className);\r\n        \t});\r\n        \t\r\n        }\r\n    \r\n        public int getOrder() {\r\n            return Ordered.HIGHEST_PRECEDENCE;\r\n        }\r\n    \r\n    \tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n    \t\t// do nothing\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAutowire the created beans in by using the package &amp; classname of the implementing class as a Qualifier as follows:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;com.example.demo.rest.MyImpl2&quot;)\r\n    MyInterface myInterface;\r\n\r\nThere is a dependency on org.reflections:reflections as follows:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.10.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Force interface implementations to be Spring Components","body":"<p>Auto-registering all implementations of a specific interface can be done as follows. Note: a full scan of the classpath, including classes that have not been loaded, can be time-consuming with a large classpath.</p>\n<p>Create a <code>@Configuration</code> class that implements <code>BeanDefinitionRegistryPostProcessor</code> &amp; <code>PriorityOrdered</code> as follows. THis will scan and create beans with names as per the package &amp; classname of the implementing class.</p>\n<pre><code>import java.net.URL;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.reflections.Reflections;\nimport org.reflections.scanners.Scanners;\nimport org.reflections.util.ClasspathHelper;\nimport org.reflections.util.ConfigurationBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\nimport org.springframework.beans.factory.support.RootBeanDefinition;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.PriorityOrdered;\n\nimport com.example.demo.service.MyInterface;\n\n\n@Configuration\npublic class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\n\n    private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\n\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n\n        Collection&lt;URL&gt; allPackagePrefixes = Arrays.stream(Package.getPackages()).map(p -&gt; p.getName())\n                .map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().map(s -&gt; ClasspathHelper.forPackage(s)).reduce((c1, c2) -&gt; {\n                    Collection&lt;URL&gt; c3 = new HashSet&lt;&gt;();\n                    c3.addAll(c1);\n                    c3.addAll(c2);\n                    return c3;\n                }).get();\n        ConfigurationBuilder config = new ConfigurationBuilder().addUrls(allPackagePrefixes)\n                .addScanners(Scanners.SubTypes);\n        Reflections reflections = new Reflections(config);\n        Set&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\n        \n        classes.stream().forEach(clazz -&gt; {\n            String className = clazz.getName();\n            BeanDefinition beanDefn= new RootBeanDefinition(className);\n            registry.registerBeanDefinition(className, beanDefn);\n            logger.debug(&quot;Registering bean {}&quot;, className);\n        });\n        \n    }\n\n    public int getOrder() {\n        return Ordered.HIGHEST_PRECEDENCE;\n    }\n\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        // do nothing\n        \n    }\n}\n</code></pre>\n<p>Autowire the created beans in by using the package &amp; classname of the implementing class as a Qualifier as follows:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;com.example.demo.rest.MyImpl2&quot;)\nMyInterface myInterface;\n</code></pre>\n<p>There is a dependency on org.reflections:reflections as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76005359,"answer_count":2,"score":1,"last_activity_date":1681801846,"creation_date":1681351350,"question_id":76001082,"body_markdown":"Say I declare an interface MyInterface that only makes sense when its implementation is a Spring component: \r\n\r\n```\r\npublic interface MyInterface {\r\n}\r\n\r\n@Component\r\npublic class MyImpl1 implements MyInterface {\r\n}\r\n\r\n@Component\r\npublic class MyImpl2 implements MyInterface {\r\n}\r\n```\r\n\r\nIs there another way to do this without annotating annotating every single implementation class with `@Component`? I would like for the implementations to be registered automatically if they implement MyInterface.","title":"Force interface implementations to be Spring Components","body":"<p>Say I declare an interface MyInterface that only makes sense when its implementation is a Spring component:</p>\n<pre><code>public interface MyInterface {\n}\n\n@Component\npublic class MyImpl1 implements MyInterface {\n}\n\n@Component\npublic class MyImpl2 implements MyInterface {\n}\n</code></pre>\n<p>Is there another way to do this without annotating annotating every single implementation class with <code>@Component</code>? I would like for the implementations to be registered automatically if they implement MyInterface.</p>\n"},{"tags":["java","doubly-linked-list"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681791192,"post_id":76040845,"comment_id":134109853,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681791238,"post_id":76040845,"comment_id":134109857,"body_markdown":"And if your code is crashing, it is not running infinitely. Edit your question to include the error message and stack trace.","body":"And if your code is crashing, it is not running infinitely. Edit your question to include the error message and stack trace."},{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681827773,"post_id":76040845,"comment_id":134117416,"body_markdown":"I can&#39;t get to the debugger because when I start it, my IDE locks up and I have to ctrl-alt-delete to exit the program. There is no crash and error message.","body":"I can&#39;t get to the debugger because when I start it, my IDE locks up and I have to ctrl-alt-delete to exit the program. There is no crash and error message."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681857254,"post_id":76040845,"comment_id":134123943,"body_markdown":"Which IDE are you using? Anyway, put a breakpoint near the start, and step after execution hits it.","body":"Which IDE are you using? Anyway, put a breakpoint near the start, and step after execution hits it."}],"answers":[{"comments":[{"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"score":0,"creation_date":1681874660,"post_id":76041683,"comment_id":134125694,"body_markdown":"So I should always check to make sure the previous node does not equal the opposite? What about in the last two branches where I&#39;m already dealing with the previous node?","body":"So I should always check to make sure the previous node does not equal the opposite? What about in the last two branches where I&#39;m already dealing with the previous node?"},{"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"score":0,"creation_date":1682276676,"post_id":76041683,"comment_id":134186047,"body_markdown":"As I said you&#39;ll probably need to augment the condition of all 4 ifs. These two:\n        if (n1.next != null) {\n            n1.next.prev = n1;\n        }\n        if (n2.next != null) {\n            n2.prev.next = n2;\n        }\n        \nand these two:        \n        if (n1.prev != null) {\n            n1.prev.next = n1;\n        }\n        if (n2.prev != null) {\n            n2.prev.next = n2;\n        }","body":"As I said you&#39;ll probably need to augment the condition of all 4 ifs. These two:         if (n1.next != null) {             n1.next.prev = n1;         }         if (n2.next != null) {             n2.prev.next = n2;         }          and these two:                 if (n1.prev != null) {             n1.prev.next = n1;         }         if (n2.prev != null) {             n2.prev.next = n2;         }"}],"tags":[],"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681801535,"creation_date":1681801535,"answer_id":76041683,"question_id":76040845,"body_markdown":"Your problem is in:\r\n```\r\nif (n2.next != null) {\r\n   n2.prev.next = n2;\r\n}\r\n```\r\nThis is because `n1` and `n2` are originally consecutive nodes, which means that the `prev` of `n2` is `n1`. So after you swapped the `next`s of `n1` and `n2` the expression `n2.prev.next = n2` is equal to `n1.next = n2`, which overrides the `n1.next = n2.next` you did a few lines before and points `n1`&#39;s `next` back to `n2` while `n2`&#39;s next is `n1`, so now you have a circle where `n1.next` points to `n2` and `n2.next` points to `n1` - that creates an endless loop when you try to traverse the nodes in `display()` and that&#39;s why your code never returns.\r\nOne possible solution is to change the if to:\r\n```\r\nif (n2.next != null &amp;&amp; n2.prev != n1) {\r\n   n2.prev.next = n2;\r\n}\r\n```\r\nI think you&#39;ll have to apply a similar treatment to the other three ifs","title":"Java; Swapping two elements in a DoublyLinkedList without changing the data without collections","body":"<p>Your problem is in:</p>\n<pre><code>if (n2.next != null) {\n   n2.prev.next = n2;\n}\n</code></pre>\n<p>This is because <code>n1</code> and <code>n2</code> are originally consecutive nodes, which means that the <code>prev</code> of <code>n2</code> is <code>n1</code>. So after you swapped the <code>next</code>s of <code>n1</code> and <code>n2</code> the expression <code>n2.prev.next = n2</code> is equal to <code>n1.next = n2</code>, which overrides the <code>n1.next = n2.next</code> you did a few lines before and points <code>n1</code>'s <code>next</code> back to <code>n2</code> while <code>n2</code>'s next is <code>n1</code>, so now you have a circle where <code>n1.next</code> points to <code>n2</code> and <code>n2.next</code> points to <code>n1</code> - that creates an endless loop when you try to traverse the nodes in <code>display()</code> and that's why your code never returns.\nOne possible solution is to change the if to:</p>\n<pre><code>if (n2.next != null &amp;&amp; n2.prev != n1) {\n   n2.prev.next = n2;\n}\n</code></pre>\n<p>I think you'll have to apply a similar treatment to the other three ifs</p>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681801535,"creation_date":1681787938,"question_id":76040845,"body_markdown":"Okay, so I&#39;m trying to swap two elements in a doubly linked list without altering the data and without using collections. Here&#39;s what I have so far;\r\n\r\n\r\n```\r\npackage q2b;\r\n\r\npublic class DoublyLinkedList {\r\n\tstatic Node first;\r\n\tstatic Node last;\r\n\t\r\n\tpublic DoublyLinkedList() {\r\n\t\tfirst = null;\r\n\t\tlast = null;\r\n\t}\r\n\t\r\n\tpublic void display() {\r\n\t\tNode current = first;\r\n\r\n\t\tif(first == null) {\r\n\t\t\tSystem.out.println(&quot;List is empty.&quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Nodes: &quot;);\r\n\t\twhile(current != null) {\r\n\t\t\tSystem.out.print(current.data+&quot;, &quot;);\r\n\t\t\tcurrent = current.next;\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\t\r\n\tpublic void add(int x) {\r\n\t\tif (last==null) {\r\n\t\t\tNode temp = new Node(x);\r\n\t\t\tlast = temp;\r\n\t\t\tfirst = temp;\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\tNode temp = new Node(x);\r\n\t\t\tlast.next = temp;\r\n\t\t\ttemp.prev = last;\r\n\t\t\tlast = temp;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Pair find(int x, int y) {\r\n\t\tNode n1 = null;\r\n\t\tNode n2 = null;\r\n\t\tNode temp = first;\r\n\t\t\r\n\t\twhile (temp != null) {\r\n\t\t\tif (temp.data == x) {\r\n\t\t\t\tn1 = temp;\r\n\t\t\t}\r\n\t\t\telse if (temp.data == y) {\r\n\t\t\t\tn2 = temp;\r\n\t\t\t}\r\n\t\t\ttemp = temp.next;\r\n\t\t}\r\n\t\treturn new Pair(n1,n2);\r\n\t}\r\n\t\r\n\tpublic void swap(int x, int y) {\r\n\t\tif (first == null || first.next == null || x == y) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tPair p = find(x,y);\r\n\t\t\r\n\t\tNode n1 = p.first;\r\n\t\tNode n2 = p.second;\r\n\t\t\r\n\t\tif (n1==first) {\r\n\t\t\tfirst = n2;\r\n\t\t}\r\n\t\telse if (n2 == first) {\r\n\t\t\tfirst = n1;\r\n\t\t}\r\n\t\t\r\n\t\tif (n1 == last) {\r\n\t\t\tlast = n2;\r\n\t\t}\r\n\t\telse if (n2 == last) {\r\n\t\t\tlast = n1;\r\n\t\t}\r\n\t\t\r\n\t\tNode temp;\r\n\t\ttemp = n1.next;\r\n\t\tn1.next = n2.next;\r\n\t\tn2.next = temp;\r\n\t\t\r\n\t\tif (n1.next != null) {\r\n\t\t\tn1.next.prev = n1;\r\n\t\t}\r\n\t\tif (n2.next != null) {\r\n\t\t\tn2.prev.next = n2;\r\n\t\t}\r\n\t\t\r\n\t\ttemp = n1.prev;\r\n\t\tn1.prev = n2.prev;\r\n\t\tn2.prev = temp;\r\n\t\t\r\n\t\tif (n1.prev != null) {\r\n\t\t\tn1.prev.next = n1;\r\n\t\t}\r\n\t\tif (n2.prev != null) {\r\n\t\t\tn2.prev.next = n2;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd my main;\r\n\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tDoublyLinkedList list = new DoublyLinkedList();\r\n\t\tlist.add(2);\r\n\t\tlist.add(4);\r\n\t\tlist.add(6);\r\n\t\tlist.add(8);\r\n\t\tlist.add(10);\r\n\t\tlist.display();\r\n\t\tlist.swap(6, 8);\r\n\t\tlist.display();\r\n\t}\r\n}\r\n```\r\n\r\nNow when I go to run the code, it just infinitely runs until it crashes. I assume I&#39;m missing something in the swap function that is sending it into a death spiral, but I&#39;m not sure what it is. Can anyone give me some insight?","title":"Java; Swapping two elements in a DoublyLinkedList without changing the data without collections","body":"<p>Okay, so I'm trying to swap two elements in a doubly linked list without altering the data and without using collections. Here's what I have so far;</p>\n<pre><code>package q2b;\n\npublic class DoublyLinkedList {\n    static Node first;\n    static Node last;\n    \n    public DoublyLinkedList() {\n        first = null;\n        last = null;\n    }\n    \n    public void display() {\n        Node current = first;\n\n        if(first == null) {\n            System.out.println(&quot;List is empty.&quot;);\n        }\n        System.out.print(&quot;Nodes: &quot;);\n        while(current != null) {\n            System.out.print(current.data+&quot;, &quot;);\n            current = current.next;\n        }\n        System.out.println();\n    }\n    \n    public void add(int x) {\n        if (last==null) {\n            Node temp = new Node(x);\n            last = temp;\n            first = temp;\n        }\n        \n        else {\n            Node temp = new Node(x);\n            last.next = temp;\n            temp.prev = last;\n            last = temp;\n        }\n    }\n    \n    public Pair find(int x, int y) {\n        Node n1 = null;\n        Node n2 = null;\n        Node temp = first;\n        \n        while (temp != null) {\n            if (temp.data == x) {\n                n1 = temp;\n            }\n            else if (temp.data == y) {\n                n2 = temp;\n            }\n            temp = temp.next;\n        }\n        return new Pair(n1,n2);\n    }\n    \n    public void swap(int x, int y) {\n        if (first == null || first.next == null || x == y) {\n            return;\n        }\n        \n        Pair p = find(x,y);\n        \n        Node n1 = p.first;\n        Node n2 = p.second;\n        \n        if (n1==first) {\n            first = n2;\n        }\n        else if (n2 == first) {\n            first = n1;\n        }\n        \n        if (n1 == last) {\n            last = n2;\n        }\n        else if (n2 == last) {\n            last = n1;\n        }\n        \n        Node temp;\n        temp = n1.next;\n        n1.next = n2.next;\n        n2.next = temp;\n        \n        if (n1.next != null) {\n            n1.next.prev = n1;\n        }\n        if (n2.next != null) {\n            n2.prev.next = n2;\n        }\n        \n        temp = n1.prev;\n        n1.prev = n2.prev;\n        n2.prev = temp;\n        \n        if (n1.prev != null) {\n            n1.prev.next = n1;\n        }\n        if (n2.prev != null) {\n            n2.prev.next = n2;\n        }\n    }\n}\n\n</code></pre>\n<p>And my main;</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DoublyLinkedList list = new DoublyLinkedList();\n        list.add(2);\n        list.add(4);\n        list.add(6);\n        list.add(8);\n        list.add(10);\n        list.display();\n        list.swap(6, 8);\n        list.display();\n    }\n}\n</code></pre>\n<p>Now when I go to run the code, it just infinitely runs until it crashes. I assume I'm missing something in the swap function that is sending it into a death spiral, but I'm not sure what it is. Can anyone give me some insight?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":255643,"reputation":1952,"user_id":535827,"accept_rate":62,"display_name":"Brandon"},"score":0,"creation_date":1648051027,"post_id":22311740,"comment_id":126527650,"body_markdown":"I know this is an old question, but you cannot use metaClass or related Groovy functionality from Java at all.  It is simply not supported and will not work","body":"I know this is an old question, but you cannot use metaClass or related Groovy functionality from Java at all.  It is simply not supported and will not work"}],"answers":[{"comments":[{"owner":{"account_id":4151179,"reputation":21,"user_id":3403602,"display_name":"Kannan"},"score":0,"creation_date":1394541975,"post_id":22315783,"comment_id":33928121,"body_markdown":"Thanks Michael. Like I said, I don&#39;t want to define foo and bar inside groovy but within Java itself (I can even call foo/bar Java methods myself as long as I get call back with method name and arguments while expression is evaluated). Do you happen to know?","body":"Thanks Michael. Like I said, I don&#39;t want to define foo and bar inside groovy but within Java itself (I can even call foo/bar Java methods myself as long as I get call back with method name and arguments while expression is evaluated). Do you happen to know?"},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1394547184,"post_id":22315783,"comment_id":33931999,"body_markdown":"I&#39;m not sure I understand the goal here, but I&#39;ve updated the answer to show how the script can be written in Java. Does that help?","body":"I&#39;m not sure I understand the goal here, but I&#39;ve updated the answer to show how the script can be written in Java. Does that help?"}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394547138,"creation_date":1394507959,"answer_id":22315783,"question_id":22311740,"body_markdown":"[This post][1] is an example of using [GroovyShell][2] with a CompilerConfiguration, which may be useful.\r\n\r\nUsing Groovy 2.0.5, this code:\r\n\r\n    import org.codehaus.groovy.control.CompilerConfiguration\r\n    \r\n    abstract class FooBarScript extends Script {\r\n        def foo(def x) { \r\n            println &quot;hello from foo&quot;\r\n            return x \r\n        }\r\n        \r\n        def bar(def x) { \r\n            println &quot;hello from bar&quot; \r\n            return x \r\n        }\r\n    }\r\n    \r\n    def compilerConfiguration = new CompilerConfiguration()\r\n    compilerConfiguration.scriptBaseClass = FooBarScript.class.name\r\n    \r\n    def binding = new Binding()\r\n    \r\n    def shell = new GroovyShell(this.class.classLoader, binding, compilerConfiguration)\r\n    \r\n    String expression = &quot;foo(\\&quot;hello\\&quot;) + bar (\\&quot;world\\&quot;)&quot;\r\n    \r\n    def result = shell.evaluate expression\r\n    println result\r\n\r\ngives this output:\r\n\r\n    hello from foo\r\n    hello from bar\r\n    helloworld\r\n\r\nGiven that the original post requested Java, the script can be moved to the following Java class:\r\n\r\n    import groovy.lang.Script;\r\n    \r\n    public class FooBarScript extends Script {\r\n        public String foo(String x) {\r\n            System.out.println(&quot;hello from foo&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public String bar(String x) {\r\n            System.out.println(&quot;hello from bar&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public Object run() { return null; }\r\n    }\r\n\r\nwhere this can simply be imported into the Groovy example\r\n\r\n  [1]: http://mrhaki.blogspot.ca/2011/11/groovy-goodness-create-our-own-script.html\r\n  [2]: http://groovy.codehaus.org/api/groovy/lang/GroovyShell.html\r\n\r\n\r\n","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p><a href=\"http://mrhaki.blogspot.ca/2011/11/groovy-goodness-create-our-own-script.html\" rel=\"nofollow\">This post</a> is an example of using <a href=\"http://groovy.codehaus.org/api/groovy/lang/GroovyShell.html\" rel=\"nofollow\">GroovyShell</a> with a CompilerConfiguration, which may be useful.</p>\n\n<p>Using Groovy 2.0.5, this code:</p>\n\n<pre><code>import org.codehaus.groovy.control.CompilerConfiguration\n\nabstract class FooBarScript extends Script {\n    def foo(def x) { \n        println \"hello from foo\"\n        return x \n    }\n\n    def bar(def x) { \n        println \"hello from bar\" \n        return x \n    }\n}\n\ndef compilerConfiguration = new CompilerConfiguration()\ncompilerConfiguration.scriptBaseClass = FooBarScript.class.name\n\ndef binding = new Binding()\n\ndef shell = new GroovyShell(this.class.classLoader, binding, compilerConfiguration)\n\nString expression = \"foo(\\\"hello\\\") + bar (\\\"world\\\")\"\n\ndef result = shell.evaluate expression\nprintln result\n</code></pre>\n\n<p>gives this output:</p>\n\n<pre><code>hello from foo\nhello from bar\nhelloworld\n</code></pre>\n\n<p>Given that the original post requested Java, the script can be moved to the following Java class:</p>\n\n<pre><code>import groovy.lang.Script;\n\npublic class FooBarScript extends Script {\n    public String foo(String x) {\n        System.out.println(\"hello from foo\");\n        return x;\n    }\n\n    public String bar(String x) {\n        System.out.println(\"hello from bar\");\n        return x;\n    }\n\n    public Object run() { return null; }\n}\n</code></pre>\n\n<p>where this can simply be imported into the Groovy example</p>\n"},{"tags":[],"owner":{"account_id":13814070,"reputation":77,"user_id":9971067,"display_name":"Leisure Dong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681801300,"creation_date":1681801300,"answer_id":76041655,"question_id":22311740,"body_markdown":"The complete Java solution of Micheal&#39;s answer is following:\r\n\r\n1.Write Groovy script with Java(the same as Micheal&#39;s answer):\r\n    \r\n    import groovy.lang.Script;\r\n    \r\n    public class FooBarScript extends Script {\r\n        public String foo(String x) {\r\n            System.out.println(&quot;hello from foo&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public String bar(String x) {\r\n            System.out.println(&quot;hello from bar&quot;);\r\n            return x;\r\n        }\r\n    \r\n        public Object run() { return null; }\r\n    }\r\n\r\n2.Call the methods defined in FooBarScript.java:\r\n\r\n    import groovy.lang.GroovyShell;\r\n    import groovy.lang.Script;\r\n    import org.codehaus.groovy.control.CompilerConfiguration;\r\n    \r\n    public class Main {\r\n        private static final GroovyShell shell;\r\n    \r\n        static {\r\n            CompilerConfiguration cfg = new CompilerConfiguration();\r\n            cfg.setScriptBaseClass(FooBarScript.class.getName());\r\n            shell = new GroovyShell(cfg);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String expression = &quot;println(foo(&#39;hello&#39;) + bar (&#39;world&#39;))&quot;;\r\n            Script script = shell.parse(expression);\r\n            script.run();\r\n        }\r\n    }\r\n\r\nThe output:\r\n\r\n    hello from foo\r\n    hello from bar\r\n    helloworld","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p>The complete Java solution of Micheal's answer is following:</p>\n<p>1.Write Groovy script with Java(the same as Micheal's answer):</p>\n<pre><code>import groovy.lang.Script;\n\npublic class FooBarScript extends Script {\n    public String foo(String x) {\n        System.out.println(&quot;hello from foo&quot;);\n        return x;\n    }\n\n    public String bar(String x) {\n        System.out.println(&quot;hello from bar&quot;);\n        return x;\n    }\n\n    public Object run() { return null; }\n}\n</code></pre>\n<p>2.Call the methods defined in FooBarScript.java:</p>\n<pre><code>import groovy.lang.GroovyShell;\nimport groovy.lang.Script;\nimport org.codehaus.groovy.control.CompilerConfiguration;\n\npublic class Main {\n    private static final GroovyShell shell;\n\n    static {\n        CompilerConfiguration cfg = new CompilerConfiguration();\n        cfg.setScriptBaseClass(FooBarScript.class.getName());\n        shell = new GroovyShell(cfg);\n    }\n\n    public static void main(String[] args) {\n        String expression = &quot;println(foo('hello') + bar ('world'))&quot;;\n        Script script = shell.parse(expression);\n        script.run();\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>hello from foo\nhello from bar\nhelloworld\n</code></pre>\n"}],"owner":{"account_id":4151179,"reputation":21,"user_id":3403602,"display_name":"Kannan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681801300,"creation_date":1394487071,"question_id":22311740,"body_markdown":"Here&#39;s my sample expression:\r\n\r\n    foo(&quot;hello&quot;) + bar(&quot;world&quot;)\r\n\r\nI am using groovy (2.0.5) as an expression parser so don&#39;t want to define functions (foo and bar) in groovy but would rather like to get notified as Java calls when the expression is parsed. I suppose this can be done by using one of the flavors of meta class. Unfortunately I tried all combinations but my implementation of meta class (i.e., MyExpandoMetaClass&#39;s invokeMissingMethod) never get called. \r\n\r\n\r\nAny help is appreciated.\r\n\r\nSample Java Code:\r\n\r\n    MetaClassRegistryImpl.getInstance(0).setMetaClass(Script.class, new MyExpandoMetaClass());\r\n\r\n    String expression = &quot;foo(\\&quot;hello\\&quot;) + bar (\\&quot;world\\&quot;)&quot;;\r\n    Binding binding = new Binding();\r\n    Script script = new GroovyShell(binding).parse(expression);\r\n    assertEquals(&quot;helloworld&quot;, script.evaluate(expression));\r\n\r\n...\r\n\r\n    class MyExpandoMetaClass extends ExpandoMetaClass {\r\n        public MyExpandoMetaClass() {\r\n            super(Script.class, true);\r\n        }\r\n\r\n        @Override\r\n        public Object invokeMissingMethod(Object instance, String methodName, Object[] arguments) {\r\n            if ((&quot;foo&quot;.equals(methodName) || &quot;bar&quot;.equals(methodName)) {\r\n                return arguments[0];\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I run this code, I get:\r\n\r\n\r\n    groovy.lang.MissingMethodException: No signature of method: Script1.foo() is applicable for argument types: (java.lang.String) values: [hello]\r\n    Possible solutions: run(), run(), find(), any(), is(java.lang.Object), find(groovy.lang.Closure)\r\n        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:55)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:78)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)\r\n        at Script1.run(Script1.groovy:1)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:518)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:556)\r\n        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:527)\r\n        at groovy.lang.Script.evaluate(Script.java:208)\r\n        at com.barcap.edt.amd.analytics.operation.postprocess.ExpressionParserTest.function(ExpressionParserTest.java:50)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\r\n        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n","title":"Groovy: How do I evaluate expression which has functions inside Java code?","body":"<p>Here's my sample expression:</p>\n\n<pre><code>foo(\"hello\") + bar(\"world\")\n</code></pre>\n\n<p>I am using groovy (2.0.5) as an expression parser so don't want to define functions (foo and bar) in groovy but would rather like to get notified as Java calls when the expression is parsed. I suppose this can be done by using one of the flavors of meta class. Unfortunately I tried all combinations but my implementation of meta class (i.e., MyExpandoMetaClass's invokeMissingMethod) never get called. </p>\n\n<p>Any help is appreciated.</p>\n\n<p>Sample Java Code:</p>\n\n<pre><code>MetaClassRegistryImpl.getInstance(0).setMetaClass(Script.class, new MyExpandoMetaClass());\n\nString expression = \"foo(\\\"hello\\\") + bar (\\\"world\\\")\";\nBinding binding = new Binding();\nScript script = new GroovyShell(binding).parse(expression);\nassertEquals(\"helloworld\", script.evaluate(expression));\n</code></pre>\n\n<p>...</p>\n\n<pre><code>class MyExpandoMetaClass extends ExpandoMetaClass {\n    public MyExpandoMetaClass() {\n        super(Script.class, true);\n    }\n\n    @Override\n    public Object invokeMissingMethod(Object instance, String methodName, Object[] arguments) {\n        if ((\"foo\".equals(methodName) || \"bar\".equals(methodName)) {\n            return arguments[0];\n        }\n    }\n}\n</code></pre>\n\n<p>When I run this code, I get:</p>\n\n<pre><code>groovy.lang.MissingMethodException: No signature of method: Script1.foo() is applicable for argument types: (java.lang.String) values: [hello]\nPossible solutions: run(), run(), find(), any(), is(java.lang.Object), find(groovy.lang.Closure)\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:55)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:78)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)\n    at Script1.run(Script1.groovy:1)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:518)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:556)\n    at groovy.lang.GroovyShell.evaluate(GroovyShell.java:527)\n    at groovy.lang.Script.evaluate(Script.java:208)\n    at com.barcap.edt.amd.analytics.operation.postprocess.ExpressionParserTest.function(ExpressionParserTest.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1681575376,"post_id":76023353,"comment_id":134080187,"body_markdown":"Are you sure the mapper is all fine? Does the jobtracker show that it&#39;s outputting mapper records? Having `Arbre.fromLine(val);` outside of the `try/catch` seems risky as any invalid data isn&#39;t going to be handled.","body":"Are you sure the mapper is all fine? Does the jobtracker show that it&#39;s outputting mapper records? Having <code>Arbre.fromLine(val);</code> outside of the <code>try&#47;catch</code> seems risky as any invalid data isn&#39;t going to be handled."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1681590589,"post_id":76023353,"comment_id":134082174,"body_markdown":"1) Your catch block is empty. So you&#39;re ignoring all exceptions in the mapper. Reducer never runs if mapper outputs nothing 2) Arraylist is not a Writeable type that can be serialized in a mapper. Besides, you&#39;re only ever adding one item to that list at a time, so why use it? Note: You imported ArrayWritable, but never use it.. 3) you might want to use `class Arbre implements Writable`","body":"1) Your catch block is empty. So you&#39;re ignoring all exceptions in the mapper. Reducer never runs if mapper outputs nothing 2) Arraylist is not a Writeable type that can be serialized in a mapper. Besides, you&#39;re only ever adding one item to that list at a time, so why use it? Note: You imported ArrayWritable, but never use it.. 3) you might want to use <code>class Arbre implements Writable</code>"}],"owner":{"account_id":22748155,"reputation":1,"user_id":16908661,"display_name":"ADNANE MEHDAOUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681801220,"creation_date":1681574628,"question_id":76023353,"body_markdown":"I have to write code in java of map reduce.\r\n\r\nThe code gave me an empty file as output.\r\n\r\nWhen I debugged it in mapper all is fine, but in the reducer when I do: \r\n\r\n    System.out.println(&quot;Reducer3: key = &quot; + key);\r\n\r\nIt is not showing anything. This this my code:\r\n\r\nArbre class:\r\n```java\r\npackage TP6;\r\n\r\npublic  class Arbre\r\n{\r\n    /* Les champs sont\r\n     *  0: Geo point \r\n     *  1: ARRONDISSEMENT \r\n     *  2: GENRE \r\n     *  3: ESPECE \r\n     *  4: FAMILLE \r\n     *  5: ANNEE PLANTATION \r\n     *  6: HAUTEUR \r\n     *  7: CIRCONFERENCE \r\n     *  8: ADRESSE \r\n     *  9: NOM COMMUN \r\n     * 10: VARIETE \r\n     * 11: OBJECTID \r\n     * 12: NOM_EV \r\n     */\r\n    static String[] champs;\r\n    public static void fromLine(String ligne)\r\n    {\r\n        champs = ligne.split(&quot;;&quot;);\r\n    }\r\n    \r\n    public static String getGenre()\r\n    {\r\n        return champs[2];\r\n    }\r\n    \r\n    public static double getAnnee() throws Exception\r\n    {\r\n        return Double.parseDouble(champs[5]);\r\n    }\r\n    \r\n    public static double getHauteur() throws Exception\r\n    {\r\n        return Double.parseDouble(champs[6]);\r\n    }\r\n    public static  String getArrondissement()throws Exception{\r\n        return champs[1];\r\n    }\r\n    public static  String getAnnePlantation()throws Exception{\r\n        return champs[5];\r\n    }\r\n}\r\n``` \r\n\r\nMapper class:\r\n\r\n```java\r\npackage TP6;\r\n    \r\nimport TP6.Arbre; \r\nimport org.apache.hadoop.io.ArrayWritable; \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.LongWritable; \r\nimport org.apache.hadoop.io.Text; \r\nimport org.apache.hadoop.mapreduce.Mapper;\r\n    \r\nimport javax.naming.Context; \r\nimport java.io.IOException; \r\nimport java.util.ArrayList; \r\nimport java.util.Iterator; \r\npublic class Mapper3 extends Mapper&lt;LongWritable, Text, Text, ArrayList&lt;Object&gt;&gt;\r\n{\r\n    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n        String val = value.toString();\r\n        Arbre.fromLine(val);\r\n    \r\n        try {\r\n            String arrondissement = Arbre.getArrondissement();\r\n            String anne = Arbre.getAnnePlantation();\r\n            int age = 2023 - Integer.parseInt(anne);\r\n            ArrayList&lt;Object&gt; item = new ArrayList&lt;&gt;();\r\n            item.add(Integer.parseInt(arrondissement));\r\n            item.add(age);\r\n    \r\n            context.write(new Text(arrondissement), item);\r\n        } catch (Exception e) {\r\n            // Handle exception\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nReducer class:\r\n\r\n```java\r\npackage TP6;\r\n    \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.Text;\r\n    \r\nimport org.apache.hadoop.mapreduce.Reducer;\r\n    \r\nimport javax.naming.Context; \r\nimport java.io.IOException; \r\nimport java.util.ArrayList;\r\n    \r\npublic class Reducer3 extends Reducer&lt;Text,ArrayList&lt;Object&gt;,IntWritable,IntWritable&gt; {\r\n    int keymax = 0;\r\n    int maxAge = 0;\r\n    IntWritable cle=new IntWritable(); IntWritable valeur=new IntWritable();\r\n\r\n    public void reduce(Text key, Iterable&lt;ArrayList&lt;Object&gt;&gt; values, Context context) throws IOException, InterruptedException {\r\n    \r\n        System.out.println(&quot;hello&quot;);\r\n        try {\r\n            System.out.println(&quot;Reducer3: key = &quot; + key);\r\n    \r\n    \r\n    \r\n            if (!values.iterator().hasNext()) {\r\n                System.out.println(&quot;Reducer3: values is empty&quot;);\r\n                return;\r\n            }\r\n    \r\n            for (ArrayList&lt;Object&gt; value : values) {\r\n                int arrondissement = (int) value.get(0);\r\n                int age = (int) value.get(1);\r\n    \r\n                if (age &gt; maxAge) {\r\n                    maxAge = age;\r\n                    keymax = arrondissement;\r\n                    cle.set(keymax);\r\n                    valeur.set(maxAge);\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Reducer3: keymax = &quot; + keymax + &quot;, maxAge = &quot; + maxAge);\r\n            context.write(cle,valeur);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception caught: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```java\r\npackage TP6;\r\nimport org.apache.hadoop.conf.Configuration; \r\nimport org.apache.hadoop.fs.Path; \r\nimport org.apache.hadoop.io.DoubleWritable; \r\nimport org.apache.hadoop.io.IntWritable; \r\nimport org.apache.hadoop.io.Text; \r\nimport org.apache.hadoop.mapreduce.Job; \r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n    \r\npublic class Main {\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf, &quot;arbre old&quot;);\r\n        job.setJarByClass(Main.class);\r\n        job.setMapperClass(Mapper3.class);\r\n        job.setCombinerClass(Reducer3.class);\r\n        job.setReducerClass(Reducer3.class);\r\n        job.setOutputKeyClass(IntWritable.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\nI am try to exectue job map reduce, but the output is empty?","title":"Error map reduce.(output empty of job mapp reduce)","body":"<p>I have to write code in java of map reduce.</p>\n<p>The code gave me an empty file as output.</p>\n<p>When I debugged it in mapper all is fine, but in the reducer when I do:</p>\n<pre><code>System.out.println(&quot;Reducer3: key = &quot; + key);\n</code></pre>\n<p>It is not showing anything. This this my code:</p>\n<p>Arbre class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n\npublic  class Arbre\n{\n    /* Les champs sont\n     *  0: Geo point \n     *  1: ARRONDISSEMENT \n     *  2: GENRE \n     *  3: ESPECE \n     *  4: FAMILLE \n     *  5: ANNEE PLANTATION \n     *  6: HAUTEUR \n     *  7: CIRCONFERENCE \n     *  8: ADRESSE \n     *  9: NOM COMMUN \n     * 10: VARIETE \n     * 11: OBJECTID \n     * 12: NOM_EV \n     */\n    static String[] champs;\n    public static void fromLine(String ligne)\n    {\n        champs = ligne.split(&quot;;&quot;);\n    }\n    \n    public static String getGenre()\n    {\n        return champs[2];\n    }\n    \n    public static double getAnnee() throws Exception\n    {\n        return Double.parseDouble(champs[5]);\n    }\n    \n    public static double getHauteur() throws Exception\n    {\n        return Double.parseDouble(champs[6]);\n    }\n    public static  String getArrondissement()throws Exception{\n        return champs[1];\n    }\n    public static  String getAnnePlantation()throws Exception{\n        return champs[5];\n    }\n}\n</code></pre>\n<p>Mapper class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n    \nimport TP6.Arbre; \nimport org.apache.hadoop.io.ArrayWritable; \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.LongWritable; \nimport org.apache.hadoop.io.Text; \nimport org.apache.hadoop.mapreduce.Mapper;\n    \nimport javax.naming.Context; \nimport java.io.IOException; \nimport java.util.ArrayList; \nimport java.util.Iterator; \npublic class Mapper3 extends Mapper&lt;LongWritable, Text, Text, ArrayList&lt;Object&gt;&gt;\n{\n    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n        String val = value.toString();\n        Arbre.fromLine(val);\n    \n        try {\n            String arrondissement = Arbre.getArrondissement();\n            String anne = Arbre.getAnnePlantation();\n            int age = 2023 - Integer.parseInt(anne);\n            ArrayList&lt;Object&gt; item = new ArrayList&lt;&gt;();\n            item.add(Integer.parseInt(arrondissement));\n            item.add(age);\n    \n            context.write(new Text(arrondissement), item);\n        } catch (Exception e) {\n            // Handle exception\n        }\n    }\n\n}\n</code></pre>\n<p>Reducer class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\n    \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.Text;\n    \nimport org.apache.hadoop.mapreduce.Reducer;\n    \nimport javax.naming.Context; \nimport java.io.IOException; \nimport java.util.ArrayList;\n    \npublic class Reducer3 extends Reducer&lt;Text,ArrayList&lt;Object&gt;,IntWritable,IntWritable&gt; {\n    int keymax = 0;\n    int maxAge = 0;\n    IntWritable cle=new IntWritable(); IntWritable valeur=new IntWritable();\n\n    public void reduce(Text key, Iterable&lt;ArrayList&lt;Object&gt;&gt; values, Context context) throws IOException, InterruptedException {\n    \n        System.out.println(&quot;hello&quot;);\n        try {\n            System.out.println(&quot;Reducer3: key = &quot; + key);\n    \n    \n    \n            if (!values.iterator().hasNext()) {\n                System.out.println(&quot;Reducer3: values is empty&quot;);\n                return;\n            }\n    \n            for (ArrayList&lt;Object&gt; value : values) {\n                int arrondissement = (int) value.get(0);\n                int age = (int) value.get(1);\n    \n                if (age &gt; maxAge) {\n                    maxAge = age;\n                    keymax = arrondissement;\n                    cle.set(keymax);\n                    valeur.set(maxAge);\n                }\n            }\n    \n            System.out.println(&quot;Reducer3: keymax = &quot; + keymax + &quot;, maxAge = &quot; + maxAge);\n            context.write(cle,valeur);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception caught: &quot; + e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package TP6;\nimport org.apache.hadoop.conf.Configuration; \nimport org.apache.hadoop.fs.Path; \nimport org.apache.hadoop.io.DoubleWritable; \nimport org.apache.hadoop.io.IntWritable; \nimport org.apache.hadoop.io.Text; \nimport org.apache.hadoop.mapreduce.Job; \nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n    \npublic class Main {\n    \n    public static void main(String[] args) throws Exception {\n    \n    \n        Configuration conf = new Configuration();\n        Job job = Job.getInstance(conf, &quot;arbre old&quot;);\n        job.setJarByClass(Main.class);\n        job.setMapperClass(Mapper3.class);\n        job.setCombinerClass(Reducer3.class);\n        job.setReducerClass(Reducer3.class);\n        job.setOutputKeyClass(IntWritable.class);\n        job.setOutputValueClass(IntWritable.class);\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\n    \n    }\n\n}\n</code></pre>\n<p>I am try to exectue job map reduce, but the output is empty?</p>\n"},{"tags":["java","kerberos","jaas"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680593165,"post_id":75918691,"comment_id":133920076,"body_markdown":"You can create a Kerberos TGT dynamically via JAAS config, without tapping the OS ticket cache. It&#39;s more secure _(the creds stay inside your process memory)_; you don&#39;t need to bother about another process trashing the cache; and you don&#39;t need to bother about the way JAAS refreshes its &quot;context&quot;.","body":"You can create a Kerberos TGT dynamically via JAAS config, without tapping the OS ticket cache. It&#39;s more secure <i>(the creds stay inside your process memory)</i>; you don&#39;t need to bother about another process trashing the cache; and you don&#39;t need to bother about the way JAAS refreshes its &quot;context&quot;."},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1680686625,"post_id":75918691,"comment_id":133938679,"body_markdown":"Thank you Samson for the inputs, \n\nCan you please help me understand creating Kerberos TGT dynamically via JAAS.\n\nI tried without ticket cache and using keytabs. \nBut somehow keytab is not working for me. On further debugging observed that, keytab is being picked only when isInitiator=false. Any inputs?","body":"Thank you Samson for the inputs,   Can you please help me understand creating Kerberos TGT dynamically via JAAS.  I tried without ticket cache and using keytabs.  But somehow keytab is not working for me. On further debugging observed that, keytab is being picked only when isInitiator=false. Any inputs?"},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1680688021,"post_id":75918691,"comment_id":133939044,"body_markdown":"My JAAS is like this:\n\nJAAS {        \ncom.sun.security.auth.module.Krb5LoginModule required   \nuseTicketCache=false   \nuseKeyTab=true \nKeyTab=&quot;&lt;path to keytab&gt;&quot; \nprincipal=&quot;xyz&quot; \n};\n\nAbove keytab is getting picked when I have isInitiator=false set. This is giving me an impression that there seems to be no issue with keytab path and file.\n\nBut as my application is client I believe isInitiator needs to be set true. Am I missing anything? Any congifuration?","body":"My JAAS is like this:  JAAS {         com.sun.security.auth.module.Krb5LoginModule required    useTicketCache=false    useKeyTab=true  KeyTab=&quot;&lt;path to keytab&gt;&quot;  principal=&quot;xyz&quot;  };  Above keytab is getting picked when I have isInitiator=false set. This is giving me an impression that there seems to be no issue with keytab path and file.  But as my application is client I believe isInitiator needs to be set true. Am I missing anything? Any congifuration?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680774254,"post_id":75918691,"comment_id":133956230,"body_markdown":"https://stackoverflow.com/a/42506620/5162372","body":"<a href=\"https://stackoverflow.com/a/42506620/5162372\">stackoverflow.com/a/42506620/5162372</a>"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1680774280,"post_id":75918691,"comment_id":133956237,"body_markdown":"And if you are curious about the structure &amp; syntax of JAAS conf : https://stackoverflow.com/a/45776704/5162372","body":"And if you are curious about the structure &amp; syntax of JAAS conf : <a href=\"https://stackoverflow.com/a/45776704/5162372\">stackoverflow.com/a/45776704/5162372</a>"},{"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"score":0,"creation_date":1681120464,"post_id":75918691,"comment_id":134001238,"body_markdown":"Thanks for the link. \nIt finally worked with keytab, had to set useSubjectCredsOnly to false,\nBut with ticket cache it is still not working. Any inputs there?","body":"Thanks for the link.  It finally worked with keytab, had to set useSubjectCredsOnly to false, But with ticket cache it is still not working. Any inputs there?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1681641803,"post_id":75918691,"comment_id":134086346,"body_markdown":"&#175;\\(&#176;_o)/&#175;   raise the debugging flags and check how Java reads and validates the JAAS/Kerberos conf (or not). In particular, which ticket cache is used (Windows uses SSPI instead of GSSAPI defaults, some Linux distros use KeyRing which is not supported by Java, etc.)","body":"&#175;&#40;&#176;_o)/&#175;   raise the debugging flags and check how Java reads and validates the JAAS/Kerberos conf (or not). In particular, which ticket cache is used (Windows uses SSPI instead of GSSAPI defaults, some Linux distros use KeyRing which is not supported by Java, etc.)"}],"owner":{"account_id":28200589,"reputation":1,"user_id":21554437,"display_name":"Jyothsna Ch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681800586,"creation_date":1680519351,"question_id":75918691,"body_markdown":"If someone could help, that will be greatly appreciated. I am a newbie to Kerberos not sure if this is an obvious question, please excuse me for my newness.\r\n\r\nI am in Kerberos configured Windows machine. Two users user1 and user2 have permission to it.\r\n\r\nBelow is my Java code :\r\n\r\n    System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;&lt;JRE Path&gt;\\\\lib\\\\security\\\\&lt;kerb.conf file&gt;&quot;);\r\n\t\t\t  \r\n\t\t\t  System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;jaas.conf&quot;);\t\t\t  \r\n\t\t\t  /*\r\n\t\t\t   * Content of jaas.conf:\r\n\t\t\t   * JAAS {\r\n\t\t\t   *\tcom.sun.security.auth.module.Krb5LoginModule required\r\n\t\t\t   *\tuseTicketCache=true debug=true;\r\n\t\t\t   *\t};\r\n\t\t\t   */\r\n\t\t\t  \r\n\t\t\t  // kinit of user1\r\n\t\t\t  // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user1.keytab&quot; &quot;&lt;user1 principal&gt;&quot;\t          \r\n\t\t\t  String[] cmdScript1 = new String[]{&quot;kinituser1.bat&quot;};\t\t\t  \r\n\t          Process procScript1 = Runtime.getRuntime().exec(cmdScript1);\r\n\t          LoginContext context1 = AccessController.doPrivileged(\r\n\t\t                new PrivilegedExceptionAction&lt;LoginContext&gt;() {\r\n\t\t                    public LoginContext run() throws LoginException {\r\n\t\t                        return new LoginContext(&quot;JAAS&quot;);\r\n\t\t                    }\r\n\t\t                });\r\n\t          context1.login();\r\n\t          Subject subject1 = context1.getSubject();\t          \r\n\t          System.out.println(&quot;Connected as:&quot; + subject1); // This returns the expected user1 user ticket. \r\n\t          context1.logout();\r\n\t          \r\n\t          \r\n\t          // kinit of user2\r\n\t\t\t  // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user2.keytab&quot; &quot;&lt;user2 principal&gt;&quot;\t          \r\n\t          String[] cmdScript2 = new String[]{&quot;kinituser2.bat&quot;};\t          \r\n\t          Process procScript2 = Runtime.getRuntime().exec(cmdScript2);\r\n\t          LoginContext context2 = AccessController.doPrivileged(\r\n\t\t                new PrivilegedExceptionAction&lt;LoginContext&gt;() {\r\n\t\t                    public LoginContext run() throws LoginException {\r\n\t\t                        return new LoginContext(&quot;JAAS&quot;);\r\n\t\t                    }\r\n\t\t                });\r\n\t          context2.login();\r\n\t          Subject subject2 = context2.getSubject();\r\n\t          System.out.println(&quot;Connected as:&quot; + subject2); // Here we are seeing the issue: This is still returning user1 ticket subject, I was expecting user2 here. \r\n\t          context2.logout();\t          \t\t  \r\n\t\t\t  \r\n\r\nOn Running above application, inspite of cache getting refreshed with user2 after executing kinituser2.bat, I am getting user1 ticket cache in the context2 subject.\r\nAnd if I swap user1 and user2, user2 ticket details is returned for both the cases. This is giving an impression that irrespective of ticket cache getting updated with other user tickets, initial user ticket is returned always for later LoginContext&#39;s.\r\n\r\n\r\nDid anyone face like above? \r\nCan someone tell me if I am missing or doing anything wrong?","title":"JAVA Application, Krb5LoginModule does not seem to pick the latest ticket from userTicketCache","body":"<p>If someone could help, that will be greatly appreciated. I am a newbie to Kerberos not sure if this is an obvious question, please excuse me for my newness.</p>\n<p>I am in Kerberos configured Windows machine. Two users user1 and user2 have permission to it.</p>\n<p>Below is my Java code :</p>\n<pre><code>System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;&lt;JRE Path&gt;\\\\lib\\\\security\\\\&lt;kerb.conf file&gt;&quot;);\n          \n          System.setProperty(&quot;java.security.auth.login.config&quot;, &quot;jaas.conf&quot;);             \n          /*\n           * Content of jaas.conf:\n           * JAAS {\n           *    com.sun.security.auth.module.Krb5LoginModule required\n           *    useTicketCache=true debug=true;\n           *    };\n           */\n          \n          // kinit of user1\n          // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user1.keytab&quot; &quot;&lt;user1 principal&gt;&quot;           \n          String[] cmdScript1 = new String[]{&quot;kinituser1.bat&quot;};           \n          Process procScript1 = Runtime.getRuntime().exec(cmdScript1);\n          LoginContext context1 = AccessController.doPrivileged(\n                    new PrivilegedExceptionAction&lt;LoginContext&gt;() {\n                        public LoginContext run() throws LoginException {\n                            return new LoginContext(&quot;JAAS&quot;);\n                        }\n                    });\n          context1.login();\n          Subject subject1 = context1.getSubject();           \n          System.out.println(&quot;Connected as:&quot; + subject1); // This returns the expected user1 user ticket. \n          context1.logout();\n          \n          \n          // kinit of user2\n          // Content of kinituser1.bat: &quot;&lt;JRE Path&gt;\\bin\\kinit.exe&quot; -A -k -t &quot;/user2.keytab&quot; &quot;&lt;user2 principal&gt;&quot;           \n          String[] cmdScript2 = new String[]{&quot;kinituser2.bat&quot;};           \n          Process procScript2 = Runtime.getRuntime().exec(cmdScript2);\n          LoginContext context2 = AccessController.doPrivileged(\n                    new PrivilegedExceptionAction&lt;LoginContext&gt;() {\n                        public LoginContext run() throws LoginException {\n                            return new LoginContext(&quot;JAAS&quot;);\n                        }\n                    });\n          context2.login();\n          Subject subject2 = context2.getSubject();\n          System.out.println(&quot;Connected as:&quot; + subject2); // Here we are seeing the issue: This is still returning user1 ticket subject, I was expecting user2 here. \n          context2.logout();                      \n          \n</code></pre>\n<p>On Running above application, inspite of cache getting refreshed with user2 after executing kinituser2.bat, I am getting user1 ticket cache in the context2 subject.\nAnd if I swap user1 and user2, user2 ticket details is returned for both the cases. This is giving an impression that irrespective of ticket cache getting updated with other user tickets, initial user ticket is returned always for later LoginContext's.</p>\n<p>Did anyone face like above?\nCan someone tell me if I am missing or doing anything wrong?</p>\n"},{"tags":["java","android","security","screen-recording","screen-grab"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":2,"creation_date":1497443961,"post_id":44544931,"comment_id":76080598,"body_markdown":"there is no way, if you are talking about root. Using root, user can record everything on different layers up to the GPU output level. I&#39;m sure that you can do nothing about it.","body":"there is no way, if you are talking about root. Using root, user can record everything on different layers up to the GPU output level. I&#39;m sure that you can do nothing about it."},{"owner":{"account_id":6775970,"reputation":7385,"user_id":5217712,"display_name":"Enzokie"},"score":0,"creation_date":1497443997,"post_id":44544931,"comment_id":76080636,"body_markdown":"You need to have a list of popular and a not so popular recording apps in the market (make sure to grab the package name) because you are going to compare those packages in the current running process since Android does not know what is a recording app.","body":"You need to have a list of popular and a not so popular recording apps in the market (make sure to grab the package name) because you are going to compare those packages in the current running process since Android does not know what is a recording app."},{"owner":{"account_id":13728780,"reputation":646,"user_id":9906778,"display_name":"Ho&#224;ng Vũ Anh"},"score":0,"creation_date":1678066950,"post_id":44544931,"comment_id":133455849,"body_markdown":"Is there any solution to this problem? I try to create an application to detect sharing screens and screen recording, but DisplayManager can&#39;t work on some devices and I try to find another solution.","body":"Is there any solution to this problem? I try to create an application to detect sharing screens and screen recording, but DisplayManager can&#39;t work on some devices and I try to find another solution."}],"answers":[{"comments":[{"owner":{"account_id":940928,"reputation":7129,"user_id":969016,"accept_rate":79,"display_name":"Boy"},"score":0,"creation_date":1584683652,"post_id":44545751,"comment_id":107517154,"body_markdown":"I&#39;m fine with FLAG_SECURE, but it still records the audio. They should have prevented that too","body":"I&#39;m fine with FLAG_SECURE, but it still records the audio. They should have prevented that too"},{"owner":{"account_id":9915586,"reputation":782,"user_id":7340576,"display_name":"Abbas"},"score":5,"creation_date":1586000301,"post_id":44545751,"comment_id":107966440,"body_markdown":"While everything about the answer is fine, your idea behind FLAG_SECURE seems wrong imo. There are many many use cases where developer might need to secure data from user like when offering data for only  paid users which shouldn&#39;t be shared in between users via screenshots","body":"While everything about the answer is fine, your idea behind FLAG_SECURE seems wrong imo. There are many many use cases where developer might need to secure data from user like when offering data for only  paid users which shouldn&#39;t be shared in between users via screenshots"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1586000755,"post_id":44545751,"comment_id":107966590,"body_markdown":"@Abbas: `FLAG_SECURE` was not designed as a DRM solution.","body":"@Abbas: <code>FLAG_SECURE</code> was not designed as a DRM solution."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1497445692,"creation_date":1497445692,"answer_id":44545751,"question_id":44544931,"body_markdown":"&gt; Is there any way I can detect if the screen recording is on?\r\n\r\nNo.\r\n\r\n&gt; So I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.\r\n\r\nSince screen recording does not require a recording-specific app or a process (e.g., `adb shell screenrecord`), and since you have no way of knowing particular apps or processes that are using the media projection API, this seems impractical. And, on modern versions of Android, you have no way of knowing what other processes are running, anyway. Plus, there is nothing stopping the user from pointing another camera at the device screen and recording its contents that way.\r\n\r\n&gt; I don&#39;t want users to take screenshot or record screen of my app\r\n\r\nThen do not write the app. The idea behind `FLAG_SECURE` is to help defend the user against third parties, not to defend the developer against the user.\r\n","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<blockquote>\n  <p>Is there any way I can detect if the screen recording is on?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>So I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.</p>\n</blockquote>\n\n<p>Since screen recording does not require a recording-specific app or a process (e.g., <code>adb shell screenrecord</code>), and since you have no way of knowing particular apps or processes that are using the media projection API, this seems impractical. And, on modern versions of Android, you have no way of knowing what other processes are running, anyway. Plus, there is nothing stopping the user from pointing another camera at the device screen and recording its contents that way.</p>\n\n<blockquote>\n  <p>I don't want users to take screenshot or record screen of my app</p>\n</blockquote>\n\n<p>Then do not write the app. The idea behind <code>FLAG_SECURE</code> is to help defend the user against third parties, not to defend the developer against the user.</p>\n"},{"tags":[],"owner":{"account_id":105617,"reputation":853,"user_id":281727,"display_name":"Bishnu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634633111,"creation_date":1634633111,"answer_id":69627702,"question_id":44544931,"body_markdown":"The answer here is really just general for security. Once data flows to someone&#39;s device then you must assume that they can get full, unrestricted access to it. Everything else is in some sense just obfuscation. It is just making it a little more difficult at best. Even if the device&#39;s software provides some protection, the user has physical access to the device and can root it. At some point data has to be unencrypted and deobfuscated, so that it can be shown to the user and a malicious user can MITM that. If you want better security then it needs to be provided by the device via hardware. This was a big issue with movies being streamed to mobile devices at first. Device&#39;s needed a special hardware encrypted channel that decrypts to some ungodly amount of data per second making it difficult to write back to a disk if someone tried to MITM the unencrypted data on it&#39;s way to the screen.\r\n\r\nNow the above is just to show that it is impossible to guarntee that you can control the data when it goes to a user&#39;s device. Instead, you should take a step back and ask what you are trying to accomplish? What type of behavior are you trying to prevent? If a small number of technically savvy users are able to workaround your protections, is that okay or a big deal? What is an acceptable rate of data &quot;leaking&quot;. This really depends on how sensitive the data is and what type of guarantee you are telling users you have over it. This aspect is 100% the most critical part.  If you are telling users that the data they sent is guaranteed to be ephemeral then that is impossible. Trying to build that and patch all the holes and play the whack a mole game is a losing battle. The only way to win is not to play.","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>The answer here is really just general for security. Once data flows to someone's device then you must assume that they can get full, unrestricted access to it. Everything else is in some sense just obfuscation. It is just making it a little more difficult at best. Even if the device's software provides some protection, the user has physical access to the device and can root it. At some point data has to be unencrypted and deobfuscated, so that it can be shown to the user and a malicious user can MITM that. If you want better security then it needs to be provided by the device via hardware. This was a big issue with movies being streamed to mobile devices at first. Device's needed a special hardware encrypted channel that decrypts to some ungodly amount of data per second making it difficult to write back to a disk if someone tried to MITM the unencrypted data on it's way to the screen.</p>\n<p>Now the above is just to show that it is impossible to guarntee that you can control the data when it goes to a user's device. Instead, you should take a step back and ask what you are trying to accomplish? What type of behavior are you trying to prevent? If a small number of technically savvy users are able to workaround your protections, is that okay or a big deal? What is an acceptable rate of data &quot;leaking&quot;. This really depends on how sensitive the data is and what type of guarantee you are telling users you have over it. This aspect is 100% the most critical part.  If you are telling users that the data they sent is guaranteed to be ephemeral then that is impossible. Trying to build that and patch all the holes and play the whack a mole game is a losing battle. The only way to win is not to play.</p>\n"},{"comments":[{"owner":{"account_id":1904030,"reputation":1154,"user_id":1719247,"display_name":"Christian"},"score":0,"creation_date":1643108171,"post_id":69662026,"comment_id":125246739,"body_markdown":"This mostly works very well, but i&#39;ve gotten reports that a few brands, Huawei for example, seem to ignore this, and users are able to record anyway.\nI need to find a solution to this, because my app is used to display tickets, and some users are cheating by sharing screen-recordings of those.\nSo far, I&#39;ve found no solutions that works.","body":"This mostly works very well, but i&#39;ve gotten reports that a few brands, Huawei for example, seem to ignore this, and users are able to record anyway. I need to find a solution to this, because my app is used to display tickets, and some users are cheating by sharing screen-recordings of those. So far, I&#39;ve found no solutions that works."}],"tags":[],"owner":{"account_id":19448130,"reputation":1516,"user_id":14225169,"display_name":"Hussain Pettiwala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634819475,"creation_date":1634819475,"answer_id":69662026,"question_id":44544931,"body_markdown":"As @CommonsWare said there is no way\r\n\r\n&gt; of knowing particular apps or processes that are using the\r\n&gt; media projection API, this seems impractical.\r\n\r\nHowever you can use the `FLAG_SECURE` like so.\r\n\r\n```\r\ngetWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE); \r\n```\r\nas stated in the [docs here][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_SECURE","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>As @CommonsWare said there is no way</p>\n<blockquote>\n<p>of knowing particular apps or processes that are using the\nmedia projection API, this seems impractical.</p>\n</blockquote>\n<p>However you can use the <code>FLAG_SECURE</code> like so.</p>\n<pre><code>getWindow().setFlags(LayoutParams.FLAG_SECURE, LayoutParams.FLAG_SECURE); \n</code></pre>\n<p>as stated in the <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#FLAG_SECURE\" rel=\"nofollow noreferrer\">docs here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20313439,"reputation":11,"user_id":14899890,"display_name":"Deepak Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681799736,"creation_date":1681455916,"answer_id":76012416,"question_id":44544931,"body_markdown":"I think there is one way you detect screen recording on or off by DisplayManager.DisplayListener\r\n\r\nHere is my code:\r\n\r\n     \r\n    val listener = object : DisplayManager.DisplayListener {\r\n    \r\n            override fun onDisplayChanged(displayId: Int) {\r\n                   Log.d(&quot;test&quot;,&quot;1&quot;)\r\n               //it detect something chnage in screen \r\n               //you can mute it from here\r\n    \r\n            }\r\n    \r\n            override fun onDisplayAdded(displayId: Int) {\r\n             Log.d(&quot;test&quot;,&quot;2&quot;)\r\n                 //you can mute it to here from\r\n                 \r\n    \r\n            }\r\n    \r\n            override fun onDisplayRemoved(displayId: Int) {\r\n                        Log.d(&quot;test&quot;,&quot;3&quot;)\r\n                        //final here you can unMute it \r\n                }\r\n        ","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>I think there is one way you detect screen recording on or off by DisplayManager.DisplayListener</p>\n<p>Here is my code:</p>\n<pre><code>val listener = object : DisplayManager.DisplayListener {\n\n        override fun onDisplayChanged(displayId: Int) {\n               Log.d(&quot;test&quot;,&quot;1&quot;)\n           //it detect something chnage in screen \n           //you can mute it from here\n\n        }\n\n        override fun onDisplayAdded(displayId: Int) {\n         Log.d(&quot;test&quot;,&quot;2&quot;)\n             //you can mute it to here from\n             \n\n        }\n\n        override fun onDisplayRemoved(displayId: Int) {\n                    Log.d(&quot;test&quot;,&quot;3&quot;)\n                    //final here you can unMute it \n            }\n    \n</code></pre>\n"}],"owner":{"account_id":4533399,"reputation":4029,"user_id":3683245,"accept_rate":17,"display_name":"Kalpesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15044,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":4,"score":23,"last_activity_date":1681799736,"creation_date":1497443601,"question_id":44544931,"body_markdown":"I don&#39;t want users to take screenshot or record screen of my app. I have added secure flag to the window. This prevents user from taking screenshots and recording screen.\r\n\r\nIf the screen recording is on, my app prevents the content from being recorded but the audio gets recorded.\r\n\r\nOn some rooted devices, the secure flags may not work as expected.\r\nSo I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.\r\n\r\nIs there any way I can detect if the screen recording is on?","title":"How to programmatically detect if any screen recording process/app is running in Android?","body":"<p>I don't want users to take screenshot or record screen of my app. I have added secure flag to the window. This prevents user from taking screenshots and recording screen.</p>\n\n<p>If the screen recording is on, my app prevents the content from being recorded but the audio gets recorded.</p>\n\n<p>On some rooted devices, the secure flags may not work as expected.\nSo I just want to detect if any screen recording app/process is running in background so that I can hide sensitive data and prevent it from being recorded.</p>\n\n<p>Is there any way I can detect if the screen recording is on?</p>\n"},{"tags":["java","count","duplicates"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681783329,"post_id":76040515,"comment_id":134109181,"body_markdown":"With ` 7 7 7 7` you only want to count this as one group.  Maybe you need another variable which is keeping track of the group that you are dealing with.  Analyzing the problem is key.","body":"With ` 7 7 7 7` you only want to count this as one group.  Maybe you need another variable which is keeping track of the group that you are dealing with.  Analyzing the problem is key."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681783478,"post_id":76040515,"comment_id":134109200,"body_markdown":"I see, but how would this help me further get to my desired result?","body":"I see, but how would this help me further get to my desired result?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681783963,"post_id":76040515,"comment_id":134109238,"body_markdown":"*&quot; I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) &quot;* What  is the source of the problem? If you are not sure what the requirements are, you should ask the teacher, professor, or whomever to clarify. If this is a problem found on the web, please provide a link.","body":"<i>&quot; I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) &quot;</i> What  is the source of the problem? If you are not sure what the requirements are, you should ask the teacher, professor, or whomever to clarify. If this is a problem found on the web, please provide a link."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681784220,"post_id":76040515,"comment_id":134109260,"body_markdown":"I apologize, I&#39;m not the best at  clarifying things . I&#39;m not sure why I&#39;m getting an output of 4 instead of 3. Nor do I know how to fix it.","body":"I apologize, I&#39;m not the best at  clarifying things . I&#39;m not sure why I&#39;m getting an output of 4 instead of 3. Nor do I know how to fix it."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1681784705,"post_id":76040515,"comment_id":134109292,"body_markdown":"You have 3 groups i.e. `1`, `7`, and `3` - do not count then again.  In my first comment I gave you a suggestion how to do this.","body":"You have 3 groups i.e. <code>1</code>, <code>7</code>, and <code>3</code> - do not count then again.  In my first comment I gave you a suggestion how to do this."},{"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"score":0,"creation_date":1681784937,"post_id":76040515,"comment_id":134109307,"body_markdown":"You&#39;re right, sorry for not seeing it sooner. I appreciate the suggestion, thank you.","body":"You&#39;re right, sorry for not seeing it sooner. I appreciate the suggestion, thank you."}],"answers":[{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681799618,"creation_date":1681799618,"answer_id":76041444,"question_id":76040515,"body_markdown":"If you just want get the count of duplicates, i think you can do it like this:\r\n\r\n    public static int adjacentDuplicatesCount(String str) {\r\n    \tScanner reader = new Scanner(str);\r\n    \tint count = 0;\r\n    \tMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \twhile (reader.hasNext()) {\r\n    \t\tString next = reader.next();\r\n    \t\t// Only the first duplication is counted\r\n    \t\tif (map.containsKey(next) &amp;&amp; map.get(next).equals(1)) {\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\tmap.put(next, map.getOrDefault(next, 0) + 1);\r\n    \r\n    \t}\r\n    \treturn count;\r\n    }\r\n\r\n \r\n\r\n\r\nGiven &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, your code just counts &#39;7777&#39;:\r\n\r\n    for (int i = 1; i &lt; result.length() -1; i++) {\r\n\t    if (result.charAt(i) == result.charAt(i + 1)) {\r\n\t\t    count++;\r\n\t    }\r\n    }\r\n","title":"How do I count AdjacentDuplicates using the Scanner Object?","body":"<p>If you just want get the count of duplicates, i think you can do it like this:</p>\n<pre><code>public static int adjacentDuplicatesCount(String str) {\n    Scanner reader = new Scanner(str);\n    int count = 0;\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    while (reader.hasNext()) {\n        String next = reader.next();\n        // Only the first duplication is counted\n        if (map.containsKey(next) &amp;&amp; map.get(next).equals(1)) {\n            count++;\n        }\n        map.put(next, map.getOrDefault(next, 0) + 1);\n\n    }\n    return count;\n}\n</code></pre>\n<p>Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, your code just counts '7777':</p>\n<pre><code>for (int i = 1; i &lt; result.length() -1; i++) {\n    if (result.charAt(i) == result.charAt(i + 1)) {\n        count++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76041444,"answer_count":1,"score":0,"last_activity_date":1681799618,"creation_date":1681782985,"question_id":76040515,"body_markdown":"The problem is that the output I&#39;m having is counting an extra unknown Adjacent that I&#39;m unfamiliar off.\r\n\r\n(Work Problem) - static int adjacentDuplicatesCount(String str) – returns the count of duplicates that are next to each other. Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, return 3.`\r\n\r\n\r\n \r\nFrom my understanding I&#39;m assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) are the three counts in this string above. I don&#39;t have much knowledge on any other way to do this as I&#39;m still a beginner. \r\n\r\nCode Below: \r\n\r\n```java\r\npublic static int adjacentDuplicatesCount(String str) {\r\n        Scanner reader = new Scanner(str);\r\n        String result = &quot;&quot;;\r\n        int count = 0;\r\n\r\n        while(reader.hasNext()){\r\n            result+= reader.next();\r\n        }\r\n\r\n\r\n\r\n        for (int i = 1; i &lt; result.length() -1; i++) {\r\n            if (result.charAt(i) == result.charAt(i + 1)) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\nDesired Output 3 == 3\r\n\r\nMy Output 4 == 3\r\n\r\n```\r\n \r\n\r\nI have been noted that I could add another for loop in the main loop, however I&#39;m not entirely sure how that could help. Others suggested that I should state &quot;while its the same character, don&#39;t do anything&quot; although this too  is a confusing solution to me, that I&#39;m not sure how I would write it. \r\n","title":"How do I count AdjacentDuplicates using the Scanner Object?","body":"<p>The problem is that the output I'm having is counting an extra unknown Adjacent that I'm unfamiliar off.</p>\n<p>(Work Problem) - static int adjacentDuplicatesCount(String str) – returns the count of duplicates that are next to each other. Given &quot;1 1 2 7 7 7 7 3 3 5 3&quot;, return 3.`</p>\n<p>From my understanding I'm assuming that (&quot;11&quot;) , (&quot;7777&quot;), and (&quot;33&quot;) are the three counts in this string above. I don't have much knowledge on any other way to do this as I'm still a beginner.</p>\n<p>Code Below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int adjacentDuplicatesCount(String str) {\n        Scanner reader = new Scanner(str);\n        String result = &quot;&quot;;\n        int count = 0;\n\n        while(reader.hasNext()){\n            result+= reader.next();\n        }\n\n\n\n        for (int i = 1; i &lt; result.length() -1; i++) {\n            if (result.charAt(i) == result.charAt(i + 1)) {\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<pre><code>Desired Output 3 == 3\n\nMy Output 4 == 3\n\n</code></pre>\n<p>I have been noted that I could add another for loop in the main loop, however I'm not entirely sure how that could help. Others suggested that I should state &quot;while its the same character, don't do anything&quot; although this too  is a confusing solution to me, that I'm not sure how I would write it.</p>\n"},{"tags":["java","linux","raspberry-pi","raspberry-pi3","pi4j"],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681799517,"creation_date":1681799517,"question_id":76041434,"body_markdown":"I use Pi4J library to control a LED-strip. The LED-strip contains 10 LEDs with chips ws2811. They are connected serially. I have found a simple example on [github][1] that I use on a Raspberry Pi 3B (Raspberry Pi OS 32 bit). My code set some LEDs on white color and switches them off. It works but has two troubles:\r\n\r\n1) Sometimes one LED can be switched on and flashes weakly red. I have no place in the code where I set the LEDs on red - only white or complete switched off.\r\n2) First LED doesn&#39;t flash (it can only flash red when the previous error appears). When I try to switch on LEDs from 0 to 3 the LEDs with numbers from 1 to 4 are switched on. When I try to switch on LEDs from 1 to 4 the LEDs with numbers from 2 to 5 are switched on.\r\n\r\nI think the first error can be low electromagnetic compatibility. For the second error I have founded some strange things in the [source code][1]. It has some reset bytes at the start and at the end of the data transmission matrices. The function render, that must be called to see the result, starts the counter from 1. \r\n\r\n    public void render() {\r\n        //beginning at 1, because the first byte is a reset\r\n        int counter = 1;\r\n        for (int i = 0; i &lt; numLeds; i++) {\r\n\r\n          //Scaling the color to the max brightness\r\n          leds[i] = PixelColor.setRedComponent(leds[i], (int) (PixelColor.getRedComponent(leds[i]) * brightness));\r\n          leds[i] = PixelColor.setGreenComponent(leds[i], (int) (PixelColor.getGreenComponent(leds[i]) * brightness));\r\n          leds[i] = PixelColor.setBlueComponent(leds[i], (int) (PixelColor.getBlueComponent(leds[i]) * brightness));\r\n\r\n          // Calculating GRB from RGB\r\n          for (int j = 15; j &gt;= 8; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n          for (int j = 23; j &gt;= 16; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n          for (int j = 7; j &gt;= 0; j--) {\r\n            if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\r\n              pixelRaw[counter++] = Bit_1;\r\n            } else {\r\n              pixelRaw[counter++] = Bit_0;\r\n            }\r\n          }\r\n        }\r\n\r\n        // While bitbanging, the first and last byte have to be a reset\r\n        pixelRaw[0] = Bit_Reset;\r\n        pixelRaw[pixelRaw.length - 1] = Bit_Reset;\r\n\r\n        // waiting since last render time\r\n        long diff = Math.abs(System.nanoTime()) - lastRenderTime;\r\n        if (renderWaitTime - diff &gt; 0) {\r\n          long wait = renderWaitTime - diff;\r\n          long millis = wait / 1_000_000L;\r\n          int nanos = (int) (wait % 1_000_000);\r\n          System.out.println(&quot;Waiting &quot; + (millis) + &quot;ms and &quot; + nanos + &quot;ns&quot;);\r\n          sleep(millis, nanos);\r\n        }\r\n\r\n        //writing on the PIN\r\n        spi.write(pixelRaw);\r\n\r\n        System.out.println(&quot;finished rendering&quot;);\r\n        lastRenderTime = Math.abs(System.nanoTime());\r\n    }\r\n\r\n  \r\n\r\n\r\nCan you please explain me what means this Bit_Reset, why the LED place it at the start and at the end and why they are so important? And why flashes some LEDs red?\r\n\r\n\r\n  [1]: https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e","title":"Why LED-strip on chip ws2811 never switch on the first LED?","body":"<p>I use Pi4J library to control a LED-strip. The LED-strip contains 10 LEDs with chips ws2811. They are connected serially. I have found a simple example on <a href=\"https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e\" rel=\"nofollow noreferrer\">github</a> that I use on a Raspberry Pi 3B (Raspberry Pi OS 32 bit). My code set some LEDs on white color and switches them off. It works but has two troubles:</p>\n<ol>\n<li>Sometimes one LED can be switched on and flashes weakly red. I have no place in the code where I set the LEDs on red - only white or complete switched off.</li>\n<li>First LED doesn't flash (it can only flash red when the previous error appears). When I try to switch on LEDs from 0 to 3 the LEDs with numbers from 1 to 4 are switched on. When I try to switch on LEDs from 1 to 4 the LEDs with numbers from 2 to 5 are switched on.</li>\n</ol>\n<p>I think the first error can be low electromagnetic compatibility. For the second error I have founded some strange things in the <a href=\"https://gist.github.com/eitch/c4d1cb20b1d9f66e76b8dd765bff440e\" rel=\"nofollow noreferrer\">source code</a>. It has some reset bytes at the start and at the end of the data transmission matrices. The function render, that must be called to see the result, starts the counter from 1.</p>\n<pre><code>public void render() {\n    //beginning at 1, because the first byte is a reset\n    int counter = 1;\n    for (int i = 0; i &lt; numLeds; i++) {\n\n      //Scaling the color to the max brightness\n      leds[i] = PixelColor.setRedComponent(leds[i], (int) (PixelColor.getRedComponent(leds[i]) * brightness));\n      leds[i] = PixelColor.setGreenComponent(leds[i], (int) (PixelColor.getGreenComponent(leds[i]) * brightness));\n      leds[i] = PixelColor.setBlueComponent(leds[i], (int) (PixelColor.getBlueComponent(leds[i]) * brightness));\n\n      // Calculating GRB from RGB\n      for (int j = 15; j &gt;= 8; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n      for (int j = 23; j &gt;= 16; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n      for (int j = 7; j &gt;= 0; j--) {\n        if (((leds[i] &gt;&gt; j) &amp; 1) == 1) {\n          pixelRaw[counter++] = Bit_1;\n        } else {\n          pixelRaw[counter++] = Bit_0;\n        }\n      }\n    }\n\n    // While bitbanging, the first and last byte have to be a reset\n    pixelRaw[0] = Bit_Reset;\n    pixelRaw[pixelRaw.length - 1] = Bit_Reset;\n\n    // waiting since last render time\n    long diff = Math.abs(System.nanoTime()) - lastRenderTime;\n    if (renderWaitTime - diff &gt; 0) {\n      long wait = renderWaitTime - diff;\n      long millis = wait / 1_000_000L;\n      int nanos = (int) (wait % 1_000_000);\n      System.out.println(&quot;Waiting &quot; + (millis) + &quot;ms and &quot; + nanos + &quot;ns&quot;);\n      sleep(millis, nanos);\n    }\n\n    //writing on the PIN\n    spi.write(pixelRaw);\n\n    System.out.println(&quot;finished rendering&quot;);\n    lastRenderTime = Math.abs(System.nanoTime());\n}\n</code></pre>\n<p>Can you please explain me what means this Bit_Reset, why the LED place it at the start and at the end and why they are so important? And why flashes some LEDs red?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1437059915,"post_id":31457881,"comment_id":50883329,"body_markdown":"As a work-around you can try to explicitly join on the primary keys, see e.g. http://stackoverflow.com/questions/5694620/in-hibernate-how-to-use-not-in-clause","body":"As a work-around you can try to explicitly join on the primary keys, see e.g. <a href=\"http://stackoverflow.com/questions/5694620/in-hibernate-how-to-use-not-in-clause\" title=\"in hibernate how to use not in clause\">stackoverflow.com/questions/5694620/&hellip;</a>"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1437060034,"post_id":31457881,"comment_id":50883402,"body_markdown":"Btw, is `Reservation.resources` a collection, i.e. a ...ToMany relationship?","body":"Btw, is <code>Reservation.resources</code> a collection, i.e. a ...ToMany relationship?"},{"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"score":0,"creation_date":1437116915,"post_id":31457881,"comment_id":50906065,"body_markdown":"Yes it is Many-To-Many","body":"Yes it is Many-To-Many"}],"answers":[{"comments":[{"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"score":0,"creation_date":1437117885,"post_id":31465403,"comment_id":50906499,"body_markdown":"This returns all resources, that are used in an reservation.","body":"This returns all resources, that are used in an reservation."},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1437124093,"post_id":31465403,"comment_id":50909665,"body_markdown":"No, it returns all resources which are not related to any reservation: `where r is null`. Did you give it a try?","body":"No, it returns all resources which are not related to any reservation: <code>where r is null</code>. Did you give it a try?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1437126882,"post_id":31465403,"comment_id":50911461,"body_markdown":"I tried it too, works correctly. What Hibernate version do you use?","body":"I tried it too, works correctly. What Hibernate version do you use?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1437127302,"post_id":31465403,"comment_id":50911735,"body_markdown":"The outcome you got happens when you specify `r is not null`. It has to be `r is null`.","body":"The outcome you got happens when you specify <code>r is not null</code>. It has to be <code>r is null</code>."},{"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"score":0,"creation_date":1437131886,"post_id":31465403,"comment_id":50914230,"body_markdown":"4.3.10.Final, I&#39;m going to try it again.","body":"4.3.10.Final, I&#39;m going to try it again."}],"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437084605,"creation_date":1437084605,"answer_id":31465403,"question_id":31457881,"body_markdown":"You can try with right outer join:\r\n\r\n    select rs \r\n    from Reservation r right join r.resources rs\r\n    where r is null","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>You can try with right outer join:</p>\n\n<pre><code>select rs \nfrom Reservation r right join r.resources rs\nwhere r is null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26225570,"reputation":1,"user_id":19902319,"display_name":"user19902319"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681799150,"creation_date":1681799150,"answer_id":76041398,"question_id":31457881,"body_markdown":"Try use &#39;elements&#39; function:\r\n\r\n```\r\nFROM Resource rs WHERE rs NOT IN (SELECT elements(r.resources) FROM Reservation r)\r\n``` \r\nhttps://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\r\nChapter: 14.10. Expressions\r\n","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>Try use 'elements' function:</p>\n<pre><code>FROM Resource rs WHERE rs NOT IN (SELECT elements(r.resources) FROM Reservation r)\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html</a>\nChapter: 14.10. Expressions</p>\n"}],"owner":{"account_id":6421692,"reputation":73,"user_id":4978261,"display_name":"brennerm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681799150,"creation_date":1437058911,"question_id":31457881,"body_markdown":"I&#39;m trying to get this query running\r\n\r\n    FROM Resource rs WHERE rs NOT IN (SELECT r.resources FROM Reservation r)\r\nbut Hibernate generates SQL code that leads to a SQL syntax exception.\r\n\r\nHow to avoid this without writing the SQL code by hand?\r\n\r\n## Update ##\r\nThe workaround I&#39;m using right now is to query the resources from all reservations first\r\n\r\n    SELECT r.resources FROM Reservation r\r\n\r\nand then applying the second query\r\n\r\n    FROM Resource rs WHERE rs NOT IN (:resources_in_reservations)\r\n\r\nFeels like an unnecessary step to me, but I don&#39;t know how to avoid it.\r\n","title":"HQL - IN-clause with subquery on Many-to-Many association","body":"<p>I'm trying to get this query running</p>\n\n<pre><code>FROM Resource rs WHERE rs NOT IN (SELECT r.resources FROM Reservation r)\n</code></pre>\n\n<p>but Hibernate generates SQL code that leads to a SQL syntax exception.</p>\n\n<p>How to avoid this without writing the SQL code by hand?</p>\n\n<h2>Update</h2>\n\n<p>The workaround I'm using right now is to query the resources from all reservations first</p>\n\n<pre><code>SELECT r.resources FROM Reservation r\n</code></pre>\n\n<p>and then applying the second query</p>\n\n<pre><code>FROM Resource rs WHERE rs NOT IN (:resources_in_reservations)\n</code></pre>\n\n<p>Feels like an unnecessary step to me, but I don't know how to avoid it.</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629839609,"post_id":68913906,"comment_id":121791957,"body_markdown":"Sounds like you want to use an [`InteractiveQueryService`](https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/kafka-streams.html#_interactive_queries) + [source](https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java)","body":"Sounds like you want to use an <a href=\"https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/current/reference/html/kafka-streams.html#_interactive_queries\" rel=\"nofollow noreferrer\"><code>InteractiveQueryService</code></a> + <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java\" rel=\"nofollow noreferrer\">source</a>"},{"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"score":0,"creation_date":1629839662,"post_id":68913906,"comment_id":121791966,"body_markdown":"@OneCricketeer - I&#39;d like to avoid using Spring Cloud if at all possible.  But this does give me ideas on how to get at the ktable","body":"@OneCricketeer - I&#39;d like to avoid using Spring Cloud if at all possible.  But this does give me ideas on how to get at the ktable"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629839866,"post_id":68913906,"comment_id":121792031,"body_markdown":"Is there a particular reason why? Otherwise, did you try `@Autowired GlobalKTable&lt;String, String&gt; myTable;`? Since that is the `@Bean` that you&#39;ve created?","body":"Is there a particular reason why? Otherwise, did you try <code>@Autowired GlobalKTable&lt;String, String&gt; myTable;</code>? Since that is the <code>@Bean</code> that you&#39;ve created?"}],"answers":[{"tags":[],"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681798773,"creation_date":1681798379,"answer_id":76041311,"question_id":68913906,"body_markdown":"The `InteractiveQueryService` is actually only needed when you are using spring-cloud because you can have multiple kafka-streams instances in one application there. In your case you can get access to the `KafkaStreams` object via `StreamsBuilderFactoryBean` and get the store from there:\r\n\r\n```java\r\n\r\n@Path(&quot;/api&quot;)\r\n@Service\r\npublic class Web {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;ksConfig&quot;)\r\n    private StreamsBuilderFactoryBean streamsBuilderFactoryBean;\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\r\n\r\n        String value =  getValue(key);\r\n\r\n        return Response.status(200).entity(value).build();\r\n    }\r\n    \r\n    private String getValue(String key) {\r\n        QueryableStoreType&lt;ReadOnlyKeyValueStore&lt;String, String&gt;&gt; storeType = QueryableStoreTypes.keyValueStore();\r\n        ReadOnlyKeyValueStore&lt;String, String&gt; store = streamsBuilderFactoryBean.getKafkaStreams().store(StoreQueryParameters.fromNameAndType(&quot;my-state-store&quot;, storeType));\r\n        return store.get(key);\r\n    }\r\n}\r\n```","title":"How to access a GlobalKTable outside of a kafka streams context in spring boot?","body":"<p>The <code>InteractiveQueryService</code> is actually only needed when you are using spring-cloud because you can have multiple kafka-streams instances in one application there. In your case you can get access to the <code>KafkaStreams</code> object via <code>StreamsBuilderFactoryBean</code> and get the store from there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Path(&quot;/api&quot;)\n@Service\npublic class Web {\n\n    @Autowired\n    @Qualifier(&quot;ksConfig&quot;)\n    private StreamsBuilderFactoryBean streamsBuilderFactoryBean;\n\n    @GET\n    @Path(&quot;/test&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\n\n        String value =  getValue(key);\n\n        return Response.status(200).entity(value).build();\n    }\n    \n    private String getValue(String key) {\n        QueryableStoreType&lt;ReadOnlyKeyValueStore&lt;String, String&gt;&gt; storeType = QueryableStoreTypes.keyValueStore();\n        ReadOnlyKeyValueStore&lt;String, String&gt; store = streamsBuilderFactoryBean.getKafkaStreams().store(StoreQueryParameters.fromNameAndType(&quot;my-state-store&quot;, storeType));\n        return store.get(key);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1681798773,"creation_date":1629838025,"question_id":68913906,"body_markdown":"I&#39;d like to access a global ktable in a context other than the kafka streams context.\r\n\r\nAs an example, I have this sample app:\r\n```java\r\n@SpringBootApplication\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(App.class, args);\r\n    }\r\n}\r\n```\r\n\r\nwith this GlobalKTable configured\r\n```java\r\n@Component\r\npublic class Table {\r\n\r\n    @Bean(&quot;myTable&quot;)\r\n    public GlobalKTable&lt;String, String&gt; buildTopo(@Qualifier(&quot;ksConfig&quot;) StreamsBuilder builder) {\r\n        return builder.globalTable(&quot;my-topic&quot;,\r\n                Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\r\n                                &quot;my-state-store&quot; /* table/store name */)\r\n                        .withKeySerde(Serdes.String())\r\n                        .withValueSerde(Serdes.String())\r\n        );\r\n    }\r\n}\r\n```\r\nAnd this kafka streams configuration:\r\n```java\r\n@Configuration\r\npublic class KafkaConfiguration {\r\n\r\n    @Bean(&quot;ksConfig&quot;)\r\n    public StreamsBuilderFactoryBean kafkaStreams(KafkaProperties kafkaProperties,\r\n                                                  @Value(&quot;${spring.application.name}&quot;) String appName) {\r\n        var props = new HashMap&lt;String, Object&gt;(kafkaProperties.getProperties());\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, appName);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\r\n        var stateDir = kafkaProperties.getStreams().getStateDir() != null ?\r\n                kafkaProperties.getStreams().getStateDir() : System.getProperty(&quot;java.io.tmpdir&quot;);\r\n        props.put(StreamsConfig.STATE_DIR_CONFIG, stateDir);\r\n        var config = new KafkaStreamsConfiguration(props);\r\n        return new StreamsBuilderFactoryBean(config);\r\n    }\r\n```\r\n\r\nNow let&#39;s say I have a web endpoint:\r\n```java\r\n@Path(&quot;/api&quot;)\r\n@Service\r\npublic class Web {\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\r\n\r\n        String value =  // get value from global ktable with Key\r\n\r\n        return Response.status(200).entity(value).build();\r\n    }\r\n}\r\n```\r\n\r\nHow can I get at the ktable from inside this `Web::test(...)` method?\r\n\r\nI tried autowiring some prospective Kafka streams classes in `Web`, like `KafkaStreams` and `ProcessorContext`.   Spring throws an error saying it cannot find those beans. \r\n","title":"How to access a GlobalKTable outside of a kafka streams context in spring boot?","body":"<p>I'd like to access a global ktable in a context other than the kafka streams context.</p>\n<p>As an example, I have this sample app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p>with this GlobalKTable configured</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Table {\n\n    @Bean(&quot;myTable&quot;)\n    public GlobalKTable&lt;String, String&gt; buildTopo(@Qualifier(&quot;ksConfig&quot;) StreamsBuilder builder) {\n        return builder.globalTable(&quot;my-topic&quot;,\n                Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(\n                                &quot;my-state-store&quot; /* table/store name */)\n                        .withKeySerde(Serdes.String())\n                        .withValueSerde(Serdes.String())\n        );\n    }\n}\n</code></pre>\n<p>And this kafka streams configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaConfiguration {\n\n    @Bean(&quot;ksConfig&quot;)\n    public StreamsBuilderFactoryBean kafkaStreams(KafkaProperties kafkaProperties,\n                                                  @Value(&quot;${spring.application.name}&quot;) String appName) {\n        var props = new HashMap&lt;String, Object&gt;(kafkaProperties.getProperties());\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, appName);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 10 * 1000);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, LogAndContinueExceptionHandler.class);\n        var stateDir = kafkaProperties.getStreams().getStateDir() != null ?\n                kafkaProperties.getStreams().getStateDir() : System.getProperty(&quot;java.io.tmpdir&quot;);\n        props.put(StreamsConfig.STATE_DIR_CONFIG, stateDir);\n        var config = new KafkaStreamsConfiguration(props);\n        return new StreamsBuilderFactoryBean(config);\n    }\n</code></pre>\n<p>Now let's say I have a web endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api&quot;)\n@Service\npublic class Web {\n\n    @GET\n    @Path(&quot;/test&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response test(@QueryParam(&quot;key&quot;) String key) {\n\n        String value =  // get value from global ktable with Key\n\n        return Response.status(200).entity(value).build();\n    }\n}\n</code></pre>\n<p>How can I get at the ktable from inside this <code>Web::test(...)</code> method?</p>\n<p>I tried autowiring some prospective Kafka streams classes in <code>Web</code>, like <code>KafkaStreams</code> and <code>ProcessorContext</code>.   Spring throws an error saying it cannot find those beans.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9731,"page":494,"page_size":100}
