{"items":[{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":1,"creation_date":1690555064,"post_id":76788749,"comment_id":135374595,"body_markdown":"https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces\nhttps://androidreverse.wordpress.com/2020/05/02/android-api-restriction-bypass-for-all-android-versions/\n\nhttps://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions","body":"<a href=\"https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces\" rel=\"nofollow noreferrer\">developer.android.com/guide/app-compatibility/&hellip;</a> <a href=\"https://androidreverse.wordpress.com/2020/05/02/android-api-restriction-bypass-for-all-android-versions/\" rel=\"nofollow noreferrer\">androidreverse.wordpress.com/2020/05/02/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions\" title=\"bypass androids hidden api restrictions\">stackoverflow.com/questions/55970137/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1690654411,"post_id":76788749,"comment_id":135384925,"body_markdown":"Does this answer your question? [Bypass Android&#39;s hidden API restrictions](https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55970137/bypass-androids-hidden-api-restrictions\">Bypass Android&#39;s hidden API restrictions</a>"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690554719,"creation_date":1690554719,"question_id":76788749,"body_markdown":"I need to access the bootClassPathUrlHandlers in the VMClassLoader class using reflection but I am getting this error: &quot;Reflective access to bootClassPathUrlHandlers is forbidden when targeting API 33 and above&quot;.\r\n\r\nIf I ignore it and run the app anyway I get this runtime exception: java.lang.NoSuchFieldException: No field bootClassPathUrlHandlers in class Ljava/lang/VMClassLoader; (declaration of &#39;java.lang.VMClassLoader&#39; appears in /apex/com.android.art/javalib/core-libart.jar)\r\n\r\nThis is the part of code that I am using:\r\n```\r\n\t\t\tClass cVMClassLoader = Class.forName(&quot;java.lang.VMClassLoader&quot;);\r\n\t\t\tField vHandlers = cVMClassLoader.getDeclaredField(&quot;bootClassPathUrlHandlers&quot;);\r\n\t\t\tvHandlers.setAccessible(true);\r\n\r\n\t\t\tObject[] handlers = (Object[]) vHandlers.get(null);\r\n```\r\n\r\nHow can I access it?","title":"Reflective access to *** is forbidden when targeting API 33 and above","body":"<p>I need to access the bootClassPathUrlHandlers in the VMClassLoader class using reflection but I am getting this error: &quot;Reflective access to bootClassPathUrlHandlers is forbidden when targeting API 33 and above&quot;.</p>\n<p>If I ignore it and run the app anyway I get this runtime exception: java.lang.NoSuchFieldException: No field bootClassPathUrlHandlers in class Ljava/lang/VMClassLoader; (declaration of 'java.lang.VMClassLoader' appears in /apex/com.android.art/javalib/core-libart.jar)</p>\n<p>This is the part of code that I am using:</p>\n<pre><code>            Class cVMClassLoader = Class.forName(&quot;java.lang.VMClassLoader&quot;);\n            Field vHandlers = cVMClassLoader.getDeclaredField(&quot;bootClassPathUrlHandlers&quot;);\n            vHandlers.setAccessible(true);\n\n            Object[] handlers = (Object[]) vHandlers.get(null);\n</code></pre>\n<p>How can I access it?</p>\n"},{"tags":["java","android","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":2574017,"reputation":4150,"user_id":2232127,"accept_rate":100,"display_name":"JensV"},"score":0,"creation_date":1586528292,"post_id":61142155,"comment_id":108166246,"body_markdown":"It&#39;s possible that your android device does not allow overriding the notification sound. You are using the legacy firebase api which also might not work in the same way for newer devices. But it&#39;s just a guess. Perhaps try the new api: https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#AndroidNotification","body":"It&#39;s possible that your android device does not allow overriding the notification sound. You are using the legacy firebase api which also might not work in the same way for newer devices. But it&#39;s just a guess. Perhaps try the new api: <a href=\"https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages#AndroidNotification\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/fcm/rest/v1/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1218248,"reputation":757,"user_id":1185419,"accept_rate":62,"display_name":"The Anh Nguyen"},"score":0,"creation_date":1608798197,"post_id":63313539,"comment_id":115687436,"body_markdown":"I am using FCM to send notifications. Default sending FCM &#39;sound&#39; payload not working. After Try to using Notification Channel, It worked! Thanks!","body":"I am using FCM to send notifications. Default sending FCM &#39;sound&#39; payload not working. After Try to using Notification Channel, It worked! Thanks!"},{"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"score":3,"creation_date":1616756065,"post_id":63313539,"comment_id":118108391,"body_markdown":"This cannot work if the application is closed as the code will never run. The parameters must be set already in the notification at server level","body":"This cannot work if the application is closed as the code will never run. The parameters must be set already in the notification at server level"},{"owner":{"account_id":1152852,"reputation":7085,"user_id":1134192,"accept_rate":87,"display_name":"Oliver Dixon"},"score":0,"creation_date":1653485600,"post_id":63313539,"comment_id":127863968,"body_markdown":"@nibbana that makes no sense, push notifications are for closed applications..","body":"@nibbana that makes no sense, push notifications are for closed applications.."},{"owner":{"account_id":18192525,"reputation":375,"user_id":13238149,"display_name":"Kasyful Anwar"},"score":0,"creation_date":1702115672,"post_id":63313539,"comment_id":136859565,"body_markdown":"it works!\n&gt;&gt; \n&quot;android_channel_id&quot;: &quot;cnid&quot;  \n&lt;&lt;\nthat line resolve my problem","body":"it works! &gt;&gt;  &quot;android_channel_id&quot;: &quot;cnid&quot;   &lt;&lt; that line resolve my problem"}],"tags":[],"owner":{"account_id":7967088,"reputation":257,"user_id":6013011,"display_name":"Amar Kaygude"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1596877113,"creation_date":1596877113,"answer_id":63313539,"question_id":61142155,"body_markdown":"I was also looking for the solution to custom sound for firebase notification in the android, And I have solved this problem through Notification Channel. \r\n\r\nI have created one notification channel with custom sound, that sound plays after receiving notification in the application background state. \r\n\r\nYou can refer following links of the notification channel. \r\n\r\n[https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c][1]\r\n\r\n[https://developer.android.com/training/notify-user/channels][2]\r\n\r\nYou need to put your mp3 file at **/res/raw/** path.\r\n\r\nPlease find the code.\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getActivity().getSystemService(NotificationManager.class); // If you are writting code in fragment\r\n\r\nOR\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getSystemService(NotificationManager.class); // If you are writting code in Activity\r\n\r\ncreateNotificationChannel function\r\n\r\n    private void createNotificationChannel() { \r\n     Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.sample); //Here is FILE_NAME is the name of file that you want to play \r\n    // Create the NotificationChannel, but only on API 26+ because \r\n    // the NotificationChannel class is new and not in the support library if \r\n    (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) \r\n     { \r\n        CharSequence name = &quot;mychannel&quot;; \r\n        String description = &quot;testing&quot;; \r\n        int importance = NotificationManager.IMPORTANCE_DEFAULT; \r\n        AudioAttributes audioAttributes = new AudioAttributes.Builder() \r\n         .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION) \r\n         .setUsage(AudioAttributes.USAGE_ALARM) \r\n         .build(); \r\n       NotificationChannel channel = new NotificationChannel(&quot;cnid&quot;, name, importance); \r\n       channel.setDescription(description); \r\n       channel.enableLights(true); channel.enableVibration(true); \r\n       channel.setSound(sound, audioAttributes); \r\n       notificationManager.createNotificationChannel(channel); \r\n      } \r\n    };\r\n   \r\n    createNotificationChannel(); \r\nTo achieve this you need to pass **android_channel_id** property in the firebase notification request object.\r\n\r\n    {\r\n     &quot;notification&quot;: {\r\n     &quot;body&quot;: &quot;this is testing notification&quot;,\r\n     &quot;title&quot;: &quot;My App&quot;,\r\n     &quot;android_channel_id&quot;: &quot;cnid&quot;\r\n     },\r\n     &quot;to&quot;: &quot;token&quot;\r\n    }\r\n\r\n  [1]: https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c\r\n  [2]: https://developer.android.com/training/notify-user/channels","title":"Custom sound in Firebase push notification","body":"<p>I was also looking for the solution to custom sound for firebase notification in the android, And I have solved this problem through Notification Channel.</p>\n<p>I have created one notification channel with custom sound, that sound plays after receiving notification in the application background state.</p>\n<p>You can refer following links of the notification channel.</p>\n<p><a href=\"https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c\" rel=\"noreferrer\">https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c</a></p>\n<p><a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"noreferrer\">https://developer.android.com/training/notify-user/channels</a></p>\n<p>You need to put your mp3 file at <strong>/res/raw/</strong> path.</p>\n<p>Please find the code.</p>\n<pre><code>NotificationManager notificationManager = (NotificationManager) getActivity().getSystemService(NotificationManager.class); // If you are writting code in fragment\n</code></pre>\n<p>OR</p>\n<pre><code>NotificationManager notificationManager = (NotificationManager) getSystemService(NotificationManager.class); // If you are writting code in Activity\n</code></pre>\n<p>createNotificationChannel function</p>\n<pre><code>private void createNotificationChannel() { \n Uri sound = Uri.parse(ContentResolver.SCHEME_ANDROID_RESOURCE + &quot;://&quot; + context.getPackageName() + &quot;/&quot; + R.raw.sample); //Here is FILE_NAME is the name of file that you want to play \n// Create the NotificationChannel, but only on API 26+ because \n// the NotificationChannel class is new and not in the support library if \n(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) \n { \n    CharSequence name = &quot;mychannel&quot;; \n    String description = &quot;testing&quot;; \n    int importance = NotificationManager.IMPORTANCE_DEFAULT; \n    AudioAttributes audioAttributes = new AudioAttributes.Builder() \n     .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION) \n     .setUsage(AudioAttributes.USAGE_ALARM) \n     .build(); \n   NotificationChannel channel = new NotificationChannel(&quot;cnid&quot;, name, importance); \n   channel.setDescription(description); \n   channel.enableLights(true); channel.enableVibration(true); \n   channel.setSound(sound, audioAttributes); \n   notificationManager.createNotificationChannel(channel); \n  } \n};\n\ncreateNotificationChannel(); \n</code></pre>\n<p>To achieve this you need to pass <strong>android_channel_id</strong> property in the firebase notification request object.</p>\n<pre><code>{\n &quot;notification&quot;: {\n &quot;body&quot;: &quot;this is testing notification&quot;,\n &quot;title&quot;: &quot;My App&quot;,\n &quot;android_channel_id&quot;: &quot;cnid&quot;\n },\n &quot;to&quot;: &quot;token&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":13336394,"reputation":807,"user_id":9626123,"display_name":"Ammar Tariq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20064,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63313539,"answer_count":1,"score":6,"last_activity_date":1690554693,"creation_date":1586528080,"question_id":61142155,"body_markdown":"I am sending push notification from Firebase to my Android application, but it is only playing the default sound when the notification is recieved.\r\n\r\nI have set the custom sound param `{“sound”:”notificationsound.mp3”}` in the fcm notification object and the file is present in the res/raw folder according to (https://firebase.google.com/docs/cloud-messaging/http-server-ref)\r\nBut It’s still playing the default sound on all app states (background, foreground and killed).\r\nThis is my request body for sending the notification on Android :\r\n\r\n    {\r\n    &quot;to&quot; : “some id”,\r\n    &quot;notification&quot;: {\r\n    &quot;title&quot;:&quot;asdasd&quot;,\r\n    &quot;body&quot;:&quot;sdsad&quot;,\r\n    &quot;click_action&quot; : &quot;MAIN&quot;,\r\n    &quot;sound&quot;:&quot;notificationsound.mp3&quot;\r\n    },\r\n    &quot;data&quot;: {\r\n    &quot;title&quot; : &quot;Something&quot;,\r\n    &quot;body&quot; : &quot;Important&quot;,\r\n    &quot;type&quot; : &quot;message&quot;\r\n    },\r\n    &quot;priority&quot;: &quot;high&quot;\r\n    }\r\n\r\nWhat I can do to play the custom notification sound.\r\n","title":"Custom sound in Firebase push notification","body":"<p>I am sending push notification from Firebase to my Android application, but it is only playing the default sound when the notification is recieved.</p>\n\n<p>I have set the custom sound param <code>{“sound”:”notificationsound.mp3”}</code> in the fcm notification object and the file is present in the res/raw folder according to (<a href=\"https://firebase.google.com/docs/cloud-messaging/http-server-ref\" rel=\"noreferrer\">https://firebase.google.com/docs/cloud-messaging/http-server-ref</a>)\nBut It’s still playing the default sound on all app states (background, foreground and killed).\nThis is my request body for sending the notification on Android :</p>\n\n<pre><code>{\n\"to\" : “some id”,\n\"notification\": {\n\"title\":\"asdasd\",\n\"body\":\"sdsad\",\n\"click_action\" : \"MAIN\",\n\"sound\":\"notificationsound.mp3\"\n},\n\"data\": {\n\"title\" : \"Something\",\n\"body\" : \"Important\",\n\"type\" : \"message\"\n},\n\"priority\": \"high\"\n}\n</code></pre>\n\n<p>What I can do to play the custom notification sound.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1690536027,"post_id":76786217,"comment_id":135370677,"body_markdown":"I wanted to make my app a little better. In so many applications, when user first signs up, he gets to type the email and password first, then comes the other profile information. So I wanted to do similar.","body":"I wanted to make my app a little better. In so many applications, when user first signs up, he gets to type the email and password first, then comes the other profile information. So I wanted to do similar."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690537433,"post_id":76786217,"comment_id":135370977,"body_markdown":"Then you have to make sure that all those situations cannot happen and you create a flow that ensures that.","body":"Then you have to make sure that all those situations cannot happen and you create a flow that ensures that."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690629070,"post_id":76786217,"comment_id":135382096,"body_markdown":"Hey there. Did my answer help? Can I help you with other information?","body":"Hey there. Did my answer help? Can I help you with other information?"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":1,"creation_date":1690638422,"post_id":76786217,"comment_id":135383180,"body_markdown":"Yes, it did help. Thanks. I was trying to create a flow like you said.","body":"Yes, it did help. Thanks. I was trying to create a flow like you said."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690534355,"creation_date":1690534355,"answer_id":76786217,"question_id":76785890,"body_markdown":"&gt; But the thing is when I use the `createUserWithEmailAndPassword` function it instantly creates a user in Firebase.\r\n\r\nYes, that is correct. It creates a user in [Firebase Authentication][1].\r\n\r\n&gt; But the user needs to set up the profile too after providing the email and password, I don&#39;t want it to create the user before setting up the profile, and the setup profile functions are in another activity.\r\n\r\nIf you need to store other user details that can be stored in the [FirebaseUser][2] object, then I recommend you store them in [Firestore][3], for example. Besides that, if you don&#39;t want to create the user before setting up the profile, then you might consider switching the steps. You ask the user for details and right after that perform the authentication.\r\n\r\n&gt; Also there is a possibility that the user could destroy the activity after signing up without getting to the setup profile activity. \r\n\r\nYes, an activity can be destroyed at any time. So if you get the details of the user in the first place, then you&#39;ll don&#39;t have t worry about this problem anymore.\r\n\r\n&gt; This will create a user without any other necessary information (except email and password).\r\n\r\nGet the information when the app starts.\r\n\r\n&gt; So that&#39;s why I want to delete the user if the setting up profile activity somehow gets destroyed using onDestroy method.\r\n\r\nYou can delete a user when the onDestroy method, but I don&#39;t see why would you need that if you get the information and authenticate the user right after that. In this case in which you&#39;ll always have all information.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\r\n  [3]: https://firebase.google.com/docs/firestore","title":"How to get a user using only the uID in Firebase Android","body":"<blockquote>\n<p>But the thing is when I use the <code>createUserWithEmailAndPassword</code> function it instantly creates a user in Firebase.</p>\n</blockquote>\n<p>Yes, that is correct. It creates a user in <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>.</p>\n<blockquote>\n<p>But the user needs to set up the profile too after providing the email and password, I don't want it to create the user before setting up the profile, and the setup profile functions are in another activity.</p>\n</blockquote>\n<p>If you need to store other user details that can be stored in the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">FirebaseUser</a> object, then I recommend you store them in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Firestore</a>, for example. Besides that, if you don't want to create the user before setting up the profile, then you might consider switching the steps. You ask the user for details and right after that perform the authentication.</p>\n<blockquote>\n<p>Also there is a possibility that the user could destroy the activity after signing up without getting to the setup profile activity.</p>\n</blockquote>\n<p>Yes, an activity can be destroyed at any time. So if you get the details of the user in the first place, then you'll don't have t worry about this problem anymore.</p>\n<blockquote>\n<p>This will create a user without any other necessary information (except email and password).</p>\n</blockquote>\n<p>Get the information when the app starts.</p>\n<blockquote>\n<p>So that's why I want to delete the user if the setting up profile activity somehow gets destroyed using onDestroy method.</p>\n</blockquote>\n<p>You can delete a user when the onDestroy method, but I don't see why would you need that if you get the information and authenticate the user right after that. In this case in which you'll always have all information.</p>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690554532,"creation_date":1690531433,"question_id":76785890,"body_markdown":"I am trying to make a chat app. So someone needs to sign up first to use the app. But the thing is when I use the `createUserWithEmailAndPassword` function it instantly creates a user in Firebase. But the user needs to **setup the profile** too after providing the email and password, I don&#39;t want it to create the user before setting up the profile, and the setup profile function is in another activity. Also, there is a possibility that the user could destroy the activity after signing up without getting to the **set up profile activity**. The user may use the back button or home button, that way the user will be created but other important stuff won&#39;t happen at all (Like uploading a picture). This will create a user without any other necessary information (except email and password). So that&#39;s why I want to **delete the user** if the setting up profile activity somehow gets destroyed using onDestroy method. But I need the user first to delete it. I have the uID from the previous activity but I don&#39;t know how to **delete a user** without logging in first. I researched a little bit and seems like there is no way to delete a user without logging in once.\r\n\r\nMy question is, is there any way to get the Firebase user using only the uID and delete it without logging in once? Or is there any way to cancel the user creation inside the onDestroy method?\r\n\r\nThis is the signup method below:\r\n\r\n\r\n    auth.createUserWithEmailAndPassword(binding.etEmail.getText().toString(), binding.etPassword.getText().toString())\r\n            .addOnCompleteListener(task -&gt; {\r\n        if(task.isSuccessful()){\r\n            String uID = task.getResult().getUser().getUid(); //getting user&#39;s unique ID\r\n            Users u = new Users(uID, binding.etEmail.getText().toString(), binding.etPassword.getText().toString(),&quot;User&quot;,\r\n                    &quot;Hey, I am Using Chatty.&quot;, &quot;1 January, 2000&quot;, false, false);\r\n            db.getReference().child(&quot;users&quot;).child(uID).setValue(u);\r\n            pd.dismiss();\r\n            Intent i = new Intent(SignUpActivity.this, SetupProfileActivity.class);\r\n            i.putExtra(&quot;flag&quot;,&quot;Email&quot;); i.putExtra(&quot;userID&quot;,uID);\r\n            startActivity(i); finishAffinity();\r\n        }else{\r\n            pd.dismiss();\r\n            Toast.makeText(SignUpActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nAs we can see here, after using the method it will instantly create a user, then go to the other activity to set up the profile. But user may destroy the activity after signing up. This will not make sense, so I need to delete the user if that kind of thing happens. This way, user may come back later and try again signing up with the same email like the first time and hopefully not destroy the activity and finish setting up profile so there will be a complete user profile.\r\n\r\nHopefully I made some sense, please help me with this, I&#39;m out of ideas at this point.","title":"How to get a user using only the uID in Firebase Android","body":"<p>I am trying to make a chat app. So someone needs to sign up first to use the app. But the thing is when I use the <code>createUserWithEmailAndPassword</code> function it instantly creates a user in Firebase. But the user needs to <strong>setup the profile</strong> too after providing the email and password, I don't want it to create the user before setting up the profile, and the setup profile function is in another activity. Also, there is a possibility that the user could destroy the activity after signing up without getting to the <strong>set up profile activity</strong>. The user may use the back button or home button, that way the user will be created but other important stuff won't happen at all (Like uploading a picture). This will create a user without any other necessary information (except email and password). So that's why I want to <strong>delete the user</strong> if the setting up profile activity somehow gets destroyed using onDestroy method. But I need the user first to delete it. I have the uID from the previous activity but I don't know how to <strong>delete a user</strong> without logging in first. I researched a little bit and seems like there is no way to delete a user without logging in once.</p>\n<p>My question is, is there any way to get the Firebase user using only the uID and delete it without logging in once? Or is there any way to cancel the user creation inside the onDestroy method?</p>\n<p>This is the signup method below:</p>\n<pre><code>auth.createUserWithEmailAndPassword(binding.etEmail.getText().toString(), binding.etPassword.getText().toString())\n        .addOnCompleteListener(task -&gt; {\n    if(task.isSuccessful()){\n        String uID = task.getResult().getUser().getUid(); //getting user's unique ID\n        Users u = new Users(uID, binding.etEmail.getText().toString(), binding.etPassword.getText().toString(),&quot;User&quot;,\n                &quot;Hey, I am Using Chatty.&quot;, &quot;1 January, 2000&quot;, false, false);\n        db.getReference().child(&quot;users&quot;).child(uID).setValue(u);\n        pd.dismiss();\n        Intent i = new Intent(SignUpActivity.this, SetupProfileActivity.class);\n        i.putExtra(&quot;flag&quot;,&quot;Email&quot;); i.putExtra(&quot;userID&quot;,uID);\n        startActivity(i); finishAffinity();\n    }else{\n        pd.dismiss();\n        Toast.makeText(SignUpActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>As we can see here, after using the method it will instantly create a user, then go to the other activity to set up the profile. But user may destroy the activity after signing up. This will not make sense, so I need to delete the user if that kind of thing happens. This way, user may come back later and try again signing up with the same email like the first time and hopefully not destroy the activity and finish setting up profile so there will be a complete user profile.</p>\n<p>Hopefully I made some sense, please help me with this, I'm out of ideas at this point.</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":29111661,"reputation":16,"user_id":22301300,"display_name":"Regis Junior"},"score":0,"creation_date":1690553373,"post_id":76788545,"comment_id":135374138,"body_markdown":"Check this.: [Solve error javax.mail.AuthenticationFailedException](https://stackoverflow.com/a/26731349/21144042)","body":"Check this.: <a href=\"https://stackoverflow.com/a/26731349/21144042\">Solve error javax.mail.AuthenticationFailedException</a>"}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690554038,"post_id":76788611,"comment_id":135374329,"body_markdown":"Worked, thank you! But how long is this setup necessary? I remember implementing something similar in the past and it worked without it.","body":"Worked, thank you! But how long is this setup necessary? I remember implementing something similar in the past and it worked without it."}],"tags":[],"owner":{"account_id":29111661,"reputation":16,"user_id":22301300,"display_name":"Regis Junior"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690553504,"creation_date":1690553504,"answer_id":76788611,"question_id":76788545,"body_markdown":"This happends becouse you dont alowed the [Less Secure Apps][1] in your Google account.\r\n\r\nYou just need to change this configuration!\r\n\r\nCheck this out: [Solve error javax.mail.AuthenticationFailedException][2]\r\n\r\n\r\n  [1]: https://www.google.com/settings/security/lesssecureapps\r\n  [2]: https://stackoverflow.com/questions/18778240/solve-error-javax-mail-authenticationfailedexception/26731349#26731349","title":"AuthenticationFailedException using Gmail in Javax","body":"<p>This happends becouse you dont alowed the <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">Less Secure Apps</a> in your Google account.</p>\n<p>You just need to change this configuration!</p>\n<p>Check this out: <a href=\"https://stackoverflow.com/questions/18778240/solve-error-javax-mail-authenticationfailedexception/26731349#26731349\">Solve error javax.mail.AuthenticationFailedException</a></p>\n"}],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1690554978,"accepted_answer_id":76788611,"answer_count":1,"score":-1,"last_activity_date":1690554449,"creation_date":1690553024,"question_id":76788545,"body_markdown":"I&#39;m developing a method to send emails, but Gmail doesn&#39;t work. I&#39;m reciving:\r\n\r\n```\r\njavax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted.\r\n```\r\n\r\nThe idea of the code is to send a simple message:\r\n\r\n```java\r\nclass SimpleAuth extends Authenticator {\r\n\tpublic String username = null;\r\n\tpublic String password = null;\r\n\r\n\tpublic SimpleAuth(String user, String pwd) {\r\n\t\tusername = user;\r\n\t\tpassword = pwd;\r\n\t}\r\n\r\n\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\treturn new PasswordAuthentication(username, password);\r\n\t}\r\n}\r\n\r\npublic boolean send() throws Exception {\r\n\t// Smtp server\r\n\tfinal String smtp = &quot;smtp.gmail.com&quot;;\r\n\tfinal String port = &quot;465&quot;;\r\n\r\n\t// Properties setting\r\n\tProperties props = new Properties();\r\n\r\n\tprops.setProperty(&quot;mail.host&quot;, &quot;cServSmtp&quot;);\r\n\tprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.host&quot;, smtp);\r\n\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.user&quot;, username);\r\n\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\tprops.put(&quot;mail.smtp.port&quot;, port);\r\n\tprops.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\r\n\tprops.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;true&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n\t// Authentication\r\n\tSimpleAuth auth = new SimpleAuth(username, password);\r\n\r\n\t// Instance session\r\n\tSession session = Session.getInstance(props, auth);\r\n\tsession.setDebug(false);\r\n\r\n\t// Message setting\r\n\tMessage msg = new MimeMessage(session);\r\n\tmsg.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\r\n\r\n\tmsg.setFrom(new InternetAddress(username, &quot;Diego Borba&quot;));\r\n\tmsg.setSubject(&quot;Subject&quot;);\r\n\tmsg.setContent(&quot;Text here&quot;, &quot;text/plain&quot;);\r\n\r\n\t// Instance transport\r\n\tTransport tr = session.getTransport();\r\n\r\n\ttry {\r\n\t\t// Send e-mail\r\n\t\ttr = session.getTransport(&quot;smtp&quot;);\r\n\t\ttr.connect(smtp, username, password);\r\n\t\tmsg.saveChanges();\r\n\t\ttr.sendMessage(msg, msg.getAllRecipients());\r\n\t\ttr.close();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n```\r\n\r\nI changed a bit of the code to facilitate reproduction, but the idea is the same.\r\n\r\nImportant observations:\r\n- It worked with Outlook and Hotmail (smtp.office365.com)\r\n- I made sure the username and password are correct.\r\n- I **must use SSL**.\r\n- I checked [Google Support](https://support.google.com/mail/?p=BadCredentials%20k23-20020a9d7617000000b006b96a4287d4sm1625082otl.5#topic=7065107), but I didn&#39;t find anything.\r\n- I&#39;m using Java8 (Jre 1.8.0_361)","title":"AuthenticationFailedException using Gmail in Javax","body":"<p>I'm developing a method to send emails, but Gmail doesn't work. I'm reciving:</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted.\n</code></pre>\n<p>The idea of the code is to send a simple message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SimpleAuth extends Authenticator {\n    public String username = null;\n    public String password = null;\n\n    public SimpleAuth(String user, String pwd) {\n        username = user;\n        password = pwd;\n    }\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(username, password);\n    }\n}\n\npublic boolean send() throws Exception {\n    // Smtp server\n    final String smtp = &quot;smtp.gmail.com&quot;;\n    final String port = &quot;465&quot;;\n\n    // Properties setting\n    Properties props = new Properties();\n\n    props.setProperty(&quot;mail.host&quot;, &quot;cServSmtp&quot;);\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n\n    props.put(&quot;mail.smtp.host&quot;, smtp);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.smtp.user&quot;, username);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.port&quot;, port);\n    props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n\n    props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n\n    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;true&quot;);\n\n    props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n    // Authentication\n    SimpleAuth auth = new SimpleAuth(username, password);\n\n    // Instance session\n    Session session = Session.getInstance(props, auth);\n    session.setDebug(false);\n\n    // Message setting\n    Message msg = new MimeMessage(session);\n    msg.setRecipient(Message.RecipientType.TO, new InternetAddress(recipientEmail));\n\n    msg.setFrom(new InternetAddress(username, &quot;Diego Borba&quot;));\n    msg.setSubject(&quot;Subject&quot;);\n    msg.setContent(&quot;Text here&quot;, &quot;text/plain&quot;);\n\n    // Instance transport\n    Transport tr = session.getTransport();\n\n    try {\n        // Send e-mail\n        tr = session.getTransport(&quot;smtp&quot;);\n        tr.connect(smtp, username, password);\n        msg.saveChanges();\n        tr.sendMessage(msg, msg.getAllRecipients());\n        tr.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>I changed a bit of the code to facilitate reproduction, but the idea is the same.</p>\n<p>Important observations:</p>\n<ul>\n<li>It worked with Outlook and Hotmail (smtp.office365.com)</li>\n<li>I made sure the username and password are correct.</li>\n<li>I <strong>must use SSL</strong>.</li>\n<li>I checked <a href=\"https://support.google.com/mail/?p=BadCredentials%20k23-20020a9d7617000000b006b96a4287d4sm1625082otl.5#topic=7065107\" rel=\"nofollow noreferrer\">Google Support</a>, but I didn't find anything.</li>\n<li>I'm using Java8 (Jre 1.8.0_361)</li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690546441,"post_id":76787608,"comment_id":135372611,"body_markdown":"Do you have a logging configuration file?","body":"Do you have a logging configuration file?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690553894,"creation_date":1690549104,"answer_id":76788035,"question_id":76787608,"body_markdown":"This should work for `JPA`:\r\n```\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\nThe first line logs the SQL queries, and the second statement logs the prepared statement parameters.\r\n\r\nAnd this should work for `JdbcTemplate`:\r\n```\r\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\r\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE\r\n```\r\nSimilar to the `JPA` logging configuration, the first line is for logging statements and the second is to log parameters of prepared statements.","title":"Unable to see Debug SQL Queries in Spring boot 3. How can I see SQL queries with logging.level.root as warn","body":"<p>This should work for <code>JPA</code>:</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>The first line logs the SQL queries, and the second statement logs the prepared statement parameters.</p>\n<p>And this should work for <code>JdbcTemplate</code>:</p>\n<pre><code>logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE\n</code></pre>\n<p>Similar to the <code>JPA</code> logging configuration, the first line is for logging statements and the second is to log parameters of prepared statements.</p>\n"}],"owner":{"account_id":2657955,"reputation":2574,"user_id":2298251,"accept_rate":86,"display_name":"Ariel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76788035,"answer_count":1,"score":0,"last_activity_date":1690553894,"creation_date":1690545619,"question_id":76787608,"body_markdown":"This is the application.properties file I am using currently. \r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/student_tracker\r\nspring.datasource.username=springstudent\r\nspring.datasource.password=springstudent\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\n# Turn off the spring boot banner\r\nspring.main.banner-mode=off\r\n\r\n# Reduce logging level. Set logging level to warn\r\nlogging.level.root=warn\r\n# Add logging configs to display SQL statements\r\nlogging.level.org.hibernate.sql=debug\r\nlogging.level.org.hibernate.orm.jdbc.bind=trace\r\n```\r\n\r\nI am unable to see logs wen `logging.level.root` is set to `warn`. However, setting it to `debug` works but all debug logs are cluttered.\r\n\r\nHow can I see only hibernate logs while keeping `logging.level.root=warn`?","title":"Unable to see Debug SQL Queries in Spring boot 3. How can I see SQL queries with logging.level.root as warn","body":"<p>This is the application.properties file I am using currently.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/student_tracker\nspring.datasource.username=springstudent\nspring.datasource.password=springstudent\nspring.jpa.hibernate.ddl-auto=create\n\n# Turn off the spring boot banner\nspring.main.banner-mode=off\n\n# Reduce logging level. Set logging level to warn\nlogging.level.root=warn\n# Add logging configs to display SQL statements\nlogging.level.org.hibernate.sql=debug\nlogging.level.org.hibernate.orm.jdbc.bind=trace\n</code></pre>\n<p>I am unable to see logs wen <code>logging.level.root</code> is set to <code>warn</code>. However, setting it to <code>debug</code> works but all debug logs are cluttered.</p>\n<p>How can I see only hibernate logs while keeping <code>logging.level.root=warn</code>?</p>\n"},{"tags":["java","functional-programming","guava"],"comments":[{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1394201103,"post_id":22251942,"comment_id":33795350,"body_markdown":"What kind of &quot;better&quot; are you trying to achieve? Shorter, more versatile, etc.?","body":"What kind of &quot;better&quot; are you trying to achieve? Shorter, more versatile, etc.?"},{"owner":{"account_id":4670717,"reputation":813,"user_id":3782567,"accept_rate":30,"display_name":"Shilan"},"score":0,"creation_date":1522840669,"post_id":22251942,"comment_id":86307215,"body_markdown":"why not overriding hash method with the properties you want to compare and then comparing the hashcodes? I believe this has even better performance. You avoind all the comparisons and replace it with one.","body":"why not overriding hash method with the properties you want to compare and then comparing the hashcodes? I believe this has even better performance. You avoind all the comparisons and replace it with one."}],"answers":[{"comments":[{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":1,"creation_date":1394200873,"post_id":22252064,"comment_id":33795181,"body_markdown":"You&#39;ll want to replace your second `return` by a `&amp;&amp;`.","body":"You&#39;ll want to replace your second <code>return</code> by a <code>&amp;&amp;</code>."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1394203425,"post_id":22252064,"comment_id":33797091,"body_markdown":"No, the null checks on the `Person`s are not redundant, to avoid getting an NPE when accessing the properties.","body":"No, the null checks on the <code>Person</code>s are not redundant, to avoid getting an NPE when accessing the properties."}],"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394209026,"creation_date":1394200604,"answer_id":22252064,"question_id":22251942,"body_markdown":"Here is a moderately shorter version of your function:\r\n\r\n    public boolean areNamesEqual(Person p1, Person p2)  {\r\n       return  (person1 != null  &amp;&amp;  person2 != null  &amp;&amp;\r\n          Objects.equal(p1.getFirstName(), p2.getFirstName())  &amp;&amp;\r\n          Objects.equal(p1.getSecondName(), p2.getSecondName()));\r\n    }\r\n\r\n","title":"Check if only specific properties of 2 objects are equal","body":"<p>Here is a moderately shorter version of your function:</p>\n\n<pre><code>public boolean areNamesEqual(Person p1, Person p2)  {\n   return  (person1 != null  &amp;&amp;  person2 != null  &amp;&amp;\n      Objects.equal(p1.getFirstName(), p2.getFirstName())  &amp;&amp;\n      Objects.equal(p1.getSecondName(), p2.getSecondName()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"score":0,"creation_date":1394200878,"post_id":22252072,"comment_id":33795187,"body_markdown":"I mention Objects.equal() in my question, this is not an answer. I am asking if there are any further improvements to be made that clean up the code further","body":"I mention Objects.equal() in my question, this is not an answer. I am asking if there are any further improvements to be made that clean up the code further"},{"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"score":0,"creation_date":1394202416,"post_id":22252072,"comment_id":33796350,"body_markdown":"As [Matthew Hubble](http://stackoverflow.com/users/590032/matthew-hubble) mentioned he is not interested in Guavas `Objects` class.","body":"As <a href=\"http://stackoverflow.com/users/590032/matthew-hubble\">Matthew Hubble</a> mentioned he is not interested in Guavas <code>Objects</code> class."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1394203039,"post_id":22252072,"comment_id":33796825,"body_markdown":"@Harmiezz: Where did he mention that...?","body":"@Harmiezz: Where did he mention that...?"},{"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"score":0,"creation_date":1394203311,"post_id":22252072,"comment_id":33797016,"body_markdown":"@[Louis Wasserman](http://stackoverflow.com/users/869736/louis-wasserman) In the first comment of my answer or I understood it that way.","body":"@<a href=\"http://stackoverflow.com/users/869736/louis-wasserman\">Louis Wasserman</a> In the first comment of my answer or I understood it that way."}],"tags":[],"owner":{"account_id":545654,"reputation":7998,"user_id":1360984,"accept_rate":60,"display_name":"Harmlezz"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1394201503,"creation_date":1394200615,"answer_id":22252072,"question_id":22251942,"body_markdown":"Try this:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n        if (person1 == null || person2 == null) {\r\n            return person1 == person2;\r\n        }\r\n        return person1.getFirstName() == null\r\n            ? person2.getFirstName() == null\r\n            : person1.getFirstName().equals(person2.getFirstName());\r\n    }\r\n\r\nOtherwise you may use [Objects.equal][1].\r\n\r\n    Objects.equal(person1.getFirstName(), person2.getFirstName())\r\n\r\nSame for all other properties.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html","title":"Check if only specific properties of 2 objects are equal","body":"<p>Try this:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n    if (person1 == null || person2 == null) {\n        return person1 == person2;\n    }\n    return person1.getFirstName() == null\n        ? person2.getFirstName() == null\n        : person1.getFirstName().equals(person2.getFirstName());\n}\n</code></pre>\n\n<p>Otherwise you may use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html\" rel=\"nofollow\">Objects.equal</a>.</p>\n\n<pre><code>Objects.equal(person1.getFirstName(), person2.getFirstName())\n</code></pre>\n\n<p>Same for all other properties.</p>\n"},{"comments":[{"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"score":0,"creation_date":1394205869,"post_id":22253115,"comment_id":33798878,"body_markdown":"It&#39;s not really any better than the imperative code, I agree. But the only reason is the hoops you must jump through to express the function in code. Perhaps Java lambdas will make expressing it more syntactically sane","body":"It&#39;s not really any better than the imperative code, I agree. But the only reason is the hoops you must jump through to express the function in code. Perhaps Java lambdas will make expressing it more syntactically sane"},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1394207054,"post_id":22253115,"comment_id":33799693,"body_markdown":"I already wrote the version using lambdas, so you can already decide if it&#39;s saner to you :)","body":"I already wrote the version using lambdas, so you can already decide if it&#39;s saner to you :)"}],"tags":[],"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394204229,"creation_date":1394203307,"answer_id":22253115,"question_id":22251942,"body_markdown":"With Java (at least before Java 8 and the lambdas) and Guava, you won&#39;t get far as Java is not a functional language. See the [Caveats section in Functional Explained][1] in the Guava Wiki for an extra opinion.\r\n\r\nActually, you can do it, but at the cost of more code, so you should really evaluate whether you need it. Something like:\r\n\r\n    private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\r\n        if (t1 == null || t2 == null) {\r\n            return t1 == t2; // Shortcut\r\n        }\r\n        for (Function&lt;T, ?&gt; function : functions) {\r\n            if (!Objects.equal(function.apply(t1), function.apply(t2))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    private static class PersonFirstNameFunction \r\n            implements Function&lt;Person, String&gt; {\r\n        @Override\r\n        public String apply(Person input) {\r\n            return input.getFirstName();\r\n        }\r\n    }\r\n    \r\n    private static class PersonLastNameFunction\r\n            implements Function&lt;Person, String&gt; {\r\n        @Override\r\n        public String apply(Person input) {\r\n            return input.getLastName();\r\n        }\r\n    }\r\n    \r\n    private void someMethod(Person p1, Person p2) {\r\n        boolean b = arePropertiesEqual(p1, p2, \r\n                new PersonFirstNameFunction(), new PersonLastNameFunction());\r\n    }\r\n\r\nNote: I&#39;ve neither compiled nor run the code above, it probably has at least warnings due to the use of generic arrays (in the varargs).\r\n\r\nIt&#39;s already shorter with Java 8, looking something like:\r\n\r\n    private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\r\n        if (t1 == null || t2 == null) {\r\n            return t1 == t2; // Shortcut\r\n        }\r\n        for (Function&lt;T, ?&gt; function : functions) {\r\n            if (!Objects.equals(function.apply(t1), function.apply(t2))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    private void someMethod(Person p1, Person p2) {\r\n        boolean b = arePropertiesEqual(p1, p2,\r\n                Person::getFirstName, Person::getLastName);\r\n    }\r\n\r\nNote that here it&#39;s using `java.util.Objects` and `java.util.functions.Function`, not Guava.\r\n\r\n\r\n----------\r\n\r\nNow, is that really &quot;better&quot; than the imperative code?\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/FunctionalExplained#Caveats","title":"Check if only specific properties of 2 objects are equal","body":"<p>With Java (at least before Java 8 and the lambdas) and Guava, you won't get far as Java is not a functional language. See the <a href=\"https://code.google.com/p/guava-libraries/wiki/FunctionalExplained#Caveats\" rel=\"nofollow\">Caveats section in Functional Explained</a> in the Guava Wiki for an extra opinion.</p>\n\n<p>Actually, you can do it, but at the cost of more code, so you should really evaluate whether you need it. Something like:</p>\n\n<pre><code>private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\n    if (t1 == null || t2 == null) {\n        return t1 == t2; // Shortcut\n    }\n    for (Function&lt;T, ?&gt; function : functions) {\n        if (!Objects.equal(function.apply(t1), function.apply(t2))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate static class PersonFirstNameFunction \n        implements Function&lt;Person, String&gt; {\n    @Override\n    public String apply(Person input) {\n        return input.getFirstName();\n    }\n}\n\nprivate static class PersonLastNameFunction\n        implements Function&lt;Person, String&gt; {\n    @Override\n    public String apply(Person input) {\n        return input.getLastName();\n    }\n}\n\nprivate void someMethod(Person p1, Person p2) {\n    boolean b = arePropertiesEqual(p1, p2, \n            new PersonFirstNameFunction(), new PersonLastNameFunction());\n}\n</code></pre>\n\n<p>Note: I've neither compiled nor run the code above, it probably has at least warnings due to the use of generic arrays (in the varargs).</p>\n\n<p>It's already shorter with Java 8, looking something like:</p>\n\n<pre><code>private &lt;T&gt; boolean arePropertiesEqual(T t1, T t2, Function&lt;T, ?&gt;... functions) {\n    if (t1 == null || t2 == null) {\n        return t1 == t2; // Shortcut\n    }\n    for (Function&lt;T, ?&gt; function : functions) {\n        if (!Objects.equals(function.apply(t1), function.apply(t2))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate void someMethod(Person p1, Person p2) {\n    boolean b = arePropertiesEqual(p1, p2,\n            Person::getFirstName, Person::getLastName);\n}\n</code></pre>\n\n<p>Note that here it's using <code>java.util.Objects</code> and <code>java.util.functions.Function</code>, not Guava.</p>\n\n<hr>\n\n<p>Now, is that really \"better\" than the imperative code?</p>\n"},{"tags":[],"owner":{"account_id":147709,"reputation":1271,"user_id":359008,"accept_rate":75,"display_name":"Michael Hixson"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394203620,"creation_date":1394203620,"answer_id":22253233,"question_id":22251942,"body_markdown":"Not really, no.  There is not a better way of expressing this.  &quot;With this I don&#39;t have check for null anywhere&quot; - well, it&#39;s too bad that checking nulls is a requirement.  I&#39;m not sure why you have to check if null is equal to itself or if null is equal to the names of a Person, or why people have null instead of names.  That all seems like nonsense to me but you probably have a good reason.\r\n\r\nYou can&#39;t avoid repeating the accessors for firstName and lastName with less code than you&#39;ve already written.  If you put the method on the Person class itself you should at least be able to avoid the &quot;get&quot; and &quot;()&quot; by using the private fields directly.  Here is some code that is no better than the code in your question:\r\n\r\n    public static boolean areBothNullOrBothNonNullAndNamesEqual(Person a, Person b) {\r\n      if (a == null || b == null) {\r\n        return a == b;\r\n      }\r\n      return Objects.equals(a.firstName, b.firstName)\r\n          &amp;&amp; Objects.equals(a.lastName, b.lastName);\r\n    }","title":"Check if only specific properties of 2 objects are equal","body":"<p>Not really, no.  There is not a better way of expressing this.  \"With this I don't have check for null anywhere\" - well, it's too bad that checking nulls is a requirement.  I'm not sure why you have to check if null is equal to itself or if null is equal to the names of a Person, or why people have null instead of names.  That all seems like nonsense to me but you probably have a good reason.</p>\n\n<p>You can't avoid repeating the accessors for firstName and lastName with less code than you've already written.  If you put the method on the Person class itself you should at least be able to avoid the \"get\" and \"()\" by using the private fields directly.  Here is some code that is no better than the code in your question:</p>\n\n<pre><code>public static boolean areBothNullOrBothNonNullAndNamesEqual(Person a, Person b) {\n  if (a == null || b == null) {\n    return a == b;\n  }\n  return Objects.equals(a.firstName, b.firstName)\n      &amp;&amp; Objects.equals(a.lastName, b.lastName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031177,"reputation":45,"user_id":1039466,"display_name":"arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472674027,"creation_date":1472674027,"answer_id":39258166,"question_id":22251942,"body_markdown":"There is a pojomatic API that doesn&#39;t need to add much code.\r\nhttp://www.pojomatic.org/pojomatic/index.html \r\n\r\nbefore is the exampple you just need to annotate with autoproperty for pojo and @property for fields with a policy of &#39;Equals&#39;\r\n\r\n    import org.pojomatic.Pojomatic;\r\n    import org.pojomatic.annotations.AutoProperty;\r\n\r\n    @AutoProperty\r\n    public class Person {\r\n      @Property(policy = PojomaticPolicy.EQUALS)\r\n      private final String firstName;\r\n      @Property(policy = PojomaticPolicy.EQUALS)\r\n      private final String lastName;\r\n      private final int age;\r\n    \r\n      public Person(String firstName, String lastName, int age) {\r\n      this.firstName = firstName;\r\n      this.lastName = lastName;\r\n      this.age = age;\r\n      }\r\n\r\n      public String getFirstName() { return this.firstName; }\r\n      public String getLastName() { return this.lastName; }\r\n      public int getAge() { return this.age; }\r\n\r\n      @Override \r\n      public boolean equals(Object o) {\r\n          return Pojomatic.equals(this, o);\r\n      }\r\n\r\n      @Override \r\n      public int hashCode() {\r\n          return Pojomatic.hashCode(this);\r\n      }\r\n\r\n      @Override \r\n      public String toString() {\r\n         return Pojomatic.toString(this);\r\n      }\r\n    }\r\n\r\nnow only first name and last time are considered when you say person1.equals(person2) ","title":"Check if only specific properties of 2 objects are equal","body":"<p>There is a pojomatic API that doesn't need to add much code.\n<a href=\"http://www.pojomatic.org/pojomatic/index.html\" rel=\"nofollow\">http://www.pojomatic.org/pojomatic/index.html</a> </p>\n\n<p>before is the exampple you just need to annotate with autoproperty for pojo and @property for fields with a policy of 'Equals'</p>\n\n<pre><code>import org.pojomatic.Pojomatic;\nimport org.pojomatic.annotations.AutoProperty;\n\n@AutoProperty\npublic class Person {\n  @Property(policy = PojomaticPolicy.EQUALS)\n  private final String firstName;\n  @Property(policy = PojomaticPolicy.EQUALS)\n  private final String lastName;\n  private final int age;\n\n  public Person(String firstName, String lastName, int age) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.age = age;\n  }\n\n  public String getFirstName() { return this.firstName; }\n  public String getLastName() { return this.lastName; }\n  public int getAge() { return this.age; }\n\n  @Override \n  public boolean equals(Object o) {\n      return Pojomatic.equals(this, o);\n  }\n\n  @Override \n  public int hashCode() {\n      return Pojomatic.hashCode(this);\n  }\n\n  @Override \n  public String toString() {\n     return Pojomatic.toString(this);\n  }\n}\n</code></pre>\n\n<p>now only first name and last time are considered when you say person1.equals(person2) </p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690553265,"creation_date":1690553265,"answer_id":76788580,"question_id":22251942,"body_markdown":"You may also use something more dynamic, via reflection, like the following.\r\n\r\n    public boolean isObjectPropertiesEqual(Class clazz, Object o0, Object o1, String... properties) {\r\n        for (int i = 0; i &lt; properties.length; i++) {\r\n            // Validate the property value\r\n            String property = properties[i];\r\n            if (property == null || property.isEmpty()) {\r\n                continue;\r\n            }\r\n\r\n            // Convert to Java Bean property getter method name\r\n            String getter = &quot;get&quot; + property.substring(0, 1).toUpperCase() + property.substring(1);\r\n\r\n            // Check for equality\r\n            try {\r\n                Method method = clazz.getMethod(getter);\r\n                Object value0 = method.invoke(o0);\r\n                Object value1 = method.invoke(o1);\r\n                if (!Objects.equals(value0, value1))\r\n                    return false;\r\n            } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nUsage example:\r\n\r\n    isObjectPropertiesEqual(Person.class, person1, person2, &quot;firstName&quot;, &quot;secondName&quot;);","title":"Check if only specific properties of 2 objects are equal","body":"<p>You may also use something more dynamic, via reflection, like the following.</p>\n<pre><code>public boolean isObjectPropertiesEqual(Class clazz, Object o0, Object o1, String... properties) {\n    for (int i = 0; i &lt; properties.length; i++) {\n        // Validate the property value\n        String property = properties[i];\n        if (property == null || property.isEmpty()) {\n            continue;\n        }\n\n        // Convert to Java Bean property getter method name\n        String getter = &quot;get&quot; + property.substring(0, 1).toUpperCase() + property.substring(1);\n\n        // Check for equality\n        try {\n            Method method = clazz.getMethod(getter);\n            Object value0 = method.invoke(o0);\n            Object value1 = method.invoke(o1);\n            if (!Objects.equals(value0, value1))\n                return false;\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>isObjectPropertiesEqual(Person.class, person1, person2, &quot;firstName&quot;, &quot;secondName&quot;);\n</code></pre>\n"}],"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22253115,"answer_count":6,"score":3,"last_activity_date":1690553265,"creation_date":1394200276,"question_id":22251942,"body_markdown":"Say I have a a class `Person` (assume all of the properties can be set and can also be null):\r\n\r\n    public class Person {\r\n      private String firstName;\r\n      private String secondName;\r\n      private Address address;\r\n\r\n      public String getFirstName() { return firstName; }\r\n      public String getSecondName() { return secondName; }\r\n      public String getAddress() { return address; }\r\n    }\r\n\r\nIf I have two instances of `Person`, and I want to check if they both have the same `firstName` and `secondName`, I cannot simply call `equals()` as that will also check `address` for equality (and any other properties for that matter).\r\n\r\nI would have to write a function like this:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n      if(person1 == null || person2 == null) {\r\n        return person1 == person2;\r\n      }\r\n      if(person1.getFirstName() != null ? !person1.getFirstName().equals(person2.getFirstName()) : person2.getFirstName() != null) {\r\n        return false;\r\n      }\r\n      if(person1.getSecondName() != null ? !person1.getSecondName().equals(person2.getSecondName()) : person2.getSecondName() != null) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\nIs there any cleaner way to express this? It feels like Java is making jump through quite a few hoops to express this simple idea. I have started looking at Google Guava, and have seen I can use `Objects.equal()` to improve matters:\r\n\r\n    boolean areNamesEqual(Person person1, Person person2) {\r\n      if(person1 == null || person2 == null) {\r\n        return person1 == person2;\r\n      }\r\n      if(Objects.equal(person1.getFirstName(), person2.getFirstName())) {\r\n        return false;\r\n      }\r\n      if(Objects.equal(person1.getSecondName(), person2.getSecondName())) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\n\r\nBut I still have to check for the Person objects themselves being null, and write getFirstName() and getSecondName() twice each. It feels like there must be a better way expressing this.\r\n\r\nCode like this would be ideal:\r\n\r\n    (person1, person2).arePropertiesEqual(firstName, secondName)\r\n\r\nWith this I don&#39;t have check for null anywhere, I don&#39;t have to return early, and I don&#39;t have to write `firstName` or `secondName` more than once.\r\n\r\nAny ideas?","title":"Check if only specific properties of 2 objects are equal","body":"<p>Say I have a a class <code>Person</code> (assume all of the properties can be set and can also be null):</p>\n\n<pre><code>public class Person {\n  private String firstName;\n  private String secondName;\n  private Address address;\n\n  public String getFirstName() { return firstName; }\n  public String getSecondName() { return secondName; }\n  public String getAddress() { return address; }\n}\n</code></pre>\n\n<p>If I have two instances of <code>Person</code>, and I want to check if they both have the same <code>firstName</code> and <code>secondName</code>, I cannot simply call <code>equals()</code> as that will also check <code>address</code> for equality (and any other properties for that matter).</p>\n\n<p>I would have to write a function like this:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n  if(person1 == null || person2 == null) {\n    return person1 == person2;\n  }\n  if(person1.getFirstName() != null ? !person1.getFirstName().equals(person2.getFirstName()) : person2.getFirstName() != null) {\n    return false;\n  }\n  if(person1.getSecondName() != null ? !person1.getSecondName().equals(person2.getSecondName()) : person2.getSecondName() != null) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n\n<p>Is there any cleaner way to express this? It feels like Java is making jump through quite a few hoops to express this simple idea. I have started looking at Google Guava, and have seen I can use <code>Objects.equal()</code> to improve matters:</p>\n\n<pre><code>boolean areNamesEqual(Person person1, Person person2) {\n  if(person1 == null || person2 == null) {\n    return person1 == person2;\n  }\n  if(Objects.equal(person1.getFirstName(), person2.getFirstName())) {\n    return false;\n  }\n  if(Objects.equal(person1.getSecondName(), person2.getSecondName())) {\n    return false;\n  }\n  return true;\n}\n</code></pre>\n\n<p>But I still have to check for the Person objects themselves being null, and write getFirstName() and getSecondName() twice each. It feels like there must be a better way expressing this.</p>\n\n<p>Code like this would be ideal:</p>\n\n<pre><code>(person1, person2).arePropertiesEqual(firstName, secondName)\n</code></pre>\n\n<p>With this I don't have check for null anywhere, I don't have to return early, and I don't have to write <code>firstName</code> or <code>secondName</code> more than once.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1554500454,"post_id":55543683,"comment_id":97790509,"body_markdown":"Welcome to Stack Overflow. Please [edit] your question to include a [mcve], which can be compiled and tested by others. It should show that you get the value `null` and not the strings you assign. Most likely you are setting the names on the wrong objects or read it from different objects.","body":"Welcome to Stack Overflow. Please <a href=\"https://stackoverflow.com/posts/55543683/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. It should show that you get the value <code>null</code> and not the strings you assign. Most likely you are setting the names on the wrong objects or read it from different objects."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1554500764,"post_id":55543683,"comment_id":97790613,"body_markdown":"If you’re using Swing, that probably means your frame is a JFrame, in which case you did not add anything to the JFrame itself.  JFrame implements [RootPaneContainer](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/RootPaneContainer.html), which means all of the child components are actually children of the content pane.  Try `this.getFrame().getContentPane().getComponents()` instead.","body":"If you’re using Swing, that probably means your frame is a JFrame, in which case you did not add anything to the JFrame itself.  JFrame implements <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/RootPaneContainer.html\" rel=\"nofollow noreferrer\">RootPaneContainer</a>, which means all of the child components are actually children of the content pane.  Try <code>this.getFrame().getContentPane().getComponents()</code> instead."},{"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"score":0,"creation_date":1554501091,"post_id":55543683,"comment_id":97790709,"body_markdown":"Already tried, and got this results: null.glassPane\nnull.layeredPane","body":"Already tried, and got this results: null.glassPane null.layeredPane"}],"answers":[{"tags":[],"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558385087,"creation_date":1558385087,"answer_id":56227940,"question_id":55543683,"body_markdown":"it&#180;s been a while:\r\nI think I have find the way to solve this q, anyway feedback&#180;swelcome.\r\nI&#180;m afraid it was my fault, cause i didn&#180;t explained well the problem.\r\nThe point are containers (readJFrames, JPanel or whatever).\r\nIf you&#180;ve got a JPanel inside, let&#180;s say a JFrame, you&#180;ll have to call getComponents of that panel, and so on...\r\nHope it solves the q. \r\nThanks anybody who kept on.","title":"How to get not null Runtime created components names after setName(String);?","body":"<p>it´s been a while:\nI think I have find the way to solve this q, anyway feedback´swelcome.\nI´m afraid it was my fault, cause i didn´t explained well the problem.\nThe point are containers (readJFrames, JPanel or whatever).\nIf you´ve got a JPanel inside, let´s say a JFrame, you´ll have to call getComponents of that panel, and so on...\nHope it solves the q. \nThanks anybody who kept on.</p>\n"}],"owner":{"account_id":15686690,"reputation":133,"user_id":11319165,"display_name":"Vidal M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690552990,"creation_date":1554500232,"question_id":55543683,"body_markdown":"I&#180;m building a swing aplication , which has all visual components runtime created on a single class. Every control shows fine. Any time a component is declared, a `component.setName(String);` is placed. \r\nThe problem is that when trying to access that names, via `component.getName();`, even within the same class instance, I get null result.\r\n\r\n\r\n    for(Component c:this.getFrame().getComponents()) {\r\n        System.out.println(c.getName());\r\n    }\r\n\r\n`getFrame`is just an standar getter returning main Jframe.\r\nThat just print one null, but frame is populated with components.\r\n\r\nExpected result should be f.e. &quot;Calculate&quot; instead of null","title":"How to get not null Runtime created components names after setName(String);?","body":"<p>I´m building a swing aplication , which has all visual components runtime created on a single class. Every control shows fine. Any time a component is declared, a <code>component.setName(String);</code> is placed. \nThe problem is that when trying to access that names, via <code>component.getName();</code>, even within the same class instance, I get null result.</p>\n\n<pre><code>for(Component c:this.getFrame().getComponents()) {\n    System.out.println(c.getName());\n}\n</code></pre>\n\n<p><code>getFrame</code>is just an standar getter returning main Jframe.\nThat just print one null, but frame is populated with components.</p>\n\n<p>Expected result should be f.e. \"Calculate\" instead of null</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","elasticsearch-8"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1660641940,"post_id":73368757,"comment_id":129574249,"body_markdown":"why you are using `spring-data-elasticsearch` and `elasticsearch-java` both in your pom.xml file ? You can use any one to connect to the Elasticsearch. Also, `spring-data-elasticsearch` already have dependancy for Elasticsearch rest client so if you want to use Spring then only spring data dependancy is sufficiant. You are getting error because of mismatch of dependancy while using class or object.","body":"why you are using <code>spring-data-elasticsearch</code> and <code>elasticsearch-java</code> both in your pom.xml file ? You can use any one to connect to the Elasticsearch. Also, <code>spring-data-elasticsearch</code> already have dependancy for Elasticsearch rest client so if you want to use Spring then only spring data dependancy is sufficiant. You are getting error because of mismatch of dependancy while using class or object."}],"answers":[{"tags":[],"owner":{"account_id":7566728,"reputation":407,"user_id":5751473,"display_name":"Se ven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668671046,"creation_date":1668671046,"answer_id":74471805,"question_id":73368757,"body_markdown":"Current [spring-data-elasticsearch(version 4.4)](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/) not much compatible with es version 8.3 (&gt;7.17.6). \r\n\r\nES `RestHighLevelClient` can `setApiCompatibilityMode(true)` to [enables compatibility mode that allows HLRC 7.17 to work with Elasticsearch 8.x](https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/migrate-hlrc.html#_using_the_same_http_client_with_the_hlrc_and_the_java_api_client). But the compatibility is not very good. ","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>Current <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/\" rel=\"nofollow noreferrer\">spring-data-elasticsearch(version 4.4)</a> not much compatible with es version 8.3 (&gt;7.17.6).</p>\n<p>ES <code>RestHighLevelClient</code> can <code>setApiCompatibilityMode(true)</code> to <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/migrate-hlrc.html#_using_the_same_http_client_with_the_hlrc_and_the_java_api_client\" rel=\"nofollow noreferrer\">enables compatibility mode that allows HLRC 7.17 to work with Elasticsearch 8.x</a>. But the compatibility is not very good.</p>\n"},{"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1673170207,"post_id":75030779,"comment_id":132434332,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33573977)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33573977\">From Review</a>"}],"tags":[],"owner":{"account_id":27452931,"reputation":1,"user_id":20944865,"display_name":"Iulian Masar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673007042,"creation_date":1673007042,"answer_id":75030779,"question_id":73368757,"body_markdown":"[spring-data-elasticsearch(version 5.0)][1] is now compatible with ES 8.5.0\r\n\r\nIt looks like the RestHighLevelClient is deprecated as of this version.\r\n\r\nCheck [this][2] documentation for implementing the client configuration.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.5-0-0\r\n  [2]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.5-0-0\" rel=\"nofollow noreferrer\">spring-data-elasticsearch(version 5.0)</a> is now compatible with ES 8.5.0</p>\n<p>It looks like the RestHighLevelClient is deprecated as of this version.</p>\n<p>Check <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients\" rel=\"nofollow noreferrer\">this</a> documentation for implementing the client configuration.</p>\n"},{"tags":[],"owner":{"account_id":4756304,"reputation":705,"user_id":3844992,"display_name":"Vinh VO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552526,"creation_date":1690552526,"answer_id":76788477,"question_id":73368757,"body_markdown":"On the date of this answer, I am currently able to config Java API client (provided officially by Elasticsearch) to works with ElasticSearch 8.3.x\r\n\r\nVersion of dependencies used (if it helps): \r\n\r\n- org.springframework.boot:spring-boot-starter:2.7.13\r\n- org.springframework.data:spring-data-elasticsearch:4.4.13\r\n- co.elastic.clients:elasticsearch-java:7.17.9 (depended by the above one).\r\n\r\n**Your `ElasticConfig` (with the annotation `@Configuration`) class just needs to extend `ElasticsearchConfiguration` abstract class.**\r\n\r\nSomething similar to this\r\n\r\n```java\r\n@Configuration\r\npublic class ElasticConfig extends ElasticsearchConfiguration {\r\n    @Override\r\n    public ClientConfiguration clientConfiguration() {\r\n        try {\r\n\r\n            // TODO: Should be on the dev profile to run this on self-signed TLS server.\r\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(this.esUsername, this.esPassword));\r\n\r\n            SSLContextBuilder sslBuilder = SSLContexts.custom()\r\n                    .loadTrustMaterial(null,\r\n                            (x509Certificates, s) -&gt; true\r\n                    );\r\n            final SSLContext sslContext = sslBuilder.build();\r\n\r\n            return ClientConfiguration.builder()\r\n                    .connectedTo(esUris)\r\n                    .usingSsl(sslContext, NoopHostnameVerifier.INSTANCE)\r\n                    .withConnectTimeout(10000)\r\n                    .withBasicAuth(esUsername, esPassword)\r\n                    .build();\r\n        } catch (Exception e) {\r\n            // throwing properly\r\n            return null;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe abstract class has (pre)-declared enough Bean for our job. We only need to declare some Operations or Repository to do the job.\r\n\r\nAdapt your esUris, esUsername, esPassword with yours or eliminate them if you&#39;re using an unsecure local ES server.","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>On the date of this answer, I am currently able to config Java API client (provided officially by Elasticsearch) to works with ElasticSearch 8.3.x</p>\n<p>Version of dependencies used (if it helps):</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter:2.7.13</li>\n<li>org.springframework.data:spring-data-elasticsearch:4.4.13</li>\n<li>co.elastic.clients:elasticsearch-java:7.17.9 (depended by the above one).</li>\n</ul>\n<p><strong>Your <code>ElasticConfig</code> (with the annotation <code>@Configuration</code>) class just needs to extend <code>ElasticsearchConfiguration</code> abstract class.</strong></p>\n<p>Something similar to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ElasticConfig extends ElasticsearchConfiguration {\n    @Override\n    public ClientConfiguration clientConfiguration() {\n        try {\n\n            // TODO: Should be on the dev profile to run this on self-signed TLS server.\n            final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(this.esUsername, this.esPassword));\n\n            SSLContextBuilder sslBuilder = SSLContexts.custom()\n                    .loadTrustMaterial(null,\n                            (x509Certificates, s) -&gt; true\n                    );\n            final SSLContext sslContext = sslBuilder.build();\n\n            return ClientConfiguration.builder()\n                    .connectedTo(esUris)\n                    .usingSsl(sslContext, NoopHostnameVerifier.INSTANCE)\n                    .withConnectTimeout(10000)\n                    .withBasicAuth(esUsername, esPassword)\n                    .build();\n        } catch (Exception e) {\n            // throwing properly\n            return null;\n        }\n\n    }\n}\n</code></pre>\n<p>The abstract class has (pre)-declared enough Bean for our job. We only need to declare some Operations or Repository to do the job.</p>\n<p>Adapt your esUris, esUsername, esPassword with yours or eliminate them if you're using an unsecure local ES server.</p>\n"}],"owner":{"account_id":8623105,"reputation":3910,"user_id":8744067,"accept_rate":89,"display_name":"Feroz Siddiqui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690552526,"creation_date":1660623575,"question_id":73368757,"body_markdown":"I have been trying to implement Elastic Search 8.3 with spring boot. \r\n\r\ni am getting the below exception:\r\n\r\n    Cannot convert value of type &#39;co.elastic.clients.elasticsearch.ElasticsearchClient&#39; to required type &#39;org.springframework.data.elasticsearch.core.ElasticsearchOperations&#39;\r\n\r\nBelow is my configuration for elastic search:\r\n\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\r\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\r\n    import co.elastic.clients.transport.ElasticsearchTransport;\r\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\r\n    @Configuration\r\n    @EnableElasticsearchRepositories\r\n    public class ElasticConfig {\r\n    \r\n        @Bean\r\n        public RestClient client() {\r\n        \tfinal CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n    \t\tcredentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;test321&quot;));\r\n    \r\n    \t\tHttpHost host = new HttpHost(&quot;localhost&quot;, 9200);\r\n    \r\n    \t\tRestClient restClient = RestClient.builder(host)\r\n    \t\t\t\t.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\thttpClientBuilder.disableAuthCaching();\r\n    \t\t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}).build();\r\n    \t\treturn restClient;\r\n        }\r\n    \r\n        @Bean\r\n        public ElasticsearchClient elasticsearchTemplate() {\r\n    \t\tElasticsearchTransport transport = new RestClientTransport(client(), new JacksonJsonpMapper());\r\n            return new ElasticsearchClient(transport);\r\n        } \r\n        \r\n    }\r\n\r\n\r\n\r\nBelow is POM:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;aisha&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;courseapp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;courseapp&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;guava.version&gt;20.0&lt;/guava.version&gt;\r\n    \t\t&lt;geoip2.version&gt;2.15.0&lt;/geoip2.version&gt;\r\n            &lt;uap-java.version&gt;1.4.0&lt;/uap-java.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${guava.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${geoip2.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.ua-parser&lt;/groupId&gt;\r\n                &lt;artifactId&gt;uap-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${uap-java.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n              &lt;dependency&gt;\r\n          &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n          &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n          &lt;version&gt;8.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/com.github.javafaker/javafaker --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nBelow is test class which call simple query for index product :\r\n\r\n\r\n\r\n    @SpringBootTest\r\n    \r\n    public class ElkSpringTest {\r\n    \r\n    \t @Autowired\r\n    \t    private ElasticsearchRestTemplate elasticConfig;\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tSearchResponse&lt;ELKProduct&gt; search;\r\n    \r\n    \t\ttry {\r\n    \t\t\tsearch = elasticConfig.search(s -&gt; s.index(&quot;product&quot;).size(10), ELKProduct.class);\r\n    \t\t\tSystem.out.println(search.hits().total().value());\r\n    \r\n    \t\t\tfor (Hit&lt;ELKProduct&gt; hit : search.hits().hits()) {\r\n    \t\t\t\tSystem.out.println(hit.source().getId());\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println(&quot;******ENding *****&quot;);\r\n    \t\t} catch (ElasticsearchException | IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nSince elastic is upgraded to latest version 8.3. I am not able to set up elastic search in spring boot. I usually work with ElasticSearch repository to store the data in my indexs and query it using ElasticsearchOperations.\r\n","title":"Elasticsearch 8.3 configuration in Spring Boot","body":"<p>I have been trying to implement Elastic Search 8.3 with spring boot.</p>\n<p>i am getting the below exception:</p>\n<pre><code>Cannot convert value of type 'co.elastic.clients.elasticsearch.ElasticsearchClient' to required type 'org.springframework.data.elasticsearch.core.ElasticsearchOperations'\n</code></pre>\n<p>Below is my configuration for elastic search:</p>\n<pre><code>import org.apache.http.HttpHost;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.UsernamePasswordCredentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.impl.client.BasicCredentialsProvider;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n\nimport co.elastic.clients.elasticsearch.ElasticsearchClient;\nimport co.elastic.clients.json.jackson.JacksonJsonpMapper;\nimport co.elastic.clients.transport.ElasticsearchTransport;\nimport co.elastic.clients.transport.rest_client.RestClientTransport;\n@Configuration\n@EnableElasticsearchRepositories\npublic class ElasticConfig {\n\n    @Bean\n    public RestClient client() {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(&quot;elastic&quot;, &quot;test321&quot;));\n\n        HttpHost host = new HttpHost(&quot;localhost&quot;, 9200);\n\n        RestClient restClient = RestClient.builder(host)\n                .setHttpClientConfigCallback(new HttpClientConfigCallback() {\n\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                        // TODO Auto-generated method stub\n                        httpClientBuilder.disableAuthCaching();\n                        return httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider);\n                    }\n                }).build();\n        return restClient;\n    }\n\n    @Bean\n    public ElasticsearchClient elasticsearchTemplate() {\n        ElasticsearchTransport transport = new RestClientTransport(client(), new JacksonJsonpMapper());\n        return new ElasticsearchClient(transport);\n    } \n    \n}\n</code></pre>\n<p>Below is POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;aisha&lt;/groupId&gt;\n    &lt;artifactId&gt;courseapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;courseapp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;guava.version&gt;20.0&lt;/guava.version&gt;\n        &lt;geoip2.version&gt;2.15.0&lt;/geoip2.version&gt;\n        &lt;uap-java.version&gt;1.4.0&lt;/uap-java.version&gt;\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n            &lt;version&gt;${geoip2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        \n         &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ua-parser&lt;/groupId&gt;\n            &lt;artifactId&gt;uap-java&lt;/artifactId&gt;\n            &lt;version&gt;${uap-java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n          &lt;dependency&gt;\n      &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n      &lt;version&gt;8.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n      &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n   \n\n&lt;!-- https://mvnrepository.com/artifact/com.github.javafaker/javafaker --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below is test class which call simple query for index product :</p>\n<pre><code>@SpringBootTest\n\npublic class ElkSpringTest {\n\n     @Autowired\n        private ElasticsearchRestTemplate elasticConfig;\n    \n    \n    \n    @Test\n    void contextLoads() {\n        SearchResponse&lt;ELKProduct&gt; search;\n\n        try {\n            search = elasticConfig.search(s -&gt; s.index(&quot;product&quot;).size(10), ELKProduct.class);\n            System.out.println(search.hits().total().value());\n\n            for (Hit&lt;ELKProduct&gt; hit : search.hits().hits()) {\n                System.out.println(hit.source().getId());\n            }\n\n            System.out.println(&quot;******ENding *****&quot;);\n        } catch (ElasticsearchException | IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        \n        \n        \n    }\n}\n</code></pre>\n<p>Since elastic is upgraded to latest version 8.3. I am not able to set up elastic search in spring boot. I usually work with ElasticSearch repository to store the data in my indexs and query it using ElasticsearchOperations.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688594770,"post_id":76615412,"comment_id":135096323,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552519,"creation_date":1690552519,"answer_id":76788473,"question_id":76615412,"body_markdown":"Here is how you do it:\r\n```\r\n@Override\r\n    public void onReady(ReadyEvent event) {\r\n        TextChannel textChannel = event.getJDA().getTextChannelById(&quot;1119241996708630598&quot;);\r\n        MessageHistory messageHistory = textChannel.getHistoryFromBeginning(100).complete();\r\n        List&lt;Message&gt; messages = messageHistory.getRetrievedHistory();\r\n\r\n        System.out.println(messages.get(0).getContentRaw());\r\n    }\r\n```\r\n**getHistoryFromBeginning()** must always be completed before doing anything with it, you then have to use **getRetrievedHistory()** and save it to a list ( otherwise it wont work ) and then you can work with it however you like.\r\n","title":"Getting the message contents from specific channel on startup (Discord Bot using IDA)","body":"<p>Here is how you do it:</p>\n<pre><code>@Override\n    public void onReady(ReadyEvent event) {\n        TextChannel textChannel = event.getJDA().getTextChannelById(&quot;1119241996708630598&quot;);\n        MessageHistory messageHistory = textChannel.getHistoryFromBeginning(100).complete();\n        List&lt;Message&gt; messages = messageHistory.getRetrievedHistory();\n\n        System.out.println(messages.get(0).getContentRaw());\n    }\n</code></pre>\n<p><strong>getHistoryFromBeginning()</strong> must always be completed before doing anything with it, you then have to use <strong>getRetrievedHistory()</strong> and save it to a list ( otherwise it wont work ) and then you can work with it however you like.</p>\n"}],"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690552519,"creation_date":1688498882,"question_id":76615412,"body_markdown":"I&#39;m trying to make a discord bot that retrieves the message content (as a message variable) from the latest message in a specific channel when i start the bot.\r\n\r\nI&#39;ve tried to research but i cant seem to find exactly how to do it anywhere, I&#39;ve also tried many different things from things i find online, like the .getHistory() method, but nothing seems to give me what i need.","title":"Getting the message contents from specific channel on startup (Discord Bot using IDA)","body":"<p>I'm trying to make a discord bot that retrieves the message content (as a message variable) from the latest message in a specific channel when i start the bot.</p>\n<p>I've tried to research but i cant seem to find exactly how to do it anywhere, I've also tried many different things from things i find online, like the .getHistory() method, but nothing seems to give me what i need.</p>\n"},{"tags":["java","javafx","event-handling","controlsfx","spreadsheetview"],"owner":{"account_id":19257754,"reputation":13,"user_id":14157641,"display_name":"roger_godement"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690552292,"creation_date":1690552292,"question_id":76788439,"body_markdown":"I am working on a project where we use a SpreadSheetView component in the controlsfx library and we display a SearchableComboBox inside a SpreadSheetCell.\r\n\r\nEverything is working well expect when we go from a the previous cell to the next that contains a SearchableComboBox using the tab key and press some keys to search the searchablebox (Which should show an editable TextBox), that doesn&#39;t work unless we mouse click the component which is very time consuming especially when we want to enter multiple data/rows.\r\n\r\n\r\n\r\n\r\nHere are the classes and samples code we use:\r\n\r\n**- The Interface**\r\n\r\n[![enter image description here](https://i.stack.imgur.com/RwFCT.jpg)](https://i.stack.imgur.com/RwFCT.jpg)\r\n\r\n**- Instantiate the SpreadSheet**\r\n\r\n```\r\n\r\nvar sheet = new RowDetailsSpreadSheetView();\r\n\r\n```\r\n\r\n**- Creating a cell with SearchableComboBox **\r\n\r\n```\r\n\r\nvar types = new DetailsType(names);\r\n\r\n            cell = types.createCell(i, 1,\r\n\r\n                    1, 1, &quot;rabe&quot;);\r\n\r\n            \r\n\r\n            randomRow.add(\r\n\r\n                cell\r\n\r\n            );\r\n\r\n```\r\n\r\n**- class DetailsType** \r\n\r\n```\r\n\r\npublic class DetailsType extends SpreadsheetCellType&lt;String&gt; {\r\n\r\n     protected final List&lt;String&gt; items;\r\n\r\n    public DetailsType(final List&lt;String&gt; items) {\r\n\r\n        super(new DefaultStringConverter() {\r\n\r\n            @Override\r\n\r\n            public String fromString(String str) {\r\n\r\n                if (str != null &amp;&amp; items.contains(str)) {\r\n\r\n                    return str;\r\n\r\n                } else {\r\n\r\n                    return null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        this.items = items;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String toString() {\r\n\r\n        return &quot;list&quot;; //$NON-NLS-1$\r\n\r\n    }\r\n\r\n    \r\n\r\n    public SpreadsheetCell createCell(final int row, final int column, final int rowSpan, final int columnSpan,\r\n\r\n            String value) {\r\n\r\n        SpreadsheetCell cell = new SpreadsheetCellBase(row, column, rowSpan, columnSpan, this);\r\n\r\n        if (items != null &amp;&amp; items.size() &gt; 0) {\r\n\r\n            if (value != null &amp;&amp; items.contains(value)) {\r\n\r\n                cell.setItem(value);\r\n\r\n            } else {\r\n\r\n                cell.setItem(items.get(0));\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return cell;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public SpreadsheetCellEditor createEditor(SpreadsheetView view) {\r\n\r\n        return new ComboboxSphreadSheetEditor&lt;&gt;(view, items);\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public boolean match(Object value, Object... options) {\r\n\r\n        if (value instanceof String &amp;&amp; items.contains(value.toString()))\r\n\r\n            return true;\r\n\r\n        else\r\n\r\n            return items.contains(value == null ? null : value.toString());\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String convertValue(Object value) {\r\n\r\n        return converter.fromString(value == null ? null : value.toString());\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String toString(String item) {\r\n\r\n        return converter.toString(item);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**- Class ComboboxSphreadSheetEditor**\r\n\r\n```\r\n\r\npublic class ComboboxSphreadSheetEditor&lt;R&gt; extends SpreadsheetCellEditor {\r\n\r\n    private final List&lt;String&gt; itemList;\r\n\r\n    private final SearchableComboBox&lt;String&gt; cb;\r\n\r\n    private String originalValue;\r\n\r\n    \r\n\r\n    public ComboboxSphreadSheetEditor(SpreadsheetView view, final List&lt;String&gt; itemList) {\r\n\r\n        super(view);\r\n\r\n        this.itemList = itemList;\r\n\r\n        cb = new SearchableComboBox&lt;&gt;();\r\n\r\n        cb.setVisibleRowCount(5);\r\n\r\n        cb.show();\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public void startEdit(Object value, String format, Object... os) {\r\n\r\n     if (value instanceof String) {\r\n\r\n                originalValue = value.toString();\r\n\r\n        } else {\r\n\r\n            originalValue = null;\r\n\r\n        }\r\n\r\n        ObservableList&lt;String&gt; items = FXCollections.observableList(itemList);\r\n\r\n        cb.setItems(items);\r\n\r\n        cb.setValue(originalValue);\r\n\r\n        \r\n\r\n        cb.getEditor().requestFocus();\r\n\r\n    }\r\n\r\n    \r\n\r\n    @Override\r\n\r\n    public void end() {\r\n\r\n        cb.setOnKeyPressed(null);\r\n\r\n    }\r\n\r\n     @Override\r\n\r\n    public SearchableComboBox&lt;String&gt; getEditor() {\r\n\r\n        return cb;\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    public String getControlValue() {\r\n\r\n        return cb.getSelectionModel().getSelectedItem();\r\n\r\n }\r\n\r\n}\r\n\r\n```\r\n\r\nAt this point, we think the way to go is to catch some sort of KEY EVENT in the SpreadsheetCell but we are a bit clueless how to do it.\r\n\r\nAlso we think we should catch a KEY EVENT in the SearchableComboBox direclty but we are stuck there also.\r\n\r\nThis seems to be a minor bug but very important for user experience since users are going to enter a lot of data.","title":"How to directly show the TextEditor in SearchableCombobox inside a SpreadSheetView when entering characters?","body":"<p>I am working on a project where we use a SpreadSheetView component in the controlsfx library and we display a SearchableComboBox inside a SpreadSheetCell.</p>\n<p>Everything is working well expect when we go from a the previous cell to the next that contains a SearchableComboBox using the tab key and press some keys to search the searchablebox (Which should show an editable TextBox), that doesn't work unless we mouse click the component which is very time consuming especially when we want to enter multiple data/rows.</p>\n<p>Here are the classes and samples code we use:</p>\n<p><strong>- The Interface</strong></p>\n<p><a href=\"https://i.stack.imgur.com/RwFCT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RwFCT.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>- Instantiate the SpreadSheet</strong></p>\n<pre><code>\nvar sheet = new RowDetailsSpreadSheetView();\n\n</code></pre>\n<p>**- Creating a cell with SearchableComboBox **</p>\n<pre><code>\nvar types = new DetailsType(names);\n\n            cell = types.createCell(i, 1,\n\n                    1, 1, &quot;rabe&quot;);\n\n            \n\n            randomRow.add(\n\n                cell\n\n            );\n\n</code></pre>\n<p><strong>- class DetailsType</strong></p>\n<pre><code>\npublic class DetailsType extends SpreadsheetCellType&lt;String&gt; {\n\n     protected final List&lt;String&gt; items;\n\n    public DetailsType(final List&lt;String&gt; items) {\n\n        super(new DefaultStringConverter() {\n\n            @Override\n\n            public String fromString(String str) {\n\n                if (str != null &amp;&amp; items.contains(str)) {\n\n                    return str;\n\n                } else {\n\n                    return null;\n\n                }\n\n            }\n\n        });\n\n        this.items = items;\n\n    }\n\n    @Override\n\n    public String toString() {\n\n        return &quot;list&quot;; //$NON-NLS-1$\n\n    }\n\n    \n\n    public SpreadsheetCell createCell(final int row, final int column, final int rowSpan, final int columnSpan,\n\n            String value) {\n\n        SpreadsheetCell cell = new SpreadsheetCellBase(row, column, rowSpan, columnSpan, this);\n\n        if (items != null &amp;&amp; items.size() &gt; 0) {\n\n            if (value != null &amp;&amp; items.contains(value)) {\n\n                cell.setItem(value);\n\n            } else {\n\n                cell.setItem(items.get(0));\n\n            }\n\n        }\n\n        return cell;\n\n    }\n\n    @Override\n\n    public SpreadsheetCellEditor createEditor(SpreadsheetView view) {\n\n        return new ComboboxSphreadSheetEditor&lt;&gt;(view, items);\n\n    }\n\n    @Override\n\n    public boolean match(Object value, Object... options) {\n\n        if (value instanceof String &amp;&amp; items.contains(value.toString()))\n\n            return true;\n\n        else\n\n            return items.contains(value == null ? null : value.toString());\n\n    }\n\n    @Override\n\n    public String convertValue(Object value) {\n\n        return converter.fromString(value == null ? null : value.toString());\n\n    }\n\n    @Override\n\n    public String toString(String item) {\n\n        return converter.toString(item);\n\n    }\n\n}\n\n</code></pre>\n<p><strong>- Class ComboboxSphreadSheetEditor</strong></p>\n<pre><code>\npublic class ComboboxSphreadSheetEditor&lt;R&gt; extends SpreadsheetCellEditor {\n\n    private final List&lt;String&gt; itemList;\n\n    private final SearchableComboBox&lt;String&gt; cb;\n\n    private String originalValue;\n\n    \n\n    public ComboboxSphreadSheetEditor(SpreadsheetView view, final List&lt;String&gt; itemList) {\n\n        super(view);\n\n        this.itemList = itemList;\n\n        cb = new SearchableComboBox&lt;&gt;();\n\n        cb.setVisibleRowCount(5);\n\n        cb.show();\n\n    }\n\n    @Override\n\n    public void startEdit(Object value, String format, Object... os) {\n\n     if (value instanceof String) {\n\n                originalValue = value.toString();\n\n        } else {\n\n            originalValue = null;\n\n        }\n\n        ObservableList&lt;String&gt; items = FXCollections.observableList(itemList);\n\n        cb.setItems(items);\n\n        cb.setValue(originalValue);\n\n        \n\n        cb.getEditor().requestFocus();\n\n    }\n\n    \n\n    @Override\n\n    public void end() {\n\n        cb.setOnKeyPressed(null);\n\n    }\n\n     @Override\n\n    public SearchableComboBox&lt;String&gt; getEditor() {\n\n        return cb;\n\n    }\n\n    @Override\n\n    public String getControlValue() {\n\n        return cb.getSelectionModel().getSelectedItem();\n\n }\n\n}\n\n</code></pre>\n<p>At this point, we think the way to go is to catch some sort of KEY EVENT in the SpreadsheetCell but we are a bit clueless how to do it.</p>\n<p>Also we think we should catch a KEY EVENT in the SearchableComboBox direclty but we are stuck there also.</p>\n<p>This seems to be a minor bug but very important for user experience since users are going to enter a lot of data.</p>\n"},{"tags":["java","multithreading","executorservice","threadgroup"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687537936,"post_id":76541414,"comment_id":134956094,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687540790,"creation_date":1687540381,"answer_id":76542240,"question_id":76541414,"body_markdown":"&gt; I have to make sure that only one thread should act on a bankAccountId at a time\r\n\r\nThe obvious way to do that would be to have threads `synchronized` on some lock object that is associated with an account whenever they are doing something to the account that should only be allowed by one thread at a time.\r\n\r\n&gt; I tried using semaphore...\r\n\r\nThat&#39;s classic. You don&#39;t often see `Semaphore` used for mutual exclusion today—we normally use something called &quot;mutex&quot; or [`Lock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html)—but once upon a time, it was quite common. Typically one would use a _binary_ semaphore for that purpose. That is, a `Semaphore` whose [`availablePermits`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#availablePermits()) is only ever allowed to be `1` or `0`.\r\n\r\n**Q:** You say you &quot;tried.&quot; Perhaps you could update your answer to say what happened when you tried, and why it wasn&#39;t satisfactory.\r\n\r\n---------------\r\n\r\nThe rest of this probably won&#39;t help you solve your problem, but since you asked...\r\n\r\n&gt; ...and thread group\r\n\r\nIt&#39;s unclear to me how [`ThreadGroup`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html) would be of any help. `ThreadGroup` has a lot of deprecated methods these days. Probably the most useful of the methods that are left is the one that allows your program to [`interrupt`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html#interrupt()) all of the threads in the group with a single method call.\r\n\r\n&gt; there doesn’t seems to be a direct way of assigning thread groups to executor service\r\n\r\nA `ThreadPoolExecutor` uses a [`ThreadFactory`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html) to create its worker threads, and you can provide your own `ThreadFactory` instance when you [construct the executor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory)). Your thread factory can assign the new threads to whatever `ThreadGroup`, set their priorities, or do whatever else you want to do to them before it hands them over to the executor service.","title":"How to group threads to be run by each executor thread","body":"<blockquote>\n<p>I have to make sure that only one thread should act on a bankAccountId at a time</p>\n</blockquote>\n<p>The obvious way to do that would be to have threads <code>synchronized</code> on some lock object that is associated with an account whenever they are doing something to the account that should only be allowed by one thread at a time.</p>\n<blockquote>\n<p>I tried using semaphore...</p>\n</blockquote>\n<p>That's classic. You don't often see <code>Semaphore</code> used for mutual exclusion today—we normally use something called &quot;mutex&quot; or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\"><code>Lock</code></a>—but once upon a time, it was quite common. Typically one would use a <em>binary</em> semaphore for that purpose. That is, a <code>Semaphore</code> whose <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#availablePermits()\" rel=\"nofollow noreferrer\"><code>availablePermits</code></a> is only ever allowed to be <code>1</code> or <code>0</code>.</p>\n<p><strong>Q:</strong> You say you &quot;tried.&quot; Perhaps you could update your answer to say what happened when you tried, and why it wasn't satisfactory.</p>\n<hr />\n<p>The rest of this probably won't help you solve your problem, but since you asked...</p>\n<blockquote>\n<p>...and thread group</p>\n</blockquote>\n<p>It's unclear to me how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\"><code>ThreadGroup</code></a> would be of any help. <code>ThreadGroup</code> has a lot of deprecated methods these days. Probably the most useful of the methods that are left is the one that allows your program to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html#interrupt()\" rel=\"nofollow noreferrer\"><code>interrupt</code></a> all of the threads in the group with a single method call.</p>\n<blockquote>\n<p>there doesn’t seems to be a direct way of assigning thread groups to executor service</p>\n</blockquote>\n<p>A <code>ThreadPoolExecutor</code> uses a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html\" rel=\"nofollow noreferrer\"><code>ThreadFactory</code></a> to create its worker threads, and you can provide your own <code>ThreadFactory</code> instance when you <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html#%3Cinit%3E(int,int,long,java.util.concurrent.TimeUnit,java.util.concurrent.BlockingQueue,java.util.concurrent.ThreadFactory)\" rel=\"nofollow noreferrer\">construct the executor</a>. Your thread factory can assign the new threads to whatever <code>ThreadGroup</code>, set their priorities, or do whatever else you want to do to them before it hands them over to the executor service.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552134,"creation_date":1690552134,"answer_id":76788416,"question_id":76541414,"body_markdown":"The scenario seems similar as mentioned in [other question](https://stackoverflow.com/questions/76631561/allowing-a-single-thread-to-use-a-long-value/76737843#76737843)\r\n\r\nMultiple threads can work in parallel without stepping on other thread’s bankAccountId","title":"How to group threads to be run by each executor thread","body":"<p>The scenario seems similar as mentioned in <a href=\"https://stackoverflow.com/questions/76631561/allowing-a-single-thread-to-use-a-long-value/76737843#76737843\">other question</a></p>\n<p>Multiple threads can work in parallel without stepping on other thread’s bankAccountId</p>\n"}],"owner":{"account_id":27713255,"reputation":3,"user_id":21155493,"display_name":"ARIJIT SAHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690552134,"creation_date":1687533182,"question_id":76541414,"body_markdown":"I have a requirement in Java where let’s say I have multiple bankAccountId’s and there could be multiple threads working on each bankAccountId at a time. I have to make sure that only one thread should act on a bankAccountId at a time but at the same time other threads can work on different bankAccountId. I am currently using executor service to run a fixed amount of thread pool.\r\n\r\nI tried using semaphore and thread group but there doesn’t seems to be a direct way of assigning thread groups to executor service ","title":"How to group threads to be run by each executor thread","body":"<p>I have a requirement in Java where let’s say I have multiple bankAccountId’s and there could be multiple threads working on each bankAccountId at a time. I have to make sure that only one thread should act on a bankAccountId at a time but at the same time other threads can work on different bankAccountId. I am currently using executor service to run a fixed amount of thread pool.</p>\n<p>I tried using semaphore and thread group but there doesn’t seems to be a direct way of assigning thread groups to executor service</p>\n"},{"tags":["java","docker","apache-kafka","apache-kafka-connect","logback"],"answers":[{"comments":[{"owner":{"account_id":911208,"reputation":7563,"user_id":945034,"accept_rate":57,"display_name":"Kumar Sambhav"},"score":0,"creation_date":1690513862,"post_id":76754926,"comment_id":135367563,"body_markdown":"This seems like good solution. Any idea how can I achieve something similar while using `confluentinc/cp-server-connect`  as my base image","body":"This seems like good solution. Any idea how can I achieve something similar while using <code>confluentinc&#47;cp-server-connect</code>  as my base image"},{"owner":{"account_id":911208,"reputation":7563,"user_id":945034,"accept_rate":57,"display_name":"Kumar Sambhav"},"score":0,"creation_date":1690516159,"post_id":76754926,"comment_id":135367718,"body_markdown":"&quot;Logstash can parse regular Kafka Connect.....&quot; - I am not using Logstash. that library has no dependency on logstash as such, it simply generates logs in json format.. which can be used with / without logstash in picture. in my case logs gets ingested to Azure log analytics..","body":"&quot;Logstash can parse regular Kafka Connect.....&quot; - I am not using Logstash. that library has no dependency on logstash as such, it simply generates logs in json format.. which can be used with / without logstash in picture. in my case logs gets ingested to Azure log analytics.."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1690551642,"post_id":76754926,"comment_id":135373738,"body_markdown":"Log4j2 also has json encoder pattern. The Confluent images are preloaded with reload4j, and cannot easily be modified to use logback without breaking internal components and scripts. That&#39;s why I built my own and recompiled without other logging libraries... Azure log analytics should be able to understand Java stacktraces and logs, too","body":"Log4j2 also has json encoder pattern. The Confluent images are preloaded with reload4j, and cannot easily be modified to use logback without breaking internal components and scripts. That&#39;s why I built my own and recompiled without other logging libraries... Azure log analytics should be able to understand Java stacktraces and logs, too"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690551965,"creation_date":1690204853,"answer_id":76754926,"question_id":76751319,"body_markdown":"Kafka uses reload4j now, rather than log4j 1.x explicitly. There are classes and configuration scripts that have that hard coded, so simply replacing logging libraries isn&#39;t as simple as swapping jars out.\r\n\r\nIn the image that I maintain, I use log4j2 https://github.com/OneCricketeer/apache-kafka-connect-docker\r\n\r\n&gt; hoping to use logstash-logback-encoder for formatting log messages.\r\n\r\nReload4j PatternLayout can format messages too ","title":"Replace Log4j with Logback in Kafka Connect","body":"<p>Kafka uses reload4j now, rather than log4j 1.x explicitly. There are classes and configuration scripts that have that hard coded, so simply replacing logging libraries isn't as simple as swapping jars out.</p>\n<p>In the image that I maintain, I use log4j2 <a href=\"https://github.com/OneCricketeer/apache-kafka-connect-docker\" rel=\"nofollow noreferrer\">https://github.com/OneCricketeer/apache-kafka-connect-docker</a></p>\n<blockquote>\n<p>hoping to use logstash-logback-encoder for formatting log messages.</p>\n</blockquote>\n<p>Reload4j PatternLayout can format messages too</p>\n"}],"owner":{"account_id":911208,"reputation":7563,"user_id":945034,"accept_rate":57,"display_name":"Kumar Sambhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690551965,"creation_date":1690170970,"question_id":76751319,"body_markdown":"I am currently using [confluentinc/cp-server-connect][1] as ase Docker image for my Kafka Connect Worker nodes. I want to substitute Log4j 1.x with Logback. Reason - [KIP-653][2] not available yet and also I am hoping to use `logstash-logback-encoder` for formatting log messages.\r\n\r\n**Problem** : How to do it ? What changes in mentioned base image should be required if it&#39;s possible at all.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/confluentinc/cp-server-connect/tags\r\n  [2]: https://cwiki.apache.org/confluence/display/KAFKA/KIP-653%3A+Upgrade+log4j+to+log4j2","title":"Replace Log4j with Logback in Kafka Connect","body":"<p>I am currently using <a href=\"https://hub.docker.com/r/confluentinc/cp-server-connect/tags\" rel=\"nofollow noreferrer\">confluentinc/cp-server-connect</a> as ase Docker image for my Kafka Connect Worker nodes. I want to substitute Log4j 1.x with Logback. Reason - <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-653%3A+Upgrade+log4j+to+log4j2\" rel=\"nofollow noreferrer\">KIP-653</a> not available yet and also I am hoping to use <code>logstash-logback-encoder</code> for formatting log messages.</p>\n<p><strong>Problem</strong> : How to do it ? What changes in mentioned base image should be required if it's possible at all.</p>\n"},{"tags":["java","csv","file","parsing","ioexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639479798,"post_id":70347745,"comment_id":124353573,"body_markdown":"Have a look at the offending line and fix it?","body":"Have a look at the offending line and fix it?"},{"owner":{"account_id":5163047,"reputation":189,"user_id":4134048,"display_name":"Aref Khandan"},"score":0,"creation_date":1639480004,"post_id":70347745,"comment_id":124353649,"body_markdown":"you need to clean and validate your data before parsing.","body":"you need to clean and validate your data before parsing."},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639480094,"post_id":70347745,"comment_id":124353686,"body_markdown":"@tgdavies I Can&#39;t modify the file","body":"@tgdavies I Can&#39;t modify the file"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480203,"post_id":70347745,"comment_id":124353735,"body_markdown":"At least look at that line and understand why the field is unterminated. Is it something unusual in the way quotes are escaped?","body":"At least look at that line and understand why the field is unterminated. Is it something unusual in the way quotes are escaped?"},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639480496,"post_id":70347745,"comment_id":124353838,"body_markdown":"there&#39;s a field like this &quot; something ; something&quot;.","body":"there&#39;s a field like this &quot; something ; something&quot;."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480891,"post_id":70347745,"comment_id":124353970,"body_markdown":"Which CSV parser are you using, and how is it configured? What&#39;s the text of the entire line?","body":"Which CSV parser are you using, and how is it configured? What&#39;s the text of the entire line?"},{"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"score":0,"creation_date":1639481216,"post_id":70347745,"comment_id":124354069,"body_markdown":"I&#39;m using com.opencsv.CSVParser and and have not set any configuration. I suppose there are default configurations.","body":"I&#39;m using com.opencsv.CSVParser and and have not set any configuration. I suppose there are default configurations."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690551908,"creation_date":1639484634,"answer_id":70348835,"question_id":70347745,"body_markdown":"CSV is IMHO the most worst data storage format ever but widely used. And there is defnitly NO standard nor common unterstanding ...\r\n\r\nFirst, analyze your input file and find out what structure is used:\r\nComa, semicolon, e.t.c as field delimiter. Quoted fields, quoting character, e.t.c.\r\n\r\nSecond, make sure that there are NO format violations like unquoted filed contains a separation character as literal character or unescaped quoting characters in a field. Especially try to find that line(s) that violate the structure.\r\n\r\nThird set the correct options to the CSV parser. \r\n\r\nIf you have format violations in the file you eigther can try to improve production / export of the file to produce a valid CSV format (if you know the producer and have access to him) or preprocess it with a tool which is able to detect and correct format violations (some kind of a magic crystal ball). ","title":"Unterminated quoted field at end of CSV line. Beginning of lost text","body":"<p>CSV is IMHO the most worst data storage format ever but widely used. And there is defnitly NO standard nor common unterstanding ...</p>\n<p>First, analyze your input file and find out what structure is used:\nComa, semicolon, e.t.c as field delimiter. Quoted fields, quoting character, e.t.c.</p>\n<p>Second, make sure that there are NO format violations like unquoted filed contains a separation character as literal character or unescaped quoting characters in a field. Especially try to find that line(s) that violate the structure.</p>\n<p>Third set the correct options to the CSV parser.</p>\n<p>If you have format violations in the file you eigther can try to improve production / export of the file to produce a valid CSV format (if you know the producer and have access to him) or preprocess it with a tool which is able to detect and correct format violations (some kind of a magic crystal ball).</p>\n"}],"owner":{"account_id":22111393,"reputation":45,"user_id":16366214,"display_name":"Tony Agosta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690551908,"creation_date":1639479506,"question_id":70347745,"body_markdown":"I&#39;m trying to parse a CSV file with CSV Reader. the file is very large and I cannot modify it in any way, as I am not the one who created it.\r\n```\r\nFileReader fileReader = new FileReader(nameFile);\r\n   CSVParser csvParser = getCSVParser();\r\n   CSVReader csvReader = getCSVReader(fileReader, csvParser);\r\n   if (csvReader != null) {\r\n      List&lt;String[]&gt; allData = csvReader.readAll();\r\n              ...\r\n   }\r\n```\r\n```csvReader.readALL()``` throws the IOException:Unterminated quoted field at end of CSV line. Beginning of lost text:...\r\nHow I can solve it?","title":"Unterminated quoted field at end of CSV line. Beginning of lost text","body":"<p>I'm trying to parse a CSV file with CSV Reader. the file is very large and I cannot modify it in any way, as I am not the one who created it.</p>\n<pre><code>FileReader fileReader = new FileReader(nameFile);\n   CSVParser csvParser = getCSVParser();\n   CSVReader csvReader = getCSVReader(fileReader, csvParser);\n   if (csvReader != null) {\n      List&lt;String[]&gt; allData = csvReader.readAll();\n              ...\n   }\n</code></pre>\n<p><code>csvReader.readALL()</code> throws the IOException:Unterminated quoted field at end of CSV line. Beginning of lost text:...\nHow I can solve it?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3583737,"reputation":186,"user_id":8058386,"display_name":"Vincent"},"score":0,"creation_date":1692459914,"post_id":76788312,"comment_id":135627635,"body_markdown":"I can&#39;t reproduce the problem given the `build.gradle` file you provided. Moreover, I did not manage to have task `assembleFrontend` be executed with command `gradle build` since the plugin has not been configured in the build script (`frontend` block is missing and `assembleScript` property is not defined).\n\nCan you provide a minimal project to help reproducing the problem?","body":"I can&#39;t reproduce the problem given the <code>build.gradle</code> file you provided. Moreover, I did not manage to have task <code>assembleFrontend</code> be executed with command <code>gradle build</code> since the plugin has not been configured in the build script (<code>frontend</code> block is missing and <code>assembleScript</code> property is not defined).  Can you provide a minimal project to help reproducing the problem?"}],"owner":{"account_id":9720194,"reputation":135,"user_id":7209175,"accept_rate":75,"display_name":"SimonA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690551258,"creation_date":1690551258,"question_id":76788312,"body_markdown":"I&#39;m trying to use `frontend-gradle-plugin` to package up my React frontend project to use with Springboot. I cannot seem to get the dependency to download from the repo, and it&#39;s causing a missing file exception due to it not existing.\r\n\r\nHere is my `build.gradle`\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.1&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\t// For JDK 17+\r\n\tid &#39;org.siouan.frontend-jdk17&#39; version &#39;7.0.0&#39;\r\n}\r\n\r\ngroup = &#39;uk.co.&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n\timplementation &#39;org.postgresql:postgresql&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf\r\n//\timplementation group: &#39;org.thymeleaf&#39;, name: &#39;thymeleaf&#39;, version: &#39;2.0.5&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nException;\r\n    \r\n\r\n    $ gradle build\r\n    \r\n    &gt; Configure project :\r\n    in build.gradle\r\n    In frontend build.gradle code block\r\n    \r\n    &gt; Task :assembleFrontend FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:assembleFrontend&#39;.\r\n    &gt; Failed to query the value of task &#39;:assembleFrontend&#39; property &#39;executableType&#39;.\r\n       &gt; java.nio.file.NoSuchFileException: /home/****/IdeaProjects/StarTrekSpellingWebApp/star-trek-spelling-game/.frontend-gradle-plugin/resolvePackageManager/package-manager-specification.txt\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    2\r\n\r\n    actionable tasks: 1 executed, 1 up-to-date\r\n\r\n\r\nI&#39;ve tried using a `buildscript` block in `build.gradle` but every repository I use could not be found\r\n\r\n```gradle\r\nbuildscript {\r\n\trepositories {\r\n\t\tmaven {\r\n\t\t\turl &#39;https://plugins.gradle.org/m2/&#39;\r\n\t\t\tname &#39;Gradle&#39;\r\n\t\t}\r\n\r\n//\t\tmaven {\r\n//\t\t\turl &#39;https://maven.google.com/&#39;\r\n//\t\t\tname &#39;Google&#39;\r\n//\t\t}\r\n//\t\tgoogle()\r\n//\t\tjcenter()\r\n\t}\r\n\tdependencies {\r\n\t\t// For JDK 17+\r\n//\t\tclasspath &#39;org.siouan:frontend-gradle-plugin-jdk17:7.0.0&#39;\r\n\t\t// For JDK 11+\r\n\t\tclasspath &#39;org.siouan:frontend-gradle-plugin-jdk11:7.0.0&#39;\r\n\t}\r\n}\r\n```\r\nException;\r\n\r\n    A problem occurred configuring root project &#39;star-trek-spelling-game&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n       &gt; Could not find org.siouan:frontend-gradle-plugin-jdk11:7.0.0.\r\n         Searched in the following locations:\r\n           - https://plugins.gradle.org/m2/org/siouan/frontend-gradle-plugin-jdk11/7.0.0/frontend-gradle-plugin-jdk11-7.0.0.pom\r\n         If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n         Required by:\r\n             project :","title":"Building project with Gradle results in NoSuchFileException as hidden folder is missing from declared plugin &#39;org.siouan.frontend-jdk17&#39;","body":"<p>I'm trying to use <code>frontend-gradle-plugin</code> to package up my React frontend project to use with Springboot. I cannot seem to get the dependency to download from the repo, and it's causing a missing file exception due to it not existing.</p>\n<p>Here is my <code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n    // For JDK 17+\n    id 'org.siouan.frontend-jdk17' version '7.0.0'\n}\n\ngroup = 'uk.co.'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    implementation 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf\n//  implementation group: 'org.thymeleaf', name: 'thymeleaf', version: '2.0.5'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Exception;</p>\n<pre><code>$ gradle build\n\n&gt; Configure project :\nin build.gradle\nIn frontend build.gradle code block\n\n&gt; Task :assembleFrontend FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':assembleFrontend'.\n&gt; Failed to query the value of task ':assembleFrontend' property 'executableType'.\n   &gt; java.nio.file.NoSuchFileException: /home/****/IdeaProjects/StarTrekSpellingWebApp/star-trek-spelling-game/.frontend-gradle-plugin/resolvePackageManager/package-manager-specification.txt\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n2\n\nactionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>I've tried using a <code>buildscript</code> block in <code>build.gradle</code> but every repository I use could not be found</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url 'https://plugins.gradle.org/m2/'\n            name 'Gradle'\n        }\n\n//      maven {\n//          url 'https://maven.google.com/'\n//          name 'Google'\n//      }\n//      google()\n//      jcenter()\n    }\n    dependencies {\n        // For JDK 17+\n//      classpath 'org.siouan:frontend-gradle-plugin-jdk17:7.0.0'\n        // For JDK 11+\n        classpath 'org.siouan:frontend-gradle-plugin-jdk11:7.0.0'\n    }\n}\n</code></pre>\n<p>Exception;</p>\n<pre><code>A problem occurred configuring root project 'star-trek-spelling-game'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find org.siouan:frontend-gradle-plugin-jdk11:7.0.0.\n     Searched in the following locations:\n       - https://plugins.gradle.org/m2/org/siouan/frontend-gradle-plugin-jdk11/7.0.0/frontend-gradle-plugin-jdk11-7.0.0.pom\n     If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n     Required by:\n         project :\n</code></pre>\n"},{"tags":["java","binary","hex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690543626,"post_id":76787347,"comment_id":135372142,"body_markdown":"There&#39;s info missing. For instance, the *type* of &quot;number&quot; makes a difference. Is it `byte` or `int` or what? Missing context. What are you trying to do?","body":"There&#39;s info missing. For instance, the <i>type</i> of &quot;number&quot; makes a difference. Is it <code>byte</code> or <code>int</code> or what? Missing context. What are you trying to do?"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690543846,"post_id":76787347,"comment_id":135372186,"body_markdown":"I&#39;m trying to figure out what is the most significant bit of a particular number represented in hexadecimal number system.\n\nSuppose the type is `int`, although I don&#39;t see how it&#39;s important.","body":"I&#39;m trying to figure out what is the most significant bit of a particular number represented in hexadecimal number system.  Suppose the type is <code>int</code>, although I don&#39;t see how it&#39;s important."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690544198,"post_id":76787347,"comment_id":135372240,"body_markdown":"Let&#39;s take `byte` to keep it simple. Anything &gt;= hex value `0x80` will have the most significant bit set. And that will make the `byte`&#39;s value negative. So if you take say `0x7F`, you will know it&#39;s *not* set","body":"Let&#39;s take <code>byte</code> to keep it simple. Anything &gt;= hex value <code>0x80</code> will have the most significant bit set. And that will make the <code>byte</code>&#39;s value negative. So if you take say <code>0x7F</code>, you will know it&#39;s <i>not</i> set"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690544829,"post_id":76787347,"comment_id":135372342,"body_markdown":"Well, I still don&#39;t understand what you want but it sounds like a masking exercise. Please show some input examples and expected output.","body":"Well, I still don&#39;t understand what you want but it sounds like a masking exercise. Please show some input examples and expected output."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690545000,"post_id":76787347,"comment_id":135372373,"body_markdown":"OK, so I should look at hex representation of type&#39;s maxvalue and then reduce it by one. I think I got it.\n\nThanks, g00se.","body":"OK, so I should look at hex representation of type&#39;s maxvalue and then reduce it by one. I think I got it.  Thanks, g00se."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690545168,"post_id":76787347,"comment_id":135372402,"body_markdown":"Not *quite*. Since all types are signed apart from `char`, the max value doesn&#39;t have the bit set. If you want it unset then it&#39;s &lt;= MAX_VALUE. But all values &lt; 0 *also* have the most sig. bit set","body":"Not <i>quite</i>. Since all types are signed apart from <code>char</code>, the max value doesn&#39;t have the bit set. If you want it unset then it&#39;s &lt;= MAX_VALUE. But all values &lt; 0 <i>also</i> have the most sig. bit set"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690546931,"post_id":76787347,"comment_id":135372720,"body_markdown":"Yeah, I know, of course, that absolute MSB is set for all negative numbers. But I think the book meant the bit next-to-the-right of absolute MSB.","body":"Yeah, I know, of course, that absolute MSB is set for all negative numbers. But I think the book meant the bit next-to-the-right of absolute MSB."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690547194,"post_id":76787347,"comment_id":135372782,"body_markdown":"&quot;the max value doesn&#39;t have the bit set&quot;\n\n\nWait, let&#39;s take your 0x7F as byte&#39;s maxvalue. It&#39;s clear that its MSB will be 1, because max value &quot;fills&quot; all bits apart from sign bits with ones.\n\nFor `int` it&#39;s the same: binary representation of 2147483647 is 1111111111111111111111111111111. So MSB is also 1.\n\nAnyways, isn&#39;t maxvalue of all integer types all ones?\n\n@g00se @user16320675","body":"&quot;the max value doesn&#39;t have the bit set&quot;   Wait, let&#39;s take your 0x7F as byte&#39;s maxvalue. It&#39;s clear that its MSB will be 1, because max value &quot;fills&quot; all bits apart from sign bits with ones.  For <code>int</code> it&#39;s the same: binary representation of 2147483647 is 1111111111111111111111111111111. So MSB is also 1.  Anyways, isn&#39;t maxvalue of all integer types all ones?  @g00se @user16320675"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690549292,"post_id":76787347,"comment_id":135373211,"body_markdown":"I don&#39;t know what the book means but using the term &quot;most significant bit&quot; in an alternative way would be inclined to confuse","body":"I don&#39;t know what the book means but using the term &quot;most significant bit&quot; in an alternative way would be inclined to confuse"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690550447,"post_id":76787347,"comment_id":135373461,"body_markdown":"OK, so post a response so I can choose your reply as the best and close the question. @g00se","body":"OK, so post a response so I can choose your reply as the best and close the question. @g00se"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690641324,"post_id":76787347,"comment_id":135383489,"body_markdown":"Well, under MSB I don&#39;t mean sign bit, which is obviously zero for all positive integer numbers. And that is 1 for all negative numbers. That&#39;s always clear.\n\nI mean the-next-to-MSB bit...\n\n@user16320675","body":"Well, under MSB I don&#39;t mean sign bit, which is obviously zero for all positive integer numbers. And that is 1 for all negative numbers. That&#39;s always clear.  I mean the-next-to-MSB bit...  @user16320675"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690641755,"post_id":76787347,"comment_id":135383535,"body_markdown":"@user16320675 Yeah, I&#39;m sorry, but it&#39;s just clear for me that the bit mentioned in the book is next-to-the-right-from-MSB. :)","body":"@user16320675 Yeah, I&#39;m sorry, but it&#39;s just clear for me that the bit mentioned in the book is next-to-the-right-from-MSB. :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690656345,"post_id":76787347,"comment_id":135385088,"body_markdown":"No, if it&#39;s Exercise 11, Eckel *literally* means the MSB. For fun, try it with `Integer.MIN_VALUE`","body":"No, if it&#39;s Exercise 11, Eckel <i>literally</i> means the MSB. For fun, try it with <code>Integer.MIN_VALUE</code>"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690877354,"post_id":76787347,"comment_id":135410654,"body_markdown":"@g00se Then why he says like &quot;FIND a number whose MSB is 1&quot;??? It&#39;s clear that it&#39;s just any negative number. And you don&#39;t need hex constants for this.","body":"@g00se Then why he says like &quot;FIND a number whose MSB is 1&quot;??? It&#39;s clear that it&#39;s just any negative number. And you don&#39;t need hex constants for this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690879781,"post_id":76787347,"comment_id":135411191,"body_markdown":"&quot;Find&quot; would essentially mean &quot;pick&quot; or &quot;choose&quot;. I haven&#39;t read on (I just had a quick look) but he will probably discuss the difference between `&gt;&gt;` and `&gt;&gt;&gt;`. For fun, check the output of `Integer.MIN_VALUE &gt;&gt; 1` and its almost comical difference between `Integer.MIN_VALUE &gt;&gt;&gt; 1`","body":"&quot;Find&quot; would essentially mean &quot;pick&quot; or &quot;choose&quot;. I haven&#39;t read on (I just had a quick look) but he will probably discuss the difference between <code>&gt;&gt;</code> and <code>&gt;&gt;&gt;</code>. For fun, check the output of <code>Integer.MIN_VALUE &gt;&gt; 1</code> and its almost comical difference between <code>Integer.MIN_VALUE &gt;&gt;&gt; 1</code>"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1690923506,"post_id":76787347,"comment_id":135419996,"body_markdown":"@g00se\n\nI&#39;m sorry, I haven&#39;t ran Eclipse, but it seems to me that `Integer.MIN_VALUE &gt;&gt; 1` will change nothing while `Integer.MIN_VALUE &gt;&gt;&gt; 1` will make minimum negative integer maximum positive integer...","body":"@g00se  I&#39;m sorry, I haven&#39;t ran Eclipse, but it seems to me that <code>Integer.MIN_VALUE &gt;&gt; 1</code> will change nothing while <code>Integer.MIN_VALUE &gt;&gt;&gt; 1</code> will make minimum negative integer maximum positive integer..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923650,"post_id":76787347,"comment_id":135420030,"body_markdown":"Well if that&#39;s what you think, you&#39;d better find out if you&#39;re right ;)","body":"Well if that&#39;s what you think, you&#39;d better find out if you&#39;re right ;)"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1691040226,"post_id":76787347,"comment_id":135437431,"body_markdown":"@g00se On, now I checked. I thought `Integer.MIN_VALUE` is `1111111111111111111111111111111`, but it&#39;s actually `10000000000000000000000000000000`\n\nLol.","body":"@g00se On, now I checked. I thought <code>Integer.MIN_VALUE</code> is <code>1111111111111111111111111111111</code>, but it&#39;s actually <code>10000000000000000000000000000000</code>  Lol."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690551046,"creation_date":1690551046,"answer_id":76788284,"question_id":76787347,"body_markdown":"For integral types, you will know the most significant bit is set when:\r\n1. The number is negative\r\n2. The number exceeds the `MAX_VALUE` attribute of the object wrapper class of your primitive type\r\n\r\nFor the purposes of the above, I exclude `char` since its function is not normally one of manipulating numbers in a normal way","title":"Determining bits of non-binary represented numbers","body":"<p>For integral types, you will know the most significant bit is set when:</p>\n<ol>\n<li>The number is negative</li>\n<li>The number exceeds the <code>MAX_VALUE</code> attribute of the object wrapper class of your primitive type</li>\n</ol>\n<p>For the purposes of the above, I exclude <code>char</code> since its function is not normally one of manipulating numbers in a normal way</p>\n"}],"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76788284,"answer_count":1,"score":-3,"last_activity_date":1690551046,"creation_date":1690543396,"question_id":76787347,"body_markdown":"I&#39;m reading &quot;Thinking in Java&quot;, and there I read:\r\n\r\n&quot;Start with a number that has a binary one in the most significant position (hint: Use a hexadecimal constant).&quot;\r\n\r\nHow can I know (without Google and without trying to represent some hex constants in binary system) which hexadecimal constant have which bits? Either it&#39;s most significant or some other bits.\r\n\r\nThe book assumes that for this exercise I should try out hex constants before I find one whose most significant bit is 1?\r\n\r\nOr there is some shortcut?\r\n\r\nI tried to think of a shortcut/way of knowing how to figure out what value has most significant bit of a hex constant...","title":"Determining bits of non-binary represented numbers","body":"<p>I'm reading &quot;Thinking in Java&quot;, and there I read:</p>\n<p>&quot;Start with a number that has a binary one in the most significant position (hint: Use a hexadecimal constant).&quot;</p>\n<p>How can I know (without Google and without trying to represent some hex constants in binary system) which hexadecimal constant have which bits? Either it's most significant or some other bits.</p>\n<p>The book assumes that for this exercise I should try out hex constants before I find one whose most significant bit is 1?</p>\n<p>Or there is some shortcut?</p>\n<p>I tried to think of a shortcut/way of knowing how to figure out what value has most significant bit of a hex constant...</p>\n"},{"tags":["java","jmeter"],"answers":[{"comments":[{"owner":{"account_id":254833,"reputation":465,"user_id":534495,"accept_rate":57,"display_name":"sorin.silaghi"},"score":0,"creation_date":1690553477,"post_id":76788241,"comment_id":135374177,"body_markdown":"You are correct, thank you for the help.","body":"You are correct, thank you for the help."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690550711,"creation_date":1690550711,"answer_id":76788241,"question_id":76788171,"body_markdown":"You don&#39;t need to do anything special, just make sure that your `${userAge}` variable exists and has its respective value, you can do it using [Debug Sampler and View Results Tree listener combination][1]. \r\n\r\nYou also need to add a comma after `name` attribute otherwise your [JSON will not be valid][2]. \r\n\r\n\t{\r\n\t  &quot;name&quot;: &quot;${userName}&quot;,\r\n\t  &quot;age&quot;: ${userAge}\r\n\t}\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/debug-jmeter\r\n  [2]: https://jsonlint.com/\r\n  [3]: https://i.stack.imgur.com/fzopN.gif","title":"JMeter using numeric variable in JSON request body","body":"<p>You don't need to do anything special, just make sure that your <code>${userAge}</code> variable exists and has its respective value, you can do it using <a href=\"https://www.blazemeter.com/blog/debug-jmeter\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener combination</a>.</p>\n<p>You also need to add a comma after <code>name</code> attribute otherwise your <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSON will not be valid</a>.</p>\n<pre><code>{\n  &quot;name&quot;: &quot;${userName}&quot;,\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fzopN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzopN.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":254833,"reputation":465,"user_id":534495,"accept_rate":57,"display_name":"sorin.silaghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788241,"answer_count":1,"score":0,"last_activity_date":1690550711,"creation_date":1690550132,"question_id":76788171,"body_markdown":"When making a request with a JSON body, the string variables are replaced as expected but not the numeric ones. For the example below:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;${userName}&quot;\r\n  &quot;age&quot;: ${userAge}\r\n}\r\n```\r\n\r\nThis is what reaches the server:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;My Name&quot;\r\n  &quot;age&quot;: ${userAge}\r\n}\r\n```\r\n\r\nWhat do I need to do in order to get the variable replaced with the number as I&#39;m expecting?\r\n","title":"JMeter using numeric variable in JSON request body","body":"<p>When making a request with a JSON body, the string variables are replaced as expected but not the numeric ones. For the example below:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;${userName}&quot;\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p>This is what reaches the server:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;My Name&quot;\n  &quot;age&quot;: ${userAge}\n}\n</code></pre>\n<p>What do I need to do in order to get the variable replaced with the number as I'm expecting?</p>\n"},{"tags":["java","azure","azure-resource-manager"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1569506151,"post_id":58116180,"comment_id":102625713,"body_markdown":"I think it needs delegated permissions to like Azure Service Management API or something similar. I&#39;m on my phone now so can&#39;t really check the exact one.","body":"I think it needs delegated permissions to like Azure Service Management API or something similar. I&#39;m on my phone now so can&#39;t really check the exact one."},{"owner":{"account_id":15855038,"reputation":17875,"user_id":11439664,"display_name":"Mengdi Liang"},"score":0,"creation_date":1569598099,"post_id":58116180,"comment_id":102661481,"body_markdown":"This seems relevant with application permission instead of ARM permission. Refer to this screenshot: https://imgur.com/a/G4QlNqU . Go AAD-&gt;Enterprise applications-&gt;search the application you created then go-&gt;Permission-&gt;Click the button **Grant admin constent for microsoft** to grant your application the admin consent.","body":"This seems relevant with application permission instead of ARM permission. Refer to this screenshot: <a href=\"https://imgur.com/a/G4QlNqU\" rel=\"nofollow noreferrer\">imgur.com/a/G4QlNqU</a> . Go AAD-&gt;Enterprise applications-&gt;search the application you created then go-&gt;Permission-&gt;Click the button <b>Grant admin constent for microsoft</b> to grant your application the admin consent."},{"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"score":0,"creation_date":1569838095,"post_id":58116180,"comment_id":102713032,"body_markdown":"I am aware this is an application permission. Which I need to know is which permissions are required for executing REST API to ARM module\nCurrently the application has the following perissions which I set based on the Microsoft Graph REST API Documentation.\nAuditLog.Read.All\nDirectory.AccessAsUser.All\nDirectory.Read.All\nPolicy.Read.All\nSecurityEvents.Read.All\nEx: For read/list users https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http you have the permissions at the beginning in the Permissions Section","body":"I am aware this is an application permission. Which I need to know is which permissions are required for executing REST API to ARM module Currently the application has the following perissions which I set based on the Microsoft Graph REST API Documentation. AuditLog.Read.All Directory.AccessAsUser.All Directory.Read.All Policy.Read.All SecurityEvents.Read.All Ex: For read/list users <a href=\"https://learn.microsoft.com/en-us/graph/api/user-list?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/api/&hellip;</a> you have the permissions at the beginning in the Permissions Section"},{"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"score":0,"creation_date":1569838113,"post_id":58116180,"comment_id":102713038,"body_markdown":"However for the REST API to the ARM Module (https://management.azure.com) the permissions are not listed on the available documentation\nEx: For read/list tenants https://learn.microsoft.com/es-es/rest/api/resources/tenants/list you do not have the permissions section\nThe error is only display for REST API queries to Management Module, to the Microsoft Graph one I can connect and retrieve data as expected based on the permissions listed above","body":"However for the REST API to the ARM Module (<a href=\"https://management.azure.com\" rel=\"nofollow noreferrer\">management.azure.com</a>) the permissions are not listed on the available documentation Ex: For read/list tenants <a href=\"https://learn.microsoft.com/es-es/rest/api/resources/tenants/list\" rel=\"nofollow noreferrer\">learn.microsoft.com/es-es/rest/api/resources/tenants/list</a> you do not have the permissions section The error is only display for REST API queries to Management Module, to the Microsoft Graph one I can connect and retrieve data as expected based on the permissions listed above"},{"owner":{"account_id":1740857,"reputation":4015,"user_id":1592312,"accept_rate":68,"display_name":"rahulaga-msft"},"score":0,"creation_date":1670732811,"post_id":58116180,"comment_id":131939943,"body_markdown":"@delucaezequiel - were you able to figure out `how to add permissions to azure ad app for azure management api` ?","body":"@delucaezequiel - were you able to figure out <code>how to add permissions to azure ad app for azure management api</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1862796,"reputation":279,"user_id":1687020,"accept_rate":61,"display_name":"Ajay Sainy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569732457,"creation_date":1569732457,"answer_id":58152304,"question_id":58116180,"body_markdown":"Have seen similar error in past. \r\n\r\nGranting the permission via:\r\n\r\n**Azure Active Directory -&gt; App Registrations -&gt; MyApp -&gt; Api Permissions -&gt; Grant Admin Consent button**\r\n\r\nhelped me.\r\n\r\nSimilar posts - https://stackoverflow.com/questions/40109711/the-user-or-administrator-has-not-consented-to-use-the-application-send-an-int\r\n\r\n","title":"Which permissions are required for ARM REST API","body":"<p>Have seen similar error in past. </p>\n\n<p>Granting the permission via:</p>\n\n<p><strong>Azure Active Directory -> App Registrations -> MyApp -> Api Permissions -> Grant Admin Consent button</strong></p>\n\n<p>helped me.</p>\n\n<p>Similar posts - <a href=\"https://stackoverflow.com/questions/40109711/the-user-or-administrator-has-not-consented-to-use-the-application-send-an-int\">The user or administrator has not consented to use the application - Send an interactive authorization request for this user and resource</a></p>\n"},{"tags":[],"owner":{"account_id":23686148,"reputation":1,"user_id":17711059,"display_name":"Vadar Vadar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550627,"creation_date":1690514401,"answer_id":76784651,"question_id":58116180,"body_markdown":"I have been trying to find a more efficient way to grant permissions for the Azure Resource Management API.\r\n\r\nTo access the ARM API, I usually assign roles to the service principal directly, just as you would a user.\r\n\r\nFor example, to grant the app access to read all in a subscription, do this:\r\n\r\n 1. Go to the subscription in Azure: https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade\r\n\r\n 2. Select the subscription that you wish to read with the API\r\n\r\n 3. In the left menu, click on &quot;Access control (IAM)\r\n\r\n 4. Go to &quot;Role assignments&quot; and click Add &gt; Add Role Assignment at the top\r\n\r\n 5. For &quot;Role&quot;, select &quot;Reader&quot;\r\n[Reader Role][1]\r\n\r\n\r\n 6. For &quot;Members&quot; - search for your app by name\r\n[Reader Role Member][2]\r\n\r\n 7. Finally, click &quot;Review + Assign&quot; - this will grant the app permissions to &quot;Read&quot; all the subscription data\r\n\r\n  [1]: https://i.stack.imgur.com/degv7.png\r\n  [2]: https://i.stack.imgur.com/do7qX.png","title":"Which permissions are required for ARM REST API","body":"<p>I have been trying to find a more efficient way to grant permissions for the Azure Resource Management API.</p>\n<p>To access the ARM API, I usually assign roles to the service principal directly, just as you would a user.</p>\n<p>For example, to grant the app access to read all in a subscription, do this:</p>\n<ol>\n<li><p>Go to the subscription in Azure: <a href=\"https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade\" rel=\"nofollow noreferrer\">https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade</a></p>\n</li>\n<li><p>Select the subscription that you wish to read with the API</p>\n</li>\n<li><p>In the left menu, click on &quot;Access control (IAM)</p>\n</li>\n<li><p>Go to &quot;Role assignments&quot; and click Add &gt; Add Role Assignment at the top</p>\n</li>\n<li><p>For &quot;Role&quot;, select &quot;Reader&quot;\n<a href=\"https://i.stack.imgur.com/degv7.png\" rel=\"nofollow noreferrer\">Reader Role</a></p>\n</li>\n<li><p>For &quot;Members&quot; - search for your app by name\n<a href=\"https://i.stack.imgur.com/do7qX.png\" rel=\"nofollow noreferrer\">Reader Role Member</a></p>\n</li>\n<li><p>Finally, click &quot;Review + Assign&quot; - this will grant the app permissions to &quot;Read&quot; all the subscription data</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9861791,"reputation":483,"user_id":7304502,"accept_rate":25,"display_name":"delucaezequiel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690550627,"creation_date":1569498505,"question_id":58116180,"body_markdown":"I am trying to create an application that can connect to ARM (https://management.azure.com) retrieve some information from it. I already created one that use Microsoft Graph (https://graph.microsoft.com) and works fine, however now I need to get information that is only available on ARM.\r\n\r\nI look up on internet about the permissions required, specially on Microsoft Docs, however all the documentation that I was able to find refers only to Microsoft Graph or Windows Graph.\r\n\r\nDo you know which permissions should I request through the portal?\r\n\r\n    public String getAccessToken() throws MalformedURLException, InterruptedException, ExecutionException, ServiceUnavailableException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException\r\n    {\r\n    \tAuthenticationContext objContext;\r\n    \tAuthenticationResult objToken;\r\n    \tExecutorService objService;\r\n    \tFuture&lt;AuthenticationResult&gt; objFuture;\r\n    \tobjService = null;\r\n    \tobjToken = null;\r\n    \ttry\r\n    \t{\r\n    \t\tobjService = Executors.newFixedThreadPool(1);\r\n    \t\tobjContext = new AuthenticationContext(this.getAuthorize(), false, objService);\r\n    \t\tobjFuture = objContext.acquireToken(&quot;https://management.azure.com&quot;, this.getApplicationID(), this.getUsername(), SecureText.getInstance().decode(this.getPassword()), null);\r\n    \t\tobjToken = objFuture.get();\r\n    \t\tthis.getLogger().info(&quot;Connection to Azure Resource Manager&quot;.concat(this.getClass().getSimpleName().toLowerCase()).concat(&quot; successfully stablished&quot;));\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tobjService.shutdown();\r\n    \t}\r\n    \tif (objToken == null)\r\n    \t{\r\n    \t\tthrow new ServiceUnavailableException(&quot;Authentication Service is not available&quot;);\r\n    \t}\r\n    \treturn objToken.getAccessToken();\r\n   \t}\r\n\r\nThe following error is displayed:\r\n\r\n&gt; com.microsoft.aad.adal4j.AuthenticationException:\r\n&gt; {&quot;error_description&quot;:&quot;AADSTS65001: The user or administrator has not\r\n&gt; consented to use the application with ID\r\n&gt; &#39;e1b0615a-911d-4ccf-bf16-e8d0c1c2f8b5&#39; named &#39;XXXXXXX&#39;. Send an\r\n&gt; interactive authorization request for this user and resource.\\r\\nTrace\r\n&gt; ID: 9731e9b7-116d-4c5e-b219-ab96e12c4300\\r\\nCorrelation ID:\r\n&gt; faa9a023-3237-4367-9c66-eec9b77e2805\\r\\nTimestamp: 2019-09-26\r\n&gt; 11:20:54Z&quot;,&quot;error&quot;:&quot;invalid_grant&quot;}\r\n\r\n","title":"Which permissions are required for ARM REST API","body":"<p>I am trying to create an application that can connect to ARM (<a href=\"https://management.azure.com\" rel=\"nofollow noreferrer\">https://management.azure.com</a>) retrieve some information from it. I already created one that use Microsoft Graph (<a href=\"https://graph.microsoft.com\" rel=\"nofollow noreferrer\">https://graph.microsoft.com</a>) and works fine, however now I need to get information that is only available on ARM.</p>\n\n<p>I look up on internet about the permissions required, specially on Microsoft Docs, however all the documentation that I was able to find refers only to Microsoft Graph or Windows Graph.</p>\n\n<p>Do you know which permissions should I request through the portal?</p>\n\n<pre><code>public String getAccessToken() throws MalformedURLException, InterruptedException, ExecutionException, ServiceUnavailableException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException\n{\n    AuthenticationContext objContext;\n    AuthenticationResult objToken;\n    ExecutorService objService;\n    Future&lt;AuthenticationResult&gt; objFuture;\n    objService = null;\n    objToken = null;\n    try\n    {\n        objService = Executors.newFixedThreadPool(1);\n        objContext = new AuthenticationContext(this.getAuthorize(), false, objService);\n        objFuture = objContext.acquireToken(\"https://management.azure.com\", this.getApplicationID(), this.getUsername(), SecureText.getInstance().decode(this.getPassword()), null);\n        objToken = objFuture.get();\n        this.getLogger().info(\"Connection to Azure Resource Manager\".concat(this.getClass().getSimpleName().toLowerCase()).concat(\" successfully stablished\"));\n    }\n    finally\n    {\n        objService.shutdown();\n    }\n    if (objToken == null)\n    {\n        throw new ServiceUnavailableException(\"Authentication Service is not available\");\n    }\n    return objToken.getAccessToken();\n}\n</code></pre>\n\n<p>The following error is displayed:</p>\n\n<blockquote>\n  <p>com.microsoft.aad.adal4j.AuthenticationException:\n  {\"error_description\":\"AADSTS65001: The user or administrator has not\n  consented to use the application with ID\n  'e1b0615a-911d-4ccf-bf16-e8d0c1c2f8b5' named 'XXXXXXX'. Send an\n  interactive authorization request for this user and resource.\\r\\nTrace\n  ID: 9731e9b7-116d-4c5e-b219-ab96e12c4300\\r\\nCorrelation ID:\n  faa9a023-3237-4367-9c66-eec9b77e2805\\r\\nTimestamp: 2019-09-26\n  11:20:54Z\",\"error\":\"invalid_grant\"}</p>\n</blockquote>\n"},{"tags":["java","android","string","colors","hex"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1309461303,"post_id":6539879,"comment_id":7702972,"body_markdown":"What are you trying to set the hex color on? I think there&#39;s a different answer here","body":"What are you trying to set the hex color on? I think there&#39;s a different answer here"},{"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"score":0,"creation_date":1309462009,"post_id":6539879,"comment_id":7703127,"body_markdown":"@Blundell Am exporting the color to an external application. The colour needs to be in this format #RRGGBB","body":"@Blundell Am exporting the color to an external application. The colour needs to be in this format #RRGGBB"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1309462134,"post_id":6539879,"comment_id":7703153,"body_markdown":"So what&#39;s wrong with  http://developer.android.com/reference/android/content/res/Resources.html#getColor(int) ? You&#39;ll have to paste the url or scroll to getColor(int)","body":"So what&#39;s wrong with  <a href=\"http://developer.android.com/reference/android/content/res/Resources.html#getColor(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/res/&hellip;</a> ? You&#39;ll have to paste the url or scroll to getColor(int)"},{"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"score":0,"creation_date":1309463416,"post_id":6539879,"comment_id":7703496,"body_markdown":"Am getting the raw integers. The values are not from a resource ow widget","body":"Am getting the raw integers. The values are not from a resource ow widget"}],"answers":[{"comments":[{"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"score":7,"creation_date":1309462085,"post_id":6539929,"comment_id":7703141,"body_markdown":"This answer retains the alpha of the color","body":"This answer retains the alpha of the color"},{"owner":{"account_id":164341,"reputation":2870,"user_id":387028,"accept_rate":83,"display_name":"ming_codes"},"score":3,"creation_date":1309462876,"post_id":6539929,"comment_id":7703343,"body_markdown":"Well, if you want to get rid of the alpha, just create a bit mask for it: Integer.toHexString(value &amp; 0x00FFFFFF)","body":"Well, if you want to get rid of the alpha, just create a bit mask for it: Integer.toHexString(value &amp; 0x00FFFFFF)"},{"owner":{"account_id":164341,"reputation":2870,"user_id":387028,"accept_rate":83,"display_name":"ming_codes"},"score":3,"creation_date":1309464291,"post_id":6539929,"comment_id":7703785,"body_markdown":"Java int type is 4 bytes long. According to android.graphics.Color&#39;s documentation, the leftest byte is the alpha channel. By using a bit wise AND operation with the value 0x00FFFFFF, you essentially clears the leftest byte (alpha channel) to 0.\n\nWhen used with Integer.toHexString, it&#39;ll just leave the rest of the 3 bytes in String.  All non-significant digits will be dropped from the call, so if you want the leading zeroes, you may have to prepend that in yourself.","body":"Java int type is 4 bytes long. According to android.graphics.Color&#39;s documentation, the leftest byte is the alpha channel. By using a bit wise AND operation with the value 0x00FFFFFF, you essentially clears the leftest byte (alpha channel) to 0.  When used with Integer.toHexString, it&#39;ll just leave the rest of the 3 bytes in String.  All non-significant digits will be dropped from the call, so if you want the leading zeroes, you may have to prepend that in yourself."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1474653043,"post_id":6539929,"comment_id":66635047,"body_markdown":"Doesn&#39;t work for `0x000000FF`, or `0xFF0000FF` if you remove the alpha.","body":"Doesn&#39;t work for <code>0x000000FF</code>, or <code>0xFF0000FF</code> if you remove the alpha."}],"tags":[],"owner":{"account_id":164341,"reputation":2870,"user_id":387028,"accept_rate":83,"display_name":"ming_codes"},"comment_count":4,"down_vote_count":2,"up_vote_count":63,"is_accepted":false,"score":61,"last_activity_date":1309461425,"creation_date":1309461425,"answer_id":6539929,"question_id":6539879,"body_markdown":"Try Integer.toHexString()\r\n\r\nSource:\r\nhttps://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-le","title":"How to convert a color integer to a hex String in Android?","body":"<p>Try Integer.toHexString()</p>\n\n<p>Source:\n<a href=\"https://stackoverflow.com/questions/332079/in-java-how-do-i-convert-a-byte-array-to-a-string-of-hex-digits-while-keeping-le\">In Java, how do I convert a byte array to a string of hex digits while keeping leading zeros?</a></p>\n"},{"comments":[{"owner":{"account_id":49924,"reputation":6997,"user_id":148824,"accept_rate":80,"display_name":"Tom"},"score":3,"creation_date":1336946038,"post_id":6540378,"comment_id":13693229,"body_markdown":"This worked perfectly, thank you! Easier and more accurate than trying to use substring on Integer.toHexString().","body":"This worked perfectly, thank you! Easier and more accurate than trying to use substring on Integer.toHexString()."},{"owner":{"account_id":1175049,"reputation":4947,"user_id":1151242,"accept_rate":67,"display_name":"Marcel Bro"},"score":0,"creation_date":1359617976,"post_id":6540378,"comment_id":20418825,"body_markdown":"How would it be if I wanted it the other way round, please?","body":"How would it be if I wanted it the other way round, please?"},{"owner":{"account_id":1175049,"reputation":4947,"user_id":1151242,"accept_rate":67,"display_name":"Marcel Bro"},"score":8,"creation_date":1359619724,"post_id":6540378,"comment_id":20419581,"body_markdown":"I&#39;ve just realized there is Color.parseColor(String hex) method which does exactly what I&#39;m asking for.","body":"I&#39;ve just realized there is Color.parseColor(String hex) method which does exactly what I&#39;m asking for."},{"owner":{"account_id":941299,"reputation":27984,"user_id":969325,"accept_rate":100,"display_name":"Warpzit"},"score":0,"creation_date":1369297618,"post_id":6540378,"comment_id":24053176,"body_markdown":"@anoniim you&#39;re awesome :) was having trouble with ColorDrawable in Android.","body":"@anoniim you&#39;re awesome :) was having trouble with ColorDrawable in Android."},{"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"score":0,"creation_date":1377976668,"post_id":6540378,"comment_id":27290599,"body_markdown":"If RED=0 and GREEN=131 and BLUE=146 the result I get is 02004 instead of 008392. What am I doing wrong?","body":"If RED=0 and GREEN=131 and BLUE=146 the result I get is 02004 instead of 008392. What am I doing wrong?"},{"owner":{"account_id":133918,"reputation":10668,"user_id":335650,"accept_rate":89,"display_name":"Josh"},"score":1,"creation_date":1378224935,"post_id":6540378,"comment_id":27369427,"body_markdown":"SiKini8, this piece of code doesn&#39;t take individual r, g, and b parameters, but a single int.  What are you passing for `intColor`?","body":"SiKini8, this piece of code doesn&#39;t take individual r, g, and b parameters, but a single int.  What are you passing for <code>intColor</code>?"},{"owner":{"account_id":2046279,"reputation":10131,"user_id":1826294,"display_name":"Vincent Ducastel"},"score":0,"creation_date":1426686101,"post_id":6540378,"comment_id":46473548,"body_markdown":"int intColor = getResources().getColor(R.color.yourColor);","body":"int intColor = getResources().getColor(R.color.yourColor);"},{"owner":{"account_id":1975226,"reputation":5933,"user_id":1773155,"accept_rate":58,"display_name":"Shajeel Afzal"},"score":1,"creation_date":1442949064,"post_id":6540378,"comment_id":53292482,"body_markdown":"How to do reverse of that? For example How to convert hex colour to integer?","body":"How to do reverse of that? For example How to convert hex colour to integer?"},{"owner":{"account_id":133918,"reputation":10668,"user_id":335650,"accept_rate":89,"display_name":"Josh"},"score":4,"creation_date":1442978495,"post_id":6540378,"comment_id":53302703,"body_markdown":"int colorInt = 0xff000000 | Integer.parseInt(hexString, 16);","body":"int colorInt = 0xff000000 | Integer.parseInt(hexString, 16);"},{"owner":{"account_id":2970001,"reputation":1940,"user_id":2522264,"display_name":"Simon"},"score":8,"creation_date":1506544828,"post_id":6540378,"comment_id":79869352,"body_markdown":"Don&#39;t use this answer if your color uses alpha. You&#39;ll lose it.","body":"Don&#39;t use this answer if your color uses alpha. You&#39;ll lose it."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":10,"creation_date":1517741746,"post_id":6540378,"comment_id":84210876,"body_markdown":"@Simon, to make this alpha-ready just remove the mask and change 6 to 8. Note that OP asked for dismissing alpha.","body":"@Simon, to make this alpha-ready just remove the mask and change 6 to 8. Note that OP asked for dismissing alpha."},{"owner":{"account_id":3970533,"reputation":5671,"user_id":3275253,"accept_rate":17,"display_name":"voghDev"},"score":0,"creation_date":1590134270,"post_id":6540378,"comment_id":109570079,"body_markdown":"This code does not work in Kotlin. Could you post a working Kotlin version pls? :-)","body":"This code does not work in Kotlin. Could you post a working Kotlin version pls? :-)"},{"owner":{"account_id":3086682,"reputation":1688,"user_id":2613670,"accept_rate":57,"display_name":"Manuelarte"},"score":0,"creation_date":1603791732,"post_id":6540378,"comment_id":114141425,"body_markdown":"exactly what I was looking for","body":"exactly what I was looking for"}],"tags":[],"owner":{"account_id":133918,"reputation":10668,"user_id":335650,"accept_rate":89,"display_name":"Josh"},"comment_count":13,"down_vote_count":1,"up_vote_count":567,"is_accepted":true,"score":566,"last_activity_date":1309463792,"creation_date":1309463792,"answer_id":6540378,"question_id":6539879,"body_markdown":"The mask makes sure you only get RRGGBB, and the %06X gives you zero-padded hex (always 6 chars long):\r\n\r\n    String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));","title":"How to convert a color integer to a hex String in Android?","body":"<p>The mask makes sure you only get RRGGBB, and the %06X gives you zero-padded hex (always 6 chars long):</p>\n\n<pre><code>String hexColor = String.format(\"#%06X\", (0xFFFFFF &amp; intColor));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1474652822,"post_id":6544482,"comment_id":66634941,"body_markdown":"If you send `0x00FFFFFF` through this it&#39;ll crash `Color.parseColor`.","body":"If you send <code>0x00FFFFFF</code> through this it&#39;ll crash <code>Color.parseColor</code>."},{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":0,"creation_date":1633410659,"post_id":6544482,"comment_id":122745136,"body_markdown":"@TWiStErRob use `Color.TRANSPARENT` for such case","body":"@TWiStErRob use <code>Color.TRANSPARENT</code> for such case"}],"tags":[],"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"comment_count":2,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1309502378,"creation_date":1309502378,"answer_id":6544482,"question_id":6539879,"body_markdown":"I believe i have found the answer, This code converts the integer to a hex string an removes the alpha.\r\n\r\n    Integer intColor = -16895234;\r\n    String hexColor = &quot;#&quot; + Integer.toHexString(intColor).substring(2);\r\n\r\n**Note** only use this code if you are sure that removing the alpha would not affect anything.","title":"How to convert a color integer to a hex String in Android?","body":"<p>I believe i have found the answer, This code converts the integer to a hex string an removes the alpha.</p>\n\n<pre><code>Integer intColor = -16895234;\nString hexColor = \"#\" + Integer.toHexString(intColor).substring(2);\n</code></pre>\n\n<p><strong>Note</strong> only use this code if you are sure that removing the alpha would not affect anything.</p>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1474652667,"post_id":13919404,"comment_id":66634860,"body_markdown":"The first variant doesn&#39;t work for `0x00FFFFFF` -&gt;  &quot;FFFFFF&quot; (no alpha). The second variant doesn&#39;t work for `0x00000FFF` -&gt; &quot;F&quot; (missing bits).","body":"The first variant doesn&#39;t work for <code>0x00FFFFFF</code> -&gt;  &quot;FFFFFF&quot; (no alpha). The second variant doesn&#39;t work for <code>0x00000FFF</code> -&gt; &quot;F&quot; (missing bits)."},{"owner":{"account_id":2931845,"reputation":3015,"user_id":2511884,"accept_rate":29,"display_name":"Saket"},"score":0,"creation_date":1517725003,"post_id":13919404,"comment_id":84207114,"body_markdown":"@TWiStErRob did you a solution that reliably works for colors with alpha channel?","body":"@TWiStErRob did you a solution that reliably works for colors with alpha channel?"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":2,"creation_date":1517741601,"post_id":13919404,"comment_id":84210840,"body_markdown":"@Saket The top answer&#39;s variant should: `String.format(&quot;#%08X&quot;, intColor)`","body":"@Saket The top answer&#39;s variant should: <code>String.format(&quot;#%08X&quot;, intColor)</code>"},{"owner":{"account_id":2931845,"reputation":3015,"user_id":2511884,"accept_rate":29,"display_name":"Saket"},"score":0,"creation_date":1517758383,"post_id":13919404,"comment_id":84215903,"body_markdown":"@TWiStErRob Ah, just saw your comment under the top answer. Thanks!","body":"@TWiStErRob Ah, just saw your comment under the top answer. Thanks!"}],"tags":[],"owner":{"account_id":1424133,"reputation":1906,"user_id":1348103,"accept_rate":83,"display_name":"Diljeet"},"comment_count":4,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1355766816,"creation_date":1355766816,"answer_id":13919404,"question_id":6539879,"body_markdown":"Here is what i did\r\n\r\n     int color=//your color\r\n     Integer.toHexString(color).toUpperCase();//upercase with alpha\r\n     Integer.toHexString(color).toUpperCase().substring(2);// uppercase without alpha\r\n\r\nThanks guys you answers did the thing","title":"How to convert a color integer to a hex String in Android?","body":"<p>Here is what i did</p>\n\n<pre><code> int color=//your color\n Integer.toHexString(color).toUpperCase();//upercase with alpha\n Integer.toHexString(color).toUpperCase().substring(2);// uppercase without alpha\n</code></pre>\n\n<p>Thanks guys you answers did the thing</p>\n"},{"tags":[],"owner":{"account_id":10037066,"reputation":1,"user_id":7421286,"display_name":"chundk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487115217,"creation_date":1484481477,"answer_id":41660825,"question_id":6539879,"body_markdown":"    String int2string = Integer.toHexString(INTEGERColor); //to ARGB\r\n    String HtmlColor = &quot;#&quot;+ int2string.substring(int2string.length() - 6, int2string.length()); // a stupid way to append your color","title":"How to convert a color integer to a hex String in Android?","body":"<pre><code>String int2string = Integer.toHexString(INTEGERColor); //to ARGB\nString HtmlColor = \"#\"+ int2string.substring(int2string.length() - 6, int2string.length()); // a stupid way to append your color\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970001,"reputation":1940,"user_id":2522264,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506731704,"creation_date":1506547522,"answer_id":46457464,"question_id":6539879,"body_markdown":"With this method *Integer.toHexString*, you can have an Unknown color exception for some colors when using Color.parseColor.\r\n\r\nAnd with this method *String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor))*, you&#39;ll lose alpha value.\r\n\r\nSo I recommend this method:\r\n\r\n    public static String ColorToHex(int color) {\r\n    \t\tint alpha = android.graphics.Color.alpha(color);\r\n    \t\tint blue = android.graphics.Color.blue(color);\r\n    \t\tint green = android.graphics.Color.green(color);\r\n    \t\tint red = android.graphics.Color.red(color);\r\n    \r\n            String alphaHex = To00Hex(alpha);\r\n            String blueHex = To00Hex(blue);\r\n            String greenHex = To00Hex(green);\r\n            String redHex = To00Hex(red);\r\n    \r\n            // hexBinary value: aabbggrr\r\n    \t\tStringBuilder str = new StringBuilder(&quot;#&quot;);\r\n    \t\tstr.append(alphaHex);\r\n    \t\tstr.append(blueHex);\r\n    \t\tstr.append(greenHex);\r\n    \t\tstr.append(redHex );\r\n    \r\n    \t\treturn str.toString();\r\n    \t}\r\n    \r\n        private static String To00Hex(int value) {\r\n            String hex = &quot;00&quot;.concat(Integer.toHexString(value));\r\n            return hex.substring(hex.length()-2, hex.length());\r\n        }\r\n\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>With this method <em>Integer.toHexString</em>, you can have an Unknown color exception for some colors when using Color.parseColor.</p>\n\n<p>And with this method <em>String.format(\"#%06X\", (0xFFFFFF &amp; intColor))</em>, you'll lose alpha value.</p>\n\n<p>So I recommend this method:</p>\n\n<pre><code>public static String ColorToHex(int color) {\n        int alpha = android.graphics.Color.alpha(color);\n        int blue = android.graphics.Color.blue(color);\n        int green = android.graphics.Color.green(color);\n        int red = android.graphics.Color.red(color);\n\n        String alphaHex = To00Hex(alpha);\n        String blueHex = To00Hex(blue);\n        String greenHex = To00Hex(green);\n        String redHex = To00Hex(red);\n\n        // hexBinary value: aabbggrr\n        StringBuilder str = new StringBuilder(\"#\");\n        str.append(alphaHex);\n        str.append(blueHex);\n        str.append(greenHex);\n        str.append(redHex );\n\n        return str.toString();\n    }\n\n    private static String To00Hex(int value) {\n        String hex = \"00\".concat(Integer.toHexString(value));\n        return hex.substring(hex.length()-2, hex.length());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1515075681,"creation_date":1515075681,"answer_id":48097224,"question_id":6539879,"body_markdown":"Integer value of ARGB color to hexadecimal string:\r\n\r\n    String hex = Integer.toHexString(color); // example for green color FF00FF00\r\n\r\nHexadecimal string to integer value of ARGB color:\r\n\r\n    int color = (Integer.parseInt( hex.substring( 0,2 ), 16) &lt;&lt; 24) + Integer.parseInt( hex.substring( 2 ), 16);","title":"How to convert a color integer to a hex String in Android?","body":"<p>Integer value of ARGB color to hexadecimal string:</p>\n\n<pre><code>String hex = Integer.toHexString(color); // example for green color FF00FF00\n</code></pre>\n\n<p>Hexadecimal string to integer value of ARGB color:</p>\n\n<pre><code>int color = (Integer.parseInt( hex.substring( 0,2 ), 16) &lt;&lt; 24) + Integer.parseInt( hex.substring( 2 ), 16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5383386,"reputation":1651,"user_id":4288054,"display_name":"Oleksandr Albul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591376346,"creation_date":1591376346,"answer_id":62220529,"question_id":6539879,"body_markdown":"If you use `Integer.toHexString` you will end-up with missed zeros when you convert colors like `0xFF000123`.\r\nHere is my kotlin based solution which doesn&#39;t require neither android specific classes nor java. So you could use it in multiplatform project as well:\r\n&lt;!-- language: Kotlin --&gt;\r\n                  \r\n        fun Int.toRgbString(): String =\r\n            &quot;#${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}&quot;.toUpperCase()\r\n\r\n        fun Int.toArgbString(): String =\r\n            &quot;#${alpha.toStringComponent()}${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}&quot;.toUpperCase()\r\n\r\n        private fun Int.toStringComponent(): String =\r\n            this.toString(16).let { if (it.length == 1) &quot;0${it}&quot; else it }\r\n        \r\n        inline val Int.alpha: Int\r\n            get() = (this shr 24) and 0xFF\r\n        \r\n        inline val Int.red: Int\r\n            get() = (this shr 16) and 0xFF\r\n        \r\n        inline val Int.green: Int\r\n            get() = (this shr 8) and 0xFF\r\n        \r\n        inline val Int.blue: Int\r\n            get() = this and 0xFF","title":"How to convert a color integer to a hex String in Android?","body":"<p>If you use <code>Integer.toHexString</code> you will end-up with missed zeros when you convert colors like <code>0xFF000123</code>.\nHere is my kotlin based solution which doesn't require neither android specific classes nor java. So you could use it in multiplatform project as well:\n</p>\n\n<pre><code>    fun Int.toRgbString(): String =\n        \"#${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}\".toUpperCase()\n\n    fun Int.toArgbString(): String =\n        \"#${alpha.toStringComponent()}${red.toStringComponent()}${green.toStringComponent()}${blue.toStringComponent()}\".toUpperCase()\n\n    private fun Int.toStringComponent(): String =\n        this.toString(16).let { if (it.length == 1) \"0${it}\" else it }\n\n    inline val Int.alpha: Int\n        get() = (this shr 24) and 0xFF\n\n    inline val Int.red: Int\n        get() = (this shr 16) and 0xFF\n\n    inline val Int.green: Int\n        get() = (this shr 8) and 0xFF\n\n    inline val Int.blue: Int\n        get() = this and 0xFF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1447779,"reputation":5253,"user_id":2268466,"accept_rate":64,"display_name":"blueware"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1597511697,"creation_date":1597511697,"answer_id":63428799,"question_id":6539879,"body_markdown":"You can use this for color without alpha:\r\n\r\n    String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));\r\n\r\nor this with alpha:\r\n\r\n    String hexColor = String.format(&quot;#%08X&quot;, (0xFFFFFFFF &amp; intColor));\r\n\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>You can use this for color without alpha:</p>\n<pre><code>String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));\n</code></pre>\n<p>or this with alpha:</p>\n<pre><code>String hexColor = String.format(&quot;#%08X&quot;, (0xFFFFFFFF &amp; intColor));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1618767785,"creation_date":1618767785,"answer_id":67151626,"question_id":6539879,"body_markdown":"use this way in Koltin\r\n\r\n    var hexColor = &quot;#${Integer.toHexString(ContextCompat.getColor(context, R.color.colorTest))}&quot;","title":"How to convert a color integer to a hex String in Android?","body":"<p>use this way in Koltin</p>\n<pre><code>var hexColor = &quot;#${Integer.toHexString(ContextCompat.getColor(context, R.color.colorTest))}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12795516,"reputation":67,"user_id":9258640,"display_name":"Adnan Malik"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625380016,"creation_date":1625158289,"answer_id":68214114,"question_id":6539879,"body_markdown":"Fixing alpha issue in Color picker libraries.\r\n\r\nif you get an integer value in return when you pick color first convert it into the hex color.\r\n\r\n        String hexVal = String.format(&quot;#%06X&quot;, (0xFFFFFFFF &amp; \r\n        color)).toUpperCase();\r\n\r\n        int length=hexVal.length();\r\n        String withoutHash=hexVal.substring(1,length);\r\n\r\n\r\n        while (withoutHash.length()&lt;=7)\r\n        {\r\n\r\n            withoutHash=&quot;0&quot;+withoutHash;\r\n\r\n        }\r\n        hexVal =&quot;#&quot;+withoutHash;\r\n\r\n","title":"How to convert a color integer to a hex String in Android?","body":"<p>Fixing alpha issue in Color picker libraries.</p>\n<p>if you get an integer value in return when you pick color first convert it into the hex color.</p>\n<pre><code>    String hexVal = String.format(&quot;#%06X&quot;, (0xFFFFFFFF &amp; \n    color)).toUpperCase();\n\n    int length=hexVal.length();\n    String withoutHash=hexVal.substring(1,length);\n\n\n    while (withoutHash.length()&lt;=7)\n    {\n\n        withoutHash=&quot;0&quot;+withoutHash;\n\n    }\n    hexVal =&quot;#&quot;+withoutHash;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646486236,"creation_date":1646447874,"answer_id":71359047,"question_id":6539879,"body_markdown":"Simon&#39;s solution works well, alpha supported and color cases with a leading &quot;zero&quot; values in R, G, B, A, hex are not being ignored. A slightly modified version for java Color to hex String conversion is:\r\n\r\n        public static String ColorToHex (Color color) {\r\n        int red = color.getRed();\r\n        int green = color.getGreen();\r\n        int blue = color.getBlue();\r\n        int alpha = color.getAlpha(); \r\n\r\n        String redHex = To00Hex(red);\r\n        String greenHex = To00Hex(green);\r\n        String blueHex = To00Hex(blue);\r\n        String alphaHex = To00Hex(alpha);\r\n\r\n        // hexBinary value: RRGGBBAA\r\n        StringBuilder str = new StringBuilder(&quot;#&quot;);\r\n        str.append(redHex);\r\n        str.append(greenHex);\r\n        str.append(blueHex);\r\n        str.append(alphaHex);\r\n\r\n        return str.toString();\r\n    }\r\n\r\n    private static String To00Hex(int value) {\r\n        String hex = &quot;00&quot;.concat(Integer.toHexString(value));\r\n        hex=hex.toUpperCase();\r\n        return hex.substring(hex.length()-2, hex.length());\r\n    } \r\n\r\n\r\nanother solution could be:\r\n\r\n    public static String rgbToHex (Color color) {\r\n    \r\n       String hex = String.format(&quot;#%02x%02x%02x%02x&quot;, color.getRed(), color.getGreen(), color.getBlue(), color.getAlpha() );\r\n       hex=hex.toUpperCase();\r\n           return hex;\r\n    }","title":"How to convert a color integer to a hex String in Android?","body":"<p>Simon's solution works well, alpha supported and color cases with a leading &quot;zero&quot; values in R, G, B, A, hex are not being ignored. A slightly modified version for java Color to hex String conversion is:</p>\n<pre><code>    public static String ColorToHex (Color color) {\n    int red = color.getRed();\n    int green = color.getGreen();\n    int blue = color.getBlue();\n    int alpha = color.getAlpha(); \n\n    String redHex = To00Hex(red);\n    String greenHex = To00Hex(green);\n    String blueHex = To00Hex(blue);\n    String alphaHex = To00Hex(alpha);\n\n    // hexBinary value: RRGGBBAA\n    StringBuilder str = new StringBuilder(&quot;#&quot;);\n    str.append(redHex);\n    str.append(greenHex);\n    str.append(blueHex);\n    str.append(alphaHex);\n\n    return str.toString();\n}\n\nprivate static String To00Hex(int value) {\n    String hex = &quot;00&quot;.concat(Integer.toHexString(value));\n    hex=hex.toUpperCase();\n    return hex.substring(hex.length()-2, hex.length());\n} \n</code></pre>\n<p>another solution could be:</p>\n<pre><code>public static String rgbToHex (Color color) {\n\n   String hex = String.format(&quot;#%02x%02x%02x%02x&quot;, color.getRed(), color.getGreen(), color.getBlue(), color.getAlpha() );\n   hex=hex.toUpperCase();\n       return hex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550627,"creation_date":1690538892,"answer_id":76786822,"question_id":6539879,"body_markdown":"Here is the new Kotlin 1.9.0 standard library [`HexFormat`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-hex-format.html):  \r\n(don&#39;t forget to add `@OptIn(ExperimentalStdlibApi::class)` where needed)\r\n\r\n```kotlin\r\nval myHexFormat = HexFormat {\r\n    upperCase = false\r\n    number.prefix = &quot;#&quot;\r\n    number.removeLeadingZeros = true\r\n}\r\nval myInt = 0xb40e89\r\nmyInt.toHexString(myHexFormat)         // #b40e89\r\n```\r\n\r\nYou could also use the Kotlin predefined `HexFormat`s:\r\n\r\n```kotlin\r\nval myInt = 0xb40e89\r\nmyInt.toHexString(HexFormat.Default)   // 00b40e89\r\nmyInt.toHexString(HexFormat.UpperCase) // 00B40E89\r\n```\r\n\r\n---\r\n\r\nTo exclude the alpha from an ARGB integer, do this workaround:\r\n\r\n```kotlin\r\n(myInt and 0xFFFFFF).toHexString(myHexFormat)\r\n```\r\n\r\nAnd vote for this issue: [Cannot ignore alpha when formatting with HexFormat](https://youtrack.jetbrains.com/issue/KT-60787)","title":"How to convert a color integer to a hex String in Android?","body":"<p>Here is the new Kotlin 1.9.0 standard library <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-hex-format.html\" rel=\"nofollow noreferrer\"><code>HexFormat</code></a>:<br />\n(don't forget to add <code>@OptIn(ExperimentalStdlibApi::class)</code> where needed)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myHexFormat = HexFormat {\n    upperCase = false\n    number.prefix = &quot;#&quot;\n    number.removeLeadingZeros = true\n}\nval myInt = 0xb40e89\nmyInt.toHexString(myHexFormat)         // #b40e89\n</code></pre>\n<p>You could also use the Kotlin predefined <code>HexFormat</code>s:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myInt = 0xb40e89\nmyInt.toHexString(HexFormat.Default)   // 00b40e89\nmyInt.toHexString(HexFormat.UpperCase) // 00B40E89\n</code></pre>\n<hr />\n<p>To exclude the alpha from an ARGB integer, do this workaround:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>(myInt and 0xFFFFFF).toHexString(myHexFormat)\n</code></pre>\n<p>And vote for this issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-60787\" rel=\"nofollow noreferrer\">Cannot ignore alpha when formatting with HexFormat</a></p>\n"}],"owner":{"account_id":407732,"reputation":3680,"user_id":777976,"accept_rate":100,"display_name":"Bosah Chude"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144985,"favorite_count":0,"down_vote_count":0,"up_vote_count":240,"accepted_answer_id":6540378,"answer_count":13,"score":240,"last_activity_date":1690550627,"creation_date":1309461144,"question_id":6539879,"body_markdown":"I have an integer that was generated from an `android.graphics.Color`.  \r\nIt has a value of `-16776961`. How do I convert it into a hex string with the format `#RRGGBB`?\r\n\r\nSimply put: I would like to output `#0000FF` from `-16776961`.\r\n\r\n**Note:** I don&#39;t want the output to contain alpha and I have also tried [this example][1] with no success.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4506708/android-convert-color-int-to-hexa-string","title":"How to convert a color integer to a hex String in Android?","body":"<p>I have an integer that was generated from an <code>android.graphics.Color</code>.<br />\nIt has a value of <code>-16776961</code>. How do I convert it into a hex string with the format <code>#RRGGBB</code>?</p>\n<p>Simply put: I would like to output <code>#0000FF</code> from <code>-16776961</code>.</p>\n<p><strong>Note:</strong> I don't want the output to contain alpha and I have also tried <a href=\"https://stackoverflow.com/questions/4506708/android-convert-color-int-to-hexa-string\">this example</a> with no success.</p>\n"},{"tags":["java","hibernate","deprecated"],"answers":[{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1642515199,"creation_date":1640449155,"answer_id":70481278,"question_id":70036475,"body_markdown":"It seems there is no replacement until Hibernate 6. [Type and also TypeDef](https://hibernate.atlassian.net/browse/HHH-14935) was marked as deprecated to mark it as removed in version 6, but so far not replacement exists. The ideology here is that deprecated does not indicate that already a new version exists, which might be not an intuitive meaning for most developers.\r\n\r\nThis was reverted now in the current 5.6.3-Final version series.","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>It seems there is no replacement until Hibernate 6. <a href=\"https://hibernate.atlassian.net/browse/HHH-14935\" rel=\"noreferrer\">Type and also TypeDef</a> was marked as deprecated to mark it as removed in version 6, but so far not replacement exists. The ideology here is that deprecated does not indicate that already a new version exists, which might be not an intuitive meaning for most developers.</p>\n<p>This was reverted now in the current 5.6.3-Final version series.</p>\n"},{"comments":[{"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"score":0,"creation_date":1642515051,"post_id":70620052,"comment_id":125087030,"body_markdown":"I&#39;d like to accept both answers but StackOverflow prevents me from doing so. In any case your answer combined to k_o_&#39;s fully closes this question. Thanks. There is indeed no replacement and they did remove the deprecation as a patch because &quot;it was wrong&quot; :)","body":"I&#39;d like to accept both answers but StackOverflow prevents me from doing so. In any case your answer combined to k_o_&#39;s fully closes this question. Thanks. There is indeed no replacement and they did remove the deprecation as a patch because &quot;it was wrong&quot; :)"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":8,"creation_date":1668449013,"post_id":70620052,"comment_id":131402590,"body_markdown":"In Hibernate 6, `@TypeDef` is removed and `@Type` is changed. Therefore it&#39;s not clear how to map a PostgreSQL enum type. I asked a question here — https://github.com/vladmihalcea/hibernate-types/issues/514.","body":"In Hibernate 6, <code>@TypeDef</code> is removed and <code>@Type</code> is changed. Therefore it&#39;s not clear how to map a PostgreSQL enum type. I asked a question here — <a href=\"https://github.com/vladmihalcea/hibernate-types/issues/514\" rel=\"nofollow noreferrer\">github.com/vladmihalcea/hibernate-types/issues/514</a>."}],"tags":[],"owner":{"account_id":9518625,"reputation":289,"user_id":7074172,"display_name":"Dimi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641552390,"creation_date":1641552390,"answer_id":70620052,"question_id":70036475,"body_markdown":"This deprecation has been reverted in Hibernate 5.6.3-Final","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>This deprecation has been reverted in Hibernate 5.6.3-Final</p>\n"},{"comments":[{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":1,"creation_date":1696853236,"post_id":76788208,"comment_id":136201936,"body_markdown":"I&#39;ll add that `@Convert` is not necessary for ex. if you property is a `String`.","body":"I&#39;ll add that <code>@Convert</code> is not necessary for ex. if you property is a <code>String</code>."}],"tags":[],"owner":{"account_id":410173,"reputation":450,"user_id":781858,"display_name":"Vidhya - Vidhyadharan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1690550477,"creation_date":1690550477,"answer_id":76788208,"question_id":70036475,"body_markdown":"From this \r\n\r\n    import org.hibernate.annotations.Type;\r\n    import org.hibernate.annotations.TypeDef;\r\n     \r\n    @TypeDef(name = &quot;json&quot;, typeClass = StringJsonUserType.class)\r\n    public class EntityName {\r\n     \r\n     @Type(type = &quot;json&quot;)\r\n     private propertyName\r\n\r\nto in hibernate 6\r\n\r\n    import jakarta.persistence.Convert;\r\n    import org.hibernate.annotations.JdbcTypeCode;\r\n     \r\n     \r\n    @Convert(attributeName = &quot;entityAttrName&quot;, converter = StringJsonUserType.class)\r\n    public class EntityName {\r\n     \r\n     \r\n     @JdbcTypeCode(SqlTypes.JSON)\r\n     private propertyName","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>From this</p>\n<pre><code>import org.hibernate.annotations.Type;\nimport org.hibernate.annotations.TypeDef;\n \n@TypeDef(name = &quot;json&quot;, typeClass = StringJsonUserType.class)\npublic class EntityName {\n \n @Type(type = &quot;json&quot;)\n private propertyName\n</code></pre>\n<p>to in hibernate 6</p>\n<pre><code>import jakarta.persistence.Convert;\nimport org.hibernate.annotations.JdbcTypeCode;\n \n \n@Convert(attributeName = &quot;entityAttrName&quot;, converter = StringJsonUserType.class)\npublic class EntityName {\n \n \n @JdbcTypeCode(SqlTypes.JSON)\n private propertyName\n</code></pre>\n"}],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16554,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":70481278,"answer_count":3,"score":24,"last_activity_date":1690550477,"creation_date":1637332496,"question_id":70036475,"body_markdown":"I&#39;ve just upgraded the version I use for Hibernate to 5.6.1 and it seems it&#39;s now deprecating some Type-related annotations:\r\n```\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType::class)\r\n\r\n\r\n@Type(type = &quot;json&quot;)\r\n```\r\n\r\nI found no documentation as to what to do except that \r\n&gt; 6.0 will introduce a new series of type-safe annotations to serve the same purpose\r\n\r\nOur quality guidelines forces us to try and solve every warning and as such I would like to replace these annotations by a non deprecated use.","title":"What should I replace the hibernate deprecated @TypeDef and @Type annotations by?","body":"<p>I've just upgraded the version I use for Hibernate to 5.6.1 and it seems it's now deprecating some Type-related annotations:</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonBinaryType::class)\n\n\n@Type(type = &quot;json&quot;)\n</code></pre>\n<p>I found no documentation as to what to do except that</p>\n<blockquote>\n<p>6.0 will introduce a new series of type-safe annotations to serve the same purpose</p>\n</blockquote>\n<p>Our quality guidelines forces us to try and solve every warning and as such I would like to replace these annotations by a non deprecated use.</p>\n"},{"tags":["java","unix-timestamp"],"comments":[{"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"score":4,"creation_date":1310995259,"post_id":6733487,"comment_id":7978103,"body_markdown":"Why is 1000 not a valid timestamp? 1000 milliseconds after 0:00 on 1.1.1970?","body":"Why is 1000 not a valid timestamp? 1000 milliseconds after 0:00 on 1.1.1970?"},{"owner":{"account_id":29885,"reputation":41593,"user_id":81071,"accept_rate":77,"display_name":"Koraktor"},"score":4,"creation_date":1310995312,"post_id":6733487,"comment_id":7978126,"body_markdown":"Why should `1000` be not a valid timestamp? It is `Thu Jan 01 00:00:01 +0000 1970`. In fact, any valid integer (even negative) is a valid UNIX timestamp.","body":"Why should <code>1000</code> be not a valid timestamp? It is <code>Thu Jan 01 00:00:01 +0000 1970</code>. In fact, any valid integer (even negative) is a valid UNIX timestamp."},{"owner":{"account_id":14142,"reputation":11889,"user_id":28841,"accept_rate":80,"display_name":"Petteri H"},"score":0,"creation_date":1310996108,"post_id":6733487,"comment_id":7978358,"body_markdown":"1000 ms after epoch is still a valid timestamp. You should define a range of sensible timestamps. The sensible range is then case specific, maybe you expect entries after 2010 for example.","body":"1000 ms after epoch is still a valid timestamp. You should define a range of sensible timestamps. The sensible range is then case specific, maybe you expect entries after 2010 for example."},{"owner":{"account_id":98649,"reputation":2019,"user_id":828234,"accept_rate":56,"display_name":"Roshan"},"score":0,"creation_date":1310996123,"post_id":6733487,"comment_id":7978365,"body_markdown":"Please help how to define proper range of timestamp","body":"Please help how to define proper range of timestamp"}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1310996657,"post_id":6733516,"comment_id":7978535,"body_markdown":"... unless you can have times before 1970. ;)","body":"... unless you can have times before 1970. ;)"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1310996740,"post_id":6733516,"comment_id":7978565,"body_markdown":"He is asking for Java not for assembler ;-)","body":"He is asking for Java not for assembler ;-)"},{"owner":{"account_id":974558,"reputation":660,"user_id":996258,"accept_rate":76,"display_name":"Bayani Portier"},"score":0,"creation_date":1389584330,"post_id":6733516,"comment_id":31711700,"body_markdown":"Peter, you need a coffee. :) Did man land on the moon before midnight 1 Jan 1970? 0 - -1415094000 = 1415094000, meaning that the moon landing occurred before. Remember, in mathematics, two negatives make a positive, even though your school teachers would have said otherwise, two wrongs make a right!","body":"Peter, you need a coffee. :) Did man land on the moon before midnight 1 Jan 1970? 0 - -1415094000 = 1415094000, meaning that the moon landing occurred before. Remember, in mathematics, two negatives make a positive, even though your school teachers would have said otherwise, two wrongs make a right!"}],"tags":[],"owner":{"account_id":87221,"reputation":116,"user_id":242025,"display_name":"Joel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310995249,"creation_date":1310995249,"answer_id":6733516,"question_id":6733487,"body_markdown":"Why not just subtract the epoch time from the time you&#39;re given. If the result is negative, then it&#39;s not valid.\r\n","title":"How to validate the unix timestamp in java?","body":"<p>Why not just subtract the epoch time from the time you're given. If the result is negative, then it's not valid.</p>\n"},{"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":1,"creation_date":1310999757,"post_id":6733768,"comment_id":7979609,"body_markdown":"Upvoting for sheer common sense.","body":"Upvoting for sheer common sense."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1310996633,"creation_date":1310996319,"answer_id":6733768,"question_id":6733487,"body_markdown":"We cannot tell you what is sensible for your application. If there was a limit which was correct for every situation it would be built in.  It could be that only timestamps after you developed your application and not in the future are sensible.\r\n\r\n    public static final String RELEASE_DATE = &quot;2011/06/17&quot;;\r\n    private static final long MIN_TIMESTAMP;\r\n\r\n    static {\r\n        try {\r\n            MIN_TIMESTAMP = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;).parse(RELEASE_DATE).getTime();\r\n        } catch (ParseException e) {\r\n            throw new AssertionError(e);\r\n        }\r\n    }\r\n    \r\n    // after the software was release and not in the future.\r\n    public static final boolean validTimestamp(long ts) {\r\n        return ts &gt;= MIN_TIMESTAMP &amp;&amp; ts &lt;= System.currentTimeMillis();\r\n    }\r\n\r\nHowever, it could be that the timestamp represents when someone was born. In which case the minimum timestamp could be negative.\r\n\r\nIt could be that the timestamp is the time when something expires (like tickets) Some will be in the past (perhaps not before this year) and some will be in the future. (perhaps not more than 2 years in advance.)\r\n\r\n---\r\n\r\nTimes can be negative. Man landed on the moon before 1970 so the timestamp would be negative.\r\n\r\n    String MAN_ON_MOON = &quot;1969/07/21 02:56 GMT&quot;;\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm Z&quot;);\r\n    System.out.println(sdf.parse(MAN_ON_MOON).getTime());\r\n\r\nprints\r\n\r\n    -14159040000","title":"How to validate the unix timestamp in java?","body":"<p>We cannot tell you what is sensible for your application. If there was a limit which was correct for every situation it would be built in.  It could be that only timestamps after you developed your application and not in the future are sensible.</p>\n\n<pre><code>public static final String RELEASE_DATE = \"2011/06/17\";\nprivate static final long MIN_TIMESTAMP;\n\nstatic {\n    try {\n        MIN_TIMESTAMP = new SimpleDateFormat(\"yyyy/MM/dd\").parse(RELEASE_DATE).getTime();\n    } catch (ParseException e) {\n        throw new AssertionError(e);\n    }\n}\n\n// after the software was release and not in the future.\npublic static final boolean validTimestamp(long ts) {\n    return ts &gt;= MIN_TIMESTAMP &amp;&amp; ts &lt;= System.currentTimeMillis();\n}\n</code></pre>\n\n<p>However, it could be that the timestamp represents when someone was born. In which case the minimum timestamp could be negative.</p>\n\n<p>It could be that the timestamp is the time when something expires (like tickets) Some will be in the past (perhaps not before this year) and some will be in the future. (perhaps not more than 2 years in advance.)</p>\n\n<hr>\n\n<p>Times can be negative. Man landed on the moon before 1970 so the timestamp would be negative.</p>\n\n<pre><code>String MAN_ON_MOON = \"1969/07/21 02:56 GMT\";\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/dd HH:mm Z\");\nSystem.out.println(sdf.parse(MAN_ON_MOON).getTime());\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>-14159040000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10424768,"reputation":140,"user_id":7686412,"display_name":"maryf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690550467,"creation_date":1690550467,"answer_id":76788206,"question_id":6733487,"body_markdown":"Very old question but here is how I did it:\r\n\r\n\r\n  \r\n       boolean isNumberValue(String value) {\r\n\t\t  //TODO - check if is number\r\n\t\t  String regex = &quot;^[0-9]+$&quot;;\r\n\t\t  Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n\t\t  Matcher matcher = pattern.matcher(value);\r\n\t      boolean matchFound = matcher.find();\r\n\r\n          if(matchFound) {\r\n\t           //System.out.println(&quot;Match found&quot;);\r\n\t           return true;\r\n\t      } else {\r\n\t          //System.out.println(&quot;Match not found&quot;);\r\n\t          return false;\r\n\t      }\r\n\t   }\r\n\r\n       boolean isTimestamp(String timestamp) {\t\t\r\n    \t\ttry {\r\n    \t\t\tlong time = Long.valueOf(timestamp);\r\n    \t\t\tDate date = new Date((long)time);\r\n    \t\t\tlong dateOld = date.getTime();\r\n    \t\t\t//if no exception was raised, then its unix and only digits\r\n    \t\t\tif(!isNumberValue(String.valueOf(dateOld))) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n          \r\n       }\r\n    \r\n       if (isTimestamp(1679308838)){\r\n           System.out.println(&quot;Is unix timestamp&quot;);\r\n       }else{\r\n           System.out.println(&quot;NOT unix timestamp&quot;);\r\n       }\r\n\r\n","title":"How to validate the unix timestamp in java?","body":"<p>Very old question but here is how I did it:</p>\n<pre><code>   boolean isNumberValue(String value) {\n      //TODO - check if is number\n      String regex = &quot;^[0-9]+$&quot;;\n      Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n      Matcher matcher = pattern.matcher(value);\n      boolean matchFound = matcher.find();\n\n      if(matchFound) {\n           //System.out.println(&quot;Match found&quot;);\n           return true;\n      } else {\n          //System.out.println(&quot;Match not found&quot;);\n          return false;\n      }\n   }\n\n   boolean isTimestamp(String timestamp) {      \n        try {\n            long time = Long.valueOf(timestamp);\n            Date date = new Date((long)time);\n            long dateOld = date.getTime();\n            //if no exception was raised, then its unix and only digits\n            if(!isNumberValue(String.valueOf(dateOld))) {\n                return false;\n            }\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n      \n   }\n\n   if (isTimestamp(1679308838)){\n       System.out.println(&quot;Is unix timestamp&quot;);\n   }else{\n       System.out.println(&quot;NOT unix timestamp&quot;);\n   }\n</code></pre>\n"}],"owner":{"account_id":98649,"reputation":2019,"user_id":828234,"accept_rate":56,"display_name":"Roshan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15702,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":6733768,"answer_count":3,"score":3,"last_activity_date":1690550467,"creation_date":1310995096,"question_id":6733487,"body_markdown":"I need validate the given input String is a valid `Timestamp` in milliseconds.\r\n\r\nFor example if the given `Timestamp`\r\n\r\n    String time =&quot;1310966356458&quot;;\r\n\r\nThen it should return true.\r\n\r\nif \r\n\r\n    String time =&quot;1000&quot;;\r\n\r\nthen it should return false;\r\n\r\nPlease help. Thanks in advance","title":"How to validate the unix timestamp in java?","body":"<p>I need validate the given input String is a valid <code>Timestamp</code> in milliseconds.</p>\n\n<p>For example if the given <code>Timestamp</code></p>\n\n<pre><code>String time =\"1310966356458\";\n</code></pre>\n\n<p>Then it should return true.</p>\n\n<p>if </p>\n\n<pre><code>String time =\"1000\";\n</code></pre>\n\n<p>then it should return false;</p>\n\n<p>Please help. Thanks in advance</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"comments":[{"owner":{"account_id":29088547,"reputation":1,"user_id":22282956,"display_name":"Evgeny72"},"score":0,"creation_date":1690301409,"post_id":76763927,"comment_id":135332988,"body_markdown":"I need both themes, with the daytime everything is fine, but with the nighttime problems.","body":"I need both themes, with the daytime everything is fine, but with the nighttime problems."}],"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690297278,"creation_date":1690296790,"answer_id":76763927,"question_id":76763743,"body_markdown":"It&#39;s because it&#39;s Day Night Theme. If you change it to Light Theme, it won&#39;t. Or try deleting the theme.xml (night) file.","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>It's because it's Day Night Theme. If you change it to Light Theme, it won't. Or try deleting the theme.xml (night) file.</p>\n"},{"tags":[],"owner":{"account_id":29088547,"reputation":1,"user_id":22282956,"display_name":"Evgeny72"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690550432,"creation_date":1690550432,"answer_id":76788204,"question_id":76763743,"body_markdown":"values-night/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;ActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;?attr/colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/ActionBar&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n\r\n        ...\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>values-night/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;ActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorSurface&quot;&gt;?attr/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/ActionBar&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n\n        ...\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":29088547,"reputation":1,"user_id":22282956,"display_name":"Evgeny72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76788204,"answer_count":2,"score":0,"last_activity_date":1690550432,"creation_date":1690295352,"question_id":76763743,"body_markdown":"Why is the real background color of the ActionBar different in the night theme than in the xml? During the day everything is fine.\r\n\r\nP.s. [Actually Day][1] [Presumably Day][2]\r\n\r\n[Actually Night][3] [Presumably Night][4]\r\n\r\nP.s. values/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```\r\n\r\nvalues-night/style.xml:\r\n\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    ...\r\n&lt;/resources&gt;\r\n```\r\n\r\nChange background color of actionbar.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cbzGc.jpg\r\n  [2]: https://i.stack.imgur.com/ZxOoX.png\r\n  [3]: https://i.stack.imgur.com/3romF.jpg\r\n  [4]: https://i.stack.imgur.com/AaZyi.png","title":"Why is the real background color of the ActionBar different in the night theme than in the xml?","body":"<p>Why is the real background color of the ActionBar different in the night theme than in the xml? During the day everything is fine.</p>\n<p>P.s. <a href=\"https://i.stack.imgur.com/cbzGc.jpg\" rel=\"nofollow noreferrer\">Actually Day</a> <a href=\"https://i.stack.imgur.com/ZxOoX.png\" rel=\"nofollow noreferrer\">Presumably Day</a></p>\n<p><a href=\"https://i.stack.imgur.com/3romF.jpg\" rel=\"nofollow noreferrer\">Actually Night</a> <a href=\"https://i.stack.imgur.com/AaZyi.png\" rel=\"nofollow noreferrer\">Presumably Night</a></p>\n<p>P.s. values/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n<p>values-night/style.xml:</p>\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=&quot;Theme.DarkActionBar&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;/style&gt;\n\n    ...\n&lt;/resources&gt;\n</code></pre>\n<p>Change background color of actionbar.</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1689146664,"post_id":76668036,"comment_id":135170156,"body_markdown":"you are already testing if prj.getMasterData() == null before. if prj is null there, it&#39;ll throw an NPE, so it will never reach the if ( prj == null ) test. The place where you do that test, it is impossible for prj to be null","body":"you are already testing if prj.getMasterData() == null before. if prj is null there, it&#39;ll throw an NPE, so it will never reach the if ( prj == null ) test. The place where you do that test, it is impossible for prj to be null"}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689148309,"creation_date":1689148309,"answer_id":76668281,"question_id":76668036,"body_markdown":"The right way to rewrite your code, and so getting rid of SonarQube suggestions, is:\r\n\r\n```java\r\nif ((null != prj) &amp;&amp; (null != prj.getMasterData()) {\r\n  ECEOAuthDefs authDefs = new ECEOAuthDefs();\r\n  authDefs.setDescription(prj.getCode());\r\n}\r\n```\r\n\r\nSQ is telling you that if you enter the `if condition` it is because `prj` is not null, so it is not useful test it again.","title":"SonarQube Change this condition so that it does not always evaluate to &quot;false&quot;","body":"<p>The right way to rewrite your code, and so getting rid of SonarQube suggestions, is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ((null != prj) &amp;&amp; (null != prj.getMasterData()) {\n  ECEOAuthDefs authDefs = new ECEOAuthDefs();\n  authDefs.setDescription(prj.getCode());\n}\n</code></pre>\n<p>SQ is telling you that if you enter the <code>if condition</code> it is because <code>prj</code> is not null, so it is not useful test it again.</p>\n"}],"owner":{"account_id":28946727,"reputation":9,"user_id":22172175,"display_name":"hilal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690550263,"creation_date":1689146522,"question_id":76668036,"body_markdown":"[SonarQube screenshot](https://i.stack.imgur.com/RJMTV.png)\r\n\r\n&gt; 99. on the line &#39;implies &quot;ok&quot; is false&#39; and 102. i get the error &#39;expression is always false&#39; on the line. how can I change this situation?\r\n\r\niIneed this part in my code. I couldn&#39;t find a solution method.","title":"SonarQube Change this condition so that it does not always evaluate to &quot;false&quot;","body":"<p><a href=\"https://i.stack.imgur.com/RJMTV.png\" rel=\"nofollow noreferrer\">SonarQube screenshot</a></p>\n<blockquote>\n<ol start=\"99\">\n<li>on the line 'implies &quot;ok&quot; is false' and 102. i get the error 'expression is always false' on the line. how can I change this situation?</li>\n</ol>\n</blockquote>\n<p>iIneed this part in my code. I couldn't find a solution method.</p>\n"},{"tags":["java","jakarta-mail","apache-commons"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690472844,"post_id":76780917,"comment_id":135361925,"body_markdown":"That&#39;s not considered spamming, that&#39;s how stackoverflow works. There is a strict &quot;one question on one topic, possibly multiple answers&quot; mentality. No long winded threads like in a forum. See the [tour]. So you&#39;re good here.","body":"That&#39;s not considered spamming, that&#39;s how stackoverflow works. There is a strict &quot;one question on one topic, possibly multiple answers&quot; mentality. No long winded threads like in a forum. See the <a href=\"https://stackoverflow.com/tour\">tour</a>. So you&#39;re good here."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690474198,"post_id":76780917,"comment_id":135362200,"body_markdown":"Your best bet is probably to [enable debugging](https://javaee.github.io/javamail/FAQ#debug) logs (`email.setDebug(true)`) and see what it prints. Good luck!","body":"Your best bet is probably to <a href=\"https://javaee.github.io/javamail/FAQ#debug\" rel=\"nofollow noreferrer\">enable debugging</a> logs (<code>email.setDebug(true)</code>) and see what it prints. Good luck!"}],"owner":{"account_id":27228211,"reputation":9,"user_id":20756369,"display_name":"Hababbeldu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690550171,"creation_date":1690469133,"question_id":76780917,"body_markdown":"When I try to send a Apache Commons HtmlEmail with a specific port set, it works locally on my machine, but in the deployed docker container, the connection is refused because the port setting is ignored and the default port is used.\r\n\r\nI cannot share the code of the whole application, which contains an email service written in Kotlin, that is compiled to a jar with other java sources with Maven and run in a docker container based on eclipse temurin 11. The crazy thing is that this is not a problem (with the same container!) on an Ubuntu 18.04 host, but it fails on an Ubuntu 22.04 host.\r\n\r\nI tried to reproduce the problem locally, but locally, it worked. The Kotlin code that is basically the same that runs in the app can be run on the Kotlin CLI (needs https://mvnrepository.com/artifact/javax.activation/activation/1.1.1, https://javaee.github.io/javamail/#Download_JavaMail_Release and https://commons.apache.org/proper/commons-email/download_email.cgi):\r\n\r\n```sh\r\nkotlinc -cp commons-email-1.5.jar:javax.mail.jar:activation-1.1.1.jar\r\n```\r\n\r\n```kotlin\r\nimport org.apache.commons.mail.DefaultAuthenticator\r\nimport org.apache.commons.mail.HtmlEmail\r\nval email = HtmlEmail()\r\nemail.hostName = &quot;smtp.ionos.de&quot;\r\nemail.setSmtpPort(587)\r\nemail.setAuthenticator(DefaultAuthenticator(&quot;[redacted]&quot;,&quot;[redacted]&quot;))\r\nemail.isSSLOnConnect = true\r\nemail.setFrom(&quot;mail@[redacted]&quot;)\r\nemail.subject = &quot;Test from ThinkPad&quot;\r\nemail.setTextMsg(&quot;This is a drill&quot;)\r\nemail.addTo(&quot;[redacted]&quot;)\r\nemail.send()\r\n```\r\n\r\nI found nearly nothing specific to Apache Commons Mail, and found something on different settings that influence the default behaviour, but a) should they not be set by the framework? and b) this should not be an issue since the thing runs inside a docker container...\r\n\r\nEdit: Thank you Robert for clarifying!\r\n_Also I found this answer https://stackoverflow.com/a/21296375/20756369 and I would have liked to just ask &quot;HOW do I set the server&#39;s default settings&quot; but I do not have enough Karma to comment so apparently it is better if I spam an entirely new question._\r\n\r\n## Edit: I found my mistake\r\n\r\nAs per the [documentation](https://commons.apache.org/proper/commons-email/javadocs/api-release/index.html), `isSSLOnConnect(true)` needs to be used with `setSslSmtpPort(String)`, while no TLS or `setStartTLSRequired(true)` use the port that is set by `setSmtpPort(Int)`.\r\n\r\nThe used hosting provider (IONOS) apparently only offers startTLS on port 587, and I have yet to get SSL on port 995 to work, but that is a different topic.\r\n\r\nAs for why it works on the old on-premise host, but not on the one in the cloud: Some Hosting Providers **block port 465** to prevent spammers from using their services. \r\n","title":"Apache HtmlEmail setPort is ignored","body":"<p>When I try to send a Apache Commons HtmlEmail with a specific port set, it works locally on my machine, but in the deployed docker container, the connection is refused because the port setting is ignored and the default port is used.</p>\n<p>I cannot share the code of the whole application, which contains an email service written in Kotlin, that is compiled to a jar with other java sources with Maven and run in a docker container based on eclipse temurin 11. The crazy thing is that this is not a problem (with the same container!) on an Ubuntu 18.04 host, but it fails on an Ubuntu 22.04 host.</p>\n<p>I tried to reproduce the problem locally, but locally, it worked. The Kotlin code that is basically the same that runs in the app can be run on the Kotlin CLI (needs <a href=\"https://mvnrepository.com/artifact/javax.activation/activation/1.1.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.activation/activation/1.1.1</a>, <a href=\"https://javaee.github.io/javamail/#Download_JavaMail_Release\" rel=\"nofollow noreferrer\">https://javaee.github.io/javamail/#Download_JavaMail_Release</a> and <a href=\"https://commons.apache.org/proper/commons-email/download_email.cgi\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-email/download_email.cgi</a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>kotlinc -cp commons-email-1.5.jar:javax.mail.jar:activation-1.1.1.jar\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.apache.commons.mail.DefaultAuthenticator\nimport org.apache.commons.mail.HtmlEmail\nval email = HtmlEmail()\nemail.hostName = &quot;smtp.ionos.de&quot;\nemail.setSmtpPort(587)\nemail.setAuthenticator(DefaultAuthenticator(&quot;[redacted]&quot;,&quot;[redacted]&quot;))\nemail.isSSLOnConnect = true\nemail.setFrom(&quot;mail@[redacted]&quot;)\nemail.subject = &quot;Test from ThinkPad&quot;\nemail.setTextMsg(&quot;This is a drill&quot;)\nemail.addTo(&quot;[redacted]&quot;)\nemail.send()\n</code></pre>\n<p>I found nearly nothing specific to Apache Commons Mail, and found something on different settings that influence the default behaviour, but a) should they not be set by the framework? and b) this should not be an issue since the thing runs inside a docker container...</p>\n<p>Edit: Thank you Robert for clarifying!\n<em>Also I found this answer <a href=\"https://stackoverflow.com/a/21296375/20756369\">https://stackoverflow.com/a/21296375/20756369</a> and I would have liked to just ask &quot;HOW do I set the server's default settings&quot; but I do not have enough Karma to comment so apparently it is better if I spam an entirely new question.</em></p>\n<h2>Edit: I found my mistake</h2>\n<p>As per the <a href=\"https://commons.apache.org/proper/commons-email/javadocs/api-release/index.html\" rel=\"nofollow noreferrer\">documentation</a>, <code>isSSLOnConnect(true)</code> needs to be used with <code>setSslSmtpPort(String)</code>, while no TLS or <code>setStartTLSRequired(true)</code> use the port that is set by <code>setSmtpPort(Int)</code>.</p>\n<p>The used hosting provider (IONOS) apparently only offers startTLS on port 587, and I have yet to get SSL on port 995 to work, but that is a different topic.</p>\n<p>As for why it works on the old on-premise host, but not on the one in the cloud: Some Hosting Providers <strong>block port 465</strong> to prevent spammers from using their services.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1689449213,"post_id":76695395,"comment_id":135216258,"body_markdown":"Seems like you&#39;ve don&#39;t commuting the transaction. Check your repository.","body":"Seems like you&#39;ve don&#39;t commuting the transaction. Check your repository."},{"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"score":0,"creation_date":1689472719,"post_id":76695395,"comment_id":135218011,"body_markdown":"I don&#39;t know what you mean by &quot;you&#39;ve don&#39;t commuting the transaction&quot;.  What should I check in my repository?","body":"I don&#39;t know what you mean by &quot;you&#39;ve don&#39;t commuting the transaction&quot;.  What should I check in my repository?"}],"answers":[{"comments":[{"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"score":0,"creation_date":1689472613,"post_id":76695649,"comment_id":135218006,"body_markdown":"This does not seem to work.","body":"This does not seem to work."},{"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"score":0,"creation_date":1689472966,"post_id":76695649,"comment_id":135218022,"body_markdown":"Neither does this     @Column(name = &quot;`firstName`&quot;, nullable = false)","body":"Neither does this     @Column(name = &quot;<code>firstName</code>&quot;, nullable = false)"}],"tags":[],"owner":{"account_id":4979751,"reputation":111,"user_id":4005094,"display_name":"Kirill Byvshev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689452544,"creation_date":1689452544,"answer_id":76695649,"question_id":76695395,"body_markdown":"Add quotes for your name:\r\n\r\n```\r\n@Column(name = &quot;\\&quot;firstName\\&quot;&quot;, nullable = false)\r\nprivate String firstName;\r\n```","title":"Spring Boot model not updating in database","body":"<p>Add quotes for your name:</p>\n<pre><code>@Column(name = &quot;\\&quot;firstName\\&quot;&quot;, nullable = false)\nprivate String firstName;\n</code></pre>\n"}],"owner":{"account_id":25476116,"reputation":1,"user_id":19273333,"display_name":"deckard2020"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690550055,"creation_date":1689448524,"question_id":76695395,"body_markdown":"I am using a simple spring boot application and I cannot get my column names to update in my database.  I CAN get the name of the tables to update, but I cannot get the column names to update.\r\n\r\nHere is my User class:\r\n\r\n    package com.helpinghand.HelpingHand.Backend.Model;\r\n    \r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;firstName&quot;, nullable = false)\r\n        private String firstName;\r\n    \r\n        @Column(nullable = false)\r\n        private String lastName;\r\n    \r\n        @Column(nullable = false)\r\n        private String phoneNumber;\r\n    \r\n        @Column(nullable = false)\r\n        private String streetAddress;\r\n    \r\n        @Column(nullable = false)\r\n        private String city;\r\n    \r\n        @Column(nullable = false)\r\n        private String state;\r\n    \r\n        @Column(nullable = false)\r\n        private String zip;\r\n    \r\n        @Column(nullable = false, unique = true)\r\n        private String email;\r\n    \r\n        @Column(nullable = false)\r\n        private boolean isAdmin;\r\n    \r\n        @Column(nullable = false)\r\n        private String password;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDateTime createdDate;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public User(String firstName, String lastName, String phoneNumber, String streetAddress, String city, String state, String zip, String email, boolean isAdmin, LocalDateTime createDate, String password) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.phoneNumber = phoneNumber;\r\n            this.streetAddress = streetAddress;\r\n            this.city = city;\r\n            this.state = state;\r\n            this.zip = zip;\r\n            this.email = email;\r\n            this.isAdmin = isAdmin;\r\n            this.createdDate = createDate;\r\n    //        this.password = password;\r\n            setPassword(password);  // Set the hashed password\r\n        }\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n    \r\n        public String getStreetAddress() {\r\n            return streetAddress;\r\n        }\r\n    \r\n        public void setStreetAddress(String streetAddress) {\r\n            this.streetAddress = streetAddress;\r\n        }\r\n    \r\n        public String getCity() {\r\n            return city;\r\n        }\r\n    \r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getState() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        public String getZip() {\r\n            return zip;\r\n        }\r\n    \r\n        public void setZip(String zip) {\r\n            this.zip = zip;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public boolean isAdmin() {\r\n            return isAdmin;\r\n        }\r\n    \r\n        public void setAdmin(boolean admin) {\r\n            isAdmin = admin;\r\n        }\r\n    \r\n        public LocalDateTime getCreatedDate() {\r\n            return createdDate;\r\n        }\r\n    \r\n        public void setCreatedDate(LocalDateTime createDate) {\r\n            this.createdDate = createDate;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n    //    public void setPassword(String password) {\r\n    //        this.password = password;\r\n    //    }\r\n    \r\n        public void setPassword(String password) {\r\n            // TODO: Perform password hashing here\r\n            this.password = hashPassword(password);\r\n        }\r\n    \r\n        private String hashPassword(String password) {\r\n            BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            return passwordEncoder.encode(password);\r\n        }\r\n    }\r\n\r\nHere is my application.properties class:\r\n\r\n    server.port = 8080\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    #spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    \r\n    #server.port=8080\r\n    #\r\n    #spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\r\n    #spring.datasource.username=root\r\n    #spring.datasource.password=\r\n    #spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    #spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    #spring.jpa.hibernate.ddl-auto=create-drop\r\n    #spring.jpa.show-sql=true\r\n\r\nI have removed my password in the application.properities class.\r\n\r\nI have refreshed the schema in MySQL.\r\n\r\nI have deleted the entire schema from the database and recreated it.  I have rebuilt my maven project many times.  For some reason when the database starts up it names the columns in the format &quot;first_name&quot; instead of firstName.  \r\n[enter image description here][1]\r\n\r\nThe database also does not recognize the &quot;not null&quot; attributes I have on some of the variables in my User class.\r\n\r\nIt also doesn&#39;t recognize the id parameter of my model.  If I use a manual query in MySQL to enter a row into the database I have to include an id value.  Shouldn&#39;t this be auto generated?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GACBo.png","title":"Spring Boot model not updating in database","body":"<p>I am using a simple spring boot application and I cannot get my column names to update in my database.  I CAN get the name of the tables to update, but I cannot get the column names to update.</p>\n<p>Here is my User class:</p>\n<pre><code>package com.helpinghand.HelpingHand.Backend.Model;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;User&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(name = &quot;firstName&quot;, nullable = false)\n    private String firstName;\n\n    @Column(nullable = false)\n    private String lastName;\n\n    @Column(nullable = false)\n    private String phoneNumber;\n\n    @Column(nullable = false)\n    private String streetAddress;\n\n    @Column(nullable = false)\n    private String city;\n\n    @Column(nullable = false)\n    private String state;\n\n    @Column(nullable = false)\n    private String zip;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private boolean isAdmin;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false)\n    private LocalDateTime createdDate;\n\n    public User() {\n    }\n\n    public User(String firstName, String lastName, String phoneNumber, String streetAddress, String city, String state, String zip, String email, boolean isAdmin, LocalDateTime createDate, String password) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.phoneNumber = phoneNumber;\n        this.streetAddress = streetAddress;\n        this.city = city;\n        this.state = state;\n        this.zip = zip;\n        this.email = email;\n        this.isAdmin = isAdmin;\n        this.createdDate = createDate;\n//        this.password = password;\n        setPassword(password);  // Set the hashed password\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getStreetAddress() {\n        return streetAddress;\n    }\n\n    public void setStreetAddress(String streetAddress) {\n        this.streetAddress = streetAddress;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getZip() {\n        return zip;\n    }\n\n    public void setZip(String zip) {\n        this.zip = zip;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public boolean isAdmin() {\n        return isAdmin;\n    }\n\n    public void setAdmin(boolean admin) {\n        isAdmin = admin;\n    }\n\n    public LocalDateTime getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(LocalDateTime createDate) {\n        this.createdDate = createDate;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n//    public void setPassword(String password) {\n//        this.password = password;\n//    }\n\n    public void setPassword(String password) {\n        // TODO: Perform password hashing here\n        this.password = hashPassword(password);\n    }\n\n    private String hashPassword(String password) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        return passwordEncoder.encode(password);\n    }\n}\n</code></pre>\n<p>Here is my application.properties class:</p>\n<pre><code>server.port = 8080\n\nspring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n#spring.jpa.hibernate.ddl-auto=none\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n#server.port=8080\n#\n#spring.datasource.url=jdbc:mysql://localhost:3306/helpinghand\n#spring.datasource.username=root\n#spring.datasource.password=\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n#spring.jpa.hibernate.ddl-auto=create-drop\n#spring.jpa.show-sql=true\n</code></pre>\n<p>I have removed my password in the application.properities class.</p>\n<p>I have refreshed the schema in MySQL.</p>\n<p>I have deleted the entire schema from the database and recreated it.  I have rebuilt my maven project many times.  For some reason when the database starts up it names the columns in the format &quot;first_name&quot; instead of firstName.<br />\n<a href=\"https://i.stack.imgur.com/GACBo.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The database also does not recognize the &quot;not null&quot; attributes I have on some of the variables in my User class.</p>\n<p>It also doesn't recognize the id parameter of my model.  If I use a manual query in MySQL to enter a row into the database I have to include an id value.  Shouldn't this be auto generated?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":9605621,"reputation":37117,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1570444610,"post_id":58267430,"comment_id":102902938,"body_markdown":"Have you tried changing the configuration from `offset.storage.file.filename=/tmp/connect.offsets` to e.g. `offset.storage.file.filename=\\kafka\\test\\connect.offsets` (make sure to create `\\kafka\\test\\` )","body":"Have you tried changing the configuration from <code>offset.storage.file.filename=&#47;tmp&#47;connect.offsets</code> to e.g. <code>offset.storage.file.filename=\\kafka\\test\\connect.offsets</code> (make sure to create `\\kafka\\test` )"},{"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"score":0,"creation_date":1570444926,"post_id":58267430,"comment_id":102903075,"body_markdown":"@GiorgosMyrianthous I should create your suggested directory in the kafka-connect directory?","body":"@GiorgosMyrianthous I should create your suggested directory in the kafka-connect directory?"}],"answers":[{"comments":[{"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"score":0,"creation_date":1570606951,"post_id":58275115,"comment_id":102961321,"body_markdown":"Thanks for your answer. I was confused because these are my first steps with Kafka on Windows and I was not sure where I suppose to store offsets. Can You suggest a silver bullet configuration for a launched Kafka on windows to store offsets properly?","body":"Thanks for your answer. I was confused because these are my first steps with Kafka on Windows and I was not sure where I suppose to store offsets. Can You suggest a silver bullet configuration for a launched Kafka on windows to store offsets properly?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1570638994,"post_id":58275115,"comment_id":102978808,"body_markdown":"I would suggest using connect-distributed, as mentioned. Then it should run on any system without relying on file paths","body":"I would suggest using connect-distributed, as mentioned. Then it should run on any system without relying on file paths"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570472460,"creation_date":1570472460,"answer_id":58275115,"question_id":58267430,"body_markdown":"&gt; I am using Windows 10 which doesn&#39;t have this path.\r\n\r\nThen change it to a path that does exist? \r\n\r\n    file://c:/Users/your_name/kafka_connect.offsets\r\n\r\nAlternatively, run `connect-distributed.bat`, which doesn&#39;t use files for offsets and stores that data back into a Kafka topic. \r\n\r\n---\r\n\r\nNote: Kafka itself should be reporting a similar error because the default `logs.dir` is under `/tmp` as well","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<blockquote>\n  <p>I am using Windows 10 which doesn't have this path.</p>\n</blockquote>\n\n<p>Then change it to a path that does exist? </p>\n\n<pre><code>file://c:/Users/your_name/kafka_connect.offsets\n</code></pre>\n\n<p>Alternatively, run <code>connect-distributed.bat</code>, which doesn't use files for offsets and stores that data back into a Kafka topic. </p>\n\n<hr>\n\n<p>Note: Kafka itself should be reporting a similar error because the default <code>logs.dir</code> is under <code>/tmp</code> as well</p>\n"},{"tags":[],"owner":{"account_id":20567806,"reputation":35,"user_id":15096732,"display_name":"Sidhant Suvagiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690549493,"creation_date":1690549493,"answer_id":76788091,"question_id":58267430,"body_markdown":"After searching for an hour, I found a solution.\r\n\r\nOne Solution is Running `connect-distributed.bat`\r\n\r\n\r\n----------\r\n\r\n\r\nBut if you want to use `connect-standalone.bat`, Just create a new folder (`tmp`) in your Kafka folder.\r\n\r\nand then change the value mentioned below in `connect-standalone.properties`.\r\n\r\n    offset.storage.file.filename=C:/kafka/tmp/connect.offsets\r\n\r\n\r\nAfter that, Restart Zookeeper and Kafka and run Kafka-connect again. now there will be no errors. It will automatically create a new file name in the tmp folder called `connect.offsets`","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<p>After searching for an hour, I found a solution.</p>\n<p>One Solution is Running <code>connect-distributed.bat</code></p>\n<hr />\n<p>But if you want to use <code>connect-standalone.bat</code>, Just create a new folder (<code>tmp</code>) in your Kafka folder.</p>\n<p>and then change the value mentioned below in <code>connect-standalone.properties</code>.</p>\n<pre><code>offset.storage.file.filename=C:/kafka/tmp/connect.offsets\n</code></pre>\n<p>After that, Restart Zookeeper and Kafka and run Kafka-connect again. now there will be no errors. It will automatically create a new file name in the tmp folder called <code>connect.offsets</code></p>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58275115,"answer_count":2,"score":2,"last_activity_date":1690549493,"creation_date":1570442993,"question_id":58267430,"body_markdown":"I want to use Apache Kafka Connect to consume tweets from Twitter and get them into my Kafka instance. I met a strange problem, namely, I am running a script:\r\n\r\n```\r\nconnect-standalone.bat connect-standalone.properties twitter.properties\r\n```\r\n\r\nand I am receiving a list of errors in console log like:\r\n\r\n```\r\n[2019-10-07 11:48:02,758] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:12,759] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:12,763] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:22,765] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:22,770] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n[2019-10-07 11:48:32,772] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\r\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\r\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        ... 3 more\r\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\r\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\r\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\r\n        ... 6 more\r\n[2019-10-07 11:48:32,776] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\r\n```\r\n\r\nSeemingly this should not work but my Kafka-Consumer which is listening to Kafka-Cluster is receiving tweets despite these errors which occurs while Kafka start. \r\n\r\nMy connect-standalone.properties looks like:\r\n\r\n```\r\nbootstrap.servers=localhost:9092\r\n\r\nkey.converter=org.apache.kafka.connect.json.JsonConverter\r\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\r\n\r\nkey.converter.schemas.enable=true\r\nvalue.converter.schemas.enable=true\r\n\r\noffset.storage.file.filename=/tmp/connect.offsets\r\n\r\noffset.flush.interval.ms=10000\r\n\r\nplugin.path=connectors\r\n\r\n```\r\ntwitter.properties looks like:\r\n```\r\nname=TwitterSourceDemo\r\ntasks.max=1\r\nconnector.class=com.github.jcustenborder.kafka.connect.twitter.TwitterSourceConnector\r\n\r\ntwitter.oauth.accessTokenSecret=accesTokenSecret\r\nprocess.deletes=false\r\nfilter.keywords=bitcoin\r\nkafka.status.topic=twitter_status_connect\r\nkafka.delete.topic=twitter_deletes_connect\r\ntwitter.oauth.consumerSecret=consumerSecret\r\ntwitter.oauth.accessToken=accessToken\r\ntwitter.oauth.consumerKey=consumerKey\r\n```\r\nVisual tree of my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m looking for a problem in the line: \r\n```\r\noffset.storage.file.filename=/tmp/connect.offsets\r\n```\r\nbecause I am using Windows 10 which doesn&#39;t have this path.\r\n\r\nI want to know if it is possible to fix my configuration to rid off these errors while Kafka start. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4s4t.png\r\n\r\nI will be grateful for a suggestion how to fix this problem. ","title":"Getting NoSuchFileException: while starting Kafka instance","body":"<p>I want to use Apache Kafka Connect to consume tweets from Twitter and get them into my Kafka instance. I met a strange problem, namely, I am running a script:</p>\n\n<pre><code>connect-standalone.bat connect-standalone.properties twitter.properties\n</code></pre>\n\n<p>and I am receiving a list of errors in console log like:</p>\n\n<pre><code>[2019-10-07 11:48:02,758] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:12,759] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:12,763] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:22,765] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:22,770] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n[2019-10-07 11:48:32,772] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Flush of offsets threw an unexpected exception:  (org.apache.kafka.connect.runtime.WorkerSourceTask)\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n        at org.apache.kafka.connect.runtime.WorkerSourceTask.commitOffsets(WorkerSourceTask.java:472)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.commit(SourceTaskOffsetCommitter.java:111)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter.access$000(SourceTaskOffsetCommitter.java:46)\n        at org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter$1.run(SourceTaskOffsetCommitter.java:84)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.apache.kafka.connect.errors.ConnectException: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:101)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:105)\n        at org.apache.kafka.connect.storage.MemoryOffsetBackingStore$2.call(MemoryOffsetBackingStore.java:99)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 more\nCaused by: java.nio.file.NoSuchFileException: \\tmp\\connect.offsets\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n        at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n        at java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:231)\n        at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n        at java.base/java.nio.file.Files.newOutputStream(Files.java:219)\n        at org.apache.kafka.connect.storage.FileOffsetBackingStore.save(FileOffsetBackingStore.java:92)\n        ... 6 more\n[2019-10-07 11:48:32,776] ERROR WorkerSourceTask{id=TwitterSourceDemo-0} Failed to commit offsets (org.apache.kafka.connect.runtime.SourceTaskOffsetCommitter)\n</code></pre>\n\n<p>Seemingly this should not work but my Kafka-Consumer which is listening to Kafka-Cluster is receiving tweets despite these errors which occurs while Kafka start. </p>\n\n<p>My connect-standalone.properties looks like:</p>\n\n<pre><code>bootstrap.servers=localhost:9092\n\nkey.converter=org.apache.kafka.connect.json.JsonConverter\nvalue.converter=org.apache.kafka.connect.json.JsonConverter\n\nkey.converter.schemas.enable=true\nvalue.converter.schemas.enable=true\n\noffset.storage.file.filename=/tmp/connect.offsets\n\noffset.flush.interval.ms=10000\n\nplugin.path=connectors\n\n</code></pre>\n\n<p>twitter.properties looks like:</p>\n\n<pre><code>name=TwitterSourceDemo\ntasks.max=1\nconnector.class=com.github.jcustenborder.kafka.connect.twitter.TwitterSourceConnector\n\ntwitter.oauth.accessTokenSecret=accesTokenSecret\nprocess.deletes=false\nfilter.keywords=bitcoin\nkafka.status.topic=twitter_status_connect\nkafka.delete.topic=twitter_deletes_connect\ntwitter.oauth.consumerSecret=consumerSecret\ntwitter.oauth.accessToken=accessToken\ntwitter.oauth.consumerKey=consumerKey\n</code></pre>\n\n<p>Visual tree of my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C4s4t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4s4t.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm looking for a problem in the line: </p>\n\n<pre><code>offset.storage.file.filename=/tmp/connect.offsets\n</code></pre>\n\n<p>because I am using Windows 10 which doesn't have this path.</p>\n\n<p>I want to know if it is possible to fix my configuration to rid off these errors while Kafka start. </p>\n\n<p>I will be grateful for a suggestion how to fix this problem. </p>\n"},{"tags":["java","maven","maven-war-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690457194,"post_id":76771587,"comment_id":135358086,"body_markdown":"The maven-war-plugin is not intended to copy things?.. Why do you need to do that? I","body":"The maven-war-plugin is not intended to copy things?.. Why do you need to do that? I"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690460183,"post_id":76771587,"comment_id":135358745,"body_markdown":"Because my WAR file is included in an EAR file and the maven-ear-plugin that I use, moves all jars into the root lib of the EAR file. But I need this particular myJar.jar under the WEB-INF/lib of the WAR file.","body":"Because my WAR file is included in an EAR file and the maven-ear-plugin that I use, moves all jars into the root lib of the EAR file. But I need this particular myJar.jar under the WEB-INF/lib of the WAR file."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690476735,"post_id":76771587,"comment_id":135362707,"body_markdown":"If it&#39;s moved you are using skinny wars which means it&#39;s duplicated in other wars as well. so where is the problem?","body":"If it&#39;s moved you are using skinny wars which means it&#39;s duplicated in other wars as well. so where is the problem?"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690533722,"post_id":76771587,"comment_id":135370185,"body_markdown":"The problem is that it doesn&#39;t copy only the jar file into the WAR file, but the whole directory v1/myJar.jar\nBut this changes the structure of the WAR and it doesn&#39;t work.","body":"The problem is that it doesn&#39;t copy only the jar file into the WAR file, but the whole directory v1/myJar.jar But this changes the structure of the WAR and it doesn&#39;t work."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690544146,"post_id":76771587,"comment_id":135372233,"body_markdown":"It sounds like a circle because it&#39;s removed because it&#39;s duplicated ...why do you have a directory v1 somewhere? The lib directory is not allowed to have a sub directory .... ??","body":"It sounds like a circle because it&#39;s removed because it&#39;s duplicated ...why do you have a directory v1 somewhere? The lib directory is not allowed to have a sub directory .... ??"},{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690550259,"post_id":76771587,"comment_id":135373425,"body_markdown":"The myJar.jar is not duplicated. I have let&#39;s say myJar1.jar under v1 and myJar2.jar under v2.\nmyJar1.jar should be added under WEB-INF/lib of WAR file 1\nmyJar2.jar should be added under WEB-INF/lib of WAR file 2\nThe reason for subfolders v1 and v2 is that I want to have 2 different versions of the module running in parallel.","body":"The myJar.jar is not duplicated. I have let&#39;s say myJar1.jar under v1 and myJar2.jar under v2. myJar1.jar should be added under WEB-INF/lib of WAR file 1 myJar2.jar should be added under WEB-INF/lib of WAR file 2 The reason for subfolders v1 and v2 is that I want to have 2 different versions of the module running in parallel."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690839121,"post_id":76771587,"comment_id":135406280,"body_markdown":"That does not work...because the classloading will not really support that based on the standards... Only directory lib is supported as far as I know...","body":"That does not work...because the classloading will not really support that based on the standards... Only directory lib is supported as far as I know..."}],"answers":[{"comments":[{"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"score":0,"creation_date":1690552335,"post_id":76788082,"comment_id":135373885,"body_markdown":"Unfortunately, this doesn&#39;t work, as nothing is copied under the WEB-INF/lib of the WAR file.","body":"Unfortunately, this doesn&#39;t work, as nothing is copied under the WEB-INF/lib of the WAR file."}],"tags":[],"owner":{"account_id":29109510,"reputation":38,"user_id":22299585,"display_name":"Amine Hayani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690549447,"creation_date":1690549447,"answer_id":76788082,"question_id":76771587,"body_markdown":"    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\r\n                &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;myJar.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/webResources&gt;\r\n    &lt;/configuration&gt;\r\n\r\nWith this configuration, only the myJar.jar file will be copied to WEB-INF/lib without the v1 subfolder. The resulting WAR file structure will be as follows:\r\n\r\n\r\n    └── WEB-INF\r\n          └─── lib\r\n                └── myJar.jar\r\n\r\nyou can specify the specific files you want to include, and any subdirectories will be ignored. This way, you can achieve the desired flattened directory structure in the WAR file.","title":"maven-war-plugin copies only subdirectories (including files). Not just files","body":"<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.3.2&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;webResources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\n            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;myJar.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/webResources&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>With this configuration, only the myJar.jar file will be copied to WEB-INF/lib without the v1 subfolder. The resulting WAR file structure will be as follows:</p>\n<pre><code>└── WEB-INF\n      └─── lib\n            └── myJar.jar\n</code></pre>\n<p>you can specify the specific files you want to include, and any subdirectories will be ignored. This way, you can achieve the desired flattened directory structure in the WAR file.</p>\n"}],"owner":{"account_id":8953903,"reputation":11,"user_id":6679012,"display_name":"Michail Touloupis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690549447,"creation_date":1690376285,"question_id":76771587,"body_markdown":"I am using the maven-war-plugin (version 3.3.2) in order to copy a jar file from target/lib/v1 into the WEB-INF/lib of the WAR file.\r\n\r\nThe jar file is located under: **target/lib/v1/myJar.jar**\r\n\r\nThe pom.xml looks like this: \r\n\r\n```&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n              &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\r\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n          &lt;/webResources&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nUnfortunately this doesn&#39;t work as the jar is not copied under WEB-INF/lib.\r\n\r\nI have the feeling that the maven-war-plugin is looking for a folder to copy.\r\n\r\nI modified my pom.xml as shown below (I removed the v1):\r\n```&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;webResources&gt;\r\n            &lt;resource&gt;\r\n              &lt;directory&gt;${project.build.directory}/lib&lt;/directory&gt;\r\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n          &lt;/webResources&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nand the jar was copied, but with the subfolder v1.\r\n\r\nSo, the WAR was like this: \r\n``` \r\n    └── WEB-INF\r\n          └─── lib\r\n                └── v1\r\n                     └── myJar.jar\r\n```\r\n\r\nBut this one doesn&#39;t help, as the jar has to be directly under lib.\r\n\r\nAny help would be really appreciated.","title":"maven-war-plugin copies only subdirectories (including files). Not just files","body":"<p>I am using the maven-war-plugin (version 3.3.2) in order to copy a jar file from target/lib/v1 into the WEB-INF/lib of the WAR file.</p>\n<p>The jar file is located under: <strong>target/lib/v1/myJar.jar</strong></p>\n<p>The pom.xml looks like this:</p>\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/lib/v1&lt;/directory&gt;\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately this doesn't work as the jar is not copied under WEB-INF/lib.</p>\n<p>I have the feeling that the maven-war-plugin is looking for a folder to copy.</p>\n<p>I modified my pom.xml as shown below (I removed the v1):</p>\n<pre><code>        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;${project.build.directory}/lib&lt;/directory&gt;\n              &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>and the jar was copied, but with the subfolder v1.</p>\n<p>So, the WAR was like this:</p>\n<pre><code>    └── WEB-INF\n          └─── lib\n                └── v1\n                     └── myJar.jar\n</code></pre>\n<p>But this one doesn't help, as the jar has to be directly under lib.</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689771212,"post_id":76719143,"comment_id":135260208,"body_markdown":"I&#39;m puzzled. Are you saying the extension is missing in parameter `filename`?","body":"I&#39;m puzzled. Are you saying the extension is missing in parameter <code>filename</code>?"},{"owner":{"account_id":38657,"reputation":2015,"user_id":111110,"accept_rate":92,"display_name":"Broken_Window"},"score":0,"creation_date":1689802662,"post_id":76719143,"comment_id":135267020,"body_markdown":"What I understood is that you want to get the name and the file extension from the Base64 String because it is not given to you via the filename parameter. This is not possible. The best you can do is to read the first characters and compare then to known file headers to guess the file extension. For a pdf file the first four characters will be &#39;%PDF&#39;","body":"What I understood is that you want to get the name and the file extension from the Base64 String because it is not given to you via the filename parameter. This is not possible. The best you can do is to read the first characters and compare then to known file headers to guess the file extension. For a pdf file the first four characters will be &#39;%PDF&#39;"}],"owner":{"account_id":29047375,"reputation":1,"user_id":22250910,"display_name":"Nhat Huy Dang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690549428,"creation_date":1689753798,"question_id":76719143,"body_markdown":"This function is used to convert a Base64 String to file, but the problem here is the data only read then write to the file, I cannot define what type of that file is (example: .png, .jpeg, .pdf). Help me to solve it!\r\n\r\n```\r\npublic static File convertBase64ToFile(String str, String filePath, String fileName) {\r\n        // Note preferred way of declaring an array variable\r\n        File file = new File(filePath + fileName);\r\n        byte[] data = Base64.getDecoder().decode(str);\r\n        try {\r\n            FileUtils.writeByteArrayToFile(file, data);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n```\r\n\r\n\r\n\r\nFor example, the file_content is &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEB...&quot;. I want to get the file name with its extension like &quot;image.jpg&quot;, and the same with pdf or png without creating the new file, only get the name and extension (I cannot use the apache tika for some reasons).","title":"Get extension from file created from Base64 string","body":"<p>This function is used to convert a Base64 String to file, but the problem here is the data only read then write to the file, I cannot define what type of that file is (example: .png, .jpeg, .pdf). Help me to solve it!</p>\n<pre><code>public static File convertBase64ToFile(String str, String filePath, String fileName) {\n        // Note preferred way of declaring an array variable\n        File file = new File(filePath + fileName);\n        byte[] data = Base64.getDecoder().decode(str);\n        try {\n            FileUtils.writeByteArrayToFile(file, data);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n</code></pre>\n<p>For example, the file_content is &quot;/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEB...&quot;. I want to get the file name with its extension like &quot;image.jpg&quot;, and the same with pdf or png without creating the new file, only get the name and extension (I cannot use the apache tika for some reasons).</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1689763274,"post_id":76720382,"comment_id":135258316,"body_markdown":"Write a select query? H2 is sql based db.","body":"Write a select query? H2 is sql based db."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689763296,"post_id":76720382,"comment_id":135258321,"body_markdown":"If the repository is not throwing any error then it is saved. To forcefully persist the `entity` you can use `flush()` method. Another way to verify if the `entity` exists is by `querying` for the `entity` using the `Id` you got while saving the `entity`.","body":"If the repository is not throwing any error then it is saved. To forcefully persist the <code>entity</code> you can use <code>flush()</code> method. Another way to verify if the <code>entity</code> exists is by <code>querying</code> for the <code>entity</code> using the <code>Id</code> you got while saving the <code>entity</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763461,"post_id":76720382,"comment_id":135258360,"body_markdown":"btw. *url: jdbc:h2:file:~/src/main/resources/db/hellodb* doesn&#39;t look right - that&#39;s a path in what looks like your *dev* environment which shouldn&#39;t be present in a deployment","body":"btw. <i>url: jdbc:h2:file:~/src/main/resources/db/hellodb</i> doesn&#39;t look right - that&#39;s a path in what looks like your <i>dev</i> environment which shouldn&#39;t be present in a deployment"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763531,"post_id":76720382,"comment_id":135258376,"body_markdown":"@Chaosfire does it work even if I use a File as my db and not In-memory? When I open the h2 console I couldn&#39;t see anything  like my tables or whatnot and if I also check the hellodb.text in the resource folder of my spring boot app I also couldn&#39;t see any data that persists. :(","body":"@Chaosfire does it work even if I use a File as my db and not In-memory? When I open the h2 console I couldn&#39;t see anything  like my tables or whatnot and if I also check the hellodb.text in the resource folder of my spring boot app I also couldn&#39;t see any data that persists. :("},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763669,"post_id":76720382,"comment_id":135258412,"body_markdown":"@g00se since I only need to create a demo spring boot app that is using File as its persistence I think it will sufficed for this use case. But I appreciate the heads up. &lt;3","body":"@g00se since I only need to create a demo spring boot app that is using File as its persistence I think it will sufficed for this use case. But I appreciate the heads up. &lt;3"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763795,"post_id":76720382,"comment_id":135258443,"body_markdown":"@Prog_G is there no other way for me to see the data entries in my File db? the same way you can see the records in NoSql/Sql databases for example?","body":"@Prog_G is there no other way for me to see the data entries in my File db? the same way you can see the records in NoSql/Sql databases for example?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763806,"post_id":76720382,"comment_id":135258445,"body_markdown":"You do realise that *file* url (so it can&#39;t be in-memory) is off your *home* directory? So are you looking in the right place? Incidentally, I wouldn&#39;t use `~` as that&#39;s a shell thing. Maybe that didn&#39;t even resolve... `ls -l ~/src/main/resources/db/hellodb`","body":"You do realise that <i>file</i> url (so it can&#39;t be in-memory) is off your <i>home</i> directory? So are you looking in the right place? Incidentally, I wouldn&#39;t use <code>~</code> as that&#39;s a shell thing. Maybe that didn&#39;t even resolve... <code>ls -l ~&#47;src&#47;main&#47;resources&#47;db&#47;hellodb</code>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689763971,"post_id":76720382,"comment_id":135258472,"body_markdown":"@g00se can you possibly expound more on your above comment? This is my first time using a File as my db for a demo requirement and I am so lost since I am only familiar with using NoSql and Sql databases..huhu","body":"@g00se can you possibly expound more on your above comment? This is my first time using a File as my db for a demo requirement and I am so lost since I am only familiar with using NoSql and Sql databases..huhu"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689764314,"post_id":76720382,"comment_id":135258535,"body_markdown":"You can use H2 console just as with in-memory version. Using the url similar to the one in properties. Of course you must point to the right directory as stated in above comment.","body":"You can use H2 console just as with in-memory version. Using the url similar to the one in properties. Of course you must point to the right directory as stated in above comment."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689764512,"post_id":76720382,"comment_id":135258585,"body_markdown":"And remember that your application must be running because even if it is file storage the database engine is embedded. Not server version.","body":"And remember that your application must be running because even if it is file storage the database engine is embedded. Not server version."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689764942,"post_id":76720382,"comment_id":135258688,"body_markdown":"OK. I&#39;ve just got h2 and run it. You should be doing `ls -l ~/src/main/resources/db/hellodb.mv.db`","body":"OK. I&#39;ve just got h2 and run it. You should be doing <code>ls -l ~&#47;src&#47;main&#47;resources&#47;db&#47;hellodb.mv.db</code>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689765674,"post_id":76720382,"comment_id":135258811,"body_markdown":"@g00se I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv and got this error now in my spring boot app Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: A file path that is implicitly relative to the current working directory is not allowed in the database URL &quot;jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv&quot;. Use an absolute path, ~/name, ./name, or the baseDir setting instead.","body":"@g00se I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv and got this error now in my spring boot app Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: A file path that is implicitly relative to the current working directory is not allowed in the database URL &quot;jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv&quot;. Use an absolute path, ~/name, ./name, or the baseDir setting instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689766241,"post_id":76720382,"comment_id":135258953,"body_markdown":"*I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv*. No, you&#39;re confusing your url with the commands I&#39;m giving you to attain your *original objective* of showing your db file.Restore the original url and then run the last code I gave you *in the terminal*","body":"<i>I change my yml config to url: jdbc:h2:file:ls -l ~/src/main/resources/db/hellodb.mv</i>. No, you&#39;re confusing your url with the commands I&#39;m giving you to attain your <i>original objective</i> of showing your db file.Restore the original url and then run the last code I gave you <i>in the terminal</i>"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1689766285,"post_id":76720382,"comment_id":135258966,"body_markdown":"Hi team. It finally works huhu  I just need to add a config in my yml to enable the h2 console now I can get in using this jdbc:h2:file:/src/main/resources/db/hellodb . Thank you everyone. You are all my hero. I love y&#39;all sincerely from the bottom of my dev heart! &lt;3","body":"Hi team. It finally works huhu  I just need to add a config in my yml to enable the h2 console now I can get in using this jdbc:h2:file:/src/main/resources/db/hellodb . Thank you everyone. You are all my hero. I love y&#39;all sincerely from the bottom of my dev heart! &lt;3"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689766593,"post_id":76720382,"comment_id":135259032,"body_markdown":"Good. I would use a different file url though. Something like `mkdir ~/.myappdb` then `url: jdbc:h2:file:~/.myappdb`","body":"Good. I would use a different file url though. Something like <code>mkdir ~&#47;.myappdb</code> then <code>url: jdbc:h2:file:~&#47;.myappdb</code>"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690549305,"creation_date":1689762960,"question_id":76720382,"body_markdown":"I would love to hear your insights regarding my dilemma.\r\n\r\nHere it goes.\r\n\r\nI want to check if my data entries from my api persists successfully in my H2 file db, but I don&#39;t have any clue on how to check persisted data via file db since I am only familiar in using NoSQL and SQL databases.\r\n\r\nhere is my application.yml configs\r\n\r\n    server:\r\n      port: 8082\r\n    \r\n    spring:\r\n      application:\r\n        name: app1\r\n    \r\n      datasource:\r\n        url: jdbc:h2:file:~/src/main/resources/db/hellodb\r\n        username: \r\n        password:\r\n    \r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n\r\nMy api result in postman gives 200ok as success response but I wanna check its in my file db.\r\n\r\nAny insights will be greatly appreciated. Thank you.\r\n\r\n\r\n","title":"How to check if my entries persists in my H2 file db?","body":"<p>I would love to hear your insights regarding my dilemma.</p>\n<p>Here it goes.</p>\n<p>I want to check if my data entries from my api persists successfully in my H2 file db, but I don't have any clue on how to check persisted data via file db since I am only familiar in using NoSQL and SQL databases.</p>\n<p>here is my application.yml configs</p>\n<pre><code>server:\n  port: 8082\n\nspring:\n  application:\n    name: app1\n\n  datasource:\n    url: jdbc:h2:file:~/src/main/resources/db/hellodb\n    username: \n    password:\n\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>My api result in postman gives 200ok as success response but I wanna check its in my file db.</p>\n<p>Any insights will be greatly appreciated. Thank you.</p>\n"},{"tags":["java","junit","constructor","micronaut"],"owner":{"account_id":931451,"reputation":367,"user_id":961275,"accept_rate":80,"display_name":"Shreyash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690549136,"creation_date":1690475655,"question_id":76781781,"body_markdown":"I have a class called ServiceA. ServiceA has ServiceB&#39;s dependency injected. \r\n\r\nServiceB&#39;s constructor initializes a client (say ClientC) used to make a few network calls. The initialization of ClientC does a network call for a health check. \r\n\r\nThe client has code for connection pooling and handles all the complexity of the system. The whole scenario is represented through the code below:\r\n\r\n    class ClientC{\r\n\t\t\r\n\t\tpublic static Pool initialize(){\r\n\t\t\t// makes network call for health check and craetes connection pool.\r\n\t\t}\r\n\t}\r\n\r\n    @Singleton\r\n\tclass ServiceB{\r\n\r\n\t\tprivate Pool pool;\r\n\r\n\t\tpublic ServiceB(){\r\n\t\t\t// network calls made here in constructor.\r\n\t\t\tpool = ClientC.initialize();\r\n\t\t}\r\n\r\n\t\tpublic Pool getPool(){\r\n\t\t\treturn pool;\r\n\t\t}\t\t\r\n\t}\r\n\r\n    @Singleton\r\n\tclass ServiceA{\r\n\r\n\t\t@Inject\r\n\t\tprivate ServiceB serviceB;\r\n\r\n\t\tpublic String someFunction(){\r\n\t\t\tserviceB.getPool().doSomething();\r\n\t\t}\t\t\r\n\t}\r\n\r\n\t@MicronautTest\r\n\tpublic class ServiceATest{\r\n\t\t\r\n\t\t@Inject\r\n\t\tprivate ServiceA serviceA;\r\n\r\n\t\t@Test\r\n\t\tpublic void testSomeFucntion(){\r\n\t\t\t// Fails because no network call can be made in tests. \r\n\t\t}\t\r\n\r\n\t\t@MockBean(ServiceB.class)\r\n\t\tServiceB serviceB(){\r\n\t\t\tmockBean(ServiceB.class);\r\n\t\t}\t\r\n\t}\r\n\r\n\r\nNow I want to write a test for ServiceA, which has a mock dependency for ServiceB. But, since ServiceB&#39;s constructor is doing a health check for the ClientC, my tests are failing. Also, I do not want the tests to be dependent on availability of an external service. \r\nHow do I mock the dependency for ServiceB?","title":"Micronaut mock dependency for tests through constructor that has a service call","body":"<p>I have a class called ServiceA. ServiceA has ServiceB's dependency injected.</p>\n<p>ServiceB's constructor initializes a client (say ClientC) used to make a few network calls. The initialization of ClientC does a network call for a health check.</p>\n<p>The client has code for connection pooling and handles all the complexity of the system. The whole scenario is represented through the code below:</p>\n<pre><code>class ClientC{\n    \n    public static Pool initialize(){\n        // makes network call for health check and craetes connection pool.\n    }\n}\n\n@Singleton\nclass ServiceB{\n\n    private Pool pool;\n\n    public ServiceB(){\n        // network calls made here in constructor.\n        pool = ClientC.initialize();\n    }\n\n    public Pool getPool(){\n        return pool;\n    }       \n}\n\n@Singleton\nclass ServiceA{\n\n    @Inject\n    private ServiceB serviceB;\n\n    public String someFunction(){\n        serviceB.getPool().doSomething();\n    }       \n}\n\n@MicronautTest\npublic class ServiceATest{\n    \n    @Inject\n    private ServiceA serviceA;\n\n    @Test\n    public void testSomeFucntion(){\n        // Fails because no network call can be made in tests. \n    }   \n\n    @MockBean(ServiceB.class)\n    ServiceB serviceB(){\n        mockBean(ServiceB.class);\n    }   \n}\n</code></pre>\n<p>Now I want to write a test for ServiceA, which has a mock dependency for ServiceB. But, since ServiceB's constructor is doing a health check for the ClientC, my tests are failing. Also, I do not want the tests to be dependent on availability of an external service.\nHow do I mock the dependency for ServiceB?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1679676323,"post_id":53419438,"comment_id":133769581,"body_markdown":"This is not a duplicate of the other questions. That asked for a C solution, this asked for a Java solution.","body":"This is not a duplicate of the other questions. That asked for a C solution, this asked for a Java solution."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679829472,"post_id":53419438,"comment_id":133787437,"body_markdown":"And yet the duplicate is tagged with [tag:java] and the accepted answer is Java-based, with a solution that is very similar to the one in your own answer. In other words, it is a duplicate.","body":"And yet the duplicate is tagged with <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and the accepted answer is Java-based, with a solution that is very similar to the one in your own answer. In other words, it is a duplicate."}],"answers":[{"comments":[{"owner":{"account_id":3593143,"reputation":159,"user_id":2998655,"accept_rate":67,"display_name":"Dom"},"score":2,"creation_date":1542830181,"post_id":53419439,"comment_id":93713453,"body_markdown":"Why not change power settings to just have it never idle or sleep?","body":"Why not change power settings to just have it never idle or sleep?"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1542925814,"post_id":53419439,"comment_id":93750935,"body_markdown":"You don&#39;t always have control over it.","body":"You don&#39;t always have control over it."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":1,"creation_date":1679676463,"post_id":53419439,"comment_id":133769612,"body_markdown":"Read the whole answer, @CardinalSystem, it compares what I found and the true solution which doesn&#39;t move the mouse.","body":"Read the whole answer, @CardinalSystem, it compares what I found and the true solution which doesn&#39;t move the mouse."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1695651252,"post_id":53419439,"comment_id":136049270,"body_markdown":"@Dom same reason that YouTube doesn&#39;t require the power settings to be changed.","body":"@Dom same reason that YouTube doesn&#39;t require the power settings to be changed."}],"tags":[],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1679923602,"creation_date":1542829282,"answer_id":53419439,"question_id":53419438,"body_markdown":"### I found this when searching for a solution:\r\nhttps://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\r\n\r\nHowever, it didn&#39;t quite work for me since it moved the mouse pointer all over the place at random. This means I could only use the application when I was _not_ using my computer\r\n\r\nhttps://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\r\n\r\n    import java.awt.Robot;\r\n    import java.util.Random;\r\n    \r\n    public class MouseMover {\r\n        public static final int FIVE_SECONDS = 5000;\r\n        public static final int MAX_Y = 400;\r\n        public static final int MAX_X = 400;\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            Robot robot = new Robot();\r\n            Random random = new Random();\r\n            while (true) {\r\n                robot.mouseMove(random.nextInt(MAX_X), random.nextInt(MAX_Y));\r\n                Thread.sleep(FIVE_SECONDS);\r\n            }\r\n        }\r\n    }\r\n\r\n### I modified the solution to better suit my needs:\r\n\r\nThis version gets the mouse pointer&#39;s current location and moves the mouse to where it already is. From a user perspective the mouse doesn&#39;t move, but it _does_ prevent the computer from going idle.\r\n\r\n    import java.awt.*;\r\n    \r\n    public class MouseJiggle {\r\n        public static final int SLEEP_MILLIS = 60*1000;\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            Robot robot = new Robot();\r\n            while (true) {\r\n                Point point = MouseInfo.getPointerInfo().getLocation();\r\n                robot.mouseMove(point.x, point.y);\r\n                System.out.println(&quot;Mouse Moved!!&quot;);\r\n                Thread.sleep(SLEEP_MILLIS);\r\n            }\r\n        }\r\n    }","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<h3>I found this when searching for a solution:</h3>\n<p><a href=\"https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\" rel=\"nofollow noreferrer\">https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html</a></p>\n<p>However, it didn't quite work for me since it moved the mouse pointer all over the place at random. This means I could only use the application when I was <em>not</em> using my computer</p>\n<p><a href=\"https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html\" rel=\"nofollow noreferrer\">https://code.joejag.com/2013/move-your-mouse-pointer-with-java.html</a></p>\n<pre><code>import java.awt.Robot;\nimport java.util.Random;\n\npublic class MouseMover {\n    public static final int FIVE_SECONDS = 5000;\n    public static final int MAX_Y = 400;\n    public static final int MAX_X = 400;\n\n    public static void main(String... args) throws Exception {\n        Robot robot = new Robot();\n        Random random = new Random();\n        while (true) {\n            robot.mouseMove(random.nextInt(MAX_X), random.nextInt(MAX_Y));\n            Thread.sleep(FIVE_SECONDS);\n        }\n    }\n}\n</code></pre>\n<h3>I modified the solution to better suit my needs:</h3>\n<p>This version gets the mouse pointer's current location and moves the mouse to where it already is. From a user perspective the mouse doesn't move, but it <em>does</em> prevent the computer from going idle.</p>\n<pre><code>import java.awt.*;\n\npublic class MouseJiggle {\n    public static final int SLEEP_MILLIS = 60*1000;\n\n    public static void main(String... args) throws Exception {\n        Robot robot = new Robot();\n        while (true) {\n            Point point = MouseInfo.getPointerInfo().getLocation();\n            robot.mouseMove(point.x, point.y);\n            System.out.println(&quot;Mouse Moved!!&quot;);\n            Thread.sleep(SLEEP_MILLIS);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690549064,"creation_date":1679587681,"answer_id":75825405,"question_id":53419438,"body_markdown":"If you are using Windows, you can call the WinAPI [`SetThreadExecutionState`][1] function to prevent the computer from sleeping.\r\n\r\nTo achieve this, first I created a class file with native function definitions:\r\n\r\n    package com.example.natives;\r\n    \r\n    public class WindowsSleep {\r\n    \r\n    \tprivate static final boolean IS_WINDOWS;\r\n    \r\n    \tstatic {\r\n    \t\tIS_WINDOWS = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);\r\n    \t\tSystem.load(&quot;windows-sleep.dll&quot;);\r\n    \t}\r\n    \r\n    \tprivate static native void preventSleep();\r\n    \r\n    \tprivate static native void allowSleep();\r\n    \r\n    \tpublic static void doPreventSleep() {\r\n    \t\tif (IS_WINDOWS)\r\n    \t\t\tpreventSleep();\r\n    \t\telse\r\n    \t\t\tthrow new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void doAllowSleep() {\r\n    \t\tif (IS_WINDOWS)\r\n    \t\t\tallowSleep();\r\n    \t\telse\r\n    \t\t\tthrow new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nThen I used [javah][2] to generate the following [header file][3]:\r\n\r\n    /* DO NOT EDIT THIS FILE - it is machine generated */\r\n    #include &lt;jni.h&gt;\r\n    /* Header for class com_example_natives_WindowsSleep */\r\n    \r\n    #ifndef _Included_com_example_natives_WindowsSleep\r\n    #define _Included_com_example_natives_WindowsSleep\r\n    #ifdef __cplusplus\r\n    extern &quot;C&quot; {\r\n    #endif\r\n    /*\r\n     * Class:     com_example_natives_WindowsSleep\r\n     * Method:    preventSleep\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep\r\n      (JNIEnv *, jclass);\r\n    \r\n    /*\r\n     * Class:     com_example_natives_WindowsSleep\r\n     * Method:    allowSleep\r\n     * Signature: ()V\r\n     */\r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep\r\n      (JNIEnv *, jclass);\r\n    \r\n    #ifdef __cplusplus\r\n    }\r\n    #endif\r\n    #endif\r\n\r\nAfter creating the header file, I wrote the following [C++][4] code:\r\n\r\n    #include &quot;windows-sleep.h&quot;\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;Windows.h&gt;\r\n    \r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep(JNIEnv *, jclass) {\r\n        SetThreadExecutionState(ES_SYSTEM_REQUIRED | ES_DISPLAY_REQUIRED | ES_CONTINUOUS);\r\n    }\r\n    \r\n    JNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep(JNIEnv *, jclass) {\r\n        SetThreadExecutionState(ES_CONTINUOUS);\r\n    }\r\n\r\nThen I used a [makefile][5] to compile it:\r\n\r\n    # Variables\r\n    CC = g++\r\n    JNI_PATH = C:/Program Files/Java/jdk1.8.0_202/include\r\n    JNI_MD_PATH = $(JNI_PATH)/win32\r\n    CFLAGS = -Wall -I&#39;$(JNI_PATH)&#39; -I&#39;$(JNI_MD_PATH)&#39; -shared\r\n    \r\n    # Output file\r\n    OUTPUT = windows-sleep.dll\r\n    \r\n    # Source file\r\n    SOURCE = windows-sleep.cpp\r\n    \r\n    # Rule to build the DLL\r\n    all: $(OUTPUT)\r\n    \r\n    $(OUTPUT): $(SOURCE)\r\n    \t$(CC) $(CFLAGS) $^ -o $@\r\n    \r\n    # Rule to clean the build artifacts\r\n    clean:\r\n    \trm -f $(OUTPUT)\r\n\r\nAfter compiling the DLL, I was able to call `doPreventSleep` to prevent my computer from sleeping. Keep in mind that [you have to keep calling this method][6] - you cannot just invoke it once. Here&#39;s an example:\r\n\r\n    ThreadFactory factory = r -&gt; {\r\n    \tThread thread = new Thread(r);\r\n    \t// Use daemon threads so they don&#39;t keep the JVM alive\r\n    \tthread.setDaemon(true);\r\n    \treturn thread;\r\n    };\r\n    \r\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor(factory);\r\n    // Call doPreventSleep every 5 minutes\r\n    executor.scheduleAtFixedRate(() -&gt; WindowsSleep.doPreventSleep(), 0, 5, TimeUnit.MINUTES);\r\n    \r\n    // Do stuff\r\n    \r\n    executor.shutdownNow();\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-gb/windows/win32/api/winbase/nf-winbase-setthreadexecutionstate\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javah.html\r\n  [3]: https://www.learncpp.com/cpp-tutorial/header-files/\r\n  [4]: https://cplusplus.com/doc/tutorial/\r\n  [5]: https://www.gnu.org/software/make/manual/make.html\r\n  [6]: https://stackoverflow.com/a/27652326/5645656","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<p>If you are using Windows, you can call the WinAPI <a href=\"https://learn.microsoft.com/en-gb/windows/win32/api/winbase/nf-winbase-setthreadexecutionstate\" rel=\"nofollow noreferrer\"><code>SetThreadExecutionState</code></a> function to prevent the computer from sleeping.</p>\n<p>To achieve this, first I created a class file with native function definitions:</p>\n<pre><code>package com.example.natives;\n\npublic class WindowsSleep {\n\n    private static final boolean IS_WINDOWS;\n\n    static {\n        IS_WINDOWS = System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;win&quot;);\n        System.load(&quot;windows-sleep.dll&quot;);\n    }\n\n    private static native void preventSleep();\n\n    private static native void allowSleep();\n\n    public static void doPreventSleep() {\n        if (IS_WINDOWS)\n            preventSleep();\n        else\n            throw new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\n    }\n\n    public static void doAllowSleep() {\n        if (IS_WINDOWS)\n            allowSleep();\n        else\n            throw new UnsupportedOperationException(&quot;This operation only works on Windows machines&quot;);\n    }\n\n}\n</code></pre>\n<p>Then I used <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javah.html\" rel=\"nofollow noreferrer\">javah</a> to generate the following <a href=\"https://www.learncpp.com/cpp-tutorial/header-files/\" rel=\"nofollow noreferrer\">header file</a>:</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class com_example_natives_WindowsSleep */\n\n#ifndef _Included_com_example_natives_WindowsSleep\n#define _Included_com_example_natives_WindowsSleep\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     com_example_natives_WindowsSleep\n * Method:    preventSleep\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep\n  (JNIEnv *, jclass);\n\n/*\n * Class:     com_example_natives_WindowsSleep\n * Method:    allowSleep\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep\n  (JNIEnv *, jclass);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>After creating the header file, I wrote the following <a href=\"https://cplusplus.com/doc/tutorial/\" rel=\"nofollow noreferrer\">C++</a> code:</p>\n<pre><code>#include &quot;windows-sleep.h&quot;\n#include &lt;jni.h&gt;\n#include &lt;Windows.h&gt;\n\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_preventSleep(JNIEnv *, jclass) {\n    SetThreadExecutionState(ES_SYSTEM_REQUIRED | ES_DISPLAY_REQUIRED | ES_CONTINUOUS);\n}\n\nJNIEXPORT void JNICALL Java_com_example_natives_WindowsSleep_allowSleep(JNIEnv *, jclass) {\n    SetThreadExecutionState(ES_CONTINUOUS);\n}\n</code></pre>\n<p>Then I used a <a href=\"https://www.gnu.org/software/make/manual/make.html\" rel=\"nofollow noreferrer\">makefile</a> to compile it:</p>\n<pre><code># Variables\nCC = g++\nJNI_PATH = C:/Program Files/Java/jdk1.8.0_202/include\nJNI_MD_PATH = $(JNI_PATH)/win32\nCFLAGS = -Wall -I'$(JNI_PATH)' -I'$(JNI_MD_PATH)' -shared\n\n# Output file\nOUTPUT = windows-sleep.dll\n\n# Source file\nSOURCE = windows-sleep.cpp\n\n# Rule to build the DLL\nall: $(OUTPUT)\n\n$(OUTPUT): $(SOURCE)\n    $(CC) $(CFLAGS) $^ -o $@\n\n# Rule to clean the build artifacts\nclean:\n    rm -f $(OUTPUT)\n</code></pre>\n<p>After compiling the DLL, I was able to call <code>doPreventSleep</code> to prevent my computer from sleeping. Keep in mind that <a href=\"https://stackoverflow.com/a/27652326/5645656\">you have to keep calling this method</a> - you cannot just invoke it once. Here's an example:</p>\n<pre><code>ThreadFactory factory = r -&gt; {\n    Thread thread = new Thread(r);\n    // Use daemon threads so they don't keep the JVM alive\n    thread.setDaemon(true);\n    return thread;\n};\n\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor(factory);\n// Call doPreventSleep every 5 minutes\nexecutor.scheduleAtFixedRate(() -&gt; WindowsSleep.doPreventSleep(), 0, 5, TimeUnit.MINUTES);\n\n// Do stuff\n\nexecutor.shutdownNow();\n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3388,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"closed_date":1679589193,"accepted_answer_id":53419439,"answer_count":2,"score":0,"last_activity_date":1690549064,"creation_date":1542829282,"question_id":53419438,"body_markdown":"I need to create a simple application to keep my computer from idling and going to sleep.\r\n\r\nI&#39;d prefer it to be in java, but am happy to look at other solutions as long as I don&#39;t need to install a 3rd party application.","title":"Create a Java application that keeps your computer from going idle without moving the mouse all over the place?","body":"<p>I need to create a simple application to keep my computer from idling and going to sleep.</p>\n\n<p>I'd prefer it to be in java, but am happy to look at other solutions as long as I don't need to install a 3rd party application.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690548871,"creation_date":1690548348,"answer_id":76787939,"question_id":76787135,"body_markdown":"I don&#39;t see any issues in code you provided - it should work and it works for me.\r\n\r\nYou can try to set this property to `ChromeOptions` directly.\r\n\r\nFor example, this code also works for me in your case:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    WebDriverManager.getInstance().setup();\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setAcceptInsecureCerts(true);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n\r\n    driver.get(&quot;https://expired.badssl.com/&quot;);\r\n    driver.manage().window().maximize();\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Acccept insure cert in seleniumwebdriver","body":"<p>I don't see any issues in code you provided - it should work and it works for me.</p>\n<p>You can try to set this property to <code>ChromeOptions</code> directly.</p>\n<p>For example, this code also works for me in your case:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>WebDriverManager.getInstance().setup();\nChromeOptions options = new ChromeOptions();\noptions.setAcceptInsecureCerts(true);\nChromeDriver driver = new ChromeDriver(options);\n\ndriver.get(\"https://expired.badssl.com/\");\ndriver.manage().window().maximize();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787939,"answer_count":1,"score":0,"last_activity_date":1690548871,"creation_date":1690541591,"question_id":76787135,"body_markdown":"I am trying to use accept insecure cert in selenium web driver but it is not working. Please check for any possible error in below code. I noticed the tutorial uses `WebDriverManager.chromedriver().setup();` in line 1, instead of \t`ChromeDriverManager.getInstance().setup();`\r\n\r\n```\r\n\tChromeDriverManager.getInstance().setup();\r\n\tDesiredCapabilities dc = new DesiredCapabilities();\r\n    dc.setAcceptInsecureCerts(true);\r\n\tChromeOptions coptions = new ChromeOptions();\r\n\tcoptions.merge(dc);\r\n\tChromeDriver driver = new ChromeDriver(coptions);\r\n\tdriver.get(&quot;https://expired.badssl.com/&quot;);\r\n\tdriver.manage().window().maximize();\r\n```","title":"Acccept insure cert in seleniumwebdriver","body":"<p>I am trying to use accept insecure cert in selenium web driver but it is not working. Please check for any possible error in below code. I noticed the tutorial uses <code>WebDriverManager.chromedriver().setup();</code> in line 1, instead of   <code>ChromeDriverManager.getInstance().setup();</code></p>\n<pre><code>    ChromeDriverManager.getInstance().setup();\n    DesiredCapabilities dc = new DesiredCapabilities();\n    dc.setAcceptInsecureCerts(true);\n    ChromeOptions coptions = new ChromeOptions();\n    coptions.merge(dc);\n    ChromeDriver driver = new ChromeDriver(coptions);\n    driver.get(&quot;https://expired.badssl.com/&quot;);\n    driver.manage().window().maximize();\n</code></pre>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1617990582,"post_id":67025853,"comment_id":118475711,"body_markdown":"*&quot;how to **split** a string&quot;* + *&quot;any idea about any class **methods** i could use **from String**&quot;* --- How about the [`String.split()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) method? --- I frankly don&#39;t know how it&#39;s possible to research how to split a string in Java and not find that method.","body":"<i>&quot;how to <b>split</b> a string&quot;</i> + <i>&quot;any idea about any class <b>methods</b> i could use <b>from String</b>&quot;</i> --- How about the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String.split()</code></a> method? --- I frankly don&#39;t know how it&#39;s possible to research how to split a string in Java and not find that method."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1618221784,"post_id":67025853,"comment_id":118527820,"body_markdown":"*&quot;I therefore can&#39;t specify the regex&quot;* Why not? That&#39;s exactly what regex is good at. Or did you mean that ***you*** can&#39;t, because you don&#39;t know regex well enough? If so, then you phrased the question wrong. --- *&quot;I researched everywhere and couldn&#39;t find **anything**&quot;* Incorrect. You found the `split()` method, but you rejected it, which is too bad, since it&#39;s what you need.","body":"<i>&quot;I therefore can&#39;t specify the regex&quot;</i> Why not? That&#39;s exactly what regex is good at. Or did you mean that <b><i>you</i></b> can&#39;t, because you don&#39;t know regex well enough? If so, then you phrased the question wrong. --- <i>&quot;I researched everywhere and couldn&#39;t find <b>anything</b>&quot;</i> Incorrect. You found the <code>split()</code> method, but you rejected it, which is too bad, since it&#39;s what you need."},{"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"score":0,"creation_date":1618227060,"post_id":67025853,"comment_id":118529996,"body_markdown":"I did say &quot;eg&quot; to indicate that this was just an example. I wanted a code that will work with any string I input, not this one specifically. With String.split() you have to specify a regular expression, but every string I input will have different letters and numbers, and I want every letter and its following numbers to be split. I therefore can&#39;t specify the regex in the String.split() method. Sorry I should&#39;ve made that clearer.","body":"I did say &quot;eg&quot; to indicate that this was just an example. I wanted a code that will work with any string I input, not this one specifically. With String.split() you have to specify a regular expression, but every string I input will have different letters and numbers, and I want every letter and its following numbers to be split. I therefore can&#39;t specify the regex in the String.split() method. Sorry I should&#39;ve made that clearer."},{"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"score":0,"creation_date":1618228735,"post_id":67025853,"comment_id":118530703,"body_markdown":"Listen, I&#39;m a beginner. I&#39;m sorry if my research didn&#39;t show me how to use the split method the way you suggested. It was an innocent question, it&#39;s really not that big of an issue. Thanks for the help anyway. I even got a negative vote, so now I can&#39;t post questions, I hope that brings you some peace of mind&#128514;","body":"Listen, I&#39;m a beginner. I&#39;m sorry if my research didn&#39;t show me how to use the split method the way you suggested. It was an innocent question, it&#39;s really not that big of an issue. Thanks for the help anyway. I even got a negative vote, so now I can&#39;t post questions, I hope that brings you some peace of mind😂"}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1617990836,"post_id":67025976,"comment_id":118475796,"body_markdown":"Given the sample inputs, a simple `split(&quot;(?=\\\\p{L})&quot;)` (split before letter) would do the trick too, wouldn&#39;t it?","body":"Given the sample inputs, a simple <code>split(&quot;(?=\\\\p{L})&quot;)</code> (split before letter) would do the trick too, wouldn&#39;t it?"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617991452,"creation_date":1617990422,"answer_id":67025976,"question_id":67025853,"body_markdown":"## Update:\r\n\r\nThanks to [Andreas][1]\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s = &quot;C34M78N8X&quot;;\r\n    \t\tString[] arr = s.split(&quot;(?=\\\\p{L})&quot;);\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [C34, M78, N8, X]\r\n\r\n`\\p{L}` [matches a letter][2] and `(?=(regex))` is used for [Positive Lookahead][3].\r\n\r\nMore explanation of the regex at [regex101][4]:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n## Original answer:\r\n\r\nUsing the regex, `\\w(?:\\d+)?`, you can get the matches using the Java regex API.\r\n\r\n    import java.util.List;\r\n    import java.util.regex.MatchResult;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getTokens(&quot;C34M78N8X&quot;));\r\n    \r\n    \t}\r\n    \r\n    \tstatic List&lt;String&gt; getTokens(String textString) {\r\n    \t\treturn Pattern\r\n    \t\t\t\t.compile(&quot;\\\\w(?:\\\\d+)?&quot;)\r\n    \t\t\t\t.matcher(textString)\r\n    \t\t\t\t.results()\r\n    \t\t\t\t.map(MatchResult::group)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t}\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    [C34, M78, N8, X]\r\n\r\n**Non-`Stream` solution:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Test\r\n    \t\tSystem.out.println(getTokens(&quot;C34M78N8X&quot;));\r\n    \r\n    \t}\r\n    \r\n    \tstatic List&lt;String&gt; getTokens(String textString) {\r\n    \t\tList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n    \t\tMatcher matcher = Pattern.compile(&quot;\\\\w(?:\\\\d+)?&quot;).matcher(textString);\r\n    \t\t\r\n    \t\twhile (matcher.find()) {\r\n    \t\t\tmatches.add(matcher.group());\r\n    \t\t}\r\n    \r\n    \t\treturn matches;\r\n    \t}\r\n    }\r\nLearn more about Java RegEx API at **[Lesson: Regular Expressions](https://docs.oracle.com/javase/tutorial/essential/regex/index.html)**\r\n\r\n**Explanation of the regex at [regex101][6]:**\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67025853/how-to-split-a-string-comprised-of-letters-and-ints/67025976#comment118475796_67025976\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [3]: https://www.regular-expressions.info/lookaround.html\r\n  [4]: https://regex101.com/r/JPKeVS/1\r\n  [5]: https://i.stack.imgur.com/4fCqz.png\r\n  [6]: https://regex101.com/r/rzWvzA/1\r\n  [7]: https://i.stack.imgur.com/DKmoW.png","title":"How to split a string composed of letters and digits","body":"<h2>Update:</h2>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/67025853/how-to-split-a-string-comprised-of-letters-and-ints/67025976#comment118475796_67025976\">Andreas</a></p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String s = &quot;C34M78N8X&quot;;\n        String[] arr = s.split(&quot;(?=\\\\p{L})&quot;);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[C34, M78, N8, X]\n</code></pre>\n<p><code>\\p{L}</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">matches a letter</a> and <code>(?=(regex))</code> is used for <a href=\"https://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">Positive Lookahead</a>.</p>\n<p>More explanation of the regex at <a href=\"https://regex101.com/r/JPKeVS/1\" rel=\"nofollow noreferrer\">regex101</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/4fCqz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fCqz.png\" alt=\"enter image description here\" /></a></p>\n<h2>Original answer:</h2>\n<p>Using the regex, <code>\\w(?:\\d+)?</code>, you can get the matches using the Java regex API.</p>\n<pre><code>import java.util.List;\nimport java.util.regex.MatchResult;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(getTokens(&quot;C34M78N8X&quot;));\n\n    }\n\n    static List&lt;String&gt; getTokens(String textString) {\n        return Pattern\n                .compile(&quot;\\\\w(?:\\\\d+)?&quot;)\n                .matcher(textString)\n                .results()\n                .map(MatchResult::group)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[C34, M78, N8, X]\n</code></pre>\n<p><strong>Non-<code>Stream</code> solution:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Test\n        System.out.println(getTokens(&quot;C34M78N8X&quot;));\n\n    }\n\n    static List&lt;String&gt; getTokens(String textString) {\n        List&lt;String&gt; matches = new ArrayList&lt;&gt;();\n        Matcher matcher = Pattern.compile(&quot;\\\\w(?:\\\\d+)?&quot;).matcher(textString);\n        \n        while (matcher.find()) {\n            matches.add(matcher.group());\n        }\n\n        return matches;\n    }\n}\n</code></pre>\n<p>Learn more about Java RegEx API at <strong><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/index.html\" rel=\"nofollow noreferrer\">Lesson: Regular Expressions</a></strong></p>\n<p><strong>Explanation of the regex at <a href=\"https://regex101.com/r/rzWvzA/1\" rel=\"nofollow noreferrer\">regex101</a>:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/DKmoW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKmoW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617994766,"creation_date":1617991037,"answer_id":67026100,"question_id":67025853,"body_markdown":"You want to split between and two non-digit characters.\r\n\r\nYou can do that with any two of the following:\r\n- `?!\\\\d)` zero width negative look-ahead for a digit\r\n- `(?=\\\\D)`  zero width positive look-ahead for a non-digit\r\n\r\nSo using `(?!\\\\d)(?=\\\\D)` the regular expression simply says, &quot;*Match the area where you see a non-digit followed by a non-digit.*&quot;\r\n\r\n```\r\nString[] data = { &quot;ABCDEF&quot;,&quot;A12345&quot;,&quot;A1B2C3D4&quot;,&quot;AX3YM67&quot;, &quot;A1233BB1233&quot;, &quot;A3D456F6D&quot; };\r\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\r\nfor (String str : data) {\r\n    String[] st = str.split(&quot;(?!\\\\d)(?=\\\\D)&quot;);\r\n    lists.add(Arrays.asList(st));\r\n}\r\n\r\nfor(int i = 0; i &lt; data.length; i++) {\r\n\tSystem.out.println(data[i] + &quot; --&gt; &quot; +  lists.get(i));\r\n}\r\n```\r\nprints\r\n```\r\nABCDEF --&gt; [A, B, C, D, E, F]\r\nA12345 --&gt; [A12345]\r\nA1B2C3D4 --&gt; [A1, B2, C3, D4]\r\nAX3YM67 --&gt; [A, X3, Y, M67]\r\nA1233BB1233 --&gt; [A1233, B, B1233]\r\nA3D456F6D --&gt; [A3, D456, F6, D]\r\n\r\n","title":"How to split a string composed of letters and digits","body":"<p>You want to split between and two non-digit characters.</p>\n<p>You can do that with any two of the following:</p>\n<ul>\n<li><code>?!\\\\d)</code> zero width negative look-ahead for a digit</li>\n<li><code>(?=\\\\D)</code>  zero width positive look-ahead for a non-digit</li>\n</ul>\n<p>So using <code>(?!\\\\d)(?=\\\\D)</code> the regular expression simply says, &quot;<em>Match the area where you see a non-digit followed by a non-digit.</em>&quot;</p>\n<pre><code>String[] data = { &quot;ABCDEF&quot;,&quot;A12345&quot;,&quot;A1B2C3D4&quot;,&quot;AX3YM67&quot;, &quot;A1233BB1233&quot;, &quot;A3D456F6D&quot; };\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\nfor (String str : data) {\n    String[] st = str.split(&quot;(?!\\\\d)(?=\\\\D)&quot;);\n    lists.add(Arrays.asList(st));\n}\n\nfor(int i = 0; i &lt; data.length; i++) {\n    System.out.println(data[i] + &quot; --&gt; &quot; +  lists.get(i));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>ABCDEF --&gt; [A, B, C, D, E, F]\nA12345 --&gt; [A12345]\nA1B2C3D4 --&gt; [A1, B2, C3, D4]\nAX3YM67 --&gt; [A, X3, Y, M67]\nA1233BB1233 --&gt; [A1233, B, B1233]\nA3D456F6D --&gt; [A3, D456, F6, D]\n\n</code></pre>\n"}],"owner":{"account_id":21186609,"reputation":27,"user_id":15579841,"display_name":"Bloggies M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"answer_count":2,"score":-1,"last_activity_date":1690548814,"creation_date":1617989834,"question_id":67025853,"body_markdown":"I have a string composed of a letter followed by digits, e.g. \r\n\r\n    String s = &quot;C34M78N8X&quot;;\r\n\r\nI want to split every letter with the numbers next to it so it would be:\r\n\r\n    {&quot;C34&quot; &quot;M78&quot; &quot;N8&quot; &quot;X&quot;} //in that order\r\n\r\nAny idea about any class methods I could use from `String` or `Integer` maybe? I&#39;m a beginner with Java, so I&#39;m trying to learn different things. I researched everywhere and couldn&#39;t find anything. Thanks in advance.","title":"How to split a string composed of letters and digits","body":"<p>I have a string composed of a letter followed by digits, e.g.</p>\n<pre><code>String s = &quot;C34M78N8X&quot;;\n</code></pre>\n<p>I want to split every letter with the numbers next to it so it would be:</p>\n<pre><code>{&quot;C34&quot; &quot;M78&quot; &quot;N8&quot; &quot;X&quot;} //in that order\n</code></pre>\n<p>Any idea about any class methods I could use from <code>String</code> or <code>Integer</code> maybe? I'm a beginner with Java, so I'm trying to learn different things. I researched everywhere and couldn't find anything. Thanks in advance.</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1494830856,"post_id":43972777,"comment_id":74975834,"body_markdown":"This doesn&#39;t work because your classpath is composed of transparent and **opaque** resources - such as those inside a `jar`. You are trying to write to a path that looks something like `jar:file:/com/stackoverflow/json`, which is an invalid `Path` or `File` but a valid URI. In general, you cannot write to the classpath, only read from it.","body":"This doesn&#39;t work because your classpath is composed of transparent and <b>opaque</b> resources - such as those inside a <code>jar</code>. You are trying to write to a path that looks something like <code>jar:file:&#47;com&#47;stackoverflow&#47;json</code>, which is an invalid <code>Path</code> or <code>File</code> but a valid URI. In general, you cannot write to the classpath, only read from it."},{"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"score":0,"creation_date":1494830996,"post_id":43972777,"comment_id":74975905,"body_markdown":"No jar it is maven project","body":"No jar it is maven project"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1494831057,"post_id":43972777,"comment_id":74975943,"body_markdown":"When you compile a Maven project it will generate a jar. How else would you distribute your compiled code? (Pre Java 9 that is)","body":"When you compile a Maven project it will generate a jar. How else would you distribute your compiled code? (Pre Java 9 that is)"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1573729215,"post_id":43972777,"comment_id":103982253,"body_markdown":"Does this answer your question? [Java NIO file path issue](https://stackoverflow.com/questions/9834776/java-nio-file-path-issue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9834776/java-nio-file-path-issue\">Java NIO file path issue</a>"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1690548607,"creation_date":1494834143,"answer_id":43973911,"question_id":43972777,"body_markdown":"problem is that `Paths.get()` doesn&#39;t expect that kind of value which is generated from `uri.getPath()`.\r\n\r\nSolution:\r\n\r\n    URI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\r\n    String mainPath = Paths.get(uri).toString();\r\n    Path path = Paths.get(mainPath ,&quot;Movie.class&quot;);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>problem is that <code>Paths.get()</code> doesn't expect that kind of value which is generated from <code>uri.getPath()</code>.</p>\n<p>Solution:</p>\n<pre><code>URI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\nString mainPath = Paths.get(uri).toString();\nPath path = Paths.get(mainPath ,&quot;Movie.class&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7320889,"reputation":61,"user_id":5576981,"display_name":"techguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547123564,"creation_date":1514495384,"answer_id":48014424,"question_id":43972777,"body_markdown":"I had the same issue and got the exception, noticed there was a space in the filename, so I had to trim it. After that, the issue is resolved.\r\n\r\n    Path filePath = Paths.get(dirPathStr, newFileName.trim());","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I had the same issue and got the exception, noticed there was a space in the filename, so I had to trim it. After that, the issue is resolved.</p>\n\n<pre><code>Path filePath = Paths.get(dirPathStr, newFileName.trim());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14568769,"reputation":31,"user_id":10522667,"display_name":"SUDIP SINGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573709528,"creation_date":1557583599,"answer_id":56091074,"question_id":43972777,"body_markdown":"I have the same problem which I was facing from the past two days and finally, I got it\r\nSpace causes such problem \r\ntry to solve\r\n\r\n    var fileName=YourFileName.trim();\r\n    Path filePath = Paths.get(dirPathStr, fileName);\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I have the same problem which I was facing from the past two days and finally, I got it\nSpace causes such problem \ntry to solve</p>\n\n<pre><code>var fileName=YourFileName.trim();\nPath filePath = Paths.get(dirPathStr, fileName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13021296,"reputation":155,"user_id":9410625,"display_name":"Fego"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1609678210,"creation_date":1559825585,"answer_id":56478035,"question_id":43972777,"body_markdown":"Try this:\r\n\r\n```\r\nPath path = new File(getClass()\r\n.getResource(&quot;/&lt;path to the image in your build/classes folder&gt;&quot;)\r\n.getFile()).toPath();\r\n```\r\n\r\nto get the correct path. Worked for me after several hours trying to find out why I couldn&#39;t get the file from the jar. This works for NetBeans 8.02\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>Try this:</p>\n<pre><code>Path path = new File(getClass()\n.getResource(&quot;/&lt;path to the image in your build/classes folder&gt;&quot;)\n.getFile()).toPath();\n</code></pre>\n<p>to get the correct path. Worked for me after several hours trying to find out why I couldn't get the file from the jar. This works for NetBeans 8.02</p>\n"},{"tags":[],"owner":{"account_id":7523503,"reputation":75,"user_id":5714602,"display_name":"Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609666535,"creation_date":1609665065,"answer_id":65548196,"question_id":43972777,"body_markdown":"The following solutions work correctly:&lt;br/&gt;\r\n\r\nSolution1:\r\n\r\n    String logFileLocalPath = &quot;../log/log.txt&quot;;\r\n    File logFile = new File(getURL(logFileLocalPath).getPath());\r\n\r\nSolution 2:\r\n\r\n    File logFile = new \r\n    File(Paths.get(getURL(logFileLocalPath).toURI()).toString());\r\n\r\n&lt;hr/&gt;\r\n\r\n    private static URL getURL(String localPath) {\r\n\r\n          return Main.class.getResource(localPath);\r\n    }","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>The following solutions work correctly:<br/></p>\n<p>Solution1:</p>\n<pre><code>String logFileLocalPath = &quot;../log/log.txt&quot;;\nFile logFile = new File(getURL(logFileLocalPath).getPath());\n</code></pre>\n<p>Solution 2:</p>\n<pre><code>File logFile = new \nFile(Paths.get(getURL(logFileLocalPath).toURI()).toString());\n</code></pre>\n<hr/>\n<pre><code>private static URL getURL(String localPath) {\n\n      return Main.class.getResource(localPath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5806898,"reputation":1,"user_id":4579253,"display_name":"Pooja Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642075775,"creation_date":1642075775,"answer_id":70696379,"question_id":43972777,"body_markdown":"I faced same issue while using extentReports in my automation, i simply corrected the report path    \r\n\t\r\n\r\n    public void config() {\r\n\t\tString path = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\reports\\\\index.html&quot;;\t\t\r\n\t\tExtentSparkReporter reporter = new ExtentSparkReporter(path);\r\n\t\treporter.config().setReportName(&quot;Web Automation Reports&quot;);\r\n\t\treporter.config().setDocumentTitle(&quot;Web Results&quot;);\r\n...\r\n}","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I faced same issue while using extentReports in my automation, i simply corrected the report path</p>\n<pre><code>public void config() {\n    String path = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\reports\\\\index.html&quot;;       \n    ExtentSparkReporter reporter = new ExtentSparkReporter(path);\n    reporter.config().setReportName(&quot;Web Automation Reports&quot;);\n    reporter.config().setDocumentTitle(&quot;Web Results&quot;);\n</code></pre>\n<p>...\n}</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648763312,"creation_date":1648763312,"answer_id":71699516,"question_id":43972777,"body_markdown":"After trying many times, this worked for me\r\n\r\n          Path path = new File(getClass().getResource(&quot;/data.json&quot;).getFile()).toPath(); \r\n\r\nNow you can use your path as you wish e.g       \r\n\r\n            Reader reader = Files.newBufferedReader(path);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>After trying many times, this worked for me</p>\n<pre><code>      Path path = new File(getClass().getResource(&quot;/data.json&quot;).getFile()).toPath(); \n</code></pre>\n<p>Now you can use your path as you wish e.g</p>\n<pre><code>        Reader reader = Files.newBufferedReader(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27188270,"reputation":11,"user_id":20722443,"display_name":"Monica Gatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681144176,"creation_date":1681141932,"answer_id":75978595,"question_id":43972777,"body_markdown":"I had the same error\r\n\r\n&gt; ./gradlew build\r\n\r\n&gt; 2023-04-10T16:56:54.855+02:00  INFO 10476 --- [           main]\r\n&gt; c.v.s.d.m.a.VogellaApplication           : No active profile set,\r\n&gt; falling back to 1 default profile: &quot;default&quot; Exception in thread\r\n&gt; &quot;main&quot; java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index\r\n&gt; 27: com.vogella.spring.di.model \r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n&gt;         at java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n&gt;         at java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)\r\n\r\nI analyzed the filenames and the configuration.\r\nI noticed a space in the &#39;group&#39; property in build.gradle file \r\n\r\n    group = &#39;com.vogella.spring.di.model &#39;\r\n\r\nI removed the extra space and the build command worked fine.\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I had the same error</p>\n<blockquote>\n<p>./gradlew build</p>\n</blockquote>\n<blockquote>\n<p>2023-04-10T16:56:54.855+02:00  INFO 10476 --- [           main]\nc.v.s.d.m.a.VogellaApplication           : No active profile set,\nfalling back to 1 default profile: &quot;default&quot; Exception in thread\n&quot;main&quot; java.nio.file.InvalidPathException: Trailing char &lt; &gt; at index\n27: com.vogella.spring.di.model\nat java.base/sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:191)\nat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\nat java.base/sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\nat java.base/sun.nio.fs.WindowsPath.parse(WindowsPath.java:92)</p>\n</blockquote>\n<p>I analyzed the filenames and the configuration.\nI noticed a space in the 'group' property in build.gradle file</p>\n<pre><code>group = 'com.vogella.spring.di.model '\n</code></pre>\n<p>I removed the extra space and the build command worked fine.</p>\n"}],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158272,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":43973911,"answer_count":8,"score":55,"last_activity_date":1690548607,"creation_date":1494829749,"question_id":43972777,"body_markdown":"I have to copy classpath resource from one package to another.\r\n\r\nMy program is:\r\n\r\n        public static void main(String[] args) throws IOException, URISyntaxException {\r\n        \r\n        \t\tClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\r\n    InputStream in = classLoader.getResourceAsStream(&quot;com/stackoverflow/main/Movie.class&quot;);\r\n    \r\n        \t\tURI uri = ClassLoader.getSystemResource(&quot;com/stackoverflow/json&quot;).toURI();\r\n        \t\tPath path = Paths.get(uri.getPath(),&quot;Movie.class&quot;);\r\n        \t\tSystem.out.println(path);\r\n        \r\n        \t\tlong copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\r\n        \t\tSystem.out.println(copy);\r\n        \r\n        \t}\r\n\r\nAt `Files.copy` method I get exception:\r\n\r\n    Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /D:/Programs/workspaceEE/HibernateDemo/target/classes/com/stackoverflow/json\r\n    \tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\r\n    \tat sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\r\n    \tat sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\r\n    \tat sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\r\n    \tat java.nio.file.Paths.get(Paths.java:84)\r\n    \tat com.stackoverflow.main.CopyFileToDirectoryTest.main(CopyFileToDirectoryTest.java:34)\r\n\r\nHow to solve it?\r\n\r\n**Solution**\r\n\r\n    public static void main(String[] args) throws IOException, URISyntaxException {\r\n    \t\tClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\r\n    \t\tInputStream in = classLoader.getResourceAsStream(&quot;com//stackoverflow//main//Movie.class&quot;);\r\n    \t\tURI uri = ClassLoader.getSystemResource(&quot;com//stackoverflow//json&quot;).toURI();\r\n    \t\tString mainPath = Paths.get(uri).toString();\r\n    \t\tPath path = Paths.get(mainPath, &quot;Movie.class&quot;);\r\n    \t\tSystem.out.println(path);\r\n    \t\tlong copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\r\n    \t\tSystem.out.println(copy);\r\n    \t}\r\n\r\nThis code correctly copies `Movie.class` from package `com/stackoverflow/main` into `com/stackoverflow/json`.","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2:","body":"<p>I have to copy classpath resource from one package to another.</p>\n\n<p>My program is:</p>\n\n<pre><code>    public static void main(String[] args) throws IOException, URISyntaxException {\n\n            ClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\nInputStream in = classLoader.getResourceAsStream(\"com/stackoverflow/main/Movie.class\");\n\n            URI uri = ClassLoader.getSystemResource(\"com/stackoverflow/json\").toURI();\n            Path path = Paths.get(uri.getPath(),\"Movie.class\");\n            System.out.println(path);\n\n            long copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(copy);\n\n        }\n</code></pre>\n\n<p>At <code>Files.copy</code> method I get exception:</p>\n\n<pre><code>Exception in thread \"main\" java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /D:/Programs/workspaceEE/HibernateDemo/target/classes/com/stackoverflow/json\n    at sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse(WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse(WindowsPath.java:94)\n    at sun.nio.fs.WindowsFileSystem.getPath(WindowsFileSystem.java:255)\n    at java.nio.file.Paths.get(Paths.java:84)\n    at com.stackoverflow.main.CopyFileToDirectoryTest.main(CopyFileToDirectoryTest.java:34)\n</code></pre>\n\n<p>How to solve it?</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n        ClassLoader classLoader = CopyFileToDirectoryTest.class.getClassLoader();\n        InputStream in = classLoader.getResourceAsStream(\"com//stackoverflow//main//Movie.class\");\n        URI uri = ClassLoader.getSystemResource(\"com//stackoverflow//json\").toURI();\n        String mainPath = Paths.get(uri).toString();\n        Path path = Paths.get(mainPath, \"Movie.class\");\n        System.out.println(path);\n        long copy = Files.copy(in, path, StandardCopyOption.REPLACE_EXISTING);\n        System.out.println(copy);\n    }\n</code></pre>\n\n<p>This code correctly copies <code>Movie.class</code> from package <code>com/stackoverflow/main</code> into <code>com/stackoverflow/json</code>.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","google-chrome-devtools"],"owner":{"account_id":29078201,"reputation":1,"user_id":22274814,"display_name":"Nilesh Kathait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690548602,"creation_date":1690442587,"question_id":76777358,"body_markdown":"I am using selenium 4 network interceptor to intercept and mock http requests. When I try to generate a response with http code **422** , interceptor is generating an error as below.\r\n\r\n    {&quot;id&quot;:14,&quot;error&quot;:{&quot;code&quot;:-32602,&quot;message&quot;:&quot;Invalid http status code or phrase&quot;},&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;}\r\n\r\nHere is the Fetch `fulfillRequest`\r\n\r\n\t{\r\n\t&quot;id&quot;:14,\r\n\t&quot;method&quot;:&quot;Fetch.fulfillRequest&quot;,\r\n\t&quot;params&quot;:{\r\n\t\t&quot;requestId&quot;:&quot;interception-job-1.0&quot;,\r\n\t\t&quot;responseCode&quot;:422,\r\n\t\t&quot;responseHeaders&quot;:[\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;date&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Wed, 26 Jul 2023 17:42:16 GMT&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;server&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;nginx\\u002f1.18.0 (Ubuntu)&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;vary&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Accept&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;p3p&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;CP=\\&quot;NOI ADM DEV PSAi OUR OTRo STP IND COM NAV DEM\\&quot;&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;strict-transport-security&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;max-age=31536000; includeSubDomains&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;x-powered-by&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;Express&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;content-type&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;text\\u002fhtml; charset=utf-8&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;location&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;https:\\u002f\\u002fcareers.uchealth.org\\u002fjobs\\u002f12884253-pharmacy-technician-ii?_ccid=16903933360707wca2n1fd&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;Set-Cookie&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;source=loz;domain=.app-cast.com;path=\\u002f&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;Set-Cookie&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;cc_ut=16903933360707wca2n1fd;domain=.app-cast.com;path=\\u002f&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;:&quot;cache-control&quot;,\r\n\t\t\t\t&quot;value&quot;:&quot;no-cache, no-store, must-revalidate&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;body&quot;:&quot;&quot;\r\n\t},\r\n\t&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;\r\n\t}\r\n\r\nWhen I try with the same request with 200 http code, it works fine.","title":"Selenium 4 network interceptor not accepting 422 http status code response","body":"<p>I am using selenium 4 network interceptor to intercept and mock http requests. When I try to generate a response with http code <strong>422</strong> , interceptor is generating an error as below.</p>\n<pre><code>{&quot;id&quot;:14,&quot;error&quot;:{&quot;code&quot;:-32602,&quot;message&quot;:&quot;Invalid http status code or phrase&quot;},&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;}\n</code></pre>\n<p>Here is the Fetch <code>fulfillRequest</code></p>\n<pre><code>{\n&quot;id&quot;:14,\n&quot;method&quot;:&quot;Fetch.fulfillRequest&quot;,\n&quot;params&quot;:{\n    &quot;requestId&quot;:&quot;interception-job-1.0&quot;,\n    &quot;responseCode&quot;:422,\n    &quot;responseHeaders&quot;:[\n        {\n            &quot;name&quot;:&quot;date&quot;,\n            &quot;value&quot;:&quot;Wed, 26 Jul 2023 17:42:16 GMT&quot;\n        },\n        {\n            &quot;name&quot;:&quot;server&quot;,\n            &quot;value&quot;:&quot;nginx\\u002f1.18.0 (Ubuntu)&quot;\n        },\n        {\n            &quot;name&quot;:&quot;vary&quot;,\n            &quot;value&quot;:&quot;Accept&quot;\n        },\n        {\n            &quot;name&quot;:&quot;p3p&quot;,\n            &quot;value&quot;:&quot;CP=\\&quot;NOI ADM DEV PSAi OUR OTRo STP IND COM NAV DEM\\&quot;&quot;\n        },\n        {\n            &quot;name&quot;:&quot;strict-transport-security&quot;,\n            &quot;value&quot;:&quot;max-age=31536000; includeSubDomains&quot;\n        },\n        {\n            &quot;name&quot;:&quot;x-powered-by&quot;,\n            &quot;value&quot;:&quot;Express&quot;\n        },\n        {\n            &quot;name&quot;:&quot;content-type&quot;,\n            &quot;value&quot;:&quot;text\\u002fhtml; charset=utf-8&quot;\n        },\n        {\n            &quot;name&quot;:&quot;location&quot;,\n            &quot;value&quot;:&quot;https:\\u002f\\u002fcareers.uchealth.org\\u002fjobs\\u002f12884253-pharmacy-technician-ii?_ccid=16903933360707wca2n1fd&quot;\n        },\n        {\n            &quot;name&quot;:&quot;Set-Cookie&quot;,\n            &quot;value&quot;:&quot;source=loz;domain=.app-cast.com;path=\\u002f&quot;\n        },\n        {\n            &quot;name&quot;:&quot;Set-Cookie&quot;,\n            &quot;value&quot;:&quot;cc_ut=16903933360707wca2n1fd;domain=.app-cast.com;path=\\u002f&quot;\n        },\n        {\n            &quot;name&quot;:&quot;cache-control&quot;,\n            &quot;value&quot;:&quot;no-cache, no-store, must-revalidate&quot;\n        }\n    ],\n    &quot;body&quot;:&quot;&quot;\n},\n&quot;sessionId&quot;:&quot;40DE1DDA6AA8E5A60725650C8BE99C3C&quot;\n}\n</code></pre>\n<p>When I try with the same request with 200 http code, it works fine.</p>\n"},{"tags":["java","selenium-webdriver","pageobjects"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690542997,"post_id":76787282,"comment_id":135372008,"body_markdown":"Sure, this should work just fine, as long as your test class does indeed extend your base class. JUnit will run all the annotated methods. If it doesn&#39;t work for you, attach a debugger and see what gets executed when. Note that JUnit&#39;s default is to make a new instance of the test class for each test, so your `driver` field (and the before/after methods) should probably be `static`.","body":"Sure, this should work just fine, as long as your test class does indeed extend your base class. JUnit will run all the annotated methods. If it doesn&#39;t work for you, attach a debugger and see what gets executed when. Note that JUnit&#39;s default is to make a new instance of the test class for each test, so your <code>driver</code> field (and the before/after methods) should probably be <code>static</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690543083,"post_id":76787282,"comment_id":135372028,"body_markdown":"And note that `BeforeClass` and `Before` are different. Same for `After`. Read the javadoc on those classes for details.","body":"And note that <code>BeforeClass</code> and <code>Before</code> are different. Same for <code>After</code>. Read the javadoc on those classes for details."}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690547557,"creation_date":1690543704,"answer_id":76787382,"question_id":76787282,"body_markdown":"To make your refactor work as expected, you should make method and `driver` variable `static` as far as `@BeforeClass` executes method when class instance has not been created yet, so non static entities are `null`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    static WebDriver driver;\r\n\r\n    @BeforeClass\r\n    public static void setupAll() {\r\n       driver = new ChromeDriver();\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut I suggest to use `@Before` except `@BeforeClass` annotation in your Base class, that would allow you to make `driver` non-static.\r\n","title":"Selenium POM - &quot;this.driver&quot; is null","body":"<p>To make your refactor work as expected, you should make method and <code>driver</code> variable <code>static</code> as far as <code>@BeforeClass</code> executes method when class instance has not been created yet, so non static entities are <code>null</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>static WebDriver driver;\n\n@BeforeClass\npublic static void setupAll() {\n   driver = new ChromeDriver();\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>but I suggest to use <code>@Before</code> except <code>@BeforeClass</code> annotation in your Base class, that would allow you to make <code>driver</code> non-static.</p>\n"}],"owner":{"account_id":29071401,"reputation":3,"user_id":22269650,"display_name":"shgree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787382,"answer_count":1,"score":0,"last_activity_date":1690547557,"creation_date":1690542809,"question_id":76787282,"body_markdown":"I am learning about POM Selenium + Java. I want to refactor class for tests. Right now I have one class but I want divide code into two class: one class will be for initializing browser with adnotations @BeforeClass and @AferClass and second will be with just @Test.\r\nWhen I refactor my code I get error java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null . My code only works if I have @After, @Before and @Test in one class.\r\n\r\n\r\nMy code for refactor:\r\n\r\n```\r\npublic class TC1LoginRegisterUser {\r\n    WebDriver driver;\r\n\r\n    @Before\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    @Test\r\n    public void test1() {\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToUrl();\r\n    }\r\n\r\n    @After\r\n    public void teardown() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\nMy code after refactor:\r\n\r\n```\r\npublic class BaseClass {\r\n\r\n    WebDriver driver;\r\n    @BeforeClass\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n\r\n    }\r\n\r\n    @AfterClass\r\n    public void teardown() {\r\n        driver.close();\r\n        driver.quit();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class TC1LoginRegisterUser extends BaseClass {\r\n    @Test\r\n    public void test1() {\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToUrl(); \r\n     }\r\n}\r\n```\r\n\r\n","title":"Selenium POM - &quot;this.driver&quot; is null","body":"<p>I am learning about POM Selenium + Java. I want to refactor class for tests. Right now I have one class but I want divide code into two class: one class will be for initializing browser with adnotations @BeforeClass and @AferClass and second will be with just @Test.\nWhen I refactor my code I get error java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null . My code only works if I have @After, @Before and @Test in one class.</p>\n<p>My code for refactor:</p>\n<pre><code>public class TC1LoginRegisterUser {\n    WebDriver driver;\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n    }\n\n    @Test\n    public void test1() {\n        HomePage homePage = new HomePage(driver);\n        homePage.navigateToUrl();\n    }\n\n    @After\n    public void teardown() {\n        driver.close();\n        driver.quit();\n    }\n}\n</code></pre>\n<p>My code after refactor:</p>\n<pre><code>public class BaseClass {\n\n    WebDriver driver;\n    @BeforeClass\n    public void setup() {\n        driver = new ChromeDriver();\n\n    }\n\n    @AfterClass\n    public void teardown() {\n        driver.close();\n        driver.quit();\n    }\n\n}\n\n</code></pre>\n<pre><code>public class TC1LoginRegisterUser extends BaseClass {\n    @Test\n    public void test1() {\n        HomePage homePage = new HomePage(driver);\n        homePage.navigateToUrl(); \n     }\n}\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690528727,"post_id":76785439,"comment_id":135369218,"body_markdown":"I think this may be aliasing, because the dashes are so short.","body":"I think this may be aliasing, because the dashes are so short."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690528810,"post_id":76785439,"comment_id":135369236,"body_markdown":"Yes. Notice how 0.3f appears to give you longer dashes than 1f. It&#39;s aliasing.","body":"Yes. Notice how 0.3f appears to give you longer dashes than 1f. It&#39;s aliasing."},{"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"score":0,"creation_date":1690533431,"post_id":76785439,"comment_id":135370131,"body_markdown":"@tgdavies , width with 0.33f of above code will result an even longer dashes","body":"@tgdavies , width with 0.33f of above code will result an even longer dashes"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690534116,"post_id":76785439,"comment_id":135370275,"body_markdown":"The exact effect might depend on your screen resolution too, but it is an aliasing effect.","body":"The exact effect might depend on your screen resolution too, but it is an aliasing effect."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690605550,"post_id":76787840,"comment_id":135380192,"body_markdown":"`1/3f` is not zero -- did you try it?","body":"<code>1&#47;3f</code> is not zero -- did you try it?"},{"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"score":0,"creation_date":1690622429,"post_id":76787840,"comment_id":135381458,"body_markdown":"Seems like an AI answer...","body":"Seems like an AI answer..."}],"tags":[],"owner":{"account_id":29109510,"reputation":38,"user_id":22299585,"display_name":"Amine Hayani"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690547496,"creation_date":1690547496,"answer_id":76787840,"question_id":76785439,"body_markdown":"/* In Java, when you perform 1/3f, the result is zero because both 1 and 3 are integers, and the division is performed using integer arithmetic. To fix this, you need to ensure that you use floating-point values for the dash pattern.\r\n*/\r\nHere&#39;s the updated code with the correct float values for the dash pattern:\r\n\r\n    float width = 1f / 3f;\r\n    float[] dash = new float[] { 2 * width, width };\r\n    \r\n    BufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n    Graphics2D g = image.createGraphics();\r\n    g.setColor(Color.RED);\r\n    BasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER,\r\n            10, dash, 0);\r\n    g.setStroke(basicStroke);\r\n    g.drawLine(0, 300, 600, 300);\r\n    g.dispose();\r\n    \r\n    try {\r\n        ImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\r\n        System.out.println(&quot;Image created successfully.&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n\r\nRemember to adjust the width value as needed to get the desired thickness for the dashed line. The dash array represents the pattern of on and off segments for the dashed line, and you can adjust its values to get different dash patterns.\r\n","title":"Draw line with dash results a solid line in Java","body":"<p>/* In Java, when you perform 1/3f, the result is zero because both 1 and 3 are integers, and the division is performed using integer arithmetic. To fix this, you need to ensure that you use floating-point values for the dash pattern.\n*/\nHere's the updated code with the correct float values for the dash pattern:</p>\n<pre><code>float width = 1f / 3f;\nfloat[] dash = new float[] { 2 * width, width };\n\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D g = image.createGraphics();\ng.setColor(Color.RED);\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER,\n        10, dash, 0);\ng.setStroke(basicStroke);\ng.drawLine(0, 300, 600, 300);\ng.dispose();\n\ntry {\n    ImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\n    System.out.println(&quot;Image created successfully.&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Remember to adjust the width value as needed to get the desired thickness for the dashed line. The dash array represents the pattern of on and off segments for the dashed line, and you can adjust its values to get different dash patterns.</p>\n"}],"owner":{"account_id":7447319,"reputation":80,"user_id":5663090,"display_name":"Dallon Xu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690547496,"creation_date":1690527178,"question_id":76785439,"body_markdown":"I draw a line with [2/3f, 1/3f] dash in Java, but results a solid line.\r\n\r\nI also tried other dashs, here is the results:\r\n```\r\n[2/3f, 1/3f]: a solid line\r\n[0.5f, 0.25f]: a good dash line\r\n[0.6f, 0.3f]: a dash line with small difference\r\n[0.66f, 0.33f]: a bad dash line with big difference\r\n[2, 1]: a good dash line\r\n```\r\nCode:\r\n```java\r\n//try width with 1/3f, 0.25f, 0.3f, 0.33f, 1f, different results get.\r\nfloat width = 1/3f;\r\nfloat[] dash = new float[] {2*width, 1*width};\r\n\r\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\r\n\r\nGraphics2D g = image.createGraphics();\r\ng.setColor(Color.RED);\r\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, \r\n        10, dash, 0);\r\ng.setStroke(basicStroke);\r\ng.drawLine(0, 300, 600, 300);\r\ng.dispose();\r\n\r\nImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\r\n```","title":"Draw line with dash results a solid line in Java","body":"<p>I draw a line with [2/3f, 1/3f] dash in Java, but results a solid line.</p>\n<p>I also tried other dashs, here is the results:</p>\n<pre><code>[2/3f, 1/3f]: a solid line\n[0.5f, 0.25f]: a good dash line\n[0.6f, 0.3f]: a dash line with small difference\n[0.66f, 0.33f]: a bad dash line with big difference\n[2, 1]: a good dash line\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//try width with 1/3f, 0.25f, 0.3f, 0.33f, 1f, different results get.\nfloat width = 1/3f;\nfloat[] dash = new float[] {2*width, 1*width};\n\nBufferedImage image = new BufferedImage(600, 600, BufferedImage.TYPE_INT_ARGB);\n\nGraphics2D g = image.createGraphics();\ng.setColor(Color.RED);\nBasicStroke basicStroke = new BasicStroke(width, BasicStroke.CAP_BUTT, BasicStroke.JOIN_MITER, \n        10, dash, 0);\ng.setStroke(basicStroke);\ng.drawLine(0, 300, 600, 300);\ng.dispose();\n\nImageIO.write(image, &quot;PNG&quot;, new File(&quot;test.png&quot;));\n</code></pre>\n"},{"tags":["java","swing","drag-and-drop","drag"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690468143,"post_id":76780666,"comment_id":135360798,"body_markdown":"I do not reproduce the (mis)behavior you describe on openjdk 1.8.0_362-b08, CentOS Stream 8.  I see &quot;dragDropEnd()&quot; displayed in the console as soon as I drop, whether that&#39;s inside or outside the the application&#39;s JFrame.","body":"I do not reproduce the (mis)behavior you describe on openjdk 1.8.0_362-b08, CentOS Stream 8.  I see &quot;dragDropEnd()&quot; displayed in the console as soon as I drop, whether that&#39;s inside or outside the the application&#39;s JFrame."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1690468245,"post_id":76780666,"comment_id":135360829,"body_markdown":"I speculate that the results you observe may be associated with your window manager / desktop settings.  For example, if you have configured your Linux desktop such that focus follows the mouse, with the result that your application&#39;s JFrame loses focus when you move the mouse out of it, then it is plausible that the drop event would not fire until the frame regained focus.","body":"I speculate that the results you observe may be associated with your window manager / desktop settings.  For example, if you have configured your Linux desktop such that focus follows the mouse, with the result that your application&#39;s JFrame loses focus when you move the mouse out of it, then it is plausible that the drop event would not fire until the frame regained focus."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690468536,"post_id":76780666,"comment_id":135360893,"body_markdown":"@JohnBollinger Thanks. I am going to add a focus listener to see what is going on on that side. My Debian is using KDE.","body":"@JohnBollinger Thanks. I am going to add a focus listener to see what is going on on that side. My Debian is using KDE."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690468951,"post_id":76780666,"comment_id":135361007,"body_markdown":"@JohnBollinger\nSo, it&#39;s losing the focus indeed. Thanks already for that!\n\nNow,  I need to find a workaround!","body":"@JohnBollinger So, it&#39;s losing the focus indeed. Thanks already for that!  Now,  I need to find a workaround!"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690469235,"post_id":76780666,"comment_id":135361079,"body_markdown":"I&#39;m glad to have helped.  For the record, I am also using KDE.","body":"I&#39;m glad to have helped.  For the record, I am also using KDE."},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690469743,"post_id":76780666,"comment_id":135361219,"body_markdown":"a tabbedPane.addFocusListener/focusLost(){tabbedPane.requestFocus()} regains the focus but the drop event is still not triggered (besides, my requestFocus() is obviously quite crude, I would need to change it obviously)","body":"a tabbedPane.addFocusListener/focusLost(){tabbedPane.requestFo&zwnj;&#8203;cus()} regains the focus but the drop event is still not triggered (besides, my requestFocus() is obviously quite crude, I would need to change it obviously)"},{"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"score":0,"creation_date":1690469831,"post_id":76780666,"comment_id":135361245,"body_markdown":"@JohnBollinger KDE in your CentOS? I would need to try it. And maybe a JDK 8 too.","body":"@JohnBollinger KDE in your CentOS? I would need to try it. And maybe a JDK 8 too."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690471351,"post_id":76780666,"comment_id":135361597,"body_markdown":"Yes, KDE in my CentOS.  I switched when RedHat moved to Gnome 3, which I cannot stand.  KDE used to be supported directly by RHEL (versions 7 and below), and it is available from EPEL since version 8.  I think it&#39;s still in Fedora.","body":"Yes, KDE in my CentOS.  I switched when RedHat moved to Gnome 3, which I cannot stand.  KDE used to be supported directly by RHEL (versions 7 and below), and it is available from EPEL since version 8.  I think it&#39;s still in Fedora."}],"owner":{"account_id":5836038,"reputation":11,"user_id":4599075,"display_name":"user4599075"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690547037,"creation_date":1690467500,"question_id":76780666,"body_markdown":"I am trying to implement a drag &amp; drop behavior to a `jtabbedpane`.\r\nIt&#39;s working well on my Windows 10, but not so much on a Debian 12 (openjdk 17 on the Debian).\r\n\r\nHere is a minimal test case:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.Transferable;\r\nimport java.awt.dnd.DnDConstants;\r\nimport java.awt.dnd.DragGestureEvent;\r\nimport java.awt.dnd.DragGestureListener;\r\nimport java.awt.dnd.DragSource;\r\nimport java.awt.dnd.DragSourceDragEvent;\r\nimport java.awt.dnd.DragSourceDropEvent;\r\nimport java.awt.dnd.DragSourceEvent;\r\nimport java.awt.dnd.DragSourceListener;\r\nimport java.awt.dnd.InvalidDnDOperationException;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTabbedPane;\r\n\r\npublic class DnDTestCase extends JFrame {\r\n  JTabbedPane tabbedPane;\r\n  public DnDTestCase() {\r\n    tabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n    getContentPane().add(tabbedPane, BorderLayout.CENTER);\r\n\r\n    JPanel panel = new JPanel();\r\n    tabbedPane.addTab(&quot;New tab&quot;, null, panel, null);\r\n\r\n    this.setSize(320, 240);\r\n\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    initDnd();\r\n  }\r\n\r\n  void initDnd() {\r\n    final DragSourceListener dsl = new DragSourceListener() {\r\n      @Override\r\n      public void dragEnter(DragSourceDragEvent e) {}\r\n      @Override\r\n      public void dragExit(DragSourceEvent e) {}\r\n      @Override\r\n      public void dragOver(DragSourceDragEvent e) {}\r\n      @Override\r\n      public void dragDropEnd(DragSourceDropEvent e) {\r\n        System.out.println(&quot;dragDropEnd()&quot;);\r\n      }\r\n      @Override\r\n      public void dropActionChanged(DragSourceDragEvent e) {}\r\n    };\r\n\r\n    final DragGestureListener dgl = new DragGestureListener() {\r\n      @Override\r\n      public void dragGestureRecognized(DragGestureEvent e) {\r\n        System.out.println(&quot;dragGestureRecognized()&quot;);\r\n        try {\r\n          e.startDrag(DragSource.DefaultMoveDrop,\r\n            new Transferable() {\r\n              @Override\r\n              public Object getTransferData(DataFlavor flavor) {\r\n                return null;\r\n              }\r\n              @Override\r\n              public DataFlavor[] getTransferDataFlavors() {\r\n                return null;\r\n              }\r\n              @Override\r\n              public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                return true;\r\n              }\r\n            },\r\n            dsl);\r\n        } catch (InvalidDnDOperationException idoe) {\r\n          idoe.printStackTrace();\r\n        }\r\n      }\r\n    };\r\n\r\n    DragSource ds = new DragSource();\r\n    ds.createDefaultDragGestureRecognizer(tabbedPane, DnDConstants.ACTION_MOVE, dgl);\r\n\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    EventQueue.invokeLater(() -&gt; new DnDTestCase().setVisible(true));\r\n  }\r\n}\r\n```\r\n\r\nHere it is on `Windows`.[JFrame+JtabPane]\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBasically, you can drag and drop the tab to the window itself, and also to an empty space outside of the `JFrame`, and in both cases on Windows the `dragDropEnd` function is triggered when the mouse button is released. So it displays `dragDropEnd()` in the terminal. Which is nice.\r\n\r\nHowever, on the `Linux` run, it `dragDropEnd` is triggered only if the mouse cursor is over a `JFrame` (the original one or even another one, it doesn&#39;t really matter, apparently).\r\n\r\nIf the mouse button is released over an empty space (=not a `JFrame` — or even a `JDialog` probably), it doesn&#39;t trigger anything UNTIL the mouse cursor is moved back over the `JFrame`. So for some reason, the event is not generated if the mouse is not over the `JFrame`?\r\n\r\nIs there something obvious I am doing in a bad way?\r\n\r\n  [1]: https://i.stack.imgur.com/V5BQO.png","title":"java swing drag &amp; drop linux: DragSourceListener.dragDropEnd not called","body":"<p>I am trying to implement a drag &amp; drop behavior to a <code>jtabbedpane</code>.\nIt's working well on my Windows 10, but not so much on a Debian 12 (openjdk 17 on the Debian).</p>\n<p>Here is a minimal test case:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DragGestureEvent;\nimport java.awt.dnd.DragGestureListener;\nimport java.awt.dnd.DragSource;\nimport java.awt.dnd.DragSourceDragEvent;\nimport java.awt.dnd.DragSourceDropEvent;\nimport java.awt.dnd.DragSourceEvent;\nimport java.awt.dnd.DragSourceListener;\nimport java.awt.dnd.InvalidDnDOperationException;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\n\npublic class DnDTestCase extends JFrame {\n  JTabbedPane tabbedPane;\n  public DnDTestCase() {\n    tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n    getContentPane().add(tabbedPane, BorderLayout.CENTER);\n\n    JPanel panel = new JPanel();\n    tabbedPane.addTab(&quot;New tab&quot;, null, panel, null);\n\n    this.setSize(320, 240);\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    initDnd();\n  }\n\n  void initDnd() {\n    final DragSourceListener dsl = new DragSourceListener() {\n      @Override\n      public void dragEnter(DragSourceDragEvent e) {}\n      @Override\n      public void dragExit(DragSourceEvent e) {}\n      @Override\n      public void dragOver(DragSourceDragEvent e) {}\n      @Override\n      public void dragDropEnd(DragSourceDropEvent e) {\n        System.out.println(&quot;dragDropEnd()&quot;);\n      }\n      @Override\n      public void dropActionChanged(DragSourceDragEvent e) {}\n    };\n\n    final DragGestureListener dgl = new DragGestureListener() {\n      @Override\n      public void dragGestureRecognized(DragGestureEvent e) {\n        System.out.println(&quot;dragGestureRecognized()&quot;);\n        try {\n          e.startDrag(DragSource.DefaultMoveDrop,\n            new Transferable() {\n              @Override\n              public Object getTransferData(DataFlavor flavor) {\n                return null;\n              }\n              @Override\n              public DataFlavor[] getTransferDataFlavors() {\n                return null;\n              }\n              @Override\n              public boolean isDataFlavorSupported(DataFlavor flavor) {\n                return true;\n              }\n            },\n            dsl);\n        } catch (InvalidDnDOperationException idoe) {\n          idoe.printStackTrace();\n        }\n      }\n    };\n\n    DragSource ds = new DragSource();\n    ds.createDefaultDragGestureRecognizer(tabbedPane, DnDConstants.ACTION_MOVE, dgl);\n\n  }\n\n  public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; new DnDTestCase().setVisible(true));\n  }\n}\n</code></pre>\n<p>Here it is on <code>Windows</code>.[JFrame+JtabPane]</p>\n<p><a href=\"https://i.stack.imgur.com/V5BQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V5BQO.png\" alt=\"enter image description here\" /></a></p>\n<p>Basically, you can drag and drop the tab to the window itself, and also to an empty space outside of the <code>JFrame</code>, and in both cases on Windows the <code>dragDropEnd</code> function is triggered when the mouse button is released. So it displays <code>dragDropEnd()</code> in the terminal. Which is nice.</p>\n<p>However, on the <code>Linux</code> run, it <code>dragDropEnd</code> is triggered only if the mouse cursor is over a <code>JFrame</code> (the original one or even another one, it doesn't really matter, apparently).</p>\n<p>If the mouse button is released over an empty space (=not a <code>JFrame</code> — or even a <code>JDialog</code> probably), it doesn't trigger anything UNTIL the mouse cursor is moved back over the <code>JFrame</code>. So for some reason, the event is not generated if the mouse is not over the <code>JFrame</code>?</p>\n<p>Is there something obvious I am doing in a bad way?</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1690556364,"post_id":76787730,"comment_id":135374905,"body_markdown":"Can you show us how you&#39;re doing this without Micronaut?","body":"Can you show us how you&#39;re doing this without Micronaut?"}],"owner":{"account_id":323279,"reputation":319,"user_id":643194,"accept_rate":73,"display_name":"vishal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690546675,"creation_date":1690546675,"question_id":76787730,"body_markdown":"I am trying to access third party API which required to use keystore with sslcontext.  \r\nWe&#39;re using `io.micronaut.http.client.HttpClient` to access a 3rd party API.  \r\nHow to create HttpClient with keystore and sslcontext in micronaut?","title":"Micronaut HttpClient with keystore and sslcontext","body":"<p>I am trying to access third party API which required to use keystore with sslcontext.<br />\nWe're using <code>io.micronaut.http.client.HttpClient</code> to access a 3rd party API.<br />\nHow to create HttpClient with keystore and sslcontext in micronaut?</p>\n"},{"tags":["java","soap","weblogic","soapui","soap-client"],"answers":[{"tags":[],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690545759,"creation_date":1690545759,"answer_id":76787629,"question_id":76760068,"body_markdown":"Finally resolved this.\r\n\r\n - Removed the Custom Handler entirely.\r\n - Instead modified code of calling WS\r\n\r\n**Before** \r\n\r\n``` \r\n\r\n            ManagementServices  service = new ManagementServices(webServiceUrl);\r\n            \r\n            Impl_ManagementServices port = service.getManagementServices();\r\n            \r\n            final Binding binding = ((BindingProvider) port).getBinding();\r\n             \r\n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\r\n    \r\n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\r\n            \r\n            binding.setHandlerChain(handlerList);\r\n            \r\n            port.callingManageService(some_input);\r\n```\r\n\r\n**Now (changed/working code)**\r\n\r\n\r\n```\r\n\t\timport weblogic.wsee.security.unt.ClientUNTCredentialProvider;\r\n\t\timport weblogic.xml.crypto.wss.WSSecurityContext;\r\n\t\timport weblogic.xml.crypto.wss.provider.CredentialProvider;\r\n\t\timport javax.xml.ws.BindingProvider;\r\n\r\n\r\n\t\tManagementServices  service = new ManagementServices(webServiceUrl);\r\n    \r\n        Impl_ManagementServices port = service.getManagementServices();\r\n\r\n\t\tList&lt;CredentialProvider&gt; credProviders = new ArrayList&lt;CredentialProvider&gt;(); \r\n\t\tCredentialProvider  cp = new ClientUNTCredentialProvider(&quot;username&quot;.getBytes(), &quot;password&quot;.getBytes()); \r\n\t\tcredProviders.add(cp); \r\n\t\tMap&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\r\n\t\trequestContext.put(WSSecurityContext.CREDENTIAL_PROVIDER_LIST, credProviders);\r\n\t\r\n            \r\n        port.callingManageService(some_input);\r\n```\r\n","title":"Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken","body":"<p>Finally resolved this.</p>\n<ul>\n<li>Removed the Custom Handler entirely.</li>\n<li>Instead modified code of calling WS</li>\n</ul>\n<p><strong>Before</strong></p>\n<pre><code>\n            ManagementServices  service = new ManagementServices(webServiceUrl);\n            \n            Impl_ManagementServices port = service.getManagementServices();\n            \n            final Binding binding = ((BindingProvider) port).getBinding();\n             \n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\n    \n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\n            \n            binding.setHandlerChain(handlerList);\n            \n            port.callingManageService(some_input);\n</code></pre>\n<p><strong>Now (changed/working code)</strong></p>\n<pre><code>        import weblogic.wsee.security.unt.ClientUNTCredentialProvider;\n        import weblogic.xml.crypto.wss.WSSecurityContext;\n        import weblogic.xml.crypto.wss.provider.CredentialProvider;\n        import javax.xml.ws.BindingProvider;\n\n\n        ManagementServices  service = new ManagementServices(webServiceUrl);\n    \n        Impl_ManagementServices port = service.getManagementServices();\n\n        List&lt;CredentialProvider&gt; credProviders = new ArrayList&lt;CredentialProvider&gt;(); \n        CredentialProvider  cp = new ClientUNTCredentialProvider(&quot;username&quot;.getBytes(), &quot;password&quot;.getBytes()); \n        credProviders.add(cp); \n        Map&lt;String, Object&gt; requestContext = ((BindingProvider) port).getRequestContext();\n        requestContext.put(WSSecurityContext.CREDENTIAL_PROVIDER_LIST, credProviders);\n    \n            \n        port.callingManageService(some_input);\n</code></pre>\n"}],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787629,"answer_count":1,"score":0,"last_activity_date":1690545759,"creation_date":1690267592,"question_id":76760068,"body_markdown":"I am trying to call a Webservice using jax-ws. While calling the WS I faced below error,\r\n\r\n```\r\n&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n   &lt;S:Body&gt;\r\n      &lt;S:Fault xmlns:ns4=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n         &lt;faultcode&gt;S:Server&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken&lt;/faultstring&gt;\r\n         &lt;faultactor/&gt;\r\n      &lt;/S:Fault&gt;\r\n   &lt;/S:Body&gt;\r\n&lt;/S:Envelope&gt;\r\n\r\n```\r\n I searched for this error and found out that it expects userid/password in header. So to add the user credentials in header I have implemented custom handler.\r\n``` \r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\nimport javax.xml.namespace.QName;\r\nimport javax.xml.soap.SOAPElement;\r\nimport javax.xml.soap.SOAPEnvelope;\r\nimport javax.xml.soap.SOAPException;\r\nimport javax.xml.soap.SOAPFactory;\r\nimport javax.xml.soap.SOAPHeader;\r\nimport javax.xml.ws.handler.MessageContext;\r\nimport javax.xml.ws.handler.soap.SOAPHandler;\r\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\r\n\r\n\r\npublic class UsrSecHandler implements SOAPHandler&lt;SOAPMessageContext&gt;\r\n{\r\n    private static final String AUTH_NS = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\r\n    private static final String AUTH_PREFIX=&quot;wsse&quot;;\r\n\tprivate String pwd;\r\n\tprivate String userName = null;\r\n\tprivate SOAPFactory mSoapFactory = null;\r\n\t\r\n\r\n\t\r\n\r\n\tpublic UsrSecHandler(String username, String password) {\r\n\t\tthis.userName = username;\r\n\t\tthis.pwd = password;\r\n\t}\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic boolean handleMessage(SOAPMessageContext context)\r\n\t{\r\n\r\n\t\tBoolean outboundProperty = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n\t\tif (outboundProperty.booleanValue())\r\n\t\t{\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\tSOAPEnvelope envelope = context.getMessage().getSOAPPart().getEnvelope();\r\n\t\t\t\tif (mSoapFactory == null)\r\n\t\t\t\t{\r\n\t\t\t\t\t\tmSoapFactory = SOAPFactory.newInstance();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tSOAPElement wsSecHeaderElm, userNameTokenElm, userNameElm, passwdElm;\r\n\t\t\t\t// WSSecurity &lt;Security&gt; header\r\n\t\t\t\t\r\n\t\t\t\t\twsSecHeaderElm = mSoapFactory.createElement(&quot;Security&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tuserNameTokenElm = mSoapFactory.createElement(&quot;UsernameToken&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tuserNameElm = mSoapFactory.createElement(&quot;Username&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\tpasswdElm = mSoapFactory.createElement(&quot;Password&quot;,AUTH_PREFIX,AUTH_NS);\r\n\t\t\t\t\r\n\t\t\t\tuserNameElm.addTextNode(this.userName);\r\n\t\t\t\tpasswdElm.addTextNode(this.pwd);\r\n\r\n\t\t\t\tuserNameTokenElm.addChildElement(userNameElm);\r\n\t\t\t\tuserNameTokenElm.addChildElement(passwdElm);\r\n\t\t\t\t\r\n\t\t\t\t// add child elements to the root element\r\n\t\t\t\twsSecHeaderElm.addChildElement(userNameTokenElm);\r\n\r\n\t\t\t\t// create SOAPHeader instance for SOAP envelope\t\t\t\t\r\n\t\t\t\tSOAPHeader header = envelope.getHeader();\r\n\t\t\t\t\r\n\t\t\t\tif (header == null) {\r\n\t                header = envelope.addHeader();\r\n\t            }\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\theader.addChildElement(wsSecHeaderElm);\r\n\t\t\t}\r\n\t\t\tcatch (SOAPException e)\r\n\t\t\t{\r\n\t\t        \te.printStackTrace();\r\n\t\t\t}catch (Exception e){\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;QName&gt; getHeaders()\r\n\t{\r\n\t\treturn new TreeSet&lt;QName&gt;();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean handleFault(SOAPMessageContext context)\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close(MessageContext context)\r\n\t{\r\n\t\t//\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI am using below code to plug the custom handler and call the WS.\r\n\r\n```\r\n            ManagementServices\tservice = new ManagementServices(webServiceUrl);\r\n\t\t\t\r\n\t\t\tImpl_ManagementServices port = service.getManagementServices();\r\n\t\t\t\r\n\t\t\tfinal Binding binding = ((BindingProvider) port).getBinding();\r\n\t\t\t \r\n\t\t\tList&lt;Handler&gt; handlerList = binding.getHandlerChain();\r\n    \r\n\t\t\thandlerList.add(new UsrSecHandler(LOGIN, PASS));\r\n\t\t\t\r\n\t\t\tbinding.setHandlerChain(handlerList);\r\n\t\t\t\r\n\t\t\tport.callingManageService(some_input);\r\n```\r\n\r\nAfter adding Handler, **The code worked fine on Eclipse when I run it standalone. But when I deployed the same code on Weblogic It is still throwing the same error. In the logs I am printing the Envelope. When I am using the same exact envelope(copy/paste) in Soap UI again it is working fine.** But some how it is not working when deployed on Weblogic.\r\n\r\nBelow is The policy defined.\r\n\r\n```\r\n&lt;wsp:Policy wssutil:Id=&quot;UsernameToken&quot;&gt;\r\n&lt;ns1:SupportingTokens xmlns:ns1=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512&quot;&gt;\r\n&lt;wsp:Policy&gt;\r\n&lt;ns1:UsernameToken ns1:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512/IncludeToken/AlwaysToRecipient&quot;&gt;\r\n&lt;wsp:Policy&gt;\r\n&lt;ns1:WssUsernameToken10/&gt;\r\n&lt;/wsp:Policy&gt;\r\n&lt;/ns1:UsernameToken&gt;\r\n&lt;/wsp:Policy&gt;\r\n&lt;/ns1:SupportingTokens&gt;\r\n&lt;/wsp:Policy&gt;\r\n```\r\n**client : WebLogic Server Version: 14.1.1.0.0**\r\n\r\n**Server/host : WebLogic Server Version: 10.3.6.0**\r\n\r\nNot able to understand this behavior, Could any one please help me out with this ? ","title":"Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken","body":"<p>I am trying to call a Webservice using jax-ws. While calling the WS I faced below error,</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n   &lt;S:Body&gt;\n      &lt;S:Fault xmlns:ns4=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n         &lt;faultcode&gt;S:Server&lt;/faultcode&gt;\n         &lt;faultstring&gt;Unable to add security token for identity, token uri =http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#UsernameToken&lt;/faultstring&gt;\n         &lt;faultactor/&gt;\n      &lt;/S:Fault&gt;\n   &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n\n</code></pre>\n<p>I searched for this error and found out that it expects userid/password in header. So to add the user credentials in header I have implemented custom handler.</p>\n<pre><code>import java.util.Set;\nimport java.util.TreeSet;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.SOAPElement;\nimport javax.xml.soap.SOAPEnvelope;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPFactory;\nimport javax.xml.soap.SOAPHeader;\nimport javax.xml.ws.handler.MessageContext;\nimport javax.xml.ws.handler.soap.SOAPHandler;\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\n\n\npublic class UsrSecHandler implements SOAPHandler&lt;SOAPMessageContext&gt;\n{\n    private static final String AUTH_NS = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\n    private static final String AUTH_PREFIX=&quot;wsse&quot;;\n    private String pwd;\n    private String userName = null;\n    private SOAPFactory mSoapFactory = null;\n    \n\n    \n\n    public UsrSecHandler(String username, String password) {\n        this.userName = username;\n        this.pwd = password;\n    }\n\n\n\n    @Override\n    public boolean handleMessage(SOAPMessageContext context)\n    {\n\n        Boolean outboundProperty = (Boolean) context.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        if (outboundProperty.booleanValue())\n        {\n\n            try\n            {\n            \n                SOAPEnvelope envelope = context.getMessage().getSOAPPart().getEnvelope();\n                if (mSoapFactory == null)\n                {\n                        mSoapFactory = SOAPFactory.newInstance();\n                    \n                }\n                SOAPElement wsSecHeaderElm, userNameTokenElm, userNameElm, passwdElm;\n                // WSSecurity &lt;Security&gt; header\n                \n                    wsSecHeaderElm = mSoapFactory.createElement(&quot;Security&quot;,AUTH_PREFIX,AUTH_NS);\n                    userNameTokenElm = mSoapFactory.createElement(&quot;UsernameToken&quot;,AUTH_PREFIX,AUTH_NS);\n                    userNameElm = mSoapFactory.createElement(&quot;Username&quot;,AUTH_PREFIX,AUTH_NS);\n                    passwdElm = mSoapFactory.createElement(&quot;Password&quot;,AUTH_PREFIX,AUTH_NS);\n                \n                userNameElm.addTextNode(this.userName);\n                passwdElm.addTextNode(this.pwd);\n\n                userNameTokenElm.addChildElement(userNameElm);\n                userNameTokenElm.addChildElement(passwdElm);\n                \n                // add child elements to the root element\n                wsSecHeaderElm.addChildElement(userNameTokenElm);\n\n                // create SOAPHeader instance for SOAP envelope             \n                SOAPHeader header = envelope.getHeader();\n                \n                if (header == null) {\n                    header = envelope.addHeader();\n                }\n                \n                \n                header.addChildElement(wsSecHeaderElm);\n            }\n            catch (SOAPException e)\n            {\n                    e.printStackTrace();\n            }catch (Exception e){\n                    e.printStackTrace();\n            }\n        }\n        return true;\n    }\n\n    @Override\n    public Set&lt;QName&gt; getHeaders()\n    {\n        return new TreeSet&lt;QName&gt;();\n    }\n\n    @Override\n    public boolean handleFault(SOAPMessageContext context)\n    {\n        return false;\n    }\n\n    @Override\n    public void close(MessageContext context)\n    {\n        //\n    }\n    \n}\n</code></pre>\n<p>I am using below code to plug the custom handler and call the WS.</p>\n<pre><code>            ManagementServices  service = new ManagementServices(webServiceUrl);\n            \n            Impl_ManagementServices port = service.getManagementServices();\n            \n            final Binding binding = ((BindingProvider) port).getBinding();\n             \n            List&lt;Handler&gt; handlerList = binding.getHandlerChain();\n    \n            handlerList.add(new UsrSecHandler(LOGIN, PASS));\n            \n            binding.setHandlerChain(handlerList);\n            \n            port.callingManageService(some_input);\n</code></pre>\n<p>After adding Handler, <strong>The code worked fine on Eclipse when I run it standalone. But when I deployed the same code on Weblogic It is still throwing the same error. In the logs I am printing the Envelope. When I am using the same exact envelope(copy/paste) in Soap UI again it is working fine.</strong> But some how it is not working when deployed on Weblogic.</p>\n<p>Below is The policy defined.</p>\n<pre><code>&lt;wsp:Policy wssutil:Id=&quot;UsernameToken&quot;&gt;\n&lt;ns1:SupportingTokens xmlns:ns1=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512&quot;&gt;\n&lt;wsp:Policy&gt;\n&lt;ns1:UsernameToken ns1:IncludeToken=&quot;http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200512/IncludeToken/AlwaysToRecipient&quot;&gt;\n&lt;wsp:Policy&gt;\n&lt;ns1:WssUsernameToken10/&gt;\n&lt;/wsp:Policy&gt;\n&lt;/ns1:UsernameToken&gt;\n&lt;/wsp:Policy&gt;\n&lt;/ns1:SupportingTokens&gt;\n&lt;/wsp:Policy&gt;\n</code></pre>\n<p><strong>client : WebLogic Server Version: 14.1.1.0.0</strong></p>\n<p><strong>Server/host : WebLogic Server Version: 10.3.6.0</strong></p>\n<p>Not able to understand this behavior, Could any one please help me out with this ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1348501690,"post_id":12568451,"comment_id":16931524,"body_markdown":"&quot;\\s+&quot; means &quot;one or more whitespaces of any kind&quot;.","body":"&quot;\\s+&quot; means &quot;one or more whitespaces of any kind&quot;."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1348501882,"post_id":12568451,"comment_id":16931616,"body_markdown":"Case is so important.  Corrected.","body":"Case is so important.  Corrected."},{"owner":{"display_name":"user1679671"},"score":0,"creation_date":1348562028,"post_id":12568451,"comment_id":16948726,"body_markdown":"nobody understand my question..","body":"nobody understand my question.."}],"answers":[{"comments":[{"owner":{"display_name":"user1679671"},"score":0,"creation_date":1348501724,"post_id":12568478,"comment_id":16931542,"body_markdown":"field could be &quot;Hi i am&quot; but could not be &quot;    &quot;. It can contain spaces but not only spaces","body":"field could be &quot;Hi i am&quot; but could not be &quot;    &quot;. It can contain spaces but not only spaces"},{"owner":{"account_id":278193,"reputation":171917,"user_id":572644,"accept_rate":78,"display_name":"Daniel Hilgarth"},"score":0,"creation_date":1348501833,"post_id":12568478,"comment_id":16931591,"body_markdown":"@KirillBazarov: If your string matches \\S it means that it has at least one character that is not a whitespace. It still can contain whitespaces.","body":"@KirillBazarov: If your string matches \\S it means that it has at least one character that is not a whitespace. It still can contain whitespaces."},{"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"score":0,"creation_date":1348502133,"post_id":12568478,"comment_id":16931747,"body_markdown":"@DanielHilgarth indeed.  I think that&#39;s what the OP is asking.","body":"@DanielHilgarth indeed.  I think that&#39;s what the OP is asking."}],"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348501644,"creation_date":1348501644,"answer_id":12568478,"question_id":12568451,"body_markdown":"assuming you mean any whitespace, not just spaces, `\\S` will work.\r\n\r\nCfr every dev&#39;s must-have friend, [The regex cheat sheet][1]\r\n\r\n\r\n  [1]: http://www.addedbytes.com/cheat-sheets/regular-expressions-cheat-sheet/","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>assuming you mean any whitespace, not just spaces, <code>\\S</code> will work.</p>\n\n<p>Cfr every dev's must-have friend, <a href=\"http://www.addedbytes.com/cheat-sheets/regular-expressions-cheat-sheet/\" rel=\"nofollow\">The regex cheat sheet</a></p>\n"},{"comments":[{"owner":{"account_id":8614021,"reputation":137849,"user_id":6451573,"accept_rate":90,"display_name":"Jean-Fran&#231;ois Fabre"},"score":0,"creation_date":1672331447,"post_id":12568489,"comment_id":132269812,"body_markdown":"this generates a copy of a string object, not sure it outperforms regex","body":"this generates a copy of a string object, not sure it outperforms regex"}],"tags":[],"owner":{"account_id":397763,"reputation":159298,"user_id":762073,"accept_rate":83,"display_name":"xdazz"},"comment_count":1,"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1348501677,"creation_date":1348501677,"answer_id":12568489,"question_id":12568451,"body_markdown":"Why need to use regex?\r\n\r\n    str.trim().isEmpty()","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>Why need to use regex?</p>\n\n<pre><code>str.trim().isEmpty()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8262781,"reputation":1161,"user_id":6213524,"accept_rate":83,"display_name":"Niklas"},"score":0,"creation_date":1497967963,"post_id":12568510,"comment_id":76296281,"body_markdown":"In javascript this regex does not allow any spaces at all","body":"In javascript this regex does not allow any spaces at all"},{"owner":{"account_id":4057495,"reputation":669,"user_id":3334966,"display_name":"Beerswiller"},"score":0,"creation_date":1669344981,"post_id":12568510,"comment_id":131626415,"body_markdown":"you may need to add a `/ /g` flag, but this is the simplest answer","body":"you may need to add a <code>&#47; &#47;g</code> flag, but this is the simplest answer"}],"tags":[],"owner":{"account_id":1610299,"reputation":407,"user_id":1489468,"display_name":"Caner Korkmaz"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1348501755,"creation_date":1348501755,"answer_id":12568510,"question_id":12568451,"body_markdown":"You must use this pattern.\r\n \r\n    .*[^ ].*\r\nIt can be anything but not only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>You must use this pattern.</p>\n\n<pre><code>.*[^ ].*\n</code></pre>\n\n<p>It can be anything but not only spaces.</p>\n"},{"tags":[],"owner":{"account_id":11245065,"reputation":716,"user_id":8248070,"display_name":"Susampath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507886822,"creation_date":1507872795,"answer_id":46723121,"question_id":12568451,"body_markdown":"This is much simple .If you are using java just code this.\r\nAs example:-\r\n\r\n         \r\nclassVariable.getname().trim().equal(&quot;&quot;) \r\n\r\nby this you can check whether that variable contains only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>This is much simple .If you are using java just code this.\nAs example:-</p>\n\n<p>classVariable.getname().trim().equal(\"\") </p>\n\n<p>by this you can check whether that variable contains only spaces.</p>\n"},{"tags":[],"owner":{"account_id":14649837,"reputation":29,"user_id":10580158,"display_name":"UnDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690545172,"creation_date":1540899687,"answer_id":53063533,"question_id":12568451,"body_markdown":"I&#39;ve got one, it seems heavy, but it&#39;s not that hard to implement.\r\n\r\nPattern with no blank:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    ^[pattern]\\*[pattern without space][pattern]*$\r\n\r\nExample:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    -pattern: a-zA-Z&#192;-&#255; &#39;\\-\r\n\r\n(note that it allows spaces)\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    [a-zA-Z&#192;-&#255; &#39;\\-]\r\n\r\nWith no blank = \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n    ^[a-zA-Z&#192;-&#255; &#39;\\-]\\*[a-zA-Z&#192;-&#255;&#39;\\-][a-zA-Z&#192;-&#255; &#39;\\-]*\r\n\r\nOf course, if you don&#39;t allow spaces at all, you don&#39;t need to do that.\r\n\r\nYou can test yours on https://regexr.com/.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>I've got one, it seems heavy, but it's not that hard to implement.</p>\n<p>Pattern with no blank:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[pattern]\\*[pattern without space][pattern]*$\n</code></pre>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-pattern: a-zA-ZÀ-ÿ '\\-\n</code></pre>\n<p>(note that it allows spaces)</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a-zA-ZÀ-ÿ '\\-]\n</code></pre>\n<p>With no blank =</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-ZÀ-ÿ '\\-]\\*[a-zA-ZÀ-ÿ'\\-][a-zA-ZÀ-ÿ '\\-]*\n</code></pre>\n<p>Of course, if you don't allow spaces at all, you don't need to do that.</p>\n<p>You can test yours on <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a>.</p>\n"}],"owner":{"display_name":"user1679671"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19326,"favorite_count":0,"down_vote_count":8,"up_vote_count":11,"closed_date":1674844688,"accepted_answer_id":12568489,"answer_count":5,"score":3,"last_activity_date":1690545172,"creation_date":1348501563,"question_id":12568451,"body_markdown":"Please tell me which pattern I need to use if field must not contain only spaces.","title":"Regex pattern for &quot;contains not only spaces&quot;","body":"<p>Please tell me which pattern I need to use if field must not contain only spaces.</p>\n"},{"tags":["java","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":8898820,"reputation":33,"user_id":6642870,"display_name":"phucvm8x"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690545085,"creation_date":1690545085,"answer_id":76787554,"question_id":76480032,"body_markdown":"I think only Jobrunr Pro can run over 100 jobs.","title":"can I create more than 100 recurring jobs when using Jobrunr OSS, if our Database has enough resource like memory, processing capability","body":"<p>I think only Jobrunr Pro can run over 100 jobs.</p>\n"}],"owner":{"account_id":20624354,"reputation":11,"user_id":15140601,"display_name":"Sharafat Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690545085,"creation_date":1686813624,"question_id":76480032,"body_markdown":"can Jobrunr OSS support distributed job processing, more than 100 recurring job?. as per official document can create upto 100 recurring job (Depend on DB). suppose DB have capability to store and process more than 100 jobs then can I create more than 100 recurring job.\r\n\r\n","title":"can I create more than 100 recurring jobs when using Jobrunr OSS, if our Database has enough resource like memory, processing capability","body":"<p>can Jobrunr OSS support distributed job processing, more than 100 recurring job?. as per official document can create upto 100 recurring job (Depend on DB). suppose DB have capability to store and process more than 100 jobs then can I create more than 100 recurring job.</p>\n"},{"tags":["java","spring-boot","docker","netflix-eureka"],"answers":[{"comments":[{"owner":{"account_id":15131874,"reputation":1867,"user_id":10919491,"display_name":"Benedikt J Schlegel"},"score":0,"creation_date":1690544491,"post_id":76785186,"comment_id":135372278,"body_markdown":"sadly this does not seem to work. As far as I can tell, uri.resolve() is just used to append a path to a baseurl and has no impact on how the eureka-client name gets resolved.","body":"sadly this does not seem to work. As far as I can tell, uri.resolve() is just used to append a path to a baseurl and has no impact on how the eureka-client name gets resolved."}],"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690524060,"creation_date":1690524060,"answer_id":76785186,"question_id":76781303,"body_markdown":"-&gt; The issue you are facing is likely related to how you are constructing the URI for \r\n   the HTTP request in your `webClientBuilder`. By default, when using the `uri()` \r\n   method with a string argument, the `WebClient` will not take into account the port \r\n   specified in the service URL obtained from Eureka, and it will use the default \r\n   port, which is **80** for HTTP.\r\n\r\n-&gt; Use the `resolve()` method of the URI object to add the **specific path**.","title":"HTTP request with Eureka does not fill port","body":"<p>-&gt; The issue you are facing is likely related to how you are constructing the URI for\nthe HTTP request in your <code>webClientBuilder</code>. By default, when using the <code>uri()</code>\nmethod with a string argument, the <code>WebClient</code> will not take into account the port\nspecified in the service URL obtained from Eureka, and it will use the default\nport, which is <strong>80</strong> for HTTP.</p>\n<p>-&gt; Use the <code>resolve()</code> method of the URI object to add the <strong>specific path</strong>.</p>\n"},{"tags":[],"owner":{"account_id":15131874,"reputation":1867,"user_id":10919491,"display_name":"Benedikt J Schlegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690545037,"creation_date":1690545037,"answer_id":76787546,"question_id":76781303,"body_markdown":"After a lot of testing I finally found the solution.\r\n\r\nI had not configured the WebClientBuilder correctly. After adding the `LoadBalanced` annotation to the Bean the service name gets correctly resolved.\r\n\r\n    @Configuration\r\n    public class WebClientConfiguration {\r\n    \r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient.builder();\r\n        }\r\n    \r\n    }","title":"HTTP request with Eureka does not fill port","body":"<p>After a lot of testing I finally found the solution.</p>\n<p>I had not configured the WebClientBuilder correctly. After adding the <code>LoadBalanced</code> annotation to the Bean the service name gets correctly resolved.</p>\n<pre><code>@Configuration\npublic class WebClientConfiguration {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient.builder();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15131874,"reputation":1867,"user_id":10919491,"display_name":"Benedikt J Schlegel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76787546,"answer_count":2,"score":0,"last_activity_date":1690545037,"creation_date":1690471697,"question_id":76781303,"body_markdown":"I have multiple services running in docker containers through docker-compose.\r\n\r\nI am trying to make a http request from one service to another but it fails since the port always gets filled as &#39;80&#39; instead of using the port registered with Eureka.\r\n\r\nWhen I iterate through the discovered applications like so:\r\n\r\n    List&lt;Application&gt; applications = discoveryClient.getApplications().getRegisteredApplications();\r\n\r\n       for (Application application : applications) {\r\n           List&lt;InstanceInfo&gt; applicationsInstances = application.getInstances();\r\n                for (InstanceInfo applicationsInstance : applicationsInstances) {\r\n\r\n                    String name = applicationsInstance.getAppName();\r\n                    String url = applicationsInstance.getHomePageUrl();\r\n                    System.out.println(name + &quot;: &quot; + url);\r\n                }\r\n            }\r\n\r\nI get this (correct) output:\r\n\r\n    IDENTITY-SERVICE: http://172.20.0.3:10103/ \r\n\r\nBut when the call gets made like this:\r\n\r\n    return webClientBuilder\r\n                        .build()\r\n                        .post()\r\n                        .uri(&quot;http://identity-service/api/auth/validate&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;token&quot;, &quot;xyz&quot;).build())\r\n                        .retrieve()\r\n                        .bodyToMono(ValidationResponseDTO.class);\r\n\r\nthis exception, indicating that it is calling port 80, is thrown:\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: finishConnect(..) failed: Connection refused: identity-service/172.20.0.3:80\r\n\r\nWhen I specify the port (&quot;`http://identity-service:10103/api/auth/validate`&quot;) it works perfectly fine.\r\n\r\nAnyone have an idea why it is not using the port from Eureka?","title":"HTTP request with Eureka does not fill port","body":"<p>I have multiple services running in docker containers through docker-compose.</p>\n<p>I am trying to make a http request from one service to another but it fails since the port always gets filled as '80' instead of using the port registered with Eureka.</p>\n<p>When I iterate through the discovered applications like so:</p>\n<pre><code>List&lt;Application&gt; applications = discoveryClient.getApplications().getRegisteredApplications();\n\n   for (Application application : applications) {\n       List&lt;InstanceInfo&gt; applicationsInstances = application.getInstances();\n            for (InstanceInfo applicationsInstance : applicationsInstances) {\n\n                String name = applicationsInstance.getAppName();\n                String url = applicationsInstance.getHomePageUrl();\n                System.out.println(name + &quot;: &quot; + url);\n            }\n        }\n</code></pre>\n<p>I get this (correct) output:</p>\n<pre><code>IDENTITY-SERVICE: http://172.20.0.3:10103/ \n</code></pre>\n<p>But when the call gets made like this:</p>\n<pre><code>return webClientBuilder\n                    .build()\n                    .post()\n                    .uri(&quot;http://identity-service/api/auth/validate&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;token&quot;, &quot;xyz&quot;).build())\n                    .retrieve()\n                    .bodyToMono(ValidationResponseDTO.class);\n</code></pre>\n<p>this exception, indicating that it is calling port 80, is thrown:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: finishConnect(..) failed: Connection refused: identity-service/172.20.0.3:80\n</code></pre>\n<p>When I specify the port (&quot;<code>http://identity-service:10103/api/auth/validate</code>&quot;) it works perfectly fine.</p>\n<p>Anyone have an idea why it is not using the port from Eureka?</p>\n"},{"tags":["java","spring","gateway","saga"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690545089,"post_id":76787423,"comment_id":135372387,"body_markdown":"How did you determine it &quot;has run out of threads&quot;? AFAIK that&#39;s not a thing that can happen.","body":"How did you determine it &quot;has run out of threads&quot;? AFAIK that&#39;s not a thing that can happen."},{"owner":{"account_id":3740269,"reputation":187,"user_id":3110178,"accept_rate":0,"display_name":"Praful Jha"},"score":0,"creation_date":1690545985,"post_id":76787423,"comment_id":135372546,"body_markdown":"found that it in dynatrace per pod(kubernetes) current thread usage dashboard, also user complained for 3-5 minutes that they could not login to the application. Rolling restarting of application helped resolving the problem.","body":"found that it in dynatrace per pod(kubernetes) current thread usage dashboard, also user complained for 3-5 minutes that they could not login to the application. Rolling restarting of application helped resolving the problem."}],"owner":{"account_id":3740269,"reputation":187,"user_id":3110178,"accept_rate":0,"display_name":"Praful Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690544546,"creation_date":1690543972,"question_id":76787423,"body_markdown":"I have a java spring based application which is written in saga design pattern to work as GATEWAY layer (backend for front end, BFF). It often happens that this layer service runs out of threads even when dashboards shows normal CPU and memory usage. Our http client configuration for requesting to core services has socket timeout set to 10 seconds which is working fine (tested). Anything I might be missing?","title":"Low Memory Usage, low CPU usage but threads are exhausted, application not taking requests","body":"<p>I have a java spring based application which is written in saga design pattern to work as GATEWAY layer (backend for front end, BFF). It often happens that this layer service runs out of threads even when dashboards shows normal CPU and memory usage. Our http client configuration for requesting to core services has socket timeout set to 10 seconds which is working fine (tested). Anything I might be missing?</p>\n"},{"tags":["java","rest","inputstream","outputstream"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690544985,"post_id":76787385,"comment_id":135372369,"body_markdown":"Yes, that is absolutely possible. How to implement it depends on the framework you are using for your HTTP endpoints.","body":"Yes, that is absolutely possible. How to implement it depends on the framework you are using for your HTTP endpoints."},{"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"score":0,"creation_date":1690545962,"post_id":76787385,"comment_id":135372544,"body_markdown":"@Jorn - thanks for replying. It&#39;s not our own endpoint we&#39;re calling. We&#39;re going to be calling the external endpoint using RestTemplate. Our application uses Spring Boot. Is that what you needed to know?","body":"@Jorn - thanks for replying. It&#39;s not our own endpoint we&#39;re calling. We&#39;re going to be calling the external endpoint using RestTemplate. Our application uses Spring Boot. Is that what you needed to know?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690546147,"post_id":76787385,"comment_id":135372571,"body_markdown":"Same difference, but now it depends on the HTTP client you are using. For Spring&#39;s `RestTemplate`, I&#39;m not sure but you should google for &quot;spring resttemplate post write to stream&quot; or something.","body":"Same difference, but now it depends on the HTTP client you are using. For Spring&#39;s <code>RestTemplate</code>, I&#39;m not sure but you should google for &quot;spring resttemplate post write to stream&quot; or something."},{"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"score":0,"creation_date":1690546928,"post_id":76787385,"comment_id":135372719,"body_markdown":"I did that search, it&#39;s how I found the linked posts. But the bit I can&#39;t find is how to have Rest send each chunk from the stream as its written to it, as opposed to loading all the bytes into the stream before REST sends it.","body":"I did that search, it&#39;s how I found the linked posts. But the bit I can&#39;t find is how to have Rest send each chunk from the stream as its written to it, as opposed to loading all the bytes into the stream before REST sends it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690547229,"post_id":76787385,"comment_id":135372789,"body_markdown":"You don&#39;t need to do anything special. There might be some in-between bufffers, but writing to the stream will already send chunks when possible.","body":"You don&#39;t need to do anything special. There might be some in-between bufffers, but writing to the stream will already send chunks when possible."},{"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"score":0,"creation_date":1690549305,"post_id":76787385,"comment_id":135373215,"body_markdown":"I still can&#39;t see how to set it up except by having RestTemplate send a byte stream that is already completely filled, which means I have the entire file in memory which defeats the object.\n\nWhat also occurs to me is that I don&#39;t know the final size of the zip file until it is built, but surely RestTemplate would need to know that up front? The Resource class that I&#39;ve seen examples use to encapsulate what is being sent has a getter method for the total length fo the data.","body":"I still can&#39;t see how to set it up except by having RestTemplate send a byte stream that is already completely filled, which means I have the entire file in memory which defeats the object.  What also occurs to me is that I don&#39;t know the final size of the zip file until it is built, but surely RestTemplate would need to know that up front? The Resource class that I&#39;ve seen examples use to encapsulate what is being sent has a getter method for the total length fo the data."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690550244,"post_id":76787385,"comment_id":135373422,"body_markdown":"Out of interest, do you mean a zip *archive* containing n entries or is it one file that&#39;s been zipped?","body":"Out of interest, do you mean a zip <i>archive</i> containing n entries or is it one file that&#39;s been zipped?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690550546,"post_id":76787385,"comment_id":135373487,"body_markdown":"HTTP requests have data that isn&#39;t fully known up front all the time. That size parameter isn&#39;t mandatory. As for sending the data, you don&#39;t &quot;send a filled byte stream&quot;, you *write* to the *existing* byte stream. So don&#39;t make your own stream, write to the one provided by `RestTemplate`.","body":"HTTP requests have data that isn&#39;t fully known up front all the time. That size parameter isn&#39;t mandatory. As for sending the data, you don&#39;t &quot;send a filled byte stream&quot;, you <i>write</i> to the <i>existing</i> byte stream. So don&#39;t make your own stream, write to the one provided by <code>RestTemplate</code>."},{"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"score":0,"creation_date":1690553443,"post_id":76787385,"comment_id":135374165,"body_markdown":"Thanks for your patience, I&#39;m sorry that I&#39;m not understanding. All the examples I find look like this: `response=restTemplate.doSomething(url,content)`\nA call in which you pass in an object containing all the data (or an input stream e.g. a FileInputStream), and get back the response from processing the http request. I assume I would need to do something where I &quot;start&quot; the restTemplate, then write to some stream from somewhere, and then tell restTemplate that I&#39;m done and it can complete the http request and return the response. I can find nothing that looks like that","body":"Thanks for your patience, I&#39;m sorry that I&#39;m not understanding. All the examples I find look like this: <code>response=restTemplate.doSomething(url,content)</code> A call in which you pass in an object containing all the data (or an input stream e.g. a FileInputStream), and get back the response from processing the http request. I assume I would need to do something where I &quot;start&quot; the restTemplate, then write to some stream from somewhere, and then tell restTemplate that I&#39;m done and it can complete the http request and return the response. I can find nothing that looks like that"},{"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"score":0,"creation_date":1690553561,"post_id":76787385,"comment_id":135374199,"body_markdown":"@goose I have a list of file paths referring to one or more files on disk. I need to create a zip file containing all those files, and then send them as multipart file data to a REST endpoint. I&#39;m looking for a way fo doing that without having to A. write the entire zip file to disk and then read it back, or B. having the entire zip file in memory","body":"@goose I have a list of file paths referring to one or more files on disk. I need to create a zip file containing all those files, and then send them as multipart file data to a REST endpoint. I&#39;m looking for a way fo doing that without having to A. write the entire zip file to disk and then read it back, or B. having the entire zip file in memory"}],"owner":{"account_id":11436669,"reputation":1,"user_id":8383864,"display_name":"Vectorspace"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690543709,"creation_date":1690543709,"question_id":76787385,"body_markdown":"I&#39;m new to Java, and very new to Spring, Rest, and IO Streams, so apologies.\r\n\r\nWhat I need to do is construct a zip file using ZipOutputStream, and then send that file to a REST endpoint as multipart file data.\r\n\r\nI&#39;ve been told that it should be possible to do this without holding the entire zip file in memory (it could be very large), by doing some clever streaming.\r\n\r\nSomething like creating a stream, then passing it to the rest template, and then writing the zip to the stream x bytes at a time, and the rest template will automatically stream each new block of bytes over the HTTP request as they get written without having to assemble the entire file on disk or in memory first (or maybe the stream has some kind of callback lambda that is invoked by the rest template trying to read the stream, so I can append more data to it)\r\n\r\nIs that possible?\r\n\r\nI&#39;ve found similar posts, but none that help me understand how to do this, if it&#39;s at all possible.\r\nhttps://stackoverflow.com/questions/63794946/post-inputstream-resttemplate\r\nhttps://stackoverflow.com/questions/15781885/how-to-forward-large-files-with-resttemplate\r\n","title":"Java construct a byte array and send via REST a bit at a time?","body":"<p>I'm new to Java, and very new to Spring, Rest, and IO Streams, so apologies.</p>\n<p>What I need to do is construct a zip file using ZipOutputStream, and then send that file to a REST endpoint as multipart file data.</p>\n<p>I've been told that it should be possible to do this without holding the entire zip file in memory (it could be very large), by doing some clever streaming.</p>\n<p>Something like creating a stream, then passing it to the rest template, and then writing the zip to the stream x bytes at a time, and the rest template will automatically stream each new block of bytes over the HTTP request as they get written without having to assemble the entire file on disk or in memory first (or maybe the stream has some kind of callback lambda that is invoked by the rest template trying to read the stream, so I can append more data to it)</p>\n<p>Is that possible?</p>\n<p>I've found similar posts, but none that help me understand how to do this, if it's at all possible.\n<a href=\"https://stackoverflow.com/questions/63794946/post-inputstream-resttemplate\">POST InputStream RestTemplate</a>\n<a href=\"https://stackoverflow.com/questions/15781885/how-to-forward-large-files-with-resttemplate\">How to forward large files with RestTemplate?</a></p>\n"},{"tags":["java","mysql","spring-boot","ssh","remote-access"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690458328,"post_id":76779122,"comment_id":135358314,"body_markdown":"If you have control of the mysql server, the simplest way to solve this is to do as root: `grant all on MyDatabase.* to &#39;myuser&#39;@&#39;x.x.x.x&#39; identified by &#39;mypass&#39;;`","body":"If you have control of the mysql server, the simplest way to solve this is to do as root: <code>grant all on MyDatabase.* to &#39;myuser&#39;@&#39;x.x.x.x&#39; identified by &#39;mypass&#39;;</code>"},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1690458623,"post_id":76779122,"comment_id":135358379,"body_markdown":"I do this in the remote mysql server or in localhost? because this ip adresse x.x.x.x  it is not the Remote ip adress, I don&#39;t know where it comes.","body":"I do this in the remote mysql server or in localhost? because this ip adresse x.x.x.x  it is not the Remote ip adress, I don&#39;t know where it comes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690458775,"post_id":76779122,"comment_id":135358408,"body_markdown":"In the remote server. x.x.x.x is the address you&#39;re connecting *from*","body":"In the remote server. x.x.x.x is the address you&#39;re connecting <i>from</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690459117,"post_id":76779122,"comment_id":135358486,"body_markdown":"Security-wise, it would tons better to ban all external connection to mysql and do it via ssh tunneling using public key auth","body":"Security-wise, it would tons better to ban all external connection to mysql and do it via ssh tunneling using public key auth"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690459515,"post_id":76779122,"comment_id":135358580,"body_markdown":"So much so, that I withdraw my advice as unsound (I might delete the comment) and instead recommend trying the first answer [here](https://stackoverflow.com/questions/48296313/connect-to-mysql-through-ssh-and-by-using-spring-boot)","body":"So much so, that I withdraw my advice as unsound (I might delete the comment) and instead recommend trying the first answer <a href=\"https://stackoverflow.com/questions/48296313/connect-to-mysql-through-ssh-and-by-using-spring-boot\">here</a>"},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1690468994,"post_id":76779122,"comment_id":135361018,"body_markdown":"This worked for me : CREATE USER &#39;myuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;; GRANT ALL PRIVILEGES ON myDatabase.* TO &#39;myuser&#39;@&#39;%&#39; WITH GRANT OPTION;  Instead of x.x.x.x I used % to accept any ip adress.","body":"This worked for me : CREATE USER &#39;myuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;; GRANT ALL PRIVILEGES ON myDatabase.* TO &#39;myuser&#39;@&#39;%&#39; WITH GRANT OPTION;  Instead of x.x.x.x I used % to accept any ip adress."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690470270,"post_id":76779122,"comment_id":135361345,"body_markdown":"If you look at the auth logs on that sql server box, you will begin to see why it would be much better to have that app running on the same machine and have the server bound to locahost. And that&#39;s before a break in occurs","body":"If you look at the auth logs on that sql server box, you will begin to see why it would be much better to have that app running on the same machine and have the server bound to locahost. And that&#39;s before a break in occurs"}],"answers":[{"comments":[{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1690458789,"post_id":76779422,"comment_id":135358413,"body_markdown":"Please where I have to create this user, in localhost or in remote server?","body":"Please where I have to create this user, in localhost or in remote server?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1690459636,"post_id":76779422,"comment_id":135358609,"body_markdown":"connect to server you machine where is database -&gt;connect to mysql console -&gt;execute this commands. Yes on remote","body":"connect to server you machine where is database -&gt;connect to mysql console -&gt;execute this commands. Yes on remote"},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1690468885,"post_id":76779422,"comment_id":135360982,"body_markdown":"I was not able to do :mysql&gt; GRANT ALL ON myDatabase.* TO &#39;myUser&#39;@&#39;x.x.x.x&#39;; ERROR 1410 (42000): You are not allowed to create a user with GRANT. But this worked for me : CREATE USER &#39;myuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;; GRANT ALL PRIVILEGES ON mydatabase.* TO &#39;myuser&#39;@&#39;%&#39; WITH GRANT OPTION; Instead of x.x.x.x I used % to accept any ip adress.","body":"I was not able to do :mysql&gt; GRANT ALL ON myDatabase.* TO &#39;myUser&#39;@&#39;x.x.x.x&#39;; ERROR 1410 (42000): You are not allowed to create a user with GRANT. But this worked for me : CREATE USER &#39;myuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;; GRANT ALL PRIVILEGES ON mydatabase.* TO &#39;myuser&#39;@&#39;%&#39; WITH GRANT OPTION; Instead of x.x.x.x I used % to accept any ip adress."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1690469436,"post_id":76779422,"comment_id":135361137,"body_markdown":"Finally, did it help you ?","body":"Finally, did it help you ?"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690458445,"creation_date":1690458445,"answer_id":76779422,"question_id":76779122,"body_markdown":"you don`t have grant access from this host, just add a new user for this one. Try it on your MYSQL Workbench \r\n\r\n    CREATE USER &#39;username&#39;@&#39;x.x.x.x&#39; IDENTIFIED BY &#39;password&#39;;\r\n    \r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;x.x.x.x&#39; WITH GRANT OPTION;\r\n    \r\n    CREATE USER &#39;username&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\n    \r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;%&#39; WITH GRANT OPTION;\r\n    \r\n    FLUSH PRIVILEGES;","title":"java.sql.SQLException: null, Host &#39;X.X.X.X&#39; is not allowed to connect to this MySQL server","body":"<p>you don`t have grant access from this host, just add a new user for this one. Try it on your MYSQL Workbench</p>\n<pre><code>CREATE USER 'username'@'x.x.x.x' IDENTIFIED BY 'password';\n\nGRANT ALL PRIVILEGES ON *.* TO 'username'@'x.x.x.x' WITH GRANT OPTION;\n\nCREATE USER 'username'@'%' IDENTIFIED BY 'password';\n\nGRANT ALL PRIVILEGES ON *.* TO 'username'@'%' WITH GRANT OPTION;\n\nFLUSH PRIVILEGES;\n</code></pre>\n"}],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76779422,"answer_count":1,"score":1,"last_activity_date":1690543653,"creation_date":1690455991,"question_id":76779122,"body_markdown":"I have a database on remote Ubuntu Server. I can access to this database throw SSH. I have been successfully connected to this database from MYSQL Workbench using **Standard TCP/IP over SSH**. \r\n\r\nI try to connect to this database from my local Spring Boot application, my application.xml :\r\n\r\n```  \r\nspring.datasource.url=jdbc:mysql://RemoteIpAdress:3306/MyDatabase\r\nspring.datasource.username=myuser\r\nspring.datasource.password=mypass\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\njpa.hibernate.ddl-auto=update\r\njpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\njpa.show-sql=true\r\n```\r\nBut I get this : \r\n```  \r\njava.sql.SQLException: null,  message from server: &quot;Host &#39;x.x.x.x&#39; is not allowed to connect to this MySQL server&quot;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\r\n\r\n2023-07-27T11:24:06.398+01:00  INFO 9396 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-07-27T11:24:06.457+01:00  INFO 9396 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-07-27T11:24:06.459+01:00  INFO 9396 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-07-27T11:24:06.591+01:00  INFO 9396 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-07-27T11:24:06.690+01:00  INFO 9396 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-07-27T11:24:06.703+01:00  INFO 9396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-07-27T11:24:07.721+01:00 ERROR 9396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\njava.sql.SQLException: null,  message from server: &quot;Host &#39;x.x.x.x&#39; is not allowed to connect to this MySQL server&quot;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\r\n\r\n2023-07-27T11:24:07.724+01:00  WARN 9396 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\njava.sql.SQLException: null,  message from server: &quot;Host &#39;x.x.x.x&#39; is not allowed to connect to this MySQL server&quot;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\r\n\r\n2023-07-27T11:24:07.726+01:00 ERROR 9396 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n2023-07-27T11:24:07.728+01:00  WARN 9396 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n2023-07-27T11:24:07.736+01:00  INFO 9396 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-07-27T11:24:07.750+01:00  INFO 9396 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-07-27T11:24:07.786+01:00 ERROR 9396 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:277) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n\tat\r\n ........\r\n```\r\n\r\nWhere x.x.x.x is an Ip adress.\r\n\r\n**Is there any thing that I miss?** I have read about doing the SSH connection from Spring Boot Application, but I didn&#39;t really understand.\r\n","title":"java.sql.SQLException: null, Host &#39;X.X.X.X&#39; is not allowed to connect to this MySQL server","body":"<p>I have a database on remote Ubuntu Server. I can access to this database throw SSH. I have been successfully connected to this database from MYSQL Workbench using <strong>Standard TCP/IP over SSH</strong>.</p>\n<p>I try to connect to this database from my local Spring Boot application, my application.xml :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://RemoteIpAdress:3306/MyDatabase\nspring.datasource.username=myuser\nspring.datasource.password=mypass\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\njpa.hibernate.ddl-auto=update\njpa.database-platform=org.hibernate.dialect.MySQL5Dialect\njpa.show-sql=true\n</code></pre>\n<p>But I get this :</p>\n<pre><code>java.sql.SQLException: null,  message from server: &quot;Host 'x.x.x.x' is not allowed to connect to this MySQL server&quot;\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:332) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:168) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:142) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:118) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:87) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:80) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:143) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:131) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\n\n2023-07-27T11:24:06.398+01:00  INFO 9396 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-07-27T11:24:06.457+01:00  INFO 9396 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-07-27T11:24:06.459+01:00  INFO 9396 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-07-27T11:24:06.591+01:00  INFO 9396 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-07-27T11:24:06.690+01:00  INFO 9396 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-07-27T11:24:06.703+01:00  INFO 9396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-07-27T11:24:07.721+01:00 ERROR 9396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLException: null,  message from server: &quot;Host 'x.x.x.x' is not allowed to connect to this MySQL server&quot;\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\n\n2023-07-27T11:24:07.724+01:00  WARN 9396 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.sql.SQLException: null,  message from server: &quot;Host 'x.x.x.x' is not allowed to connect to this MySQL server&quot;\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:446) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\n\n2023-07-27T11:24:07.726+01:00 ERROR 9396 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n2023-07-27T11:24:07.728+01:00  WARN 9396 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n2023-07-27T11:24:07.736+01:00  INFO 9396 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-07-27T11:24:07.750+01:00  INFO 9396 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-27T11:24:07.786+01:00 ERROR 9396 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.example.demo.Demo1Application.main(Demo1Application.java:10) ~[classes/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:277) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at\n ........\n</code></pre>\n<p>Where x.x.x.x is an Ip adress.</p>\n<p><strong>Is there any thing that I miss?</strong> I have read about doing the SSH connection from Spring Boot Application, but I didn't really understand.</p>\n"},{"tags":["java","logging","log4j","log4j2","smtpappender"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690551523,"post_id":76787338,"comment_id":135373706,"body_markdown":"You need jakarta.activation.xxxx.jar in your classpath","body":"You need jakarta.activation.xxxx.jar in your classpath"}],"owner":{"account_id":16584480,"reputation":121,"user_id":11984272,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690543308,"creation_date":1690543308,"question_id":76787338,"body_markdown":"I am trying to use SmtpAppender in my java application but its giving below error when I start my application.\r\n\r\n**&#39;ERROR could not create plugin of type class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/activation/DataSource java.lang.NoClassDefFoundError: javax/activation/DataSource&#39;**\r\n\r\n**I am using log4j-api-2.17.0.jar, log4j-core-2.17.0.jar, javax.mail-1.5.6.jar.**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; strict=&quot;true&quot; name=&quot;MyApp&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;SMTP name=&quot;Mail&quot; subject=&quot;Error Log&quot; to=&quot;test@test.com&quot; from=&quot;test1@test.com&quot;\r\n              smtpHost=&quot;test.email.com&quot; bufferSize=&quot;50&quot;&gt;\r\n    \r\n    &lt;PatternLayout&gt;\r\n      &lt;pattern&gt;%d {yyyy-MM-dd HH:mm:ss.SSS } [%t] %c{1} %msg%n&lt;/pattern&gt;\r\n    &lt;/PatternLayout&gt;\r\n    \r\n        &lt;/SMTP&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Mail&quot;/&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"How to configure SmtpAppender in log4j2.xml in java?","body":"<p>I am trying to use SmtpAppender in my java application but its giving below error when I start my application.</p>\n<p><strong>'ERROR could not create plugin of type class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/activation/DataSource java.lang.NoClassDefFoundError: javax/activation/DataSource'</strong></p>\n<p><strong>I am using log4j-api-2.17.0.jar, log4j-core-2.17.0.jar, javax.mail-1.5.6.jar.</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; strict=&quot;true&quot; name=&quot;MyApp&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;SMTP name=&quot;Mail&quot; subject=&quot;Error Log&quot; to=&quot;test@test.com&quot; from=&quot;test1@test.com&quot;\n          smtpHost=&quot;test.email.com&quot; bufferSize=&quot;50&quot;&gt;\n\n&lt;PatternLayout&gt;\n  &lt;pattern&gt;%d {yyyy-MM-dd HH:mm:ss.SSS } [%t] %c{1} %msg%n&lt;/pattern&gt;\n&lt;/PatternLayout&gt;\n\n    &lt;/SMTP&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;debug&quot;&gt;\n      &lt;AppenderRef ref=&quot;Mail&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","junit5","powermockito"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690542082,"post_id":76787126,"comment_id":135371856,"body_markdown":"You already have a mocked `DataSource`. Just mock the `getUser` implementation from there.","body":"You already have a mocked <code>DataSource</code>. Just mock the <code>getUser</code> implementation from there."},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1690542468,"post_id":76787126,"comment_id":135371918,"body_markdown":"getUser implementation is in an abstract class that this class inherits. The abstract class is again inheriting another Abstract class. So like this do I need to mock all the abstract classes what is associated with the method?","body":"getUser implementation is in an abstract class that this class inherits. The abstract class is again inheriting another Abstract class. So like this do I need to mock all the abstract classes what is associated with the method?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690542520,"post_id":76787126,"comment_id":135371924,"body_markdown":"What? Your `DataSource` *is* an instance of those classes. You don&#39;t mock classes, you mock instances.","body":"What? Your <code>DataSource</code> <i>is</i> an instance of those classes. You don&#39;t mock classes, you mock instances."},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1690550427,"post_id":76787126,"comment_id":135373455,"body_markdown":"@Jon - what do you mean by moccking the getUser() implementation? In the AbstractSource it only returns &quot;return this.user;&quot;. I did the following--\n\nMock\nString User;\n \nAbstractSource abs=Mockito.mock(AbstractSource.class);\nwhen(abs.getUser).thenReturn(user);","body":"@Jon - what do you mean by moccking the getUser() implementation? In the AbstractSource it only returns &quot;return this.user;&quot;. I did the following--  Mock String User;   AbstractSource abs=Mockito.mock(AbstractSource.class); when(abs.getUser).thenReturn(user);"}],"answers":[{"comments":[{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1690543507,"post_id":76787269,"comment_id":135372120,"body_markdown":"Thanks for sharing the valuable inputs! I understand that when the object is injected to the constructor it becomes easier to test. I have mocked the props object and sent it as a parameter. The problem is with the setUrl() function. It is in an abstract class and giving IllegalStateException. But I have already mocked the props and sent it as an argument.","body":"Thanks for sharing the valuable inputs! I understand that when the object is injected to the constructor it becomes easier to test. I have mocked the props object and sent it as a parameter. The problem is with the setUrl() function. It is in an abstract class and giving IllegalStateException. But I have already mocked the props and sent it as an argument."},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690543924,"post_id":76787269,"comment_id":135372199,"body_markdown":"I can&#39;t see `setUrl` in your post, but anyway - it sounds to me that `DataSource` is calling `setUrl`. Once again - mocking DataSource or any of its parent classes won&#39;t help you, since eventually you need to test a concrete instance of DataSource, so my recommendation - replace inheritance with composition, mock the abstract class and pass it to `DataSource` in the constructor, and then - test easily.","body":"I can&#39;t see <code>setUrl</code> in your post, but anyway - it sounds to me that <code>DataSource</code> is calling <code>setUrl</code>. Once again - mocking DataSource or any of its parent classes won&#39;t help you, since eventually you need to test a concrete instance of DataSource, so my recommendation - replace inheritance with composition, mock the abstract class and pass it to <code>DataSource</code> in the constructor, and then - test easily."},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1690545412,"post_id":76787269,"comment_id":135372446,"body_markdown":"Sorry it is not setUrl rather getUser() which is in an abstract class. Furthermore, I cannot call extendedDataSource.getConnection() as the getConnection method is protected and cannot be called like that.","body":"Sorry it is not setUrl rather getUser() which is in an abstract class. Furthermore, I cannot call extendedDataSource.getConnection() as the getConnection method is protected and cannot be called like that."}],"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690543262,"creation_date":1690542719,"answer_id":76787269,"question_id":76787126,"body_markdown":"If you&#39;re testing the `DataSource` class, you&#39;re not supposed to mock it. Usually you mock the dependencies of the class. The purpose is bringing the class you want to test to some ***state*** by injecting mocks of its dependencies, and then asserting the return values of its methods given the provided ***state***. For example, if the constructor of `DataSource` looks like this:\r\n\r\n    public DataSource(Object o) {\r\n\r\n        this.o = o;\r\n    }\r\n\r\nThen you&#39;re supposed to mock `o` and then create an instance of `DataSource` with this mocked `o`. The ***test*** now is calling `dataSource.setup(...)`, given the state that you mocked:\r\n\r\n    Object mock = Mockito.mock(Object.class);\r\n    DataSource dataSource = new DataSource(mock);\r\n    Assert.assertNotNull(dataSource.setup(...));\r\n\r\n**Now to go to your case** - the issue that you&#39;re describing is exactly why when possible, I prefer composition over inheritance. My suggestion is that `DataSource` will get `ExtendedDataSource` (consider renaming it) in its constructor instead of extending it:\r\n\r\n    public DataSource(ExtendedDataSource extendedDataSource) {\r\n\r\n        this.extendedDataSource = extendedDataSource;\r\n    }\r\n\r\nNow you can mock `ExtendedDataSource` and setup some return value to `ExtendedDataSource.getConnection`, then create an instance of `DataSource` and pass the mock in the constructor, and assert the behavior of `DataSource` as you wanted:\r\n\r\n    ExtendedDataSource extendedDataSource = Mockito.mock(ExtendedDataSource.class);\r\n    Mockito.when(extendedDataSource.getConnection(...)).thenReturn(...);\r\n    DataSource dataSource = new DataSource(extendedDataSource);\r\n    Assert.assertNotNull(dataSource.setup(...));","title":"How to test a public method that calls a private method with a mocked object?","body":"<p>If you're testing the <code>DataSource</code> class, you're not supposed to mock it. Usually you mock the dependencies of the class. The purpose is bringing the class you want to test to some <em><strong>state</strong></em> by injecting mocks of its dependencies, and then asserting the return values of its methods given the provided <em><strong>state</strong></em>. For example, if the constructor of <code>DataSource</code> looks like this:</p>\n<pre><code>public DataSource(Object o) {\n\n    this.o = o;\n}\n</code></pre>\n<p>Then you're supposed to mock <code>o</code> and then create an instance of <code>DataSource</code> with this mocked <code>o</code>. The <em><strong>test</strong></em> now is calling <code>dataSource.setup(...)</code>, given the state that you mocked:</p>\n<pre><code>Object mock = Mockito.mock(Object.class);\nDataSource dataSource = new DataSource(mock);\nAssert.assertNotNull(dataSource.setup(...));\n</code></pre>\n<p><strong>Now to go to your case</strong> - the issue that you're describing is exactly why when possible, I prefer composition over inheritance. My suggestion is that <code>DataSource</code> will get <code>ExtendedDataSource</code> (consider renaming it) in its constructor instead of extending it:</p>\n<pre><code>public DataSource(ExtendedDataSource extendedDataSource) {\n\n    this.extendedDataSource = extendedDataSource;\n}\n</code></pre>\n<p>Now you can mock <code>ExtendedDataSource</code> and setup some return value to <code>ExtendedDataSource.getConnection</code>, then create an instance of <code>DataSource</code> and pass the mock in the constructor, and assert the behavior of <code>DataSource</code> as you wanted:</p>\n<pre><code>ExtendedDataSource extendedDataSource = Mockito.mock(ExtendedDataSource.class);\nMockito.when(extendedDataSource.getConnection(...)).thenReturn(...);\nDataSource dataSource = new DataSource(extendedDataSource);\nAssert.assertNotNull(dataSource.setup(...));\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690543262,"creation_date":1690541540,"question_id":76787126,"body_markdown":"I am testing a class &quot;DataSource&quot; that extends another class &quot;ExtendedDataSource&quot;. The method that I am testing in the &quot;DataSource&quot; class is calling another protected method in the &quot;ExtendedDataSource&quot; class. \r\n\r\n```java\r\nclass DataSource extends ExtendedDataSource {\r\n\r\n\t@Override\r\n\tprotected Connection setup(Properties props) {\r\n\t\tConnection connection = super.getConnection(props);\r\n\t\treturn connection;\r\n\t}\r\n}\r\n\r\nclass ExtendedDataSource extends AbstractSource {\r\n\r\n\t@Override\r\n\tprotected Connection getConnection(Properties props) {\r\n\t\t// here an user is retrieved from an abstract class that this class inherits\r\n\t\t// In this line I am getting an exception IllegalStateException--&quot;user not set&quot;\r\n\t\tString user = getUser();\r\n\r\n\t\t// Does something with props\r\n\t\t\r\n        // Calls another protected method with the props as argument\r\n        anothermethod(props); \r\n\t}\r\n\r\n\tprotected anothermethod(Properties props){\r\n\t\t//call another method that will do something with props \r\n    }\r\n}\r\n\r\n    public abstract class AbstractSource extends AnotherAbstractClass{\r\n    \r\n    public String getUser() {\r\n        //the user as string\r\n        return user;\r\n    }\r\n}\r\n```\r\n    \r\n   \r\n\r\n&gt;  The test for the DataSource class is as follows :-\r\n\r\n```java\r\npublic class DataSourceTest {\r\n\r\n\t@InjectMocks\r\n\tDataSource dataSource;\r\n\r\n\t@Mock\r\n\tproperties props;\r\n\r\n\t@Test\r\n\tpublic void datatest() {\r\n\r\n\t\tDataSource dataSource = new DataSource();\r\n\r\n\t\tdataSource.getConnection(props);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHow should I get over this situation? Should I also mock the Abstract class? But in this way do I have to mok all the classes?","title":"How to test a public method that calls a private method with a mocked object?","body":"<p>I am testing a class &quot;DataSource&quot; that extends another class &quot;ExtendedDataSource&quot;. The method that I am testing in the &quot;DataSource&quot; class is calling another protected method in the &quot;ExtendedDataSource&quot; class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DataSource extends ExtendedDataSource {\n\n    @Override\n    protected Connection setup(Properties props) {\n        Connection connection = super.getConnection(props);\n        return connection;\n    }\n}\n\nclass ExtendedDataSource extends AbstractSource {\n\n    @Override\n    protected Connection getConnection(Properties props) {\n        // here an user is retrieved from an abstract class that this class inherits\n        // In this line I am getting an exception IllegalStateException--&quot;user not set&quot;\n        String user = getUser();\n\n        // Does something with props\n        \n        // Calls another protected method with the props as argument\n        anothermethod(props); \n    }\n\n    protected anothermethod(Properties props){\n        //call another method that will do something with props \n    }\n}\n\n    public abstract class AbstractSource extends AnotherAbstractClass{\n    \n    public String getUser() {\n        //the user as string\n        return user;\n    }\n}\n</code></pre>\n<blockquote>\n<p>The test for the DataSource class is as follows :-</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataSourceTest {\n\n    @InjectMocks\n    DataSource dataSource;\n\n    @Mock\n    properties props;\n\n    @Test\n    public void datatest() {\n\n        DataSource dataSource = new DataSource();\n\n        dataSource.getConnection(props);\n\n    }\n\n}\n</code></pre>\n<p>How should I get over this situation? Should I also mock the Abstract class? But in this way do I have to mok all the classes?</p>\n"},{"tags":["java","mysql","database","jdbc","database-connection"],"answers":[{"comments":[{"owner":{"account_id":7216609,"reputation":2025,"user_id":5508854,"accept_rate":40,"display_name":"Mark A"},"score":2,"creation_date":1491505696,"post_id":4093647,"comment_id":73595966,"body_markdown":"I am getting &quot;ERROR 1146 (42S02): Table &#39;performance_schema.session_variables&#39; doesn&#39;t exist&quot;","body":"I am getting &quot;ERROR 1146 (42S02): Table &#39;performance_schema.session_variables&#39; doesn&#39;t exist&quot;"}],"tags":[],"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"comment_count":1,"down_vote_count":2,"up_vote_count":266,"is_accepted":true,"score":264,"last_activity_date":1288841049,"creation_date":1288841049,"answer_id":4093647,"question_id":4093603,"body_markdown":"If you&#39;re already logged into the command line client try this:\r\n\r\n    mysql&gt; select user();\r\n\r\nIt will output something similar to this:\r\n\r\n\r\n    +----------------+\r\n    | user()         |\r\n    +----------------+\r\n    | root@localhost |\r\n    +----------------+\r\n    1 row in set (0.41 sec)\r\n\r\nIn my example above, I was logged in as `root` from `localhost`.\r\n\r\nTo find port number and other interesting settings use this command:\r\n\r\n    mysql&gt; show variables;\r\n\r\n","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>If you're already logged into the command line client try this:</p>\n\n<pre><code>mysql&gt; select user();\n</code></pre>\n\n<p>It will output something similar to this:</p>\n\n<pre><code>+----------------+\n| user()         |\n+----------------+\n| root@localhost |\n+----------------+\n1 row in set (0.41 sec)\n</code></pre>\n\n<p>In my example above, I was logged in as <code>root</code> from <code>localhost</code>.</p>\n\n<p>To find port number and other interesting settings use this command:</p>\n\n<pre><code>mysql&gt; show variables;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1417393409,"creation_date":1288841200,"answer_id":4093660,"question_id":4093603,"body_markdown":"    default-username = root\r\n    password = you-know-it-better\r\n    url for localhost =  jdbc:mysql://localhost\r\n    default-port = 3306","title":"How do I find out my MySQL URL, host, port and username?","body":"<pre><code>default-username = root\npassword = you-know-it-better\nurl for localhost =  jdbc:mysql://localhost\ndefault-port = 3306\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1937441,"reputation":1191,"user_id":1744538,"accept_rate":79,"display_name":"Ozan"},"score":4,"creation_date":1453708750,"post_id":18351735,"comment_id":57703586,"body_markdown":"How can I get ip address ? I mean for above example there is &#39;DELL&#39; hostname and can I get ip address instead of name ?","body":"How can I get ip address ? I mean for above example there is &#39;DELL&#39; hostname and can I get ip address instead of name ?"},{"owner":{"account_id":478441,"reputation":3062,"user_id":890537,"accept_rate":70,"display_name":"m02ph3u5"},"score":0,"creation_date":1458834474,"post_id":18351735,"comment_id":60041992,"body_markdown":"ERROR 1146 (42S02): Table &#39;performance_schema.session_variables&#39; doesn&#39;t exist","body":"ERROR 1146 (42S02): Table &#39;performance_schema.session_variables&#39; doesn&#39;t exist"}],"tags":[],"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":173,"is_accepted":false,"score":173,"last_activity_date":1377076624,"creation_date":1377071402,"answer_id":18351735,"question_id":4093603,"body_markdown":"If you want to know the **port number of your local host on which Mysql** is running you can use this query on MySQL Command line client --\r\n\r\n    SHOW VARIABLES WHERE Variable_name = &#39;port&#39;;\r\n    \r\n    \r\n    mysql&gt; SHOW VARIABLES WHERE Variable_name = &#39;port&#39;;\r\n    +---------------+-------+\r\n    | Variable_name | Value |\r\n    +---------------+-------+\r\n    | port          | 3306  |\r\n    +---------------+-------+\r\n    1 row in set (0.00 sec)\r\n\r\n\r\nIt will give you the port number on which MySQL is running.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to know the **hostname of your Mysql** you can use this query on MySQL Command line client --\r\n\r\n    SHOW VARIABLES WHERE Variable_name = &#39;hostname&#39;;\r\n    \r\n    \r\n    mysql&gt; SHOW VARIABLES WHERE Variable_name = &#39;hostname&#39;;\r\n    +-------------------+-------+\r\n    | Variable_name     | Value |\r\n    +-------------------+-------+\r\n    | hostname          | Dell  |\r\n    +-------------------+-------+\r\n    1 row in set (0.00 sec)\r\n\r\n\r\nIt will give you the hostname for mysql.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to know the **username of your Mysql** you can use this query on MySQL Command line client --\r\n\r\n    select user();   \r\n        \r\n      \r\n    mysql&gt; select user();\r\n    +----------------+\r\n    | user()         |\r\n    +----------------+\r\n    | root@localhost |\r\n    +----------------+\r\n    1 row in set (0.00 sec)\r\n\r\nIt will give you the username for mysql.","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>If you want to know the <strong>port number of your local host on which Mysql</strong> is running you can use this query on MySQL Command line client --</p>\n\n<pre><code>SHOW VARIABLES WHERE Variable_name = 'port';\n\n\nmysql&gt; SHOW VARIABLES WHERE Variable_name = 'port';\n+---------------+-------+\n| Variable_name | Value |\n+---------------+-------+\n| port          | 3306  |\n+---------------+-------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>It will give you the port number on which MySQL is running.</p>\n\n<hr>\n\n<p>If you want to know the <strong>hostname of your Mysql</strong> you can use this query on MySQL Command line client --</p>\n\n<pre><code>SHOW VARIABLES WHERE Variable_name = 'hostname';\n\n\nmysql&gt; SHOW VARIABLES WHERE Variable_name = 'hostname';\n+-------------------+-------+\n| Variable_name     | Value |\n+-------------------+-------+\n| hostname          | Dell  |\n+-------------------+-------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>It will give you the hostname for mysql.</p>\n\n<hr>\n\n<p>If you want to know the <strong>username of your Mysql</strong> you can use this query on MySQL Command line client --</p>\n\n<pre><code>select user();   \n\n\nmysql&gt; select user();\n+----------------+\n| user()         |\n+----------------+\n| root@localhost |\n+----------------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>It will give you the username for mysql.</p>\n"},{"tags":[],"owner":{"account_id":1870289,"reputation":782,"user_id":1692693,"accept_rate":50,"display_name":"TheKarateKid"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1441835665,"creation_date":1441835665,"answer_id":32489763,"question_id":4093603,"body_markdown":"If you use phpMyAdmin, click on `Home`, then `Variables` on the top menu. Look for the `port` setting on the page. The value it is set to is the port your MySQL server is running on.","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>If you use phpMyAdmin, click on <code>Home</code>, then <code>Variables</code> on the top menu. Look for the <code>port</code> setting on the page. The value it is set to is the port your MySQL server is running on.</p>\n"},{"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453803242,"creation_date":1453803242,"answer_id":35011423,"question_id":4093603,"body_markdown":"    mysql&gt; SHOW VARIABLES WHERE Variable_name = &#39;hostname&#39;;\r\n    +---------------+-----------+\r\n    | Variable_name | Value     |\r\n    +---------------+-----------+\r\n    | hostname      | karola-pc |\r\n    +---------------+-----------+\r\n    1 row in set (0.00 sec)\r\n\r\nFor Example in my case : `karola-pc` is the host name of the box where my mysql is running. And it my local PC host name.  \r\n\r\nIf it is romote box than you can ping that host directly if, If you are in network with that box you should be able to ping that host.\r\n \r\nIf it `UNIX or Linux you can run &quot;hostname&quot; command` in terminal to check the host name.\r\nif it is windows you can see same value in `MyComputer-&gt; right click -&gt; properties -&gt;Computer Name`  you can see ( i.e System Properties) \r\n\r\nHope it will answer your Q. \r\n\r\n","title":"How do I find out my MySQL URL, host, port and username?","body":"<pre><code>mysql&gt; SHOW VARIABLES WHERE Variable_name = 'hostname';\n+---------------+-----------+\n| Variable_name | Value     |\n+---------------+-----------+\n| hostname      | karola-pc |\n+---------------+-----------+\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>For Example in my case : <code>karola-pc</code> is the host name of the box where my mysql is running. And it my local PC host name.  </p>\n\n<p>If it is romote box than you can ping that host directly if, If you are in network with that box you should be able to ping that host.</p>\n\n<p>If it <code>UNIX or Linux you can run \"hostname\" command</code> in terminal to check the host name.\nif it is windows you can see same value in <code>MyComputer-&gt; right click -&gt; properties -&gt;Computer Name</code>  you can see ( i.e System Properties) </p>\n\n<p>Hope it will answer your Q. </p>\n"},{"comments":[{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":1,"creation_date":1458236233,"post_id":36066371,"comment_id":59781931,"body_markdown":"Please add some explanation. Your answer is currently flagged &quot;low quality&quot; and might eventually be removed without.","body":"Please add some explanation. Your answer is currently flagged &quot;low quality&quot; and might eventually be removed without."}],"tags":[],"owner":{"account_id":1964951,"reputation":412,"user_id":1765469,"display_name":"Dmitry Matrosov"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1458239256,"creation_date":1458232024,"answer_id":36066371,"question_id":4093603,"body_markdown":"For example, you can try:\r\n\r\n    //If you want to get user, you need start query in your mysql:\r\n    SELECT user(); // output your user: root@localhost\r\n    SELECT system_user(); // --\r\n \r\n    //If you want to get port your &quot;mysql://user:pass@hostname:port/db&quot;\r\n    SELECT @@port; //3306 is default\r\n\r\n    //If you want hostname your db, you can execute query\r\n    SELECT @@hostname;","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>For example, you can try:</p>\n\n<pre><code>//If you want to get user, you need start query in your mysql:\nSELECT user(); // output your user: root@localhost\nSELECT system_user(); // --\n\n//If you want to get port your \"mysql://user:pass@hostname:port/db\"\nSELECT @@port; //3306 is default\n\n//If you want hostname your db, you can execute query\nSELECT @@hostname;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8659110,"reputation":1487,"user_id":6482248,"accept_rate":0,"display_name":"Prathamesh More"},"score":0,"creation_date":1587874492,"post_id":38138902,"comment_id":108678394,"body_markdown":"How URL looks like?","body":"How URL looks like?"},{"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"score":0,"creation_date":1588170930,"post_id":38138902,"comment_id":108797965,"body_markdown":"http://localhost/phpmyadmin in case you want to access the MySql database. And http://localhost:port/WebPageFolder in case you want to access your web page hosted on localhost","body":"<a href=\"http://localhost/phpmyadmin\" rel=\"nofollow noreferrer\">localhost/phpmyadmin</a> in case you want to access the MySql database. And <a href=\"http://localhost:port/WebPageFolder\" rel=\"nofollow noreferrer\">localhost:port/WebPageFolder</a> in case you want to access your web page hosted on localhost"}],"tags":[],"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612235400,"creation_date":1467356102,"answer_id":38138902,"question_id":4093603,"body_markdown":"Here are the default settings\r\n\r\n**default-username** is **root**  \r\n**default-password** is null/empty //mean nothing  \r\n**default-url** is **localhost** or **127.0.0.1** for apache and  \r\n**localhost/phpmyadmin** for **mysql**       // if you are using xampp/wamp/mamp  \r\n**default-port** = 3306","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>Here are the default settings</p>\n<p><strong>default-username</strong> is <strong>root</strong><br />\n<strong>default-password</strong> is null/empty //mean nothing<br />\n<strong>default-url</strong> is <strong>localhost</strong> or <strong>127.0.0.1</strong> for apache and<br />\n<strong>localhost/phpmyadmin</strong> for <strong>mysql</strong>       // if you are using xampp/wamp/mamp<br />\n<strong>default-port</strong> = 3306</p>\n"},{"tags":[],"owner":{"account_id":9227064,"reputation":261,"user_id":6854527,"display_name":"Mallikarjun Pasunkili"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1475053917,"creation_date":1475049368,"answer_id":39741339,"question_id":4093603,"body_markdown":"If you don&#39;t know the exact variable name use `like`, as the result may contain more than 500 rows:\r\n\r\n    mysql&gt; show variables like &quot;%port%&quot;;\r\n\r\n","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>If you don't know the exact variable name use <code>like</code>, as the result may contain more than 500 rows:</p>\n\n<pre><code>mysql&gt; show variables like \"%port%\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5012424,"reputation":1710,"user_id":4028303,"accept_rate":65,"display_name":"Jacob Stamm"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1560887614,"creation_date":1560887614,"answer_id":56656162,"question_id":4093603,"body_markdown":"If using MySQL Workbench, simply look in the Session tab in the Information pane located in the sidebar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihaIr.png","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>If using MySQL Workbench, simply look in the Session tab in the Information pane located in the sidebar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ihaIr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ihaIr.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16913860,"reputation":121,"user_id":12232347,"display_name":"Igor Lopatka"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581682029,"creation_date":1581682029,"answer_id":60226061,"question_id":4093603,"body_markdown":"Easiest way is probably using command *status;* In the output you&#39;ll find database, user, host and port:\r\n\r\n    mysql&gt; status;\r\n    --------------\r\n    mysql  Ver 8.0.13 for Win64 on x86_64 (MySQL Community Server - GPL)\r\n    \r\n    Connection id:          43\r\n    Current database:       mysql\r\n    Current user:           user@localhost\r\n    SSL:                    Cipher in use is DHE-RSA-AES128-GCM-SHA256\r\n    Using delimiter:        ;\r\n    Server version:         8.0.13 MySQL Community Server - GPL\r\n    Protocol version:       10\r\n    Connection:             localhost via TCP/IP\r\n    Server characterset:    utf8mb4\r\n    Db     characterset:    utf8mb4\r\n    Client characterset:    cp852\r\n    Conn.  characterset:    cp852\r\n    TCP port:               3306\r\n    Uptime:                 3 hours 32 min 40 sec\r\n    \r\n    Threads: 3  Questions: 197  Slow queries: 0  Opens: 214  Flush tables: 2  Open tables: 190  Queries per second avg: 0.015\r\n    --------------","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>Easiest way is probably using command <em>status;</em> In the output you'll find database, user, host and port:</p>\n\n<pre><code>mysql&gt; status;\n--------------\nmysql  Ver 8.0.13 for Win64 on x86_64 (MySQL Community Server - GPL)\n\nConnection id:          43\nCurrent database:       mysql\nCurrent user:           user@localhost\nSSL:                    Cipher in use is DHE-RSA-AES128-GCM-SHA256\nUsing delimiter:        ;\nServer version:         8.0.13 MySQL Community Server - GPL\nProtocol version:       10\nConnection:             localhost via TCP/IP\nServer characterset:    utf8mb4\nDb     characterset:    utf8mb4\nClient characterset:    cp852\nConn.  characterset:    cp852\nTCP port:               3306\nUptime:                 3 hours 32 min 40 sec\n\nThreads: 3  Questions: 197  Slow queries: 0  Opens: 214  Flush tables: 2  Open tables: 190  Queries per second avg: 0.015\n--------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18642036,"reputation":39,"user_id":13587569,"display_name":"Dishant Tanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624988527,"creation_date":1624988527,"answer_id":68183383,"question_id":4093603,"body_markdown":"**use this:**\r\n\r\n    show variables where Variable_name = &#39;port&#39;;\r\n\r\nyou can check more variables by using the command (must try)\r\n\r\n    show variables;\r\n\r\n","title":"How do I find out my MySQL URL, host, port and username?","body":"<p><strong>use this:</strong></p>\n<pre><code>show variables where Variable_name = 'port';\n</code></pre>\n<p>you can check more variables by using the command (must try)</p>\n<pre><code>show variables;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2978091,"reputation":11,"user_id":2528712,"display_name":"Chrispus Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629032737,"creation_date":1629032737,"answer_id":68791802,"question_id":4093603,"body_markdown":"on local host or dedicated server, go to config.inc file inside phpMyAdmin","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>on local host or dedicated server, go to config.inc file inside phpMyAdmin</p>\n"}],"owner":{"display_name":"shilps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609891,"favorite_count":0,"down_vote_count":1,"up_vote_count":173,"accepted_answer_id":4093647,"answer_count":12,"score":172,"last_activity_date":1690543197,"creation_date":1288840569,"question_id":4093603,"body_markdown":"I need to find my MySQL username. When I open the MySQL command line client, it only asks me for my password. I don&#39;t remember my username. And for connectivity with JDBC, I need the URL, host and port number. Where do I find all of these?","title":"How do I find out my MySQL URL, host, port and username?","body":"<p>I need to find my MySQL username. When I open the MySQL command line client, it only asks me for my password. I don't remember my username. And for connectivity with JDBC, I need the URL, host and port number. Where do I find all of these?</p>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"comments":[{"owner":{"account_id":29058110,"reputation":94,"user_id":22259459,"display_name":"Kerllicky"},"score":0,"creation_date":1690530551,"post_id":76785738,"comment_id":135369552,"body_markdown":"Not only did I change the filename, I also deleted my database completely. It&#39;s a sqlite database, so I normally delete the .db file when I want to start from scratch","body":"Not only did I change the filename, I also deleted my database completely. It&#39;s a sqlite database, so I normally delete the .db file when I want to start from scratch"}],"tags":[],"owner":{"account_id":5161362,"reputation":409,"user_id":4132944,"accept_rate":67,"display_name":"Lukas Karmanovas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690530021,"creation_date":1690530021,"answer_id":76785738,"question_id":76785598,"body_markdown":"Liqudbase creates two tables in your database one is `databasechangelog` and the other one is `databasechangeloglock`. The first one is the one that holds every single scrip entry and it checks if this script has been executed before or not. Now if you have already executed a script and would change its content without changing file name you would get a check sum error. My guess would be that you did precisely that.","title":"Liquibase reading from phantom changelogs","body":"<p>Liqudbase creates two tables in your database one is <code>databasechangelog</code> and the other one is <code>databasechangeloglock</code>. The first one is the one that holds every single scrip entry and it checks if this script has been executed before or not. Now if you have already executed a script and would change its content without changing file name you would get a check sum error. My guess would be that you did precisely that.</p>\n"},{"comments":[{"owner":{"account_id":29058110,"reputation":94,"user_id":22259459,"display_name":"Kerllicky"},"score":0,"creation_date":1690573977,"post_id":76787281,"comment_id":135377830,"body_markdown":"While this awesome information and I thank you for it. It still doesn&#39;t answer the existence of the invisible changelogs. How can I still populate the database even if I delete everything (both database and changelogs)?","body":"While this awesome information and I thank you for it. It still doesn&#39;t answer the existence of the invisible changelogs. How can I still populate the database even if I delete everything (both database and changelogs)?"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1690743426,"post_id":76787281,"comment_id":135392433,"body_markdown":"I quite don&#39;t understand what happened in your case. If you are able to reproduce that from beginning with clear steps maybe I can help...but not with the description which you wrote sorry.","body":"I quite don&#39;t understand what happened in your case. If you are able to reproduce that from beginning with clear steps maybe I can help...but not with the description which you wrote sorry."},{"owner":{"account_id":29058110,"reputation":94,"user_id":22259459,"display_name":"Kerllicky"},"score":0,"creation_date":1690901769,"post_id":76787281,"comment_id":135416063,"body_markdown":"I have no idea myself to be honest. I suspect that it had something to do with the path I was defining, but will have to test it at a later date.\nFor now, I changed my paths to relative ones (jdbc:sqlite:database.db) and everything seems to be working fine thanks to your suggestion.","body":"I have no idea myself to be honest. I suspect that it had something to do with the path I was defining, but will have to test it at a later date. For now, I changed my paths to relative ones (jdbc:sqlite:database.db) and everything seems to be working fine thanks to your suggestion."}],"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690542787,"creation_date":1690542787,"answer_id":76787281,"question_id":76785598,"body_markdown":"The problem is that the classpath context of liquibase executed from **maven** is different to one executed from **spring-boot** application. For example in maven, classpath to changeLog file could look like `/Users/you/app/src/main/resources/liquibase/changelog.xml` while in spring it could look like `resources/liquibase/changelog.xml`. I guess that this path is also included in the hash computation, therefore two identical changeSets are not identical anymore because of that path. Liquibase fixed that with [logicalfilepath](https://docs.liquibase.com/concepts/changelogs/attributes/logicalfilepath.html). So if you plan to execute LB from multiple tools, use that. \r\n\r\nPS: use that property always and you have no problem ;)","title":"Liquibase reading from phantom changelogs","body":"<p>The problem is that the classpath context of liquibase executed from <strong>maven</strong> is different to one executed from <strong>spring-boot</strong> application. For example in maven, classpath to changeLog file could look like <code>/Users/you/app/src/main/resources/liquibase/changelog.xml</code> while in spring it could look like <code>resources/liquibase/changelog.xml</code>. I guess that this path is also included in the hash computation, therefore two identical changeSets are not identical anymore because of that path. Liquibase fixed that with <a href=\"https://docs.liquibase.com/concepts/changelogs/attributes/logicalfilepath.html\" rel=\"nofollow noreferrer\">logicalfilepath</a>. So if you plan to execute LB from multiple tools, use that.</p>\n<p>PS: use that property always and you have no problem ;)</p>\n"}],"owner":{"account_id":29058110,"reputation":94,"user_id":22259459,"display_name":"Kerllicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690542787,"creation_date":1690528833,"question_id":76785598,"body_markdown":"I&#39;m creating a spring boot application and began messing around with liquibase to guarantee that all my tables where initialized on startup and got it working fine. Then made some changes to the changelog, erased the database and built my project through maven, still everything splendid. Aaand then my application exploded on startup with an error about checksums.\r\n\r\nI tried, erasing the database again, clearing checksums through the maven plugin, syncing, nothing.\r\nWhat I found strange, was that, when I deleted my changelog&#39;s content, it still built my database with the latest changes. So to test it out I changed the name of my changelog and the name of the changeset and boom:\r\n\r\n&gt; liquibase.exception.MigrationFailedException: Migration failed for changeset classpath:db_changelog.sqlite.sql::1::Example:\r\n&gt; Reason: liquibase.exception.DatabaseException: [SQLITE_ERROR] SQL error or missing database (table example_table already exists) [Failed SQL: (1)\r\n\r\nWhere is liquibase getting these tables from!?\r\n\r\nLiquibase bean config (I have even tried to exclude AutoConfiguration to force this config):\r\n```\r\n  @Bean\r\n  public SpringLiquibase liquibase() {\r\n    SpringLiquibase liquibase = new SpringLiquibase();\r\n    liquibase.setChangeLog(&quot;classpath:db_changelog.sqlite.sql&quot;);\r\n    liquibase.setDataSource(dataSource());\r\n    return liquibase;\r\n  }\r\n```\r\n\r\nMaven plugin config:\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;driver&gt;org.sqlite.JDBC&lt;/driver&gt;\r\n          &lt;changeLogFile&gt;./src/main/resources/db_changelog.sqlite.sql&lt;/changeLogFile&gt;\r\n          &lt;url&gt;jdbc:sqlite:../database.db&lt;/url&gt;\r\n          &lt;outputChangeLogFile&gt;generatedChangelog.sqlite.sql&lt;/outputChangeLogFile&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Liquibase reading from phantom changelogs","body":"<p>I'm creating a spring boot application and began messing around with liquibase to guarantee that all my tables where initialized on startup and got it working fine. Then made some changes to the changelog, erased the database and built my project through maven, still everything splendid. Aaand then my application exploded on startup with an error about checksums.</p>\n<p>I tried, erasing the database again, clearing checksums through the maven plugin, syncing, nothing.\nWhat I found strange, was that, when I deleted my changelog's content, it still built my database with the latest changes. So to test it out I changed the name of my changelog and the name of the changeset and boom:</p>\n<blockquote>\n<p>liquibase.exception.MigrationFailedException: Migration failed for changeset classpath:db_changelog.sqlite.sql::1::Example:\nReason: liquibase.exception.DatabaseException: [SQLITE_ERROR] SQL error or missing database (table example_table already exists) [Failed SQL: (1)</p>\n</blockquote>\n<p>Where is liquibase getting these tables from!?</p>\n<p>Liquibase bean config (I have even tried to exclude AutoConfiguration to force this config):</p>\n<pre><code>  @Bean\n  public SpringLiquibase liquibase() {\n    SpringLiquibase liquibase = new SpringLiquibase();\n    liquibase.setChangeLog(&quot;classpath:db_changelog.sqlite.sql&quot;);\n    liquibase.setDataSource(dataSource());\n    return liquibase;\n  }\n</code></pre>\n<p>Maven plugin config:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${liquibase.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;driver&gt;org.sqlite.JDBC&lt;/driver&gt;\n          &lt;changeLogFile&gt;./src/main/resources/db_changelog.sqlite.sql&lt;/changeLogFile&gt;\n          &lt;url&gt;jdbc:sqlite:../database.db&lt;/url&gt;\n          &lt;outputChangeLogFile&gt;generatedChangelog.sqlite.sql&lt;/outputChangeLogFile&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1690542271,"post_id":76787197,"comment_id":135371892,"body_markdown":"Yes, async and completable futures probably provide absolutely no benefit here.","body":"Yes, async and completable futures probably provide absolutely no benefit here."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690542342,"post_id":76787197,"comment_id":135371904,"body_markdown":"Assuming you only run one of these tasks at the same time, that&#39;s true. If you run many in parallel on the same executor, there could be benefits.","body":"Assuming you only run one of these tasks at the same time, that&#39;s true. If you run many in parallel on the same executor, there could be benefits."}],"owner":{"account_id":329812,"reputation":70,"user_id":653537,"accept_rate":75,"display_name":"Raja S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690542130,"creation_date":1690542130,"question_id":76787197,"body_markdown":"Assuming I&#39;ve 4 core processor and declared the pool size is 5. My question is more of method chaining in `CompletableFuture` especially in asynchronous mode. \r\n\r\nSince each step is operating on the result of previous step, what is the benefit of using async in this case? After all its a sequential execution in different thread possibly. Please clarify.\r\n\r\n        Executor executor = Executors.newFixedThreadPool(5);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        List&lt;EmployeeDTO&gt; employees = mapper.readValue(Test1.class.getClassLoader().getResourceAsStream(&quot;employees.json&quot;), new TypeReference&lt;List&lt;EmployeeDTO&gt;&gt;() {\r\n        });\r\n\r\n        CompletableFuture&lt;Void&gt; voidCompletableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n\r\n            System.out.println(&quot;Iteration 1: &quot; + Thread.currentThread().getName());\r\n            return employees.stream().filter(employee -&gt; employee.getAge() &gt; 25).collect(Collectors.toList());\r\n        }, executor).thenApplyAsync((ageGreaterThan25) -&gt; {\r\n\r\n            System.out.println(&quot;Iteration 2: &quot; + Thread.currentThread().getName());\r\n            return ageGreaterThan25.stream().filter(employee -&gt; employee.getGender().equals(&quot;female&quot;)).collect(Collectors.toList());\r\n        }, executor).thenApplyAsync((femalesAgeGreaterThan25) -&gt; {\r\n\r\n            System.out.println(&quot;Iteration 3: &quot; + Thread.currentThread().getName());\r\n            return femalesAgeGreaterThan25.stream().filter(employee -&gt; employee.getSalary() &lt; 2000).collect(Collectors.toList());\r\n        }, executor).thenApplyAsync((femalesAgeGreaterThan25EarningLess) -&gt; {\r\n\r\n            System.out.println(&quot;Iteration 4: &quot; + Thread.currentThread().getName());\r\n            return femalesAgeGreaterThan25EarningLess.stream().filter(employee -&gt; employee.getJob_title().equals(&quot;Machine Learning Engineer&quot;)).collect(Collectors.toList());\r\n        }, executor).thenAcceptAsync((femalesAgeGreaterThan25EarningLessML) -&gt; {\r\n\r\n            System.out.println(&quot;Iteration 5: &quot; + Thread.currentThread().getName());\r\n            femalesAgeGreaterThan25EarningLessML.forEach(employee -&gt; {\r\n                System.out.println(&quot;Increment salary by 5%&quot;);\r\n                employee.setSalary(employee.getSalary() * 0.05);\r\n            });\r\n        }, executor);\r\n\r\n        voidCompletableFuture.get();","title":"Understanding how CompletableFuture executing tasks parallelly?","body":"<p>Assuming I've 4 core processor and declared the pool size is 5. My question is more of method chaining in <code>CompletableFuture</code> especially in asynchronous mode.</p>\n<p>Since each step is operating on the result of previous step, what is the benefit of using async in this case? After all its a sequential execution in different thread possibly. Please clarify.</p>\n<pre><code>    Executor executor = Executors.newFixedThreadPool(5);\n\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;EmployeeDTO&gt; employees = mapper.readValue(Test1.class.getClassLoader().getResourceAsStream(&quot;employees.json&quot;), new TypeReference&lt;List&lt;EmployeeDTO&gt;&gt;() {\n    });\n\n    CompletableFuture&lt;Void&gt; voidCompletableFuture = CompletableFuture.supplyAsync(() -&gt; {\n\n        System.out.println(&quot;Iteration 1: &quot; + Thread.currentThread().getName());\n        return employees.stream().filter(employee -&gt; employee.getAge() &gt; 25).collect(Collectors.toList());\n    }, executor).thenApplyAsync((ageGreaterThan25) -&gt; {\n\n        System.out.println(&quot;Iteration 2: &quot; + Thread.currentThread().getName());\n        return ageGreaterThan25.stream().filter(employee -&gt; employee.getGender().equals(&quot;female&quot;)).collect(Collectors.toList());\n    }, executor).thenApplyAsync((femalesAgeGreaterThan25) -&gt; {\n\n        System.out.println(&quot;Iteration 3: &quot; + Thread.currentThread().getName());\n        return femalesAgeGreaterThan25.stream().filter(employee -&gt; employee.getSalary() &lt; 2000).collect(Collectors.toList());\n    }, executor).thenApplyAsync((femalesAgeGreaterThan25EarningLess) -&gt; {\n\n        System.out.println(&quot;Iteration 4: &quot; + Thread.currentThread().getName());\n        return femalesAgeGreaterThan25EarningLess.stream().filter(employee -&gt; employee.getJob_title().equals(&quot;Machine Learning Engineer&quot;)).collect(Collectors.toList());\n    }, executor).thenAcceptAsync((femalesAgeGreaterThan25EarningLessML) -&gt; {\n\n        System.out.println(&quot;Iteration 5: &quot; + Thread.currentThread().getName());\n        femalesAgeGreaterThan25EarningLessML.forEach(employee -&gt; {\n            System.out.println(&quot;Increment salary by 5%&quot;);\n            employee.setSalary(employee.getSalary() * 0.05);\n        });\n    }, executor);\n\n    voidCompletableFuture.get();\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1514977505,"post_id":48076063,"comment_id":83125796,"body_markdown":"Are you working with a Maven project?  The problem is that the file is not on your classpath, hence when you run your program, Java can&#39;t find the file.","body":"Are you working with a Maven project?  The problem is that the file is not on your classpath, hence when you run your program, Java can&#39;t find the file."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1514977618,"post_id":48076063,"comment_id":83125856,"body_markdown":"One workaround would be to just use the fully qualified path to the file, e.g. `C:\\your_folder\\project\\result.csv`.  The alternative is to load it from the classpath.","body":"One workaround would be to just use the fully qualified path to the file, e.g. <code>C:\\your_folder\\project\\result.csv</code>.  The alternative is to load it from the classpath."}],"answers":[{"comments":[{"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"score":1,"creation_date":1577188875,"post_id":48076423,"comment_id":105116230,"body_markdown":"`Java.nio.file.path` doesn&#39;t have `getAbsolutePath()` method.","body":"<code>Java.nio.file.path</code> doesn&#39;t have <code>getAbsolutePath()</code> method."},{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":4,"creation_date":1598893114,"post_id":48076423,"comment_id":112598407,"body_markdown":"Thanks man, the absolute path thing really helped me find where it was looking in the system.","body":"Thanks man, the absolute path thing really helped me find where it was looking in the system."}],"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"comment_count":2,"down_vote_count":3,"up_vote_count":40,"is_accepted":true,"score":37,"last_activity_date":1577443840,"creation_date":1514978722,"answer_id":48076423,"question_id":48076063,"body_markdown":"The problem is that your default directory at application startup is not what you think it is. Try adding the following line to your code, just after you create the path:\r\n\r\n    public static void main(String [] args) {\r\n        int i=0;\r\n        String filename=&quot;result.csv&quot;;\r\n        Path pathToFile = Paths.get(filename);\r\n        System.out.println(pathToFile.toAbsolutePath());\r\n\r\nThat way, you&#39;ll see exactly where it is looking for the file.\r\n\r\nHow to fix it is your decision. You can use a full path spec instead of just a filename, or put the filename in a special &quot;Resources&quot; directory and reference it using a relative path, or move the file to wherever your default directory is.\r\n","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>The problem is that your default directory at application startup is not what you think it is. Try adding the following line to your code, just after you create the path:</p>\n\n<pre><code>public static void main(String [] args) {\n    int i=0;\n    String filename=\"result.csv\";\n    Path pathToFile = Paths.get(filename);\n    System.out.println(pathToFile.toAbsolutePath());\n</code></pre>\n\n<p>That way, you'll see exactly where it is looking for the file.</p>\n\n<p>How to fix it is your decision. You can use a full path spec instead of just a filename, or put the filename in a special \"Resources\" directory and reference it using a relative path, or move the file to wherever your default directory is.</p>\n"},{"tags":[],"owner":{"account_id":12471572,"reputation":638,"user_id":9134510,"display_name":"Alex Cuadr&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514978801,"creation_date":1514978801,"answer_id":48076444,"question_id":48076063,"body_markdown":"The problem there is that java isn&#39;t able to find the &quot;result.csv&quot; file in the project folder. Thus, try to use the fully qualified path to the file, e.g. `C:\\your_folder\\project\\result.csv` in the Path variable. Also I think It would be better to use bufferedreader like this: `BufferedReader br = new BufferedReader(new FileReader(insert here the String in which is defined the path to the file));` Check the uses of BufferedReader [here][1]\n\n\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>The problem there is that java isn't able to find the \"result.csv\" file in the project folder. Thus, try to use the fully qualified path to the file, e.g. <code>C:\\your_folder\\project\\result.csv</code> in the Path variable. Also I think It would be better to use bufferedreader like this: <code>BufferedReader br = new BufferedReader(new FileReader(insert here the String in which is defined the path to the file));</code> Check the uses of BufferedReader <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":14185316,"reputation":95,"user_id":10247474,"display_name":"Joshua Salcedo"},"score":1,"creation_date":1577934272,"post_id":52453960,"comment_id":105284094,"body_markdown":"easiest solution!","body":"easiest solution!"}],"tags":[],"owner":{"account_id":12586157,"reputation":83,"user_id":9154970,"display_name":"myhe"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1548859918,"creation_date":1537596161,"answer_id":52453960,"question_id":48076063,"body_markdown":"If your `file(&quot;result.csv&quot;)` in the src directory, you should use the **&quot;src/result.csv&quot;** instead of **&quot;result.csv&quot;**.","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>If your <code>file(\"result.csv\")</code> in the src directory, you should use the <strong>\"src/result.csv\"</strong> instead of <strong>\"result.csv\"</strong>.</p>\n"},{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1542325026,"post_id":53329236,"comment_id":93539191,"body_markdown":"The question uses a hard-coded file name, so that&#39;s not an issue.","body":"The question uses a hard-coded file name, so that&#39;s not an issue."}],"tags":[],"owner":{"account_id":14760868,"reputation":1,"user_id":10660232,"display_name":"Nimesh Bumb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542324002,"creation_date":1542324002,"answer_id":53329236,"question_id":48076063,"body_markdown":"If you&#39;re a MacOSX user please type the file path manually instead of copying it from &quot;Get Info&quot;.\r\nYou&#39;ll get something like this if you copied it from &quot;Get Info&quot;:\r\n**/Users/username&lt;200e&gt;&lt;2068&gt;&lt;2068&gt;/Desktop&lt;2069&gt;/source.txt**\r\n","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>If you're a MacOSX user please type the file path manually instead of copying it from \"Get Info\".\nYou'll get something like this if you copied it from \"Get Info\":\n<strong>/Users/username&lt;200e>&lt;2068>&lt;2068>/Desktop&lt;2069>/source.txt</strong></p>\n"},{"tags":[],"owner":{"account_id":8893753,"reputation":243,"user_id":6639495,"display_name":"Dovydas Giršvaldas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632842149,"creation_date":1632842149,"answer_id":69364365,"question_id":48076063,"body_markdown":"I had the same error caused by escaped characters on windows file path. For example, my application was looking for &quot;`C:\\Users\\david\\my%20folder%20name\\source.txt`&quot; meanwhile the real path was &quot;`C:\\Users\\david\\my folder name\\source.txt`&quot;.","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>I had the same error caused by escaped characters on windows file path. For example, my application was looking for &quot;<code>C:\\Users\\david\\my%20folder%20name\\source.txt</code>&quot; meanwhile the real path was &quot;<code>C:\\Users\\david\\my folder name\\source.txt</code>&quot;.</p>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684620754,"creation_date":1638096632,"answer_id":70142656,"question_id":48076063,"body_markdown":"Not discarding all possible solutions here, this error also occurs when your running Android Studio on Windows environment and using a project directory on an external hard drive formatted with other than NFTS. ]\r\n\r\nIf this is the case, simply move your project into the main HDD (NTFS) and reload the project again , this time from the main HDD folder path.","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>Not discarding all possible solutions here, this error also occurs when your running Android Studio on Windows environment and using a project directory on an external hard drive formatted with other than NFTS. ]</p>\n<p>If this is the case, simply move your project into the main HDD (NTFS) and reload the project again , this time from the main HDD folder path.</p>\n"},{"tags":[],"owner":{"account_id":28809583,"reputation":11,"user_id":22064607,"display_name":"ashique pc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690541722,"creation_date":1690541722,"answer_id":76787152,"question_id":48076063,"body_markdown":"this can also happen when the you dont specify full file path.\r\neg: `/home/ubuntu/kafka_2.13-2.8.1/bin/client.properties`\r\nthis works for me","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>this can also happen when the you dont specify full file path.\neg: <code>/home/ubuntu/kafka_2.13-2.8.1/bin/client.properties</code>\nthis works for me</p>\n"}],"owner":{"account_id":8294125,"reputation":581,"user_id":6234847,"accept_rate":76,"display_name":"Snkini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210423,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":48076423,"answer_count":7,"score":27,"last_activity_date":1690541722,"creation_date":1514977360,"question_id":48076063,"body_markdown":"I have a file called &quot;result.csv&quot;, from that file i want to read certain data and display them. I have that file in my eclipse project folder itself. Still i&#39;m unable to read the file.\r\n\r\n     public static void main(String [] args) {\r\n        int i=0;\r\n\t\tString filename=&quot;result.csv&quot;;\r\n\t\tPath pathToFile = Paths.get(filename);\r\n\t\t\r\n\t\ttry (BufferedReader br = Files.newBufferedReader(pathToFile, StandardCharsets.US_ASCII)) { \r\n\t\t\t// read the first line from the text file \r\n\t\t\tString line = br.readLine(); \r\n\t\t\t// loop until all lines are read \r\n\t\t\twhile (i&lt;10) { \r\n\t\t\t\t// use string.split to load a string array with the values from \r\n\t\t\t\t// each line of \r\n\t\t\t\t// the file, using a comma as the delimiter\r\n\t\t\t\tString[] attributes = line.split(&quot;,&quot;); \r\n\t\t\t\tdouble x=Double.parseDouble(attributes[8]);\r\n\t\t\t\tdouble y=Double.parseDouble(attributes[9]);\r\n\t\t\t\tSystem.out.println(GeoHash.withCharacterPrecision(x, y, 10));\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// read next line before looping \r\n\t\t\t\t// if end of file reached, line would be null \r\n\t\t\t\tline = br.readLine(); \r\n\t\t\t\ti++;\r\n\t\t\t} \r\n\t\t} catch (IOException ioe) { \r\n\t\t\t\tioe.printStackTrace(); \r\n\t\t} \r\n    }\r\n**OUTPUT:**\r\n\r\n    java.nio.file.NoSuchFileException: result.csv\r\n\tat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source)\r\n\tat java.nio.file.Files.newByteChannel(Unknown Source)\r\n\tat java.nio.file.Files.newByteChannel(Unknown Source)\r\n\tat java.nio.file.spi.FileSystemProvider.newInputStream(Unknown Source)\r\n\tat java.nio.file.Files.newInputStream(Unknown Source)\r\n\tat java.nio.file.Files.newBufferedReader(Unknown Source)\r\n\tat com.uvce.cse.searchiot.geohash.TestGeoHash.main(TestGeoHash.java:19)\r\n\r\nCan anyone point where exactly i missed? and how can i overcome this or any alternate methods for this method?","title":"How to solve the java.nio.file.NoSuchFileException?","body":"<p>I have a file called \"result.csv\", from that file i want to read certain data and display them. I have that file in my eclipse project folder itself. Still i'm unable to read the file.</p>\n\n<pre><code> public static void main(String [] args) {\n    int i=0;\n    String filename=\"result.csv\";\n    Path pathToFile = Paths.get(filename);\n\n    try (BufferedReader br = Files.newBufferedReader(pathToFile, StandardCharsets.US_ASCII)) { \n        // read the first line from the text file \n        String line = br.readLine(); \n        // loop until all lines are read \n        while (i&lt;10) { \n            // use string.split to load a string array with the values from \n            // each line of \n            // the file, using a comma as the delimiter\n            String[] attributes = line.split(\",\"); \n            double x=Double.parseDouble(attributes[8]);\n            double y=Double.parseDouble(attributes[9]);\n            System.out.println(GeoHash.withCharacterPrecision(x, y, 10));\n\n\n            // read next line before looping \n            // if end of file reached, line would be null \n            line = br.readLine(); \n            i++;\n        } \n    } catch (IOException ioe) { \n            ioe.printStackTrace(); \n    } \n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>java.nio.file.NoSuchFileException: result.csv\nat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source)\nat java.nio.file.Files.newByteChannel(Unknown Source)\nat java.nio.file.Files.newByteChannel(Unknown Source)\nat java.nio.file.spi.FileSystemProvider.newInputStream(Unknown Source)\nat java.nio.file.Files.newInputStream(Unknown Source)\nat java.nio.file.Files.newBufferedReader(Unknown Source)\nat com.uvce.cse.searchiot.geohash.TestGeoHash.main(TestGeoHash.java:19)\n</code></pre>\n\n<p>Can anyone point where exactly i missed? and how can i overcome this or any alternate methods for this method?</p>\n"},{"tags":["java","spring","spring-boot","configuration"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690467294,"post_id":76780607,"comment_id":135360579,"body_markdown":"You never instantiate your own `ApplicationContext`. Use the one Spring provides. That also means you don&#39;t have to care about implementations, just use only the `ApplicationContext` interface.","body":"You never instantiate your own <code>ApplicationContext</code>. Use the one Spring provides. That also means you don&#39;t have to care about implementations, just use only the <code>ApplicationContext</code> interface."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690467317,"post_id":76780607,"comment_id":135360587,"body_markdown":"You shouldn&#39;t and you are focussing on the wrong things. The problem is that you are using `AnnotationConfigApplicationContext` and are giving it absoluty nothing. No configuraiton, no package to scan. So it does exactly what you tell it to, nothing. If instead you would have written `new AnnotationConfigApplicationContext(&quot;your.package.here&quot;)` it would have worked.","body":"You shouldn&#39;t and you are focussing on the wrong things. The problem is that you are using <code>AnnotationConfigApplicationContext</code> and are giving it absoluty nothing. No configuraiton, no package to scan. So it does exactly what you tell it to, nothing. If instead you would have written <code>new AnnotationConfigApplicationContext(&quot;your.package.here&quot;)</code> it would have worked."}],"owner":{"account_id":29047290,"reputation":1,"user_id":22250836,"display_name":"Haleema Shahid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690540721,"creation_date":1690467131,"question_id":76780607,"body_markdown":"Out of all the implementations and sub-interfaces of [ApplicationContext](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html) interface, how do we decide which one we should use to access the `IOC container`? Also, this is my first question on stackoverflow.\r\n\r\nI wanted to try out basic annotations like `@component` and `@autowire` without using any `config class` (with the @configuration annotation). I made a Person class like so:\r\n```\r\n@Component\r\npublic class Person {\r\n    private String name;\r\n    private int number;\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setNumber(int number) {\r\n        this.number = number;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public int getNumber() {\r\n        return number;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand the main function like so: \r\n\r\n```\r\n@SpringBootApplication\r\npublic class StudyingSpringBootApplication {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        \r\n        ApplicationContext context = new AnnotationConfigApplicationContext();\r\n        Person person = (Person)context.getBean(&quot;person&quot;);\r\n        System.out.println(&quot;Person is &quot;+ person.getName()+&quot; &quot;+ person.getNumber());\r\n    }\r\n\r\n}\r\n```\r\nThis did not instantiate the bean in the container. Instead it gave me this exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: org.springframework.context.annotation.AnnotationConfigApplicationContext@12028586 has not been refreshed yet\r\n\r\nI googled a lot and found nothing that would help me figure out which `context` implementation or sub-interface to use. Then I asked ChatGpt to write a simple spring boot application. This is how ChatGpt handled it: \r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class StudyingSpringBootApplication {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ConfigurableApplicationContext context = SpringApplication.run(StudyingSpringBootApplication.class, args);\r\n        Person person = (Person)context.getBean(&quot;person&quot;);\r\n        System.out.println(&quot;Person is &quot;+ person.getName()+&quot; &quot;+ person.getNumber());\r\n    }\r\n\r\n}\r\n\r\n```\r\nThis works just fine. It instantiates a person bean with null name and 0 number.\r\n\r\nSo my question is why has [ConfigurableApplicationContext](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html) been used? And how do we know which implementation or sub-interface of `ApplicationContext` to use and when to use it? If someone could explain the use-case of each implementation and sub-interface, that would be great. \r\n\r\n","title":"Which &quot;Context&quot; to choose for my Spring Boot Application?","body":"<p>Out of all the implementations and sub-interfaces of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html\" rel=\"nofollow noreferrer\">ApplicationContext</a> interface, how do we decide which one we should use to access the <code>IOC container</code>? Also, this is my first question on stackoverflow.</p>\n<p>I wanted to try out basic annotations like <code>@component</code> and <code>@autowire</code> without using any <code>config class</code> (with the @configuration annotation). I made a Person class like so:</p>\n<pre><code>@Component\npublic class Person {\n    private String name;\n    private int number;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n}\n\n</code></pre>\n<p>and the main function like so:</p>\n<pre><code>@SpringBootApplication\npublic class StudyingSpringBootApplication {\n\n    public static void main(String[] args) {\n\n\n        \n        ApplicationContext context = new AnnotationConfigApplicationContext();\n        Person person = (Person)context.getBean(&quot;person&quot;);\n        System.out.println(&quot;Person is &quot;+ person.getName()+&quot; &quot;+ person.getNumber());\n    }\n\n}\n</code></pre>\n<p>This did not instantiate the bean in the container. Instead it gave me this exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalStateException: org.springframework.context.annotation.AnnotationConfigApplicationContext@12028586 has not been refreshed yet</p>\n</blockquote>\n<p>I googled a lot and found nothing that would help me figure out which <code>context</code> implementation or sub-interface to use. Then I asked ChatGpt to write a simple spring boot application. This is how ChatGpt handled it:</p>\n<pre><code>@SpringBootApplication\npublic class StudyingSpringBootApplication {\n\n    public static void main(String[] args) {\n        \n        ConfigurableApplicationContext context = SpringApplication.run(StudyingSpringBootApplication.class, args);\n        Person person = (Person)context.getBean(&quot;person&quot;);\n        System.out.println(&quot;Person is &quot;+ person.getName()+&quot; &quot;+ person.getNumber());\n    }\n\n}\n\n</code></pre>\n<p>This works just fine. It instantiates a person bean with null name and 0 number.</p>\n<p>So my question is why has <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html\" rel=\"nofollow noreferrer\">ConfigurableApplicationContext</a> been used? And how do we know which implementation or sub-interface of <code>ApplicationContext</code> to use and when to use it? If someone could explain the use-case of each implementation and sub-interface, that would be great.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1690527643,"post_id":76785459,"comment_id":135369010,"body_markdown":"Please show all code as *text* rather than as images.","body":"Please show all code as <i>text</i> rather than as images."},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1690527839,"post_id":76785459,"comment_id":135369051,"body_markdown":"What is the original interface?","body":"What is the original interface?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1690528818,"post_id":76785459,"comment_id":135369240,"body_markdown":"You mean eg. `commandSender` instead of `sender`? That&#39;s just the name, that&#39;s irrelevant. The only important thing is the types are correct.","body":"You mean eg. <code>commandSender</code> instead of <code>sender</code>? That&#39;s just the name, that&#39;s irrelevant. The only important thing is the types are correct."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690530157,"post_id":76785459,"comment_id":135369482,"body_markdown":"Generally, names like these are simply copied from the overridden method. Likely the video tutorial used a different version of the library, and the authors of that library renamed the parameters, or the library doesn&#39;t contain debug information, so IntelliJ derives it from the class names of the parameter types instead of using the original parameter names. This is really an inconsequential difference, and not something you should get hung up on.","body":"Generally, names like these are simply copied from the overridden method. Likely the video tutorial used a different version of the library, and the authors of that library renamed the parameters, or the library doesn&#39;t contain debug information, so IntelliJ derives it from the class names of the parameter types instead of using the original parameter names. This is really an inconsequential difference, and not something you should get hung up on."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690540555,"post_id":76785459,"comment_id":135371593,"body_markdown":"If you don&#39;t like the parameter names, just change them? Javac might erase them anyways (depending on the flags).","body":"If you don&#39;t like the parameter names, just change them? Javac might erase them anyways (depending on the flags)."}],"owner":{"account_id":29108873,"reputation":11,"user_id":22299054,"display_name":"DiceMa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690540529,"creation_date":1690527476,"question_id":76785459,"body_markdown":"I&#39;m learning how to make plugins on Paper for Minecraft. I ran into this problem(?): when inheriting the CommandExecutor interface, I automatically create a method using Shift+Alt+Enter, but the name of the arguments is different in my video tutorial.\r\n\r\nThe development version of Java 17, as recommended by IDEA itself. Plugins for IDEA are installed.\r\n\r\nMy option:\r\n\r\n```java\r\npublic boolean onCommand(@NotNull CommandSender commandSender, @NotNull Command command, @NotNull String s,\r\n                         @NotNull String[] strings)\r\n```\r\n\r\nOption from the lesson:\r\n\r\n```java\r\npublic boolean onCommand(@NotNull CommandSender sender, @NotNull Command command, @NotNull String label,\r\n                         @NotNull String[] args)\r\n```\r\n\r\nIn search of a solution, I realized that Maven does not have a dependency (like) with javadoc or the like. I checked the boxes in the settings of Maven automatically download: Source, Doc., Annotations. But it didn&#39;t help.","title":"Why does the name of the arguments in the method not match when inheriting the CommandExecutor interface?","body":"<p>I'm learning how to make plugins on Paper for Minecraft. I ran into this problem(?): when inheriting the CommandExecutor interface, I automatically create a method using Shift+Alt+Enter, but the name of the arguments is different in my video tutorial.</p>\n<p>The development version of Java 17, as recommended by IDEA itself. Plugins for IDEA are installed.</p>\n<p>My option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean onCommand(@NotNull CommandSender commandSender, @NotNull Command command, @NotNull String s,\n                         @NotNull String[] strings)\n</code></pre>\n<p>Option from the lesson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean onCommand(@NotNull CommandSender sender, @NotNull Command command, @NotNull String label,\n                         @NotNull String[] args)\n</code></pre>\n<p>In search of a solution, I realized that Maven does not have a dependency (like) with javadoc or the like. I checked the boxes in the settings of Maven automatically download: Source, Doc., Annotations. But it didn't help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25369067,"reputation":11,"user_id":19183195,"display_name":"Ashile The Great"},"score":0,"creation_date":1676238879,"post_id":75430284,"comment_id":133092748,"body_markdown":"If you know any proper ImageViewer with double tap to zoom, pinch to zoom and Slide to next and previous image, also welcome.","body":"If you know any proper ImageViewer with double tap to zoom, pinch to zoom and Slide to next and previous image, also welcome."}],"answers":[{"tags":[],"owner":{"account_id":25369067,"reputation":11,"user_id":19183195,"display_name":"Ashile The Great"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676279004,"creation_date":1676278943,"answer_id":75433804,"question_id":75430284,"body_markdown":"Ok after a long test and experiments finally found it. here is the code:\r\n\r\n    View imageDetail = activity.getLayoutInflater().inflate(R.layout.chat_image_pager, container , false);\r\n    \r\n           ImageView back = imageDetail.findViewById(R.id.back);\r\n           TextView totalImages = imageDetail.findViewById(R.id.totalImages);\r\n           TextView imagePosition = imageDetail.findViewById(R.id.mediaCounter);\r\n           TextView sentDate = imageDetail.findViewById(R.id.sentDate);\r\n           TextView sentBy = imageDetail.findViewById(R.id.sentBy);\r\n           TextView sentTime = imageDetail.findViewById(R.id.sentTime);\r\n    \r\n     StafalconImageViewer builder = new StfalconImageViewer.Builder&lt;&gt;\r\n            (activity,ChatImageData.imageMessages, (imageView, image) -&gt; {\r\n                  Glide.with(fragment)\r\n                       .load(image.getMediaAddress())\r\n                       .into(imageView);\r\n             });\r\n    \r\n    //some other codes\r\n    \r\n     builder\r\n         .withStartPosition(ChatMessageInterfaceFragment.imagePosition)\r\n         .withHiddenStatusBar(false)\r\n         .allowZooming(true)\r\n         .allowSwipeToDismiss(true)\r\n         .withImageChangeListener((position) -&gt; {\r\n               //some codes\r\n          })\r\n         .withBackgroundColorResource(R.color.background_light)\r\n         .withTransitionFrom(messageImage)\r\n         .withOverlayView(imageDetail)\r\n         .show();\r\n\r\nnow our onClickListener works:\r\n\r\n    back.setOnClickListener(v -&gt; {\r\n          builder.onDismiss();\r\n    });\r\n\r\nIf we use the base Class which mean **StafalconImageViewer** and not the \r\n**StafalconImageViewer.Builder**, the **onDismiss()** method works fine!\r\n\r\n \r\n\r\n  ","title":"Using Overlay of StfalconImageViewer to close imageViewer","body":"<p>Ok after a long test and experiments finally found it. here is the code:</p>\n<pre><code>View imageDetail = activity.getLayoutInflater().inflate(R.layout.chat_image_pager, container , false);\n\n       ImageView back = imageDetail.findViewById(R.id.back);\n       TextView totalImages = imageDetail.findViewById(R.id.totalImages);\n       TextView imagePosition = imageDetail.findViewById(R.id.mediaCounter);\n       TextView sentDate = imageDetail.findViewById(R.id.sentDate);\n       TextView sentBy = imageDetail.findViewById(R.id.sentBy);\n       TextView sentTime = imageDetail.findViewById(R.id.sentTime);\n\n StafalconImageViewer builder = new StfalconImageViewer.Builder&lt;&gt;\n        (activity,ChatImageData.imageMessages, (imageView, image) -&gt; {\n              Glide.with(fragment)\n                   .load(image.getMediaAddress())\n                   .into(imageView);\n         });\n\n//some other codes\n\n builder\n     .withStartPosition(ChatMessageInterfaceFragment.imagePosition)\n     .withHiddenStatusBar(false)\n     .allowZooming(true)\n     .allowSwipeToDismiss(true)\n     .withImageChangeListener((position) -&gt; {\n           //some codes\n      })\n     .withBackgroundColorResource(R.color.background_light)\n     .withTransitionFrom(messageImage)\n     .withOverlayView(imageDetail)\n     .show();\n</code></pre>\n<p>now our onClickListener works:</p>\n<pre><code>back.setOnClickListener(v -&gt; {\n      builder.onDismiss();\n});\n</code></pre>\n<p>If we use the base Class which mean <strong>StafalconImageViewer</strong> and not the\n<strong>StafalconImageViewer.Builder</strong>, the <strong>onDismiss()</strong> method works fine!</p>\n"},{"tags":[],"owner":{"account_id":5506695,"reputation":554,"user_id":4374362,"display_name":"harishanth raveendren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690540519,"creation_date":1690540519,"answer_id":76787025,"question_id":75430284,"body_markdown":"you can also use as `StfalconImageViewer viewer = builder.build();` followed by `viewer.close();` which also helps close the dialog.","title":"Using Overlay of StfalconImageViewer to close imageViewer","body":"<p>you can also use as <code>StfalconImageViewer viewer = builder.build();</code> followed by <code>viewer.close();</code> which also helps close the dialog.</p>\n"}],"owner":{"account_id":25369067,"reputation":11,"user_id":19183195,"display_name":"Ashile The Great"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75433804,"answer_count":2,"score":0,"last_activity_date":1690540519,"creation_date":1676237144,"question_id":75430284,"body_markdown":"I&#39;m trying to implement StfalconImageViewer in my app using these links: [here][1] and [here][2]. this is my code:\r\n\r\n\r\n```\r\n  View imageDetail = activity.getLayoutInflater().inflate(R.layout.chat_image_pager, container , false);\r\n\r\n       ImageView back = imageDetail.findViewById(R.id.back);\r\n       TextView totalImages = imageDetail.findViewById(R.id.totalImages);\r\n       TextView imagePosition = imageDetail.findViewById(R.id.mediaCounter);\r\n       TextView sentDate = imageDetail.findViewById(R.id.sentDate);\r\n       TextView sentBy = imageDetail.findViewById(R.id.sentBy);\r\n       TextView sentTime = imageDetail.findViewById(R.id.sentTime);\r\n\r\n       back.setOnClickListener(v -&gt; {\r\n            //what should I write here???\r\n        });\r\n\r\n StfalconImageViewer.Builder&lt;ChatMessageBuilder&gt; builder = new StfalconImageViewer.Builder&lt;&gt;\r\n        (activity,ChatImageData.imageMessages, (imageView, image) -&gt; {\r\n              Glide.with(fragment)\r\n                   .load(image.getMediaAddress())\r\n                   .into(imageView);\r\n         });\r\n\r\n//some other codes\r\n\r\n builder\r\n     .withStartPosition(ChatMessageInterfaceFragment.imagePosition)\r\n     .withHiddenStatusBar(false)\r\n     .allowZooming(true)\r\n     .allowSwipeToDismiss(true)\r\n     .withImageChangeListener((position) -&gt; {\r\n           //some codes\r\n      })\r\n     .withBackgroundColorResource(R.color.background_light)\r\n     .withTransitionFrom(messageImage)\r\n     .withOverlayView(imageDetail)\r\n     .show();\r\n```\r\n\r\n\r\n\r\nAs you can see there is an Overlay named `imageDetail` and a button (in Overlay) named `back` which should **close** `imageViewer` and get me back to my RecyclerView but the problem is I can&#39;t really put a right code for this. Any help would be appreciated.\r\n\r\n\r\n  [1]: https://github.com/stfalcon-studio/StfalconImageViewer\r\n  [2]: https://github.com/stfalcon-studio/FrescoImageViewer","title":"Using Overlay of StfalconImageViewer to close imageViewer","body":"<p>I'm trying to implement StfalconImageViewer in my app using these links: <a href=\"https://github.com/stfalcon-studio/StfalconImageViewer\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/stfalcon-studio/FrescoImageViewer\" rel=\"nofollow noreferrer\">here</a>. this is my code:</p>\n<pre><code>  View imageDetail = activity.getLayoutInflater().inflate(R.layout.chat_image_pager, container , false);\n\n       ImageView back = imageDetail.findViewById(R.id.back);\n       TextView totalImages = imageDetail.findViewById(R.id.totalImages);\n       TextView imagePosition = imageDetail.findViewById(R.id.mediaCounter);\n       TextView sentDate = imageDetail.findViewById(R.id.sentDate);\n       TextView sentBy = imageDetail.findViewById(R.id.sentBy);\n       TextView sentTime = imageDetail.findViewById(R.id.sentTime);\n\n       back.setOnClickListener(v -&gt; {\n            //what should I write here???\n        });\n\n StfalconImageViewer.Builder&lt;ChatMessageBuilder&gt; builder = new StfalconImageViewer.Builder&lt;&gt;\n        (activity,ChatImageData.imageMessages, (imageView, image) -&gt; {\n              Glide.with(fragment)\n                   .load(image.getMediaAddress())\n                   .into(imageView);\n         });\n\n//some other codes\n\n builder\n     .withStartPosition(ChatMessageInterfaceFragment.imagePosition)\n     .withHiddenStatusBar(false)\n     .allowZooming(true)\n     .allowSwipeToDismiss(true)\n     .withImageChangeListener((position) -&gt; {\n           //some codes\n      })\n     .withBackgroundColorResource(R.color.background_light)\n     .withTransitionFrom(messageImage)\n     .withOverlayView(imageDetail)\n     .show();\n</code></pre>\n<p>As you can see there is an Overlay named <code>imageDetail</code> and a button (in Overlay) named <code>back</code> which should <strong>close</strong> <code>imageViewer</code> and get me back to my RecyclerView but the problem is I can't really put a right code for this. Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1690541060,"post_id":76786969,"comment_id":135371692,"body_markdown":"Don&#39;t. Use a UUID if you must else let the database handle it. There is no garantueed random number generator and when scaling this will inevitably lead to issues. If you want something other then a UUID you could look at twitter Snowflake to generate ids. But in general you should stick with DB generated ids.","body":"Don&#39;t. Use a UUID if you must else let the database handle it. There is no garantueed random number generator and when scaling this will inevitably lead to issues. If you want something other then a UUID you could look at twitter Snowflake to generate ids. But in general you should stick with DB generated ids."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1690543119,"post_id":76786969,"comment_id":135372037,"body_markdown":"your requirements of &quot;random&quot; and &quot;unique&quot; could outweigh each other - random numbers are usually not supposed to be unique.","body":"your requirements of &quot;random&quot; and &quot;unique&quot; could outweigh each other - random numbers are usually not supposed to be unique."},{"owner":{"account_id":1106509,"reputation":6457,"user_id":1097800,"accept_rate":82,"display_name":"LynAs"},"score":0,"creation_date":1690570707,"post_id":76786969,"comment_id":135377403,"body_markdown":"You can use `System.nanoTime();`","body":"You can use <code>System.nanoTime();</code>"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690540072,"creation_date":1690540072,"question_id":76786969,"body_markdown":"I am working on a Spring Boot application with MySQL database. I have the following requirement-  \r\nI want to use randomly generated unique number (like 125665585) as primary key instead of **SEQUENCE/AUTO/TABLE/IDENTITY**. I came accross the UUID, but don&#39;t want to use it and keep the primary key as a primitive data type only.  \r\nCan anybody please explain how it should be done in Spring Boot and whether JPA/Hibernate has any pre-existing feature for this?","title":"How to use a randomly generated unique number as primary key in Spring Boot and Hibernate?","body":"<p>I am working on a Spring Boot application with MySQL database. I have the following requirement-<br />\nI want to use randomly generated unique number (like 125665585) as primary key instead of <strong>SEQUENCE/AUTO/TABLE/IDENTITY</strong>. I came accross the UUID, but don't want to use it and keep the primary key as a primitive data type only.<br />\nCan anybody please explain how it should be done in Spring Boot and whether JPA/Hibernate has any pre-existing feature for this?</p>\n"},{"tags":["java","kotlin","reflection","android-annotations","java-annotations"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1690540334,"post_id":76786953,"comment_id":135371547,"body_markdown":"That annotation is not retained at runtime. That’s why you can’t find it. How about using your own annotation?","body":"That annotation is not retained at runtime. That’s why you can’t find it. How about using your own annotation?"},{"owner":{"account_id":34014,"reputation":1149,"user_id":95681,"accept_rate":71,"display_name":"StormFoo"},"score":0,"creation_date":1690541372,"post_id":76786953,"comment_id":135371759,"body_markdown":"@Sweeper ah, that would explain it, thanks. I don&#39;t think writing my own would add anything in this particular scenario, unless I can also get the compiler to treat it the same was as the original does - otherwise it&#39;s just extra fluff for a test with no real functionality. If you know of a way to make it testable and functionally similar I&#39;d love to hear more though.","body":"@Sweeper ah, that would explain it, thanks. I don&#39;t think writing my own would add anything in this particular scenario, unless I can also get the compiler to treat it the same was as the original does - otherwise it&#39;s just extra fluff for a test with no real functionality. If you know of a way to make it testable and functionally similar I&#39;d love to hear more though."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690541831,"post_id":76786953,"comment_id":135371816,"body_markdown":"`hasAnnotation` and `getAnnotation` should really just throw an exception if the annotation doesn&#39;t have the correct retention type. Would save so much trouble.","body":"<code>hasAnnotation</code> and <code>getAnnotation</code> should really just throw an exception if the annotation doesn&#39;t have the correct retention type. Would save so much trouble."},{"owner":{"account_id":34014,"reputation":1149,"user_id":95681,"accept_rate":71,"display_name":"StormFoo"},"score":0,"creation_date":1690542973,"post_id":76786953,"comment_id":135372005,"body_markdown":"After the comment by @Sweeper I&#39;ve been able to retain the functionality and add visibility by creating a copy of the in my project with `package androidx.annotation` at the top to override the original and `@Retention(AnnotationRetention.RUNTIME)` on the class to ensure tests can see it. This feels extremely hacky to me though, so I&#39;m holding off on answering my own question with it as a solution in the hope that someone can think of a neater way of doing it.","body":"After the comment by @Sweeper I&#39;ve been able to retain the functionality and add visibility by creating a copy of the in my project with <code>package androidx.annotation</code> at the top to override the original and <code>@Retention(AnnotationRetention.RUNTIME)</code> on the class to ensure tests can see it. This feels extremely hacky to me though, so I&#39;m holding off on answering my own question with it as a solution in the hope that someone can think of a neater way of doing it."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690543142,"post_id":76786953,"comment_id":135372045,"body_markdown":"You can process your own annotation by generating the built-in annotation using an annotation processor. See [here](https://proandroiddev.com/the-guide-to-your-first-annotation-processor-with-ksp-and-becoming-a-kotlin-artist-4e5d13f171e6) for a start.","body":"You can process your own annotation by generating the built-in annotation using an annotation processor. See <a href=\"https://proandroiddev.com/the-guide-to-your-first-annotation-processor-with-ksp-and-becoming-a-kotlin-artist-4e5d13f171e6\" rel=\"nofollow noreferrer\">here</a> for a start."},{"owner":{"account_id":34014,"reputation":1149,"user_id":95681,"accept_rate":71,"display_name":"StormFoo"},"score":0,"creation_date":1690560225,"post_id":76786953,"comment_id":135375662,"body_markdown":"Turns out ProGuard didn&#39;t like the duplicate class and package combo, so the hacky solution wasn&#39;t viable in the end.","body":"Turns out ProGuard didn&#39;t like the duplicate class and package combo, so the hacky solution wasn&#39;t viable in the end."}],"owner":{"account_id":34014,"reputation":1149,"user_id":95681,"accept_rate":71,"display_name":"StormFoo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690539900,"creation_date":1690539900,"question_id":76786953,"body_markdown":"We have a wrapper class for checking the Android SDK version, and it uses the `ChecksSdkIntAtLeast` annotation. Here&#39;s a trimmed example of the class with just one getter and the logging removed:\r\n\r\n``` lang-kotlin\r\nclass DeviceApi(\r\n    private val deviceOsVersion: Int\r\n) {\r\n    @get:ChecksSdkIntAtLeast(api = Build.VERSION_CODES.M)\r\n    val isApi23AndAbove get() = deviceOsVersion &gt;= Build.VERSION_CODES.M\r\n}\r\n```\r\n\r\nWe have tests for the getter itself, but I was hoping to write tests to verify that the getter also has the annotation in place with the correct value, to avoid the compiler warnings that show up if it isn&#39;t included. However, no matter what I try, I can&#39;t seem to find the annotation via reflection.\r\n\r\nHere&#39;s two basic examples that work if I do this for a Kotlin `annotation class` annotation that just don&#39;t find the `public @interface` annotations provided by `androidx.annotation`:\r\n\r\n``` lang-kotlin\r\n@Test\r\nfun kotlin_reflection_example() {\r\n    assertThat(DeviceApi::isApi23AndAbove.getter.hasAnnotation&lt;ChecksSdkIntAtLeast&gt;()).isTrue\r\n}\r\n\r\n@Test\r\nfun java_reflection_example() {\r\n    assertThat(DeviceApi::isApi23AndAbove.javaGetter!!.getAnnotation(ChecksSdkIntAtLeast::class.java)).isNotNull\r\n}\r\n```\r\nI&#39;ve also tried various examples I&#39;ve seen online for looking for members and methods from the class and debugged to inspect the state of various things, but I&#39;ve been unable to get any of the code to see the annotation. I want to know if I&#39;m missing something obvious or if I found a scenario that just isn&#39;t supported by `kotlin-reflect` - and if so, if there&#39;s an alternative.","title":"Find Java annotations via reflection for Kotlin getter","body":"<p>We have a wrapper class for checking the Android SDK version, and it uses the <code>ChecksSdkIntAtLeast</code> annotation. Here's a trimmed example of the class with just one getter and the logging removed:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DeviceApi(\n    private val deviceOsVersion: Int\n) {\n    @get:ChecksSdkIntAtLeast(api = Build.VERSION_CODES.M)\n    val isApi23AndAbove get() = deviceOsVersion &gt;= Build.VERSION_CODES.M\n}\n</code></pre>\n<p>We have tests for the getter itself, but I was hoping to write tests to verify that the getter also has the annotation in place with the correct value, to avoid the compiler warnings that show up if it isn't included. However, no matter what I try, I can't seem to find the annotation via reflection.</p>\n<p>Here's two basic examples that work if I do this for a Kotlin <code>annotation class</code> annotation that just don't find the <code>public @interface</code> annotations provided by <code>androidx.annotation</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test\nfun kotlin_reflection_example() {\n    assertThat(DeviceApi::isApi23AndAbove.getter.hasAnnotation&lt;ChecksSdkIntAtLeast&gt;()).isTrue\n}\n\n@Test\nfun java_reflection_example() {\n    assertThat(DeviceApi::isApi23AndAbove.javaGetter!!.getAnnotation(ChecksSdkIntAtLeast::class.java)).isNotNull\n}\n</code></pre>\n<p>I've also tried various examples I've seen online for looking for members and methods from the class and debugged to inspect the state of various things, but I've been unable to get any of the code to see the annotation. I want to know if I'm missing something obvious or if I found a scenario that just isn't supported by <code>kotlin-reflect</code> - and if so, if there's an alternative.</p>\n"},{"tags":["java","docker","sonarqube"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1575182494,"post_id":59123167,"comment_id":104475557,"body_markdown":"`/usr/bin` isn&#39;t a proper JAVA_HOME, though, it should be the actual folder where alpine added it. Note: you&#39;re adding openjdk11 twice and you should consider collapsing your Docker RUN commands where necessary","body":"<code>&#47;usr&#47;bin</code> isn&#39;t a proper JAVA_HOME, though, it should be the actual folder where alpine added it. Note: you&#39;re adding openjdk11 twice and you should consider collapsing your Docker RUN commands where necessary"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1575183843,"post_id":59123167,"comment_id":104475759,"body_markdown":"I assume that many of those commands are for debugging the current issue - but I would say that commands add a layer and those commands that just print things out add layers too; they’ll bloat your image for no benefit. I would suggest separating _building_ your container from _testing_ it - simply `docker run` the created image to execute your diagnostic commands!","body":"I assume that many of those commands are for debugging the current issue - but I would say that commands add a layer and those commands that just print things out add layers too; they’ll bloat your image for no benefit. I would suggest separating <i>building</i> your container from <i>testing</i> it - simply <code>docker run</code> the created image to execute your diagnostic commands!"}],"answers":[{"tags":[],"owner":{"account_id":3989434,"reputation":55901,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1575183974,"creation_date":1575183610,"answer_id":59123276,"question_id":59123167,"body_markdown":"Add `JAVA_HOME` ENV according to version, as mentioned @cricket_007 the path in alpine for JDK is `/usr/lib/jvm/{VERSION}`\r\n\r\n```\r\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk\r\nENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot;  \r\nRUN echo $PATH\r\n```\r\n\r\nrun docker\r\n\r\n```\r\ndocker run --privileged -it --rm sonar-s sonar-scanner --version\r\n```\r\noutput\r\n```\r\nINFO: Scanner configuration file: /sonar-scanner-4.2.0.1873/conf/sonar-scanner.properties\r\nINFO: Project root configuration file: NONE\r\nINFO: SonarQube Scanner 4.2.0.1873\r\nINFO: Java 11.0.5 Alpine (64-bit)\r\nINFO: Linux 4.14.70-67.55.amzn1.x86_64 amd64\r\n```\r\n\r\n","title":"SonarScanner in Docker cannot find java","body":"<p>Add <code>JAVA_HOME</code> ENV according to version, as mentioned @cricket_007 the path in alpine for JDK is <code>/usr/lib/jvm/{VERSION}</code></p>\n\n<pre><code>ENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk\nENV PATH=\"$JAVA_HOME/bin:${PATH}\"  \nRUN echo $PATH\n</code></pre>\n\n<p>run docker</p>\n\n<pre><code>docker run --privileged -it --rm sonar-s sonar-scanner --version\n</code></pre>\n\n<p>output</p>\n\n<pre><code>INFO: Scanner configuration file: /sonar-scanner-4.2.0.1873/conf/sonar-scanner.properties\nINFO: Project root configuration file: NONE\nINFO: SonarQube Scanner 4.2.0.1873\nINFO: Java 11.0.5 Alpine (64-bit)\nINFO: Linux 4.14.70-67.55.amzn1.x86_64 amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3543960,"reputation":915,"user_id":2960388,"display_name":"Golide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690539842,"creation_date":1690539842,"answer_id":76786948,"question_id":59123167,"body_markdown":"This Dockerfile worked for me on .Net :\r\n\r\n    FROM mcr.microsoft.com/dotnet/sdk:6.0\r\n    RUN apt-get update\r\n    RUN apt-get install --yes openjdk-11-jre\r\n    RUN dotnet tool install --global dotnet-sonarscanner\r\n    RUN export ENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    RUN export ENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot; \r\n    RUN echo $PATH\r\n    RUN export ENV PATH=&quot;$PATH:/root/.dotnet/tools&quot;\r\n    RUN echo $PATH\r\n\r\nI had to run the image and exec into it to find the exact version ( **java-11-openjdk-amd6** in my case)","title":"SonarScanner in Docker cannot find java","body":"<p>This Dockerfile worked for me on .Net :</p>\n<pre><code>FROM mcr.microsoft.com/dotnet/sdk:6.0\nRUN apt-get update\nRUN apt-get install --yes openjdk-11-jre\nRUN dotnet tool install --global dotnet-sonarscanner\nRUN export ENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nRUN export ENV PATH=&quot;$JAVA_HOME/bin:${PATH}&quot; \nRUN echo $PATH\nRUN export ENV PATH=&quot;$PATH:/root/.dotnet/tools&quot;\nRUN echo $PATH\n</code></pre>\n<p>I had to run the image and exec into it to find the exact version ( <strong>java-11-openjdk-amd6</strong> in my case)</p>\n"}],"owner":{"account_id":110463,"reputation":85077,"user_id":292291,"accept_rate":86,"display_name":"Jiew Meng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6272,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":59123276,"answer_count":2,"score":3,"last_activity_date":1690539842,"creation_date":1575182264,"question_id":59123167,"body_markdown":"I am trying to integrate SonarQube into my CI process. I tried to install SonarScanner in Docker, but it appears it cannot find java tho it can be run\r\n\r\n**Dockerfile**\r\n\r\n    # Docker, AWS CLI, Terraform, NodeJS\r\n    FROM docker:18-dind\r\n    RUN echo &quot;1&quot;\r\n    RUN echo &quot;http://dl-cdn.alpinelinux.org/alpine/edge/testing&quot; &gt;&gt; /etc/apk/repositories\r\n    RUN apk --no-cache add openjdk11 --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community\r\n    RUN apk update\r\n    RUN apk add awscli nodejs nodejs-npm wget unzip jq openjdk11\r\n    RUN wget https://releases.hashicorp.com/terraform/0.11.13/terraform_0.11.13_linux_amd64.zip\r\n    RUN unzip terraform_0.11.13_linux_amd64.zip\r\n    RUN mv terraform /usr/local/bin\r\n    RUN npm i -g sequelize sequelize-cli mysql2\r\n    RUN wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.2.0.1873.zip\r\n    RUN unzip sonar-scanner-cli-4.2.0.1873.zip\r\n    RUN ls sonar-scanner-4.2.0.1873\r\n    ENV PATH=&quot;/sonar-scanner-4.2.0.1873/bin:${PATH}&quot;\r\n    RUN which java\r\n    ENV JAVA_HOME=/usr/bin\r\n    RUN echo $PATH\r\n    RUN java --version\r\n    RUN ls /sonar-scanner-4.2.0.1873/bin\r\n    RUN sonar-scanner --help\r\n\r\n**The logs**\r\n\r\n    Step 15/20 : RUN which java\r\n     ---&gt; Running in 96b487f5b44f\r\n    /usr/bin/java\r\n    Removing intermediate container 96b487f5b44f\r\n     ---&gt; 5026de427a57\r\n    Step 16/20 : ENV JAVA_HOME=/usr/bin\r\n     ---&gt; Running in 4d7eee221e41\r\n    Removing intermediate container 4d7eee221e41\r\n     ---&gt; 76b9a8b9d803\r\n    Step 17/20 : RUN echo $PATH\r\n     ---&gt; Running in 4278142f7153\r\n    /sonar-scanner-4.2.0.1873/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\r\n    Removing intermediate container 4278142f7153\r\n     ---&gt; c3d528bdaa7e\r\n    Step 18/20 : RUN java --version\r\n     ---&gt; Running in 7df7e2d8a441\r\n    openjdk 11.0.5 2019-10-15\r\n    OpenJDK Runtime Environment (build 11.0.5+10-alpine-r0)\r\n    OpenJDK 64-Bit Server VM (build 11.0.5+10-alpine-r0, mixed mode)\r\n    Removing intermediate container 7df7e2d8a441\r\n     ---&gt; 0f7162dae25d\r\n    Step 19/20 : RUN ls /sonar-scanner-4.2.0.1873/bin\r\n     ---&gt; Running in b7efb86cd86e\r\n    sonar-scanner\r\n    sonar-scanner-debug\r\n    sonar-scanner-debug.bat\r\n    sonar-scanner.bat\r\n    Removing intermediate container b7efb86cd86e\r\n     ---&gt; ff640a70876f\r\n    Step 20/20 : RUN sonar-scanner --help\r\n     ---&gt; Running in 9164ac2e8369\r\n    Could not find &#39;java&#39; executable in JAVA_HOME or PATH.\r\n    The command &#39;/bin/sh -c sonar-scanner --help&#39; returned a non-zero code: 1\r\n\r\nNotice `which java` gives `/usr/bin/java`. So I set `JAVA_HOME=/usr/bin`. `java` can run. But `sonar-scanner` cannot appear to find `java` ... why is that? ","title":"SonarScanner in Docker cannot find java","body":"<p>I am trying to integrate SonarQube into my CI process. I tried to install SonarScanner in Docker, but it appears it cannot find java tho it can be run</p>\n\n<p><strong>Dockerfile</strong></p>\n\n<pre><code># Docker, AWS CLI, Terraform, NodeJS\nFROM docker:18-dind\nRUN echo \"1\"\nRUN echo \"http://dl-cdn.alpinelinux.org/alpine/edge/testing\" &gt;&gt; /etc/apk/repositories\nRUN apk --no-cache add openjdk11 --repository=http://dl-cdn.alpinelinux.org/alpine/edge/community\nRUN apk update\nRUN apk add awscli nodejs nodejs-npm wget unzip jq openjdk11\nRUN wget https://releases.hashicorp.com/terraform/0.11.13/terraform_0.11.13_linux_amd64.zip\nRUN unzip terraform_0.11.13_linux_amd64.zip\nRUN mv terraform /usr/local/bin\nRUN npm i -g sequelize sequelize-cli mysql2\nRUN wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.2.0.1873.zip\nRUN unzip sonar-scanner-cli-4.2.0.1873.zip\nRUN ls sonar-scanner-4.2.0.1873\nENV PATH=\"/sonar-scanner-4.2.0.1873/bin:${PATH}\"\nRUN which java\nENV JAVA_HOME=/usr/bin\nRUN echo $PATH\nRUN java --version\nRUN ls /sonar-scanner-4.2.0.1873/bin\nRUN sonar-scanner --help\n</code></pre>\n\n<p><strong>The logs</strong></p>\n\n<pre><code>Step 15/20 : RUN which java\n ---&gt; Running in 96b487f5b44f\n/usr/bin/java\nRemoving intermediate container 96b487f5b44f\n ---&gt; 5026de427a57\nStep 16/20 : ENV JAVA_HOME=/usr/bin\n ---&gt; Running in 4d7eee221e41\nRemoving intermediate container 4d7eee221e41\n ---&gt; 76b9a8b9d803\nStep 17/20 : RUN echo $PATH\n ---&gt; Running in 4278142f7153\n/sonar-scanner-4.2.0.1873/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nRemoving intermediate container 4278142f7153\n ---&gt; c3d528bdaa7e\nStep 18/20 : RUN java --version\n ---&gt; Running in 7df7e2d8a441\nopenjdk 11.0.5 2019-10-15\nOpenJDK Runtime Environment (build 11.0.5+10-alpine-r0)\nOpenJDK 64-Bit Server VM (build 11.0.5+10-alpine-r0, mixed mode)\nRemoving intermediate container 7df7e2d8a441\n ---&gt; 0f7162dae25d\nStep 19/20 : RUN ls /sonar-scanner-4.2.0.1873/bin\n ---&gt; Running in b7efb86cd86e\nsonar-scanner\nsonar-scanner-debug\nsonar-scanner-debug.bat\nsonar-scanner.bat\nRemoving intermediate container b7efb86cd86e\n ---&gt; ff640a70876f\nStep 20/20 : RUN sonar-scanner --help\n ---&gt; Running in 9164ac2e8369\nCould not find 'java' executable in JAVA_HOME or PATH.\nThe command '/bin/sh -c sonar-scanner --help' returned a non-zero code: 1\n</code></pre>\n\n<p>Notice <code>which java</code> gives <code>/usr/bin/java</code>. So I set <code>JAVA_HOME=/usr/bin</code>. <code>java</code> can run. But <code>sonar-scanner</code> cannot appear to find <code>java</code> ... why is that? </p>\n"},{"tags":["java","javafx","canvas","graphicscontext"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690535280,"post_id":76786108,"comment_id":135370518,"body_markdown":"What does it actually mean to clear the line in this case?  Once you have cleared it, what is displayed in the place the line used to be?","body":"What does it actually mean to clear the line in this case?  Once you have cleared it, what is displayed in the place the line used to be?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690535627,"post_id":76786108,"comment_id":135370595,"body_markdown":"[clearRect](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html#clearRect(double,double,double,double)) “Clears a portion of the canvas with a transparent color value.” -&gt; is that what you want to do?  Make the pixels where the line was transparent?","body":"<a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/canvas/GraphicsContext.html#clearRect(double,double,double,double)\" rel=\"nofollow noreferrer\">clearRect</a> “Clears a portion of the canvas with a transparent color value.” -&gt; is that what you want to do?  Make the pixels where the line was transparent?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690536219,"post_id":76786108,"comment_id":135370715,"body_markdown":"You could use a layer system like in the [tutorial](https://docs.oracle.com/javase/8/javafx/graphics-tutorial/canvas.htm). With each element you add a new layer, then hide or remove the layer you don’t want to show.  Maybe that doesn’t meet your “efficient” criteria though.  Similarly you could draw the line over the canvas using the scene graph, then it is easy to remove it from the scene graph when you want to.","body":"You could use a layer system like in the <a href=\"https://docs.oracle.com/javase/8/javafx/graphics-tutorial/canvas.htm\" rel=\"nofollow noreferrer\">tutorial</a>. With each element you add a new layer, then hide or remove the layer you don’t want to show.  Maybe that doesn’t meet your “efficient” criteria though.  Similarly you could draw the line over the canvas using the scene graph, then it is easy to remove it from the scene graph when you want to."},{"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"score":0,"creation_date":1690536406,"post_id":76786108,"comment_id":135370751,"body_markdown":"In this case, &quot;clearing&quot; means replacing the line pixels with whatever background color. I am actually planning to make a visual &quot;radar / sonar&quot; with a line sweeping from left to right and back, and in between I want to draw the scanned distance points connected with lines. I could redraw those every time, but that is inefficient.","body":"In this case, &quot;clearing&quot; means replacing the line pixels with whatever background color. I am actually planning to make a visual &quot;radar / sonar&quot; with a line sweeping from left to right and back, and in between I want to draw the scanned distance points connected with lines. I could redraw those every time, but that is inefficient."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690537430,"post_id":76786108,"comment_id":135370976,"body_markdown":"Then just set the stroke to the background color and repaint the line. Or did I miss something?","body":"Then just set the stroke to the background color and repaint the line. Or did I miss something?"},{"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"score":0,"creation_date":1690537738,"post_id":76786108,"comment_id":135371056,"body_markdown":"I have thought of stroking the background color and repainting another line, but I thought that introduces memory problems, because the lines stack on top of each other. Am I right with this or is it rather a stupid assumption? And also: Thanks for your quick responses!","body":"I have thought of stroking the background color and repainting another line, but I thought that introduces memory problems, because the lines stack on top of each other. Am I right with this or is it rather a stupid assumption? And also: Thanks for your quick responses!"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690540388,"post_id":76786108,"comment_id":135371558,"body_markdown":"*”I thought that introduces memory problems, because the lines stack on top of each other”* -&gt; No.  a canvas is not like the scene graph.  Elements are not retained in memory.  Instead the commands are buffered to a queue, and each pulse (up to 60 times a second) the command buffer is emptied by executing the commands and updating the pixel buffer backing the canvas, which is then rendered as a texture to the graphics device.  So you can draw on it as much as you want. It only retains a constant size  memory array for the pixels in the canvas over the long term.","body":"<i>”I thought that introduces memory problems, because the lines stack on top of each other”</i> -&gt; No.  a canvas is not like the scene graph.  Elements are not retained in memory.  Instead the commands are buffered to a queue, and each pulse (up to 60 times a second) the command buffer is emptied by executing the commands and updating the pixel buffer backing the canvas, which is then rendered as a texture to the graphics device.  So you can draw on it as much as you want. It only retains a constant size  memory array for the pixels in the canvas over the long term."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1690568777,"post_id":76786108,"comment_id":135377092,"body_markdown":"You may want to consider abandoning the `Canvas` approach and instead use the scene graph. Especially if you&#39;re going to have moving components (e.g., the line).","body":"You may want to consider abandoning the <code>Canvas</code> approach and instead use the scene graph. Especially if you&#39;re going to have moving components (e.g., the line)."}],"answers":[{"tags":[],"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690539574,"creation_date":1690539574,"answer_id":76786917,"question_id":76786108,"body_markdown":"Based on the comments on the question, this may be the answer:\r\n```\r\ngc.setStroke(backgroundColor);\r\ngc.strokeLine(10, 10, 200, 200);\r\ngc.setStroke(Color.GREEN)\r\n``` \r\n\r\nThis clears the line by drawing the same line in the `backgroundColor` over it, effectively removing it.","title":"How to clear an inclined rectangle in JavaFX Canvas efficiently?","body":"<p>Based on the comments on the question, this may be the answer:</p>\n<pre><code>gc.setStroke(backgroundColor);\ngc.strokeLine(10, 10, 200, 200);\ngc.setStroke(Color.GREEN)\n</code></pre>\n<p>This clears the line by drawing the same line in the <code>backgroundColor</code> over it, effectively removing it.</p>\n"}],"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76786917,"answer_count":1,"score":2,"last_activity_date":1690539574,"creation_date":1690533547,"question_id":76786108,"body_markdown":"Currently I have the following problem:\r\nI would like to draw a straight angled line in JavaFX Canvas like so (Recalling from memory so method names might not be accurate):\r\n```\r\nCanvas canvas = new Canvas(500, 600);\r\n\r\nGraphicsContext gc = canvas.getGraphicsContext2D();\r\n\r\ngc.setStroke(Color.GREEN);\r\n\r\ngc.setLineWidth(5.0);\r\n\r\ngc.strokeLine(10, 10, 200, 200);\r\n\r\n```\r\n\r\nNow when I want to clear this line, I could obviously clear the entire Canvas using\r\n`gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());`\r\nbut that is clearing the entire canvas including other lines and points I may want to keep. Say, for example I have created a new point after the line:\r\n`gc.strokeOval(50, 20, 5, 5);`\r\nHow would I in one step clear only the line and not the point?\r\n\r\n\r\n\r\nHaving googled the problem already, I didn&#39;t find anything about exactly this. I am kind of expecting it just doesn&#39;t work but maybe some of you might find a workaround for this.\r\n\r\nI already tried searching for another method in `GraphicsContext` but were unsuccessful.","title":"How to clear an inclined rectangle in JavaFX Canvas efficiently?","body":"<p>Currently I have the following problem:\nI would like to draw a straight angled line in JavaFX Canvas like so (Recalling from memory so method names might not be accurate):</p>\n<pre><code>Canvas canvas = new Canvas(500, 600);\n\nGraphicsContext gc = canvas.getGraphicsContext2D();\n\ngc.setStroke(Color.GREEN);\n\ngc.setLineWidth(5.0);\n\ngc.strokeLine(10, 10, 200, 200);\n\n</code></pre>\n<p>Now when I want to clear this line, I could obviously clear the entire Canvas using\n<code>gc.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());</code>\nbut that is clearing the entire canvas including other lines and points I may want to keep. Say, for example I have created a new point after the line:\n<code>gc.strokeOval(50, 20, 5, 5);</code>\nHow would I in one step clear only the line and not the point?</p>\n<p>Having googled the problem already, I didn't find anything about exactly this. I am kind of expecting it just doesn't work but maybe some of you might find a workaround for this.</p>\n<p>I already tried searching for another method in <code>GraphicsContext</code> but were unsuccessful.</p>\n"},{"tags":["java","scala","apache-spark","build"],"comments":[{"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"score":1,"creation_date":1626784480,"post_id":68454769,"comment_id":120981072,"body_markdown":"Could you show your driver class?","body":"Could you show your driver class?"},{"owner":{"account_id":8761632,"reputation":22774,"user_id":6551426,"accept_rate":25,"display_name":"koiralo"},"score":2,"creation_date":1626784703,"post_id":68454769,"comment_id":120981166,"body_markdown":"can you also share your build.sbt file or pom.xm ?","body":"can you also share your build.sbt file or pom.xm ?"},{"owner":{"account_id":10553731,"reputation":824,"user_id":7775634,"accept_rate":83,"display_name":"chucklai"},"score":0,"creation_date":1626866661,"post_id":68454769,"comment_id":121004804,"body_markdown":"@ArtemAstashov sure no problem.","body":"@ArtemAstashov sure no problem."},{"owner":{"account_id":10553731,"reputation":824,"user_id":7775634,"accept_rate":83,"display_name":"chucklai"},"score":0,"creation_date":1626866727,"post_id":68454769,"comment_id":121004826,"body_markdown":"@koiralo I&#39;m not using sbt or maven. I imported libraries in project structure.","body":"@koiralo I&#39;m not using sbt or maven. I imported libraries in project structure."},{"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"score":0,"creation_date":1626867853,"post_id":68454769,"comment_id":121005273,"body_markdown":"@chucklai did you try to run in this way: ./bin/spark-submit --class &quot;cn.tedu.wordcount.Driver&quot; /Users/laiyinan/Desktop/1902SparkDay01_jar.jar ?","body":"@chucklai did you try to run in this way: ./bin/spark-submit --class &quot;cn.tedu.wordcount.Driver&quot; /Users/laiyinan/Desktop/1902SparkDay01_jar.jar ?"},{"owner":{"account_id":10553731,"reputation":824,"user_id":7775634,"accept_rate":83,"display_name":"chucklai"},"score":0,"creation_date":1626869208,"post_id":68454769,"comment_id":121005933,"body_markdown":"@ArtemAstashov I just tried. It doesn&#39;t work neither.","body":"@ArtemAstashov I just tried. It doesn&#39;t work neither."},{"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"score":0,"creation_date":1626870341,"post_id":68454769,"comment_id":121006465,"body_markdown":"@chucklai ok, how do you build your jar?","body":"@chucklai ok, how do you build your jar?"},{"owner":{"account_id":10553731,"reputation":824,"user_id":7775634,"accept_rate":83,"display_name":"chucklai"},"score":0,"creation_date":1626871426,"post_id":68454769,"comment_id":121006953,"body_markdown":"@ArtemAstashov import scala sdk-&gt;add actifects, using type Jar-&gt;build actifects-&gt;A jar file in class folder","body":"@ArtemAstashov import scala sdk-&gt;add actifects, using type Jar-&gt;build actifects-&gt;A jar file in class folder"}],"answers":[{"tags":[],"owner":{"account_id":4682995,"reputation":357,"user_id":3791224,"display_name":"ekrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627261896,"creation_date":1627261896,"answer_id":68523572,"question_id":68454769,"body_markdown":"I would highly suggest using `sbt` to build and also use `sbt-assembly` plugin to make your application jar.\r\n\r\nhttps://github.com/sbt/sbt-assembly","title":"How to solve spark-submit error:Error: Failed to load class?","body":"<p>I would highly suggest using <code>sbt</code> to build and also use <code>sbt-assembly</code> plugin to make your application jar.</p>\n<p><a href=\"https://github.com/sbt/sbt-assembly\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt-assembly</a></p>\n"}],"owner":{"account_id":10553731,"reputation":824,"user_id":7775634,"accept_rate":83,"display_name":"chucklai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690539462,"creation_date":1626783485,"question_id":68454769,"body_markdown":"I wrote a scala file as:\r\n\r\n    package cn.tedu.wordcount\r\n\r\n    import org.apache.spark.SparkConf\r\n    import org.apache.spark.SparkContext\r\n    \r\n    object Driver {\r\n      \r\n      def main(args: Array[String]): Unit = {\r\n        \r\n        val conf=new SparkConf().setMaster(&quot;local&quot;).setAppName(&quot;wordcount&quot;)\r\n        \r\n        val sc=new SparkContext(conf)\r\n        \r\n        val data=sc.textFile(&quot;/Users/laiyinan/OneDrive/文档/书籍/大数据/达内BIG/大数据/大数据第四阶段/06-Spark/spark第一天/课后作业/data/word.txt&quot;, 2)\r\n    \r\n        val result=data.flatMap { _.split(&quot; &quot;)}\r\n                       .map {(_,1)}.reduceByKey{_+_}\r\n        \r\n        result.foreach{println}               \r\n      }\r\n    }\r\n\r\n\r\nAnd I submit it into spark using the command:\r\n\r\n    ./bin/spark-submit --class &quot;cn.tedu.wordcount.Driver&quot; /Users/laiyinan/Desktop/1902SparkDay01_jar.jar \r\n\r\nI got this error every time:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&gt; Error:Failed to load class cn.tedu.wordcount.Driver\r\n\r\nI use Intellij Idea to build artefacts. Package path and class name are correct.\r\n\r\nI’ve already tries some solutions, but none of them can fix it.\r\n\r\n  [1]: https://i.stack.imgur.com/n2oD7.jpg","title":"How to solve spark-submit error:Error: Failed to load class?","body":"<p>I wrote a scala file as:</p>\n<pre><code>package cn.tedu.wordcount\n\nimport org.apache.spark.SparkConf\nimport org.apache.spark.SparkContext\n\nobject Driver {\n  \n  def main(args: Array[String]): Unit = {\n    \n    val conf=new SparkConf().setMaster(&quot;local&quot;).setAppName(&quot;wordcount&quot;)\n    \n    val sc=new SparkContext(conf)\n    \n    val data=sc.textFile(&quot;/Users/laiyinan/OneDrive/文档/书籍/大数据/达内BIG/大数据/大数据第四阶段/06-Spark/spark第一天/课后作业/data/word.txt&quot;, 2)\n\n    val result=data.flatMap { _.split(&quot; &quot;)}\n                   .map {(_,1)}.reduceByKey{_+_}\n    \n    result.foreach{println}               \n  }\n}\n</code></pre>\n<p>And I submit it into spark using the command:</p>\n<pre><code>./bin/spark-submit --class &quot;cn.tedu.wordcount.Driver&quot; /Users/laiyinan/Desktop/1902SparkDay01_jar.jar \n</code></pre>\n<p>I got this error every time:</p>\n<p><a href=\"https://i.stack.imgur.com/n2oD7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2oD7.jpg\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Error:Failed to load class cn.tedu.wordcount.Driver</p>\n</blockquote>\n<p>I use Intellij Idea to build artefacts. Package path and class name are correct.</p>\n<p>I’ve already tries some solutions, but none of them can fix it.</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":406358,"reputation":1944,"user_id":775823,"accept_rate":100,"display_name":"Ravi Khakhkhar"},"score":0,"creation_date":1339744529,"post_id":11046105,"comment_id":14449076,"body_markdown":"You can use `limit()` function to limit the function to retrieve data in chunks","body":"You can use <code>limit()</code> function to limit the function to retrieve data in chunks"},{"owner":{"account_id":238552,"reputation":84589,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"score":0,"creation_date":1339746059,"post_id":11046105,"comment_id":14449650,"body_markdown":"I am not familiar with the framework that you are using, but I would find it very strange if it does not have some wrapper for MongoDB&#39;s cursors. Are you sure that what you are getting is an `ArrayList`, and not a custom `List` implementation that wraps around a cursor?","body":"I am not familiar with the framework that you are using, but I would find it very strange if it does not have some wrapper for MongoDB&#39;s cursors. Are you sure that what you are getting is an <code>ArrayList</code>, and not a custom <code>List</code> implementation that wraps around a cursor?"},{"owner":{"account_id":1105626,"reputation":2710,"user_id":1097074,"accept_rate":44,"display_name":"Rodion Gorkovenko"},"score":2,"creation_date":1339748294,"post_id":11046105,"comment_id":14450353,"body_markdown":"yes, surely - I&#39;ve just logged its findAll().getClass() for collection of about 3 millions and I think I saw java.util.ArrayList...","body":"yes, surely - I&#39;ve just logged its findAll().getClass() for collection of about 3 millions and I think I saw java.util.ArrayList..."},{"owner":{"account_id":7041303,"reputation":131,"user_id":5393714,"display_name":"Andi"},"score":1,"creation_date":1608330412,"post_id":11046105,"comment_id":115560373,"body_markdown":"Since spring boot 2 you can use streamAllBy() to only load one entry at a time.","body":"Since spring boot 2 you can use streamAllBy() to only load one entry at a time."}],"answers":[{"comments":[{"owner":{"account_id":147552,"reputation":642,"user_id":358741,"display_name":"Shawn Bush"},"score":23,"creation_date":1406744454,"post_id":12201890,"comment_id":38953482,"body_markdown":"I just wanted to chime in even later and say that for large sets of data, you should stay away from the Paging API as well, as it has to walk the entire collection before building each page. This gets expensive quickly. Stick to using the Mongo API directly.","body":"I just wanted to chime in even later and say that for large sets of data, you should stay away from the Paging API as well, as it has to walk the entire collection before building each page. This gets expensive quickly. Stick to using the Mongo API directly."},{"owner":{"account_id":1389614,"reputation":1649,"user_id":1320774,"accept_rate":50,"display_name":"javadev"},"score":0,"creation_date":1488202894,"post_id":12201890,"comment_id":72114080,"body_markdown":"@ShawnBush You sure about this?","body":"@ShawnBush You sure about this?"},{"owner":{"account_id":445371,"reputation":194,"user_id":837784,"accept_rate":25,"display_name":"aillusions"},"score":0,"creation_date":1539010089,"post_id":12201890,"comment_id":92336151,"body_markdown":"do {} while(); could look better","body":"do {} while(); could look better"},{"owner":{"account_id":10460077,"reputation":441,"user_id":7711123,"display_name":"leurer"},"score":4,"creation_date":1559664175,"post_id":12201890,"comment_id":99488487,"body_markdown":"Out of pure frustration about many lost hours in hope to save someone elses time i want to repeat what Shawn Bush said. Don&#39;t use this for bigger collections! You will end up with queries which use limit &amp; skip. Every skipped document will be examined which makes requests with big page numbers incredibly slow.","body":"Out of pure frustration about many lost hours in hope to save someone elses time i want to repeat what Shawn Bush said. Don&#39;t use this for bigger collections! You will end up with queries which use limit &amp; skip. Every skipped document will be examined which makes requests with big page numbers incredibly slow."}],"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"comment_count":4,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1571148756,"creation_date":1346345927,"answer_id":12201890,"question_id":11046105,"body_markdown":"Late response, but maybe will help someone in the future. Spring data doesn&#39;t provide any API to wrap **Mongo DB Cursor** capabilities. It uses it within `find` methods, but always returns completed list of objects. Options are to use Mongo API directly or to use **Spring Data Paging API**, something like that:\r\n\r\n            final int pageLimit = 300;\r\n            int pageNumber = 0;\r\n            Page&lt;T&gt; page = repository.findAll(new PageRequest(pageNumber, pageLimit));\r\n            while (page.hasNextPage()) {\r\n                processPageContent(page.getContent());\r\n                page = repository.findAll(new PageRequest(++pageNumber, pageLimit));\r\n            }\r\n            // process last page\r\n            processPageContent(page.getContent());\r\n\r\n**UPD (!)** This method is **not sufficient** for large sets of data (see @Shawn Bush comments) Please use Mongo API directly for such cases.","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Late response, but maybe will help someone in the future. Spring data doesn't provide any API to wrap <strong>Mongo DB Cursor</strong> capabilities. It uses it within <code>find</code> methods, but always returns completed list of objects. Options are to use Mongo API directly or to use <strong>Spring Data Paging API</strong>, something like that:</p>\n\n<pre><code>        final int pageLimit = 300;\n        int pageNumber = 0;\n        Page&lt;T&gt; page = repository.findAll(new PageRequest(pageNumber, pageLimit));\n        while (page.hasNextPage()) {\n            processPageContent(page.getContent());\n            page = repository.findAll(new PageRequest(++pageNumber, pageLimit));\n        }\n        // process last page\n        processPageContent(page.getContent());\n</code></pre>\n\n<p><strong>UPD (!)</strong> This method is <strong>not sufficient</strong> for large sets of data (see @Shawn Bush comments) Please use Mongo API directly for such cases.</p>\n"},{"tags":[],"owner":{"account_id":146308,"reputation":1587,"user_id":356677,"accept_rate":81,"display_name":"ramon_salla"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1396006447,"creation_date":1396006447,"answer_id":22711715,"question_id":11046105,"body_markdown":"Another way:\r\n\r\n    do{\r\n      page = repository.findAll(new PageRequest(pageNumber, pageLimit));\r\n      pageNumber++;\r\n    \t     \r\n    }while (!page.isLastPage());\r\n\t\t","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Another way:</p>\n\n<pre><code>do{\n  page = repository.findAll(new PageRequest(pageNumber, pageLimit));\n  pageNumber++;\n\n}while (!page.isLastPage());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"score":0,"creation_date":1571773299,"post_id":26232280,"comment_id":103350009,"body_markdown":"This doesn&#39;t help as much in context without knowing how to create a Query object to find everything in the collection. I&#39;m having a harder time figuring this out than expected.","body":"This doesn&#39;t help as much in context without knowing how to create a Query object to find everything in the collection. I&#39;m having a harder time figuring this out than expected."}],"tags":[],"owner":{"account_id":146308,"reputation":1587,"user_id":356677,"accept_rate":81,"display_name":"ramon_salla"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412672305,"creation_date":1412672305,"answer_id":26232280,"question_id":11046105,"body_markdown":"Check new method to handle results per document basis.\r\n\r\n[http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query.Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query.Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Check new method to handle results per document basis.</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query.Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-\" rel=\"nofollow\">http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html#executeQuery-org.springframework.data.mongodb.core.query.Query-java.lang.String-org.springframework.data.mongodb.core.DocumentCallbackHandler-</a></p>\n"},{"tags":[],"owner":{"account_id":3169412,"reputation":1083,"user_id":2678757,"display_name":"Segabond"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1441296803,"creation_date":1441296803,"answer_id":32380698,"question_id":11046105,"body_markdown":"Use MongoTemplate::stream() as probably the most appropriate Java wrapper to DBCursor","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Use MongoTemplate::stream() as probably the most appropriate Java wrapper to DBCursor</p>\n"},{"tags":[],"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1489613025,"creation_date":1462110927,"answer_id":36967466,"question_id":11046105,"body_markdown":"you can still use mongoTemplate to access the Collection and simply use DBCursor:\r\n\r\n         DBCollection collection = mongoTemplate.getCollection(&quot;boundary&quot;);\r\n    \t DBCursor cursor = collection.find();    \t \r\n    \t while(cursor.hasNext()){\r\n    \t\t DBObject obj = cursor.next();\r\n    \t\t Object object =  obj.get(&quot;polygons&quot;);\r\n    \t\t ..\r\n          ...\r\n    \t }","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>you can still use mongoTemplate to access the Collection and simply use DBCursor:</p>\n\n<pre><code>     DBCollection collection = mongoTemplate.getCollection(\"boundary\");\n     DBCursor cursor = collection.find();        \n     while(cursor.hasNext()){\n         DBObject obj = cursor.next();\n         Object object =  obj.get(\"polygons\");\n         ..\n      ...\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487145260,"creation_date":1487145260,"answer_id":42243537,"question_id":11046105,"body_markdown":"You may want to try the DBCursor way like this:\r\n\r\n    \tDBObject query = new BasicDBObject(); //setup the query criteria\r\n\t\tquery.put(&quot;method&quot;, method);\r\n\t\tquery.put(&quot;ctime&quot;, (new BasicDBObject(&quot;$gte&quot;, bTime)).append(&quot;$lt&quot;, eTime));\r\n\r\n\t\tlogger.debug(&quot;query: {}&quot;, query);\r\n\r\n\t\tDBObject fields = new BasicDBObject(); //only get the needed fields.\r\n\t\tfields.put(&quot;_id&quot;, 0);\r\n\t\tfields.put(&quot;uId&quot;, 1);\r\n\t\tfields.put(&quot;ctime&quot;, 1);\r\n\r\n\t\tDBCursor dbCursor = mongoTemplate.getCollection(&quot;collectionName&quot;).find(query, fields);\r\n\r\n\t\twhile (dbCursor.hasNext()){\r\n\t\t\tDBObject object = dbCursor.next();\r\n\t\t\tlogger.debug(&quot;object: {}&quot;, object);\r\n\t\t\t//do something.\r\n\t\t}","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>You may want to try the DBCursor way like this:</p>\n\n<pre><code>    DBObject query = new BasicDBObject(); //setup the query criteria\n    query.put(\"method\", method);\n    query.put(\"ctime\", (new BasicDBObject(\"$gte\", bTime)).append(\"$lt\", eTime));\n\n    logger.debug(\"query: {}\", query);\n\n    DBObject fields = new BasicDBObject(); //only get the needed fields.\n    fields.put(\"_id\", 0);\n    fields.put(\"uId\", 1);\n    fields.put(\"ctime\", 1);\n\n    DBCursor dbCursor = mongoTemplate.getCollection(\"collectionName\").find(query, fields);\n\n    while (dbCursor.hasNext()){\n        DBObject object = dbCursor.next();\n        logger.debug(\"object: {}\", object);\n        //do something.\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":349327,"reputation":2203,"user_id":684549,"accept_rate":100,"display_name":"will824"},"score":0,"creation_date":1594761499,"post_id":45493993,"comment_id":111239023,"body_markdown":"This answer helped me a lot in my case. Thanks!","body":"This answer helped me a lot in my case. Thanks!"},{"owner":{"account_id":7041303,"reputation":131,"user_id":5393714,"display_name":"Andi"},"score":1,"creation_date":1608330345,"post_id":45493993,"comment_id":115560348,"body_markdown":"couldn&#39;t you just use streamAllBy() without any additional annotation since spring boot 2?","body":"couldn&#39;t you just use streamAllBy() without any additional annotation since spring boot 2?"}],"tags":[],"owner":{"account_id":6147033,"reputation":339,"user_id":4792667,"display_name":"Maysam Mok"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1639757307,"creation_date":1501792152,"answer_id":45493993,"question_id":11046105,"body_markdown":"*Since this question got bumped recently, this answer needs some more love!*\r\n\r\nIf you use Spring Data Repository interfaces, you can declare a custom method that returns a Stream, and it will be implemented by Spring Data using cursors:\r\n\r\n    import java.util.Stream;\r\n\r\n    public interface AlarmRepository extends CrudRepository&lt;Alarm, String&gt; {\r\n\r\n        Stream&lt;Alarm&gt; findAllBy();\r\n\r\n    }\r\n\r\nSo for the large amount of data you can stream them and process the line by line without memory limitation.\r\n\r\nSee https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries","title":"Iterate over large collection in MongoDB via spring-data","body":"<p><em>Since this question got bumped recently, this answer needs some more love!</em></p>\n<p>If you use Spring Data Repository interfaces, you can declare a custom method that returns a Stream, and it will be implemented by Spring Data using cursors:</p>\n<pre><code>import java.util.Stream;\n\npublic interface AlarmRepository extends CrudRepository&lt;Alarm, String&gt; {\n\n    Stream&lt;Alarm&gt; findAllBy();\n\n}\n</code></pre>\n<p>So for the large amount of data you can stream them and process the line by line without memory limitation.</p>\n<p>See <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries\" rel=\"noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries</a></p>\n"},{"tags":[],"owner":{"account_id":13095413,"reputation":1,"user_id":9461473,"display_name":"Abhilash Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623096012,"creation_date":1623095324,"answer_id":67877867,"question_id":11046105,"body_markdown":"The best way to iterator over a large collection is to use the Mongo API directly. I used the below code and it worked like a charm for my use-case.&lt;br&gt;\r\nI had to iterate over more than 15M records and the document size was huge for some of those.&lt;br&gt;\r\nThe following code is in Kotlin Spring Boot App (Spring Boot Version: 2.4.5)&lt;br&gt;\r\n    \r\n\r\n    fun getAbcCursor(batchSize: Int, from: Long?, to: Long?): MongoCursor&lt;Document&gt; {\r\n    \r\n        val collection = xyzMongoTemplate.getCollection(&quot;abc&quot;)\r\n        val query = Document(&quot;field1&quot;, &quot;value1&quot;)\r\n        if (from != null) {\r\n            val fromDate = Date(from)\r\n            val toDate = if (to != null) { Date(to) } else { Date() }\r\n            query.append(\r\n                &quot;createTime&quot;,\r\n                Document(\r\n                    &quot;\\$gte&quot;, fromDate\r\n                ).append(\r\n                    &quot;\\$lte&quot;, toDate\r\n                )\r\n            )\r\n        }\r\n        return collection.find(query).batchSize(batchSize).iterator()\r\n    }\r\n\r\nThen, from a service layer method, you can just keep calling MongoCursor.next() on returned cursor till MongoCursor.hasNext() returns true.&lt;br&gt;&lt;br&gt;\r\n**An Important Observation**: Please do not miss adding batchSize on &#39;FindIterable&#39; (the return type of MongoCollection.find()). If you won&#39;t provide the batch size, the cursor will fetch initial 101 records and will hang after that (it tries to fetch all the remaining records at once).&lt;br&gt;\r\nFor my scenario, I used the batch size as 2000, as it gave the best results during testing. This optimized batch size will be impacted by the average size of your records.&lt;br&gt;&lt;br&gt;\r\nHere is the equivalent code in Java (removing createTime from query as it is specific to my data model).\r\n\r\n        MongoCursor&lt;Document&gt; getAbcCursor(Int batchSize) {\r\n            MongoCollection&lt;Document&gt; collection = xyzMongoTemplate.getCollection(&quot;your_collection_name&quot;);\r\n            Document query = new Document(&quot;field1&quot;, &quot;value1&quot;);// query --&gt; {&quot;field1&quot;: &quot;value1&quot;}\r\n            return collection.find(query).batchSize(batchSize).iterator();\r\n        }","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>The best way to iterator over a large collection is to use the Mongo API directly. I used the below code and it worked like a charm for my use-case.<br>\nI had to iterate over more than 15M records and the document size was huge for some of those.<br>\nThe following code is in Kotlin Spring Boot App (Spring Boot Version: 2.4.5)<br></p>\n<pre><code>fun getAbcCursor(batchSize: Int, from: Long?, to: Long?): MongoCursor&lt;Document&gt; {\n\n    val collection = xyzMongoTemplate.getCollection(&quot;abc&quot;)\n    val query = Document(&quot;field1&quot;, &quot;value1&quot;)\n    if (from != null) {\n        val fromDate = Date(from)\n        val toDate = if (to != null) { Date(to) } else { Date() }\n        query.append(\n            &quot;createTime&quot;,\n            Document(\n                &quot;\\$gte&quot;, fromDate\n            ).append(\n                &quot;\\$lte&quot;, toDate\n            )\n        )\n    }\n    return collection.find(query).batchSize(batchSize).iterator()\n}\n</code></pre>\n<p>Then, from a service layer method, you can just keep calling MongoCursor.next() on returned cursor till MongoCursor.hasNext() returns true.<br><br>\n<strong>An Important Observation</strong>: Please do not miss adding batchSize on 'FindIterable' (the return type of MongoCollection.find()). If you won't provide the batch size, the cursor will fetch initial 101 records and will hang after that (it tries to fetch all the remaining records at once).<br>\nFor my scenario, I used the batch size as 2000, as it gave the best results during testing. This optimized batch size will be impacted by the average size of your records.<br><br>\nHere is the equivalent code in Java (removing createTime from query as it is specific to my data model).</p>\n<pre><code>    MongoCursor&lt;Document&gt; getAbcCursor(Int batchSize) {\n        MongoCollection&lt;Document&gt; collection = xyzMongoTemplate.getCollection(&quot;your_collection_name&quot;);\n        Document query = new Document(&quot;field1&quot;, &quot;value1&quot;);// query --&gt; {&quot;field1&quot;: &quot;value1&quot;}\n        return collection.find(query).batchSize(batchSize).iterator();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1202607,"reputation":1770,"user_id":1172945,"accept_rate":74,"display_name":"Tugrul"},"score":0,"creation_date":1678533677,"post_id":70380668,"comment_id":133553409,"body_markdown":"Do not iterate large collections with that style essipecially its in heavy IO.  For every time it counts the list before the iteration.","body":"Do not iterate large collections with that style essipecially its in heavy IO.  For every time it counts the list before the iteration."}],"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639754746,"creation_date":1639664721,"answer_id":70380668,"question_id":11046105,"body_markdown":"This answer is based on: https://stackoverflow.com/a/22711715/5622596\r\n\r\nThat answer needs a bit of an update as `PageRequest` has changed how it is being constructed. \r\n\r\nWith that said here is my modified response:\r\n\r\n```Java\r\nint pageNumber = 1;\r\n\r\n//Change value to whatever size you want the page to have\r\nint pageLimit = 100;\r\n\r\nPage&lt;SomeClass&gt; page;\r\nList&lt;SomeClass&gt; compondList= new LinkedList&lt;&gt;();\r\n\r\ndo{\r\n    PageRequest pageRequest = PageRequest.of(pageNumber, pageLimit);\r\n    \r\n    page = repository.findAll(pageRequest);\r\n    \r\n    List&lt;SomeClass&gt; listFromPage = page.getContent();\r\n\r\n    //Do something with this list example below\r\n    compondList.addAll(listFromPage);\r\n\r\n    pageNumber++;\r\n\r\n  }while (!page.isLast());\r\n\r\n//Do something with the compondList: example below\r\nreturn compondList;\r\n\r\n```","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>This answer is based on: <a href=\"https://stackoverflow.com/a/22711715/5622596\">https://stackoverflow.com/a/22711715/5622596</a></p>\n<p>That answer needs a bit of an update as <code>PageRequest</code> has changed how it is being constructed.</p>\n<p>With that said here is my modified response:</p>\n<pre><code>int pageNumber = 1;\n\n//Change value to whatever size you want the page to have\nint pageLimit = 100;\n\nPage&lt;SomeClass&gt; page;\nList&lt;SomeClass&gt; compondList= new LinkedList&lt;&gt;();\n\ndo{\n    PageRequest pageRequest = PageRequest.of(pageNumber, pageLimit);\n    \n    page = repository.findAll(pageRequest);\n    \n    List&lt;SomeClass&gt; listFromPage = page.getContent();\n\n    //Do something with this list example below\n    compondList.addAll(listFromPage);\n\n    pageNumber++;\n\n  }while (!page.isLast());\n\n//Do something with the compondList: example below\nreturn compondList;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648854,"reputation":11,"user_id":3041482,"display_name":"Florian F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690539246,"creation_date":1690539246,"answer_id":76786863,"question_id":11046105,"body_markdown":"Du to Mongo DB Cursor capabilities, if you have long process, you can lost cursor...\r\n\r\nI recommend to use paging : \r\n```\r\n        final int pageSize = 1000;\r\n        var paging = Pageable.ofSize(pageSize);\r\n        do {\r\n            Page&lt;T&gt; page = repository.findAll(paging); // Retrieve page items\r\n            page.forEach((item) -&gt; this.processItem(item);); // Do item job\r\n            \r\n            // page++\r\n            paging = page.nextPageable(); // If last: return Pageable.unpaged()\r\n        }\r\n        while (paging.isPaged()); // If last: Unpaged.isPaged() return false\r\n```\r\nAnd for repository, 2 options: \r\n```\r\n    // Use Spring Data Interface\r\n    @Repository\r\n    public interface YourDao extends PagingAndSortingRepository&lt;T, ID&gt; {\r\n        // extends create this impl\r\n        // Page&lt;T&gt; findAll(Pageable pageable);\r\n    }\r\n\r\n    // Or create your own Impl\r\n    public class YourDaoImpl implements YourDao {\r\n        @Override\r\n        public Page&lt;T&gt; findAll(Pageable pageable) {\r\n            final var query = new Query().with(pageable);\r\n            var items = mongoTemplate.find(query, T.class);\r\n            return PageableExecutionUtils.getPage(\r\n                  items, \r\n                  pageable, \r\n                  () -&gt; mongoTemplate.count(Query.of(query).limit(-1).skip(-1), T.class));\r\n        }\r\n    }\r\n```","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Du to Mongo DB Cursor capabilities, if you have long process, you can lost cursor...</p>\n<p>I recommend to use paging :</p>\n<pre><code>        final int pageSize = 1000;\n        var paging = Pageable.ofSize(pageSize);\n        do {\n            Page&lt;T&gt; page = repository.findAll(paging); // Retrieve page items\n            page.forEach((item) -&gt; this.processItem(item);); // Do item job\n            \n            // page++\n            paging = page.nextPageable(); // If last: return Pageable.unpaged()\n        }\n        while (paging.isPaged()); // If last: Unpaged.isPaged() return false\n</code></pre>\n<p>And for repository, 2 options:</p>\n<pre><code>    // Use Spring Data Interface\n    @Repository\n    public interface YourDao extends PagingAndSortingRepository&lt;T, ID&gt; {\n        // extends create this impl\n        // Page&lt;T&gt; findAll(Pageable pageable);\n    }\n\n    // Or create your own Impl\n    public class YourDaoImpl implements YourDao {\n        @Override\n        public Page&lt;T&gt; findAll(Pageable pageable) {\n            final var query = new Query().with(pageable);\n            var items = mongoTemplate.find(query, T.class);\n            return PageableExecutionUtils.getPage(\n                  items, \n                  pageable, \n                  () -&gt; mongoTemplate.count(Query.of(query).limit(-1).skip(-1), T.class));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1105626,"reputation":2710,"user_id":1097074,"accept_rate":44,"display_name":"Rodion Gorkovenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44027,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":10,"score":35,"last_activity_date":1690539246,"creation_date":1339744051,"question_id":11046105,"body_markdown":"Friends!\r\n\r\nI am using MongoDB in java project via spring-data. I use Repository interfaces to access data in collections. For some processing I need to iterate over all elements of collection. I can use fetchAll method of repository, but it always return ArrayList.\r\n\r\nHowever, it is supposed that one of collections would be large - up to 1 million records several kilobytes each at least. I suppose I should not use fetchAll in such cases, but I could not find neither convenient methods returning some iterator (which may allow collection to be fetched partially), nor convenient methods with callbacks.\r\n\r\nI&#39;ve seen only support for retrieving such collections in pages. I wonder whether it is the only way for working with such collections?","title":"Iterate over large collection in MongoDB via spring-data","body":"<p>Friends!</p>\n\n<p>I am using MongoDB in java project via spring-data. I use Repository interfaces to access data in collections. For some processing I need to iterate over all elements of collection. I can use fetchAll method of repository, but it always return ArrayList.</p>\n\n<p>However, it is supposed that one of collections would be large - up to 1 million records several kilobytes each at least. I suppose I should not use fetchAll in such cases, but I could not find neither convenient methods returning some iterator (which may allow collection to be fetched partially), nor convenient methods with callbacks.</p>\n\n<p>I've seen only support for retrieving such collections in pages. I wonder whether it is the only way for working with such collections?</p>\n"},{"tags":["java","flutter","dart"],"answers":[{"comments":[{"owner":{"account_id":19998954,"reputation":88,"user_id":14658343,"display_name":"Mahmoud ashraf"},"score":0,"creation_date":1690011531,"post_id":76735896,"comment_id":135295959,"body_markdown":"how to do it on vscode because I am using it instead of the android studio?","body":"how to do it on vscode because I am using it instead of the android studio?"},{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1690021246,"post_id":76735896,"comment_id":135296811,"body_markdown":"bro, run the command in Terminal or your integrated VScode terminal. After that open your Android Studio and do as follow. You know, your VSCode cannot run directly Android emulator or iPhone simulator - it must runs through Android Studio &amp; XCode some parts...","body":"bro, run the command in Terminal or your integrated VScode terminal. After that open your Android Studio and do as follow. You know, your VSCode cannot run directly Android emulator or iPhone simulator - it must runs through Android Studio &amp; XCode some parts..."}],"tags":[],"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689923883,"creation_date":1689923883,"answer_id":76735896,"question_id":76735183,"body_markdown":"First, you should try to run the warning commands in section &quot;Android toolchain&quot;. Seconds, switch to JDK 11 by following the steps in this https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur/67002271#67002271. After done, clear cache &amp; restart Android Studio, then your computer. Hope this help :)\r\n","title":"Java 11 error in flutter project in visual studio code","body":"<p>First, you should try to run the warning commands in section &quot;Android toolchain&quot;. Seconds, switch to JDK 11 by following the steps in this <a href=\"https://stackoverflow.com/questions/66980512/android-studio-error-android-gradle-plugin-requires-java-11-to-run-you-are-cur/67002271#67002271\">Android Studio Error &quot;Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8&quot;</a>. After done, clear cache &amp; restart Android Studio, then your computer. Hope this help :)</p>\n"}],"owner":{"account_id":19998954,"reputation":88,"user_id":14658343,"display_name":"Mahmoud ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690539185,"creation_date":1689914905,"question_id":76735183,"body_markdown":"I am facing this error and after research, I found that I have to install Java 11 or higher after installing it the error still has not gone \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  \r\n\r\nand this is the current version of Java that I have installed \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\nand this is JAVA_HOME variable \r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\nand i have tried to change the java jdk location but it is still being this path cannot be changed after apply and clicking ok it returned to this path and did not changed \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rpDqI.png\r\n  [2]: https://i.stack.imgur.com/mgVNA.png\r\n  [3]: https://i.stack.imgur.com/a7YnN.png\r\n  [4]: https://i.stack.imgur.com/hzpHk.png\r\n  [5]: https://i.stack.imgur.com/AWowM.png","title":"Java 11 error in flutter project in visual studio code","body":"<p>I am facing this error and after research, I found that I have to install Java 11 or higher after installing it the error still has not gone</p>\n<p><a href=\"https://i.stack.imgur.com/rpDqI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rpDqI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mgVNA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgVNA.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the current version of Java that I have installed</p>\n<p><a href=\"https://i.stack.imgur.com/a7YnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a7YnN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hzpHk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzpHk.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is JAVA_HOME variable</p>\n<p><a href=\"https://i.stack.imgur.com/AWowM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AWowM.png\" alt=\"enter image description here\" /></a></p>\n<p>and i have tried to change the java jdk location but it is still being this path cannot be changed after apply and clicking ok it returned to this path and did not changed</p>\n"},{"tags":["java","kubernetes","openshift","open-telemetry","kubernetes-operator"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1690395017,"post_id":76773214,"comment_id":135349079,"body_markdown":"any chance you&#39;re running dynatrace in that environment? your issue reminds me of https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/5885","body":"any chance you&#39;re running dynatrace in that environment? your issue reminds me of <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/5885\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"score":0,"creation_date":1690399220,"post_id":76773214,"comment_id":135349833,"body_markdown":"Yes, we have a dynatrace agent in the environment.\nI guess that&#39;s what&#39;s going on then.\nThank you so much!","body":"Yes, we have a dynatrace agent in the environment. I guess that&#39;s what&#39;s going on then. Thank you so much!"}],"answers":[{"comments":[{"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"score":0,"creation_date":1690811747,"post_id":76786836,"comment_id":135401051,"body_markdown":"Thank you so much for your contribution to the discussion. Some people in my company also said something similar to what you are stating so I guess I&#39;ll keep looking.","body":"Thank you so much for your contribution to the discussion. Some people in my company also said something similar to what you are stating so I guess I&#39;ll keep looking."},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1690868701,"post_id":76786836,"comment_id":135409144,"body_markdown":"@FelipeKT are you missing spans from any instrumentation libraries when using OTel agent and OneAgent?","body":"@FelipeKT are you missing spans from any instrumentation libraries when using OTel agent and OneAgent?"},{"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"score":0,"creation_date":1690997101,"post_id":76786836,"comment_id":135432145,"body_markdown":"Apparently something is disabling OTel instrumentations, making it generate only lettuce related traces.\nI&#39;m not aware of any behavior changes on the OneAgent/Dynatrace side of things, but I was unable to check.\nWill do it asap.","body":"Apparently something is disabling OTel instrumentations, making it generate only lettuce related traces. I&#39;m not aware of any behavior changes on the OneAgent/Dynatrace side of things, but I was unable to check. Will do it asap."},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1691039712,"post_id":76786836,"comment_id":135437375,"body_markdown":"@FelipeKT are you sending traces to somewhere else other than Dynatrace? If yes, could you maybe share the results of your trace with and without the OneAgent?","body":"@FelipeKT are you sending traces to somewhere else other than Dynatrace? If yes, could you maybe share the results of your trace with and without the OneAgent?"},{"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"score":0,"creation_date":1691071111,"post_id":76786836,"comment_id":135444311,"body_markdown":"Technically speaking, our PoC doesn&#39;t involve Dynatrace.\nIt consists of using OTel auto instrumentation to send traces and logs to an OTel collector-contrib with an Elasticsearch exporter configured.\nWe just happen to have OneAgent running in our environment.\nWe&#39;ve tested again setting OneAgent pods to 0, but the result was still the same.","body":"Technically speaking, our PoC doesn&#39;t involve Dynatrace. It consists of using OTel auto instrumentation to send traces and logs to an OTel collector-contrib with an Elasticsearch exporter configured. We just happen to have OneAgent running in our environment. We&#39;ve tested again setting OneAgent pods to 0, but the result was still the same."},{"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"score":0,"creation_date":1691093434,"post_id":76786836,"comment_id":135449016,"body_markdown":"As part of our PoC, we managed to successfully inject auto instrumentation in an application running on Kubernetes in our cloud environment.\nIt&#39;s generating traces as expected and our platform team has confirmed the presence of OneAgent in the cluster just like in our OpenShift environment.\nIf we needed more proof that OneAgent isn&#39;t responsible for what is happening, I guess this is it.","body":"As part of our PoC, we managed to successfully inject auto instrumentation in an application running on Kubernetes in our cloud environment. It&#39;s generating traces as expected and our platform team has confirmed the presence of OneAgent in the cluster just like in our OpenShift environment. If we needed more proof that OneAgent isn&#39;t responsible for what is happening, I guess this is it."},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1691126795,"post_id":76786836,"comment_id":135452297,"body_markdown":"Happy to hear that.\nI&#39;d suggest opening an issue in the otel-java-instrumentation repo. They may have further troubleshoot steps. Also Dynatrace support is there to help if you suspect OA is the culprit.","body":"Happy to hear that. I&#39;d suggest opening an issue in the otel-java-instrumentation repo. They may have further troubleshoot steps. Also Dynatrace support is there to help if you suspect OA is the culprit."}],"tags":[],"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690538987,"creation_date":1690538987,"answer_id":76786836,"question_id":76773214,"body_markdown":"The OneAgent does not disable any opentelemetry-modules. The spans exported by the OpenTelemetry agent will look exactly like the OneAgent isn&#39;t present at all. The OneAgent just won&#39;t integrate spans from certain otel-agent-modules into its own distributed traces structure.\r\n\r\nSo, we don&#39;t suppress the OTel Java agent from creating all the spans it needs to and then sending them to whatever exporters are configured. That will work and we don&#39;t touch the spans generated/created. \r\n\r\nWhich means that in e.g. Jaeger, you will see all the spans as if the OneAgent was not present.\r\n\r\nHowever, if you have the Dynatrace OTel code module integration enabled, the spans that the OA ingests via the code module (NOT by the OTel exporter) will be missing certain instrumentation libraries that we know the OA is already instrumenting well - such as HTTP).\r\n\r\nSo, we do suppress some spans, but this will only be visible inside Dynatrace, when we use the code module ingestion. Whatever exporter you have configured on the OTel Java agent is unaffected by this.\r\n\r\nThis is basically to avoid double tracing and a lot of duplicated spans in your Distributed Trace view.","title":"Most OpenTelemetry instrumentations are disabled in my Spring application","body":"<p>The OneAgent does not disable any opentelemetry-modules. The spans exported by the OpenTelemetry agent will look exactly like the OneAgent isn't present at all. The OneAgent just won't integrate spans from certain otel-agent-modules into its own distributed traces structure.</p>\n<p>So, we don't suppress the OTel Java agent from creating all the spans it needs to and then sending them to whatever exporters are configured. That will work and we don't touch the spans generated/created.</p>\n<p>Which means that in e.g. Jaeger, you will see all the spans as if the OneAgent was not present.</p>\n<p>However, if you have the Dynatrace OTel code module integration enabled, the spans that the OA ingests via the code module (NOT by the OTel exporter) will be missing certain instrumentation libraries that we know the OA is already instrumenting well - such as HTTP).</p>\n<p>So, we do suppress some spans, but this will only be visible inside Dynatrace, when we use the code module ingestion. Whatever exporter you have configured on the OTel Java agent is unaffected by this.</p>\n<p>This is basically to avoid double tracing and a lot of duplicated spans in your Distributed Trace view.</p>\n"}],"owner":{"account_id":29096331,"reputation":9,"user_id":22289153,"display_name":"FelipeKT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690538987,"creation_date":1690387954,"question_id":76773214,"body_markdown":"I have injected an OpenTelemetry JAVA agent in a Spring application in OpenShift via kubernetes operator, but most instrumentations are disabled and not generating traces.\r\n\r\nOpenTelemetry Agent image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:1.28.0\r\n\r\nJAVA version: openjdk 11.0.15\r\n\r\nKubernetes version: v1.25.10+3fe2906\r\n\r\nAfter setting OTEL_JAVAAGENT_DEBUG to true, I see most instrumentations are disabled:\r\n```\r\n...\r\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation executors [class io.opentelemetry.javaagent.instrumentation.executors.ExecutorsInstrumentationModule]\r\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Instrumentation executors is disabled\r\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation internal-application-logging [class io.opentelemetry.javaagent.instrumentation.internal.logging.ApplicationLoggingInstrumentationModule]\r\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Instrumentation internal-application-logging is disabled\r\n...\r\n```\r\n\r\nLettuce instrumentation works as intended, generating traces which show up in our OpenTelemetry collector:\r\n```\r\n...\r\n[otel.javaagent 2023-07-26 11:36:50:838 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v4_0.LettuceInstrumentationModule]\r\n[otel.javaagent 2023-07-26 11:36:50:842 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_0.LettuceInstrumentationModule]\r\n[otel.javaagent 2023-07-26 11:36:50:908 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.LettuceInstrumentationModule]\r\n...\r\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Applying instrumentation: lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.LettuceInstrumentationModule] on org.springframework.boot.loader.LaunchedURLClassLoader@64db4967\r\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader org.springframework.boot.loader.LaunchedURLClassLoader@64db4967 -&gt; [io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.TracingHolder, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceTelemetry, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceTelemetryBuilder, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$1, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceNetAttributesGetter, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryEndpoint, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTraceContextProvider, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTracerProvider, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTracer, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTraceContext, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetrySpan, io.lettuce.core.protocol.OtelCommandArgsUtil, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.common.LettuceArgSplitter]\r\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader &lt;bootstrap&gt; -&gt; [io.opentelemetry.javaagent.bootstrap.field.VirtualFieldAccessor$io$lettuce$core$protocol$AsyncCommand$io$opentelemetry$javaagent$shaded$io$opentelemetry$context$Context]\r\n[otel.javaagent 2023-07-26 11:37:07:129 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader &lt;bootstrap&gt; -&gt; [io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$io$lettuce$core$protocol$AsyncCommand$io$opentelemetry$javaagent$shaded$io$opentelemetry$context$Context]\r\n[otel.javaagent 2023-07-26 11:37:07:132 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.AgentInstaller$TransformLoggingListener - Transformed io.lettuce.core.resource.DefaultClientResources -- org.springframework.boot.loader.LaunchedURLClassLoader@64db4967\r\n...\r\n```\r\n\r\nI have tried setting both default and individual instrumentation flags to &#39;true&#39;:\r\n```\r\nOTEL_INSTRUMENTATION_COMMON_DEFAULT_ENABLED=true\r\nOTEL_INSTRUMENTATION_TOMCAT_ENABLED=true\r\n```\r\nBut nothing changed. Most instrumentations were still disabled with only a couple working properly.\r\n\r\nJust to be sure, I tried disabling lettuce instrumentation:\r\n```\r\nOTEL_INSTRUMENTATION_LETTUCE_ENABLED=false\r\n```\r\nAnd it worked. It showed as disabled and stopped generating traces, so I don&#39;t think it has to do with enabling/disabling instrumentations.\r\nMoreover, we have working java instrumentation agents on both Azure and AWS kubernetes, which leads me to believe it has something to do with our OpenShift cluster.\r\n\r\nHas anyone experienced this issue before?","title":"Most OpenTelemetry instrumentations are disabled in my Spring application","body":"<p>I have injected an OpenTelemetry JAVA agent in a Spring application in OpenShift via kubernetes operator, but most instrumentations are disabled and not generating traces.</p>\n<p>OpenTelemetry Agent image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:1.28.0</p>\n<p>JAVA version: openjdk 11.0.15</p>\n<p>Kubernetes version: v1.25.10+3fe2906</p>\n<p>After setting OTEL_JAVAAGENT_DEBUG to true, I see most instrumentations are disabled:</p>\n<pre><code>...\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation executors [class io.opentelemetry.javaagent.instrumentation.executors.ExecutorsInstrumentationModule]\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Instrumentation executors is disabled\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation internal-application-logging [class io.opentelemetry.javaagent.instrumentation.internal.logging.ApplicationLoggingInstrumentationModule]\n[otel.javaagent 2023-07-26 11:36:50:133 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Instrumentation internal-application-logging is disabled\n...\n</code></pre>\n<p>Lettuce instrumentation works as intended, generating traces which show up in our OpenTelemetry collector:</p>\n<pre><code>...\n[otel.javaagent 2023-07-26 11:36:50:838 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v4_0.LettuceInstrumentationModule]\n[otel.javaagent 2023-07-26 11:36:50:842 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_0.LettuceInstrumentationModule]\n[otel.javaagent 2023-07-26 11:36:50:908 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.instrumentation.InstrumentationLoader - Loading instrumentation lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.LettuceInstrumentationModule]\n...\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule - Applying instrumentation: lettuce [class io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.LettuceInstrumentationModule] on org.springframework.boot.loader.LaunchedURLClassLoader@64db4967\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader org.springframework.boot.loader.LaunchedURLClassLoader@64db4967 -&gt; [io.opentelemetry.javaagent.instrumentation.lettuce.v5_1.TracingHolder, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceTelemetry, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceTelemetryBuilder, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$1, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.LettuceNetAttributesGetter, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryEndpoint, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTraceContextProvider, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTracerProvider, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTracer, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetryTraceContext, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.v5_1.OpenTelemetryTracing$OpenTelemetrySpan, io.lettuce.core.protocol.OtelCommandArgsUtil, io.opentelemetry.javaagent.shaded.instrumentation.lettuce.common.LettuceArgSplitter]\n[otel.javaagent 2023-07-26 11:37:07:128 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader &lt;bootstrap&gt; -&gt; [io.opentelemetry.javaagent.bootstrap.field.VirtualFieldAccessor$io$lettuce$core$protocol$AsyncCommand$io$opentelemetry$javaagent$shaded$io$opentelemetry$context$Context]\n[otel.javaagent 2023-07-26 11:37:07:129 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.HelperInjector - Injecting classes onto class loader &lt;bootstrap&gt; -&gt; [io.opentelemetry.javaagent.bootstrap.field.VirtualFieldImpl$io$lettuce$core$protocol$AsyncCommand$io$opentelemetry$javaagent$shaded$io$opentelemetry$context$Context]\n[otel.javaagent 2023-07-26 11:37:07:132 -0300] [main] DEBUG io.opentelemetry.javaagent.tooling.AgentInstaller$TransformLoggingListener - Transformed io.lettuce.core.resource.DefaultClientResources -- org.springframework.boot.loader.LaunchedURLClassLoader@64db4967\n...\n</code></pre>\n<p>I have tried setting both default and individual instrumentation flags to 'true':</p>\n<pre><code>OTEL_INSTRUMENTATION_COMMON_DEFAULT_ENABLED=true\nOTEL_INSTRUMENTATION_TOMCAT_ENABLED=true\n</code></pre>\n<p>But nothing changed. Most instrumentations were still disabled with only a couple working properly.</p>\n<p>Just to be sure, I tried disabling lettuce instrumentation:</p>\n<pre><code>OTEL_INSTRUMENTATION_LETTUCE_ENABLED=false\n</code></pre>\n<p>And it worked. It showed as disabled and stopped generating traces, so I don't think it has to do with enabling/disabling instrumentations.\nMoreover, we have working java instrumentation agents on both Azure and AWS kubernetes, which leads me to believe it has something to do with our OpenShift cluster.</p>\n<p>Has anyone experienced this issue before?</p>\n"},{"tags":["java","android","fingerprint"],"answers":[{"comments":[{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1690472935,"post_id":76780331,"comment_id":135361945,"body_markdown":"can&#39;t I log the actual bytes for template  (Minutiae data)  because the size is approximately 400 bytes. but I can only see few bytes like this [B@be703be. @Bhavik Nathani","body":"can&#39;t I log the actual bytes for template  (Minutiae data)  because the size is approximately 400 bytes. but I can only see few bytes like this [B@be703be. @Bhavik Nathani"}],"tags":[],"owner":{"account_id":13938611,"reputation":471,"user_id":10065056,"display_name":"Bhavik Nathani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690465060,"creation_date":1690465060,"answer_id":76780331,"question_id":76780218,"body_markdown":"**Code should be like this.**\r\n\r\nMake sure to replace &quot;path/to/fingerprint/images.jpg&quot; with the actual path to your fingerprint image. The code now includes error handling for file-related operations and logs the template size to the console.\r\n   \r\n \r\n\r\n    public class FingerprintConverter {\r\n            public static void main(String[] args) {\r\n                // Replace &quot;path/to/fingerprint/images.jpg&quot; with the actual image file path\r\n                String imagePath = &quot;path/to/fingerprint/images.jpg&quot;;\r\n                \r\n                Path imagePath = Paths.get(imagePath);\r\n                if (!Files.exists(imagePath) || !Files.isRegularFile(imagePath) || !Files.isReadable(imagePath)) {\r\n                    System.err.println(&quot;Invalid image file: &quot; + imagePath);\r\n                    return;\r\n                }\r\n        \r\n                try {\r\n                    byte[] imageBytes = Files.readAllBytes(imagePath);\r\n        \r\n                    // Step 3: Extract the fingerprint template\r\n                    FingerprintImage fingerprintImage = new FingerprintImage(\r\n                            imageBytes,\r\n                            new FingerprintImageOptions().dpi(500)\r\n                    );\r\n        \r\n                    FingerprintTemplate template = new FingerprintTemplate(fingerprintImage);\r\n        \r\n                    // Logging template information\r\n                    System.out.println(&quot;Template size: &quot; + template.toByteArray().length + &quot; bytes&quot;);\r\n        \r\n                } catch (IOException e) {\r\n                    System.err.println(&quot;Error reading image file: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }","title":"Convert Fingerprint Image to Template with Java","body":"<p><strong>Code should be like this.</strong></p>\n<p>Make sure to replace &quot;path/to/fingerprint/images.jpg&quot; with the actual path to your fingerprint image. The code now includes error handling for file-related operations and logs the template size to the console.</p>\n<pre><code>public class FingerprintConverter {\n        public static void main(String[] args) {\n            // Replace &quot;path/to/fingerprint/images.jpg&quot; with the actual image file path\n            String imagePath = &quot;path/to/fingerprint/images.jpg&quot;;\n            \n            Path imagePath = Paths.get(imagePath);\n            if (!Files.exists(imagePath) || !Files.isRegularFile(imagePath) || !Files.isReadable(imagePath)) {\n                System.err.println(&quot;Invalid image file: &quot; + imagePath);\n                return;\n            }\n    \n            try {\n                byte[] imageBytes = Files.readAllBytes(imagePath);\n    \n                // Step 3: Extract the fingerprint template\n                FingerprintImage fingerprintImage = new FingerprintImage(\n                        imageBytes,\n                        new FingerprintImageOptions().dpi(500)\n                );\n    \n                FingerprintTemplate template = new FingerprintTemplate(fingerprintImage);\n    \n                // Logging template information\n                System.out.println(&quot;Template size: &quot; + template.toByteArray().length + &quot; bytes&quot;);\n    \n            } catch (IOException e) {\n                System.err.println(&quot;Error reading image file: &quot; + e.getMessage());\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76780331,"answer_count":1,"score":1,"last_activity_date":1690538889,"creation_date":1690464250,"question_id":76780218,"body_markdown":" I am trying to convert a fingerprint image with format jpg to a template using the library\r\nSourceAFIS \r\n[https://sourceafis.machinezoo.com/][1] \r\n\r\nBut I am receiving a few bytes that doesn&#39;t look like template (Minutiae data), any suggestions to achieve this goal?\r\n\r\n\r\n       File[] images = directory.listFiles();\r\n                File desiredfile = null;\r\n                for (File file : images) {\r\n                    if (file.getName().equals(&quot;images.jpg&quot;)) {\r\n                        desiredfile = file;\r\n                        break;\r\n                    }\r\n                }\r\n         FingerprintTemplate template = null;\r\n                            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                                template = new FingerprintTemplate(\r\n                                        new FingerprintImage(\r\n                                                Files.readAllBytes(desiredfile.toPath()),\r\n                                                new FingerprintImageOptions()\r\n                                                        .dpi(500)));\r\n                            }\r\n                            fileLogger.log(&quot;template &quot; + template.toByteArray());\r\n\r\n  [1]: https://sourceafis.machinezoo.com/\r\n\r\n\r\n**Conclusion**:\r\nIt seems the minutiae data is hidden and we can not see the actual bytes, the library aims to  use the template object for matching process. ","title":"Convert Fingerprint Image to Template with Java","body":"<p>I am trying to convert a fingerprint image with format jpg to a template using the library\nSourceAFIS\n<a href=\"https://sourceafis.machinezoo.com/\" rel=\"nofollow noreferrer\">https://sourceafis.machinezoo.com/</a></p>\n<p>But I am receiving a few bytes that doesn't look like template (Minutiae data), any suggestions to achieve this goal?</p>\n<pre><code>   File[] images = directory.listFiles();\n            File desiredfile = null;\n            for (File file : images) {\n                if (file.getName().equals(&quot;images.jpg&quot;)) {\n                    desiredfile = file;\n                    break;\n                }\n            }\n     FingerprintTemplate template = null;\n                        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n                            template = new FingerprintTemplate(\n                                    new FingerprintImage(\n                                            Files.readAllBytes(desiredfile.toPath()),\n                                            new FingerprintImageOptions()\n                                                    .dpi(500)));\n                        }\n                        fileLogger.log(&quot;template &quot; + template.toByteArray());\n</code></pre>\n<p><strong>Conclusion</strong>:\nIt seems the minutiae data is hidden and we can not see the actual bytes, the library aims to  use the template object for matching process.</p>\n"},{"tags":["java","database","mongodb","configuration","non-relational-database"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":1,"creation_date":1690541608,"post_id":76786646,"comment_id":135371792,"body_markdown":"What is the response when you call the REST with another tool, e.g. postman?","body":"What is the response when you call the REST with another tool, e.g. postman?"},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690567327,"post_id":76786646,"comment_id":135376877,"body_markdown":"There is no response because I cannot connect to mongodb via MongoDBCompass. MongoDBCompass response with &quot;connection refused&quot;. If I look up if the port is already in use, it shows me that it isn&#39;t. I also can&#39;t connect with java spring to the database because the exception &quot;adress already in use&quot; appears...","body":"There is no response because I cannot connect to mongodb via MongoDBCompass. MongoDBCompass response with &quot;connection refused&quot;. If I look up if the port is already in use, it shows me that it isn&#39;t. I also can&#39;t connect with java spring to the database because the exception &quot;adress already in use&quot; appears..."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690570828,"post_id":76786646,"comment_id":135377415,"body_markdown":"I got a connection at port 28017(previsiously httpinterface) but I cant request over postman. I got the following error message: &quot;It looks like you are trying to access MongoDB over HTTP on the native driver port.&quot;","body":"I got a connection at port 28017(previsiously httpinterface) but I cant request over postman. I got the following error message: &quot;It looks like you are trying to access MongoDB over HTTP on the native driver port.&quot;"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1690571756,"post_id":76786646,"comment_id":135377534,"body_markdown":"You cannot use MongoDB with REST interace, MongoDB has no web interface. `__rest` supports loading specific values in the configuration file or loading the entire configuration file. It does not provide a REST/HTML service for the MongoDB.","body":"You cannot use MongoDB with REST interace, MongoDB has no web interface. <code>__rest</code> supports loading specific values in the configuration file or loading the entire configuration file. It does not provide a REST/HTML service for the MongoDB."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1690571856,"post_id":76786646,"comment_id":135377553,"body_markdown":"Did you include the `--configExpand &quot;rest&quot;` option? And did you have a look at example https://www.mongodb.com/docs/manual/reference/expansion-directives/#output-the-configuration-file-with-resolved-expansion-directive-values - should make it more clear.","body":"Did you include the <code>--configExpand &quot;rest&quot;</code> option? And did you have a look at example <a href=\"https://www.mongodb.com/docs/manual/reference/expansion-directives/#output-the-configuration-file-with-resolved-expansion-directive-values\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/reference/expansion-directives/&hellip;</a> - should make it more clear."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690572263,"post_id":76786646,"comment_id":135377605,"body_markdown":"That means even if I wrote an Rest Controller in Spring for MongoDB I cant do rest request becaues it is not supported in newer versions of mongodb?","body":"That means even if I wrote an Rest Controller in Spring for MongoDB I cant do rest request becaues it is not supported in newer versions of mongodb?"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1690573649,"post_id":76786646,"comment_id":135377782,"body_markdown":"I have the feeling you misunderstand the REST directive. You can configure the MongoDB dynamically (i.e. get values from REST response instead of written in text file). You cannot access the Mongo database via REST.","body":"I have the feeling you misunderstand the REST directive. You can configure the MongoDB dynamically (i.e. get values from REST response instead of written in text file). You cannot access the Mongo database via REST."},{"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"score":0,"creation_date":1690574505,"post_id":76786646,"comment_id":135377910,"body_markdown":"You wrote &quot;You cannot access the Mongo database via REST.&quot; Does that mean that you cannot create a REST API with java spring and mongodb? I just want to write a RestController for MongoDB and access data via postman. Is that possible or not?","body":"You wrote &quot;You cannot access the Mongo database via REST.&quot; Does that mean that you cannot create a REST API with java spring and mongodb? I just want to write a RestController for MongoDB and access data via postman. Is that possible or not?"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1690579751,"post_id":76786646,"comment_id":135378569,"body_markdown":"Of course, you can write an application which provides a REST serrvice and connects to MongoDB. But you cannot access a MongoDB via REST directly.","body":"Of course, you can write an application which provides a REST serrvice and connects to MongoDB. But you cannot access a MongoDB via REST directly."}],"owner":{"account_id":22874210,"reputation":11,"user_id":17016798,"display_name":"Hans"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690538735,"creation_date":1690537488,"question_id":76786646,"body_markdown":"I wanted to configure MongoDB 6.x for rest. Now Ive read that you need to use directives. I tried to configure it with https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives.\r\n\r\nI have the following configuration: \r\n\r\n    # mongod.conf\r\n    \r\n    # for documentation of all options, see:\r\n    #   http://docs.mongodb.org/manual/reference/configuration-options/\r\n    \r\n    #start\r\n    # Where and how to store data.\r\n    storage:\r\n      dbPath: /var/lib/mongodb\r\n    #  engine:\r\n    #  wiredTiger:\r\n    \r\n    # where to write  logging data.\r\n    systemLog:\r\n      destination: file\r\n      logAppend: true\r\n      path: /var/log/mongodb/mongod.log\r\n    \r\n    # network interfaces\r\n    net:\r\n      port: 28017\r\n      bindIp: 127.0.0.1\r\n    \r\n    # how the process runs\r\n    processManagement:\r\n      timeZoneInfo: /usr/share/zoneinfo\r\n    \r\n    #security:\r\n    \r\n    #operationProfiling:\r\n    \r\n    #replication:\r\n    \r\n    #sharding:\r\n    \r\n    ## Enterprise-Only Options:\r\n    \r\n    #auditLog:\r\n    \r\n    #snmp:\r\n    __rest: &quot;http://mongoconf.example.net:28017/test&quot;\r\n    type: &quot;string&quot;\r\n    trim: &quot;whitespace&quot;\r\n    digest: &quot;&lt;string&gt;&quot;\r\n    digest_key: &quot;&lt;string&gt;&quot;`\r\n\r\nNow I get the following error message: digest: &quot;Not a valid, even length hex string&quot;\r\n\r\n\r\nTried the configuration described &quot;Expansion Directives Reference&quot; at https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives\r\n","title":"How to configure MongoDB for REST?","body":"<p>I wanted to configure MongoDB 6.x for rest. Now Ive read that you need to use directives. I tried to configure it with <a href=\"https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives</a>.</p>\n<p>I have the following configuration:</p>\n<pre><code># mongod.conf\n\n# for documentation of all options, see:\n#   http://docs.mongodb.org/manual/reference/configuration-options/\n\n#start\n# Where and how to store data.\nstorage:\n  dbPath: /var/lib/mongodb\n#  engine:\n#  wiredTiger:\n\n# where to write  logging data.\nsystemLog:\n  destination: file\n  logAppend: true\n  path: /var/log/mongodb/mongod.log\n\n# network interfaces\nnet:\n  port: 28017\n  bindIp: 127.0.0.1\n\n# how the process runs\nprocessManagement:\n  timeZoneInfo: /usr/share/zoneinfo\n\n#security:\n\n#operationProfiling:\n\n#replication:\n\n#sharding:\n\n## Enterprise-Only Options:\n\n#auditLog:\n\n#snmp:\n__rest: &quot;http://mongoconf.example.net:28017/test&quot;\ntype: &quot;string&quot;\ntrim: &quot;whitespace&quot;\ndigest: &quot;&lt;string&gt;&quot;\ndigest_key: &quot;&lt;string&gt;&quot;`\n</code></pre>\n<p>Now I get the following error message: digest: &quot;Not a valid, even length hex string&quot;</p>\n<p>Tried the configuration described &quot;Expansion Directives Reference&quot; at <a href=\"https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/manual/reference/expansion-directives/#std-label-expansion-directives</a></p>\n"},{"tags":["java","android","logging","gradle"],"comments":[{"owner":{"account_id":451809,"reputation":756,"user_id":847897,"accept_rate":43,"display_name":"GaneshP"},"score":0,"creation_date":1485541763,"post_id":41900434,"comment_id":70983638,"body_markdown":"you could use tools like Crashanlytics along with some additional progaurd configuration to find which part of the code throws error. https://docs.fabric.io/android/crashlytics/dex-and-proguard.html","body":"you could use tools like Crashanlytics along with some additional progaurd configuration to find which part of the code throws error. <a href=\"https://docs.fabric.io/android/crashlytics/dex-and-proguard.html\" rel=\"nofollow noreferrer\">docs.fabric.io/android/crashlytics/dex-and-proguard.html</a>"},{"owner":{"account_id":9044931,"reputation":177,"user_id":6737655,"accept_rate":80,"display_name":"V1 Kr"},"score":0,"creation_date":1485542148,"post_id":41900434,"comment_id":70983839,"body_markdown":"I had the same issue 6 months back and solved myself. May be it will help you http://stackoverflow.com/a/38702394/5649620","body":"I had the same issue 6 months back and solved myself. May be it will help you <a href=\"http://stackoverflow.com/a/38702394/5649620\">stackoverflow.com/a/38702394/5649620</a>"},{"owner":{"account_id":1174445,"reputation":3883,"user_id":1150795,"display_name":"Piotr Wittchen"},"score":0,"creation_date":1485542282,"post_id":41900434,"comment_id":70983908,"body_markdown":"If the crash of the app happens, then you need to configure ProGuard. Concrete configuration depends on your project and its dependencies. Every project will have a different configuration.","body":"If the crash of the app happens, then you need to configure ProGuard. Concrete configuration depends on your project and its dependencies. Every project will have a different configuration."},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":0,"creation_date":1485543014,"post_id":41900434,"comment_id":70984249,"body_markdown":"Since my knowledge is limited on those subjects and I am short of time, I think I should let go of Minification. But I will wait for some more responses until I am convinced.","body":"Since my knowledge is limited on those subjects and I am short of time, I think I should let go of Minification. But I will wait for some more responses until I am convinced."},{"owner":{"account_id":9044931,"reputation":177,"user_id":6737655,"accept_rate":80,"display_name":"V1 Kr"},"score":0,"creation_date":1485543234,"post_id":41900434,"comment_id":70984353,"body_markdown":"@Funwise removed my answer. Hadn&#39;t read the question clearly. Will update if I find one. Good luck","body":"@Funwise removed my answer. Hadn&#39;t read the question clearly. Will update if I find one. Good luck"},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":0,"creation_date":1485543537,"post_id":41900434,"comment_id":70984518,"body_markdown":"Thanks anyways. I was able to get the error using Android Device monitor. I will edit my question.","body":"Thanks anyways. I was able to get the error using Android Device monitor. I will edit my question."},{"owner":{"account_id":7532689,"reputation":971,"user_id":5720206,"accept_rate":38,"display_name":"Karanveer Singh"},"score":1,"creation_date":1607666630,"post_id":41900434,"comment_id":115349269,"body_markdown":"4 years later and this is still an issue. Got calls from everywhere about app crashing in release mode and apparently, it is minifyenabled issue. Android is really crap OS and poorly managed by Gooogle","body":"4 years later and this is still an issue. Got calls from everywhere about app crashing in release mode and apparently, it is minifyenabled issue. Android is really crap OS and poorly managed by Gooogle"},{"owner":{"account_id":175206,"reputation":1433,"user_id":2424380,"accept_rate":71,"display_name":"user2424380"},"score":0,"creation_date":1627860164,"post_id":41900434,"comment_id":121261981,"body_markdown":"@Darush could you please elaborate how did you find the problem with avd? I have the same issue and there are no logs in release mode so I don&#39;t know what should I keep in proguard. Thank you!","body":"@Darush could you please elaborate how did you find the problem with avd? I have the same issue and there are no logs in release mode so I don&#39;t know what should I keep in proguard. Thank you!"},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":0,"creation_date":1627882531,"post_id":41900434,"comment_id":121264973,"body_markdown":"@user2424380 set debugabble to true on your release build type to see the logs.","body":"@user2424380 set debugabble to true on your release build type to see the logs."},{"owner":{"account_id":175206,"reputation":1433,"user_id":2424380,"accept_rate":71,"display_name":"user2424380"},"score":0,"creation_date":1627885824,"post_id":41900434,"comment_id":121265782,"body_markdown":"@Darush when I set debugabble to true, my app works. I have no idea why. So I need it on false to have the problem.","body":"@Darush when I set debugabble to true, my app works. I have no idea why. So I need it on false to have the problem."},{"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"score":1,"creation_date":1627930443,"post_id":41900434,"comment_id":121282523,"body_markdown":"@user2424380 I was able to catch the error using Android Device Monitor. Unfortunately this tool is deprecated in the latest releases in favor of the Debugger window. However, if you still aren&#39;t able to see the crash logs you can either use a crash reporting tool or test your app thoroughly in release mode while debuggable is true.","body":"@user2424380 I was able to catch the error using Android Device Monitor. Unfortunately this tool is deprecated in the latest releases in favor of the Debugger window. However, if you still aren&#39;t able to see the crash logs you can either use a crash reporting tool or test your app thoroughly in release mode while debuggable is true."}],"answers":[{"comments":[{"owner":{"account_id":210389,"reputation":4552,"user_id":461982,"display_name":"Abandoned Cart"},"score":1,"creation_date":1519086066,"post_id":41901571,"comment_id":84756199,"body_markdown":"I am having a similar issue that altering the -keep class values won&#39;t seem to solve. The app works fine in the emulator, but crashes on my phone. It is a shame how counterintuitive they have made Android Studio in an effort to squeeze out one more millisecond of load speed optimization.","body":"I am having a similar issue that altering the -keep class values won&#39;t seem to solve. The app works fine in the emulator, but crashes on my phone. It is a shame how counterintuitive they have made Android Studio in an effort to squeeze out one more millisecond of load speed optimization."},{"owner":{"account_id":2198810,"reputation":3339,"user_id":1943799,"accept_rate":81,"display_name":"spartygw"},"score":4,"creation_date":1534960642,"post_id":41901571,"comment_id":90895701,"body_markdown":"Unfortunately for me minifyEnabled is causing a crash as well and honestly, if it&#39;s not going to work without me having to poke at it to find and explicitly call out exceptions to not minify then it&#39;s not worth the hassle. Disappointing that it doesn&#39;t just work out of the box.","body":"Unfortunately for me minifyEnabled is causing a crash as well and honestly, if it&#39;s not going to work without me having to poke at it to find and explicitly call out exceptions to not minify then it&#39;s not worth the hassle. Disappointing that it doesn&#39;t just work out of the box."},{"owner":{"account_id":9418710,"reputation":376,"user_id":7005660,"display_name":"Siddharth Thakkar"},"score":0,"creation_date":1600056275,"post_id":41901571,"comment_id":112956854,"body_markdown":"Same issue with me, and I don&#39;t have any SearchView in my app, still it is crashing!! Any suggestions on this!!","body":"Same issue with me, and I don&#39;t have any SearchView in my app, still it is crashing!! Any suggestions on this!!"},{"owner":{"account_id":6948792,"reputation":653,"user_id":5332110,"display_name":"Alejandra"},"score":1,"creation_date":1640007799,"post_id":41901571,"comment_id":124485682,"body_markdown":"You can run adb logcat in a terminal while running your app and then youll be able to see the output","body":"You can run adb logcat in a terminal while running your app and then youll be able to see the output"},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1669722242,"post_id":41901571,"comment_id":131702520,"body_markdown":"The logcat option was the way to go in my case","body":"The logcat option was the way to go in my case"},{"owner":{"account_id":251441,"reputation":428,"user_id":528827,"accept_rate":25,"display_name":"ciaranodc"},"score":0,"creation_date":1696969108,"post_id":41901571,"comment_id":136219771,"body_markdown":"I am getting this issue due to a Room entity class. The primary key value in my RemoteKeyEntity is non-null but somehow only after minifying code it&#39;s null and get NPE? Using `@Keep` annotation or proguard rules does not fix it.","body":"I am getting this issue due to a Room entity class. The primary key value in my RemoteKeyEntity is non-null but somehow only after minifying code it&#39;s null and get NPE? Using <code>@Keep</code> annotation or proguard rules does not fix it."}],"tags":[],"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1627930993,"creation_date":1485545206,"answer_id":41901571,"question_id":41900434,"body_markdown":"Looks like Proguard wasn&#39;t able to handle the SearchView widget properly. I added the following line to ***proguard-rules.pro*** file located inside ***app*** folder and the problem disappeared:\r\n\r\n&gt; -keep class android.support.v7.widget.SearchView { *; }\r\n\r\nNow I don&#39;t need to set minifyEnabled to false.\r\n\r\n\r\n### UPDATE:\r\nFor those who still aren&#39;t able to see the error logs in the android studio or reproduce the crashes on release builds, they can use an online crash reporting tool.","title":"minifyEnabled causing app to crash on release mode","body":"<p>Looks like Proguard wasn't able to handle the SearchView widget properly. I added the following line to <em><strong>proguard-rules.pro</strong></em> file located inside <em><strong>app</strong></em> folder and the problem disappeared:</p>\n<blockquote>\n<p>-keep class android.support.v7.widget.SearchView { *; }</p>\n</blockquote>\n<p>Now I don't need to set minifyEnabled to false.</p>\n<h3>UPDATE:</h3>\n<p>For those who still aren't able to see the error logs in the android studio or reproduce the crashes on release builds, they can use an online crash reporting tool.</p>\n"},{"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669729584,"creation_date":1669729584,"answer_id":74615092,"question_id":41900434,"body_markdown":"I had the same app crash problem. In my case, I was reading a JSON file from **assets** and converting it to a Kotlin **data class**, using the Gson library. These were the classes:\r\n``` kotlin\r\ndata class JournalData(\r\n    val name: String,\r\n    val url: String,\r\n    val category: Categories\r\n)\r\n\r\nenum class Categories { POLITICS, SPORTS, TECHNOLOGY }\r\n```\r\nI came across two problems when using `minifyEnabled=true`:\r\n 1. Data class **properties** were being obfuscated with **random names**. For instance, the property `name` was being obfuscated to `XYZ`, or any other random name.\r\n 2. The *Categories* **enum class constants** were being obfuscated as well, so the parser couldn&#39;t associate the JSON text to those enum constants.\r\n\r\n## Solution\r\n - I added the `@Keep` annotation to both the data class and the enum class, like so:\r\n``` kotlin\r\n@Keep\r\ndata class JournalData(\r\n    val name: String,\r\n    val url: String,\r\n    val category: Categories\r\n)\r\n\r\n@Keep\r\nenum class Categories { POLITICS, SPORTS, TECHNOLOGY }\r\n```\r\nBy doing this, you&#39;re specifying that those classes and respective properties/constants can&#39;t be modified by *ProGuard* when minification is enabled.\r\n\r\nAlso, checking the logcat will help you find the exact error.\r\n\r\n## See also: \r\n - [Customize which code to keep][1]\r\n\r\n  [1]: https://developer.android.com/studio/build/shrink-code#keep-code","title":"minifyEnabled causing app to crash on release mode","body":"<p>I had the same app crash problem. In my case, I was reading a JSON file from <strong>assets</strong> and converting it to a Kotlin <strong>data class</strong>, using the Gson library. These were the classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class JournalData(\n    val name: String,\n    val url: String,\n    val category: Categories\n)\n\nenum class Categories { POLITICS, SPORTS, TECHNOLOGY }\n</code></pre>\n<p>I came across two problems when using <code>minifyEnabled=true</code>:</p>\n<ol>\n<li>Data class <strong>properties</strong> were being obfuscated with <strong>random names</strong>. For instance, the property <code>name</code> was being obfuscated to <code>XYZ</code>, or any other random name.</li>\n<li>The <em>Categories</em> <strong>enum class constants</strong> were being obfuscated as well, so the parser couldn't associate the JSON text to those enum constants.</li>\n</ol>\n<h2>Solution</h2>\n<ul>\n<li>I added the <code>@Keep</code> annotation to both the data class and the enum class, like so:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Keep\ndata class JournalData(\n    val name: String,\n    val url: String,\n    val category: Categories\n)\n\n@Keep\nenum class Categories { POLITICS, SPORTS, TECHNOLOGY }\n</code></pre>\n<p>By doing this, you're specifying that those classes and respective properties/constants can't be modified by <em>ProGuard</em> when minification is enabled.</p>\n<p>Also, checking the logcat will help you find the exact error.</p>\n<h2>See also:</h2>\n<ul>\n<li><a href=\"https://developer.android.com/studio/build/shrink-code#keep-code\" rel=\"nofollow noreferrer\">Customize which code to keep</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13458928,"reputation":382,"user_id":9711680,"display_name":"Cube"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690538326,"creation_date":1690538326,"answer_id":76786762,"question_id":41900434,"body_markdown":"Check the proguard rules for libs you are using in your project, maybe you need to add some specific rule\r\n \r\nIn my case, it was because of obfuscation protobuf, next rule fix the issue\r\n\r\n    -keep public class * extends com.google.protobuf.GeneratedMessageLite { *; }\r\n","title":"minifyEnabled causing app to crash on release mode","body":"<p>Check the proguard rules for libs you are using in your project, maybe you need to add some specific rule</p>\n<p>In my case, it was because of obfuscation protobuf, next rule fix the issue</p>\n<pre><code>-keep public class * extends com.google.protobuf.GeneratedMessageLite { *; }\n</code></pre>\n"}],"owner":{"account_id":6018866,"reputation":11533,"user_id":4726718,"accept_rate":75,"display_name":"Darush"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19073,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":41901571,"answer_count":3,"score":26,"last_activity_date":1690538326,"creation_date":1485540773,"question_id":41900434,"body_markdown":"My application was working fine on Debug mode. Unfortunately after uploading to Google Play Store I found that the app is crashing. I searched several similar questions all of which suggested to disable **Proguard** or check the Log outputs. However I have come across the following cases when using the **release** Build Variant:\r\n\r\n**1-** In normal case when `minifyEnabled` is `true` the app crashes and I am not able to see any Log outputs. There are **No Debuggable Processes**.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.config\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**2-** Making `debuggable true` my app works fine. But again I am not able to see any error Logs because the app is working fine.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    release {\r\n                debuggable true\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.config\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**3-** Commenting `minifyEnabled true` the app works. But I lose minification benefits. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    release {\r\n                shrinkResources true\r\n                //minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.config\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAlso tried hardcoding `android:debuggable=&quot;true&quot;` in AndroidManifest.XML which gives error.\r\n\r\nThe strange thing is that by setting debuggable to true the app works fine. I am not sure whether I should keep `debuggable true` in the release mode or disable minification, Or any other workaround to tackle this issue.\r\n\r\nI will be very grateful if anyone could share how to solve this problem.\r\n\r\n**UPDATE:** by running **Android Device Monitor** I was able to find the problem:\r\n\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): FATAL EXCEPTION: main\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): Process: com.example.myapp, PID: 4806\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.support.v7.widget.SearchView.setSearchableInfo(android.app.SearchableInfo)&#39; on a null object reference\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat com.example.myapp.MainActivity.onCreateOptionsMenu(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.app.Activity.onCreatePanelMenu(Activity.java:3142)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v4.b.n.onCreatePanelMenu(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v7.view.i.onCreatePanelMenu(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v7.app.h$b.onCreatePanelMenu(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v7.view.i.onCreatePanelMenu(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v7.app.q.j(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.support.v7.app.q$1.run(Unknown Source)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.os.Handler.handleCallback(Handler.java:739)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.os.Handler.dispatchMessage(Handler.java:95)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.os.Looper.loop(Looper.java:148)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat android.app.ActivityThread.main(ActivityThread.java:7329)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat java.lang.reflect.Method.invoke(Native Method)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n    01-28 00:28:13.764: E/AndroidRuntime(4806): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n\r\n","title":"minifyEnabled causing app to crash on release mode","body":"<p>My application was working fine on Debug mode. Unfortunately after uploading to Google Play Store I found that the app is crashing. I searched several similar questions all of which suggested to disable <strong>Proguard</strong> or check the Log outputs. However I have come across the following cases when using the <strong>release</strong> Build Variant:</p>\n\n<p><strong>1-</strong> In normal case when <code>minifyEnabled</code> is <code>true</code> the app crashes and I am not able to see any Log outputs. There are <strong>No Debuggable Processes</strong>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n</code></pre>\n\n\n\n<p><strong>2-</strong> Making <code>debuggable true</code> my app works fine. But again I am not able to see any error Logs because the app is working fine.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>release {\n            debuggable true\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n</code></pre>\n\n\n\n<p><strong>3-</strong> Commenting <code>minifyEnabled true</code> the app works. But I lose minification benefits. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>release {\n            shrinkResources true\n            //minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n</code></pre>\n\n\n\n<p>Also tried hardcoding <code>android:debuggable=\"true\"</code> in AndroidManifest.XML which gives error.</p>\n\n<p>The strange thing is that by setting debuggable to true the app works fine. I am not sure whether I should keep <code>debuggable true</code> in the release mode or disable minification, Or any other workaround to tackle this issue.</p>\n\n<p>I will be very grateful if anyone could share how to solve this problem.</p>\n\n<p><strong>UPDATE:</strong> by running <strong>Android Device Monitor</strong> I was able to find the problem:</p>\n\n<pre><code>01-28 00:28:13.764: E/AndroidRuntime(4806): FATAL EXCEPTION: main\n01-28 00:28:13.764: E/AndroidRuntime(4806): Process: com.example.myapp, PID: 4806\n01-28 00:28:13.764: E/AndroidRuntime(4806): java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v7.widget.SearchView.setSearchableInfo(android.app.SearchableInfo)' on a null object reference\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at com.example.myapp.MainActivity.onCreateOptionsMenu(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.app.Activity.onCreatePanelMenu(Activity.java:3142)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v4.b.n.onCreatePanelMenu(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v7.view.i.onCreatePanelMenu(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v7.app.h$b.onCreatePanelMenu(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v7.view.i.onCreatePanelMenu(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v7.app.q.j(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.support.v7.app.q$1.run(Unknown Source)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.os.Handler.handleCallback(Handler.java:739)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.os.Handler.dispatchMessage(Handler.java:95)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.os.Looper.loop(Looper.java:148)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at android.app.ActivityThread.main(ActivityThread.java:7329)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at java.lang.reflect.Method.invoke(Native Method)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n01-28 00:28:13.764: E/AndroidRuntime(4806):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":2105220,"reputation":15,"user_id":1871707,"accept_rate":0,"display_name":"JavaJo"},"score":0,"creation_date":1690532702,"post_id":76582415,"comment_id":135369983,"body_markdown":"Is there a way to pass Job Parameters other than passing them through CommandLineRunner and Job Launcher. This batch job will be executed when ECS will execute the container having this jar.","body":"Is there a way to pass Job Parameters other than passing them through CommandLineRunner and Job Launcher. This batch job will be executed when ECS will execute the container having this jar."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690538307,"creation_date":1688051769,"answer_id":76582415,"question_id":76582195,"body_markdown":"The messages says:\r\n\r\n&gt; A job instance already exists and is complete\r\n\r\nIt is not an error. It means only that your job has been already executed and was successful. This is the default behavior of a Spring Batch job and should prevent running jobs more then once without changing any parameters.\r\n\r\nIf your use case is different and you want be able to start the same job again then you can change this default setting by adding this line to your step builder:\r\n```\r\n.allowStartIfComplete(true)\r\n```\r\nTo start the Spring Batch job programmatically with specific parameters you can follow this steps:\r\n\r\n1. disable automatic start\r\n```\r\nspring.batch.job.enabled=false\r\n```\r\n2. implement ApplicationRunner and add your job parameters\r\n```\r\n@SpringBootApplication\r\npublic class BatchApplication implements ApplicationRunner {\r\n    @Autowired\r\n    JobLauncher jobLauncher;\r\n    @Autowired\r\n    Job job;\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        log.info(&quot;Spring Batch starting.&quot;);\r\n        JobParameters params = new JobParametersBuilder()\r\n                .addString(&quot;jobName&quot;, &quot;MyJobName&quot;)\r\n                .addLocalDateTime(&quot;currentTime&quot;, LocalDateTime.now())\r\n                .toJobParameters();\r\n        jobLauncher.run(job, params);\r\n        log.info(&quot;Spring Batch done.&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BatchApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\nThis way you Spring Application will run the batch with specified parameters and exit. (Assuming it has no dependencies to Spring Web or MVC or scheduled jobs in which cases it will continue running).","title":"How can I pass Batch Job parameters to my batch job without using CommandLineRuner?","body":"<p>The messages says:</p>\n<blockquote>\n<p>A job instance already exists and is complete</p>\n</blockquote>\n<p>It is not an error. It means only that your job has been already executed and was successful. This is the default behavior of a Spring Batch job and should prevent running jobs more then once without changing any parameters.</p>\n<p>If your use case is different and you want be able to start the same job again then you can change this default setting by adding this line to your step builder:</p>\n<pre><code>.allowStartIfComplete(true)\n</code></pre>\n<p>To start the Spring Batch job programmatically with specific parameters you can follow this steps:</p>\n<ol>\n<li>disable automatic start</li>\n</ol>\n<pre><code>spring.batch.job.enabled=false\n</code></pre>\n<ol start=\"2\">\n<li>implement ApplicationRunner and add your job parameters</li>\n</ol>\n<pre><code>@SpringBootApplication\npublic class BatchApplication implements ApplicationRunner {\n    @Autowired\n    JobLauncher jobLauncher;\n    @Autowired\n    Job job;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        log.info(&quot;Spring Batch starting.&quot;);\n        JobParameters params = new JobParametersBuilder()\n                .addString(&quot;jobName&quot;, &quot;MyJobName&quot;)\n                .addLocalDateTime(&quot;currentTime&quot;, LocalDateTime.now())\n                .toJobParameters();\n        jobLauncher.run(job, params);\n        log.info(&quot;Spring Batch done.&quot;);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(BatchApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>This way you Spring Application will run the batch with specified parameters and exit. (Assuming it has no dependencies to Spring Web or MVC or scheduled jobs in which cases it will continue running).</p>\n"},{"comments":[{"owner":{"account_id":2105220,"reputation":15,"user_id":1871707,"accept_rate":0,"display_name":"JavaJo"},"score":0,"creation_date":1690532340,"post_id":76610243,"comment_id":135369901,"body_markdown":"I want to include CurrentTime and the job name to Job parameter list. Can I do that inside beforeJob method of JobExecutionListener?\nThis batch job will be executed when ECS will execute the container having this jar.","body":"I want to include CurrentTime and the job name to Job parameter list. Can I do that inside beforeJob method of JobExecutionListener? This batch job will be executed when ECS will execute the container having this jar."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1690909396,"post_id":76610243,"comment_id":135417571,"body_markdown":"Passing parameters in `JobExecutionListener#beforeJob` is too late. don&#39;t you know the job name beforehand? So you pass it in the command line as argument: `java -jar- myjob.jar jobName=foo`? And why should you pass the job name as a parameter? Are you having multiple jobs in the same jar? If yes, I really recommend not doing that. For the current time, what about something like a variant of `java -jar- myjob.jar time=$(date)`?","body":"Passing parameters in <code>JobExecutionListener#beforeJob</code> is too late. don&#39;t you know the job name beforehand? So you pass it in the command line as argument: <code>java -jar- myjob.jar jobName=foo</code>? And why should you pass the job name as a parameter? Are you having multiple jobs in the same jar? If yes, I really recommend not doing that. For the current time, what about something like a variant of <code>java -jar- myjob.jar time=$(date)</code>?"}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688455600,"creation_date":1688455600,"answer_id":76610243,"question_id":76582195,"body_markdown":"&gt; I am not sure if I can pass the Job parameters without using CommandLineRunner or not. If I can, can someone point me to the right direction?\r\n\r\nYou can pass job parameters to your spring boot app on the command line as key/value pairs:\r\n\r\n```\r\njava -jar- myjob.jar name=foo\r\n```","title":"How can I pass Batch Job parameters to my batch job without using CommandLineRuner?","body":"<blockquote>\n<p>I am not sure if I can pass the Job parameters without using CommandLineRunner or not. If I can, can someone point me to the right direction?</p>\n</blockquote>\n<p>You can pass job parameters to your spring boot app on the command line as key/value pairs:</p>\n<pre><code>java -jar- myjob.jar name=foo\n</code></pre>\n"}],"owner":{"account_id":2105220,"reputation":15,"user_id":1871707,"accept_rate":0,"display_name":"JavaJo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690538307,"creation_date":1688050097,"question_id":76582195,"body_markdown":"I have a spring batch job which should run at the start up of spring boot app and spring boot app must shut down as soon as the batch job finishes.\r\n\r\nI have covered the above scenario by using ```spring.batch.job.enabled = true``` property in application.yml file.\r\n\r\nIt ran fine in the starting but since few last runs I am getting below error:\r\n\r\n&gt;org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException: A job instance already exists and is complete for parameters={}. If you want to run this job again, change the parameters.\r\n\r\nNow, I don&#39;t want to use CommandLineRunner which would have let me pass the JobParameters while running the job using JobLauncher. This batch job will run with in a container and should get triggered as soon as the container runs.\r\n\r\nMy batch job should run as soon as the spring boot apps runs and the app must shut down once the batch job finishes.\r\n\r\nI am not sure if I can pass the Job parameters without using CommandLineRunner or not. If I can, can someone point me to the right direction?\r\n\r\nMy BatchConfiguration looks like this:\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\n@Component\r\npublic class BatchConfiguration{\r\n\r\n\t@Autowired\r\n\tpublic JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Autowired\r\n\tpublic StepBuilderFactory stepBuilderFactory;\r\n\r\n\t@Autowired\r\n\tJobRepository jobRepository;\r\n\r\n\r\n\t@Bean\r\n\tpublic JobLauncher asyncJobLauncher() throws Exception {\r\n\t\tSimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n\t\tjobLauncher.setJobRepository(jobRepository);\r\n\t\tjobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n\t\tjobLauncher.afterPropertiesSet();\r\n\t\treturn jobLauncher;\r\n\t}\r\n\r\n\r\n\t@Bean\r\n\tpublic Job loadDataFromIodsIcOutbound(DataListener listener, Step inboundStep) {\r\n\t\treturn jobBuilderFactory.get(&quot;jobName&quot;)\r\n\t\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t\t.listener(listener)\r\n\t\t\t\t.flow(inboundStep)\r\n\t\t\t\t.end()\r\n\t\t\t\t.build();\r\n\t}","title":"How can I pass Batch Job parameters to my batch job without using CommandLineRuner?","body":"<p>I have a spring batch job which should run at the start up of spring boot app and spring boot app must shut down as soon as the batch job finishes.</p>\n<p>I have covered the above scenario by using <code>spring.batch.job.enabled = true</code> property in application.yml file.</p>\n<p>It ran fine in the starting but since few last runs I am getting below error:</p>\n<blockquote>\n<p>org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException: A job instance already exists and is complete for parameters={}. If you want to run this job again, change the parameters.</p>\n</blockquote>\n<p>Now, I don't want to use CommandLineRunner which would have let me pass the JobParameters while running the job using JobLauncher. This batch job will run with in a container and should get triggered as soon as the container runs.</p>\n<p>My batch job should run as soon as the spring boot apps runs and the app must shut down once the batch job finishes.</p>\n<p>I am not sure if I can pass the Job parameters without using CommandLineRunner or not. If I can, can someone point me to the right direction?</p>\n<p>My BatchConfiguration looks like this:</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@Component\npublic class BatchConfiguration{\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    JobRepository jobRepository;\n\n\n    @Bean\n    public JobLauncher asyncJobLauncher() throws Exception {\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n        jobLauncher.setJobRepository(jobRepository);\n        jobLauncher.setTaskExecutor(new SimpleAsyncTaskExecutor());\n        jobLauncher.afterPropertiesSet();\n        return jobLauncher;\n    }\n\n\n    @Bean\n    public Job loadDataFromIodsIcOutbound(DataListener listener, Step inboundStep) {\n        return jobBuilderFactory.get(&quot;jobName&quot;)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener)\n                .flow(inboundStep)\n                .end()\n                .build();\n    }\n</code></pre>\n"},{"tags":["java","android","google-maps","infowindow"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690560413,"post_id":76786713,"comment_id":135375695,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":20229915,"reputation":1,"user_id":14836728,"display_name":"shahrooz nld"},"score":0,"creation_date":1690538596,"post_id":76786736,"comment_id":135371247,"body_markdown":"yes, i know , but i am searching for a alternative solutions","body":"yes, i know , but i am searching for a alternative solutions"},{"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"score":0,"creation_date":1690544953,"post_id":76786736,"comment_id":135372366,"body_markdown":"could you help me over here -&gt;https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview","body":"could you help me over here -&gt;<a href=\"https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview\" title=\"facing issue while validating amongst the edittexts in recyclerview\">stackoverflow.com/questions/76786965/&hellip;</a>"}],"tags":[],"owner":{"account_id":20148221,"reputation":5,"user_id":14776206,"display_name":"Jakob Zeise"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690538132,"creation_date":1690538132,"answer_id":76786736,"question_id":76786713,"body_markdown":"Info windows in Google Maps are not live views, which means they are rendered as images, not placed in the view hierarchy. Because of this, you cannot directly set an OnClickListener for the buttons inside an info window.","title":"Is it possible to add two buttons to an infowindow on Android, each with its own click listener?","body":"<p>Info windows in Google Maps are not live views, which means they are rendered as images, not placed in the view hierarchy. Because of this, you cannot directly set an OnClickListener for the buttons inside an info window.</p>\n"}],"owner":{"account_id":20229915,"reputation":1,"user_id":14836728,"display_name":"shahrooz nld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690538132,"creation_date":1690537974,"question_id":76786713,"body_markdown":" i have use a google map. i have added a marker with info windows. if add add two button in the infowindows it is not possible to add clicklistener per buttons. i know that &quot;The info window that is drawn is not a live view.&quot; but i am searching for a solution\r\n\r\ni have add two buttons with event cliklistener but it dosent work","title":"Is it possible to add two buttons to an infowindow on Android, each with its own click listener?","body":"<p>i have use a google map. i have added a marker with info windows. if add add two button in the infowindows it is not possible to add clicklistener per buttons. i know that &quot;The info window that is drawn is not a live view.&quot; but i am searching for a solution</p>\n<p>i have add two buttons with event cliklistener but it dosent work</p>\n"},{"tags":["java","web-services","jwt","singleton"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1690530221,"post_id":76040837,"comment_id":135369492,"body_markdown":"This question raises sooo many counter questions. First of all, why did you select the singelton pattern here? At a glance it looks like a terrible bottleneck for a Web application.","body":"This question raises sooo many counter questions. First of all, why did you select the singelton pattern here? At a glance it looks like a terrible bottleneck for a Web application."}],"answers":[{"comments":[{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1690557168,"post_id":76785806,"comment_id":135375062,"body_markdown":"Thank you! The work has been completed already. Where there is change, will check this new approach.","body":"Thank you! The work has been completed already. Where there is change, will check this new approach."}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690537984,"creation_date":1690530722,"answer_id":76785806,"question_id":76040837,"body_markdown":"Like commented, using a synchronised singelton with a state (some data that is request specific) in a Web server is highly questionable, it will create an unnecessary bottleneck. Why not instantiate a regular object? Or a stateless singleton where the jwt is provided in each invocation like an old java bean?\r\n\r\nA more modern way to manage singleton instances is to use the ENUM constitution in java. A code example from [this more detailed walkthrough][1] of this technique looks like this:\r\n\r\n```\r\n// Java program to demonstrate the example \r\n// of using Enum as Singleton\r\n  \r\nenum SingletonEnum {\r\n    INSTANCE;\r\n    int value;\r\n  \r\n    public int getValue() {\r\n        return value;\r\n    }\r\n  \r\n    public void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass Main {\r\n  \r\n    public static void main(String[] args) {\r\n        SingletonEnum singleton = SingletonEnum.INSTANCE;\r\n  \r\n        System.out.println(singleton.getValue());\r\n        singleton.setValue(2);\r\n        System.out.println(singleton.getValue());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/advantages-and-disadvantages-of-using-enum-as-singleton-in-java/amp/","title":"Singleton in Java to obtain JWT Token - which method is better","body":"<p>Like commented, using a synchronised singelton with a state (some data that is request specific) in a Web server is highly questionable, it will create an unnecessary bottleneck. Why not instantiate a regular object? Or a stateless singleton where the jwt is provided in each invocation like an old java bean?</p>\n<p>A more modern way to manage singleton instances is to use the ENUM constitution in java. A code example from <a href=\"https://www.geeksforgeeks.org/advantages-and-disadvantages-of-using-enum-as-singleton-in-java/amp/\" rel=\"nofollow noreferrer\">this more detailed walkthrough</a> of this technique looks like this:</p>\n<pre><code>// Java program to demonstrate the example \n// of using Enum as Singleton\n  \nenum SingletonEnum {\n    INSTANCE;\n    int value;\n  \n    public int getValue() {\n        return value;\n    }\n  \n    public void setValue(int value) {\n        this.value = value;\n    }\n}\n\nclass Main {\n  \n    public static void main(String[] args) {\n        SingletonEnum singleton = SingletonEnum.INSTANCE;\n  \n        System.out.println(singleton.getValue());\n        singleton.setValue(2);\n        System.out.println(singleton.getValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690537984,"creation_date":1681787821,"question_id":76040837,"body_markdown":"A java class was developed to obtain JWT Token using the Singleton pattern.\r\n\r\nFollowing is the overall class template:\r\n\r\n```\r\nimport java.text.MessageFormat;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\npublic class JWTSingleton {\r\n\tprivate static JWTSingleton _instance=null;\r\n\tprivate static String baseURLString=null;\r\n\tprivate static String authPartURLString = null;\r\n\t...\r\n\t//Decalre the other static variables which are the input needed to call the authentication web service\r\n\t...\r\n\tprivate JWTResponse _jwt;\r\n\tprivate StringBuilder sbErrMsg = new StringBuilder();\r\n\tprivate boolean isTimeoutException=false;\r\n\tprivate Instant dateTime=null;\r\n\r\n\tpublic static synchronized void injectDependencies(\r\n\t\t\tboolean doGetFresToken,\r\n\t\t\tString baseURLString, String authPartURLString, ...other parameters...) {\r\n\t\tif (doGetFresToken) {\r\n\t\t\t//Clear the saved parameters needed by the web service\r\n\t\t\tJWTSingleton.the_last_param_initilized = null;\r\n\t\t}\r\n\t\tinjectDependencies(\r\n\t\t\tbaseURLString, authPartURLString, ...other parameters...\r\n\t\t);\r\n\t}\r\n\r\n\tpublic static synchronized void injectDependencies(String baseURLString, String authPartURLString, ...other parameters) {\r\n\t\tif (JWTSingleton.the_last_param_initilized != null)\r\n\t\t\treturn; //No need to initialize the static variables more than once\r\n\t\tJWTSingleton.baseURLString = baseURLString;\r\n\t\tJWTSingleton.authPartURLString = authPartURLString;\r\n\t\t...\r\n\t\t//Other static initializations which are the input values needed for the web service like secret and username\r\n\t\t...\r\n\t\tJWTSingleton.the_last_param_initilized = value_passed_for_the_last_parameter;\r\n\t}\r\n\r\n\tpublic synchronized static JWTSingleton getInstance(boolean doGetFreshToken) {\r\n\t\tlong durMils;\r\n\t\tif ((_instance == null || doGetFreshToken) ||\r\n\t\t\t  (_instance != null &amp;&amp; \r\n\t\t\t    (_instance._jwt==null || _instance.sbErrMsg.length()&gt;0)\r\n\t\t\t  )\r\n\t\t\t) {\r\n\t\t\t//Check if a fresh token is requested\r\n\t\t\t//Only create an instance if it is null\r\n\t\t\tif (_instance == null) {\r\n\t\t\t\t_instance = new JWTSingleton();\r\n\t\t\t}else {\r\n\t\t\t\t//Calculate the duration between now and the last time the token was processed\r\n\t\t\t\t//Only refresh the token if more that retryInterval seconds has passed\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdurMils = Duration.between(_instance.dateTime, Instant.now()).toMillis();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t//An error occurred, just force to call the auth web service.\r\n\t\t\t\t\tdurMils = (retryInterval*2000)+1;\r\n\t\t\t\t}\r\n\t\t\t\t//If there was an error in the last run, and didn&#39;t pass more the retryInterval, then don&#39;t call the service to get a new token.\r\n\t\t\t\t//This is to avoid calling the auth service too quickly before giving the change for the errors to be resolved.\r\n\t\t\t\t//Using retryInterval is a reasonable delay needed between two attempts if there was an error in the last run.\r\n\t\t\t\tif (!doGetFreshToken &amp;&amp; _instance.sbErrMsg.length()&gt;0 &amp;&amp; durMils &lt; (retryInterval*1000)) {\r\n\t\t\t\t\treturn _instance; //If there was an error in the last run, and less than retryInterval has passed, then return the last instance\r\n\t\t\t\t}\r\n\t\t\t\t//Reset the saved instance\r\n\t\t\t\tif (_instance.sbErrMsg.length()&gt;0) {\r\n\t\t\t\t\t_instance.sbErrMsg.setLength(0);\r\n\t\t\t\t}\r\n\t\t\t\t_instance._jwt = null;\r\n\t\t\t}\r\n\t\t\t//Invoke the the method getToken() here to refresh the token\r\n\t\t\t_instance.getToken(baseURLString, authPartURLString, ...other parameters);\r\n\t\t} else {\r\n\t\t}\r\n\t\treturn _instance;\r\n\t}\r\n\t\r\n\tpublic synchronized static JWTSingleton getInstance() {\r\n\t\treturn getInstance(false);\r\n\t}\r\n\r\n\tprivate JWTSingleton() {}\r\n\r\n\r\n\t/**\r\n\t * This private method will get a fresh token every time it is invoked. It will call the authentication service to obtain a token.\r\n\t * &lt;p&gt;\r\n\t * TODO: Possible improvement is to implement the retry logic using Lambda Expressions and Command Pattern Implementation.\r\n\t */\r\n\tprivate void getToken(String baseURLString, String authPartURLString, ... other parameters) {\r\n\t\tService authService = null;\r\n\t\tString errMsg = null;\r\n\t\ttry {\r\n\t\t\t_jwt = null;\r\n\t\t\tauthService = new Service(doDecodePasswords);\r\n\t\t\t...\r\n\t\t\t...\r\n\t\t\t//Init the web service needed to get the JWT Token\r\n\t\t\t...\r\n\t\t\t...\r\n\t\t\tint attempNo=0;\r\n\t\t\tfor (int iRetyrCount = 0; iRetyrCount &lt;= JWTSingleton.maxRetries; iRetyrCount++) {\r\n\t\t\t\tattempNo = iRetyrCount+1;\r\n\t\t\t\tif (attempNo &gt; JWTSingleton.maxRetries) {\r\n\t\t\t\t\terrMsg = &quot;Obtain JWT Access Token will stop after attempts reached max retries: &quot; + attempNo + &quot;.&quot;;\r\n\t\t\t\t\terrMsg = &quot;Attempts to obtain JWT exceeded retry limit: &quot; + attempNo + &quot;.&quot;;\r\n\t\t\t\t\tsbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\r\n\t\t\t\t\tsbErrMsg.append(authService.getSbErrMsg().length()==0?&quot;&quot;:&quot; - &quot; + authService.getSbErrMsg().toString());\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tisTimeoutException = false;\r\n\t\t\t\t//Call the authentication web service and get the response\r\n\t\t\t\t_jwt = authService.callWSAuthGetJWTResponse();\r\n\t\t\t\tif (authService.isTimeoutException()) {\r\n\t\t\t\t\terrMsg = &quot;Timeout exception occurred in &#39;JWTSingleton()&#39; after retry attempt: &quot; + attempNo + &quot;. Will NOT retry again ...&quot;;\r\n\t\t\t\t\tisTimeoutException = true;\r\n\t\t\t\t\terrMsg = &quot;JWTSingleton()-Timeout error in auth service: &quot; + authService.getSbErrMsg().toString();\r\n\t\t\t\t\tsbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if (_jwt == null) {\r\n\t\t\t\t\terrMsg = &quot;Error in &#39;JWTSingleton()&#39; - JWT response is null and will stop before reaching max - retry attempt: &quot; + attempNo + &quot;.&quot;;\r\n\t\t\t\t\terrMsg = &quot;JWTSingleton(): Error; JWT response is null.&quot;;\r\n\t\t\t\t\tsbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\r\n\t\t\t\t\tsbErrMsg.append(authService.getSbErrMsg().length()==0?&quot;&quot;:&quot; - &quot; + authService.getSbErrMsg().toString());\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (_jwt != null &amp;&amp; ATSUtils.isHttpURLConResponseOk(_jwt.getHttpResponseCode()) &amp;&amp; _jwt.getAccess_token() != null) {\r\n\t\t\t\t\tbreak; //This is what we want, the happy path\r\n\t\t\t\t}\r\n\t\t\t\tif (_jwt != null &amp;&amp; (_jwt.getError() != null || !ATSUtils.isHttpURLConResponseOk(_jwt.getHttpResponseCode()))) {\r\n\t\t\t\t\terrMsg = MessageFormat\r\n\t\t\t\t\t\t\t.format(\r\n\t\t\t\t\t\t\t\t\t&quot;An error occurred while obtaining JWT, will try again after attempt: {0}. JWT error = {1} - Response code ={2}.&quot;,\r\n\t\t\t\t\t\t\t\t\tattempNo,_jwt.getError(), _jwt.getHttpResponseCode()\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(JWTSingleton.retryInterval * 1000);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} catch (InterruptedException iex) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\terrMsg = &quot;Unexpected error occurred in JWTSingleton(): &quot; + e.toString();\r\n\t\t\tSystem.out.println(errMsg);\r\n\t\t\te.printStackTrace();\r\n\t\t\tsbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tdateTime = Instant.now();\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getAccess_token() {\r\n\t\treturn _jwt.getAccess_token();\r\n\t}\r\n\t\r\n\tpublic JWTResponse getJWT() {\r\n\t\treturn _jwt;\r\n\t}\r\n\r\n\tpublic StringBuilder getSbErrMsg() {\r\n\t\treturn sbErrMsg;\r\n\t}\r\n\r\n\tpublic boolean isTimeoutException() {\r\n\t\treturn isTimeoutException;\r\n\t}\r\n\t\r\n\tpublic Instant getDateTime() {\r\n\t\treturn dateTime;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe client code will simply get the token as follows:\r\n\r\n```\r\nJWTSingleton.injectDependencies(...parameters needed for the web service...);\r\nString theToken = JWTSingleton.getInstance().getAccess_token()\r\n```\r\n\r\nThe Question:\r\n===\r\nI want to follow the best recommendations about when to fill the value for the static member `_instance` and the private member `_jwt`. See the code around `_instance.getToken(...)`. \r\n\r\nIs it better to ONLY create the instance `_instance = new JWTSingleton()` inside the static method `getInstance()`, and call the web service outside the singleton class and then use a setter method to set the token inside the singleton instance?\r\n\r\nOr it&#39;s better to call the web service inside the singleton class in the static method `getInstance()` using `_instance.getToken(...)` (this is the current implementation)?\r\n","title":"Singleton in Java to obtain JWT Token - which method is better","body":"<p>A java class was developed to obtain JWT Token using the Singleton pattern.</p>\n<p>Following is the overall class template:</p>\n<pre><code>import java.text.MessageFormat;\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class JWTSingleton {\n    private static JWTSingleton _instance=null;\n    private static String baseURLString=null;\n    private static String authPartURLString = null;\n    ...\n    //Decalre the other static variables which are the input needed to call the authentication web service\n    ...\n    private JWTResponse _jwt;\n    private StringBuilder sbErrMsg = new StringBuilder();\n    private boolean isTimeoutException=false;\n    private Instant dateTime=null;\n\n    public static synchronized void injectDependencies(\n            boolean doGetFresToken,\n            String baseURLString, String authPartURLString, ...other parameters...) {\n        if (doGetFresToken) {\n            //Clear the saved parameters needed by the web service\n            JWTSingleton.the_last_param_initilized = null;\n        }\n        injectDependencies(\n            baseURLString, authPartURLString, ...other parameters...\n        );\n    }\n\n    public static synchronized void injectDependencies(String baseURLString, String authPartURLString, ...other parameters) {\n        if (JWTSingleton.the_last_param_initilized != null)\n            return; //No need to initialize the static variables more than once\n        JWTSingleton.baseURLString = baseURLString;\n        JWTSingleton.authPartURLString = authPartURLString;\n        ...\n        //Other static initializations which are the input values needed for the web service like secret and username\n        ...\n        JWTSingleton.the_last_param_initilized = value_passed_for_the_last_parameter;\n    }\n\n    public synchronized static JWTSingleton getInstance(boolean doGetFreshToken) {\n        long durMils;\n        if ((_instance == null || doGetFreshToken) ||\n              (_instance != null &amp;&amp; \n                (_instance._jwt==null || _instance.sbErrMsg.length()&gt;0)\n              )\n            ) {\n            //Check if a fresh token is requested\n            //Only create an instance if it is null\n            if (_instance == null) {\n                _instance = new JWTSingleton();\n            }else {\n                //Calculate the duration between now and the last time the token was processed\n                //Only refresh the token if more that retryInterval seconds has passed\n                try {\n                    durMils = Duration.between(_instance.dateTime, Instant.now()).toMillis();\n                } catch (Exception e) {\n                    //An error occurred, just force to call the auth web service.\n                    durMils = (retryInterval*2000)+1;\n                }\n                //If there was an error in the last run, and didn't pass more the retryInterval, then don't call the service to get a new token.\n                //This is to avoid calling the auth service too quickly before giving the change for the errors to be resolved.\n                //Using retryInterval is a reasonable delay needed between two attempts if there was an error in the last run.\n                if (!doGetFreshToken &amp;&amp; _instance.sbErrMsg.length()&gt;0 &amp;&amp; durMils &lt; (retryInterval*1000)) {\n                    return _instance; //If there was an error in the last run, and less than retryInterval has passed, then return the last instance\n                }\n                //Reset the saved instance\n                if (_instance.sbErrMsg.length()&gt;0) {\n                    _instance.sbErrMsg.setLength(0);\n                }\n                _instance._jwt = null;\n            }\n            //Invoke the the method getToken() here to refresh the token\n            _instance.getToken(baseURLString, authPartURLString, ...other parameters);\n        } else {\n        }\n        return _instance;\n    }\n    \n    public synchronized static JWTSingleton getInstance() {\n        return getInstance(false);\n    }\n\n    private JWTSingleton() {}\n\n\n    /**\n     * This private method will get a fresh token every time it is invoked. It will call the authentication service to obtain a token.\n     * &lt;p&gt;\n     * TODO: Possible improvement is to implement the retry logic using Lambda Expressions and Command Pattern Implementation.\n     */\n    private void getToken(String baseURLString, String authPartURLString, ... other parameters) {\n        Service authService = null;\n        String errMsg = null;\n        try {\n            _jwt = null;\n            authService = new Service(doDecodePasswords);\n            ...\n            ...\n            //Init the web service needed to get the JWT Token\n            ...\n            ...\n            int attempNo=0;\n            for (int iRetyrCount = 0; iRetyrCount &lt;= JWTSingleton.maxRetries; iRetyrCount++) {\n                attempNo = iRetyrCount+1;\n                if (attempNo &gt; JWTSingleton.maxRetries) {\n                    errMsg = &quot;Obtain JWT Access Token will stop after attempts reached max retries: &quot; + attempNo + &quot;.&quot;;\n                    errMsg = &quot;Attempts to obtain JWT exceeded retry limit: &quot; + attempNo + &quot;.&quot;;\n                    sbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\n                    sbErrMsg.append(authService.getSbErrMsg().length()==0?&quot;&quot;:&quot; - &quot; + authService.getSbErrMsg().toString());\n                    break;\n                }\n                isTimeoutException = false;\n                //Call the authentication web service and get the response\n                _jwt = authService.callWSAuthGetJWTResponse();\n                if (authService.isTimeoutException()) {\n                    errMsg = &quot;Timeout exception occurred in 'JWTSingleton()' after retry attempt: &quot; + attempNo + &quot;. Will NOT retry again ...&quot;;\n                    isTimeoutException = true;\n                    errMsg = &quot;JWTSingleton()-Timeout error in auth service: &quot; + authService.getSbErrMsg().toString();\n                    sbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\n                    break;\n                }\n                else if (_jwt == null) {\n                    errMsg = &quot;Error in 'JWTSingleton()' - JWT response is null and will stop before reaching max - retry attempt: &quot; + attempNo + &quot;.&quot;;\n                    errMsg = &quot;JWTSingleton(): Error; JWT response is null.&quot;;\n                    sbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\n                    sbErrMsg.append(authService.getSbErrMsg().length()==0?&quot;&quot;:&quot; - &quot; + authService.getSbErrMsg().toString());\n                    break;\n                }\n                if (_jwt != null &amp;&amp; ATSUtils.isHttpURLConResponseOk(_jwt.getHttpResponseCode()) &amp;&amp; _jwt.getAccess_token() != null) {\n                    break; //This is what we want, the happy path\n                }\n                if (_jwt != null &amp;&amp; (_jwt.getError() != null || !ATSUtils.isHttpURLConResponseOk(_jwt.getHttpResponseCode()))) {\n                    errMsg = MessageFormat\n                            .format(\n                                    &quot;An error occurred while obtaining JWT, will try again after attempt: {0}. JWT error = {1} - Response code ={2}.&quot;,\n                                    attempNo,_jwt.getError(), _jwt.getHttpResponseCode()\n                                );\n                }\n                try {\n                    Thread.sleep(JWTSingleton.retryInterval * 1000);\n                    continue;\n                } catch (InterruptedException iex) {\n                }\n            }\n        } catch (Exception e) {\n            errMsg = &quot;Unexpected error occurred in JWTSingleton(): &quot; + e.toString();\n            System.out.println(errMsg);\n            e.printStackTrace();\n            sbErrMsg.append(sbErrMsg.length()==0?errMsg:&quot; - &quot; + errMsg);\n        }\n        try {\n            dateTime = Instant.now();\n        } catch (Exception e) {\n        }\n    }\n\n    public String getAccess_token() {\n        return _jwt.getAccess_token();\n    }\n    \n    public JWTResponse getJWT() {\n        return _jwt;\n    }\n\n    public StringBuilder getSbErrMsg() {\n        return sbErrMsg;\n    }\n\n    public boolean isTimeoutException() {\n        return isTimeoutException;\n    }\n    \n    public Instant getDateTime() {\n        return dateTime;\n    }\n\n}\n</code></pre>\n<p>The client code will simply get the token as follows:</p>\n<pre><code>JWTSingleton.injectDependencies(...parameters needed for the web service...);\nString theToken = JWTSingleton.getInstance().getAccess_token()\n</code></pre>\n<h1>The Question:</h1>\n<p>I want to follow the best recommendations about when to fill the value for the static member <code>_instance</code> and the private member <code>_jwt</code>. See the code around <code>_instance.getToken(...)</code>.</p>\n<p>Is it better to ONLY create the instance <code>_instance = new JWTSingleton()</code> inside the static method <code>getInstance()</code>, and call the web service outside the singleton class and then use a setter method to set the token inside the singleton instance?</p>\n<p>Or it's better to call the web service inside the singleton class in the static method <code>getInstance()</code> using <code>_instance.getToken(...)</code> (this is the current implementation)?</p>\n"},{"tags":["java","spring","postgresql","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":3692298,"reputation":1616,"user_id":3074624,"accept_rate":42,"display_name":"Manu Viswam"},"score":1,"creation_date":1677617578,"post_id":58356220,"comment_id":133372838,"body_markdown":"Please add more explanation","body":"Please add more explanation"},{"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"score":0,"creation_date":1690466616,"post_id":58356220,"comment_id":135360437,"body_markdown":"@ManuViswam added full example and description. Thanks for pointing out.","body":"@ManuViswam added full example and description. Thanks for pointing out."}],"tags":[],"owner":{"account_id":10082230,"reputation":53,"user_id":7452114,"display_name":"MICKY"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690537712,"creation_date":1570898034,"answer_id":58356220,"question_id":58355234,"body_markdown":"By implementing our own RowMapper\r\n\r\n```java\r\npublic class PersonRowMapper implements RowMapper&lt;Person&gt; {\r\n\r\n     Person mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n          Person person = new Person();\r\n          person.setName(&quot;nameColumnName&quot;);\r\n          person.setGender(rs.getBoolean(&quot;genderColumnName&quot;));\r\n\r\n          String[] hobbies = (String[]) rs.getArray(&quot;hobbies&quot;);\r\n          person.setHobbies(hobbies);\r\n\r\n          return person;\r\n     }\r\n\r\n}\r\n```\r\n\r\nUsing the above code, we can manually cast the result of `rs.getArray()` into `String[]`.\r\n\r\n`RowMapper` helps to provide custom logic to parse the result set into our own object. Use it in place of `BeanPropertyRowMapper` like below:\r\n\r\n```java\r\nList&lt;Person&gt; person = getJdbcTemplate().query(&quot;select * from person where name = ?&quot;, new PersonRowMapper(), name);\r\n```","title":"how can I convert postgresql array to java array in getJdbcTemplate().query","body":"<p>By implementing our own RowMapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonRowMapper implements RowMapper&lt;Person&gt; {\n\n     Person mapRow(ResultSet rs, int rowNum) throws SQLException {\n          Person person = new Person();\n          person.setName(&quot;nameColumnName&quot;);\n          person.setGender(rs.getBoolean(&quot;genderColumnName&quot;));\n\n          String[] hobbies = (String[]) rs.getArray(&quot;hobbies&quot;);\n          person.setHobbies(hobbies);\n\n          return person;\n     }\n\n}\n</code></pre>\n<p>Using the above code, we can manually cast the result of <code>rs.getArray()</code> into <code>String[]</code>.</p>\n<p><code>RowMapper</code> helps to provide custom logic to parse the result set into our own object. Use it in place of <code>BeanPropertyRowMapper</code> like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; person = getJdbcTemplate().query(&quot;select * from person where name = ?&quot;, new PersonRowMapper(), name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10599416,"reputation":61,"user_id":7806799,"display_name":"Zhenya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681710830,"creation_date":1681709473,"answer_id":76031970,"question_id":58355234,"body_markdown":"I didn&#39;t find how to solve the problem with jdbctemplate + pgArray. So I wrote some fix.  \r\nYou can use own `ColumnMapRowMapper`.\r\n```\r\npublic class ColumnRawMapper extends ColumnMapRowMapper {\r\n        @Override\r\n        protected Object getColumnValue(ResultSet rs, int index) throws SQLException {\r\n            Object obj = rs.getObject(index);\r\n            if (obj instanceof PgArray) {\r\n                return ((PgArray) obj).getArray();\r\n            }\r\n            return super.getColumnValue(rs, index);\r\n        }\r\n    }\r\n\r\nMap&lt;String, Object&gt; ggWp = jdbcTemplate.queryForObject(&quot;select * from temp where ss=&#39;3&#39;&quot;, new ColumnRawMapper());\r\n```","title":"how can I convert postgresql array to java array in getJdbcTemplate().query","body":"<p>I didn't find how to solve the problem with jdbctemplate + pgArray. So I wrote some fix.<br />\nYou can use own <code>ColumnMapRowMapper</code>.</p>\n<pre><code>public class ColumnRawMapper extends ColumnMapRowMapper {\n        @Override\n        protected Object getColumnValue(ResultSet rs, int index) throws SQLException {\n            Object obj = rs.getObject(index);\n            if (obj instanceof PgArray) {\n                return ((PgArray) obj).getArray();\n            }\n            return super.getColumnValue(rs, index);\n        }\n    }\n\nMap&lt;String, Object&gt; ggWp = jdbcTemplate.queryForObject(&quot;select * from temp where ss='3'&quot;, new ColumnRawMapper());\n</code></pre>\n"}],"owner":{"account_id":10082230,"reputation":53,"user_id":7452114,"display_name":"MICKY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690537712,"creation_date":1570891041,"question_id":58355234,"body_markdown":"I am using spring to interact with postgresql. Here is my problem.\r\n\r\nPerson have three attributes:\r\n\r\n 1. name(String)\r\n 2. hobbies(String[])\r\n 3. gender(boolean)\r\n\r\nIf I try to get a list of person from database using the method below\r\n```\r\nList&lt;Person&gt; person=  getJdbcTemplate().query(&quot;select * from person where name=?&quot;,new BeanPropertyRowMapper&lt;person&gt;(Person.class),name);\r\n```\r\nThe compiler prompts \r\n```\r\nFailed to convert property value of type &#39;org.postgresql.jdbc.PgArray&#39; to required type &#39;java.lang.String[]&#39; for property &#39;hobbies&#39;;\r\n```\r\nIs there any way to map pgarray to java array?","title":"how can I convert postgresql array to java array in getJdbcTemplate().query","body":"<p>I am using spring to interact with postgresql. Here is my problem.</p>\n\n<p>Person have three attributes:</p>\n\n<ol>\n<li>name(String)</li>\n<li>hobbies(String[])</li>\n<li>gender(boolean)</li>\n</ol>\n\n<p>If I try to get a list of person from database using the method below</p>\n\n<pre><code>List&lt;Person&gt; person=  getJdbcTemplate().query(\"select * from person where name=?\",new BeanPropertyRowMapper&lt;person&gt;(Person.class),name);\n</code></pre>\n\n<p>The compiler prompts </p>\n\n<pre><code>Failed to convert property value of type 'org.postgresql.jdbc.PgArray' to required type 'java.lang.String[]' for property 'hobbies';\n</code></pre>\n\n<p>Is there any way to map pgarray to java array?</p>\n"},{"tags":["java","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1690473751,"post_id":76781294,"comment_id":135362124,"body_markdown":"quite likely you have some inconsistent spring lib version, could you include your pom.xml and the full stacktrace of NoClassDefFoundError?","body":"quite likely you have some inconsistent spring lib version, could you include your pom.xml and the full stacktrace of NoClassDefFoundError?"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1690525210,"post_id":76781294,"comment_id":135368647,"body_markdown":"You can also send mails using javax.mail check [this discussion](https://stackoverflow.com/questions/76758716/how-can-i-make-it-possible-to-automatically-authenticate-when-sending-an-email-t/76762709#76762709)","body":"You can also send mails using javax.mail check <a href=\"https://stackoverflow.com/questions/76758716/how-can-i-make-it-possible-to-automatically-authenticate-when-sending-an-email-t/76762709#76762709\">this discussion</a>"},{"owner":{"account_id":1124424,"reputation":43,"user_id":1112038,"display_name":"pikmin"},"score":0,"creation_date":1690531703,"post_id":76781294,"comment_id":135369757,"body_markdown":"@samabcde i edit my message with the pom and the full stack trace","body":"@samabcde i edit my message with the pom and the full stack trace"},{"owner":{"account_id":1124424,"reputation":43,"user_id":1112038,"display_name":"pikmin"},"score":0,"creation_date":1690548079,"post_id":76781294,"comment_id":135372977,"body_markdown":"I tried your solution @Eric but I got a smiliar exception (this time, it&#39;s jakarta/activation/DataContentHandler that is not found)\nI definitely got something wrong in my pom","body":"I tried your solution @Eric but I got a smiliar exception (this time, it&#39;s jakarta/activation/DataContentHandler that is not found) I definitely got something wrong in my pom"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1690559085,"post_id":76781294,"comment_id":135375439,"body_markdown":"I can&#39;t reproduce your error using the pom given, what I can suggest is to put a break point in `javax.mail.Session`L492, and see why provider return a class name `jakarta.mail.Transport`","body":"I can&#39;t reproduce your error using the pom given, what I can suggest is to put a break point in <code>javax.mail.Session</code>L492, and see why provider return a class name <code>jakarta.mail.Transport</code>"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1690565070,"post_id":76781294,"comment_id":135376463,"body_markdown":"Have you tried to clean &amp; build project before running it. Sometimes dependencies/libraries aren&#39;t added successfully until clean &amp; build is done first","body":"Have you tried to clean &amp; build project before running it. Sometimes dependencies/libraries aren&#39;t added successfully until clean &amp; build is done first"}],"owner":{"account_id":1124424,"reputation":43,"user_id":1112038,"display_name":"pikmin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690537711,"creation_date":1690471628,"question_id":76781294,"body_markdown":"I&#39;m trying to send an email with JavaMailSender but I get a NoClassDefFoundError on jakarta/mail/Transport.\r\n\r\nThe full stacktrace : https://pastebin.com/eCNHpxT5\r\n\r\nThe pom : https://pastebin.com/jC6nfuRu\r\n\r\nThe parent pom : https://pastebin.com/jADMpZeF\r\n\r\nMy conf\r\n```\r\n@Bean\r\npublic JavaMailSender emailSender(final MailProperties mailProperties) {\r\n    final JavaMailSenderImpl javaMailSenderImpl = new JavaMailSenderImpl();\r\n    javaMailSenderImpl.setHost(mailProperties.getHost());\r\n    javaMailSenderImpl.setPort(mailProperties.getPort());\r\n    Properties props = javaMailSenderImpl.getJavaMailProperties();\r\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    return javaMailSenderImpl;\r\n}\r\n```\r\nand then I try to send like this\r\n```\r\nprivate final JavaMailSender emailSender;\r\n\r\n@Autowired\r\npublic MailBuildService(final JavaMailSender emailSender) {\r\n    this.emailSender = emailSender;\r\n}\r\n\r\nfinal MimeMessage message = emailSender.createMimeMessage();\r\nfinal MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\r\nhelper.setFrom(senderMail, senderName);\r\nhelper.setTo(recipient);\r\nhelper.setSubject(mailSubject);\r\nhelper.setText(mail.getTextContent(), mail.getHtmlContent());\r\nemailSender.send(message);\r\n```","title":"JavaMailSender - NoClassDefFoundError on jakarta/mail/Transport while sending email","body":"<p>I'm trying to send an email with JavaMailSender but I get a NoClassDefFoundError on jakarta/mail/Transport.</p>\n<p>The full stacktrace : <a href=\"https://pastebin.com/eCNHpxT5\" rel=\"nofollow noreferrer\">https://pastebin.com/eCNHpxT5</a></p>\n<p>The pom : <a href=\"https://pastebin.com/jC6nfuRu\" rel=\"nofollow noreferrer\">https://pastebin.com/jC6nfuRu</a></p>\n<p>The parent pom : <a href=\"https://pastebin.com/jADMpZeF\" rel=\"nofollow noreferrer\">https://pastebin.com/jADMpZeF</a></p>\n<p>My conf</p>\n<pre><code>@Bean\npublic JavaMailSender emailSender(final MailProperties mailProperties) {\n    final JavaMailSenderImpl javaMailSenderImpl = new JavaMailSenderImpl();\n    javaMailSenderImpl.setHost(mailProperties.getHost());\n    javaMailSenderImpl.setPort(mailProperties.getPort());\n    Properties props = javaMailSenderImpl.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    return javaMailSenderImpl;\n}\n</code></pre>\n<p>and then I try to send like this</p>\n<pre><code>private final JavaMailSender emailSender;\n\n@Autowired\npublic MailBuildService(final JavaMailSender emailSender) {\n    this.emailSender = emailSender;\n}\n\nfinal MimeMessage message = emailSender.createMimeMessage();\nfinal MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\nhelper.setFrom(senderMail, senderName);\nhelper.setTo(recipient);\nhelper.setSubject(mailSubject);\nhelper.setText(mail.getTextContent(), mail.getHtmlContent());\nemailSender.send(message);\n</code></pre>\n"},{"tags":["java","hadoop","hbase"],"comments":[{"owner":{"account_id":3059721,"reputation":1660,"user_id":2592657,"accept_rate":38,"display_name":"Joel"},"score":2,"creation_date":1438280324,"post_id":27324569,"comment_id":51397967,"body_markdown":"were you able to solve this?","body":"were you able to solve this?"}],"answers":[{"tags":[],"owner":{"account_id":3182115,"reputation":331,"user_id":2688589,"display_name":"wobu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690537613,"creation_date":1470818697,"answer_id":38868365,"question_id":27324569,"body_markdown":"`HFileOutputFormat` or the new Version `HFileOutputFormat2` needs `KeyValue` as final class. Maybe the `PutSortReducer` was not correctly applied which converts the `Put` to `KeyValue` instances.\r\n\r\nIn your driver&#39;s configuration, you set the number of reducers to 0 which means that no reducer will be applied therefore, the `Put` you write into the context would never be converter to a `KeyValue` instance.\r\n\r\nIn my case i am not using MapReduce but Spark, so i am just creating `KeyValue`&#39;s directly instead of `Put`&#39;s","title":"ClassCastException while using HFileOutputFormat2","body":"<p><code>HFileOutputFormat</code> or the new Version <code>HFileOutputFormat2</code> needs <code>KeyValue</code> as final class. Maybe the <code>PutSortReducer</code> was not correctly applied which converts the <code>Put</code> to <code>KeyValue</code> instances.</p>\n<p>In your driver's configuration, you set the number of reducers to 0 which means that no reducer will be applied therefore, the <code>Put</code> you write into the context would never be converter to a <code>KeyValue</code> instance.</p>\n<p>In my case i am not using MapReduce but Spark, so i am just creating <code>KeyValue</code>'s directly instead of <code>Put</code>'s</p>\n"}],"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690537613,"creation_date":1417813117,"question_id":27324569,"body_markdown":"I am trying to upload the data from file in the hdfs to the hbase table using HFileOutputFormat2 as a OutputFormat but I am getting following exception, \r\n\r\n\r\n    java.lang.Exception: java.lang.ClassCastException: org.apache.hadoop.hbase.client.Put cannot be cast to org.apache.hadoop.hbase.Cell\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\r\n\r\n    Caused by: java.lang.ClassCastException: org.apache.hadoop.hbase.client.Put cannot be cast to org.apache.hadoop.hbase.Cell\r\n\tat org.apache.hadoop.hbase.mapreduce.HFileOutputFormat2$1.write(HFileOutputFormat2.java:148)\r\n\tat org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.write(MapTask.java:635)\r\n\tat org.apache.hadoop.mapreduce.task.TaskInputOutputContextImpl.write(TaskInputOutputContextImpl.java:89)\r\n\tat org.apache.hadoop.mapreduce.lib.map.WrappedMapper$Context.write(WrappedMapper.java:112)\r\n\tat com.xogito.ingestion.mr.hbase.CSEventsHBaseMapper.map(CSEventsHBaseMapper.java:90)\r\n\tat com.xogito.ingestion.mr.hbase.CSEventsHBaseMapper.map(CSEventsHBaseMapper.java:1)\r\n\tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:145)\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:340)\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\nFollowing is the code of the Job\r\n\r\n   \r\n        @Override\r\n\t    public int run(String[] args) throws Exception {\r\n\t\tConfiguration conf = getConf();\r\n\t\tjob = Job.getInstance(conf, &quot;MY_JOB&quot;);\r\n\t\tjob.setJarByClass(getClass());\r\n\t\tjob.setMapOutputKeyClass(ImmutableBytesWritable.class);\r\n\t    job.setMapOutputValueClass(Put.class);\r\n\t    job.setSpeculativeExecution(false);  \r\n        job.setReduceSpeculativeExecution(false);  \r\n\t    job.setMapperClass(CustomMapper.class);//Custom Mapper\r\n\t    job.setInputFormatClass(TextInputFormat.class);\r\n\t    job.setOutputFormatClass(HFileOutputFormat.class);\r\n\t    \r\n\t    \r\n\t\tString parentInputPath = args[0];\r\n\t\tString parentOutputPath = args[1];\r\n\t\t\r\n\t\tFileInputFormat.addInputPaths(job, inputPath);\r\n\t\tHFileOutputFormat.setOutputPath(job,new Path(parentOutputPath)); \r\n\t\tConfiguration hConf = HBaseConfiguration.create(conf);\r\n\t    hConf.set(&quot;hbase.zookeeper.quorum&quot;, &quot;x.x.x.x&quot;);\r\n\t    hConf.set(&quot;hbase.zookeeper.property.clientPort&quot;, &quot;2181&quot;);\r\n\t    HTable hTable = new HTable(hConf, &quot;mytable&quot;);\r\n\t   // hTable.setAutoFlush(false, true);\r\n      //  hTable.setWriteBufferSize(1024 * 1024 * 12);\r\n\t    HFileOutputFormat.configureIncrementalLoad(job, hTable);\r\n\t    job.setNumReduceTasks(0);\r\n\t\tjob.submit();\r\n      }\r\n\r\n\r\nand Mapper&#39;s code is following,\r\n\r\n\r\n      @Override\r\n\tpublic void map(WritableComparable key, Writable  val, Context context) throws IOException, InterruptedException{\r\n\t\tString data = val.toString();\r\n\t\tString[] splitted = data.split(&quot;\\t&quot;);\r\n\t\tString account = splitted[1];\r\n\t\tMatcher match = ACCOUNT.matcher(account);\r\n\t\tint clientid = 0;\r\n\t\tif (match.find()) {\r\n\t\t\tclientid = Integer.valueOf(Integer.parseInt(match\r\n\t\t\t\t\t.group(1)));\r\n\t\t}\r\n\t\tString userid = splitted[2];\r\n\t\tLong timestamp = 0L;\r\n\t\ttry {\r\n\t\t\ttimestamp = Long.valueOf(splitted[10]);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(e.getMessage(), e);\r\n\t\t}\r\n\t\t\r\n\t\tString rowKeyText = &quot;somtext&quot;;\r\n\t\tImmutableBytesWritable rowKey = new    \r\n          ImmutableBytesWritable(Bytes.toBytes(rowKeyText));\r\n\t\t\r\n        Put put = new Put(Bytes.toBytes(rowKeyText));\r\n        put.add(cf,column, value); \r\n        context.write(rowKey, put); \r\n      }\r\n\r\n","title":"ClassCastException while using HFileOutputFormat2","body":"<p>I am trying to upload the data from file in the hdfs to the hbase table using HFileOutputFormat2 as a OutputFormat but I am getting following exception, </p>\n\n<pre><code>java.lang.Exception: java.lang.ClassCastException: org.apache.hadoop.hbase.client.Put cannot be cast to org.apache.hadoop.hbase.Cell\nat org.apache.hadoop.mapred.LocalJobRunner$Job.runTasks(LocalJobRunner.java:462)\nat org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:522)\n\nCaused by: java.lang.ClassCastException: org.apache.hadoop.hbase.client.Put cannot be cast to org.apache.hadoop.hbase.Cell\nat org.apache.hadoop.hbase.mapreduce.HFileOutputFormat2$1.write(HFileOutputFormat2.java:148)\nat org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.write(MapTask.java:635)\nat org.apache.hadoop.mapreduce.task.TaskInputOutputContextImpl.write(TaskInputOutputContextImpl.java:89)\nat org.apache.hadoop.mapreduce.lib.map.WrappedMapper$Context.write(WrappedMapper.java:112)\nat com.xogito.ingestion.mr.hbase.CSEventsHBaseMapper.map(CSEventsHBaseMapper.java:90)\nat com.xogito.ingestion.mr.hbase.CSEventsHBaseMapper.map(CSEventsHBaseMapper.java:1)\nat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:145)\nat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)\nat org.apache.hadoop.mapred.MapTask.run(MapTask.java:340)\nat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>Following is the code of the Job</p>\n\n<pre><code>    @Override\n    public int run(String[] args) throws Exception {\n    Configuration conf = getConf();\n    job = Job.getInstance(conf, \"MY_JOB\");\n    job.setJarByClass(getClass());\n    job.setMapOutputKeyClass(ImmutableBytesWritable.class);\n    job.setMapOutputValueClass(Put.class);\n    job.setSpeculativeExecution(false);  \n    job.setReduceSpeculativeExecution(false);  \n    job.setMapperClass(CustomMapper.class);//Custom Mapper\n    job.setInputFormatClass(TextInputFormat.class);\n    job.setOutputFormatClass(HFileOutputFormat.class);\n\n\n    String parentInputPath = args[0];\n    String parentOutputPath = args[1];\n\n    FileInputFormat.addInputPaths(job, inputPath);\n    HFileOutputFormat.setOutputPath(job,new Path(parentOutputPath)); \n    Configuration hConf = HBaseConfiguration.create(conf);\n    hConf.set(\"hbase.zookeeper.quorum\", \"x.x.x.x\");\n    hConf.set(\"hbase.zookeeper.property.clientPort\", \"2181\");\n    HTable hTable = new HTable(hConf, \"mytable\");\n   // hTable.setAutoFlush(false, true);\n  //  hTable.setWriteBufferSize(1024 * 1024 * 12);\n    HFileOutputFormat.configureIncrementalLoad(job, hTable);\n    job.setNumReduceTasks(0);\n    job.submit();\n  }\n</code></pre>\n\n<p>and Mapper's code is following,</p>\n\n<pre><code>  @Override\npublic void map(WritableComparable key, Writable  val, Context context) throws IOException, InterruptedException{\n    String data = val.toString();\n    String[] splitted = data.split(\"\\t\");\n    String account = splitted[1];\n    Matcher match = ACCOUNT.matcher(account);\n    int clientid = 0;\n    if (match.find()) {\n        clientid = Integer.valueOf(Integer.parseInt(match\n                .group(1)));\n    }\n    String userid = splitted[2];\n    Long timestamp = 0L;\n    try {\n        timestamp = Long.valueOf(splitted[10]);\n    } catch (Exception e) {\n        LOGGER.error(e.getMessage(), e);\n    }\n\n    String rowKeyText = \"somtext\";\n    ImmutableBytesWritable rowKey = new    \n      ImmutableBytesWritable(Bytes.toBytes(rowKeyText));\n\n    Put put = new Put(Bytes.toBytes(rowKeyText));\n    put.add(cf,column, value); \n    context.write(rowKey, put); \n  }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-resttemplate"],"answers":[{"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1629144251,"post_id":66294259,"comment_id":121604769,"body_markdown":"Can you possibly post the full solution, please?","body":"Can you possibly post the full solution, please?"},{"owner":{"account_id":11403483,"reputation":4554,"user_id":8359705,"display_name":"Mohammad Zeeshan"},"score":0,"creation_date":1631005958,"post_id":66294259,"comment_id":122100645,"body_markdown":"How to use MultiValueMap and LinkedMultiValueMap?","body":"How to use MultiValueMap and LinkedMultiValueMap?"},{"owner":{"account_id":11618015,"reputation":71,"user_id":8510083,"display_name":"Quyen Huynh"},"score":0,"creation_date":1653068097,"post_id":66294259,"comment_id":127769124,"body_markdown":"I wasted 6+ hours for this freaking answer. I kept thinking that the issue was because of my code or sth. Turned out that this is the only way. Using Map or JSONObject doesnt freaking work. \nWasted my nearly entire day and my back is breaking :(","body":"I wasted 6+ hours for this freaking answer. I kept thinking that the issue was because of my code or sth. Turned out that this is the only way. Using Map or JSONObject doesnt freaking work.  Wasted my nearly entire day and my back is breaking :("}],"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1690537205,"creation_date":1613840629,"answer_id":66294259,"question_id":66277274,"body_markdown":"Finally I found out that in &quot;application/x-www-form-urlencoded&quot; we have to use as following:\r\n\r\n     MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\r\n            requestBody.add(&quot;username&quot;,propertyConfig.getUserName());\r\n\r\n      HttpHeaders headers = new HttpHeaders();\r\n        headers.add(MediaType.APPLICATION_JSON, &quot;application/x-www-form-urlencoded&quot;);\r\n        HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(requestBody, headers);","title":"How to send body in restTemplate as application/x-www-form-urlencoded","body":"<p>Finally I found out that in &quot;application/x-www-form-urlencoded&quot; we have to use as following:</p>\n<pre><code> MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\n        requestBody.add(&quot;username&quot;,propertyConfig.getUserName());\n\n  HttpHeaders headers = new HttpHeaders();\n    headers.add(MediaType.APPLICATION_JSON, &quot;application/x-www-form-urlencoded&quot;);\n    HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(requestBody, headers);\n</code></pre>\n"}],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66294259,"answer_count":1,"score":2,"last_activity_date":1690537205,"creation_date":1613736369,"question_id":66277274,"body_markdown":"It is possible to set &quot;application/x-www-form-urlencoded&quot; in  HttpHeader, but I want to set for requestbody, could you please guide me?\r\n\r\nsample json:\r\n \r\n\r\n    \r\n    \t\t\t\t&quot;header&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;key&quot;: &quot;Content-Type&quot;,\r\n    \t\t\t\t\t\t&quot;value&quot;: &quot;application/json&quot;,\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;body&quot;: {\r\n    \t\t\t\t\t&quot;mode&quot;: &quot;urlencoded&quot;,\r\n    \t\t\t\t\t&quot;urlencoded&quot;: [\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;username&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;Tohid&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;password&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;*mk&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t},\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t&quot;key&quot;: &quot;grant_type&quot;,\r\n    \t\t\t\t\t\t\t&quot;value&quot;: &quot;password&quot;,\r\n    \t\t\t\t\t\t\t&quot;type&quot;: &quot;text&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t]\r\n    \t\t\t\t},\r\n\r\ncode :\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(MediaType.APPLICATION_JSON, APPLICATION_URLENCODED.getValue());\r\n            HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(gson.toJson(requestBody), headers);\r\n\r\nPostman screenshot :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2IZ03.png","title":"How to send body in restTemplate as application/x-www-form-urlencoded","body":"<p>It is possible to set &quot;application/x-www-form-urlencoded&quot; in  HttpHeader, but I want to set for requestbody, could you please guide me?</p>\n<p>sample json:</p>\n<pre><code>                &quot;header&quot;: [\n                    {\n                        &quot;key&quot;: &quot;Content-Type&quot;,\n                        &quot;value&quot;: &quot;application/json&quot;,\n                        &quot;type&quot;: &quot;text&quot;\n                    }\n                ],\n                &quot;body&quot;: {\n                    &quot;mode&quot;: &quot;urlencoded&quot;,\n                    &quot;urlencoded&quot;: [\n                        {\n                            &quot;key&quot;: &quot;username&quot;,\n                            &quot;value&quot;: &quot;Tohid&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        },\n                        {\n                            &quot;key&quot;: &quot;password&quot;,\n                            &quot;value&quot;: &quot;*mk&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        },\n                        {\n                            &quot;key&quot;: &quot;grant_type&quot;,\n                            &quot;value&quot;: &quot;password&quot;,\n                            &quot;type&quot;: &quot;text&quot;\n                        }\n                    ]\n                },\n</code></pre>\n<p>code :</p>\n<pre><code>        HttpHeaders headers = new HttpHeaders();\n        headers.add(MediaType.APPLICATION_JSON, APPLICATION_URLENCODED.getValue());\n        HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(gson.toJson(requestBody), headers);\n</code></pre>\n<p>Postman screenshot :\n<a href=\"https://i.stack.imgur.com/2IZ03.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IZ03.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","microsoft-teams"],"answers":[{"tags":[],"owner":{"account_id":23205773,"reputation":379,"user_id":17300012,"display_name":"Sayali-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690537156,"creation_date":1690537156,"answer_id":76786605,"question_id":76774263,"body_markdown":"When you encounter an SSLHandshakeException while trying to connect to a Microsoft webhook URL, it indicates that there is an issue with the SSL handshake process during the HTTPS connection establishment. This error typically occurs due to problems with the SSL/TLS certificate, SSL configuration, or network settings.\r\n\r\nIf you want to &quot;download the certificate&quot; for the webhook URL, you might be referring to the SSL/TLS certificate that ensures secure communication between your browser and the server. However, in the context of webhooks, you don&#39;t usually interact with the webhook URL directly using a browser.\r\n\r\n\r\nExport the SSL certificate of a website using Google Chrome:\r\n\r\n1.Click the Secure button (a padlock) in an address bar\r\n\r\n2.Click the Show certificate button\r\n\r\n3.Go to the Details tab\r\n\r\n4.Click the Export button\r\n\r\n5.Specify the name of the file you want to save the SSL certificate to, keep the “Base64-encoded ASCII, single certificate” format and click the Save button","title":"Mircosoft webhook URL connection throwing SSLHandshakeException","body":"<p>When you encounter an SSLHandshakeException while trying to connect to a Microsoft webhook URL, it indicates that there is an issue with the SSL handshake process during the HTTPS connection establishment. This error typically occurs due to problems with the SSL/TLS certificate, SSL configuration, or network settings.</p>\n<p>If you want to &quot;download the certificate&quot; for the webhook URL, you might be referring to the SSL/TLS certificate that ensures secure communication between your browser and the server. However, in the context of webhooks, you don't usually interact with the webhook URL directly using a browser.</p>\n<p>Export the SSL certificate of a website using Google Chrome:</p>\n<p>1.Click the Secure button (a padlock) in an address bar</p>\n<p>2.Click the Show certificate button</p>\n<p>3.Go to the Details tab</p>\n<p>4.Click the Export button</p>\n<p>5.Specify the name of the file you want to save the SSL certificate to, keep the “Base64-encoded ASCII, single certificate” format and click the Save button</p>\n"}],"owner":{"account_id":8755814,"reputation":310,"user_id":6547451,"accept_rate":75,"display_name":"eshwar chettri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690537156,"creation_date":1690397940,"question_id":76774263,"body_markdown":"When I&#39;m trying to connect the webhook URL from Postman it works fine, But When I&#39;m trying to connect from my UAT server I&#39;m getting the below error.\r\n \r\nI/O error on POST request for &quot;https://xxxxx.webhook.office.com/webhookb2/xx@xxx/IncomingWebhook/3432432434&quot;:\r\nsun.security.validator.ValidatorException:\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: \r\nunable to find valid certification path to requested target;\r\nnested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\r\n\r\nI know it&#39;s asking for a ca certificate but How Can I download the certificate for the webhook URL when I&#39;m calling the URL from Chrome it&#39;s showing &quot;This page isn’t working&quot;.\r\n\r\nAny help will be highly appreciated \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dO4l1.png","title":"Mircosoft webhook URL connection throwing SSLHandshakeException","body":"<p>When I'm trying to connect the webhook URL from Postman it works fine, But When I'm trying to connect from my UAT server I'm getting the below error.</p>\n<p>I/O error on POST request for &quot;https://xxxxx.webhook.office.com/webhookb2/xx@xxx/IncomingWebhook/3432432434&quot;:\nsun.security.validator.ValidatorException:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target;\nnested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.</p>\n<p>I know it's asking for a ca certificate but How Can I download the certificate for the webhook URL when I'm calling the URL from Chrome it's showing &quot;This page isn’t working&quot;.</p>\n<p>Any help will be highly appreciated</p>\n<p><a href=\"https://i.stack.imgur.com/dO4l1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dO4l1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","documentation","introspection","spring-shell"],"comments":[{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1690537608,"post_id":76786583,"comment_id":135371013,"body_markdown":"Looking for a recommendation is off topic here should be asked at the sister site Software recommendations","body":"Looking for a recommendation is off topic here should be asked at the sister site Software recommendations"},{"owner":{"account_id":1824786,"reputation":8418,"user_id":1657886,"display_name":"albert"},"score":0,"creation_date":1690537717,"post_id":76786583,"comment_id":135371050,"body_markdown":"Off topic should be at software recommendations","body":"Off topic should be at software recommendations"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690537059,"creation_date":1690537059,"question_id":76786583,"body_markdown":"I am developing a shell from SpringShell and use the @ShellMethod to annotate the methods that are invoquable from the Shell. The annotation includes a brief description of the command/method.\r\n\r\n    @ShellMethod(&quot;this command does something&quot;)\r\nNow, I would like to generate a documentation that aggregates in a single output all these descriptions. I am guessing that there exists already a library that allows this. \r\n\r\nAm I right?\r\n\r\nAny hint would be appreciated.\r\n\r\nThanks in advance","title":"How to extract documentation from SpringShell @ShellMethod annotations","body":"<p>I am developing a shell from SpringShell and use the @ShellMethod to annotate the methods that are invoquable from the Shell. The annotation includes a brief description of the command/method.</p>\n<pre><code>@ShellMethod(&quot;this command does something&quot;)\n</code></pre>\n<p>Now, I would like to generate a documentation that aggregates in a single output all these descriptions. I am guessing that there exists already a library that allows this.</p>\n<p>Am I right?</p>\n<p>Any hint would be appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690537052,"creation_date":1451730899,"answer_id":34564913,"question_id":34559717,"body_markdown":"&gt;Only the log level of the first matching logger is used to accept or deny &gt;the log event. Once it is accepted it will be passed to all the parent &gt;loggers regardless of whatever level they specify.  &lt;strike&gt;I thought the &gt;documentation was pretty clear about that, but perhaps not.&lt;/strike&gt; \r\n\r\nAny suggestions on how the documentation could feasibly be updated for a clearer understanding of the expected outcome?","title":"Additivity in Log4J2 (2.5)","body":"<blockquote>\n<p>Only the log level of the first matching logger is used to accept or deny &gt;the log event. Once it is accepted it will be passed to all the parent &gt;loggers regardless of whatever level they specify.  <strike>I thought the &gt;documentation was pretty clear about that, but perhaps not.</strike></p>\n</blockquote>\n<p>Any suggestions on how the documentation could feasibly be updated for a clearer understanding of the expected outcome?</p>\n"}],"owner":{"account_id":5080543,"reputation":2464,"user_id":4076806,"accept_rate":88,"display_name":"Ueli Hofstetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3397,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34564913,"answer_count":1,"score":3,"last_activity_date":1690537052,"creation_date":1451679814,"question_id":34559717,"body_markdown":"According to the Log4J2 manual at http://logging.apache.org/log4j/2.x/manual/configuration.html configuring the loggers using\n\n    ...\n          &lt;Loggers&gt;\n            &lt;Logger name=&quot;com.foo.Bar&quot; level=&quot;trace&quot;&gt;\n              &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;/Logger&gt;\n            &lt;Root level=&quot;error&quot;&gt;\n              &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;/Root&gt;\n          &lt;/Loggers&gt;\n    ...\n\nand logging a statement like \n\n    Logger barLogger = LogManager.getLogger(Bar.class);\n    barLogger.info(&quot;A simple info message&quot;);\n\nshould produce the output \n\n&gt; &quot;A simple info message&quot;\n\nHowever, I am getting the message twice, i.e.\n\n&gt; &quot;A simple info message&quot;\n&gt;\n&gt; &quot;A simple info message&quot;\n\nand was wondering why? I know that the not specifying  `additivity=&quot;false&quot;` for the Bar logger will propagate the message to the root logger as well. However in this case, the log level of the root logger is set to error and as I read the manual should thus not log the message (which has only been logged as &quot;info&quot;) again.\n\nAny hints?\n\n**Update:** \nI saw the first answer of @rgoers and this seems to be reasonable. However, to me it seems like the documentation at http://logging.apache.org/log4j/2.x/manual/configuration.html still is either outdated or incorrect. According to the documentation, the program\n \n \n \n \n\n    public class MyApp {\n     \n        // Define a static logger variable so that it references the\n        // Logger instance named &quot;MyApp&quot;.\n        private static final Logger logger = LogManager.getLogger(MyApp.class);\n     \n        public static void main(final String... args) {\n     \n            // Set up a simple configuration that logs on the console.\n     \n            logger.trace(&quot;Entering application.&quot;);\n            Bar bar = new Bar();\n            if (!bar.doIt()) {\n                logger.error(&quot;Didn&#39;t do it.&quot;);\n            }\n            logger.trace(&quot;Exiting application.&quot;);\n        }\n    }\n     \n    public class Bar {\n      static final Logger logger = LogManager.getLogger(Bar.class.getName());\n     \n      public boolean doIt() {\n        logger.entry();\n        logger.error(&quot;Did it again!&quot;);\n        return logger.exit(false);\n      }\n    }\n\nwith log4J2 configuration \n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Configuration status=&quot;WARN&quot;&gt;\n      &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n          &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n      &lt;/Appenders&gt;\n      &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.foo.Bar&quot; level=&quot;trace&quot;&gt;\n          &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n          &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n      &lt;/Loggers&gt;\n    &lt;/Configuration&gt;\n\nshould produce the following output\n\n    17:13:01.540 [main] TRACE com.foo.Bar - entry\n    17:13:01.540 [main] TRACE com.foo.Bar - entry\n    17:13:01.540 [main] ERROR com.foo.Bar - Did it again!\n    17:13:01.540 [main] TRACE com.foo.Bar - exit (false)\n    17:13:01.540 [main] TRACE com.foo.Bar - exit (false)\n    17:13:01.540 [main] ERROR MyApp - Didn&#39;t do it.\n\nHowever, running this I am getting\n\n    00:45:49.951 [main] TRACE com.foo.Bar - entry\n    00:45:49.951 [main] TRACE com.foo.Bar - entry\n    00:45:49.951 [main] ERROR com.foo.Bar - Did it again!\n    00:45:49.951 [main] ERROR com.foo.Bar - Did it again!\n    00:45:49.951 [main] TRACE com.foo.Bar - exit with(false)\n    00:45:49.951 [main] TRACE com.foo.Bar - exit with(false)\n    00:45:49.951 [main] ERROR com.foo.MyApp - Didn&#39;t do it.\n\ni.e. &quot;Did it again!&quot; is logged twice instead of only once as mentioned in the documentation ....\n\n\n\n","title":"Additivity in Log4J2 (2.5)","body":"<p>According to the Log4J2 manual at <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html</a> configuring the loggers using</p>\n<pre><code>...\n      &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.foo.Bar&quot; level=&quot;trace&quot;&gt;\n          &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n          &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n      &lt;/Loggers&gt;\n...\n</code></pre>\n<p>and logging a statement like</p>\n<pre><code>Logger barLogger = LogManager.getLogger(Bar.class);\nbarLogger.info(&quot;A simple info message&quot;);\n</code></pre>\n<p>should produce the output</p>\n<blockquote>\n<p>&quot;A simple info message&quot;</p>\n</blockquote>\n<p>However, I am getting the message twice, i.e.</p>\n<blockquote>\n<p>&quot;A simple info message&quot;</p>\n<p>&quot;A simple info message&quot;</p>\n</blockquote>\n<p>and was wondering why? I know that the not specifying  <code>additivity=&quot;false&quot;</code> for the Bar logger will propagate the message to the root logger as well. However in this case, the log level of the root logger is set to error and as I read the manual should thus not log the message (which has only been logged as &quot;info&quot;) again.</p>\n<p>Any hints?</p>\n<p><strong>Update:</strong>\nI saw the first answer of @rgoers and this seems to be reasonable. However, to me it seems like the documentation at <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html</a> still is either outdated or incorrect. According to the documentation, the program</p>\n<pre><code>public class MyApp {\n \n    // Define a static logger variable so that it references the\n    // Logger instance named &quot;MyApp&quot;.\n    private static final Logger logger = LogManager.getLogger(MyApp.class);\n \n    public static void main(final String... args) {\n \n        // Set up a simple configuration that logs on the console.\n \n        logger.trace(&quot;Entering application.&quot;);\n        Bar bar = new Bar();\n        if (!bar.doIt()) {\n            logger.error(&quot;Didn't do it.&quot;);\n        }\n        logger.trace(&quot;Exiting application.&quot;);\n    }\n}\n \npublic class Bar {\n  static final Logger logger = LogManager.getLogger(Bar.class.getName());\n \n  public boolean doIt() {\n    logger.entry();\n    logger.error(&quot;Did it again!&quot;);\n    return logger.exit(false);\n  }\n}\n</code></pre>\n<p>with log4J2 configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Logger name=&quot;com.foo.Bar&quot; level=&quot;trace&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=&quot;error&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>should produce the following output</p>\n<pre><code>17:13:01.540 [main] TRACE com.foo.Bar - entry\n17:13:01.540 [main] TRACE com.foo.Bar - entry\n17:13:01.540 [main] ERROR com.foo.Bar - Did it again!\n17:13:01.540 [main] TRACE com.foo.Bar - exit (false)\n17:13:01.540 [main] TRACE com.foo.Bar - exit (false)\n17:13:01.540 [main] ERROR MyApp - Didn't do it.\n</code></pre>\n<p>However, running this I am getting</p>\n<pre><code>00:45:49.951 [main] TRACE com.foo.Bar - entry\n00:45:49.951 [main] TRACE com.foo.Bar - entry\n00:45:49.951 [main] ERROR com.foo.Bar - Did it again!\n00:45:49.951 [main] ERROR com.foo.Bar - Did it again!\n00:45:49.951 [main] TRACE com.foo.Bar - exit with(false)\n00:45:49.951 [main] TRACE com.foo.Bar - exit with(false)\n00:45:49.951 [main] ERROR com.foo.MyApp - Didn't do it.\n</code></pre>\n<p>i.e. &quot;Did it again!&quot; is logged twice instead of only once as mentioned in the documentation ....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":8,"creation_date":1376667797,"post_id":18277246,"comment_id":26809940,"body_markdown":"Go through [Generics Tutorial](http://docs.oracle.com/javase/tutorial/java/generics/)","body":"Go through <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">Generics Tutorial</a>"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":1,"creation_date":1376667904,"post_id":18277246,"comment_id":26810008,"body_markdown":"More specifically [This page](http://docs.oracle.com/javase/tutorial/java/generics/types.html)","body":"More specifically <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">This page</a>"}],"answers":[{"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1376667920,"creation_date":1376667920,"answer_id":18277302,"question_id":18277246,"body_markdown":"IF you&#39;re in a class, that has a declared generic type, your method might look like this:\r\n\r\n    public T someMethod();\r\n\r\nHowever, if you&#39;re not in a class that has some generic type declared, you can declare one for just that method scope.\r\n\r\n    public &lt;T&gt; T someMethod();","title":"What is return type &lt;T&gt; T?","body":"<p>IF you're in a class, that has a declared generic type, your method might look like this:</p>\n\n<pre><code>public T someMethod();\n</code></pre>\n\n<p>However, if you're not in a class that has some generic type declared, you can declare one for just that method scope.</p>\n\n<pre><code>public &lt;T&gt; T someMethod();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12266969,"reputation":21,"user_id":8953243,"display_name":"Chamara dunusingha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690536954,"creation_date":1515735283,"answer_id":48220150,"question_id":18277246,"body_markdown":"we entered into a program the `return` keyword and that program will terminate from that scope.\r\n\r\n```java\r\n    import java.util.*;\r\n\r\n    class Example {\r\n         public static void main(String args[]) {  \r\n             for (int i = 0; i &lt; 10; i++) {\r\n                 if (i == 4) {\r\n                     return;\r\n                 }\r\n\r\n                 System.out.println(i);\r\n             }\r\n         }\r\n    }\r\n```","title":"What is return type &lt;T&gt; T?","body":"<p>we entered into a program the <code>return</code> keyword and that program will terminate from that scope.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n\n    class Example {\n         public static void main(String args[]) {  \n             for (int i = 0; i &lt; 10; i++) {\n                 if (i == 4) {\n                     return;\n                 }\n\n                 System.out.println(i);\n             }\n         }\n    }\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":18277302,"answer_count":2,"score":-2,"last_activity_date":1690536954,"creation_date":1376667763,"question_id":18277246,"body_markdown":"What is the return type of `&lt;T&gt; T` I can understand the return type T (T can be an object of any type) but what is the significance of `&lt;T&gt;` ?","title":"What is return type &lt;T&gt; T?","body":"<p>What is the return type of <code>&lt;T&gt; T</code> I can understand the return type T (T can be an object of any type) but what is the significance of <code>&lt;T&gt;</code> ?</p>\n"},{"tags":["java","kotlin","realm"],"owner":{"account_id":10526668,"reputation":3195,"user_id":10426052,"display_name":"Baterka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690536903,"creation_date":1690536903,"question_id":76786560,"body_markdown":"In Kotlin Realm SDK, is there a way to define for example:\r\n\r\n`var lcalDateTime: LocalDateTime = LocalDateTime.now()`\r\n\r\nin RealmObject in and add support for serialization of this class into Realm?\r\nI see that new Kotlin SDK versions support KSerializer but thats probably not meant for this right? It would be nice if I can transform the java.time classes by some custom transformer into RealmInstant.\r\n\r\nAt this moment, I am doing it like so:\r\n```\r\n\r\n    @PersistedName(&quot;dayScheduled&quot;)\r\n    private var _dayScheduled: RealmInstant = RealmInstant.now()\r\n    var dayScheduled: LocalDate\r\n        get() = LocalDate.from(_dayScheduled.toInstant().atZone(ZoneOffset.UTC))\r\n        set(value) {\r\n            _dayScheduled = value.atStartOfDay().toRealmInstant()\r\n        }\r\n```\r\n\r\nThis solution works but I am seraching for something with less boilerplate.","title":"Is possible to save custom datatypes like Java’s LocalDateTime into Realm (Kotlin SDK)?","body":"<p>In Kotlin Realm SDK, is there a way to define for example:</p>\n<p><code>var lcalDateTime: LocalDateTime = LocalDateTime.now()</code></p>\n<p>in RealmObject in and add support for serialization of this class into Realm?\nI see that new Kotlin SDK versions support KSerializer but thats probably not meant for this right? It would be nice if I can transform the java.time classes by some custom transformer into RealmInstant.</p>\n<p>At this moment, I am doing it like so:</p>\n<pre><code>\n    @PersistedName(&quot;dayScheduled&quot;)\n    private var _dayScheduled: RealmInstant = RealmInstant.now()\n    var dayScheduled: LocalDate\n        get() = LocalDate.from(_dayScheduled.toInstant().atZone(ZoneOffset.UTC))\n        set(value) {\n            _dayScheduled = value.atStartOfDay().toRealmInstant()\n        }\n</code></pre>\n<p>This solution works but I am seraching for something with less boilerplate.</p>\n"},{"tags":["java","filenet-p8","filenet-content-engine"],"answers":[{"comments":[{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":0,"creation_date":1497543111,"post_id":44569759,"comment_id":76133260,"body_markdown":"I didn&#39;t, but what&#39;s the purpose ? Does this prevent to raise again a `CreationEvent` ? Also it seems that it will create a new version (I guess a checkOut will be required).","body":"I didn&#39;t, but what&#39;s the purpose ? Does this prevent to raise again a <code>CreationEvent</code> ? Also it seems that it will create a new version (I guess a checkOut will be required)."},{"owner":{"account_id":9317904,"reputation":1271,"user_id":6917637,"accept_rate":18,"display_name":"bajji"},"score":0,"creation_date":1497552505,"post_id":44569759,"comment_id":76138428,"body_markdown":"Your code is saving the document before check-in so if you check-in and the save would solve the problem. Also instead of event.get_SourceObject(); can you try like changeEvent.get_SourceObjectId();                                         Document doc= Factory.Document.fetchInstance(os, documentId, propertyFilter);","body":"Your code is saving the document before check-in so if you check-in and the save would solve the problem. Also instead of event.get_SourceObject(); can you try like changeEvent.get_SourceObjectId();                                         Document doc= Factory.Document.fetchInstance(os, documentId, propertyFilter);"},{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":0,"creation_date":1497733411,"post_id":44569759,"comment_id":76205504,"body_markdown":"Also please remove the part concerning `checkin()`  call, it was not relevant in this context. I updvoted you because you mentionned the `Document.fetchInstance()` call, as did our expert right before, and selected mine designed after our expert&#39;s answer since it&#39;s more complete/accurate.","body":"Also please remove the part concerning <code>checkin()</code>  call, it was not relevant in this context. I updvoted you because you mentionned the <code>Document.fetchInstance()</code> call, as did our expert right before, and selected mine designed after our expert&#39;s answer since it&#39;s more complete/accurate."}],"tags":[],"owner":{"account_id":9317904,"reputation":1271,"user_id":6917637,"accept_rate":18,"display_name":"bajji"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690536549,"creation_date":1497535831,"answer_id":44569759,"question_id":44564880,"body_markdown":"Since I can&#39;t comment because of reputation, I have to answer it\r\nDid you try\r\n\r\n    doc.checkin(AutoClassify.DO_NOT_AUTO_CLASSIFY, CheckinType.MAJOR_VERSION);\r\n\r\nbefore `doc.save()`\r\n\r\nUpdated answer\r\n\r\nAlso instead of `event.get_SourceObject();` can you try like \r\n\r\n    changeEvent.get_SourceObjectId(); \r\n    Document doc= Factory.Document.fetchInstance(os, documentId, propertyFilter);\r\n\r\n","title":"FileNET P8 5.2.1 FP2 - edit permissions on document creation","body":"<p>Since I can't comment because of reputation, I have to answer it\nDid you try</p>\n<pre><code>doc.checkin(AutoClassify.DO_NOT_AUTO_CLASSIFY, CheckinType.MAJOR_VERSION);\n</code></pre>\n<p>before <code>doc.save()</code></p>\n<p>Updated answer</p>\n<p>Also instead of <code>event.get_SourceObject();</code> can you try like</p>\n<pre><code>changeEvent.get_SourceObjectId(); \nDocument doc= Factory.Document.fetchInstance(os, documentId, propertyFilter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675328984,"creation_date":1497615958,"answer_id":44589228,"question_id":44564880,"body_markdown":"As said by @Manjunatha Muniyappa, I solved my problem by fetching the document from the Object store rather than getting it from the CreationEvent object. [It seems to be recommended by the editor][1] (*&quot;as a best practice, fetch the persisted source object of the event&quot;*). Also by this way the CreationEvent won&#39;t be raised (I dunno why).\r\n\r\nSo the solution is to create an **asynchronous subscription** on Creation Event, associated with this handler class below :\r\n\r\n    // Only relevant lines are kept.\r\n    public class CustomEventAction implements EventActionHandler {\r\n    \t// [...]\r\n    \tpublic void onEvent(ObjectChangeEvent event, Id eventId) {\r\n    \t\tif (event instanceof CreationEvent) {\r\n    \t\t\tObjectStore os = event.getObjectStore();\r\n    \t\t\tId id = event.get_SourceObjectId();\r\n    \t\t\tFilterElement fe = \r\n    \t\t\t\t\tnew FilterElement(null, null, null, &quot;permissions creator&quot;, null);\r\n    \t\t\tPropertyFilter pf = new PropertyFilter();\r\n    \t\t\tpf.addIncludeProperty(fe);\r\n    \t\t\tDocument doc = Factory.Document.fetchInstance(os, id, pf);\r\n    \t\t\t\r\n    \t\t\tAccessPermissionList permissions;\r\n    \t\t\r\n    \t\t\tString creatorGranteeName = getCreatorGranteeName(doc);\r\n    \t\t\tpermissions = doc.get_Permissions();\r\n    \t\t\tIterator&lt;AccessPermission&gt; iter = permissions.iterator();\r\n    \t\t\t\r\n    \t\t\tboolean found = false;\r\n    \t\t\twhile (iter.hasNext()) {\r\n    \t\t\t\tAccessPermission ace = (AccessPermission) iter.next();\r\n    \t\t\t\tif (ace.get_GranteeName().equals(creatorGranteeName)) {\r\n    \t\t\t\t\tpermissions.remove(ace);\r\n    \t\t\t\t\tfound = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (!found) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tdoc.save(RefreshMode.REFRESH);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/filenet-p8-platform/5.2.0?topic=subscriptions-working#subscription_procedures__creating_eventhandler","title":"FileNET P8 5.2.1 FP2 - edit permissions on document creation","body":"<p>As said by @Manjunatha Muniyappa, I solved my problem by fetching the document from the Object store rather than getting it from the CreationEvent object. <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.0?topic=subscriptions-working#subscription_procedures__creating_eventhandler\" rel=\"nofollow noreferrer\">It seems to be recommended by the editor</a> (<em>&quot;as a best practice, fetch the persisted source object of the event&quot;</em>). Also by this way the CreationEvent won't be raised (I dunno why).</p>\n<p>So the solution is to create an <strong>asynchronous subscription</strong> on Creation Event, associated with this handler class below :</p>\n<pre><code>// Only relevant lines are kept.\npublic class CustomEventAction implements EventActionHandler {\n    // [...]\n    public void onEvent(ObjectChangeEvent event, Id eventId) {\n        if (event instanceof CreationEvent) {\n            ObjectStore os = event.getObjectStore();\n            Id id = event.get_SourceObjectId();\n            FilterElement fe = \n                    new FilterElement(null, null, null, &quot;permissions creator&quot;, null);\n            PropertyFilter pf = new PropertyFilter();\n            pf.addIncludeProperty(fe);\n            Document doc = Factory.Document.fetchInstance(os, id, pf);\n            \n            AccessPermissionList permissions;\n        \n            String creatorGranteeName = getCreatorGranteeName(doc);\n            permissions = doc.get_Permissions();\n            Iterator&lt;AccessPermission&gt; iter = permissions.iterator();\n            \n            boolean found = false;\n            while (iter.hasNext()) {\n                AccessPermission ace = (AccessPermission) iter.next();\n                if (ace.get_GranteeName().equals(creatorGranteeName)) {\n                    permissions.remove(ace);\n                    found = true;\n                    break;\n                }\n            }\n            \n            if (!found) {\n                return;\n            }\n            \n            doc.save(RefreshMode.REFRESH);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44589228,"answer_count":2,"score":0,"last_activity_date":1690536549,"creation_date":1497521751,"question_id":44564880,"body_markdown":"We&#39;re asked to set up permissions when a document is created.\r\n\r\nBasically the code part written is reproduced below :\r\n\r\n    public void onEvent(ObjectChangeEvent event, Id eventId) {\r\n    \tif (event instanceof CreationEvent) {\r\n    \t\tDocument doc = (Document) event.get_SourceObject();\r\n    \t\tAccessPermissionList permissions = doc.get_Permissions();\r\n    \t\tString creatorGranteeName = getCreatorGranteeName(doc);\r\n    \t\tIterator&lt;AccessPermission&gt; iter = permissions.iterator();\r\n            boolean found = false;\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\tAccessPermission ace = (AccessPermission) iter.next();\r\n    \t\t\tif (ace.get_GranteeName().equals(creatorGranteeName)) {\r\n    \t\t\t\tpermissions.remove(ace);\r\n    \t\t\t\t// relevant ? is &quot;permission&quot; duplicated ?\r\n    \t\t\t\tdoc.set_Permissions(permissions);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n            if (!found) return ; // no need to save\r\n    \t\tdoc.save(RefreshMode.REFRESH); // --&gt; triggers CreationEvent -&gt; loop\r\n    \t\tSystem.out.println(&quot;Saved.&quot;); // never reached\r\n    \t}\r\n    }\r\n\r\n\r\nI tried two ways : a preprocessor or a subscription.\r\n\r\n**Preprocessor** doesn&#39;t work since the document doesn&#39;t seems to be fully built, especially about permissions (only administrators are set). Fetching doesn&#39;t seem to work (which is understandable, since the document isn&#39;t yet stored).\r\n\r\n**Susbcription** crashes if it&#39;s *synchronously* processed at `doc.save()` line, regardless if the refresh mode is `RefreshMode.REFRESH` or `RefreshMode.NO_REFRESH`.\r\nIf it&#39;s *asynchrounsly* done, it seems to loop, as if `doc.save` retriggers a `CreationEvent`.\r\n\r\nSo I&#39;m looking for a help if I did something wrong, or for a third way if it exists.\r\n\r\nEDIT : added block code which skips saving if no permissions to remove was found.","title":"FileNET P8 5.2.1 FP2 - edit permissions on document creation","body":"<p>We're asked to set up permissions when a document is created.</p>\n\n<p>Basically the code part written is reproduced below :</p>\n\n<pre><code>public void onEvent(ObjectChangeEvent event, Id eventId) {\n    if (event instanceof CreationEvent) {\n        Document doc = (Document) event.get_SourceObject();\n        AccessPermissionList permissions = doc.get_Permissions();\n        String creatorGranteeName = getCreatorGranteeName(doc);\n        Iterator&lt;AccessPermission&gt; iter = permissions.iterator();\n        boolean found = false;\n        while (iter.hasNext()) {\n            AccessPermission ace = (AccessPermission) iter.next();\n            if (ace.get_GranteeName().equals(creatorGranteeName)) {\n                permissions.remove(ace);\n                // relevant ? is \"permission\" duplicated ?\n                doc.set_Permissions(permissions);\n                break;\n            }\n        }\n        if (!found) return ; // no need to save\n        doc.save(RefreshMode.REFRESH); // --&gt; triggers CreationEvent -&gt; loop\n        System.out.println(\"Saved.\"); // never reached\n    }\n}\n</code></pre>\n\n<p>I tried two ways : a preprocessor or a subscription.</p>\n\n<p><strong>Preprocessor</strong> doesn't work since the document doesn't seems to be fully built, especially about permissions (only administrators are set). Fetching doesn't seem to work (which is understandable, since the document isn't yet stored).</p>\n\n<p><strong>Susbcription</strong> crashes if it's <em>synchronously</em> processed at <code>doc.save()</code> line, regardless if the refresh mode is <code>RefreshMode.REFRESH</code> or <code>RefreshMode.NO_REFRESH</code>.\nIf it's <em>asynchrounsly</em> done, it seems to loop, as if <code>doc.save</code> retriggers a <code>CreationEvent</code>.</p>\n\n<p>So I'm looking for a help if I did something wrong, or for a third way if it exists.</p>\n\n<p>EDIT : added block code which skips saving if no permissions to remove was found.</p>\n"},{"tags":["java","spring","microservices","spring-cloud","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690533980,"creation_date":1690533980,"answer_id":76786171,"question_id":76785852,"body_markdown":"I used yml file for  config. I turned yml file to properties file and problem is solved","title":"Spring Cloud API GATEWAY routing does not working","body":"<p>I used yml file for  config. I turned yml file to properties file and problem is solved</p>\n"}],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690535811,"creation_date":1690531117,"question_id":76785852,"body_markdown":"I developing new project using Spring Cloud Gateway and microservices. When I run the method with the microservice&#39;s own port, the method works. But when I call it with the port of the gateway, the route operation does not occur. Additionally, User Service And Gateway is registered on Eureka Server and used DiscoveryClient annotation\r\n\r\n\r\n (type=Not Found, status=404).\r\n\r\nGateway YAML file\r\n\r\nserver:\r\n\r\n    port: 9191 spring: application: name: API-GATEWAYcloud: gateway:  routes:  -id: USER-SERVICE uri: lb://USER-SERVICE/ predicates:-Path=/user/**\r\n\r\n\r\n\r\neureka:\r\n\r\n      client:\r\n        service-url:\r\n          defaultZone: http://localhost:8761/eureka/\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n      instance:\r\n        hostname: localhost\r\n\r\n","title":"Spring Cloud API GATEWAY routing does not working","body":"<p>I developing new project using Spring Cloud Gateway and microservices. When I run the method with the microservice's own port, the method works. But when I call it with the port of the gateway, the route operation does not occur. Additionally, User Service And Gateway is registered on Eureka Server and used DiscoveryClient annotation</p>\n<p>(type=Not Found, status=404).</p>\n<p>Gateway YAML file</p>\n<p>server:</p>\n<pre><code>port: 9191 spring: application: name: API-GATEWAYcloud: gateway:  routes:  -id: USER-SERVICE uri: lb://USER-SERVICE/ predicates:-Path=/user/**\n</code></pre>\n<p>eureka:</p>\n<pre><code>  client:\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n    register-with-eureka: true\n    fetch-registry: true\n  instance:\n    hostname: localhost\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":15752522,"reputation":648,"user_id":11366574,"display_name":"Nikhil Jain"},"score":0,"creation_date":1690533314,"post_id":76786067,"comment_id":135370100,"body_markdown":"Please add more details to the question or code snippet.","body":"Please add more details to the question or code snippet."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690573035,"post_id":76786067,"comment_id":135377706,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":28935076,"reputation":1,"user_id":22162843,"display_name":"aladium"},"score":0,"creation_date":1690626016,"post_id":76786357,"comment_id":135381800,"body_markdown":"I tried it, it&#39;s not a scrollbar","body":"I tried it, it&#39;s not a scrollbar"},{"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"score":0,"creation_date":1690639091,"post_id":76786357,"comment_id":135383259,"body_markdown":"@user22162843\nThen we need more data. For example your XML layout fir item and  code for adapter","body":"@user22162843 Then we need more data. For example your XML layout fir item and  code for adapter"}],"tags":[],"owner":{"account_id":11813923,"reputation":342,"user_id":8644685,"display_name":"Ivan Abakumov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690535385,"creation_date":1690535385,"answer_id":76786357,"question_id":76786067,"body_markdown":"If it&#39;s a scrollbar then you can add this property to your xml\r\n\r\n     android:scrollbars=&quot;none&quot;","title":"How to remove this line on recycler view?","body":"<p>If it's a scrollbar then you can add this property to your xml</p>\n<pre><code> android:scrollbars=&quot;none&quot;\n</code></pre>\n"}],"owner":{"account_id":28935076,"reputation":1,"user_id":22162843,"display_name":"aladium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690535385,"creation_date":1690533156,"question_id":76786067,"body_markdown":"[![I can&#39;t removing this line in a very simple recycler view](https://i.stack.imgur.com/C4KsI.png)](https://i.stack.imgur.com/C4KsI.png)\r\n\r\nI can&#39;t remove that line on the recycler view shown in the image(above in the link)\r\n\r\nThe items row XML file is empty. It has a single card view, and rclrv view adapter also doesn&#39;t contain anything. But that line appears when I add an item.","title":"How to remove this line on recycler view?","body":"<p><a href=\"https://i.stack.imgur.com/C4KsI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4KsI.png\" alt=\"I can't removing this line in a very simple recycler view\" /></a></p>\n<p>I can't remove that line on the recycler view shown in the image(above in the link)</p>\n<p>The items row XML file is empty. It has a single card view, and rclrv view adapter also doesn't contain anything. But that line appears when I add an item.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690534703,"creation_date":1690534703,"answer_id":76786269,"question_id":76786069,"body_markdown":"As you correctly mentioned this code do the same thing. However, in that particular case there is some related one to each other advantages of using `public Parent(String name)`:\r\n\r\n - It gives you an ability to mark field `String name` final, what is actually meant to be in that case.\r\n \r\n - It&#39;s more straightforward: you probably expect `Parent` class to have `name` defined, so it shouldn&#39;t depend on how `Child` class is implemented, or whether it even exists.\r\n \r\n \r\n - It would implement basic OOP principle: encapsulation","title":"Assignment of class property from child vs calling super, is there any significant difference?","body":"<p>As you correctly mentioned this code do the same thing. However, in that particular case there is some related one to each other advantages of using <code>public Parent(String name)</code>:</p>\n<ul>\n<li><p>It gives you an ability to mark field <code>String name</code> final, what is actually meant to be in that case.</p>\n</li>\n<li><p>It's more straightforward: you probably expect <code>Parent</code> class to have <code>name</code> defined, so it shouldn't depend on how <code>Child</code> class is implemented, or whether it even exists.</p>\n</li>\n<li><p>It would implement basic OOP principle: encapsulation</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3588258,"reputation":44,"user_id":2994883,"display_name":"user2994883"},"score":0,"creation_date":1690535724,"post_id":76786278,"comment_id":135370616,"body_markdown":"Makes sense. Basically it boils down to &quot;depends&quot; and &quot;use your best judgement given the situation&quot;. Thanks.","body":"Makes sense. Basically it boils down to &quot;depends&quot; and &quot;use your best judgement given the situation&quot;. Thanks."}],"tags":[],"owner":{"display_name":"user6073886"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690535181,"creation_date":1690534742,"answer_id":76786278,"question_id":76786069,"body_markdown":"In both your examples creating a `Child` object via `new Child();` would result in a Child object with the `String name` field set to `&quot;Child&quot;`. \r\n\r\nConstructor chaining is usually done to make code more maintainable and avoid duplicate code. eG Let&#39;s say instead of using a fixed value the `String name` attribute would be an argument that would have to be passed into the constructor. And we also would like to disallow `null` values for the `String name` attribute and throw an error if a user tries to create an Object by passing `null` into the constructor.\r\n\r\nWithout constructor chaining and calling `super(name)` you would end up with code like this: \r\n\r\n    public class Parent {\r\n        protected String name;\r\n\r\n        public Parent(String name) {\r\n            if(name == null) {\r\n                throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\r\n            }\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class Child extends Parent{\r\n        public Child(String name) {\r\n            if(name == null) {\r\n                throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\r\n            }\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n\r\nWhile if you use Constructor chaining you would not have to write duplicate code as you can put all logic into Parent constructor that is always called:\r\n\r\n\r\n\r\n    public class Parent {\r\n        protected String name;\r\n\r\n        public Parent(String name) {\r\n            if(name == null) {\r\n                throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\r\n            }\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class Child extends Parent{\r\n        public Child(String name) {\r\n            super(name);\r\n        }\r\n    }","title":"Assignment of class property from child vs calling super, is there any significant difference?","body":"<p>In both your examples creating a <code>Child</code> object via <code>new Child();</code> would result in a Child object with the <code>String name</code> field set to <code>&quot;Child&quot;</code>.</p>\n<p>Constructor chaining is usually done to make code more maintainable and avoid duplicate code. eG Let's say instead of using a fixed value the <code>String name</code> attribute would be an argument that would have to be passed into the constructor. And we also would like to disallow <code>null</code> values for the <code>String name</code> attribute and throw an error if a user tries to create an Object by passing <code>null</code> into the constructor.</p>\n<p>Without constructor chaining and calling <code>super(name)</code> you would end up with code like this:</p>\n<pre><code>public class Parent {\n    protected String name;\n\n    public Parent(String name) {\n        if(name == null) {\n            throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\n        }\n        this.name = name;\n    }\n}\n\npublic class Child extends Parent{\n    public Child(String name) {\n        if(name == null) {\n            throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\n        }\n        this.name = name;\n    }\n}\n</code></pre>\n<p>While if you use Constructor chaining you would not have to write duplicate code as you can put all logic into Parent constructor that is always called:</p>\n<pre><code>public class Parent {\n    protected String name;\n\n    public Parent(String name) {\n        if(name == null) {\n            throw new IllegalArgumentException(&quot;Name cannot be null!&quot;);\n        }\n        this.name = name;\n    }\n}\n\npublic class Child extends Parent{\n    public Child(String name) {\n        super(name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690535172,"creation_date":1690534857,"answer_id":76786297,"question_id":76786069,"body_markdown":"The question is quite abstract, so my answer will also be abstract :) \r\n\r\nAs you pointed out, for this particular implementation it doesn&#39;t really matter, technically you&#39;re doing the same. But you may have some logic of how you assign the field (although, I&#39;m personally against any logic in the constructor, besides the fields assignment). E. g. You may like to &quot;clean up&quot; your `name`, by replacing the trailing spaces etc. or to check if the name is valid or not null, then it would be beneficial to have it in the parent class, so none of subclasses can mess the logic up. That means that your second example better suites this case. It maybe opposite, when you need to make some special cleanup in the child, but not in the parent, then the first example is better. That&#39;s from practical perspective.\r\n\r\nMy personal opinion is that the second example is better, because it generally makes code more simple. I usually even try to avoid setters and make the field `final`, or maybe even private. In another words, if this `name` field belongs to the `Parent`, then let parent assign it and don&#39;t try to intervene. Then every time when you see that `name` is wrong, or you need to somehow change the logic of how you assigning the name, you know one and only place where to do that. Maybe tomorrow you&#39;ll decide to introduce two additional fields for conveniency `firstName` and `lastName` and the logic will be like: split the name with a space and assign first and last name. If you go with the first example, you will need to duplicate this logic. In the second example, you just hook into `Parent`&#39;s constructor.","title":"Assignment of class property from child vs calling super, is there any significant difference?","body":"<p>The question is quite abstract, so my answer will also be abstract :)</p>\n<p>As you pointed out, for this particular implementation it doesn't really matter, technically you're doing the same. But you may have some logic of how you assign the field (although, I'm personally against any logic in the constructor, besides the fields assignment). E. g. You may like to &quot;clean up&quot; your <code>name</code>, by replacing the trailing spaces etc. or to check if the name is valid or not null, then it would be beneficial to have it in the parent class, so none of subclasses can mess the logic up. That means that your second example better suites this case. It maybe opposite, when you need to make some special cleanup in the child, but not in the parent, then the first example is better. That's from practical perspective.</p>\n<p>My personal opinion is that the second example is better, because it generally makes code more simple. I usually even try to avoid setters and make the field <code>final</code>, or maybe even private. In another words, if this <code>name</code> field belongs to the <code>Parent</code>, then let parent assign it and don't try to intervene. Then every time when you see that <code>name</code> is wrong, or you need to somehow change the logic of how you assigning the name, you know one and only place where to do that. Maybe tomorrow you'll decide to introduce two additional fields for conveniency <code>firstName</code> and <code>lastName</code> and the logic will be like: split the name with a space and assign first and last name. If you go with the first example, you will need to duplicate this logic. In the second example, you just hook into <code>Parent</code>'s constructor.</p>\n"}],"owner":{"account_id":3588258,"reputation":44,"user_id":2994883,"display_name":"user2994883"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76786278,"answer_count":3,"score":0,"last_activity_date":1690535181,"creation_date":1690533161,"question_id":76786069,"body_markdown":"I&#39;m new to java so you&#39;ll have to excuse my ignorance.\r\n\r\nIs there any meaningful difference between implicitly setting a value to a class property from a parent class as opposed to using a constructor and calling `super`.\r\n\r\n\r\nI don&#39;t think I explained properly what I mean so here&#39;s a concrete example\r\n\r\n    public class Parent {\r\n        protected String name;\r\n    }\r\n\r\n    public class Child extends Parent{\r\n        public Child() {\r\n            this.name = &quot;Child&quot;;\r\n        }\r\n    }\r\n\r\nAs opposed to\r\n\r\n    public class Parent {\r\n        protected String name;\r\n    \r\n        public Parent(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class Child extends Parent{\r\n        public Child() {\r\n            super(&quot;Child&quot;);\r\n        }\r\n    }\r\n\r\nThis code, essentially, does the same thing. If setters/getters would exist in either parent or child they&#39;d work pretty much how you&#39;d expect them to work.","title":"Assignment of class property from child vs calling super, is there any significant difference?","body":"<p>I'm new to java so you'll have to excuse my ignorance.</p>\n<p>Is there any meaningful difference between implicitly setting a value to a class property from a parent class as opposed to using a constructor and calling <code>super</code>.</p>\n<p>I don't think I explained properly what I mean so here's a concrete example</p>\n<pre><code>public class Parent {\n    protected String name;\n}\n\npublic class Child extends Parent{\n    public Child() {\n        this.name = &quot;Child&quot;;\n    }\n}\n</code></pre>\n<p>As opposed to</p>\n<pre><code>public class Parent {\n    protected String name;\n\n    public Parent(String name) {\n        this.name = name;\n    }\n}\n\npublic class Child extends Parent{\n    public Child() {\n        super(&quot;Child&quot;);\n    }\n}\n</code></pre>\n<p>This code, essentially, does the same thing. If setters/getters would exist in either parent or child they'd work pretty much how you'd expect them to work.</p>\n"},{"tags":["java","spring-boot","graalvm","spring-native","native-maven-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690535609,"post_id":76786328,"comment_id":135370592,"body_markdown":"`PropertiesFileLoader(&quot;alternate.properties&quot;);` is already loading from the wrong location. That should be `config/prod/alternate.properties` instead.","body":"<code>PropertiesFileLoader(&quot;alternate.properties&quot;);</code> is already loading from the wrong location. That should be <code>config&#47;prod&#47;alternate.properties</code> instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690538100,"post_id":76786328,"comment_id":135371129,"body_markdown":"Try `classpath:/config/prod/alternate.properties`","body":"Try <code>classpath:&#47;config&#47;prod&#47;alternate.properties</code>"}],"owner":{"account_id":6988093,"reputation":121,"user_id":5462346,"display_name":"Anurag Ambuj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690535090,"creation_date":1690535090,"question_id":76786328,"body_markdown":"I am migrating an existing spring boot project to spring boot native project. In my **native** spring boot project I have a property file alternate.properties in the location:\r\n\r\n`resources/config/prod/alternate.properties`.\r\n\r\nThis file is manually being loaded using \r\n```\r\nPropertiesFileLoader altProps = new PropertiesFileLoader(&quot;alternate.properties&quot;);\r\n```\r\n\r\nNow when I build the native image and run the executable:\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: Property file &#39;alternate.properties&#39; is not found in classpath\r\n        at com.blusmart.trace.config.utils.PropertiesFileLoader.loadFromClasspath(PropertiesFileLoader.java:131) ~[na:na]\r\n        ... 88 common frames omitted\r\n```\r\n\r\nJDK: GraalVM 22.3, JDK 17.0.7\r\nOS: MacOS on M2 Chip (aarch64)\r\n\r\nI tried adding those in a file named resource-config-prod.json (inside resources folder) like this:\r\n\r\n```\r\n{\r\n  &quot;resources&quot;: {\r\n    &quot;includes&quot;: [\r\n      {&quot;pattern&quot;: &quot;src/main/resources/config/prod/alternate.properties&quot;, &quot;fileEncoding&quot;: &quot;UTF-8&quot;}\r\n    ]\r\n  }\r\n}\r\n```\r\nTried many permutations for pattern, like\r\n```\r\nconfig/prod/alternate.properties\r\n*.properties$\r\n*.alternate.properties$\r\n*.config/prod/alternate.properties$\r\nsrc/main/resources/config/prod/alternate.properties\r\n...\r\n...\r\n...\r\n``` \r\nbut to now avail, it just doesn&#39;t find the property file.\r\n\r\nBuild arguments in native-maven-plugin\r\n\r\n```\r\n&lt;buildArgs&gt;\r\n\t&lt;arg&gt;\r\n\t\t--verbose\r\n\t\t-J-XX:MaxRAMPercentage=80\r\n\t\t-J-XshowSettings:vm\r\n\t\t-Dspring.aot.enabled=true\r\n\t\t-H:TraceClassInitialization=true\r\n\t\t-H:+ReportExceptionStackTraces\r\n\t\t-H:+RunReachabilityHandlersConcurrently\r\n\t\t-H:Name=trace-app\r\n\t\t-H:DashboardDump=trace-app\r\n\t\t-H:+DashboardAll\r\n\t\t-H:IncludeResources=org/joda/time/tz/data/.*\r\n\t\t-H:ResourceConfigurationFiles=src/main/resources/resource-config-prod.json\r\n\t\t-H:Class=com.hidden.trace.TraceApplication\r\n\t\t--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback,org.slf4j.MDC,org.slf4j.impl.StaticLoggerBinder,\r\n\t\t--initialize-at-run-time=io.netty,org.apache.commons.lang3.tuple.ImmutablePair\r\n\t\t\t\t\t\t\t\t-Dspring.graal.remove-unused-autoconfig=true\r\n\t\t\t\t\t\t\t\t-Dspring.graal.remove-yaml-support=true\r\n\t&lt;/arg&gt;\r\n&lt;/buildArgs&gt;\r\n```\r\n\r\nRequesting your help with this, I am unable to find a solution that works online, and the documentation for Graal VM doesn&#39;t seem to help me. Is there anything I am missing, or is there any another way to do this ?\r\n\r\n\r\n\r\n","title":"How to load custom property file located inside a folder in resources in graalvm native image?","body":"<p>I am migrating an existing spring boot project to spring boot native project. In my <strong>native</strong> spring boot project I have a property file alternate.properties in the location:</p>\n<p><code>resources/config/prod/alternate.properties</code>.</p>\n<p>This file is manually being loaded using</p>\n<pre><code>PropertiesFileLoader altProps = new PropertiesFileLoader(&quot;alternate.properties&quot;);\n</code></pre>\n<p>Now when I build the native image and run the executable:</p>\n<pre><code>Caused by: java.io.FileNotFoundException: Property file 'alternate.properties' is not found in classpath\n        at com.blusmart.trace.config.utils.PropertiesFileLoader.loadFromClasspath(PropertiesFileLoader.java:131) ~[na:na]\n        ... 88 common frames omitted\n</code></pre>\n<p>JDK: GraalVM 22.3, JDK 17.0.7\nOS: MacOS on M2 Chip (aarch64)</p>\n<p>I tried adding those in a file named resource-config-prod.json (inside resources folder) like this:</p>\n<pre><code>{\n  &quot;resources&quot;: {\n    &quot;includes&quot;: [\n      {&quot;pattern&quot;: &quot;src/main/resources/config/prod/alternate.properties&quot;, &quot;fileEncoding&quot;: &quot;UTF-8&quot;}\n    ]\n  }\n}\n</code></pre>\n<p>Tried many permutations for pattern, like</p>\n<pre><code>config/prod/alternate.properties\n*.properties$\n*.alternate.properties$\n*.config/prod/alternate.properties$\nsrc/main/resources/config/prod/alternate.properties\n...\n...\n...\n</code></pre>\n<p>but to now avail, it just doesn't find the property file.</p>\n<p>Build arguments in native-maven-plugin</p>\n<pre><code>&lt;buildArgs&gt;\n    &lt;arg&gt;\n        --verbose\n        -J-XX:MaxRAMPercentage=80\n        -J-XshowSettings:vm\n        -Dspring.aot.enabled=true\n        -H:TraceClassInitialization=true\n        -H:+ReportExceptionStackTraces\n        -H:+RunReachabilityHandlersConcurrently\n        -H:Name=trace-app\n        -H:DashboardDump=trace-app\n        -H:+DashboardAll\n        -H:IncludeResources=org/joda/time/tz/data/.*\n        -H:ResourceConfigurationFiles=src/main/resources/resource-config-prod.json\n        -H:Class=com.hidden.trace.TraceApplication\n        --initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback,org.slf4j.MDC,org.slf4j.impl.StaticLoggerBinder,\n        --initialize-at-run-time=io.netty,org.apache.commons.lang3.tuple.ImmutablePair\n                                -Dspring.graal.remove-unused-autoconfig=true\n                                -Dspring.graal.remove-yaml-support=true\n    &lt;/arg&gt;\n&lt;/buildArgs&gt;\n</code></pre>\n<p>Requesting your help with this, I am unable to find a solution that works online, and the documentation for Graal VM doesn't seem to help me. Is there anything I am missing, or is there any another way to do this ?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690534733,"creation_date":1690534733,"answer_id":76786276,"question_id":76785431,"body_markdown":"It is ofk possible by mapping all fields using elasticsearch **should**(OR) statement, but this is a pain you know where and not really performant from elasticsearch side.\r\n\r\nI would highly recommend to use **copy_to** approach.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/copy-to.html\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8tQzJ.png\r\n\r\n\r\nYou will have to modify your index, and make reindexing of existing data, but after that - every field you have - will be additionally added to aggregated field and you will be able to search only in 1 field. \r\n\r\n\r\nThis is a pretty common approach in most search engines. Copying all keywords to 1 field, and allowing to make something like single line google search panel which will **search within all keywords**.","title":"Search a string of text occuring anywhere in value of all the fields of elastic index?","body":"<p>It is ofk possible by mapping all fields using elasticsearch <strong>should</strong>(OR) statement, but this is a pain you know where and not really performant from elasticsearch side.</p>\n<p>I would highly recommend to use <strong>copy_to</strong> approach.</p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/copy-to.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/copy-to.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/8tQzJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tQzJ.png\" alt=\"enter image description here\" /></a></p>\n<p>You will have to modify your index, and make reindexing of existing data, but after that - every field you have - will be additionally added to aggregated field and you will be able to search only in 1 field.</p>\n<p>This is a pretty common approach in most search engines. Copying all keywords to 1 field, and allowing to make something like single line google search panel which will <strong>search within all keywords</strong>.</p>\n"}],"owner":{"account_id":10146826,"reputation":3,"user_id":13294535,"display_name":"amt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690534733,"creation_date":1690527108,"question_id":76785431,"body_markdown":"i have a wildcard or a string of text say for example &quot;abc&quot; i want to search the occurence of this text anywhere in the value of a field but i want to search this in all the fields of a document is this possible using a wildcard query? also how to write the query using the java query builder objects\r\n\r\nif i use the following how to write it using java\r\n\r\n    GET &lt;index_name&gt;/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;must&quot;: [\r\n            {\r\n              &quot;query_string&quot;: {\r\n                &quot;query&quot;: &quot;*roj*&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Search a string of text occuring anywhere in value of all the fields of elastic index?","body":"<p>i have a wildcard or a string of text say for example &quot;abc&quot; i want to search the occurence of this text anywhere in the value of a field but i want to search this in all the fields of a document is this possible using a wildcard query? also how to write the query using the java query builder objects</p>\n<p>if i use the following how to write it using java</p>\n<pre><code>GET &lt;index_name&gt;/_search\n{\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must&quot;: [\n        {\n          &quot;query_string&quot;: {\n            &quot;query&quot;: &quot;*roj*&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","jar","maven-shade-plugin"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690526406,"post_id":76784800,"comment_id":135368821,"body_markdown":"Do you have multiple JAR files in the `target` directory after building? Which one are you running?","body":"Do you have multiple JAR files in the <code>target</code> directory after building? Which one are you running?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690528682,"post_id":76784800,"comment_id":135369212,"body_markdown":"Don&#39;t add tags just because they match a word in your question. Read the tag description and see if it&#39;s relevant. (I removed the [fat] tag)","body":"Don&#39;t add tags just because they match a word in your question. Read the tag description and see if it&#39;s relevant. (I removed the [fat] tag)"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690534127,"creation_date":1690534127,"answer_id":76786191,"question_id":76784800,"body_markdown":"Remove your `artifactSet` node and replace it with the following. It&#39;s always worked for me:\r\n\r\n\r\n```\r\n&lt;filters&gt;\r\n    &lt;filter&gt;\r\n        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/filter&gt;\r\n&lt;/filters&gt;\r\n```","title":"NoClassDefFoundError: org/apache/commons/cli/ParseException - Maven Shade Plugin - Fat Jar","body":"<p>Remove your <code>artifactSet</code> node and replace it with the following. It's always worked for me:</p>\n<pre><code>&lt;filters&gt;\n    &lt;filter&gt;\n        &lt;artifact&gt;*:*&lt;/artifact&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n"}],"owner":{"account_id":27987284,"reputation":9,"user_id":21373856,"display_name":"MagicKoyFish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690534127,"creation_date":1690517505,"question_id":76784800,"body_markdown":"I am attempting to make a fat jar using Maven Shade Plugin, but I am having trouble. Every time I run the shaded jar file, I get this error: \r\n\r\n```\r\nError: Unable to initialize main class nz.ac.wgtn.swen301.assignment1.cli.StudentManagerUI\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/cli/ParseException\r\n```\r\n\r\nI have never used Maven Shade before, so I don&#39;t understand why this doesn&#39;t include all of the dependencies in the jar.\r\n\r\nHere is my pom.xml file for reference:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;nz.ac.wgtn.swen301&lt;/groupId&gt;\r\n    &lt;artifactId&gt;assignment1&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;name&gt;swen301-assignment1&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n      &lt;!-- careful upgrading: newer versions seem to have been compiled with Java 17 !! --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n        &lt;version&gt;10.14.2.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n        &lt;!-- to be used for the CLI --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- useful for several utilities, including data structures --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.1.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- local dependency to setup database --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nz.ac.wgtn.swen301&lt;/groupId&gt;\r\n            &lt;artifactId&gt;studentdb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/studentdb-1.3.1.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;!-- Maven Shade Plugin --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;org.apache.commons:commons-lang3&lt;/include&gt;\r\n                                    &lt;include&gt;org.apache.commons:commons-cli&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;nz.ac.wgtn.swen301.assignment1.cli.StudentManagerUI&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt; \r\n```\r\n\r\nI have looked at multiple iterations of solutions to the `java.lang.NoClassDefFoundError`:\r\nBut nothing has helped thus far. \r\nI wouldd appreciate any help!\r\n\r\nThanks very much in advance.","title":"NoClassDefFoundError: org/apache/commons/cli/ParseException - Maven Shade Plugin - Fat Jar","body":"<p>I am attempting to make a fat jar using Maven Shade Plugin, but I am having trouble. Every time I run the shaded jar file, I get this error:</p>\n<pre><code>Error: Unable to initialize main class nz.ac.wgtn.swen301.assignment1.cli.StudentManagerUI\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/cli/ParseException\n</code></pre>\n<p>I have never used Maven Shade before, so I don't understand why this doesn't include all of the dependencies in the jar.</p>\n<p>Here is my pom.xml file for reference:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;nz.ac.wgtn.swen301&lt;/groupId&gt;\n    &lt;artifactId&gt;assignment1&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;swen301-assignment1&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n      &lt;!-- careful upgrading: newer versions seem to have been compiled with Java 17 !! --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n        &lt;artifactId&gt;derby&lt;/artifactId&gt;\n        &lt;version&gt;10.14.2.0&lt;/version&gt;\n      &lt;/dependency&gt;\n\n        &lt;!-- to be used for the CLI --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- useful for several utilities, including data structures --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- local dependency to setup database --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nz.ac.wgtn.swen301&lt;/groupId&gt;\n            &lt;artifactId&gt;studentdb&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/studentdb-1.3.1.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;!-- Maven Shade Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;org.apache.commons:commons-lang3&lt;/include&gt;\n                                    &lt;include&gt;org.apache.commons:commons-cli&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;nz.ac.wgtn.swen301.assignment1.cli.StudentManagerUI&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt; \n</code></pre>\n<p>I have looked at multiple iterations of solutions to the <code>java.lang.NoClassDefFoundError</code>:\nBut nothing has helped thus far.\nI wouldd appreciate any help!</p>\n<p>Thanks very much in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1431733183,"post_id":30267447,"comment_id":48640103,"body_markdown":"On a tangential note, whoever decided to throw an `Error` instead of `IllegalStateException` needs to be slapped.","body":"On a tangential note, whoever decided to throw an <code>Error</code> instead of <code>IllegalStateException</code> needs to be slapped."},{"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"score":0,"creation_date":1432323078,"post_id":30267447,"comment_id":48896756,"body_markdown":"Could post the code for sending the broadcast and manifest&#39;s attributes for catching it?","body":"Could post the code for sending the broadcast and manifest&#39;s attributes for catching it?"},{"owner":{"account_id":338170,"reputation":3057,"user_id":666884,"display_name":"pathfinderelite"},"score":0,"creation_date":1432325096,"post_id":30267447,"comment_id":48897816,"body_markdown":"@Simas Added.  The broadcast is sent by the OS.","body":"@Simas Added.  The broadcast is sent by the OS."}],"answers":[{"comments":[{"owner":{"account_id":338170,"reputation":3057,"user_id":666884,"display_name":"pathfinderelite"},"score":0,"creation_date":1432327388,"post_id":30405444,"comment_id":48898797,"body_markdown":"*An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch* From [doc](http://docs.oracle.com/javase/7/docs/api/java/lang/Error.html).  I&#39;m uncomfortable catching an `Error`, as the JVM may remain in an abnormal state.  Then again, it&#39;s not as abnormal as a crashed application :).  In any case, thank you, but this doesn&#39;t really answer my question of why it&#39;s happening.","body":"<i>An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch</i> From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Error.html\" rel=\"nofollow noreferrer\">doc</a>.  I&#39;m uncomfortable catching an <code>Error</code>, as the JVM may remain in an abnormal state.  Then again, it&#39;s not as abnormal as a crashed application :).  In any case, thank you, but this doesn&#39;t really answer my question of why it&#39;s happening."},{"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"score":0,"creation_date":1432327572,"post_id":30405444,"comment_id":48898876,"body_markdown":"@pathfinderelite You can always check if the error thrown is the one you expect it to be otherwise re-throw it or you could instead get the static variable via reflection and check if it&#39;s null.","body":"@pathfinderelite You can always check if the error thrown is the one you expect it to be otherwise re-throw it or you could instead get the static variable via reflection and check if it&#39;s null."},{"owner":{"account_id":338170,"reputation":3057,"user_id":666884,"display_name":"pathfinderelite"},"score":0,"creation_date":1432330388,"post_id":30405444,"comment_id":48900018,"body_markdown":"Unfortunately, passively ignoring the situation has another, potentially more significant, problem.  If the updated application implements the URLStreamHandlerFactory differently than the previous version, the new factory will not get set.  The old factory would still be in-place.  This also begs the question, which `ExternalProtocol` and `ArchiveProtocol` classes would the old factory use?  The ones from the previous version or the updated version?","body":"Unfortunately, passively ignoring the situation has another, potentially more significant, problem.  If the updated application implements the URLStreamHandlerFactory differently than the previous version, the new factory will not get set.  The old factory would still be in-place.  This also begs the question, which <code>ExternalProtocol</code> and <code>ArchiveProtocol</code> classes would the old factory use?  The ones from the previous version or the updated version?"}],"tags":[],"owner":{"account_id":3930856,"reputation":43670,"user_id":3249477,"accept_rate":86,"display_name":"Simas"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432326751,"creation_date":1432326751,"answer_id":30405444,"question_id":30267447,"body_markdown":"AFAIK you can/should not restart the JVM. Furthermore, as you&#39;ve already found out, you can&#39;t set `URLStreamHandlerFactory` twice in a JVM for a single application.\r\n\r\nYour application should try to set the factory only when it isn&#39;t:\r\n\r\n\ttry {\r\n\t\tURL.setURLStreamHandlerFactory(factory);\r\n\t} catch (Error e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nIf your application updates also include updating the factory, you could try [killing the process your app resides in][1] but I don&#39;t it&#39;s a good idea to do so, even worse - it might not even work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10597017/3249477","title":"setURLStreamHandlerFactory and &quot;java.lang.Error: Factory already set&quot;","body":"<p>AFAIK you can/should not restart the JVM. Furthermore, as you've already found out, you can't set <code>URLStreamHandlerFactory</code> twice in a JVM for a single application.</p>\n\n<p>Your application should try to set the factory only when it isn't:</p>\n\n<pre><code>try {\n    URL.setURLStreamHandlerFactory(factory);\n} catch (Error e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If your application updates also include updating the factory, you could try <a href=\"https://stackoverflow.com/a/10597017/3249477\">killing the process your app resides in</a> but I don't it's a good idea to do so, even worse - it might not even work.</p>\n"},{"comments":[{"owner":{"account_id":338170,"reputation":3057,"user_id":666884,"display_name":"pathfinderelite"},"score":0,"creation_date":1432896372,"post_id":30524545,"comment_id":49128462,"body_markdown":"Thanks, #2 seems promising.","body":"Thanks, #2 seems promising."},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1688481354,"post_id":30524545,"comment_id":135078283,"body_markdown":"For me, only solution #4 worked. Because my code is loaded via my class loader, the factory was set in the JDK URL class but when trying to use it from another class loader I had unknown protocol.","body":"For me, only solution #4 worked. Because my code is loaded via my class loader, the factory was set in the JDK URL class but when trying to use it from another class loader I had unknown protocol."}],"tags":[],"owner":{"account_id":3838375,"reputation":10942,"user_id":3182188,"accept_rate":75,"display_name":"Raniz"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1498802414,"creation_date":1432887374,"answer_id":30524545,"question_id":30267447,"body_markdown":"Static blocks are executed when the class is loaded - if the class is reloaded for some reason (for example when it has been updated) it will be executed again.\r\n\r\nIn your case it means that the `URLStreamHandlerFactory` you set the previous time it was loaded will remain.\r\n\r\nThis isn&#39;t really an issue unless you&#39;ve updated the `URLStreamHandlerFactory`.\r\n\r\nThere are two ways of fixing this:\r\n\r\n1. Catch the `Error` and continue on your merry way, ignoring the fact that you&#39;re still using the old factory.\r\n\r\n2. Implement a very simple wrapper that delegates to another `URLStreamHandlerFactory` that you *can* replace and that you won&#39;t have to change. You&#39;ll run into the same issue here with the wrapper though so you need to catch the `Error` on that one or combine it with option 3.\r\n\r\n3. Keep track of whether or not you&#39;ve already installed the handler using a system property.\r\n\r\nCode:\r\n\r\n    public static void maybeInstall(URLStreamHandlerFactory factory) {\r\n        if(System.getProperty(&quot;com.xxx.streamHandlerFactoryInstalled&quot;) == null) {\r\n            URL.setURLStreamHandlerFactory(factory);\r\n            System.setProperty(&quot;com.xxx.streamHandlerFactoryInstalled&quot;, &quot;true&quot;);\r\n        }\r\n    }\r\n\r\n4. Force replacement using reflection. I have absolutely no idea why you can only set the `URLStreamHandlerFactory` once - it makes little sense to me TBH.\r\n\r\nCode:\r\n\r\n    public static void forcefullyInstall(URLStreamHandlerFactory factory) {\r\n        try {\r\n            // Try doing it the normal way\r\n            URL.setURLStreamHandlerFactory(factory);\r\n        } catch (final Error e) {\r\n            // Force it via reflection\r\n            try {\r\n                final Field factoryField = URL.class.getDeclaredField(&quot;factory&quot;);\r\n                factoryField.setAccessible(true);\r\n                factoryField.set(null, factory);\r\n            } catch (NoSuchFieldException | IllegalAccessException e1) {\r\n                throw new Error(&quot;Could not access factory field on URL class: {}&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe field name is `factory` on Oracle&#39;s `JRE`, might be different on Android.\r\n\r\n\r\n","title":"setURLStreamHandlerFactory and &quot;java.lang.Error: Factory already set&quot;","body":"<p>Static blocks are executed when the class is loaded - if the class is reloaded for some reason (for example when it has been updated) it will be executed again.</p>\n\n<p>In your case it means that the <code>URLStreamHandlerFactory</code> you set the previous time it was loaded will remain.</p>\n\n<p>This isn't really an issue unless you've updated the <code>URLStreamHandlerFactory</code>.</p>\n\n<p>There are two ways of fixing this:</p>\n\n<ol>\n<li><p>Catch the <code>Error</code> and continue on your merry way, ignoring the fact that you're still using the old factory.</p></li>\n<li><p>Implement a very simple wrapper that delegates to another <code>URLStreamHandlerFactory</code> that you <em>can</em> replace and that you won't have to change. You'll run into the same issue here with the wrapper though so you need to catch the <code>Error</code> on that one or combine it with option 3.</p></li>\n<li><p>Keep track of whether or not you've already installed the handler using a system property.</p></li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>public static void maybeInstall(URLStreamHandlerFactory factory) {\n    if(System.getProperty(\"com.xxx.streamHandlerFactoryInstalled\") == null) {\n        URL.setURLStreamHandlerFactory(factory);\n        System.setProperty(\"com.xxx.streamHandlerFactoryInstalled\", \"true\");\n    }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>Force replacement using reflection. I have absolutely no idea why you can only set the <code>URLStreamHandlerFactory</code> once - it makes little sense to me TBH.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>public static void forcefullyInstall(URLStreamHandlerFactory factory) {\n    try {\n        // Try doing it the normal way\n        URL.setURLStreamHandlerFactory(factory);\n    } catch (final Error e) {\n        // Force it via reflection\n        try {\n            final Field factoryField = URL.class.getDeclaredField(\"factory\");\n            factoryField.setAccessible(true);\n            factoryField.set(null, factory);\n        } catch (NoSuchFieldException | IllegalAccessException e1) {\n            throw new Error(\"Could not access factory field on URL class: {}\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>The field name is <code>factory</code> on Oracle's <code>JRE</code>, might be different on Android.</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690534075,"creation_date":1690534075,"answer_id":76786186,"question_id":30267447,"body_markdown":"Following configuration (`fork`) worked for me :\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                        &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                        &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n     &lt;/plugin&gt;","title":"setURLStreamHandlerFactory and &quot;java.lang.Error: Factory already set&quot;","body":"<p>Following configuration (<code>fork</code>) worked for me :</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                    &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\n                &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":338170,"reputation":3057,"user_id":666884,"display_name":"pathfinderelite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8493,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1690534075,"creation_date":1431718520,"question_id":30267447,"body_markdown":"I&#39;ve come across an unexpected error caused by calling `URL.setURLStreamHandlerFactory(factory);` in an Android application that is being updated.\r\n\r\n    public class ApplicationRoot extends Application {\r\n    \r\n        static {\r\n            /* Add application support for custom URI protocols. */\r\n            final URLStreamHandlerFactory factory = new URLStreamHandlerFactory() {\r\n                @Override\r\n                public URLStreamHandler createURLStreamHandler(final String protocol) {\r\n                    if (ExternalProtocol.PROTOCOL.equals(protocol)) {\r\n                        return new ExternalProtocol();\r\n                    }\r\n                    if (ArchiveProtocol.PROTOCOL.equals(protocol)) {\r\n                        return new ArchiveProtocol();\r\n                    }\r\n                    return null;\r\n                }\r\n            };\r\n            URL.setURLStreamHandlerFactory(factory);\r\n        }\r\n    \r\n    }\r\n\r\n**Intro:**\r\n\r\nHere is my situation: I&#39;m maintaining a non-market application used in an enterprise fashion.  My business sells tablets with pre-installed applications that are developed and maintained by the business.  These pre-installed applications are not part of the ROM; they are installed as typical *Unknown Source* applications.  We do not perform updates through the Play Store or any other market.  Rather, application updates are controlled by a custom *Update Manager* application, which communicates directly with our servers to perform OTA updates.\r\n\r\n**Problem:**\r\n\r\nThis *Update Manager* application, which I am maintaining, occasionally needs to update itself.  Immediately after the application updates itself, it restarts by way of the `android.intent.action.PACKAGE_REPLACED` broadcast, which I register for in the AndroidManifest.  However, upon restart of the application immediately after the update, I *occasionally* receive this `Error`\r\n\r\n\tjava.lang.Error: Factory already set\r\n\t\tat java.net.URL.setURLStreamHandlerFactory(URL.java:112)\r\n\t\tat com.xxx.xxx.ApplicationRoot.&lt;clinit&gt;(ApplicationRoot.java:37)\r\n\t\tat java.lang.Class.newInstanceImpl(Native Method)\r\n\t\tat java.lang.Class.newInstance(Class.java:1208)\r\n\t\tat android.app.Instrumentation.newApplication(Instrumentation.java:996)\r\n\t\tat android.app.Instrumentation.newApplication(Instrumentation.java:981)\r\n\t\tat android.app.LoadedApk.makeApplication(LoadedApk.java:511)\r\n\t\tat android.app.ActivityThread.handleReceiver(ActivityThread.java:2625)\r\n\t\tat android.app.ActivityThread.access$1800(ActivityThread.java:172)\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1384)\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t\tat android.os.Looper.loop(Looper.java:146)\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5653)\r\n\t\tat java.lang.reflect.Method.invokeNative(Native Method)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:515)\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291)\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107)\r\n\t\tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nNote that the majority of the time, the application restarts properly.  However, every once in a while, I get the above error.  I&#39;m perplexed because the *only* place I call `setURLStreamHandlerFactory` is here, and it is done in a `static` block, which I presume - although correct me if I&#39;m wrong - is only called once, when the `ApplicationRoot` class if first loaded.  However, it would seem that it is getting called *twice*, resulting in the above error.\r\n\r\n**Question:**\r\n\r\nWhat in the *blazing sams* is going on?  My only guess at this point is that the VM/process for the *updated* application is the same as the *previously installed* application that is being updated, so when the `static` block for the *new* `ApplicationRoot` gets called, the `URLStreamHandlerFactory` set by the *old* `ApplicationRoot` is still &quot;active&quot;.  Is this possible?  How can I avoid this situation?  Seeing that it doesn&#39;t always happen, it seems to be a race condition of some sort; maybe within Android&#39;s APK installation routine? Thanks,\r\n\r\n**Edit:**\r\n\r\nAdditional code as requested.  Here is the manifest portion dealing with the Broadcast\r\n\r\n    &lt;receiver android:name=&quot;.OnSelfUpdate&quot; &gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;\r\n            &lt;data android:scheme=&quot;package&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nAnd the `BroadcastReceiver` itself\r\n\r\n    public class OnSelfUpdate extends BroadcastReceiver {\r\n\r\n        @Override\r\n        public void onReceive(final Context context, final Intent intent) {\r\n            /* Get the application(s) updated. */\r\n            final int uid = intent.getIntExtra(Intent.EXTRA_UID, 0);\r\n            final PackageManager packageManager = context.getPackageManager();\r\n            final String[] packages = packageManager.getPackagesForUid(uid);\r\n\r\n            if (packages != null) {\r\n                final String thisPackage = context.getPackageName();\r\n                for (final String pkg : packages) {\r\n                    /* Check to see if this application was updated. */\r\n                    if (pkg.equals(thisPackage)) {\r\n                        final Intent intent = new Intent(context, MainActivity.class);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        context.startActivity(intent);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"setURLStreamHandlerFactory and &quot;java.lang.Error: Factory already set&quot;","body":"<p>I've come across an unexpected error caused by calling <code>URL.setURLStreamHandlerFactory(factory);</code> in an Android application that is being updated.</p>\n\n<pre><code>public class ApplicationRoot extends Application {\n\n    static {\n        /* Add application support for custom URI protocols. */\n        final URLStreamHandlerFactory factory = new URLStreamHandlerFactory() {\n            @Override\n            public URLStreamHandler createURLStreamHandler(final String protocol) {\n                if (ExternalProtocol.PROTOCOL.equals(protocol)) {\n                    return new ExternalProtocol();\n                }\n                if (ArchiveProtocol.PROTOCOL.equals(protocol)) {\n                    return new ArchiveProtocol();\n                }\n                return null;\n            }\n        };\n        URL.setURLStreamHandlerFactory(factory);\n    }\n\n}\n</code></pre>\n\n<p><strong>Intro:</strong></p>\n\n<p>Here is my situation: I'm maintaining a non-market application used in an enterprise fashion.  My business sells tablets with pre-installed applications that are developed and maintained by the business.  These pre-installed applications are not part of the ROM; they are installed as typical <em>Unknown Source</em> applications.  We do not perform updates through the Play Store or any other market.  Rather, application updates are controlled by a custom <em>Update Manager</em> application, which communicates directly with our servers to perform OTA updates.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>This <em>Update Manager</em> application, which I am maintaining, occasionally needs to update itself.  Immediately after the application updates itself, it restarts by way of the <code>android.intent.action.PACKAGE_REPLACED</code> broadcast, which I register for in the AndroidManifest.  However, upon restart of the application immediately after the update, I <em>occasionally</em> receive this <code>Error</code></p>\n\n<pre><code>java.lang.Error: Factory already set\n    at java.net.URL.setURLStreamHandlerFactory(URL.java:112)\n    at com.xxx.xxx.ApplicationRoot.&lt;clinit&gt;(ApplicationRoot.java:37)\n    at java.lang.Class.newInstanceImpl(Native Method)\n    at java.lang.Class.newInstance(Class.java:1208)\n    at android.app.Instrumentation.newApplication(Instrumentation.java:996)\n    at android.app.Instrumentation.newApplication(Instrumentation.java:981)\n    at android.app.LoadedApk.makeApplication(LoadedApk.java:511)\n    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2625)\n    at android.app.ActivityThread.access$1800(ActivityThread.java:172)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1384)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:146)\n    at android.app.ActivityThread.main(ActivityThread.java:5653)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1291)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1107)\n    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Note that the majority of the time, the application restarts properly.  However, every once in a while, I get the above error.  I'm perplexed because the <em>only</em> place I call <code>setURLStreamHandlerFactory</code> is here, and it is done in a <code>static</code> block, which I presume - although correct me if I'm wrong - is only called once, when the <code>ApplicationRoot</code> class if first loaded.  However, it would seem that it is getting called <em>twice</em>, resulting in the above error.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>What in the <em>blazing sams</em> is going on?  My only guess at this point is that the VM/process for the <em>updated</em> application is the same as the <em>previously installed</em> application that is being updated, so when the <code>static</code> block for the <em>new</em> <code>ApplicationRoot</code> gets called, the <code>URLStreamHandlerFactory</code> set by the <em>old</em> <code>ApplicationRoot</code> is still \"active\".  Is this possible?  How can I avoid this situation?  Seeing that it doesn't always happen, it seems to be a race condition of some sort; maybe within Android's APK installation routine? Thanks,</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Additional code as requested.  Here is the manifest portion dealing with the Broadcast</p>\n\n<pre><code>&lt;receiver android:name=\".OnSelfUpdate\" &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.PACKAGE_REPLACED\" /&gt;\n        &lt;data android:scheme=\"package\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>And the <code>BroadcastReceiver</code> itself</p>\n\n<pre><code>public class OnSelfUpdate extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(final Context context, final Intent intent) {\n        /* Get the application(s) updated. */\n        final int uid = intent.getIntExtra(Intent.EXTRA_UID, 0);\n        final PackageManager packageManager = context.getPackageManager();\n        final String[] packages = packageManager.getPackagesForUid(uid);\n\n        if (packages != null) {\n            final String thisPackage = context.getPackageName();\n            for (final String pkg : packages) {\n                /* Check to see if this application was updated. */\n                if (pkg.equals(thisPackage)) {\n                    final Intent intent = new Intent(context, MainActivity.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    context.startActivity(intent);\n                    break;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":5243043,"reputation":7620,"user_id":4189582,"accept_rate":88,"display_name":"Ivar Reukers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569582918,"creation_date":1569582918,"answer_id":58133452,"question_id":58119943,"body_markdown":"Turns out that the `@JsonSubType` annotation was missing. And since the `ObjectMapper` does not communicate with swagger, it couldn&#39;t ever know that the class should be mapped to a `EmailNotification` and thus would always create a `Notification` object. \r\n\r\nAdding:\r\n\r\n    &lt;plugin&gt;\r\n       ....\r\n       &lt;configuration&gt;\r\n         ...\r\n         &lt;library&gt;jersey2&lt;/library&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFixed it, the class annotations for the `Notification` class are now generated as:\r\n\r\n    @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = SMSNotification.class, name = &quot;SMSNotification&quot;),\r\n      @JsonSubTypes.Type(value = EmailNotification.class, name = &quot;EmailNotification&quot;),\r\n    })\r\n    public class Notification {\r\n        ....\r\n\r\nThis adds the mapping which the `ObjectMapper` understands while deserializing.\r\n\r\nSpecial thanks to the answer provided \r\nhere https://stackoverflow.com/questions/41616922/swagger-codegen-client-how-to-include-jackson-annotations-on-models\r\n","title":"Deserialization of generated sub-class results in the parent object","body":"<p>Turns out that the <code>@JsonSubType</code> annotation was missing. And since the <code>ObjectMapper</code> does not communicate with swagger, it couldn't ever know that the class should be mapped to a <code>EmailNotification</code> and thus would always create a <code>Notification</code> object. </p>\n\n<p>Adding:</p>\n\n<pre><code>&lt;plugin&gt;\n   ....\n   &lt;configuration&gt;\n     ...\n     &lt;library&gt;jersey2&lt;/library&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Fixed it, the class annotations for the <code>Notification</code> class are now generated as:</p>\n\n<pre><code>@JsonSubTypes({\n  @JsonSubTypes.Type(value = SMSNotification.class, name = \"SMSNotification\"),\n  @JsonSubTypes.Type(value = EmailNotification.class, name = \"EmailNotification\"),\n})\npublic class Notification {\n    ....\n</code></pre>\n\n<p>This adds the mapping which the <code>ObjectMapper</code> understands while deserializing.</p>\n\n<p>Special thanks to the answer provided \nhere <a href=\"https://stackoverflow.com/questions/41616922/swagger-codegen-client-how-to-include-jackson-annotations-on-models\">swagger-codegen client: How to include jackson annotations on models</a></p>\n"},{"tags":[],"owner":{"account_id":29109491,"reputation":1,"user_id":22299568,"display_name":"Etienne LeChat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690534057,"creation_date":1690534057,"answer_id":76786182,"question_id":58119943,"body_markdown":"Its still does not work for me. I use gradle plugin open-api-generator v6.1.0 (i tested also with 5.4.0) \r\nHere is my simple swagger :\r\n\r\n    &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;Parent&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;vehicle&quot;: {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;Vehicle&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;vehicleType&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        },\r\n        &quot;discriminator&quot;: {\r\n          &quot;propertyName&quot;: &quot;vehicleType&quot;,\r\n          &quot;mapping&quot;: {\r\n            &quot;CAR&quot;: &quot;#/components/schemas/Car&quot;,\r\n            &quot;TRUCK&quot;: &quot;#/components/schemas/Truck&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;Car&quot;: {\r\n        &quot;allOf&quot;: [\r\n          {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n              &quot;carProperty&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      &quot;Truck&quot;: {\r\n        &quot;allOf&quot;: [\r\n          {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\r\n          },\r\n          {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n              &quot;truckProperty&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n\r\nand there is my openApiTaskConfiguration (in build.gradle file):\r\n\r\n\r\n    generatorName.set(&quot;kotlin&quot;)\r\n    configFile.set(&quot;$rootDir/src/main/resources/swagger/config.json&quot;)\r\n    inputSpec.set(&quot;$rootDir/src/main/resources/swagger/swagger-test.json&quot;)\r\n    outputDir.set(&quot;$generatedSources&quot;)\r\n    generateModelTests.set(false)\r\n    typeMappings.set(mapOf(\r\n        &quot;Date&quot; to &quot;String&quot;))\r\n    configOptions.set(mapOf(\r\n        &quot;enumPropertyNaming&quot; to &quot;UPPERCASE&quot;,\r\n        &quot;dateLibrary&quot; to &quot;string&quot;,\r\n        &quot;interfaceOnly&quot; to &quot;true&quot;,\r\n        &quot;serializableModel&quot; to &quot;true&quot;,\r\n        &quot;collectionType&quot; to &quot;array&quot;,\r\n        &quot;serializationLibrary&quot; to &quot;jackson&quot;\r\n    ))\r\n    globalProperties.set(mapOf(&quot;apis&quot; to &quot;false&quot;, &quot;models&quot; to &quot;&quot;, &quot;modelDocs&quot; to &quot;false&quot;))\r\n\r\n}`\r\n\r\n\r\nThe Object Vehicle is generated as an interface but at runtime this is never the class Car or Truck constructor who are called but the interface. And that throw exception\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U8vml.png","title":"Deserialization of generated sub-class results in the parent object","body":"<p>Its still does not work for me. I use gradle plugin open-api-generator v6.1.0 (i tested also with 5.4.0)\nHere is my simple swagger :</p>\n<pre><code>&quot;components&quot;: {\n&quot;schemas&quot;: {\n  &quot;Parent&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n      &quot;vehicle&quot;: {\n        &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\n      }\n    }\n  },\n  &quot;Vehicle&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n      &quot;vehicleType&quot;: {\n        &quot;type&quot;: &quot;string&quot;\n      }\n    },\n    &quot;discriminator&quot;: {\n      &quot;propertyName&quot;: &quot;vehicleType&quot;,\n      &quot;mapping&quot;: {\n        &quot;CAR&quot;: &quot;#/components/schemas/Car&quot;,\n        &quot;TRUCK&quot;: &quot;#/components/schemas/Truck&quot;\n      }\n    }\n  },\n  &quot;Car&quot;: {\n    &quot;allOf&quot;: [\n      {\n        &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\n      },\n      {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;carProperty&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          }\n        }\n      }\n    ]\n  },\n  &quot;Truck&quot;: {\n    &quot;allOf&quot;: [\n      {\n        &quot;$ref&quot;: &quot;#/components/schemas/Vehicle&quot;\n      },\n      {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;truckProperty&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          }\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>}</p>\n<p>and there is my openApiTaskConfiguration (in build.gradle file):</p>\n<pre><code>generatorName.set(&quot;kotlin&quot;)\nconfigFile.set(&quot;$rootDir/src/main/resources/swagger/config.json&quot;)\ninputSpec.set(&quot;$rootDir/src/main/resources/swagger/swagger-test.json&quot;)\noutputDir.set(&quot;$generatedSources&quot;)\ngenerateModelTests.set(false)\ntypeMappings.set(mapOf(\n    &quot;Date&quot; to &quot;String&quot;))\nconfigOptions.set(mapOf(\n    &quot;enumPropertyNaming&quot; to &quot;UPPERCASE&quot;,\n    &quot;dateLibrary&quot; to &quot;string&quot;,\n    &quot;interfaceOnly&quot; to &quot;true&quot;,\n    &quot;serializableModel&quot; to &quot;true&quot;,\n    &quot;collectionType&quot; to &quot;array&quot;,\n    &quot;serializationLibrary&quot; to &quot;jackson&quot;\n))\nglobalProperties.set(mapOf(&quot;apis&quot; to &quot;false&quot;, &quot;models&quot; to &quot;&quot;, &quot;modelDocs&quot; to &quot;false&quot;))\n</code></pre>\n<p>}`</p>\n<p>The Object Vehicle is generated as an interface but at runtime this is never the class Car or Truck constructor who are called but the interface. And that throw exception</p>\n<p><a href=\"https://i.stack.imgur.com/U8vml.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":5243043,"reputation":7620,"user_id":4189582,"accept_rate":88,"display_name":"Ivar Reukers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58133452,"answer_count":2,"score":0,"last_activity_date":1690534057,"creation_date":1569511012,"question_id":58119943,"body_markdown":"*Versions: Swagger-codegen (v3): 3.0.11 | Jackson: 2.9.8*\r\n\r\nI currently generate my classes from a `swagger.yaml` file (indentation may differ due to double copy-paste):\r\n\r\n    ---\r\n    swagger: &quot;2.0&quot;\r\n    info:\r\n      description: &quot;servicename&quot;\r\n      version: &quot;1.0&quot;\r\n      title: &quot;servicename&quot;\r\n    schemes:\r\n      - &quot;http&quot;\r\n      - &quot;https&quot;\r\n    paths:\r\n    \r\n    definitions:\r\n      Notification:\r\n        type: &quot;object&quot;\r\n        discriminator: &quot;typeOfNotification&quot;\r\n        properties:\r\n          typeOfNotification:\r\n            description: &quot;Type of notification&quot;\r\n            enum:\r\n              - &quot;EMAIL&quot;\r\n              - &quot;SMS&quot;\r\n            default: &quot;EMAIL&quot;\r\n      EmailNotification:\r\n        allOf:\r\n        - $ref: &quot;#/definitions/Notification&quot;\r\n        - type: &quot;object&quot;\r\n          properties:\r\n            name:\r\n              type: &quot;string&quot;\r\n              example: &quot;Name of reciever&quot;\r\n              description: &quot;Name of the receiver&quot;\r\n            emailAddress:\r\n              type: &quot;string&quot;\r\n              example: &quot;info@stackoverflow.com&quot;\r\n              description: &quot;Email address of the receiver&quot;\r\n\r\nWhich generates two classes:\r\n\r\nNotification.java\r\n\r\n   \r\n    package nl.test;\r\n    \r\n    import java.util.Objects;\r\n    import java.util.Arrays;\r\n    import com.google.gson.TypeAdapter;\r\n    import com.google.gson.annotations.JsonAdapter;\r\n    import com.google.gson.annotations.SerializedName;\r\n    import com.google.gson.stream.JsonReader;\r\n    import com.google.gson.stream.JsonWriter;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import java.io.IOException;\r\n    /**\r\n     * Notification\r\n     */\r\n    \r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaClientCodegen&quot;, date = &quot;2019-09-26T16:01:12.401+02:00[Europe/Amsterdam]&quot;)\r\n    public abstract class Notification {\r\n      /**\r\n       * Type of notification\r\n       */\r\n      @JsonAdapter(TypeOfNotificationEnum.Adapter.class)\r\n      public enum TypeOfNotificationEnum {\r\n        EMAIL(&quot;EMAIL&quot;),\r\n        SMS(&quot;SMS&quot;);\r\n    \r\n        private String value;\r\n    \r\n        TypeOfNotificationEnum(String value) {\r\n          this.value = value;\r\n        }\r\n        public String getValue() {\r\n          return value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return String.valueOf(value);\r\n        }\r\n        public static TypeOfNotificationEnum fromValue(String text) {\r\n          for (TypeOfNotificationEnum b : TypeOfNotificationEnum.values()) {\r\n            if (String.valueOf(b.value).equals(text)) {\r\n              return b;\r\n            }\r\n          }\r\n          return null;\r\n        }\r\n        public static class Adapter extends TypeAdapter&lt;TypeOfNotificationEnum&gt; {\r\n          @Override\r\n          public void write(final JsonWriter jsonWriter, final TypeOfNotificationEnum enumeration) throws IOException {\r\n            jsonWriter.value(enumeration.getValue());\r\n          }\r\n    \r\n          @Override\r\n          public TypeOfNotificationEnum read(final JsonReader jsonReader) throws IOException {\r\n            String value = jsonReader.nextString();\r\n            return TypeOfNotificationEnum.fromValue(String.valueOf(value));\r\n          }\r\n        }\r\n      }  @SerializedName(&quot;typeOfNotification&quot;)\r\n      private TypeOfNotificationEnum typeOfNotification = null;\r\n    \r\n      public Notification typeOfNotification(TypeOfNotificationEnum typeOfNotification) {\r\n        this.typeOfNotification = typeOfNotification;\r\n        return this;\r\n      }\r\n    \r\n       \r\n      @Schema(description = &quot;Type of notification&quot;)\r\n      public TypeOfNotificationEnum getTypeOfNotification() {\r\n        return typeOfNotification;\r\n      }\r\n    \r\n      public void setTypeOfNotification(TypeOfNotificationEnum typeOfNotification) {\r\n        this.typeOfNotification = typeOfNotification;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        Notification notification = (Notification) o;\r\n        return Objects.equals(this.typeOfNotification, notification.typeOfNotification);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(typeOfNotification);\r\n      }\r\n    }\r\n\r\n\r\nAnd the EmailNotification:\r\n\r\n\r\n    package nl.test;\r\n    \r\n    import java.util.Objects;\r\n    import java.util.Arrays;\r\n    import com.google.gson.TypeAdapter;\r\n    import com.google.gson.annotations.JsonAdapter;\r\n    import com.google.gson.annotations.SerializedName;\r\n    import com.google.gson.stream.JsonReader;\r\n    import com.google.gson.stream.JsonWriter;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import java.io.IOException;\r\n    import nl.test.Notification;\r\n    /**\r\n     * EmailNotification\r\n     */\r\n    \r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaClientCodegen&quot;, date = &quot;2019-09-26T16:01:12.401+02:00[Europe/Amsterdam]&quot;)\r\n    public class EmailNotification extends Notification {\r\n      @SerializedName(&quot;name&quot;)\r\n      private String name = null;\r\n    \r\n      @SerializedName(&quot;emailAddress&quot;)\r\n      private String emailAddress = null;\r\n    \r\n      public EmailNotification name(String name) {\r\n        this.name = name;\r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Name of the receiver\r\n       * @return name\r\n      **/\r\n      @Schema(example = &quot;Name of receiver&quot;, description = &quot;Name of the receiver&quot;)\r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      public EmailNotification emailAddress(String emailAddress) {\r\n        this.emailAddress = emailAddress;\r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Email address of the receiver\r\n       * @return emailAddress\r\n      **/\r\n      @Schema(example = &quot;test@stackoverflow.com&quot;, description = &quot;Email address of the receiver&quot;)\r\n      public String getEmailAddress() {\r\n        return emailAddress;\r\n      }\r\n    \r\n      public void setEmailAddress(String emailAddress) {\r\n        this.emailAddress = emailAddress;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(java.lang.Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n         EmailNotification = (EmailNotification) o;\r\n        return Objects.equals(this.name, emailNotification.name) &amp;&amp;\r\n            Objects.equals(this.emailAddress, emailNotification.emailAddress) &amp;&amp;\r\n            super.equals(o);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(name, emailAddress, super.hashCode());\r\n      }\r\n    \r\n    }\r\n\r\n\r\nWhich is nice. But now the problem occurs during the deserialization of the JSON. When an ObjectMapper is passed the JSON corresponding to a `User` class, which has one property of type `Notification`, and the JSON is actually of type `EmailNotification`, then for some reason the deserializer doesn&#39;t care and deserializes it into a `Notification`, thus ignoring the `emailAddress` property. \r\n\r\nCorresponding test class:\r\n\r\n    package nl.test;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.threeten.bp.LocalDate;\r\n    \r\n    import static com.fasterxml.jackson.databind.MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS;\r\n    import static org.junit.Assert.*;\r\n    \r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ObjectMappersConfigurationTest {\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;user\\&quot;: {\\n&quot; +\r\n                    &quot;    \\&quot;notification\\&quot;: {\\n&quot; +\r\n                    &quot;      \\&quot;name\\&quot;: \\&quot;somename\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;emailAddress\\&quot;: \\&quot;test@stackoverflow.com\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;typeOfNotification\\&quot;: \\&quot;EMAIL\\&quot;\\n&quot; +\r\n                    &quot;    },\\n&quot; +\r\n                    &quot;  }\\n&quot; +\r\n                    &quot;}\\n&quot;;\r\n    \r\n            ObjectMapper mapper = createJsonObjectMapper();\r\n            User order = mapper.readValue(json, User.class);\r\n    \r\n            assertEquals(1, 1);\r\n        }\r\n    \r\n        public ObjectMapper createJsonObjectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            setDefaultRelaxObjectMappings(objectMapper);\r\n            return objectMapper;\r\n        }\r\n    \r\n        public static void setDefaultRelaxObjectMappings(ObjectMapper objectMapper) {\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE, false);\r\n           \r\n            objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            objectMapper.enable(ACCEPT_CASE_INSENSITIVE_ENUMS);\r\n        }\r\n    }\r\n\r\nAnd the output will be:\r\n\r\n    User {\r\n      notification {\r\n         notificationType: EMAIL\r\n      }\r\n    }\r\n\r\nWhere I expected:\r\n\r\n    User {\r\n      notification {\r\n         notificationType: EMAIL,\r\n         emailAddress: &quot;...&quot;,\r\n         name: &quot;...&quot;\r\n      }\r\n    }\r\n\r\n\r\nNow I know that I can use a custom deserializer for this purpose, but this seems like overkill, deserializing objects with inheritance should be a simple setting I suppose. I just can&#39;t seem to find it. \r\n\r\nEnabling default typing would be an alternative but I&#39;d rather refrain from that since our YAML files come from an external party, forcing them to default type their YAML isn&#39;t the best solution IMO. ","title":"Deserialization of generated sub-class results in the parent object","body":"<p><em>Versions: Swagger-codegen (v3): 3.0.11 | Jackson: 2.9.8</em></p>\n\n<p>I currently generate my classes from a <code>swagger.yaml</code> file (indentation may differ due to double copy-paste):</p>\n\n<pre><code>---\nswagger: \"2.0\"\ninfo:\n  description: \"servicename\"\n  version: \"1.0\"\n  title: \"servicename\"\nschemes:\n  - \"http\"\n  - \"https\"\npaths:\n\ndefinitions:\n  Notification:\n    type: \"object\"\n    discriminator: \"typeOfNotification\"\n    properties:\n      typeOfNotification:\n        description: \"Type of notification\"\n        enum:\n          - \"EMAIL\"\n          - \"SMS\"\n        default: \"EMAIL\"\n  EmailNotification:\n    allOf:\n    - $ref: \"#/definitions/Notification\"\n    - type: \"object\"\n      properties:\n        name:\n          type: \"string\"\n          example: \"Name of reciever\"\n          description: \"Name of the receiver\"\n        emailAddress:\n          type: \"string\"\n          example: \"info@stackoverflow.com\"\n          description: \"Email address of the receiver\"\n</code></pre>\n\n<p>Which generates two classes:</p>\n\n<p>Notification.java</p>\n\n<pre><code>package nl.test;\n\nimport java.util.Objects;\nimport java.util.Arrays;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.annotations.JsonAdapter;\nimport com.google.gson.annotations.SerializedName;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.io.IOException;\n/**\n * Notification\n */\n\n@javax.annotation.Generated(value = \"io.swagger.codegen.v3.generators.java.JavaClientCodegen\", date = \"2019-09-26T16:01:12.401+02:00[Europe/Amsterdam]\")\npublic abstract class Notification {\n  /**\n   * Type of notification\n   */\n  @JsonAdapter(TypeOfNotificationEnum.Adapter.class)\n  public enum TypeOfNotificationEnum {\n    EMAIL(\"EMAIL\"),\n    SMS(\"SMS\");\n\n    private String value;\n\n    TypeOfNotificationEnum(String value) {\n      this.value = value;\n    }\n    public String getValue() {\n      return value;\n    }\n\n    @Override\n    public String toString() {\n      return String.valueOf(value);\n    }\n    public static TypeOfNotificationEnum fromValue(String text) {\n      for (TypeOfNotificationEnum b : TypeOfNotificationEnum.values()) {\n        if (String.valueOf(b.value).equals(text)) {\n          return b;\n        }\n      }\n      return null;\n    }\n    public static class Adapter extends TypeAdapter&lt;TypeOfNotificationEnum&gt; {\n      @Override\n      public void write(final JsonWriter jsonWriter, final TypeOfNotificationEnum enumeration) throws IOException {\n        jsonWriter.value(enumeration.getValue());\n      }\n\n      @Override\n      public TypeOfNotificationEnum read(final JsonReader jsonReader) throws IOException {\n        String value = jsonReader.nextString();\n        return TypeOfNotificationEnum.fromValue(String.valueOf(value));\n      }\n    }\n  }  @SerializedName(\"typeOfNotification\")\n  private TypeOfNotificationEnum typeOfNotification = null;\n\n  public Notification typeOfNotification(TypeOfNotificationEnum typeOfNotification) {\n    this.typeOfNotification = typeOfNotification;\n    return this;\n  }\n\n\n  @Schema(description = \"Type of notification\")\n  public TypeOfNotificationEnum getTypeOfNotification() {\n    return typeOfNotification;\n  }\n\n  public void setTypeOfNotification(TypeOfNotificationEnum typeOfNotification) {\n    this.typeOfNotification = typeOfNotification;\n  }\n\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    Notification notification = (Notification) o;\n    return Objects.equals(this.typeOfNotification, notification.typeOfNotification);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(typeOfNotification);\n  }\n}\n</code></pre>\n\n<p>And the EmailNotification:</p>\n\n<pre><code>package nl.test;\n\nimport java.util.Objects;\nimport java.util.Arrays;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.annotations.JsonAdapter;\nimport com.google.gson.annotations.SerializedName;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport java.io.IOException;\nimport nl.test.Notification;\n/**\n * EmailNotification\n */\n\n@javax.annotation.Generated(value = \"io.swagger.codegen.v3.generators.java.JavaClientCodegen\", date = \"2019-09-26T16:01:12.401+02:00[Europe/Amsterdam]\")\npublic class EmailNotification extends Notification {\n  @SerializedName(\"name\")\n  private String name = null;\n\n  @SerializedName(\"emailAddress\")\n  private String emailAddress = null;\n\n  public EmailNotification name(String name) {\n    this.name = name;\n    return this;\n  }\n\n   /**\n   * Name of the receiver\n   * @return name\n  **/\n  @Schema(example = \"Name of receiver\", description = \"Name of the receiver\")\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public EmailNotification emailAddress(String emailAddress) {\n    this.emailAddress = emailAddress;\n    return this;\n  }\n\n   /**\n   * Email address of the receiver\n   * @return emailAddress\n  **/\n  @Schema(example = \"test@stackoverflow.com\", description = \"Email address of the receiver\")\n  public String getEmailAddress() {\n    return emailAddress;\n  }\n\n  public void setEmailAddress(String emailAddress) {\n    this.emailAddress = emailAddress;\n  }\n\n\n  @Override\n  public boolean equals(java.lang.Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n     EmailNotification = (EmailNotification) o;\n    return Objects.equals(this.name, emailNotification.name) &amp;&amp;\n        Objects.equals(this.emailAddress, emailNotification.emailAddress) &amp;&amp;\n        super.equals(o);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(name, emailAddress, super.hashCode());\n  }\n\n}\n</code></pre>\n\n<p>Which is nice. But now the problem occurs during the deserialization of the JSON. When an ObjectMapper is passed the JSON corresponding to a <code>User</code> class, which has one property of type <code>Notification</code>, and the JSON is actually of type <code>EmailNotification</code>, then for some reason the deserializer doesn't care and deserializes it into a <code>Notification</code>, thus ignoring the <code>emailAddress</code> property. </p>\n\n<p>Corresponding test class:</p>\n\n<pre><code>package nl.test;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.threeten.bp.LocalDate;\n\nimport static com.fasterxml.jackson.databind.MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS;\nimport static org.junit.Assert.*;\n\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ObjectMappersConfigurationTest {\n\n    @Test\n    public void test() throws Exception {\n        String json = \"{\\n\" +\n                \"  \\\"user\\\": {\\n\" +\n                \"    \\\"notification\\\": {\\n\" +\n                \"      \\\"name\\\": \\\"somename\\\",\\n\" +\n                \"      \\\"emailAddress\\\": \\\"test@stackoverflow.com\\\",\\n\" +\n                \"      \\\"typeOfNotification\\\": \\\"EMAIL\\\"\\n\" +\n                \"    },\\n\" +\n                \"  }\\n\" +\n                \"}\\n\";\n\n        ObjectMapper mapper = createJsonObjectMapper();\n        User order = mapper.readValue(json, User.class);\n\n        assertEquals(1, 1);\n    }\n\n    public ObjectMapper createJsonObjectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        setDefaultRelaxObjectMappings(objectMapper);\n        return objectMapper;\n    }\n\n    public static void setDefaultRelaxObjectMappings(ObjectMapper objectMapper) {\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.configure(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE, false);\n\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        objectMapper.enable(ACCEPT_CASE_INSENSITIVE_ENUMS);\n    }\n}\n</code></pre>\n\n<p>And the output will be:</p>\n\n<pre><code>User {\n  notification {\n     notificationType: EMAIL\n  }\n}\n</code></pre>\n\n<p>Where I expected:</p>\n\n<pre><code>User {\n  notification {\n     notificationType: EMAIL,\n     emailAddress: \"...\",\n     name: \"...\"\n  }\n}\n</code></pre>\n\n<p>Now I know that I can use a custom deserializer for this purpose, but this seems like overkill, deserializing objects with inheritance should be a simple setting I suppose. I just can't seem to find it. </p>\n\n<p>Enabling default typing would be an alternative but I'd rather refrain from that since our YAML files come from an external party, forcing them to default type their YAML isn't the best solution IMO. </p>\n"},{"tags":["java","unit-testing","mockito","quarkus"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690534193,"post_id":76786110,"comment_id":135370289,"body_markdown":"Just a guess - does Quarkus have its own `@Singleton` it wants you to use, instead of the Jakarta one?","body":"Just a guess - does Quarkus have its own <code>@Singleton</code> it wants you to use, instead of the Jakarta one?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690534345,"post_id":76786110,"comment_id":135370311,"body_markdown":"Perhaps [this](https://stackoverflow.com/a/69286048/8681) helps","body":"Perhaps <a href=\"https://stackoverflow.com/a/69286048/8681\">this</a> helps"},{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":0,"creation_date":1690535196,"post_id":76786110,"comment_id":135370491,"body_markdown":"It looks like you&#39;re doing everything right for the new implementation ... which I know doesn&#39;t actually help you. :)","body":"It looks like you&#39;re doing everything right for the new implementation ... which I know doesn&#39;t actually help you. :)"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1690535390,"post_id":76786110,"comment_id":135370538,"body_markdown":"Do you have a small reproducer somewhere? The code seems correct, so you likely found a bug.","body":"Do you have a small reproducer somewhere? The code seems correct, so you likely found a bug."},{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1690537089,"post_id":76786110,"comment_id":135370907,"body_markdown":"logged a bug for Quarkus https://github.com/quarkusio/quarkus/issues/35080","body":"logged a bug for Quarkus <a href=\"https://github.com/quarkusio/quarkus/issues/35080\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/35080</a>"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690533553,"creation_date":1690533553,"question_id":76786110,"body_markdown":"I want to mock RecoveryService, it&#39;s scope is @singleton.\r\n\r\nBefore the Quarkus update I was using\r\n\r\n    @InjectMock(convertScopes=true)\r\n\r\nand it worked\r\n\r\nNow, I try to mock it like that\r\n\r\n    @InjectMock\r\n    @MockitoConfig(convertScopes = true)\r\n    RecoveryService recoveryService;\r\n\r\nand still getting:\r\n\r\n&gt; Invalid use of io.quarkus.test.InjectMock - the injected bean does not\r\n&gt; declare a CDI normal scope but: jakarta.inject.Singleton\r\n\r\nPlease help.","title":"Mocking singleton in QuarkusTest","body":"<p>I want to mock RecoveryService, it's scope is @singleton.</p>\n<p>Before the Quarkus update I was using</p>\n<pre><code>@InjectMock(convertScopes=true)\n</code></pre>\n<p>and it worked</p>\n<p>Now, I try to mock it like that</p>\n<pre><code>@InjectMock\n@MockitoConfig(convertScopes = true)\nRecoveryService recoveryService;\n</code></pre>\n<p>and still getting:</p>\n<blockquote>\n<p>Invalid use of io.quarkus.test.InjectMock - the injected bean does not\ndeclare a CDI normal scope but: jakarta.inject.Singleton</p>\n</blockquote>\n<p>Please help.</p>\n"},{"tags":["java","quarkus","reactive"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1690472294,"post_id":76781186,"comment_id":135361812,"body_markdown":"`@ServerExceptionMapper does not work with `@Route`","body":"<code>@ServerExceptionMapper does not work with </code>@Route`"},{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1690472601,"post_id":76781186,"comment_id":135361878,"body_markdown":"I was also trying to use\n@Provider\npublic class AuthConsentExceptionMapper implements ExceptionMapper&lt;AuthConsentException&gt; {\n\n\nbut result is the same","body":"I was also trying to use @Provider public class AuthConsentExceptionMapper implements ExceptionMapper&lt;AuthConsentException&gt; {   but result is the same"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690528328,"creation_date":1690528328,"answer_id":76785552,"question_id":76781186,"body_markdown":"[Reactive Routes][1] (from which the `@Route` annotation comes) does **not** support any of the features coming from [RESTEasy Reactive][2].\r\n\r\nSo your best bet would be to rewrite `LoginResource` as a Jakarta REST Resource.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/reactive-routes\r\n  [2]: https://quarkus.io/guides/resteasy-reactive","title":"How to make exception mapper to be called in Quarkus","body":"<p><a href=\"https://quarkus.io/guides/reactive-routes\" rel=\"nofollow noreferrer\">Reactive Routes</a> (from which the <code>@Route</code> annotation comes) does <strong>not</strong> support any of the features coming from <a href=\"https://quarkus.io/guides/resteasy-reactive\" rel=\"nofollow noreferrer\">RESTEasy Reactive</a>.</p>\n<p>So your best bet would be to rewrite <code>LoginResource</code> as a Jakarta REST Resource.</p>\n"},{"tags":[],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690533346,"creation_date":1690533346,"answer_id":76786085,"question_id":76781186,"body_markdown":"Found the reason. when using reactive routes exception handlers are not called, rather it should be used as follow\r\n\r\n    @Route(path = &quot;/*&quot;, type = Route.HandlerType.FAILURE, produces = APPLICATION_JSON)\r\n    void authConsentExceptionHandler(AuthConsentException e, HttpServerResponse response) {\r\n        response.setStatusCode(INTERNAL_SERVER_ERROR).end();\r\n    }","title":"How to make exception mapper to be called in Quarkus","body":"<p>Found the reason. when using reactive routes exception handlers are not called, rather it should be used as follow</p>\n<pre><code>@Route(path = &quot;/*&quot;, type = Route.HandlerType.FAILURE, produces = APPLICATION_JSON)\nvoid authConsentExceptionHandler(AuthConsentException e, HttpServerResponse response) {\n    response.setStatusCode(INTERNAL_SERVER_ERROR).end();\n}\n</code></pre>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76786085,"answer_count":2,"score":0,"last_activity_date":1690533346,"creation_date":1690470942,"question_id":76781186,"body_markdown":"Please see the resource below. I set to throw exception in post jut to test that exception mapper works, but it never get called. Instead i am getting &quot;red screen&quot; from quarks error message with stacktrace\r\nPlease help\r\n\r\n    @RouteBase(path = &quot;login&quot;, produces = APPLICATION_JSON)\r\n    public class LoginResource {\r\n    \r\n    @ServerExceptionMapper\r\n    public RestResponse&lt;String&gt; mapException(AuthConsentException x) {\r\n        return RestResponse.status(Response.Status.NOT_FOUND, &quot;message&quot;);\r\n    }\r\n    \r\n    @Inject\r\n    LoginService loginService;\r\n    \r\n    @Route(path = &quot;/provider&quot;, methods = POST, consumes = APPLICATION_FORM_URLENCODED)\r\n    public void post(RoutingContext routingContext,\r\n                     @Param(LOGIN_CHALLENGE) @NotBlank(message = LOGIN_CHALLENGE + PARAMETER_SHOULD_BE_SET) String challenge,\r\n                     @Param(PROVIDER) @NotBlank(message = PROVIDER + PARAMETER_SHOULD_BE_SET) String provider) {\r\n        throw new AuthConsentException(&quot;test&quot;);\r\n       // loginService.post(routingContext, challenge, provider);\r\n    }\r\n    }\r\n\r\nI was also trying to use, but the same it never gets called\r\n\r\n    @Provider\r\n    public class AuthConsentExceptionMapper implements ExceptionMapper&lt;AuthConsentException&gt; {\r\n        private static final String ERROR_LOG_PATTERN = &quot;%s, id:%s&quot;;\r\n    \r\n        @Override\r\n        public Response toResponse(AuthConsentException e) {\r\n            ErrorDTO error = new ErrorDTO(e.getMessage());\r\n            Log.errorf(ERROR_LOG_PATTERN, e.getMessage(), error.getId());\r\n    \r\n            return Response.status(INTERNAL_SERVER_ERROR)\r\n                    .type(APPLICATION_JSON_TYPE)\r\n                    .entity(error).build();\r\n        }\r\n    }","title":"How to make exception mapper to be called in Quarkus","body":"<p>Please see the resource below. I set to throw exception in post jut to test that exception mapper works, but it never get called. Instead i am getting &quot;red screen&quot; from quarks error message with stacktrace\nPlease help</p>\n<pre><code>@RouteBase(path = &quot;login&quot;, produces = APPLICATION_JSON)\npublic class LoginResource {\n\n@ServerExceptionMapper\npublic RestResponse&lt;String&gt; mapException(AuthConsentException x) {\n    return RestResponse.status(Response.Status.NOT_FOUND, &quot;message&quot;);\n}\n\n@Inject\nLoginService loginService;\n\n@Route(path = &quot;/provider&quot;, methods = POST, consumes = APPLICATION_FORM_URLENCODED)\npublic void post(RoutingContext routingContext,\n                 @Param(LOGIN_CHALLENGE) @NotBlank(message = LOGIN_CHALLENGE + PARAMETER_SHOULD_BE_SET) String challenge,\n                 @Param(PROVIDER) @NotBlank(message = PROVIDER + PARAMETER_SHOULD_BE_SET) String provider) {\n    throw new AuthConsentException(&quot;test&quot;);\n   // loginService.post(routingContext, challenge, provider);\n}\n}\n</code></pre>\n<p>I was also trying to use, but the same it never gets called</p>\n<pre><code>@Provider\npublic class AuthConsentExceptionMapper implements ExceptionMapper&lt;AuthConsentException&gt; {\n    private static final String ERROR_LOG_PATTERN = &quot;%s, id:%s&quot;;\n\n    @Override\n    public Response toResponse(AuthConsentException e) {\n        ErrorDTO error = new ErrorDTO(e.getMessage());\n        Log.errorf(ERROR_LOG_PATTERN, e.getMessage(), error.getId());\n\n        return Response.status(INTERNAL_SERVER_ERROR)\n                .type(APPLICATION_JSON_TYPE)\n                .entity(error).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","shell","kotlin","ktor"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1690534351,"post_id":76786021,"comment_id":135370314,"body_markdown":"I m guessing that since the java process is consuming too much resources, when it is terminated, the parent process is also terminated as well, that being the bash script, so it wont continue to execute the rest of the script","body":"I m guessing that since the java process is consuming too much resources, when it is terminated, the parent process is also terminated as well, that being the bash script, so it wont continue to execute the rest of the script"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690535214,"post_id":76786021,"comment_id":135370498,"body_markdown":"though this is OS implementation dependent, so take with a pinch of salt","body":"though this is OS implementation dependent, so take with a pinch of salt"},{"owner":{"account_id":919337,"reputation":4972,"user_id":982049,"accept_rate":98,"display_name":"Cool_Coder"},"score":0,"creation_date":1690535246,"post_id":76786021,"comment_id":135370506,"body_markdown":"So how do I get what I want to print? And how do I restart the JAR if its been crashed by the system?","body":"So how do I get what I want to print? And how do I restart the JAR if its been crashed by the system?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1690537285,"post_id":76786021,"comment_id":135370943,"body_markdown":"Have you considered replacing your bash script with a system service ? I do not know what CentOS uses, but on SystemD based distributions, you should be able to create a &quot;unit file&quot; to start and restart automaticallly your java process, all managed by the system (including log saving).","body":"Have you considered replacing your bash script with a system service ? I do not know what CentOS uses, but on SystemD based distributions, you should be able to create a &quot;unit file&quot; to start and restart automaticallly your java process, all managed by the system (including log saving)."},{"owner":{"account_id":919337,"reputation":4972,"user_id":982049,"accept_rate":98,"display_name":"Cool_Coder"},"score":0,"creation_date":1690537961,"post_id":76786021,"comment_id":135371105,"body_markdown":"amanin, how to do this? I do not know what this system service is and how to integrate logging?","body":"amanin, how to do this? I do not know what this system service is and how to integrate logging?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1690538965,"post_id":76786021,"comment_id":135371319,"body_markdown":"If you&#39;re on CentOS 7 or newer, you should be able to use systemd for this. In summary: create a &quot;unit file&quot; describing your service (how to launch it, when to restart it, etc.). Then, put it in systemd configuration directory and reload systemd. But for more in-depth guides, you wll have to search articles [like this one](https://www.opentechguides.com/how-to/article/centos/169/systemd-custom-service.html)","body":"If you&#39;re on CentOS 7 or newer, you should be able to use systemd for this. In summary: create a &quot;unit file&quot; describing your service (how to launch it, when to restart it, etc.). Then, put it in systemd configuration directory and reload systemd. But for more in-depth guides, you wll have to search articles <a href=\"https://www.opentechguides.com/how-to/article/centos/169/systemd-custom-service.html\" rel=\"nofollow noreferrer\">like this one</a>"}],"owner":{"account_id":919337,"reputation":4972,"user_id":982049,"accept_rate":98,"display_name":"Cool_Coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690532705,"creation_date":1690532705,"question_id":76786021,"body_markdown":"I am managing a VPS in which I want to keep running a JAR file which is acting as a secure websocket server.\r\nI am noticing that the VPS/CentOS is closing my wss when RAM usage reaches 850+MB because the max allowed RAM is 1GB for my plan.\r\nI do plan on increasing the plan to higher RAM when launching for production, but I have a problem that my shell script is not printing to log file what it is supposed to.\r\nHere is my wss_service.sh\r\n\r\n    #!/bin/bash\r\n    check=true\r\n    while [ &quot;$check&quot; = true ]\r\n    do\r\n        startS=$(date +%s)\r\n        dates=$(date &#39;+%d-%m-%Y_%H-%M-%S&#39;)\r\n        name=&quot;WSS_ServerJar_&quot;\r\n        new=&quot;$name$dates&quot;\r\n        files=&quot;./Log/$new.log&quot;\r\n        touch $files\r\n        echo $files &gt;&gt; $files 2&gt;&amp;1\r\n        echo &quot;*** WSS Server started ***&quot; &gt;&gt; $files 2&gt;&amp;1\r\n        java -jar WSS_Server.jar &gt;&gt; $files 2&gt;&amp;1\r\n        sleep 5\r\n        echo &quot;*** JAR Crashed ***&quot; &gt;&gt; $files 2&gt;&amp;1\r\n        endS=$(date +%s)\r\n        diff=$(($endS-$startS))\r\n        echo &quot;diff=$diff; startS=$startS; endS=$endS;&quot; &gt;&gt; $files 2&gt;&amp;1\r\n        pass=120\r\n        if (( pass &gt; diff ));\r\n        then\r\n            check=false\r\n            echo &quot;Failed in short time: $diff&quot; &gt;&gt; $files\r\n        fi\r\n    \r\n    done\r\n\r\nHere is what is printed in the log file when the system closes my WSS due to RAM usage limit:\r\n\r\n    ./Log/WSS_ServerJar_28-07-2023_01-35-13.log\r\n    *** WSS Server started ***\r\n    2023-07-28 01:35:14.874 [main] INFO  Application - Autoreload is disabled because the development mode is off.\r\n    Inside Application\r\n    2023-07-28 01:35:15.982 [main] INFO  Application - Application started in 1.162 seconds.\r\n    2023-07-28 01:35:16.655 [main] WARN  i.netty.util.internal.MacAddressUtil - Failed to find a usable hardware address from the network interfaces; using random bytes: a5:f2:64:ba:ab:26:51:3f\r\n    2023-07-28 01:35:16.823 [DefaultDispatcher-worker-2] INFO  Application - Responding at https://0.0.0.0:1234\r\n    2023-07-28 03:46:32.491 [KtorShutdownHook] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\r\n    2023-07-28 03:46:32.494 [main] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\r\n\r\nHere is what is printed if I manually crash the shell script by ctrl+C or even from htop kill the process:\r\n\r\n    ./Log/WSS_ServerJar_28-07-2023_13-48-13.log\r\n    *** WSS Server started ***\r\n    2023-07-28 13:48:14.628 [main] INFO  Application - Autoreload is disabled because the development mode is off.\r\n    Inside Application\r\n    2023-07-28 13:48:15.515 [main] INFO  Application - Application started in 0.971 seconds.\r\n    2023-07-28 13:48:16.101 [main] WARN  i.netty.util.internal.MacAddressUtil - Failed to find a usable hardware address from the network interfaces; using random bytes: c8:9d:92:76:47:73:29:09\r\n    2023-07-28 13:48:16.291 [DefaultDispatcher-worker-2] INFO  Application - Responding at https://0.0.0.0:1234\r\n    2023-07-28 13:48:27.859 [KtorShutdownHook] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\r\n    2023-07-28 13:48:27.860 [main] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\r\n    *** JAR Crashed ***\r\n    diff=21; startS=1690532293; endS=1690532314;\r\n    Failed in short time: 21\r\n\r\n**I am not able to understand why the *** JAR Crashed *** is not printed when the system is stopping my .sh or .jar?**","title":"Shell script crashes and does not print to file?","body":"<p>I am managing a VPS in which I want to keep running a JAR file which is acting as a secure websocket server.\nI am noticing that the VPS/CentOS is closing my wss when RAM usage reaches 850+MB because the max allowed RAM is 1GB for my plan.\nI do plan on increasing the plan to higher RAM when launching for production, but I have a problem that my shell script is not printing to log file what it is supposed to.\nHere is my wss_service.sh</p>\n<pre><code>#!/bin/bash\ncheck=true\nwhile [ &quot;$check&quot; = true ]\ndo\n    startS=$(date +%s)\n    dates=$(date '+%d-%m-%Y_%H-%M-%S')\n    name=&quot;WSS_ServerJar_&quot;\n    new=&quot;$name$dates&quot;\n    files=&quot;./Log/$new.log&quot;\n    touch $files\n    echo $files &gt;&gt; $files 2&gt;&amp;1\n    echo &quot;*** WSS Server started ***&quot; &gt;&gt; $files 2&gt;&amp;1\n    java -jar WSS_Server.jar &gt;&gt; $files 2&gt;&amp;1\n    sleep 5\n    echo &quot;*** JAR Crashed ***&quot; &gt;&gt; $files 2&gt;&amp;1\n    endS=$(date +%s)\n    diff=$(($endS-$startS))\n    echo &quot;diff=$diff; startS=$startS; endS=$endS;&quot; &gt;&gt; $files 2&gt;&amp;1\n    pass=120\n    if (( pass &gt; diff ));\n    then\n        check=false\n        echo &quot;Failed in short time: $diff&quot; &gt;&gt; $files\n    fi\n\ndone\n</code></pre>\n<p>Here is what is printed in the log file when the system closes my WSS due to RAM usage limit:</p>\n<pre><code>./Log/WSS_ServerJar_28-07-2023_01-35-13.log\n*** WSS Server started ***\n2023-07-28 01:35:14.874 [main] INFO  Application - Autoreload is disabled because the development mode is off.\nInside Application\n2023-07-28 01:35:15.982 [main] INFO  Application - Application started in 1.162 seconds.\n2023-07-28 01:35:16.655 [main] WARN  i.netty.util.internal.MacAddressUtil - Failed to find a usable hardware address from the network interfaces; using random bytes: a5:f2:64:ba:ab:26:51:3f\n2023-07-28 01:35:16.823 [DefaultDispatcher-worker-2] INFO  Application - Responding at https://0.0.0.0:1234\n2023-07-28 03:46:32.491 [KtorShutdownHook] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\n2023-07-28 03:46:32.494 [main] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\n</code></pre>\n<p>Here is what is printed if I manually crash the shell script by ctrl+C or even from htop kill the process:</p>\n<pre><code>./Log/WSS_ServerJar_28-07-2023_13-48-13.log\n*** WSS Server started ***\n2023-07-28 13:48:14.628 [main] INFO  Application - Autoreload is disabled because the development mode is off.\nInside Application\n2023-07-28 13:48:15.515 [main] INFO  Application - Application started in 0.971 seconds.\n2023-07-28 13:48:16.101 [main] WARN  i.netty.util.internal.MacAddressUtil - Failed to find a usable hardware address from the network interfaces; using random bytes: c8:9d:92:76:47:73:29:09\n2023-07-28 13:48:16.291 [DefaultDispatcher-worker-2] INFO  Application - Responding at https://0.0.0.0:1234\n2023-07-28 13:48:27.859 [KtorShutdownHook] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\n2023-07-28 13:48:27.860 [main] TRACE io.ktor.server.websocket.WebSockets - Shutdown WebSockets due to application stop\n*** JAR Crashed ***\ndiff=21; startS=1690532293; endS=1690532314;\nFailed in short time: 21\n</code></pre>\n<p><strong>I am not able to understand why the *** JAR Crashed *** is not printed when the system is stopping my .sh or .jar?</strong></p>\n"},{"tags":["java","web-services","soap","jaxb"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1689694150,"post_id":76685381,"comment_id":135248561,"body_markdown":"Since you are having problems with [tag:soapui] you need to show how you have configured the soapui plugin. See [official documentation](https://www.soapui.org/docs/test-automation/maven/maven-2-x/) in case you need it.","body":"Since you are having problems with <a href=\"https://stackoverflow.com/questions/tagged/soapui\">soapui</a> you need to show how you have configured the soapui plugin. See <a href=\"https://www.soapui.org/docs/test-automation/maven/maven-2-x/\" rel=\"nofollow noreferrer\">official documentation</a> in case you need it."}],"owner":{"account_id":11513913,"reputation":9,"user_id":8437808,"display_name":"Sheetal Bharara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690532634,"creation_date":1689318145,"question_id":76685381,"body_markdown":"When i am trying to run my xsd soap request from Soap UI .I am getting this response .\r\n\r\nI am using plugin jaxb2-maven-plugin version 1.5 and also tried changing the version but still getting same error .\r\nBelow is my pom.xml file.\r\n\r\nPlease help me in this\r\n\r\n```\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```","title":"Implementation of JAXB-API has not been found on module path or classpath . I have added jaxb2 plugin","body":"<p>When i am trying to run my xsd soap request from Soap UI .I am getting this response .</p>\n<p>I am using plugin jaxb2-maven-plugin version 1.5 and also tried changing the version but still getting same error .\nBelow is my pom.xml file.</p>\n<p>Please help me in this</p>\n<pre><code>\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/&lt;/schemaDirectory&gt;\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                    &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691314416,"post_id":76783679,"comment_id":135472625,"body_markdown":"See https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#examples-of-using-argument-files-with-paths","body":"See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#examples-of-using-argument-files-with-paths\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/specs/man/&hellip;</a>"}],"owner":{"account_id":13633743,"reputation":9,"user_id":9835295,"display_name":"Steven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690495877,"answer_count":0,"score":0,"last_activity_date":1690532211,"creation_date":1690495449,"question_id":76783679,"body_markdown":"Hi everyone I&#39;m trying to modify my minecraft startup script but I do not understand this line \r\n`java -Xms4G -Xmx4G -XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:MaxGCPauseMillis=100 -XX:+DisableExplicitGC -XX:TargetSurvivorRatio=90 -XX:G1NewSizePercent=50 -XX:G1MaxNewSizePercent=80 -XX:G1MixedGCLiveThresholdPercent=50 -XX:+AlwaysPreTouch @libraries/net/minecraftforge/forge/1.19.2-43.2.10/unix_args.txt nogui`\r\n\r\n\r\n\r\nI was expecting to find a .jar file in the java command, the jar which contain the main class and launch the server\r\n\r\nI&#39;ve searched but found nothing about a @ symbol path which replace the .jar file \r\n\r\n\r\nI read this [topic][1] but it is only about setting additional arguments from a file. But the jar file is still mentioned in the command\r\n\r\n  [1]: https://stackoverflow.com/questions/1646889/java-command-line-option-using-symbol","title":"What is the @ symbol on the java command which launch a minecraft forge server?","body":"<p>Hi everyone I'm trying to modify my minecraft startup script but I do not understand this line\n<code>java -Xms4G -Xmx4G -XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:MaxGCPauseMillis=100 -XX:+DisableExplicitGC -XX:TargetSurvivorRatio=90 -XX:G1NewSizePercent=50 -XX:G1MaxNewSizePercent=80 -XX:G1MixedGCLiveThresholdPercent=50 -XX:+AlwaysPreTouch @libraries/net/minecraftforge/forge/1.19.2-43.2.10/unix_args.txt nogui</code></p>\n<p>I was expecting to find a .jar file in the java command, the jar which contain the main class and launch the server</p>\n<p>I've searched but found nothing about a @ symbol path which replace the .jar file</p>\n<p>I read this <a href=\"https://stackoverflow.com/questions/1646889/java-command-line-option-using-symbol\">topic</a> but it is only about setting additional arguments from a file. But the jar file is still mentioned in the command</p>\n"},{"tags":["java","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"score":0,"creation_date":1553323390,"post_id":55311070,"comment_id":97349815,"body_markdown":"you ca directly use kafka api to do what you want.","body":"you ca directly use kafka api to do what you want."},{"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"score":0,"creation_date":1553410114,"post_id":55311070,"comment_id":97369312,"body_markdown":"Yes I have already tried that out, however, I want to try it out in Spring-kafka way.","body":"Yes I have already tried that out, however, I want to try it out in Spring-kafka way."}],"answers":[{"comments":[{"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"score":0,"creation_date":1553410038,"post_id":55315537,"comment_id":97369300,"body_markdown":"Thanks a lot Gary for the guidance. I am now able to spawn multiple consumers depending on the number of clusters. However, while starting the application if one of the mentioned clusters is unavailable, the consumer keeps retrying for the connection and then eventually times out bringing down the entire application. While I am looking for an approach even if one of the mentioned cluster is unavailable my other consumer must keep running(which is successfully connected to the available cluster).","body":"Thanks a lot Gary for the guidance. I am now able to spawn multiple consumers depending on the number of clusters. However, while starting the application if one of the mentioned clusters is unavailable, the consumer keeps retrying for the connection and then eventually times out bringing down the entire application. While I am looking for an approach even if one of the mentioned cluster is unavailable my other consumer must keep running(which is successfully connected to the available cluster)."},{"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"score":0,"creation_date":1553410273,"post_id":55315537,"comment_id":97369334,"body_markdown":"I am getting the exception-java.lang.IllegalStateException: Failed to execute ApplicationRunner Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;listener&#39; defined. Perhaps because since one of my cluster is unavailable listener bean is not getting initialized properly and hence is failing.","body":"I am getting the exception-java.lang.IllegalStateException: Failed to execute ApplicationRunner Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;listener&#39; defined. Perhaps because since one of my cluster is unavailable listener bean is not getting initialized properly and hence is failing."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1553434057,"post_id":55315537,"comment_id":97374779,"body_markdown":"Simply put `try{...} catch(...) {...}` around the call to `getBean()`. You can speed up the failure by setting the `default.api.timeout.ms` property; e.g. `spring.kafka.consumer.properties.default.api.timeout.ms=5000`.","body":"Simply put <code>try{...} catch(...) {...}</code> around the call to <code>getBean()</code>. You can speed up the failure by setting the <code>default.api.timeout.ms</code> property; e.g. <code>spring.kafka.consumer.properties.default.api.timeout.ms=5000</code>&zwnj;&#8203;."},{"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"score":0,"creation_date":1553500877,"post_id":55315537,"comment_id":97391992,"body_markdown":"Thanks for the suggestion, it worked. Is there a way I can have the consumer polling for the connection, so that once the cluster becomes available the consumer must get connected and start consuming messages.","body":"Thanks for the suggestion, it worked. Is there a way I can have the consumer polling for the connection, so that once the cluster becomes available the consumer must get connected and start consuming messages."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553520841,"creation_date":1553356167,"answer_id":55315537,"question_id":55311070,"body_markdown":"Your requirements are not clear but, assuming you want the same listener configuration to listen to multiple clusters, here is one solution. i.e. make the listener bean a prototype and mutate the container factory for each instance...\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ClusterProperties.class)\r\npublic class So55311070Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So55311070Application.class, args);\r\n\t}\r\n\r\n\tprivate final Map&lt;String, MyListener&gt; listeners = new HashMap&lt;&gt;();\r\n\r\n\t@Bean\r\n\tpublic ApplicationRunner runner(ClusterProperties props, ConsumerFactory&lt;Object, Object&gt; cf,\r\n\t\t\tConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\r\n\t\t\tApplicationContext context, KafkaListenerEndpointRegistry registry) {\r\n\r\n\t\treturn args -&gt; {\r\n\t\t\tAtomicInteger instance = new AtomicInteger();\r\n\t\t\tArrays.stream(props.getClusters()).forEach(cluster -&gt; {\r\n\t\t\t\tMap&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;(cf.getConfigurationProperties());\r\n\t\t\t\tconsumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, cluster);\r\n\t\t\t\tString groupId = &quot;group&quot; + instance.getAndIncrement();\r\n\t\t\t\tconsumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\t\t\tcontainerFactory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps));\r\n\t\t\t\tthis.listeners.put(groupId, context.getBean(&quot;listener&quot;, MyListener.class));\r\n\t\t\t});\r\n\t\t\tregistry.getListenerContainers().forEach(c -&gt; System.out.println(c.getGroupId())); // 2.2.5 snapshot only\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\t@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n\tpublic MyListener listener() {\r\n\t\treturn new MyListener();\r\n\t}\r\n\r\n}\r\n\r\nclass MyListener {\r\n\r\n\t@KafkaListener(topics = &quot;so55311070&quot;)\r\n\tpublic void listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;kafka&quot;)\r\npublic class ClusterProperties {\r\n\r\n\tprivate String[] clusters;\r\n\r\n\tpublic String[] getClusters() {\r\n\t\treturn this.clusters;\r\n\t}\r\n\r\n\tpublic void setClusters(String[] clusters) {\r\n\t\tthis.clusters = clusters;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\nkafka.clusters=localhost:9092,localhost:9093\r\n\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.enable-auto-commit=false\r\n```\r\n\r\nResult\r\n\r\n```\r\ngroup0\r\ngroup1\r\n...\r\n2019-03-23 11:43:25.993  INFO 74869 --- [ntainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \r\n    : partitions assigned: [so55311070-0]\r\n2019-03-23 11:43:25.994  INFO 74869 --- [ntainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \r\n    : partitions assigned: [so55311070-0]\r\n```\r\n\r\n__EDIT__\r\n\r\nAdd code to retry starting failed containers.\r\n\r\nIt turns out we don&#39;t need a local map of listeners, the registry has a map of all containers, including the ones that failed to start.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(ClusterProperties.class)\r\npublic class So55311070Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So55311070Application.class, args);\r\n\t}\r\n\r\n\tprivate boolean atLeastOneFailure;\r\n\r\n\tprivate ScheduledFuture&lt;?&gt; restartTask;\r\n\r\n\t@Bean\r\n\tpublic ApplicationRunner runner(ClusterProperties props, ConsumerFactory&lt;Object, Object&gt; cf,\r\n\t\t\tConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\r\n\t\t\tApplicationContext context, KafkaListenerEndpointRegistry registry, TaskScheduler scheduler) {\r\n\r\n\t\treturn args -&gt; {\r\n\t\t\tAtomicInteger instance = new AtomicInteger();\r\n\t\t\tArrays.stream(props.getClusters()).forEach(cluster -&gt; {\r\n\t\t\t\tMap&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;(cf.getConfigurationProperties());\r\n\t\t\t\tconsumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, cluster);\r\n\t\t\t\tString groupId = &quot;group&quot; + instance.getAndIncrement();\r\n\t\t\t\tconsumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\t\t\tattemptStart(containerFactory, context, consumerProps, groupId);\r\n\t\t\t});\r\n\t\t\tregistry.getListenerContainers().forEach(c -&gt; System.out.println(c.getGroupId())); // 2.2.5 snapshot only\r\n\t\t\tif (this.atLeastOneFailure) {\r\n\t\t\t\tRunnable rescheduleTask = () -&gt; {\r\n\t\t\t\t\tregistry.getListenerContainers().forEach(c -&gt; {\r\n\t\t\t\t\t\tthis.atLeastOneFailure = false;\r\n\t\t\t\t\t\tif (!c.isRunning()) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Attempting restart of &quot; + c.getGroupId());\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tc.start();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Failed to start &quot; + e.getMessage());\r\n\t\t\t\t\t\t\t\tthis.atLeastOneFailure = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!this.atLeastOneFailure) {\r\n\t\t\t\t\t\tthis.restartTask.cancel(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.restartTask = scheduler.scheduleAtFixedRate(rescheduleTask,\r\n\t\t\t\t\t\tInstant.now().plusSeconds(60),\r\n\t\t\t\t\t\tDuration.ofSeconds(60));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate void attemptStart(ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\r\n\t\t\tApplicationContext context, Map&lt;String, Object&gt; consumerProps, String groupId) {\r\n\r\n\t\tcontainerFactory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps));\r\n\t\ttry {\r\n\t\t\tcontext.getBean(&quot;listener&quot;, MyListener.class);\r\n\t\t}\r\n\t\tcatch (BeanCreationException e) {\r\n\t\t\tthis.atLeastOneFailure = true;\r\n\t\t}\r\n\t}\r\n\r\n\t@Bean\r\n\t@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n\tpublic MyListener listener() {\r\n\t\treturn new MyListener();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TaskScheduler scheduler() {\r\n\t\treturn new ThreadPoolTaskScheduler();\r\n\t}\r\n\r\n}\r\n\r\nclass MyListener {\r\n\r\n\t@KafkaListener(topics = &quot;so55311070&quot;)\r\n\tpublic void listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"How to dynamically create multiple consumers in Spring Kafka","body":"<p>Your requirements are not clear but, assuming you want the same listener configuration to listen to multiple clusters, here is one solution. i.e. make the listener bean a prototype and mutate the container factory for each instance...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigurationProperties(ClusterProperties.class)\npublic class So55311070Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So55311070Application.class, args);\n    }\n\n    private final Map&lt;String, MyListener&gt; listeners = new HashMap&lt;&gt;();\n\n    @Bean\n    public ApplicationRunner runner(ClusterProperties props, ConsumerFactory&lt;Object, Object&gt; cf,\n            ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\n            ApplicationContext context, KafkaListenerEndpointRegistry registry) {\n\n        return args -&gt; {\n            AtomicInteger instance = new AtomicInteger();\n            Arrays.stream(props.getClusters()).forEach(cluster -&gt; {\n                Map&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;(cf.getConfigurationProperties());\n                consumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, cluster);\n                String groupId = \"group\" + instance.getAndIncrement();\n                consumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n                containerFactory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps));\n                this.listeners.put(groupId, context.getBean(\"listener\", MyListener.class));\n            });\n            registry.getListenerContainers().forEach(c -&gt; System.out.println(c.getGroupId())); // 2.2.5 snapshot only\n        };\n    }\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public MyListener listener() {\n        return new MyListener();\n    }\n\n}\n\nclass MyListener {\n\n    @KafkaListener(topics = \"so55311070\")\n    public void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = \"kafka\")\npublic class ClusterProperties {\n\n    private String[] clusters;\n\n    public String[] getClusters() {\n        return this.clusters;\n    }\n\n    public void setClusters(String[] clusters) {\n        this.clusters = clusters;\n    }\n\n}\n</code></pre>\n\n<pre><code>kafka.clusters=localhost:9092,localhost:9093\n\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.enable-auto-commit=false\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>group0\ngroup1\n...\n2019-03-23 11:43:25.993  INFO 74869 --- [ntainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \n    : partitions assigned: [so55311070-0]\n2019-03-23 11:43:25.994  INFO 74869 --- [ntainer#1-0-C-1] o.s.k.l.KafkaMessageListenerContainer    \n    : partitions assigned: [so55311070-0]\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Add code to retry starting failed containers.</p>\n\n<p>It turns out we don't need a local map of listeners, the registry has a map of all containers, including the ones that failed to start.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigurationProperties(ClusterProperties.class)\npublic class So55311070Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So55311070Application.class, args);\n    }\n\n    private boolean atLeastOneFailure;\n\n    private ScheduledFuture&lt;?&gt; restartTask;\n\n    @Bean\n    public ApplicationRunner runner(ClusterProperties props, ConsumerFactory&lt;Object, Object&gt; cf,\n            ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\n            ApplicationContext context, KafkaListenerEndpointRegistry registry, TaskScheduler scheduler) {\n\n        return args -&gt; {\n            AtomicInteger instance = new AtomicInteger();\n            Arrays.stream(props.getClusters()).forEach(cluster -&gt; {\n                Map&lt;String, Object&gt; consumerProps = new HashMap&lt;&gt;(cf.getConfigurationProperties());\n                consumerProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, cluster);\n                String groupId = \"group\" + instance.getAndIncrement();\n                consumerProps.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n                attemptStart(containerFactory, context, consumerProps, groupId);\n            });\n            registry.getListenerContainers().forEach(c -&gt; System.out.println(c.getGroupId())); // 2.2.5 snapshot only\n            if (this.atLeastOneFailure) {\n                Runnable rescheduleTask = () -&gt; {\n                    registry.getListenerContainers().forEach(c -&gt; {\n                        this.atLeastOneFailure = false;\n                        if (!c.isRunning()) {\n                            System.out.println(\"Attempting restart of \" + c.getGroupId());\n                            try {\n                                c.start();\n                            }\n                            catch (Exception e) {\n                                System.out.println(\"Failed to start \" + e.getMessage());\n                                this.atLeastOneFailure = true;\n                            }\n                        }\n                    });\n                    if (!this.atLeastOneFailure) {\n                        this.restartTask.cancel(false);\n                    }\n                };\n                this.restartTask = scheduler.scheduleAtFixedRate(rescheduleTask,\n                        Instant.now().plusSeconds(60),\n                        Duration.ofSeconds(60));\n            }\n        };\n    }\n\n    private void attemptStart(ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; containerFactory,\n            ApplicationContext context, Map&lt;String, Object&gt; consumerProps, String groupId) {\n\n        containerFactory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps));\n        try {\n            context.getBean(\"listener\", MyListener.class);\n        }\n        catch (BeanCreationException e) {\n            this.atLeastOneFailure = true;\n        }\n    }\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public MyListener listener() {\n        return new MyListener();\n    }\n\n    @Bean\n    public TaskScheduler scheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n}\n\nclass MyListener {\n\n    @KafkaListener(topics = \"so55311070\")\n    public void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8171302,"reputation":61,"user_id":6151652,"display_name":"Valery Putnin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690532063,"creation_date":1690532063,"answer_id":76785955,"question_id":55311070,"body_markdown":"1. Create a template class for future listeners:\r\n\r\n        public class KafkaTemplateListener implements MessageListener&lt;String, String&gt; {\r\n            @Override\r\n            public void onMessage(ConsumerRecord&lt;String, String&gt; record) {\r\n                System.out.println(&quot;RECORD PROCESSING: &quot; + record);\r\n            }\r\n        }\r\n\r\n\r\n2. Create KafkaListenerEndpoint with the implemented template:\r\n\r\n        @Service\r\n        public class KafkaListenerCreator {\r\n            String kafkaGroupId = &quot;kafkaGroupId&quot;;\r\n            String kafkaListenerId = &quot;kafkaListenerId-&quot;;\r\n            static AtomicLong endpointIdIndex = new AtomicLong(1);\r\n\r\n            private KafkaListenerEndpoint createKafkaListenerEndpoint(String topic) {\r\n                MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint =\r\n                    createDefaultMethodKafkaListenerEndpoint(topic);\r\n                kafkaListenerEndpoint.setBean(new KafkaTemplateListener());\r\n                try {\r\n                    kafkaListenerEndpoint.setMethod(KafkaTemplateListener.class\r\n                        .getMethod(&quot;onMessage&quot;, ConsumerRecord.class));\r\n                } catch (NoSuchMethodException e) {\r\n                    throw new RuntimeException(&quot;Attempt to call a non-existent method &quot; + e);\r\n                }\r\n                return kafkaListenerEndpoint;\r\n            }\r\n\r\n            private MethodKafkaListenerEndpoint&lt;String, String&gt; createDefaultMethodKafkaListenerEndpoint(String topic) {\r\n                MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint = new MethodKafkaListenerEndpoint&lt;&gt;();\r\n                kafkaListenerEndpoint.setId(generateListenerId());\r\n                kafkaListenerEndpoint.setGroupId(kafkaGroupId);\r\n                kafkaListenerEndpoint.setAutoStartup(true);\r\n                kafkaListenerEndpoint.setTopics(topic);\r\n                kafkaListenerEndpoint.setMessageHandlerMethodFactory(new DefaultMessageHandlerMethodFactory());\r\n                return kafkaListenerEndpoint;\r\n            }\r\n\r\n            private String generateListenerId() {\r\n                return kafkaGeneralListenerEndpointId + endpointIdIndex.getAndIncrement();\r\n\r\n            }\r\n        }\r\n\r\n\r\n3. Register KafkaListenerEndpointRegistry with the endpoint:\r\n\r\n        @Service\r\n        public class KafkaListenerCreator {\r\n            //... HERE HAS TO BE VARIABLES FROM PREVIOUS EXAMPLE\r\n\r\n            @Autowired\r\n            private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\r\n            @Autowired\r\n            private KafkaListenerContainerFactory kafkaListenerContainerFactory;\r\n\r\n            public void createAndRegisterListener(String topic) {\r\n                KafkaListenerEndpoint listener = createKafkaListenerEndpoint(topic);\r\n                kafkaListenerEndpointRegistry.registerListenerContainer(listener, kafkaListenerContainerFactory, true);\r\n            }\r\n\r\n            //... HERE HAS TO BE METHODS FROM PREVIOUS EXAMPLE\r\n\r\n        }","title":"How to dynamically create multiple consumers in Spring Kafka","body":"<ol>\n<li><p>Create a template class for future listeners:</p>\n<pre><code> public class KafkaTemplateListener implements MessageListener&lt;String, String&gt; {\n     @Override\n     public void onMessage(ConsumerRecord&lt;String, String&gt; record) {\n         System.out.println(&quot;RECORD PROCESSING: &quot; + record);\n     }\n }\n</code></pre>\n</li>\n<li><p>Create KafkaListenerEndpoint with the implemented template:</p>\n<pre><code> @Service\n public class KafkaListenerCreator {\n     String kafkaGroupId = &quot;kafkaGroupId&quot;;\n     String kafkaListenerId = &quot;kafkaListenerId-&quot;;\n     static AtomicLong endpointIdIndex = new AtomicLong(1);\n\n     private KafkaListenerEndpoint createKafkaListenerEndpoint(String topic) {\n         MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint =\n             createDefaultMethodKafkaListenerEndpoint(topic);\n         kafkaListenerEndpoint.setBean(new KafkaTemplateListener());\n         try {\n             kafkaListenerEndpoint.setMethod(KafkaTemplateListener.class\n                 .getMethod(&quot;onMessage&quot;, ConsumerRecord.class));\n         } catch (NoSuchMethodException e) {\n             throw new RuntimeException(&quot;Attempt to call a non-existent method &quot; + e);\n         }\n         return kafkaListenerEndpoint;\n     }\n\n     private MethodKafkaListenerEndpoint&lt;String, String&gt; createDefaultMethodKafkaListenerEndpoint(String topic) {\n         MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint = new MethodKafkaListenerEndpoint&lt;&gt;();\n         kafkaListenerEndpoint.setId(generateListenerId());\n         kafkaListenerEndpoint.setGroupId(kafkaGroupId);\n         kafkaListenerEndpoint.setAutoStartup(true);\n         kafkaListenerEndpoint.setTopics(topic);\n         kafkaListenerEndpoint.setMessageHandlerMethodFactory(new DefaultMessageHandlerMethodFactory());\n         return kafkaListenerEndpoint;\n     }\n\n     private String generateListenerId() {\n         return kafkaGeneralListenerEndpointId + endpointIdIndex.getAndIncrement();\n\n     }\n }\n</code></pre>\n</li>\n<li><p>Register KafkaListenerEndpointRegistry with the endpoint:</p>\n<pre><code> @Service\n public class KafkaListenerCreator {\n     //... HERE HAS TO BE VARIABLES FROM PREVIOUS EXAMPLE\n\n     @Autowired\n     private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n     @Autowired\n     private KafkaListenerContainerFactory kafkaListenerContainerFactory;\n\n     public void createAndRegisterListener(String topic) {\n         KafkaListenerEndpoint listener = createKafkaListenerEndpoint(topic);\n         kafkaListenerEndpointRegistry.registerListenerContainer(listener, kafkaListenerContainerFactory, true);\n     }\n\n     //... HERE HAS TO BE METHODS FROM PREVIOUS EXAMPLE\n\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690532063,"creation_date":1553320810,"question_id":55311070,"body_markdown":"I have two Kafka clusters, the IPs for which I am fetching dynamically from database. I am using @KafkaListener for creating listeners. Now I want to create multiple Kafka listeners at runtime depending on the bootstrap server attribute(comma-separated values), each one listening to a cluster. Can you please suggest me how do I achieve this?\r\n\r\nSpring-boot: 2.1.3.RELEASE\r\nKafka-2.0.1\r\nJava-8","title":"How to dynamically create multiple consumers in Spring Kafka","body":"<p>I have two Kafka clusters, the IPs for which I am fetching dynamically from database. I am using @KafkaListener for creating listeners. Now I want to create multiple Kafka listeners at runtime depending on the bootstrap server attribute(comma-separated values), each one listening to a cluster. Can you please suggest me how do I achieve this?</p>\n\n<p>Spring-boot: 2.1.3.RELEASE\nKafka-2.0.1\nJava-8</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690531617,"post_id":76785892,"comment_id":135369733,"body_markdown":"Not really, no. At least I don&#39;t know of a JSON parser that has that feature. What you should do is parse the raw JSON first, then map to a different data structure once you have all the data.","body":"Not really, no. At least I don&#39;t know of a JSON parser that has that feature. What you should do is parse the raw JSON first, then map to a different data structure once you have all the data."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690532920,"post_id":76785892,"comment_id":135370027,"body_markdown":"Usually, a posted question should contain a single question only. You have asked two, separate questions. I suggest that you [edit] this question so that it only asks about relations and post a new question regarding stopping the serialization process in the middle. Having said that, regarding the second question, perhaps this will help: [JSON Parsing with use of Streaming API and Json Parser - Mixed mode](https://stackoverflow.com/questions/42178526/json-parsing-with-use-of-streaming-api-and-json-parser-mixed-mode)","body":"Usually, a posted question should contain a single question only. You have asked two, separate questions. I suggest that you <a href=\"https://stackoverflow.com/posts/76785892/edit\">edit</a> this question so that it only asks about relations and post a new question regarding stopping the serialization process in the middle. Having said that, regarding the second question, perhaps this will help: <a href=\"https://stackoverflow.com/questions/42178526/json-parsing-with-use-of-streaming-api-and-json-parser-mixed-mode\">JSON Parsing with use of Streaming API and Json Parser - Mixed mode</a>"},{"owner":{"account_id":9299631,"reputation":654,"user_id":6905540,"accept_rate":66,"display_name":"VANILKA"},"score":1,"creation_date":1690533144,"post_id":76785892,"comment_id":135370074,"body_markdown":"@Jorn It seem that it will be easier doing it &quot;manualy&quot; via JsonParser, because i have full controll of data.","body":"@Jorn It seem that it will be easier doing it &quot;manualy&quot; via JsonParser, because i have full controll of data."}],"owner":{"account_id":9299631,"reputation":654,"user_id":6905540,"accept_rate":66,"display_name":"VANILKA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690531464,"creation_date":1690531464,"question_id":76785892,"body_markdown":"I Have a pack of files with structure like this\r\n```\r\n{\r\n  &quot;identifier&quot;: &quot;Test&quot;,\r\n  &quot;persons&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;1&quot;,\r\n      &quot;firstName&quot;: &quot;Max&quot;,\r\n      &quot;lastName&quot;: &quot;Test1&quot;,\r\n      ...\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;2&quot;,\r\n      &quot;firstName&quot;: &quot;Anne&quot;,\r\n      &quot;lastName&quot;: &quot;Test1&quot;\r\n    }\r\n    ...\r\n  ],\r\n  &quot;relations&quot;: [\r\n    {\r\n      &quot;identifier&quot;: &quot;1&quot;,\r\n      &quot;partnerFirst&quot;: &quot;1&quot;,\r\n      &quot;partnerSecond&quot;: &quot;2&quot;,\r\n      &quot;children&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;3&quot;,\r\n          &quot;adopted&quot;: false\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;4&quot;,\r\n          &quot;adopted&quot;: false\r\n        }\r\n      ],\r\n      ...\r\n    }\r\n  ]\r\n}\r\n```\r\nAnd I&#39;ve created custom Deserializer for Person and Relation. \r\nCreation of persons are fine. \r\n\r\nCan I any possibility in Relation Deserialiser to access Person Lists for searching reference ? \r\n\r\nI search also a way to stop serializing whole file if &quot;identifier&quot; for some external condition, like I have in my DB this id set as &quot;ignore&quot;. \r\n\r\nFor now I&#39;m doing it by JSONparser before I run Deserialisation via custom Deserialiser. But Is it a way to provide to Deserialiser other Helper class ?","title":"Stop deserialization if condition met in Java","body":"<p>I Have a pack of files with structure like this</p>\n<pre><code>{\n  &quot;identifier&quot;: &quot;Test&quot;,\n  &quot;persons&quot;: [\n    {\n      &quot;id&quot;: &quot;1&quot;,\n      &quot;firstName&quot;: &quot;Max&quot;,\n      &quot;lastName&quot;: &quot;Test1&quot;,\n      ...\n    },\n    {\n      &quot;id&quot;: &quot;2&quot;,\n      &quot;firstName&quot;: &quot;Anne&quot;,\n      &quot;lastName&quot;: &quot;Test1&quot;\n    }\n    ...\n  ],\n  &quot;relations&quot;: [\n    {\n      &quot;identifier&quot;: &quot;1&quot;,\n      &quot;partnerFirst&quot;: &quot;1&quot;,\n      &quot;partnerSecond&quot;: &quot;2&quot;,\n      &quot;children&quot;: [\n        {\n          &quot;id&quot;: &quot;3&quot;,\n          &quot;adopted&quot;: false\n        },\n        {\n          &quot;id&quot;: &quot;4&quot;,\n          &quot;adopted&quot;: false\n        }\n      ],\n      ...\n    }\n  ]\n}\n</code></pre>\n<p>And I've created custom Deserializer for Person and Relation.\nCreation of persons are fine.</p>\n<p>Can I any possibility in Relation Deserialiser to access Person Lists for searching reference ?</p>\n<p>I search also a way to stop serializing whole file if &quot;identifier&quot; for some external condition, like I have in my DB this id set as &quot;ignore&quot;.</p>\n<p>For now I'm doing it by JSONparser before I run Deserialisation via custom Deserialiser. But Is it a way to provide to Deserialiser other Helper class ?</p>\n"},{"tags":["java","pdf","itext7"],"answers":[{"comments":[{"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"score":0,"creation_date":1690531558,"post_id":76781448,"comment_id":135369723,"body_markdown":"Thanks @mkl for quick response. I explored the option of creating a custom strategy and have shared my findings by adding more info to the question for readability. Please share your thoughts on the same.","body":"Thanks @mkl for quick response. I explored the option of creating a custom strategy and have shared my findings by adding more info to the question for readability. Please share your thoughts on the same."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690608596,"post_id":76781448,"comment_id":135380358,"body_markdown":"I&#39;ll look into that next week.","body":"I&#39;ll look into that next week."},{"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"score":0,"creation_date":1691379817,"post_id":76781448,"comment_id":135478522,"body_markdown":"Hi @mkl, did you get a chance to look into this.","body":"Hi @mkl, did you get a chance to look into this."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1691490145,"post_id":76781448,"comment_id":135495576,"body_markdown":"Not yet, unfortunately...","body":"Not yet, unfortunately..."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690472811,"creation_date":1690472811,"answer_id":76781448,"question_id":76779369,"body_markdown":"&gt;Bit of debugging has unraveled that if the textToReplace exists on a page other than the first, the strategy.getResultantLocations() has a size of 0. So, the code doesn&#39;t enters the for loop to replace the text.\r\n\r\nThis observation is pointing to the cause of the issue: During redaction a fresh cleanup strategy is required for each page. Thus, the `reset` method of the used cleanup strategy is called. Both the strategy classes you use - `CompositeCleanupStrategy` and `RegexBasedCleanupStrategy` - implement that method by actually generating a _new_ instance and initializing it like the original was initialized. Thus, the strategy objects you have a hold on in your code were only used on the first page and, consequentially, only contain the resultant locations on that first page.\r\n\r\nAnother issue is that `RegexBasedCleanupStrategy` in its `getResultantLocations` uses a constant page number &#39;0&#39; in all the `DefaultPdfTextLocation` it generates and returns.\r\n\r\nOne way to fix this, therefore, is to derive your own strategy from `RegexBasedCleanupStrategy` with an extra method for retrieving _all_ text location objects and a collection of all reset-ed instances. In that method all the instances would be visited, their locations retrieved having their respective page numbers corrected, and returned in a new collection. `reset` would be adapted to generate instances of your strategy class and would manage sharing the list of all instances.","title":"Not able to replace text in all pages of a multi page PDF file using iText7 PDFCleanup java Library","body":"<blockquote>\n<p>Bit of debugging has unraveled that if the textToReplace exists on a page other than the first, the strategy.getResultantLocations() has a size of 0. So, the code doesn't enters the for loop to replace the text.</p>\n</blockquote>\n<p>This observation is pointing to the cause of the issue: During redaction a fresh cleanup strategy is required for each page. Thus, the <code>reset</code> method of the used cleanup strategy is called. Both the strategy classes you use - <code>CompositeCleanupStrategy</code> and <code>RegexBasedCleanupStrategy</code> - implement that method by actually generating a <em>new</em> instance and initializing it like the original was initialized. Thus, the strategy objects you have a hold on in your code were only used on the first page and, consequentially, only contain the resultant locations on that first page.</p>\n<p>Another issue is that <code>RegexBasedCleanupStrategy</code> in its <code>getResultantLocations</code> uses a constant page number '0' in all the <code>DefaultPdfTextLocation</code> it generates and returns.</p>\n<p>One way to fix this, therefore, is to derive your own strategy from <code>RegexBasedCleanupStrategy</code> with an extra method for retrieving <em>all</em> text location objects and a collection of all reset-ed instances. In that method all the instances would be visited, their locations retrieved having their respective page numbers corrected, and returned in a new collection. <code>reset</code> would be adapted to generate instances of your strategy class and would manage sharing the list of all instances.</p>\n"}],"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690531437,"creation_date":1690458046,"question_id":76779369,"body_markdown":"I have PDFs with **large number of pages** containing PII data like SSN. I need to replace the SSN with some dummy value before sharing the PDF. I am exploring the usage of iText and it&#39;s PDFCleanup plugin. Overall, the library looks promising in replacing the text. However, I have landed into a problem: \r\n\r\nI am able to redact i.e. cleanup the text from any page of the PDF. However, I am only able to replace the text on the first page. Text from any subsequent page doesn&#39;t gets replaced.\r\n\r\nMy sample code is:\r\n\r\n    private void replaceTextInDocument(PdfDocument pdfDocument, String textToReplace, String replacementText) throws IOException {\r\n        CompositeCleanupStrategy strategy = new CompositeCleanupStrategy();\r\n        strategy.add(new RegexBasedCleanupStrategy(textToReplace).setRedactionColor(ColorConstants.WHITE));\r\n        PdfCleaner.autoSweepCleanUp(pdfDocument, strategy);\r\n        System.out.println(&quot;----STRATEGY SIZE:  &quot; + strategy.getResultantLocations().size());\r\n    \r\n        for (IPdfTextLocation location : strategy.getResultantLocations()) {\r\n            System.out.println(&quot;----PAGE #: &quot; + location.getPageNumber() + &quot; TEXT: &quot; + location.getText());\r\n            PdfPage page = pdfDocument.getPage(location.getPageNumber() + 1);\r\n            PdfCanvas pdfCanvas = new PdfCanvas(page.newContentStreamAfter(), page.getResources(), page.getDocument());\r\n            Canvas canvas = new Canvas(pdfCanvas, location.getRectangle());\r\n            canvas.add(new Paragraph(replacementText).setFontSize(8).setMarginTop(0f)\r\n                  .setRotationAngle(Math.toRadians(90))\r\n            );\r\n        }\r\n    }\r\n\r\nBit of debugging has unraveled that if the *textToReplace* exists on a page other than the first, the *strategy.getResultantLocations()* has a size of 0. So, the code doesn&#39;t enters the for loop to replace the text.\r\n\r\nProbably the confusing part is that PDFCleaner is able to clean/redact the text on any page.\r\n\r\nI am not sure if I am missing anything here or it&#39;s the limitation of the library. The code samples that I have seen online use only one pager PDFs.\r\n\r\nThanks and Regards \r\n\r\n***EDITING** my question to add more info as per comment by @mkl. Adding info here would improve readability as compared to adding plain text comment. Also, this would result in continuity of the steps followed and resolution.*\r\n\r\nI am in PoC Stage and running a standalone java program. \r\n\r\nI explored the option of creating a custom strategy based on *RegexBasedLocationExtractionStrategy*. To understand the same, I debugged this class. Please refer to the code in the RegexBasedLocationExtractionStrategy.getResultantLocations() method\r\n\r\n     public Collection&lt;IPdfTextLocation&gt; getResultantLocations() {\r\n            // align characters in &quot;logical&quot; order\r\n            Collections.sort(parseResult, new TextChunkLocationBasedComparator(new DefaultTextChunkLocationComparator()));\r\n    \r\n            // process parse results\r\n            List&lt;IPdfTextLocation&gt; retval = new ArrayList&lt;&gt;();\r\n    \r\n            CharacterRenderInfo.StringConversionInfo txt = CharacterRenderInfo.mapString(parseResult);\r\n    \r\n            Matcher mat = pattern.matcher(txt.text);\r\n            while (mat.find()) {\r\n                Integer startIndex = getStartIndex(txt.indexMap, mat.start(), txt.text);\r\n                Integer endIndex = getEndIndex(txt.indexMap, mat.end() - 1);\r\n                if (startIndex != null &amp;&amp; endIndex != null &amp;&amp; startIndex &lt;= endIndex) {\r\n                    for (Rectangle r : toRectangles(parseResult.subList(startIndex.intValue(), endIndex.intValue() + 1))) {\r\n                        retval.add(new DefaultPdfTextLocation(0, r, mat.group(0)));\r\n                    }\r\n                }\r\n            }\r\n    \r\n            /* sort\r\n             * even though the return type is Collection&lt;Rectangle&gt;, we apply a sorting algorithm here\r\n             * This is to ensure that tests that use this functionality (for instance to generate pdf with\r\n             * areas of interest highlighted) will not break when compared.\r\n             */\r\n            Collections.sort(retval, new PdfTextLocationComparator());\r\n    \r\n            // ligatures can produces same rectangle\r\n            removeDuplicates(retval);\r\n    \r\n            return retval;\r\n        }\r\n\r\nThe *parseResults* and subsequent *txt.text* always contain the content from the Page 1 of the PDF irrespective of the fact which page of PDF contains the *pattern*. So, the *mat.find()* evaluates to false and hence the *while()* loop is not executed. So, nothing gets added to the *retVal* and as a result *strategy.getResultantLocations()* returns 0. \r\n\r\nAt this stage, I cannot say that hard coded 0 for *DefaultPdfTextLocation* is an issue or not.\r\n\r\nAny idea why the following is happening or pointers for further debugging  would be helpful:\r\n \r\n - Why the *RegexBasedLocationExtractionStrategy* is not able to read or\r\n   add content for pages other than Page 1.\r\n\r\n","title":"Not able to replace text in all pages of a multi page PDF file using iText7 PDFCleanup java Library","body":"<p>I have PDFs with <strong>large number of pages</strong> containing PII data like SSN. I need to replace the SSN with some dummy value before sharing the PDF. I am exploring the usage of iText and it's PDFCleanup plugin. Overall, the library looks promising in replacing the text. However, I have landed into a problem:</p>\n<p>I am able to redact i.e. cleanup the text from any page of the PDF. However, I am only able to replace the text on the first page. Text from any subsequent page doesn't gets replaced.</p>\n<p>My sample code is:</p>\n<pre><code>private void replaceTextInDocument(PdfDocument pdfDocument, String textToReplace, String replacementText) throws IOException {\n    CompositeCleanupStrategy strategy = new CompositeCleanupStrategy();\n    strategy.add(new RegexBasedCleanupStrategy(textToReplace).setRedactionColor(ColorConstants.WHITE));\n    PdfCleaner.autoSweepCleanUp(pdfDocument, strategy);\n    System.out.println(&quot;----STRATEGY SIZE:  &quot; + strategy.getResultantLocations().size());\n\n    for (IPdfTextLocation location : strategy.getResultantLocations()) {\n        System.out.println(&quot;----PAGE #: &quot; + location.getPageNumber() + &quot; TEXT: &quot; + location.getText());\n        PdfPage page = pdfDocument.getPage(location.getPageNumber() + 1);\n        PdfCanvas pdfCanvas = new PdfCanvas(page.newContentStreamAfter(), page.getResources(), page.getDocument());\n        Canvas canvas = new Canvas(pdfCanvas, location.getRectangle());\n        canvas.add(new Paragraph(replacementText).setFontSize(8).setMarginTop(0f)\n              .setRotationAngle(Math.toRadians(90))\n        );\n    }\n}\n</code></pre>\n<p>Bit of debugging has unraveled that if the <em>textToReplace</em> exists on a page other than the first, the <em>strategy.getResultantLocations()</em> has a size of 0. So, the code doesn't enters the for loop to replace the text.</p>\n<p>Probably the confusing part is that PDFCleaner is able to clean/redact the text on any page.</p>\n<p>I am not sure if I am missing anything here or it's the limitation of the library. The code samples that I have seen online use only one pager PDFs.</p>\n<p>Thanks and Regards</p>\n<p><em><strong>EDITING</strong> my question to add more info as per comment by @mkl. Adding info here would improve readability as compared to adding plain text comment. Also, this would result in continuity of the steps followed and resolution.</em></p>\n<p>I am in PoC Stage and running a standalone java program.</p>\n<p>I explored the option of creating a custom strategy based on <em>RegexBasedLocationExtractionStrategy</em>. To understand the same, I debugged this class. Please refer to the code in the RegexBasedLocationExtractionStrategy.getResultantLocations() method</p>\n<pre><code> public Collection&lt;IPdfTextLocation&gt; getResultantLocations() {\n        // align characters in &quot;logical&quot; order\n        Collections.sort(parseResult, new TextChunkLocationBasedComparator(new DefaultTextChunkLocationComparator()));\n\n        // process parse results\n        List&lt;IPdfTextLocation&gt; retval = new ArrayList&lt;&gt;();\n\n        CharacterRenderInfo.StringConversionInfo txt = CharacterRenderInfo.mapString(parseResult);\n\n        Matcher mat = pattern.matcher(txt.text);\n        while (mat.find()) {\n            Integer startIndex = getStartIndex(txt.indexMap, mat.start(), txt.text);\n            Integer endIndex = getEndIndex(txt.indexMap, mat.end() - 1);\n            if (startIndex != null &amp;&amp; endIndex != null &amp;&amp; startIndex &lt;= endIndex) {\n                for (Rectangle r : toRectangles(parseResult.subList(startIndex.intValue(), endIndex.intValue() + 1))) {\n                    retval.add(new DefaultPdfTextLocation(0, r, mat.group(0)));\n                }\n            }\n        }\n\n        /* sort\n         * even though the return type is Collection&lt;Rectangle&gt;, we apply a sorting algorithm here\n         * This is to ensure that tests that use this functionality (for instance to generate pdf with\n         * areas of interest highlighted) will not break when compared.\n         */\n        Collections.sort(retval, new PdfTextLocationComparator());\n\n        // ligatures can produces same rectangle\n        removeDuplicates(retval);\n\n        return retval;\n    }\n</code></pre>\n<p>The <em>parseResults</em> and subsequent <em>txt.text</em> always contain the content from the Page 1 of the PDF irrespective of the fact which page of PDF contains the <em>pattern</em>. So, the <em>mat.find()</em> evaluates to false and hence the <em>while()</em> loop is not executed. So, nothing gets added to the <em>retVal</em> and as a result <em>strategy.getResultantLocations()</em> returns 0.</p>\n<p>At this stage, I cannot say that hard coded 0 for <em>DefaultPdfTextLocation</em> is an issue or not.</p>\n<p>Any idea why the following is happening or pointers for further debugging  would be helpful:</p>\n<ul>\n<li>Why the <em>RegexBasedLocationExtractionStrategy</em> is not able to read or\nadd content for pages other than Page 1.</li>\n</ul>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690479249,"post_id":76776473,"comment_id":135363200,"body_markdown":"this is data rest api with ```@RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)``` and default method is not recognised if I add this to it as that will act as entry point","body":"this is data rest api with <code>@RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)</code> and default method is not recognised if I add this to it as that will act as entry point"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690479939,"post_id":76776473,"comment_id":135363325,"body_markdown":"I get 404 for ```@RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)\n    default Employee findLatestEmployeeByNameExactMatch(@Param(&quot;name&quot;) String name) {\n        return findEmployee(name.toUpperCase().replace(&quot;_&quot;,&quot;\\\\_&quot;));\n    }```","body":"I get 404 for <code>@RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)     default Employee findLatestEmployeeByNameExactMatch(@Param(&quot;name&quot;) String name) {         return findEmployee(name.toUpperCase().replace(&quot;_&quot;,&quot;\\\\_&quot;));     }</code>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690481083,"post_id":76776473,"comment_id":135363560,"body_markdown":"Can you share both the data in the DB and the search query (Ideally by editing your original question as it allows you to properly format it)?","body":"Can you share both the data in the DB and the search query (Ideally by editing your original question as it allows you to properly format it)?"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690485722,"post_id":76776473,"comment_id":135364356,"body_markdown":"updated question","body":"updated question"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690486264,"post_id":76776473,"comment_id":135364453,"body_markdown":"Is there any reason you are using `LIKE` and not `=`?","body":"Is there any reason you are using <code>LIKE</code> and not <code>=</code>?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690486339,"post_id":76776473,"comment_id":135364466,"body_markdown":"What is `findEmployee` in the code you mentioned? Does it make a difference if you directly call the `default` method without the REST API/`@RestResource` i.e. just call `findEmployeeByName(&quot;John_X&quot;)`?","body":"What is <code>findEmployee</code> in the code you mentioned? Does it make a difference if you directly call the <code>default</code> method without the REST API/<code>@RestResource</code> i.e. just call <code>findEmployeeByName(&quot;John_X&quot;)</code>?"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690487245,"post_id":76776473,"comment_id":135364634,"body_markdown":"I think doing an eqaul makes more sense as this is a exact match. I overthought about this because all the rest custom repository methods are avaialble at ```entity/search/yourCustomerApi``` and put LIKE operator. thanks for quickly asking that question","body":"I think doing an eqaul makes more sense as this is a exact match. I overthought about this because all the rest custom repository methods are avaialble at <code>entity&#47;search&#47;yourCustomerApi</code> and put LIKE operator. thanks for quickly asking that question"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690487329,"post_id":76776473,"comment_id":135364652,"body_markdown":"Putting this under a custom controller instead of relying on data rest also works but we have projections that we use which default works in repository methods without needing customization","body":"Putting this under a custom controller instead of relying on data rest also works but we have projections that we use which default works in repository methods without needing customization"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690487614,"post_id":76776473,"comment_id":135364717,"body_markdown":"In this case, it seems like the repository method might not be the problem. Can you share the complete controller as well as the reason you need to use `LIKE` instead of `=` in your question?","body":"In this case, it seems like the repository method might not be the problem. Can you share the complete controller as well as the reason you need to use <code>LIKE</code> instead of <code>=</code> in your question?"},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1690488887,"post_id":76776473,"comment_id":135364951,"body_markdown":"I dont have a controller. This is the data rest api with `@RestRepository`. Using `LIKE` was a mistake as I thought all custom data rest api should do a search but wrong. Using `=` makes sense in the query that solve the issue","body":"I dont have a controller. This is the data rest api with <code>@RestRepository</code>. Using <code>LIKE</code> was a mistake as I thought all custom data rest api should do a search but wrong. Using <code>=</code> makes sense in the query that solve the issue"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690531008,"creation_date":1690431527,"answer_id":76776473,"question_id":76775345,"body_markdown":"`LIKE` queries don&#39;t interpret the left side as `LIKE` expressions. Only the right side of the `LIKE` query is interpreted like this. So, you need to change the `:name` part which can be done easily using a `default` method:\r\n```java\r\n@Query(value = &quot;SELECT e from employee e WHERE :name IS NULL OR upper(e.name) LIKE :name&quot;)\r\nEmployee findEmployeeByNameEscaped(@Param(&quot;name&quot;) String name);\r\n\r\ndefault Employee findEmployeeByName(String name){\r\n    return findEmployeeByNameEscaped(name.toUpperCase().replace(&quot;_&quot;,&quot;\\\\_&quot;);\r\n}\r\n```\r\n\r\nYou can then just normally use `findEmployeeByName` which will call `findEmployeeByNameEscaped` with the correct parameter.\r\n\r\n### Update\r\nSince you don&#39;t need (and don&#39;t want) the features of `LIKE`, you should use `=` instead:\r\n```java\r\n @Query(value = &quot;SELECT e from employee e WHERE :name IS NULL OR upper(e.name) = upper(:name)&quot;)\r\nEmployee findEmployeeByName(@Param(&quot;name&quot;) String name);\r\n```\r\n\r\n(I&#39;m using the old version of the SQL statement here as I don&#39;t feel like the new one is valid due t the `SELECT ... WHERE ... FROM ...`)\r\n\r\nWith that, you won&#39;t need to escape `_` as it will compare the strings directly insteas of matching.","title":"Use escape char in spring jpa native query","body":"<p><code>LIKE</code> queries don't interpret the left side as <code>LIKE</code> expressions. Only the right side of the <code>LIKE</code> query is interpreted like this. So, you need to change the <code>:name</code> part which can be done easily using a <code>default</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT e from employee e WHERE :name IS NULL OR upper(e.name) LIKE :name&quot;)\nEmployee findEmployeeByNameEscaped(@Param(&quot;name&quot;) String name);\n\ndefault Employee findEmployeeByName(String name){\n    return findEmployeeByNameEscaped(name.toUpperCase().replace(&quot;_&quot;,&quot;\\\\_&quot;);\n}\n</code></pre>\n<p>You can then just normally use <code>findEmployeeByName</code> which will call <code>findEmployeeByNameEscaped</code> with the correct parameter.</p>\n<h3>Update</h3>\n<p>Since you don't need (and don't want) the features of <code>LIKE</code>, you should use <code>=</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Query(value = &quot;SELECT e from employee e WHERE :name IS NULL OR upper(e.name) = upper(:name)&quot;)\nEmployee findEmployeeByName(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>(I'm using the old version of the SQL statement here as I don't feel like the new one is valid due t the <code>SELECT ... WHERE ... FROM ...</code>)</p>\n<p>With that, you won't need to escape <code>_</code> as it will compare the strings directly insteas of matching.</p>\n"}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690531008,"creation_date":1690409061,"question_id":76775345,"body_markdown":"I have below native query where I want to escape underscore(_) so it wont act as a literal in like search\r\n\r\nPS: this is just a part of query not full\r\n\r\n     @RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)\r\n     @Query(value = &quot;select e from Employee e &quot; +\r\n            &quot; WHERE :name IS NULL OR upper(e.name) LIKE upper(:name) &quot; +\r\n            &quot; AND e.latestProject = (select MAX(an.latestProject) from Employee an where upper(an.name) = upper(a.name))&quot;)\r\n    Employee findEmployeeByName(@Param(&quot;name&quot;) String name);\r\n  \r\nEmployee table\r\n\r\n    name     latest_project\r\n    John_X   123\r\n    John_X   124\r\n    John-X   123\r\n    John-X   124\r\n\r\nThe current api returns two records `John_X 124` and `John-X 124` when searched for `John_X` as `_` is considered literal. I want to escape underscore and only return `John_X 124`\r\n\r\nhow can I do this? ","title":"Use escape char in spring jpa native query","body":"<p>I have below native query where I want to escape underscore(_) so it wont act as a literal in like search</p>\n<p>PS: this is just a part of query not full</p>\n<pre><code> @RestResource(path = &quot;findLatestEmployeeByNameExactMatch&quot;, rel = &quot;findLatestEmployeeByNameExactMatch&quot;)\n @Query(value = &quot;select e from Employee e &quot; +\n        &quot; WHERE :name IS NULL OR upper(e.name) LIKE upper(:name) &quot; +\n        &quot; AND e.latestProject = (select MAX(an.latestProject) from Employee an where upper(an.name) = upper(a.name))&quot;)\nEmployee findEmployeeByName(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>Employee table</p>\n<pre><code>name     latest_project\nJohn_X   123\nJohn_X   124\nJohn-X   123\nJohn-X   124\n</code></pre>\n<p>The current api returns two records <code>John_X 124</code> and <code>John-X 124</code> when searched for <code>John_X</code> as <code>_</code> is considered literal. I want to escape underscore and only return <code>John_X 124</code></p>\n<p>how can I do this?</p>\n"},{"tags":["java","pdf","pdfbox","xfa"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1690271767,"post_id":76736428,"comment_id":135326224,"body_markdown":"The PDF contains a usage rights signature (UR3) which breaks when you edit it. Did you try to do your changes in append mode? In PDF 2.0 usage rights signatures are deprecated, so if you ask the document owner you might be able to remove it?","body":"The PDF contains a usage rights signature (UR3) which breaks when you edit it. Did you try to do your changes in append mode? In PDF 2.0 usage rights signatures are deprecated, so if you ask the document owner you might be able to remove it?"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690288161,"post_id":76736428,"comment_id":135329708,"body_markdown":"Yeah, I&#39;ve have tried with append mode and still no success... and I can&#39;t contact the owner sadly ...","body":"Yeah, I&#39;ve have tried with append mode and still no success... and I can&#39;t contact the owner sadly ..."},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690355594,"post_id":76736428,"comment_id":135340119,"body_markdown":"I&#39;ve tried to remove it with LiveCycle but it becomes unusable ... is there another method?","body":"I&#39;ve tried to remove it with LiveCycle but it becomes unusable ... is there another method?"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690358700,"post_id":76736428,"comment_id":135340726,"body_markdown":"Cannot resolve symbol &#39;UR3&#39; same for UR ... i&#39;m using pdfbox  2.0.28 and 3.0.0-alpha3, and only using document.setAllSecurityToBeRemoved(true); results in an unusable PDF ...","body":"Cannot resolve symbol &#39;UR3&#39; same for UR ... i&#39;m using pdfbox  2.0.28 and 3.0.0-alpha3, and only using document.setAllSecurityToBeRemoved(true); results in an unusable PDF ..."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":2,"creation_date":1690364094,"post_id":76736428,"comment_id":135341879,"body_markdown":"The code was untestet  and was to show how it could be done. Here is a corrected version:\n`PDDocument document = PDDocument.load(pdfFile);\ndocument.setAllSecurityToBeRemoved(true); \nCOSDictionary dictionary = document.getDocumentCatalog().getCOSObject(); \ndictionary.removeItem(COSName.PERMS); \ndictionary.setNeedToBeUpdated(true);\n...`","body":"The code was untestet  and was to show how it could be done. Here is a corrected version: <code>PDDocument document = PDDocument.load(pdfFile); document.setAllSecurityToBeRemoved(true);  COSDictionary dictionary = document.getDocumentCatalog().getCOSObject();  dictionary.removeItem(COSName.PERMS);  dictionary.setNeedToBeUpdated(true); ...</code>"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690370931,"post_id":76736428,"comment_id":135343297,"body_markdown":"Still the PDF is unusable ... but thank you for trying ...","body":"Still the PDF is unusable ... but thank you for trying ..."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1690373009,"post_id":76736428,"comment_id":135343750,"body_markdown":"What do you mean by not usable? Did you try to remove it, save it? The the size should be 62-63 KB. Then load this file and do your changes... If that doesn&#39;t help then post your result file and we can take a look. Maybe the things you do break the PDF in another way...","body":"What do you mean by not usable? Did you try to remove it, save it? The the size should be 62-63 KB. Then load this file and do your changes... If that doesn&#39;t help then post your result file and we can take a look. Maybe the things you do break the PDF in another way..."},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690373122,"post_id":76736428,"comment_id":135343786,"body_markdown":"Idk if you opened the PDF but if you did, I just want to call the &quot;Import XML&quot; function when opening the PDF. So I have just added a call for a function inside of an existing event.\n\n&lt;event activity=&quot;initialize&quot; name=&quot;event__initialize&quot;&gt;\n&lt;script contentType=&quot;application/x-javascript&quot;&gt;\n\tcsDataTool.GetInstance().ExecuteImport();\n&lt;/script&gt;\n&lt;/event&gt;","body":"Idk if you opened the PDF but if you did, I just want to call the &quot;Import XML&quot; function when opening the PDF. So I have just added a call for a function inside of an existing event.  &lt;event activity=&quot;initialize&quot; name=&quot;event__initialize&quot;&gt; &lt;script contentType=&quot;application/x-javascript&quot;&gt; \tcsDataTool.GetInstance().ExecuteImport(); &lt;/script&gt; &lt;/event&gt;"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690373861,"post_id":76736428,"comment_id":135343959,"body_markdown":"[link](https://wetransfer.com/downloads/6f739245ace02d9a64f28357df273a2420230726121620/1aaa3d) This is the final PDF that I got...","body":"<a href=\"https://wetransfer.com/downloads/6f739245ace02d9a64f28357df273a2420230726121620/1aaa3d\" rel=\"nofollow noreferrer\">link</a> This is the final PDF that I got..."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1690438733,"post_id":76736428,"comment_id":135354436,"body_markdown":"Ok your are doing much more than written here: The original file is 70kb and if I remove the UR-Signature the file is 63kb. Your file is 115kb. The producer also says &quot;modified using OpenPDf 1.3.30&quot; - here you only write about Pdfbox. I can see 2 additions using append mode. But removing a UR-Signature should not be done in append mode. Also adobe reports lots of errors. So something breaks along the line of what your are doing...","body":"Ok your are doing much more than written here: The original file is 70kb and if I remove the UR-Signature the file is 63kb. Your file is 115kb. The producer also says &quot;modified using OpenPDf 1.3.30&quot; - here you only write about Pdfbox. I can see 2 additions using append mode. But removing a UR-Signature should not be done in append mode. Also adobe reports lots of errors. So something breaks along the line of what your are doing..."},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690440722,"post_id":76736428,"comment_id":135354781,"body_markdown":"Sorry I&#39;ve uploaded the wrong PDF. Indeed the modified PDF has 63kb but I can&#39;t use the &quot;Import XML&quot;.\n[link](https://wetransfer.com/downloads/1694c638483056ee7d53c9b54ad7b0ae20230727065111/c65da5)\n\nAfter the removal of the signature I try to modify the javascript behind the PDF to use the &quot;Import XML&quot; function when the PDF is opened and I attach a XML file. That&#39;s why the other one was 113kb. I&#39;ve tried PDFBox, iText 4 and now OpenPDF 1.3.30...\nThe point is that I need to fill the form and send it back to the government.","body":"Sorry I&#39;ve uploaded the wrong PDF. Indeed the modified PDF has 63kb but I can&#39;t use the &quot;Import XML&quot;. <a href=\"https://wetransfer.com/downloads/1694c638483056ee7d53c9b54ad7b0ae20230727065111/c65da5\" rel=\"nofollow noreferrer\">link</a>  After the removal of the signature I try to modify the javascript behind the PDF to use the &quot;Import XML&quot; function when the PDF is opened and I attach a XML file. That&#39;s why the other one was 113kb. I&#39;ve tried PDFBox, iText 4 and now OpenPDF 1.3.30... The point is that I need to fill the form and send it back to the government."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1690474534,"post_id":76736428,"comment_id":135362268,"body_markdown":"If I click on the &quot;import XML&quot; Button it is working for me - I successfully added the xml as an attachment. Update: You have written: &quot;if I use Adobe Reader PRO everything works fine&quot; - that explains it. One reason could be if you remove the usage rights then you are not able to use certain features of adobe reader (anymore) which are normally reserved for acrobat pro version","body":"If I click on the &quot;import XML&quot; Button it is working for me - I successfully added the xml as an attachment. Update: You have written: &quot;if I use Adobe Reader PRO everything works fine&quot; - that explains it. One reason could be if you remove the usage rights then you are not able to use certain features of adobe reader (anymore) which are normally reserved for acrobat pro version"},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690523425,"post_id":76736428,"comment_id":135368392,"body_markdown":"Well that makes alot of sense...","body":"Well that makes alot of sense..."}],"answers":[{"comments":[{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690522973,"post_id":76781877,"comment_id":135368335,"body_markdown":"I need to fill this form programatically, flatten it, sign it (digital signature) and send it to the owner. The only idea I had was to use that function &quot;Import XML&quot; inside the PDF, but that function works only when the button is pressed so I wanted to change the behavior and use the function when the PDF is opened. Now I get it that it&#39;s impossible to change the code inside the PDF because of their signature...","body":"I need to fill this form programatically, flatten it, sign it (digital signature) and send it to the owner. The only idea I had was to use that function &quot;Import XML&quot; inside the PDF, but that function works only when the button is pressed so I wanted to change the behavior and use the function when the PDF is opened. Now I get it that it&#39;s impossible to change the code inside the PDF because of their signature..."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1690527838,"post_id":76781877,"comment_id":135369050,"body_markdown":"as mentioned: you can remove it (thus change it) but then you might loose the &quot;benefits&quot; which come with it...","body":"as mentioned: you can remove it (thus change it) but then you might loose the &quot;benefits&quot; which come with it..."},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690529121,"post_id":76781877,"comment_id":135369290,"body_markdown":"Yeah I understand now. I will try to find another way... I did succeed in filling it with xfa:data but now I need to flatten it so I can sign it. The problem is when I try to flatten it I get a PDF with only one page with &quot;Please wait ...&quot; xD I think that what I wanna accomplish is impossible","body":"Yeah I understand now. I will try to find another way... I did succeed in filling it with xfa:data but now I need to flatten it so I can sign it. The problem is when I try to flatten it I get a PDF with only one page with &quot;Please wait ...&quot; xD I think that what I wanna accomplish is impossible"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1690531053,"post_id":76781877,"comment_id":135369635,"body_markdown":"Part of the problem is that you are (the document) using XFA - if the document would use acro forms then your requirements would be no problem...","body":"Part of the problem is that you are (the document) using XFA - if the document would use acro forms then your requirements would be no problem..."},{"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"score":0,"creation_date":1690532296,"post_id":76781877,"comment_id":135369895,"body_markdown":"Yeah I know but that&#39;s my ancient government xD. Thank you very much for your help!","body":"Yeah I know but that&#39;s my ancient government xD. Thank you very much for your help!"}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690530988,"creation_date":1690476351,"answer_id":76781877,"question_id":76736428,"body_markdown":"Although it is not completely clear what you want*, here are some answers to part of your questions:\r\n\r\n&gt; My question is: is this even possible? To modify the javascript\r\n&gt; without breaking usage rights?\r\n\r\nIt is a signature so no. If you manipulate the document you&#39;ll break the signature. In the past there was a mechanism called &quot;reader enabled&quot; where you could unlock features in _dobe reader for certain documents. It might be that the document was &quot;reader enabled&quot; and thus allows editing XFA forms in _dobe reader. Found the following infos as part of the signature:\r\n\r\n    appRightsDocument: FullSave\r\n    appRightsForm: FillIn,Add,Delete\r\n    appRightsSignature: Modify\r\n    appRightsAnnots: \r\n    appRightsEF: Create,Delete,Modify,Import\r\n\r\nSo to change the JavaScript you have to remove the UA-signature but then you might loose the rights to do stuff in _dobe reader.\r\n\r\n\r\n**And finally one remark about XFA: XFA is a proprietary standard of adobe and has been deprecated in PDF2.0. I would not use it for any project (ever).**\r\n\r\n_____\r\n\r\n\\*\r\n\r\n* Why do you want to change the javascript - what is not working for you?\r\n* To what JavaScript do you want to change the existing value?\r\n* You said that _dobe acrobat pro is working - so you have a working solution?","title":"Programatically fill Government PDF (XFA dynamic)","body":"<p>Although it is not completely clear what you want*, here are some answers to part of your questions:</p>\n<blockquote>\n<p>My question is: is this even possible? To modify the javascript\nwithout breaking usage rights?</p>\n</blockquote>\n<p>It is a signature so no. If you manipulate the document you'll break the signature. In the past there was a mechanism called &quot;reader enabled&quot; where you could unlock features in _dobe reader for certain documents. It might be that the document was &quot;reader enabled&quot; and thus allows editing XFA forms in _dobe reader. Found the following infos as part of the signature:</p>\n<pre><code>appRightsDocument: FullSave\nappRightsForm: FillIn,Add,Delete\nappRightsSignature: Modify\nappRightsAnnots: \nappRightsEF: Create,Delete,Modify,Import\n</code></pre>\n<p>So to change the JavaScript you have to remove the UA-signature but then you might loose the rights to do stuff in _dobe reader.</p>\n<p><strong>And finally one remark about XFA: XFA is a proprietary standard of adobe and has been deprecated in PDF2.0. I would not use it for any project (ever).</strong></p>\n<hr />\n<p>*</p>\n<ul>\n<li>Why do you want to change the javascript - what is not working for you?</li>\n<li>To what JavaScript do you want to change the existing value?</li>\n<li>You said that _dobe acrobat pro is working - so you have a working solution?</li>\n</ul>\n"}],"owner":{"account_id":23161029,"reputation":67,"user_id":17261677,"display_name":"AurysVrV"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76781877,"answer_count":1,"score":0,"last_activity_date":1690530988,"creation_date":1689928856,"question_id":76736428,"body_markdown":"I need to fill a form from a XFA PDF generated with LiveCycle. I&#39;m using PDFBox 3.0.0-beta1 atm and I&#39;ve tried iText 4.2.0 and PDFBox 2.0.28 but with no success. Anything I do to the PDF, results in a unusable PDF, it breaks the usage rights if I understood correctly. Below is my java code:\r\n```\r\nPDDocument doc = Loader.loadPDF(new File(Paths.get(FileUtils.listFiles(new File(&quot;formulare&quot;), new PrefixFileFilter(&quot;F1129&quot;), null).toArray()[0].toString()).toUri()));\r\nPDDocumentCatalog catalog = doc.getDocumentCatalog();\r\nPDAcroForm acroForm = catalog.getAcroForm();\r\nPDXFAResource xfa1 = acroForm.getXFA();\r\n\r\nCOSStream cosout = doc.getDocument().createCOSStream();\r\nOutputStream out = cosout.createRawOutputStream();\r\n\r\nTransformerFactory tFactory = TransformerFactory.newInstance();\r\nTransformer transformer = tFactory.newTransformer();\r\n\r\nStreamResult result = new StreamResult(out);\r\nDocument src2 = acroForm.getXFA().getDocument();\r\n\r\nNodeList dataElements = src2.getElementsByTagName(&quot;script&quot;);\r\nif (dataElements != null) {\r\n  for (int i = 0; i &lt; dataElements.getLength(); i++) {\r\n    if (i == 45) {                   \r\n       dataElements.item(i).setTextContent(dataElements.item(i).getTextContent() + &quot;csDataTool.GetInstance().ExecuteImport();&quot;);\r\n    }\r\n  }\r\n}\r\n\r\ntransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\r\ntransformer.transform(new DOMSource(src2), result);\r\n\r\nPDXFAResource xfaout = new PDXFAResource(cosout);\r\nacroForm.setXFA(xfaout);\r\nout.close();\r\n\r\nFileOutputStream fos = new FileOutputStream(&quot;f1129Modified.pdf&quot;);\r\ndoc.saveIncremental(fos);\r\ndoc.close();\r\ncosout.close();\r\nfos.flush();\r\nfos.close();\r\n```\r\ni == 45 (that is the position of the script I want to edit)\r\n\r\nBut after I modify the XFA, the PDF opens normally but I can&#39;t to anything in it. No errors, no warnings... but if I just do this\r\n```\r\ndataElements.item(i).setTextContent(dataElements.item(i).getTextContent());\r\n```\r\nit works perfectly...\r\n\r\nMy question is: is this even possible? To modify the javascript without breaking usage rights? If not, how can I fill this PDF?\r\nThe XML that they want to be attached has different tags than the XSD I&#39;ve tried to find inside the XFA.\r\n\r\nThe PDF in question can be downloaded from here: &lt;https://mfinante.gov.ro/documents/2552173/2552377/31.OrdinPlataElectronic_2023_05_19_A2.0.26+.pdf/5acf3ff7-7ff1-aa2c-283c-151d49af0d8b?t=1684492636871&amp;download=true&gt;\r\n\r\nAn example of a XML to be imported:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;f1129 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;mfp:anaf:dgti:f1129:declaratie:v1&quot; xmlns=&quot;mfp:anaf:dgti:f1129:declaratie:v1&quot; versiune_pdf=&quot;A2.0.21&quot; d_rec=&quot;0&quot; suma_control=&quot;3644129&quot; total_opm=&quot;245.5&quot; nr_inregistrari=&quot;1&quot; luna_r=&quot;12&quot; an=&quot;2022&quot; data_document=&quot;19.12.2022&quot; nr_document=&quot;1234567890&quot; nume_ip=&quot;asdasdas&quot; adresa_ip=&quot;asddas&quot; cui_ip=&quot;3643884&quot; tip_ent=&quot;1&quot;&gt;\r\n  &lt;rand_op nr_op=&quot;32&quot; iban_platitor=&quot;RO38TREZ24A670503200109X&quot; den_trezorerie=&quot;TREZORERIA  STATULUI&quot; cod_program=&quot;0000000000&quot; cod_angajament=&quot;AAAFSF23N4X&quot; ind_angajament=&quot;AA2&quot; cui_beneficiar=&quot;17460640&quot; den_beneficiar=&quot;Your Consulting SRL&quot; iban_beneficiar=&quot;RO38TREZ24A670503200109X&quot; den_banca_trez=&quot;TREZORERIA  STATULUI&quot; suma_op=&quot;245.5&quot; explicatii=&quot;asdasd&quot; /&gt;\r\n&lt;/f1129&gt;\r\n```\r\n\r\nThe strangest thing is that if I use Adobe Reader PRO everything works fine. xD And I can&#39;t find a reason why ...","title":"Programatically fill Government PDF (XFA dynamic)","body":"<p>I need to fill a form from a XFA PDF generated with LiveCycle. I'm using PDFBox 3.0.0-beta1 atm and I've tried iText 4.2.0 and PDFBox 2.0.28 but with no success. Anything I do to the PDF, results in a unusable PDF, it breaks the usage rights if I understood correctly. Below is my java code:</p>\n<pre><code>PDDocument doc = Loader.loadPDF(new File(Paths.get(FileUtils.listFiles(new File(&quot;formulare&quot;), new PrefixFileFilter(&quot;F1129&quot;), null).toArray()[0].toString()).toUri()));\nPDDocumentCatalog catalog = doc.getDocumentCatalog();\nPDAcroForm acroForm = catalog.getAcroForm();\nPDXFAResource xfa1 = acroForm.getXFA();\n\nCOSStream cosout = doc.getDocument().createCOSStream();\nOutputStream out = cosout.createRawOutputStream();\n\nTransformerFactory tFactory = TransformerFactory.newInstance();\nTransformer transformer = tFactory.newTransformer();\n\nStreamResult result = new StreamResult(out);\nDocument src2 = acroForm.getXFA().getDocument();\n\nNodeList dataElements = src2.getElementsByTagName(&quot;script&quot;);\nif (dataElements != null) {\n  for (int i = 0; i &lt; dataElements.getLength(); i++) {\n    if (i == 45) {                   \n       dataElements.item(i).setTextContent(dataElements.item(i).getTextContent() + &quot;csDataTool.GetInstance().ExecuteImport();&quot;);\n    }\n  }\n}\n\ntransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\ntransformer.transform(new DOMSource(src2), result);\n\nPDXFAResource xfaout = new PDXFAResource(cosout);\nacroForm.setXFA(xfaout);\nout.close();\n\nFileOutputStream fos = new FileOutputStream(&quot;f1129Modified.pdf&quot;);\ndoc.saveIncremental(fos);\ndoc.close();\ncosout.close();\nfos.flush();\nfos.close();\n</code></pre>\n<p>i == 45 (that is the position of the script I want to edit)</p>\n<p>But after I modify the XFA, the PDF opens normally but I can't to anything in it. No errors, no warnings... but if I just do this</p>\n<pre><code>dataElements.item(i).setTextContent(dataElements.item(i).getTextContent());\n</code></pre>\n<p>it works perfectly...</p>\n<p>My question is: is this even possible? To modify the javascript without breaking usage rights? If not, how can I fill this PDF?\nThe XML that they want to be attached has different tags than the XSD I've tried to find inside the XFA.</p>\n<p>The PDF in question can be downloaded from here: <a href=\"https://mfinante.gov.ro/documents/2552173/2552377/31.OrdinPlataElectronic_2023_05_19_A2.0.26+.pdf/5acf3ff7-7ff1-aa2c-283c-151d49af0d8b?t=1684492636871&amp;download=true\" rel=\"nofollow noreferrer\">https://mfinante.gov.ro/documents/2552173/2552377/31.OrdinPlataElectronic_2023_05_19_A2.0.26+.pdf/5acf3ff7-7ff1-aa2c-283c-151d49af0d8b?t=1684492636871&amp;download=true</a></p>\n<p>An example of a XML to be imported:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;f1129 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;mfp:anaf:dgti:f1129:declaratie:v1&quot; xmlns=&quot;mfp:anaf:dgti:f1129:declaratie:v1&quot; versiune_pdf=&quot;A2.0.21&quot; d_rec=&quot;0&quot; suma_control=&quot;3644129&quot; total_opm=&quot;245.5&quot; nr_inregistrari=&quot;1&quot; luna_r=&quot;12&quot; an=&quot;2022&quot; data_document=&quot;19.12.2022&quot; nr_document=&quot;1234567890&quot; nume_ip=&quot;asdasdas&quot; adresa_ip=&quot;asddas&quot; cui_ip=&quot;3643884&quot; tip_ent=&quot;1&quot;&gt;\n  &lt;rand_op nr_op=&quot;32&quot; iban_platitor=&quot;RO38TREZ24A670503200109X&quot; den_trezorerie=&quot;TREZORERIA  STATULUI&quot; cod_program=&quot;0000000000&quot; cod_angajament=&quot;AAAFSF23N4X&quot; ind_angajament=&quot;AA2&quot; cui_beneficiar=&quot;17460640&quot; den_beneficiar=&quot;Your Consulting SRL&quot; iban_beneficiar=&quot;RO38TREZ24A670503200109X&quot; den_banca_trez=&quot;TREZORERIA  STATULUI&quot; suma_op=&quot;245.5&quot; explicatii=&quot;asdasd&quot; /&gt;\n&lt;/f1129&gt;\n</code></pre>\n<p>The strangest thing is that if I use Adobe Reader PRO everything works fine. xD And I can't find a reason why ...</p>\n"},{"tags":["java","gradle","mapstruct"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1690479579,"post_id":76776481,"comment_id":135363264,"body_markdown":"Your gradle script doesnt contain the version of each dependency. Are they really the same?","body":"Your gradle script doesnt contain the version of each dependency. Are they really the same?"},{"owner":{"account_id":28939766,"reputation":1,"user_id":22166547,"display_name":"honhim"},"score":0,"creation_date":1690508564,"post_id":76776481,"comment_id":135367170,"body_markdown":"Yes, i can make sure there using the same version.  I&#39;m actually not post the whole script on this page. \n```\n    configurations.configureEach {\n        resolutionStrategy.cacheChangingModulesFor 0, TimeUnit.SECONDS\n        resolutionStrategy.eachDependency {\n            if (it.requested.getGroup() == &#39;org.mapstruct&#39; &amp;&amp; it.requested.getName().startsWith(&#39;mapstruct&#39;)) {\n                it.useVersion(&#39;1.4.2.Final&#39;)\n            }\n        }\n    }\n```","body":"Yes, i can make sure there using the same version.  I&#39;m actually not post the whole script on this page.  ```     configurations.configureEach {         resolutionStrategy.cacheChangingModulesFor 0, TimeUnit.SECONDS         resolutionStrategy.eachDependency {             if (it.requested.getGroup() == &#39;org.mapstruct&#39; &amp;&amp; it.requested.getName().startsWith(&#39;mapstruct&#39;)) {                 it.useVersion(&#39;1.4.2.Final&#39;)             }         }     } ```"}],"answers":[{"tags":[],"owner":{"account_id":28939766,"reputation":1,"user_id":22166547,"display_name":"honhim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690530907,"creation_date":1690530907,"answer_id":76785829,"question_id":76776481,"body_markdown":"Well, I have found the cause...\r\n\r\nBy default, Gradle outputs logs at the warn level, while Maven(maven-compiler-plugin) does not.\r\n\r\nAnd I raised the Gradle compilation warning level to the error level by setting`options.compilerArgs &lt;&lt; &quot;-Werror&quot;`.\r\n\r\n&#128517;","title":"Method returning the very entity itself(which is not a JavaBean method), will be recognized as unmapped property(in gradle)","body":"<p>Well, I have found the cause...</p>\n<p>By default, Gradle outputs logs at the warn level, while Maven(maven-compiler-plugin) does not.</p>\n<p>And I raised the Gradle compilation warning level to the error level by setting<code>options.compilerArgs &lt;&lt; &quot;-Werror&quot;</code>.</p>\n<p>😅</p>\n"}],"owner":{"account_id":28939766,"reputation":1,"user_id":22166547,"display_name":"honhim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690530907,"creation_date":1690431696,"question_id":76776481,"body_markdown":"I define an abstract class and its implementation as follows.\r\n```java\r\n@MappedSuperclass\r\n@EntityListeners(CRUDListener.class)\r\npublic abstract class AbstractAR&lt;A extends AbstractAR&lt;A, ID&gt;, ID&gt; extends AbstractAggregateRoot&lt;A&gt; implements DomainEntity&lt;A, ID&gt; {\r\n\r\n    public void validate() {\r\n    }\r\n\r\n    protected boolean enableSelectEvent() {\r\n        return false;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public A update(Consumer&lt;A&gt; updater) {\r\n        A a = (A) this;\r\n        updater.accept(a);\r\n        return a;\r\n    }\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@ToString(callSuper = true)\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = SimpleDO.TABLE_NAME)\r\npublic class SimpleDO extends AbstractAR&lt;SimpleDO, String&gt; {\r\n\r\n    public static final String TABLE_NAME = &quot;simple_table&quot;;\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    @Comment(&quot;name&quot;)\r\n    private String name;\r\n\r\n}\r\n```\r\nWhen i using Mapstruct with Gradle project will cause a compilation error(Unmapped target property: &quot;update&quot;), which is obviously not a JavaBean method. It means I have to explicitly declare to ignore the target property(update) in order to compile successfully.\r\n&gt; Tips: I can successfully compile and run the same code in maven project with the same version of Mapstruct(1.4.2.Final).\r\n\r\nWhat caused the differences between Gradle and Maven?\r\n\r\n```groovy\r\n// My gradle script\r\ndependencies {\r\n        implementation &#39;org.mapstruct:mapstruct&#39;\r\n        implementation &#39;org.mapstruct:mapstruct-jdk8&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n\r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok-mapstruct-binding&#39;\r\n        annotationProcessor &#39;org.mapstruct:mapstruct&#39;\r\n        annotationProcessor &#39;org.mapstruct:mapstruct-processor&#39;\r\n        annotationProcessor &#39;org.mapstruct:mapstruct-jdk8&#39;\r\n\r\n        testAnnotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok-mapstruct-binding&#39;\r\n        testAnnotationProcessor &#39;org.mapstruct:mapstruct&#39;\r\n        testAnnotationProcessor &#39;org.mapstruct:mapstruct-processor&#39;\r\n        testAnnotationProcessor &#39;org.mapstruct:mapstruct-jdk8&#39;\r\n    }\r\n```\r\n```xml\r\n&lt;!-- My maven pom.xml --&gt;\r\n&lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n              &lt;version&gt;0.2.0&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n              &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nI have try mapstrcut version 1.5.5.Final and 1.4.2.Final.\r\nWhen i declare `@Mapping(target = &quot;update&quot;, ignore = true)` on mapping method, my project is runnable. Seems not a build configuration problem.","title":"Method returning the very entity itself(which is not a JavaBean method), will be recognized as unmapped property(in gradle)","body":"<p>I define an abstract class and its implementation as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@EntityListeners(CRUDListener.class)\npublic abstract class AbstractAR&lt;A extends AbstractAR&lt;A, ID&gt;, ID&gt; extends AbstractAggregateRoot&lt;A&gt; implements DomainEntity&lt;A, ID&gt; {\n\n    public void validate() {\n    }\n\n    protected boolean enableSelectEvent() {\n        return false;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public A update(Consumer&lt;A&gt; updater) {\n        A a = (A) this;\n        updater.accept(a);\n        return a;\n    }\n\n}\n\n@Getter\n@Setter\n@ToString(callSuper = true)\n@NoArgsConstructor\n@Entity\n@Table(name = SimpleDO.TABLE_NAME)\npublic class SimpleDO extends AbstractAR&lt;SimpleDO, String&gt; {\n\n    public static final String TABLE_NAME = &quot;simple_table&quot;;\n\n    @Id\n    private String id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    @Comment(&quot;name&quot;)\n    private String name;\n\n}\n</code></pre>\n<p>When i using Mapstruct with Gradle project will cause a compilation error(Unmapped target property: &quot;update&quot;), which is obviously not a JavaBean method. It means I have to explicitly declare to ignore the target property(update) in order to compile successfully.</p>\n<blockquote>\n<p>Tips: I can successfully compile and run the same code in maven project with the same version of Mapstruct(1.4.2.Final).</p>\n</blockquote>\n<p>What caused the differences between Gradle and Maven?</p>\n<pre><code>// My gradle script\ndependencies {\n        implementation 'org.mapstruct:mapstruct'\n        implementation 'org.mapstruct:mapstruct-jdk8'\n        compileOnly 'org.projectlombok:lombok'\n\n        annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n        annotationProcessor 'org.projectlombok:lombok'\n        annotationProcessor 'org.projectlombok:lombok-mapstruct-binding'\n        annotationProcessor 'org.mapstruct:mapstruct'\n        annotationProcessor 'org.mapstruct:mapstruct-processor'\n        annotationProcessor 'org.mapstruct:mapstruct-jdk8'\n\n        testAnnotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n        testAnnotationProcessor 'org.projectlombok:lombok'\n        testAnnotationProcessor 'org.projectlombok:lombok-mapstruct-binding'\n        testAnnotationProcessor 'org.mapstruct:mapstruct'\n        testAnnotationProcessor 'org.mapstruct:mapstruct-processor'\n        testAnnotationProcessor 'org.mapstruct:mapstruct-jdk8'\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- My maven pom.xml --&gt;\n&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n              &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n              &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n              &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n              &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n              &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>I have try mapstrcut version 1.5.5.Final and 1.4.2.Final.\nWhen i declare <code>@Mapping(target = &quot;update&quot;, ignore = true)</code> on mapping method, my project is runnable. Seems not a build configuration problem.</p>\n"},{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1690450576,"post_id":76778390,"comment_id":135356690,"body_markdown":"What does the error message say?","body":"What does the error message say?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1690450617,"post_id":76778390,"comment_id":135356705,"body_markdown":"[&quot;Why&quot; questions are very unclear.](https://meta.stackoverflow.com/q/323334/5133585) What *kind* of reasons are you looking for? Would &quot;because the language specification says this is an error&quot; be acceptable to you?","body":"<a href=\"https://meta.stackoverflow.com/q/323334/5133585\">&quot;Why&quot; questions are very unclear.</a> What <i>kind</i> of reasons are you looking for? Would &quot;because the language specification says this is an error&quot; be acceptable to you?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1690450767,"post_id":76778390,"comment_id":135356737,"body_markdown":"Because the JLS says so. https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2","body":"Because the JLS says so. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690450933,"post_id":76778390,"comment_id":135356781,"body_markdown":"Declaring an int outside a loop doesn&#39;t cause any error. What causes your error is completely ignoring the syntax of the for-each loop and just inventing your own (By just removing the type declaration in your for-each loop). You might as well ask why you can&#39;t write an if statement as `IF [x ! i]`.... Programming languages have a clearly defined syntax you have to follow. And for the for each statement that means `for(&lt;Type&gt; &lt;variable_name&gt; : &lt;iterable_of_type&gt;)`.","body":"Declaring an int outside a loop doesn&#39;t cause any error. What causes your error is completely ignoring the syntax of the for-each loop and just inventing your own (By just removing the type declaration in your for-each loop). You might as well ask why you can&#39;t write an if statement as <code>IF [x ! i]</code>.... Programming languages have a clearly defined syntax you have to follow. And for the for each statement that means <code>for(&lt;Type&gt; &lt;variable_name&gt; : &lt;iterable_of_type&gt;)</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1690451285,"post_id":76778390,"comment_id":135356862,"body_markdown":"What are you trying to achieve by declaring it in the first way? If it were possible, it would expand the scope of the variable unnecessarily, and its value after the loop would be whatever the last element in the array happened to be.","body":"What are you trying to achieve by declaring it in the first way? If it were possible, it would expand the scope of the variable unnecessarily, and its value after the loop would be whatever the last element in the array happened to be."}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1690451655,"post_id":76778418,"comment_id":135356933,"body_markdown":"Note this isn&#39;t _quite_ the same, as in your case `i` is the index, whereas in OP&#39;s `i` is the element value.","body":"Note this isn&#39;t <i>quite</i> the same, as in your case <code>i</code> is the index, whereas in OP&#39;s <code>i</code> is the element value."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690450679,"creation_date":1690450679,"answer_id":76778418,"question_id":76778390,"body_markdown":"Because you simply can&#39;t use for loops like that. The `for in` syntax require you use a new variable which is scoped to the loop. You could use it like this, though:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] arr = {-1,1,1};\r\n    int i;\r\n    for(i = 0; i &lt; arr.length; i++){\r\n        System.out.println(arr[i]);\r\n    }\r\n}\r\n```","title":"Declaring int i outside for-each loop causing error?","body":"<p>Because you simply can't use for loops like that. The <code>for in</code> syntax require you use a new variable which is scoped to the loop. You could use it like this, though:</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    int i;\n    for(i = 0; i &lt; arr.length; i++){\n        System.out.println(arr[i]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690890882,"post_id":76785825,"comment_id":135413520,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76785825/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29104772,"reputation":78,"user_id":22295830,"display_name":"Anmol Pal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690530884,"creation_date":1690530884,"answer_id":76785825,"question_id":76778390,"body_markdown":"The syntax of the enhanced for loop are just like that.\r\n```\r\nfor(int x: arr) {\r\n     System.out.println(x);\r\n}\r\n```","title":"Declaring int i outside for-each loop causing error?","body":"<p>The syntax of the enhanced for loop are just like that.</p>\n<pre><code>for(int x: arr) {\n     System.out.println(x);\n}\n</code></pre>\n"}],"owner":{"account_id":26105404,"reputation":1,"user_id":19800180,"display_name":"Gnaneswar Padam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1690530884,"creation_date":1690450511,"question_id":76778390,"body_markdown":"    public static void main(String[] args) {\r\n        int[] arr = {-1,1,1};\r\n        int i;\r\n        for(i: arr){\r\n            System.out.println(i);\r\n        }\r\n    }\r\nabove code gives ERROR.\r\nerror: bad initializer for for-loop\r\n\r\nbut the below code works fine.\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {-1,1,1};\r\n        for(int i: arr){\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\nCan I know why initializing i outside for-each loop is a mistake.?","title":"Declaring int i outside for-each loop causing error?","body":"<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    int i;\n    for(i: arr){\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>above code gives ERROR.\nerror: bad initializer for for-loop</p>\n<p>but the below code works fine.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    for(int i: arr){\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>Can I know why initializing i outside for-each loop is a mistake.?</p>\n"},{"tags":["java","spring","spring-webflux","resttemplate","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1644937159,"post_id":71128136,"comment_id":125734002,"body_markdown":"Thanks for your reply! So I suppose it&#39;s ok in general to block threads in WebClient and nothing to be afraid of, unless it&#39;s done in a reactive application?","body":"Thanks for your reply! So I suppose it&#39;s ok in general to block threads in WebClient and nothing to be afraid of, unless it&#39;s done in a reactive application?"},{"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"score":0,"creation_date":1644940070,"post_id":71128136,"comment_id":125735359,"body_markdown":"Right, I don&#39;t know what happens with a `.block()` in a reactive application. For reactive apps we use Mono&lt;&gt; responses","body":"Right, I don&#39;t know what happens with a <code>.block()</code> in a reactive application. For reactive apps we use Mono&lt;&gt; responses"},{"owner":{"account_id":14071019,"reputation":293,"user_id":10164507,"display_name":"AnMi"},"score":0,"creation_date":1644953336,"post_id":71128136,"comment_id":125740579,"body_markdown":"Just wondering - wouldn&#39;t we exhaust the web client&#39;s thread pool if for example there will not be responses for a long period of time and we use requests without the timeout? Is it really okay to use a timeout to terminate the request threads?  Maybe I&#39;m wrong, I&#39;m doing parallels to the CompletableFuture and another asynchronous framework such as Play! where it is really bad idea and conceptually wrong to block or time out the requests as it leads to performance degradation and makes no sense in use of reactive client at all?","body":"Just wondering - wouldn&#39;t we exhaust the web client&#39;s thread pool if for example there will not be responses for a long period of time and we use requests without the timeout? Is it really okay to use a timeout to terminate the request threads?  Maybe I&#39;m wrong, I&#39;m doing parallels to the CompletableFuture and another asynchronous framework such as Play! where it is really bad idea and conceptually wrong to block or time out the requests as it leads to performance degradation and makes no sense in use of reactive client at all?"},{"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"score":0,"creation_date":1644953793,"post_id":71128136,"comment_id":125740735,"body_markdown":"Yes for sure, having several requests at the same time without timeout would exhaust the pool, that&#39;s why we use a timeout. For our use case, this works perfectly, but for sure it wouldn&#39;t be ideal for other use cases. For that scenario, I would recommend using WebClient in an asynchronous way","body":"Yes for sure, having several requests at the same time without timeout would exhaust the pool, that&#39;s why we use a timeout. For our use case, this works perfectly, but for sure it wouldn&#39;t be ideal for other use cases. For that scenario, I would recommend using WebClient in an asynchronous way"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":2,"creation_date":1644964448,"post_id":71128136,"comment_id":125744234,"body_markdown":"Please don&#39;t do this. This brings no value whatsoever to your application when compared to the good old `RestTemplate`.","body":"Please don&#39;t do this. This brings no value whatsoever to your application when compared to the good old <code>RestTemplate</code>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1644997223,"post_id":71128136,"comment_id":125750325,"body_markdown":"That is your opinion Which is simply not true. Springs recommendation is to move forward with webclient, as resttemplate is in maintnance mode.","body":"That is your opinion Which is simply not true. Springs recommendation is to move forward with webclient, as resttemplate is in maintnance mode."},{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1644997249,"post_id":71128136,"comment_id":125750329,"body_markdown":"This brings no value, but also doesn&#39;t do anything bad? @Jo&#227;oDias","body":"This brings no value, but also doesn&#39;t do anything bad? @Jo&#227;oDias"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1644997740,"post_id":71128136,"comment_id":125750493,"body_markdown":"also if you wish to use timouts dont use duration, this is how you configure it https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout","body":"also if you wish to use timouts dont use duration, this is how you configure it <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1645007000,"post_id":71128136,"comment_id":125753851,"body_markdown":"@tracer_13 it isn&#39;t bad, but I would stick with `RestTemplate` until it is deprecated at any point in time. Using `WebClient` in a non-reactive application brings little value to it (depending on how you use it, but as depicted in this answer it has no additional value) and makes it harder to read. Using `block()` in a reactive application is worse and that was what I thought you were doing.","body":"@tracer_13 it isn&#39;t bad, but I would stick with <code>RestTemplate</code> until it is deprecated at any point in time. Using <code>WebClient</code> in a non-reactive application brings little value to it (depending on how you use it, but as depicted in this answer it has no additional value) and makes it harder to read. Using <code>block()</code> in a reactive application is worse and that was what I thought you were doing."},{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1645008788,"post_id":71128136,"comment_id":125754510,"body_markdown":"Thanks for your input! Harder to read is indeed a personal preference, but I get your general idea :)","body":"Thanks for your input! Harder to read is indeed a personal preference, but I get your general idea :)"}],"tags":[],"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"comment_count":10,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690076687,"creation_date":1644935072,"answer_id":71128136,"question_id":71128020,"body_markdown":"In our applications we are migrating from `RestTemplate` to `WebClient` without any issues, `.block()` works just fine\r\n\r\n```java\r\nResponse response = this.webClient\r\n        .post()\r\n        .uri(uri)\r\n        .body(fromValue)\r\n        .retrieve()\r\n        .bodyToMono(Response.class)\r\n        .timeout(Duration.ofMillis(timeoutMillis))\r\n        .block();\r\n```\r\n\r\nThis is doing the same as `RestTemplate` does, it&#39;s sending the request in a synchronized way, and we have it working in PROD since a couple of months without any issues","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>In our applications we are migrating from <code>RestTemplate</code> to <code>WebClient</code> without any issues, <code>.block()</code> works just fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = this.webClient\n        .post()\n        .uri(uri)\n        .body(fromValue)\n        .retrieve()\n        .bodyToMono(Response.class)\n        .timeout(Duration.ofMillis(timeoutMillis))\n        .block();\n</code></pre>\n<p>This is doing the same as <code>RestTemplate</code> does, it's sending the request in a synchronized way, and we have it working in PROD since a couple of months without any issues</p>\n"},{"comments":[{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":1,"creation_date":1645015886,"post_id":71140806,"comment_id":125757300,"body_markdown":"Thanks, I think this is the kind of answer I was expecting. I&#39;d upvote it but don&#39;t have enough reputation:( Nevertheless you were very helpful and I appreciate the time you spent on it!","body":"Thanks, I think this is the kind of answer I was expecting. I&#39;d upvote it but don&#39;t have enough reputation:( Nevertheless you were very helpful and I appreciate the time you spent on it!"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1645044774,"post_id":71140806,"comment_id":125769337,"body_markdown":"Just a small correction: the `await` link goes to a test util method. That&#39;s not how `block` is implemented. The real implementation uses a `CountDownLatch`.","body":"Just a small correction: the <code>await</code> link goes to a test util method. That&#39;s not how <code>block</code> is implemented. The real implementation uses a <code>CountDownLatch</code>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1645055110,"post_id":71140806,"comment_id":125772128,"body_markdown":"that is true, updated the link","body":"that is true, updated the link"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1645127136,"post_id":71140806,"comment_id":125795051,"body_markdown":"&quot;which pauses at CountDownLatch#await until there are no threads left&quot; - What do you mean by &quot;no threads left&quot;? It waits until the first next/complete/error event.","body":"&quot;which pauses at CountDownLatch#await until there are no threads left&quot; - What do you mean by &quot;no threads left&quot;? It waits until the first next/complete/error event."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1645129840,"post_id":71140806,"comment_id":125795994,"body_markdown":"I know how CountDownLatch works. That&#39;s why I asked the question because it wasn&#39;t clear for me what threads you are referring to. I found that a bit confusing. I&#39;ll add my edit. Thank you for the opportunity. Otherwise a great answer!","body":"I know how CountDownLatch works. That&#39;s why I asked the question because it wasn&#39;t clear for me what threads you are referring to. I found that a bit confusing. I&#39;ll add my edit. Thank you for the opportunity. Otherwise a great answer!"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1690079516,"creation_date":1645010148,"answer_id":71140806,"question_id":71128020,"body_markdown":"Since there seems to be misunderstandings i will try to answer the questions to the best of my knowledge.\r\n\r\n\r\n&gt; How safe is it to use `.block()` and is it ok in general to block threads in `WebClient`?\r\n\r\nBlocking is always _safe_ but whether or not it affects performance is another thing. When a request comes in, it gets assigned a thread. When we do a request using `RestTemplate` the same thread will do the external request, and `RestTemplate` will block that thread under the hood in wait for the response.\r\n\r\nThis is by no means efficient usage of a thread, but its completely _safe_, and this is how most web servers in general have been working for the past 20 years.\r\n\r\nWhen using `WebClient` in a _**non**-reactive_ application and you block a `Mono&lt;T&gt;` (which you essentially will be doing) the framework will first check that the thread is a type of thread that you are allowed to block (not a _nio-thread_) and after that it uses a `CountDownLatch` which pauses/blocks the calling thread at `CountDownLatch#await` until the first _onNext/onComplete/onError_ signal arrives. This is **completely fine** in a blocking application. You can find the relevant code [here][1].\r\n\r\nWhen you add `WebClient` to the class path you will automatically get netty as the underlying server, which could be good to know. If you wish to change that out, then you need to be explicit about it.\r\n\r\nAlso, it is recommended that if you do multiple requests, then you should chain on as many reactive calls as possible before resorting to `block`.\r\n\r\nIf you want to move over to a reactive application, then this is a very good way of slowly transferring an application, by slowly doing more and more reactive stuff and then calling `block` to return to the _regular_ world.\r\n\r\nAre you fully reactive? no, are you a blocking web server like before, well yes. Is it worse that `RestTemplate` most likely not. Are you better than before, from a maintenance standpoint, yes since spring has officially gone out with that there is not going to be any more updates to `RestTemplate`.\r\n\r\n&gt; Is the mechanics behind blocking calls with `WebClient` similar to what `RestTemplate` does?\r\n\r\nWell this is hard to tell, because `RestTemplate` is mainly just a wrapper around the `HttpClient` provided by the underlying server implementation.\r\n\r\nHow the blocking is written is probably different, but what they do in the end, is most likely the same. A `Mono&lt;T&gt;` blocks using a `CountDownLatch` with repeated calls to `getCount` and then inbetween blocks with a call on latch `await` until the response is back. I havn&#39;t looked at the different `HttpClient`s that `RestTemplate` is wrapping, you need to read up on each of them (tomcat, jetty, undertow, etc. etc.)\r\n\r\n&gt; Is there a possibility that the performance would be worse than in case I just use `RestTemplate`?\r\n\r\nThis is *extremely* hard to tell because performance is not black and white. It all depends on hardware, what type of jobs are to be done, how the code is written, thread pool sizes, operating system etc..\r\n\r\n`Netty` is a fully event driven server and it is starting to become the _de facto_ standard of web server in the Java community. [Undertow decided to switch out their entire core to the `netty core`][2], because it was so good, and easier to maintain.\r\n\r\nAs `Netty` is event driven, running it as an _old_ server with one thread per request could hurt performance since it is not optimized for that type of work, but on the other hand when you run it fully event driven it will shine.\r\n\r\nThe only way to answer this, is to do your own benchmarks, we can&#39;t answer that for you.\r\n\r\nIf you want to know more about how netty actually works under the hood a recommend reading the book [_Netty in Action_][3] which is not free but very good read to understand the innerworkings of `Netty` and its `async` threading model.\r\n\r\n\r\n  [1]: https://github.com/reactor/reactor-core/blob/bdbc44a2bd854078b9a035b195c134237f8fce19/reactor-core/src/main/java/reactor/core/publisher/BlockingSingleSubscriber.java#L81\r\n  [2]: https://undertow.io/blog/2019/04/15/Undertow-3.html\r\n  [3]: https://livebook.manning.com/book/netty-in-action/about-this-book/8","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>Since there seems to be misunderstandings i will try to answer the questions to the best of my knowledge.</p>\n<blockquote>\n<p>How safe is it to use <code>.block()</code> and is it ok in general to block threads in <code>WebClient</code>?</p>\n</blockquote>\n<p>Blocking is always <em>safe</em> but whether or not it affects performance is another thing. When a request comes in, it gets assigned a thread. When we do a request using <code>RestTemplate</code> the same thread will do the external request, and <code>RestTemplate</code> will block that thread under the hood in wait for the response.</p>\n<p>This is by no means efficient usage of a thread, but its completely <em>safe</em>, and this is how most web servers in general have been working for the past 20 years.</p>\n<p>When using <code>WebClient</code> in a <em><strong>non</strong>-reactive</em> application and you block a <code>Mono&lt;T&gt;</code> (which you essentially will be doing) the framework will first check that the thread is a type of thread that you are allowed to block (not a <em>nio-thread</em>) and after that it uses a <code>CountDownLatch</code> which pauses/blocks the calling thread at <code>CountDownLatch#await</code> until the first <em>onNext/onComplete/onError</em> signal arrives. This is <strong>completely fine</strong> in a blocking application. You can find the relevant code <a href=\"https://github.com/reactor/reactor-core/blob/bdbc44a2bd854078b9a035b195c134237f8fce19/reactor-core/src/main/java/reactor/core/publisher/BlockingSingleSubscriber.java#L81\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>When you add <code>WebClient</code> to the class path you will automatically get netty as the underlying server, which could be good to know. If you wish to change that out, then you need to be explicit about it.</p>\n<p>Also, it is recommended that if you do multiple requests, then you should chain on as many reactive calls as possible before resorting to <code>block</code>.</p>\n<p>If you want to move over to a reactive application, then this is a very good way of slowly transferring an application, by slowly doing more and more reactive stuff and then calling <code>block</code> to return to the <em>regular</em> world.</p>\n<p>Are you fully reactive? no, are you a blocking web server like before, well yes. Is it worse that <code>RestTemplate</code> most likely not. Are you better than before, from a maintenance standpoint, yes since spring has officially gone out with that there is not going to be any more updates to <code>RestTemplate</code>.</p>\n<blockquote>\n<p>Is the mechanics behind blocking calls with <code>WebClient</code> similar to what <code>RestTemplate</code> does?</p>\n</blockquote>\n<p>Well this is hard to tell, because <code>RestTemplate</code> is mainly just a wrapper around the <code>HttpClient</code> provided by the underlying server implementation.</p>\n<p>How the blocking is written is probably different, but what they do in the end, is most likely the same. A <code>Mono&lt;T&gt;</code> blocks using a <code>CountDownLatch</code> with repeated calls to <code>getCount</code> and then inbetween blocks with a call on latch <code>await</code> until the response is back. I havn't looked at the different <code>HttpClient</code>s that <code>RestTemplate</code> is wrapping, you need to read up on each of them (tomcat, jetty, undertow, etc. etc.)</p>\n<blockquote>\n<p>Is there a possibility that the performance would be worse than in case I just use <code>RestTemplate</code>?</p>\n</blockquote>\n<p>This is <em>extremely</em> hard to tell because performance is not black and white. It all depends on hardware, what type of jobs are to be done, how the code is written, thread pool sizes, operating system etc..</p>\n<p><code>Netty</code> is a fully event driven server and it is starting to become the <em>de facto</em> standard of web server in the Java community. <a href=\"https://undertow.io/blog/2019/04/15/Undertow-3.html\" rel=\"nofollow noreferrer\">Undertow decided to switch out their entire core to the <code>netty core</code></a>, because it was so good, and easier to maintain.</p>\n<p>As <code>Netty</code> is event driven, running it as an <em>old</em> server with one thread per request could hurt performance since it is not optimized for that type of work, but on the other hand when you run it fully event driven it will shine.</p>\n<p>The only way to answer this, is to do your own benchmarks, we can't answer that for you.</p>\n<p>If you want to know more about how netty actually works under the hood a recommend reading the book <a href=\"https://livebook.manning.com/book/netty-in-action/about-this-book/8\" rel=\"nofollow noreferrer\"><em>Netty in Action</em></a> which is not free but very good read to understand the innerworkings of <code>Netty</code> and its <code>async</code> threading model.</p>\n"},{"tags":[],"owner":{"account_id":12545853,"reputation":111,"user_id":9129204,"display_name":"Abdessamad ABOUKDIR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675597840,"creation_date":1675597840,"answer_id":75352006,"question_id":71128020,"body_markdown":"It is worth adding to the previous responses that if you want to use webClient in a blocking way while using only `spring-boot-starter-webflux` dependency, will throw an exception like `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3`, so in order to use Webclient in a blocking way you need to configure a spring MVC application by adding spring-boot-starter-web as stated in the documentation [Web Environment][1]:\r\n\r\n&gt; A SpringApplication attempts to create the right type of\r\n&gt; ApplicationContext on your behalf. The algorithm used to determine a\r\n&gt; WebApplicationType is the following:\r\n&gt; \r\n&gt; If Spring MVC is present, an\r\n&gt; AnnotationConfigServletWebServerApplicationContext is used\r\n&gt; \r\n&gt; If Spring MVC is not present and Spring WebFlux is present, an\r\n&gt; AnnotationConfigReactiveWebServerApplicationContext is used\r\n&gt; \r\n&gt; Otherwise, AnnotationConfigApplicationContext is used\r\n&gt; \r\n&gt; This means that if you are using Spring MVC and the new WebClient from\r\n&gt; Spring WebFlux in the same application, Spring MVC will be used by\r\n&gt; default. You can override that easily by calling\r\n&gt; setWebApplicationType(WebApplicationType).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>It is worth adding to the previous responses that if you want to use webClient in a blocking way while using only <code>spring-boot-starter-webflux</code> dependency, will throw an exception like <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3</code>, so in order to use Webclient in a blocking way you need to configure a spring MVC application by adding spring-boot-starter-web as stated in the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment\" rel=\"nofollow noreferrer\">Web Environment</a>:</p>\n<blockquote>\n<p>A SpringApplication attempts to create the right type of\nApplicationContext on your behalf. The algorithm used to determine a\nWebApplicationType is the following:</p>\n<p>If Spring MVC is present, an\nAnnotationConfigServletWebServerApplicationContext is used</p>\n<p>If Spring MVC is not present and Spring WebFlux is present, an\nAnnotationConfigReactiveWebServerApplicationContext is used</p>\n<p>Otherwise, AnnotationConfigApplicationContext is used</p>\n<p>This means that if you are using Spring MVC and the new WebClient from\nSpring WebFlux in the same application, Spring MVC will be used by\ndefault. You can override that easily by calling\nsetWebApplicationType(WebApplicationType).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3544458,"reputation":3170,"user_id":2960776,"display_name":"Aman Garg"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690530674,"creation_date":1690530674,"answer_id":76785802,"question_id":71128020,"body_markdown":"`RestTemplate` and `WebClient` are both popular libraries in the Java ecosystem used for making HTTP requests, particularly in Spring-based applications. They serve the same purpose of communicating with RESTful APIs or other HTTP-based services, but they have different designs and characteristics. Here are some key differences between them:\r\n\r\n1. **Synchronous vs. Asynchronous**:\r\n   - `RestTemplate`: It is a synchronous HTTP client, meaning that when you make a request, the thread making the request will wait until the response is received before proceeding further. This can potentially lead to blocking and decreased application performance in scenarios where you have high concurrency or slow network connections.\r\n   - `WebClient`: It is an asynchronous HTTP client introduced in Spring WebFlux, which is built on top of Project Reactor. It allows you to make non-blocking, asynchronous requests, making it more suitable for high-concurrency scenarios and reactive programming.\r\n\r\n2. **Reactive Support**:\r\n   - `RestTemplate`: It does not natively support reactive programming. If you want to use reactive features, you would need to wrap the `RestTemplate` calls in reactive code using `Mono` or `Flux` (from Reactor).\r\n   - `WebClient`: It is designed with reactive support from the ground up. It returns reactive types like `Mono` and `Flux` directly, which can seamlessly integrate with other reactive components in Spring WebFlux.\r\n\r\n3. **Dependencies**:\r\n   - `RestTemplate`: It is part of the Spring Web module, which means it is available in applications using Spring MVC (Servlet-based) or Spring Boot with traditional servlet containers.\r\n   - `WebClient`: It is also part of the Spring WebFlux module. To use `WebClient`, you need to have Spring WebFlux on your classpath. Spring WebFlux is designed for building reactive, non-blocking applications and can be used with servlet containers or Netty.\r\n\r\n4. **Ease of Use**:\r\n   - `RestTemplate`: It has been available since older versions of Spring and is widely used in many projects. Its API is more familiar and might be easier to start with for developers already familiar with traditional synchronous programming.\r\n   - `WebClient`: The API of `WebClient` might feel a bit more complex due to its reactive nature, especially if you&#39;re not familiar with reactive programming concepts. However, it provides powerful and flexible features for reactive applications.\r\n\r\n5. **Future Development**:\r\n   - `RestTemplate`: Since Spring WebFlux and `WebClient` are part of Spring&#39;s reactive ecosystem, it is likely that future enhancements and features will be more focused on `WebClient`, and `RestTemplate` might become less prominent over time.\r\n   - `WebClient`: It is the recommended choice for building reactive applications with Spring WebFlux. As such, it is more likely to receive ongoing improvements and optimizations.\r\n\r\nIn summary, if you are working on a traditional Spring MVC application and don&#39;t require reactive programming, `RestTemplate` could be a straightforward choice. However, if you are building a reactive application with Spring WebFlux, or if you need non-blocking, asynchronous behavior, `WebClient` is the more appropriate option.","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p><code>RestTemplate</code> and <code>WebClient</code> are both popular libraries in the Java ecosystem used for making HTTP requests, particularly in Spring-based applications. They serve the same purpose of communicating with RESTful APIs or other HTTP-based services, but they have different designs and characteristics. Here are some key differences between them:</p>\n<ol>\n<li><p><strong>Synchronous vs. Asynchronous</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It is a synchronous HTTP client, meaning that when you make a request, the thread making the request will wait until the response is received before proceeding further. This can potentially lead to blocking and decreased application performance in scenarios where you have high concurrency or slow network connections.</li>\n<li><code>WebClient</code>: It is an asynchronous HTTP client introduced in Spring WebFlux, which is built on top of Project Reactor. It allows you to make non-blocking, asynchronous requests, making it more suitable for high-concurrency scenarios and reactive programming.</li>\n</ul>\n</li>\n<li><p><strong>Reactive Support</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It does not natively support reactive programming. If you want to use reactive features, you would need to wrap the <code>RestTemplate</code> calls in reactive code using <code>Mono</code> or <code>Flux</code> (from Reactor).</li>\n<li><code>WebClient</code>: It is designed with reactive support from the ground up. It returns reactive types like <code>Mono</code> and <code>Flux</code> directly, which can seamlessly integrate with other reactive components in Spring WebFlux.</li>\n</ul>\n</li>\n<li><p><strong>Dependencies</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It is part of the Spring Web module, which means it is available in applications using Spring MVC (Servlet-based) or Spring Boot with traditional servlet containers.</li>\n<li><code>WebClient</code>: It is also part of the Spring WebFlux module. To use <code>WebClient</code>, you need to have Spring WebFlux on your classpath. Spring WebFlux is designed for building reactive, non-blocking applications and can be used with servlet containers or Netty.</li>\n</ul>\n</li>\n<li><p><strong>Ease of Use</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It has been available since older versions of Spring and is widely used in many projects. Its API is more familiar and might be easier to start with for developers already familiar with traditional synchronous programming.</li>\n<li><code>WebClient</code>: The API of <code>WebClient</code> might feel a bit more complex due to its reactive nature, especially if you're not familiar with reactive programming concepts. However, it provides powerful and flexible features for reactive applications.</li>\n</ul>\n</li>\n<li><p><strong>Future Development</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: Since Spring WebFlux and <code>WebClient</code> are part of Spring's reactive ecosystem, it is likely that future enhancements and features will be more focused on <code>WebClient</code>, and <code>RestTemplate</code> might become less prominent over time.</li>\n<li><code>WebClient</code>: It is the recommended choice for building reactive applications with Spring WebFlux. As such, it is more likely to receive ongoing improvements and optimizations.</li>\n</ul>\n</li>\n</ol>\n<p>In summary, if you are working on a traditional Spring MVC application and don't require reactive programming, <code>RestTemplate</code> could be a straightforward choice. However, if you are building a reactive application with Spring WebFlux, or if you need non-blocking, asynchronous behavior, <code>WebClient</code> is the more appropriate option.</p>\n"}],"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5188,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71140806,"answer_count":4,"score":4,"last_activity_date":1690530674,"creation_date":1644934631,"question_id":71128020,"body_markdown":"Sorry if this was asked before, but I didn&#39;t find a matching question. \r\n\r\nI have an application that performs api calls to other services. I&#39;m thinking of using `WebClient` over `RestTemplate` as it&#39;s advised by Spring. I&#39;m performing exclusively Synchronous HTTP calls. \r\n\r\nI know `WebClient` is designed with Reactive approach in mind, but in theory: Is it ok to use `WebClient` solely for blocking calls? I&#39;m concerned by the fact that I have to call `.block()` on each call to get the data. So my questions are:\r\n\r\n1. How safe is it to use `.block()` and is it ok in general to block threads in `WebClient`? \r\n2. Is the mechanics behind blocking calls with `WebClient` similar to what `RestTemplate` does?\r\n3. Is there a possibility that the performance would be worse than in case I just use `RestTemplate`? \r\n\r\nThanks in advance!","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>Sorry if this was asked before, but I didn't find a matching question.</p>\n<p>I have an application that performs api calls to other services. I'm thinking of using <code>WebClient</code> over <code>RestTemplate</code> as it's advised by Spring. I'm performing exclusively Synchronous HTTP calls.</p>\n<p>I know <code>WebClient</code> is designed with Reactive approach in mind, but in theory: Is it ok to use <code>WebClient</code> solely for blocking calls? I'm concerned by the fact that I have to call <code>.block()</code> on each call to get the data. So my questions are:</p>\n<ol>\n<li>How safe is it to use <code>.block()</code> and is it ok in general to block threads in <code>WebClient</code>?</li>\n<li>Is the mechanics behind blocking calls with <code>WebClient</code> similar to what <code>RestTemplate</code> does?</li>\n<li>Is there a possibility that the performance would be worse than in case I just use <code>RestTemplate</code>?</li>\n</ol>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","sqslistener"],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690530568,"creation_date":1690465621,"question_id":76780404,"body_markdown":"I&#39;m working on Spring Boot project. Is there any other way for handling sqs queues than multiple application properties file for every environment?","title":"Any other way of using sqs queues for different environments other than multiple application.properties in spring boot?","body":"<p>I'm working on Spring Boot project. Is there any other way for handling sqs queues than multiple application properties file for every environment?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9852,"page":282,"page_size":100}
