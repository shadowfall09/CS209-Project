{"items":[{"tags":["java","spring","spring-boot","security","swagger"],"owner":{"account_id":28332188,"reputation":1,"user_id":21666290,"display_name":"Jan Potarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684006490,"creation_date":1684006490,"question_id":76244557,"body_markdown":"Recently I tried to add SwaggerUI to my REST application. I added needed dependencies and set up security config so my filter chain permits access to Swagger without authorization: \r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor(onConstructor = @__(@Lazy))\r\npublic class ApplicationConfig {\r\n\r\n    private final JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Configuration\r\n    public class RequestLoggingFilterConfig {\r\n\r\n        @Bean\r\n        public CommonsRequestLoggingFilter logFilter() {\r\n            CommonsRequestLoggingFilter filter\r\n                    = new CommonsRequestLoggingFilter();\r\n            filter.setIncludeQueryString(true);\r\n            filter.setIncludePayload(true);\r\n            filter.setMaxPayloadLength(10000);\r\n            filter.setIncludeHeaders(false);\r\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA: &quot;);\r\n            return filter;\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .cors()\r\n                .and()\r\n                .httpBasic().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .exceptionHandling()\r\n               .authenticationEntryPoint((request, response, authException) -&gt; {\r\n                 response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n                 response.getWriter().write(&quot;Unauthorized 1.&quot;);\r\n               })\r\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\r\n                    response.setStatus(HttpStatus.FORBIDDEN.value());\r\n                  response.getWriter().write(&quot;Unauthorized 2.&quot;);\r\n                })\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .anonymous().disable()\r\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nFor some reason, when I try to access http://localhost:8080/swagger-ui/index.html i got &quot;Unauthorized 1.&quot; error. Is there something wrong with my configuration? Other endpoints that should work without auth are working well (for example, all endpoints for AuthController): \r\n\r\n\r\n```\r\n.requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll() // works fine\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() // gets 401 error\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n```\r\n","title":"Can&#39;t access SwaggerUI in Spring Boot application","body":"<p>Recently I tried to add SwaggerUI to my REST application. I added needed dependencies and set up security config so my filter chain permits access to Swagger without authorization:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor(onConstructor = @__(@Lazy))\npublic class ApplicationConfig {\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Configuration\n    public class RequestLoggingFilterConfig {\n\n        @Bean\n        public CommonsRequestLoggingFilter logFilter() {\n            CommonsRequestLoggingFilter filter\n                    = new CommonsRequestLoggingFilter();\n            filter.setIncludeQueryString(true);\n            filter.setIncludePayload(true);\n            filter.setMaxPayloadLength(10000);\n            filter.setIncludeHeaders(false);\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA: &quot;);\n            return filter;\n        }\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .cors()\n                .and()\n                .httpBasic().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .exceptionHandling()\n               .authenticationEntryPoint((request, response, authException) -&gt; {\n                 response.setStatus(HttpStatus.UNAUTHORIZED.value());\n                 response.getWriter().write(&quot;Unauthorized 1.&quot;);\n               })\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\n                    response.setStatus(HttpStatus.FORBIDDEN.value());\n                  response.getWriter().write(&quot;Unauthorized 2.&quot;);\n                })\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .anonymous().disable()\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\n\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p>For some reason, when I try to access http://localhost:8080/swagger-ui/index.html i got &quot;Unauthorized 1.&quot; error. Is there something wrong with my configuration? Other endpoints that should work without auth are working well (for example, all endpoints for AuthController):</p>\n<pre><code>.requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll() // works fine\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() // gets 401 error\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684005468,"post_id":76244487,"comment_id":134454542,"body_markdown":"The characters aren&#39;t actually in your file... These are called something like parameter hints. Check the settings of the Java extension.. What settings did you change already?","body":"The characters aren&#39;t actually in your file... These are called something like parameter hints. Check the settings of the Java extension.. What settings did you change already?"},{"owner":{"account_id":28593529,"reputation":11,"user_id":21892218,"display_name":"Virendra Ghule"},"score":0,"creation_date":1684005695,"post_id":76244487,"comment_id":134454564,"body_markdown":"actually i have recently installed &quot;extension pack for java from microsoft&quot;  after that this started. When i uninstalled it. it vanished but i want that extension also not this ghost boxes.","body":"actually i have recently installed &quot;extension pack for java from microsoft&quot;  after that this started. When i uninstalled it. it vanished but i want that extension also not this ghost boxes."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684006331,"post_id":76244487,"comment_id":134454648,"body_markdown":"Yes, it&#39;s specific to Java, but some other languages add it as well... For learning they might not be useful, but if you clone an open source repo and have no idea what code is doing, the hints help a lot (assuming parameter names make sense)","body":"Yes, it&#39;s specific to Java, but some other languages add it as well... For learning they might not be useful, but if you clone an open source repo and have no idea what code is doing, the hints help a lot (assuming parameter names make sense)"}],"answers":[{"tags":[],"owner":{"account_id":6076924,"reputation":1143,"user_id":4743979,"accept_rate":50,"display_name":"DutChen18"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684005781,"creation_date":1684005781,"answer_id":76244516,"question_id":76244487,"body_markdown":"These are called &quot;Inlay Hints&quot;, press ctrl+comma to open the settings menu, search for &quot;Inlay Hints&quot;, and turn them off.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIp3f.png","title":"how to remove vs code unnecessary characters(how to remove that &quot;s:&quot;)?","body":"<p>These are called &quot;Inlay Hints&quot;, press ctrl+comma to open the settings menu, search for &quot;Inlay Hints&quot;, and turn them off.</p>\n<p><a href=\"https://i.stack.imgur.com/LIp3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIp3f.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28593529,"reputation":11,"user_id":21892218,"display_name":"Virendra Ghule"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684006085,"accepted_answer_id":76244516,"answer_count":1,"score":-1,"last_activity_date":1684005781,"creation_date":1684005164,"question_id":76244487,"body_markdown":"how to remove that &quot;s:&quot; in vs code ![](https://i.stack.imgur.com/Gbf7y.png)\r\n\r\nRecently I have added an debugger and other java extensions may be that suggesting it and also tried some change in settings of vs code to remove this but it didn&#39;t worked.","title":"how to remove vs code unnecessary characters(how to remove that &quot;s:&quot;)?","body":"<p>how to remove that &quot;s:&quot; in vs code <img src=\"https://i.stack.imgur.com/Gbf7y.png\" alt=\"\" /></p>\n<p>Recently I have added an debugger and other java extensions may be that suggesting it and also tried some change in settings of vs code to remove this but it didn't worked.</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1684000509,"post_id":76244096,"comment_id":134453993,"body_markdown":"It means that the library, probably `org.apache.avro`, isn&#39;t on the class path or included in the libraries that your version of Spring uses.  You&#39;ll need to do that.  If this is on your workstation, you&#39;ll need to download that library and then add it to either your project in IntelliJ or to your local Spring boot server, just depending on what&#39;s best for you.","body":"It means that the library, probably <code>org.apache.avro</code>, isn&#39;t on the class path or included in the libraries that your version of Spring uses.  You&#39;ll need to do that.  If this is on your workstation, you&#39;ll need to download that library and then add it to either your project in IntelliJ or to your local Spring boot server, just depending on what&#39;s best for you."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684002607,"post_id":76244096,"comment_id":134454231,"body_markdown":"But I have added this in ```build.gradle.kts``` file like this\n```dependencies {\n    // Other dependencies\n    implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\n}\n``` Wont it download the library?","body":"But I have added this in <code>build.gradle.kts</code> file like this <code>dependencies {     &#47;&#47; Other dependencies     implementation(&quot;org.apache.avro:avro:1.11.1&quot;) } </code> Wont it download the library?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1684011647,"post_id":76244096,"comment_id":134455234,"body_markdown":"But where does that install the library?  Does that set the class path for you?  We&#39;d need more information about your environment to know what is really happening.","body":"But where does that install the library?  Does that set the class path for you?  We&#39;d need more information about your environment to know what is really happening."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684050817,"post_id":76244096,"comment_id":134457738,"body_markdown":"We need to see the **stacktrace** for the exception that was thrown while the JVM was initializing `ReflectData`.","body":"We need to see the <b>stacktrace</b> for the exception that was thrown while the JVM was initializing <code>ReflectData</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684050948,"post_id":76244096,"comment_id":134457749,"body_markdown":"@markspace - I don&#39;t think it means that.  Its not a missing class.  Its an uncaught exception during static initialization.  We need to see &gt;that&lt; stacktrace.","body":"@markspace - I don&#39;t think it means that.  Its not a missing class.  Its an uncaught exception during static initialization.  We need to see &gt;that&lt; stacktrace."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056282,"post_id":76244096,"comment_id":134458250,"body_markdown":"Dont know why but got this issue solved by downgrading the avro schema dependency to 1.9.2","body":"Dont know why but got this issue solved by downgrading the avro schema dependency to 1.9.2"},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056302,"post_id":76244096,"comment_id":134458255,"body_markdown":"But now unable to fetch the class from java file","body":"But now unable to fetch the class from java file"},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056467,"post_id":76244096,"comment_id":134458271,"body_markdown":"@StephenC not getting any error in console, it keeps on running, identified the error in debug mode","body":"@StephenC not getting any error in console, it keeps on running, identified the error in debug mode"}],"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684004361,"creation_date":1683999285,"question_id":76244096,"body_markdown":"I am trying using reflectData class for my avro schema. The code is:\r\n\r\n    File myFile = new File(&quot;MyFile.java&quot;);\r\n    ReflectData reflectData = ReflectData.get();\r\n    reflectData.getSchema(myFile)\r\n\r\nWhen I try running this code in main, it gets executed as expected. Means there is no issue with dependencies.\r\nBut when I put the code in the method ```actionPerformed(AnActionEvent e)``` and run the plugin, I get the error Cannot initialize relfectData class like this ```java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData```.\r\nI am not very good at java/springboot so might be missing something. Would really appreciate any help here. \r\nHere is my grade file\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;org.jetbrains.intellij&quot;) version &quot;1.12.0&quot;\r\n    }\r\n    \r\n    group = &quot;com.example&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    // Configure Gradle IntelliJ Plugin\r\n    // Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\n    intellij {\r\n        version.set(&quot;2022.2.1&quot;)\r\n        type.set(&quot;IC&quot;) // Target IDE Platform\r\n    \r\n        plugins.set(listOf(/* Plugin Dependencies */&quot;java&quot;))\r\n    }\r\n    \r\n    dependencies {\r\n        // Other dependencies\r\n        implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\r\n    }\r\n    \r\n    tasks {\r\n        // Set the JVM compatibility versions\r\n        withType&lt;JavaCompile&gt; {\r\n            sourceCompatibility = &quot;11&quot;\r\n            targetCompatibility = &quot;11&quot;\r\n        }\r\n    \r\n        patchPluginXml {\r\n            sinceBuild.set(&quot;213&quot;)\r\n            untilBuild.set(&quot;223.*&quot;)\r\n        }\r\n   \r\n    }\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData","body":"<p>I am trying using reflectData class for my avro schema. The code is:</p>\n<pre><code>File myFile = new File(&quot;MyFile.java&quot;);\nReflectData reflectData = ReflectData.get();\nreflectData.getSchema(myFile)\n</code></pre>\n<p>When I try running this code in main, it gets executed as expected. Means there is no issue with dependencies.\nBut when I put the code in the method <code>actionPerformed(AnActionEvent e)</code> and run the plugin, I get the error Cannot initialize relfectData class like this <code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData</code>.\nI am not very good at java/springboot so might be missing something. Would really appreciate any help here.\nHere is my grade file</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;org.jetbrains.intellij&quot;) version &quot;1.12.0&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\n// Configure Gradle IntelliJ Plugin\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\nintellij {\n    version.set(&quot;2022.2.1&quot;)\n    type.set(&quot;IC&quot;) // Target IDE Platform\n\n    plugins.set(listOf(/* Plugin Dependencies */&quot;java&quot;))\n}\n\ndependencies {\n    // Other dependencies\n    implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\n}\n\ntasks {\n    // Set the JVM compatibility versions\n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;11&quot;\n        targetCompatibility = &quot;11&quot;\n    }\n\n    patchPluginXml {\n        sinceBuild.set(&quot;213&quot;)\n        untilBuild.set(&quot;223.*&quot;)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","api","rest","web"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684007581,"post_id":76244412,"comment_id":134454821,"body_markdown":"Hello, modify the package of the classes to be the same. Like com.example.demo","body":"Hello, modify the package of the classes to be the same. Like com.example.demo"},{"owner":{"display_name":"user18043163"},"score":0,"creation_date":1684016359,"post_id":76244412,"comment_id":134455622,"body_markdown":"Muchas gracias por tu apoyo logre solucionar el problema","body":"Muchas gracias por tu apoyo logre solucionar el problema"}],"owner":{"display_name":"user18043163"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684004227,"creation_date":1684004085,"question_id":76244412,"body_markdown":"I hope your help I have a problem since a week ago I have been with the 404 error it gives me this error &quot;Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSat May 13 12:51:05 CST 2023\r\nThere was an unexpected error (type=Not Found, status=404).&quot; even though it is only a hello world I already tried tutorials and some forums right here and I can not solve it I will leave everything to you the code so that you can help me I would be very grateful with you\r\n\r\narchivo pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.11&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nArchivo Controller:\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n/**\r\n *\r\n * @author \r\n */\r\n\r\n\r\n\r\n@RestController\r\npublic class HelloWorldController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nApplication.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nAplicationTest:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAplication.properties\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/cgbjemct?zeroDateTimeBehavior=CONVERT_TO_NULL\r\nspring.datasource.username = root\r\nspring.datasource.password = j797EMCt\r\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCheck the URI\r\ncheck the code\r\n\r\n","title":"Whitelabel Error Page 404 Api REST Whit Java","body":"<p>I hope your help I have a problem since a week ago I have been with the 404 error it gives me this error &quot;Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sat May 13 12:51:05 CST 2023\nThere was an unexpected error (type=Not Found, status=404).&quot; even though it is only a hello world I already tried tutorials and some forums right here and I can not solve it I will leave everything to you the code so that you can help me I would be very grateful with you</p>\n<p>archivo pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Archivo Controller:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n/**\n *\n * @author \n */\n\n\n\n@RestController\npublic class HelloWorldController {\n\n    @GetMapping(&quot;/&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n\n</code></pre>\n<p>Application.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>AplicationTest:</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n\n</code></pre>\n<p>Aplication.properties</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/cgbjemct?zeroDateTimeBehavior=CONVERT_TO_NULL\nspring.datasource.username = root\nspring.datasource.password = j797EMCt\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n</code></pre>\n<p>Check the URI\ncheck the code</p>\n"},{"tags":["java","css","javafx","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683999194,"creation_date":1683996417,"answer_id":76243886,"question_id":76243287,"body_markdown":"First, note you have a syntax error in your CSS file:\r\n\r\n    -fx-stroke = green;\r\n\r\nshould be\r\n\r\n    -fx-stroke: green;\r\n\r\nAdditionally, note from the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#line) that the style class of `Line` is empty by default. (Only `Control` and its subclasses, along with `ImageView`, `WebView`, and `MediaView` have default style classes.) Consequently, the selector will not select the line. You can either add the style class to the line explicitly:\r\n\r\n        Line l = new Line(10,10,90,90);\r\n        l.getStyleClass().add(&quot;line&quot;);\r\n\r\nor us a Type Selector. From the documentation:\r\n\r\n&gt;Node&#39;s getTypeSelector method returns a String which is analogous to a CSS Type Selector. By default, this method returns the simple name of the class. \r\n\r\nSo the following will work without adding the style class in the Java code:\r\n\r\n    Line {\r\n    -fx-stroke: green;\r\n    \r\n    }","title":"Separate css file for JavaFX project","body":"<p>First, note you have a syntax error in your CSS file:</p>\n<pre><code>-fx-stroke = green;\n</code></pre>\n<p>should be</p>\n<pre><code>-fx-stroke: green;\n</code></pre>\n<p>Additionally, note from the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#line\" rel=\"noreferrer\">documentation</a> that the style class of <code>Line</code> is empty by default. (Only <code>Control</code> and its subclasses, along with <code>ImageView</code>, <code>WebView</code>, and <code>MediaView</code> have default style classes.) Consequently, the selector will not select the line. You can either add the style class to the line explicitly:</p>\n<pre><code>    Line l = new Line(10,10,90,90);\n    l.getStyleClass().add(&quot;line&quot;);\n</code></pre>\n<p>or us a Type Selector. From the documentation:</p>\n<blockquote>\n<p>Node's getTypeSelector method returns a String which is analogous to a CSS Type Selector. By default, this method returns the simple name of the class.</p>\n</blockquote>\n<p>So the following will work without adding the style class in the Java code:</p>\n<pre><code>Line {\n-fx-stroke: green;\n\n}\n</code></pre>\n"}],"owner":{"account_id":22193396,"reputation":3,"user_id":16435171,"display_name":"Mazen Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243886,"answer_count":1,"score":0,"last_activity_date":1684003773,"creation_date":1683988979,"question_id":76243287,"body_markdown":"How can I apply a certain style for all lines objects in a separate css file for a javaFX project? This is the java code :\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Pane root = new Pane();\r\n        Scene scene = new Scene(root, 1200, 800);\r\n        stage.setTitle(&quot;Simulink viewer&quot;);\r\n        Label l1 = new Label(&quot;hdkhsd&quot;);\r\n        l1.setLayoutX(100);\r\n        l1.setLayoutY(100);\r\n        Label l2 = new Label(&quot;helle&quot;);\r\n        l2.setLayoutX(400);\r\n        l2.setLayoutY(400);\r\n        root.getChildren().addAll(l1,l2);\r\n        Line l = new Line(10,10,90,90);\r\n        root.getChildren().add(l);\r\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nAnd this is the css file:\r\n\r\n```\r\n.root{\r\n-fx-background-color : #ADD8E6;\r\n}\r\n\r\n.label {\r\n-fx-border-color: red;\r\n}\r\n\r\n.line {\r\n-fx-stroke = green;\r\n\r\n}\r\n```\r\n\r\nThe style works for both root and label, but it doesn&#39;t work for line. What is the problem?\r\n\r\nI&#39;m having this warning:\r\n \r\n&gt;May 13, 2023 4:31:05 PM javafx.css.CssParser declaration\r\nWARNING: CSS Error parsing file:/E:/College/Now/Advanced/Projects/normal%20java%20projects/demo/target/classes/com/example/demo/style.css: Expected COLON at [10,11]\r\n \r\nI actually read that style class for line is empty by default. What does that mean? Does it mean I can&#39;t style line in a separate css file?","title":"Separate css file for JavaFX project","body":"<p>How can I apply a certain style for all lines objects in a separate css file for a javaFX project? This is the java code :</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Pane root = new Pane();\n        Scene scene = new Scene(root, 1200, 800);\n        stage.setTitle(&quot;Simulink viewer&quot;);\n        Label l1 = new Label(&quot;hdkhsd&quot;);\n        l1.setLayoutX(100);\n        l1.setLayoutY(100);\n        Label l2 = new Label(&quot;helle&quot;);\n        l2.setLayoutX(400);\n        l2.setLayoutY(400);\n        root.getChildren().addAll(l1,l2);\n        Line l = new Line(10,10,90,90);\n        root.getChildren().add(l);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>And this is the css file:</p>\n<pre><code>.root{\n-fx-background-color : #ADD8E6;\n}\n\n.label {\n-fx-border-color: red;\n}\n\n.line {\n-fx-stroke = green;\n\n}\n</code></pre>\n<p>The style works for both root and label, but it doesn't work for line. What is the problem?</p>\n<p>I'm having this warning:</p>\n<blockquote>\n<p>May 13, 2023 4:31:05 PM javafx.css.CssParser declaration\nWARNING: CSS Error parsing file:/E:/College/Now/Advanced/Projects/normal%20java%20projects/demo/target/classes/com/example/demo/style.css: Expected COLON at [10,11]</p>\n</blockquote>\n<p>I actually read that style class for line is empty by default. What does that mean? Does it mean I can't style line in a separate css file?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14768316,"reputation":294,"user_id":10665634,"display_name":"bramasta vikana"},"score":1,"creation_date":1683987500,"post_id":76243136,"comment_id":134452307,"body_markdown":"it depends , if your application is large it would be more efficient if you use the second case because it will make your database slower to load because of the mapping, the bad side of second case, its requires efford to manage the relationship between the entity, because you are doing it manually","body":"it depends , if your application is large it would be more efficient if you use the second case because it will make your database slower to load because of the mapping, the bad side of second case, its requires efford to manage the relationship between the entity, because you are doing it manually"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":1,"creation_date":1683987675,"post_id":76243136,"comment_id":134452331,"body_markdown":"When in doubt about mapping entities in hibernate I always refer to articles by Vlad Mihalcea https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","body":"When in doubt about mapping entities in hibernate I always refer to articles by Vlad Mihalcea <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1683987694,"post_id":76243136,"comment_id":134452337,"body_markdown":"@bramastavikana But in a second case primary key and foreign key is not actully mapped in database. But we will manage like that. Am I right","body":"@bramastavikana But in a second case primary key and foreign key is not actully mapped in database. But we will manage like that. Am I right"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1683987966,"post_id":76243136,"comment_id":134452375,"body_markdown":"@Charlie  I know very well Vlad Mihalcea articles are best for mapping. I was triend to find my question from Vlad Mihalcea artical but I didn&#39;t get the exect answer.","body":"@Charlie  I know very well Vlad Mihalcea articles are best for mapping. I was triend to find my question from Vlad Mihalcea artical but I didn&#39;t get the exect answer."},{"owner":{"account_id":14768316,"reputation":294,"user_id":10665634,"display_name":"bramasta vikana"},"score":1,"creation_date":1683988035,"post_id":76243136,"comment_id":134452386,"body_markdown":"Yup, correct , the second case, the relationship between the flight and booking entities is not explicitly mapped in the database @FaheemazazBhanej","body":"Yup, correct , the second case, the relationship between the flight and booking entities is not explicitly mapped in the database @FaheemazazBhanej"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":1,"creation_date":1683988181,"post_id":76243136,"comment_id":134452405,"body_markdown":"@bramastavikana Much thanks for providing me a better solution","body":"@bramastavikana Much thanks for providing me a better solution"},{"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"score":1,"creation_date":1684004968,"post_id":76243136,"comment_id":134454485,"body_markdown":"It all comes down to the decision of the guy signing your paycheck. If he wants bi-directional relational mapping, thats the way to go. If he prefers your second case...there you go. If he decides to map those relations by sticky notes on your screen....make him to put it in writing, so you wont be blamed later, but do it his way :)","body":"It all comes down to the decision of the guy signing your paycheck. If he wants bi-directional relational mapping, thats the way to go. If he prefers your second case...there you go. If he decides to map those relations by sticky notes on your screen....make him to put it in writing, so you wont be blamed later, but do it his way :)"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684003068,"creation_date":1684003068,"answer_id":76244343,"question_id":76243136,"body_markdown":"&gt; In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.\r\n\r\nIn both cases your code is completely coupled to the schema of your database.\r\n\r\nUsing `@OneToMany` and `@ManyToOne` doesn&#39;t make your code more closely dependent on the database. Whichever way you go, you have:\r\n\r\n- an `@Entity` class for each table, with \r\n- an attribute for each column.\r\n\r\nThat is, it&#39;s a copy in Java of the relational schema.\r\n\r\nAnd that&#39;s perfectly fine. Why should your Java entities be decoupled from the relational schema in the first place?\r\n\r\nYou have a data model. The relational schema is a representation of that model in SQL, and your `@Entity` classes are a representation of that model in Java. It&#39;s perfectly natural that they should be coupled. They represent the same thing.\r\n\r\nHell, _the whole point of ORM_ is to make it easy to couple them!\r\n\r\nDevelopers who just try to arbitrarily &quot;decouple&quot; things that don&#39;t need to be decoupled create bloat and complexity and unmaintainability further down the line.\r\n\r\n&gt; One of my senior told me to use relational mapping annotation will take much time to load your application.\r\n\r\nI mean, no experienced developer should be making a silly blanket statement like that, not without a whole lot of conditions and caveats, so perhaps you misunderstood.\r\n\r\nBut, anyway, here&#39;s my conditional and caveated statement.\r\n\r\nNo, it&#39;s not _in general_ the case that `@OneToMany` and `@ManyToOne` cause performance problems. JPA and Hibernate are used in millions of highly-performing systems all over the world, for the past two decades.\r\n\r\nOf course, I can easily come up with (contrived or otherwise) situations where one might want to avoid using associations in favor of something else. And certainly association mapping in ORM comes with some quirks and gotchas for the inexperienced.\r\n\r\nBut association mapping is _not_ a thing you should just avoid on principle. Rather: understand it, and learn to use it properly.\r\n","title":"Spring Boot: What is the best way to map entities","body":"<blockquote>\n<p>In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.</p>\n</blockquote>\n<p>In both cases your code is completely coupled to the schema of your database.</p>\n<p>Using <code>@OneToMany</code> and <code>@ManyToOne</code> doesn't make your code more closely dependent on the database. Whichever way you go, you have:</p>\n<ul>\n<li>an <code>@Entity</code> class for each table, with</li>\n<li>an attribute for each column.</li>\n</ul>\n<p>That is, it's a copy in Java of the relational schema.</p>\n<p>And that's perfectly fine. Why should your Java entities be decoupled from the relational schema in the first place?</p>\n<p>You have a data model. The relational schema is a representation of that model in SQL, and your <code>@Entity</code> classes are a representation of that model in Java. It's perfectly natural that they should be coupled. They represent the same thing.</p>\n<p>Hell, <em>the whole point of ORM</em> is to make it easy to couple them!</p>\n<p>Developers who just try to arbitrarily &quot;decouple&quot; things that don't need to be decoupled create bloat and complexity and unmaintainability further down the line.</p>\n<blockquote>\n<p>One of my senior told me to use relational mapping annotation will take much time to load your application.</p>\n</blockquote>\n<p>I mean, no experienced developer should be making a silly blanket statement like that, not without a whole lot of conditions and caveats, so perhaps you misunderstood.</p>\n<p>But, anyway, here's my conditional and caveated statement.</p>\n<p>No, it's not <em>in general</em> the case that <code>@OneToMany</code> and <code>@ManyToOne</code> cause performance problems. JPA and Hibernate are used in millions of highly-performing systems all over the world, for the past two decades.</p>\n<p>Of course, I can easily come up with (contrived or otherwise) situations where one might want to avoid using associations in favor of something else. And certainly association mapping in ORM comes with some quirks and gotchas for the inexperienced.</p>\n<p>But association mapping is <em>not</em> a thing you should just avoid on principle. Rather: understand it, and learn to use it properly.</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244343,"answer_count":1,"score":0,"last_activity_date":1684003068,"creation_date":1683986690,"question_id":76243136,"body_markdown":"I have two entities `Flight` and `Booking`. I will try to map this two entities. In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.\r\n\r\n**Here is my first case :**\r\n\r\nEntity\r\n```\r\npublic class Flight\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long flightId;\r\n\tprivate Integer flightName;\r\n\tprivate Date departureTime;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Booking&gt; bookings;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n\r\npublic class Booking\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long bookingId;\r\n\tprivate Integer passangerName;\r\n\tprivate String passengerLocation;\r\n\tprivate Date bookingTime;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;flightId&quot;)\r\n\tprivate Flight flight;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n```\r\n\r\n**Here is my second case :**\r\n\r\nEntity\r\n```\r\npublic class Flight\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long flightId;\r\n\tprivate Integer flightName;\r\n\tprivate Date departureTime;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n\r\npublic class Booking\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long bookingId;\r\n\tprivate Integer passangerName;\r\n\tprivate String passengerLocation;\r\n\tprivate Date bookingTime;\r\n\t\r\n    // Here we will take a reference of Flight entity but it&#39;s not actully mapped\r\n\tprivate Long flightId;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n```\r\n\r\nI am asking this question because, One of my senior told me to use relational mapping annotation will take much time to load your applicalication.","title":"Spring Boot: What is the best way to map entities","body":"<p>I have two entities <code>Flight</code> and <code>Booking</code>. I will try to map this two entities. In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.</p>\n<p><strong>Here is my first case :</strong></p>\n<p>Entity</p>\n<pre><code>public class Flight\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long flightId;\n    private Integer flightName;\n    private Date departureTime;\n    \n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;Booking&gt; bookings;\n\n    // Getter, Setter, Constructors\n}\n\npublic class Booking\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long bookingId;\n    private Integer passangerName;\n    private String passengerLocation;\n    private Date bookingTime;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;flightId&quot;)\n    private Flight flight;\n\n    // Getter, Setter, Constructors\n}\n</code></pre>\n<p><strong>Here is my second case :</strong></p>\n<p>Entity</p>\n<pre><code>public class Flight\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long flightId;\n    private Integer flightName;\n    private Date departureTime;\n\n    // Getter, Setter, Constructors\n}\n\npublic class Booking\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long bookingId;\n    private Integer passangerName;\n    private String passengerLocation;\n    private Date bookingTime;\n    \n    // Here we will take a reference of Flight entity but it's not actully mapped\n    private Long flightId;\n\n    // Getter, Setter, Constructors\n}\n</code></pre>\n<p>I am asking this question because, One of my senior told me to use relational mapping annotation will take much time to load your applicalication.</p>\n"},{"tags":["java","swing","jframe","response","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1642877515,"post_id":70812525,"comment_id":125191688,"body_markdown":"`setLayout(null);` Use. Layouts!","body":"<code>setLayout(null);</code> Use. Layouts!"}],"answers":[{"tags":[],"owner":{"account_id":112753,"reputation":772,"user_id":297274,"accept_rate":23,"display_name":"cobp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642855299,"creation_date":1642855299,"answer_id":70812910,"question_id":70812525,"body_markdown":"setUpButtonListeners() are not executed in the program. So action listeners are not available. you can include setUpButtonListeners() in prepareGUI method.","title":"My Buttons won&#39;t execute the command given to them","body":"<p>setUpButtonListeners() are not executed in the program. So action listeners are not available. you can include setUpButtonListeners() in prepareGUI method.</p>\n"}],"owner":{"account_id":24019264,"reputation":1,"user_id":18001798,"display_name":"Soup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684002697,"creation_date":1642852488,"question_id":70812525,"body_markdown":"I am trying to get the buttons to at least execute something when they are pressed and BlueJ doesn&#39;t show any errors, but when I execute the Program and I try to press the buttons, nothing happens. I am really unsure why that is the case. I would appreciate any help!\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    class MainMenu\r\n    {\r\n    JFrame frame= new JFrame();\r\n    JButton button = new JButton(&quot;Singleplayer&quot;);\r\n    JButton button2 = new JButton(&quot;Multiplayer&quot;);\r\n    MainMenu(){\r\n        prepareGUI();\r\n    }  \r\n\r\n\r\n    public void prepareGUI(){\r\n        frame.setTitle(&quot;Game&quot;);\r\n        frame.getContentPane().setLayout(null);\r\n        frame.add(button);\r\n        frame.add(button2);\r\n        button.setBounds(100,200,100,40);\r\n        button2.setBounds(200,200,100,40);\r\n        frame.setVisible(true);\r\n        frame.setBounds(200,200,400,400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n\r\n    \r\n    public void setUpButtonListeners(){\r\n        ActionListener buttonlistener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    frame.getContentPane().setBackground(Color.green);\r\n                    System.out.println(&quot;Singleplayer Selected&quot;);\r\n                }\r\n            };\r\n\r\n        ActionListener buttonlistener2 = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {\r\n                    frame.getContentPane().setBackground(Color.red);\r\n                    System.out.println(&quot;Multiplayer Selected&quot;);\r\n                }\r\n            };\r\n        button.addActionListener(buttonlistener);\r\n        button2.addActionListener(buttonlistener2);\r\n    }\r\n    public class MainClass {\r\n        public void main(String args[] )\r\n        { \r\n            new MainMenu();\r\n        }\r\n    }\r\n    }\r\n","title":"My Buttons won&#39;t execute the command given to them","body":"<p>I am trying to get the buttons to at least execute something when they are pressed and BlueJ doesn't show any errors, but when I execute the Program and I try to press the buttons, nothing happens. I am really unsure why that is the case. I would appreciate any help!</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nclass MainMenu\n{\nJFrame frame= new JFrame();\nJButton button = new JButton(&quot;Singleplayer&quot;);\nJButton button2 = new JButton(&quot;Multiplayer&quot;);\nMainMenu(){\n    prepareGUI();\n}  \n\n\npublic void prepareGUI(){\n    frame.setTitle(&quot;Game&quot;);\n    frame.getContentPane().setLayout(null);\n    frame.add(button);\n    frame.add(button2);\n    button.setBounds(100,200,100,40);\n    button2.setBounds(200,200,100,40);\n    frame.setVisible(true);\n    frame.setBounds(200,200,400,400);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n\n\npublic void setUpButtonListeners(){\n    ActionListener buttonlistener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.getContentPane().setBackground(Color.green);\n                System.out.println(&quot;Singleplayer Selected&quot;);\n            }\n        };\n\n    ActionListener buttonlistener2 = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent ae) {\n                frame.getContentPane().setBackground(Color.red);\n                System.out.println(&quot;Multiplayer Selected&quot;);\n            }\n        };\n    button.addActionListener(buttonlistener);\n    button2.addActionListener(buttonlistener2);\n}\npublic class MainClass {\n    public void main(String args[] )\n    { \n        new MainMenu();\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","maven","build","parent-pom"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1683809454,"post_id":76227350,"comment_id":134425427,"body_markdown":"There are missing a lot of details ... what exaclty is the problem? Why have to set your packaging to pom ? Why really necessary as parent?","body":"There are missing a lot of details ... what exaclty is the problem? Why have to set your packaging to pom ? Why really necessary as parent?"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagi"},"score":0,"creation_date":1683813299,"post_id":76227350,"comment_id":134426467,"body_markdown":"Problem/question is stated in &quot;Is it possible to use a Maven dependency is the above described way?&quot; i.e. is it possible to import a dependency&#39;s build configuration as well as the dependency&#39;s classes.","body":"Problem/question is stated in &quot;Is it possible to use a Maven dependency is the above described way?&quot; i.e. is it possible to import a dependency&#39;s build configuration as well as the dependency&#39;s classes."},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagi"},"score":0,"creation_date":1683813344,"post_id":76227350,"comment_id":134426478,"body_markdown":"The answer to &quot; Why have to set your packaging to pom ?&quot; is &quot;To use the build configuration from the SDK I (think I) need to package it as a `pom`&quot;","body":"The answer to &quot; Why have to set your packaging to pom ?&quot; is &quot;To use the build configuration from the SDK I (think I) need to package it as a <code>pom</code>&quot;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683823704,"post_id":76227350,"comment_id":134429217,"body_markdown":"The build configuration from the SDK ? How is that defined ? Is that part of a plugin configuration or via properties in your pom file? Do you use a java agent or alike? Generally you can define an sdk in a dependency but the question is what is needed to configure things for a native image.. than things like configuration for the native build needed which sounds like a plugin?","body":"The build configuration from the SDK ? How is that defined ? Is that part of a plugin configuration or via properties in your pom file? Do you use a java agent or alike? Generally you can define an sdk in a dependency but the question is what is needed to configure things for a native image.. than things like configuration for the native build needed which sounds like a plugin?"}],"answers":[{"comments":[{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagi"},"score":0,"creation_date":1683820820,"post_id":76229547,"comment_id":134428549,"body_markdown":"I was having a feeling that&#39;s the answer.:) Plan B for me was actually that what you mentioned, but I was trying to find a more automatic way.","body":"I was having a feeling that&#39;s the answer.:) Plan B for me was actually that what you mentioned, but I was trying to find a more automatic way."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683820691,"creation_date":1683820691,"answer_id":76229547,"question_id":76227350,"body_markdown":"You cannot mix the two aspects.\r\n\r\nTo provide a dependency, you build a JAR.\r\n\r\nTo provide build configuration, you can provide a parent POM. Beware, though, that many people already use parent POMs and you cannot have two parent POMs at the same time. So it might be better to provide an XML snippet to copy&amp;paste into the POM.","title":"Maven dependency with reusable build goals","body":"<p>You cannot mix the two aspects.</p>\n<p>To provide a dependency, you build a JAR.</p>\n<p>To provide build configuration, you can provide a parent POM. Beware, though, that many people already use parent POMs and you cannot have two parent POMs at the same time. So it might be better to provide an XML snippet to copy&amp;paste into the POM.</p>\n"}],"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684001052,"creation_date":1683805914,"question_id":76227350,"body_markdown":"I&#39;m working on a Java SDK. The project&#39;s build tool is Maven. The SDK provides classes (helpers) to write code for an API. It also provides a build configuration which makes it possible to build the application in a specific way (native image).\r\n\r\nTo use the build configuration from the SDK I (think I) need to package it as a `pom`, and then use it as a parent. However, to use all the SDK classes, I need to package it as a `jar`. \r\n\r\nIs it possible to use a Maven dependency is the above described way? Or maybe I actually need two projects, one for just the SDK, and the other one which would provide the build configuration?","title":"Maven dependency with reusable build goals","body":"<p>I'm working on a Java SDK. The project's build tool is Maven. The SDK provides classes (helpers) to write code for an API. It also provides a build configuration which makes it possible to build the application in a specific way (native image).</p>\n<p>To use the build configuration from the SDK I (think I) need to package it as a <code>pom</code>, and then use it as a parent. However, to use all the SDK classes, I need to package it as a <code>jar</code>.</p>\n<p>Is it possible to use a Maven dependency is the above described way? Or maybe I actually need two projects, one for just the SDK, and the other one which would provide the build configuration?</p>\n"},{"tags":["java","android","pjsip","pjsua2","voip-android"],"owner":{"account_id":5205521,"reputation":96,"user_id":4163601,"display_name":"Oleohi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684001010,"creation_date":1683542634,"question_id":76199790,"body_markdown":"I have a function in my VoIP dialer app that should call a service that terminates a call. So when an incoming call enters the phone via the app, there are options to decline and answer. When I click on the decline option, it seems to terminate the call from the app, but in reality the phone is still ringing from the other user&#39;s phone. Same thing also happens when i make an outgoing call via  the app, and decide to terminate. It cancels the call from the app, but still rings on the outgoing number&#39;s phone.\r\n\r\nBelow is my code\r\n\r\n```\r\ntype here\r\npublic void hangUp(View view) throws Exception {\r\n        stopRingTone();\r\n        SipServiceCommand.declineIncomingCall(this, uri, callID1);\r\n    }\r\n```\r\nThis is the declineIncomingCall method:\r\n\r\n```\r\ntype here\r\npublic static void declineIncomingCall(Context context, String accountID, int callID) {\r\n        checkAccount(accountID);\r\n        if(isAccountValid) {\r\n            Intent intent = new Intent(context, SipService.class);\r\n            intent.setAction(ACTION_DECLINE_INCOMING_CALL);\r\n            intent.putExtra(PARAM_ACCOUNT_ID, accountID);\r\n            intent.putExtra(PARAM_CALL_ID, callID);\r\n            context.startService(intent);\r\n        }\r\n    }\r\n```\r\nTHis is to stop the ringtone which is actually called in the onDestroy of the RingtonePlayingService :\r\n\r\n```\r\ntype here\r\npublic void stopRingTone() {\r\n        Intent stopIntent = new Intent(getApplicationContext(), RingTonePlayingService.class);\r\n        stopService(stopIntent);\r\n    }\r\n```\r\nBelow are sip services handling decline call:\r\n\r\n\r\n```\r\nprivate void handleDeclineIncomingCall(Intent intent) {\r\n        String accountID = intent.getStringExtra(PARAM_ACCOUNT_ID);\r\n        int callID = intent.getIntExtra(PARAM_CALL_ID, 0);\r\n\r\n        SipCall sipCall = getCall(accountID, callID);\r\n        if (sipCall != null) {\r\n            try {\r\n                sipCall.declineIncomingCall();\r\n            } catch (Exception exc) {\r\n                Logger.error(TAG, &quot;Error while declining incoming call. AccountID: &quot;\r\n                        + getValue(getApplicationContext(), accountID) + &quot;, CallID: &quot; + callID);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic void declineIncomingCall() {\r\n        CallOpParam param = new CallOpParam();\r\n        param.setStatusCode(pjsip_status_code.PJSIP_SC_DECLINE);\r\n\r\n        try {\r\n            answer(param);\r\n        } catch (Exception exc) {\r\n            Logger.error(LOG_TAG, &quot;Failed to decline incoming call&quot;, exc);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nCall to the Call.java class from our SIP library\r\n\r\n```\r\n public void hangup(CallOpParam prm) throws java.lang.Exception {\r\n    pjsua2JNI.Call_hangup(swigCPtr, this, CallOpParam.getCPtr(prm), prm);\r\n  }\r\n```\r\n\r\nDebugging with log statements show that the code runs into the correct blocks as it should, but somehow, it&#39;s not working as it should. I&#39;d appreciate any help\r\n","title":"Call termination using sip service in android not working","body":"<p>I have a function in my VoIP dialer app that should call a service that terminates a call. So when an incoming call enters the phone via the app, there are options to decline and answer. When I click on the decline option, it seems to terminate the call from the app, but in reality the phone is still ringing from the other user's phone. Same thing also happens when i make an outgoing call via  the app, and decide to terminate. It cancels the call from the app, but still rings on the outgoing number's phone.</p>\n<p>Below is my code</p>\n<pre><code>type here\npublic void hangUp(View view) throws Exception {\n        stopRingTone();\n        SipServiceCommand.declineIncomingCall(this, uri, callID1);\n    }\n</code></pre>\n<p>This is the declineIncomingCall method:</p>\n<pre><code>type here\npublic static void declineIncomingCall(Context context, String accountID, int callID) {\n        checkAccount(accountID);\n        if(isAccountValid) {\n            Intent intent = new Intent(context, SipService.class);\n            intent.setAction(ACTION_DECLINE_INCOMING_CALL);\n            intent.putExtra(PARAM_ACCOUNT_ID, accountID);\n            intent.putExtra(PARAM_CALL_ID, callID);\n            context.startService(intent);\n        }\n    }\n</code></pre>\n<p>THis is to stop the ringtone which is actually called in the onDestroy of the RingtonePlayingService :</p>\n<pre><code>type here\npublic void stopRingTone() {\n        Intent stopIntent = new Intent(getApplicationContext(), RingTonePlayingService.class);\n        stopService(stopIntent);\n    }\n</code></pre>\n<p>Below are sip services handling decline call:</p>\n<pre><code>private void handleDeclineIncomingCall(Intent intent) {\n        String accountID = intent.getStringExtra(PARAM_ACCOUNT_ID);\n        int callID = intent.getIntExtra(PARAM_CALL_ID, 0);\n\n        SipCall sipCall = getCall(accountID, callID);\n        if (sipCall != null) {\n            try {\n                sipCall.declineIncomingCall();\n            } catch (Exception exc) {\n                Logger.error(TAG, &quot;Error while declining incoming call. AccountID: &quot;\n                        + getValue(getApplicationContext(), accountID) + &quot;, CallID: &quot; + callID);\n            }\n        }\n    }\n</code></pre>\n<pre><code>public void declineIncomingCall() {\n        CallOpParam param = new CallOpParam();\n        param.setStatusCode(pjsip_status_code.PJSIP_SC_DECLINE);\n\n        try {\n            answer(param);\n        } catch (Exception exc) {\n            Logger.error(LOG_TAG, &quot;Failed to decline incoming call&quot;, exc);\n        }\n    }\n\n</code></pre>\n<p>Call to the Call.java class from our SIP library</p>\n<pre><code> public void hangup(CallOpParam prm) throws java.lang.Exception {\n    pjsua2JNI.Call_hangup(swigCPtr, this, CallOpParam.getCPtr(prm), prm);\n  }\n</code></pre>\n<p>Debugging with log statements show that the code runs into the correct blocks as it should, but somehow, it's not working as it should. I'd appreciate any help</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1365683641,"post_id":15948795,"comment_id":22726152,"body_markdown":"Would SqlQuery do? http://static.springsource.org/spring/docs/2.5.x/api/","body":"Would SqlQuery do? <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/2.5.x/api</a>"},{"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1365683681,"post_id":15948795,"comment_id":22726176,"body_markdown":"How could I use that within a repository?  Or would I not use a repo and just use that object within my service?","body":"How could I use that within a repository?  Or would I not use a repo and just use that object within my service?"},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":0,"creation_date":1365683735,"post_id":15948795,"comment_id":22726209,"body_markdown":"Do you use spring-data-jpa?","body":"Do you use spring-data-jpa?"},{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1365683744,"post_id":15948795,"comment_id":22726217,"body_markdown":"@Webnet I&#39;m a bit new to Spring myself, but it looks to me that you could use that as an object","body":"@Webnet I&#39;m a bit new to Spring myself, but it looks to me that you could use that as an object"},{"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"score":0,"creation_date":1365684097,"post_id":15948795,"comment_id":22726412,"body_markdown":"have you tried Spring JDBCTemplate ?","body":"have you tried Spring JDBCTemplate ?"}],"answers":[{"comments":[{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":22,"creation_date":1483694458,"post_id":15949012,"comment_id":70210094,"body_markdown":"@user454322, parameters start with 1, so it&#39;s: `@Query(value = &quot;SELECT * FROM USERS WHERE EMAIL_ADDRESS = ?1&quot;, nativeQuery = true)`","body":"@user454322, parameters start with 1, so it&#39;s: <code>@Query(value = &quot;SELECT * FROM USERS WHERE EMAIL_ADDRESS = ?1&quot;, nativeQuery = true)</code>"},{"owner":{"account_id":11081940,"reputation":855,"user_id":8136868,"display_name":"Reza"},"score":0,"creation_date":1595659918,"post_id":15949012,"comment_id":111556727,"body_markdown":"nativeQuery = true saved me from IllegalArgumentException","body":"nativeQuery = true saved me from IllegalArgumentException"}],"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"comment_count":2,"down_vote_count":2,"up_vote_count":161,"is_accepted":true,"score":159,"last_activity_date":1516183073,"creation_date":1365683896,"answer_id":15949012,"question_id":15948795,"body_markdown":"&gt;The @Query annotation allows to execute native queries by setting the nativeQuery flag to true.\r\n\r\nQuote from Spring Data JPA [reference docs][1].\r\n\r\nAlso, see [this section] [2] on how to do it with a named native query.\r\n\r\n[1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\r\n[2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries","title":"Is it possible to use raw SQL within a Spring Repository","body":"<blockquote>\n  <p>The @Query annotation allows to execute native queries by setting the nativeQuery flag to true.</p>\n</blockquote>\n\n<p>Quote from Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\" rel=\"noreferrer\">reference docs</a>.</p>\n\n<p>Also, see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"noreferrer\">this section</a> on how to do it with a named native query.</p>\n"},{"comments":[{"owner":{"account_id":55283,"reputation":2190,"user_id":165494,"accept_rate":97,"display_name":"Mass Dot Net"},"score":0,"creation_date":1649039553,"post_id":37212043,"comment_id":126767082,"body_markdown":"The most recent commit to the Spring Data JDBC repository was in 2016.","body":"The most recent commit to the Spring Data JDBC repository was in 2016."},{"owner":{"account_id":1099263,"reputation":6000,"user_id":1092077,"display_name":"S&#233;bastien Deleuze"},"score":1,"creation_date":1649135623,"post_id":37212043,"comment_id":126792552,"body_markdown":"Good catch, I have updated the recommandation to use https://spring.io/projects/spring-data-jdbc instead which is fully supported by Spring.","body":"Good catch, I have updated the recommandation to use <a href=\"https://spring.io/projects/spring-data-jdbc\" rel=\"nofollow noreferrer\">spring.io/projects/spring-data-jdbc</a> instead which is fully supported by Spring."},{"owner":{"account_id":55283,"reputation":2190,"user_id":165494,"accept_rate":97,"display_name":"Mass Dot Net"},"score":0,"creation_date":1651521990,"post_id":37212043,"comment_id":127380035,"body_markdown":"Another item to consider for your list (that I just happened across): [JDBI](http://jdbi.org).  Not an ORM, but a layer sitting on top of JDBC that lets you write queries a bit more tersely, plus quality-of-life features like SQL injection protection when adding parameters.","body":"Another item to consider for your list (that I just happened across): <a href=\"http://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a>.  Not an ORM, but a layer sitting on top of JDBC that lets you write queries a bit more tersely, plus quality-of-life features like SQL injection protection when adding parameters."}],"tags":[],"owner":{"account_id":1099263,"reputation":6000,"user_id":1092077,"display_name":"S&#233;bastien Deleuze"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1649135571,"creation_date":1463148104,"answer_id":37212043,"question_id":15948795,"body_markdown":"It is also possible to use [Spring Data JDBC][1], which is a fully supported Spring project built on top of Spring Data Commons to access to databases with raw SQL, without using JPA.\r\n\r\nIt is less powerful than Spring Data JPA, but if you want lightweight solution for simple projects without using a an ORM like Hibernate, that a solution worth to try.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-data-jdbc","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>It is also possible to use <a href=\"https://spring.io/projects/spring-data-jdbc\" rel=\"nofollow noreferrer\">Spring Data JDBC</a>, which is a fully supported Spring project built on top of Spring Data Commons to access to databases with raw SQL, without using JPA.</p>\n<p>It is less powerful than Spring Data JPA, but if you want lightweight solution for simple projects without using a an ORM like Hibernate, that a solution worth to try.</p>\n"},{"comments":[{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":29,"creation_date":1561501960,"post_id":48298373,"comment_id":100082747,"body_markdown":"Would be useful/complete if you also showed how to create the `em` variable.","body":"Would be useful/complete if you also showed how to create the <code>em</code> variable."},{"owner":{"account_id":10507474,"reputation":341,"user_id":7744193,"accept_rate":67,"display_name":"Yasitha Bandara"},"score":2,"creation_date":1616333341,"post_id":48298373,"comment_id":117963437,"body_markdown":"em is &quot;javax.persistence.EntityManager&quot; .in my case I just @Autowired it.","body":"em is &quot;javax.persistence.EntityManager&quot; .in my case I just @Autowired it."},{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":2,"creation_date":1616389854,"post_id":48298373,"comment_id":117977113,"body_markdown":"Yes. EntityManager  class","body":"Yes. EntityManager  class"}],"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1619781813,"creation_date":1516183506,"answer_id":48298373,"question_id":15948795,"body_markdown":"we can use createNativeQuery(&quot;Here Native SQL Query &quot;);\r\n\r\nfor Example :\r\n\r\n    Query q = em.createNativeQuery(&quot;SELECT a.firstname, a.lastname FROM Author a&quot;);\r\n    List&lt;Object[]&gt; authors = q.getResultList();","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>we can use createNativeQuery(&quot;Here Native SQL Query &quot;);</p>\n<p>for Example :</p>\n<pre><code>Query q = em.createNativeQuery(&quot;SELECT a.firstname, a.lastname FROM Author a&quot;);\nList&lt;Object[]&gt; authors = q.getResultList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10782155,"reputation":84,"user_id":7932348,"display_name":"Tim Perry"},"score":0,"creation_date":1694147533,"post_id":50365522,"comment_id":135855807,"body_markdown":"Thank you for your clear explanation in option #2. It is a little non-obvious how rollNo would be set on UserObject. I assume you&#39;d need to call the setter directly. This didn&#39;t hold me up in any way shape or form, but might make a slightly more clear answer. Regardless, thank you very much for this.","body":"Thank you for your clear explanation in option #2. It is a little non-obvious how rollNo would be set on UserObject. I assume you&#39;d need to call the setter directly. This didn&#39;t hold me up in any way shape or form, but might make a slightly more clear answer. Regardless, thank you very much for this."}],"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"comment_count":1,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1684000770,"creation_date":1526458137,"answer_id":50365522,"question_id":15948795,"body_markdown":"\r\n**1. By CrudRepository (Projection)**\r\n\r\n&gt;Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons. \r\n[Source](https://docs.spring.io/spring-data/data-jpa/docs/2.0.0.M1/reference/html/#projections)\r\n\r\nSuppose your entity is like this :\r\n\r\n        import javax.persistence.*;\r\n        import java.math.BigDecimal;\r\n        \r\n        @Entity\r\n        @Table(name = &quot;USER_INFO_TEST&quot;)\r\n        public class UserInfoTest {\r\n            private int id;\r\n            private String name;\r\n            private String rollNo;\r\n        \r\n            public UserInfoTest() {\r\n            }\r\n    \r\n            public UserInfoTest(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n            }\r\n         \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;ID&quot;, nullable = false, precision = 0)\r\n            public int getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            @Basic\r\n            @Column(name = &quot;name&quot;, nullable = true)\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n        \r\n            @Basic\r\n            @Column(name = &quot;roll_no&quot;, nullable = true)\r\n            public String getRollNo() {\r\n                return rollNo;\r\n            }\r\n        \r\n            public void setRollNo(String rollNo) {\r\n                this.rollNo = rollNo;\r\n            }\r\n        }\r\n\r\nNow your Projection class is like below. It can those fields that you needed.\r\n\r\n    public interface IUserProjection {\r\n         int getId();\r\n         String getName();\r\n         String getRollNo();\r\n    }\r\n\r\nAnd `Your Data Access Object(Dao) is like bellow` :\r\n\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public interface UserInfoTestDao extends CrudRepository&lt;UserInfoTest,Integer&gt; {\r\n        @Query(value = &quot;select id,name,roll_no from USER_INFO_TEST where rollNo = ?1&quot;, nativeQuery = true)\r\n        ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo);\r\n    }\r\n\r\nNow `ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo)` will give you the list of user.\r\n\r\n**2. Using EntityManager** \r\n\r\nSuppose your query is &quot;***select id,name from users where roll_no = 1001***&quot;. \r\n\r\nHere query will return an object with id and name column. Your Response class is like bellow:\r\n\r\n\r\nYour Response class is like this:\r\n\r\n    public class UserObject{\r\n            int id;\r\n            String name;\r\n            String rollNo;\r\n    \r\n            public UserObject(Object[] columns) {\r\n                this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\r\n                this.name = (String) columns[1];\r\n            }\r\n    \r\n            public int getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getRollNo() {\r\n                return rollNo;\r\n            }\r\n    \r\n            public void setRollNo(String rollNo) {\r\n                this.rollNo = rollNo;\r\n            }\r\n        }\r\n\r\nhere UserObject constructor will get an Object Array and set data with the object.\r\n\r\n    public UserObject(Object[] columns) {\r\n                this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\r\n                this.name = (String) columns[1];\r\n            }\r\n\r\nYour query executing function is like bellow :\r\n\r\n    public UserObject getUserByRoll(EntityManager entityManager,String rollNo) {\r\n    \r\n            String queryStr = &quot;select id,name from users where roll_no = ?1&quot;;\r\n            try {\r\n                Query query = entityManager.createNativeQuery(queryStr);\r\n                query.setParameter(1, rollNo);\r\n    \r\n                return new UserObject((Object[]) query.getSingleResult());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\nHere you have to import bellow packages:\r\n\r\n    import javax.persistence.Query;\r\n    import javax.persistence.EntityManager;\r\n\r\n\r\nNow your main class, you have to call this function. First get EntityManager and call this `getUserByRoll(EntityManager entityManager,String rollNo)` function. The calling procedure is given below:\r\n\r\n**Here is the Imports** \r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n\r\nget `EntityManager` from this way:\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    \r\n    UserObject userObject = getUserByRoll(entityManager,&quot;1001&quot;);\r\n\r\nNow you have data in this userObject.\r\n\r\n**Note:**\r\n\r\n**query.getSingleResult()** return a object array. You have to maintain the column position and data type with the query column position.\r\n\r\n    select id,name from users where roll_no = 1001 \r\nquery return a array and it&#39;s `[0] --&gt; id and [1] -&gt; name`.\r\n\r\nMore info visit this [thread][1] and [this Thread][1]\r\n\r\nThanks :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50367467/3073945","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p><strong>1. By CrudRepository (Projection)</strong></p>\n<blockquote>\n<p>Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons.\n<a href=\"https://docs.spring.io/spring-data/data-jpa/docs/2.0.0.M1/reference/html/#projections\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n<p>Suppose your entity is like this :</p>\n<pre><code>    import javax.persistence.*;\n    import java.math.BigDecimal;\n    \n    @Entity\n    @Table(name = &quot;USER_INFO_TEST&quot;)\n    public class UserInfoTest {\n        private int id;\n        private String name;\n        private String rollNo;\n    \n        public UserInfoTest() {\n        }\n\n        public UserInfoTest(int id, String name) {\n        this.id = id;\n        this.name = name;\n        }\n     \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;ID&quot;, nullable = false, precision = 0)\n        public int getId() {\n            return id;\n        }\n    \n        public void setId(int id) {\n            this.id = id;\n        }\n    \n        @Basic\n        @Column(name = &quot;name&quot;, nullable = true)\n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        @Basic\n        @Column(name = &quot;roll_no&quot;, nullable = true)\n        public String getRollNo() {\n            return rollNo;\n        }\n    \n        public void setRollNo(String rollNo) {\n            this.rollNo = rollNo;\n        }\n    }\n</code></pre>\n<p>Now your Projection class is like below. It can those fields that you needed.</p>\n<pre><code>public interface IUserProjection {\n     int getId();\n     String getName();\n     String getRollNo();\n}\n</code></pre>\n<p>And <code>Your Data Access Object(Dao) is like bellow</code> :</p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.ArrayList;\n\npublic interface UserInfoTestDao extends CrudRepository&lt;UserInfoTest,Integer&gt; {\n    @Query(value = &quot;select id,name,roll_no from USER_INFO_TEST where rollNo = ?1&quot;, nativeQuery = true)\n    ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo);\n}\n</code></pre>\n<p>Now <code>ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo)</code> will give you the list of user.</p>\n<p><strong>2. Using EntityManager</strong></p>\n<p>Suppose your query is &quot;<em><strong>select id,name from users where roll_no = 1001</strong></em>&quot;.</p>\n<p>Here query will return an object with id and name column. Your Response class is like bellow:</p>\n<p>Your Response class is like this:</p>\n<pre><code>public class UserObject{\n        int id;\n        String name;\n        String rollNo;\n\n        public UserObject(Object[] columns) {\n            this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\n            this.name = (String) columns[1];\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getRollNo() {\n            return rollNo;\n        }\n\n        public void setRollNo(String rollNo) {\n            this.rollNo = rollNo;\n        }\n    }\n</code></pre>\n<p>here UserObject constructor will get an Object Array and set data with the object.</p>\n<pre><code>public UserObject(Object[] columns) {\n            this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\n            this.name = (String) columns[1];\n        }\n</code></pre>\n<p>Your query executing function is like bellow :</p>\n<pre><code>public UserObject getUserByRoll(EntityManager entityManager,String rollNo) {\n\n        String queryStr = &quot;select id,name from users where roll_no = ?1&quot;;\n        try {\n            Query query = entityManager.createNativeQuery(queryStr);\n            query.setParameter(1, rollNo);\n\n            return new UserObject((Object[]) query.getSingleResult());\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n<p>Here you have to import bellow packages:</p>\n<pre><code>import javax.persistence.Query;\nimport javax.persistence.EntityManager;\n</code></pre>\n<p>Now your main class, you have to call this function. First get EntityManager and call this <code>getUserByRoll(EntityManager entityManager,String rollNo)</code> function. The calling procedure is given below:</p>\n<p><strong>Here is the Imports</strong></p>\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n</code></pre>\n<p>get <code>EntityManager</code> from this way:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;\n\nUserObject userObject = getUserByRoll(entityManager,&quot;1001&quot;);\n</code></pre>\n<p>Now you have data in this userObject.</p>\n<p><strong>Note:</strong></p>\n<p><strong>query.getSingleResult()</strong> return a object array. You have to maintain the column position and data type with the query column position.</p>\n<pre><code>select id,name from users where roll_no = 1001 \n</code></pre>\n<p>query return a array and it's <code>[0] --&gt; id and [1] -&gt; name</code>.</p>\n<p>More info visit this <a href=\"https://stackoverflow.com/a/50367467/3073945\">thread</a> and <a href=\"https://stackoverflow.com/a/50367467/3073945\">this Thread</a></p>\n<p>Thanks :)</p>\n"},{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561110306,"creation_date":1561110306,"answer_id":56700881,"question_id":15948795,"body_markdown":"It is possible to use raw query within a Spring Repository. \r\n\r\n\r\n          @Query(value = &quot;SELECT A.IS_MUTUAL_AID FROM planex AS A \r\n                 INNER JOIN planex_rel AS B ON A.PLANEX_ID=B.PLANEX_ID  \r\n\t\t\t     WHERE B.GOOD_ID = :goodId&quot;,nativeQuery = true)\r\n\t\r\n          Boolean mutualAidFlag(@Param(&quot;goodId&quot;)Integer goodId);","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>It is possible to use raw query within a Spring Repository. </p>\n\n<pre><code>      @Query(value = \"SELECT A.IS_MUTUAL_AID FROM planex AS A \n             INNER JOIN planex_rel AS B ON A.PLANEX_ID=B.PLANEX_ID  \n             WHERE B.GOOD_ID = :goodId\",nativeQuery = true)\n\n      Boolean mutualAidFlag(@Param(\"goodId\")Integer goodId);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15169440,"reputation":220,"user_id":10945984,"display_name":"Phaki"},"score":1,"creation_date":1641481328,"post_id":66962124,"comment_id":124819136,"body_markdown":"This is an easy solution, worked for me! Wondering if it has some disadvantages because here we do not use Service and Repository layers.","body":"This is an easy solution, worked for me! Wondering if it has some disadvantages because here we do not use Service and Repository layers."}],"tags":[],"owner":{"account_id":1769262,"reputation":5848,"user_id":1614428,"accept_rate":22,"display_name":"VK321"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652277493,"creation_date":1617677549,"answer_id":66962124,"question_id":15948795,"body_markdown":"This is how you can use in simple form\r\n\r\n\r\n    @RestController\r\n    public class PlaceAPIController {\r\n\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n\r\n        @RequestMapping(value = &quot;/api/places&quot;, method = RequestMethod.GET)\r\n        public List&lt;Place&gt; getPlaces() {\r\n            List&lt;Place&gt; results = entityManager.createNativeQuery(&quot;SELECT *  FROM places p limit 10&quot;).getResultList();\r\n            return results;\r\n        }\r\n    }","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>This is how you can use in simple form</p>\n<pre><code>@RestController\npublic class PlaceAPIController {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @RequestMapping(value = &quot;/api/places&quot;, method = RequestMethod.GET)\n    public List&lt;Place&gt; getPlaces() {\n        List&lt;Place&gt; results = entityManager.createNativeQuery(&quot;SELECT *  FROM places p limit 10&quot;).getResultList();\n        return results;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":67541,"reputation":60868,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269909,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"accepted_answer_id":15949012,"answer_count":6,"score":145,"last_activity_date":1684000770,"creation_date":1365683289,"question_id":15948795,"body_markdown":"I need to use raw SQL within a Spring Data Repository, is this possible?  Everything I see around `@Query` is always entity based.","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>I need to use raw SQL within a Spring Data Repository, is this possible?  Everything I see around <code>@Query</code> is always entity based.</p>\n"},{"tags":["java","lint","suppress-warnings","try-with-resources"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1664223397,"post_id":73859462,"comment_id":130417970,"body_markdown":"Don&#39;t you need `indention` inside the `try` to find out the current level to calculate the next one?","body":"Don&#39;t you need <code>indention</code> inside the <code>try</code> to find out the current level to calculate the next one?"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664223750,"post_id":73859462,"comment_id":130418053,"body_markdown":"You can try `@SuppressWarnings(&quot;try&quot;)`","body":"You can try <code>@SuppressWarnings(&quot;try&quot;)</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664242067,"post_id":73859462,"comment_id":130421239,"body_markdown":"&quot;Don&#39;t you need indention inside the try to find out the current level to calculate the next one?&quot; @Mihe, no, these are internal state variables inside the serializer class itself. The serializer is not thread-safe; it keeps track of its current state. I don&#39;t want to pass all the different state variables around to the methods.","body":"&quot;Don&#39;t you need indention inside the try to find out the current level to calculate the next one?&quot; @Mihe, no, these are internal state variables inside the serializer class itself. The serializer is not thread-safe; it keeps track of its current state. I don&#39;t want to pass all the different state variables around to the methods."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664243221,"post_id":73859462,"comment_id":130421415,"body_markdown":"@Mihe, unfortunately Eclipse claims it doesn&#39;t support `@SuppressWarnings(&quot;try&quot;)`, although that `-Xlint` option is listed in the [javac docs](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html). (Sorry, my other comment was in reply to @cyberbrain.)","body":"@Mihe, unfortunately Eclipse claims it doesn&#39;t support <code>@SuppressWarnings(&quot;try&quot;)</code>, although that <code>-Xlint</code> option is listed in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">javac docs</a>. (Sorry, my other comment was in reply to @cyberbrain.)"}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1664242331,"post_id":73859746,"comment_id":130421292,"body_markdown":"I think the gist of my question was how I could get rid of these warnings without abandoning this try-with-resources technique, but I appreciate your valid suggestion of delegating some operation function to some `withIndent()` code which will supply the `try`/`finally` boilerplate. On the other than, that merely pushes the `try`/`finally` boilerplate down a level, although it does consolidate it.","body":"I think the gist of my question was how I could get rid of these warnings without abandoning this try-with-resources technique, but I appreciate your valid suggestion of delegating some operation function to some <code>withIndent()</code> code which will supply the <code>try</code>/<code>finally</code> boilerplate. On the other than, that merely pushes the <code>try</code>/<code>finally</code> boilerplate down a level, although it does consolidate it."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664224934,"creation_date":1664224934,"answer_id":73859746,"question_id":73859462,"body_markdown":"I&#39;d write something like this to avoid mutability. Without seeing more of your use case it&#39;s hard to know what to suggest:\r\n```java\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Indenter {\r\n    private final int indentLevel;\r\n\r\n    public Indenter(int indentLevel) {\r\n        this.indentLevel = indentLevel;\r\n    }\r\n\r\n    public void withIndent(Consumer&lt;Indenter&gt; f) {\r\n        f.accept(new Indenter(indentLevel + 1));\r\n    }\r\n\r\n    public void indent(String s) {\r\n        // must be a neater way to do this?\r\n        System.out.println(IntStream.range(0, indentLevel).mapToObj(i -&gt; &quot; &quot;).collect(Collectors.joining()) + s);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Indenter i = new Indenter(0);\r\n        i.indent(&quot;x&quot;);\r\n        i.withIndent(i2 -&gt; {\r\n            i2.indent(&quot;y&quot;);\r\n        });\r\n    }\r\n}\r\n```","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>I'd write something like this to avoid mutability. Without seeing more of your use case it's hard to know what to suggest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Consumer;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class Indenter {\n    private final int indentLevel;\n\n    public Indenter(int indentLevel) {\n        this.indentLevel = indentLevel;\n    }\n\n    public void withIndent(Consumer&lt;Indenter&gt; f) {\n        f.accept(new Indenter(indentLevel + 1));\n    }\n\n    public void indent(String s) {\n        // must be a neater way to do this?\n        System.out.println(IntStream.range(0, indentLevel).mapToObj(i -&gt; &quot; &quot;).collect(Collectors.joining()) + s);\n    }\n\n    public static void main(String[] args) {\n        Indenter i = new Indenter(0);\n        i.indent(&quot;x&quot;);\n        i.withIndent(i2 -&gt; {\n            i2.indent(&quot;y&quot;);\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664246543,"post_id":73861648,"comment_id":130421850,"body_markdown":"Doing it with an annotation would be better.  You only want to suppress the warning in the specific cases where you are using your clever pattern ... not everywhere.   Of course, the other solution is to stop trying to be clever :-)","body":"Doing it with an annotation would be better.  You only want to suppress the warning in the specific cases where you are using your clever pattern ... not everywhere.   Of course, the other solution is to stop trying to be clever :-)"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1664246747,"post_id":73861648,"comment_id":130421875,"body_markdown":"&quot;Doing it with an annotation would be better.&quot; Except that this pattern occurs several places in two files, and putting this annotation everywhere I use the pattern defeats part of its very purpose (conciseness). Additionally, Eclipse doesn&#39;t seem to like it, so ironically I get inline warnings because of the `@SuppressWarning(&quot;try&quot;)`. &quot;Of course, the other solution is to stop trying to be clever &quot; I have considered that in other contexts. &#128517; But where is the joy in programming if I can&#39;t create something elegant?","body":"&quot;Doing it with an annotation would be better.&quot; Except that this pattern occurs several places in two files, and putting this annotation everywhere I use the pattern defeats part of its very purpose (conciseness). Additionally, Eclipse doesn&#39;t seem to like it, so ironically I get inline warnings because of the <code>@SuppressWarning(&quot;try&quot;)</code>. &quot;Of course, the other solution is to stop trying to be clever &quot; I have considered that in other contexts.  But where is the joy in programming if I can&#39;t create something elegant?"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1680315304,"post_id":73861648,"comment_id":133882520,"body_markdown":"The API we use &quot;to get something done&quot; is not necessarily the same reference as the resource we opened. Ex. `try (var conn = client.openPersistentConn()) { client.send(req1); client.send(req2); }`. The existence of a resource may be its only purpose. Ex. `try (var lock = acquireJvmReadLock(path); var ch = FileChannel.open(path)) { ch.read(...); }`. Elegant (seriously, the compiler warning has no relevance to the motive of try-with-resources, and may even be misguiding?)","body":"The API we use &quot;to get something done&quot; is not necessarily the same reference as the resource we opened. Ex. <code>try (var conn = client.openPersistentConn()) { client.send(req1); client.send(req2); }</code>. The existence of a resource may be its only purpose. Ex. <code>try (var lock = acquireJvmReadLock(path); var ch = FileChannel.open(path)) { ch.read(...); }</code>. Elegant (seriously, the compiler warning has no relevance to the motive of try-with-resources, and may even be misguiding?)"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1680316187,"post_id":73861648,"comment_id":133882582,"body_markdown":"Erm, I understand that the method &quot;acquireJvmReadLock&quot; may be a confusing example. The [`FileLock`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileLock.html) from [`FileChannel.tryLock`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileChannel.html#tryLock()) can not be shared within the same JVM; only useful for inter-process co-ordination. So, within the JVM one would have to use a Lock of some kind (the example used a custom implementation that imposes structure).","body":"Erm, I understand that the method &quot;acquireJvmReadLock&quot; may be a confusing example. The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileLock.html\" rel=\"nofollow noreferrer\"><code>FileLock</code></a> from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/channels/FileChannel.html#tryLock()\" rel=\"nofollow noreferrer\"><code>FileChannel.tryLock</code></a> can not be shared within the same JVM; only useful for inter-process co-ordination. So, within the JVM one would have to use a Lock of some kind (the example used a custom implementation that imposes structure)."}],"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664244296,"creation_date":1664244296,"answer_id":73861648,"question_id":73859462,"body_markdown":"Taking a cue from @Mihe&#39;s comment to the question, one workaround is [disable the `try` linting](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html) in the compiler itself, like this in Maven:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;compilerArgs&gt;\r\n      &lt;!-- suppress warnings for try-with-resources in\r\n          serializer indentation encpsulation --&gt;\r\n      &lt;arg&gt;-Xlint:all,-try&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI still find that a little heavy-handed. I&#39;m considered refactoring the code to use @tgdavies&#39; functional approach, but I still haven&#39;t made a decision. I thought I&#39;d provide this solution for completeness.","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>Taking a cue from @Mihe's comment to the question, one workaround is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">disable the <code>try</code> linting</a> in the compiler itself, like this in Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;compilerArgs&gt;\n      &lt;!-- suppress warnings for try-with-resources in\n          serializer indentation encpsulation --&gt;\n      &lt;arg&gt;-Xlint:all,-try&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I still find that a little heavy-handed. I'm considered refactoring the code to use @tgdavies' functional approach, but I still haven't made a decision. I thought I'd provide this solution for completeness.</p>\n"},{"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684000273,"creation_date":1684000273,"answer_id":76244166,"question_id":73859462,"body_markdown":"What I end up doing is adding an extra (noop) helper method in my Close utilities.\r\n\r\n\r\n```\r\ntry (final Closeable indention = increaseIndentLevel()) {\r\n    Close.suppressUnused(indentation);\r\n\r\n    serializeChildren()\r\n}\r\n```\r\n\r\nAnother alternative is to add to a close collector:\r\n\r\n```\r\ntry (final CloseLine close = new CloseLine()) {\r\n    close.with(increaseIdentation());\r\n\r\n    serializeChildren()\r\n}\r\n```\r\n\r\nI prefer the first. Both add two lines, one of which is empty. The first is vastly simpler in both implementation and readability, and it gets optimized away.","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>What I end up doing is adding an extra (noop) helper method in my Close utilities.</p>\n<pre><code>try (final Closeable indention = increaseIndentLevel()) {\n    Close.suppressUnused(indentation);\n\n    serializeChildren()\n}\n</code></pre>\n<p>Another alternative is to add to a close collector:</p>\n<pre><code>try (final CloseLine close = new CloseLine()) {\n    close.with(increaseIdentation());\n\n    serializeChildren()\n}\n</code></pre>\n<p>I prefer the first. Both add two lines, one of which is empty. The first is vastly simpler in both implementation and readability, and it gets optimized away.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684000273,"creation_date":1664223077,"question_id":73859462,"body_markdown":"In Java 17 I have a serializer that generates a tree structure. Before generating child entities, I increase the indention level; afterwards I decrease the indention level. Normally that should be done in a `try`/`finally` to keep the serializer from being left in a corrupt state if there is an error:\r\n\r\n```java\r\nincreaseIndentLevel();\r\ntry {\r\n  serializeChildren()\r\n} finally {\r\n  decreaseIndentLevel()\r\n}\r\n```\r\n\r\nUsing try-with-resources I have created a clever and elegant little subframework that makes sure this is done, in a more fluent way:\r\n\r\n```java\r\nprotected Closeable increaseIndentLevel() {\r\n  indentLevel++;\r\n  return Close.by(this::decreaseIndentLevel);\r\n}\r\n```\r\n\r\n`Close.by()` is my helper class that creates a `Closeable` that will decrease the indent level just like I do above; I can use it like this:\r\n\r\n```java\r\ntry (final Closeable indention = increaseIndentLevel()) {\r\n  serializeChildren()\r\n}\r\n```\r\n\r\nUnfortunately OpenJDK javac 17 with linting turned on doesn&#39;t recognize my cleverness, and instead complains:\r\n\r\n&gt; [WARNING] `auto-closeable resource indention is never referenced in body of corresponding try statement`\r\n\r\nI understand that try-with-resources requires that I declare some variable. I can&#39;t say `try (increaseIndentLevel())` for example. (I also can guess the reason: the creators of this feature didn&#39;t generalize enough and instead created unnecessarily restrictive rules for the obvious, 99% use case. In reality there is no need conceptually to require a variable here; if the body needs to reference something, the compiler is smart enough to notice that the referenced variable is not present.)\r\n\r\nAny idea how to get around this warning?\r\n\r\nAs a last resort, what identifier do I use with `@SuppressWarnings()` to make this warning go away in javac? (I had to supress the warning, because it turns such a pretty solution into something so ugly.)","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>In Java 17 I have a serializer that generates a tree structure. Before generating child entities, I increase the indention level; afterwards I decrease the indention level. Normally that should be done in a <code>try</code>/<code>finally</code> to keep the serializer from being left in a corrupt state if there is an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>increaseIndentLevel();\ntry {\n  serializeChildren()\n} finally {\n  decreaseIndentLevel()\n}\n</code></pre>\n<p>Using try-with-resources I have created a clever and elegant little subframework that makes sure this is done, in a more fluent way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Closeable increaseIndentLevel() {\n  indentLevel++;\n  return Close.by(this::decreaseIndentLevel);\n}\n</code></pre>\n<p><code>Close.by()</code> is my helper class that creates a <code>Closeable</code> that will decrease the indent level just like I do above; I can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final Closeable indention = increaseIndentLevel()) {\n  serializeChildren()\n}\n</code></pre>\n<p>Unfortunately OpenJDK javac 17 with linting turned on doesn't recognize my cleverness, and instead complains:</p>\n<blockquote>\n<p>[WARNING] <code>auto-closeable resource indention is never referenced in body of corresponding try statement</code></p>\n</blockquote>\n<p>I understand that try-with-resources requires that I declare some variable. I can't say <code>try (increaseIndentLevel())</code> for example. (I also can guess the reason: the creators of this feature didn't generalize enough and instead created unnecessarily restrictive rules for the obvious, 99% use case. In reality there is no need conceptually to require a variable here; if the body needs to reference something, the compiler is smart enough to notice that the referenced variable is not present.)</p>\n<p>Any idea how to get around this warning?</p>\n<p>As a last resort, what identifier do I use with <code>@SuppressWarnings()</code> to make this warning go away in javac? (I had to supress the warning, because it turns such a pretty solution into something so ugly.)</p>\n"},{"tags":["java","intellij-idea","java.util.scanner","user-input"],"answers":[{"comments":[{"owner":{"account_id":18268566,"reputation":1,"user_id":13299762,"display_name":"Dhaval"},"score":0,"creation_date":1681631691,"post_id":76026487,"comment_id":134085208,"body_markdown":"Thank you sir for your prompt response but  sir I am still facing the same issue.\nOn console when I hit &quot;Enter&quot; It say that &quot;This view is read only&quot;.","body":"Thank you sir for your prompt response but  sir I am still facing the same issue. On console when I hit &quot;Enter&quot; It say that &quot;This view is read only&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681631983,"post_id":76026487,"comment_id":134085249,"body_markdown":"@Dhaval Then you have other issues not disclosed here. Follow the link to Ideone.com. I copy-pasted your code, unchanged. Works perfectly well.","body":"@Dhaval Then you have other issues not disclosed here. Follow the link to Ideone.com. I copy-pasted your code, unchanged. Works perfectly well."},{"owner":{"account_id":18268566,"reputation":1,"user_id":13299762,"display_name":"Dhaval"},"score":0,"creation_date":1681632522,"post_id":76026487,"comment_id":134085302,"body_markdown":"Yes. I have checked it. No worries. I will try to find the answer will add here. Thanks a lot sir.","body":"Yes. I have checked it. No worries. I will try to find the answer will add here. Thanks a lot sir."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681632761,"creation_date":1681630860,"answer_id":76026487,"question_id":76026439,"body_markdown":"Delete this line:\r\n\r\n&gt;`sc.close();`\r\n\r\nDo not close a `Scanner` based on `System.in`. You are terminating your access to the console. That access cannot be restored. \r\n\r\nOtherwise, your code is good. See your [code run at Ideone.com][1]. \r\n\r\n\r\n  [1]: https://ideone.com/Yvj1Un","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>Delete this line:</p>\n<blockquote>\n<p><code>sc.close();</code></p>\n</blockquote>\n<p>Do not close a <code>Scanner</code> based on <code>System.in</code>. You are terminating your access to the console. That access cannot be restored.</p>\n<p>Otherwise, your code is good. See your <a href=\"https://ideone.com/Yvj1Un\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681695491,"creation_date":1681650162,"answer_id":76027922,"question_id":76026439,"body_markdown":"first, open IDE (`help -&gt; edit custom VM options`),\r\n\r\nthen input next code `-Deditable.java.test.console=true` and `restart IDE`.\r\n\r\nfor example:\r\n\r\n[![enter image description here][1]][1]\r\n[![example][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUbyM.png\r\n  [2]: https://i.stack.imgur.com/IAwE6.png","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>first, open IDE (<code>help -&gt; edit custom VM options</code>),</p>\n<p>then input next code <code>-Deditable.java.test.console=true</code> and <code>restart IDE</code>.</p>\n<p>for example:</p>\n<p><a href=\"https://i.stack.imgur.com/sUbyM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUbyM.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/IAwE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAwE6.png\" alt=\"example\" /></a></p>\n"}],"owner":{"account_id":18268566,"reputation":1,"user_id":13299762,"display_name":"Dhaval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684000244,"creation_date":1681630189,"question_id":76026439,"body_markdown":"Issue: Using scanner class I am not able to write text on console using IntelliJ IDE.\r\nOutput: My program keeps running and I need terminate it manually.\r\n\r\nProject Structure: Maven \r\nAdditional Info: Using TetNG\r\n\r\nBelow file is created under SRC folder.\r\nBasicPrograms.Java\r\n```\r\npublic class BasicPrograms { \r\npublic void takeInpFrmUser() {\r\n\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the number&quot;);\r\n        int num = sc.nextInt();\r\n        System.out.println(&quot;User has entered= &quot; + num);\r\n        sc.close();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nBelow file is created under TEST folder.\r\nUserInput.Java\r\n```\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class UserInput {\r\n    BasicPrograms basicObj;\r\n\r\n    @BeforeClass\r\n    public void createObj() {\r\n        basicObj = new BasicPrograms();\r\n    }\r\n\r\n    @Test\r\n    public void verifyUserInput() {\r\n        basicObj.takeInpFrmUser();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am a beginner any trying to learn java by myself. Any help would be highly appreciated. Thank you so much :)\r\n\r\n\r\nWhat I have tried: Referred java doc \r\n```\r\n https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n```\r\n\r\nWhat I expected: I should be able to write the integer text on console.\r\nBut my program keeps running and I need to terminate it manually. \r\n\r\nPlease refer the below image of output.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EE5bx.png","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>Issue: Using scanner class I am not able to write text on console using IntelliJ IDE.\nOutput: My program keeps running and I need terminate it manually.</p>\n<p>Project Structure: Maven\nAdditional Info: Using TetNG</p>\n<p>Below file is created under SRC folder.\nBasicPrograms.Java</p>\n<pre><code>public class BasicPrograms { \npublic void takeInpFrmUser() {\n\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number&quot;);\n        int num = sc.nextInt();\n        System.out.println(&quot;User has entered= &quot; + num);\n        sc.close();\n\n\n    }\n}\n</code></pre>\n<p>Below file is created under TEST folder.\nUserInput.Java</p>\n<pre><code>import org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\n\npublic class UserInput {\n    BasicPrograms basicObj;\n\n    @BeforeClass\n    public void createObj() {\n        basicObj = new BasicPrograms();\n    }\n\n    @Test\n    public void verifyUserInput() {\n        basicObj.takeInpFrmUser();\n    }\n\n}\n</code></pre>\n<p>I am a beginner any trying to learn java by myself. Any help would be highly appreciated. Thank you so much :)</p>\n<p>What I have tried: Referred java doc</p>\n<pre><code> https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\n</code></pre>\n<p>What I expected: I should be able to write the integer text on console.\nBut my program keeps running and I need to terminate it manually.</p>\n<p>Please refer the below image of output.</p>\n<p><a href=\"https://i.stack.imgur.com/EE5bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE5bx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522424408,"post_id":49572291,"comment_id":86162134,"body_markdown":"Do you mean you just now installed the keycloak and run it while it&#39;s not integrated with we b application ? If you will see too many things avaiable over internet and keycloak documentation how to integrated keycloak with web application","body":"Do you mean you just now installed the keycloak and run it while it&#39;s not integrated with we b application ? If you will see too many things avaiable over internet and keycloak documentation how to integrated keycloak with web application"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522425158,"post_id":49572291,"comment_id":86162438,"body_markdown":"@SubodhJoshi i don&#39;t want to integrate the keycloak with web application. I was to pass the user/client under relam and get the token and pass this token to some other api where again i&#39;ll validate this token","body":"@SubodhJoshi i don&#39;t want to integrate the keycloak with web application. I was to pass the user/client under relam and get the token and pass this token to some other api where again i&#39;ll validate this token"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522425542,"post_id":49572291,"comment_id":86162642,"body_markdown":"With ui it may not possible use the keycloak rest api or admin-cli .","body":"With ui it may not possible use the keycloak rest api or admin-cli ."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522425644,"post_id":49572291,"comment_id":86162700,"body_markdown":"@SubodhJoshi i have updated my question with what i achieved till now can you help me out .","body":"@SubodhJoshi i have updated my question with what i achieved till now can you help me out ."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522426285,"post_id":49572291,"comment_id":86162953,"body_markdown":"I think this will help you.\n\nhave got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authrisation header in Postman,  \nhave got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authorization header in Postman, http://stackoverflow.com/questions/24709944/jwt-token-in-postman-header \n\nI found this see if it will help you otherwise I can write proper answer morning only right now I am using my mobile for coment.","body":"I think this will help you.  have got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authrisation header in Postman,   have got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authorization header in Postman, <a href=\"http://stackoverflow.com/questions/24709944/jwt-token-in-postman-header\" title=\"jwt token in postman header\">stackoverflow.com/questions/24709944/&hellip;</a>   I found this see if it will help you otherwise I can write proper answer morning only right now I am using my mobile for coment."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522426472,"post_id":49572291,"comment_id":86163048,"body_markdown":"@SubodhJoshi thank you very much i will post whether its working or not . One more question for now i am getting the token at client level can it is possible to get the token at user level","body":"@SubodhJoshi thank you very much i will post whether its working or not . One more question for now i am getting the token at client level can it is possible to get the token at user level"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522426611,"post_id":49572291,"comment_id":86163105,"body_markdown":"@SubodhJoshi i think its authenticating so i am not getting 401 but instead i am getting 403 error code.It seems some authorization error. I don&#39;t know for what reason i am getting this","body":"@SubodhJoshi i think its authenticating so i am not getting 401 but instead i am getting 403 error code.It seems some authorization error. I don&#39;t know for what reason i am getting this"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522427017,"post_id":49572291,"comment_id":86163279,"body_markdown":"403 forbidden tells us that we don&#39;t have permission to see the requested resource,it&#39;s mainly due to permission . In many cases if you are using https and didn&#39;t import certificate into client it will throw 403 forbidden error.","body":"403 forbidden tells us that we don&#39;t have permission to see the requested resource,it&#39;s mainly due to permission . In many cases if you are using https and didn&#39;t import certificate into client it will throw 403 forbidden error."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522427339,"post_id":49572291,"comment_id":86163438,"body_markdown":"See this will surely help you.\nhttps://stackoverflow.com/q/46470477/476828","body":"See this will surely help you. <a href=\"https://stackoverflow.com/q/46470477/476828\">stackoverflow.com/q/46470477/476828</a>"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522428924,"post_id":49572291,"comment_id":86164142,"body_markdown":"@SubodhJoshi thank you so much its working.","body":"@SubodhJoshi thank you so much its working."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522429012,"post_id":49572291,"comment_id":86164186,"body_markdown":"@SubodhJoshi One more question for now i am getting the token at client level can it is possible to get the token at user level","body":"@SubodhJoshi One more question for now i am getting the token at client level can it is possible to get the token at user level"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522430595,"post_id":49572291,"comment_id":86164907,"body_markdown":"Here something for you.\n\nGetting tokens over REST endpoints for regular users is not the right way for many reasons. It&#39;s not SSO, less secure, exposes authentication details as well as credentials to the applications, etc, etc..","body":"Here something for you.  Getting tokens over REST endpoints for regular users is not the right way for many reasons. It&#39;s not SSO, less secure, exposes authentication details as well as credentials to the applications, etc, etc.."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522430862,"post_id":49572291,"comment_id":86165058,"body_markdown":"@SubodhJoshi so you mean to say that there will be a group of users under one client and then we need to get the token for that client instead of individual users.please correct me if i am wrong.","body":"@SubodhJoshi so you mean to say that there will be a group of users under one client and then we need to get the token for that client instead of individual users.please correct me if i am wrong."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522431289,"post_id":49572291,"comment_id":86165243,"body_markdown":"Each realm may or may not contain more than one client.If you will check master realm it have more than one client by default and realm only contain more than one user/group etc info.","body":"Each realm may or may not contain more than one client.If you will check master realm it have more than one client by default and realm only contain more than one user/group etc info."}],"answers":[{"tags":[],"owner":{"account_id":4203786,"reputation":387,"user_id":3443251,"display_name":"Adnan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561721539,"creation_date":1561721539,"answer_id":56806170,"question_id":49572291,"body_markdown":"Users in keycloak are realm specific and not every user is allowed to access them. You will be able to get all the users through the admin API after you assign a specific role to the user in the admin dashboard. Simply do \r\n\r\n1. In the admin dashboard, go to \r\n\r\n&gt; Users &gt; myuser &gt; Role Mappings &gt; Client roles &gt; realm-management\r\n\r\n2. Assign the user any of the two roles `manage-users` or `view-users`. \r\n\r\n3. Generate a new token.\r\n\r\n4. Hit API with new token\r\n\r\nand you will have your users \r\n\r\n\r\n\r\n\r\nP.s I think you should update your question header to something more relevant. ","title":"KeyCloak User validation and getting token","body":"<p>Users in keycloak are realm specific and not every user is allowed to access them. You will be able to get all the users through the admin API after you assign a specific role to the user in the admin dashboard. Simply do </p>\n\n<ol>\n<li>In the admin dashboard, go to </li>\n</ol>\n\n<blockquote>\n  <p>Users > myuser > Role Mappings > Client roles > realm-management</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>Assign the user any of the two roles <code>manage-users</code> or <code>view-users</code>. </p></li>\n<li><p>Generate a new token.</p></li>\n<li><p>Hit API with new token</p></li>\n</ol>\n\n<p>and you will have your users </p>\n\n<p>P.s I think you should update your question header to something more relevant. </p>\n"},{"comments":[{"owner":{"account_id":943539,"reputation":1220,"user_id":971229,"accept_rate":80,"display_name":"frankhommers"},"score":0,"creation_date":1610726296,"post_id":56824919,"comment_id":116231397,"body_markdown":"Is this changed in Keycloak 12? I can&#39;t seem to find the `Service account roles` tab?","body":"Is this changed in Keycloak 12? I can&#39;t seem to find the <code>Service account roles</code> tab?"}],"tags":[],"owner":{"account_id":3590738,"reputation":2981,"user_id":2996867,"accept_rate":86,"display_name":"maslick"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1561899907,"creation_date":1561898433,"answer_id":56824919,"question_id":49572291,"body_markdown":"You have 2 choices: you can act on behalf of some user (as *Adnan Khan* pointed out), or create a dedicated client for this.\r\n\r\n## On behalf of the user ##\r\n1) create a confidential client (I suppose you already got one)\r\n\r\n2) create a user and assign an appropriate role/s to it: e.g. ``view-users`` from the ``realm-management`` group\r\n\r\n3) get the token (I&#39;m using curl and [jq][1]):\r\n\r\n    KCHOST=https://yourkeycloak.com\r\n    REALM=realm\r\n    CLIENT_ID=confidential-client\r\n    CLIENT_SECRET=xxxxxxx-yyyyyy-zzzzzzzz\r\n    UNAME=user\r\n    PASSWORD=passwd\r\n    \r\n    ACCESS_TOKEN=`curl \\\r\n      -d &quot;client_id=$CLIENT_ID&quot; -d &quot;client_secret=$CLIENT_SECRET&quot; \\\r\n      -d &quot;username=$UNAME&quot; -d &quot;password=$PASSWORD&quot; \\\r\n      -d &quot;grant_type=password&quot; \\\r\n      &quot;$KCHOST/auth/realms/$REALM/protocol/openid-connect/token&quot;  | jq -r &#39;.access_token&#39;`\r\n\r\n4) finally call the Admin REST API [users endpoint][2]:\r\n\r\n    curl -X GET -H &quot;Authorization: Bearer $ACCESS_TOKEN&quot; $KCHOST/auth/admin/realms/$REALM/users | jq\r\n\r\n## On behalf of the client (Service account) ##\r\n1) create a confidential client and make sure to toggle the Service Accounts Enabled setting to ``On``\r\n\r\n2) go over to the ``Service account roles tab`` and select the appropriate role for this client, e.g. ``realm-admin`` from the ``realm-management`` group\r\n\r\n3) get the access token\r\n\r\n    KCHOST=https://yourkeycloak.com\r\n    REALM=realm\r\n    CLIENT_ID=protector-of-the-realm\r\n    CLIENT_SECRET=xxxxxxx-yyyyyyyy-zzzzzzzzz\r\n    \r\n    ACCESS_TOKEN=`curl \\\r\n      -d &quot;client_id=$CLIENT_ID&quot; -d &quot;client_secret=$CLIENT_SECRET&quot; \\\r\n      -d &quot;grant_type=client_credentials&quot; \\\r\n      &quot;$KCHOST/auth/realms/$REALM/protocol/openid-connect/token&quot;  | jq -r &#39;.access_token&#39;`\r\n\r\n4) call the REST API endpoint: \r\n\r\n    curl -X GET -H &quot;Authorization: Bearer $ACCESS_TOKEN&quot; $KCHOST/auth/admin/realms/$REALM/users | jq\r\n\r\n&gt; P.S. For debugging I have just written a CLI tool called [brauzie][3] that\r\n&gt; would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could\r\n&gt; be used for both public and confidential clients. You could as well\r\n&gt; use Postman and https://jwt.io\r\n\r\nHTH :)\r\n\r\n\r\n  [1]: https://stedolan.github.io/jq/manual/\r\n  [2]: https://www.keycloak.org/docs-api/6.0/rest-api/index.html#_users_resource\r\n  [3]: https://github.com/maslick/brauzie","title":"KeyCloak User validation and getting token","body":"<p>You have 2 choices: you can act on behalf of some user (as <em>Adnan Khan</em> pointed out), or create a dedicated client for this.</p>\n\n<h2>On behalf of the user</h2>\n\n<p>1) create a confidential client (I suppose you already got one)</p>\n\n<p>2) create a user and assign an appropriate role/s to it: e.g. <code>view-users</code> from the <code>realm-management</code> group</p>\n\n<p>3) get the token (I'm using curl and <a href=\"https://stedolan.github.io/jq/manual/\" rel=\"noreferrer\">jq</a>):</p>\n\n<pre><code>KCHOST=https://yourkeycloak.com\nREALM=realm\nCLIENT_ID=confidential-client\nCLIENT_SECRET=xxxxxxx-yyyyyy-zzzzzzzz\nUNAME=user\nPASSWORD=passwd\n\nACCESS_TOKEN=`curl \\\n  -d \"client_id=$CLIENT_ID\" -d \"client_secret=$CLIENT_SECRET\" \\\n  -d \"username=$UNAME\" -d \"password=$PASSWORD\" \\\n  -d \"grant_type=password\" \\\n  \"$KCHOST/auth/realms/$REALM/protocol/openid-connect/token\"  | jq -r '.access_token'`\n</code></pre>\n\n<p>4) finally call the Admin REST API <a href=\"https://www.keycloak.org/docs-api/6.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">users endpoint</a>:</p>\n\n<pre><code>curl -X GET -H \"Authorization: Bearer $ACCESS_TOKEN\" $KCHOST/auth/admin/realms/$REALM/users | jq\n</code></pre>\n\n<h2>On behalf of the client (Service account)</h2>\n\n<p>1) create a confidential client and make sure to toggle the Service Accounts Enabled setting to <code>On</code></p>\n\n<p>2) go over to the <code>Service account roles tab</code> and select the appropriate role for this client, e.g. <code>realm-admin</code> from the <code>realm-management</code> group</p>\n\n<p>3) get the access token</p>\n\n<pre><code>KCHOST=https://yourkeycloak.com\nREALM=realm\nCLIENT_ID=protector-of-the-realm\nCLIENT_SECRET=xxxxxxx-yyyyyyyy-zzzzzzzzz\n\nACCESS_TOKEN=`curl \\\n  -d \"client_id=$CLIENT_ID\" -d \"client_secret=$CLIENT_SECRET\" \\\n  -d \"grant_type=client_credentials\" \\\n  \"$KCHOST/auth/realms/$REALM/protocol/openid-connect/token\"  | jq -r '.access_token'`\n</code></pre>\n\n<p>4) call the REST API endpoint: </p>\n\n<pre><code>curl -X GET -H \"Authorization: Bearer $ACCESS_TOKEN\" $KCHOST/auth/admin/realms/$REALM/users | jq\n</code></pre>\n\n<blockquote>\n  <p>P.S. For debugging I have just written a CLI tool called <a href=\"https://github.com/maslick/brauzie\" rel=\"noreferrer\">brauzie</a> that\n  would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could\n  be used for both public and confidential clients. You could as well\n  use Postman and <a href=\"https://jwt.io\" rel=\"noreferrer\">https://jwt.io</a></p>\n</blockquote>\n\n<p>HTH :)</p>\n"},{"tags":[],"owner":{"account_id":2257678,"reputation":15260,"user_id":1988508,"accept_rate":65,"display_name":"Mohammed Noureldin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683999880,"creation_date":1683979587,"answer_id":76242637,"question_id":49572291,"body_markdown":"To simplify the steps if you already have either a client and a user in a specific realm:\r\n\r\n```shell\r\ncurl -L -X POST &#39;https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token&#39; \\\r\n--data-urlencode &#39;client_id=&lt;client-ip&gt;&#39; \\\r\n--data-urlencode &#39;grant_type=password&#39; \\\r\n--data-urlencode &#39;scope=openid api&#39; \\\r\n--data-urlencode &#39;username=&lt;username&gt;&#39; \\\r\n--data-urlencode &#39;password=&lt;user-password&gt;&#39; \\\r\n--data-urlencode &#39;totp=&lt;totp-if-using-mfa&gt;&#39;\r\n```\r\n\r\nNotice the last argument passed *totp*, which was not mentioned in the other answers, in case you are using **multi-factor authentication**.\r\n\r\nor for if you have a service client:\r\n\r\n```\r\ncurl -L -X POST &#39;https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token&#39; \\\r\n--data-urlencode &#39;client_id=&lt;client-id&gt;&#39; \\\r\n--data-urlencode &#39;client_secret=&lt;client-secret&gt;&#39; \\\r\n--data-urlencode &#39;grant_type=client_credentials&#39; \\\r\n--data-urlencode &#39;scope=&lt;scope&gt;&#39;","title":"KeyCloak User validation and getting token","body":"<p>To simplify the steps if you already have either a client and a user in a specific realm:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -L -X POST 'https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token' \\\n--data-urlencode 'client_id=&lt;client-ip&gt;' \\\n--data-urlencode 'grant_type=password' \\\n--data-urlencode 'scope=openid api' \\\n--data-urlencode 'username=&lt;username&gt;' \\\n--data-urlencode 'password=&lt;user-password&gt;' \\\n--data-urlencode 'totp=&lt;totp-if-using-mfa&gt;'\n</code></pre>\n<p>Notice the last argument passed <em>totp</em>, which was not mentioned in the other answers, in case you are using <strong>multi-factor authentication</strong>.</p>\n<p>or for if you have a service client:</p>\n<pre><code>curl -L -X POST 'https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token' \\\n--data-urlencode 'client_id=&lt;client-id&gt;' \\\n--data-urlencode 'client_secret=&lt;client-secret&gt;' \\\n--data-urlencode 'grant_type=client_credentials' \\\n--data-urlencode 'scope=&lt;scope&gt;'\n</code></pre>\n"}],"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84954,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":3,"score":27,"last_activity_date":1683999880,"creation_date":1522403920,"question_id":49572291,"body_markdown":"First of all I am very new to Keycloak and excuse me if something I am asking might be wrong.\r\n\r\nI have installed the Keycloak server and I can access the Web UI for the same using:\r\n\r\nhttp://localhost:8008/auth\r\n\r\nMy requirement is to validate a realm user by passing it to k\r\nKeycloak API and to get the token from there in response, and then pass this token for my other Web API calls.\r\n\r\nBut I was not able to find a simple guide on how I can do this...\r\n\r\nUPDATE:\r\n*******\r\nUSING UI from `KEYCLOAK`:\r\n\r\nSo far now:\r\n\r\n - I am able to create a `realm`:\r\ne.g: `DemoRealm`\r\n\r\n\r\n\r\n - \r\nUnder the `Realm` I have created the client:\r\ne.g: `DemoClient`\r\n\r\n - \r\nUnder the client I have created the user:\r\ne.g: `DemoUser` \r\n\r\nUSING `POSTMAN`:\r\n\r\nI am also able to successfully get the token using\r\n\r\n    http://localhost:8080/auth/realms/DemoRelam/protocol/openid-connect/token\r\n\r\n    POST:\r\n    {\r\n    &quot;grant_type&quot;: &quot;client_credentials&quot;,\r\n    &quot;username&quot;: &quot;&quot;,\r\n    &quot;password&quot;: &quot;&quot;,\r\n    &quot;client_secret&quot;:&quot;&quot;,\r\n    &quot;client_id&quot;:&quot;DemoClient&quot;\r\n    }\r\n\r\n\r\nIn response I am getting the token.\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;eyJhbGciOiJSUzI1NiIsINVSHGhepnDu13SwRBL-v-y-04_6e6IJbMzreZwPI-epwdVPQe-ENhpvms2WdGM_DmgMLZ8YQFS4LDl9R7ZHT8AgXe-WCFV6OFkA7zvdeFwQ4kVVZE0HlNgHgoi4DrgMfwwz_ku1yJNJP3ztTY1nEqmA&quot;,\r\n        &quot;expires_in&quot;: 300,\r\n        &quot;refresh_expires_in&quot;: 1800,\r\n        &quot;refresh_token&quot;: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJRRnB5YlloMGVEektIdlhOb3JvaFUxdlRvWVdjdP3vbfvk7O0zvppK9N4-oaUqZSr0smHv5LkuLDQYdPuxA&quot;,\r\n        &quot;token_type&quot;: &quot;bearer&quot;,\r\n        &quot;not-before-policy&quot;: 0,\r\n        &quot;session_state&quot;: &quot;bb1c586a-e880-4b96-ac16-30e42c0f46dc&quot;\r\n    }\r\n\r\nFurthermore I was diving into more details and found this API guide:\r\n\r\n[http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource][1]\r\n\r\n\r\n  [1]: http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource\r\n\r\nIn this guide it&#39;s mentioned that I can get the users for the realm using\r\nGet users Returns a list of users, filtered according to query parameters\r\n\r\n    GET /admin/realms/{realm}/users\r\n\r\nBut when I am using `POSTMAN` to get the users I am getting *403* error code. I am passing the same token as on authentication which I got in the earlier step.\r\n\r\n    http://localhost:8080/auth/admin/realms/DemoRelam/users\r\n\r\nCan anyone please guide me?","title":"KeyCloak User validation and getting token","body":"<p>First of all I am very new to Keycloak and excuse me if something I am asking might be wrong.</p>\n\n<p>I have installed the Keycloak server and I can access the Web UI for the same using:</p>\n\n<p><a href=\"http://localhost:8008/auth\" rel=\"noreferrer\">http://localhost:8008/auth</a></p>\n\n<p>My requirement is to validate a realm user by passing it to k\nKeycloak API and to get the token from there in response, and then pass this token for my other Web API calls.</p>\n\n<p>But I was not able to find a simple guide on how I can do this...</p>\n\n<p>UPDATE:</p>\n\n<hr>\n\n<p>USING UI from <code>KEYCLOAK</code>:</p>\n\n<p>So far now:</p>\n\n<ul>\n<li><p>I am able to create a <code>realm</code>:\ne.g: <code>DemoRealm</code></p></li>\n<li><p>Under the <code>Realm</code> I have created the client:\ne.g: <code>DemoClient</code></p></li>\n<li><p>Under the client I have created the user:\ne.g: <code>DemoUser</code> </p></li>\n</ul>\n\n<p>USING <code>POSTMAN</code>:</p>\n\n<p>I am also able to successfully get the token using</p>\n\n<pre><code>http://localhost:8080/auth/realms/DemoRelam/protocol/openid-connect/token\n\nPOST:\n{\n\"grant_type\": \"client_credentials\",\n\"username\": \"\",\n\"password\": \"\",\n\"client_secret\":\"\",\n\"client_id\":\"DemoClient\"\n}\n</code></pre>\n\n<p>In response I am getting the token.</p>\n\n<pre><code>{\n    \"access_token\": \"eyJhbGciOiJSUzI1NiIsINVSHGhepnDu13SwRBL-v-y-04_6e6IJbMzreZwPI-epwdVPQe-ENhpvms2WdGM_DmgMLZ8YQFS4LDl9R7ZHT8AgXe-WCFV6OFkA7zvdeFwQ4kVVZE0HlNgHgoi4DrgMfwwz_ku1yJNJP3ztTY1nEqmA\",\n    \"expires_in\": 300,\n    \"refresh_expires_in\": 1800,\n    \"refresh_token\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJRRnB5YlloMGVEektIdlhOb3JvaFUxdlRvWVdjdP3vbfvk7O0zvppK9N4-oaUqZSr0smHv5LkuLDQYdPuxA\",\n    \"token_type\": \"bearer\",\n    \"not-before-policy\": 0,\n    \"session_state\": \"bb1c586a-e880-4b96-ac16-30e42c0f46dc\"\n}\n</code></pre>\n\n<p>Furthermore I was diving into more details and found this API guide:</p>\n\n<p><a href=\"http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource</a></p>\n\n<p>In this guide it's mentioned that I can get the users for the realm using\nGet users Returns a list of users, filtered according to query parameters</p>\n\n<pre><code>GET /admin/realms/{realm}/users\n</code></pre>\n\n<p>But when I am using <code>POSTMAN</code> to get the users I am getting <em>403</em> error code. I am passing the same token as on authentication which I got in the earlier step.</p>\n\n<pre><code>http://localhost:8080/auth/admin/realms/DemoRelam/users\n</code></pre>\n\n<p>Can anyone please guide me?</p>\n"},{"tags":["java","docker","ssl-certificate","apache-nifi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684079527,"post_id":76244074,"comment_id":134460935,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":10246602,"reputation":1,"user_id":10317909,"display_name":"Hoang Le"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683998954,"creation_date":1683998954,"question_id":76244074,"body_markdown":"I am using the apache/nifi docker image version 1.21.0 and trying to use the invokeHTTP processor to interact with an API in my local network.\r\n\r\nI added the API certificate and root issuer certificate to a trustkeystore.jks file (both are local certificates). Then, I added the StandardSSLContextService to the invokeHTTP processor with the trustkeystore.jks file properties. However, I received the SSLPeerUnverifiedException exception, which said that my API hostname had not been verified. \r\n\r\nCould you please help me with this issue?\r\n\r\nI also tried StandardRestrictedSSLContextService and got same result.","title":"Get javax.net.ssl.SSLPeerUnverifiedException Error when use invokeHTTP after adding certificate to the truststore","body":"<p>I am using the apache/nifi docker image version 1.21.0 and trying to use the invokeHTTP processor to interact with an API in my local network.</p>\n<p>I added the API certificate and root issuer certificate to a trustkeystore.jks file (both are local certificates). Then, I added the StandardSSLContextService to the invokeHTTP processor with the trustkeystore.jks file properties. However, I received the SSLPeerUnverifiedException exception, which said that my API hostname had not been verified.</p>\n<p>Could you please help me with this issue?</p>\n<p>I also tried StandardRestrictedSSLContextService and got same result.</p>\n"},{"tags":["java","user-interface","animation","javafx","concurrency"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1683908090,"post_id":76238194,"comment_id":134443755,"body_markdown":"Create and post a [mre], including the complete stack trace (formatted as code).","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including the complete stack trace (formatted as code)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683908235,"post_id":76238194,"comment_id":134443778,"body_markdown":"Probably off-topic, but 1. Are you really creating an `AnimationTimer` subclass instance in your FXML? That&#39;s possible but seems to be a really strange thing to do. 2. Why create an `ExecutorService` just to use it once and immediately shut it down? You may as well just create a `Thread` directly.","body":"Probably off-topic, but 1. Are you really creating an <code>AnimationTimer</code> subclass instance in your FXML? That&#39;s possible but seems to be a really strange thing to do. 2. Why create an <code>ExecutorService</code> just to use it once and immediately shut it down? You may as well just create a <code>Thread</code> directly."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1683908386,"post_id":76238194,"comment_id":134443810,"body_markdown":"Also, I suppose, why use threads at all here? Why not just use the animation API? See https://stackoverflow.com/a/60685975/2189127","body":"Also, I suppose, why use threads at all here? Why not just use the animation API? See <a href=\"https://stackoverflow.com/a/60685975/2189127\">stackoverflow.com/a/60685975/2189127</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1683913994,"post_id":76238194,"comment_id":134444955,"body_markdown":"Re, &quot;...despite task created...from the FX Application Thread.&quot; It doesn&#39;t matter which thread created the `Task` object. What matters is which thread calls `getValue()` (see James_D&#39;s answer, below).","body":"Re, &quot;...despite task created...from the FX Application Thread.&quot; It doesn&#39;t matter which thread created the <code>Task</code> object. What matters is which thread calls <code>getValue()</code> (see James_D&#39;s answer, below)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1683914063,"post_id":76238194,"comment_id":134444967,"body_markdown":"Re, &quot;...despite task...ran from the FX Application Thread.&quot; But, you _didn&#39;t_ run it from the application thread. You ran it from a worker thread belonging to your `executorService`.","body":"Re, &quot;...despite task...ran from the FX Application Thread.&quot; But, you <i>didn&#39;t</i> run it from the application thread. You ran it from a worker thread belonging to your <code>executorService</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1683914427,"post_id":76238194,"comment_id":134445032,"body_markdown":"Re, `es=Executors.newFixedThreadPool(1); es.execute(task); ex.shutdown();` That&#39;s pure [_cargo cult programming_](https://en.wikipedia.org/wiki/Cargo_cult_programming). If you think you need to create a one-shot thread, then call `new Thread(...)`. If somebody told you that calling `new Thread(...)` was a bad idea, it&#39;s because they thought that _needing a one-shot thread_ was a bad idea. What you didcreating a new thread _pool_ just so that you could submit _one task_ to it, is no better than `new Thread(...)`. In fact, it&#39;s just a tiny bit _worse._","body":"Re, <code>es=Executors.newFixedThreadPool(1); es.execute(task); ex.shutdown();</code> That&#39;s pure <a href=\"https://en.wikipedia.org/wiki/Cargo_cult_programming\" rel=\"nofollow noreferrer\"><i>cargo cult programming</i></a>. If you think you need to create a one-shot thread, then call <code>new Thread(...)</code>. If somebody told you that calling <code>new Thread(...)</code> was a bad idea, it&#39;s because they thought that <i>needing a one-shot thread</i> was a bad idea. What you didcreating a new thread <i>pool</i> just so that you could submit <i>one task</i> to it, is no better than <code>new Thread(...)</code>. In fact, it&#39;s just a tiny bit <i>worse.</i>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1683917288,"post_id":76238194,"comment_id":134445505,"body_markdown":"Does this answer your question? [Change javafx circles color in certain time using multithreads](https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads\">Change javafx circles color in certain time using multithreads</a>"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683921058,"post_id":76238194,"comment_id":134446138,"body_markdown":"@James_D 1. my real code has an exstantion of canvas that draws some stuff I need and has the animation timer moving those stuff, and I have more then one of those, whice is way it&#39;s an extention of canvas. I was trying to simplifiy it to the bare necessities and only the animation timer seemd relevent. 2. you are right, I was using the example in the book as a guidline and diden&#39;t think it through","body":"@James_D 1. my real code has an exstantion of canvas that draws some stuff I need and has the animation timer moving those stuff, and I have more then one of those, whice is way it&#39;s an extention of canvas. I was trying to simplifiy it to the bare necessities and only the animation timer seemd relevent. 2. you are right, I was using the example in the book as a guidline and diden&#39;t think it through"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683921669,"post_id":76238194,"comment_id":134446250,"body_markdown":"@SolomonSlow It was clear to me that the task itself is ran in a background theard, what I was trying to say is that I have started it from the application thread, which I tought is a requirement that the excption message was trying to convey. I had no idea getValue() can only be called from the application thread and googling the error did not yield this information. as for the thread pool issue, you are right, it&#39;s an over kill.","body":"@SolomonSlow It was clear to me that the task itself is ran in a background theard, what I was trying to say is that I have started it from the application thread, which I tought is a requirement that the excption message was trying to convey. I had no idea getValue() can only be called from the application thread and googling the error did not yield this information. as for the thread pool issue, you are right, it&#39;s an over kill."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":1,"creation_date":1683921861,"post_id":76238194,"comment_id":134446287,"body_markdown":"@SedJ601 thanks, but qustion in the link did not help me, the writer of the other question is trying to achive similar result, but he used another way then I did, and I was intrested in understanding why my way did not work.","body":"@SedJ601 thanks, but qustion in the link did not help me, the writer of the other question is trying to achive similar result, but he used another way then I did, and I was intrested in understanding why my way did not work."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1683922057,"post_id":76238194,"comment_id":134446323,"body_markdown":"@WildLAppers, I don&#39;t have JavaFX experience, but I would be mildly surprised if it mattered which thread constructed the object, and I would be _extremely_ surprised if it mattered which other thread `start()`ed the thread that ultimately uses the object.","body":"@WildLAppers, I don&#39;t have JavaFX experience, but I would be mildly surprised if it mattered which thread constructed the object, and I would be <i>extremely</i> surprised if it mattered which other thread <code>start()</code>ed the thread that ultimately uses the object."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683922652,"post_id":76238194,"comment_id":134446438,"body_markdown":"@SolomonSlow I&#39;m also just starting with JavaFX, from what I understand from the textbook I am using, the Task&lt;T&gt; class was written especially for JavaFX. So despite the fact it is a weird requiremet (if it was a requirement), it didn&#39;t seemed out of the realm of possiblitiy","body":"@SolomonSlow I&#39;m also just starting with JavaFX, from what I understand from the textbook I am using, the Task&lt;T&gt; class was written especially for JavaFX. So despite the fact it is a weird requiremet (if it was a requirement), it didn&#39;t seemed out of the realm of possiblitiy"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1683923737,"post_id":76238194,"comment_id":134446609,"body_markdown":"Interrupts dont happen by accident.  If someone interrupts a thread, its because they are asking that thread to stop what its doing and terminate cleanly.  Ignoring an interrupt is the worst possible responseit means your thread is a rogue thread that can never be halted.  The correct course of action is to exit your while loop when you receive an interrupt.  (An easy to way to do that is to remove the try/catch and put the entire while loop inside a try/catch.)","body":"Interrupts dont happen by accident.  If someone interrupts a thread, its because they are asking that thread to stop what its doing and terminate cleanly.  Ignoring an interrupt is the worst possible responseit means your thread is a rogue thread that can never be halted.  The correct course of action is to exit your while loop when you receive an interrupt.  (An easy to way to do that is to remove the try/catch and put the entire while loop inside a try/catch.)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683938611,"post_id":76238194,"comment_id":134448293,"body_markdown":"how about studying the java doc of classes (vs random experiments) you are using? - it&#39;s very clear in describing your _exact_ mis-use of getXX and its _exact_ consequence you are seeing","body":"how about studying the java doc of classes (vs random experiments) you are using? - it&#39;s very clear in describing your <i>exact</i> mis-use of getXX and its <i>exact</i> consequence you are seeing"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683983158,"post_id":76238194,"comment_id":134451766,"body_markdown":"@kleopatra actually, I have read the [documantation](https://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#getValue--), and it makes no mantion of this beaviour, I&#39;ve looked for more, and for that excption specifically, and found nothing. So I am unsure what you are referring to","body":"@kleopatra actually, I have read the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#getValue--\" rel=\"nofollow noreferrer\">documantation</a>, and it makes no mantion of this beaviour, I&#39;ve looked for more, and for that excption specifically, and found nothing. So I am unsure what you are referring to"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683988742,"post_id":76238194,"comment_id":134452480,"body_markdown":"read the class doc ..","body":"read the class doc .."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683990164,"post_id":76238194,"comment_id":134452646,"body_markdown":"@kleopatra I linked the section of the documention describing the method, but I have read the top documention describeing the class as well, I&#39;ve just read it again and it has no mention of this behavior.","body":"@kleopatra I linked the section of the documention describing the method, but I have read the top documention describeing the class as well, I&#39;ve just read it again and it has no mention of this behavior."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1683995645,"post_id":76238194,"comment_id":134453361,"body_markdown":"@WildLAppers You didn&#39;t read it very carefully. It explicitly says: *&quot;Because the Task is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. **Accessing these properties from a background thread (including the call() method) will result in runtime exceptions being raised.**&quot;*. (My emphasis).","body":"@WildLAppers You didn&#39;t read it very carefully. It explicitly says: <i>&quot;Because the Task is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. <b>Accessing these properties from a background thread (including the call() method) will result in runtime exceptions being raised.</b>&quot;</i>. (My emphasis)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683999635,"post_id":76238194,"comment_id":134453886,"body_markdown":"And I think you missed my point about the `AnimationTimer`. The point isn&#39;t whether or not your application needs it, but why it&#39;s defined in the FXML file. Typically you use the FXML file to define actual UI components (subclasses of `Node`); and animation timer is essentially executable code, not something you lay out.","body":"And I think you missed my point about the <code>AnimationTimer</code>. The point isn&#39;t whether or not your application needs it, but why it&#39;s defined in the FXML file. Typically you use the FXML file to define actual UI components (subclasses of <code>Node</code>); and animation timer is essentially executable code, not something you lay out."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1684048326,"post_id":76238194,"comment_id":134457529,"body_markdown":"@James_D I got your point about the `AnimationTimer` , what I was saying is that in my actual code the class in the FXML is an extension of `Canvas` , which is a subclass of `Node`. The `Canvas` extension has an internal `AnimationTimer`, the timer seemed relvenet to the issue since it mutates UI values, while the canvas was not. So for the question sake, I simplified the canvas out of the code and left the timer. In hindsight, I should have focused on the `Task` in my question.","body":"@James_D I got your point about the <code>AnimationTimer</code> , what I was saying is that in my actual code the class in the FXML is an extension of <code>Canvas</code> , which is a subclass of <code>Node</code>. The <code>Canvas</code> extension has an internal <code>AnimationTimer</code>, the timer seemed relvenet to the issue since it mutates UI values, while the canvas was not. So for the question sake, I simplified the canvas out of the code and left the timer. In hindsight, I should have focused on the <code>Task</code> in my question."}],"answers":[{"comments":[{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683920418,"post_id":76238681,"comment_id":134446019,"body_markdown":"you are right about threading being an over kill, however, this is for an assigment and the assignment specifically requests a thread to synchronize the states","body":"you are right about threading being an over kill, however, this is for an assigment and the assignment specifically requests a thread to synchronize the states"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1683926280,"post_id":76238681,"comment_id":134447042,"body_markdown":"@WildLAppers when you have weird requirements like that, you should state them in the question.  It would have saved a lot of time and confusion.","body":"@WildLAppers when you have weird requirements like that, you should state them in the question.  It would have saved a lot of time and confusion."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683998594,"creation_date":1683912335,"answer_id":76238681,"question_id":76238194,"body_markdown":"The exception is being thrown because you can only directly access the `value` property from the FX Application Thread. You can call `updateValue()` from any thread, but you cannot call `getValue()` from a background thread. If you inspect your stack trace carefully, you should see something like:\r\n\r\n    java.lang.IllegalStateException: Task must only be used from the FX Application Thread\r\n      at javafx.concurrent.Task.checkThread()\r\n      at javafx.concurrent.Task.getValue()\r\n      at yourpackage.TimeingTask.call()\r\n\r\nmeaning that the exception is thrown by the call to `getValue()` (not the call to `updateValue()`) in your `call()` method.\r\n\r\nThe [implementation of `Task.getValue()`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.graphics/src/main/java/javafx/concurrent/Task.java#L962) is \r\n\r\n    @Override public final V getValue() { checkThread(); return value.get(); }\r\n\r\nwith\r\n\r\n    private void checkThread() {\r\n        if (started &amp;&amp; !isFxApplicationThread()) {\r\n            throw new IllegalStateException(&quot;Task must only be used from the FX Application Thread&quot;);\r\n        }\r\n    }\r\n\r\nAnd, indeed, the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/concurrent/Task.html) explicitly states\r\n\r\n&gt;Because the `Task` is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. **Accessing these properties from a background thread (including the `call()` method) will result in runtime exceptions being raised.**\r\n\r\n(My emphasis.)\r\n\r\nSo when you invoke `getValue()` from your `call()` method (which of course is run on the background thread), it throws the `IllegalStateException`.\r\n\r\n---\r\n\r\nThreads are greatly overkill for what you&#39;re trying to do here anyway. As described [here](https://stackoverflow.com/a/60685975/2189127), you can greatly simplify this with a `Timeline`:\r\n\r\n    public void initialize() {\r\n        myAnimationTimerExtention.setState(false);\r\n        KeyFrame frame = new KeyFrame(Duration.ofSeconds(5), e -&gt; \r\n            myAnimationTimerExtention.setState(! myAnimationTimerExtention.getState()));\r\n        Timeline timeline = new Timeline(frame);\r\n        timeline.setCycleCount(Animation.INDEFINITE);\r\n        timeline.play();\r\n\r\n    }\r\n\r\nOr just build the functionality directly into your `AnimationTimer`, which could easily check the timestamp passed to the `handle()` method and flip the state if needed.\r\n\r\nThis gets rid of the need for your `Task` subclass, the `Executor`, and means the application doesn&#39;t consume additional resources by creating an additional thread.\r\n\r\n---\r\n\r\n\r\nJust in case the code in the question is a simplification, and you really need to use a background thread for some unknown reason, just shadow the value. To emphasize: do not add all the complexity of multithreading unless you need it. The solution above is a far better solution for the functionality you described.\r\n\r\n    public class TimeTrafficLightTask  extends Task&lt;Boolean&gt; {\r\n        private final Duration duration;\r\n        private boolean state = true ;\r\n    \r\n        public TimeTrafficLightTask(Duration duration) {\r\n            this.duration = duration;\r\n            updateValue(state);\r\n        }\r\n    \r\n        @Override\r\n        protected Boolean call() throws Exception {\r\n            while (!isCancelled()) {\r\n                state = !state ;\r\n                updateValue(state);\r\n                try {\r\n                    Thread.sleep(duration);\r\n                } catch (InterruptedException e) {\r\n                    updateMessage(&quot;timing task got interrupted&quot;);\r\n                }\r\n    \r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }","title":"&quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; despite task created and ran from the FX Application Thread","body":"<p>The exception is being thrown because you can only directly access the <code>value</code> property from the FX Application Thread. You can call <code>updateValue()</code> from any thread, but you cannot call <code>getValue()</code> from a background thread. If you inspect your stack trace carefully, you should see something like:</p>\n<pre><code>java.lang.IllegalStateException: Task must only be used from the FX Application Thread\n  at javafx.concurrent.Task.checkThread()\n  at javafx.concurrent.Task.getValue()\n  at yourpackage.TimeingTask.call()\n</code></pre>\n<p>meaning that the exception is thrown by the call to <code>getValue()</code> (not the call to <code>updateValue()</code>) in your <code>call()</code> method.</p>\n<p>The <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.graphics/src/main/java/javafx/concurrent/Task.java#L962\" rel=\"nofollow noreferrer\">implementation of <code>Task.getValue()</code></a> is</p>\n<pre><code>@Override public final V getValue() { checkThread(); return value.get(); }\n</code></pre>\n<p>with</p>\n<pre><code>private void checkThread() {\n    if (started &amp;&amp; !isFxApplicationThread()) {\n        throw new IllegalStateException(&quot;Task must only be used from the FX Application Thread&quot;);\n    }\n}\n</code></pre>\n<p>And, indeed, the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">documentation</a> explicitly states</p>\n<blockquote>\n<p>Because the <code>Task</code> is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. <strong>Accessing these properties from a background thread (including the <code>call()</code> method) will result in runtime exceptions being raised.</strong></p>\n</blockquote>\n<p>(My emphasis.)</p>\n<p>So when you invoke <code>getValue()</code> from your <code>call()</code> method (which of course is run on the background thread), it throws the <code>IllegalStateException</code>.</p>\n<hr />\n<p>Threads are greatly overkill for what you're trying to do here anyway. As described <a href=\"https://stackoverflow.com/a/60685975/2189127\">here</a>, you can greatly simplify this with a <code>Timeline</code>:</p>\n<pre><code>public void initialize() {\n    myAnimationTimerExtention.setState(false);\n    KeyFrame frame = new KeyFrame(Duration.ofSeconds(5), e -&gt; \n        myAnimationTimerExtention.setState(! myAnimationTimerExtention.getState()));\n    Timeline timeline = new Timeline(frame);\n    timeline.setCycleCount(Animation.INDEFINITE);\n    timeline.play();\n\n}\n</code></pre>\n<p>Or just build the functionality directly into your <code>AnimationTimer</code>, which could easily check the timestamp passed to the <code>handle()</code> method and flip the state if needed.</p>\n<p>This gets rid of the need for your <code>Task</code> subclass, the <code>Executor</code>, and means the application doesn't consume additional resources by creating an additional thread.</p>\n<hr />\n<p>Just in case the code in the question is a simplification, and you really need to use a background thread for some unknown reason, just shadow the value. To emphasize: do not add all the complexity of multithreading unless you need it. The solution above is a far better solution for the functionality you described.</p>\n<pre><code>public class TimeTrafficLightTask  extends Task&lt;Boolean&gt; {\n    private final Duration duration;\n    private boolean state = true ;\n\n    public TimeTrafficLightTask(Duration duration) {\n        this.duration = duration;\n        updateValue(state);\n    }\n\n    @Override\n    protected Boolean call() throws Exception {\n        while (!isCancelled()) {\n            state = !state ;\n            updateValue(state);\n            try {\n                Thread.sleep(duration);\n            } catch (InterruptedException e) {\n                updateMessage(&quot;timing task got interrupted&quot;);\n            }\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76238681,"answer_count":1,"score":-2,"last_activity_date":1683998594,"creation_date":1683908012,"question_id":76238194,"body_markdown":"I have a single scene JavaFX app, that runs an animation, the animation needs to switch back and forth between two states.  \r\nBased on an example in [&quot;Java How to Program, 11/e, Early Objects&quot;](https://github.com/pdeitel/JavaHowToProgram11e_EarlyObjects/tree/master/examples/ch23/Fig23_26-28)\r\nI have written a controller that creates a similar setup in the initialization method,  \r\nAnd a task with boolean value that signals the animation timer when to switch states by fliping its value and then sleep.  \r\nI keep getting &quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; thrown from the `call()` method no metter what I do.\r\n\r\nhere is a simplified version of the controller:\r\n\r\n```java\r\npublic class AnimationController {\r\n    @FXML public AnimationTimer myAnimationTimerExtention;\r\n    private ExecutorService executorService;\r\n\r\n   public void initialize() {\r\n        myAnimationTimerExtention.setState(false);\r\n        TimeingTask task = new TimeingTask (Duration.ofSeconds(5));\r\n\r\n        task .valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n            myAnimationTimerExtention.setState(false);\r\n        });\r\n\r\n        executorService = Executors.newFixedThreadPool(1);\r\n        executorService.execute(timeTrafficLightTask);\r\n        executorService.shutdown();\r\n    }\r\n```\r\n\r\nAnd here is my task:\r\n\r\n```java\r\npublic class TimeingTask  extends Task&lt;Boolean&gt; {\r\n    private final Duration duration;\r\n\r\n    public TimeingTask(Duration duration) {\r\n        this.duration = duration;\r\n        updateValue(true);\r\n    }\r\n\r\n    @Override\r\n    protected Boolean call() throws Exception {\r\n        while (!isCancelled()) {\r\n            updateValue(!getValue());\r\n            try {\r\n                Thread.sleep(duration);\r\n            } catch (InterruptedException e) {\r\n                updateMessage(&quot;timing task got interrupted&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried so far:\r\n\r\n1. moveing the initialization to be done in a button&#39;s action\r\n2. removing the listener and the update of the value\r\n3. verifing with `Thread.currentThread().getName()` I&#39;m on the application theard in the controller.  \r\n4. chack if the task somehow get canceld to see if the issue relates to this [javafx bug](https://bugs.openjdk.org/browse/JDK-8092556?jql=summary%20~%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20OR%20description%20~%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20ORDER%20BY%20lastViewed%20DESC), it is not getting canceld.  \r\n5. compiling and running the example I&#39;m basing this on to see if this is realted to my IDE configuration or JDK version, the example worked.\r\n6. surrounding the `updateValue()` in a `Platform.runLater()` the excption is thrown on the `Theard.sleep()`\r\n\r\nin all of the above scenarios the excption was thrown","title":"&quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; despite task created and ran from the FX Application Thread","body":"<p>I have a single scene JavaFX app, that runs an animation, the animation needs to switch back and forth between two states.<br />\nBased on an example in <a href=\"https://github.com/pdeitel/JavaHowToProgram11e_EarlyObjects/tree/master/examples/ch23/Fig23_26-28\" rel=\"nofollow noreferrer\">&quot;Java How to Program, 11/e, Early Objects&quot;</a>\nI have written a controller that creates a similar setup in the initialization method,<br />\nAnd a task with boolean value that signals the animation timer when to switch states by fliping its value and then sleep.<br />\nI keep getting &quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; thrown from the <code>call()</code> method no metter what I do.</p>\n<p>here is a simplified version of the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnimationController {\n    @FXML public AnimationTimer myAnimationTimerExtention;\n    private ExecutorService executorService;\n\n   public void initialize() {\n        myAnimationTimerExtention.setState(false);\n        TimeingTask task = new TimeingTask (Duration.ofSeconds(5));\n\n        task .valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n            myAnimationTimerExtention.setState(false);\n        });\n\n        executorService = Executors.newFixedThreadPool(1);\n        executorService.execute(timeTrafficLightTask);\n        executorService.shutdown();\n    }\n</code></pre>\n<p>And here is my task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeingTask  extends Task&lt;Boolean&gt; {\n    private final Duration duration;\n\n    public TimeingTask(Duration duration) {\n        this.duration = duration;\n        updateValue(true);\n    }\n\n    @Override\n    protected Boolean call() throws Exception {\n        while (!isCancelled()) {\n            updateValue(!getValue());\n            try {\n                Thread.sleep(duration);\n            } catch (InterruptedException e) {\n                updateMessage(&quot;timing task got interrupted&quot;);\n            }\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>I have tried so far:</p>\n<ol>\n<li>moveing the initialization to be done in a button's action</li>\n<li>removing the listener and the update of the value</li>\n<li>verifing with <code>Thread.currentThread().getName()</code> I'm on the application theard in the controller.</li>\n<li>chack if the task somehow get canceld to see if the issue relates to this <a href=\"https://bugs.openjdk.org/browse/JDK-8092556?jql=summary%20%7E%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20OR%20description%20%7E%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20ORDER%20BY%20lastViewed%20DESC\" rel=\"nofollow noreferrer\">javafx bug</a>, it is not getting canceld.</li>\n<li>compiling and running the example I'm basing this on to see if this is realted to my IDE configuration or JDK version, the example worked.</li>\n<li>surrounding the <code>updateValue()</code> in a <code>Platform.runLater()</code> the excption is thrown on the <code>Theard.sleep()</code></li>\n</ol>\n<p>in all of the above scenarios the excption was thrown</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1684014433,"post_id":76243947,"comment_id":134455486,"body_markdown":"This seems to be how method breakpoints work (from the [IntelliJ IDEA documentation](https://www.jetbrains.com/help/idea/2023.1/using-breakpoints.html#breakpoint-types): **Method breakpoints**: suspend the program upon entering or exiting the specified method **or one of its implementations**, allowing you to check the method&#39;s entry/exit conditions)","body":"This seems to be how method breakpoints work (from the <a href=\"https://www.jetbrains.com/help/idea/2023.1/using-breakpoints.html#breakpoint-types\" rel=\"nofollow noreferrer\">IntelliJ IDEA documentation</a>: <b>Method breakpoints</b>: suspend the program upon entering or exiting the specified method <b>or one of its implementations</b>, allowing you to check the method&#39;s entry/exit conditions)"}],"owner":{"account_id":28115464,"reputation":11,"user_id":21482635,"display_name":"gxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683997806,"creation_date":1683997184,"question_id":76243947,"body_markdown":"When debugging Java code in IntelliJ IDEA, breakpoints set on methods in the parent class will take effect on corresponding methods in the subclass, even if the declaration and instantiation are for the subclass itself.\r\n\r\n\r\n```\r\npublic class Debug02 {\r\n    public static void main(String[] args) {\r\n        Son instance = new Son();\r\n        instance.test();\r\n    }\r\n}\r\n\r\nclass Father{\r\n    public void test(){//add method breakpoints here\r\n        System.out.println(&quot;Father : test1&quot;);\r\n        System.out.println(&quot;Father : test2&quot;);\r\n    }\r\n}\r\n\r\nclass Son extends Father{\r\n    @Override\r\n    public void test(){\r\n        System.out.println(&quot;Son : test1&quot;);\r\n        System.out.println(&quot;Son : test2&quot;);\r\n    }\r\n}\r\n```\r\nAfter starting the debug session, it automatically pauses at the first line of the &quot;test&quot; method in the &quot;Son&quot; class.\r\n\r\nPlease tell why?","title":"IDEA method breakpoints in the parent class effect corresponding methods in the subclass","body":"<p>When debugging Java code in IntelliJ IDEA, breakpoints set on methods in the parent class will take effect on corresponding methods in the subclass, even if the declaration and instantiation are for the subclass itself.</p>\n<pre><code>public class Debug02 {\n    public static void main(String[] args) {\n        Son instance = new Son();\n        instance.test();\n    }\n}\n\nclass Father{\n    public void test(){//add method breakpoints here\n        System.out.println(&quot;Father : test1&quot;);\n        System.out.println(&quot;Father : test2&quot;);\n    }\n}\n\nclass Son extends Father{\n    @Override\n    public void test(){\n        System.out.println(&quot;Son : test1&quot;);\n        System.out.println(&quot;Son : test2&quot;);\n    }\n}\n</code></pre>\n<p>After starting the debug session, it automatically pauses at the first line of the &quot;test&quot; method in the &quot;Son&quot; class.</p>\n<p>Please tell why?</p>\n"},{"tags":["java","hibernate","many-to-many","hibernate-criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":26003956,"reputation":11,"user_id":19713960,"display_name":"dev.akdogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683997711,"creation_date":1683997688,"answer_id":76243990,"question_id":76212494,"body_markdown":"I solved the problem by adding aliases to the &quot;root&quot; and &quot;joinRoles&quot; parts. I did not face this problem in my other queries, but when you have a Many-to-Many relationship and need to join in the query, Hibernate gets confused with aliases. I saw the problem while debugging by evaluating it.\r\n\r\n    root.alias(&quot;generatedAlias0&quot;); \r\n    joinRoles.alias(&quot;generatedAlias1&quot;);","title":"Criteria Query For Getting User With Roles From Many to Many User-Role Relationship","body":"<p>I solved the problem by adding aliases to the &quot;root&quot; and &quot;joinRoles&quot; parts. I did not face this problem in my other queries, but when you have a Many-to-Many relationship and need to join in the query, Hibernate gets confused with aliases. I saw the problem while debugging by evaluating it.</p>\n<pre><code>root.alias(&quot;generatedAlias0&quot;); \njoinRoles.alias(&quot;generatedAlias1&quot;);\n</code></pre>\n"}],"owner":{"account_id":26003956,"reputation":11,"user_id":19713960,"display_name":"dev.akdogan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683997711,"creation_date":1683657545,"question_id":76212494,"body_markdown":"```\r\npublic class User {\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;t_user_roles&quot;,\r\n                        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n```\r\npublic class Role {\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private RoleType roleName;\r\n\r\n}\r\n```\r\n```\r\npublic enum RoleType {\r\n\r\n    ROLE_CUSTOMER(&quot;Customer&quot;),\r\n    ROLE_MANAGER(&quot;Manager&quot;),\r\n    ROLE_ADMIN(&quot;Administrator&quot;);\r\n\r\n    private String name;\r\n\r\n    private RoleType(String name) {\r\n        this.name=name;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic PageImpl&lt;UserDTO&gt; getAllUserPage(String query,RoleType role,Pageable pageable) {\r\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;User&gt; criteriaQuery = cb.createQuery(User.class);\r\n            Root&lt;User&gt; root = criteriaQuery.from(User.class);\r\n\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Predicate finalPredicate = null;\r\n\r\n            if (query != null &amp;&amp; !query.isEmpty()) {\r\n                String likeSearchText = &quot;%&quot; + query.toLowerCase(Locale.US) + &quot;%&quot;;\r\n                Predicate searchByUserFirstName = cb.like(cb.lower(root.get(&quot;firstName&quot;)), likeSearchText);\r\n                Predicate searchByUserLastName = cb.like(cb.lower(root.get(&quot;lastName&quot;)), likeSearchText);\r\n                Predicate searchByUserEmail = cb.like(cb.lower(root.get(&quot;email&quot;)), likeSearchText);\r\n                predicates.add(cb.or(searchByUserFirstName,searchByUserLastName,searchByUserEmail));\r\n            }\r\n---------------------------------------------------------------------------------------------------\r\n            if (role != null){\r\n                Join&lt;User, Role&gt; joinRoles = root.join(&quot;roles&quot;);\r\n                predicates.add(cb.equal(joinRoles.get(&quot;roleName&quot;), role));\r\n                System.err.println(role);\r\n            }\r\n---------------------------------------------------------------------------------------------------\r\n\r\n            finalPredicate = cb.and(predicates.toArray(new Predicate[0]));\r\n\r\n            criteriaQuery.orderBy(pageable.getSort().stream()\r\n                    .map(order -&gt; {\r\n                        if (order.isAscending()) {\r\n                            return cb.asc(root.get(order.getProperty()));\r\n                        } else {\r\n                            return cb.desc(root.get(order.getProperty()));\r\n                        }\r\n                    })\r\n                    .collect(Collectors.toList()));\r\n\r\n            criteriaQuery.where(finalPredicate);\r\n\r\n            TypedQuery&lt;User&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n            typedQuery.setFirstResult((int)pageable.getOffset());\r\n            typedQuery.setMaxResults(pageable.getPageSize());\r\n\r\n            CriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class);\r\n            countQuery.select(cb.count(countQuery.from(User.class)));\r\n            countQuery.where(finalPredicate);\r\n            Long totalRecords = entityManager.createQuery(countQuery).getSingleResult();\r\n\r\n            List&lt;UserDTO&gt; userDTOList = userMapper.map(typedQuery.getResultList());\r\n\r\n            return new PageImpl&lt;&gt;(userDTOList, pageable, totalRecords);\r\n    }\r\n```\r\n\r\nHello friends,\r\n\r\nAs you can see above, I have been trying to write a Criteria API query that works in all possible scenarios. In this query, the search part works completely dynamically and brings results in all possible cases. If I don&#39;t send any data, it brings all Users. However, I am having trouble with the code block I added to perform the search according to the role. I included all the code here because I thought there might be a problem with other queries. As you can see, I have User and Role classes. I cropped only the necessary parts related to the role to keep it short. In a many-to-many relationship, I have searched the internet for how to get users according to their roles, but to no avail. The roles are kept as ENUM in the Role class. There is no problem with the value, but when I execute the query, I get the error `&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: &#39;generatedAlias1.roleName&#39; [select count(generatedAlias0) from com.gpm.domains.User as generatedAlias0 where generatedAlias1.roleName=:param0]&quot;`. Although the field name is correct, I cannot get any result in any way. Can you please help me?","title":"Criteria Query For Getting User With Roles From Many to Many User-Role Relationship","body":"<pre><code>public class User {\n\n    @ManyToMany\n    @JoinTable(name = &quot;t_user_roles&quot;,\n                        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n                        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>public class Role {\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private RoleType roleName;\n\n}\n</code></pre>\n<pre><code>public enum RoleType {\n\n    ROLE_CUSTOMER(&quot;Customer&quot;),\n    ROLE_MANAGER(&quot;Manager&quot;),\n    ROLE_ADMIN(&quot;Administrator&quot;);\n\n    private String name;\n\n    private RoleType(String name) {\n        this.name=name;\n    }\n    public String getName() {\n        return name;\n}\n</code></pre>\n<pre><code>public PageImpl&lt;UserDTO&gt; getAllUserPage(String query,RoleType role,Pageable pageable) {\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;User&gt; criteriaQuery = cb.createQuery(User.class);\n            Root&lt;User&gt; root = criteriaQuery.from(User.class);\n\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            Predicate finalPredicate = null;\n\n            if (query != null &amp;&amp; !query.isEmpty()) {\n                String likeSearchText = &quot;%&quot; + query.toLowerCase(Locale.US) + &quot;%&quot;;\n                Predicate searchByUserFirstName = cb.like(cb.lower(root.get(&quot;firstName&quot;)), likeSearchText);\n                Predicate searchByUserLastName = cb.like(cb.lower(root.get(&quot;lastName&quot;)), likeSearchText);\n                Predicate searchByUserEmail = cb.like(cb.lower(root.get(&quot;email&quot;)), likeSearchText);\n                predicates.add(cb.or(searchByUserFirstName,searchByUserLastName,searchByUserEmail));\n            }\n---------------------------------------------------------------------------------------------------\n            if (role != null){\n                Join&lt;User, Role&gt; joinRoles = root.join(&quot;roles&quot;);\n                predicates.add(cb.equal(joinRoles.get(&quot;roleName&quot;), role));\n                System.err.println(role);\n            }\n---------------------------------------------------------------------------------------------------\n\n            finalPredicate = cb.and(predicates.toArray(new Predicate[0]));\n\n            criteriaQuery.orderBy(pageable.getSort().stream()\n                    .map(order -&gt; {\n                        if (order.isAscending()) {\n                            return cb.asc(root.get(order.getProperty()));\n                        } else {\n                            return cb.desc(root.get(order.getProperty()));\n                        }\n                    })\n                    .collect(Collectors.toList()));\n\n            criteriaQuery.where(finalPredicate);\n\n            TypedQuery&lt;User&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n            typedQuery.setFirstResult((int)pageable.getOffset());\n            typedQuery.setMaxResults(pageable.getPageSize());\n\n            CriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class);\n            countQuery.select(cb.count(countQuery.from(User.class)));\n            countQuery.where(finalPredicate);\n            Long totalRecords = entityManager.createQuery(countQuery).getSingleResult();\n\n            List&lt;UserDTO&gt; userDTOList = userMapper.map(typedQuery.getResultList());\n\n            return new PageImpl&lt;&gt;(userDTOList, pageable, totalRecords);\n    }\n</code></pre>\n<p>Hello friends,</p>\n<p>As you can see above, I have been trying to write a Criteria API query that works in all possible scenarios. In this query, the search part works completely dynamically and brings results in all possible cases. If I don't send any data, it brings all Users. However, I am having trouble with the code block I added to perform the search according to the role. I included all the code here because I thought there might be a problem with other queries. As you can see, I have User and Role classes. I cropped only the necessary parts related to the role to keep it short. In a many-to-many relationship, I have searched the internet for how to get users according to their roles, but to no avail. The roles are kept as ENUM in the Role class. There is no problem with the value, but when I execute the query, I get the error <code>&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'generatedAlias1.roleName' [select count(generatedAlias0) from com.gpm.domains.User as generatedAlias0 where generatedAlias1.roleName=:param0]&quot;</code>. Although the field name is correct, I cannot get any result in any way. Can you please help me?</p>\n"},{"tags":["java","spring","jpa","hash","equals"],"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683997476,"creation_date":1683997476,"question_id":76243972,"body_markdown":"I have Question DB entity:\r\n\r\n```\r\npublic class Question {\r\n    @Id\r\n    @UuidGenerator\r\n    @Column(name = &quot;question_id&quot;)\r\n    private String questionId;\r\n\r\n    @Column(name = &quot;text&quot;)\r\n    private String text;\r\n\r\n    @Column(name = &quot;correct_answer_description&quot;)\r\n    private String correctAnswerDescription;\r\n\r\n    @Column(name = &quot;correct_answers_number&quot;)\r\n    private Integer correctAnswersNumber;\r\n\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;question_answers&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;fk_question_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;fk_quiz_id&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;Quiz&gt; quizzes = new HashSet&lt;&gt;();\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @CreationTimestamp\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private LocalDateTime creationDate;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;update_date&quot;)\r\n    private LocalDateTime updateDate;\r\n}\r\n```\r\nAnd I also have QuestionCreationForm\r\n```\r\npublic class QuestionCreationForm {\r\n    @NotBlank\r\n    private String text;\r\n    private String correctAnswerDescription;\r\n    @NotNull\r\n    @Range(min = 0)\r\n    private Integer correctAnswerNumber;\r\n\r\n    @NotEmpty(message = &quot;Answers should not be empty&quot;)\r\n    @Valid\r\n    @Builder.Default\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    private List&lt;AnswerApi&gt; answers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nMy goal is create **save ** endpoint from set like this:\r\n```\r\n    @PostMapping\r\n    public ResponseEntity&lt;List&lt;QuestionApi&gt;&gt; save(final @PathVariable(&quot;quizId&quot;) String quizId,\r\n                                                  final @RequestBody @NotEmpty   Set&lt;QuestionCreationForm&gt; questions) {\r\n        final List&lt;QuestionApi&gt; createdQuestions = questionService.create(questions, quizId)\r\n                                                                  .stream()\r\n                                                                  .map(questionMapper::toApi)\r\n                                                                  .collect(Collectors.toList());\r\n\r\n        return new ResponseEntity&lt;&gt;(createdQuestions, HttpStatus.OK);\r\n    }\r\n```\r\nBut I have some problem in service:\r\n```\r\n    public List&lt;Question&gt; save(final Set&lt;QuestionCreationForm&gt; createdQuestionsApi,\r\n                               final String quizId) {\r\n        final Quiz quiz = quizService.findById(quizId)\r\n                                     .orElseThrow(() -&gt; new QuizEntityNotFoundException(ENTITY_NOT_FOUND_BY_ID_EXCEPTION, quizId));\r\n        final Set&lt;Question&gt; existedQuestions = questionRepository.findAllByQuizIdWithAnswers(quizId);\r\n        final Set&lt;Question&gt; createdQuestion = createdQuestionsApi.stream()\r\n                                                                 .map(questionMapper::toDomain)\r\n                                                                 .collect(Collectors.toSet());\r\n\r\n        //The problem here, method use equals and hashcode, but fields like creat and update date does no exist\r\n        //So have no unique entities and this is cause to problem with create same question\r\n        final var subtract = CollectionUtils.subtract(createdQuestion, existedQuestions);\r\n\r\n        if (subtract.isEmpty()) {\r\n            throw new QuizBadRequestException(QUESTION_EMPTY_ARRAY_EXCEPTION);\r\n        }\r\n\r\n        subtract.forEach(question -&gt; question.addQuiz(quiz));\r\n\r\n        return questionRepository.saveAll(subtract);\r\n    }\r\n```\r\nThe main problem, is that **CollectionUtils.subtract** (take only elems that exist in collection1 and do not exist in collection 2) used equals method that is used for all fields in db entity. So my question is, what is best option to choose:\r\n1. Do not use quizId and others fields in equals but I think is not ok, because on my opinion in DB entities level, this entites realy different\r\n2. Return from DB DTO entity, and compare by this dto\r\n3. Create is same method, and us if-else statements to check for unique\r\n4. Your variants\r\n\r\n\r\n\r\nI`m want to find best solution for comparing 2 entites by different equals and hash code in different situations","title":"Can I compare DB entities by equals in hashcode with different fields?","body":"<p>I have Question DB entity:</p>\n<pre><code>public class Question {\n    @Id\n    @UuidGenerator\n    @Column(name = &quot;question_id&quot;)\n    private String questionId;\n\n    @Column(name = &quot;text&quot;)\n    private String text;\n\n    @Column(name = &quot;correct_answer_description&quot;)\n    private String correctAnswerDescription;\n\n    @Column(name = &quot;correct_answers_number&quot;)\n    private Integer correctAnswersNumber;\n\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;question_answers&quot;,\n            joinColumns = @JoinColumn(name = &quot;fk_question_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;fk_quiz_id&quot;)\n    )\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set&lt;Quiz&gt; quizzes = new HashSet&lt;&gt;();\n\n    @EqualsAndHashCode.Exclude\n    @CreationTimestamp\n    @Column(name = &quot;creation_date&quot;)\n    private LocalDateTime creationDate;\n\n    @EqualsAndHashCode.Exclude\n    @UpdateTimestamp\n    @Column(name = &quot;update_date&quot;)\n    private LocalDateTime updateDate;\n}\n</code></pre>\n<p>And I also have QuestionCreationForm</p>\n<pre><code>public class QuestionCreationForm {\n    @NotBlank\n    private String text;\n    private String correctAnswerDescription;\n    @NotNull\n    @Range(min = 0)\n    private Integer correctAnswerNumber;\n\n    @NotEmpty(message = &quot;Answers should not be empty&quot;)\n    @Valid\n    @Builder.Default\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\n    private List&lt;AnswerApi&gt; answers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>My goal is create **save ** endpoint from set like this:</p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;List&lt;QuestionApi&gt;&gt; save(final @PathVariable(&quot;quizId&quot;) String quizId,\n                                                  final @RequestBody @NotEmpty   Set&lt;QuestionCreationForm&gt; questions) {\n        final List&lt;QuestionApi&gt; createdQuestions = questionService.create(questions, quizId)\n                                                                  .stream()\n                                                                  .map(questionMapper::toApi)\n                                                                  .collect(Collectors.toList());\n\n        return new ResponseEntity&lt;&gt;(createdQuestions, HttpStatus.OK);\n    }\n</code></pre>\n<p>But I have some problem in service:</p>\n<pre><code>    public List&lt;Question&gt; save(final Set&lt;QuestionCreationForm&gt; createdQuestionsApi,\n                               final String quizId) {\n        final Quiz quiz = quizService.findById(quizId)\n                                     .orElseThrow(() -&gt; new QuizEntityNotFoundException(ENTITY_NOT_FOUND_BY_ID_EXCEPTION, quizId));\n        final Set&lt;Question&gt; existedQuestions = questionRepository.findAllByQuizIdWithAnswers(quizId);\n        final Set&lt;Question&gt; createdQuestion = createdQuestionsApi.stream()\n                                                                 .map(questionMapper::toDomain)\n                                                                 .collect(Collectors.toSet());\n\n        //The problem here, method use equals and hashcode, but fields like creat and update date does no exist\n        //So have no unique entities and this is cause to problem with create same question\n        final var subtract = CollectionUtils.subtract(createdQuestion, existedQuestions);\n\n        if (subtract.isEmpty()) {\n            throw new QuizBadRequestException(QUESTION_EMPTY_ARRAY_EXCEPTION);\n        }\n\n        subtract.forEach(question -&gt; question.addQuiz(quiz));\n\n        return questionRepository.saveAll(subtract);\n    }\n</code></pre>\n<p>The main problem, is that <strong>CollectionUtils.subtract</strong> (take only elems that exist in collection1 and do not exist in collection 2) used equals method that is used for all fields in db entity. So my question is, what is best option to choose:</p>\n<ol>\n<li>Do not use quizId and others fields in equals but I think is not ok, because on my opinion in DB entities level, this entites realy different</li>\n<li>Return from DB DTO entity, and compare by this dto</li>\n<li>Create is same method, and us if-else statements to check for unique</li>\n<li>Your variants</li>\n</ol>\n<p>I`m want to find best solution for comparing 2 entites by different equals and hash code in different situations</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-data-r2dbc","r2dbc"],"owner":{"account_id":22802628,"reputation":1,"user_id":16955074,"display_name":"Devansh Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683996398,"creation_date":1683996398,"question_id":76243884,"body_markdown":"The ask is : \r\n1) to run a SELECT statement (with offset and limit)\r\n2) to run a COUNT statement (without offset &amp; limit)\r\n\r\nNow, we want to run these two queries at once in r2dbc in an asynchronous manner(so that we send and get the result in same time, not to wait for one to finish executing and then send another, to make use of reactive programming and reduce time)\r\n\r\nThis is to implement pagination so that we can tell the user how many pages are there after the current page.\r\n\r\nThis is how we&#39;re sending the select query : \r\n\r\n`        return r2dbcTemplate.getDatabaseClient()\r\n                .sql(query)\r\n                .fetch()\r\n                .all()\r\n                .collectList();`\r\n\r\nthe variable **query** contains the SELECT query\r\n\r\nAny ways to implement the above stated ask ?\r\n\r\nTech stack used : \r\nApplication -&gt; Java 17 &amp; Spring boot\r\nDB -&gt; Postgres\r\n\r\nWe&#39;ve have tried sending the two queries in a synchronous manner (one after the other),\r\nbut it defeats the purpose of reactive approach.\r\n\r\n","title":"How to execute two queries simultaneously(in asynchronous manner) using r2dbc in reactive java","body":"<p>The ask is :</p>\n<ol>\n<li>to run a SELECT statement (with offset and limit)</li>\n<li>to run a COUNT statement (without offset &amp; limit)</li>\n</ol>\n<p>Now, we want to run these two queries at once in r2dbc in an asynchronous manner(so that we send and get the result in same time, not to wait for one to finish executing and then send another, to make use of reactive programming and reduce time)</p>\n<p>This is to implement pagination so that we can tell the user how many pages are there after the current page.</p>\n<p>This is how we're sending the select query :</p>\n<p><code>        return r2dbcTemplate.getDatabaseClient() .sql(query) .fetch() .all() .collectList();</code></p>\n<p>the variable <strong>query</strong> contains the SELECT query</p>\n<p>Any ways to implement the above stated ask ?</p>\n<p>Tech stack used :\nApplication -&gt; Java 17 &amp; Spring boot\nDB -&gt; Postgres</p>\n<p>We've have tried sending the two queries in a synchronous manner (one after the other),\nbut it defeats the purpose of reactive approach.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","one-to-many"],"owner":{"account_id":26135489,"reputation":5,"user_id":19825550,"display_name":"Alex So"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683996081,"creation_date":1683987181,"question_id":76243172,"body_markdown":"I want to build a api with result that contain a order entity with attribute of a \r\nlist of productMap (which is a map of ordered products with Product as key and value as the number of product)The api will also expected displayed to whole product entity correspond to the map .Order is One to Many to product.My latest approach for it is to build a new table ProductMap for storing the one to many relationship.\r\n\r\nHere is the code for entity of order:\r\n```\r\n@Data\r\n@Entity\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;Order_table&quot;)\r\npublic class Order {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID OrderId;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;op_fk&quot;)\r\n    private List&lt;ProductMap&gt; productsMap_key;\r\n\r\n\r\n\r\n    private double amount;\r\n\r\n    private LocalDate date;\r\n\r\n    private LocalDate dueDate;\r\n\r\n    @OneToOne @MapsId\r\n    private Invoice invoice;\r\n\r\n    @ManyToOne(targetEntity = Customer.class,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;oi_fk&quot;,referencedColumnName = &quot;CustomerId&quot;)\r\n    private Customer customer;\r\n\r\n\r\n}\r\n```\r\nThe product:\r\n```\r\nEntity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table\r\n@Builder\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID ProductId;\r\n\r\n    private String ProductName;\r\n\r\n    private double price;\r\n\r\n    private int storage;\r\n\r\n\r\n\r\n}\r\n```\r\nThe productMap entity:\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table\r\n@Builder\r\npublic class ProductMap {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID ProductMapId;\r\n\r\n    private UUID OrderId;\r\n\r\n    private UUID ProductId;\r\n\r\n    private int quantity;\r\n}\r\n```\r\n\r\nIs there any better approach for this problem since it is actually quiet complicated and not straight-forward for implmenting join table relations    , i have think of adding the true query directly or seperate the sql the serveral small function and group them by function but as i know that using join table directly in sql in not recommended .","title":"handling join table in springboot for mysql","body":"<p>I want to build a api with result that contain a order entity with attribute of a\nlist of productMap (which is a map of ordered products with Product as key and value as the number of product)The api will also expected displayed to whole product entity correspond to the map .Order is One to Many to product.My latest approach for it is to build a new table ProductMap for storing the one to many relationship.</p>\n<p>Here is the code for entity of order:</p>\n<pre><code>@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;Order_table&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue\n    private UUID OrderId;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;op_fk&quot;)\n    private List&lt;ProductMap&gt; productsMap_key;\n\n\n\n    private double amount;\n\n    private LocalDate date;\n\n    private LocalDate dueDate;\n\n    @OneToOne @MapsId\n    private Invoice invoice;\n\n    @ManyToOne(targetEntity = Customer.class,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;oi_fk&quot;,referencedColumnName = &quot;CustomerId&quot;)\n    private Customer customer;\n\n\n}\n</code></pre>\n<p>The product:</p>\n<pre><code>Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table\n@Builder\npublic class Product {\n    @Id\n    @GeneratedValue\n    private UUID ProductId;\n\n    private String ProductName;\n\n    private double price;\n\n    private int storage;\n\n\n\n}\n</code></pre>\n<p>The productMap entity:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table\n@Builder\npublic class ProductMap {\n    @Id\n    @GeneratedValue\n    private UUID ProductMapId;\n\n    private UUID OrderId;\n\n    private UUID ProductId;\n\n    private int quantity;\n}\n</code></pre>\n<p>Is there any better approach for this problem since it is actually quiet complicated and not straight-forward for implmenting join table relations    , i have think of adding the true query directly or seperate the sql the serveral small function and group them by function but as i know that using join table directly in sql in not recommended .</p>\n"},{"tags":["java","android","location","crash"],"answers":[{"comments":[{"owner":{"display_name":"user7082793"},"score":0,"creation_date":1508764794,"post_id":46883294,"comment_id":80727912,"body_markdown":"Ok so i have tried implementing both of these things and it seems the error still occurs. My manifest already had access fine location and I am having a hard time following the logs as i am relatively new to android studio. If you would like the new code, which isn&#39;t very different from the original, just let me know. Thanks!","body":"Ok so i have tried implementing both of these things and it seems the error still occurs. My manifest already had access fine location and I am having a hard time following the logs as i am relatively new to android studio. If you would like the new code, which isn&#39;t very different from the original, just let me know. Thanks!"},{"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"score":0,"creation_date":1508765523,"post_id":46883294,"comment_id":80728417,"body_markdown":"Works for me. Please update the post with your changes, and I&#39;ll have a look-see.","body":"Works for me. Please update the post with your changes, and I&#39;ll have a look-see."},{"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"score":0,"creation_date":1508770178,"post_id":46883294,"comment_id":80731724,"body_markdown":"Your error log shows that the `locationManager` field is `null`. Since your code works just fine for me, I don&#39;t see what the problem is. You can work around the problem by deleting the field and instead creating a local variable in the two places you use the location manager.","body":"Your error log shows that the <code>locationManager</code> field is <code>null</code>. Since your code works just fine for me, I don&#39;t see what the problem is. You can work around the problem by deleting the field and instead creating a local variable in the two places you use the location manager."},{"owner":{"display_name":"user7082793"},"score":0,"creation_date":1508776701,"post_id":46883294,"comment_id":80735779,"body_markdown":"could it be the device im using? Im not using an emulator. Also if it helps, the app does not crash when i deny permission","body":"could it be the device im using? Im not using an emulator. Also if it helps, the app does not crash when i deny permission"},{"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"score":0,"creation_date":1508819528,"post_id":46883294,"comment_id":80751191,"body_markdown":"I don&#39;t think it&#39;s your device. If you can provide a [complete, minimal example](https://stackoverflow.com/help/mcve) that exhibits your problem I&#39;ll have another look.","body":"I don&#39;t think it&#39;s your device. If you can provide a <a href=\"https://stackoverflow.com/help/mcve\">complete, minimal example</a> that exhibits your problem I&#39;ll have another look."}],"tags":[],"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508741791,"creation_date":1508740688,"answer_id":46883294,"question_id":46881417,"body_markdown":"Two problems here:\r\n\r\n1. You do not initialize the `locationManager` field. Your call to `locationManager.requestLocationUpdates` results in a `NullPointerException`.\r\n\r\n2. You do not initialize the `provider` field. Your call to `locationManager.requestLocationUpdates` does not like this.\r\n\r\nTo fix the first problem, add this override:\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n    }\r\n\r\nTo fix the second problem, throw out your `provider` field and use `LocationManager.GPS_PROVIDER` (or one of the other providers defined in `LocationManager`) instead. Or initialize the `provider` field.\r\n\r\n---\r\n\r\nSetting breakpoints and running the program under a debugger is a good way to find such problems. Another approach is to look at logs &amp;ndash; I&#39;ll bet there&#39;s a relevant stack trace in there somewhere.\r\n\r\n---\r\n\r\nAlso ensure that your manifest mentions the requisite permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n","title":"App Crashes instantly after asking for location permission","body":"<p>Two problems here:</p>\n\n<ol>\n<li><p>You do not initialize the <code>locationManager</code> field. Your call to <code>locationManager.requestLocationUpdates</code> results in a <code>NullPointerException</code>.</p></li>\n<li><p>You do not initialize the <code>provider</code> field. Your call to <code>locationManager.requestLocationUpdates</code> does not like this.</p></li>\n</ol>\n\n<p>To fix the first problem, add this override:</p>\n\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n}\n</code></pre>\n\n<p>To fix the second problem, throw out your <code>provider</code> field and use <code>LocationManager.GPS_PROVIDER</code> (or one of the other providers defined in <code>LocationManager</code>) instead. Or initialize the <code>provider</code> field.</p>\n\n<hr>\n\n<p>Setting breakpoints and running the program under a debugger is a good way to find such problems. Another approach is to look at logs &ndash; I'll bet there's a relevant stack trace in there somewhere.</p>\n\n<hr>\n\n<p>Also ensure that your manifest mentions the requisite permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user7082793"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683995922,"creation_date":1508728257,"question_id":46881417,"body_markdown":"I have looked for question similar to this and all of them did not include the catlog so nobody could really help them. I have made sure to include it here so I hope you can help! Basically as soon as I Open the app it prompts me with a  location permission saying will I allow it. As soon as i hit yes, the app crashes!\r\n\r\n    package com.worden.jason.sample;\r\n    \r\n    import android.Manifest;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.location.Location;\r\n    import android.location.LocationListener;\r\n    import android.location.LocationManager;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v4.app.ActivityCompat;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        LocationManager locationManager;\r\n        public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n        String provider;\r\n        public void Analysis(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Analysis.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public void Tips(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Tips.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public boolean checkLocationPermission() {\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n    \r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(R.string.TileLocation)\r\n                            .setMessage(R.string.TextLocation)\r\n                            .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    //Prompt the user once explanation has been shown\r\n                                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                                }\r\n                            })\r\n                            .create()\r\n                            .show();\r\n                } else {\r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                }\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String permissions[], @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.length &gt; 0\r\n                            &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                        // location-related task you need to do.\r\n    \r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                                == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                            locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n                        }\r\n    \r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n\t\t\t\t\t}\r\n                    return;\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n    \r\n\t\t@Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            if (checkLocationPermission()) {\r\n                if (ContextCompat.checkSelfPermission(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    //Request location updates:\r\n                    locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n[log for crash][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GO3hl.png\r\n\r\nEDIT \r\n\r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        LocationManager locationManager;\r\n        public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n        **String GPS_PROVIDER;**\r\n        public void Analysis(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Analysis.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public void Tips(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Tips.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        **@Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);**\r\n        }\r\n    \r\n        public boolean checkLocationPermission() {\r\n    \r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n    \r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(R.string.TileLocation)\r\n                            .setMessage(R.string.TextLocation)\r\n                            .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    //Prompt the user once explanation has been shown\r\n                                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                                }\r\n                            })\r\n                            .create()\r\n                            .show();\r\n    \r\n    \r\n                } else {\r\n    \r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                }\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String permissions[], @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.length &gt; 0\r\n                            &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                        // location-related task you need to do.\r\n    \r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                                == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                            locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\r\n                        }\r\n    \r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n    \r\n    \r\n                    }\r\n                    return;\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            if (checkLocationPermission()) {\r\n                if (ContextCompat.checkSelfPermission(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    //Request location updates:\r\n                    locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n","title":"App Crashes instantly after asking for location permission","body":"<p>I have looked for question similar to this and all of them did not include the catlog so nobody could really help them. I have made sure to include it here so I hope you can help! Basically as soon as I Open the app it prompts me with a  location permission saying will I allow it. As soon as i hit yes, the app crashes!</p>\n\n<pre><code>package com.worden.jason.sample;\n\nimport android.Manifest;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.support.annotation.NonNull;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class MainActivity extends AppCompatActivity implements LocationListener {\n    LocationManager locationManager;\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\n    String provider;\n    public void Analysis(View view) {\n        Intent intent = new Intent(MainActivity.this,Analysis.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void Tips(View view) {\n        Intent intent = new Intent(MainActivity.this,Tips.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public boolean checkLocationPermission() {\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n                new AlertDialog.Builder(this)\n                        .setTitle(R.string.TileLocation)\n                        .setMessage(R.string.TextLocation)\n                        .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //Prompt the user once explanation has been shown\n                                ActivityCompat.requestPermissions(MainActivity.this,\n                                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                                        MY_PERMISSIONS_REQUEST_LOCATION);\n                            }\n                        })\n                        .create()\n                        .show();\n            } else {\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                        MY_PERMISSIONS_REQUEST_LOCATION);\n            }\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                    // location-related task you need to do.\n\n                    if (ContextCompat.checkSelfPermission(this,\n                            Manifest.permission.ACCESS_FINE_LOCATION)\n                            == PackageManager.PERMISSION_GRANTED) {\n\n\n                        locationManager.requestLocationUpdates(provider, 400, 1, this);\n                    }\n\n                } else {\n\n                    // permission denied, boo! Disable the\n                }\n                return;\n            }\n\n        }\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (checkLocationPermission()) {\n            if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n                    == PackageManager.PERMISSION_GRANTED) {\n\n                //Request location updates:\n                locationManager.requestLocationUpdates(provider, 400, 1, this);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GO3hl.png\" rel=\"nofollow noreferrer\">log for crash</a></p>\n\n<p>EDIT </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements LocationListener {\n    LocationManager locationManager;\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\n    **String GPS_PROVIDER;**\n    public void Analysis(View view) {\n        Intent intent = new Intent(MainActivity.this,Analysis.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void Tips(View view) {\n        Intent intent = new Intent(MainActivity.this,Tips.class);\n        startActivity(intent);\n        finish();\n    }\n    **@Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);**\n    }\n\n    public boolean checkLocationPermission() {\n\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n                new AlertDialog.Builder(this)\n                        .setTitle(R.string.TileLocation)\n                        .setMessage(R.string.TextLocation)\n                        .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //Prompt the user once explanation has been shown\n                                ActivityCompat.requestPermissions(MainActivity.this,\n                                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                                        MY_PERMISSIONS_REQUEST_LOCATION);\n                            }\n                        })\n                        .create()\n                        .show();\n\n\n            } else {\n\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                        MY_PERMISSIONS_REQUEST_LOCATION);\n            }\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n\n                    // location-related task you need to do.\n\n                    if (ContextCompat.checkSelfPermission(this,\n                            Manifest.permission.ACCESS_FINE_LOCATION)\n                            == PackageManager.PERMISSION_GRANTED) {\n\n\n                        locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\n                    }\n\n                } else {\n\n                    // permission denied, boo! Disable the\n\n\n                }\n                return;\n            }\n\n        }\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (checkLocationPermission()) {\n            if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n                    == PackageManager.PERMISSION_GRANTED) {\n\n                //Request location updates:\n                locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683920091,"creation_date":1683919781,"answer_id":76239398,"question_id":76239201,"body_markdown":"There&#39;s no difference in your example.\r\n\r\nBut if your function property were nullable, you would need `invoke` to be able to do a null-safe invocation of the function:\r\n```\r\nprivate fun mFun(maybeNullFunc: ((String) -&gt; Unit)?) {\r\n    maybeNullFunc?.invoke(&quot;NAme&quot;)\r\n}\r\n```\r\n\r\nSide notes:\r\n\r\n * `mMethod` is improper use of Hungarian notation. `m` as a prefix means &quot;member&quot;, which a function property is not. In Kotlin, member references are properties. Most programmers do not use Hungarian notation, by the way.\r\n * &quot;method&quot; is a misleading name for your parameter. It&#39;s a function, but not necessarily a method. A method is a function that is a member of a class. \r\n\r\nFor example: here I&#39;m calling your function with a method of String:\r\n\r\n```\r\nmFun(String::length)\r\n```\r\n\r\nbut here I&#39;m not:\r\n\r\n```\r\nmFun { println(it.length) }\r\n```","title":"Simple call VS Invoke in kotlin","body":"<p>There's no difference in your example.</p>\n<p>But if your function property were nullable, you would need <code>invoke</code> to be able to do a null-safe invocation of the function:</p>\n<pre><code>private fun mFun(maybeNullFunc: ((String) -&gt; Unit)?) {\n    maybeNullFunc?.invoke(&quot;NAme&quot;)\n}\n</code></pre>\n<p>Side notes:</p>\n<ul>\n<li><code>mMethod</code> is improper use of Hungarian notation. <code>m</code> as a prefix means &quot;member&quot;, which a function property is not. In Kotlin, member references are properties. Most programmers do not use Hungarian notation, by the way.</li>\n<li>&quot;method&quot; is a misleading name for your parameter. It's a function, but not necessarily a method. A method is a function that is a member of a class.</li>\n</ul>\n<p>For example: here I'm calling your function with a method of String:</p>\n<pre><code>mFun(String::length)\n</code></pre>\n<p>but here I'm not:</p>\n<pre><code>mFun { println(it.length) }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23607791,"reputation":245,"user_id":17643249,"display_name":"lelestacia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683995210,"creation_date":1683995210,"answer_id":76243791,"question_id":76239201,"body_markdown":"the 2nd invoke method allow you to call the function of a class as if they were a function inside your class or scope, and not on the other class. Theres no difference between them, to use both of them you still need to create an instance of the class.","title":"Simple call VS Invoke in kotlin","body":"<p>the 2nd invoke method allow you to call the function of a class as if they were a function inside your class or scope, and not on the other class. Theres no difference between them, to use both of them you still need to create an instance of the class.</p>\n"}],"owner":{"account_id":13941942,"reputation":392,"user_id":10090030,"display_name":"Ali Doran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683995210,"creation_date":1683917735,"question_id":76239201,"body_markdown":"Can you explain the distinction between directly calling a passed method and utilizing the invoke function?\r\n\r\n        private fun mFun(mMethod: (String) -&gt; Unit){\r\n        mMethod(&quot;Name&quot;)\r\n        mMethod.invoke(&quot;NAme&quot;)\r\n    }","title":"Simple call VS Invoke in kotlin","body":"<p>Can you explain the distinction between directly calling a passed method and utilizing the invoke function?</p>\n<pre><code>    private fun mFun(mMethod: (String) -&gt; Unit){\n    mMethod(&quot;Name&quot;)\n    mMethod.invoke(&quot;NAme&quot;)\n}\n</code></pre>\n"},{"tags":["java","android-studio","junit"],"owner":{"account_id":27590344,"reputation":11,"user_id":21057676,"display_name":"ewittman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683995138,"creation_date":1683995138,"question_id":76243787,"body_markdown":"I have a project with some JUnit tests that have been working for a while. I finally got around to updating Android Studio (4.2.2 to 2022.2.1 (Flamingo)), and now my unit test configurations aren&#39;t recognized. Since I skipped a few versions, I&#39;m not sure which one actually made the breaking change. `Error running &#39;MyClassTests&#39;: Unknown run configuration type AndroidJUnit`\r\n\r\nI can right click on the unit test class and select run, but that runs very slowly. It took about 4 minutes despite the test results showing that the tests took just under 9 seconds. I saw that configuration was added in the Gradle section in the Run/Debug Configurations window. I made a new JUnit configuration since that is more similar to the original ones I made a while ago, and after some issues, I got one of my styles of tests to work, and it only took about 15 seconds to run. Why is the Gradle configuration so much slower, and is there anything I can do to speed it up? Assuming I can&#39;t fix that, I&#39;m focusing on the JUnit configuration.\r\n\r\nI can&#39;t figure out how to get my second style of tests to run successfully with the JUnit configuration.\r\n\r\nFor both styles, I&#39;m using the answer from [this stackoverflow post](https://stackoverflow.com/a/46793567/21057676) to mock a few Android classes like Log without third party libraries by creating the `.java` file with the fake in the appropriate folder under `app/src/test/java/android`. With my second style of tests, I haven&#39;t been able to figure out how to avoid getting `java.lang.RuntimeException: Stub!` for methods in those classes that are supposed to be mocked when I run the tests. I&#39;m not completely sure how my fake versions end up replacing the original classes for running the tests, so I&#39;m not sure what I need to do with the test configuration to ensure that still happens.\r\n\r\nStyle 1:\r\n\r\n```\r\n@RunWith(Enclosed.class)\r\npublic class MyClassTests1 {\r\n    @RunWith(Parameterized.class)\r\n    public static class FooTest {\r\n        private final MyTestCase testCase;\r\n        public FooTest(MyTestCase testCase) {\r\n            this.testCase = testCase;\r\n        }\r\n        @Parameters(name = &quot;{index}: {0}&quot;)\r\n        public static Collection&lt;Object[]&gt; parameters() {\r\n            // build parameterized test cases\r\n        }\r\n        @Test\r\n        public void testA() {\r\n            // perform the test\r\n        }\r\n        @Test\r\n        public void testB() {\r\n            // perform the test\r\n        }\r\n    }\r\n    @RunWith(Parameterized.class)\r\n    public static class BarTest {\r\n        private final MyTestCase testCase;\r\n        public BarTest(MyTestCase testCase) {\r\n            this.testCase = testCase;\r\n        }\r\n        @Parameters(name = &quot;{index}: {0}&quot;)\r\n        public static Collection&lt;Object[]&gt; parameters() {\r\n            // build parameterized test cases\r\n        }\r\n        @Test\r\n        public void testC() {\r\n            // perform the test\r\n        }\r\n    }\r\n}\r\n```\r\nStyle 2:\r\n```\r\npublic class MyClassTests2 {\r\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\r\n    @MethodSource(&quot;foo_parameters&quot;)\r\n    public void foo(final MyTestCase testCase) {\r\n        // perform the test\r\n    }\r\n    private static Stream&lt;MyTestCase&gt; foo_parameters() {\r\n        // build parameterized test cases\r\n    }\r\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\r\n    @MethodSource(&quot;bar_parameters&quot;)\r\n    public void bar(final MyTestCase testCase) {\r\n        // perform the test\r\n    }\r\n    private static Stream&lt;MyTestCase&gt; bar_parameters() {\r\n        // build parameterized test cases\r\n    }\r\n}\r\n```\r\n\r\nOriginal configuration for both styles from `.idea/workspace.xml`:\r\n```\r\n&lt;configuration name=&quot;MyClassTests&quot; type=&quot;AndroidJUnit&quot; factoryName=&quot;Android JUnit&quot; temporary=&quot;true&quot; nameIsGenerated=&quot;true&quot;&gt;\r\n  &lt;module name=&quot;MyProject.app&quot; /&gt;\r\n  &lt;useClassPathOnly /&gt;\r\n  &lt;option name=&quot;PACKAGE_NAME&quot; value=&quot;com.example.myproject&quot; /&gt;\r\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;com.example.myproject.MyClassTests&quot; /&gt;\r\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;class&quot; /&gt;\r\n  &lt;option name=&quot;PARAMETERS&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;WORKING_DIRECTORY&quot; value=&quot;$MODULE_DIR$&quot; /&gt;\r\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\r\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\r\n  &lt;/option&gt;\r\n  &lt;method v=&quot;2&quot;&gt;\r\n    &lt;option name=&quot;Android.Gradle.BeforeRunTask&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;/method&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWorking configuration for my first style:\r\n```\r\n&lt;configuration name=&quot;MyClassTests1&quot; type=&quot;JUnit&quot; factoryName=&quot;JUnit&quot;&gt;\r\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;pattern&quot; /&gt;\r\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\r\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\r\n  &lt;/option&gt;\r\n  &lt;patterns&gt;\r\n    &lt;pattern testClass=&quot;com.example.myproject.MyClassTests1$*&quot; /&gt;\r\n  &lt;/patterns&gt;\r\n  &lt;method v=&quot;2&quot;&gt;\r\n    &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;/method&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nOne thing I noticed is that these versions of Android Studio handle the classpath differently. In 4.2.2, I could only select `&lt;no module&gt;`, `MyProject`, or `MyProject.app`, but now in 2022.2.1, I also have the options `MyProject.app.androidTest`, `MyProject.app.main`, and `MyProject.app.unitTest`. If I want to run tests from a specific class, I have to use `MyProject.app.unitTest`. If I select a different one, the class field shows an error like `Class &#39;com.example.myproject.MyClassTests&#39; not found in module &#39;MyProjectDirectory.app&#39;` or `Module not specified`. If I use `MyProject.app.unitTest` and specify the class for either style, I get the error `java.lang.RuntimeException: Stub!`, which is why I swapped to use the pattern for the first style. I couldn&#39;t figure out how to get a pattern to get around the error for the second style. The pattern solution for the first style shows the full `com.example.myproject.MyClassTests1$FooTest` name in the results, which is more verbose than it needs to be, but it&#39;s not a big deal.\r\n\r\nI think it would make the most sense to use `MyProject.app.unitTest` for the codepath and run it for a specific test class. Is there something I need to do now to get it to use my fake class instead of the stubbed Android code?","title":"Fix broken JUnit configuration in Android Studio","body":"<p>I have a project with some JUnit tests that have been working for a while. I finally got around to updating Android Studio (4.2.2 to 2022.2.1 (Flamingo)), and now my unit test configurations aren't recognized. Since I skipped a few versions, I'm not sure which one actually made the breaking change. <code>Error running 'MyClassTests': Unknown run configuration type AndroidJUnit</code></p>\n<p>I can right click on the unit test class and select run, but that runs very slowly. It took about 4 minutes despite the test results showing that the tests took just under 9 seconds. I saw that configuration was added in the Gradle section in the Run/Debug Configurations window. I made a new JUnit configuration since that is more similar to the original ones I made a while ago, and after some issues, I got one of my styles of tests to work, and it only took about 15 seconds to run. Why is the Gradle configuration so much slower, and is there anything I can do to speed it up? Assuming I can't fix that, I'm focusing on the JUnit configuration.</p>\n<p>I can't figure out how to get my second style of tests to run successfully with the JUnit configuration.</p>\n<p>For both styles, I'm using the answer from <a href=\"https://stackoverflow.com/a/46793567/21057676\">this stackoverflow post</a> to mock a few Android classes like Log without third party libraries by creating the <code>.java</code> file with the fake in the appropriate folder under <code>app/src/test/java/android</code>. With my second style of tests, I haven't been able to figure out how to avoid getting <code>java.lang.RuntimeException: Stub!</code> for methods in those classes that are supposed to be mocked when I run the tests. I'm not completely sure how my fake versions end up replacing the original classes for running the tests, so I'm not sure what I need to do with the test configuration to ensure that still happens.</p>\n<p>Style 1:</p>\n<pre><code>@RunWith(Enclosed.class)\npublic class MyClassTests1 {\n    @RunWith(Parameterized.class)\n    public static class FooTest {\n        private final MyTestCase testCase;\n        public FooTest(MyTestCase testCase) {\n            this.testCase = testCase;\n        }\n        @Parameters(name = &quot;{index}: {0}&quot;)\n        public static Collection&lt;Object[]&gt; parameters() {\n            // build parameterized test cases\n        }\n        @Test\n        public void testA() {\n            // perform the test\n        }\n        @Test\n        public void testB() {\n            // perform the test\n        }\n    }\n    @RunWith(Parameterized.class)\n    public static class BarTest {\n        private final MyTestCase testCase;\n        public BarTest(MyTestCase testCase) {\n            this.testCase = testCase;\n        }\n        @Parameters(name = &quot;{index}: {0}&quot;)\n        public static Collection&lt;Object[]&gt; parameters() {\n            // build parameterized test cases\n        }\n        @Test\n        public void testC() {\n            // perform the test\n        }\n    }\n}\n</code></pre>\n<p>Style 2:</p>\n<pre><code>public class MyClassTests2 {\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\n    @MethodSource(&quot;foo_parameters&quot;)\n    public void foo(final MyTestCase testCase) {\n        // perform the test\n    }\n    private static Stream&lt;MyTestCase&gt; foo_parameters() {\n        // build parameterized test cases\n    }\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\n    @MethodSource(&quot;bar_parameters&quot;)\n    public void bar(final MyTestCase testCase) {\n        // perform the test\n    }\n    private static Stream&lt;MyTestCase&gt; bar_parameters() {\n        // build parameterized test cases\n    }\n}\n</code></pre>\n<p>Original configuration for both styles from <code>.idea/workspace.xml</code>:</p>\n<pre><code>&lt;configuration name=&quot;MyClassTests&quot; type=&quot;AndroidJUnit&quot; factoryName=&quot;Android JUnit&quot; temporary=&quot;true&quot; nameIsGenerated=&quot;true&quot;&gt;\n  &lt;module name=&quot;MyProject.app&quot; /&gt;\n  &lt;useClassPathOnly /&gt;\n  &lt;option name=&quot;PACKAGE_NAME&quot; value=&quot;com.example.myproject&quot; /&gt;\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;com.example.myproject.MyClassTests&quot; /&gt;\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;class&quot; /&gt;\n  &lt;option name=&quot;PARAMETERS&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;WORKING_DIRECTORY&quot; value=&quot;$MODULE_DIR$&quot; /&gt;\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\n  &lt;/option&gt;\n  &lt;method v=&quot;2&quot;&gt;\n    &lt;option name=&quot;Android.Gradle.BeforeRunTask&quot; enabled=&quot;true&quot; /&gt;\n  &lt;/method&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Working configuration for my first style:</p>\n<pre><code>&lt;configuration name=&quot;MyClassTests1&quot; type=&quot;JUnit&quot; factoryName=&quot;JUnit&quot;&gt;\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;pattern&quot; /&gt;\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\n  &lt;/option&gt;\n  &lt;patterns&gt;\n    &lt;pattern testClass=&quot;com.example.myproject.MyClassTests1$*&quot; /&gt;\n  &lt;/patterns&gt;\n  &lt;method v=&quot;2&quot;&gt;\n    &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\n  &lt;/method&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>One thing I noticed is that these versions of Android Studio handle the classpath differently. In 4.2.2, I could only select <code>&lt;no module&gt;</code>, <code>MyProject</code>, or <code>MyProject.app</code>, but now in 2022.2.1, I also have the options <code>MyProject.app.androidTest</code>, <code>MyProject.app.main</code>, and <code>MyProject.app.unitTest</code>. If I want to run tests from a specific class, I have to use <code>MyProject.app.unitTest</code>. If I select a different one, the class field shows an error like <code>Class 'com.example.myproject.MyClassTests' not found in module 'MyProjectDirectory.app'</code> or <code>Module not specified</code>. If I use <code>MyProject.app.unitTest</code> and specify the class for either style, I get the error <code>java.lang.RuntimeException: Stub!</code>, which is why I swapped to use the pattern for the first style. I couldn't figure out how to get a pattern to get around the error for the second style. The pattern solution for the first style shows the full <code>com.example.myproject.MyClassTests1$FooTest</code> name in the results, which is more verbose than it needs to be, but it's not a big deal.</p>\n<p>I think it would make the most sense to use <code>MyProject.app.unitTest</code> for the codepath and run it for a specific test class. Is there something I need to do now to get it to use my fake class instead of the stubbed Android code?</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683993624,"post_id":76243655,"comment_id":134453100,"body_markdown":"&quot;embedded Tomcat&quot; sounds not like &quot;Tomcat listening&quot;...please refer to [&quot;traditional deployment&quot;](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment)","body":"&quot;embedded Tomcat&quot; sounds not like &quot;Tomcat listening&quot;...please refer to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">&quot;traditional deployment&quot;</a>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1683994192,"post_id":76243655,"comment_id":134453160,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683994936,"creation_date":1683994936,"answer_id":76243767,"question_id":76243655,"body_markdown":"There is already a process running and listening on port 8080. You can check it with the command netstat.\r\n\r\nIf you can&#39;t change the port of your application then the only option would be to kill the other process. You can get the process number with this command:\r\n\r\n    netstat -nap | grep 8080","title":"Spring Boot service cannot be started","body":"<p>There is already a process running and listening on port 8080. You can check it with the command netstat.</p>\n<p>If you can't change the port of your application then the only option would be to kill the other process. You can get the process number with this command:</p>\n<pre><code>netstat -nap | grep 8080\n</code></pre>\n"}],"owner":{"account_id":25877614,"reputation":45,"user_id":19607297,"display_name":"Krktester23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684158377,"accepted_answer_id":76243767,"answer_count":1,"score":0,"last_activity_date":1683994936,"creation_date":1683993200,"question_id":76243655,"body_markdown":"I&#39;m having trouble starting my Spring Boot application.\r\n\r\nWhen I run it I get the following errors:\r\n\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed \r\n\r\n    Caused by: java.net.BindException: Address already in use\r\n\r\nI work on Linux. Tomcat server is listening on port 8080 (can&#39;t change to another one). Other services work fine. Restarting the application or computer didn&#39;t help.\r\n\r\n","title":"Spring Boot service cannot be started","body":"<p>I'm having trouble starting my Spring Boot application.</p>\n<p>When I run it I get the following errors:</p>\n<pre><code>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed \n\nCaused by: java.net.BindException: Address already in use\n</code></pre>\n<p>I work on Linux. Tomcat server is listening on port 8080 (can't change to another one). Other services work fine. Restarting the application or computer didn't help.</p>\n"},{"tags":["java","protege"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1684060550,"post_id":76243730,"comment_id":134458661,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28589541,"reputation":1,"user_id":21889091,"display_name":"student190822109"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683994431,"creation_date":1683994431,"question_id":76243730,"body_markdown":"I&#39;m study about data structuring by protege and I have some errors in my ontology file. In my case, i just want to make some specific code in swrl tab with this conditions:\r\n\r\n1. Class: peter, james, sindy\r\n2. Object Property: Result\r\n3. Instance: a\r\n4. if 3 kind of classes input in the DL Query, the reult have to reflect Instance &quot;a&quot;\r\n\r\nand the code : peter(?x) ^ james(?x) ^ sindy(?x) -\\&gt; Result(?x, a)\r\nwhen i making the code, the code change automatically \\&gt; autogen0:peter(?x) ^ autogen0:james(?x) ^ autogen0:sindy(?x) -\\&gt; autogen0:Result(?x, autogen0:a)\r\n\r\nthe &quot;run drool&quot; is not the problem but still not came out the result that i mentioned.\r\n\r\nthe class structure is followed:\r\nowl:thing\r\n\r\n- person\r\n  - peter\r\n  - sindy\r\n  - james\r\n\r\ninstance: a(no type which connect any other classes)\r\n\r\nobject Property: Result\r\n\r\nand there are no relationship with object. i just want to make the specific relationship with swrl code: &quot;james and peter and sindy&quot; \\&gt; a","title":"Making rule and Query in SWRL Tab","body":"<p>I'm study about data structuring by protege and I have some errors in my ontology file. In my case, i just want to make some specific code in swrl tab with this conditions:</p>\n<ol>\n<li>Class: peter, james, sindy</li>\n<li>Object Property: Result</li>\n<li>Instance: a</li>\n<li>if 3 kind of classes input in the DL Query, the reult have to reflect Instance &quot;a&quot;</li>\n</ol>\n<p>and the code : peter(?x) ^ james(?x) ^ sindy(?x) -&gt; Result(?x, a)\nwhen i making the code, the code change automatically &gt; autogen0:peter(?x) ^ autogen0:james(?x) ^ autogen0:sindy(?x) -&gt; autogen0:Result(?x, autogen0:a)</p>\n<p>the &quot;run drool&quot; is not the problem but still not came out the result that i mentioned.</p>\n<p>the class structure is followed:\nowl:thing</p>\n<ul>\n<li>person\n<ul>\n<li>peter</li>\n<li>sindy</li>\n<li>james</li>\n</ul>\n</li>\n</ul>\n<p>instance: a(no type which connect any other classes)</p>\n<p>object Property: Result</p>\n<p>and there are no relationship with object. i just want to make the specific relationship with swrl code: &quot;james and peter and sindy&quot; &gt; a</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1683994203,"post_id":76243531,"comment_id":134453161,"body_markdown":"This symptom looks like a mismatch in `ld.so`. Run `file ./java`, look for &quot;interpreter&quot;. This is probably different between the two distros.","body":"This symptom looks like a mismatch in <code>ld.so</code>. Run <code>file .&#47;java</code>, look for &quot;interpreter&quot;. This is probably different between the two distros."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683994091,"creation_date":1683994091,"answer_id":76243701,"question_id":76243531,"body_markdown":"&gt; Is it feasible to build jdk for Alpine from Ubuntu?\r\n\r\nFirstly, it is clearly feasible to build OpenJDK for Alpine, because there are examples of Alpine Docker containers for OpenJDK.\r\n\r\nCross-compiling on Ubuntu for Alpine should also work.  But there is a caveat in the OpenJDK Build instructions:\r\n\r\n&gt; &quot;It is often not much problem to build OpenJDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&quot;\r\n\r\nIf you are having problems getting the Java executables you built on Ubuntu to work you could try:\r\n\r\n  - building on Alpine itself, or\r\n  - installing the Alpine headers and libraries on your Ubuntu box and using them in your build rather than the Ubuntu headers and libraries.\r\n\r\nIf you are cross compiling using the Alpine headers etc, you should also read the corresponding section on the build instructions.   And read about the `--with-sysroot=...` configuration option.\r\n\r\n(It would help if you already have a good understanding of how C / C++ compilation works, and experience with using the gcc and configure tool-chains.  The OpenJDK build instructions assume this.)","title":"Is it feasible to build jdk for alpine from ubuntu?","body":"<blockquote>\n<p>Is it feasible to build jdk for Alpine from Ubuntu?</p>\n</blockquote>\n<p>Firstly, it is clearly feasible to build OpenJDK for Alpine, because there are examples of Alpine Docker containers for OpenJDK.</p>\n<p>Cross-compiling on Ubuntu for Alpine should also work.  But there is a caveat in the OpenJDK Build instructions:</p>\n<blockquote>\n<p>&quot;It is often not much problem to build OpenJDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&quot;</p>\n</blockquote>\n<p>If you are having problems getting the Java executables you built on Ubuntu to work you could try:</p>\n<ul>\n<li>building on Alpine itself, or</li>\n<li>installing the Alpine headers and libraries on your Ubuntu box and using them in your build rather than the Ubuntu headers and libraries.</li>\n</ul>\n<p>If you are cross compiling using the Alpine headers etc, you should also read the corresponding section on the build instructions.   And read about the <code>--with-sysroot=...</code> configuration option.</p>\n<p>(It would help if you already have a good understanding of how C / C++ compilation works, and experience with using the gcc and configure tool-chains.  The OpenJDK build instructions assume this.)</p>\n"}],"owner":{"account_id":14193578,"reputation":943,"user_id":12214867,"display_name":"JJJohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243701,"answer_count":1,"score":0,"last_activity_date":1683994091,"creation_date":1683991726,"question_id":76243531,"body_markdown":"Is it feasible to build jdk for alpine from ubuntu?\r\n\r\nI built [jdk11][1] from ubuntu and then upload the build to my alpine.\r\n\r\nHowever, alpine keeps saying `./java: not found`\r\n\r\nhow do I do?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/jdk-11+19\r\n  [2]: https://i.stack.imgur.com/YjaDd.png","title":"Is it feasible to build jdk for alpine from ubuntu?","body":"<p>Is it feasible to build jdk for alpine from ubuntu?</p>\n<p>I built <a href=\"https://github.com/openjdk/jdk/tree/jdk-11+19\" rel=\"nofollow noreferrer\">jdk11</a> from ubuntu and then upload the build to my alpine.</p>\n<p>However, alpine keeps saying <code>./java: not found</code></p>\n<p>how do I do?</p>\n<p><a href=\"https://i.stack.imgur.com/YjaDd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YjaDd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics","extends"],"comments":[{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":1,"creation_date":1391080223,"post_id":21452966,"comment_id":32375689,"body_markdown":"http://books.google.co.uk/books?id=zaoK0Z2STlkC&amp;lpg=PP1&amp;dq=Java%20Generics%20and%20Collections&amp;hl=ru&amp;pg=PA19#v=onepage&amp;q=Java%20Generics%20and%20Collections&amp;f=false","body":"<a href=\"http://books.google.co.uk/books?id=zaoK0Z2STlkC&amp;lpg=PP1&amp;dq=Java%20Generics%20and%20Collections&amp;hl=ru&amp;pg=PA19#v=onepage&amp;q=Java%20Generics%20and%20Collections&amp;f=false\" rel=\"nofollow noreferrer\">books.google.co.uk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1391076073,"creation_date":1391075646,"answer_id":21453048,"question_id":21452966,"body_markdown":"You can create a `List&lt;T&gt; list = new ArrayList&lt;T&gt;();` directly, this can allow all subtypes of T into the list. This is actually little difficult to understand. when you declare it as \r\n\r\n    List&lt;? extends T&gt; list = ...\r\n\r\nIt means that it can allow any unknown subtypes of `T` into the list. But, from that declaration we cannot ensure which is the exact sub-type of `T`. so, we can only add `null` into it","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>You can create a <code>List&lt;T&gt; list = new ArrayList&lt;T&gt;();</code> directly, this can allow all subtypes of T into the list. This is actually little difficult to understand. when you declare it as </p>\n\n<pre><code>List&lt;? extends T&gt; list = ...\n</code></pre>\n\n<p>It means that it can allow any unknown subtypes of <code>T</code> into the list. But, from that declaration we cannot ensure which is the exact sub-type of <code>T</code>. so, we can only add <code>null</code> into it</p>\n"},{"comments":[{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":2,"creation_date":1391076045,"post_id":21453051,"comment_id":32373199,"body_markdown":"@arounaroun I try to explain that in [my answer](http://stackoverflow.com/a/21453153/2187042) but its because the list cannot be garanteed to accept any object type but null","body":"@arounaroun I try to explain that in <a href=\"http://stackoverflow.com/a/21453153/2187042\">my answer</a> but its because the list cannot be garanteed to accept any object type but null"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1391079646,"post_id":21453051,"comment_id":32375370,"body_markdown":"@arounaroun Ah! sorry I was away, but I guess you got the answer.","body":"@arounaroun Ah! sorry I was away, but I guess you got the answer."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1391084783,"post_id":21453051,"comment_id":32378415,"body_markdown":"@codelovesme I can&#39;t completely understand your comment. Can you improvise the grammar a bit. Otherwise, I guess you got the point.","body":"@codelovesme I can&#39;t completely understand your comment. Can you improvise the grammar a bit. Otherwise, I guess you got the point."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391082693,"creation_date":1391075656,"answer_id":21453051,"question_id":21452966,"body_markdown":"&gt; The requirement is that there should be a list keeps object extends T\r\n\r\nIf you just want a `List` where you can store objects of any class that extend from `T`, then just create a `List` like this:\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\r\nThe way you&#39;ve created a list currently, will not allow you to add anything except `null` to it.","title":"Why generic type is not applicable for argument extends super class for both?","body":"<blockquote>\n  <p>The requirement is that there should be a list keeps object extends T</p>\n</blockquote>\n\n<p>If you just want a <code>List</code> where you can store objects of any class that extend from <code>T</code>, then just create a <code>List</code> like this:</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n</code></pre>\n\n<p>The way you've created a list currently, will not allow you to add anything except <code>null</code> to it.</p>\n"},{"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1391080164,"post_id":21453153,"comment_id":32375658,"body_markdown":"Is it possible to instantiate a `List` whose type arguments include a bounded wildcard?  For example, `List&lt;? extends T&gt; list = new ArrayList&lt;? extends T&gt;()`?  I assume no because I receive a compiler error, but what happens when the diamond operator is used like in the OP&#39;s example?","body":"Is it possible to instantiate a <code>List</code> whose type arguments include a bounded wildcard?  For example, <code>List&lt;? extends T&gt; list = new ArrayList&lt;? extends T&gt;()</code>?  I assume no because I receive a compiler error, but what happens when the diamond operator is used like in the OP&#39;s example?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1391080361,"post_id":21453153,"comment_id":32375775,"body_markdown":"@KevinBowersox With `&lt;&gt;` It compiles, but its an entirely pointless thing to do","body":"@KevinBowersox With <code>&lt;&gt;</code> It compiles, but its an entirely pointless thing to do"}],"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1683993603,"creation_date":1391075898,"answer_id":21453153,"question_id":21452966,"body_markdown":"`List&lt;? extends T&gt;` indicates that anything can comes out of it can be cast to T, so the true list could be any of the following:\r\n\r\n - `List&lt;T&gt;`\r\n - `List&lt;T2&gt;`\r\n - `List&lt;T3&gt;`\r\n - etc\r\n\r\nYou can see that even a new `T` cannot safely be added to such a collection because it could be a `List&lt;T2&gt;` which `T` cannot be put into. As such, such List&lt;? extends T&gt; cannot have non null entries added to them.\r\n\r\nIn this case you may simply want `List&lt;T&gt;`\r\n\r\n## So why would you ever use this?!\r\nThis contravariance can be useful for method parameters or returns, in which a collection will be read, rather than added to. A use for this could be to create a method that accepts any collection that holds items that are T, or extend T. \r\n\r\n    public static void processList(Collection&lt;? extends Vector3d&gt; list){\r\n        for(Vector3d vector:list){\r\n            //do something\r\n        }\r\n    }\r\n\r\nThis method could accept any collection of objects that extends Vector3d, so `ArrayList&lt;MyExtendedVector3d&gt;` would be acceptable.\r\n\r\nEqually a method could return such a collection. An example of a use case is described in [https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p><code>List&lt;? extends T&gt;</code> indicates that anything can comes out of it can be cast to T, so the true list could be any of the following:</p>\n<ul>\n<li><code>List&lt;T&gt;</code></li>\n<li><code>List&lt;T2&gt;</code></li>\n<li><code>List&lt;T3&gt;</code></li>\n<li>etc</li>\n</ul>\n<p>You can see that even a new <code>T</code> cannot safely be added to such a collection because it could be a <code>List&lt;T2&gt;</code> which <code>T</code> cannot be put into. As such, such List&lt;? extends T&gt; cannot have non null entries added to them.</p>\n<p>In this case you may simply want <code>List&lt;T&gt;</code></p>\n<h2>So why would you ever use this?!</h2>\n<p>This contravariance can be useful for method parameters or returns, in which a collection will be read, rather than added to. A use for this could be to create a method that accepts any collection that holds items that are T, or extend T.</p>\n<pre><code>public static void processList(Collection&lt;? extends Vector3d&gt; list){\n    for(Vector3d vector:list){\n        //do something\n    }\n}\n</code></pre>\n<p>This method could accept any collection of objects that extends Vector3d, so <code>ArrayList&lt;MyExtendedVector3d&gt;</code> would be acceptable.</p>\n<p>Equally a method could return such a collection. An example of a use case is described in <a href=\"https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c\">Returning a Collection&lt;ChildType&gt; from a method that specifies that it returns Collection&lt;ParentType&gt;</a>.</p>\n"},{"tags":[],"owner":{"account_id":1531647,"reputation":2090,"user_id":1428716,"accept_rate":32,"display_name":"user1428716"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391076414,"creation_date":1391076065,"answer_id":21453212,"question_id":21452966,"body_markdown":"There are boundary rules defined for Java Generics when using WildCards \r\n\r\n      **extends Wildcard Boundary**\r\n\r\n   List&lt;? extends A&gt; means a List of objects that are instances of the class T, or subclasses of T  (e.g. TT).  This means a Read is fine , but insertion would fail as you dont know whether the class is Typed to T\r\n\r\n   \r\n\r\n    **super Wildcard Boundary**\r\n\r\nWhen you know that the list is typed to either T, or a superclass of T, it is safe to insert instances of T or subclasses of T (e.g.TT ) into the list. \r\n\r\nIn your example , you should use &quot;super&quot;\r\n\r\n\r\n","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>There are boundary rules defined for Java Generics when using WildCards </p>\n\n<pre><code>  **extends Wildcard Boundary**\n</code></pre>\n\n<p>List means a List of objects that are instances of the class T, or subclasses of T  (e.g. TT).  This means a Read is fine , but insertion would fail as you dont know whether the class is Typed to T</p>\n\n<pre><code>**super Wildcard Boundary**\n</code></pre>\n\n<p>When you know that the list is typed to either T, or a superclass of T, it is safe to insert instances of T or subclasses of T (e.g.TT ) into the list. </p>\n\n<p>In your example , you should use \"super\"</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576455396,"creation_date":1576455396,"answer_id":59349223,"question_id":21452966,"body_markdown":"An addition to the other answers posted here, I would simply add that I only use wild cards for method parameters and return types. They&#39;re intended for method signatures, not implementations. When I put a wildcard into a variable declaration, I always get into trouble.","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>An addition to the other answers posted here, I would simply add that I only use wild cards for method parameters and return types. They're intended for method signatures, not implementations. When I put a wildcard into a variable declaration, I always get into trouble.</p>\n"}],"owner":{"account_id":3079032,"reputation":3079,"user_id":2607703,"accept_rate":50,"display_name":"codelovesme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9851,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":21453048,"answer_count":5,"score":13,"last_activity_date":1683993603,"creation_date":1391075459,"question_id":21452966,"body_markdown":"Here is the problem that I have been being tried to find the solution.\r\n\r\nWe have two class definitions. One of two extends other one.&lt;br&gt;\r\n\r\n        class T{}\r\n        class TT extends T{}\r\n\r\nThe requirement is that there should be a list keeps object extends T &lt;br&gt;\r\n\r\n        List&lt;? extends T&gt; list = new ArrayList&lt;&gt;();\r\n\r\nBut the problem occures when I try to put a TT object ( barely seems it is a subclass of T )\r\ninto the list.&lt;br&gt;\r\n\r\n        list.add(new TT());\r\n\r\n**Compilation Error Message**&lt;br&gt;\r\n\r\nThe method add(capture#2-of ? extends Cell) in the type List&lt;capture#2-of ? extends Cell&gt; is not applicable for the arguments (Cell)","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>Here is the problem that I have been being tried to find the solution.</p>\n\n<p>We have two class definitions. One of two extends other one.<br></p>\n\n<pre><code>    class T{}\n    class TT extends T{}\n</code></pre>\n\n<p>The requirement is that there should be a list keeps object extends T <br></p>\n\n<pre><code>    List&lt;? extends T&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>But the problem occures when I try to put a TT object ( barely seems it is a subclass of T )\ninto the list.<br></p>\n\n<pre><code>    list.add(new TT());\n</code></pre>\n\n<p><strong>Compilation Error Message</strong><br></p>\n\n<p>The method add(capture#2-of ? extends Cell) in the type List is not applicable for the arguments (Cell)</p>\n"},{"tags":["java","spring","hazelcast","hazelcast-imap"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508363263,"post_id":46819529,"comment_id":80587039,"body_markdown":"Backup count of 5 means 6 copies (master+5). If you only have 5 nodes then you&#39;ve requested one copy too many.","body":"Backup count of 5 means 6 copies (master+5). If you only have 5 nodes then you&#39;ve requested one copy too many."},{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":1,"creation_date":1508388281,"post_id":46819529,"comment_id":80593216,"body_markdown":"And read-from-backup is only available for key-based access, not queries.","body":"And read-from-backup is only available for key-based access, not queries."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508394203,"post_id":46819529,"comment_id":80594978,"body_markdown":"`entrySet()` is risky in general as that&#39;s everything, when an `IMap` is partitioned usually because it&#39;s big. What problem are you trying to solve ? Find all keys by partial key ? What does your `map(....)`  do with them","body":"<code>entrySet()</code> is risky in general as that&#39;s everything, when an <code>IMap</code> is partitioned usually because it&#39;s big. What problem are you trying to solve ? Find all keys by partial key ? What does your <code>map(....)</code>  do with them"},{"owner":{"account_id":8308001,"reputation":355,"user_id":6244459,"accept_rate":27,"display_name":"slippery"},"score":0,"creation_date":1508406310,"post_id":46819529,"comment_id":80601494,"body_markdown":"noctarius,  did i understand you correctly that in &quot; read-from-backup&quot; if i make map.entrySet() call, data will be got from this node bacause of it is key-based access? no networking call","body":"noctarius,  did i understand you correctly that in &quot; read-from-backup&quot; if i make map.entrySet() call, data will be got from this node bacause of it is key-based access? no networking call"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508830381,"post_id":46819529,"comment_id":80755980,"body_markdown":"What problem are you trying to solve ? To find some keys by partial key ? You can search on key so `entrySet()` could be `entrySet(predicate)` which would reduce the wire transfer","body":"What problem are you trying to solve ? To find some keys by partial key ? You can search on key so <code>entrySet()</code> could be <code>entrySet(predicate)</code> which would reduce the wire transfer"}],"answers":[{"tags":[],"owner":{"account_id":335609,"reputation":1622,"user_id":662796,"display_name":"tom.bujok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509123631,"creation_date":1509123631,"answer_id":46980137,"question_id":46819529,"body_markdown":"Keep in mind that the readBackupData flag works only if you execute the query from within a Member, so if you are using a HazelcastClient, then it will not read from backup.","title":"Hazelcast IMap performance","body":"<p>Keep in mind that the readBackupData flag works only if you execute the query from within a Member, so if you are using a HazelcastClient, then it will not read from backup.</p>\n"}],"owner":{"account_id":8308001,"reputation":355,"user_id":6244459,"accept_rate":27,"display_name":"slippery"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683992980,"creation_date":1508362012,"question_id":46819529,"body_markdown":"I use the hazelcast 3.8.6.\r\nThere is a IMAP{Key, Value} with next settings:     \r\n\r\n    mapConfig.setBackupCount(5);\r\n    mapConfig.setReadBackupData(true);\r\n    \r\nthe Key is\r\n       \r\n    long userId;\r\n    long contentId;\r\n\r\nalso there are 5 nodes where the data is. As far as I understand according  the setting each node will be have all data. Such way I turn a distributed map to a replicated map to increase speed of get operations and don&#39;t do networking calls.\r\n\r\nlet&#39;s imagine I need get all data for user by id. in usual mode I would write next code:\r\n\r\n    EntryObject eo = new PredicateBuilder().getEntryObject();\r\n    Predicate predicate = eo.key().get(&quot;this.userId&quot;).equal(userId);\r\n    map.values(predicate).stream().map(.....)\r\n\r\nthis code will be executed on all nodes and result will be returned to node which make the call. Am I right understanding that in case of the settings &quot;setReadBackupData(true)&quot; the request won&#39;t be send to other nodes and all data will be found on node which make this request? or in that case to avoid networking calls I just should use something like this:\r\n\r\n    map.entrySet().stream()\r\n    .filter(entry-&gt;entry.getKey().getUserId().equals(userId))\r\n    .map(.....)\r\n    \r\nthanks.","title":"Hazelcast IMap performance","body":"<p>I use the hazelcast 3.8.6.\nThere is a IMAP{Key, Value} with next settings:</p>\n<pre><code>mapConfig.setBackupCount(5);\nmapConfig.setReadBackupData(true);\n</code></pre>\n<p>the Key is</p>\n<pre><code>long userId;\nlong contentId;\n</code></pre>\n<p>also there are 5 nodes where the data is. As far as I understand according  the setting each node will be have all data. Such way I turn a distributed map to a replicated map to increase speed of get operations and don't do networking calls.</p>\n<p>let's imagine I need get all data for user by id. in usual mode I would write next code:</p>\n<pre><code>EntryObject eo = new PredicateBuilder().getEntryObject();\nPredicate predicate = eo.key().get(&quot;this.userId&quot;).equal(userId);\nmap.values(predicate).stream().map(.....)\n</code></pre>\n<p>this code will be executed on all nodes and result will be returned to node which make the call. Am I right understanding that in case of the settings &quot;setReadBackupData(true)&quot; the request won't be send to other nodes and all data will be found on node which make this request? or in that case to avoid networking calls I just should use something like this:</p>\n<pre><code>map.entrySet().stream()\n.filter(entry-&gt;entry.getKey().getUserId().equals(userId))\n.map(.....)\n</code></pre>\n<p>thanks.</p>\n"},{"tags":["java","tomcat","db2","tomcat9"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683918474,"post_id":76239146,"comment_id":134445691,"body_markdown":"What is the issue that you have? Please be specific","body":"What is the issue that you have? Please be specific"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1683919216,"post_id":76239146,"comment_id":134445836,"body_markdown":"I get this error: javax.naming.NameNotFoundException: El nombre [jdbc/SFEAAPPDB] no este asociado a este contexto","body":"I get this error: javax.naming.NameNotFoundException: El nombre [jdbc/SFEAAPPDB] no este asociado a este contexto"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683919348,"post_id":76239146,"comment_id":134445853,"body_markdown":"Then your question should be about that error, not as a how-to. Please add the full error to the question. If there are more lines or details also add them.","body":"Then your question should be about that error, not as a how-to. Please add the full error to the question. If there are more lines or details also add them."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683919396,"post_id":76239146,"comment_id":134445861,"body_markdown":"Does this answer your question? [porting web app to Tomcat: javax.naming.NameNotFoundException:](https://stackoverflow.com/questions/41516977/porting-web-app-to-tomcat-javax-naming-namenotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41516977/porting-web-app-to-tomcat-javax-naming-namenotfoundexception\">porting web app to Tomcat: javax.naming.NameNotFoundException:</a>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683919668,"post_id":76239146,"comment_id":134445913,"body_markdown":"You can also review the Tomcat official documentation describing how to create [and then how to use](https://tomcat.apache.org/tomcat-10.1-doc/jndi-resources-howto.html#JDBC_Data_Sources) a resource. Note the use of the `java:` prefix, and &quot;_the standard `java:comp/env` naming context ... is the root of all provided resource factories_&quot;.","body":"You can also review the Tomcat official documentation describing how to create <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/jndi-resources-howto.html#JDBC_Data_Sources\" rel=\"nofollow noreferrer\">and then how to use</a> a resource. Note the use of the <code>java:</code> prefix, and &quot;<i>the standard <code>java:comp&#47;env</code> naming context ... is the root of all provided resource factories</i>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683992395,"creation_date":1683991047,"answer_id":76243482,"question_id":76239146,"body_markdown":"Thank you all..\r\n\r\nWith help from here and there, I was solving an error, but another one appeared.\r\n\r\nFinally, this is how all the elements involved were left:\r\n\r\n\r\n**Java source:**\r\n\r\n    Context initCtx = new InitialContext();\r\n    Context context = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\r\n    ds = (DataSource) context.lookup(&quot;jdbc/SFEAAPPDB&quot;);\r\n    conn = ds.getConnection();\r\n\r\n**...APACHE\\conf\\Catalina\\localhost\\sfeaapp.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Context&gt;\r\n    \t&lt;ResourceLink name=&quot;jdbc/SFEAAPPDB&quot; global=&quot;jdbc/SFEAAPPDB&quot; type=&quot;javax.sql.DataSource&quot;/&gt;\t\r\n    &lt;/Context&gt;\r\n\r\n**...APACHE\\conf\\server.xml:**\r\n\r\n    &lt;Resource \r\n    \tname=&quot;jdbc/SFEAAPPDB&quot;\r\n    \tauth=&quot;Container&quot;\r\n    \ttype=&quot;javax.sql.DataSource&quot;\r\n    \tfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n    \tdriverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n    \turl=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;&quot;\r\n    \tusername=&quot;admin&quot;\r\n    \tpassword=&quot;admin&quot;\r\n    \t/&gt;\r\n\r\nAlso:\r\n**db2jcc4.jar** in ...APACHE\\lib\\\r\n\r\nAnd note that you must put a semicolon after the last value too in: **jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;**\r\n","title":"How to configure a connection pool to a DB2 database in a Tomcat Java web app","body":"<p>Thank you all..</p>\n<p>With help from here and there, I was solving an error, but another one appeared.</p>\n<p>Finally, this is how all the elements involved were left:</p>\n<p><strong>Java source:</strong></p>\n<pre><code>Context initCtx = new InitialContext();\nContext context = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\nds = (DataSource) context.lookup(&quot;jdbc/SFEAAPPDB&quot;);\nconn = ds.getConnection();\n</code></pre>\n<p><strong>...APACHE\\conf\\Catalina\\localhost\\sfeaapp.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context&gt;\n    &lt;ResourceLink name=&quot;jdbc/SFEAAPPDB&quot; global=&quot;jdbc/SFEAAPPDB&quot; type=&quot;javax.sql.DataSource&quot;/&gt;   \n&lt;/Context&gt;\n</code></pre>\n<p><strong>...APACHE\\conf\\server.xml:</strong></p>\n<pre><code>&lt;Resource \n    name=&quot;jdbc/SFEAAPPDB&quot;\n    auth=&quot;Container&quot;\n    type=&quot;javax.sql.DataSource&quot;\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n    driverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\n    url=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;&quot;\n    username=&quot;admin&quot;\n    password=&quot;admin&quot;\n    /&gt;\n</code></pre>\n<p>Also:\n<strong>db2jcc4.jar</strong> in ...APACHE\\lib\\</p>\n<p>And note that you must put a semicolon after the last value too in: <strong>jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;</strong></p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683992395,"creation_date":1683917150,"question_id":76239146,"body_markdown":"I am trying to define a connection pool to a **DB2** database from a **Java** application deployed in **Tomcat**.\r\n\r\nThere is something in the next 3 pieces that does not fit.\r\n\r\n**web.xml:**\r\n\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;Connection pool to SFEAAPPDB database&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/SFEAAPPDB&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n\r\n**context.xml:**\r\n\r\n    &lt;Resource name=&quot;jdbc/SFEAAPPDB&quot;\r\n    \tauth=&quot;Container&quot;\r\n    \ttype=&quot;javax.sql.ConnectionPoolDataSource&quot;\r\n    \tfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n    \tdriverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n    \turl=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA&quot;\r\n    \tusername=&quot;admin&quot;\r\n    \tpassword=&quot;admin&quot;\r\n    \t/&gt;\r\n\r\n\r\n**source.java:**\r\n\r\n    String poolName = &quot;jdbc/SFEAAPPDB&quot;;\r\n    DataSource ds = new InitialContext().lookup(poolName);\r\n\r\n\r\nWhat should be the correct value for the &#39;**poolName**&#39; variable?\r\n\r\n","title":"How to configure a connection pool to a DB2 database in a Tomcat Java web app","body":"<p>I am trying to define a connection pool to a <strong>DB2</strong> database from a <strong>Java</strong> application deployed in <strong>Tomcat</strong>.</p>\n<p>There is something in the next 3 pieces that does not fit.</p>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;resource-ref&gt;\n    &lt;description&gt;Connection pool to SFEAAPPDB database&lt;/description&gt;\n    &lt;res-ref-name&gt;jdbc/SFEAAPPDB&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n<p><strong>context.xml:</strong></p>\n<pre><code>&lt;Resource name=&quot;jdbc/SFEAAPPDB&quot;\n    auth=&quot;Container&quot;\n    type=&quot;javax.sql.ConnectionPoolDataSource&quot;\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n    driverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\n    url=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA&quot;\n    username=&quot;admin&quot;\n    password=&quot;admin&quot;\n    /&gt;\n</code></pre>\n<p><strong>source.java:</strong></p>\n<pre><code>String poolName = &quot;jdbc/SFEAAPPDB&quot;;\nDataSource ds = new InitialContext().lookup(poolName);\n</code></pre>\n<p>What should be the correct value for the '<strong>poolName</strong>' variable?</p>\n"},{"tags":["java","php","encryption","swift5","apple-cryptokit"],"answers":[{"tags":[],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624458331,"creation_date":1624458331,"answer_id":68101762,"question_id":68088836,"body_markdown":"After watching the WWDC video: [WWDC Cryptokit 2019 video][1]\r\n\r\n\r\nAt around 29 min 20 seconds they advise you to get the key data from the server initially.  So you can just create the key by doing this:\r\n\r\n[![Key Creation code][2]][2]\r\n\r\nThis way the server and the app have the same key.  Or if you have control of both sides, you can know what your server key is and create the key with data from a string that you both know.\r\n\r\n  [1]: https://developer.apple.com/videos/play/wwdc2019/709\r\n  [2]: https://i.stack.imgur.com/lLdM9.png","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>After watching the WWDC video: <a href=\"https://developer.apple.com/videos/play/wwdc2019/709\" rel=\"nofollow noreferrer\">WWDC Cryptokit 2019 video</a></p>\n<p>At around 29 min 20 seconds they advise you to get the key data from the server initially.  So you can just create the key by doing this:</p>\n<p><a href=\"https://i.stack.imgur.com/lLdM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLdM9.png\" alt=\"Key Creation code\" /></a></p>\n<p>This way the server and the app have the same key.  Or if you have control of both sides, you can know what your server key is and create the key with data from a string that you both know.</p>\n"},{"tags":[],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624636094,"creation_date":1624636094,"answer_id":68133767,"question_id":68088836,"body_markdown":"So I guess my real questions was how do I encrypt with cryptokit and decrypt with php (web app.\r\n\r\nThese 2 links helped me:\r\n\r\n[Swift CryptoKit and Browser][1]\r\n\r\n\r\n[iOS CryptoKit in Java][2]\r\n\r\nSwiftCode:  \r\n\r\n    func encryptAES_GCMCryptoKit()-&gt;String {\r\n        let newkeyString1 = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot; //has to be 32 bytes for a 256 bit encryption or you will get the error key wrong size\r\n        let newKey = SymmetricKey(data: newkeyString1.data(using: .utf8)!)\r\n        let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\r\n        let iv = AES.GCM.Nonce()\r\n  \r\n    do{\r\n            let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\r\n            let dataToShare = mySealedBox.combined?.base64EncodedData()      \r\n\t\t\r\n          // The combined property holds the collected nonce, ciphertext and tag.\r\n            assert(mySealedBox.combined == nonceAES + ciphertextAES + tagAES)\r\n    }catch {\r\n            print(&quot;error \\(error)&quot;)\r\n           \r\n        }\r\n    }\r\n\r\n\r\n Php code:\r\n\r\n    function decryptStringAES_GCM($combinedInput=&#39;&#39;)  //64 base encoded combine string\r\n\t{\r\n\t\t$key = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot;; // &lt;- 256 bit key - same key is on the swift side\r\n\t\t\r\n\t\t$combined = base64_decode($combinedInput);  //&lt;- $combinedInput will be different every time even for the same value\r\n\t\t$tag = substr($combined, -16);\r\n\t\t$nonce = substr($combined, 0, 12);\r\n\t\t$length = strlen($combined)-16-12; \t\t//take out tag and nonce (iv) lengths\r\n\t\t$cipherText = substr($combined, 12, $length);\r\n\t\t\r\n\t\t$res_non = openssl_decrypt($cipherText, &#39;aes-256-gcm&#39;, $key, OPENSSL_RAW_DATA| OPENSSL_NO_PADDING, $nonce, $tag); \r\n\t\t\r\n\t\treturn $res_non //decrypted string\r\n\r\n\r\nYou can also pass the key back to the server in a separate call like the first link does.\r\n\r\n  [1]: https://pen.so/2021/04/06/aes-gcm/\r\n  [2]: https://stackoverflow.com/a/59658891/2704776","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>So I guess my real questions was how do I encrypt with cryptokit and decrypt with php (web app.</p>\n<p>These 2 links helped me:</p>\n<p><a href=\"https://pen.so/2021/04/06/aes-gcm/\" rel=\"nofollow noreferrer\">Swift CryptoKit and Browser</a></p>\n<p><a href=\"https://stackoverflow.com/a/59658891/2704776\">iOS CryptoKit in Java</a></p>\n<p>SwiftCode:</p>\n<pre><code>func encryptAES_GCMCryptoKit()-&gt;String {\n    let newkeyString1 = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot; //has to be 32 bytes for a 256 bit encryption or you will get the error key wrong size\n    let newKey = SymmetricKey(data: newkeyString1.data(using: .utf8)!)\n    let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\n    let iv = AES.GCM.Nonce()\n\ndo{\n        let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\n        let dataToShare = mySealedBox.combined?.base64EncodedData()      \n    \n      // The combined property holds the collected nonce, ciphertext and tag.\n        assert(mySealedBox.combined == nonceAES + ciphertextAES + tagAES)\n}catch {\n        print(&quot;error \\(error)&quot;)\n       \n    }\n}\n</code></pre>\n<p>Php code:</p>\n<pre><code>function decryptStringAES_GCM($combinedInput='')  //64 base encoded combine string\n{\n    $key = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot;; // &lt;- 256 bit key - same key is on the swift side\n    \n    $combined = base64_decode($combinedInput);  //&lt;- $combinedInput will be different every time even for the same value\n    $tag = substr($combined, -16);\n    $nonce = substr($combined, 0, 12);\n    $length = strlen($combined)-16-12;      //take out tag and nonce (iv) lengths\n    $cipherText = substr($combined, 12, $length);\n    \n    $res_non = openssl_decrypt($cipherText, 'aes-256-gcm', $key, OPENSSL_RAW_DATA| OPENSSL_NO_PADDING, $nonce, $tag); \n    \n    return $res_non //decrypted string\n</code></pre>\n<p>You can also pass the key back to the server in a separate call like the first link does.</p>\n"},{"tags":[],"owner":{"account_id":1545564,"reputation":1665,"user_id":1439179,"accept_rate":60,"display_name":"Simon C."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683992170,"creation_date":1683992170,"answer_id":76243565,"question_id":68088836,"body_markdown":"To correct this &quot;full working code&quot; from above:\r\n\r\nI use a 32 character key. Take care your files are in UTF8.\r\n\r\n**Swift using CryptoKit**\r\n\r\n    func encryptStringAES(_ string: String, key: String) throws -&gt; String? {\r\n            let keyData = SymmetricKey(data: Data(key.utf8))\r\n            let encryptedData = try AES.GCM.seal(string.data(using: .utf8)!, using: keyData).combined\r\n            return encryptedData?.base64EncodedString()\r\n        }\r\n\r\n\r\n**PHP counterpart**\r\n\r\n    function decryptStringAES($encryptedString, $key){\r\n    \r\n    $combined = base64_decode($encryptedString);\r\n    $tag = substr($combined, -16);\r\n    $nonce = substr($combined, 0, 12);\r\n    $length = strlen($combined)-16-12;      \r\n    $cipherText = substr($combined, 12, $length);\r\n    \r\n    $decryptedData = openssl_decrypt($cipherText, &#39;aes-256-gcm&#39;, $key, OPENSSL_RAW_DATA, $nonce, $tag);\r\n    return $decryptedData;\r\n    \r\n    }\r\n\r\n\r\n**The trick is, to rip apart the combined value coming from CryptoKit.**","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>To correct this &quot;full working code&quot; from above:</p>\n<p>I use a 32 character key. Take care your files are in UTF8.</p>\n<p><strong>Swift using CryptoKit</strong></p>\n<pre><code>func encryptStringAES(_ string: String, key: String) throws -&gt; String? {\n        let keyData = SymmetricKey(data: Data(key.utf8))\n        let encryptedData = try AES.GCM.seal(string.data(using: .utf8)!, using: keyData).combined\n        return encryptedData?.base64EncodedString()\n    }\n</code></pre>\n<p><strong>PHP counterpart</strong></p>\n<pre><code>function decryptStringAES($encryptedString, $key){\n\n$combined = base64_decode($encryptedString);\n$tag = substr($combined, -16);\n$nonce = substr($combined, 0, 12);\n$length = strlen($combined)-16-12;      \n$cipherText = substr($combined, 12, $length);\n\n$decryptedData = openssl_decrypt($cipherText, 'aes-256-gcm', $key, OPENSSL_RAW_DATA, $nonce, $tag);\nreturn $decryptedData;\n\n}\n</code></pre>\n<p><strong>The trick is, to rip apart the combined value coming from CryptoKit.</strong></p>\n"}],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1683992170,"creation_date":1624385390,"question_id":68088836,"body_markdown":"How do I decrypt my iOS CryptoKit encrypted value on the web service side?  \r\n\r\nSimilar to this SO question:\r\n[CryptoKit in Java][1]\r\n\r\n[Or this SO question][2]\r\n\r\nCan I create my own SymmetricKey that we both know the string of?  How can my value be decrypted in Java PhP or .NET? (I understand all these languages and can translate, the app is currently in php)\r\n\r\nApple&#39;s code from their playground:\r\n\r\n```\r\nlet key = SymmetricKey(size: .bits256)     //&lt;--- how to share with web service???\r\nlet themeSongPath = Bundle.main.path(forResource: &quot;ThemeSong&quot;, ofType: &quot;aif&quot;)!\r\nlet themeSong = FileManager.default.contents(atPath: themeSongPath)!\r\n\r\n\r\n// below code is from Apple Playground\r\nlet encryptedContentAES = try! AES.GCM.seal(themeSong, using: key).combined\r\n/*:\r\n The client decrypts using the same key, assumed to have been obtained out-of-band.\r\n */\r\nlet sealedBoxAES = try! AES.GCM.SealedBox(combined: encryptedContentAES!)\r\n\r\n//HOW DO I DO THIS ON WEB SERVICE SIDE??? either in java or php or .net\r\nlet decryptedThemeSongAES = try! AES.GCM.open(sealedBoxAES, using: key)\r\n\r\nassert(decryptedThemeSongAES == themeSong)\r\n/*:\r\n You use a sealed box to hold the three outputs of the encryption operation: a nonce, the ciphertext, and a tag.\r\n */\r\n// The nonce should be unique per encryption operation.\r\n// Some protocols require specific values to be used, such as monotonically increasing counters.\r\n// If none is passed during the during the encryption, CryptoKit randomly generates a safe value for you.\r\n\r\nlet nonceAES = sealedBoxAES.nonce\r\n\r\n// The ciphertext is the encrypted plaintext, and is the same size as the original data.\r\nlet ciphertextAES = sealedBoxAES.ciphertext\r\n\r\n// The tag provides authentication.\r\nlet tagAES = sealedBoxAES.tag\r\n\r\n// The combined property holds the collected nonce, ciphertext and tag.\r\nassert(sealedBoxAES.combined == nonceAES + ciphertextAES + tagAES)\r\n\r\n```\r\n[Link to Playground][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59658891/2704776\r\n  [2]: https://stackoverflow.com/questions/61332076/cross-platform-aes-encryption-between-ios-and-kotlin-java-using-apples-cryptokit\r\n  [3]: https://developer.apple.com/documentation/cryptokit/performing_common_cryptographic_operations","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>How do I decrypt my iOS CryptoKit encrypted value on the web service side?</p>\n<p>Similar to this SO question:\n<a href=\"https://stackoverflow.com/a/59658891/2704776\">CryptoKit in Java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61332076/cross-platform-aes-encryption-between-ios-and-kotlin-java-using-apples-cryptokit\">Or this SO question</a></p>\n<p>Can I create my own SymmetricKey that we both know the string of?  How can my value be decrypted in Java PhP or .NET? (I understand all these languages and can translate, the app is currently in php)</p>\n<p>Apple's code from their playground:</p>\n<pre><code>let key = SymmetricKey(size: .bits256)     //&lt;--- how to share with web service???\nlet themeSongPath = Bundle.main.path(forResource: &quot;ThemeSong&quot;, ofType: &quot;aif&quot;)!\nlet themeSong = FileManager.default.contents(atPath: themeSongPath)!\n\n\n// below code is from Apple Playground\nlet encryptedContentAES = try! AES.GCM.seal(themeSong, using: key).combined\n/*:\n The client decrypts using the same key, assumed to have been obtained out-of-band.\n */\nlet sealedBoxAES = try! AES.GCM.SealedBox(combined: encryptedContentAES!)\n\n//HOW DO I DO THIS ON WEB SERVICE SIDE??? either in java or php or .net\nlet decryptedThemeSongAES = try! AES.GCM.open(sealedBoxAES, using: key)\n\nassert(decryptedThemeSongAES == themeSong)\n/*:\n You use a sealed box to hold the three outputs of the encryption operation: a nonce, the ciphertext, and a tag.\n */\n// The nonce should be unique per encryption operation.\n// Some protocols require specific values to be used, such as monotonically increasing counters.\n// If none is passed during the during the encryption, CryptoKit randomly generates a safe value for you.\n\nlet nonceAES = sealedBoxAES.nonce\n\n// The ciphertext is the encrypted plaintext, and is the same size as the original data.\nlet ciphertextAES = sealedBoxAES.ciphertext\n\n// The tag provides authentication.\nlet tagAES = sealedBoxAES.tag\n\n// The combined property holds the collected nonce, ciphertext and tag.\nassert(sealedBoxAES.combined == nonceAES + ciphertextAES + tagAES)\n\n</code></pre>\n<p><a href=\"https://developer.apple.com/documentation/cryptokit/performing_common_cryptographic_operations\" rel=\"nofollow noreferrer\">Link to Playground</a></p>\n"},{"tags":["javascript","java","html"],"comments":[{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683977689,"post_id":76242393,"comment_id":134451213,"body_markdown":"Hi, which part of your code is not executing? The code on client or server? Is it `sendMessage` on the client?","body":"Hi, which part of your code is not executing? The code on client or server? Is it <code>sendMessage</code> on the client?"},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683978361,"post_id":76242393,"comment_id":134451284,"body_markdown":"@DanMacak Hi, client-side code (JS functions sendMessage() and connect()) should send request on the server-side controller sendMessage, but JS code is just never even executed.","body":"@DanMacak Hi, client-side code (JS functions sendMessage() and connect()) should send request on the server-side controller sendMessage, but JS code is just never even executed."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683979439,"post_id":76242393,"comment_id":134451380,"body_markdown":"When I run your code I get an error `&quot;Uncaught TypeError: Failed to resolve module specifier \\&quot;@stomp/stompjs\\&quot;`. Are you getting the same?","body":"When I run your code I get an error <code>&quot;Uncaught TypeError: Failed to resolve module specifier \\&quot;@stomp&#47;stompjs\\&quot;</code>. Are you getting the same?"},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683979886,"post_id":76242393,"comment_id":134451424,"body_markdown":"@DanMacak No, in IntellIJ IDEA i do not see any errors anywhere.","body":"@DanMacak No, in IntellIJ IDEA i do not see any errors anywhere."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683980042,"post_id":76242393,"comment_id":134451448,"body_markdown":"No you should see this error in browser, or wherever you run your client-side code.","body":"No you should see this error in browser, or wherever you run your client-side code."},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683980485,"post_id":76242393,"comment_id":134451491,"body_markdown":"@DanMacak as i understand, error you getting is shown when stompjs is not installed properly. I have now verified, that in my project stompjs is installed by running npm install @stomp/stompjs.","body":"@DanMacak as i understand, error you getting is shown when stompjs is not installed properly. I have now verified, that in my project stompjs is installed by running npm install @stomp/stompjs."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683981495,"post_id":76242393,"comment_id":134451608,"body_markdown":"I tried your code and for me `sendMessage` gets executed on the client just fine when I click the send button. Not sure if it sends the message though. Are you sure it doesn&#39;t get executed? \nAs for `connect()` that doesn&#39;t execute because it is defined in a module, but modules are scoped so your `&lt;body&gt;` knows nothing about it. Rather use `$( document ).ready()` to define on load callback.","body":"I tried your code and for me <code>sendMessage</code> gets executed on the client just fine when I click the send button. Not sure if it sends the message though. Are you sure it doesn&#39;t get executed?  As for <code>connect()</code> that doesn&#39;t execute because it is defined in a module, but modules are scoped so your <code>&lt;body&gt;</code> knows nothing about it. Rather use <code>$( document ).ready()</code> to define on load callback."}],"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683991868,"creation_date":1683976065,"question_id":76242393,"body_markdown":"I&#39;m developing a simple web messenger using Spring. I have this form:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n        &lt;script type=&quot;importmap&quot;&gt; {\r\n            &quot;imports&quot;: {\r\n              &quot;@stomp/stompjs&quot;: &quot;https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/+esm&quot;,\r\n              &quot;sockjs-client&quot;: &quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.1.4/+esm&quot;\r\n            }\r\n          }\r\n        &lt;/script&gt;\r\n      &lt;/head&gt;\r\n      &lt;body onload=&quot;connect()&quot;&gt;\r\n        &lt;div th:each=&quot;message : ${chat.messageList}&quot;&gt;\r\n          &lt;p th:text=&quot;${message.sender.username}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${message.sendingTime}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;form id=&quot;message&quot;&gt;\r\n          &lt;label for=&quot;messageText&quot;&gt; Enter your message: &lt;/label&gt;\r\n          &lt;p id=&quot;userId&quot; th:text=&quot;${userId}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;p id=&quot;username&quot; th:text=&quot;${username}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;p id=&quot;chatId&quot; th:text=&quot;${chatId}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;textarea id=&quot;messageText&quot; name=&quot;text&quot;&gt;&lt;/textarea&gt;\r\n          &lt;button type=&quot;button&quot; id=&quot;send&quot;&gt;Send&lt;/button&gt;\r\n        &lt;/form&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-latest.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;module&quot;&gt;\r\n          import { Stomp } from &quot;@stomp/stompjs&quot;;\r\n          import SockJS from &quot;sockjs-client&quot;;\r\n\r\n          let stompClient;\r\n          let chatId = document.getElementById(&quot;chatId&quot;).textContent;\r\n          let userId = document.getElementById(&quot;userId&quot;).textContent;\r\n          let username = document.getElementById(&quot;username&quot;).textContent;\r\n\r\n          function connect() {\r\n            const socket = new SockJS(&quot;http://localhost:8080/websocket&quot;);\r\n            stompClient = Stomp.over(socket);\r\n            stompClient.connect({}, function(frame) {\r\n              console.log(&quot;Connected: &quot; + frame);\r\n              stompClient.subscribe(&quot;/topic/chat/&quot; + chatId, function(message) {\r\n                console.log(JSON.parse(message.body));\r\n              });\r\n            });\r\n          }\r\n\r\n          function sendMessage() {\r\n            const message = {\r\n              text: $(&quot;#messageText&quot;).val(),\r\n              sender: {\r\n                id: userId,\r\n                username: username,\r\n              },\r\n              chat: {\r\n                id: chatId,\r\n              },\r\n            };\r\n            stompClient.send(&quot;/app/chat/&quot; + chatId + &quot;/send&quot;, {}, JSON.stringify(message));\r\n          }\r\n          $(function() {\r\n            $(&quot;form&quot;).on(&quot;submit&quot;, function(e) {\r\n              e.preventDefault();\r\n            });\r\n            $(&quot;#send&quot;).click(function() {\r\n              sendMessage();\r\n            });\r\n          });\r\n        &lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nJS script in it is supposed to send a message to this controller using WebSocket:\r\n```\r\n@MessageMapping(&quot;/{chatId}/send&quot;)\r\n    public void sendMessage(@DestinationVariable String chatId, @Payload Message message) {\r\n        messageService.sendMessage(message);\r\n        messagingTemplate.convertAndSend(&quot;/topic/chat/&quot; + chatId, message);\r\n    }\r\n```\r\nSo, pressing the button &quot;send&quot; should call sendMessage() function, and on the loading of the page connect() should be called. But neither of those are executed, and i want to understand why.\r\nI tried to inserting script directly in HTML (it was in other file before), and i tried to check if this script executing at all-if i put alert() at the start of the script, alert() will never happen as well, but if i delete everything but alert(), it will work.\r\n\r\nHere&#39;s my WebSocket configuration class:\r\n```\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\r\n        DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\r\n        resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(new ObjectMapper());\r\n        converter.setContentTypeResolver(resolver);\r\n        messageConverters.add(converter);\r\n        return false;\r\n    }\r\n}\r\n```","title":"Why is my JS script with SockJS and JQuery never working?","body":"<p>I'm developing a simple web messenger using Spring. I have this form:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;script type=\"importmap\"&gt; {\n        \"imports\": {\n          \"@stomp/stompjs\": \"https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/+esm\",\n          \"sockjs-client\": \"https://cdn.jsdelivr.net/npm/sockjs-client@1.1.4/+esm\"\n        }\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body onload=\"connect()\"&gt;\n    &lt;div th:each=\"message : ${chat.messageList}\"&gt;\n      &lt;p th:text=\"${message.sender.username}\"&gt;&lt;/p&gt;\n      &lt;p th:text=\"${message.sendingTime}\"&gt;&lt;/p&gt;\n      &lt;p th:text=\"${message.text}\"&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;form id=\"message\"&gt;\n      &lt;label for=\"messageText\"&gt; Enter your message: &lt;/label&gt;\n      &lt;p id=\"userId\" th:text=\"${userId}\" hidden&gt;&lt;/p&gt;\n      &lt;p id=\"username\" th:text=\"${username}\" hidden&gt;&lt;/p&gt;\n      &lt;p id=\"chatId\" th:text=\"${chatId}\" hidden&gt;&lt;/p&gt;\n      &lt;textarea id=\"messageText\" name=\"text\"&gt;&lt;/textarea&gt;\n      &lt;button type=\"button\" id=\"send\"&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"module\"&gt;\n      import { Stomp } from \"@stomp/stompjs\";\n      import SockJS from \"sockjs-client\";\n\n      let stompClient;\n      let chatId = document.getElementById(\"chatId\").textContent;\n      let userId = document.getElementById(\"userId\").textContent;\n      let username = document.getElementById(\"username\").textContent;\n\n      function connect() {\n        const socket = new SockJS(\"http://localhost:8080/websocket\");\n        stompClient = Stomp.over(socket);\n        stompClient.connect({}, function(frame) {\n          console.log(\"Connected: \" + frame);\n          stompClient.subscribe(\"/topic/chat/\" + chatId, function(message) {\n            console.log(JSON.parse(message.body));\n          });\n        });\n      }\n\n      function sendMessage() {\n        const message = {\n          text: $(\"#messageText\").val(),\n          sender: {\n            id: userId,\n            username: username,\n          },\n          chat: {\n            id: chatId,\n          },\n        };\n        stompClient.send(\"/app/chat/\" + chatId + \"/send\", {}, JSON.stringify(message));\n      }\n      $(function() {\n        $(\"form\").on(\"submit\", function(e) {\n          e.preventDefault();\n        });\n        $(\"#send\").click(function() {\n          sendMessage();\n        });\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>JS script in it is supposed to send a message to this controller using WebSocket:</p>\n<pre><code>@MessageMapping(&quot;/{chatId}/send&quot;)\n    public void sendMessage(@DestinationVariable String chatId, @Payload Message message) {\n        messageService.sendMessage(message);\n        messagingTemplate.convertAndSend(&quot;/topic/chat/&quot; + chatId, message);\n    }\n</code></pre>\n<p>So, pressing the button &quot;send&quot; should call sendMessage() function, and on the loading of the page connect() should be called. But neither of those are executed, and i want to understand why.\nI tried to inserting script directly in HTML (it was in other file before), and i tried to check if this script executing at all-if i put alert() at the start of the script, alert() will never happen as well, but if i delete everything but alert(), it will work.</p>\n<p>Here's my WebSocket configuration class:</p>\n<pre><code>@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    }\n\n    @Override\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\n        DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\n        resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setObjectMapper(new ObjectMapper());\n        converter.setContentTypeResolver(resolver);\n        messageConverters.add(converter);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","api","jwt"],"owner":{"account_id":28588815,"reputation":1,"user_id":21888505,"display_name":"ObedMP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683990816,"creation_date":1683990816,"question_id":76243459,"body_markdown":"I am trying to implement security to my rest api with jwt as authentication method, in my API I am using spring boot , the new version of spring seems to have problems with spring security , could jwt be implemented without using spring security? \r\n\r\n\r\nI would like to implement jwt without the need to use spring security to my rest order api, which handles 3 roles (admin, user and client)","title":"How can i implement jwt to my rest api? without using spring security","body":"<p>I am trying to implement security to my rest api with jwt as authentication method, in my API I am using spring boot , the new version of spring seems to have problems with spring security , could jwt be implemented without using spring security?</p>\n<p>I would like to implement jwt without the need to use spring security to my rest order api, which handles 3 roles (admin, user and client)</p>\n"},{"tags":["java","android-studio","mapbox"],"answers":[{"tags":[],"owner":{"account_id":25332708,"reputation":36,"user_id":19152296,"display_name":"alexandre bintz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661330245,"creation_date":1661330245,"answer_id":73469969,"question_id":72282914,"body_markdown":"Looks like a problem I had. Not sure if this is the same, but in my case setting the `textureView` option to `true` solved it.\r\n\r\nThis is how I did it in code:\r\n```kotlin\r\nval resourceOptions = ResourceOptions.Builder()\r\n            .accessToken(context.getString(R.string.mapbox_access_token))\r\n            .build()\r\n\r\nmapView = MapView(context, MapInitOptions(context, resourceOptions).apply { textureView = true })\r\n```\r\nI am not sure how to do it in XML.","title":"Mapbox Map not showing on android","body":"<p>Looks like a problem I had. Not sure if this is the same, but in my case setting the <code>textureView</code> option to <code>true</code> solved it.</p>\n<p>This is how I did it in code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val resourceOptions = ResourceOptions.Builder()\n            .accessToken(context.getString(R.string.mapbox_access_token))\n            .build()\n\nmapView = MapView(context, MapInitOptions(context, resourceOptions).apply { textureView = true })\n</code></pre>\n<p>I am not sure how to do it in XML.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684010361,"post_id":76243436,"comment_id":134455115,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76243436/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21819654,"reputation":1,"user_id":16518578,"display_name":"Sajid Anam Ifti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683990742,"creation_date":1683990725,"answer_id":76243436,"question_id":72282914,"body_markdown":"You can do this in XML\r\n\r\n&lt;com.mapbox.mapboxsdk.maps.MapView\r\n\r\n...\r\n\r\napp:mapbox_renderTextureMode=&quot;true&quot;/&gt;","title":"Mapbox Map not showing on android","body":"<p>You can do this in XML</p>\n<p>&lt;com.mapbox.mapboxsdk.maps.MapView</p>\n<p>...</p>\n<p>app:mapbox_renderTextureMode=&quot;true&quot;/&gt;</p>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73469969,"answer_count":2,"score":2,"last_activity_date":1683990742,"creation_date":1652844820,"question_id":72282914,"body_markdown":"When I tested it the first couple of times it was showing perfectly well, then I added some code and it just stopped. It still shows the Mapbox logo on the left bottom screen but it&#39;s not loading the map. Here&#39;s the code on the `MapActivity`: \r\n\r\n```java\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\r\n\r\n    private MapView mapView;\r\n    private Button startButton;\r\n\r\n    private MapboxMap map;\r\n    private PermissionsManager permissionsManager;\r\n    private LocationEngine locationEngine;\r\n    private Location originLocation;\r\n    private LocationLayerPlugin locationLayerPlugin;\r\n    private Locash customerLocash;\r\n    private Point destinationPosition;\r\n    private Point originPosition;\r\n    private Marker destinationMarker;\r\n    private NavigationMapRoute navigationMapRoute;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Mapbox.getInstance(this, getString(R.string.access_token));\r\n        setContentView(R.layout.activity_map);\r\n        mapView = findViewById(R.id.mapView);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(this);\r\n\r\n\r\n        startButton = findViewById(R.id.startButton);\r\n\r\n        Intent activityIntent = getIntent();\r\n        String locationJson = activityIntent.getStringExtra(&quot;location&quot;);\r\n\r\n        Gson gson = new Gson();\r\n\r\n        customerLocash = gson.fromJson(locationJson,Locash.class);\r\n\r\n        startButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //Launch Navigation\r\n                NavigationLauncherOptions options = NavigationLauncherOptions.builder()\r\n                        .origin(originPosition)\r\n                        .destination(destinationPosition)\r\n                        .shouldSimulateRoute(true)\r\n                        .build();\r\n                NavigationLauncher.startNavigation(MapActivity.this, options);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(MapboxMap mapboxMap) {\r\n        map = mapboxMap;\r\n        enableLocation();\r\n\r\n        LatLng point = new LatLng(customerLocash.getLongitude(),customerLocash.getLatitude());\r\n\r\n        destinationMarker = map.addMarker(new MarkerOptions().position(point));\r\n\r\n        destinationPosition = Point.fromLngLat(point.getLongitude(),point.getLatitude());\r\n        originPosition = Point.fromLngLat(originLocation.getLongitude(), originLocation.getLatitude());\r\n        getRoute(originPosition, destinationPosition);\r\n\r\n        startButton.setEnabled(true);\r\n\r\n    }\r\n\r\n    private void enableLocation() {\r\n        if (PermissionsManager.areLocationPermissionsGranted(this)){ \r\n            initializeLocationEngine();\r\n            initializeLocationLayer();\r\n            \r\n        } else {\r\n            permissionsManager = new PermissionsManager(this);\r\n            permissionsManager.requestLocationPermissions(this);\r\n        }\r\n\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationEngine() {\r\n        locationEngine = new LocationEngineProvider(this)\r\n                .obtainBestLocationEngineAvailable();\r\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\r\n        locationEngine.activate();\r\n\r\n        Location lastLocation = locationEngine.getLastLocation();\r\n        if (lastLocation != null){\r\n            originLocation = lastLocation;\r\n            setCameraPosition(lastLocation);\r\n        } else {\r\n            locationEngine.addLocationEngineListener(this);\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationLayer() {\r\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\r\n        locationLayerPlugin.setLocationLayerEnabled(true);\r\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\r\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\r\n\r\n    }\r\n\r\n    private void setCameraPosition(Location location){\r\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\r\n                location.getLongitude()),13.0));\r\n    }\r\n\r\n    private void getRoute(Point origin, Point destination){\r\n        NavigationRoute.builder()\r\n                .accessToken(Mapbox.getAccessToken())\r\n                .origin(origin)\r\n                .destination(destination)\r\n                .build()\r\n                .getRoute(new Callback&lt;DirectionsResponse&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;DirectionsResponse&gt; call, Response&lt;DirectionsResponse&gt; response) {\r\n                        if (response.body()  == null){\r\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        } else if (response.body().routes().size() == 0){\r\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n\r\n                        DirectionsRoute currentRoute = response.body().routes().get(0);\r\n\r\n                        navigationMapRoute = new NavigationMapRoute(null, mapView,map);\r\n                        navigationMapRoute.addRoute(currentRoute);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;DirectionsResponse&gt; call, Throwable t) {\r\n\r\n                        Toast.makeText(MapActivity.this, &quot;Error:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onConnected() {\r\n        locationEngine.requestLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n        if (location != null){\r\n            originLocation = location;\r\n            setCameraPosition(location);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\r\n        Toast.makeText(this, &quot;Location Required&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onPermissionResult(boolean granted) {\r\n        if (granted){\r\n            enableLocation();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        permissionsManager.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if (locationEngine != null){\r\n            locationEngine.requestLocationUpdates();\r\n        }\r\n        if (locationLayerPlugin != null){\r\n            locationLayerPlugin.onStart();\r\n        }\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        if (locationEngine != null){\r\n            locationEngine.removeLocationUpdates();\r\n        }\r\n        if (locationLayerPlugin != null){\r\n            locationLayerPlugin.onStop();\r\n        }\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(@NonNull Bundle outState, @NonNull PersistableBundle outPersistentState) {\r\n        super.onSaveInstanceState(outState, outPersistentState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (locationEngine != null){\r\n            locationEngine.deactivate();\r\n        }\r\n        mapView.onDestroy();\r\n    }\r\n}\r\n```\r\n\r\nOh and the Locash object is a class I use to store user location on firebase and the likes.","title":"Mapbox Map not showing on android","body":"<p>When I tested it the first couple of times it was showing perfectly well, then I added some code and it just stopped. It still shows the Mapbox logo on the left bottom screen but it's not loading the map. Here's the code on the <code>MapActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\n\n    private MapView mapView;\n    private Button startButton;\n\n    private MapboxMap map;\n    private PermissionsManager permissionsManager;\n    private LocationEngine locationEngine;\n    private Location originLocation;\n    private LocationLayerPlugin locationLayerPlugin;\n    private Locash customerLocash;\n    private Point destinationPosition;\n    private Point originPosition;\n    private Marker destinationMarker;\n    private NavigationMapRoute navigationMapRoute;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Mapbox.getInstance(this, getString(R.string.access_token));\n        setContentView(R.layout.activity_map);\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(this);\n\n\n        startButton = findViewById(R.id.startButton);\n\n        Intent activityIntent = getIntent();\n        String locationJson = activityIntent.getStringExtra(&quot;location&quot;);\n\n        Gson gson = new Gson();\n\n        customerLocash = gson.fromJson(locationJson,Locash.class);\n\n        startButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //Launch Navigation\n                NavigationLauncherOptions options = NavigationLauncherOptions.builder()\n                        .origin(originPosition)\n                        .destination(destinationPosition)\n                        .shouldSimulateRoute(true)\n                        .build();\n                NavigationLauncher.startNavigation(MapActivity.this, options);\n            }\n        });\n\n    }\n\n    @Override\n    public void onMapReady(MapboxMap mapboxMap) {\n        map = mapboxMap;\n        enableLocation();\n\n        LatLng point = new LatLng(customerLocash.getLongitude(),customerLocash.getLatitude());\n\n        destinationMarker = map.addMarker(new MarkerOptions().position(point));\n\n        destinationPosition = Point.fromLngLat(point.getLongitude(),point.getLatitude());\n        originPosition = Point.fromLngLat(originLocation.getLongitude(), originLocation.getLatitude());\n        getRoute(originPosition, destinationPosition);\n\n        startButton.setEnabled(true);\n\n    }\n\n    private void enableLocation() {\n        if (PermissionsManager.areLocationPermissionsGranted(this)){ \n            initializeLocationEngine();\n            initializeLocationLayer();\n            \n        } else {\n            permissionsManager = new PermissionsManager(this);\n            permissionsManager.requestLocationPermissions(this);\n        }\n\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationEngine() {\n        locationEngine = new LocationEngineProvider(this)\n                .obtainBestLocationEngineAvailable();\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\n        locationEngine.activate();\n\n        Location lastLocation = locationEngine.getLastLocation();\n        if (lastLocation != null){\n            originLocation = lastLocation;\n            setCameraPosition(lastLocation);\n        } else {\n            locationEngine.addLocationEngineListener(this);\n        }\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationLayer() {\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\n        locationLayerPlugin.setLocationLayerEnabled(true);\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\n\n    }\n\n    private void setCameraPosition(Location location){\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\n                location.getLongitude()),13.0));\n    }\n\n    private void getRoute(Point origin, Point destination){\n        NavigationRoute.builder()\n                .accessToken(Mapbox.getAccessToken())\n                .origin(origin)\n                .destination(destination)\n                .build()\n                .getRoute(new Callback&lt;DirectionsResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;DirectionsResponse&gt; call, Response&lt;DirectionsResponse&gt; response) {\n                        if (response.body()  == null){\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\n                            return;\n                        } else if (response.body().routes().size() == 0){\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\n                            return;\n                        }\n\n                        DirectionsRoute currentRoute = response.body().routes().get(0);\n\n                        navigationMapRoute = new NavigationMapRoute(null, mapView,map);\n                        navigationMapRoute.addRoute(currentRoute);\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;DirectionsResponse&gt; call, Throwable t) {\n\n                        Toast.makeText(MapActivity.this, &quot;Error:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    @Override\n    public void onConnected() {\n        locationEngine.requestLocationUpdates();\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n        if (location != null){\n            originLocation = location;\n            setCameraPosition(location);\n        }\n\n    }\n\n    @Override\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\n        Toast.makeText(this, &quot;Location Required&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onPermissionResult(boolean granted) {\n        if (granted){\n            enableLocation();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        permissionsManager.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    @Override\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    protected void onStart() {\n        super.onStart();\n        if (locationEngine != null){\n            locationEngine.requestLocationUpdates();\n        }\n        if (locationLayerPlugin != null){\n            locationLayerPlugin.onStart();\n        }\n        mapView.onStart();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        if (locationEngine != null){\n            locationEngine.removeLocationUpdates();\n        }\n        if (locationLayerPlugin != null){\n            locationLayerPlugin.onStop();\n        }\n        mapView.onStop();\n    }\n\n    @Override\n    public void onSaveInstanceState(@NonNull Bundle outState, @NonNull PersistableBundle outPersistentState) {\n        super.onSaveInstanceState(outState, outPersistentState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (locationEngine != null){\n            locationEngine.deactivate();\n        }\n        mapView.onDestroy();\n    }\n}\n</code></pre>\n<p>Oh and the Locash object is a class I use to store user location on firebase and the likes.</p>\n"},{"tags":["java","oop","compareto"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683881491,"post_id":76234601,"comment_id":134437507,"body_markdown":"Generally, you want to *first* compare the highest-relevance one (which seems to be rank) and *if* that is equal, then compare the next one (and so on, if there&#39;s more than two). So instead of `return 0` you just start another `if-then`-cascade comparing `suit`. Also: Using `Integer.compareTo` can simplify your code: `int result = Integer.compareTo(this.rank.ordinal(), o.rank.ordinal()); if (result == null) { /* further tests, assigning to result */ }; return result;`","body":"Generally, you want to <i>first</i> compare the highest-relevance one (which seems to be rank) and <i>if</i> that is equal, then compare the next one (and so on, if there&#39;s more than two). So instead of <code>return 0</code> you just start another <code>if-then</code>-cascade comparing <code>suit</code>. Also: Using <code>Integer.compareTo</code> can simplify your code: <code>int result = Integer.compareTo(this.rank.ordinal(), o.rank.ordinal()); if (result == null) { &#47;* further tests, assigning to result *&#47; }; return result;</code>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1683881721,"post_id":76234601,"comment_id":134437567,"body_markdown":"@JoachimSauer `result == null` always evaluates to false. I suppose you wanted `0`.","body":"@JoachimSauer <code>result == null</code> always evaluates to false. I suppose you wanted <code>0</code>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683882357,"post_id":76234601,"comment_id":134437689,"body_markdown":"@Hulk: absolutely, that was a brain-fart.","body":"@Hulk: absolutely, that was a brain-fart."}],"answers":[{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881895,"creation_date":1683881586,"answer_id":76234654,"question_id":76234601,"body_markdown":"You can use [Comparator.comparing](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html):\r\n\r\nI understand `rank` is having priority over the `suit`, so it can be done like:\r\n\r\n```java\r\nimport java.util.Comparator;\r\n\r\npublic class Cards {\r\n\r\n  enum Suit {hearts, clubs, diamonds, spades}\r\n\r\n  enum Rank {_2, _3, _4, _5, _6, _7, _8, _9, _10, joker, queen, king, ace,}\r\n\r\n  record Card(Suit suit, Rank rank) implements Comparable&lt;Card&gt; {\r\n    @Override\r\n    public int compareTo(Card o) {\r\n      return Comparator.comparing(Card::rank).thenComparing(Card::suit).compare(this, o);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    var c1 = new Card(Suit.hearts, Rank.ace);\r\n    var c2 = new Card(Suit.spades, Rank._2);\r\n    System.out.println(c1.compareTo(c2));\r\n  }\r\n}\r\n```","title":"comparing two &#39;card&#39; objects in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator.comparing</a>:</p>\n<p>I understand <code>rank</code> is having priority over the <code>suit</code>, so it can be done like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\n\npublic class Cards {\n\n  enum Suit {hearts, clubs, diamonds, spades}\n\n  enum Rank {_2, _3, _4, _5, _6, _7, _8, _9, _10, joker, queen, king, ace,}\n\n  record Card(Suit suit, Rank rank) implements Comparable&lt;Card&gt; {\n    @Override\n    public int compareTo(Card o) {\n      return Comparator.comparing(Card::rank).thenComparing(Card::suit).compare(this, o);\n    }\n  }\n\n  public static void main(String[] args) {\n    var c1 = new Card(Suit.hearts, Rank.ace);\n    var c2 = new Card(Suit.spades, Rank._2);\n    System.out.println(c1.compareTo(c2));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683887163,"creation_date":1683882185,"answer_id":76234736,"question_id":76234601,"body_markdown":"An alternative way would be to use the *Comparator* interface and its static factory methods introduced in Java8:\r\n```java\r\nprivate final Comparator&lt;Card&gt; comparator = Comparator.comparingInt((Card card) -&gt; card.rank.ordinal())\r\n\t\t.thenComparing((Card card) -&gt; card.suit.ordinal());\r\n```\r\n\r\nYou can then use this comparator directly, or through the overridden `compareTo` method:\r\n```java\r\n@Override\r\npublic int compareTo(Card other) {\r\n\treturn comparator.compare(this, other);\r\n}\r\n```\r\n\r\n----------\r\n\r\nSince this question is also tagged with `oop`, I&#39;ll add that the whole comparison logic should belong to a card *game*, not to the card itself. \r\n\r\nIn other words, if this comparison is game-specific, you should avoid putting it inside your entity/model. Asa result, you&#39;ll be able to easily reuse the `Card` object for different card `games`.","title":"comparing two &#39;card&#39; objects in Java","body":"<p>An alternative way would be to use the <em>Comparator</em> interface and its static factory methods introduced in Java8:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Comparator&lt;Card&gt; comparator = Comparator.comparingInt((Card card) -&gt; card.rank.ordinal())\n        .thenComparing((Card card) -&gt; card.suit.ordinal());\n</code></pre>\n<p>You can then use this comparator directly, or through the overridden <code>compareTo</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int compareTo(Card other) {\n    return comparator.compare(this, other);\n}\n</code></pre>\n<hr />\n<p>Since this question is also tagged with <code>oop</code>, I'll add that the whole comparison logic should belong to a card <em>game</em>, not to the card itself.</p>\n<p>In other words, if this comparison is game-specific, you should avoid putting it inside your entity/model. Asa result, you'll be able to easily reuse the <code>Card</code> object for different card <code>games</code>.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683990518,"creation_date":1683982442,"answer_id":76242843,"question_id":76234601,"body_markdown":"You can add the further comparison into the else:\r\n\r\n```\r\n@Override\r\n    public int compareTo(Card o) {\r\n        \r\n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\r\n            return 1;\r\n        }\r\n        else if (this.rank.ordinal() &lt; o.rank.ordinal()) {\r\n            return -1;\r\n        } \r\n        else {\r\n            if (this.suit.ordinal() &gt; o.suit.ordinal()) {\r\n                return 1;\r\n            }\r\n            else if (this.suit.ordinal() &lt; o.suit.ordinal()) {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n```","title":"comparing two &#39;card&#39; objects in Java","body":"<p>You can add the further comparison into the else:</p>\n<pre><code>@Override\n    public int compareTo(Card o) {\n        \n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\n            return 1;\n        }\n        else if (this.rank.ordinal() &lt; o.rank.ordinal()) {\n            return -1;\n        } \n        else {\n            if (this.suit.ordinal() &gt; o.suit.ordinal()) {\n                return 1;\n            }\n            else if (this.suit.ordinal() &lt; o.suit.ordinal()) {\n                return -1;\n            }\n        }\n\n        return 0;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26235747,"reputation":47,"user_id":19910923,"display_name":"acidic231"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683982811,"answer_count":3,"score":0,"last_activity_date":1683990518,"creation_date":1683881101,"question_id":76234601,"body_markdown":"I&#39;m stuck on this question where I need to compare two card objects based upon what rank and suit they are. \r\nHeart being the lowest suit, Spades the highest. \r\nAnd for Rank, One the lowest and Ace the highest. \r\nAnd 5 Spades being &gt; 2 Hearts.\r\nThese values are stored in two enums of their respective type. With Heart being the first ordinal and Spades the last ordinal.  \r\n```\r\n@Override\r\n\tpublic int compareTo(Card o) {\r\n\t\t\r\n\t\tif(this.rank.ordinal() &gt; o.rank.ordinal()) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (this.rank.ordinal() &lt; o.rank.ordinal()) {\r\n\t        return -1;\r\n\t    } \r\n\t    else {\r\n\t    \treturn 0;\r\n\t    }\r\n```\r\nIn my comapreTo() I&#39;ve implemented the comparing of the rank, but I&#39;m stuck on THEN comparing the suit to find the greater card. This code fails once it goes past Ace of Hearts as it thinks 1 of clubs is higher. I&#39;ve tried a bunch of different methods using if&#39;s but it just becomes convoluted and ugly and doesn&#39;t work anyways. Does anyone have any suggestions?","title":"comparing two &#39;card&#39; objects in Java","body":"<p>I'm stuck on this question where I need to compare two card objects based upon what rank and suit they are.\nHeart being the lowest suit, Spades the highest.\nAnd for Rank, One the lowest and Ace the highest.\nAnd 5 Spades being &gt; 2 Hearts.\nThese values are stored in two enums of their respective type. With Heart being the first ordinal and Spades the last ordinal.</p>\n<pre><code>@Override\n    public int compareTo(Card o) {\n        \n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\n            return 1;\n        }\n        if (this.rank.ordinal() &lt; o.rank.ordinal()) {\n            return -1;\n        } \n        else {\n            return 0;\n        }\n</code></pre>\n<p>In my comapreTo() I've implemented the comparing of the rank, but I'm stuck on THEN comparing the suit to find the greater card. This code fails once it goes past Ace of Hearts as it thinks 1 of clubs is higher. I've tried a bunch of different methods using if's but it just becomes convoluted and ugly and doesn't work anyways. Does anyone have any suggestions?</p>\n"},{"tags":["java","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1683986437,"post_id":76243024,"comment_id":134452146,"body_markdown":"You could try using a try catch block to catch the exception. I wonder also if using Spring Boots Actuator to create a custom health check could be useful in your case, which you could set up to return Health.down() when the shouldShutdown is true and also when the db connection fails. It looks like something sort of similar might be described [here](https://reflectoring.io/spring-boot-health-check/).","body":"You could try using a try catch block to catch the exception. I wonder also if using Spring Boots Actuator to create a custom health check could be useful in your case, which you could set up to return Health.down() when the shouldShutdown is true and also when the db connection fails. It looks like something sort of similar might be described <a href=\"https://reflectoring.io/spring-boot-health-check/\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986951,"creation_date":1683986951,"answer_id":76243157,"question_id":76243024,"body_markdown":"Can do like this on a Service/Component bean, depending on your requirements:\r\n\r\n```\r\n@PreDestroy\r\npublic void close() {\r\n    // application is closed\r\n}\r\n```","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>Can do like this on a Service/Component bean, depending on your requirements:</p>\n<pre><code>@PreDestroy\npublic void close() {\n    // application is closed\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683989945,"creation_date":1683989945,"answer_id":76243372,"question_id":76243024,"body_markdown":"Calling `HikariDataSource.close()` has done the trick:\r\n\r\n```java\r\n@Scheduled(fixedDelay = 3000)\r\npublic void checkShutdown() {\r\n\r\n    boolean shouldShutdown = readFromDatabase();\r\n\r\n    if (shouldShutdown) {\r\n        log.info(&quot;Shutdown requested.&quot;);\r\n        hikariDataSource.close();\r\n        SpringApplication.exit(applicationContext, () -&gt; 0);\r\n        return;\r\n    }\r\n}\r\n```","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>Calling <code>HikariDataSource.close()</code> has done the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelay = 3000)\npublic void checkShutdown() {\n\n    boolean shouldShutdown = readFromDatabase();\n\n    if (shouldShutdown) {\n        log.info(&quot;Shutdown requested.&quot;);\n        hikariDataSource.close();\n        SpringApplication.exit(applicationContext, () -&gt; 0);\n        return;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76243372,"answer_count":2,"score":1,"last_activity_date":1683989945,"creation_date":1683985252,"question_id":76243024,"body_markdown":"I am trying to stop a Spring Boot application based on a database value like this:\r\n\r\n\t@Scheduled(fixedDelay = 3000)\r\n\tpublic void checkShutdown() {\r\n\r\n\t\tboolean shouldShutdown = readFromDatabase();\r\n\r\n\t\tif (shouldShutdown) {\r\n\t\t\tlog.info(&quot;Shutdown requested.&quot;);\r\n\t\t\tSpringApplication.exit(applicationContext, () -&gt; 0);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\nWhen the app is exiting, it throws a nasty exception, because the Hikari data source is interrupted and not allowed to close gracefully. Here is the exception:\r\n\r\n```text\r\n2023-05-13T10:24:47.924-03:00  INFO 248948 --- [   scheduling-1] c.e.d.example.service.ShutdownService   : Shutdown requested.\r\n2023-05-13T10:24:47.934-03:00  WARN 248948 --- [   scheduling-1] o.s.s.c.ThreadPoolTaskScheduler          : Interrupted while waiting for executor &#39;taskScheduler&#39; to terminate\r\n2023-05-13T10:24:47.939-03:00  INFO 248948 --- [   scheduling-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-13T10:24:47.944-03:00  INFO 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-05-13T10:24:47.949-03:00  WARN 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Interrupted during closing\r\n\r\njava.lang.InterruptedException: null\r\n\tat java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1660) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1464) ~[na:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.shutdown(HikariPool.java:243) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:351) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:222) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1189) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1182) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1084) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1053) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1003) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.SpringApplication.close(SpringApplication.java:1397) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.exit(SpringApplication.java:1350) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.example.service.ShutdownService.checkShutdown(ShutdownService.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nI have tried setting the following properties, but it made no difference:\r\n\r\n```yml\r\nspring:\r\n  task:\r\n    execution:\r\n      shutdown:\r\n        await-termination: true\r\n        await-termination-period: 15s\r\n    scheduling:\r\n      shutdown:\r\n        await-termination: true\r\n        await-termination-period: 15s\r\n```\r\nI also tried calling `applicationContext.close()` instead of `SpringApplication.exit`, but it also made no difference.","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>I am trying to stop a Spring Boot application based on a database value like this:</p>\n<pre><code>@Scheduled(fixedDelay = 3000)\npublic void checkShutdown() {\n\n    boolean shouldShutdown = readFromDatabase();\n\n    if (shouldShutdown) {\n        log.info(&quot;Shutdown requested.&quot;);\n        SpringApplication.exit(applicationContext, () -&gt; 0);\n        return;\n    }\n}\n</code></pre>\n<p>When the app is exiting, it throws a nasty exception, because the Hikari data source is interrupted and not allowed to close gracefully. Here is the exception:</p>\n<pre><code>2023-05-13T10:24:47.924-03:00  INFO 248948 --- [   scheduling-1] c.e.d.example.service.ShutdownService   : Shutdown requested.\n2023-05-13T10:24:47.934-03:00  WARN 248948 --- [   scheduling-1] o.s.s.c.ThreadPoolTaskScheduler          : Interrupted while waiting for executor 'taskScheduler' to terminate\n2023-05-13T10:24:47.939-03:00  INFO 248948 --- [   scheduling-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-05-13T10:24:47.944-03:00  INFO 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-13T10:24:47.949-03:00  WARN 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Interrupted during closing\n\njava.lang.InterruptedException: null\n    at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1660) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1464) ~[na:na]\n    at com.zaxxer.hikari.pool.HikariPool.shutdown(HikariPool.java:243) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:351) ~[HikariCP-5.0.1.jar:na]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:222) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1189) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1182) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1084) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1053) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1003) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.SpringApplication.close(SpringApplication.java:1397) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.exit(SpringApplication.java:1350) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.example.service.ShutdownService.checkShutdown(ShutdownService.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.8.jar:6.0.8]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>I have tried setting the following properties, but it made no difference:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  task:\n    execution:\n      shutdown:\n        await-termination: true\n        await-termination-period: 15s\n    scheduling:\n      shutdown:\n        await-termination: true\n        await-termination-period: 15s\n</code></pre>\n<p>I also tried calling <code>applicationContext.close()</code> instead of <code>SpringApplication.exit</code>, but it also made no difference.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1684872487,"post_id":76243012,"comment_id":134580251,"body_markdown":"I think the questions title is misleading since it is not the object creation that you want to mock...","body":"I think the questions title is misleading since it is not the object creation that you want to mock..."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683989914,"creation_date":1683989914,"answer_id":76243370,"question_id":76243012,"body_markdown":"If I understood correctly you need to mock parameters inside the object. I think you can easily mock this parameters with `when()`\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n        class AnInjectMockTest {\r\n        \r\n            @InjectMocks\r\n            private AnInjectMock anInjectMock;\r\n        \r\n            @Mock\r\n            private ServiceClass serviceClass;\r\n        \r\n            @Mock\r\n            private Param1 param1;\r\n        \r\n            @Mock\r\n            private Param2 param2;\r\n        \r\n            @Test\r\n            public void myTest() {\r\n                when(param1.getField1()).thenReturn(any());\r\n                when(param2.getField2()).thenReturn(any());\r\n                anInjectMock.createTransaction(pojo, /*other fields*/};\r\n            }\r\n    \r\n    }\r\n\r\nBy the way, why do you need to mock it? Maybe it&#39;s better to create an object from pojo and then mock `createTransaction()`\r\n\r\n\r\n    Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\r\n    when(serviceClass.createTransaction(pojo, /*other fields*/)).thenReturn(any());\r\n\r\nAnd the last point. You can mock constructors with WhiteBox like:\r\n\r\n    Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\r\n    Whitebox.setInternalState(anInjectMock, &quot;pojo&quot;, pojo);\r\n\r\nBut then you need to add dependency for WhiteBox:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-reflect --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Best practice to mock/stub object created by constructor in a method","body":"<p>If I understood correctly you need to mock parameters inside the object. I think you can easily mock this parameters with <code>when()</code></p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    class AnInjectMockTest {\n    \n        @InjectMocks\n        private AnInjectMock anInjectMock;\n    \n        @Mock\n        private ServiceClass serviceClass;\n    \n        @Mock\n        private Param1 param1;\n    \n        @Mock\n        private Param2 param2;\n    \n        @Test\n        public void myTest() {\n            when(param1.getField1()).thenReturn(any());\n            when(param2.getField2()).thenReturn(any());\n            anInjectMock.createTransaction(pojo, /*other fields*/};\n        }\n\n}\n</code></pre>\n<p>By the way, why do you need to mock it? Maybe it's better to create an object from pojo and then mock <code>createTransaction()</code></p>\n<pre><code>Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\nwhen(serviceClass.createTransaction(pojo, /*other fields*/)).thenReturn(any());\n</code></pre>\n<p>And the last point. You can mock constructors with WhiteBox like:</p>\n<pre><code>Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\nWhitebox.setInternalState(anInjectMock, &quot;pojo&quot;, pojo);\n</code></pre>\n<p>But then you need to add dependency for WhiteBox:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-reflect --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243370,"answer_count":1,"score":0,"last_activity_date":1683989914,"creation_date":1683985057,"question_id":76243012,"body_markdown":"(Currently I have junit and Mockito, PowerMock or EasyMock is not an option)\r\nConsidering a POJO class with parameterized constructor \r\n\r\n    public class Pojo{\r\n        private String field1;\r\n        private String field2;\r\n\r\n        public Pojo(String field1, String field2){\r\n            this.field1=field1, this.field2=field2;\r\n        }\r\n    }\r\n\r\nNow I have a class requires unit test and one of the method create Pojo object by the constructor \r\n\r\n\r\n    public class AnInjectMock{\r\n\r\n        private ServiceClass serviceClass;\r\n        //....\r\n        public void runTransaction(Param1 param1, Param2 param2 ...){\r\n\r\n            Pojo pojo = new Pojo(param1.getFiel1(), param2.getField2();\r\n            \r\n            serviceClass.createTransaction(pojo, /*other fields*/};\r\n            .....\r\n        }\r\n    }\r\n\r\nI think this is not an uncommon implementation scenario. But as for unit test, I try to figure out a way to use Mockito only to stub the constructor object. I get it that [after Mockito 3.5][1] there is support to mock constructor, however per the document and other online tutorial I couldn&#39;t find anything to stub the object with parameterized constructor. I am Ok with `any()` value for the constructor.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction","title":"Best practice to mock/stub object created by constructor in a method","body":"<p>(Currently I have junit and Mockito, PowerMock or EasyMock is not an option)\nConsidering a POJO class with parameterized constructor</p>\n<pre><code>public class Pojo{\n    private String field1;\n    private String field2;\n\n    public Pojo(String field1, String field2){\n        this.field1=field1, this.field2=field2;\n    }\n}\n</code></pre>\n<p>Now I have a class requires unit test and one of the method create Pojo object by the constructor</p>\n<pre><code>public class AnInjectMock{\n\n    private ServiceClass serviceClass;\n    //....\n    public void runTransaction(Param1 param1, Param2 param2 ...){\n\n        Pojo pojo = new Pojo(param1.getFiel1(), param2.getField2();\n        \n        serviceClass.createTransaction(pojo, /*other fields*/};\n        .....\n    }\n}\n</code></pre>\n<p>I think this is not an uncommon implementation scenario. But as for unit test, I try to figure out a way to use Mockito only to stub the constructor object. I get it that <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">after Mockito 3.5</a> there is support to mock constructor, however per the document and other online tutorial I couldn't find anything to stub the object with parameterized constructor. I am Ok with <code>any()</code> value for the constructor.</p>\n"},{"tags":["java","algorithm","binary-tree","binary-search-tree"],"answers":[{"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1683992856,"post_id":76240302,"comment_id":134453009,"body_markdown":"It&#39;s probably no coincidence that the given post-order traversal is valid for a binary search tree.","body":"It&#39;s probably no coincidence that the given post-order traversal is valid for a binary search tree."}],"tags":[],"owner":{"account_id":12864974,"reputation":229,"user_id":9305555,"display_name":"Chase LP"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683930792,"creation_date":1683930792,"answer_id":76240302,"question_id":76240095,"body_markdown":"A postorder traversal doesn&#39;t necessarily give you the actual tree shape.\r\nIf you were to assume that it is a binary tree, and each level is filled as much as possible from left to right, then you could have a shape like this for 11 nodes:\r\n```\r\n           x\r\n        /    \\\r\n      x        x\r\n     / \\      / \\\r\n    x   x    x   x\r\n   / \\  / \\\r\n  x  x  x  x\r\n```\r\nThis is the way that I would approach this problem, don&#39;t worry about the values at first but the shape.\r\n\r\nOnce you have a tree that has the right node count and shape that you want/expect, you can just use your post-order traversal to fill in the values:\r\n```\r\npostorder: [3 2 1 6 5 4 9 11 10 8 7]\r\npreorder:  [7 9 1 3 2 4 6 5 8 11 10]\r\n\r\n           7\r\n        /    \\\r\n      9        8\r\n     / \\      / \\\r\n    1   4    11  10\r\n   / \\  / \\\r\n  3  2  6  5\r\n```\r\nIf we had given the tree a different shape we could still arrange values to get the same postorder but with th enodes in different spots the preorder would change:\r\n```\r\npostorder: [3 2 1 6 5 4 9 11 10 8 7]\r\npreorder:  [7 10 5 1 3 2 6 11 4 9 8]\r\n\r\n           7\r\n        /    \\\r\n      10       8\r\n     / \\\r\n    5   11\r\n   / \\  / \\\r\n  1  6  4  9\r\n / \\\r\n3   2\r\n```","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>A postorder traversal doesn't necessarily give you the actual tree shape.\nIf you were to assume that it is a binary tree, and each level is filled as much as possible from left to right, then you could have a shape like this for 11 nodes:</p>\n<pre><code>           x\n        /    \\\n      x        x\n     / \\      / \\\n    x   x    x   x\n   / \\  / \\\n  x  x  x  x\n</code></pre>\n<p>This is the way that I would approach this problem, don't worry about the values at first but the shape.</p>\n<p>Once you have a tree that has the right node count and shape that you want/expect, you can just use your post-order traversal to fill in the values:</p>\n<pre><code>postorder: [3 2 1 6 5 4 9 11 10 8 7]\npreorder:  [7 9 1 3 2 4 6 5 8 11 10]\n\n           7\n        /    \\\n      9        8\n     / \\      / \\\n    1   4    11  10\n   / \\  / \\\n  3  2  6  5\n</code></pre>\n<p>If we had given the tree a different shape we could still arrange values to get the same postorder but with th enodes in different spots the preorder would change:</p>\n<pre><code>postorder: [3 2 1 6 5 4 9 11 10 8 7]\npreorder:  [7 10 5 1 3 2 6 11 4 9 8]\n\n           7\n        /    \\\n      10       8\n     / \\\n    5   11\n   / \\  / \\\n  1  6  4  9\n / \\\n3   2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683989463,"creation_date":1683931239,"answer_id":76240318,"question_id":76240095,"body_markdown":"Your tree is incorrect. Assuming that [3 2 1 6 5 4 9 11 10 8 7] is a post-order traversal of a *binary search tree*, then it should look like this:\r\n\r\n```\r\n        7\r\n      /   \\\r\n     /     \\\r\n    4       8\r\n   / \\       \\\r\n  1   5      10\r\n   \\   \\    /  \\\r\n    2   6  9    11\r\n     \\  \r\n      3\r\n```\r\n\r\nThe pre-order traversal would be [7 4 1 2 3 5 6 8 10 9 11], and the in-order traversal, naturally, would be [1 2 3 4 5 6 7 8 9 10 11].\r\n","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>Your tree is incorrect. Assuming that [3 2 1 6 5 4 9 11 10 8 7] is a post-order traversal of a <em>binary search tree</em>, then it should look like this:</p>\n<pre><code>        7\n      /   \\\n     /     \\\n    4       8\n   / \\       \\\n  1   5      10\n   \\   \\    /  \\\n    2   6  9    11\n     \\  \n      3\n</code></pre>\n<p>The pre-order traversal would be [7 4 1 2 3 5 6 8 10 9 11], and the in-order traversal, naturally, would be [1 2 3 4 5 6 7 8 9 10 11].</p>\n"}],"owner":{"account_id":28591032,"reputation":11,"user_id":21890268,"display_name":"Jenna "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683989463,"creation_date":1683927734,"question_id":76240095,"body_markdown":"I have the postorder traversal sequence of `[3 2 1 6 5 4 9 11 10 8 7]` and am trying to get the preorder traversal from the tree built from that sequence. Currently I have the answer:\r\n\r\n`7 4 2 1 3 6 5 8 10 9 11` as the preorder traversal and got the root by taking the last value but this answer is incorrect. How do you find the preorder by building the tree? Thanks!\r\n\r\nI took the root as the last value from the sequence and then did:\r\n\r\n```\r\n       7\r\n\r\n     /   \\\r\n\r\n    4     8\r\n\r\n   / \\      \\\r\n\r\n  1   3     10\r\n\r\n      \\   /    \\\r\n\r\n      5  9     11\r\n\r\n      /\r\n\r\n     6\r\n```\r\n\r\nbut I&#39;m not sure if I built the tree wrong or if I did the preorder traversal part wrong.","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>I have the postorder traversal sequence of <code>[3 2 1 6 5 4 9 11 10 8 7]</code> and am trying to get the preorder traversal from the tree built from that sequence. Currently I have the answer:</p>\n<p><code>7 4 2 1 3 6 5 8 10 9 11</code> as the preorder traversal and got the root by taking the last value but this answer is incorrect. How do you find the preorder by building the tree? Thanks!</p>\n<p>I took the root as the last value from the sequence and then did:</p>\n<pre><code>       7\n\n     /   \\\n\n    4     8\n\n   / \\      \\\n\n  1   3     10\n\n      \\   /    \\\n\n      5  9     11\n\n      /\n\n     6\n</code></pre>\n<p>but I'm not sure if I built the tree wrong or if I did the preorder traversal part wrong.</p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683989212,"creation_date":1683956425,"question_id":76241253,"body_markdown":"The implementation was to customize the endpoint to check the token in Oauth2 authorizarion server in spring which /oauth2/introspect Sample: `http://localhost:8080/oauth2/introspect?token=tokenValueHere&amp;client_id=client&amp;client_secret=secret` but the requirement is to check the token only without client_id and client_secret. \r\n\r\n\r\nHave try to customize it, the method `getAuthenticationProvider` \r\nBut when i try without client_id and client_secret it will  401 Unauthorized and the print `Going to this method` is not showing which mean the method is not being excuted, its being block.\r\n\r\nWould like to ask where to modified ` /oauth2/introspect` to required without client_id and client_secret?\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .tokenIntrospectionEndpoint(a -&gt; a.authenticationProvider(getAuthenticationProvider()));\r\n        \r\n\r\n        http.csrf().disable();\r\n        \r\n\r\n        return http.build();\r\n    }\r\n\r\n    private AuthenticationProvider getAuthenticationProvider() {\r\n    System.out.println(&quot;Going to this method&quot;);\r\n        return new AuthenticationProvider() {\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            \r\n                if (authentication.getPrincipal() == null || authentication.getCredentials() == null) {\r\n                    return authentication;\r\n                }\r\n                throw new BadCredentialsException(&quot;Invalid credentials&quot;);\r\n            }\r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; authentication) {\r\n                return OAuth2TokenIntrospectionAuthenticationToken.class.isAssignableFrom(authentication);\r\n            }\r\n        };\r\n```\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Spring Oauth2 introspect a token only without client_id and client_secret","body":"<p>The implementation was to customize the endpoint to check the token in Oauth2 authorizarion server in spring which /oauth2/introspect Sample: <code>http://localhost:8080/oauth2/introspect?token=tokenValueHere&amp;client_id=client&amp;client_secret=secret</code> but the requirement is to check the token only without client_id and client_secret.</p>\n<p>Have try to customize it, the method <code>getAuthenticationProvider</code>\nBut when i try without client_id and client_secret it will  401 Unauthorized and the print <code>Going to this method</code> is not showing which mean the method is not being excuted, its being block.</p>\n<p>Would like to ask where to modified <code> /oauth2/introspect</code> to required without client_id and client_secret?</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .tokenIntrospectionEndpoint(a -&gt; a.authenticationProvider(getAuthenticationProvider()));\n        \n\n        http.csrf().disable();\n        \n\n        return http.build();\n    }\n\n    private AuthenticationProvider getAuthenticationProvider() {\n    System.out.println(&quot;Going to this method&quot;);\n        return new AuthenticationProvider() {\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            \n                if (authentication.getPrincipal() == null || authentication.getCredentials() == null) {\n                    return authentication;\n                }\n                throw new BadCredentialsException(&quot;Invalid credentials&quot;);\n            }\n            @Override\n            public boolean supports(Class&lt;?&gt; authentication) {\n                return OAuth2TokenIntrospectionAuthenticationToken.class.isAssignableFrom(authentication);\n            }\n        };\n</code></pre>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","testing","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683989105,"creation_date":1683989105,"answer_id":76243301,"question_id":76231590,"body_markdown":"Can try by following example, while adjusting to your requirement:\r\n\r\n```\r\n@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\r\n    public @ResponseBody\r\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\r\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\r\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        return // TODO\r\n    }\r\n\t\r\n\t\r\n\tprivate boolean upload() {\r\n\t        HttpHeaders headers = new HttpHeaders();\r\n\t        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n\t        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition fileContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;file&quot;)\r\n\t            .filename(&quot;testfile.txt&quot;)\r\n\t            .build();\r\n\t        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\r\n\t        HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\r\n\t        body.add(&quot;file&quot;, fileEntity);\r\n\r\n\t        MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition metadataContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;metadata&quot;)\r\n\t            .filename(&quot;testmetadata.json&quot;)\r\n\t            .build();\r\n\t        metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\r\n\t        metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\t        HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\r\n\t        body.add(&quot;metadata&quot;, metadataEntity);\r\n\r\n\t        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\t        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\r\n\t        log.debug(&quot;result: {}&quot;, response.getBody());\r\n\t        return HttpStatus.OK.equals(response.getStatusCode());\r\n\t    }\r\n\r\n\t\r\n```\r\n\r\nor via OkHttp:\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n  .build();\r\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .build();\r\nRequest request = new Request.Builder()\r\n  .url(MYURL)\r\n  .method(&quot;POST&quot;, body)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>Can try by following example, while adjusting to your requirement:</p>\n<pre><code>@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\n    public @ResponseBody\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\n        return // TODO\n    }\n    \n    \n    private boolean upload() {\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n            MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n\n            MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition fileContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;testfile.txt&quot;)\n                .build();\n            fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\n            HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\n            body.add(&quot;file&quot;, fileEntity);\n\n            MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition metadataContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;metadata&quot;)\n                .filename(&quot;testmetadata.json&quot;)\n                .build();\n            metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\n            metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\n            body.add(&quot;metadata&quot;, metadataEntity);\n\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\n            log.debug(&quot;result: {}&quot;, response.getBody());\n            return HttpStatus.OK.equals(response.getStatusCode());\n        }\n\n    \n</code></pre>\n<p>or via OkHttp:</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .build();\nRequest request = new Request.Builder()\n  .url(MYURL)\n  .method(&quot;POST&quot;, body)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n"}],"owner":{"account_id":17056266,"reputation":455,"user_id":12340711,"display_name":"riggedCoinflip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683989105,"creation_date":1683838999,"question_id":76231590,"body_markdown":"I have the following endpoint:\r\n\r\n```java\r\n@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\r\n@ResponseStatus(code = HttpStatus.CREATED)\r\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\r\n````\r\nThe endpoint should send a json as well as any number of attachments \r\n\r\nwhich I would like to test using the following test, using `@SpringBootTest` HttpRequestTest:\r\n\r\n```java\r\n@Autowired\r\nprivate TestRestTemplate restTemplate;\r\n\r\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\r\n    String id = &quot;fileTest&quot; //irrelevant\r\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\r\n    MultipartFile[] attachments = new MultipartFile[]{};\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    body.add(&quot;id&quot;, id);\r\n    body.add(&quot;content&quot;, content);\r\n    for (MultipartFile attachment : attachments) {\r\n        body.add(&quot;attachments&quot;, attachment.getResource());\r\n    }\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n    String url = domain + port + formPath + &quot;/&quot; + id;\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\r\n    // THEN return 201 CREATED\r\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\r\n}\r\n```\r\n\r\nInstead of getting a `201 CREATED`, I receive a `415 UNSUPPORTED_MEDIA_TYPE`.\r\n\r\nWhat am I missing/doing wrong?","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>I have the following endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\n@ResponseStatus(code = HttpStatus.CREATED)\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\n</code></pre>\n<p>The endpoint should send a json as well as any number of attachments</p>\n<p>which I would like to test using the following test, using <code>@SpringBootTest</code> HttpRequestTest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate TestRestTemplate restTemplate;\n\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\n    String id = &quot;fileTest&quot; //irrelevant\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\n    MultipartFile[] attachments = new MultipartFile[]{};\n    \n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;id&quot;, id);\n    body.add(&quot;content&quot;, content);\n    for (MultipartFile attachment : attachments) {\n        body.add(&quot;attachments&quot;, attachment.getResource());\n    }\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n    String url = domain + port + formPath + &quot;/&quot; + id;\n\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\n    // THEN return 201 CREATED\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\n}\n</code></pre>\n<p>Instead of getting a <code>201 CREATED</code>, I receive a <code>415 UNSUPPORTED_MEDIA_TYPE</code>.</p>\n<p>What am I missing/doing wrong?</p>\n"},{"tags":["java","android","mvvm","navigation","bottomnavigationview"],"owner":{"account_id":28594484,"reputation":1,"user_id":21892972,"display_name":"pezhman sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987873,"creation_date":1683985665,"question_id":76243055,"body_markdown":"Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other&#39;s lost and if I click on another item it&#39;s load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost. \r\n\r\nMy Navigation Drawer: \r\n```\r\nprivate void setUpNavigationDrawer() {\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this,\r\n                binding.drawerLayout,\r\n                R.string.navigation_drawer_open,\r\n                R.string.navigation_drawer_close);\r\n\r\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\r\n        binding.drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\r\n                .setOpenableLayout(binding.drawerLayout)\r\n                .build();\r\n\r\n        // Show and Manage the Drawer and Back Icon\r\n        NavigationUI.setupActionBarWithNavController(\r\n                this, navController, mAppBarConfiguration\r\n        );\r\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\r\n\r\n        navController.addOnDestinationChangedListener(this);\r\n    }\r\n\r\n\r\n    private void selectBottomNavigationItem(Bundle arguments) {\r\n        Menu menus = binding.bottomNav.getMenu();\r\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\r\n        for (int i = 0; i &lt; menus.size(); i++) {\r\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\r\n                menus.getItem(i).setChecked(true);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\r\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\r\n\r\n        if (Objects.equals(link, currentPageLink)) {\r\n            return true;\r\n        }\r\n\r\n        navigateNormal(link, null);\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestinationChanged(@NonNull NavController controller,\r\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\r\n        selectBottomNavigationItem(arguments);\r\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\r\n    }\r\n\r\n\r\n    private boolean isTopLevelDestination() {\r\n        try {\r\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\r\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\r\n                    .equals(BaseFragment.class.getName());\r\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\r\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\r\n            return isTopLevelDestination || isAtLast;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\r\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\r\n            String link = bottomNavItemsDestinationMatches.get(id);\r\n            if (Objects.equals(link, defaultDestination.getLink())) {\r\n                binding.bottomNav.setSelectedItemId(id);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nNow my expample navigation.xml is: \r\n\r\n\r\n```\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/base_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;args&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/home_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/profile_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\r\n        android:label=&quot;&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_go_to_order&quot;\r\n            app:destination=&quot;@id/orders_fragment&quot;\r\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\r\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\r\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\r\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n\r\n```\r\n\r\nso when I click on a bottomNavigation Item finally this function called: \r\n\r\n    private void navigateNormal(String link, Runnable onSuccessOptional) {\r\n        navigator.navigate(this,\r\n                link,\r\n                state -&gt; {\r\n                    if (state instanceof NavigationState.Loading) {\r\n                        navProgress(true);\r\n                    } else if (state instanceof NavigationState.Error) {\r\n                        navProgress(false);\r\n                    } else if (state instanceof NavigationState.Success) {\r\n                        navProgress(false);\r\n                        if (onSuccessOptional != null) {\r\n                            onSuccessOptional.run();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\nand my navigator.navigate is: \r\n\r\n     public void navigate(FragmentActivity activity, String link, INavigationState state) {\r\n        try {\r\n            NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\r\n            getDataAndNavigate(navController, link, null, false, false, state);\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nand getDataAndNavigate function is: \r\n\r\n     private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\r\n                                    boolean isPost, boolean isPop, INavigationState state) {\r\n        try {\r\n            if (link == null || link.isEmpty()) {\r\n                state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                return;\r\n            }\r\n\r\n            // support full path links\r\n            NavigationUrl navigationUrl = resolveLink(link);\r\n\r\n            if (navigationUrl.isExternal()) {\r\n                openUrl(navigationUrl.getLink());\r\n                return;\r\n            }\r\n\r\n            Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\r\n\r\n            // start showing progress\r\n            state.onNext(new NavigationState.Loading());\r\n\r\n            // resolve url\r\n            disposable = request\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribeOn(Schedulers.io())\r\n                    .subscribe(response -&gt; {\r\n                        dataController.onSuccess(response);\r\n\r\n\r\n                        NavigationArgs navigationArgs = extractCurrentAction(\r\n                                response.body(),\r\n                                navigationUrl.getLink()\r\n\r\n                        );\r\n\r\n\r\n                        if (navigateTo(controller, navigationArgs, isPop)) {\r\n                            state.onNext(new NavigationState.Success(navigationArgs));\r\n                        } else {\r\n                            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                        }\r\n\r\n                    }, throwable -&gt; {\r\n                        dataController.onFailure(throwable);\r\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                    });\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, e.getMessage());\r\n            ACRA.getErrorReporter().handleException(new CrashReportException(\r\n                    &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\r\n        }\r\n    }\r\n\r\n\r\nI tried above code ... I expect that all bottom navigation item&#39;s state&#39;s saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again","title":"BottomNavigation navigate doesn&#39;t save the state","body":"<p>Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other's lost and if I click on another item it's load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost.</p>\n<p>My Navigation Drawer:</p>\n<pre><code>private void setUpNavigationDrawer() {\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this,\n                binding.drawerLayout,\n                R.string.navigation_drawer_open,\n                R.string.navigation_drawer_close);\n\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\n        binding.drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\n                .setOpenableLayout(binding.drawerLayout)\n                .build();\n\n        // Show and Manage the Drawer and Back Icon\n        NavigationUI.setupActionBarWithNavController(\n                this, navController, mAppBarConfiguration\n        );\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\n\n        navController.addOnDestinationChangedListener(this);\n    }\n\n\n    private void selectBottomNavigationItem(Bundle arguments) {\n        Menu menus = binding.bottomNav.getMenu();\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\n        for (int i = 0; i &lt; menus.size(); i++) {\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\n                menus.getItem(i).setChecked(true);\n                break;\n            }\n        }\n    }\n\n\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\n\n        if (Objects.equals(link, currentPageLink)) {\n            return true;\n        }\n\n        navigateNormal(link, null);\n        return true;\n    }\n\n\n    @Override\n    public void onDestinationChanged(@NonNull NavController controller,\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\n        selectBottomNavigationItem(arguments);\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\n    }\n\n\n    private boolean isTopLevelDestination() {\n        try {\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\n                    .equals(BaseFragment.class.getName());\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\n            return isTopLevelDestination || isAtLast;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\n            String link = bottomNavItemsDestinationMatches.get(id);\n            if (Objects.equals(link, defaultDestination.getLink())) {\n                binding.bottomNav.setSelectedItemId(id);\n            }\n        }\n\n    }\n</code></pre>\n<p>Now my expample navigation.xml is:</p>\n<pre><code>\n    &lt;fragment\n        android:id=&quot;@+id/base_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;args&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/home_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/profile_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\n        android:label=&quot;&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_go_to_order&quot;\n            app:destination=&quot;@id/orders_fragment&quot;\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n\n</code></pre>\n<p>so when I click on a bottomNavigation Item finally this function called:</p>\n<pre><code>private void navigateNormal(String link, Runnable onSuccessOptional) {\n    navigator.navigate(this,\n            link,\n            state -&gt; {\n                if (state instanceof NavigationState.Loading) {\n                    navProgress(true);\n                } else if (state instanceof NavigationState.Error) {\n                    navProgress(false);\n                } else if (state instanceof NavigationState.Success) {\n                    navProgress(false);\n                    if (onSuccessOptional != null) {\n                        onSuccessOptional.run();\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n<p>and my navigator.navigate is:</p>\n<pre><code> public void navigate(FragmentActivity activity, String link, INavigationState state) {\n    try {\n        NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\n        getDataAndNavigate(navController, link, null, false, false, state);\n    } catch (Exception e) {\n        Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>and getDataAndNavigate function is:</p>\n<pre><code> private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\n                                boolean isPost, boolean isPop, INavigationState state) {\n    try {\n        if (link == null || link.isEmpty()) {\n            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n            return;\n        }\n\n        // support full path links\n        NavigationUrl navigationUrl = resolveLink(link);\n\n        if (navigationUrl.isExternal()) {\n            openUrl(navigationUrl.getLink());\n            return;\n        }\n\n        Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\n\n        // start showing progress\n        state.onNext(new NavigationState.Loading());\n\n        // resolve url\n        disposable = request\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    dataController.onSuccess(response);\n\n\n                    NavigationArgs navigationArgs = extractCurrentAction(\n                            response.body(),\n                            navigationUrl.getLink()\n\n                    );\n\n\n                    if (navigateTo(controller, navigationArgs, isPop)) {\n                        state.onNext(new NavigationState.Success(navigationArgs));\n                    } else {\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                    }\n\n                }, throwable -&gt; {\n                    dataController.onFailure(throwable);\n                    state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                });\n    } catch (Exception e) {\n        Logger.error(TAG, e.getMessage());\n        ACRA.getErrorReporter().handleException(new CrashReportException(\n                &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\n    }\n}\n</code></pre>\n<p>I tried above code ... I expect that all bottom navigation item's state's saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987406,"creation_date":1683987406,"question_id":76243189,"body_markdown":"I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don&#39;t see the option anywhere.\r\n\r\n\r\nThe search looks like this \r\n```\r\nSearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\r\n                        .index(connector.getIndexName())\r\n                        .query(q -&gt; q\r\n                                .match(t -&gt; t\r\n                                        .field(&quot;whatever&quot;)\r\n                                        .query(query)\r\n                                )\r\n                        )\r\n                        .size(1000)\r\n                MyClass.class\r\n        );\r\n\r\n```\r\n\r\nAnd I found that there&#39;s a ```RequestOptions``` class which allows to set HTTP params, but I don&#39;t see anywhere how to plug it to the Request builder\r\n\r\n```\r\nvar customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\r\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\r\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\r\n        );\r\n\r\n        this.customOptions = customOptionsBuilder.build();\r\n\r\n```\r\n\r\nI need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...","title":"How to increase maximum response sizes in the new elastic java client","body":"<p>I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don't see the option anywhere.</p>\n<p>The search looks like this</p>\n<pre><code>SearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\n                        .index(connector.getIndexName())\n                        .query(q -&gt; q\n                                .match(t -&gt; t\n                                        .field(&quot;whatever&quot;)\n                                        .query(query)\n                                )\n                        )\n                        .size(1000)\n                MyClass.class\n        );\n\n</code></pre>\n<p>And I found that there's a <code>RequestOptions</code> class which allows to set HTTP params, but I don't see anywhere how to plug it to the Request builder</p>\n<pre><code>var customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\n        );\n\n        this.customOptions = customOptionsBuilder.build();\n\n</code></pre>\n<p>I need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...</p>\n"},{"tags":["java","sdk","fingerprint"],"comments":[{"owner":{"display_name":"user984453"},"score":0,"creation_date":1318008599,"post_id":7285001,"comment_id":9349930,"body_markdown":"There is someone telling about here: http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events","body":"There is someone telling about here: <a href=\"http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events\" title=\"applet with fingerprint uareu dont capture reader events\">stackoverflow.com/questions/7690698/&hellip;</a>"},{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1532797512,"post_id":7285001,"comment_id":90112834,"body_markdown":"Please don&#39;t add not working link @user984453","body":"Please don&#39;t add not working link @user984453"}],"answers":[{"tags":[],"owner":{"account_id":906750,"reputation":66,"user_id":941486,"display_name":"JCalfucura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1315867005,"creation_date":1315867005,"answer_id":7394839,"question_id":7285001,"body_markdown":"Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:\r\n\r\n1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.\r\n\r\n2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like &quot;identResult = activexObj.Identify(&lt;parameters&gt;)&quot; or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.\r\n\r\n3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.\r\n\r\n4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\r\nGood Luck\r\nJuan.","title":"integrate digital persona sdk into my application in java","body":"<p>Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:</p>\n\n<p>1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.</p>\n\n<p>2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like \"identResult = activexObj.Identify()\" or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.</p>\n\n<p>3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.</p>\n\n<p>4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\nGood Luck\nJuan.</p>\n"},{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683987117,"creation_date":1683986877,"answer_id":76243148,"question_id":7285001,"body_markdown":"    switch (irq_type) {\r\n        case IRQDATA_SCANPWR_ON:\r\n            updateStatus(Status.SCANNER_POWERED_ON);\r\n            reader.awaitFinger();\r\n            updateStatus(Status.READY_TO_SCAN);\r\n            break;\r\n        case IRQDATA_FINGER_ON:\r\n            updateStatus(Status.FINGER_DETECTED);\r\n            UruImage img = reader.captureFinger(data_endpoint);\r\n            sendImage(img);\r\n            break;\r\n        case IRQDATA_FINGER_OFF:\r\n            updateStatus(Status.FINGER_LIFTED);\r\n            reader.turnScannerOff();\r\n            updateStatus(Status.SCANNER_POWERED_OFF);\r\n            listen = false;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\ntry this android app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\nfor more info:\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"integrate digital persona sdk into my application in java","body":"<pre><code>switch (irq_type) {\n    case IRQDATA_SCANPWR_ON:\n        updateStatus(Status.SCANNER_POWERED_ON);\n        reader.awaitFinger();\n        updateStatus(Status.READY_TO_SCAN);\n        break;\n    case IRQDATA_FINGER_ON:\n        updateStatus(Status.FINGER_DETECTED);\n        UruImage img = reader.captureFinger(data_endpoint);\n        sendImage(img);\n        break;\n    case IRQDATA_FINGER_OFF:\n        updateStatus(Status.FINGER_LIFTED);\n        reader.turnScannerOff();\n        updateStatus(Status.SCANNER_POWERED_OFF);\n        listen = false;\n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>try this android app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<p>for more info:\n<a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"display_name":"user918477"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7394839,"answer_count":2,"score":0,"last_activity_date":1683987117,"creation_date":1314973953,"question_id":7285001,"body_markdown":"I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \r\n                  &lt;p&gt;Since, hardware for **fingerprint reader (Digital Persona Personal)** has already been installed in my system. And, i&#39;m trying to use same hardware for my web application. But, how can i embed it in my application, don&#39;t know. &lt;/p&gt;\r\n                 &lt;p&gt;I&#39;m assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  &lt;/p&gt;\r\n\r\nI need everyone help, anybody know.. i&#39;ll appreciate !! ","title":"integrate digital persona sdk into my application in java","body":"<p>I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \n                  <p>Since, hardware for <strong>fingerprint reader (Digital Persona Personal)</strong> has already been installed in my system. And, i'm trying to use same hardware for my web application. But, how can i embed it in my application, don't know. </p>\n                 <p>I'm assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  </p></p>\n\n<p>I need everyone help, anybody know.. i'll appreciate !! </p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":0,"creation_date":1683918102,"post_id":76232519,"comment_id":134445633,"body_markdown":"Thank you for responding. I have verified like you said. `C:\\kafka\\bin\\windows&gt;kafka-run-class.bat  kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic test32\ntest32:0:6\ntest32:1:0`\n  However only one partition is consuming all the messages not sure why ? and there is no lag in partitions \n`GROUP           TOPIC           PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG              myfirstgroup    test32          0          6               6               0                myfirstgroup    test32          1          0               0               0  `","body":"Thank you for responding. I have verified like you said. <code>C:\\kafka\\bin\\windows&gt;kafka-run-class.bat  kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic test32 test32:0:6 test32:1:0</code>   However only one partition is consuming all the messages not sure why ? and there is no lag in partitions  <code>GROUP           TOPIC           PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG              myfirstgroup    test32          0          6               6               0                myfirstgroup    test32          1          0               0               0  </code>"},{"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"score":1,"creation_date":1683920784,"post_id":76232519,"comment_id":134446075,"body_markdown":"It seems I figured out the issue, so the kafka has default batch size, once its reaches its size partition will change. starting from kafka2.4 the default partitioned has changed from round robin to sticky.  https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/","body":"It seems I figured out the issue, so the kafka has default batch size, once its reaches its size partition will change. starting from kafka2.4 the default partitioned has changed from round robin to sticky.  <a href=\"https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\" rel=\"nofollow noreferrer\">confluent.io/blog/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683925990,"post_id":76232519,"comment_id":134447003,"body_markdown":"That&#39;s correct.","body":"That&#39;s correct."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683854004,"creation_date":1683853685,"answer_id":76232519,"question_id":76232336,"body_markdown":"Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches\r\n\r\nUse GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use `kafka-consumer-groups` command to see lag for the group. If you see all partitions have zero lag, then you&#39;ve consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data). ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches</p>\n<p>Use GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use <code>kafka-consumer-groups</code> command to see lag for the group. If you see all partitions have zero lag, then you've consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data).</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683926045,"post_id":76239762,"comment_id":134447011,"body_markdown":"Note: batch.size is measured in bytes, not records. The string `&quot;test&quot;` for example is larger than 1 byte","body":"Note: batch.size is measured in bytes, not records. The string <code>&quot;test&quot;</code> for example is larger than 1 byte"}],"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986969,"creation_date":1683923457,"answer_id":76239762,"question_id":76232336,"body_markdown":"Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition. \r\n\r\nstarting from kafka2.4 the default partitioned has changed from round robin to [sticky][1] \r\n\r\nSo I override the property like this it worked. \r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32` \r\n\r\nand we can also produce messages to a particular partition by specifying partitions ids like below:\r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;`\r\n\r\n`0:test`\r\n`1:test2`\r\n\r\nwhere `0` and `1` are the partition ids and `test`, `test2` are values. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\r\n  [2]: https://i.stack.imgur.com/C6aZO.png","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition.</p>\n<p>starting from kafka2.4 the default partitioned has changed from round robin to <a href=\"https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\" rel=\"nofollow noreferrer\">sticky</a></p>\n<p>So I override the property like this it worked.</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32</code></p>\n<p>and we can also produce messages to a particular partition by specifying partitions ids like below:</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;</code></p>\n<p><code>0:test</code>\n<code>1:test2</code></p>\n<p>where <code>0</code> and <code>1</code> are the partition ids and <code>test</code>, <code>test2</code> are values.</p>\n<p><a href=\"https://i.stack.imgur.com/C6aZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6aZO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683986969,"creation_date":1683849976,"question_id":76232336,"body_markdown":"I created kafka topic with partitions and replication factor \r\n\r\n[![enter image description here](https://i.stack.imgur.com/X4Ms7.png)](https://i.stack.imgur.com/X4Ms7.png)\r\n\r\nThen I started producing messages, with my producer \r\n\r\n[![enter image description here](https://i.stack.imgur.com/cfjBQ.png)](https://i.stack.imgur.com/cfjBQ.png)\r\n\r\nI started two consumers with help of consumer groups parallely. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Dhlqy.png)](https://i.stack.imgur.com/Dhlqy.png)\r\n\r\n when I stopped one consumer, the other consumer starts working.\r\n\r\nI&#39;m suspecting that default configuration when I downloading kafka is misleading me.\r\n\r\nI expect all my consumers need to receive messages concurrently. ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>I created kafka topic with partitions and replication factor</p>\n<p><a href=\"https://i.stack.imgur.com/X4Ms7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Ms7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I started producing messages, with my producer</p>\n<p><a href=\"https://i.stack.imgur.com/cfjBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cfjBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I started two consumers with help of consumer groups parallely.</p>\n<p><a href=\"https://i.stack.imgur.com/Dhlqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhlqy.png\" alt=\"enter image description here\" /></a></p>\n<p>when I stopped one consumer, the other consumer starts working.</p>\n<p>I'm suspecting that default configuration when I downloading kafka is misleading me.</p>\n<p>I expect all my consumers need to receive messages concurrently.</p>\n"},{"tags":["java","junit","automated-tests","classpath","randoop"],"owner":{"account_id":28594342,"reputation":11,"user_id":21892859,"display_name":"maverick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683986582,"creation_date":1683986513,"question_id":76243120,"body_markdown":"Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars. \r\nCommand to generate test on TEST.jar-&gt;\r\n```\r\njava -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\r\n```\r\nHere, RANDOOP_JAR is path of randoop-all-4.3.2.jar\r\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory. \r\n\r\nI ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class. \r\nShellscript: \r\n```\r\nfor i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\r\n```\r\nHere missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.\r\n\r\nAbove is basically naive and also time consuming.\r\n\r\nMy problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\r\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).","title":"Discovering the classpath for a testjar automatically, allowing the Randoop tool to generate Junit tests for the testjar","body":"<p>Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars.\nCommand to generate test on TEST.jar-&gt;</p>\n<pre><code>java -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\n</code></pre>\n<p>Here, RANDOOP_JAR is path of randoop-all-4.3.2.jar\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory.</p>\n<p>I ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class.\nShellscript:</p>\n<pre><code>for i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\n</code></pre>\n<p>Here missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.</p>\n<p>Above is basically naive and also time consuming.</p>\n<p>My problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).</p>\n"},{"tags":["java","jira","jql","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1463050463,"creation_date":1463050463,"answer_id":37184837,"question_id":37161494,"body_markdown":"Use this function, which accepts 4 params:\r\n\r\n[Jira rest API searchRestClient.searchJql][1]\r\n\r\nNow you can set the maxResults value. Since you are not setting it, it is defaulting to 50\r\n\r\n\r\n  [1]: https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)","title":"Jira REST Java Client get all issues using searchJql","body":"<p>Use this function, which accepts 4 params:</p>\n\n<p><a href=\"https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)\" rel=\"nofollow\">Jira rest API searchRestClient.searchJql</a></p>\n\n<p>Now you can set the maxResults value. Since you are not setting it, it is defaulting to 50</p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986457,"creation_date":1683984500,"answer_id":76242975,"question_id":37161494,"body_markdown":"searchJql (in v 5.2.5) has this signature:\r\n\r\n```\r\nsearchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\r\n```\r\nIf `maxResults` is null, a default value is assumed which seems to be 50. If `maxResults` is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results. \r\n\r\nThis means that you need to examine the value `SearchResult.total` and repeatedly execute `searchJql` while bumping up `startAt`.     ","title":"Jira REST Java Client get all issues using searchJql","body":"<p>searchJql (in v 5.2.5) has this signature:</p>\n<pre><code>searchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\n</code></pre>\n<p>If <code>maxResults</code> is null, a default value is assumed which seems to be 50. If <code>maxResults</code> is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results.</p>\n<p>This means that you need to examine the value <code>SearchResult.total</code> and repeatedly execute <code>searchJql</code> while bumping up <code>startAt</code>.</p>\n"}],"owner":{"display_name":"user3693913"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37184837,"answer_count":2,"score":1,"last_activity_date":1683986457,"creation_date":1462966679,"question_id":37161494,"body_markdown":"I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?\r\n\r\n    Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(&quot;project = UARECR &quot;);\r\n    for (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\r\n        System.out.println(issue.getId());\r\n    }\r\n","title":"Jira REST Java Client get all issues using searchJql","body":"<p>I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?</p>\n\n<pre><code>Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(\"project = UARECR \");\nfor (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\n    System.out.println(issue.getId());\n}\n</code></pre>\n"},{"tags":["java","android","reverse-engineering","frida","java-native-library"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609416878,"post_id":65513492,"comment_id":115838390,"body_markdown":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,...","body":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,..."},{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1609429828,"post_id":65513492,"comment_id":115842596,"body_markdown":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?","body":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609432175,"post_id":65513492,"comment_id":115843340,"body_markdown":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries.","body":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries."}],"answers":[{"comments":[{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1609429789,"post_id":65519035,"comment_id":115842580,"body_markdown":"you can change the name of the function in a c++/c file so it cannot be traced hooking the system.loadlibrary() crashes the app i already tried that","body":"you can change the name of the function in a c++/c file so it cannot be traced hooking the system.loadlibrary() crashes the app i already tried that"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609432301,"post_id":65519035,"comment_id":115843382,"body_markdown":"Java native methods don&#39;t have to be named that way (and exported). There is a way to dynamically register them using the `RegisterNatives` method.","body":"Java native methods don&#39;t have to be named that way (and exported). There is a way to dynamically register them using the <code>RegisterNatives</code> method."}],"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609407037,"creation_date":1609407037,"answer_id":65519035,"question_id":65513492,"body_markdown":"If I understood well you want to find native function name that is called BY Java?\r\n\r\n 1. list all calls to System.loadLibrary() to detect all libraries\r\n 2. using IDA Pro (or one of its alternatives here: https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro) check for all methods starting with &quot;Java_....&quot;\r\n\r\nThe theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.\r\n\r\nFor example:\r\n\r\n    Java_com_foobar_main_test(...);\r\n\r\nrapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\r\nOverloaded methods could have their signature after the method name like:\r\n\r\n    Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\r\n\r\nbut the concept remains the same as before.\r\n\r\nIf you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it&#39;s the name of Java method.","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>If I understood well you want to find native function name that is called BY Java?</p>\n<ol>\n<li>list all calls to System.loadLibrary() to detect all libraries</li>\n<li>using IDA Pro (or one of its alternatives here: <a href=\"https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro\">https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro</a>) check for all methods starting with &quot;Java_....&quot;</li>\n</ol>\n<p>The theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.</p>\n<p>For example:</p>\n<pre><code>Java_com_foobar_main_test(...);\n</code></pre>\n<p>rapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\nOverloaded methods could have their signature after the method name like:</p>\n<pre><code>Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\n</code></pre>\n<p>but the concept remains the same as before.</p>\n<p>If you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it's the name of Java method.</p>\n"},{"tags":[],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683986119,"creation_date":1683986119,"answer_id":76243092,"question_id":65513492,"body_markdown":"my skills have advanced since this question so hopefully someone finds this helpful\r\n\r\nsadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?\r\n\r\nfirst a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method \r\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\r\n[![][1]][1]\r\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string\r\n\r\n\r\nsecond solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this \r\n - [unidbg][2]\r\n - [ExandroidNativeEmu][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G9vJr.png\r\n  [2]: https://github.com/zhkl0228/unidbg\r\n  [3]: https://github.com/maiyao1988/ExAndroidNativeEmu","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>my skills have advanced since this question so hopefully someone finds this helpful</p>\n<p>sadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?</p>\n<p>first a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\n<a href=\"https://i.stack.imgur.com/G9vJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9vJr.png\" alt=\"\" /></a>\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string</p>\n<p>second solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this</p>\n<ul>\n<li><a href=\"https://github.com/zhkl0228/unidbg\" rel=\"nofollow noreferrer\">unidbg</a></li>\n<li><a href=\"https://github.com/maiyao1988/ExAndroidNativeEmu\" rel=\"nofollow noreferrer\">ExandroidNativeEmu</a></li>\n</ul>\n"}],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243092,"answer_count":2,"score":0,"last_activity_date":1683986119,"creation_date":1609361793,"question_id":65513492,"body_markdown":"im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them?? ","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them??</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1683985900,"post_id":76242239,"comment_id":134452081,"body_markdown":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it.","body":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it."}],"owner":{"account_id":21383109,"reputation":101,"user_id":15748687,"display_name":"Shital Ghimire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683974144,"answer_count":0,"score":0,"last_activity_date":1683985728,"creation_date":1683973651,"question_id":76242239,"body_markdown":"pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.\r\n\r\n\r\nI created the database after connecting the app to firebase from the firebase assistant of android studio.\r\n\r\nI tried to change the URL, but I searched everywhere and I couldn&#39;t find the URL to change it.","title":"I am new to firebase. When I try to Upload data to firebase, I&#39;m getting an error","body":"<p>pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.</p>\n<p>I created the database after connecting the app to firebase from the firebase assistant of android studio.</p>\n<p>I tried to change the URL, but I searched everywhere and I couldn't find the URL to change it.</p>\n"},{"tags":["java","database","database-connection","h2"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683421224,"post_id":76191171,"comment_id":134364171,"body_markdown":"What is &quot;SQLight&quot;?","body":"What is &quot;SQLight&quot;?"}],"owner":{"account_id":28320922,"reputation":1,"user_id":21656737,"display_name":"Tiiita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683985161,"creation_date":1683407673,"question_id":76191171,"body_markdown":"I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:\r\n```\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n     &lt;version&gt;1.4.200&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis is my code to connect:\r\n\r\n```\r\npublic H2(Plugin plugin) {\r\n        this.plugin = plugin;\r\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\r\n\r\n        connect();\r\n        try {\r\n            initDb();\r\n        } catch (SQLException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void connect() {\r\n        try {\r\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\r\n            dataSource = new HikariDataSource(config);\r\n            dataSource.getConnection();\r\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        try {\r\n            if (connection != null) {\r\n                connection.close();\r\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\r\n            }\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void initDb() throws SQLException, IOException {\r\n        // check if database file exists\r\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\r\n        if (!Files.exists(path)) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\r\n            Files.createFile(path);\r\n        }\r\n\r\n        // read database setup file\r\n        String setup;\r\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\r\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException e) {\r\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\n        // split setup file into queries\r\n        String[] queries = setup.split(&quot;;&quot;);\r\n\r\n        // execute each query\r\n        for (String query : queries) {\r\n            if (query.isEmpty()) continue;\r\n            try (Connection conn = dataSource.getConnection();\r\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\r\n                stmt.execute();\r\n            }\r\n        }\r\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\r\n    }\r\n```\r\nBut if I load my project I do get this error:\r\n```\r\n[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\r\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\r\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\r\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\nCaused by: java.sql.SQLException: No suitable driver\r\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\r\n        ... 11 more\r\n```\r\nI expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!","title":"H2 / SQLiteDriver not found","body":"<p>I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\n     &lt;version&gt;1.4.200&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my code to connect:</p>\n<pre><code>public H2(Plugin plugin) {\n        this.plugin = plugin;\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\n\n        connect();\n        try {\n            initDb();\n        } catch (SQLException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void connect() {\n        try {\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\n            dataSource = new HikariDataSource(config);\n            dataSource.getConnection();\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\n        }\n    }\n\n    public void close() {\n        try {\n            if (connection != null) {\n                connection.close();\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\n            }\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\n        }\n    }\n\n    private void initDb() throws SQLException, IOException {\n        // check if database file exists\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\n        if (!Files.exists(path)) {\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\n            Files.createFile(path);\n        }\n\n        // read database setup file\n        String setup;\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n        } catch (IOException e) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\n            throw e;\n        }\n\n        // split setup file into queries\n        String[] queries = setup.split(&quot;;&quot;);\n\n        // execute each query\n        for (String query : queries) {\n            if (query.isEmpty()) continue;\n            try (Connection conn = dataSource.getConnection();\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\n                stmt.execute();\n            }\n        }\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\n    }\n</code></pre>\n<p>But if I load my project I do get this error:</p>\n<pre><code>[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\nCaused by: java.sql.SQLException: No suitable driver\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\n        ... 11 more\n</code></pre>\n<p>I expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683982836,"post_id":76242840,"comment_id":134451736,"body_markdown":"where is ```drawerLayout``` in your xml ? issue is occuring because of it as in your layout , there is no ```drawerLayout```","body":"where is <code>drawerLayout</code> in your xml ? issue is occuring because of it as in your layout , there is no <code>drawerLayout</code>"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683984307,"creation_date":1683984307,"answer_id":76242959,"question_id":76242840,"body_markdown":"As per your code , it looks like some issue with layout file use . In Activity , you have used ```R.layout.activity_main ``` and code you have pasted here is ```activity_navigationdrawer.xml```  so kindly replace ```R.layout.activity_main``` with ```R.layout.activity_navigationdrawer``` in your ```onCreate``` method","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>As per your code , it looks like some issue with layout file use . In Activity , you have used <code>R.layout.activity_main </code> and code you have pasted here is <code>activity_navigationdrawer.xml</code>  so kindly replace <code>R.layout.activity_main</code> with <code>R.layout.activity_navigationdrawer</code> in your <code>onCreate</code> method</p>\n"}],"owner":{"display_name":"user21892848"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242959,"answer_count":1,"score":1,"last_activity_date":1683984307,"creation_date":1683982372,"question_id":76242840,"body_markdown":"The error \r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)&#39; on a null object reference\r\n\r\nthis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nThis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nThis is app_bar_name.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n```\r\n\r\n\r\nthis is the activity file\r\n\r\n```\r\npackage com.tourism.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class navigationdrawer`your text` extends AppCompatActivity {\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        drawerLayout = findViewById(R.id.drawerLayout);\r\n        navigationView = findViewById(R.id.navigationView);\r\n        toolbar = findViewById(R.id.ttoolbar);\r\n\r\n        //step1\r\n\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\r\n\r\n        drawerLayout.addDrawerListener(toggle);\r\n\r\n        toggle.syncState();\r\n\r\n//       /**/ loadFragment(new homefrag());\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id = item.getItemId();\r\n\r\n                if  (id==R.id.optTrip){\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } else if (id==R.id.optHome) {\r\n                    loadFragment(new homefrag());\r\n                } else if (id==R.id.optAbout) {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        FragmentTransaction ft = fm.beginTransaction();\r\n\r\n        ft.add(R.id.container, fragment);\r\n        ft.commit();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried all solutions please help","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>The error\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)' on a null object reference</p>\n<p>this is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is app_bar_name.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n\n</code></pre>\n<p>this is the activity file</p>\n<pre><code>package com.tourism.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\n\npublic class navigationdrawer`your text` extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n    Toolbar toolbar;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        drawerLayout = findViewById(R.id.drawerLayout);\n        navigationView = findViewById(R.id.navigationView);\n        toolbar = findViewById(R.id.ttoolbar);\n\n        //step1\n\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\n\n        drawerLayout.addDrawerListener(toggle);\n\n        toggle.syncState();\n\n//       /**/ loadFragment(new homefrag());\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n\n                if  (id==R.id.optTrip){\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n\n                } else if (id==R.id.optHome) {\n                    loadFragment(new homefrag());\n                } else if (id==R.id.optAbout) {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n\n                return true;\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else{\n            super.onBackPressed();\n        }\n    }\n\n    private void loadFragment(Fragment fragment) {\n\n        FragmentManager fm = getSupportFragmentManager();\n        FragmentTransaction ft = fm.beginTransaction();\n\n        ft.add(R.id.container, fragment);\n        ft.commit();\n\n\n    }\n}\n</code></pre>\n<p>I tried all solutions please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683977813,"post_id":76242503,"comment_id":134451221,"body_markdown":"Look for the numerous SO questions and answers about correctly comparing strings in Java.","body":"Look for the numerous SO questions and answers about correctly comparing strings in Java."}],"answers":[{"tags":[],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683978308,"creation_date":1683978308,"answer_id":76242550,"question_id":76242503,"body_markdown":"You could consider using the `Scanner` class. \r\n\r\nEssentially use it&#39;s `nextLine` method to capture the input data each time.\r\n\r\nOnce you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse. \r\n\r\nExample: \r\n\r\n    public void validate() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.print(&quot;Enter username: &quot;);\r\n            String username = scanner.nextLine();\r\n            System.out.print(&quot;Enter password: &quot;);\r\n            String password = scanner.nextLine();\r\n            System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\r\n            System.out.println(&quot;Type &#39;cancel&#39; to exit or any other key to continue&quot;);\r\n            String input = scanner.nextLine();\r\n            if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\r\n                break; // exit loop if input is &quot;cancel&quot;\r\n            }\r\n        }\r\n    }","title":"Java while statement involving string class","body":"<p>You could consider using the <code>Scanner</code> class.</p>\n<p>Essentially use it's <code>nextLine</code> method to capture the input data each time.</p>\n<p>Once you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse.</p>\n<p>Example:</p>\n<pre><code>public void validate() {\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.print(&quot;Enter username: &quot;);\n        String username = scanner.nextLine();\n        System.out.print(&quot;Enter password: &quot;);\n        String password = scanner.nextLine();\n        System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\n        System.out.println(&quot;Type 'cancel' to exit or any other key to continue&quot;);\n        String input = scanner.nextLine();\n        if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\n            break; // exit loop if input is &quot;cancel&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28593977,"reputation":1,"user_id":21892571,"display_name":"Kamara "},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683978391,"answer_count":1,"score":-1,"last_activity_date":1683984145,"creation_date":1683977660,"question_id":76242503,"body_markdown":"How to escape while loop by typing a certain string ( words ). Basically I&#39;m trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn&#39;t type then the loop continues \r\n\r\nTried using != Operator but doesn&#39;t work","title":"Java while statement involving string class","body":"<p>How to escape while loop by typing a certain string ( words ). Basically I'm trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn't type then the loop continues</p>\n<p>Tried using != Operator but doesn't work</p>\n"},{"tags":["java","sorting","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999507,"creation_date":1364999200,"answer_id":15790125,"question_id":15789979,"body_markdown":"Make a copy of the`ArrayList` then sort the copy. After that use `indexOf` method passing element of sorted array and invoking on original `ArrayList`.\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Make a copy of the<code>ArrayList</code> then sort the copy. After that use <code>indexOf</code> method passing element of sorted array and invoking on original <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999248,"creation_date":1364999248,"answer_id":15790138,"question_id":15789979,"body_markdown":"If the values are unique, you can use a `Map&lt;Double, Integer&gt;` to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If the values are unique, you can use a <code>Map&lt;Double, Integer&gt;</code> to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.</p>\n"},{"tags":[],"owner":{"account_id":293853,"reputation":1346,"user_id":597408,"accept_rate":50,"display_name":"WPrecht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364999270,"creation_date":1364999270,"answer_id":15790147,"question_id":15789979,"body_markdown":"Two solutions: 1) if you are wedded to ArrayList, you&#39;ll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Two solutions: 1) if you are wedded to ArrayList, you'll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).</p>\n"},{"tags":[],"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589190517,"creation_date":1364999395,"answer_id":15790218,"question_id":15789979,"body_markdown":"Copy the ArrayList and sort, then use indexOf.\r\n\r\n  \r\n\r\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    nfit.add(2.0);\r\n    nfit.add(5.0);\r\n    nfit.add(1.0);\r\n    nfit.add(8.0);\r\n    nfit.add(3.0);\r\n    ArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\r\n    Collections.sort(nfit);\r\n    int[] indexes = new int[nfit.size()];\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        indexes[n] = nstore.indexOf(nfit.get(n));\r\n    }\r\n    System.out.println(Arrays.toString(indexes));\r\n\r\n\r\nIf you wanted the indexes in an ArrayList,\r\n\r\n    Collections.sort(nstore);\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n    Collections.sort(nfit);\r\n\r\nThat will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.\r\n\r\n\r\nEdited: In the for loop \r\n\r\n    for (int n = 0; n &lt; nfit.size(); nfit++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n\r\nThe loop count must be iterated over n and not on nfit\r\nFind the corrected code:\r\n\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Copy the ArrayList and sort, then use indexOf.</p>\n\n<pre><code>ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\nnfit.add(2.0);\nnfit.add(5.0);\nnfit.add(1.0);\nnfit.add(8.0);\nnfit.add(3.0);\nArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\nCollections.sort(nfit);\nint[] indexes = new int[nfit.size()];\nfor (int n = 0; n &lt; nfit.size(); n++){\n    indexes[n] = nstore.indexOf(nfit.get(n));\n}\nSystem.out.println(Arrays.toString(indexes));\n</code></pre>\n\n<p>If you wanted the indexes in an ArrayList,</p>\n\n<pre><code>Collections.sort(nstore);\nfor (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\nCollections.sort(nfit);\n</code></pre>\n\n<p>That will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.</p>\n\n<p>Edited: In the for loop </p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); nfit++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n\n<p>The loop count must be iterated over n and not on nfit\nFind the corrected code:</p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1165850,"reputation":9102,"user_id":1144203,"accept_rate":100,"display_name":"ivan.sim"},"score":0,"creation_date":1412879698,"post_id":26285533,"comment_id":41242732,"body_markdown":"Please include relevant portion of the codes in your answer with some descriptions on how they solve the problem. Answer containing only reference to external link will become obsolete if those links are broken. http://stackoverflow.com/help/how-to-answer","body":"Please include relevant portion of the codes in your answer with some descriptions on how they solve the problem. Answer containing only reference to external link will become obsolete if those links are broken. <a href=\"http://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"},{"owner":{"account_id":2293270,"reputation":1,"user_id":2434610,"display_name":"user36536"},"score":0,"creation_date":1412880799,"post_id":26285533,"comment_id":41243344,"body_markdown":"Also, all the answers other than mine beat the purpose of the question. The complexity of rearranging the indices is itself O(N^2), greater than of the sorting in the first place.","body":"Also, all the answers other than mine beat the purpose of the question. The complexity of rearranging the indices is itself O(N^2), greater than of the sorting in the first place."},{"owner":{"account_id":1165850,"reputation":9102,"user_id":1144203,"accept_rate":100,"display_name":"ivan.sim"},"score":0,"creation_date":1412884024,"post_id":26285533,"comment_id":41245037,"body_markdown":"You can quote someone else&#39;s code as long as you attributed it back to the author. http://stackoverflow.com/help/referencing And try stick to what was being asked; OP never state complexity as part of the original question..","body":"You can quote someone else&#39;s code as long as you attributed it back to the author. <a href=\"http://stackoverflow.com/help/referencing\">stackoverflow.com/help/referencing</a> And try stick to what was being asked; OP never state complexity as part of the original question.."}],"tags":[],"owner":{"account_id":2293270,"reputation":1,"user_id":2434610,"display_name":"user36536"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412879302,"creation_date":1412879302,"answer_id":26285533,"question_id":15789979,"body_markdown":"The following implementation of mergesort implements a method &#39;indexSort&#39; that does just that without messing with the input array.\r\nhttp://algs4.cs.princeton.edu/22mergesort/Merge.java.html\r\nhttp://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following implementation of mergesort implements a method 'indexSort' that does just that without messing with the input array.\n<a href=\"http://algs4.cs.princeton.edu/22mergesort/Merge.java.html\" rel=\"nofollow\">http://algs4.cs.princeton.edu/22mergesort/Merge.java.html</a>\n<a href=\"http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\" rel=\"nofollow\">http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])</a></p>\n"},{"tags":[],"owner":{"account_id":7070805,"reputation":1824,"user_id":5412470,"display_name":"hmofrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510712546,"creation_date":1510712546,"answer_id":47298368,"question_id":15789979,"body_markdown":"Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.\r\n\r\n    import java.util.*;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    public class BubbleSort {\r\n        public static void main(String[] args) {\r\n            Random rnd = new Random();\r\n            int count = 5;\r\n            ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\r\n            int[] indices = new int[count];\r\n            for(int i = 0; i &lt; indices.length; i++) {\r\n                array.add(rnd.nextDouble() * count);\r\n                indices[i] = i;\r\n            }\r\n            ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\r\n            bubbleSort(values, indices);\r\n            System.out.println(&quot;Unsorted input array   :&quot; + array);\r\n            System.out.print(&quot;Sorted   input array   : &quot;);\r\n            for(int i = 0; i &lt; array.size(); i++) {\r\n                System.out.print(array.get(indices[i]) + &quot; &quot; );\r\n            }\r\n            System.out.println();\r\n        }\r\n        private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\r\n            for(int k = 0; k &lt; values.size(); k++) {\r\n                for(int l = k + 1; l &lt; values.size(); l++) {\r\n                    if(values.get(k) &gt; values.get(l)) {\r\n                        double temp_value = values.get(k);\r\n                        values.set(k, values.get(l));\r\n                        values.set(l, temp_value);\r\n                        int temp_index = indices[k];\r\n                        indices[k] = indices[l];\r\n                        indices[l] = temp_index;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe reason I answered this question after this many years is that the  [accepted answer][1] will fail if you have multiple elements with similar values because in `indexes[n] = nstore.indexOf(nfit.get(n));`, `indexOf` method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.\r\n\r\nLast, copy and paste the code in `BubbleSort.java` and then run `javac BubbleSort.java &amp;&amp; java BubbleSort` to compile and see the results.\r\n\r\n  [1]: https://stackoverflow.com/a/15790218/5412470","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.</p>\n\n<pre><code>import java.util.*;\nimport java.util.Arrays;\nimport java.util.Random;\npublic class BubbleSort {\n    public static void main(String[] args) {\n        Random rnd = new Random();\n        int count = 5;\n        ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\n        int[] indices = new int[count];\n        for(int i = 0; i &lt; indices.length; i++) {\n            array.add(rnd.nextDouble() * count);\n            indices[i] = i;\n        }\n        ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\n        bubbleSort(values, indices);\n        System.out.println(\"Unsorted input array   :\" + array);\n        System.out.print(\"Sorted   input array   : \");\n        for(int i = 0; i &lt; array.size(); i++) {\n            System.out.print(array.get(indices[i]) + \" \" );\n        }\n        System.out.println();\n    }\n    private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\n        for(int k = 0; k &lt; values.size(); k++) {\n            for(int l = k + 1; l &lt; values.size(); l++) {\n                if(values.get(k) &gt; values.get(l)) {\n                    double temp_value = values.get(k);\n                    values.set(k, values.get(l));\n                    values.set(l, temp_value);\n                    int temp_index = indices[k];\n                    indices[k] = indices[l];\n                    indices[l] = temp_index;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The reason I answered this question after this many years is that the  <a href=\"https://stackoverflow.com/a/15790218/5412470\">accepted answer</a> will fail if you have multiple elements with similar values because in <code>indexes[n] = nstore.indexOf(nfit.get(n));</code>, <code>indexOf</code> method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.</p>\n\n<p>Last, copy and paste the code in <code>BubbleSort.java</code> and then run <code>javac BubbleSort.java &amp;&amp; java BubbleSort</code> to compile and see the results.</p>\n"},{"tags":[],"owner":{"account_id":28591145,"reputation":1,"user_id":21890351,"display_name":"Usmani Adnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683983003,"creation_date":1683925480,"answer_id":76239933,"question_id":15789979,"body_markdown":"If your list have duplicate values below code will work to get index of initial list\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\r\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\r\n    int[] index = new int[arr.size()];\r\n\r\n    Collections.sort(arrr);\r\n    final double min = Double.MIN_VALUE;\r\n    System.out.println(arr);\r\n    System.out.println(arrr);\r\n\r\n    for (int i = 0; i &lt; arr.size(); i++) {\r\n      index[i] = arr.indexOf(arrr.get(i));\r\n      arr.set(arr.indexOf(arrr.get(i)), min);\r\n      System.out.print(index[i] + &quot; &quot;);\r\n    }\r\n  }\r\n```\r\n\r\nOutput on console:\r\n```\r\n[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\r\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\r\n0 3 1 4 2 5 6 \r\n```","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If your list have duplicate values below code will work to get index of initial list</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\n    int[] index = new int[arr.size()];\n\n    Collections.sort(arrr);\n    final double min = Double.MIN_VALUE;\n    System.out.println(arr);\n    System.out.println(arrr);\n\n    for (int i = 0; i &lt; arr.size(); i++) {\n      index[i] = arr.indexOf(arrr.get(i));\n      arr.set(arr.indexOf(arrr.get(i)), min);\n      System.out.print(index[i] + &quot; &quot;);\n    }\n  }\n</code></pre>\n<p>Output on console:</p>\n<pre><code>[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\n0 3 1 4 2 5 6 \n</code></pre>\n"}],"owner":{"account_id":1096046,"reputation":15508,"user_id":1089623,"accept_rate":84,"display_name":"Klausos Klausos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15790218,"answer_count":7,"score":5,"last_activity_date":1683983003,"creation_date":1364998844,"question_id":15789979,"body_markdown":"The following code implements sorting of `nfit` in ascending order.\r\n\r\n    public static void main(String[] args) {\r\n    \tArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    \t\r\n    \tnfit.add(2.0);\r\n    \tnfit.add(5.0);\r\n    \tnfit.add(1.0);\r\n    \tnfit.add(8.0);\r\n    \tnfit.add(3.0);\r\n    \t\r\n    \t// Sort individuals in ascending order\r\n    \tCollections.sort(nfit);\r\n    \t\r\n    \tSystem.out.print(nfit);\r\n    \r\n    }\r\n\r\nThe output is:\r\n\r\n    [1.0, 2.0, 3.0, 5.0, 8.0]\r\n\r\nMy question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:\r\n\r\n    [2, 0, 4, 1, 3]\r\n\r\nHow can I get these indexes?","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following code implements sorting of <code>nfit</code> in ascending order.</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\n\n    nfit.add(2.0);\n    nfit.add(5.0);\n    nfit.add(1.0);\n    nfit.add(8.0);\n    nfit.add(3.0);\n\n    // Sort individuals in ascending order\n    Collections.sort(nfit);\n\n    System.out.print(nfit);\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[1.0, 2.0, 3.0, 5.0, 8.0]\n</code></pre>\n\n<p>My question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:</p>\n\n<pre><code>[2, 0, 4, 1, 3]\n</code></pre>\n\n<p>How can I get these indexes?</p>\n"},{"tags":["java","redis","cluster-computing","pool","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683981368,"creation_date":1683981368,"answer_id":76242759,"question_id":76238329,"body_markdown":"BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use `JedisPooled` to communicate with RE.\r\n\r\nNote 1: Cluster specific commands are actually disabled in default mode. That&#39;s what you can see in error message `ERR command is not allowed`.\r\n\r\nNote 2: Redis Enterprise has a `OSS Cluster` mode where cluster specific commands are allowed. Only in this RE mode you should be using `JedisCluster` to communicate instead of JedisPooled.","title":"Jedis TLS connection to Redis Cluster","body":"<p>BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use <code>JedisPooled</code> to communicate with RE.</p>\n<p>Note 1: Cluster specific commands are actually disabled in default mode. That's what you can see in error message <code>ERR command is not allowed</code>.</p>\n<p>Note 2: Redis Enterprise has a <code>OSS Cluster</code> mode where cluster specific commands are allowed. Only in this RE mode you should be using <code>JedisCluster</code> to communicate instead of JedisPooled.</p>\n"}],"owner":{"account_id":20666338,"reputation":41,"user_id":15173097,"display_name":"JShao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242759,"answer_count":1,"score":1,"last_activity_date":1683981368,"creation_date":1683909109,"question_id":76238329,"body_markdown":"We are using Redis enterprise edition \r\n5 shards: host:6379 - 6383\r\nendpoint: redis-endpoint.example.com 6378\r\nUsing Jedis 4.3.x, it works ok when I use JedisPooled\r\n\r\n```\r\nGenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\ngenericPoolConfig.setMaxIdle(4);\r\ngenericPoolConfig.setMaxTotal(5);\r\ngenericPoolConfig.setMinIdle(2);\r\n\r\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\r\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\r\n      .ssl(true)\r\n      .user(&quot;user_here&quot;)\r\n      .password(redisPassword)\r\n      .hostnameVerifier(hostnameVerifier)\r\n      .build();\r\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\r\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\r\n```\r\n\r\nBut when I try to use JedisCluster, it throws Exception\r\n\r\n```\r\nSet&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\r\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\r\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\r\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \r\n```\r\n\r\nI got errors:\r\n```\r\nException in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\r\n\tat redis.clients.jedis.Protocol.processError(Protocol.java:96)\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:137)\r\n\tat redis.clients.jedis.Protocol.read(Protocol.java:192)\r\n\tat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\r\n\tat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\r\n\tat redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\r\n\tat redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\r\n```\r\nQuestions: \r\n1. Should I put all 5 shards in Set&lt;HostAndPort&gt; jedisClusterNodes or just need to put cluster endpoint. \r\n2. Any things I did incorrectly when using ```new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);```? \r\n3. will JedisPooled work well for cluster mode?","title":"Jedis TLS connection to Redis Cluster","body":"<p>We are using Redis enterprise edition\n5 shards: host:6379 - 6383\nendpoint: redis-endpoint.example.com 6378\nUsing Jedis 4.3.x, it works ok when I use JedisPooled</p>\n<pre><code>GenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\ngenericPoolConfig.setMaxIdle(4);\ngenericPoolConfig.setMaxTotal(5);\ngenericPoolConfig.setMinIdle(2);\n\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\n      .ssl(true)\n      .user(&quot;user_here&quot;)\n      .password(redisPassword)\n      .hostnameVerifier(hostnameVerifier)\n      .build();\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\n</code></pre>\n<p>But when I try to use JedisCluster, it throws Exception</p>\n<pre><code>Set&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \n</code></pre>\n<p>I got errors:</p>\n<pre><code>Exception in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\n    at redis.clients.jedis.Protocol.processError(Protocol.java:96)\n    at redis.clients.jedis.Protocol.process(Protocol.java:137)\n    at redis.clients.jedis.Protocol.read(Protocol.java:192)\n    at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\n    at redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\n    at redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\n    at redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\n    at redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\n    at redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>Should I put all 5 shards in Set jedisClusterNodes or just need to put cluster endpoint.</li>\n<li>Any things I did incorrectly when using <code>new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);</code>?</li>\n<li>will JedisPooled work well for cluster mode?</li>\n</ol>\n"},{"tags":["java","reflection","itext","pdf-generation"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683963744,"post_id":76241502,"comment_id":134449819,"body_markdown":"itext5 is end of life. Perhaps this answers your question? [Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1](https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran)","body":"itext5 is end of life. Perhaps this answers your question? <a href=\"https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran\">Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1</a>"},{"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Wicawski"},"score":0,"creation_date":1683981200,"post_id":76241502,"comment_id":134451573,"body_markdown":"thx, but solution is found :)","body":"thx, but solution is found :)"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Wicawski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683981112,"creation_date":1683961865,"question_id":76241502,"body_markdown":"context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse\r\n\r\nduring: ` new HtmlPipelineContext(null); ` throughout ` new CssAppliersImpl(new XMLWorkerFontProvider()); ` and last ` CssAppliersImpl(){// map builder inside } ` appears \r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\r\n```\r\nquestion: how to avoid it?\r\n\r\nPS.\r\nBefore `HtmlPipelineContext` instance is established:\r\n```\r\n\t\tCSSResolver cssResolver = new StyleAttrCSSResolver();\r\n\t\tcssResolver.addCss(cssFile);\r\n // \tcssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\r\n\t}\r\n```\r\nand at the debug of `new HtmlPipelineContext(null);` is signalized: `com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.` \r\n\r\nsolution: \r\n\r\nthere is problematic line (503) in `FontFactoryImp` where static method `BaseFont.enumerateTTCNames(path);` is called. To avoid this in `XMLWorkerFontProvider` constructor should be used `XMLWorkerFontProvider.DONTLOOKFORFONTS` as parameter value.\r\n```\r\nXMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\r\n```\r\nit&#39;s quite enough - problem disappeared :)","title":"llegal reflective access at HtmlPipelineContext constructor of itext 5","body":"<p>context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse</p>\n<p>during: <code>new HtmlPipelineContext(null);</code> throughout <code>new CssAppliersImpl(new XMLWorkerFontProvider());</code> and last <code>CssAppliersImpl(){// map builder inside }</code> appears</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\n</code></pre>\n<p>question: how to avoid it?</p>\n<p>PS.\nBefore <code>HtmlPipelineContext</code> instance is established:</p>\n<pre><code>        CSSResolver cssResolver = new StyleAttrCSSResolver();\n        cssResolver.addCss(cssFile);\n //     cssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\n    }\n</code></pre>\n<p>and at the debug of <code>new HtmlPipelineContext(null);</code> is signalized: <code>com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.</code></p>\n<p>solution:</p>\n<p>there is problematic line (503) in <code>FontFactoryImp</code> where static method <code>BaseFont.enumerateTTCNames(path);</code> is called. To avoid this in <code>XMLWorkerFontProvider</code> constructor should be used <code>XMLWorkerFontProvider.DONTLOOKFORFONTS</code> as parameter value.</p>\n<pre><code>XMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\n</code></pre>\n<p>it's quite enough - problem disappeared :)</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683979259,"post_id":76242611,"comment_id":134451366,"body_markdown":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it...","body":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it..."},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683980055,"post_id":76242611,"comment_id":134451449,"body_markdown":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet","body":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1683987287,"post_id":76242611,"comment_id":134452267,"body_markdown":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)","body":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)"},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683989404,"post_id":76242611,"comment_id":134452556,"body_markdown":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification.","body":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683989639,"post_id":76242611,"comment_id":134452577,"body_markdown":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction.","body":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction."}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1683981731,"post_id":76242721,"comment_id":134451634,"body_markdown":"You may also want to have a look at the discussion in [this question](https://stackoverflow.com/questions/14115950/quality-of-image-after-resize-very-low-java)","body":"You may also want to have a look at the discussion in <a href=\"https://stackoverflow.com/questions/14115950/quality-of-image-after-resize-very-low-java\">this question</a>"}],"tags":[],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980803,"creation_date":1683980803,"answer_id":76242721,"question_id":76242611,"body_markdown":"Finally I found thumbnailator https://github.com/coobird/thumbnailator can handle this, first import the dependencies:\r\n\r\n\r\n    implementation &#39;net.coobird:thumbnailator:0.4.19&#39;\r\n\r\n\r\nthen resize the image like this:\r\n\r\n\r\n\r\n\r\n    Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\r\n    \t\t\t\t.size(300,400)\r\n    \t\t\t\t.toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\r\n\r\n\r\n\r\nthe resized image quality are perfect.\r\n","title":"is it possible to keep image quality when resize in java","body":"<p>Finally I found thumbnailator <a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">https://github.com/coobird/thumbnailator</a> can handle this, first import the dependencies:</p>\n<pre><code>implementation 'net.coobird:thumbnailator:0.4.19'\n</code></pre>\n<p>then resize the image like this:</p>\n<pre><code>Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\n                .size(300,400)\n                .toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\n</code></pre>\n<p>the resized image quality are perfect.</p>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683980803,"creation_date":1683979127,"question_id":76242611,"body_markdown":"is it possible to keep the image quality when resize it in java? this is my code:\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Base64;\r\n    \r\n    @Slf4j\r\n    public class DemoApplicationSlim {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\r\n    \t\tPath path = Paths.get(filePath);\r\n    \t\tbyte[] bytes = Files.readAllBytes(path);\r\n    \t\tString base64Origin = Base64.getEncoder().encodeToString(bytes);\r\n    \t\tBufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D graphics = resizedIdPhoto.createGraphics();\r\n    \t\tBufferedImage img = Base64ToBufferImage(base64Origin);\r\n    \t\tgraphics.drawImage(img, 0, 0, 300, 400, null);\r\n    \t\tString b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\r\n    \t\tsaveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\r\n    \t\tsaveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void saveImage(String base64Image, String imagePath) {\r\n    \t\ttry {\r\n    \t\t\tbyte[] imageBytes = Base64Coder.decode(base64Image);\r\n    \t\t\tFile imageFile = new File(imagePath);\r\n    \t\t\tif (!imageFile.exists()) {\r\n    \t\t\t\timageFile.createNewFile();\r\n    \t\t\t}\r\n    \t\t\tFileOutputStream outputStream = new FileOutputStream(imageFile);\r\n    \t\t\toutputStream.write(imageBytes);\r\n    \t\t\toutputStream.flush();\r\n    \t\t\toutputStream.close();\r\n    \t\t\tSystem.out.println(&quot;save success&quot; + imagePath);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.error(&quot;save file failed&quot;,e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static BufferedImage Base64ToBufferImage(String base64) {\r\n    \t\tBufferedImage image = null;\r\n    \t\tbyte[] imageBytes;\r\n    \t\timageBytes = Base64.getDecoder().decode(base64);\r\n    \t\ttry (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\r\n    \t\t\timage = ImageIO.read(bis);\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tlog.error(&quot;read  image error&quot;, ex);\r\n    \t\t}\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tjavax.imageio.ImageIO.write(image, format, baos);\r\n    \t\tbyte[] bytes = baos.toByteArray();\r\n    \t\tString base64 = Base64.getEncoder().encodeToString(bytes);\r\n    \t\treturn base64;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nnow I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib https://github.com/rkalla/imgscalr but it stop maintain for 5 years.","title":"is it possible to keep image quality when resize in java","body":"<p>is it possible to keep the image quality when resize it in java? this is my code:</p>\n<pre><code>package com.example.demo;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Base64;\n\n@Slf4j\npublic class DemoApplicationSlim {\n    public static void main(String[] args) throws Exception {\n        String filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\n        Path path = Paths.get(filePath);\n        byte[] bytes = Files.readAllBytes(path);\n        String base64Origin = Base64.getEncoder().encodeToString(bytes);\n        BufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D graphics = resizedIdPhoto.createGraphics();\n        BufferedImage img = Base64ToBufferImage(base64Origin);\n        graphics.drawImage(img, 0, 0, 300, 400, null);\n        String b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\n        saveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\n        saveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\n    }\n\n    private static void saveImage(String base64Image, String imagePath) {\n        try {\n            byte[] imageBytes = Base64Coder.decode(base64Image);\n            File imageFile = new File(imagePath);\n            if (!imageFile.exists()) {\n                imageFile.createNewFile();\n            }\n            FileOutputStream outputStream = new FileOutputStream(imageFile);\n            outputStream.write(imageBytes);\n            outputStream.flush();\n            outputStream.close();\n            System.out.println(&quot;save success&quot; + imagePath);\n        } catch (IOException e) {\n            log.error(&quot;save file failed&quot;,e);\n        }\n    }\n\n    public static BufferedImage Base64ToBufferImage(String base64) {\n        BufferedImage image = null;\n        byte[] imageBytes;\n        imageBytes = Base64.getDecoder().decode(base64);\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\n            image = ImageIO.read(bis);\n        } catch (IOException ex) {\n            log.error(&quot;read  image error&quot;, ex);\n        }\n        return image;\n    }\n\n    public static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        javax.imageio.ImageIO.write(image, format, baos);\n        byte[] bytes = baos.toByteArray();\n        String base64 = Base64.getEncoder().encodeToString(bytes);\n        return base64;\n    }\n}\n</code></pre>\n<p>now I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a> but it stop maintain for 5 years.</p>\n"},{"tags":["java","image","swing","jframe","icons"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1683878954,"post_id":76234325,"comment_id":134436985,"body_markdown":"`setIcon` is a method in [`JLabel`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html), not in [`Label`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html).","body":"<code>setIcon</code> is a method in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html\" rel=\"nofollow noreferrer\"><code>JLabel</code></a>, not in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html\" rel=\"nofollow noreferrer\"><code>Label</code></a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683879588,"post_id":76234325,"comment_id":134437095,"body_markdown":"BTW be aware that Java is case sensitive: `setIcon` is not the same as `SetIcon` or `seticon` (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type `Label` or was it `JLabel`)","body":"BTW be aware that Java is case sensitive: <code>setIcon</code> is not the same as <code>SetIcon</code> or <code>seticon</code> (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type <code>Label</code> or was it <code>JLabel</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980415,"creation_date":1683980415,"answer_id":76242697,"question_id":76234325,"body_markdown":"You need to use a `JLabel` and call `setIcon` to add the `ImageIcon`.\r\n\r\nHere&#39;s a working example:\r\n\r\n    import javax.swing.ImageIcon;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.SwingUtilities;\r\n\timport java.awt.BorderLayout;\r\n\r\n\tpublic class MyApp extends JFrame {\r\n\r\n\t\tprivate MyApp() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\r\n\t\t\tImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\r\n\t\t\tJLabel label = new JLabel(icon);\r\n\r\n\t\t\tadd(label, BorderLayout.CENTER);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApp app = new MyApp();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>You need to use a <code>JLabel</code> and call <code>setIcon</code> to add the <code>ImageIcon</code>.</p>\n<p>Here's a working example:</p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\nimport java.awt.BorderLayout;\n\npublic class MyApp extends JFrame {\n\n    private MyApp() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n\n        ImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\n        JLabel label = new JLabel(icon);\n\n        add(label, BorderLayout.CENTER);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApp app = new MyApp();\n                app.setVisible(true);\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28586766,"reputation":1,"user_id":21886833,"display_name":"Lemonexe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683980415,"creation_date":1683878709,"question_id":76234325,"body_markdown":"I am trying to Add an Image into jFrame with a label.\r\n\r\nI saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.\r\n\r\nWhen I set my label I get the following Error:\r\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)\r\n\r\n```\r\nimport javax.swing.*;\r\npublic class HomePage extends javax.swing.JFrame {\r\n    public HomePage() {\r\n        initComponents();\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)             \r\n    \r\n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\r\n        lblPic.setIcon(imageAd); \r\n```\r\n\r\nThank you!\r\n\r\n\r\nTried to lblPic.setIcon(ImageAd), result: error","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>I am trying to Add an Image into jFrame with a label.</p>\n<p>I saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.</p>\n<p>When I set my label I get the following Error:\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)</p>\n<pre><code>import javax.swing.*;\npublic class HomePage extends javax.swing.JFrame {\n    public HomePage() {\n        initComponents();\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)             \n    \n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\n        lblPic.setIcon(imageAd); \n</code></pre>\n<p>Thank you!</p>\n<p>Tried to lblPic.setIcon(ImageAd), result: error</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":2,"creation_date":1329889029,"post_id":9389576,"comment_id":11862634,"body_markdown":"`StringTokenizer` is marked as deprecated in the API and probably shouldn&#39;t be used.","body":"<code>StringTokenizer</code> is marked as deprecated in the API and probably shouldn&#39;t be used."},{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":0,"creation_date":1329889589,"post_id":9389576,"comment_id":11862745,"body_markdown":"Its not deprecated!!! http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html","body":"Its not deprecated!!! <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1329889686,"post_id":9389576,"comment_id":11862764,"body_markdown":"@McMillen can you please say from which version it is got deprecated. Actually I don&#39;t know this.","body":"@McMillen can you please say from which version it is got deprecated. Actually I don&#39;t know this."},{"owner":{"account_id":20306,"reputation":4411,"user_id":48405,"accept_rate":56,"display_name":"Joe Attardi"},"score":0,"creation_date":1329889831,"post_id":9389576,"comment_id":11862790,"body_markdown":"It&#39;s not _officially_ deprecated, but the Javadocs state &quot;StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.&quot;","body":"It&#39;s not <i>officially</i> deprecated, but the Javadocs state &quot;StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.&quot;"},{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1329889846,"post_id":9389576,"comment_id":11862795,"body_markdown":"@ShashankKadne It may not say deprecated but there is this exact line in the API page: `StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.`","body":"@ShashankKadne It may not say deprecated but there is this exact line in the API page: <code>StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.</code>"},{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":0,"creation_date":1329890082,"post_id":9389576,"comment_id":11862849,"body_markdown":"@HunterMcMillen:- Its use is discouraged in newer code, but I think that&#39;s not as strong a statement as saying it&#39;s deprecated.","body":"@HunterMcMillen:- Its use is discouraged in newer code, but I think that&#39;s not as strong a statement as saying it&#39;s deprecated."},{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":0,"creation_date":1329890196,"post_id":9389576,"comment_id":11862868,"body_markdown":"@ShashankKadne It means it _shouldn&#39;t_ be used. It would have been removed from the language except for the compatibility with older versions of Java.","body":"@ShashankKadne It means it <i>shouldn&#39;t</i> be used. It would have been removed from the language except for the compatibility with older versions of Java."}],"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329888799,"creation_date":1329888799,"answer_id":9389576,"question_id":9389503,"body_markdown":"You can use `StringTokenizer` for this purpose...\r\n\r\n    String test1 = &quot;/Test/Stuff&quot;;\r\n    \t\tStringTokenizer st = new StringTokenizer(test1,&quot;/&quot;);\r\n    \t\twhile(st.hasMoreTokens())\r\n    \t\t\tSystem.out.println(st.nextToken());","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can use <code>StringTokenizer</code> for this purpose...</p>\n\n<pre><code>String test1 = \"/Test/Stuff\";\n        StringTokenizer st = new StringTokenizer(test1,\"/\");\n        while(st.hasMoreTokens())\n            System.out.println(st.nextToken());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1329889378,"creation_date":1329889001,"answer_id":9389603,"question_id":9389503,"body_markdown":"I don&#39;t think there is a way you could do this with the built-in `split` method. So you have two options: \r\n\r\n1) Make your own split \r\n\r\n2) Iterate through the array after calling split and remove empty elements\r\n\r\nIf you make your own split you can just combine these two options\r\n\r\n    public List&lt;String&gt; split(String inString)\r\n    {\r\n       List&lt;String&gt; outList = new ArrayList&lt;&gt;();\r\n       String[]     test    = inString.split(&quot;/&quot;);\r\n    \r\n       for(String s : test)\r\n       {\r\n           if(s != null &amp;&amp; s.length() &gt; 0)\r\n               outList.add(s);\r\n       }\r\n    \r\n       return outList;\r\n    }\r\n\r\nor you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:\r\n\r\n    String   delimiter       = &quot;/&quot;;\r\n    String   delimitedString = &quot;/Test/Stuff&quot;;\r\n    String[] test;\r\n    \r\n    if(delimitedString.startsWith(delimiter)){\r\n        //start at the 1st character not the 0th\r\n        test = delimitedString.substring(1).split(delimiter); \r\n    }\r\n    else\r\n        test = delimitedString.split(delimiter);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I don't think there is a way you could do this with the built-in <code>split</code> method. So you have two options: </p>\n\n<p>1) Make your own split </p>\n\n<p>2) Iterate through the array after calling split and remove empty elements</p>\n\n<p>If you make your own split you can just combine these two options</p>\n\n<pre><code>public List&lt;String&gt; split(String inString)\n{\n   List&lt;String&gt; outList = new ArrayList&lt;&gt;();\n   String[]     test    = inString.split(\"/\");\n\n   for(String s : test)\n   {\n       if(s != null &amp;&amp; s.length() &gt; 0)\n           outList.add(s);\n   }\n\n   return outList;\n}\n</code></pre>\n\n<p>or you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:</p>\n\n<pre><code>String   delimiter       = \"/\";\nString   delimitedString = \"/Test/Stuff\";\nString[] test;\n\nif(delimitedString.startsWith(delimiter)){\n    //start at the 1st character not the 0th\n    test = delimitedString.substring(1).split(delimiter); \n}\nelse\n    test = delimitedString.split(delimiter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20306,"reputation":4411,"user_id":48405,"accept_rate":56,"display_name":"Joe Attardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1329927759,"creation_date":1329889140,"answer_id":9389620,"question_id":9389503,"body_markdown":"Your best bet is probably just to strip out any leading delimiter:\r\n\r\n    String input = &quot;/Test/Stuff&quot;;\r\n    String[] test = input.replaceFirst(&quot;^/&quot;, &quot;&quot;).split(&quot;/&quot;);\r\n\r\nYou can make it more generic by putting it in a method:\r\n\r\n    public String[] mySplit(final String input, final String delim)\r\n    {\r\n        return input.replaceFirst(&quot;^&quot; + delim, &quot;&quot;).split(delim);\r\n    }\r\n\r\n    String[] test = mySplit(&quot;/Test/Stuff&quot;, &quot;/&quot;);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Your best bet is probably just to strip out any leading delimiter:</p>\n\n<pre><code>String input = \"/Test/Stuff\";\nString[] test = input.replaceFirst(\"^/\", \"\").split(\"/\");\n</code></pre>\n\n<p>You can make it more generic by putting it in a method:</p>\n\n<pre><code>public String[] mySplit(final String input, final String delim)\n{\n    return input.replaceFirst(\"^\" + delim, \"\").split(delim);\n}\n\nString[] test = mySplit(\"/Test/Stuff\", \"/\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20306,"reputation":4411,"user_id":48405,"accept_rate":56,"display_name":"Joe Attardi"},"score":1,"creation_date":1329889531,"post_id":9389625,"comment_id":11862737,"body_markdown":"But with this code, if an input string _didn&#39;t_ have a leading delimiter, you&#39;d skip the first component.\n\nFor example, `&quot;Test/Stuff&quot;` would yield just a single element, &quot;Stuff&quot;.","body":"But with this code, if an input string <i>didn&#39;t</i> have a leading delimiter, you&#39;d skip the first component.  For example, <code>&quot;Test&#47;Stuff&quot;</code> would yield just a single element, &quot;Stuff&quot;."},{"owner":{"account_id":1236369,"reputation":14761,"user_id":1199882,"accept_rate":80,"display_name":"CodeBlue"},"score":0,"creation_date":1329890107,"post_id":9389625,"comment_id":11862855,"body_markdown":"Good point. In that case, an additional check would have to be made.","body":"Good point. In that case, an additional check would have to be made."}],"tags":[],"owner":{"account_id":1236369,"reputation":14761,"user_id":1199882,"accept_rate":80,"display_name":"CodeBlue"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329889165,"creation_date":1329889165,"answer_id":9389625,"question_id":9389503,"body_markdown":"I think you shall have to manually remove the first empty string. A simple way to do that is this - \r\n\r\n      String string, subString;\r\n      int index;\r\n      String[] test;\r\n\r\n      string = &quot;/Test/Stuff&quot;;\r\n      index  = string.indexOf(&quot;/&quot;);\r\n      subString = string.substring(index+1);\r\n \r\n      test = subString.split(&quot;/&quot;); \r\n\r\nThis will exclude the leading empty string.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think you shall have to manually remove the first empty string. A simple way to do that is this - </p>\n\n<pre><code>  String string, subString;\n  int index;\n  String[] test;\n\n  string = \"/Test/Stuff\";\n  index  = string.indexOf(\"/\");\n  subString = string.substring(index+1);\n\n  test = subString.split(\"/\"); \n</code></pre>\n\n<p>This will exclude the leading empty string.</p>\n"},{"tags":[],"owner":{"account_id":1152215,"reputation":9967,"user_id":1133674,"accept_rate":52,"display_name":"Rahul Tapali"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1329900039,"creation_date":1329900039,"answer_id":9391527,"question_id":9389503,"body_markdown":"I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:\r\n\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n      for(String str : test) \r\n      {\r\n         if(str != null &amp;&amp; str.length() &gt; 0) \r\n         {\r\n             list.add(str);\r\n         }\r\n      }\r\n\r\n      test = stringList.toArray(new String[list.size()]);\r\n\r\n","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:</p>\n\n<pre><code>  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n  for(String str : test) \n  {\n     if(str != null &amp;&amp; str.length() &gt; 0) \n     {\n         list.add(str);\n     }\n  }\n\n  test = stringList.toArray(new String[list.size()]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":2,"creation_date":1425089035,"post_id":9392369,"comment_id":45832569,"body_markdown":"Seems to don&#39;t support regular expression like the JDK version though.","body":"Seems to don&#39;t support regular expression like the JDK version though."}],"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1417714752,"creation_date":1329903736,"answer_id":9392369,"question_id":9389503,"body_markdown":"Apache Commons has a utility method for exactly this: `org.apache.commons.lang.StringUtils.split`\r\n\r\n[StringUtils.split()][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\r\n\r\nActually in our company we now prefer using this method for splitting in all our projects.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Apache Commons has a utility method for exactly this: <code>org.apache.commons.lang.StringUtils.split</code></p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\" rel=\"noreferrer\">StringUtils.split()</a></p>\n\n<p>Actually in our company we now prefer using this method for splitting in all our projects.</p>\n"},{"tags":[],"owner":{"account_id":2972933,"reputation":173,"user_id":2524635,"display_name":"K. George Pradhan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400440472,"creation_date":1400440472,"answer_id":23725841,"question_id":9389503,"body_markdown":"This is how I&#39;ve gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there&#39;s some performance tradeoff but it seems like a readable solution. Hope this helps! \r\n\r\n     char[] stringChars = string.toCharArray(); \r\n     List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \r\n\r\n     for (char stringChar : stringChars) { \r\n          stringList.add(String.valueOf(stringChar)); \r\n     }","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>This is how I've gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there's some performance tradeoff but it seems like a readable solution. Hope this helps! </p>\n\n<pre><code> char[] stringChars = string.toCharArray(); \n List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \n\n for (char stringChar : stringChars) { \n      stringList.add(String.valueOf(stringChar)); \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17276027,"reputation":1,"user_id":12510644,"display_name":"enjoy187"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1575972078,"creation_date":1575971124,"answer_id":59264303,"question_id":9389503,"body_markdown":"You can only add statement like `if(StringUtils.isEmpty(string)) continue;` before print the string. My JDK version 1.8, no Blank will be printed. \r\n5\r\nthis\r\nprogram\r\ngives\r\nme\r\nproblems","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can only add statement like <code>if(StringUtils.isEmpty(string)) continue;</code> before print the string. My JDK version 1.8, no Blank will be printed. \n5\nthis\nprogram\ngives\nme\nproblems</p>\n"},{"tags":[],"owner":{"account_id":2015074,"reputation":59,"user_id":1802592,"display_name":"m_c"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588753058,"creation_date":1588753058,"answer_id":61630479,"question_id":9389503,"body_markdown":"When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.\r\n\r\n    Arrays.asList(&quot;\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34&quot;.split(&quot;\\\\\\\\x&quot;))\r\n        .stream()\r\n        .skip(1) // &lt;- ignore the first empty element\r\n        .map(c-&gt;&quot;&quot;+(char)Integer.parseInt(c, 16))\r\n        .collect(Collectors.joining())","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.</p>\n\n<pre><code>Arrays.asList(\"\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34\".split(\"\\\\\\\\x\"))\n    .stream()\n    .skip(1) // &lt;- ignore the first empty element\n    .map(c-&gt;\"\"+(char)Integer.parseInt(c, 16))\n    .collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28484031,"reputation":11,"user_id":21797603,"display_name":"hari862"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683979972,"creation_date":1683979972,"answer_id":76242672,"question_id":9389503,"body_markdown":"Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.\r\n\r\nSample code:\r\n\r\n    String[] tokens = s.split(&quot;/&quot;);\r\n    Arrays.stream(tokens)\r\n    .filter(s1 -&gt; !s1.isEmpty())\r\n    .forEach(System.out::println);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.</p>\n<p>Sample code:</p>\n<pre><code>String[] tokens = s.split(&quot;/&quot;);\nArrays.stream(tokens)\n.filter(s1 -&gt; !s1.isEmpty())\n.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48974,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":9389620,"answer_count":10,"score":68,"last_activity_date":1683979972,"creation_date":1329888240,"question_id":9389503,"body_markdown":"passing 0 as a limit argument prevents trailing empty strings, but how does one prevent *leading* empty strings?\r\n\r\n\r\nfor instance\r\n\r\n    String[] test = &quot;/Test/Stuff&quot;.split(&quot;/&quot;);\r\n\r\nresults in an array with &quot;&quot;, &quot;Test&quot;, &quot;Stuff&quot;.\r\n\r\nYeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say \r\n\r\n&gt; &quot;StringTokenizer is a legacy class that is retained for compatibility\r\n&gt; reasons although its use is discouraged in new code. It is recommended\r\n&gt; that anyone seeking this functionality use the split&quot;","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>passing 0 as a limit argument prevents trailing empty strings, but how does one prevent <em>leading</em> empty strings?</p>\n\n<p>for instance</p>\n\n<pre><code>String[] test = \"/Test/Stuff\".split(\"/\");\n</code></pre>\n\n<p>results in an array with \"\", \"Test\", \"Stuff\".</p>\n\n<p>Yeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say </p>\n\n<blockquote>\n  <p>\"StringTokenizer is a legacy class that is retained for compatibility\n  reasons although its use is discouraged in new code. It is recommended\n  that anyone seeking this functionality use the split\"</p>\n</blockquote>\n"},{"tags":["java","directory","filewalker"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683900803,"post_id":76237002,"comment_id":134441989,"body_markdown":"are you sure the problem is not inside `distributionFolder.readingDirectory`? *Posted* code seems OK, but it would be easier to debug if we had a [mre]...","body":"are you sure the problem is not inside <code>distributionFolder.readingDirectory</code>? <i>Posted</i> code seems OK, but it would be easier to debug if we had a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>..."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":2,"creation_date":1683902228,"post_id":76237002,"comment_id":134442339,"body_markdown":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed.","body":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683902311,"post_id":76237002,"comment_id":134442362,"body_markdown":"@jon-hanson Ok I am editing right now","body":"@jon-hanson Ok I am editing right now"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683902854,"post_id":76237002,"comment_id":134442493,"body_markdown":"I have not understood why your code would read the `1111` folder twice, Have you?","body":"I have not understood why your code would read the <code>1111</code> folder twice, Have you?"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903446,"post_id":76237002,"comment_id":134442620,"body_markdown":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that.","body":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903499,"post_id":76237002,"comment_id":134442629,"body_markdown":"@jon-hanson ready, I edited the question","body":"@jon-hanson ready, I edited the question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683903816,"post_id":76237002,"comment_id":134442686,"body_markdown":"still not clear, do you eventually want to limit the maximum depth that the `walk` is going? Maybe using the 3-argument `walk()` method (2nd argument is max depth) (e.g. it does not *walk* over `1111` since it already got `55354....` with its conetent)","body":"still not clear, do you eventually want to limit the maximum depth that the <code>walk</code> is going? Maybe using the 3-argument <code>walk()</code> method (2nd argument is max depth) (e.g. it does not <i>walk</i> over <code>1111</code> since it already got <code>55354....</code> with its conetent)"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903934,"post_id":76237002,"comment_id":134442714,"body_markdown":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?","body":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683903997,"post_id":76237002,"comment_id":134442734,"body_markdown":"link to documentation -&gt; [`Files.walk(Path, int, FileVisitOption...)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)) || BTW `File` has a `toPath()`","body":"link to documentation -&gt; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\"><code>Files.walk(Path, int, FileVisitOption...)</code></a> || BTW <code>File</code> has a <code>toPath()</code>"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683904651,"post_id":76237002,"comment_id":134442884,"body_markdown":"@user16320675 Thank you so much, I learned something you, sorry for my silly question","body":"@user16320675 Thank you so much, I learned something you, sorry for my silly question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683905774,"post_id":76237002,"comment_id":134443201,"body_markdown":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)","body":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)"}],"answers":[{"tags":[],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977950,"creation_date":1683977950,"answer_id":76242529,"question_id":76237002,"body_markdown":"In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:\r\n\r\n\r\n     try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:</p>\n<pre><code> try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){\n</code></pre>\n"}],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977950,"creation_date":1683899533,"question_id":76237002,"body_markdown":"I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nCan read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe content of &quot;1111&quot; directory will be read it twice. \r\n\r\nThis is the code that splits the directory and subdirectories:\r\n\r\n\r\n     private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n    \r\n    \r\n            List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n            // is getting the number of available processes\r\n            int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n            // Creating a ExecutorService pool with the number of available processes\r\n            ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n            //Traverse the dataset using File walker\r\n    \r\n            try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n                //filter the file to be a regular file\r\n                paths.filter(Files ::isDirectory)\r\n                        .filter(mainReader::isNotTheDefault)\r\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                .forEach(\r\n                    path -&gt; {\r\n                        DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\r\n                        try {\r\n                            System.out.println(path);\r\n                            this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n    \r\n            }catch (Exception e){\r\n                throw new RuntimeException(e);\r\n            }\r\n            finally {\r\n                pool.shutdown();\r\n                while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                    System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n                }\r\n                Regression.FullRegression(this.directory);\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        private static boolean isNotTheDefault(Path path){\r\n            if(!defaultFile.equals(path.toFile())){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\nThis is the &quot;DistributionFolder&quot; class\r\n\r\n    protected final String directory;\r\n    protected int videoNumber;\r\n    \r\n    \r\n    public DistributionFolder(String directory,int videoNumber){\r\n        this.directory=directory;\r\n        this.videoNumber=videoNumber;\r\n    }\r\n    \r\n    \r\n    protected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n        // is getting the number of available processes\r\n        int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n        // Creating a ExecutorService pool with the number of available processes\r\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n        //Traverse the dataset using File walker\r\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n            //filter the file to be a regular file\r\n            paths.filter(Files::isRegularFile)\r\n                    // apply the custom filter in order to read only txt files\r\n                    .filter(DistributionFolder::isTXT)\r\n                    // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                    .forEach(\r\n                            path -&gt; {\r\n    \r\n                                String[] strPath = String.valueOf(path).split(&quot;/&quot;);\r\n    \r\n                                pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\r\n                                this.videoNumber++;\r\n    \r\n                            });\r\n    \r\n        }catch (Exception e){\r\n            throw new RuntimeException(e);\r\n        }\r\n        finally {\r\n            // wait fo the execution of the pool to be done\r\n            pool.shutdown();\r\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n            }\r\n            String[] splitFile = files.toString().split(&quot;/&quot;);\r\n    \r\n            MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\r\n            return this.videoNumber;\r\n        }\r\n    }\r\n    \r\n    private static boolean isTXT(Path path) {\r\n        String pathFile = String.valueOf(path);\r\n        String[] slittedpath = pathFile.split(&quot;/&quot;);\r\n        String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\r\n        return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\r\n    }\r\n\r\nThis is the output when a new directory is inside of the first subdirectory of the check directory:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nThis is an example that works perfectly fine, when the is no other subdirectory:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe output:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI edited the question to add more context.\r\n\r\nMy theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well\r\n\r\nIf you have any suggestion please let me know. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SUYpg.png\r\n  [2]: https://i.stack.imgur.com/bVPR6.png\r\n  [3]: https://i.stack.imgur.com/z37No.png\r\n  [4]: https://i.stack.imgur.com/Jw5qk.png\r\n  [5]: https://i.stack.imgur.com/34IrI.png","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/SUYpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SUYpg.png\" alt=\"enter image description here\" /></a></p>\n<p>Can read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/bVPR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bVPR6.png\" alt=\"enter image description here\" /></a></p>\n<p>The content of &quot;1111&quot; directory will be read it twice.</p>\n<p>This is the code that splits the directory and subdirectories:</p>\n<pre><code> private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n\n\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n        // is getting the number of available processes\n        int nrThreads = Runtime.getRuntime().availableProcessors();\n\n        // Creating a ExecutorService pool with the number of available processes\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n        //Traverse the dataset using File walker\n\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n            //filter the file to be a regular file\n            paths.filter(Files ::isDirectory)\n                    .filter(mainReader::isNotTheDefault)\n            // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n            .forEach(\n                path -&gt; {\n                    DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\n                    try {\n                        System.out.println(path);\n                        this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n\n        }catch (Exception e){\n            throw new RuntimeException(e);\n        }\n        finally {\n            pool.shutdown();\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n            }\n            Regression.FullRegression(this.directory);\n            return true;\n        }\n    }\n\n    private static boolean isNotTheDefault(Path path){\n        if(!defaultFile.equals(path.toFile())){\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>This is the &quot;DistributionFolder&quot; class</p>\n<pre><code>protected final String directory;\nprotected int videoNumber;\n\n\npublic DistributionFolder(String directory,int videoNumber){\n    this.directory=directory;\n    this.videoNumber=videoNumber;\n}\n\n\nprotected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n    List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n    // is getting the number of available processes\n    int nrThreads = Runtime.getRuntime().availableProcessors();\n\n    // Creating a ExecutorService pool with the number of available processes\n    ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n    //Traverse the dataset using File walker\n    try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n        //filter the file to be a regular file\n        paths.filter(Files::isRegularFile)\n                // apply the custom filter in order to read only txt files\n                .filter(DistributionFolder::isTXT)\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n                .forEach(\n                        path -&gt; {\n\n                            String[] strPath = String.valueOf(path).split(&quot;/&quot;);\n\n                            pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\n                            this.videoNumber++;\n\n                        });\n\n    }catch (Exception e){\n        throw new RuntimeException(e);\n    }\n    finally {\n        // wait fo the execution of the pool to be done\n        pool.shutdown();\n        while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n            System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n        }\n        String[] splitFile = files.toString().split(&quot;/&quot;);\n\n        MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\n        return this.videoNumber;\n    }\n}\n\nprivate static boolean isTXT(Path path) {\n    String pathFile = String.valueOf(path);\n    String[] slittedpath = pathFile.split(&quot;/&quot;);\n    String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\n    return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\n}\n</code></pre>\n<p>This is the output when a new directory is inside of the first subdirectory of the check directory:</p>\n<p><a href=\"https://i.stack.imgur.com/z37No.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z37No.png\" alt=\"enter image description here\" /></a></p>\n<p>This is an example that works perfectly fine, when the is no other subdirectory:</p>\n<p><a href=\"https://i.stack.imgur.com/Jw5qk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jw5qk.png\" alt=\"enter image description here\" /></a></p>\n<p>The output:</p>\n<p><a href=\"https://i.stack.imgur.com/34IrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34IrI.png\" alt=\"enter image description here\" /></a></p>\n<p>I edited the question to add more context.</p>\n<p>My theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well</p>\n<p>If you have any suggestion please let me know. Thanks!</p>\n"},{"tags":["java","algorithm","tensorflow","knapsack-problem","or-tools"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1684123709,"post_id":76242028,"comment_id":134465216,"body_markdown":"looks like didn&#39;t try, instead looking for way to solve his task problem","body":"looks like didn&#39;t try, instead looking for way to solve his task problem"}],"answers":[{"comments":[{"owner":{"account_id":14362391,"reputation":11,"user_id":10374373,"display_name":""},"score":0,"creation_date":1684045816,"post_id":76242507,"comment_id":134457283,"body_markdown":"Can you tell me which is the nonlinear solver in ortools.","body":"Can you tell me which is the nonlinear solver in ortools."},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1684071301,"post_id":76242507,"comment_id":134459927,"body_markdown":"Mostly none currently. CP-SAT can do some of it, but variables must be integral. The linear_solver wrapper has some quadratic support but (a) the API is not really there, and (b) it only supports SCIP and Gurobi. Math_opt will offer a native quadratic API, but convex solvers are not included, and it is bazel only on top of C++ for now.","body":"Mostly none currently. CP-SAT can do some of it, but variables must be integral. The linear_solver wrapper has some quadratic support but (a) the API is not really there, and (b) it only supports SCIP and Gurobi. Math_opt will offer a native quadratic API, but convex solvers are not included, and it is bazel only on top of C++ for now."}],"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977711,"creation_date":1683977711,"answer_id":76242507,"question_id":76242028,"body_markdown":"this is not a linear problem. So not using the linear solver wrapper.","title":"a ortools problemfind min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<p>this is not a linear problem. So not using the linear solver wrapper.</p>\n"}],"owner":{"account_id":14362391,"reputation":11,"user_id":10374373,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977711,"creation_date":1683970591,"question_id":76242028,"body_markdown":"    public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\r\n        Loader.loadNativeLibraries();\r\n\r\n        HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\r\n\r\n        for (int i = 0; i &lt; nowStock.size(); i++) {\r\n            iToWaste.put(i, nowStock.get(i));\r\n        }\r\n\r\n        final int numItems = iToWaste.size();\r\n\r\n        final int[] allItemsId = IntStream.range(0, numItems).toArray();\r\n\r\n        final double binCapacities = 70;\r\n        //StringBuffer sb = new StringBuffer();\r\n        // Create the linear solver with the SCIP backend.\r\n        MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\r\n        if (solver == null) {\r\n\r\n            throw new Exception(&quot;Could not create solver SCIP&quot;);\r\n\r\n        }\r\n\r\n        // Variables.\r\n        MPVariable[] x = new MPVariable[numItems];\r\n\r\n        for (int i : allItemsId) {\r\n            x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\r\n        }\r\n\r\n        // Constraints.\r\n        // Each item is assigned to at most one bin.\r\n        for (int i : allItemsId) {\r\n            MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\r\n            constraint.setCoefficient(x[i], 1);\r\n        }\r\n\r\n        // The amount packed in each bin cannot exceed its capacity.\r\n\r\n        MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\r\n\r\n        for (int i : allItemsId) {\r\n            constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n\r\n\r\n        // Objective.\r\n        // Minimize cost value of packed items.\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\n        // Objective.\r\n        // Maximize weight of packed items.\r\n        MPObjective weight = solver.objective();\r\n        for (int i : allItemsId) {\r\n            weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n        weight.setMaximization();\r\n        \r\n        solver.setNumThreads(20);\r\n\r\n        final MPSolver.ResultStatus status = solver.solve();\r\n\r\n\r\n        // Check that the problem has an optimal solution.\r\n        if (status == MPSolver.ResultStatus.OPTIMAL) {\r\n            return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nthis part code\r\n\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\ni konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combinationthe cost depend on the combination.So the coefficient is dynamic\r\nhow can i solve this problem.Thanks.\r\n\r\n\r\n\r\nhttps://developers.google.com/optimization/lp/stigler_diet\r\nhttps://developers.google.com/optimization/pack/multiple_knapsack\r\n\r\nthese are the docs I  refer to\r\n","title":"a ortools problemfind min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<pre><code>public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\n    Loader.loadNativeLibraries();\n\n    HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\n\n    for (int i = 0; i &lt; nowStock.size(); i++) {\n        iToWaste.put(i, nowStock.get(i));\n    }\n\n    final int numItems = iToWaste.size();\n\n    final int[] allItemsId = IntStream.range(0, numItems).toArray();\n\n    final double binCapacities = 70;\n    //StringBuffer sb = new StringBuffer();\n    // Create the linear solver with the SCIP backend.\n    MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\n    if (solver == null) {\n\n        throw new Exception(&quot;Could not create solver SCIP&quot;);\n\n    }\n\n    // Variables.\n    MPVariable[] x = new MPVariable[numItems];\n\n    for (int i : allItemsId) {\n        x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\n    }\n\n    // Constraints.\n    // Each item is assigned to at most one bin.\n    for (int i : allItemsId) {\n        MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\n        constraint.setCoefficient(x[i], 1);\n    }\n\n    // The amount packed in each bin cannot exceed its capacity.\n\n    MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\n\n    for (int i : allItemsId) {\n        constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n\n\n    // Objective.\n    // Minimize cost value of packed items.\n    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n\n\n    // Objective.\n    // Maximize weight of packed items.\n    MPObjective weight = solver.objective();\n    for (int i : allItemsId) {\n        weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n    weight.setMaximization();\n    \n    solver.setNumThreads(20);\n\n    final MPSolver.ResultStatus status = solver.solve();\n\n\n    // Check that the problem has an optimal solution.\n    if (status == MPSolver.ResultStatus.OPTIMAL) {\n        return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\n    }\n    return null;\n}\n</code></pre>\n<p>this part code</p>\n<pre><code>    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n</code></pre>\n<p>i konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combinationthe cost depend on the combination.So the coefficient is dynamic\nhow can i solve this problem.Thanks.</p>\n<p><a href=\"https://developers.google.com/optimization/lp/stigler_diet\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/lp/stigler_diet</a>\n<a href=\"https://developers.google.com/optimization/pack/multiple_knapsack\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/pack/multiple_knapsack</a></p>\n<p>these are the docs I  refer to</p>\n"},{"tags":["java","generics","reflection","comparator"],"answers":[{"tags":[],"owner":{"account_id":4500219,"reputation":26,"user_id":3658934,"display_name":"developerSid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400645619,"creation_date":1400640316,"answer_id":23773146,"question_id":23772308,"body_markdown":"I&#39;m inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.\r\n\r\n    public class PersonNameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getName().compareTo(o2.getName());\r\n       }\r\n    }\r\n\r\n    public class PersonSurnameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getSurname().compareTo(o2.getSurname());\r\n       }\r\n    }\r\n\r\nThen just call the standard library Collections sorting method\r\n\r\n    Collections.sort(listofpersons, new PersonNameComparator());\r\n    Collections.sort(listofpersons, new PersonSurameComparator());\r\n\r\nIt is probably a bit of a code smell since it is a lot of bowler plate code that you&#39;ll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.\r\n\r\nThe short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I'm inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.</p>\n\n<pre><code>public class PersonNameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getName().compareTo(o2.getName());\n   }\n}\n\npublic class PersonSurnameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getSurname().compareTo(o2.getSurname());\n   }\n}\n</code></pre>\n\n<p>Then just call the standard library Collections sorting method</p>\n\n<pre><code>Collections.sort(listofpersons, new PersonNameComparator());\nCollections.sort(listofpersons, new PersonSurameComparator());\n</code></pre>\n\n<p>It is probably a bit of a code smell since it is a lot of bowler plate code that you'll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.</p>\n\n<p>The short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400641741,"creation_date":1400641741,"answer_id":23773301,"question_id":23772308,"body_markdown":"You can&#39;t sort a *Collection*, only a *List*. This is because not all Collections (eg Set) support the concept of element &quot;order&quot;.\r\n\r\n\r\nChange the method signature to:\r\n\r\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\r\n","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>You can't sort a <em>Collection</em>, only a <em>List</em>. This is because not all Collections (eg Set) support the concept of element \"order\".</p>\n\n<p>Change the method signature to:</p>\n\n<pre><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1400643887,"creation_date":1400641796,"answer_id":23773309,"question_id":23772308,"body_markdown":"The problem is in the signature of the `sortCollection` method. You should change the type of the `list` parameter from `Collection&lt;T&gt;` to `List&lt;T&gt;`. In other words, your method&#39;s header  should be:\r\n\r\n    public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\r\n\r\n\r\nThat&#39;s because `Collections.sort()` expects its first parameter to be a `List` (See its [javadoc][1])\r\n\r\n\r\n\r\n\r\nEDIT:\r\n\r\nRegarding your implementation, there are some generic/reflection tricks which you can use. Here&#39;s a possible alternative impl.\r\n\r\n    \r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    public static&lt;T&gt; Comparator&lt;T&gt; \r\n      newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \r\n      Method method = cls.getMethod(methodName);\r\n      if (method.getParameterTypes().length != 0) \r\n        throw new Exception(&quot;Method &quot; + method + &quot; takes parameters&quot;);\r\n      \r\n      Class&lt;?&gt; returnType = method.getReturnType();\r\n      if (!Comparable.class.isAssignableFrom(returnType))\r\n        throw new Exception(&quot;The return type &quot; + returnType + &quot; is not Comparable&quot;);\r\n      \r\n      return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \r\n    }\r\n  \r\n    private static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\r\n        final Method method, final Class&lt;R&gt; returnType) throws Exception {    \r\n      return new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            R a = invoke(method, o1);\r\n            R b = invoke(method, o2);\r\n            return a.compareTo(b);\r\n          } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n  \r\n        private R invoke(Method method, T o) throws Exception {\r\n          return returnType.cast(method.invoke(o));\r\n        }\r\n      };\r\n    }\r\n\r\n\r\nHere&#39;s how you would use it:\r\n\r\n      List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Person(&quot;A&quot;, &quot;D&quot;), new Person(&quot;B&quot;,  &quot;C&quot;)));\r\n      ...\r\n\r\n      Comparator&lt;Person&gt; byNameComparator = \r\n        newMethodComparator(Person.class, &quot;getName&quot;);\r\n      Collections.sort(ps,  byNameComparator);\r\n\r\n\r\nRationale:\r\n\r\n(a) This impl. will work for any method that returns a `Comparable` object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.\r\n\r\n(b) This impl. checks the method&#39;s return type and the fact that it takes zero arguments at the point where the `Comparator` is created, which is *before* the sorting has started. Thus, there is lesser chance of `Collections.sort()` throwing an exception on you.\r\n\r\n(c) Note that the `@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })` does not pose any real risk. If the method&#39;s return type is `Comparable` then the downcasts will succeed. If the return type is not `Comparable` then `Comparable.class.isAssignableFrom(returnType))` will return false, the method will throw an explicit exception and the downcast will never be reached.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>The problem is in the signature of the <code>sortCollection</code> method. You should change the type of the <code>list</code> parameter from <code>Collection&lt;T&gt;</code> to <code>List&lt;T&gt;</code>. In other words, your method's header  should be:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\n</code></pre>\n\n<p>That's because <code>Collections.sort()</code> expects its first parameter to be a <code>List</code> (See its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow\">javadoc</a>)</p>\n\n<p>EDIT:</p>\n\n<p>Regarding your implementation, there are some generic/reflection tricks which you can use. Here's a possible alternative impl.</p>\n\n<pre><code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\npublic static&lt;T&gt; Comparator&lt;T&gt; \n  newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \n  Method method = cls.getMethod(methodName);\n  if (method.getParameterTypes().length != 0) \n    throw new Exception(\"Method \" + method + \" takes parameters\");\n\n  Class&lt;?&gt; returnType = method.getReturnType();\n  if (!Comparable.class.isAssignableFrom(returnType))\n    throw new Exception(\"The return type \" + returnType + \" is not Comparable\");\n\n  return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \n}\n\nprivate static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\n    final Method method, final Class&lt;R&gt; returnType) throws Exception {    \n  return new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        R a = invoke(method, o1);\n        R b = invoke(method, o2);\n        return a.compareTo(b);\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n    }\n\n    private R invoke(Method method, T o) throws Exception {\n      return returnType.cast(method.invoke(o));\n    }\n  };\n}\n</code></pre>\n\n<p>Here's how you would use it:</p>\n\n<pre><code>  List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\n    new Person(\"A\", \"D\"), new Person(\"B\",  \"C\")));\n  ...\n\n  Comparator&lt;Person&gt; byNameComparator = \n    newMethodComparator(Person.class, \"getName\");\n  Collections.sort(ps,  byNameComparator);\n</code></pre>\n\n<p>Rationale:</p>\n\n<p>(a) This impl. will work for any method that returns a <code>Comparable</code> object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.</p>\n\n<p>(b) This impl. checks the method's return type and the fact that it takes zero arguments at the point where the <code>Comparator</code> is created, which is <em>before</em> the sorting has started. Thus, there is lesser chance of <code>Collections.sort()</code> throwing an exception on you.</p>\n\n<p>(c) Note that the <code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })</code> does not pose any real risk. If the method's return type is <code>Comparable</code> then the downcasts will succeed. If the return type is not <code>Comparable</code> then <code>Comparable.class.isAssignableFrom(returnType))</code> will return false, the method will throw an explicit exception and the downcast will never be reached.</p>\n"},{"tags":[],"owner":{"account_id":3434736,"reputation":1,"user_id":2878109,"display_name":"Ganesh Gore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683977017,"creation_date":1683974388,"answer_id":76242286,"question_id":23772308,"body_markdown":"\r\nBelow solution still might need few more checks if the &#39;T&#39; contains other complex types and are not comparable.     \t\r\n\r\n```\r\npublic &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\r\n  Comparator&lt;T&gt; comparator = null;\r\n  Comparator&lt;T&gt; temp = null;\r\n  if (objList != null) {\r\n    Class classObj = objList.get(0).getClass();\r\n    Method[] methods = classObj.getMethods();\r\n    for(String attribute : attributes) {\r\n      for(Method method : methods) {\r\n    \tif(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\r\n    \t  temp = new Comparator&lt;T&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(T o1, T o2) {\r\n    \t\t  try {\r\n    \t\t    Comparable v1 = (Comparable) method.invoke(o1);\r\n    \t\t\tComparable v2 = (Comparable) method.invoke(o2);\r\n    \t\t\treturn v1.compareTo(v2);\r\n    \t\t  } catch (IllegalAccessException | InvocationTargetException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t  }\r\n    \t\t  return 0;\r\n    \t\t}\r\n    \t  };\r\n    \t  if (temp != null)\r\n    \t\tif (comparator == null)\r\n    \t\t  comparator = temp;\r\n    \t\telse\r\n    \t\t  comparator = comparator.thenComparing(temp);\r\n    \t\t}\r\n    \t  }\r\n    \t  if (comparator != null)\r\n    \t    objList.sort(comparator);\r\n    \t  }\r\n    \t}\r\n```","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>Below solution still might need few more checks if the 'T' contains other complex types and are not comparable.</p>\n<pre><code>public &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\n  Comparator&lt;T&gt; comparator = null;\n  Comparator&lt;T&gt; temp = null;\n  if (objList != null) {\n    Class classObj = objList.get(0).getClass();\n    Method[] methods = classObj.getMethods();\n    for(String attribute : attributes) {\n      for(Method method : methods) {\n        if(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\n          temp = new Comparator&lt;T&gt;() {\n            @Override\n            public int compare(T o1, T o2) {\n              try {\n                Comparable v1 = (Comparable) method.invoke(o1);\n                Comparable v2 = (Comparable) method.invoke(o2);\n                return v1.compareTo(v2);\n              } catch (IllegalAccessException | InvocationTargetException e) {\n                e.printStackTrace();\n              }\n              return 0;\n            }\n          };\n          if (temp != null)\n            if (comparator == null)\n              comparator = temp;\n            else\n              comparator = comparator.thenComparing(temp);\n            }\n          }\n          if (comparator != null)\n            objList.sort(comparator);\n          }\n        }\n</code></pre>\n"}],"owner":{"account_id":1159821,"reputation":1128,"user_id":1139581,"accept_rate":62,"display_name":"moretti.fabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23773309,"answer_count":4,"score":2,"last_activity_date":1683977017,"creation_date":1400633686,"question_id":23772308,"body_markdown":"I hava a lot of classes like this:\r\n\r\n    Class Person {\r\n      protected String name;\r\n      protected String surname;\r\n      ...getters and setters...\r\n    }\r\n\r\nI&#39;d like to order a Collection of Person by name or by surname. Actually I&#39;m simply doing this:\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \r\n    })\r\n\r\nor\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \r\n    })\r\n\r\nI&#39;m trying to implement a generic comparator, like:\r\n\r\n    MyUtils.sort(listofpersons,&quot;getName&quot;);\r\n    MyUtils.sort(listofpersons,&quot;getSurame&quot;);\r\n\r\nand I&#39;m trying to understand of to do it with generics and reflection, but I&#39;m stuck. I&#39;m doing this:\r\n\r\n    public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\r\n      Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\r\n            String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\r\n            return a.compareTo(b);\r\n          } catch (Exception ex) {\r\n            ...log somewhere...\r\n            return 0;\r\n          }\r\n        }\r\n      };\r\n      Collections.sort(list, comparator);\r\n    }\r\n\r\nforget the catch Exception and the String casting for now, the point is that Collections.sort(Collection&lt;T&gt;,Comparator&lt;T&gt;) does not exists, but I don&#39;t know of to create a Comparator&lt;? super T&gt;...\r\nI&#39;m very curious to know if my idea have any sense or not (an why) and what&#39;s the correct way implement it.\r\n\r\nThank you!","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I hava a lot of classes like this:</p>\n\n<pre><code>Class Person {\n  protected String name;\n  protected String surname;\n  ...getters and setters...\n}\n</code></pre>\n\n<p>I'd like to order a Collection of Person by name or by surname. Actually I'm simply doing this:</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \n})\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \n})\n</code></pre>\n\n<p>I'm trying to implement a generic comparator, like:</p>\n\n<pre><code>MyUtils.sort(listofpersons,\"getName\");\nMyUtils.sort(listofpersons,\"getSurame\");\n</code></pre>\n\n<p>and I'm trying to understand of to do it with generics and reflection, but I'm stuck. I'm doing this:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\n  Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\n        String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\n        return a.compareTo(b);\n      } catch (Exception ex) {\n        ...log somewhere...\n        return 0;\n      }\n    }\n  };\n  Collections.sort(list, comparator);\n}\n</code></pre>\n\n<p>forget the catch Exception and the String casting for now, the point is that Collections.sort(Collection,Comparator) does not exists, but I don't know of to create a Comparator...\nI'm very curious to know if my idea have any sense or not (an why) and what's the correct way implement it.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","azure-devops","appinsights"],"answers":[{"tags":[],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683976652,"creation_date":1683976652,"answer_id":76242431,"question_id":76090709,"body_markdown":"Turned out, you can&#39;t. The Azure Java libraries don&#39;t fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\r\nhttps://github.com/microsoft/ApplicationInsights-Java/issues/3027 \r\n\r\nUntil released, Telemetry libs must be used to get a clear separation between apps.","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Turned out, you can't. The Azure Java libraries don't fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\n<a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/3027\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/3027</a></p>\n<p>Until released, Telemetry libs must be used to get a clear separation between apps.</p>\n"}],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683976652,"creation_date":1682330487,"question_id":76090709,"body_markdown":"Is there a way to change the *Custom Namespace* name in a Spring Boot app when using MS Application Insights?\r\n\r\nI have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have the insights config set as Application config, specifically these:\r\n- APPINSIGHTS_INSTRUMENTATIONKEY\r\n- APPLICATIONINSIGHTS_CONNECTION_STRING\r\n- APPLICATIONINSIGHTS_ROLE_NAME\r\n- ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)\r\n\r\nAccording to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...\r\n\r\nIn my business logic I have a few Micrometer counters (`` Counter metricCounter = Metrics.counter(&quot;metric-name&quot;); ``) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that *all* Spring Boot metrics are gathered under the Custom Namespace ``azure.applicationinsights``. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?\r\n\r\nIn C# equivalent apps, we&#39;ve used ``new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}`` to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.\r\n","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Is there a way to change the <em>Custom Namespace</em> name in a Spring Boot app when using MS Application Insights?</p>\n<p>I have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\n        &lt;version&gt;3.4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have the insights config set as Application config, specifically these:</p>\n<ul>\n<li>APPINSIGHTS_INSTRUMENTATIONKEY</li>\n<li>APPLICATIONINSIGHTS_CONNECTION_STRING</li>\n<li>APPLICATIONINSIGHTS_ROLE_NAME</li>\n<li>ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)</li>\n</ul>\n<p>According to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...</p>\n<p>In my business logic I have a few Micrometer counters (<code>Counter metricCounter = Metrics.counter(&quot;metric-name&quot;);</code>) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that <em>all</em> Spring Boot metrics are gathered under the Custom Namespace <code>azure.applicationinsights</code>. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?</p>\n<p>In C# equivalent apps, we've used <code>new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}</code> to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.</p>\n"},{"tags":["java","spring","file","java-io"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683918533,"post_id":76239135,"comment_id":134445701,"body_markdown":"There is no SQL anywhere in your question.","body":"There is no SQL anywhere in your question."},{"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"score":0,"creation_date":1683976309,"post_id":76239135,"comment_id":134451069,"body_markdown":"Sorry. Let me edit that","body":"Sorry. Let me edit that"}],"answers":[{"tags":[],"owner":{"account_id":23062580,"reputation":41,"user_id":17177536,"display_name":"Nicolas Francisco Corvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683918761,"creation_date":1683918761,"answer_id":76239311,"question_id":76239135,"body_markdown":"You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:\r\n\r\n```\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\n\r\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\r\nSlice&lt;Data&gt; dataList = null;\r\ndo {\r\n    dataList = dataRepository.findAll(request);\r\n    for(Data data: dataList){\r\n        bw.write(data.toString());\r\n    }\r\n    request = request.next(); //turn the page\r\n   \r\n} while(dataList.hasNext());\r\n```\r\ndataList.hasNext() will return false when no data is left to retrieve and will exit the do while\r\n","title":"Optimize read and file write","body":"<p>You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:</p>\n<pre><code>FileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\n\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\nSlice&lt;Data&gt; dataList = null;\ndo {\n    dataList = dataRepository.findAll(request);\n    for(Data data: dataList){\n        bw.write(data.toString());\n    }\n    request = request.next(); //turn the page\n   \n} while(dataList.hasNext());\n</code></pre>\n<p>dataList.hasNext() will return false when no data is left to retrieve and will exit the do while</p>\n"}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76239311,"answer_count":1,"score":-3,"last_activity_date":1683976145,"creation_date":1683917003,"question_id":76239135,"body_markdown":"I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let&#39;s say, I will only read 100k+ data first before writing it. \r\n\r\nBy the way, I don&#39;t have an option to use Spring Batch.\r\n\r\n\r\n\r\n```\r\nList&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\r\n\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\nfor(Data data: dataList){\r\n        bw.write(data.toString()); // I need to write the data in the file incrementally\r\n}\r\n\r\n\r\n\r\n```  ","title":"Optimize read and file write","body":"<p>I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let's say, I will only read 100k+ data first before writing it.</p>\n<p>By the way, I don't have an option to use Spring Batch.</p>\n<pre><code>List&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\n\nFileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\nfor(Data data: dataList){\n        bw.write(data.toString()); // I need to write the data in the file incrementally\n}\n\n\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681128836,"creation_date":1681128836,"answer_id":75977021,"question_id":75976696,"body_markdown":"You can&#39;t get view&#39;s id with string type.If you call view.getId(),it&#39;ll return an Integer value.\r\n\r\ntry this\r\n\r\n    if(view.getId() == R.id.team1AddButton){\r\n            \r\n    }else if(view.getId() == R.id.team1SubButton){\r\n            \r\n    }\r\n\r\n","title":"How do I check if an ID contains a certain phrase?","body":"<p>You can't get view's id with string type.If you call view.getId(),it'll return an Integer value.</p>\n<p>try this</p>\n<pre><code>if(view.getId() == R.id.team1AddButton){\n        \n}else if(view.getId() == R.id.team1SubButton){\n        \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"score":0,"creation_date":1681817205,"post_id":75978099,"comment_id":134114408,"body_markdown":"when I run line 2 and then log `resourceName`, I get the number &quot;2131361815&quot;.  I should get team1AddButton, right?","body":"when I run line 2 and then log <code>resourceName</code>, I get the number &quot;2131361815&quot;.  I should get team1AddButton, right?"},{"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"score":0,"creation_date":1681876204,"post_id":75978099,"comment_id":134125846,"body_markdown":"You should get: **yourPackageName:id/team1AddButton** If we assume that your package name is com.example.app then resource name should be: **com.example.app/id:team1AddButton** I have checked twice and result is like this","body":"You should get: <b>yourPackageName:id/team1AddButton</b> If we assume that your package name is com.example.app then resource name should be: <b>com.example.app/id:team1AddButton</b> I have checked twice and result is like this"},{"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"score":0,"creation_date":1681902080,"post_id":75978099,"comment_id":134130804,"body_markdown":"I had the second bit of code used &#128517; it&#39;s working now!","body":"I had the second bit of code used  it&#39;s working now!"}],"tags":[],"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683976075,"creation_date":1681138033,"answer_id":75978099,"question_id":75976696,"body_markdown":"Here is what are you looking for:\r\n\r\n    public void addScore(View v) {\r\n        String resourceName = getResources().getResourceName(v.getId());\r\n        String[] parts = resourceName.split(&quot;/&quot;);\r\n        String result = parts[parts.length - 1];\r\n        \r\n        if (result.contains(&quot;team1&quot;)) {\r\n            //..\r\n        }\r\n    }\r\nresourceName value will be like: `packageName:id/team1AddButton`\r\n\r\nSo if we split the string by &quot;/&quot; and take the last part, we get the result. \r\n\r\nor\r\n\r\n    public void addScore(View v) {\r\n       String resourceName = getResources().getResourceName(v.getId());\r\n\r\n       if (resourceName.contains(&quot;team1&quot;)) {\r\n           //..\r\n       }\r\n    }\r\nIf exact resourceName doesn&#39;t required then just check if contains or not. \r\n\r\n   \r\nHope it helps!","title":"How do I check if an ID contains a certain phrase?","body":"<p>Here is what are you looking for:</p>\n<pre><code>public void addScore(View v) {\n    String resourceName = getResources().getResourceName(v.getId());\n    String[] parts = resourceName.split(&quot;/&quot;);\n    String result = parts[parts.length - 1];\n    \n    if (result.contains(&quot;team1&quot;)) {\n        //..\n    }\n}\n</code></pre>\n<p>resourceName value will be like: <code>packageName:id/team1AddButton</code></p>\n<p>So if we split the string by &quot;/&quot; and take the last part, we get the result.</p>\n<p>or</p>\n<pre><code>public void addScore(View v) {\n   String resourceName = getResources().getResourceName(v.getId());\n\n   if (resourceName.contains(&quot;team1&quot;)) {\n       //..\n   }\n}\n</code></pre>\n<p>If exact resourceName doesn't required then just check if contains or not.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75978099,"answer_count":2,"score":1,"last_activity_date":1683976075,"creation_date":1681126152,"question_id":75976696,"body_markdown":"I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button&#39;s `onClick` to `addScore` or `subScore`. Each button&#39;s ID contains something such as `android:@+id/team1AddButton`. I need to check in the `onClick` which team is being affected for both `onClick`s.\r\n\r\nThe button code is simple (removed most formatting code):\r\n\r\n```\r\n&lt;Button\r\n           android:id=&quot;@+id/team1AddButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;+&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n\r\n&lt;Button\r\n           android:id=&quot;@+id/team1SubButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;-&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n```\r\n\r\nThe Java code is what I&#39;m having trouble with.\r\n\r\n```\r\npublic void addScore(View v) {\r\n        if (v.getId().toString().contains(&quot;team1&quot;));\r\n\r\n    }\r\n```","title":"How do I check if an ID contains a certain phrase?","body":"<p>I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button's <code>onClick</code> to <code>addScore</code> or <code>subScore</code>. Each button's ID contains something such as <code>android:@+id/team1AddButton</code>. I need to check in the <code>onClick</code> which team is being affected for both <code>onClick</code>s.</p>\n<p>The button code is simple (removed most formatting code):</p>\n<pre><code>&lt;Button\n           android:id=&quot;@+id/team1AddButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;+&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n\n&lt;Button\n           android:id=&quot;@+id/team1SubButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;-&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n</code></pre>\n<p>The Java code is what I'm having trouble with.</p>\n<pre><code>public void addScore(View v) {\n        if (v.getId().toString().contains(&quot;team1&quot;));\n\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","mobile"],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683975786,"creation_date":1683975706,"question_id":76242376,"body_markdown":"I am using selenium 4.9.1 and cucumber 7.12.0.\r\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\r\n  (failed to check if window was closed: disconnected: not connected to DevTools)\r\n  (Session info: chrome=113.0.5672.93)\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\r\n\tat stepDefs.Hook.afterTest(Hook.java:112)\r\n```\r\n\r\nBefore method \r\n\r\n```\r\n@Before(&quot;@mobile&quot;)\r\npublic void beforeMobile(Scenario scenario) {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\r\n    devTools.createSession();\r\n    Map deviceMetrics = new HashMap()\r\n    {{\r\n        put(&quot;width&quot;, 480);\r\n        put(&quot;height&quot;, 640);\r\n        put(&quot;mobile&quot;, true);\r\n        put(&quot;deviceScaleFactor&quot;, 50);\r\n    }};\r\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\r\n\r\n}\r\n```\r\n\r\nAfter method \r\n\r\n```\r\n@After\r\npublic void afterTest(Scenario scenario) throws IOException {\r\n    if (scenario.isFailed()) {\r\n\r\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\r\n}\r\n```\r\n\r\nDo you know how to solve this ? Thank you","title":"Java selenium - mobile eumlation screenshot - error &quot;not connected to DevTools&quot;","body":"<p>I am using selenium 4.9.1 and cucumber 7.12.0.\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.</p>\n<pre><code>org.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\n  (failed to check if window was closed: disconnected: not connected to DevTools)\n  (Session info: chrome=113.0.5672.93)\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.16'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n    at org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\n    at stepDefs.Hook.afterTest(Hook.java:112)\n</code></pre>\n<p>Before method</p>\n<pre><code>@Before(&quot;@mobile&quot;)\npublic void beforeMobile(Scenario scenario) {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\n    devTools.createSession();\n    Map deviceMetrics = new HashMap()\n    {{\n        put(&quot;width&quot;, 480);\n        put(&quot;height&quot;, 640);\n        put(&quot;mobile&quot;, true);\n        put(&quot;deviceScaleFactor&quot;, 50);\n    }};\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\n\n}\n</code></pre>\n<p>After method</p>\n<pre><code>@After\npublic void afterTest(Scenario scenario) throws IOException {\n    if (scenario.isFailed()) {\n\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\n}\n</code></pre>\n<p>Do you know how to solve this ? Thank you</p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1287030193,"post_id":3927091,"comment_id":4193359,"body_markdown":"Show us the mapping, the code, and the original error.","body":"Show us the mapping, the code, and the original error."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1596539656,"post_id":3927091,"comment_id":111837261,"body_markdown":"Does this answer your question? [hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?](https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without\">hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?</a>"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1286997019,"creation_date":1286997019,"answer_id":3927137,"question_id":3927091,"body_markdown":"in your setChilds, you might want to try looping thru the list and doing something like\r\n\r\n    child.parent = this;\r\n\r\nyou also should set up the cascade on the parent to the appropriate values.","title":"Save child objects automatically using JPA Hibernate","body":"<p>in your setChilds, you might want to try looping thru the list and doing something like</p>\n\n<pre><code>child.parent = this;\n</code></pre>\n\n<p>you also should set up the cascade on the parent to the appropriate values.</p>\n"},{"comments":[{"owner":{"account_id":1168577,"reputation":101,"user_id":1146301,"display_name":"masterziv"},"score":0,"creation_date":1352382145,"post_id":3930071,"comment_id":18120285,"body_markdown":"True, default cascade behavior is just NOTHING.","body":"True, default cascade behavior is just NOTHING."},{"owner":{"account_id":1524489,"reputation":2398,"user_id":1423259,"accept_rate":59,"display_name":"tommueller"},"score":11,"creation_date":1360324769,"post_id":3930071,"comment_id":20679004,"body_markdown":"I think it should be `@OneToMany(cascade = CascadeType.ALL)`, insert does not exist!","body":"I think it should be <code>@OneToMany(cascade = CascadeType.ALL)</code>, insert does not exist!"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1360720812,"post_id":3930071,"comment_id":20804895,"body_markdown":"newnoise: I&#39;m not in-touch with Hibernate these days. But that time, it was one of the option available.","body":"newnoise: I&#39;m not in-touch with Hibernate these days. But that time, it was one of the option available."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":3,"creation_date":1366187971,"post_id":3930071,"comment_id":22911116,"body_markdown":"`CascadeType.INSERT` is replaced by `CascadeType.PERSIST`.","body":"<code>CascadeType.INSERT</code> is replaced by <code>CascadeType.PERSIST</code>."},{"owner":{"account_id":7913261,"reputation":1438,"user_id":5976604,"accept_rate":21,"display_name":"Jelle den Burger"},"score":0,"creation_date":1478531892,"post_id":3930071,"comment_id":68181385,"body_markdown":"I tried to use `CascadeType.PERSIST`. It didn&#39;t work. Replacing it with `CascadeType.ALL` fixed the problem.","body":"I tried to use <code>CascadeType.PERSIST</code>. It didn&#39;t work. Replacing it with <code>CascadeType.ALL</code> fixed the problem."}],"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"comment_count":5,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1366187963,"creation_date":1287030085,"answer_id":3930071,"question_id":3927091,"body_markdown":"I believe you need to set the cascade option in your mapping via xml/annotation. Refer to [Hibernate reference example here][1].\r\n\r\nIn case you are using annotation, you need to do something like this,\r\n\r\n    @OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html","title":"Save child objects automatically using JPA Hibernate","body":"<p>I believe you need to set the cascade option in your mapping via xml/annotation. Refer to <a href=\"http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html\" rel=\"noreferrer\">Hibernate reference example here</a>.</p>\n\n<p>In case you are using annotation, you need to do something like this,</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213165,"reputation":4611,"user_id":466410,"accept_rate":78,"display_name":"Marquinio"},"score":2,"creation_date":1287337324,"post_id":3937867,"comment_id":4225285,"body_markdown":"Yeah my problem was that I actually wanted a uni-directional mapping, but instead had something like a bi-directional mapping.  Problem was that I had the foreign key mapped in the Child table.  So I removed it from Child table and it worked. I used @OneToMany and @JoinColumn in the parent table. Thanks.","body":"Yeah my problem was that I actually wanted a uni-directional mapping, but instead had something like a bi-directional mapping.  Problem was that I had the foreign key mapped in the Child table.  So I removed it from Child table and it worked. I used @OneToMany and @JoinColumn in the parent table. Thanks."},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":0,"creation_date":1493732733,"post_id":3937867,"comment_id":74521881,"body_markdown":"@pascal  Great explanation ! Thanks Pascal. I understand that while setting from the Parent side you need to do the above. But if we set from the child side, is the following sufficient child.setParent(parent) ?","body":"@pascal  Great explanation ! Thanks Pascal. I understand that while setting from the Parent side you need to do the above. But if we set from the child side, is the following sufficient child.setParent(parent) ?"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1615894044,"post_id":3937867,"comment_id":117827440,"body_markdown":"Yeah, I call this the &quot;reciprocal&quot; relationship...in my code.  Another way to handle it is... just before a .save (at jpa layer) is.. &quot;ensure reciprocal&quot; via a last ditch check.","body":"Yeah, I call this the &quot;reciprocal&quot; relationship...in my code.  Another way to handle it is... just before a .save (at jpa layer) is.. &quot;ensure reciprocal&quot; via a last ditch check."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1615894338,"post_id":3937867,"comment_id":117827590,"body_markdown":"private Collection&lt;MyParentJpaEntity&gt; ensureReciprocal(Collection&lt;MyParentJpaEntity&gt; inputItems) {\n        Collection&lt;MyParentJpaEntity&gt; returnItems = null;\n        if (null != inputItems) {\n            returnItems = inputItems;","body":"private Collection&lt;MyParentJpaEntity&gt; ensureReciprocal(Collection&lt;MyParentJpaEntity&gt; inputItems) {         Collection&lt;MyParentJpaEntity&gt; returnItems = null;         if (null != inputItems) {             returnItems = inputItems;"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1615894356,"post_id":3937867,"comment_id":117827600,"body_markdown":"returnItems.parallelStream().forEach((par) -&gt; {\n\n                if (null != par.getMyChilds()) {\n                    for (MyChildJpaEntity chd : par.getMyChilds()) {\n                        if (null == detail.getParentMyParentJpaEntity()) {\n                            /* jpa does not like empty &quot;reciprocal&quot; relationship.  missing reciprocal will sometimes show up as no surrogate-key-persist on the child entity */","body":"returnItems.parallelStream().forEach((par) -&gt; {                  if (null != par.getMyChilds()) {                     for (MyChildJpaEntity chd : par.getMyChilds()) {                         if (null == detail.getParentMyParentJpaEntity()) {                             /* jpa does not like empty &quot;reciprocal&quot; relationship.  missing reciprocal will sometimes show up as no surrogate-key-persist on the child entity */"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1615894359,"post_id":3937867,"comment_id":117827601,"body_markdown":"chd.setParentMyParentJpaEntity(par);\n                        }\n                    }\n                }\n            });\n        }\n\n        return returnItems;\n    }","body":"chd.setParentMyParentJpaEntity(par);                         }                     }                 }             });         }          return returnItems;     }"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1615900598,"post_id":3937867,"comment_id":117830532,"body_markdown":"So between my non code comments is code you can consider (3 comments total, i kept hitting max character limit)","body":"So between my non code comments is code you can consider (3 comments total, i kept hitting max character limit)"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":7,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1589564391,"creation_date":1287092889,"answer_id":3937867,"question_id":3927091,"body_markdown":"&gt; I tried the above but I&#39;m getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?\r\n\r\nWell, there are two things here. \r\n\r\nFirst, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn&#39;t get a FK constraint violation during inserts in the &quot;child&quot; table) \r\n\r\nSecond, you probably have a bidirectional association and I think that you&#39;re not setting &quot;both sides of the link&quot; correctly. You are supposed to do something like this:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n\r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChildren(children);\r\n\r\n    session.save(parent);\r\n\r\nA common pattern is to use link management methods:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id private Long id;\r\n    \r\n        @OneToMany(mappedBy=&quot;parent&quot;)\r\n        private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n        \r\n        ...\r\n\r\n        protected void setChildren(List&lt;Child&gt; children) {\r\n            this.children = children;\r\n        }\r\n    \r\n        public void addToChildren(Child child) {\r\n            child.setParent(this);\r\n            this.children.add(child);\r\n        }\r\n    }\r\n\r\nAnd the code becomes:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n\r\n    parent.addToChildren(c1);\r\n\r\n    session.save(parent);\r\n\r\n\r\n###### References \r\n\r\n- Hibernate Core Reference Guide\r\n - [1.2.6. Working bi-directional links][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir","title":"Save child objects automatically using JPA Hibernate","body":"<blockquote>\n  <p>I tried the above but I'm getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n</blockquote>\n\n<p>Well, there are two things here. </p>\n\n<p>First, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn't get a FK constraint violation during inserts in the \"child\" table) </p>\n\n<p>Second, you probably have a bidirectional association and I think that you're not setting \"both sides of the link\" correctly. You are supposed to do something like this:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChildren(children);\n\nsession.save(parent);\n</code></pre>\n\n<p>A common pattern is to use link management methods:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id private Long id;\n\n    @OneToMany(mappedBy=\"parent\")\n    private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\n\n    ...\n\n    protected void setChildren(List&lt;Child&gt; children) {\n        this.children = children;\n    }\n\n    public void addToChildren(Child child) {\n        child.setParent(this);\n        this.children.add(child);\n    }\n}\n</code></pre>\n\n<p>And the code becomes:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\n\nparent.addToChildren(c1);\n\nsession.save(parent);\n</code></pre>\n\nReferences\n\n<ul>\n<li>Hibernate Core Reference Guide\n\n<ul>\n<li><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir\" rel=\"noreferrer\">1.2.6. Working bi-directional links</a></li>\n</ul></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8998435,"reputation":117,"user_id":6707871,"display_name":"Yusuf"},"score":0,"creation_date":1532091839,"post_id":39407955,"comment_id":89856172,"body_markdown":"can u please share the code of saving it in configuration","body":"can u please share the code of saving it in configuration"}],"tags":[],"owner":{"account_id":3385608,"reputation":5527,"user_id":2841630,"accept_rate":24,"display_name":"Sunil Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473412385,"creation_date":1473412385,"answer_id":39407955,"question_id":3927091,"body_markdown":"**Here are the ways to assign parent object in child object of Bi-directional relations ?**\r\n\r\nSuppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\r\nIn bi-directional relations,each child object will have reference to its parent.\r\n\r\n    eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\r\n\r\nTo achieve this, **one way** is to assign parent in child object while persisting parent object\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n    \r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChilds(children);\r\n    \r\n    session.save(parent);\r\n\r\n\r\n**Other way** is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.\r\n\r\nHibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.\r\n\r\n    public class CustomEntityInterceptor extends EmptyInterceptor {\r\n    \r\n        @Override\r\n        public boolean onSave(\r\n                final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\r\n                final Type[] types) {\r\n            if (types != null) {\r\n                for (int i = 0; i &lt; types.length; i++) {\r\n                    if (types[i].isCollectionType()) {\r\n                        String propertyName = propertyNames[i];\r\n                        propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\r\n                        try {\r\n                            Method method = entity.getClass().getMethod(&quot;get&quot; + propertyName);\r\n                            List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\r\n    \r\n                            if (objectList != null) {\r\n                                for (Object object : objectList) {\r\n                                    String entityName = entity.getClass().getSimpleName();\r\n                                    Method eachMethod = object.getClass().getMethod(&quot;set&quot; + entityName, entity.getClass());\r\n                                    eachMethod.invoke(object, entity);\r\n                                }\r\n                            }\r\n    \r\n                        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nAnd you can register Intercepter to configuration as\r\n\r\n    new Configuration().setInterceptor( new CustomEntityInterceptor() );","title":"Save child objects automatically using JPA Hibernate","body":"<p><strong>Here are the ways to assign parent object in child object of Bi-directional relations ?</strong></p>\n\n<p>Suppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\nIn bi-directional relations,each child object will have reference to its parent.</p>\n\n<pre><code>eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\n</code></pre>\n\n<p>To achieve this, <strong>one way</strong> is to assign parent in child object while persisting parent object</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChilds(children);\n\nsession.save(parent);\n</code></pre>\n\n<p><strong>Other way</strong> is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.</p>\n\n<p>Hibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.</p>\n\n<pre><code>public class CustomEntityInterceptor extends EmptyInterceptor {\n\n    @Override\n    public boolean onSave(\n            final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\n            final Type[] types) {\n        if (types != null) {\n            for (int i = 0; i &lt; types.length; i++) {\n                if (types[i].isCollectionType()) {\n                    String propertyName = propertyNames[i];\n                    propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\n                    try {\n                        Method method = entity.getClass().getMethod(\"get\" + propertyName);\n                        List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\n\n                        if (objectList != null) {\n                            for (Object object : objectList) {\n                                String entityName = entity.getClass().getSimpleName();\n                                Method eachMethod = object.getClass().getMethod(\"set\" + entityName, entity.getClass());\n                                eachMethod.invoke(object, entity);\n                            }\n                        }\n\n                    } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>And you can register Intercepter to configuration as</p>\n\n<pre><code>new Configuration().setInterceptor( new CustomEntityInterceptor() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997008,"reputation":19,"user_id":7394282,"display_name":"sandhya nayak"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488522931,"creation_date":1488522605,"answer_id":42572125,"question_id":3927091,"body_markdown":"Use `org.hibernate.annotations` for doing `Cascade` , if the `hibernate` and `JPA` are used together , its somehow complaining on saving the child objects.","title":"Save child objects automatically using JPA Hibernate","body":"<p>Use <code>org.hibernate.annotations</code> for doing <code>Cascade</code> , if the <code>hibernate</code> and <code>JPA</code> are used together , its somehow complaining on saving the child objects.</p>\n"},{"comments":[{"owner":{"account_id":11010766,"reputation":1355,"user_id":8088208,"accept_rate":75,"display_name":"UmarZaii"},"score":2,"creation_date":1502210159,"post_id":45573323,"comment_id":78106786,"body_markdown":"Please elaborate your answer so that asker know how and why your answer works.","body":"Please elaborate your answer so that asker know how and why your answer works."},{"owner":{"account_id":11668471,"reputation":194,"user_id":8544429,"accept_rate":83,"display_name":"Tarunjeet Singh Salh"},"score":0,"creation_date":1602505382,"post_id":45573323,"comment_id":113732980,"body_markdown":"It will insert 1 client and then 3 SMS Numbers and after that it will update fk of 3 SMS numbers. This is not good for performace. Use LinkManagement in Bidrectional","body":"It will insert 1 client and then 3 SMS Numbers and after that it will update fk of 3 SMS numbers. This is not good for performace. Use LinkManagement in Bidrectional"},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":1,"creation_date":1648158496,"post_id":45573323,"comment_id":126560891,"body_markdown":"A list of entities cannot be the `@Id`.","body":"A list of entities cannot be the <code>@Id</code>."}],"tags":[],"owner":{"account_id":11210394,"reputation":189,"user_id":8224617,"accept_rate":100,"display_name":"shriram"},"comment_count":3,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1580709940,"creation_date":1502208964,"answer_id":45573323,"question_id":3927091,"body_markdown":"Following program describe how bidirectional relation work in hibernate.\r\n\r\nWhen parent will save its list of child object will be auto save.\r\n         \r\nOn Parent side:\r\n```\r\n    @Entity\r\n    @Table(name=&quot;clients&quot;)\r\n    public class Clients implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \r\n         @OneToMany(mappedBy=&quot;clients&quot;, cascade=CascadeType.ALL)\r\n          List&lt;SmsNumbers&gt; smsNumbers;\r\n    }\r\n```\r\n\r\nAnd put the following annotation on the child side:\r\n\r\n  ```   \r\n    @Entity\r\n    @Table(name=&quot;smsnumbers&quot;)\r\n    public class SmsNumbers implements Serializable {\r\n\t   \r\n       @Id\r\n\t   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   int id;\r\n\t   String number;\r\n\t   String status;\r\n\t   Date reg_date;\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;client_id&quot;)\r\n       private Clients clients;\r\n\r\n      // and getter setter.\r\n\r\n   }\r\n```\r\n\r\nMain class:\r\n```\r\n public static void main(String arr[])\r\n {\r\n    Session session = HibernateUtil.openSession();\r\n\t  //getting transaction object from session object\r\n\tsession.beginTransaction();\r\n\r\n    Clients cl=new Clients(&quot;Murali&quot;, &quot;1010101010&quot;);\r\n\tSmsNumbers sms1=new SmsNumbers(&quot;99999&quot;, &quot;Active&quot;, cl);\r\n\tSmsNumbers sms2=new SmsNumbers(&quot;88888&quot;, &quot;InActive&quot;, cl);\r\n\tSmsNumbers sms3=new SmsNumbers(&quot;77777&quot;, &quot;Active&quot;, cl);\r\n\tList&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\r\n\tlstSmsNumbers.add(sms1);\r\n\tlstSmsNumbers.add(sms2);\r\n\tlstSmsNumbers.add(sms3);\r\n\tcl.setSmsNumbers(lstSmsNumbers);\r\n\tsession.saveOrUpdate(cl);\r\n    session.getTransaction().commit(); \r\n    session.close();\t\r\n\r\n }\r\n```","title":"Save child objects automatically using JPA Hibernate","body":"<p>Following program describe how bidirectional relation work in hibernate.</p>\n\n<p>When parent will save its list of child object will be auto save.</p>\n\n<p>On Parent side:</p>\n\n<pre><code>    @Entity\n    @Table(name=\"clients\")\n    public class Clients implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \n         @OneToMany(mappedBy=\"clients\", cascade=CascadeType.ALL)\n          List&lt;SmsNumbers&gt; smsNumbers;\n    }\n</code></pre>\n\n<p>And put the following annotation on the child side:</p>\n\n<pre><code>  @Entity\n  @Table(name=\"smsnumbers\")\n  public class SmsNumbers implements Serializable {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\n     int id;\n     String number;\n     String status;\n     Date reg_date;\n     @ManyToOne\n     @JoinColumn(name = \"client_id\")\n     private Clients clients;\n\n    // and getter setter.\n\n }\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code> public static void main(String arr[])\n {\n    Session session = HibernateUtil.openSession();\n      //getting transaction object from session object\n    session.beginTransaction();\n\n    Clients cl=new Clients(\"Murali\", \"1010101010\");\n    SmsNumbers sms1=new SmsNumbers(\"99999\", \"Active\", cl);\n    SmsNumbers sms2=new SmsNumbers(\"88888\", \"InActive\", cl);\n    SmsNumbers sms3=new SmsNumbers(\"77777\", \"Active\", cl);\n    List&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\n    lstSmsNumbers.add(sms1);\n    lstSmsNumbers.add(sms2);\n    lstSmsNumbers.add(sms3);\n    cl.setSmsNumbers(lstSmsNumbers);\n    session.saveOrUpdate(cl);\n    session.getTransaction().commit(); \n    session.close();    \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521550647,"creation_date":1521550647,"answer_id":49384841,"question_id":3927091,"body_markdown":"In short set cascade type to all , will do a job;\r\nFor an example in your model.\r\nAdd Code like this .\r\n @OneToMany(mappedBy = &quot;receipt&quot;, cascade=CascadeType.ALL)\r\n private List&lt;Sale&gt; saleSet;\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>In short set cascade type to all , will do a job;\nFor an example in your model.\nAdd Code like this .\n @OneToMany(mappedBy = \"receipt\", cascade=CascadeType.ALL)\n private List saleSet;</p>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626378059,"creation_date":1626378059,"answer_id":68399953,"question_id":3927091,"body_markdown":"If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.\r\n\r\n**Note:**  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , **check the ids in your request and child table which your are going to update(they should match/if they don&#39;t means you get FK violations)** whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.\r\n\r\nParent:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Customer&quot;)\r\n    public class Customer implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n         private UUID customerId ;\r\n         \r\n         @OneToMany(cascade = CascadeType.ALL) \r\n         @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \r\n                    &quot;parent_columnName&quot;)\r\n         List&lt;Accounts&gt; accountList;\r\n    }\r\n\r\n\r\nChild :\r\n\r\n   \r\n\r\n     @Entity\r\n        @Table(name=&quot;Account&quot;)\r\n        public class Account implements Serializable  {\r\n    \r\n             @Id\r\n             @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n             private UUID accountid;\r\n             \r\n            \r\n        }\r\n\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.</p>\n<p><strong>Note:</strong>  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , <strong>check the ids in your request and child table which your are going to update(they should match/if they don't means you get FK violations)</strong> whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.</p>\n<p>Parent:</p>\n<pre><code>@Entity\n@Table(name=&quot;Customer&quot;)\npublic class Customer implements Serializable  {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)  \n     private UUID customerId ;\n     \n     @OneToMany(cascade = CascadeType.ALL) \n     @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \n                &quot;parent_columnName&quot;)\n     List&lt;Accounts&gt; accountList;\n}\n</code></pre>\n<p>Child :</p>\n<pre><code> @Entity\n    @Table(name=&quot;Account&quot;)\n    public class Account implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \n         private UUID accountid;\n         \n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630680043,"creation_date":1630680043,"answer_id":69046726,"question_id":3927091,"body_markdown":"In JPA ```@*To*``` relationships  both parent and child entities must be cross assigned before (parent) saving.","title":"Save child objects automatically using JPA Hibernate","body":"<p>In JPA <code>@*To*</code> relationships  both parent and child entities must be cross assigned before (parent) saving.</p>\n"},{"tags":[],"owner":{"account_id":21959529,"reputation":73,"user_id":16237620,"display_name":"Rafa Borkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683974002,"creation_date":1683974002,"answer_id":76242258,"question_id":3927091,"body_markdown":"I saw very useful tip for assigning parent to any child in bidirectional connections. If you don&#39;t want to use `child.setParent(parent)` every time, you can create method in your parent entity with annotation `@PrePersist` which is one of JPA Entity Lifecycle Events and there you can define `this.children.forEach(child -&gt; child.setParent(this));` which will create this required connection between parent and children before persisting it in db. ","title":"Save child objects automatically using JPA Hibernate","body":"<p>I saw very useful tip for assigning parent to any child in bidirectional connections. If you don't want to use <code>child.setParent(parent)</code> every time, you can create method in your parent entity with annotation <code>@PrePersist</code> which is one of JPA Entity Lifecycle Events and there you can define <code>this.children.forEach(child -&gt; child.setParent(this));</code> which will create this required connection between parent and children before persisting it in db.</p>\n"}],"owner":{"account_id":213165,"reputation":4611,"user_id":466410,"accept_rate":78,"display_name":"Marquinio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175768,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":3937867,"answer_count":10,"score":89,"last_activity_date":1683974002,"creation_date":1286996680,"question_id":3927091,"body_markdown":"I have a one-to-many relation between Parent and Child table.  In the parent object I have a \r\n\r\n    List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\r\n\r\nI also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\r\nAlso this foreign key is the primary key in the Parent table.\r\n\r\nSo my question is how I can automatically save the children objects by doing something like this:\r\n\r\n    session.save(parent);\r\n\r\nI tried the above but I&#39;m getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?","title":"Save child objects automatically using JPA Hibernate","body":"<p>I have a one-to-many relation between Parent and Child table.  In the parent object I have a</p>\n<pre><code>List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\n</code></pre>\n<p>I also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\nAlso this foreign key is the primary key in the Parent table.</p>\n<p>So my question is how I can automatically save the children objects by doing something like this:</p>\n<pre><code>session.save(parent);\n</code></pre>\n<p>I tried the above but I'm getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n"},{"tags":["java","gradle","apache-kafka","dependencies"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637587104,"post_id":70066296,"comment_id":123858225,"body_markdown":"Try a different version?","body":"Try a different version?"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1637587390,"post_id":70066296,"comment_id":123858330,"body_markdown":"@OneCricketeer different version of what? gradle? dependencies?","body":"@OneCricketeer different version of what? gradle? dependencies?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637588343,"post_id":70066296,"comment_id":123858732,"body_markdown":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom","body":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. <a href=\"https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom\" rel=\"nofollow noreferrer\">packages.confluent.io/maven/io/confluent/kafka-avro-serializ&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637598563,"creation_date":1637598563,"answer_id":70069148,"question_id":70066296,"body_markdown":"The firewall in the cloud was blocking the requests. For some reason they were classified not as `http`, but as `confluent` requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don&#39;t know where this app comes from, but ...\r\nEnabling those requests solved the issue.","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>The firewall in the cloud was blocking the requests. For some reason they were classified not as <code>http</code>, but as <code>confluent</code> requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don't know where this app comes from, but ...\nEnabling those requests solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":5640275,"reputation":379,"user_id":4464360,"accept_rate":75,"display_name":"Abhijeet Kale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683973393,"creation_date":1683973393,"answer_id":76242232,"question_id":70066296,"body_markdown":"    Include below repository in your pom.xml file\r\n    \r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;confluent&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<pre><code>Include below repository in your pom.xml file\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70069148,"answer_count":2,"score":0,"last_activity_date":1683973393,"creation_date":1637586625,"question_id":70066296,"body_markdown":"Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:\r\n\r\n```\r\nWelcome to Gradle 6.7.1!\r\nHere are the highlights of this release:\r\n - File system watching is ready for production use\r\n - Declare the version of Java your build requires\r\n - Java 15 support\r\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :compileJava FAILED\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n```\r\n\r\nMost resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;http://packages.confluent.io/maven/&quot;\r\n    }\r\n}\r\n```\r\nI tried both http and https. Neither changed anything in the cloud.\r\n\r\nI tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:\r\n\r\n```\r\n\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.3.2&#39;\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-schema-registry-client&#39;, version: &#39;5.3.2&#39;\r\n```\r\n\r\nWhat could be the Issue? How to best approach this Problem?","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:</p>\n<pre><code>Welcome to Gradle 6.7.1!\nHere are the highlights of this release:\n - File system watching is ready for production use\n - Declare the version of Java your build requires\n - Java 15 support\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :compileJava FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n               &gt; Connection reset\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n               &gt; Connection reset\n</code></pre>\n<p>Most resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;http://packages.confluent.io/maven/&quot;\n    }\n}\n</code></pre>\n<p>I tried both http and https. Neither changed anything in the cloud.</p>\n<p>I tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:</p>\n<pre><code>\n    implementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.3.2'\n    implementation group: 'io.confluent', name: 'kafka-schema-registry-client', version: '5.3.2'\n</code></pre>\n<p>What could be the Issue? How to best approach this Problem?</p>\n"},{"tags":["java","performance","heap","cpu-cache"],"comments":[{"owner":{"account_id":8564,"reputation":235724,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"score":1,"creation_date":1683786242,"post_id":76224578,"comment_id":134420443,"body_markdown":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also.","body":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also."},{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":0,"creation_date":1683787251,"post_id":76224578,"comment_id":134420635,"body_markdown":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code.","body":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":1,"creation_date":1683788924,"post_id":76224578,"comment_id":134420922,"body_markdown":"Your benchmark is flawed. Rewrite it using JMH https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774","body":"Your benchmark is flawed. Rewrite it using JMH <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683792750,"post_id":76224578,"comment_id":134421673,"body_markdown":"You benchmark the worst case scenario for the `indexOfSlow()` method: the test data in the heap is totally ordered and therefore `indexOfSlow()` has to search through the same number of elements as `indexOf()`, but it does so in a much more complicated way. Initialize your test data with 50_000 random values.","body":"You benchmark the worst case scenario for the <code>indexOfSlow()</code> method: the test data in the heap is totally ordered and therefore <code>indexOfSlow()</code> has to search through the same number of elements as <code>indexOf()</code>, but it does so in a much more complicated way. Initialize your test data with 50_000 random values."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683796412,"post_id":76224578,"comment_id":134422506,"body_markdown":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for `peek` and O(log(N)) TC for add/remove, `indexOf` method does not make any sense.","body":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for <code>peek</code> and O(log(N)) TC for add/remove, <code>indexOf</code> method does not make any sense."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1683818514,"post_id":76224578,"comment_id":134427910,"body_markdown":"In addition to what Thomas Kl&#228;ger said, read [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/q/322715/2711488). Youve chosen the worst way to store a sequence of `int` values. An `ArrayDeque` will perform much better even though it will still have the auto-boxing overhead.","body":"In addition to what Thomas Kl&#228;ger said, read <a href=\"https://stackoverflow.com/q/322715/2711488\">When to use LinkedList over ArrayList in Java?</a>. Youve chosen the worst way to store a sequence of <code>int</code> values. An <code>ArrayDeque</code> will perform much better even though it will still have the auto-boxing overhead."}],"answers":[{"comments":[{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":0,"creation_date":1683869530,"post_id":76225415,"comment_id":134435444,"body_markdown":"Thanks. Your LinkedList argument makes a lot of sense. (In hindisght, I should have come up with the myself...) I don&#39;t quite follow your and some other commentators condemnation of all microbenchmarks that don&#39;t use JMH, even though I do like and use JMH, and for a serious test it should be used. Nevertheless, nanoTime is not not reliable per se. In fact, JMH will probably be using nanoTime under the hood.","body":"Thanks. Your LinkedList argument makes a lot of sense. (In hindisght, I should have come up with the myself...) I don&#39;t quite follow your and some other commentators condemnation of all microbenchmarks that don&#39;t use JMH, even though I do like and use JMH, and for a serious test it should be used. Nevertheless, nanoTime is not not reliable per se. In fact, JMH will probably be using nanoTime under the hood."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1683889417,"post_id":76225415,"comment_id":134439215,"body_markdown":"@EvgeniyBerezovsky The problem is not about JMH using something else than `nanoTime`. JMH helps to avoid common benchmarking pitfalls, and I see at least several of them in your hand-crafted benchmark, e.g., not mitigating dead code elimination by not consuming computation results, not doing warmup properly, and measuring OSR stubs instead of the fully optimized JIT compilation.","body":"@EvgeniyBerezovsky The problem is not about JMH using something else than <code>nanoTime</code>. JMH helps to avoid common benchmarking pitfalls, and I see at least several of them in your hand-crafted benchmark, e.g., not mitigating dead code elimination by not consuming computation results, not doing warmup properly, and measuring OSR stubs instead of the fully optimized JIT compilation."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1683792581,"creation_date":1683792581,"answer_id":76225415,"question_id":76224578,"body_markdown":"First of all, the results obtained with \r\n```java\r\nfinal long nanoBefore = System.nanoTime();\r\n//...\r\nfinal long nanoAfter = System.nanoTime();\r\n```\r\nare not reliable at all. To get reliable results you need to use JMH.\r\n\r\nSecond, in `indexOfSlow()` you use `LinkedList` which is highly ineffective.\r\n\r\nThird, in `indexOf()` you don&#39;t allocate any memory, iterating over the same list again and again. In `indexOfSlow()` you allocate a new `LinkedList` for each method invocation. This obviously costs us time and GC.\r\n\r\nFourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over `ArrayList` which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the `indexOfSlow()` on the contrary you rely on continuous `poll()`/`add()` operations. Imagine you are looking for `49733`, then for the `1`, `2`, `3` etc. values you execute both `poll()` and `add()`operation. As a result before returning the value you are looking for your `childrenToVisit` list is modified **99734** (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>First of all, the results obtained with</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long nanoBefore = System.nanoTime();\n//...\nfinal long nanoAfter = System.nanoTime();\n</code></pre>\n<p>are not reliable at all. To get reliable results you need to use JMH.</p>\n<p>Second, in <code>indexOfSlow()</code> you use <code>LinkedList</code> which is highly ineffective.</p>\n<p>Third, in <code>indexOf()</code> you don't allocate any memory, iterating over the same list again and again. In <code>indexOfSlow()</code> you allocate a new <code>LinkedList</code> for each method invocation. This obviously costs us time and GC.</p>\n<p>Fourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over <code>ArrayList</code> which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the <code>indexOfSlow()</code> on the contrary you rely on continuous <code>poll()</code>/<code>add()</code> operations. Imagine you are looking for <code>49733</code>, then for the <code>1</code>, <code>2</code>, <code>3</code> etc. values you execute both <code>poll()</code> and <code>add()</code>operation. As a result before returning the value you are looking for your <code>childrenToVisit</code> list is modified <strong>99734</strong> (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683865365,"creation_date":1683865365,"answer_id":76233106,"question_id":76224578,"body_markdown":"You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace `LinkedList` with `int[]`:\r\n\r\n```java\r\nfinal int size = list.size();\r\nif (size &lt;= 0) {\r\n    return -1;\r\n}\r\n\r\nint[] queue = new int[size];\r\nint last = 0;\r\nfor (int index = 0; index &lt;= last; index++) {\r\n    int cmp = list.get(queue[index]).compareTo(value);\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n    if (cmp &gt; 0) {\r\n        continue;\r\n    }\r\n    int right = (index + 1) * 2;\r\n    int left = right - 1;\r\n    if (left &lt; size) {\r\n        queue[++last] = left;\r\n        if (right &lt; size) {\r\n            queue[++last] = right;\r\n        }\r\n    }\r\n}\r\nreturn -1;\r\n```\r\n\r\nsince in the worst case `LinkedList` will contain `N/2` elements, such replacement is reasonable, however, that still performs worse than DFS approach:\r\n\r\n```java\r\nint indexOf(T value, int index, int size) {\r\n    if (index &gt;= size) {\r\n        return -1;\r\n    }\r\n\r\n    int cmp = list.get(index).compareTo(value);\r\n\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n\r\n    int res = -1;\r\n\r\n    if (cmp &gt; 0) {\r\n        return res;\r\n    }\r\n\r\n    int rIdx = (index + 1) * 2;\r\n    int lIdx = rIdx - 1;\r\n\r\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\r\n        return res;\r\n    }\r\n\r\n    return indexOf(value, lIdx, size);\r\n}\r\n```\r\n\r\nthe idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in `HashMap` and achieve `O(1)` TC for search operation utilising comparable amount of memory. ","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace <code>LinkedList</code> with <code>int[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int size = list.size();\nif (size &lt;= 0) {\n    return -1;\n}\n\nint[] queue = new int[size];\nint last = 0;\nfor (int index = 0; index &lt;= last; index++) {\n    int cmp = list.get(queue[index]).compareTo(value);\n    if (cmp == 0) {\n        return index;\n    }\n    if (cmp &gt; 0) {\n        continue;\n    }\n    int right = (index + 1) * 2;\n    int left = right - 1;\n    if (left &lt; size) {\n        queue[++last] = left;\n        if (right &lt; size) {\n            queue[++last] = right;\n        }\n    }\n}\nreturn -1;\n</code></pre>\n<p>since in the worst case <code>LinkedList</code> will contain <code>N/2</code> elements, such replacement is reasonable, however, that still performs worse than DFS approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int indexOf(T value, int index, int size) {\n    if (index &gt;= size) {\n        return -1;\n    }\n\n    int cmp = list.get(index).compareTo(value);\n\n    if (cmp == 0) {\n        return index;\n    }\n\n    int res = -1;\n\n    if (cmp &gt; 0) {\n        return res;\n    }\n\n    int rIdx = (index + 1) * 2;\n    int lIdx = rIdx - 1;\n\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\n        return res;\n    }\n\n    return indexOf(value, lIdx, size);\n}\n</code></pre>\n<p>the idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in <code>HashMap</code> and achieve <code>O(1)</code> TC for search operation utilising comparable amount of memory.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225415,"answer_count":2,"score":1,"last_activity_date":1683972960,"creation_date":1683785161,"question_id":76224578,"body_markdown":"In the following code, `indexOfSlow` is around 17 times slower than `indexOf` in my test cases, although the former does fewer comparison than the latter.\r\n\r\n**Why is that?**\r\n\r\n(My hunch is that the superior performance of `indexOf` is due to sequential array access which has e.g. caching benefits - but I&#39;d like to know for sure)\r\n\r\nPerformance numbers from my machine:\r\n```\r\n| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\r\n|--------------+--------------+------------------+-----------|\r\n|        10000 |           41 |              852 |        21 |\r\n|        20000 |          232 |             3387 |        15 |\r\n|        30000 |          375 |             6642 |        18 |\r\n|        40000 |          710 |            12699 |        18 |\r\n|        50000 |         1197 |            19182 |        16 |\r\n|--------------+--------------+------------------+-----------|\r\n|      average |              |                  |      17.6 |\r\n```\r\n\r\nN.B. Java&#39;s `PriorityQueue.indexOf()` is similar to my `indexOf`, so it does not try to walk the tree and stop early like my `indexOfSlow` does.\r\n\r\n```java\r\nclass Heap&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n    public static void main(String[] args) {\r\n        int elementCount = 50_000;\r\n\r\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\r\n        for (int i = 0; i &lt; elementCount; i++)\r\n            elements.add(i);\r\n\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            final var heap = new Heap&lt;Integer&gt;();\r\n            for (int i : elements)\r\n                heap.add(i);\r\n            assert heap.peek() == 0;\r\n            final long nanoBefore = System.nanoTime();\r\n            for (int i = elementCount; i &gt; 0; i--)\r\n                heap.indexOf(i - 1);\r\n//                heap.indexOfSlow(i - 1);\r\n            final long nanoAfter = System.nanoTime();\r\n            if (j &gt; 0) // discard first round as warmup\r\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\r\n        }\r\n    }\r\n\r\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    public T peek() {\r\n        return list.isEmpty() ? null : list.get(0);\r\n    }\r\n\r\n    private void siftUp(int i, T value) {\r\n        while (i &gt; 0) {\r\n            int parentI = (i - 1) / 2;\r\n            final T parentValue = list.get(parentI);\r\n            if (parentValue.compareTo(value) &lt;= 0)\r\n                return;\r\n            list.set(parentI, value);\r\n            list.set(i, parentValue);\r\n            i = parentI;\r\n        }\r\n    }\r\n\r\n    public void add(T value) {\r\n        list.add(value);\r\n        siftUp(list.size() - 1, value);\r\n    }\r\n\r\n    public int indexOf(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (value.compareTo(list.get(i)) == 0)\r\n                    return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public int indexOfSlow(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\r\n            childrenToVisit.add(0);\r\n            while (!childrenToVisit.isEmpty()) {\r\n                int i = childrenToVisit.poll();\r\n                final int cmp = list.get(i).compareTo(value);\r\n                if (cmp == 0)\r\n                    return i;\r\n                if (cmp &gt; 0)\r\n                    continue;\r\n                int rightChildIdx = (i + 1) * 2;\r\n                int leftChildIdx = rightChildIdx - 1;\r\n                if (leftChildIdx &lt; size)\r\n                    childrenToVisit.add(leftChildIdx);\r\n                if (rightChildIdx &lt; size)\r\n                    childrenToVisit.add(rightChildIdx);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>In the following code, <code>indexOfSlow</code> is around 17 times slower than <code>indexOf</code> in my test cases, although the former does fewer comparison than the latter.</p>\n<p><strong>Why is that?</strong></p>\n<p>(My hunch is that the superior performance of <code>indexOf</code> is due to sequential array access which has e.g. caching benefits - but I'd like to know for sure)</p>\n<p>Performance numbers from my machine:</p>\n<pre><code>| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\n|--------------+--------------+------------------+-----------|\n|        10000 |           41 |              852 |        21 |\n|        20000 |          232 |             3387 |        15 |\n|        30000 |          375 |             6642 |        18 |\n|        40000 |          710 |            12699 |        18 |\n|        50000 |         1197 |            19182 |        16 |\n|--------------+--------------+------------------+-----------|\n|      average |              |                  |      17.6 |\n</code></pre>\n<p>N.B. Java's <code>PriorityQueue.indexOf()</code> is similar to my <code>indexOf</code>, so it does not try to walk the tree and stop early like my <code>indexOfSlow</code> does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Heap&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    public static void main(String[] args) {\n        int elementCount = 50_000;\n\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\n        for (int i = 0; i &lt; elementCount; i++)\n            elements.add(i);\n\n        for (int j = 0; j &lt; 3; j++) {\n            final var heap = new Heap&lt;Integer&gt;();\n            for (int i : elements)\n                heap.add(i);\n            assert heap.peek() == 0;\n            final long nanoBefore = System.nanoTime();\n            for (int i = elementCount; i &gt; 0; i--)\n                heap.indexOf(i - 1);\n//                heap.indexOfSlow(i - 1);\n            final long nanoAfter = System.nanoTime();\n            if (j &gt; 0) // discard first round as warmup\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\n        }\n    }\n\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n\n    public T peek() {\n        return list.isEmpty() ? null : list.get(0);\n    }\n\n    private void siftUp(int i, T value) {\n        while (i &gt; 0) {\n            int parentI = (i - 1) / 2;\n            final T parentValue = list.get(parentI);\n            if (parentValue.compareTo(value) &lt;= 0)\n                return;\n            list.set(parentI, value);\n            list.set(i, parentValue);\n            i = parentI;\n        }\n    }\n\n    public void add(T value) {\n        list.add(value);\n        siftUp(list.size() - 1, value);\n    }\n\n    public int indexOf(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            for (int i = 0; i &lt; list.size(); i++) {\n                if (value.compareTo(list.get(i)) == 0)\n                    return i;\n            }\n        }\n        return -1;\n    }\n\n    public int indexOfSlow(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\n            childrenToVisit.add(0);\n            while (!childrenToVisit.isEmpty()) {\n                int i = childrenToVisit.poll();\n                final int cmp = list.get(i).compareTo(value);\n                if (cmp == 0)\n                    return i;\n                if (cmp &gt; 0)\n                    continue;\n                int rightChildIdx = (i + 1) * 2;\n                int leftChildIdx = rightChildIdx - 1;\n                if (leftChildIdx &lt; size)\n                    childrenToVisit.add(leftChildIdx);\n                if (rightChildIdx &lt; size)\n                    childrenToVisit.add(rightChildIdx);\n            }\n        }\n        return -1;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","design-patterns","solid-principles"],"answers":[{"tags":[],"owner":{"account_id":7268019,"reputation":755,"user_id":5542049,"display_name":"Tando"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972959,"creation_date":1683964144,"answer_id":76241635,"question_id":76234924,"body_markdown":"Here is a sample that follows OCP.\r\n```\r\npublic class SecretKeeper {\r\n    private int secretCode;\r\n    private String secret1, secret2;\r\n    private State state;\r\n\r\n    //...\r\n\r\n  void evKey(int digit) {\r\n        state.setCode(digit);\r\n        state.doStuff();\r\n        boolean isSuccess = checkCode(state.getCode());\r\n        if(isSuccess){\r\n            state = state.getSwitchedState();\r\n        }\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n```\r\n\r\npublic interface State {\r\n    void setCode(int digit);\r\n    int getCode();\r\n    State getSwitchedState();\r\n    void doStuff();\r\n}\r\n```\r\n```\r\n\r\npublic class LockedState implements State {\r\n    private int code = 0;\r\n\r\n    @Override\r\n    public void setCode(int digit) {\r\n        if (digit == 0) code = 0;\r\n        else code = code * 10 + digit;\r\n    }\r\n\r\n    @Override\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n\r\n    @Override\r\n    public State getSwitchedState() {\r\n        return new SemiLockedState();\r\n    }\r\n\r\n    @Override\r\n    public void doStuff() {\r\n        // implement behavior for LockedState\r\n    }\r\n}\r\n\r\npublic class UnlockedState implements State {\r\n    private int code = 0;\r\n\r\n    @Override\r\n    public void setCode(int digit) {\r\n        code = digit;\r\n    }\r\n\r\n    @Override\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n\r\n    @Override\r\n    public State getSwitchedState() {\r\n        return new LockedState(); // Modify as per requirement\r\n    }\r\n\r\n    @Override\r\n    public void doStuff() {\r\n       if (getCode() == 1) SecretKeeper.printSecret1();\r\n       else if (getCode() == 2) SecretKeeper.printSecret2();\r\n       \r\n    }\r\n}\r\n```\r\n","title":"state design pattern - how to implement it with Open-Close Principle","body":"<p>Here is a sample that follows OCP.</p>\n<pre><code>public class SecretKeeper {\n    private int secretCode;\n    private String secret1, secret2;\n    private State state;\n\n    //...\n\n  void evKey(int digit) {\n        state.setCode(digit);\n        state.doStuff();\n        boolean isSuccess = checkCode(state.getCode());\n        if(isSuccess){\n            state = state.getSwitchedState();\n        }\n    }\n\n    //...\n}\n</code></pre>\n<pre><code>\npublic interface State {\n    void setCode(int digit);\n    int getCode();\n    State getSwitchedState();\n    void doStuff();\n}\n</code></pre>\n<pre><code>\npublic class LockedState implements State {\n    private int code = 0;\n\n    @Override\n    public void setCode(int digit) {\n        if (digit == 0) code = 0;\n        else code = code * 10 + digit;\n    }\n\n    @Override\n    public int getCode() {\n        return code;\n    }\n\n    @Override\n    public State getSwitchedState() {\n        return new SemiLockedState();\n    }\n\n    @Override\n    public void doStuff() {\n        // implement behavior for LockedState\n    }\n}\n\npublic class UnlockedState implements State {\n    private int code = 0;\n\n    @Override\n    public void setCode(int digit) {\n        code = digit;\n    }\n\n    @Override\n    public int getCode() {\n        return code;\n    }\n\n    @Override\n    public State getSwitchedState() {\n        return new LockedState(); // Modify as per requirement\n    }\n\n    @Override\n    public void doStuff() {\n       if (getCode() == 1) SecretKeeper.printSecret1();\n       else if (getCode() == 2) SecretKeeper.printSecret2();\n       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4975852,"reputation":1046,"user_id":4002204,"accept_rate":4,"display_name":"Zag Gol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683972959,"creation_date":1683883651,"question_id":76234924,"body_markdown":"I implemented the state design pattern in Java with two states: Locked and Unlocked.\r\nThe initial state is Lock. if the user enters the code (password), It changes to Unlock, Then if the user enters &#39;0&#39;, it changes to Lock state.\r\n\r\nThe problem with my current code implementation is that if I want to add another state - example: SemiLocked, I will also have to change the evKey function in the Locked, Unlocked classes, so that they allow a transition to the new state of SemiLocked. (example: user entering the right code will not change anymore to Unlock, but to SemiLocked)\r\n\r\nHow to implement it better with fewer required changes if I add more states in the future?\r\n\r\nCurrent code:\r\n\r\n    public class SecretKeeper {\r\n        private int secretCode;\r\n        String secret1, secret2;\r\n        private State state = new Locked(); \r\n\r\n        public SecretKeeper(int secretCode, String secret1, String secret2){\r\n            this.secretCode=secretCode;\r\n            this.secret1=secret1;\r\n            this.secret2=secret2;\r\n        }\r\n\r\n        void printSecret1(){\r\n            System.out.println(secret1);\r\n        }\r\n\r\n        void printSecret2(){\r\n            System.out.println(secret2);\r\n        }\r\n\r\n        public boolean checkCode(int code){\r\n            return code==secretCode;\r\n        }\r\n\r\n        void evKey(int digit){\r\n            state.evKey(this, digit);\r\n        }\r\n        \r\n        public void setState(State state) {\r\n            this.state = state;\r\n        }\r\n    }\r\n\r\n    public interface State {\r\n        void evKey(SecretKeeper sk, int digit);\r\n    }\r\n     \r\n    public class Locked implements State{\r\n        int code = 0;\r\n        @Override\r\n        public void evKey(SecretKeeper sk, int digit) {\r\n            if (digit == 0) code = 0;\r\n            else code = code*10+digit;\r\n            if (sk.checkCode(code)) sk.setState(new Unlocked());\r\n        }\r\n    }\r\n    \r\n    public class Unlocked implements State{\r\n        @Override\r\n        public void evKey(SecretKeeper sk, int digit) {\r\n            if (digit == 0) sk.setState(new Locked());\r\n            else if (digit == 1) sk.printSecret1();\r\n            else if (digit == 2) sk.printSecret2();\r\n        }\r\n    }","title":"state design pattern - how to implement it with Open-Close Principle","body":"<p>I implemented the state design pattern in Java with two states: Locked and Unlocked.\nThe initial state is Lock. if the user enters the code (password), It changes to Unlock, Then if the user enters '0', it changes to Lock state.</p>\n<p>The problem with my current code implementation is that if I want to add another state - example: SemiLocked, I will also have to change the evKey function in the Locked, Unlocked classes, so that they allow a transition to the new state of SemiLocked. (example: user entering the right code will not change anymore to Unlock, but to SemiLocked)</p>\n<p>How to implement it better with fewer required changes if I add more states in the future?</p>\n<p>Current code:</p>\n<pre><code>public class SecretKeeper {\n    private int secretCode;\n    String secret1, secret2;\n    private State state = new Locked(); \n\n    public SecretKeeper(int secretCode, String secret1, String secret2){\n        this.secretCode=secretCode;\n        this.secret1=secret1;\n        this.secret2=secret2;\n    }\n\n    void printSecret1(){\n        System.out.println(secret1);\n    }\n\n    void printSecret2(){\n        System.out.println(secret2);\n    }\n\n    public boolean checkCode(int code){\n        return code==secretCode;\n    }\n\n    void evKey(int digit){\n        state.evKey(this, digit);\n    }\n    \n    public void setState(State state) {\n        this.state = state;\n    }\n}\n\npublic interface State {\n    void evKey(SecretKeeper sk, int digit);\n}\n \npublic class Locked implements State{\n    int code = 0;\n    @Override\n    public void evKey(SecretKeeper sk, int digit) {\n        if (digit == 0) code = 0;\n        else code = code*10+digit;\n        if (sk.checkCode(code)) sk.setState(new Unlocked());\n    }\n}\n\npublic class Unlocked implements State{\n    @Override\n    public void evKey(SecretKeeper sk, int digit) {\n        if (digit == 0) sk.setState(new Locked());\n        else if (digit == 1) sk.printSecret1();\n        else if (digit == 2) sk.printSecret2();\n    }\n}\n</code></pre>\n"},{"tags":["c#","java","parsing","antlr"],"answers":[{"tags":[],"owner":{"account_id":2647,"reputation":41534,"user_id":3712,"accept_rate":81,"display_name":"Barry Kelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1242826172,"creation_date":1242826172,"answer_id":887903,"question_id":887205,"body_markdown":"Normally you walk ASTs with recursion, and perform different actions based on the kind of the node. If you&#39;re using polymorphic tree nodes (i.e. different subclasses for different nodes in the tree), then double-dispatch in the Visitor pattern may be appropriate; however, that&#39;s usually not very convenient with Antlr.\r\n\r\nIn pseudocode, walking usually looks somewhat like this:\r\n\r\n    func processTree(t)\r\n        case t.Type of\r\n            FOO: processFoo t\r\n            BAR: processBar t\r\n        end\r\n\r\n    // a post-order process\r\n    func processFoo(foo)\r\n        // visit children\r\n        for (i = 0; i &lt; foo.ChildCount; ++i)\r\n            processTree(foo.GetChild(i))\r\n        // visit node\r\n        do_stuff(foo.getText())\r\n        \r\n    // a pre-order process\r\n    func processBoo(bar)\r\n        // visit node\r\n        do_stuff(bar.getText())\r\n        // visit children\r\n        for (i = 0; i &lt; foo.ChildCount; ++i)\r\n            processTree(foo.GetChild(i))\r\n        \r\nThe kinds of processing are highly dependent on the semantics of the language. For example, handling an `IF` statement, with structure `(IF &lt;predicate&gt; &lt;if-true&gt; [&lt;if-false&gt;])`, when generating code for a stack machine like the JVM or CLR, might look somewhat like this:\r\n\r\n    func processIf(n)\r\n        predicate = n.GetChild(0)\r\n        processExpr(predicate) // get predicate value on stack\r\n        falseLabel = createLabel()\r\n        genCode(JUMP_IF_FALSE, falseLabel) // JUMP_IF_FALSE is called brfalse in CLR,\r\n                                           // ifeq in JVM\r\n        if_true = n.GetChild(1)\r\n        processStmt(if_true)\r\n        if_false = n.ChildCount &gt; 2 ? n.GetChild(2) : null\r\n        if (if_false != null)\r\n            doneLabel = createLabel()\r\n            genCode(JUMP, doneLabel)\r\n        markLabel(falseLabel)\r\n        if (if_false != null)\r\n            processStmt(if_false) // if-false branch\r\n            markLabel(doneLabel)\r\n\r\nGenerally everything is done recursively depending on the type of the current node, etc.","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>Normally you walk ASTs with recursion, and perform different actions based on the kind of the node. If you're using polymorphic tree nodes (i.e. different subclasses for different nodes in the tree), then double-dispatch in the Visitor pattern may be appropriate; however, that's usually not very convenient with Antlr.</p>\n\n<p>In pseudocode, walking usually looks somewhat like this:</p>\n\n<pre><code>func processTree(t)\n    case t.Type of\n        FOO: processFoo t\n        BAR: processBar t\n    end\n\n// a post-order process\nfunc processFoo(foo)\n    // visit children\n    for (i = 0; i &lt; foo.ChildCount; ++i)\n        processTree(foo.GetChild(i))\n    // visit node\n    do_stuff(foo.getText())\n\n// a pre-order process\nfunc processBoo(bar)\n    // visit node\n    do_stuff(bar.getText())\n    // visit children\n    for (i = 0; i &lt; foo.ChildCount; ++i)\n        processTree(foo.GetChild(i))\n</code></pre>\n\n<p>The kinds of processing are highly dependent on the semantics of the language. For example, handling an <code>IF</code> statement, with structure <code>(IF &lt;predicate&gt; &lt;if-true&gt; [&lt;if-false&gt;])</code>, when generating code for a stack machine like the JVM or CLR, might look somewhat like this:</p>\n\n<pre><code>func processIf(n)\n    predicate = n.GetChild(0)\n    processExpr(predicate) // get predicate value on stack\n    falseLabel = createLabel()\n    genCode(JUMP_IF_FALSE, falseLabel) // JUMP_IF_FALSE is called brfalse in CLR,\n                                       // ifeq in JVM\n    if_true = n.GetChild(1)\n    processStmt(if_true)\n    if_false = n.ChildCount &gt; 2 ? n.GetChild(2) : null\n    if (if_false != null)\n        doneLabel = createLabel()\n        genCode(JUMP, doneLabel)\n    markLabel(falseLabel)\n    if (if_false != null)\n        processStmt(if_false) // if-false branch\n        markLabel(doneLabel)\n</code></pre>\n\n<p>Generally everything is done recursively depending on the type of the current node, etc.</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242829027,"creation_date":1242829027,"answer_id":888192,"question_id":887205,"body_markdown":"You should look into writing a TreeParser; it can make the job of interpreting the tree much simpler.\r\n\r\nFor ANTLR 2.x see http://www.antlr2.org/doc/sor.html\r\nFor ANTLR 3.x see http://www.antlr.org/wiki/display/ANTLR3/Tree+construction (java-based parser and tree parser example)","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>You should look into writing a TreeParser; it can make the job of interpreting the tree much simpler.</p>\n\n<p>For ANTLR 2.x see <a href=\"http://www.antlr2.org/doc/sor.html\" rel=\"nofollow noreferrer\">http://www.antlr2.org/doc/sor.html</a>\nFor ANTLR 3.x see <a href=\"http://www.antlr.org/wiki/display/ANTLR3/Tree+construction\" rel=\"nofollow noreferrer\">http://www.antlr.org/wiki/display/ANTLR3/Tree+construction</a> (java-based parser and tree parser example)</p>\n"},{"tags":[],"owner":{"account_id":24511,"reputation":4692,"user_id":62388,"accept_rate":100,"display_name":"Jasper Floor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242829483,"creation_date":1242829483,"answer_id":888238,"question_id":887205,"body_markdown":"I did something similar (but not really) and I ended up with a TreeParser. \r\n\r\nI also suggest buying the ANTLR book. I found it to be more valuable than any web resource. It may not have all the answers but it sure helps with the basics.\r\n\r\n","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>I did something similar (but not really) and I ended up with a TreeParser. </p>\n\n<p>I also suggest buying the ANTLR book. I found it to be more valuable than any web resource. It may not have all the answers but it sure helps with the basics.</p>\n"},{"tags":[],"owner":{"account_id":35429,"reputation":26111,"user_id":100335,"accept_rate":59,"display_name":"kpozin"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1243623969,"creation_date":1243623969,"answer_id":927612,"question_id":887205,"body_markdown":"I managed to figure this out by adapting the example at the end of [Manuel Abadia&#39;s article][1].\r\n\r\nHere&#39;s my version, which I happen to be using to convert parsed code to C#.\r\nThese are the steps:\r\n\r\n 1. Instantiate an [ANTLRStringStream][2] or subclass with your input (it can be a file or string).\r\n 2. Instantiate your generated lexer, passing in that string stream.\r\n 3. Instantiate a token stream with the lexer.\r\n 4. Instantiate your parser with that token stream.\r\n 5. Get the top-level value from your parser, and turn it into a `CommonTree`.\r\n 6. Traverse the tree:\r\n\r\nTo get the literal text of a node, use `node.Text`.\r\nTo get the token name of a node, use `node.Token.Text`.\r\n\r\nNote that `node.Token.Text` will only give you the actual name of your token if it&#39;s an imaginary token with no corresponding string. If it&#39;s a real token, then `node.Token.Text` will return its string.\r\n\r\nFor example, if you had the following in your grammar:\r\n\r\n    tokens { PROGRAM, FUNCDEC }\r\n    \r\n    EQUALS : &#39;==&#39;;\r\n    ASSIGN : &#39;=&#39;;\r\n\r\nThen you&#39;ll get `&quot;PROGRAM&quot;`, `&quot;FUNCDEC&quot;`, `&quot;==&quot;`, and `&quot;=&quot;` from the corresponding accesses of `node.Token.Text`.\r\n\r\nYou can see part of my example below, or you can browse the [full version][3].\r\n\r\n----------\r\n\r\n\r\n    \r\n    public static string Convert(string input)\r\n    {\r\n        ANTLRStringStream sStream = new ANTLRStringStream(input);\r\n        MyGrammarLexer lexer = new MyGrammarLexer(sStream);\r\n        \r\n        CommonTokenStream tStream = new CommonTokenStream(lexer);\r\n\r\n        MyGrammarParser parser = new MyGrammarParser (tStream);\r\n        MyGrammarParser.program_return parserResult = parser.program();\r\n\r\n        CommonTree ast = (CommonTree)parserResult.Tree;\r\n\r\n        Print(ast);\r\n        string output = header + body + footer;\r\n\r\n        return output;\r\n    }\r\n\r\n    public static void PrintChildren(CT ast)\r\n    {\r\n        PrintChildren(ast, &quot; &quot;, true);\r\n    }\r\n\r\n    public static void PrintChildren(CT ast, string delim, bool final)\r\n    {\r\n        if (ast.Children == null)\r\n        {\r\n            return;\r\n        }\r\n        \r\n        int num = ast.Children.Count;\r\n\r\n        for (int i = 0; i &lt; num; ++i)\r\n        {\r\n            CT d = (CT)(ast.Children[i]);\r\n            Print(d);\r\n            if (final || i &lt; num - 1)\r\n            {\r\n                body += delim;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void Print(CommonTree ast)\r\n    {\r\n        switch (ast.Token.Text)\r\n        {\r\n            case &quot;PROGRAM&quot;:\r\n                //body += header;\r\n                PrintChildren(ast);\r\n                //body += footer;\r\n                break;\r\n            case &quot;GLOBALS&quot;:\r\n                body += &quot;\\r\\n\\r\\n// GLOBALS\\r\\n&quot;;\r\n                PrintChildren(ast);\r\n                break;\r\n            case &quot;GLOBAL&quot;:\r\n                body += &quot;public static &quot;;\r\n                PrintChildren(ast);\r\n                body += &quot;;\\r\\n&quot;;\r\n                break;\r\n\r\n          ....\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.manuelabadia.com/blog/PermaLink,guid,6e509f70-3db8-46f4-b451-1ef9dd80740b.aspx\r\n  [2]: http://www.antlr.org/api/CSharp/class_antlr_1_1_runtime_1_1_a_n_t_l_r_string_stream.html\r\n  [3]: http://code.google.com/p/godpl/source/browse/#svn/tags/cs152-submission/GodPl/GodPl/Parser","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>I managed to figure this out by adapting the example at the end of <a href=\"http://www.manuelabadia.com/blog/PermaLink,guid,6e509f70-3db8-46f4-b451-1ef9dd80740b.aspx\" rel=\"noreferrer\">Manuel Abadia's article</a>.</p>\n\n<p>Here's my version, which I happen to be using to convert parsed code to C#.\nThese are the steps:</p>\n\n<ol>\n<li>Instantiate an <a href=\"http://www.antlr.org/api/CSharp/class_antlr_1_1_runtime_1_1_a_n_t_l_r_string_stream.html\" rel=\"noreferrer\">ANTLRStringStream</a> or subclass with your input (it can be a file or string).</li>\n<li>Instantiate your generated lexer, passing in that string stream.</li>\n<li>Instantiate a token stream with the lexer.</li>\n<li>Instantiate your parser with that token stream.</li>\n<li>Get the top-level value from your parser, and turn it into a <code>CommonTree</code>.</li>\n<li>Traverse the tree:</li>\n</ol>\n\n<p>To get the literal text of a node, use <code>node.Text</code>.\nTo get the token name of a node, use <code>node.Token.Text</code>.</p>\n\n<p>Note that <code>node.Token.Text</code> will only give you the actual name of your token if it's an imaginary token with no corresponding string. If it's a real token, then <code>node.Token.Text</code> will return its string.</p>\n\n<p>For example, if you had the following in your grammar:</p>\n\n<pre><code>tokens { PROGRAM, FUNCDEC }\n\nEQUALS : '==';\nASSIGN : '=';\n</code></pre>\n\n<p>Then you'll get <code>\"PROGRAM\"</code>, <code>\"FUNCDEC\"</code>, <code>\"==\"</code>, and <code>\"=\"</code> from the corresponding accesses of <code>node.Token.Text</code>.</p>\n\n<p>You can see part of my example below, or you can browse the <a href=\"http://code.google.com/p/godpl/source/browse/#svn/tags/cs152-submission/GodPl/GodPl/Parser\" rel=\"noreferrer\">full version</a>.</p>\n\n<hr>\n\n<pre><code>public static string Convert(string input)\n{\n    ANTLRStringStream sStream = new ANTLRStringStream(input);\n    MyGrammarLexer lexer = new MyGrammarLexer(sStream);\n\n    CommonTokenStream tStream = new CommonTokenStream(lexer);\n\n    MyGrammarParser parser = new MyGrammarParser (tStream);\n    MyGrammarParser.program_return parserResult = parser.program();\n\n    CommonTree ast = (CommonTree)parserResult.Tree;\n\n    Print(ast);\n    string output = header + body + footer;\n\n    return output;\n}\n\npublic static void PrintChildren(CT ast)\n{\n    PrintChildren(ast, \" \", true);\n}\n\npublic static void PrintChildren(CT ast, string delim, bool final)\n{\n    if (ast.Children == null)\n    {\n        return;\n    }\n\n    int num = ast.Children.Count;\n\n    for (int i = 0; i &lt; num; ++i)\n    {\n        CT d = (CT)(ast.Children[i]);\n        Print(d);\n        if (final || i &lt; num - 1)\n        {\n            body += delim;\n        }\n    }\n}\n\npublic static void Print(CommonTree ast)\n{\n    switch (ast.Token.Text)\n    {\n        case \"PROGRAM\":\n            //body += header;\n            PrintChildren(ast);\n            //body += footer;\n            break;\n        case \"GLOBALS\":\n            body += \"\\r\\n\\r\\n// GLOBALS\\r\\n\";\n            PrintChildren(ast);\n            break;\n        case \"GLOBAL\":\n            body += \"public static \";\n            PrintChildren(ast);\n            body += \";\\r\\n\";\n            break;\n\n      ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":35429,"reputation":26111,"user_id":100335,"accept_rate":59,"display_name":"kpozin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11668,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":927612,"answer_count":4,"score":22,"last_activity_date":1683972862,"creation_date":1242815440,"question_id":887205,"body_markdown":"Is anyone aware of tutorials for walking ANTLR-generated ASTs in C#? The closest I was able to find is [this][1], but it&#39;s not terribly helpful.\r\n\r\nMy goal is to walk through trees that I&#39;m generating based on a domain-specific language that I&#39;m working on, and to use the trees to output generated C# code.\r\n\r\n  [1]: https://web.archive.org/web/20201019210638/http://www.manuelabadia.com/blog/PermaLink,guid,5085c0cc-5256-429c-a18c-4639afa0dcc1.aspx\r\n\r\nA Java-based tutorial would be helpful, too -- anything that provides clear examples of how to traverse ANTLR ASTs.","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>Is anyone aware of tutorials for walking ANTLR-generated ASTs in C#? The closest I was able to find is <a href=\"https://web.archive.org/web/20201019210638/http://www.manuelabadia.com/blog/PermaLink,guid,5085c0cc-5256-429c-a18c-4639afa0dcc1.aspx\" rel=\"nofollow noreferrer\">this</a>, but it's not terribly helpful.</p>\n<p>My goal is to walk through trees that I'm generating based on a domain-specific language that I'm working on, and to use the trees to output generated C# code.</p>\n<p>A Java-based tutorial would be helpful, too -- anything that provides clear examples of how to traverse ANTLR ASTs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39861,"reputation":6818,"user_id":115193,"accept_rate":71,"display_name":"james_bond"},"score":0,"creation_date":1301461093,"post_id":5482016,"comment_id":6217203,"body_markdown":"And what is the concrete question?","body":"And what is the concrete question?"},{"owner":{"account_id":318502,"reputation":15139,"user_id":635766,"display_name":"Shad"},"score":0,"creation_date":1301461325,"post_id":5482016,"comment_id":6217232,"body_markdown":"-1 See Santiago&#39;s Answer","body":"-1 See Santiago&#39;s Answer"}],"answers":[{"comments":[{"owner":{"account_id":136944,"reputation":680,"user_id":340810,"accept_rate":75,"display_name":"somid3"},"score":1,"creation_date":1301461813,"post_id":5482041,"comment_id":6217287,"body_markdown":"i&#39;d say the same goes for Maven, Idea, Log4J, and lots of other Java-goodies =)","body":"i&#39;d say the same goes for Maven, Idea, Log4J, and lots of other Java-goodies =)"}],"tags":[],"owner":{"account_id":214990,"reputation":74717,"user_id":469300,"accept_rate":74,"display_name":"salezica"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1301461178,"creation_date":1301461178,"answer_id":5482041,"question_id":5482016,"body_markdown":"That&#39;s fine. Now, you hardly want to log in to Stack Overlflow every time you need to check if some invocation is right :) learn to use:\r\n\r\na) the Java compiler. If you try and compile code with erroneous syntax, the compiler will tell you where you made your mistake! Learn to use and interpret the outputs of the compiler.\r\n\r\nb) an advanced Java development environment, such as Eclipse. Actually, I&#39;ve no idea how can someone code in Java without Eclipse. For me, it&#39;s almost part of the language.\r\n\r\nCheers!","title":"To check whether my code is correct or not","body":"<p>That's fine. Now, you hardly want to log in to Stack Overlflow every time you need to check if some invocation is right :) learn to use:</p>\n\n<p>a) the Java compiler. If you try and compile code with erroneous syntax, the compiler will tell you where you made your mistake! Learn to use and interpret the outputs of the compiler.</p>\n\n<p>b) an advanced Java development environment, such as Eclipse. Actually, I've no idea how can someone code in Java without Eclipse. For me, it's almost part of the language.</p>\n\n<p>Cheers!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683956120,"post_id":76241146,"comment_id":134449233,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76241146/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28592455,"reputation":1,"user_id":21891354,"display_name":"user21891354"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972550,"creation_date":1683954121,"answer_id":76241146,"question_id":5482016,"body_markdown":"```java\r\nclass Square {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        int n = 289, r;\r\n        r = sqrt(n);\r\n        if (n==r) {\r\n            System.out.println(&quot;Perfect Square&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not a Perfect Square&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"To check whether my code is correct or not","body":"<pre class=\"lang-java prettyprint-override\"><code>class Square {\n\n    public static void main(String args[]) {\n\n        int n = 289, r;\n        r = sqrt(n);\n        if (n==r) {\n            System.out.println(&quot;Perfect Square&quot;);\n        } else {\n            System.out.println(&quot;Not a Perfect Square&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":347680,"reputation":145,"user_id":681953,"accept_rate":11,"display_name":"George Lim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683972550,"creation_date":1301460958,"question_id":5482016,"body_markdown":"void addEntry(Integer newEntry) \r\nthrows SimulationException \r\n\r\nAdds a new entry to the log. \r\nExisting entries are shifted along one place in the window accordingly. \r\nParameters: \r\n**newEntry** - the new value to be added to the log\r\n\r\nThrows: \r\n**SimulationException** - if the given value is not in the range 0 to maxEntry, inclusive \r\n\r\nhow does the code look like ? does it look like this ? \r\n\r\n    public void addEntry(Integer newEntry) throws SimulationException{  \r\n              \r\n        } ","title":"To check whether my code is correct or not","body":"<p>void addEntry(Integer newEntry) \nthrows SimulationException </p>\n\n<p>Adds a new entry to the log. \nExisting entries are shifted along one place in the window accordingly. \nParameters: \n<strong>newEntry</strong> - the new value to be added to the log</p>\n\n<p>Throws: \n<strong>SimulationException</strong> - if the given value is not in the range 0 to maxEntry, inclusive </p>\n\n<p>how does the code look like ? does it look like this ? </p>\n\n<pre><code>public void addEntry(Integer newEntry) throws SimulationException{  \n\n    } \n</code></pre>\n"},{"tags":["java","swing","user-interface","awt","actionlistener"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1683905428,"post_id":76237703,"comment_id":134443095,"body_markdown":"Your example above does not compile. I need the following classes (at least) to also be included. `ColorException`, `SizeException`, and `MyBMPFile`.","body":"Your example above does not compile. I need the following classes (at least) to also be included. <code>ColorException</code>, <code>SizeException</code>, and <code>MyBMPFile</code>."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683905044,"creation_date":1683905044,"answer_id":76237786,"question_id":76237703,"body_markdown":"I&#39;m going to edit this into a real answer later, but shot in the dark.\r\n\r\nChange this line below.\r\n\r\n`if (command.equals(CLEAR)) {`\r\n\r\nChange it to be like this instead.\r\n\r\n`if (command.equals(DrawGUI.CLEAR)) {`\r\n\r\nYou may need to do some imports.","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>I'm going to edit this into a real answer later, but shot in the dark.</p>\n<p>Change this line below.</p>\n<p><code>if (command.equals(CLEAR)) {</code></p>\n<p>Change it to be like this instead.</p>\n<p><code>if (command.equals(DrawGUI.CLEAR)) {</code></p>\n<p>You may need to do some imports.</p>\n"},{"comments":[{"owner":{"account_id":28589452,"reputation":1,"user_id":21889017,"display_name":"RighteousRocks"},"score":0,"creation_date":1683912260,"post_id":76237863,"comment_id":134444572,"body_markdown":"Thanks for the answer and solution! I just started with Java recently, but I will try to implement your suggestion later.","body":"Thanks for the answer and solution! I just started with Java recently, but I will try to implement your suggestion later."}],"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683915882,"creation_date":1683905554,"answer_id":76237863,"question_id":76237703,"body_markdown":"This is happening because in this section, the final variables CLEAR, QUIT, SAVE are initialized to null, so your if comparison is always false. A decent IDE like IntelliJ will spot this problem and warn you about it.\r\n\r\nI think you might have gotten mixed up because your Draw has these variables (where they are null), and the DrawGUI class also has these variables (where they have values), and you&#39;re comparing the two variables to each other. Get rid of the variables in the Draw class so that you&#39;re comparing the same variable to itself.\r\n\r\n    public void doCommand(String command) {\r\n    \tif (command.equals(CLEAR)) {\r\n    \t\twindow.clear();\r\n    \t\tSystem.out.println(&quot;CLEAR button clicked&quot;);\r\n    \t} else if (command.equals(QUIT)) {\r\n    \t\twindow.dispose();\r\n    \t\tSystem.out.println(&quot;QUIT button clicked&quot;);\r\n    \t\tSystem.exit(0);\r\n    \t} else if (command.equals(SAVE)) {\r\n    \t\tImage img = window.createImageFromPanel();\r\n    \t\ttry {\r\n    \t\t\twriteImage(img, &quot;hallo.bmp&quot;);\r\n    \t\t\tSystem.out.println(&quot;SAVE button clicked&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;Not working&quot;);\r\n    \t\t}\r\n    \t} else if (command.equals(AUTODRAW)) {\r\n    \t\tautoDraw();\r\n    \t\tSystem.out.println(&quot;AUTODRAW button clicked&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nP.S. - Stylistically, I don&#39;t love how you&#39;re running everything through a doCommand() method with a parameter used to dispatch which action to take. If it were me, I would just have a different method for each of the actions and just call those methods from the action listeners. That way you can get rid of all these variables, you don&#39;t need to do any comparison if/else-if stuff at all, and this problem wouldn&#39;t have occurred.","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>This is happening because in this section, the final variables CLEAR, QUIT, SAVE are initialized to null, so your if comparison is always false. A decent IDE like IntelliJ will spot this problem and warn you about it.</p>\n<p>I think you might have gotten mixed up because your Draw has these variables (where they are null), and the DrawGUI class also has these variables (where they have values), and you're comparing the two variables to each other. Get rid of the variables in the Draw class so that you're comparing the same variable to itself.</p>\n<pre><code>public void doCommand(String command) {\n    if (command.equals(CLEAR)) {\n        window.clear();\n        System.out.println(&quot;CLEAR button clicked&quot;);\n    } else if (command.equals(QUIT)) {\n        window.dispose();\n        System.out.println(&quot;QUIT button clicked&quot;);\n        System.exit(0);\n    } else if (command.equals(SAVE)) {\n        Image img = window.createImageFromPanel();\n        try {\n            writeImage(img, &quot;hallo.bmp&quot;);\n            System.out.println(&quot;SAVE button clicked&quot;);\n        } catch (IOException e) {\n            System.err.println(&quot;Not working&quot;);\n        }\n    } else if (command.equals(AUTODRAW)) {\n        autoDraw();\n        System.out.println(&quot;AUTODRAW button clicked&quot;);\n    }\n}\n</code></pre>\n<p>P.S. - Stylistically, I don't love how you're running everything through a doCommand() method with a parameter used to dispatch which action to take. If it were me, I would just have a different method for each of the actions and just call those methods from the action listeners. That way you can get rid of all these variables, you don't need to do any comparison if/else-if stuff at all, and this problem wouldn't have occurred.</p>\n"}],"owner":{"account_id":28589452,"reputation":1,"user_id":21889017,"display_name":"RighteousRocks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76237786,"answer_count":2,"score":-1,"last_activity_date":1683972402,"creation_date":1683904417,"question_id":76237703,"body_markdown":"I&#39;m working on a Java GUI application, and I&#39;m having trouble getting the ActionListener to work properly with my buttons. When I click on the buttons, nothing happens, and the corresponding methods in my class are not being executed. I&#39;m not sure what I&#39;m doing wrong. Here are the concerned classes (particularly &quot;Draw&quot; and &quot;DrawGUI&quot;) of my code:\r\n\r\n```\r\n`\r\npublic class Draw {\r\n\tprivate static final Object QUIT = null;\r\n\tprivate static final Object CLEAR = null;\r\n\tprivate static final Object SAVE = null;\r\n\tprivate static final Object AUTODRAW = &quot;autoDraw&quot;;\r\n\tpublic Graphics g;\r\n\tprotected DrawGUI window;\r\n\r\n\tpublic void doCommand(String command) {\r\n\t\tif (command.equals(CLEAR)) {\r\n\t\t\twindow.clear();\r\n\t\t} else if (command.equals(QUIT)) {\r\n\t\t\twindow.dispose();\r\n\t\t\tSystem.exit(0);\r\n\t\t} else if (command.equals(SAVE)) {\r\n\t\t\tImage img = window.createImageFromPanel();\r\n\t\t\ttry {\r\n\t\t\t\twriteImage(img, &quot;test.bmp&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.err.println(&quot;Not working&quot;);\r\n\t\t\t}\r\n\t\t} else if (command.equals(AUTODRAW)) {\r\n\t\t\tautoDraw();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tpublic static final int WIDTH = 800;\r\n\tpublic static final int HEIGHT_DEFAULT = 400;\r\n\r\n\tpublic static final String SCRIBBLE = &quot;Scribble&quot;;\r\n\tpublic static final String RECTANGLE = &quot;Rectangle&quot;;\r\n\tpublic static final String OVAL = &quot;Oval&quot;;\r\n\tpublic static final String BLACK = &quot;Black&quot;;\r\n\tpublic static final String GREEN = &quot;Green&quot;;\r\n\tpublic static final String RED = &quot;Red&quot;;\r\n\tpublic static final String BLUE = &quot;Blue&quot;;\r\n\tpublic static final String CLEAR = &quot;Clear&quot;;\r\n\tpublic static final String QUIT = &quot;Quit&quot;;\r\n\tpublic static final String SAVE = &quot;Save&quot;;\r\n\tpublic static final String AUTODRAW = &quot;autoDraw&quot;;\r\n\r\n\tprivate final Draw logic;\r\n\tprivate Color color;\r\n\tprivate final DrawingPanel drawingPanel;\r\n\r\n\tpublic DrawGUI(Draw logic) {\r\n\t\tsuper(&quot;Draw&quot;);\r\n\t\tthis.logic = logic;\r\n\t\tcolor = Color.black;\r\n\t\tdrawingPanel = new DrawingPanel();\r\n\r\n\t\tsetSize(WIDTH, HEIGHT_DEFAULT);\r\n\r\n\t\tJButton clear = new JButton(CLEAR);\r\n\t\tJButton quit = new JButton(QUIT);\r\n\t\tJButton save = new JButton(SAVE);\r\n\t\tJButton autodraw = new JButton(AUTODRAW);\r\n\t\tJPanel topPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 5));\r\n\t\tclear.addActionListener(e -&gt; logic.doCommand(CLEAR));\r\n\t\tquit.addActionListener(e -&gt; logic.doCommand(QUIT));\r\n\t\tsave.addActionListener(e -&gt; logic.doCommand(SAVE));\r\n\t\tautodraw.addActionListener(e -&gt; logic.doCommand(AUTODRAW));\r\n\r\n\t\tsetLayout(new BorderLayout());\r\n\t\ttopPanel.add(save);\r\n\t\ttopPanel.add(autodraw);\r\n\t\ttopPanel.add(new JLabel(&quot;Shape:&quot;));\r\n\t\ttopPanel.add(shape_chooser);\r\n\t\ttopPanel.add(new JLabel(&quot;Color:&quot;));\r\n\t\ttopPanel.add(color_chooser);\r\n\t\ttopPanel.add(clear);\r\n\t\ttopPanel.add(quit);\r\n\t\tadd(topPanel, BorderLayout.NORTH);\r\n\t\tadd(drawingPanel, BorderLayout.CENTER);\r\n\r\n\t\tthis.addWindowListener(new WindowAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void windowClosing(WindowEvent e) {\r\n\t\t\t\tDrawGUI.this.logic.doCommand(&quot;quit&quot;);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tthis.setBackground(Color.white);\r\n\t\tthis.setVisible(true);\r\n\r\n\t}\r\n`\r\n```\r\n\r\nI already tried to &quot;debug&quot; the &quot;doCommand&quot; method using System.out.println and what I found out is that only when clicking &quot;autoDraw&quot; the sentence &quot;autoDraw was pressed&quot; is printed to the console. When clicking the rest of the buttons nothing is printed to the console. Only when I close the application window via the macOS menu, &quot;Quit button was pressed&quot; is output on the console, not via clicking the Quit button itself.\r\n","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>I'm working on a Java GUI application, and I'm having trouble getting the ActionListener to work properly with my buttons. When I click on the buttons, nothing happens, and the corresponding methods in my class are not being executed. I'm not sure what I'm doing wrong. Here are the concerned classes (particularly &quot;Draw&quot; and &quot;DrawGUI&quot;) of my code:</p>\n<pre><code>`\npublic class Draw {\n    private static final Object QUIT = null;\n    private static final Object CLEAR = null;\n    private static final Object SAVE = null;\n    private static final Object AUTODRAW = &quot;autoDraw&quot;;\n    public Graphics g;\n    protected DrawGUI window;\n\n    public void doCommand(String command) {\n        if (command.equals(CLEAR)) {\n            window.clear();\n        } else if (command.equals(QUIT)) {\n            window.dispose();\n            System.exit(0);\n        } else if (command.equals(SAVE)) {\n            Image img = window.createImageFromPanel();\n            try {\n                writeImage(img, &quot;test.bmp&quot;);\n            } catch (IOException e) {\n                System.err.println(&quot;Not working&quot;);\n            }\n        } else if (command.equals(AUTODRAW)) {\n            autoDraw();\n        }\n    }\n\n    private static final long serialVersionUID = 1L;\n    public static final int WIDTH = 800;\n    public static final int HEIGHT_DEFAULT = 400;\n\n    public static final String SCRIBBLE = &quot;Scribble&quot;;\n    public static final String RECTANGLE = &quot;Rectangle&quot;;\n    public static final String OVAL = &quot;Oval&quot;;\n    public static final String BLACK = &quot;Black&quot;;\n    public static final String GREEN = &quot;Green&quot;;\n    public static final String RED = &quot;Red&quot;;\n    public static final String BLUE = &quot;Blue&quot;;\n    public static final String CLEAR = &quot;Clear&quot;;\n    public static final String QUIT = &quot;Quit&quot;;\n    public static final String SAVE = &quot;Save&quot;;\n    public static final String AUTODRAW = &quot;autoDraw&quot;;\n\n    private final Draw logic;\n    private Color color;\n    private final DrawingPanel drawingPanel;\n\n    public DrawGUI(Draw logic) {\n        super(&quot;Draw&quot;);\n        this.logic = logic;\n        color = Color.black;\n        drawingPanel = new DrawingPanel();\n\n        setSize(WIDTH, HEIGHT_DEFAULT);\n\n        JButton clear = new JButton(CLEAR);\n        JButton quit = new JButton(QUIT);\n        JButton save = new JButton(SAVE);\n        JButton autodraw = new JButton(AUTODRAW);\n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 5));\n        clear.addActionListener(e -&gt; logic.doCommand(CLEAR));\n        quit.addActionListener(e -&gt; logic.doCommand(QUIT));\n        save.addActionListener(e -&gt; logic.doCommand(SAVE));\n        autodraw.addActionListener(e -&gt; logic.doCommand(AUTODRAW));\n\n        setLayout(new BorderLayout());\n        topPanel.add(save);\n        topPanel.add(autodraw);\n        topPanel.add(new JLabel(&quot;Shape:&quot;));\n        topPanel.add(shape_chooser);\n        topPanel.add(new JLabel(&quot;Color:&quot;));\n        topPanel.add(color_chooser);\n        topPanel.add(clear);\n        topPanel.add(quit);\n        add(topPanel, BorderLayout.NORTH);\n        add(drawingPanel, BorderLayout.CENTER);\n\n        this.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                DrawGUI.this.logic.doCommand(&quot;quit&quot;);\n            }\n\n        });\n\n        this.setBackground(Color.white);\n        this.setVisible(true);\n\n    }\n`\n</code></pre>\n<p>I already tried to &quot;debug&quot; the &quot;doCommand&quot; method using System.out.println and what I found out is that only when clicking &quot;autoDraw&quot; the sentence &quot;autoDraw was pressed&quot; is printed to the console. When clicking the rest of the buttons nothing is printed to the console. Only when I close the application window via the macOS menu, &quot;Quit button was pressed&quot; is output on the console, not via clicking the Quit button itself.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1683890012,"post_id":76235476,"comment_id":134439353,"body_markdown":"I think this should work. Can you share the Postman request that fails and the error?","body":"I think this should work. Can you share the Postman request that fails and the error?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1683910315,"post_id":76235476,"comment_id":134444195,"body_markdown":"_&quot;But in Postman I can&#39;t do it&quot;_. Do you mean you cannot send an array of Strings?","body":"<i>&quot;But in Postman I can&#39;t do it&quot;</i>. Do you mean you cannot send an array of Strings?"}],"answers":[{"tags":[],"owner":{"account_id":28423360,"reputation":1,"user_id":21745109,"display_name":"Jahongir Zokirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972245,"creation_date":1683904613,"answer_id":76237726,"question_id":76235476,"body_markdown":"You can do it in postman by this : \r\n\r\n    body/raw/json\r\n\r\n```json\r\n{\r\n   userIds : [\r\n           &quot;userId1&quot;,\r\n           &quot;userId2&quot;\r\n       ]\r\n}\r\n```","title":"Is there a way to set the value for @RequestBody without having to create an object?","body":"<p>You can do it in postman by this :</p>\n<pre><code>body/raw/json\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   userIds : [\n           &quot;userId1&quot;,\n           &quot;userId2&quot;\n       ]\n}\n</code></pre>\n"}],"owner":{"account_id":28012888,"reputation":1,"user_id":21395119,"display_name":"nguyen hieu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683972245,"creation_date":1683888002,"question_id":76235476,"body_markdown":"I wrote this: \r\n````java\r\npublic ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\r\n@RequestBody List&lt;String&gt; userIds)\r\n````\r\nBut in Postman I can&#39;t do it\r\n\r\nI fixed it by creating an object UserIds:\r\n````java\r\npublic class UserIds {\r\n    @JsonProperty(&quot;userIds&quot;)\r\n    private List&lt;String&gt; userIds;\r\n}\r\n````\r\nand:\r\n````java\r\npublic ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\r\n@RequestBody UserIds userIds)\r\n````\r\nBut I have one question: Is there any way I can still use ````@RequestBody List&lt;String&gt; userIds```` ?","title":"Is there a way to set the value for @RequestBody without having to create an object?","body":"<p>I wrote this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\n@RequestBody List&lt;String&gt; userIds)\n</code></pre>\n<p>But in Postman I can't do it</p>\n<p>I fixed it by creating an object UserIds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserIds {\n    @JsonProperty(&quot;userIds&quot;)\n    private List&lt;String&gt; userIds;\n}\n</code></pre>\n<p>and:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\n@RequestBody UserIds userIds)\n</code></pre>\n<p>But I have one question: Is there any way I can still use <code>@RequestBody List&lt;String&gt; userIds</code> ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14156071,"reputation":213,"user_id":10226771,"display_name":"flyordie"},"score":0,"creation_date":1673391730,"post_id":75076486,"comment_id":132487651,"body_markdown":"why you are not using directly spring data for finding directly instead of using @Query ; You can use smth like List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) the IDE will propose the good syntax for. See example here https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","body":"why you are not using directly spring data for finding directly instead of using @Query ; You can use smth like List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) the IDE will propose the good syntax for. See example here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html</a>"},{"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"score":0,"creation_date":1673392447,"post_id":75076486,"comment_id":132487775,"body_markdown":"It doesn&#39;t work neither like that: I got this Error: `Caused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;playerId&#39; found for type &#39;Tournament&#39;`","body":"It doesn&#39;t work neither like that: I got this Error: <code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;playerId&#39; found for type &#39;Tournament&#39;</code>"}],"answers":[{"comments":[{"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"score":0,"creation_date":1673426003,"post_id":75078855,"comment_id":132493717,"body_markdown":"Still undetected","body":"Still undetected"}],"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972043,"creation_date":1673416645,"answer_id":75078855,"question_id":75076486,"body_markdown":"try using the below code in your tournament.java:\r\n\r\n```java\r\n@ManyToMany(fetch = FetchType.EAGER)\r\n@JoinTable(name = &quot;PlayerTournament&quot;,\r\n           joinColumns = @JoinColumn(name = &quot;tournament_id&quot;),\r\n           inverseJoinColumns = @JoinColumn(name = &quot;player_id&quot;))\r\nprivate Set&lt;Player&gt; players= new HashSet&lt;&gt;();\r\n```","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>try using the below code in your tournament.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;PlayerTournament&quot;,\n           joinColumns = @JoinColumn(name = &quot;tournament_id&quot;),\n           inverseJoinColumns = @JoinColumn(name = &quot;player_id&quot;))\nprivate Set&lt;Player&gt; players= new HashSet&lt;&gt;();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"score":0,"creation_date":1673427002,"post_id":75080018,"comment_id":132494067,"body_markdown":"This is working fine! But there is a way to do it with a @Query?","body":"This is working fine! But there is a way to do it with a @Query?"}],"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673424934,"creation_date":1673424934,"answer_id":75080018,"question_id":75076486,"body_markdown":"You don&#39;t need `@Query` anatotion if you want to bring tournaments according to `playerId`. `Spring Boot` will handle it for you.\r\n\r\n    @Repository\r\n    public interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\r\n    \r\n        List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\r\n    }","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>You don't need <code>@Query</code> anatotion if you want to bring tournaments according to <code>playerId</code>. <code>Spring Boot</code> will handle it for you.</p>\n<pre><code>@Repository\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\n\n    List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"score":0,"creation_date":1673426222,"post_id":75080075,"comment_id":132493792,"body_markdown":"Where is *pt* coming from in the query?","body":"Where is <i>pt</i> coming from in the query?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1673428549,"post_id":75080075,"comment_id":132494580,"body_markdown":"@EmanuelePapa That was a typo. I fixed it.","body":"@EmanuelePapa That was a typo. I fixed it."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673428517,"creation_date":1673425238,"answer_id":75080075,"question_id":75076486,"body_markdown":"The problem is that you are confusing JPA/JPQL and SQL.\r\n\r\nSince you did not specify [`nativeQuery=true` in the `@Query` annotation][1] the query is considered a JPQL query. But JPQL operates on the level of entities and does not know about (mapping) tables.\r\n\r\nThe correct JPQL query should look like this:\r\n\r\n```sql\r\nselect t from Tournament t where t.players.id = :id\r\n```\r\n\r\nOf course you can stay with your current query and use `nativeQuery=true`.\r\n\r\nAnd finally as [fathi correctly notes, you don&#39;t need to specify a query at all][2] and can use query derivation with a method like.\r\n\r\n```\r\nList&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#nativeQuery()\r\n  [2]: https://stackoverflow.com/a/75080018/66686","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>The problem is that you are confusing JPA/JPQL and SQL.</p>\n<p>Since you did not specify <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#nativeQuery()\" rel=\"nofollow noreferrer\"><code>nativeQuery=true</code> in the <code>@Query</code> annotation</a> the query is considered a JPQL query. But JPQL operates on the level of entities and does not know about (mapping) tables.</p>\n<p>The correct JPQL query should look like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select t from Tournament t where t.players.id = :id\n</code></pre>\n<p>Of course you can stay with your current query and use <code>nativeQuery=true</code>.</p>\n<p>And finally as <a href=\"https://stackoverflow.com/a/75080018/66686\">fathi correctly notes, you don't need to specify a query at all</a> and can use query derivation with a method like.</p>\n<pre><code>List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\n</code></pre>\n"}],"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080075,"answer_count":3,"score":0,"last_activity_date":1683972043,"creation_date":1673389438,"question_id":75076486,"body_markdown":"I&#39;ve created two *@Entities* (**Player**, **Tournament**) that are linked with a *@Many-To-Many* relationship. \r\n\r\n### Player.java ###\r\n\r\n``` lang-java\r\n@Entity\r\n@Table\r\npublic class Player {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(updatable = false)\r\n    private String email;\r\n    @Column\r\n    private String name;\r\n\r\n    // ...\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;PlayerTournament&quot;,\r\n               joinColumns = @JoinColumn(name = &quot;player_id&quot;),\r\n               inverseJoinColumns = @JoinColumn(name = &quot;tournament_id&quot;))\r\n    private Set&lt;Tournament&gt; tournaments;\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\n### Tournament.java ###\r\n\r\n``` lang-java\r\n@Entity\r\n@Table\r\npublic class Tournament{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(updatable = false)\r\n    private String name;\r\n\r\n    // ...\r\n\r\n    @ManyToMany(mappedBy = &quot;tournaments&quot;)\r\n    private Set&lt;Player&gt; players= new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;Player&gt; getPlayers() { return players; }\r\n\r\n    public void setPlayers(Set&lt;Player&gt; players) { this.players = players; }\r\n\r\n\r\n    // ...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nNow, I want to get all *Tournaments* where a specific *Player* has played in:\r\n\r\n### TournamentService.java ###\r\n\r\n``` lang-java\r\n@Service\r\npublic class TournamentService {\r\n\r\n    @Autowired\r\n    private TournamentRepository repo;\r\n\r\n    public List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) {\r\n        return repo.findTournamentsByPlayerId(id);\r\n    }\r\n}\r\n```\r\n\r\n### TournamentRepository.java ###\r\n\r\n``` lang-java\r\n@Repository\r\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\r\n\r\n    @Query(&quot;select t from Tournament t join PlayerTournament pt on t.id = pt.tournament_id where pt.player_id = :id&quot;)\r\n    List&lt;Tournament&gt; findTournamentsByPlayerId(@Param(&quot;id&quot;) Long id);\r\n}\r\n```\r\n\r\nBut this code doesn&#39;t work.\r\n&lt;br&gt;When I try to run the Application i got this **Error**:\r\n&lt;br&gt; `Caused by: java.lang.IllegalArgumentException: Could not resolve entity reference: PlayerTournament`\r\n\r\nThe IDEE says that it `Cannot resolve symbol &#39;PlayerTournament&#39;` when I hover on the table&#39;s name.\r\n\r\nWhat am I doing wrong?\r\n&lt;br&gt;Thank you! \r\n","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>I've created two <em>@Entities</em> (<strong>Player</strong>, <strong>Tournament</strong>) that are linked with a <em>@Many-To-Many</em> relationship.</p>\n<h3>Player.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Player {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(updatable = false)\n    private String email;\n    @Column\n    private String name;\n\n    // ...\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;PlayerTournament&quot;,\n               joinColumns = @JoinColumn(name = &quot;player_id&quot;),\n               inverseJoinColumns = @JoinColumn(name = &quot;tournament_id&quot;))\n    private Set&lt;Tournament&gt; tournaments;\n\n    // ...\n\n}\n</code></pre>\n<h3>Tournament.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Tournament{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(updatable = false)\n    private String name;\n\n    // ...\n\n    @ManyToMany(mappedBy = &quot;tournaments&quot;)\n    private Set&lt;Player&gt; players= new HashSet&lt;&gt;();\n\n    public Set&lt;Player&gt; getPlayers() { return players; }\n\n    public void setPlayers(Set&lt;Player&gt; players) { this.players = players; }\n\n\n    // ...\n\n}\n\n</code></pre>\n<p>Now, I want to get all <em>Tournaments</em> where a specific <em>Player</em> has played in:</p>\n<h3>TournamentService.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TournamentService {\n\n    @Autowired\n    private TournamentRepository repo;\n\n    public List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) {\n        return repo.findTournamentsByPlayerId(id);\n    }\n}\n</code></pre>\n<h3>TournamentRepository.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\n\n    @Query(&quot;select t from Tournament t join PlayerTournament pt on t.id = pt.tournament_id where pt.player_id = :id&quot;)\n    List&lt;Tournament&gt; findTournamentsByPlayerId(@Param(&quot;id&quot;) Long id);\n}\n</code></pre>\n<p>But this code doesn't work.\n<br>When I try to run the Application i got this <strong>Error</strong>:\n<br> <code>Caused by: java.lang.IllegalArgumentException: Could not resolve entity reference: PlayerTournament</code></p>\n<p>The IDEE says that it <code>Cannot resolve symbol 'PlayerTournament'</code> when I hover on the table's name.</p>\n<p>What am I doing wrong?\n<br>Thank you!</p>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1683922296,"post_id":76239611,"comment_id":134446366,"body_markdown":"You&#39;re defining your `JTextFields` as class fields and local fields.","body":"You&#39;re defining your <code>JTextFields</code> as class fields and local fields."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683922858,"post_id":76239611,"comment_id":134446483,"body_markdown":"*common* error on this site: `JTextField textField2 = new JTextField();` is declaring  (and initializing) a local variable which is **not** the same as the field `JTextField textField2;` declared at the start of the class. The field gets the default value `null`","body":"<i>common</i> error on this site: <code>JTextField textField2 = new JTextField();</code> is declaring  (and initializing) a local variable which is <b>not</b> the same as the field <code>JTextField textField2;</code> declared at the start of the class. The field gets the default value <code>null</code>"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683923448,"creation_date":1683923448,"answer_id":76239761,"question_id":76239611,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nHere&#39;s a revised GUI:\r\n\r\n[![Guess][1]][1]\r\n\r\nCreating a `JPanel` to place in the `JFrame` helps to separate your concerns and focus on one part of the GUI at a time.\r\n\r\nUsing a `JFrame` is better than extending a `JFrame`.  You shouldn&#39;t extend any Java class unless you intend to override one or more of the class methods.\r\n\r\nA Java array has to be long enough to hold all of the elements of the array.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JTextfieldExample implements ActionListener {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew JTextfieldExample();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tJTextField textField1;\r\n    \tJTextField textField2;\r\n    \tJTextField textField3;\r\n    \tJButton button;\r\n    \tint[] newArr = new int[3];\r\n    \tint num1, num2, num3;\r\n    \t// we need to declare button and text field outside constructor so they\r\n    \t// become global\r\n    \r\n    \tJTextfieldExample() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\t// Text field 1\r\n    \t\ttextField1 = new JTextField(4);\r\n    \t\tpanel.add(textField1);\r\n    \t\t// Text field 2\r\n    \t\ttextField2 = new JTextField(4);\r\n    \t\tpanel.add(textField2);\r\n    \t\t// Text field 3\r\n    \t\ttextField3 = new JTextField(4);\r\n    \t\tpanel.add(textField3);\r\n    \t\t// i Button 1\r\n    \t\tbutton = new JButton(&quot;Submit Guess&quot;);\r\n    \t\tbutton.addActionListener(this);\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif (e.getSource() == button)// if source of event comes from button...\r\n    \t\t{\r\n    \t\t\tnewArr[0] = Integer.parseInt(textField1.getText());\r\n    \t\t\tnewArr[1] = Integer.parseInt(textField2.getText());\r\n    \t\t\tnewArr[2] = Integer.parseInt(textField3.getText());\r\n    \t\t\tSystem.out.println(newArr[0] + newArr[1] + newArr[2]);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tlv7b.png\r\n","title":"JTextField not giving output","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Here's a revised GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/tlv7b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tlv7b.png\" alt=\"Guess\" /></a></p>\n<p>Creating a <code>JPanel</code> to place in the <code>JFrame</code> helps to separate your concerns and focus on one part of the GUI at a time.</p>\n<p>Using a <code>JFrame</code> is better than extending a <code>JFrame</code>.  You shouldn't extend any Java class unless you intend to override one or more of the class methods.</p>\n<p>A Java array has to be long enough to hold all of the elements of the array.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class JTextfieldExample implements ActionListener {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JTextfieldExample();\n            }\n        });\n    }\n\n    JTextField textField1;\n    JTextField textField2;\n    JTextField textField3;\n    JButton button;\n    int[] newArr = new int[3];\n    int num1, num2, num3;\n    // we need to declare button and text field outside constructor so they\n    // become global\n\n    JTextfieldExample() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        // Text field 1\n        textField1 = new JTextField(4);\n        panel.add(textField1);\n        // Text field 2\n        textField2 = new JTextField(4);\n        panel.add(textField2);\n        // Text field 3\n        textField3 = new JTextField(4);\n        panel.add(textField3);\n        // i Button 1\n        button = new JButton(&quot;Submit Guess&quot;);\n        button.addActionListener(this);\n        panel.add(button);\n\n        return panel;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == button)// if source of event comes from button...\n        {\n            newArr[0] = Integer.parseInt(textField1.getText());\n            newArr[1] = Integer.parseInt(textField2.getText());\n            newArr[2] = Integer.parseInt(textField3.getText());\n            System.out.println(newArr[0] + newArr[1] + newArr[2]);\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28590960,"reputation":1,"user_id":21890208,"display_name":"BrokenFloppyDisc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683930935,"answer_count":1,"score":-1,"last_activity_date":1683971387,"creation_date":1683921889,"question_id":76239611,"body_markdown":"When is try to get an input from the textfield it gives me an error message:\r\n\r\n     &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \r\n      Cannot invoke &quot;javax.swing.JTextField.getText()&quot; because \r\n     &quot;this.textField2&quot; is null&quot;\r\n\r\nI have tried everything that I am aware and I&#39;m expecting to set the value of an integer using the:\r\n\r\n     x = textField1.getText();\r\n\r\n```\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JFrame;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Frame extends JFrame implements ActionListener\r\n{\r\n\r\n    JTextField textField1;\r\n    JTextField textField2;\r\n    JTextField textField3;\r\n    JButton button;\r\n    int[] newArr = new int[2];\r\n    int num1, num2, num3;\r\n    //we need to declare button and text field outside constructor so they become global \r\n   \r\n   \r\n   \r\n   Frame()\r\n   {\r\n      //Text box\r\n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      this.setLayout(new FlowLayout());\r\n      this.setPreferredSize(new Dimension(500,100));\r\n      //Text field 1\r\n      JTextField textField1 = new JTextField();\r\n      textField1.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField1);\r\n      //Text field 2\r\n      JTextField textField2 = new JTextField();\r\n      textField2.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField2);\r\n      //Text field 3\r\n      JTextField textField3 = new JTextField();\r\n      textField3.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField3);\r\n      //Button 1\r\n      button = new JButton(&quot;Submit Guess&quot;);\r\n      button.addActionListener(this);\r\n      this.add(button);\r\n      \r\n      \r\n      this.pack();\r\n      this.setVisible(true);\r\n      \r\n   }\r\n   public void actionPerformed(ActionEvent e)\r\n   {\r\n      if (e .getSource() == button)//if source of event comes from button...\r\n        {\r\n          newArr[0] = Integer.parseInt(textField1.getText());\r\n          newArr[1] = Integer.parseInt(textField2.getText());\r\n          newArr[2] = Integer.parseInt(textField3.getText());\r\n          System.out.println(newArr[0] + newArr[1] + newArr[2]);\r\n         \r\n      }\r\n      \r\n   }\r\n  \r\n}\r\n```\r\n\r\n","title":"JTextField not giving output","body":"<p>When is try to get an input from the textfield it gives me an error message:</p>\n<pre><code> &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \n  Cannot invoke &quot;javax.swing.JTextField.getText()&quot; because \n &quot;this.textField2&quot; is null&quot;\n</code></pre>\n<p>I have tried everything that I am aware and I'm expecting to set the value of an integer using the:</p>\n<pre><code> x = textField1.getText();\n</code></pre>\n<pre><code>import java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JFrame;\nimport java.awt.FlowLayout;\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Frame extends JFrame implements ActionListener\n{\n\n    JTextField textField1;\n    JTextField textField2;\n    JTextField textField3;\n    JButton button;\n    int[] newArr = new int[2];\n    int num1, num2, num3;\n    //we need to declare button and text field outside constructor so they become global \n   \n   \n   \n   Frame()\n   {\n      //Text box\n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      this.setLayout(new FlowLayout());\n      this.setPreferredSize(new Dimension(500,100));\n      //Text field 1\n      JTextField textField1 = new JTextField();\n      textField1.setPreferredSize(new Dimension(40,40));\n      this.add(textField1);\n      //Text field 2\n      JTextField textField2 = new JTextField();\n      textField2.setPreferredSize(new Dimension(40,40));\n      this.add(textField2);\n      //Text field 3\n      JTextField textField3 = new JTextField();\n      textField3.setPreferredSize(new Dimension(40,40));\n      this.add(textField3);\n      //Button 1\n      button = new JButton(&quot;Submit Guess&quot;);\n      button.addActionListener(this);\n      this.add(button);\n      \n      \n      this.pack();\n      this.setVisible(true);\n      \n   }\n   public void actionPerformed(ActionEvent e)\n   {\n      if (e .getSource() == button)//if source of event comes from button...\n        {\n          newArr[0] = Integer.parseInt(textField1.getText());\n          newArr[1] = Integer.parseInt(textField2.getText());\n          newArr[2] = Integer.parseInt(textField3.getText());\n          System.out.println(newArr[0] + newArr[1] + newArr[2]);\n         \n      }\n      \n   }\n  \n}\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683971165,"creation_date":1683968120,"answer_id":76241881,"question_id":76241748,"body_markdown":"According to [Generate Database Schema with Spring Data JPA][1], you need to include this:\r\n\r\n     spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create\r\n\r\nin the persistence unit properties.\r\n\r\nIf you still can&#39;t find the generated script after adding and using the above, try making the `create-target` pathname an absolute pathname.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-generate-db-schema","title":"Hibernate JPA not creating script for database schema","body":"<p>According to <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">Generate Database Schema with Spring Data JPA</a>, you need to include this:</p>\n<pre><code> spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create\n</code></pre>\n<p>in the persistence unit properties.</p>\n<p>If you still can't find the generated script after adding and using the above, try making the <code>create-target</code> pathname an absolute pathname.</p>\n"}],"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76241881,"answer_count":1,"score":0,"last_activity_date":1683971165,"creation_date":1683965932,"question_id":76241748,"body_markdown":"I have configured the `jakarta.persistence.schema-generation.scripts.create-target` property to generate a script into a file name. But it is surely not being created, as I searched my entire home directory (on MacOS) for the file using the `find` command and it is not being found.\r\n\r\nI have tried `foo.sql`, `./foo.sql` and `/tmp/foo.sql` and cannot find it anywhere in my home directory or `/tmp`\r\n\r\nThe database tables are indeed being created and I don&#39;t see any errors in the output.\r\n\r\nHere is my full simple code:\r\n\r\n`persistence.xml`\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;foo&quot;&gt;\r\n            &lt;class&gt;Foo&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql:///main&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;main&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;big1704cloudmain&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;foo&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;validate&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.create-target&quot; value=&quot;foo.sql&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n`Main.kt`\r\n\r\n    import jakarta.persistence.Entity\r\n    import jakarta.persistence.Id\r\n    import jakarta.persistence.Persistence\r\n    \r\n    @Entity\r\n    data class Foo (@Id val n: Int)\r\n    \r\n    fun main() {\r\n        Persistence.createEntityManagerFactory(&quot;foo&quot;)\r\n        println(&quot;Hello World!&quot;)\r\n    }\r\n\r\n`build.gradle.kts`\r\n\r\n    plugins {\r\n        kotlin(&quot;jvm&quot;) version &quot;latest.release&quot;\r\n        application\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.postgresql:postgresql:latest.release&quot;)\r\n        implementation(&quot;org.hibernate:hibernate-core:latest.release&quot;)\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&quot;MainKt&quot;)\r\n    }\r\n    \r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(18))\r\n        }\r\n    }\r\n\r\n`Run Output`\r\n\r\n    3:15:36 PM: Executing &#39;run&#39;...\r\n    \r\n    &gt; Task :compileKotlin UP-TO-DATE\r\n    &gt; Task :compileJava NO-SOURCE\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes UP-TO-DATE\r\n    \r\n    &gt; Task :run\r\n    Hello World!\r\n    \r\n    BUILD SUCCESSFUL in 737ms\r\n    3 actionable tasks: 1 executed, 2 up-to-date\r\n    May 13, 2023 3:15:36 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\n    INFO: HHH000204: Processing PersistenceUnitInfo [name: foo]\r\n    May 13, 2023 3:15:36 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate ORM core version 6.2.2.Final\r\n    May 13, 2023 3:15:36 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000406: Using bytecode reflection optimizer\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using built-in connection pool (not intended for production use)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: Loaded JDBC driver class: org.postgresql.Driver\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001012: Connecting with JDBC URL [jdbc:postgresql:///main]\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=main}\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH10001115: Connection pool size: 20 (min=1)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\r\n    INFO: HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@72ade7e3\r\n    May 13, 2023 3:15:36 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : bytebuddy\r\n    May 13, 2023 3:15:36 PM org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard resolveConstructor\r\n    INFO: HHH000182: No default (no-argument) constructor for class: Foo (class must be instantiated by Interceptor)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    May 13, 2023 3:15:36 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ff35a3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3:15:36 PM: Execution finished &#39;run&#39;.\r\n\r\n","title":"Hibernate JPA not creating script for database schema","body":"<p>I have configured the <code>jakarta.persistence.schema-generation.scripts.create-target</code> property to generate a script into a file name. But it is surely not being created, as I searched my entire home directory (on MacOS) for the file using the <code>find</code> command and it is not being found.</p>\n<p>I have tried <code>foo.sql</code>, <code>./foo.sql</code> and <code>/tmp/foo.sql</code> and cannot find it anywhere in my home directory or <code>/tmp</code></p>\n<p>The database tables are indeed being created and I don't see any errors in the output.</p>\n<p>Here is my full simple code:</p>\n<p><code>persistence.xml</code></p>\n<pre><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\n    &lt;persistence-unit name=&quot;foo&quot;&gt;\n        &lt;class&gt;Foo&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql:///main&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;main&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;big1704cloudmain&quot; /&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;foo&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;validate&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.create-target&quot; value=&quot;foo.sql&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><code>Main.kt</code></p>\n<pre><code>import jakarta.persistence.Entity\nimport jakarta.persistence.Id\nimport jakarta.persistence.Persistence\n\n@Entity\ndata class Foo (@Id val n: Int)\n\nfun main() {\n    Persistence.createEntityManagerFactory(&quot;foo&quot;)\n    println(&quot;Hello World!&quot;)\n}\n</code></pre>\n<p><code>build.gradle.kts</code></p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;latest.release&quot;\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.postgresql:postgresql:latest.release&quot;)\n    implementation(&quot;org.hibernate:hibernate-core:latest.release&quot;)\n}\n\napplication {\n    mainClass.set(&quot;MainKt&quot;)\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(18))\n    }\n}\n</code></pre>\n<p><code>Run Output</code></p>\n<pre><code>3:15:36 PM: Executing 'run'...\n\n&gt; Task :compileKotlin UP-TO-DATE\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :run\nHello World!\n\nBUILD SUCCESSFUL in 737ms\n3 actionable tasks: 1 executed, 2 up-to-date\nMay 13, 2023 3:15:36 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [name: foo]\nMay 13, 2023 3:15:36 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.2.2.Final\nMay 13, 2023 3:15:36 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000406: Using bytecode reflection optimizer\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: Loaded JDBC driver class: org.postgresql.Driver\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:postgresql:///main]\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=main}\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH10001115: Connection pool size: 20 (min=1)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\nINFO: HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@72ade7e3\nMay 13, 2023 3:15:36 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : bytebuddy\nMay 13, 2023 3:15:36 PM org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard resolveConstructor\nINFO: HHH000182: No default (no-argument) constructor for class: Foo (class must be instantiated by Interceptor)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nMay 13, 2023 3:15:36 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ff35a3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3:15:36 PM: Execution finished 'run'.\n</code></pre>\n"},{"tags":["java","selenium-webdriver","extentreports","selenium-extent-report"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683970408,"creation_date":1683970408,"answer_id":76242017,"question_id":76231354,"body_markdown":"You can append multiple reports in Extent `4.1.7` version of extent using json files generated by extent\r\nIf you have the .json file generated by extent Report , we can use those to create a single html report with all merged results\r\nBelow is a sample where i am running two test cases and generating the json for the extent and them I create a final html from ht generated json\r\nFor Your use case i would suggest to generate the json for every html report and then in the end you can consolidate into a single report \r\n\t\r\n**Below is a sample use case to Achieve this-**\r\n\r\n#1 First we create a common output Folder for extent json files so that we can merge them all from a common folder\r\n#2 Them we generate two sample html Reports with there extent json files which are then written to common json folder\r\n\r\n    JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\r\n\r\n#3 Then we Create a Third extent Report , Take all the generated json files from folder and add their data into this and it will create a merged Report\r\n\r\n     extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\r\n\r\n \r\n\r\nFull Code\r\n\r\n    import com.aventstack.extentreports.ExtentReports;\r\n    import com.aventstack.extentreports.reporter.ExtentSparkReporter;\r\n    import com.aventstack.extentreports.reporter.JsonFormatter;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    \r\n    public class TestBase {\r\n    \r\n    \tpublic static void main(String... a) throws IOException {\r\n    \r\n    \t\t//Creating a Directory for Extent Json Output and create it if doesn&#39;t exist\r\n    \t\tFile file = new File(&quot;ExtentJson&quot;);\r\n    \t\tif (!file.exists()) {\r\n    \t\t\tfile.mkdir();\r\n    \t\t}\r\n    \t\tString opFolder = file.getPath();\r\n    \r\n    \t\t//Creating individual Report Number 1\r\n    \t\tExtentSparkReporter spark = new ExtentSparkReporter(&quot;Report1.html&quot;);\r\n    \t\tJsonFormatter json = new JsonFormatter(opFolder + &quot;/Report1.json&quot;);\r\n    \t\tExtentReports extent = new ExtentReports();\r\n    \t\textent.createTest(&quot;test1&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 1&quot;)\r\n    \t\t\t.fail(&quot;step 2 from test 1&quot;);\r\n    \t\textent.attachReporter(json, spark);\r\n    \t\textent.flush();\r\n    \r\n    \t\t//Creating individual Report Number 2\r\n    \t\tExtentSparkReporter spark2 = new ExtentSparkReporter(&quot;Report2.html&quot;);\r\n    \t\tJsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\r\n    \t\tExtentReports extent2 = new ExtentReports();\r\n    \t\textent2.createTest(&quot;test2&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 2&quot;)\r\n    \t\t\t.fail(&quot;step 2 from test 2&quot;);\r\n    \t\textent2.attachReporter(json2, spark2);\r\n    \t\textent2.flush();\r\n    \r\n    \t\tExtentSparkReporter mergedSpark = new ExtentSparkReporter(&quot;spark.html&quot;);\r\n    \t\tExtentReports extentMerged = new ExtentReports();\r\n    \r\n    \t\t//Replace below logic to get all the .json files generated by extent in opFolder\r\n    \t\tFile jsonOPDirectory = new File(&quot;ExtentJson&quot;);\r\n    \t\tif (jsonOPDirectory.exists()) {\r\n    \t\t\tArrays.stream(jsonOPDirectory.listFiles()).forEach(jsonFile -&gt; {\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\textentMerged.createDomainFromJsonArchive(jsonFile.getPath());\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\textentMerged.attachReporter(mergedSpark);\r\n    \t\textentMerged.flush();\r\n    \t}\r\n    \r\n    }\r\n\r\nReference\r\n[Combine Multiple Reports][1]\r\n\r\n\r\n  [1]: https://www.extentreports.com/docs/versions/5/java/index.html#combine-multiple-reports","title":"Read the 2 extent reports and create a consolidated report by merging the test results","body":"<p>You can append multiple reports in Extent <code>4.1.7</code> version of extent using json files generated by extent\nIf you have the .json file generated by extent Report , we can use those to create a single html report with all merged results\nBelow is a sample where i am running two test cases and generating the json for the extent and them I create a final html from ht generated json\nFor Your use case i would suggest to generate the json for every html report and then in the end you can consolidate into a single report</p>\n<p><strong>Below is a sample use case to Achieve this-</strong></p>\n<p>#1 First we create a common output Folder for extent json files so that we can merge them all from a common folder\n#2 Them we generate two sample html Reports with there extent json files which are then written to common json folder</p>\n<pre><code>JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\n</code></pre>\n<p>#3 Then we Create a Third extent Report , Take all the generated json files from folder and add their data into this and it will create a merged Report</p>\n<pre><code> extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\n</code></pre>\n<p>Full Code</p>\n<pre><code>import com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\nimport com.aventstack.extentreports.reporter.JsonFormatter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\n\n\npublic class TestBase {\n\n    public static void main(String... a) throws IOException {\n\n        //Creating a Directory for Extent Json Output and create it if doesn't exist\n        File file = new File(&quot;ExtentJson&quot;);\n        if (!file.exists()) {\n            file.mkdir();\n        }\n        String opFolder = file.getPath();\n\n        //Creating individual Report Number 1\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;Report1.html&quot;);\n        JsonFormatter json = new JsonFormatter(opFolder + &quot;/Report1.json&quot;);\n        ExtentReports extent = new ExtentReports();\n        extent.createTest(&quot;test1&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 1&quot;)\n            .fail(&quot;step 2 from test 1&quot;);\n        extent.attachReporter(json, spark);\n        extent.flush();\n\n        //Creating individual Report Number 2\n        ExtentSparkReporter spark2 = new ExtentSparkReporter(&quot;Report2.html&quot;);\n        JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\n        ExtentReports extent2 = new ExtentReports();\n        extent2.createTest(&quot;test2&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 2&quot;)\n            .fail(&quot;step 2 from test 2&quot;);\n        extent2.attachReporter(json2, spark2);\n        extent2.flush();\n\n        ExtentSparkReporter mergedSpark = new ExtentSparkReporter(&quot;spark.html&quot;);\n        ExtentReports extentMerged = new ExtentReports();\n\n        //Replace below logic to get all the .json files generated by extent in opFolder\n        File jsonOPDirectory = new File(&quot;ExtentJson&quot;);\n        if (jsonOPDirectory.exists()) {\n            Arrays.stream(jsonOPDirectory.listFiles()).forEach(jsonFile -&gt; {\n\n                try {\n                    extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        extentMerged.attachReporter(mergedSpark);\n        extentMerged.flush();\n    }\n\n}\n</code></pre>\n<p>Reference\n<a href=\"https://www.extentreports.com/docs/versions/5/java/index.html#combine-multiple-reports\" rel=\"nofollow noreferrer\">Combine Multiple Reports</a></p>\n"}],"owner":{"account_id":28584010,"reputation":1,"user_id":21884629,"display_name":"Sandeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683970408,"creation_date":1683836444,"question_id":76231354,"body_markdown":"I am running the multiple automation suites in parallel and those all are creating the different extent reports. \r\nI want to my code to read the existing extent reports and create a consolidated one. is there any way to read the 2 extent reports and create a consolidated report by merging the test results?\r\n\r\nI tried below code but it is not merging the test results correctly. \r\n\r\nI am using 4.0.9 version for Extent Report.\r\n\r\n   \r\n\r\n       import com.aventstack.extentreports.ExtentReports;\r\n       import com.aventstack.extentreports.reporter.ExtentHtmlReporter;\r\n       import com.aventstack.extentreports.reporter.configuration.Protocol;\r\n       import com.aventstack.extentreports.reporter.configuration.Theme;\r\n    \r\n       public class ExtentReportMerger1 {\r\n            public static void main(String[] args) {\r\n            String file1Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation- codebase\\\\logs\\\\Reports\\\\ExtentReports1.html&quot;;\r\n            String file2Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation-codebase\\\\logs\\\\Reports\\\\ExtentReports2.html&quot;;\r\n    \r\n            \r\n            // Load the first report\r\n            ExtentReports extentReports = new ExtentReports();\r\n            ExtentHtmlReporter htmlReporter1 = new ExtentHtmlReporter(file1Path);\r\n            extentReports.attachReporter(htmlReporter1);\r\n    \r\n            // Load the second report\r\n            ExtentHtmlReporter htmlReporter2 = new ExtentHtmlReporter(file2Path);\r\n    \r\n            // Append the details from the second report to the first report\r\n    \t\textentReports.attachReporter(htmlReporter2);\r\n    \r\n            \r\n            htmlReporter1.config().setTheme(Theme.STANDARD);\r\n            htmlReporter1.config().setDocumentTitle(&quot;Merged Report&quot;);\r\n            htmlReporter1.config().setEncoding(&quot;UTF-8&quot;);\r\n            htmlReporter1.config().setProtocol(Protocol.HTTPS);\r\n            \r\n    \r\n            // Flush the reports\r\n            extentReports.flush();\r\n           \r\n    \r\n            System.out.println(&quot;Merged Extent reports successfully!&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI tried the above code and it appended the details from 2nd file to 1st but it was not correctly merged.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1uGM.png","title":"Read the 2 extent reports and create a consolidated report by merging the test results","body":"<p>I am running the multiple automation suites in parallel and those all are creating the different extent reports.\nI want to my code to read the existing extent reports and create a consolidated one. is there any way to read the 2 extent reports and create a consolidated report by merging the test results?</p>\n<p>I tried below code but it is not merging the test results correctly.</p>\n<p>I am using 4.0.9 version for Extent Report.</p>\n<pre><code>   import com.aventstack.extentreports.ExtentReports;\n   import com.aventstack.extentreports.reporter.ExtentHtmlReporter;\n   import com.aventstack.extentreports.reporter.configuration.Protocol;\n   import com.aventstack.extentreports.reporter.configuration.Theme;\n\n   public class ExtentReportMerger1 {\n        public static void main(String[] args) {\n        String file1Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation- codebase\\\\logs\\\\Reports\\\\ExtentReports1.html&quot;;\n        String file2Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation-codebase\\\\logs\\\\Reports\\\\ExtentReports2.html&quot;;\n\n        \n        // Load the first report\n        ExtentReports extentReports = new ExtentReports();\n        ExtentHtmlReporter htmlReporter1 = new ExtentHtmlReporter(file1Path);\n        extentReports.attachReporter(htmlReporter1);\n\n        // Load the second report\n        ExtentHtmlReporter htmlReporter2 = new ExtentHtmlReporter(file2Path);\n\n        // Append the details from the second report to the first report\n        extentReports.attachReporter(htmlReporter2);\n\n        \n        htmlReporter1.config().setTheme(Theme.STANDARD);\n        htmlReporter1.config().setDocumentTitle(&quot;Merged Report&quot;);\n        htmlReporter1.config().setEncoding(&quot;UTF-8&quot;);\n        htmlReporter1.config().setProtocol(Protocol.HTTPS);\n        \n\n        // Flush the reports\n        extentReports.flush();\n       \n\n        System.out.println(&quot;Merged Extent reports successfully!&quot;);\n    }\n}\n</code></pre>\n<p>I tried the above code and it appended the details from 2nd file to 1st but it was not correctly merged.</p>\n<p><a href=\"https://i.stack.imgur.com/I1uGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1uGM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hbase","jruby","apple-m1","hbase-shell"],"comments":[{"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"score":0,"creation_date":1653416969,"post_id":72367316,"comment_id":127846411,"body_markdown":"maybe caused by zulu-sdk: https://youtrack.jetbrains.com/issue/SCL-19382","body":"maybe caused by zulu-sdk: <a href=\"https://youtrack.jetbrains.com/issue/SCL-19382\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/SCL-19382</a>"},{"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"score":0,"creation_date":1653418734,"post_id":72367316,"comment_id":127847017,"body_markdown":"Replace zulu-sdk with open-jdk installed by brew and remove UseConcMarkSweepG, it doesn&#39;t work.","body":"Replace zulu-sdk with open-jdk installed by brew and remove UseConcMarkSweepG, it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683970104,"creation_date":1683970104,"answer_id":76241995,"question_id":72367316,"body_markdown":"The problem is described [here][1].\r\n\r\nUnfortunately they fixed it only for HBase 2.6.0 &amp; 3.0.0-alpha-3.\r\nSince only the jruby version is replaced, I loaded the latest Hbase 3.0.0 from [here][2], and cherry-picked the jruby JAR which is stored at `lib/ruby/jruby-complete-9.3.4.0.jar` after extracting the tar.gz file.\r\n\r\nI replaced this JAR with the one in my HBase installation (v 2.2.5 btw) at `[hbase-root-dir]/lib/ruby` and it worked. \r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HBASE-26983?jql=text%20~%20%22NotImplementedError%3A%20fstat%20unimplemented%20unsupported%22\r\n  [2]: https://archive.apache.org/dist/hbase/3.0.0-alpha-3/hbase-3.0.0-alpha-3-bin.tar.gz","title":"Hbase shell error on M1 MacOS: fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)","body":"<p>The problem is described <a href=\"https://issues.apache.org/jira/browse/HBASE-26983?jql=text%20%7E%20%22NotImplementedError%3A%20fstat%20unimplemented%20unsupported%22\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately they fixed it only for HBase 2.6.0 &amp; 3.0.0-alpha-3.\nSince only the jruby version is replaced, I loaded the latest Hbase 3.0.0 from <a href=\"https://archive.apache.org/dist/hbase/3.0.0-alpha-3/hbase-3.0.0-alpha-3-bin.tar.gz\" rel=\"nofollow noreferrer\">here</a>, and cherry-picked the jruby JAR which is stored at <code>lib/ruby/jruby-complete-9.3.4.0.jar</code> after extracting the tar.gz file.</p>\n<p>I replaced this JAR with the one in my HBase installation (v 2.2.5 btw) at <code>[hbase-root-dir]/lib/ruby</code> and it worked.</p>\n"}],"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683970104,"creation_date":1653414533,"question_id":72367316,"body_markdown":"\r\nIntall HBase by homebrewBut HBase shell run error on M1 MacOS, with the help of https://github.com/jruby/jruby/wiki/Native-Libraries, I add &quot;-Djruby.native.verbose=true&quot; to hbase shell commond, then get follow exception:\r\n\r\n```\r\nhbase shell\r\n/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\r\nFailed to load native POSIX impl; falling back on Java impl. Stacktrace follows.\r\njava.lang.UnsatisfiedLinkError: could not load FFI provider jnr.ffi.provider.jffi.Provider\r\n\tat jnr.ffi.provider.InvalidProvider$1.loadLibrary(InvalidProvider.java:48)\r\n\tat jnr.ffi.LibraryLoader.load(LibraryLoader.java:325)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:127)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\r\n\tat jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\r\n\tat jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\r\n\tat jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\r\n\tat jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\r\n\tat jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\r\n\tat jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\r\n\tat jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\r\n\tat jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\r\n\tat org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\r\n\tat org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\r\n\tat org.jruby.Ruby.newInstance(Ruby.java:706)\r\n\tat org.jruby.Main.internalRun(Main.java:273)\r\n\tat org.jruby.Main.run(Main.java:234)\r\n\tat org.jruby.Main.main(Main.java:206)\r\n\tat org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\r\nCaused by: java.lang.UnsatisfiedLinkError: could not get native definition for type `POINTER`, original error message follows: java.lang.UnsatisfiedLinkError: Unable to execute or load jffi binary stub from `/var/folders/fc/7tfwnckd6ks68plsldvspgc00000gn/T/`. Set `TMPDIR` or Java property `java.io.tmpdir` to a read/write path that is not mounted &quot;noexec&quot;.\r\n/Users/xiaowei/jffi5016109673047262420.dylib: dlopen(/Users/xiaowei/jffi5016109673047262420.dylib, 0x0001): tried: &#39;/Users/xiaowei/jffi5016109673047262420.dylib&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jffi5016109673047262420.dylib&#39; (no such file)\r\n\tat com.kenai.jffi.internal.StubLoader.tempLoadError(StubLoader.java:424)\r\n\tat com.kenai.jffi.internal.StubLoader.loadFromJar(StubLoader.java:409)\r\n\tat com.kenai.jffi.internal.StubLoader.load(StubLoader.java:278)\r\n\tat com.kenai.jffi.internal.StubLoader.&lt;clinit&gt;(StubLoader.java:487)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat com.kenai.jffi.Init.load(Init.java:68)\r\n\tat com.kenai.jffi.Foreign$InstanceHolder.getInstanceHolder(Foreign.java:49)\r\n\tat com.kenai.jffi.Foreign$InstanceHolder.&lt;clinit&gt;(Foreign.java:45)\r\n\tat com.kenai.jffi.Foreign.getInstance(Foreign.java:103)\r\n\tat com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:242)\r\n\tat com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\r\n\tat com.kenai.jffi.Type.resolveSize(Type.java:155)\r\n\tat com.kenai.jffi.Type.size(Type.java:138)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\r\n\tat jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\r\n\tat jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\r\n\tat jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:114)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\r\n\tat jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\r\n\tat jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\r\n\tat jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\r\n\tat jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\r\n\tat jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\r\n\tat jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\r\n\tat jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\r\n\tat jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\r\n\tat org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\r\n\tat org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\r\n\tat org.jruby.Ruby.newInstance(Ruby.java:706)\r\n\tat org.jruby.Main.internalRun(Main.java:273)\r\n\tat org.jruby.Main.run(Main.java:234)\r\n\tat org.jruby.Main.main(Main.java:206)\r\n\tat org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\r\n\r\n\tat com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:253)\r\n\tat com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\r\n\tat com.kenai.jffi.Type.resolveSize(Type.java:155)\r\n\tat com.kenai.jffi.Type.size(Type.java:138)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\r\n\tat jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\r\n\tat jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\r\n\tat jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:114)\r\n\t... 17 more\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hadoop/3.3.3/libexec/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hbase/2.4.5/libexec/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]\r\nHBase Shell\r\nUse &quot;help&quot; to get list of supported commands.\r\nUse &quot;exit&quot; to quit this interactive shell.\r\nFor Reference, please visit: http://hbase.apache.org/2.0/book.html#shell\r\nVersion 2.4.5, r03b8c0cf426cbae3284225b73040ec574d5bac34, Tue Jul 27 09:44:16 PDT 2021\r\nTook 0.0010 seconds\r\nNotImplementedError: fstat unimplemented unsupported or native support failed to load; see https://github.com/jruby/jruby/wiki/Native-Libraries\r\n  initialize at org/jruby/RubyIO.java:1015\r\n        open at org/jruby/RubyIO.java:1156\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/input-method.rb:141\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/context.rb:70\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb.rb:410\r\n  initialize at uri:classloader:/irb/hirb.rb:47\r\n       start at classpath:/jar-bootstrap.rb:225\r\n      &lt;main&gt; at classpath:/jar-bootstrap.rb:242\r\n\r\n```\r\n\r\nJAVA VERSION:\r\n```\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\r\n```\r\n\r\nHBase Version: HBase 2.4.5\r\n\r\nOS: MacOS 12.0.1\r\n\r\nArch: Apple M1\r\n\r\nAny Suggestion?","title":"Hbase shell error on M1 MacOS: fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)","body":"<p>Intall HBase by homebrewBut HBase shell run error on M1 MacOS, with the help of <a href=\"https://github.com/jruby/jruby/wiki/Native-Libraries\" rel=\"nofollow noreferrer\">https://github.com/jruby/jruby/wiki/Native-Libraries</a>, I add &quot;-Djruby.native.verbose=true&quot; to hbase shell commond, then get follow exception:</p>\n<pre><code>hbase shell\n/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\nFailed to load native POSIX impl; falling back on Java impl. Stacktrace follows.\njava.lang.UnsatisfiedLinkError: could not load FFI provider jnr.ffi.provider.jffi.Provider\n    at jnr.ffi.provider.InvalidProvider$1.loadLibrary(InvalidProvider.java:48)\n    at jnr.ffi.LibraryLoader.load(LibraryLoader.java:325)\n    at jnr.ffi.Library.loadLibrary(Library.java:127)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\n    at jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\n    at jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\n    at jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\n    at jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\n    at jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\n    at jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\n    at jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\n    at jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\n    at org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\n    at org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\n    at org.jruby.Ruby.newInstance(Ruby.java:706)\n    at org.jruby.Main.internalRun(Main.java:273)\n    at org.jruby.Main.run(Main.java:234)\n    at org.jruby.Main.main(Main.java:206)\n    at org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\nCaused by: java.lang.UnsatisfiedLinkError: could not get native definition for type `POINTER`, original error message follows: java.lang.UnsatisfiedLinkError: Unable to execute or load jffi binary stub from `/var/folders/fc/7tfwnckd6ks68plsldvspgc00000gn/T/`. Set `TMPDIR` or Java property `java.io.tmpdir` to a read/write path that is not mounted &quot;noexec&quot;.\n/Users/xiaowei/jffi5016109673047262420.dylib: dlopen(/Users/xiaowei/jffi5016109673047262420.dylib, 0x0001): tried: '/Users/xiaowei/jffi5016109673047262420.dylib' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jffi5016109673047262420.dylib' (no such file)\n    at com.kenai.jffi.internal.StubLoader.tempLoadError(StubLoader.java:424)\n    at com.kenai.jffi.internal.StubLoader.loadFromJar(StubLoader.java:409)\n    at com.kenai.jffi.internal.StubLoader.load(StubLoader.java:278)\n    at com.kenai.jffi.internal.StubLoader.&lt;clinit&gt;(StubLoader.java:487)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at com.kenai.jffi.Init.load(Init.java:68)\n    at com.kenai.jffi.Foreign$InstanceHolder.getInstanceHolder(Foreign.java:49)\n    at com.kenai.jffi.Foreign$InstanceHolder.&lt;clinit&gt;(Foreign.java:45)\n    at com.kenai.jffi.Foreign.getInstance(Foreign.java:103)\n    at com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:242)\n    at com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\n    at com.kenai.jffi.Type.resolveSize(Type.java:155)\n    at com.kenai.jffi.Type.size(Type.java:138)\n    at jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\n    at jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\n    at jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\n    at jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\n    at jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\n    at jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\n    at jnr.ffi.Library.loadLibrary(Library.java:114)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\n    at jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\n    at jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\n    at jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\n    at jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\n    at jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\n    at jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\n    at jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\n    at jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\n    at org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\n    at org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\n    at org.jruby.Ruby.newInstance(Ruby.java:706)\n    at org.jruby.Main.internalRun(Main.java:273)\n    at org.jruby.Main.run(Main.java:234)\n    at org.jruby.Main.main(Main.java:206)\n    at org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\n\n    at com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:253)\n    at com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\n    at com.kenai.jffi.Type.resolveSize(Type.java:155)\n    at com.kenai.jffi.Type.size(Type.java:138)\n    at jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\n    at jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\n    at jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\n    at jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\n    at jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\n    at jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\n    at jnr.ffi.Library.loadLibrary(Library.java:114)\n    ... 17 more\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hadoop/3.3.3/libexec/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hbase/2.4.5/libexec/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]\nHBase Shell\nUse &quot;help&quot; to get list of supported commands.\nUse &quot;exit&quot; to quit this interactive shell.\nFor Reference, please visit: http://hbase.apache.org/2.0/book.html#shell\nVersion 2.4.5, r03b8c0cf426cbae3284225b73040ec574d5bac34, Tue Jul 27 09:44:16 PDT 2021\nTook 0.0010 seconds\nNotImplementedError: fstat unimplemented unsupported or native support failed to load; see https://github.com/jruby/jruby/wiki/Native-Libraries\n  initialize at org/jruby/RubyIO.java:1015\n        open at org/jruby/RubyIO.java:1156\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/input-method.rb:141\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/context.rb:70\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb.rb:410\n  initialize at uri:classloader:/irb/hirb.rb:47\n       start at classpath:/jar-bootstrap.rb:225\n      &lt;main&gt; at classpath:/jar-bootstrap.rb:242\n\n</code></pre>\n<p>JAVA VERSION:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\n</code></pre>\n<p>HBase Version: HBase 2.4.5</p>\n<p>OS: MacOS 12.0.1</p>\n<p>Arch: Apple M1</p>\n<p>Any Suggestion?</p>\n"},{"tags":["java","jboss7.x","business-objects","bcm"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1527585518,"post_id":50580484,"comment_id":88170456,"body_markdown":"Possible duplicate of [ExceptionInInitializerError - JBoss 7.0.2](https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2\">ExceptionInInitializerError - JBoss 7.0.2</a>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1527596724,"post_id":50580484,"comment_id":88177850,"body_markdown":"Have you checked [this thread](https://developer.jboss.org/thread/203131) out ? It&#39;s similar but not identical to the linked question&#39;s most upvoted answer.","body":"Have you checked <a href=\"https://developer.jboss.org/thread/203131\" rel=\"nofollow noreferrer\">this thread</a> out ? It&#39;s similar but not identical to the linked question&#39;s most upvoted answer."},{"owner":{"account_id":11576433,"reputation":11,"user_id":8481578,"display_name":"Mukunda Pasumarthi"},"score":0,"creation_date":1527607982,"post_id":50580484,"comment_id":88185410,"body_markdown":"Hi @Aaron I have tried that too but no luck","body":"Hi @Aaron I have tried that too but no luck"}],"owner":{"account_id":11576433,"reputation":11,"user_id":8481578,"display_name":"Mukunda Pasumarthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683969470,"creation_date":1527584952,"question_id":50580484,"body_markdown":"I am trying to deploy a war file which creates `IEnterpriseSession`. I am able to successfully run on Tomcat, but when I run it on JBoss, I get the below error at this step `sessionMgr.logon(trustedPrincipal);`:\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n\t    at com.businessobjects.bcm.BCM.&amp;lt;clinit&amp;gt;(BCM.java:1144)\r\n\t    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getRandomString(TrustedPrincipal.java:252)\r\n\t    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getPassword(TrustedPrincipal.java:195)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody22(SessionMgr.java:850)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody20(SessionMgr.java:818)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody21$advice(SessionMgr.java:512)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\r\n\r\nI tried with the solution mentioned in the https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2, but I still couldn&#39;t get through.\r\n\r\nI was digging more into the error and this is where I am stuck \r\n\r\n    Caused by: java.lang.SecurityException: An internal FIPS 140 self-verification test has \r\n                                            failed.  Algorithm HMAC has been disabled\r\n    \tat com.rsa.cryptoj.f.ug.d(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.ug.b(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.nd.b(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.nd.c(Unknown Source)\r\n    \tat com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\r\n    \tat com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\r\n    \tat com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\r\n\r\nCan someone help me to get it working on JBoss?","title":"java.lang.ExceptionInInitializerError at com.businessobjects.bcm.BCM.&lt;clinit&gt;(BCM.java:1144)","body":"<p>I am trying to deploy a war file which creates <code>IEnterpriseSession</code>. I am able to successfully run on Tomcat, but when I run it on JBoss, I get the below error at this step <code>sessionMgr.logon(trustedPrincipal);</code>:</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\n    at com.businessobjects.bcm.BCM.&amp;lt;clinit&amp;gt;(BCM.java:1144)\n    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getRandomString(TrustedPrincipal.java:252)\n    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getPassword(TrustedPrincipal.java:195)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody22(SessionMgr.java:850)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody20(SessionMgr.java:818)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody21$advice(SessionMgr.java:512)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n</code></pre>\n<p>I tried with the solution mentioned in the <a href=\"https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2\">ExceptionInInitializerError - JBoss 7.0.2</a>, but I still couldn't get through.</p>\n<p>I was digging more into the error and this is where I am stuck</p>\n<pre><code>Caused by: java.lang.SecurityException: An internal FIPS 140 self-verification test has \n                                        failed.  Algorithm HMAC has been disabled\n    at com.rsa.cryptoj.f.ug.d(Unknown Source)\n    at com.rsa.cryptoj.f.ug.b(Unknown Source)\n    at com.rsa.cryptoj.f.nd.b(Unknown Source)\n    at com.rsa.cryptoj.f.nd.c(Unknown Source)\n    at com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\n    at com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\n    at com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\n</code></pre>\n<p>Can someone help me to get it working on JBoss?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-form"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1683937296,"post_id":76239423,"comment_id":134448179,"body_markdown":"what do you mean modify? what is it you want to actually do?","body":"what do you mean modify? what is it you want to actually do?"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1683944661,"post_id":76239423,"comment_id":134448599,"body_markdown":"Change the default error message.","body":"Change the default error message."},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1683976815,"post_id":76239423,"comment_id":134451128,"body_markdown":"@dur, that is not working, and the link you provided is for legacy oauth. not the new oauth (i.e 2.1). compactable with spring boot 3 and above","body":"@dur, that is not working, and the link you provided is for legacy oauth. not the new oauth (i.e 2.1). compactable with spring boot 3 and above"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1684007239,"post_id":76239423,"comment_id":134454782,"body_markdown":"@Thirumal OAuth2? Your Spring Security configuration doesn&#39;t contain OAuth2. If you use OAuth2, you should show your real Spring Security configuration.","body":"@Thirumal OAuth2? Your Spring Security configuration doesn&#39;t contain OAuth2. If you use OAuth2, you should show your real Spring Security configuration."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1684007408,"post_id":76239423,"comment_id":134454807,"body_markdown":"@Thirumal The answer in the other question is still working with Spring Boot 3/Spring Securits 6, see https://github.com/spring-projects/spring-security/blob/6.0.3/core/src/main/resources/org/springframework/security/messages.properties","body":"@Thirumal The answer in the other question is still working with Spring Boot 3/Spring Securits 6, see <a href=\"https://github.com/spring-projects/spring-security/blob/6.0.3/core/src/main/resources/org/springframework/security/messages.properties\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/6.0.3/core/s&zwnj;&#8203;rc/&hellip;</a>"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683979958,"answer_count":0,"score":0,"last_activity_date":1683969364,"creation_date":1683920013,"question_id":76239423,"body_markdown":"How to modify `Bad credentials` error message in spring security login?\r\n\r\nSecurityFilterChain\r\n```\r\n\tpublic SecurityFilterChain applicationSecurityFilterChain(HttpSecurity http)\r\n\t\t\tthrows Exception {\r\n\t\thttp.anonymous().disable();\r\n\t\thttp.cors().and().authorizeHttpRequests().permitAll();\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t//\t.requestMatchers(HttpMethod.POST, &quot;/user/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated())\r\n\t\t\t// Form login handles the redirect to the login page from the\r\n\t\t\t// authorization server filter chain\r\n\t\t\t.formLogin(Customizer.withDefaults());\r\n\t\thttp.csrf().disable();\r\n\t\treturn http.build();\r\n\t}\r\n```\r\nAlso, added `messages_en.properties` files in the `src/main/resource` \r\n\r\n```\r\nmessage.badCredentials=Invalid user name and password\r\n```\r\n\r\nStill getting the same error message.\r\n\r\nSpring boot 3.0.6","title":"How to modify Bad credentials message in spring security login?","body":"<p>How to modify <code>Bad credentials</code> error message in spring security login?</p>\n<p>SecurityFilterChain</p>\n<pre><code>    public SecurityFilterChain applicationSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http.anonymous().disable();\n        http.cors().and().authorizeHttpRequests().permitAll();\n        http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                //  .requestMatchers(HttpMethod.POST, &quot;/user/**&quot;).permitAll()\n                .anyRequest().authenticated())\n            // Form login handles the redirect to the login page from the\n            // authorization server filter chain\n            .formLogin(Customizer.withDefaults());\n        http.csrf().disable();\n        return http.build();\n    }\n</code></pre>\n<p>Also, added <code>messages_en.properties</code> files in the <code>src/main/resource</code></p>\n<pre><code>message.badCredentials=Invalid user name and password\n</code></pre>\n<p>Still getting the same error message.</p>\n<p>Spring boot 3.0.6</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683956952,"post_id":76237220,"comment_id":134449306,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1683965590,"post_id":76237220,"comment_id":134449988,"body_markdown":"@AlexMamo I want to retrieve data from the key but I can&#39;t get into the key","body":"@AlexMamo I want to retrieve data from the key but I can&#39;t get into the key"}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684043654,"post_id":76241936,"comment_id":134457099,"body_markdown":"Hey Aditya. Have you tried my solution above, does it work for you?","body":"Hey Aditya. Have you tried my solution above, does it work for you?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1684141230,"post_id":76241936,"comment_id":134467855,"body_markdown":"Yes I tried but still it&#39;s not retrieving","body":"Yes I tried but still it&#39;s not retrieving"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684141731,"post_id":76241936,"comment_id":134467964,"body_markdown":"&quot;still it&#39;s not retrieving&quot; doesn&#39;t provide enough information so I can further help. What exactly is the behavior? Do you have any errors?","body":"&quot;still it&#39;s not retrieving&quot; doesn&#39;t provide enough information so I can further help. What exactly is the behavior? Do you have any errors?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1684144400,"post_id":76241936,"comment_id":134468620,"body_markdown":"It&#39;s showing null I THINK FIRST I NEED TO RETRIEVE NUMBER THEN PASS THE NUMBERS IN CHILD THEN SO THAT IT CAN GO INSIDE NUMBER AND THEN FETCH THE DATA","body":"It&#39;s showing null I THINK FIRST I NEED TO RETRIEVE NUMBER THEN PASS THE NUMBERS IN CHILD THEN SO THAT IT CAN GO INSIDE NUMBER AND THEN FETCH THE DATA"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1684145742,"post_id":76241936,"comment_id":134468902,"body_markdown":"Have you tried to use `FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;).child(&quot;12&quot;)`, to get all children within the `12` node? Does it work that way?","body":"Have you tried to use <code>FirebaseDatabase.getInstance().getReference().child(&quot;OrdersA&zwnj;&#8203;dimin&quot;).child(&quot;12&quot;)</code>, to get all children within the <code>12</code> node? Does it work that way?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1685130574,"post_id":76241936,"comment_id":134623805,"body_markdown":"Yes I tried that but then it&#39;s only retrieving for &quot;12&quot;","body":"Yes I tried that but then it&#39;s only retrieving for &quot;12&quot;"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685341918,"post_id":76241936,"comment_id":134642733,"body_markdown":"In that case, you should [denormalize the data](https://stackoverflow.com/a/54258505/5246885), and create a single node will all your entries. Give it a try and tell me if it works.","body":"In that case, you should <a href=\"https://stackoverflow.com/a/54258505/5246885\">denormalize the data</a>, and create a single node will all your entries. Give it a try and tell me if it works."},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1685431451,"post_id":76241936,"comment_id":134654706,"body_markdown":"It works but data is different for every user.. storing it under single node will mix the data","body":"It works but data is different for every user.. storing it under single node will mix the data"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685431593,"post_id":76241936,"comment_id":134654739,"body_markdown":"That would be not a problem, because you can query that node to only get the data you actually need, right?","body":"That would be not a problem, because you can query that node to only get the data you actually need, right?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1685522199,"post_id":76241936,"comment_id":134670419,"body_markdown":"Can you provide me with correct code","body":"Can you provide me with correct code"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685522304,"post_id":76241936,"comment_id":134670453,"body_markdown":"You should make your own attempt given the information in the answer/comments and ask another question if something else comes up.","body":"You should make your own attempt given the information in the answer/comments and ask another question if something else comes up."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686549188,"post_id":76241936,"comment_id":134807910,"body_markdown":"Hey Aditya. Can I help you with other information regarding the initial question?","body":"Hey Aditya. Can I help you with other information regarding the initial question?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683969090,"creation_date":1683969090,"answer_id":76241936,"question_id":76237220,"body_markdown":"According to your last comment:\r\n\r\n&gt; I want to retrieve data from the key but I can&#39;t get into the key.\r\n\r\nThis is most likely because of the following line of code:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\r\n\r\n\r\nYour node name is `Orders` and not `OrdersAdimin`. So please change the above line into:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Orders&quot;)","title":"Retrieving data from firebase which is stored under key which is generated in other application","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>I want to retrieve data from the key but I can't get into the key.</p>\n</blockquote>\n<p>This is most likely because of the following line of code:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\n</code></pre>\n<p>Your node name is <code>Orders</code> and not <code>OrdersAdimin</code>. So please change the above line into:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Orders&quot;)\n</code></pre>\n"}],"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683969130,"creation_date":1683901101,"question_id":76237220,"body_markdown":"I want to retrieve data from a child &quot;Orders&quot; but data is stored under a number then data is stored under a key which is generated in another application but I can&#39;t find a way\r\n\r\nthis is the code of recycle view where data is being retrieved\r\n\r\n    recyclerVieww.setLayoutManager(new LinearLayoutManager(this));\r\n        FirebaseRecyclerOptions&lt;historyModel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;historyModel&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\r\n                                , historyModel.class)\r\n                        .build();\r\n\r\n        catAdapt = new historyAdapter(options);\r\n        recyclerVieww.setAdapter(catAdapt);\r\n\r\n\r\nthis is the JSON file:\r\n\r\n    &quot;Orders&quot;: {\r\n    &quot;12&quot;: {\r\n      &quot;-NV3N3KYwcjXo5hfZ6h1&quot;: {\r\n        &quot;BuyerPhoen&quot;: &quot;12&quot;,\r\n        &quot;PickUP&quot;: &quot;Of-16&quot;,\r\n        &quot;date&quot;: &quot;May 10, 2023&quot;,\r\n        &quot;orderId&quot;: &quot;-NV3N3KYwcjXo5hfZ6h1&quot;,\r\n        &quot;productName&quot;: &quot;Sprite(250ml)&quot;,\r\n        &quot;productPrice&quot;: &quot;25&quot;,\r\n        &quot;quantity&quot;: &quot;1&quot;,\r\n        &quot;time&quot;: &quot;12:06:37 PM&quot;,\r\n        &quot;totalPrice&quot;: 25\r\n      }\r\n    }\r\n","title":"Retrieving data from firebase which is stored under key which is generated in other application","body":"<p>I want to retrieve data from a child &quot;Orders&quot; but data is stored under a number then data is stored under a key which is generated in another application but I can't find a way</p>\n<p>this is the code of recycle view where data is being retrieved</p>\n<pre><code>recyclerVieww.setLayoutManager(new LinearLayoutManager(this));\n    FirebaseRecyclerOptions&lt;historyModel&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;historyModel&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\n                            , historyModel.class)\n                    .build();\n\n    catAdapt = new historyAdapter(options);\n    recyclerVieww.setAdapter(catAdapt);\n</code></pre>\n<p>this is the JSON file:</p>\n<pre><code>&quot;Orders&quot;: {\n&quot;12&quot;: {\n  &quot;-NV3N3KYwcjXo5hfZ6h1&quot;: {\n    &quot;BuyerPhoen&quot;: &quot;12&quot;,\n    &quot;PickUP&quot;: &quot;Of-16&quot;,\n    &quot;date&quot;: &quot;May 10, 2023&quot;,\n    &quot;orderId&quot;: &quot;-NV3N3KYwcjXo5hfZ6h1&quot;,\n    &quot;productName&quot;: &quot;Sprite(250ml)&quot;,\n    &quot;productPrice&quot;: &quot;25&quot;,\n    &quot;quantity&quot;: &quot;1&quot;,\n    &quot;time&quot;: &quot;12:06:37 PM&quot;,\n    &quot;totalPrice&quot;: 25\n  }\n}\n</code></pre>\n"},{"tags":["java","parquet","avro","apache-drill","duckdb"],"owner":{"account_id":9558972,"reputation":41,"user_id":7100524,"display_name":"Stefan Ziegler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683968571,"creation_date":1681048520,"question_id":75970956,"body_markdown":"I&#39;m trying to write local timestamps to a Parquet file with Java. As far as I understand, Avro supports local timestamps (https://avro.apache.org/docs/1.11.0/spec.html), which corresponds to Parquet&#39;s `TIMESTAMP(isAdjustedToUTC=false, unit=MILLIS `. My schema definition looks like:\r\n\r\n    LocalTimestampMillis datetimeType = LogicalTypes.localTimestampMillis();\r\n    field = new Schema.Field(attrDesc.getAttributeName(), Schema.createUnion(datetimeType.addToSchema(Schema.create(Schema.Type.LONG)), Schema.create(Schema.Type.NULL)), null, null);\r\n\r\nApache Drill and duckdb interpret the field as Bigint / int64 and do not show the timestamp but just the integer value.\r\n\r\nDid I miss something in the field definition or is this an incompatibility between libraries?\r\n\r\nI&#39;m using avro-1.11.1, parquet-avro-1.12.3, hadoop-core-1.2.1 and parquet-hadoop-1.12.3.\r\n\r\n","title":"Write parquet file with local timestamp with avro schema","body":"<p>I'm trying to write local timestamps to a Parquet file with Java. As far as I understand, Avro supports local timestamps (<a href=\"https://avro.apache.org/docs/1.11.0/spec.html\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/1.11.0/spec.html</a>), which corresponds to Parquet's <code>TIMESTAMP(isAdjustedToUTC=false, unit=MILLIS </code>. My schema definition looks like:</p>\n<pre><code>LocalTimestampMillis datetimeType = LogicalTypes.localTimestampMillis();\nfield = new Schema.Field(attrDesc.getAttributeName(), Schema.createUnion(datetimeType.addToSchema(Schema.create(Schema.Type.LONG)), Schema.create(Schema.Type.NULL)), null, null);\n</code></pre>\n<p>Apache Drill and duckdb interpret the field as Bigint / int64 and do not show the timestamp but just the integer value.</p>\n<p>Did I miss something in the field definition or is this an incompatibility between libraries?</p>\n<p>I'm using avro-1.11.1, parquet-avro-1.12.3, hadoop-core-1.2.1 and parquet-hadoop-1.12.3.</p>\n"},{"tags":["java","events","javafx","keyevent","event-driven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":7,"creation_date":1683913839,"post_id":76238811,"comment_id":134444929,"body_markdown":"Have you read [the documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--)? --- `char`s in Java are UTF-16 encoded. Unicode characters might be larger than a single UTF-16 `char`, so they &quot;would not fit&quot;.","body":"Have you read <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--\" rel=\"nofollow noreferrer\">the documentation</a>? --- <code>char</code>s in Java are UTF-16 encoded. Unicode characters might be larger than a single UTF-16 <code>char</code>, so they &quot;would not fit&quot;."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683915173,"post_id":76238811,"comment_id":134445175,"body_markdown":"Actually, I am not familiar with them. Any summary? From my initial reading UTF-16 is an encoding of Unicode.","body":"Actually, I am not familiar with them. Any summary? From my initial reading UTF-16 is an encoding of Unicode."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1683915594,"post_id":76238811,"comment_id":134445246,"body_markdown":"[&quot;...  in which each character is composed of either one or two 16-bit elements.&quot;](https://www.ibm.com/docs/en/i/7.2?topic=unicode-utf-16)","body":"<a href=\"https://www.ibm.com/docs/en/i/7.2?topic=unicode-utf-16\" rel=\"nofollow noreferrer\">&quot;...  in which each character is composed of either one or two 16-bit elements.&quot;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683916079,"post_id":76238811,"comment_id":134445326,"body_markdown":"The point is that `char`, which is a 16-bit number, is not big enough to represent all valid characters in the world. And as [the documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()) states: &quot;_The Unicode character **or sequence of characters** associated with the key typed event. Contains **multiple elements** if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself_&quot;.","body":"The point is that <code>char</code>, which is a 16-bit number, is not big enough to represent all valid characters in the world. And as <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\" rel=\"nofollow noreferrer\">the documentation</a> states: &quot;<i>The Unicode character <b>or sequence of characters</b> associated with the key typed event. Contains <b>multiple elements</b> if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself</i>&quot;."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683916683,"post_id":76238811,"comment_id":134445406,"body_markdown":"So, you mean that this string length may be 2. Do you please suggest any character that I can copy and paste in my textfield that will result in length of 2?","body":"So, you mean that this string length may be 2. Do you please suggest any character that I can copy and paste in my textfield that will result in length of 2?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683916804,"post_id":76238811,"comment_id":134445421,"body_markdown":"@OsamaEl-Ghonimy If you copy and paste it, it&#39;s not going to generate a key event (or if it does, it&#39;ll be the key stroke combination that is used to trigger the paste command, such as ctrl-V, not the text that was pasted). Try some emojis, if your keyboard has a mechanism to type them.","body":"@OsamaEl-Ghonimy If you copy and paste it, it&#39;s not going to generate a key event (or if it does, it&#39;ll be the key stroke combination that is used to trigger the paste command, such as ctrl-V, not the text that was pasted). Try some emojis, if your keyboard has a mechanism to type them."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1683916912,"post_id":76238811,"comment_id":134445436,"body_markdown":"If you&#39;re registering an event handler for key events on a text field, you are almost certainly doing the wrong thing anyway.","body":"If you&#39;re registering an event handler for key events on a text field, you are almost certainly doing the wrong thing anyway."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683917059,"post_id":76238811,"comment_id":134445461,"body_markdown":"Why? I am practicing converting the input length while I write. So, when I type a digit, it is converted, not when I press a button. Any other suggestion?","body":"Why? I am practicing converting the input length while I write. So, when I type a digit, it is converted, not when I press a button. Any other suggestion?"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683917127,"post_id":76238811,"comment_id":134445471,"body_markdown":"Another question: So, how I test if the input is digit or not. I think texting ```Character.isDigit(e.getCharacter().charAt(0))``` will not be right in case of character of length 2","body":"Another question: So, how I test if the input is digit or not. I think texting <code>Character.isDigit(e.getCharacter().charAt(0))</code> will not be right in case of character of length 2"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683917912,"post_id":76238811,"comment_id":134445603,"body_markdown":"&quot;_So, you mean that this string length may be 2. Do you please suggest any character..._&quot; -- Example: `&quot;&#152686;&quot;.length()` will return `2`.","body":"&quot;<i>So, you mean that this string length may be 2. Do you please suggest any character...</i>&quot; -- Example: <code>&quot;&quot;.length()</code> will return <code>2</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1683918228,"post_id":76238811,"comment_id":134445647,"body_markdown":"&quot;_So, when I type a digit, it is converted, not when I press a button_&quot; -- If you&#39;re trying to dynamically convert the text to a number, then that should be done via a `TextFormatter`. If you&#39;re trying to dynamically get the &quot;length&quot; of the text field&#39;s text, then you should do something like `aTextField.textProperty().length()`, which will return an `IntegerBinding`. For instance, you could have a label show the length of a text field&#39;s text by doing `aLabel.textProperty().bind(aTextField.textProperty().length().asString())`.","body":"&quot;<i>So, when I type a digit, it is converted, not when I press a button</i>&quot; -- If you&#39;re trying to dynamically convert the text to a number, then that should be done via a <code>TextFormatter</code>. If you&#39;re trying to dynamically get the &quot;length&quot; of the text field&#39;s text, then you should do something like <code>aTextField.textProperty().length()</code>, which will return an <code>IntegerBinding</code>. For instance, you could have a label show the length of a text field&#39;s text by doing <code>aLabel.textProperty().bind(aTextField.textProperty().length(&zwnj;&#8203;).asString())</code>."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683918997,"post_id":76238811,"comment_id":134445796,"body_markdown":"I think the problem is in my description. The input in textfield is a number representing a length in meter which I convert to cm as the user types by multiplying to 100. This is just a dummy example.\nThnaks for the letter.","body":"I think the problem is in my description. The input in textfield is a number representing a length in meter which I convert to cm as the user types by multiplying to 100. This is just a dummy example. Thnaks for the letter."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683921373,"post_id":76238811,"comment_id":134446191,"body_markdown":"is the question about `javafx.scene.input.KeyEvent`? From its [documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--): &quot;*The Unicode character or sequence of characters associated with the key typed event. Contains multiple elements if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself.*&quot;","body":"is the question about <code>javafx.scene.input.KeyEvent</code>? From its <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>The Unicode character or sequence of characters associated with the key typed event. Contains multiple elements if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself.</i>&quot;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683997692,"post_id":76238811,"comment_id":134453658,"body_markdown":"*&quot;I think the problem is in my description.&quot;*. No, it&#39;s in your implementation. If you rely on a key event handler on a text field, your application will be in an inconsistent state if, for example, the user copies and pastes text with the mouse. (And that is just one example. You won&#39;t improve the situation by also registering mouse listeners, etc.)","body":"<i>&quot;I think the problem is in my description.&quot;</i>. No, it&#39;s in your implementation. If you rely on a key event handler on a text field, your application will be in an inconsistent state if, for example, the user copies and pastes text with the mouse. (And that is just one example. You won&#39;t improve the situation by also registering mouse listeners, etc.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683997843,"post_id":76238811,"comment_id":134453681,"body_markdown":"If you want to limit the text that can be entered (by any means) in a text field, use a `TextFormatter` as previously suggested. If you need to respond to changes that are committed, include a converter in the text formatter and register a listener with the formatter&#39;s `valueProperty`. If you want to dynamically change something *as the user enters text* (without committing the change), register a listener with the text field&#39;s `textProperty`.","body":"If you want to limit the text that can be entered (by any means) in a text field, use a <code>TextFormatter</code> as previously suggested. If you need to respond to changes that are committed, include a converter in the text formatter and register a listener with the formatter&#39;s <code>valueProperty</code>. If you want to dynamically change something <i>as the user enters text</i> (without committing the change), register a listener with the text field&#39;s <code>textProperty</code>."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683937345,"post_id":76240187,"comment_id":134448181,"body_markdown":"This answer addresses the question well. I just want to point out that the OP never thought `KeyEvent#getCharacter()` **did** return a `char`, but rather was asking **why** it _did not_ return a `char` but rather a `String`. They did not understand, or simply did not know about, &quot;surrogate pairs&quot;. And when they stated they could use `Character.isDigit(e.getCharacter())`, they were _wishing_ it was possible as it&#39;s nicer to not have to call `charAt(0)` (part of their justification for why it &quot;should&quot; return `char` instead of `String`; again, without the understanding of surrogate pairs).","body":"This answer addresses the question well. I just want to point out that the OP never thought <code>KeyEvent#getCharacter()</code> <b>did</b> return a <code>char</code>, but rather was asking <b>why</b> it <i>did not</i> return a <code>char</code> but rather a <code>String</code>. They did not understand, or simply did not know about, &quot;surrogate pairs&quot;. And when they stated they could use <code>Character.isDigit(e.getCharacter())</code>, they were <i>wishing</i> it was possible as it&#39;s nicer to not have to call <code>charAt(0)</code> (part of their justification for why it &quot;should&quot; return <code>char</code> instead of <code>String</code>; again, without the understanding of surrogate pairs)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683940508,"post_id":76240187,"comment_id":134448404,"body_markdown":"@Slaw The Question explicitly, and repeatedly, says they expected a `char`. I believe it is important to stress careful reading of the Javadoc rather than programming by intuition.  Granted, they don&#39;t understand the nuances of `char` and `String` in Java, a confusing topic for any newbie.","body":"@Slaw The Question explicitly, and repeatedly, says they expected a <code>char</code>. I believe it is important to stress careful reading of the Javadoc rather than programming by intuition.  Granted, they don&#39;t understand the nuances of <code>char</code> and <code>String</code> in Java, a confusing topic for any newbie."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683952674,"post_id":76240187,"comment_id":134449029,"body_markdown":"Yes, but it&#39;s a language barrier. English is obviously (in my opinion) not their first language. The words they _used_ and what they _meant_ are different.","body":"Yes, but it&#39;s a language barrier. English is obviously (in my opinion) not their first language. The words they <i>used</i> and what they <i>meant</i> are different."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683998025,"post_id":76240187,"comment_id":134453705,"body_markdown":"I think this answer is fine, in the general context of the site, because other users who have the question that is actually asked will benefit from this answer. It&#39;s probably not helpful, or even somewhat unhelpful, to the OP, because they are posting an XY problem and this will likely encourage them to go forward with the wrong solution to the actual problem they are trying to solve.","body":"I think this answer is fine, in the general context of the site, because other users who have the question that is actually asked will benefit from this answer. It&#39;s probably not helpful, or even somewhat unhelpful, to the OP, because they are posting an XY problem and this will likely encourage them to go forward with the wrong solution to the actual problem they are trying to solve."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683968123,"creation_date":1683928919,"answer_id":76240187,"question_id":76238811,"body_markdown":"# `KeyEvent#getCharacter()` returns `String`\r\n\r\n&gt; Based on my understanding, the getCharacter() method of KeyEvent should return a char type.\r\n\r\nFrom where did you get that understanding? The Javadoc for [`javafx.scene.input.KeyEvent#getCharacter()`][1] says that method returns a [`String`][2] object reference, not a `char` primitive.\r\n\r\n# Avoid `char`\r\n\r\nUnderstand that `char` is a legacy type, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a `char` is physically incapable of representing most of the 149,186 characters defined in [Unicode][3].\r\n\r\n# Code points\r\n\r\nInstead use [code point][4] integer numbers to work with individual characters. \r\n\r\n    int[] codePoints = myKeyEvent.getCharacter().codePoints().toArray() ;\r\n\r\nYou can then interrogate if any of those [code points represents a digit][5].\r\n\r\n    boolean isDigit = Character.isDigit( myCodePoint ) ;\r\n\r\n# Example code\r\n\r\n```java\r\nString input = &quot;A1&#128567;&quot;;  // FACE WITH MEDICAL MASK  is hex 1F637, decimal 128,567.\r\n\r\nSystem.out.println( &quot;input.length(): &quot; + input.length() ) ;  \r\nSystem.out.println( &quot;Count code points: &quot; + input.codePoints().count() + &quot;\\n&quot; ) ;\r\n  \r\ninput.codePoints ( ).forEach (\r\n        ( int codePoint ) -&gt;\r\n        {\r\n            System.out.println (\r\n                    &quot;Code point: &quot; + codePoint +\r\n                            &quot; | name: &quot; + Character.getName ( codePoint ) +\r\n                            &quot; | digit: &quot; + Character.isDigit ( codePoint ) +\r\n                            &quot; | = &quot; + Character.toString ( codePoint ) +\r\n                            &quot;\\n- - - - - - - - - - - - - - - - - - - - &quot;\r\n            );\r\n        }\r\n);\r\n```\r\n\r\nSee this [code run at Ideone.com][6].\r\n\r\n```none\r\ninput.length(): 4\r\nCount code points: 3\r\n\r\nCode point: 65 | name: LATIN CAPITAL LETTER A | digit: false | = A\r\n- - - - - - - - - - - - - - - - - - - - \r\nCode point: 49 | name: DIGIT ONE | digit: true | = 1\r\n- - - - - - - - - - - - - - - - - - - - \r\nCode point: 128567 | name: FACE WITH MEDICAL MASK | digit: false | = &#128567;\r\n- - - - - - - - - - - - - - - - - - - - \r\n```\r\n\r\nYou said:\r\n\r\n&gt; I can just use Character.isDigit(e.getCharacter())\r\n\r\nNo, you cannot. The `isDigit` method takes either a legacy `char` or a modern code point `int`. The `getCharacter` method returns neither of those; that method returns a `String` as discussed above.\r\n\r\n\r\n----------\r\n\r\nFor background info, see the surprisingly entertaining article: [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) by Joel Spolsky.\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\r\n  [3]: https://en.wikipedia.org/wiki/Unicode\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)\r\n  [6]: https://ideone.com/FN4tgA","title":"Why KeyEvent getCharacter returns a string not a character","body":"<h1><code>KeyEvent#getCharacter()</code> returns <code>String</code></h1>\n<blockquote>\n<p>Based on my understanding, the getCharacter() method of KeyEvent should return a char type.</p>\n</blockquote>\n<p>From where did you get that understanding? The Javadoc for <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\" rel=\"nofollow noreferrer\"><code>javafx.scene.input.KeyEvent#getCharacter()</code></a> says that method returns a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> object reference, not a <code>char</code> primitive.</p>\n<h1>Avoid <code>char</code></h1>\n<p>Understand that <code>char</code> is a legacy type, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a <code>char</code> is physically incapable of representing most of the 149,186 characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<h1>Code points</h1>\n<p>Instead use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to work with individual characters.</p>\n<pre><code>int[] codePoints = myKeyEvent.getCharacter().codePoints().toArray() ;\n</code></pre>\n<p>You can then interrogate if any of those <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)\" rel=\"nofollow noreferrer\">code points represents a digit</a>.</p>\n<pre><code>boolean isDigit = Character.isDigit( myCodePoint ) ;\n</code></pre>\n<h1>Example code</h1>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;A1&quot;;  // FACE WITH MEDICAL MASK  is hex 1F637, decimal 128,567.\n\nSystem.out.println( &quot;input.length(): &quot; + input.length() ) ;  \nSystem.out.println( &quot;Count code points: &quot; + input.codePoints().count() + &quot;\\n&quot; ) ;\n  \ninput.codePoints ( ).forEach (\n        ( int codePoint ) -&gt;\n        {\n            System.out.println (\n                    &quot;Code point: &quot; + codePoint +\n                            &quot; | name: &quot; + Character.getName ( codePoint ) +\n                            &quot; | digit: &quot; + Character.isDigit ( codePoint ) +\n                            &quot; | = &quot; + Character.toString ( codePoint ) +\n                            &quot;\\n- - - - - - - - - - - - - - - - - - - - &quot;\n            );\n        }\n);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/FN4tgA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>input.length(): 4\nCount code points: 3\n\nCode point: 65 | name: LATIN CAPITAL LETTER A | digit: false | = A\n- - - - - - - - - - - - - - - - - - - - \nCode point: 49 | name: DIGIT ONE | digit: true | = 1\n- - - - - - - - - - - - - - - - - - - - \nCode point: 128567 | name: FACE WITH MEDICAL MASK | digit: false | = \n- - - - - - - - - - - - - - - - - - - - \n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>I can just use Character.isDigit(e.getCharacter())</p>\n</blockquote>\n<p>No, you cannot. The <code>isDigit</code> method takes either a legacy <code>char</code> or a modern code point <code>int</code>. The <code>getCharacter</code> method returns neither of those; that method returns a <code>String</code> as discussed above.</p>\n<hr />\n<p>For background info, see the surprisingly entertaining article: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><em>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</em></a> by Joel Spolsky.</p>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76240187,"answer_count":1,"score":0,"last_activity_date":1683968123,"creation_date":1683913582,"question_id":76238811,"body_markdown":"Based on my understanding, the ```getCharacter()``` method of ```KeyEvent``` should return a ```char``` type.\r\n\r\nFor example, if I have to check if the typed key is a digit, I can just use ```Character.isDigit(e.getCharacter())``` not ```Character.isDigit(e.getCharacter().charAt(0))```.\r\n\r\nI also checked the length of the returned string by printing ```e.getCharacter().length()``` it always returns ```1```. Any explanation or other usage of this string?","title":"Why KeyEvent getCharacter returns a string not a character","body":"<p>Based on my understanding, the <code>getCharacter()</code> method of <code>KeyEvent</code> should return a <code>char</code> type.</p>\n<p>For example, if I have to check if the typed key is a digit, I can just use <code>Character.isDigit(e.getCharacter())</code> not <code>Character.isDigit(e.getCharacter().charAt(0))</code>.</p>\n<p>I also checked the length of the returned string by printing <code>e.getCharacter().length()</code> it always returns <code>1</code>. Any explanation or other usage of this string?</p>\n"},{"tags":["java","mysql","hibernate","large-data-volumes","scrollableresults"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1429218787,"post_id":2826319,"comment_id":47509157,"body_markdown":"You may be able to partition your data so you don&#39;t have to read as much at a time, ref: http://stackoverflow.com/questions/8325745/how-to-implement-several-threads-in-java-for-downloading-a-single-table-data/29502316#29502316","body":"You may be able to partition your data so you don&#39;t have to read as much at a time, ref: <a href=\"http://stackoverflow.com/questions/8325745/how-to-implement-several-threads-in-java-for-downloading-a-single-table-data/29502316#29502316\" title=\"how to implement several threads in java for downloading a single table data\">stackoverflow.com/questions/8325745/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":128497,"reputation":51372,"user_id":326389,"accept_rate":69,"display_name":"at."},"score":0,"creation_date":1273770110,"post_id":2826441,"comment_id":2869579,"body_markdown":"That doesn&#39;t work either...  Try doing a select (batch or otherwise) where the offset is in the millions, it will take a very long time.  I&#39;m willing to bypass Hibernate, any suggestions for doing this without Hibernate?","body":"That doesn&#39;t work either...  Try doing a select (batch or otherwise) where the offset is in the millions, it will take a very long time.  I&#39;m willing to bypass Hibernate, any suggestions for doing this without Hibernate?"},{"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"score":0,"creation_date":1273784537,"post_id":2826441,"comment_id":2871412,"body_markdown":"Try this article for a solution to the LIMIT performance: http://www.facebook.com/note.php?note_id=206034210932","body":"Try this article for a solution to the LIMIT performance: <a href=\"http://www.facebook.com/note.php?note_id=206034210932\" rel=\"nofollow noreferrer\">facebook.com/note.php?note_id=206034210932</a>"}],"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273751683,"creation_date":1273751134,"answer_id":2826441,"question_id":2826319,"body_markdown":"With 90 million records, it sounds like you should be batching your SELECTs.  I&#39;ve done with with Oracle when doing the initial load into a distrbuted cache.  Looking at the MySQL documentation, the equivalent seems to be using the LIMIT clause: http://dev.mysql.com/doc/refman/5.0/en/select.html\r\n\r\nHere&#39;s an example:\r\n\r\n    SELECT * from Person\r\n    LIMIT 200, 100\r\n\r\nThis would return rows 201 through 300 of the `Person` table.\r\n\r\nYou&#39;d need to get the record count from your table first and then divide it by your batch size and work out your looping and `LIMIT` parameters from there.\r\n\r\nThe other benefit of this would be parallelism - you can execute multiple threads in parallel on this for faster processing.\r\n\r\nProcessing 90 million records also doesn&#39;t sound like the sweet spot for using Hibernate.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>With 90 million records, it sounds like you should be batching your SELECTs.  I've done with with Oracle when doing the initial load into a distrbuted cache.  Looking at the MySQL documentation, the equivalent seems to be using the LIMIT clause: <a href=\"http://dev.mysql.com/doc/refman/5.0/en/select.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.0/en/select.html</a></p>\n\n<p>Here's an example:</p>\n\n<pre><code>SELECT * from Person\nLIMIT 200, 100\n</code></pre>\n\n<p>This would return rows 201 through 300 of the <code>Person</code> table.</p>\n\n<p>You'd need to get the record count from your table first and then divide it by your batch size and work out your looping and <code>LIMIT</code> parameters from there.</p>\n\n<p>The other benefit of this would be parallelism - you can execute multiple threads in parallel on this for faster processing.</p>\n\n<p>Processing 90 million records also doesn't sound like the sweet spot for using Hibernate.</p>\n"},{"comments":[{"owner":{"account_id":12560,"reputation":10361,"user_id":24815,"display_name":"javashlook"},"score":3,"creation_date":1273760149,"post_id":2826512,"comment_id":2868261,"body_markdown":"Using a StatelessSession is especially nice tip!","body":"Using a StatelessSession is especially nice tip!"},{"owner":{"account_id":128497,"reputation":51372,"user_id":326389,"accept_rate":69,"display_name":"at."},"score":0,"creation_date":1273769966,"post_id":2826512,"comment_id":2869557,"body_markdown":"setFirstResult and setMaxResults is not a viable option.  I was right in my guess that it would be unusably slow.  Maybe that works for tiny tables, but very quickly it just takes way too long.  You can test this in the MySQL console by simply running &quot;select * from anything limit 1 offset 3000000&quot;.  That might take 30 minutes...","body":"setFirstResult and setMaxResults is not a viable option.  I was right in my guess that it would be unusably slow.  Maybe that works for tiny tables, but very quickly it just takes way too long.  You can test this in the MySQL console by simply running &quot;select * from anything limit 1 offset 3000000&quot;.  That might take 30 minutes..."},{"owner":{"account_id":16365,"reputation":8569,"user_id":35500,"display_name":"Michael"},"score":0,"creation_date":1273795284,"post_id":2826512,"comment_id":2872321,"body_markdown":"Running &quot;select * from geoplanet_locations limit 1 offset 1900000;&quot; against the YAHOO Geoplanet dataset (5 mil rows), returns in 1.34 seconds. If you have enough RAM to keep the index in RAM then I think your 30 minutes numbers are aways off. Funnily enough &quot;select * from geoplanet_locations where id &gt; 56047142 limit 10;&quot; returns in  essentially no time (regular client just returns 0.00).","body":"Running &quot;select * from geoplanet_locations limit 1 offset 1900000;&quot; against the YAHOO Geoplanet dataset (5 mil rows), returns in 1.34 seconds. If you have enough RAM to keep the index in RAM then I think your 30 minutes numbers are aways off. Funnily enough &quot;select * from geoplanet_locations where id &gt; 56047142 limit 10;&quot; returns in  essentially no time (regular client just returns 0.00)."},{"owner":{"account_id":120351,"reputation":3093,"user_id":312741,"accept_rate":57,"display_name":"darpet"},"score":3,"creation_date":1397566423,"post_id":2826512,"comment_id":35280661,"body_markdown":"@Michael How did you find out that MySQL connector fakes the scrolling ? Is it written somewhere ? I am interested because I like to use the scroll feature with NHibernate and I am using mysql connector for .NET and I like to check if also Mysql .Net connector also fakes it, or depends on the version ?","body":"@Michael How did you find out that MySQL connector fakes the scrolling ? Is it written somewhere ? I am interested because I like to use the scroll feature with NHibernate and I am using mysql connector for .NET and I like to check if also Mysql .Net connector also fakes it, or depends on the version ?"},{"owner":{"account_id":2816410,"reputation":4256,"user_id":2421349,"accept_rate":68,"display_name":"kibowki"},"score":0,"creation_date":1518624916,"post_id":2826512,"comment_id":84585314,"body_markdown":"Anyone know if MySQL connector faking the scroll is still the case?","body":"Anyone know if MySQL connector faking the scroll is still the case?"}],"tags":[],"owner":{"account_id":16365,"reputation":8569,"user_id":35500,"display_name":"Michael"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1273795072,"creation_date":1273751775,"answer_id":2826512,"question_id":2826319,"body_markdown":"Using setFirstResult and setMaxResults is your only option that I&#39;m aware of.\r\n\r\nTraditionally a scrollable resultset would only transfer rows to the client on an as required basis. Unfortunately the MySQL Connector/J actually fakes it, it executes the entire query and transports it to the client, so the driver actually has the entire result set loaded in RAM and will drip feed it to you (evidenced by your out of memory problems). You had the right idea, it&#39;s just shortcomings in the MySQL java driver.\r\n\r\nI found no way to get around this, so went with loading large chunks using the regular setFirst/max methods. Sorry to be the bringer of bad news.\r\n\r\nJust make sure to use a stateless session so there&#39;s no session level cache or dirty tracking etc.\r\n\r\nEDIT:\r\n\r\nYour UPDATE 2 is the best you&#39;re going to get unless you break out of the MySQL J/Connector. Though there&#39;s no reason you can&#39;t up the limit on the query. Provided you have enough RAM to hold the index this should be a somewhat cheap operation. I&#39;d modify it slightly, and grab a batch at a time, and use the highest id of that batch to grab the next batch.\r\n\r\nNote: this will only work if **other_conditions** use equality (no range conditions allowed) and have the last column of the index as **id**. \r\n\r\n    select * \r\n    from person \r\n    where id &gt; &lt;max_id_of_last_batch&gt; and &lt;other_conditions&gt; \r\n    order by id asc  \r\n    limit &lt;batch_size&gt;\r\n","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Using setFirstResult and setMaxResults is your only option that I'm aware of.</p>\n\n<p>Traditionally a scrollable resultset would only transfer rows to the client on an as required basis. Unfortunately the MySQL Connector/J actually fakes it, it executes the entire query and transports it to the client, so the driver actually has the entire result set loaded in RAM and will drip feed it to you (evidenced by your out of memory problems). You had the right idea, it's just shortcomings in the MySQL java driver.</p>\n\n<p>I found no way to get around this, so went with loading large chunks using the regular setFirst/max methods. Sorry to be the bringer of bad news.</p>\n\n<p>Just make sure to use a stateless session so there's no session level cache or dirty tracking etc.</p>\n\n<p>EDIT:</p>\n\n<p>Your UPDATE 2 is the best you're going to get unless you break out of the MySQL J/Connector. Though there's no reason you can't up the limit on the query. Provided you have enough RAM to hold the index this should be a somewhat cheap operation. I'd modify it slightly, and grab a batch at a time, and use the highest id of that batch to grab the next batch.</p>\n\n<p>Note: this will only work if <strong>other_conditions</strong> use equality (no range conditions allowed) and have the last column of the index as <strong>id</strong>. </p>\n\n<pre><code>select * \nfrom person \nwhere id &gt; &lt;max_id_of_last_batch&gt; and &lt;other_conditions&gt; \norder by id asc  \nlimit &lt;batch_size&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273775153,"creation_date":1273775153,"answer_id":2829267,"question_id":2826319,"body_markdown":"I&#39;ve used the Hibernate scroll functionality successfully before without it reading the entire result set in. Someone said that MySQL does not do true scroll cursors, but it claims to based on the JDBC dmd.supportsResultSetType(ResultSet.TYPE_SCROLL_INSENSITIVE) and searching around it seems like other people have used it. Make sure it&#39;s not caching the Person objects in the session - I&#39;ve used it on SQL queries where there was no entity to cache. You can call evict at the end of the loop to be sure or test with a sql query. Also play around with setFetchSize to optimize the number of trips to the server.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I've used the Hibernate scroll functionality successfully before without it reading the entire result set in. Someone said that MySQL does not do true scroll cursors, but it claims to based on the JDBC dmd.supportsResultSetType(ResultSet.TYPE_SCROLL_INSENSITIVE) and searching around it seems like other people have used it. Make sure it's not caching the Person objects in the session - I've used it on SQL queries where there was no entity to cache. You can call evict at the end of the loop to be sure or test with a sql query. Also play around with setFetchSize to optimize the number of trips to the server.</p>\n"},{"comments":[{"owner":{"account_id":128497,"reputation":51372,"user_id":326389,"accept_rate":69,"display_name":"at."},"score":0,"creation_date":1279258791,"post_id":3255846,"comment_id":3373094,"body_markdown":"the problem is hibernate doesn&#39;t even return from the query until all rows are retrieved, so I couldn&#39;t even evict() anything until it&#39;s all loaded anyway.","body":"the problem is hibernate doesn&#39;t even return from the query until all rows are retrieved, so I couldn&#39;t even evict() anything until it&#39;s all loaded anyway."},{"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"score":0,"creation_date":1279532117,"post_id":3255846,"comment_id":3394483,"body_markdown":"Sorry, I missed that in the question. If it is really a problem with the MySQL driver then there is probably no other options then splitting the query yourself into multiple queries, as it i was already posted. I&#39;m using ScrollableResults with the jTDS driver for MSSQL and that helped to prevent OutOfMemoryErrors when processing large datasets from a database, so the idea itself is probably not wrong.","body":"Sorry, I missed that in the question. If it is really a problem with the MySQL driver then there is probably no other options then splitting the query yourself into multiple queries, as it i was already posted. I&#39;m using ScrollableResults with the jTDS driver for MSSQL and that helped to prevent OutOfMemoryErrors when processing large datasets from a database, so the idea itself is probably not wrong."}],"tags":[],"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683967965,"creation_date":1279199951,"answer_id":3255846,"question_id":2826319,"body_markdown":"The problem could be, that Hibernate keeps references to all objects in the session until you close the session. That has nothing to do with query caching. Maybe it would help to evict() the objects from the session, after you are done writing the object to the file. If they are no longer references by the session, the garbage collector can free the memory and you won&#39;t run out of memory anymore.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>The problem could be, that Hibernate keeps references to all objects in the session until you close the session. That has nothing to do with query caching. Maybe it would help to evict() the objects from the session, after you are done writing the object to the file. If they are no longer references by the session, the garbage collector can free the memory and you won't run out of memory anymore.</p>\n"},{"tags":[],"owner":{"account_id":257067,"reputation":3617,"user_id":538222,"accept_rate":73,"display_name":"einnocent"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292006833,"creation_date":1292006833,"answer_id":4412209,"question_id":2826319,"body_markdown":"Actually you could have gotten what you wanted -- low-memory scrollable results with MySQL -- if you had used the answer mentioned here:\r\n\r\nhttps://stackoverflow.com/questions/2447324/streaming-large-result-sets-with-mysql\r\n\r\nNote that you will have problems with Hibernate lazy-loading because it will throw an exception on any queries performed before the scroll is finished.\r\n","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Actually you could have gotten what you wanted -- low-memory scrollable results with MySQL -- if you had used the answer mentioned here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2447324/streaming-large-result-sets-with-mysql\">Streaming large result sets with MySQL</a></p>\n\n<p>Note that you will have problems with Hibernate lazy-loading because it will throw an exception on any queries performed before the scroll is finished.</p>\n"},{"comments":[{"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"score":1,"creation_date":1367388141,"post_id":4793096,"comment_id":23358568,"body_markdown":"This is the way to go. See http://javaquirks.blogspot.dk/2007/12/mysql-streaming-result-set.html for additional reference.","body":"This is the way to go. See <a href=\"http://javaquirks.blogspot.dk/2007/12/mysql-streaming-result-set.html\" rel=\"nofollow noreferrer\">javaquirks.blogspot.dk/2007/12/mysql-streaming-result-set.ht&zwnj;&#8203;ml</a> for additional reference."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1377699509,"post_id":4793096,"comment_id":27182185,"body_markdown":"So are you guys saying that for MYSql use Integer.MIN_VALUE but for Oracle or others you should set the fetch size to a reasonable number?","body":"So are you guys saying that for MYSql use Integer.MIN_VALUE but for Oracle or others you should set the fetch size to a reasonable number?"},{"owner":{"account_id":288488,"reputation":1131,"user_id":588929,"display_name":"Haris"},"score":0,"creation_date":1378721658,"post_id":4793096,"comment_id":27542394,"body_markdown":"This solution is not database dependent. Same works for any database.","body":"This solution is not database dependent. Same works for any database."}],"tags":[],"owner":{"account_id":288488,"reputation":1131,"user_id":588929,"display_name":"Haris"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1519207130,"creation_date":1295955869,"answer_id":4793096,"question_id":2826319,"body_markdown":"Set fetch size in query to an optimal value as given below.\r\n\r\nAlso, when caching is not required, it may be better to use StatelessSession.\r\n\r\n    ScrollableResults results = session.createQuery(&quot;SELECT person FROM Person person&quot;)\r\n            .setReadOnly(true)\r\n            .setFetchSize( 1000 ) // &lt;&lt;--- !!!!\r\n            .setCacheable(false).scroll(ScrollMode.FORWARD_ONLY)","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Set fetch size in query to an optimal value as given below.</p>\n\n<p>Also, when caching is not required, it may be better to use StatelessSession.</p>\n\n<pre><code>ScrollableResults results = session.createQuery(\"SELECT person FROM Person person\")\n        .setReadOnly(true)\n        .setFetchSize( 1000 ) // &lt;&lt;--- !!!!\n        .setCacheable(false).scroll(ScrollMode.FORWARD_ONLY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1182372,"reputation":91,"user_id":1157029,"display_name":"ChechuHa"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1527253328,"creation_date":1326915568,"answer_id":8916276,"question_id":2826319,"body_markdown":"FetchSize must be `Integer.MIN_VALUE`, otherwise it won&#39;t work. \r\n\r\nIt must be literally taken from the official reference: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html ","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>FetchSize must be <code>Integer.MIN_VALUE</code>, otherwise it won't work. </p>\n\n<p>It must be literally taken from the official reference: <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html</a> </p>\n"},{"comments":[{"owner":{"account_id":934511,"reputation":4576,"user_id":963700,"display_name":"Darryl Miles"},"score":3,"creation_date":1376960623,"post_id":11746365,"comment_id":26895626,"body_markdown":"Why would you Session#flush() with a read-only session ?  Are you sure you did not mean Session#evict(row) or Session#clear() which would help keep level-1 cache size under control.","body":"Why would you Session#flush() with a read-only session ?  Are you sure you did not mean Session#evict(row) or Session#clear() which would help keep level-1 cache size under control."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1429203967,"post_id":11746365,"comment_id":47500086,"body_markdown":"(for followers, the code example used to mention flush but now mentions evict or clear)","body":"(for followers, the code example used to mention flush but now mentions evict or clear)"},{"owner":{"account_id":1419775,"reputation":131,"user_id":1344649,"accept_rate":50,"display_name":"Brent Fisher"},"score":0,"creation_date":1619967898,"post_id":11746365,"comment_id":119057617,"body_markdown":"I used this with Postgres and I left out  the `setFetchSize`. If you leave it in, it errors out.","body":"I used this with Postgres and I left out  the <code>setFetchSize</code>. If you leave it in, it errors out."}],"tags":[],"owner":{"account_id":1162344,"reputation":229,"user_id":1141605,"display_name":"Sean S."},"comment_count":3,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1392647170,"creation_date":1343758111,"answer_id":11746365,"question_id":2826319,"body_markdown":"You should be able to use a `ScrollableResults`, though it requires a few magic incantations to get working with MySQL. I wrote up my findings in a blog post (http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/) but I&#39;ll summarize here:\r\n\r\n&quot;The [JDBC] documentation says:\r\n\r\n    To enable this functionality, create a Statement instance in the following manner:\r\n    stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n                    java.sql.ResultSet.CONCUR_READ_ONLY);\r\n    stmt.setFetchSize(Integer.MIN_VALUE);\r\n\r\nThis can be done using the Query interface (this should work for Criteria as well) in version 3.2+ of the Hibernate API:\r\n\r\n    Query query = session.createQuery(query);\r\n    query.setReadOnly(true);\r\n    // MIN_VALUE gives hint to JDBC driver to stream results\r\n    query.setFetchSize(Integer.MIN_VALUE);\r\n    ScrollableResults results = query.scroll(ScrollMode.FORWARD_ONLY);\r\n    // iterate over results\r\n    while (results.next()) {\r\n        Object row = results.get();\r\n        // process row then release reference\r\n        // you may need to evict() as well\r\n    }\r\n    results.close();\r\n\r\nThis allows you to stream over the result set, however Hibernate will still cache results in the `Session`, so youll need to call `session.evict()` or `session.clear()` every so often. If you are only reading data, you might consider using a `StatelessSession`, though you should read its documentation beforehand.&quot;","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>You should be able to use a <code>ScrollableResults</code>, though it requires a few magic incantations to get working with MySQL. I wrote up my findings in a blog post (<a href=\"http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/\" rel=\"noreferrer\">http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/</a>) but I'll summarize here:</p>\n\n<p>\"The [JDBC] documentation says:</p>\n\n<pre><code>To enable this functionality, create a Statement instance in the following manner:\nstmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n                java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n\n<p>This can be done using the Query interface (this should work for Criteria as well) in version 3.2+ of the Hibernate API:</p>\n\n<pre><code>Query query = session.createQuery(query);\nquery.setReadOnly(true);\n// MIN_VALUE gives hint to JDBC driver to stream results\nquery.setFetchSize(Integer.MIN_VALUE);\nScrollableResults results = query.scroll(ScrollMode.FORWARD_ONLY);\n// iterate over results\nwhile (results.next()) {\n    Object row = results.get();\n    // process row then release reference\n    // you may need to evict() as well\n}\nresults.close();\n</code></pre>\n\n<p>This allows you to stream over the result set, however Hibernate will still cache results in the <code>Session</code>, so youll need to call <code>session.evict()</code> or <code>session.clear()</code> every so often. If you are only reading data, you might consider using a <code>StatelessSession</code>, though you should read its documentation beforehand.\"</p>\n"},{"tags":[],"owner":{"account_id":268568,"reputation":11,"user_id":2254013,"display_name":"smalbequi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365322508,"creation_date":1365321478,"answer_id":15860169,"question_id":2826319,"body_markdown":"I propose more than a [sample code][1], but a query template based on `Hibernate` to do this workaround for you (`pagination`, `scrolling` and `clearing` Hibernate session).\r\n\r\nIt can also easily be adapted to use an `EntityManager`.\r\n\r\n\r\n  [1]: https://github.com/smalbequi/hbm-scrollable","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I propose more than a <a href=\"https://github.com/smalbequi/hbm-scrollable\" rel=\"nofollow\">sample code</a>, but a query template based on <code>Hibernate</code> to do this workaround for you (<code>pagination</code>, <code>scrolling</code> and <code>clearing</code> Hibernate session).</p>\n\n<p>It can also easily be adapted to use an <code>EntityManager</code>.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1382977424,"post_id":19639916,"comment_id":29160256,"body_markdown":"Note that [link-only answers](http://meta.stackoverflow.com/tags/link-only-answers/info) are discouraged, SO answers should be the end-point of a search for a solution (vs. yet another stopover of references, which  tend to get stale over time). Please consider adding a stand-alone synopsis here, keeping the link as a reference.","body":"Note that <a href=\"http://meta.stackoverflow.com/tags/link-only-answers/info\">link-only answers</a> are discouraged, SO answers should be the end-point of a search for a solution (vs. yet another stopover of references, which  tend to get stale over time). Please consider adding a stand-alone synopsis here, keeping the link as a reference."}],"tags":[],"owner":{"account_id":3502404,"reputation":21,"user_id":2928872,"display_name":"user2928872"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382983493,"creation_date":1382977107,"answer_id":19639916,"question_id":2826319,"body_markdown":"recently i worked over a problem like this, and i wrote a blog about how face that problem. is very like, i hope be helpfull for any one. \r\ni use lazy list approach with partial adquisition. i Replaced the limit and offset or the pagination of query to a manual pagination. \r\nIn my example, the select returns 10 millions of records, i get them and insert them in a &quot;temporal table&quot;:\r\n\r\n    create or replace function load_records ()\r\n    returns VOID as $$\r\n    BEGIN\r\n    drop sequence if exists temp_seq;\r\n    create temp sequence temp_seq;\r\n    insert into tmp_table\r\n    SELECT linea.*\r\n    FROM\r\n    (\r\n    select nextval(&#39;temp_seq&#39;) as ROWNUM,* from table1 t1\r\n     join table2 t2 on (t2.fieldpk = t1.fieldpk)\r\n     join table3 t3 on (t3.fieldpk = t2.fieldpk)\r\n    ) linea;\r\n    END;\r\n    $$ language plpgsql;\r\n\r\nafter that, i can paginate without count each row but using the sequence assigned:\r\n\r\n    select * from tmp_table where counterrow &gt;= 9000000 and counterrow &lt;= 9025000\r\n\r\nFrom java perspective, i implemented this pagination through partial adquisition with a lazy list. this is, a list that extends from Abstract list and implements get() method. The get method can use a data access interface to continue get next set of data and release the memory heap:\r\n\r\n    @Override\r\n    public E get(int index) {\r\n      if (bufferParcial.size() &lt;= (index - lastIndexRoulette))\r\n      {\r\n    \tlastIndexRoulette = index;\r\n    \tbufferParcial.removeAll(bufferParcial);\r\n    \tbufferParcial = new ArrayList&lt;E&gt;();\r\n            bufferParcial.addAll(daoInterface.getBufferParcial());\r\n    \tif (bufferParcial.isEmpty())\r\n    \t{\r\n    \t\treturn null;\r\n    \t}\r\n    \t\t\t\r\n      }\r\n      return bufferParcial.get(index - lastIndexRoulette);&lt;br&gt;\r\n    }\r\n\r\nby other hand, the data access interface use query to paginate and implements one method to iterate progressively, each 25000 records to  complete it all.\r\n\r\nresults for this approach can be seen here\r\nhttp://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>recently i worked over a problem like this, and i wrote a blog about how face that problem. is very like, i hope be helpfull for any one. \ni use lazy list approach with partial adquisition. i Replaced the limit and offset or the pagination of query to a manual pagination. \nIn my example, the select returns 10 millions of records, i get them and insert them in a \"temporal table\":</p>\n\n<pre><code>create or replace function load_records ()\nreturns VOID as $$\nBEGIN\ndrop sequence if exists temp_seq;\ncreate temp sequence temp_seq;\ninsert into tmp_table\nSELECT linea.*\nFROM\n(\nselect nextval('temp_seq') as ROWNUM,* from table1 t1\n join table2 t2 on (t2.fieldpk = t1.fieldpk)\n join table3 t3 on (t3.fieldpk = t2.fieldpk)\n) linea;\nEND;\n$$ language plpgsql;\n</code></pre>\n\n<p>after that, i can paginate without count each row but using the sequence assigned:</p>\n\n<pre><code>select * from tmp_table where counterrow &gt;= 9000000 and counterrow &lt;= 9025000\n</code></pre>\n\n<p>From java perspective, i implemented this pagination through partial adquisition with a lazy list. this is, a list that extends from Abstract list and implements get() method. The get method can use a data access interface to continue get next set of data and release the memory heap:</p>\n\n<pre><code>@Override\npublic E get(int index) {\n  if (bufferParcial.size() &lt;= (index - lastIndexRoulette))\n  {\n    lastIndexRoulette = index;\n    bufferParcial.removeAll(bufferParcial);\n    bufferParcial = new ArrayList&lt;E&gt;();\n        bufferParcial.addAll(daoInterface.getBufferParcial());\n    if (bufferParcial.isEmpty())\n    {\n        return null;\n    }\n\n  }\n  return bufferParcial.get(index - lastIndexRoulette);&lt;br&gt;\n}\n</code></pre>\n\n<p>by other hand, the data access interface use query to paginate and implements one method to iterate progressively, each 25000 records to  complete it all.</p>\n\n<p>results for this approach can be seen here\n<a href=\"http://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html\" rel=\"nofollow\">http://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html</a></p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429218900,"creation_date":1429218900,"answer_id":29686120,"question_id":2826319,"body_markdown":"Another option if you&#39;re &quot;running out of RAM&quot; is to just request say, one column instead of the entire object https://stackoverflow.com/questions/58561/hibernate-criteria-how-to-use-criteria-to-return-only-one-element-of-an-object/29683153#29683153 (saves a lot of CPU process time to boot).","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Another option if you're \"running out of RAM\" is to just request say, one column instead of the entire object <a href=\"https://stackoverflow.com/questions/58561/hibernate-criteria-how-to-use-criteria-to-return-only-one-element-of-an-object/29683153#29683153\">How to use hibernate criteria to return only one element of an object instead the entire object?</a> (saves a lot of CPU process time to boot).</p>\n"},{"comments":[{"owner":{"account_id":3910727,"reputation":1256,"user_id":3236163,"display_name":"elyalvarado"},"score":0,"creation_date":1524805423,"post_id":50055487,"comment_id":87127527,"body_markdown":"Its useful to know it works for you, however the original question was about MySQL, so you might suggest checking out if the mysql driver has the useCursors option, or ask the user if he has tried that","body":"Its useful to know it works for you, however the original question was about MySQL, so you might suggest checking out if the mysql driver has the useCursors option, or ask the user if he has tried that"}],"tags":[],"owner":{"account_id":13454474,"reputation":1,"user_id":9708377,"display_name":"manu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524804961,"creation_date":1524804961,"answer_id":50055487,"question_id":2826319,"body_markdown":"For me it worked properly when setting useCursors=true, otherwise The Scrollable Resultset ignores all the implementations of fetch size, in my case it was 5000 but Scrollable Resultset fetched millions of records at once causing excessive memory usage. underlying DB is MSSQLServer.\r\n\r\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:jtds:sqlserver://localhost:1433/ACS;TDS=8.0;useCursors=true&lt;/property&gt;","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>For me it worked properly when setting useCursors=true, otherwise The Scrollable Resultset ignores all the implementations of fetch size, in my case it was 5000 but Scrollable Resultset fetched millions of records at once causing excessive memory usage. underlying DB is MSSQLServer.</p>\n\n<p>jdbc:jtds:sqlserver://localhost:1433/ACS;TDS=8.0;useCursors=true</p>\n"}],"owner":{"account_id":128497,"reputation":51372,"user_id":326389,"accept_rate":69,"display_name":"at."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91403,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":2826512,"answer_count":12,"score":59,"last_activity_date":1683967965,"creation_date":1273749697,"question_id":2826319,"body_markdown":"I simply need to read each row in a table in my MySQL database using Hibernate and write a file based on it.  But there are 90 million rows and they are pretty big.  So it seemed like the following would be appropriate:\r\n\r\n    ScrollableResults results = session.createQuery(&quot;SELECT person FROM Person person&quot;)\r\n                .setReadOnly(true).setCacheable(false).scroll(ScrollMode.FORWARD_ONLY);\r\n    while (results.next())\r\n        storeInFile(results.get()[0]);\r\n\r\nThe problem is the above will try and load all 90 million rows into RAM before moving on to the while loop... and that will kill my memory with OutOfMemoryError: Java heap space exceptions :(.\r\n\r\nSo I guess ScrollableResults isn&#39;t what I was looking for?  What is the proper way to handle this?  I don&#39;t mind if this while loop takes days (well I&#39;d love it to not).\r\n\r\nI guess the only other way to handle this is to use setFirstResult and setMaxResults to iterate through the results and just use regular Hibernate results instead of ScrollableResults.  That feels like it will be inefficient though and will start taking a ridiculously long time when I&#39;m calling setFirstResult on the 89 millionth row...\r\n\r\nUPDATE: setFirstResult/setMaxResults doesn&#39;t work, it turns out to take an unusably long time to get to the offsets like I feared.  There must be a solution here!  Isn&#39;t this a pretty standard procedure??  I&#39;m willing to forgo Hibernate and use JDBC or whatever it takes.\r\n\r\nUPDATE 2: the solution I&#39;ve come up with which works ok, not great, is basically of the form:\r\n\r\n    select * from person where id &gt; &lt;offset&gt; and &lt;other_conditions&gt; limit 1\r\n\r\nSince I have other conditions, even all in an index, it&#39;s still not as fast as I&#39;d like it to be...  so still open for other suggestions..","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I simply need to read each row in a table in my MySQL database using Hibernate and write a file based on it.  But there are 90 million rows and they are pretty big.  So it seemed like the following would be appropriate:</p>\n\n<pre><code>ScrollableResults results = session.createQuery(\"SELECT person FROM Person person\")\n            .setReadOnly(true).setCacheable(false).scroll(ScrollMode.FORWARD_ONLY);\nwhile (results.next())\n    storeInFile(results.get()[0]);\n</code></pre>\n\n<p>The problem is the above will try and load all 90 million rows into RAM before moving on to the while loop... and that will kill my memory with OutOfMemoryError: Java heap space exceptions :(.</p>\n\n<p>So I guess ScrollableResults isn't what I was looking for?  What is the proper way to handle this?  I don't mind if this while loop takes days (well I'd love it to not).</p>\n\n<p>I guess the only other way to handle this is to use setFirstResult and setMaxResults to iterate through the results and just use regular Hibernate results instead of ScrollableResults.  That feels like it will be inefficient though and will start taking a ridiculously long time when I'm calling setFirstResult on the 89 millionth row...</p>\n\n<p>UPDATE: setFirstResult/setMaxResults doesn't work, it turns out to take an unusably long time to get to the offsets like I feared.  There must be a solution here!  Isn't this a pretty standard procedure??  I'm willing to forgo Hibernate and use JDBC or whatever it takes.</p>\n\n<p>UPDATE 2: the solution I've come up with which works ok, not great, is basically of the form:</p>\n\n<pre><code>select * from person where id &gt; &lt;offset&gt; and &lt;other_conditions&gt; limit 1\n</code></pre>\n\n<p>Since I have other conditions, even all in an index, it's still not as fast as I'd like it to be...  so still open for other suggestions..</p>\n"},{"tags":["java","maven","ssl-certificate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683888211,"post_id":76234959,"comment_id":134438922,"body_markdown":"I doubt it. But if it&#39;s now working for you, why would you want to?","body":"I doubt it. But if it&#39;s now working for you, why would you want to?"},{"owner":{"account_id":18052651,"reputation":64,"user_id":13121941,"display_name":"Sebin"},"score":0,"creation_date":1683893358,"post_id":76234959,"comment_id":134440115,"body_markdown":"@g00se    This is part of implementing whitesource security scan and I need to implement it in this way by only modifying the maven command","body":"@g00se    This is part of implementing whitesource security scan and I need to implement it in this way by only modifying the maven command"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1683910909,"post_id":76234959,"comment_id":134444307,"body_markdown":"@Sebin You can also add the certificate to the Java installation. It might be worthwhile to share a standard JDK with company certificates for all your developers.","body":"@Sebin You can also add the certificate to the Java installation. It might be worthwhile to share a standard JDK with company certificates for all your developers."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683892489,"creation_date":1683892489,"answer_id":76236028,"question_id":76234959,"body_markdown":"What you did -setting the default truststore to a Java keystore file that includes the custom certificate- is what the Maven documentation says to do in this scenario: https://maven.apache.org/guides/mini/guide-repository-ssl.html\r\n\r\nYou may need to use a copy of the default truststore (usually found at JAVA_HOME/jre/lib/security/cacerts) so it contains all the default certificates to also connect to other sites signed by well-known Certificate Authorities.","title":"How to add a certificate url in maven cli","body":"<p>What you did -setting the default truststore to a Java keystore file that includes the custom certificate- is what the Maven documentation says to do in this scenario: <a href=\"https://maven.apache.org/guides/mini/guide-repository-ssl.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-repository-ssl.html</a></p>\n<p>You may need to use a copy of the default truststore (usually found at JAVA_HOME/jre/lib/security/cacerts) so it contains all the default certificates to also connect to other sites signed by well-known Certificate Authorities.</p>\n"}],"owner":{"account_id":18052651,"reputation":64,"user_id":13121941,"display_name":"Sebin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683967519,"creation_date":1683883944,"question_id":76234959,"body_markdown":"I&#39;m building a Java maven project. While running maven install command, I&#39;m getting the following error\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nI tried downloading the certificates from the private artifactory and added it in the keystore. Now if I do maven command with flag,\r\n```\r\n-Djavax.net.ssl.trustStore=cacerts\r\n```\r\nmaven build is working fine. I want to know if is it possible to directly pass the URL of my artifactory certificate and make maven use it.","title":"How to add a certificate url in maven cli","body":"<p>I'm building a Java maven project. While running maven install command, I'm getting the following error</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I tried downloading the certificates from the private artifactory and added it in the keystore. Now if I do maven command with flag,</p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n</code></pre>\n<p>maven build is working fine. I want to know if is it possible to directly pass the URL of my artifactory certificate and make maven use it.</p>\n"},{"tags":["java","mysql","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1683904438,"post_id":76237664,"comment_id":134442836,"body_markdown":"If you want to use a native function you need to use a native query as well. JPA as you are using it above is supposed to be independent of the underlying database vendor, hence it is expected that MySQL specific function like quarter are not supported.","body":"If you want to use a native function you need to use a native query as well. JPA as you are using it above is supposed to be independent of the underlying database vendor, hence it is expected that MySQL specific function like quarter are not supported."},{"owner":{"account_id":14246456,"reputation":1,"user_id":10291354,"display_name":"JJ Lazzard"},"score":0,"creation_date":1684136348,"post_id":76237664,"comment_id":134466894,"body_markdown":"thanks OH GOD SPIDERS for the answer, yes i will use native query then!","body":"thanks OH GOD SPIDERS for the answer, yes i will use native query then!"}],"answers":[{"comments":[{"owner":{"account_id":14246456,"reputation":1,"user_id":10291354,"display_name":"JJ Lazzard"},"score":0,"creation_date":1684136389,"post_id":76238146,"comment_id":134466900,"body_markdown":"thanks Asgar for the answer, Understood","body":"thanks Asgar for the answer, Understood"}],"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683907665,"creation_date":1683907665,"answer_id":76238146,"question_id":76237664,"body_markdown":"There simply is no `QUARTER` function available in JPQL.\r\nWhy don&#39;t you use native query to get your result?","title":"JPA query does not work using sql function QUARTER","body":"<p>There simply is no <code>QUARTER</code> function available in JPQL.\nWhy don't you use native query to get your result?</p>\n"}],"owner":{"account_id":14246456,"reputation":1,"user_id":10291354,"display_name":"JJ Lazzard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683967291,"creation_date":1683904139,"question_id":76237664,"body_markdown":"Can you please help me with this problem? \r\nobjective is to extract all the tuples of a mySql table that fall within a precise quarter of each year, filtered on a Date type column\r\nI used EntityManager and mapped Persistence Entity classes from database on maven project editor Eclipse.\r\n\r\ncome si deve comporre questa query in formato stringa/parametri per farla girare attraverso una Jpa Query? l&#39;errore viene prodotto usando la parte finale con la funzione QUARTER\r\n\r\n```SQL\r\nSELECT \r\nCOUNT(*) \r\nFROM mle.Draw d \r\nWHERE (d.deleted IS NULL OR d.deleted != 1) \r\nAND d.lotteryName = &#39;ITA_LOTTO&#39;\r\nAND d.wheel = &#39;BARI&#39; \r\nAND QUARTER(d.drawDate) = 3;\r\n```\r\n\r\nif we insert the SQL query valued in edited mySDql directly on the DB it works correctly, while in the Java app we get this runtime error:\r\n\r\n```ERROR\r\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\r\n[127, 154] The right expression is not a valid expression. and encryptedText={}. Error: {}\r\njava.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\r\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\r\n[127, 154] The right expression is not a valid expression.\r\n```\r\n\r\nmaybe JPA doesn&#39;t support some sql native function like QUARTER?! can you solve the problem?","title":"JPA query does not work using sql function QUARTER","body":"<p>Can you please help me with this problem?\nobjective is to extract all the tuples of a mySql table that fall within a precise quarter of each year, filtered on a Date type column\nI used EntityManager and mapped Persistence Entity classes from database on maven project editor Eclipse.</p>\n<p>come si deve comporre questa query in formato stringa/parametri per farla girare attraverso una Jpa Query? l'errore viene prodotto usando la parte finale con la funzione QUARTER</p>\n<pre><code>SELECT \nCOUNT(*) \nFROM mle.Draw d \nWHERE (d.deleted IS NULL OR d.deleted != 1) \nAND d.lotteryName = 'ITA_LOTTO'\nAND d.wheel = 'BARI' \nAND QUARTER(d.drawDate) = 3;\n</code></pre>\n<p>if we insert the SQL query valued in edited mySDql directly on the DB it works correctly, while in the Java app we get this runtime error:</p>\n<pre><code>Exception Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\n[127, 154] The right expression is not a valid expression. and encryptedText={}. Error: {}\njava.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\n[127, 154] The right expression is not a valid expression.\n</code></pre>\n<p>maybe JPA doesn't support some sql native function like QUARTER?! can you solve the problem?</p>\n"},{"tags":["java","sql","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498894961,"post_id":44858118,"comment_id":76697234,"body_markdown":"@NeilStockton I&#39;ve updated my repository code","body":"@NeilStockton I&#39;ve updated my repository code"},{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498898332,"post_id":44858118,"comment_id":76697932,"body_markdown":"it comes from invoice table and the query invoked is &#39;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= ? group by c.id&#39;","body":"it comes from invoice table and the query invoked is &#39;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= ? group by c.id&#39;"},{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498898502,"post_id":44858118,"comment_id":76697979,"body_markdown":"@NeilStockton also i&#39;ve added service from which method is called","body":"@NeilStockton also i&#39;ve added service from which method is called"},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1498979987,"post_id":44858118,"comment_id":76715797,"body_markdown":"Since you are running a native query return `List&lt;Object[]&gt;` from your query method.","body":"Since you are running a native query return <code>List&lt;Object[]&gt;</code> from your query method."}],"answers":[{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499019084,"creation_date":1498898470,"answer_id":44859001,"question_id":44858118,"body_markdown":"It comes during mapping result set into java Invoice class (as you declared it as return type List&lt;Invoice&gt; for method findInvoiceCount() ). native query return in your case Object[] instead of List&lt;Invoice&gt;.\r\n\r\nYou can see it in log exception \r\n\r\n &gt;ResultSetImpl.findColumn(ResultSetImpl.java:1162\r\n\r\nSo it happens in result mapping stage ,after query has executed.\r\n\r\n    @Query(value = &quot;select c.id,c.business_name,count(i.id) from client \r\n              c join invoice i on c.id = i.client_id \r\n               where i.date &lt;= :agingDate group by c.id&quot;,nativeQuery=true)\r\n        List&lt;Invoice&gt; findInvoiceCount(@Param(&quot;agingDate&quot;)Date agingDate);\r\n\r\nspring data gets result set from query result and tries to map it into Invoice field by field (try to contruct Invoice class ). But actual type it&#39;s Object[].\r\n\r\nIf you need get some DTO as result your query , with fields like is result set : &#39;c.id,c.business_name,count(i.id)&#39; use @SqlResultSetMapping (you can map result columns from select query into your dto). Or change return type from List&lt;Invoice&gt;  to Object[] and iterate it as you need.\r\n\r\nHere is example for [Result Set Mapping: The Basics][1].\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/result-set-mapping-basics/","title":"sqlException : column not found JPA @query","body":"<p>It comes during mapping result set into java Invoice class (as you declared it as return type List for method findInvoiceCount() ). native query return in your case Object[] instead of List.</p>\n\n<p>You can see it in log exception </p>\n\n<blockquote>\n  <p>ResultSetImpl.findColumn(ResultSetImpl.java:1162</p>\n</blockquote>\n\n<p>So it happens in result mapping stage ,after query has executed.</p>\n\n<pre><code>@Query(value = \"select c.id,c.business_name,count(i.id) from client \n          c join invoice i on c.id = i.client_id \n           where i.date &lt;= :agingDate group by c.id\",nativeQuery=true)\n    List&lt;Invoice&gt; findInvoiceCount(@Param(\"agingDate\")Date agingDate);\n</code></pre>\n\n<p>spring data gets result set from query result and tries to map it into Invoice field by field (try to contruct Invoice class ). But actual type it's Object[].</p>\n\n<p>If you need get some DTO as result your query , with fields like is result set : 'c.id,c.business_name,count(i.id)' use @SqlResultSetMapping (you can map result columns from select query into your dto). Or change return type from List  to Object[] and iterate it as you need.</p>\n\n<p>Here is example for <a href=\"https://www.thoughts-on-java.org/result-set-mapping-basics/\" rel=\"noreferrer\">Result Set Mapping: The Basics</a>.</p>\n"},{"tags":[],"owner":{"account_id":26507185,"reputation":1,"user_id":20143162,"display_name":"Furkan Subay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683967256,"creation_date":1683909542,"answer_id":76238383,"question_id":44858118,"body_markdown":"Use, `nativeQuery=false`, because you have used the JQL query and not the SQL query. If you are using the SQL query, you can simply use the `nativeQuery=true`. ","title":"sqlException : column not found JPA @query","body":"<p>Use, <code>nativeQuery=false</code>, because you have used the JQL query and not the SQL query. If you are using the SQL query, you can simply use the <code>nativeQuery=true</code>.</p>\n"}],"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10979,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1683967256,"creation_date":1498891383,"question_id":44858118,"body_markdown":"I&#39;m using @query annotation but when I try to fetch count of records it throws\r\n\r\n    java.sql.SQLException: Column &#39;allowPartialPay&#39; not found.\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1162) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.ResultSetImpl.getBoolean(ResultSetImpl.java:1781) ~[mysql-connector-java-5.1.31.jar:na]\r\n\r\nI&#39;m writing my custom queries in repository.\r\n\r\nInvoiceRepository.java\r\n\r\n    public interface InvoiceRepository extends JpaRepository&lt;Invoice, Integer&gt;{\r\n    \r\n    \tInvoice findByInvoiceNumber(String invoiceNumber);\r\n    \r\n    \tList&lt;Invoice&gt; findByUserId(int id);\r\n    \r\n        @Query(value = &quot;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= :agingDate group by c.id&quot;,nativeQuery=true)\r\n        List&lt;Invoice&gt; findInvoiceCount(@Param(&quot;agingDate&quot;)Date agingDate);\r\n    \r\n    }\r\n\r\n\r\nReportService.java\r\n\r\n    if(report.getReportBy().equals(&quot;invoiceCount&quot;)){\r\n    \t\t\t\t\tresult = invoiceRepository.findInvoiceCount(report.getAgingDate());\r\n    \t\t\t\t}\r\n\r\nInvoice.java\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    public class Invoice {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@ManyToOne\r\n    \tprivate Client client;\r\n    \r\n        @Column\r\n    \tprivate boolean allowPartialPay;\r\n    }\r\n\r\nDatabase\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/euLcL.png\r\n","title":"sqlException : column not found JPA @query","body":"<p>I'm using @query annotation but when I try to fetch count of records it throws</p>\n\n<pre><code>java.sql.SQLException: Column 'allowPartialPay' not found.\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1162) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.ResultSetImpl.getBoolean(ResultSetImpl.java:1781) ~[mysql-connector-java-5.1.31.jar:na]\n</code></pre>\n\n<p>I'm writing my custom queries in repository.</p>\n\n<p>InvoiceRepository.java</p>\n\n<pre><code>public interface InvoiceRepository extends JpaRepository&lt;Invoice, Integer&gt;{\n\n    Invoice findByInvoiceNumber(String invoiceNumber);\n\n    List&lt;Invoice&gt; findByUserId(int id);\n\n    @Query(value = \"select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= :agingDate group by c.id\",nativeQuery=true)\n    List&lt;Invoice&gt; findInvoiceCount(@Param(\"agingDate\")Date agingDate);\n\n}\n</code></pre>\n\n<p>ReportService.java</p>\n\n<pre><code>if(report.getReportBy().equals(\"invoiceCount\")){\n                    result = invoiceRepository.findInvoiceCount(report.getAgingDate());\n                }\n</code></pre>\n\n<p>Invoice.java</p>\n\n<pre><code>@Entity\n@Table\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"id\")\n    private int id;\n\n    @ManyToOne\n    private Client client;\n\n    @Column\n    private boolean allowPartialPay;\n}\n</code></pre>\n\n<p>Database</p>\n\n<p><a href=\"https://i.stack.imgur.com/euLcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/euLcL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","maven-3"],"owner":{"account_id":3461609,"reputation":565,"user_id":2898535,"display_name":"McFlurriez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1683965816,"creation_date":1683965816,"question_id":76241743,"body_markdown":"In 3.9.0, Maven introduced [Remote Repository Filtering][1].\r\n\r\nIn theory, it sounds great:\r\n\r\n&gt; Imagine you can instruct Maven which repository can contain what artifact? Instead of ordered loop searching for artifacts in remote repositories, Maven could be instructed in controlled way to directly reach only the needed remote repository.\r\n\r\nUntil you get to the fine print:\r\n\r\n&gt; Maven Central (MC) repository is special in this respect, as Maven will always try to get things from here, as your build, plugins, plugin dependencies, extension, etc. will most often come from here. While you CAN filter MC, filtering MC is most often a bad idea (filtering, as in limiting what can come from it). On other hand, MC itself offers help to prevent request leakage to it (see prefixes filter).\r\n\r\n&gt; So, most often limiting what can be fetched from MC is a bad idea, it can be done but in very, very cautious way, as otherwise you put your build at risk. RRF does not distinguish the context of an artifact, it merely filters them out by (artifact, remoteRepository) pair, and by limiting MC you can easily get into state where you break your build (as plugin depends on filtered artifact).\r\n\r\nI have a bunch of jars in a personal repository. Even though they are clearly marked as such inside my ~/.m2:\r\n\r\n    #NOTE: This is a Maven Resolver internal implementation file, its format can be \r\n    changed without prior notice.\r\n    #Fri May 12 21:15:32 PDT 2023\r\n    my-commons-2.1.0.pom&gt;personal=\r\n    my-commons-2.1.0.jar&gt;personal=\r\n\r\nOnce I updated to 3.9.X, maven continually tries to get it from central:\r\n\r\n    [INFO] Artifact com.personal.space:my-commons:pom:2.1.0 is \r\n    present in the local repository, but cached from a remote repository ID that is \r\n    unavailable in current build context, verifying that is downloadable from [central. \r\n    (https://repo.maven.apache.org/maven2, default, releases)]\r\n\r\nHow exactly do I turn this off for my own personal repository? There&#39;s talks of filtering and what not on their docs, but I&#39;ve fiddled and got nothing working.\r\n\r\n[1]: https://maven.apache.org/resolver/remote-repository-filtering.html","title":"Disabling Maven 3.9.X Remote Repository Filtering","body":"<p>In 3.9.0, Maven introduced <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"noreferrer\">Remote Repository Filtering</a>.</p>\n<p>In theory, it sounds great:</p>\n<blockquote>\n<p>Imagine you can instruct Maven which repository can contain what artifact? Instead of ordered loop searching for artifacts in remote repositories, Maven could be instructed in controlled way to directly reach only the needed remote repository.</p>\n</blockquote>\n<p>Until you get to the fine print:</p>\n<blockquote>\n<p>Maven Central (MC) repository is special in this respect, as Maven will always try to get things from here, as your build, plugins, plugin dependencies, extension, etc. will most often come from here. While you CAN filter MC, filtering MC is most often a bad idea (filtering, as in limiting what can come from it). On other hand, MC itself offers help to prevent request leakage to it (see prefixes filter).</p>\n</blockquote>\n<blockquote>\n<p>So, most often limiting what can be fetched from MC is a bad idea, it can be done but in very, very cautious way, as otherwise you put your build at risk. RRF does not distinguish the context of an artifact, it merely filters them out by (artifact, remoteRepository) pair, and by limiting MC you can easily get into state where you break your build (as plugin depends on filtered artifact).</p>\n</blockquote>\n<p>I have a bunch of jars in a personal repository. Even though they are clearly marked as such inside my ~/.m2:</p>\n<pre><code>#NOTE: This is a Maven Resolver internal implementation file, its format can be \nchanged without prior notice.\n#Fri May 12 21:15:32 PDT 2023\nmy-commons-2.1.0.pom&gt;personal=\nmy-commons-2.1.0.jar&gt;personal=\n</code></pre>\n<p>Once I updated to 3.9.X, maven continually tries to get it from central:</p>\n<pre><code>[INFO] Artifact com.personal.space:my-commons:pom:2.1.0 is \npresent in the local repository, but cached from a remote repository ID that is \nunavailable in current build context, verifying that is downloadable from [central. \n(https://repo.maven.apache.org/maven2, default, releases)]\n</code></pre>\n<p>How exactly do I turn this off for my own personal repository? There's talks of filtering and what not on their docs, but I've fiddled and got nothing working.</p>\n"},{"tags":["python","java","unicode","character-encoding"],"comments":[{"owner":{"account_id":20724483,"reputation":113848,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1683864626,"post_id":76233033,"comment_id":134434882,"body_markdown":"Does it work if you replace gbk (gb16500) with gb18030?","body":"Does it work if you replace gbk (gb16500) with gb18030?"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683864840,"post_id":76233033,"comment_id":134434907,"body_markdown":"@Corralien Yes. Both Java and Python work if I use GB18030.","body":"@Corralien Yes. Both Java and Python work if I use GB18030."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":1,"creation_date":1683865260,"post_id":76233033,"comment_id":134434951,"body_markdown":"[Related thread](https://stackoverflow.com/questions/3883573/encoding-error-in-python-with-chinese-characters/) - Moreover, look at [CP936](https://en.wikipedia.org/wiki/Code_page_936_(Microsoft_Windows)), which is aliased to `gbk` in Python (check result of `b&#39;\\xa6\\xda&#39;.decode(&#39;cp936&#39;)`), which may be a source of confusion. On top of that, quoting wikipedia, &quot;most modern-day Windows-based software products mean partial support for GBK via Windows-936 when they use the term &quot;GB 2312&quot; as a character encoding option&quot;, so my original hunch that Python maps GBK to GB 2312 may be correct.","body":"<a href=\"https://stackoverflow.com/questions/3883573/encoding-error-in-python-with-chinese-characters/\">Related thread</a> - Moreover, look at <a href=\"https://en.wikipedia.org/wiki/Code_page_936_(Microsoft_Windows)\" rel=\"nofollow noreferrer\">CP936</a>, which is aliased to <code>gbk</code> in Python (check result of <code>b&#39;\\xa6\\xda&#39;.decode(&#39;cp936&#39;)</code>), which may be a source of confusion. On top of that, quoting wikipedia, &quot;most modern-day Windows-based software products mean partial support for GBK via Windows-936 when they use the term &quot;GB 2312&quot; as a character encoding option&quot;, so my original hunch that Python maps GBK to GB 2312 may be correct."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1683865761,"post_id":76233033,"comment_id":134435000,"body_markdown":"That all being said, `/bin/echo -e &#39;\\xa6\\xda&#39; | iconv -f gbk -t utf8` also report `illegal input sequence at position 0`, likewise if `gbk` is substituted for `gb2312` or `gb13000` - thus I am pretty sure `a6` is out of range of those earlier standards and only `gb18030` actually supports `a6`, and `gbk` in Java may in fact refer to the later standard.","body":"That all being said, <code>&#47;bin&#47;echo -e &#39;\\xa6\\xda&#39; | iconv -f gbk -t utf8</code> also report <code>illegal input sequence at position 0</code>, likewise if <code>gbk</code> is substituted for <code>gb2312</code> or <code>gb13000</code> - thus I am pretty sure <code>a6</code> is out of range of those earlier standards and only <code>gb18030</code> actually supports <code>a6</code>, and <code>gbk</code> in Java may in fact refer to the later standard."},{"owner":{"account_id":20724483,"reputation":113848,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1683866279,"post_id":76233033,"comment_id":134435059,"body_markdown":"If you really want to use `gbk` encoding, you can use `errors=&#39;ignore&#39;` for characters outside the valid range: `print(ch.decode(&#39;gbk&#39;, errors=&#39;ignore&#39;))`","body":"If you really want to use <code>gbk</code> encoding, you can use <code>errors=&#39;ignore&#39;</code> for characters outside the valid range: <code>print(ch.decode(&#39;gbk&#39;, errors=&#39;ignore&#39;))</code>"},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1683940572,"post_id":76233033,"comment_id":134448408,"body_markdown":"It&#39;s complicated. In python codecs module gbk means microsoft&#39;s cp936. IANA uses them as aliases. CP936 is a superset of what isreferred to asGBK which in turn is a superset of GB 2312. Then there is GBK 1.0 another extension. I am not sure which Java using but Python&#39;s documentation indicates gbk is Windows Code page 936.","body":"It&#39;s complicated. In python codecs module gbk means microsoft&#39;s cp936. IANA uses them as aliases. CP936 is a superset of what isreferred to asGBK which in turn is a superset of GB 2312. Then there is GBK 1.0 another extension. I am not sure which Java using but Python&#39;s documentation indicates gbk is Windows Code page 936."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683964678,"post_id":76233033,"comment_id":134449904,"body_markdown":"@Andj I have figured it out by checking out both OpenJDK&#39;s and CPython&#39;s source code.","body":"@Andj I have figured it out by checking out both OpenJDK&#39;s and CPython&#39;s source code."},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1684061433,"post_id":76233033,"comment_id":134458752,"body_markdown":"@chenzhongpu, all good then. Interestingly, web standards take a different view. On the web, GBK is aliased to GB 2312. And GBK uses the gb18030 decoder and encoder with a GBK flag. More of an issue if you are scraping content.","body":"@chenzhongpu, all good then. Interestingly, web standards take a different view. On the web, GBK is aliased to GB 2312. And GBK uses the gb18030 decoder and encoder with a GBK flag. More of an issue if you are scraping content."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683964912,"creation_date":1683964505,"answer_id":76241664,"question_id":76233033,"body_markdown":"&gt; It seems that Python and Java adopt different implementations for GBK, right?\r\n\r\nYes. GBK is a ambiguous encoding to some extent, and thus different platforms may adopt different implementations.\r\n\r\nAs for Python (CPython here), the mapping between GBK to Unicode is defined in [mappings_cn.h](https://github.com/python/cpython/blob/main/Modules/cjkcodecs/mappings_cn.h), which is a *strict* implementation of [CP936](https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT), where some characters (such as `0xA6DA`) in non-Chinese regions are not defined.\r\n\r\nIn the contrast, GBK in Java (OpenJDK 17 here), in fact, is an *extended* CP936 where [some extra non-Chinese characters are included](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/make/data/charsetmapping/GBK.map#L7322) in order to follow GB18030/MS936. For example, `0xA6DA` is mapped to Unicode `U+E78E` (although it is a private-user-area one).","title":"Why do Python and Java behave differently when decoding GBK","body":"<blockquote>\n<p>It seems that Python and Java adopt different implementations for GBK, right?</p>\n</blockquote>\n<p>Yes. GBK is a ambiguous encoding to some extent, and thus different platforms may adopt different implementations.</p>\n<p>As for Python (CPython here), the mapping between GBK to Unicode is defined in <a href=\"https://github.com/python/cpython/blob/main/Modules/cjkcodecs/mappings_cn.h\" rel=\"nofollow noreferrer\">mappings_cn.h</a>, which is a <em>strict</em> implementation of <a href=\"https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT\" rel=\"nofollow noreferrer\">CP936</a>, where some characters (such as <code>0xA6DA</code>) in non-Chinese regions are not defined.</p>\n<p>In the contrast, GBK in Java (OpenJDK 17 here), in fact, is an <em>extended</em> CP936 where <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/make/data/charsetmapping/GBK.map#L7322\" rel=\"nofollow noreferrer\">some extra non-Chinese characters are included</a> in order to follow GB18030/MS936. For example, <code>0xA6DA</code> is mapped to Unicode <code>U+E78E</code> (although it is a private-user-area one).</p>\n"}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76241664,"answer_count":1,"score":0,"last_activity_date":1683964912,"creation_date":1683863883,"question_id":76233033,"body_markdown":"This question is related to [How to decode bytes in GB18030 correctly](https://stackoverflow.com/questions/76232910/).\r\n\r\nI would like to decode an array of bytes which are encoded with [GBK](https://en.wikipedia.org/wiki/GBK_(character_encoding)), but found that Python and Java behave differently sometimes.\r\n\r\n```python\r\nch = b&#39;\\xA6\\xDA&#39;\r\nprint(ch.decode(&#39;gbk&#39;))\r\n```\r\nIt raises an error: \r\n\r\n&gt; UnicodeDecodeError: &#39;gbk&#39; codec can&#39;t decode byte 0xa6 in position 0: illegal multibyte sequence\r\n\r\nJava is able to decode it.\r\n\r\n```java\r\nbyte[] data = {(byte) 0xA6, (byte) 0xDA};\r\nString s = new String(data, Charset.forName(&quot;GBK&quot;));\r\nSystem.out.println(s);\r\n```\r\n\r\nIt seems that Python and Java adopt different implementations for `GBK`, right?","title":"Why do Python and Java behave differently when decoding GBK","body":"<p>This question is related to <a href=\"https://stackoverflow.com/questions/76232910/\">How to decode bytes in GB18030 correctly</a>.</p>\n<p>I would like to decode an array of bytes which are encoded with <a href=\"https://en.wikipedia.org/wiki/GBK_(character_encoding)\" rel=\"nofollow noreferrer\">GBK</a>, but found that Python and Java behave differently sometimes.</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\xDA'\nprint(ch.decode('gbk'))\n</code></pre>\n<p>It raises an error:</p>\n<blockquote>\n<p>UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 0: illegal multibyte sequence</p>\n</blockquote>\n<p>Java is able to decode it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] data = {(byte) 0xA6, (byte) 0xDA};\nString s = new String(data, Charset.forName(&quot;GBK&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>It seems that Python and Java adopt different implementations for <code>GBK</code>, right?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1683961132,"post_id":76241431,"comment_id":134449599,"body_markdown":"Yes you can, Yes you can.","body":"Yes you can, Yes you can."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683961950,"post_id":76241431,"comment_id":134449667,"body_markdown":"The The Java Tutorials from Oracle has a trait about [Equality, Relational, and Conditional Operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html) || using newer Java versions you can also use [Pattern Matching for instanceof](https://openjdk.org/jeps/394) and [Pattern Matching for switch](https://openjdk.org/jeps/441)","body":"The The Java Tutorials from Oracle has a trait about <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Equality, Relational, and Conditional Operators</a> || using newer Java versions you can also use <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">Pattern Matching for instanceof</a> and <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">Pattern Matching for switch</a>"}],"owner":{"account_id":28014369,"reputation":1,"user_id":21396363,"display_name":"Tran Dai Duong FX17629"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683961123,"answer_count":0,"score":0,"last_activity_date":1683960444,"creation_date":1683960444,"question_id":76241431,"body_markdown":"For example, I have class A and its subclasses B and C. I have an Arraylist contains class A&#39;s objects. The Arraylist can contain objects from class B and C? I have a foreach loop looping thought the Arraylist. How to check the object is Class A, B or C?\r\n\r\nI think the Arraylist can. But I don&#39;t know how to do in question 2. I don&#39;t know what to try","title":"Can a Arraylist contain subclasses of a class?Check what subclasses type in a Arraylist?","body":"<p>For example, I have class A and its subclasses B and C. I have an Arraylist contains class A's objects. The Arraylist can contain objects from class B and C? I have a foreach loop looping thought the Arraylist. How to check the object is Class A, B or C?</p>\n<p>I think the Arraylist can. But I don't know how to do in question 2. I don't know what to try</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661012035,"post_id":73427605,"comment_id":129671732,"body_markdown":"```-Duser.country=US``` and ```-Duser.lang=en``` might be worth a try","body":"<code>-Duser.country=US</code> and <code>-Duser.lang=en</code> might be worth a try"}],"answers":[{"tags":[],"owner":{"account_id":7923403,"reputation":39,"user_id":5983602,"display_name":"chen kqing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683959895,"creation_date":1683959895,"answer_id":76241409,"question_id":73427605,"body_markdown":"use -J parameter\r\n```\r\njavadoc -J-Duser.language=en\r\n```","title":"How do I set locale to en_US when testing OpenJDK on Cygwin?","body":"<p>use -J parameter</p>\n<pre><code>javadoc -J-Duser.language=en\n</code></pre>\n"}],"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683959895,"creation_date":1661006715,"question_id":73427605,"body_markdown":"I&#39;m trying to build _OpenJDK_ by myself, but there&#39;s lots of failures when I run the tests.\r\n\r\nI noticed that a large amount of these failures are due to locale settings. Many tests expect an English output, but the locale of my _Windows_ is not English.\r\n\r\nI tried set environment variable `LANG` and `LC_ALL` to `en_US.UTF-8`, but some components like _javadoc_ still generates non-English output.\r\n\r\nWhat make this more annoying is that, everytime a test fails, it hangs for a long time before continuing the next test.\r\n\r\nAre there anyway to test _OpenJDK_ on _Windows_ without changing the system locale?","title":"How do I set locale to en_US when testing OpenJDK on Cygwin?","body":"<p>I'm trying to build <em>OpenJDK</em> by myself, but there's lots of failures when I run the tests.</p>\n<p>I noticed that a large amount of these failures are due to locale settings. Many tests expect an English output, but the locale of my <em>Windows</em> is not English.</p>\n<p>I tried set environment variable <code>LANG</code> and <code>LC_ALL</code> to <code>en_US.UTF-8</code>, but some components like <em>javadoc</em> still generates non-English output.</p>\n<p>What make this more annoying is that, everytime a test fails, it hangs for a long time before continuing the next test.</p>\n<p>Are there anyway to test <em>OpenJDK</em> on <em>Windows</em> without changing the system locale?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683976044,"post_id":76241370,"comment_id":134451052,"body_markdown":"The chained transactionmanager isn&#39;t atomic, it does a best effort but if repo1 succeeds and repo2 fails there is no way of rolling back repo1. If you want really atomic (or better atomic transactions) you will need to use XA transactions which can span multiple resources.","body":"The chained transactionmanager isn&#39;t atomic, it does a best effort but if repo1 succeeds and repo2 fails there is no way of rolling back repo1. If you want really atomic (or better atomic transactions) you will need to use XA transactions which can span multiple resources."},{"owner":{"account_id":28592712,"reputation":11,"user_id":21891546,"display_name":"Spa"},"score":0,"creation_date":1683980496,"post_id":76241370,"comment_id":134451493,"body_markdown":"@M.Deinum can you point to some resources where i can learn more about this?","body":"@M.Deinum can you point to some resources where i can learn more about this?"}],"owner":{"account_id":28592712,"reputation":11,"user_id":21891546,"display_name":"Spa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683958880,"creation_date":1683958828,"question_id":76241370,"body_markdown":"I have a method that saves details to two different repositories, each belonging to a separate database:\r\n\r\n```\r\n\r\npublic void method() {\r\n   Repository1.saveDetails(CategoryList);\r\n   Repository2.saveDetails(CategoryList);\r\n}\r\n```\r\nUntil now, I have been using the chained transaction manager to ensure that the transaction is atomic across both repositories. However, I learned that the chained transaction manager is deprecated, and I am looking for an alternative solution.\r\n\r\nIs there a recommended alternative to the chained transaction manager that I can use to ensure that the transaction is atomic across both repositories?&quot;","title":"is there any spring chained transaction manager alternative?","body":"<p>I have a method that saves details to two different repositories, each belonging to a separate database:</p>\n<pre><code>\npublic void method() {\n   Repository1.saveDetails(CategoryList);\n   Repository2.saveDetails(CategoryList);\n}\n</code></pre>\n<p>Until now, I have been using the chained transaction manager to ensure that the transaction is atomic across both repositories. However, I learned that the chained transaction manager is deprecated, and I am looking for an alternative solution.</p>\n<p>Is there a recommended alternative to the chained transaction manager that I can use to ensure that the transaction is atomic across both repositories?&quot;</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-grid"],"comments":[{"owner":{"account_id":4837670,"reputation":142,"user_id":3903735,"display_name":"Victor Andres Aguirre Fernande"},"score":0,"creation_date":1668316386,"post_id":65323024,"comment_id":131373552,"body_markdown":"Hello @Sagar Did you find the solution, I have a similar situation, in my case I need to get some data from the Node to my local, and since my local is running in docker and GitHub I have a GitHub action to upload the data as artifacts, but I haven&#39;t been able to get the data back to my local.","body":"Hello @Sagar Did you find the solution, I have a similar situation, in my case I need to get some data from the Node to my local, and since my local is running in docker and GitHub I have a GitHub action to upload the data as artifacts, but I haven&#39;t been able to get the data back to my local."}],"answers":[{"comments":[{"owner":{"account_id":17192259,"reputation":278,"user_id":12445841,"display_name":"Sagar Bhavsar"},"score":0,"creation_date":1608180802,"post_id":65323499,"comment_id":115505912,"body_markdown":"Thanks @DebanjanB for your quick response. The solution which you have provided is useful when file is in Hub machine and you want to access it in the Node machine. \n\nBut here in my case, via selenium script file will be downloaded in the Node machine \n(Machine-2) at runtime and then we need to access it from Hub machine (Machine-1).","body":"Thanks @DebanjanB for your quick response. The solution which you have provided is useful when file is in Hub machine and you want to access it in the Node machine.   But here in my case, via selenium script file will be downloaded in the Node machine  (Machine-2) at runtime and then we need to access it from Hub machine (Machine-1)."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608122505,"creation_date":1608122505,"answer_id":65323499,"question_id":65323024,"body_markdown":"Local file detector\r\n-------------------\r\nThe [Local File Detector](https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector) allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:\r\n\r\n- _Java_:\r\n\r\n\t  driver.setFileDetector(new LocalFileDetector());\r\n\r\n- _Python_:\r\n\r\n\t  from selenium.webdriver.remote.file_detector import LocalFileDetector\r\n\r\n\t  driver.file_detector = LocalFileDetector()\r\n\r\n- _C#_:\r\n\r\n\t  var allowsDetection = this.driver as IAllowsFileDetection;\r\n\t  if (allowsDetection != null)\r\n\t  {\r\n\t     allowsDetection.FileDetector = new LocalFileDetector();\r\n\t  }\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nThis usecase\r\n------------\r\nIf you are running your tests on [Selenium Grid](https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301) then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, _WebDriver_ can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:\r\n\r\n\tWebElement addFile = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n\t((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\r\n\taddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nOutro\r\n-----\r\n[Selecting and uploading files while running your tests on Selenium Grid](https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/)","title":"While using Selenium Grid, How do we access downloaded file in Node machine from Hub machine?","body":"<h2>Local file detector</h2>\n<p>The <a href=\"https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector\" rel=\"nofollow noreferrer\">Local File Detector</a> allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:</p>\n<ul>\n<li><p><em>Java</em>:</p>\n<pre><code>driver.setFileDetector(new LocalFileDetector());\n</code></pre>\n</li>\n<li><p><em>Python</em>:</p>\n<pre><code>from selenium.webdriver.remote.file_detector import LocalFileDetector\n\ndriver.file_detector = LocalFileDetector()\n</code></pre>\n</li>\n<li><p><em>C#</em>:</p>\n<pre><code>var allowsDetection = this.driver as IAllowsFileDetection;\nif (allowsDetection != null)\n{\n   allowsDetection.FileDetector = new LocalFileDetector();\n}\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>This usecase</h2>\n<p>If you are running your tests on <a href=\"https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301\">Selenium Grid</a> then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, <em>WebDriver</em> can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:</p>\n<pre><code>WebElement addFile = driver.findElement(By.xpath(&quot;//input[@type='file']&quot;));\n((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\naddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\n</code></pre>\n<hr />\n<h2>Outro</h2>\n<p><a href=\"https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/\" rel=\"nofollow noreferrer\">Selecting and uploading files while running your tests on Selenium Grid</a></p>\n"}],"owner":{"account_id":17192259,"reputation":278,"user_id":12445841,"display_name":"Sagar Bhavsar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2755,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683956784,"creation_date":1608120742,"question_id":65323024,"body_markdown":"**Here is my scenario:**\r\n\r\nI am using Selenium Grid concept and we trigger test script execution from Hub (Machine-1) and script execute on chrome browser of Node machine (Machine-2). In one of my test script when I click on export button, it downloads an excel file in default download folder of Node machine (i.e. Machine-2)\r\n\r\n**Issue:**\r\nFurther in script I need to read content of the downloaded file, but as the downloaded file resides in Node machine, script does not able to access it from Hub.\r\n\r\nSo, How do we access downloaded file in Node machine from Hub machine ?\r\n\r\n\r\n\r\n\r\n ","title":"While using Selenium Grid, How do we access downloaded file in Node machine from Hub machine?","body":"<p><strong>Here is my scenario:</strong></p>\n<p>I am using Selenium Grid concept and we trigger test script execution from Hub (Machine-1) and script execute on chrome browser of Node machine (Machine-2). In one of my test script when I click on export button, it downloads an excel file in default download folder of Node machine (i.e. Machine-2)</p>\n<p><strong>Issue:</strong>\nFurther in script I need to read content of the downloaded file, but as the downloaded file resides in Node machine, script does not able to access it from Hub.</p>\n<p>So, How do we access downloaded file in Node machine from Hub machine ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683958173,"post_id":76241195,"comment_id":134449391,"body_markdown":"Hello, you don&#39;t need to put the limit in the query. It will be handled by Spring Batch with the chunk(100). You have it already. Just use &quot;select * from your_table&quot; as query.","body":"Hello, you don&#39;t need to put the limit in the query. It will be handled by Spring Batch with the chunk(100). You have it already. Just use &quot;select * from your_table&quot; as query."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683977897,"post_id":76241195,"comment_id":134451231,"body_markdown":"You are using a cursor which doesn&#39;t require a limit. Specify a chunk size and you will only have that number of records being read. One thing to take into consideration is that you might want to increase your jdbc fetchsize to limit the number of network roundtrips. The default is 10.","body":"You are using a cursor which doesn&#39;t require a limit. Specify a chunk size and you will only have that number of records being read. One thing to take into consideration is that you might want to increase your jdbc fetchsize to limit the number of network roundtrips. The default is 10."}],"owner":{"account_id":28592445,"reputation":1,"user_id":21891347,"display_name":"Ajit Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683955386,"creation_date":1683955177,"question_id":76241195,"body_markdown":"Spring Batch application using JdbcCursorItemReader trying to fetch huge records from a table, Lets suppose 100K records in table and fetching 100 records in every batch chunk but issue is it keep returning same first 100 rows records in every next set of chunk.\r\n**Query**: select * from table fetch next 100 rows only.\r\n\r\n\r\n        @Bean\r\n\tpublic Step step1() {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step1&quot;).chunk(100).reader(itemReader()).processor(itemProcessor()).writer(itemWriter()).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job myJob() {\r\n           return jobBuilderFactory.get(&quot;My-First-Job&quot;).start(step1()).build();\r\n\t}\r\n\r\n        @Bean\r\n        public JdbcCursorItemReader&lt;Object&gt; itemReader() {\r\n          JdbcCursorItemReader&lt;Object&gt; reader = new JdbcCursorItemReader&lt;&gt;();\r\n          reader.setDataSource(dataSource);\r\n          reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);\r\n          reader.setRowMapper(new ObjectRowMapper());\r\n          return reader;\r\n       }\r\n\r\nHere ObjectRowMapper mapping the fields which I need to fetch, Here If you can see in reader() method **reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);** this line I am expecting return next 100 set of records from table which not happening and same 100 rows returning\r\n\r\n\r\nExpecting for each time job is running getting next set of records.","title":"Spring Batch to Fetch next chunk records from sql","body":"<p>Spring Batch application using JdbcCursorItemReader trying to fetch huge records from a table, Lets suppose 100K records in table and fetching 100 records in every batch chunk but issue is it keep returning same first 100 rows records in every next set of chunk.\n<strong>Query</strong>: select * from table fetch next 100 rows only.</p>\n<pre><code>    @Bean\npublic Step step1() {\n    return this.stepBuilderFactory.get(&quot;step1&quot;).chunk(100).reader(itemReader()).processor(itemProcessor()).writer(itemWriter()).build();\n}\n\n@Bean\npublic Job myJob() {\n       return jobBuilderFactory.get(&quot;My-First-Job&quot;).start(step1()).build();\n}\n\n    @Bean\n    public JdbcCursorItemReader&lt;Object&gt; itemReader() {\n      JdbcCursorItemReader&lt;Object&gt; reader = new JdbcCursorItemReader&lt;&gt;();\n      reader.setDataSource(dataSource);\n      reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);\n      reader.setRowMapper(new ObjectRowMapper());\n      return reader;\n   }\n</code></pre>\n<p>Here ObjectRowMapper mapping the fields which I need to fetch, Here If you can see in reader() method <strong>reader.setSql(&quot;select * from  fetch next 100 rows only&quot;);</strong> this line I am expecting return next 100 set of records from table which not happening and same 100 rows returning</p>\n<p>Expecting for each time job is running getting next set of records.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2416637,"reputation":96,"user_id":2110517,"accept_rate":50,"display_name":"Arnav Joshi"},"score":3,"creation_date":1474826693,"post_id":8387989,"comment_id":66679442,"body_markdown":"very useful link to understand Garbage collection on Oracle&#39;s Official website: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html","body":"very useful link to understand Garbage collection on Oracle&#39;s Official website: <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"score":0,"creation_date":1631208296,"post_id":8388036,"comment_id":122167481,"body_markdown":"Incorrect. The static fields themselves are not stored in the heap.","body":"Incorrect. The static fields themselves are not stored in the heap."}],"tags":[],"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1323100603,"creation_date":1323100603,"answer_id":8388036,"question_id":8387989,"body_markdown":"It is stored in the heap referenced by the class definition. If you think about it, it has nothing to do with stack because there is no scope. ","title":"Where are static methods and static variables stored in Java?","body":"<p>It is stored in the heap referenced by the class definition. If you think about it, it has nothing to do with stack because there is no scope. </p>\n"},{"comments":[{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":8,"creation_date":1389530549,"post_id":8388058,"comment_id":31694863,"body_markdown":"Static variable are stored in PremGen space in memory, their values are stored in Heap.","body":"Static variable are stored in PremGen space in memory, their values are stored in Heap."}],"tags":[],"owner":{"account_id":48835,"reputation":1339,"user_id":145238,"accept_rate":84,"display_name":"C.LS"},"comment_count":1,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1323100651,"creation_date":1323100651,"answer_id":8388058,"question_id":8387989,"body_markdown":"static variables are stored in the heap","title":"Where are static methods and static variables stored in Java?","body":"<p>static variables are stored in the heap</p>\n"},{"comments":[{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":1,"creation_date":1323100737,"post_id":8388068,"comment_id":10354258,"body_markdown":"Ahh are you sure about static variables? AFAIK PermGen only stores the definitions not the actual value.","body":"Ahh are you sure about static variables? AFAIK PermGen only stores the definitions not the actual value."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1323100887,"post_id":8388068,"comment_id":10354325,"body_markdown":"@Amir I&#39;m pretty sure that the variable itself is stored in the permgen space, any referenced object will most likely be allocated on the heap. This might add some information: http://stackoverflow.com/questions/3800444/where-does-a-static-final-directly-allocated-into-young-gen-or-old-gen-or-per","body":"@Amir I&#39;m pretty sure that the variable itself is stored in the permgen space, any referenced object will most likely be allocated on the heap. This might add some information: <a href=\"http://stackoverflow.com/questions/3800444/where-does-a-static-final-directly-allocated-into-young-gen-or-old-gen-or-per\" title=\"where does a static final directly allocated into young gen or old gen or per\">stackoverflow.com/questions/3800444/&hellip;</a>"},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":1,"creation_date":1323100974,"post_id":8388068,"comment_id":10354357,"body_markdown":"Ah yes the variable definition is stored in permgen. But the value will be in the heap. Your answer suggested that the value is also stored in PermGen.","body":"Ah yes the variable definition is stored in permgen. But the value will be in the heap. Your answer suggested that the value is also stored in PermGen."},{"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":0,"creation_date":1323100995,"post_id":8388068,"comment_id":10354368,"body_markdown":"@Thomas I agree with your comment, but that&#39;s not what your answer says.","body":"@Thomas I agree with your comment, but that&#39;s not what your answer says."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1323101135,"post_id":8388068,"comment_id":10354420,"body_markdown":"@Matthew how do you understand my answer? A said that _variables_ are stored in the permgen section (primitives/references) not the objects they refer to. It depends on how you view a variables _value_.","body":"@Matthew how do you understand my answer? A said that <i>variables</i> are stored in the permgen section (primitives/references) not the objects they refer to. It depends on how you view a variables <i>value</i>."},{"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"score":0,"creation_date":1323101137,"post_id":8388068,"comment_id":10354421,"body_markdown":"If static methods and variables both are stored on the heap ...does that mean that gc() will clean them from the memory once the execution of all statements using these variables are complete. Or would I have to initialize them and null and then call System.gc().","body":"If static methods and variables both are stored on the heap ...does that mean that gc() will clean them from the memory once the execution of all statements using these variables are complete. Or would I have to initialize them and null and then call System.gc()."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1323101362,"post_id":8388068,"comment_id":10354498,"body_markdown":"@Nav not all parts of the heap are garbage collected by default and sometimes classes and thus static variables can&#39;t be collected since class loaders still have a reference on them. Additionally you shouldn&#39;t rely on the garbage collector to run since that&#39;s totally up to the JVM (it decides when to run and what to collect, you can only provide hints like &quot;I&#39;d like you to run gc now&quot; :) ).","body":"@Nav not all parts of the heap are garbage collected by default and sometimes classes and thus static variables can&#39;t be collected since class loaders still have a reference on them. Additionally you shouldn&#39;t rely on the garbage collector to run since that&#39;s totally up to the JVM (it decides when to run and what to collect, you can only provide hints like &quot;I&#39;d like you to run gc now&quot; :) )."},{"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"score":0,"creation_date":1323101766,"post_id":8388068,"comment_id":10354624,"body_markdown":"I just read it somewhere on a blog that said if I initialize a static variable as null then it makes it eligible for garbage collection as they then become unused members so finalize() can be called on them and then gc will clean that memory..I just wanted to know if that is true...cause I had some doubt about it :-o","body":"I just read it somewhere on a blog that said if I initialize a static variable as null then it makes it eligible for garbage collection as they then become unused members so finalize() can be called on them and then gc will clean that memory..I just wanted to know if that is true...cause I had some doubt about it :-o"},{"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":0,"creation_date":1323102184,"post_id":8388068,"comment_id":10354768,"body_markdown":"@Thomas I understood your answer and agree with it, but it implies that objects that are referred to by static variables are allocated in  permgen, which is incorrect, and probably not even possible to enforce. Just a comment about the way the answer is worded, that&#39;s all.","body":"@Thomas I understood your answer and agree with it, but it implies that objects that are referred to by static variables are allocated in  permgen, which is incorrect, and probably not even possible to enforce. Just a comment about the way the answer is worded, that&#39;s all."},{"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"score":0,"creation_date":1323102877,"post_id":8388068,"comment_id":10354979,"body_markdown":"Poke Poke ..can I have the answer to my question &quot;I just read it somewhere on a blog that said if I initialize a static variable as null then it makes it eligible for garbage collection as they then become unused members so finalize() can be called on them and then gc will clean that memory..I just wanted to know if that is true&quot; :(","body":"Poke Poke ..can I have the answer to my question &quot;I just read it somewhere on a blog that said if I initialize a static variable as null then it makes it eligible for garbage collection as they then become unused members so finalize() can be called on them and then gc will clean that memory..I just wanted to know if that is true&quot; :("},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1323103030,"post_id":8388068,"comment_id":10355047,"body_markdown":"@Nav see my update, technically a (static) variable can&#39;t be collected but the object it references. Thus if you set a variable to null you just remove one reference to that object and if there are no more references the gc run _might_ collect it and it will then invoke `finalize()` _once_ (if it had not already been invoked but failed). As I said in my answer, _don&#39;t rely on finalize()_.","body":"@Nav see my update, technically a (static) variable can&#39;t be collected but the object it references. Thus if you set a variable to null you just remove one reference to that object and if there are no more references the gc run <i>might</i> collect it and it will then invoke <code>finalize()</code> <i>once</i> (if it had not already been invoked but failed). As I said in my answer, <i>don&#39;t rely on finalize()</i>."},{"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"score":0,"creation_date":1323103336,"post_id":8388068,"comment_id":10355175,"body_markdown":"I didn&#39;t know finalize() method runs only once on the same object...thanks guys now I can sleep in peace...this link had me up the whole day http://www.codeguru.com/forum/printthread.php?t=362966 (see the post in the link by randomjunk)as I had some serious doubt about it B-) now I am clear","body":"I didn&#39;t know finalize() method runs only once on the same object...thanks guys now I can sleep in peace...this link had me up the whole day <a href=\"http://www.codeguru.com/forum/printthread.php?t=362966\" rel=\"nofollow noreferrer\">codeguru.com/forum/printthread.php?t=362966</a> (see the post in the link by randomjunk)as I had some serious doubt about it B-) now I am clear"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1323104229,"post_id":8388068,"comment_id":10355504,"body_markdown":"@Nav I just skimmed over that link and it isn&#39;t wrong. However, as with every explanation, it might be misunderstood. What they mean is: if you assign an object to a static variable you get a reference that most likely won&#39;t vanish since the object it belongs to won&#39;t be collected (due to it being a class and thus being held by the class loader). If you assign null to the variable you remove the reference to the object which now might be garbage collected. The static variable itself, however, will still be there (with a value of null now). Hope that makes it somewhat clearer. Sleep well :)","body":"@Nav I just skimmed over that link and it isn&#39;t wrong. However, as with every explanation, it might be misunderstood. What they mean is: if you assign an object to a static variable you get a reference that most likely won&#39;t vanish since the object it belongs to won&#39;t be collected (due to it being a class and thus being held by the class loader). If you assign null to the variable you remove the reference to the object which now might be garbage collected. The static variable itself, however, will still be there (with a value of null now). Hope that makes it somewhat clearer. Sleep well :)"},{"owner":{"account_id":2987968,"reputation":1721,"user_id":2536255,"accept_rate":87,"display_name":"Mac"},"score":1,"creation_date":1402660449,"post_id":8388068,"comment_id":37370707,"body_markdown":"`Static methods (in fact all methods) as well as static variables are stored in the PermGen section of the heap, since they are part of the reflection data (class related data, not instance related).` Can you please quote the official link for that?","body":"<code>Static methods (in fact all methods) as well as static variables are stored in the PermGen section of the heap, since they are part of the reflection data (class related data, not instance related).</code> Can you please quote the official link for that?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1402663982,"post_id":8388068,"comment_id":37372912,"body_markdown":"@Mac I don&#39;t have an _official_ link but you should be able to find that in the HotSpot JVM spec.","body":"@Mac I don&#39;t have an <i>official</i> link but you should be able to find that in the HotSpot JVM spec."},{"owner":{"account_id":1479215,"reputation":2511,"user_id":1388943,"accept_rate":48,"display_name":"stdout"},"score":1,"creation_date":1444576820,"post_id":8388068,"comment_id":53951902,"body_markdown":"PermGen is not necessarily to be a part of Heap area. Just wanted to point out for clarity.","body":"PermGen is not necessarily to be a part of Heap area. Just wanted to point out for clarity."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1507496958,"post_id":8388068,"comment_id":80221305,"body_markdown":"@Thomas Regarding the link for the documentation Mac mentioned, I could not find the HotSpot documentation. I did find the JVM spec (https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5) but it doesn&#39;t seem to be discussed there...","body":"@Thomas Regarding the link for the documentation Mac mentioned, I could not find the HotSpot documentation. I did find the JVM spec (<a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms&zwnj;&#8203;-2.5</a>) but it doesn&#39;t seem to be discussed there..."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1507537206,"post_id":8388068,"comment_id":80232699,"body_markdown":"@flow2k note that what you linked is the spec for Java 8 which doesn&#39;t have permgen space anymore (the new thing is metaspace but I&#39;m not that familiar with it yet).","body":"@flow2k note that what you linked is the spec for Java 8 which doesn&#39;t have permgen space anymore (the new thing is metaspace but I&#39;m not that familiar with it yet)."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1507586632,"post_id":8388068,"comment_id":80260375,"body_markdown":"@Thomas Interesting - I didn&#39;t even know that; you&#39;re right about permgen - https://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8.","body":"@Thomas Interesting - I didn&#39;t even know that; you&#39;re right about permgen - <a href=\"https://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8\" title=\"permgen elimination in jdk 8\">stackoverflow.com/questions/18339707/&hellip;</a>."},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":0,"creation_date":1544569737,"post_id":8388068,"comment_id":94321184,"body_markdown":"@Thomas is the place where static members are stored the same in different implementation of JVM ? Or your statement for PermGen (now MetaSpace) is right only for HotSpot? Thanks!","body":"@Thomas is the place where static members are stored the same in different implementation of JVM ? Or your statement for PermGen (now MetaSpace) is right only for HotSpot? Thanks!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1544617671,"post_id":8388068,"comment_id":94338603,"body_markdown":"@Ruslan that probably depends on whether the JVM uses a permanent generation or metaspace. So far all JVMs I used (that&#39;s mainly Sun/Oracle JDK and some OpenJDKs) used the PermGen or Metaspace to store the metadata but [this proposal](http://openjdk.java.net/jeps/122) to remove PermGen states that JRockit had no PermGen - so it seems it depends on the JVM implementation. I also couldn&#39;t find any specification stating how and where the class metadata (which includes the definitions of the static fields) has to be stored - that could mean I&#39;ve just not found it or that it&#39;s up to the JVM vendor","body":"@Ruslan that probably depends on whether the JVM uses a permanent generation or metaspace. So far all JVMs I used (that&#39;s mainly Sun/Oracle JDK and some OpenJDKs) used the PermGen or Metaspace to store the metadata but <a href=\"http://openjdk.java.net/jeps/122\" rel=\"nofollow noreferrer\">this proposal</a> to remove PermGen states that JRockit had no PermGen - so it seems it depends on the JVM implementation. I also couldn&#39;t find any specification stating how and where the class metadata (which includes the definitions of the static fields) has to be stored - that could mean I&#39;ve just not found it or that it&#39;s up to the JVM vendor"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":21,"down_vote_count":0,"up_vote_count":180,"is_accepted":true,"score":180,"last_activity_date":1638169948,"creation_date":1323100686,"answer_id":8388068,"question_id":8387989,"body_markdown":"Static methods (in fact all methods) as well as static variables are stored in the `PermGen` section of the heap, since they are part of the reflection data (class related data, not instance related). As of Java 8 PermGen has been replaced by MetaSpace and as per [JEP 122](http://openjdk.java.net/jeps/122) it only holds meta-data while static fields are stored in the heap.\r\n\r\nNote that this mostly applies to Oracle&#39;s Hotspot JVM and others that are based on it. However, not every JVM has PermGen or Metaspace like [Eclipse OpenJ9](https://www.eclipse.org/openj9/).\r\n\r\n_Update for clarification_: \r\n\r\nNote that only the variables and their technical values (primitives or references) are stored in PermGen space. \r\n\r\nIf your static variable is a reference to an object that object itself is stored in the normal sections of the heap (young/old generation or survivor space). Those objects (unless they are internal objects like classes etc.) are _not_ stored in PermGen space.\r\n\r\nExample:\r\n\r\n    static int i = 1; //the value 1 is stored in the PermGen section\r\n    static Object o = new SomeObject(); //the reference(pointer/memory address) is stored in the PermGen section, the object itself is not.\r\n\r\n&lt;br&gt;\r\nA word on garbage collection:\r\n\r\nDo _not_ rely on `finalize()` as it&#39;s not guaranteed to run. It is totally up to the JVM to decide when to run the garbage collector and what to collect, even if an object is eligible for garbage collection.\r\n\r\nOf course you can set a static variable to null and thus remove the reference to the object on the heap but that doesn&#39;t mean the garbage collector _will_ collect it (even if there are no more references).\r\n\r\nAdditionally `finalize()` is run only once, so you have to make sure it doesn&#39;t throw exceptions or otherwise prevent the object to be collected. If you halt finalization through some exception, `finalize()` won&#39;t be invoked on the same object a second time.\r\n\r\n_A final note_: how code, runtime data etc. are stored depends on the JVM which is used, i.e. HotSpot might do it differently than JRockit and this might even differ between versions of the same JVM. The above is based on HotSpot for Java 5 and 6 (those are basically the same) since at the time of answering I&#39;d say that most people used those JVMs. Due to major changes in the memory model as of Java 8, the statements above might not be true for Java 8 HotSpot - and I didn&#39;t check the changes of Java 7 HotSpot, so I _guess_ the above is still true for that version, but I&#39;m not sure here.\r\n","title":"Where are static methods and static variables stored in Java?","body":"<p>Static methods (in fact all methods) as well as static variables are stored in the <code>PermGen</code> section of the heap, since they are part of the reflection data (class related data, not instance related). As of Java 8 PermGen has been replaced by MetaSpace and as per <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">JEP 122</a> it only holds meta-data while static fields are stored in the heap.</p>\n<p>Note that this mostly applies to Oracle's Hotspot JVM and others that are based on it. However, not every JVM has PermGen or Metaspace like <a href=\"https://www.eclipse.org/openj9/\" rel=\"noreferrer\">Eclipse OpenJ9</a>.</p>\n<p><em>Update for clarification</em>:</p>\n<p>Note that only the variables and their technical values (primitives or references) are stored in PermGen space.</p>\n<p>If your static variable is a reference to an object that object itself is stored in the normal sections of the heap (young/old generation or survivor space). Those objects (unless they are internal objects like classes etc.) are <em>not</em> stored in PermGen space.</p>\n<p>Example:</p>\n<pre><code>static int i = 1; //the value 1 is stored in the PermGen section\nstatic Object o = new SomeObject(); //the reference(pointer/memory address) is stored in the PermGen section, the object itself is not.\n</code></pre>\n<br>\nA word on garbage collection:\n<p>Do <em>not</em> rely on <code>finalize()</code> as it's not guaranteed to run. It is totally up to the JVM to decide when to run the garbage collector and what to collect, even if an object is eligible for garbage collection.</p>\n<p>Of course you can set a static variable to null and thus remove the reference to the object on the heap but that doesn't mean the garbage collector <em>will</em> collect it (even if there are no more references).</p>\n<p>Additionally <code>finalize()</code> is run only once, so you have to make sure it doesn't throw exceptions or otherwise prevent the object to be collected. If you halt finalization through some exception, <code>finalize()</code> won't be invoked on the same object a second time.</p>\n<p><em>A final note</em>: how code, runtime data etc. are stored depends on the JVM which is used, i.e. HotSpot might do it differently than JRockit and this might even differ between versions of the same JVM. The above is based on HotSpot for Java 5 and 6 (those are basically the same) since at the time of answering I'd say that most people used those JVMs. Due to major changes in the memory model as of Java 8, the statements above might not be true for Java 8 HotSpot - and I didn't check the changes of Java 7 HotSpot, so I <em>guess</em> the above is still true for that version, but I'm not sure here.</p>\n"},{"comments":[{"owner":{"account_id":171680,"reputation":997,"user_id":399257,"accept_rate":100,"display_name":"Vasiliy Sharapov"},"score":3,"creation_date":1323137195,"post_id":8388172,"comment_id":10364146,"body_markdown":"Sure thing! Don&#39;t forget to upvote those guys if you find them useful.","body":"Sure thing! Don&#39;t forget to upvote those guys if you find them useful."}],"tags":[],"owner":{"account_id":171680,"reputation":997,"user_id":399257,"accept_rate":100,"display_name":"Vasiliy Sharapov"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323101166,"creation_date":1323101166,"answer_id":8388172,"question_id":8387989,"body_markdown":"This is a question with a simple answer and a long-winded answer.\r\n\r\nThe simple answer is the heap. Classes and all of the data applying to classes (not instance data) is stored in the Permanent Generation section of the heap.\r\n\r\nThe long answer is already on stack overflow:\r\n\r\nThere is a [thorough description of memory and garbage collection in the JVM][1] as well as an [answer that talks more concisely][2] about it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3849819/399257\r\n  [2]: https://stackoverflow.com/a/2129073/399257","title":"Where are static methods and static variables stored in Java?","body":"<p>This is a question with a simple answer and a long-winded answer.</p>\n\n<p>The simple answer is the heap. Classes and all of the data applying to classes (not instance data) is stored in the Permanent Generation section of the heap.</p>\n\n<p>The long answer is already on stack overflow:</p>\n\n<p>There is a <a href=\"https://stackoverflow.com/a/3849819/399257\">thorough description of memory and garbage collection in the JVM</a> as well as an <a href=\"https://stackoverflow.com/a/2129073/399257\">answer that talks more concisely</a> about it.</p>\n"},{"tags":[],"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1384599515,"creation_date":1384599515,"answer_id":20017588,"question_id":8387989,"body_markdown":"In addition to the Thomas&#39;s answer , static variable are stored in non heap area which is called Method Area.","title":"Where are static methods and static variables stored in Java?","body":"<p>In addition to the Thomas's answer , static variable are stored in non heap area which is called Method Area.</p>\n"},{"comments":[{"owner":{"account_id":4570803,"reputation":1753,"user_id":3710548,"display_name":"Kaveesh Kanwal"},"score":0,"creation_date":1424271013,"post_id":20795333,"comment_id":45480108,"body_markdown":"is method area not a subset of the PermGen section of the memory? Why have you shown method area as part of the non-heap memory when, i think, they (PermGen along with method(class) area) are part of the larger heap area of the JVM?","body":"is method area not a subset of the PermGen section of the memory? Why have you shown method area as part of the non-heap memory when, i think, they (PermGen along with method(class) area) are part of the larger heap area of the JVM?"},{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1424284329,"post_id":20795333,"comment_id":45488827,"body_markdown":"Read the last line - `Also this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.`","body":"Read the last line - <code>Also this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.</code>"},{"owner":{"account_id":4889723,"reputation":356,"user_id":3941202,"display_name":"Karan"},"score":1,"creation_date":1487097357,"post_id":20795333,"comment_id":71626943,"body_markdown":"@AniketThakur you have shown method area as part of non-heap memory but according to oracle docs, here, https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.4 , it is mentioned that method area is logically part of the heap.","body":"@AniketThakur you have shown method area as part of non-heap memory but according to oracle docs, here, <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a> , it is mentioned that method area is logically part of the heap."}],"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1388122300,"creation_date":1388122300,"answer_id":20795333,"question_id":8387989,"body_markdown":"Class variables(Static variables) are stored as part of the `Class object` associated with that class. This Class object can only be created by JVM and is stored in `permanent generation`.\r\n\r\nAlso some have answered that it is stored in non heap area which is called `Method Area.` Even this answer is not wrong. It is just a debatable topic whether Permgen Area is a part of heap or not. Obviously perceptions differ from person to person. In my opinion we provide heap space and permgen space differently in JVM arguments. So it is a good assumption to treat them differently.\r\n\r\nAnother way to see it\r\n\r\nMemory pools are created by JVM memory managers during runtime. Memory pool may belong to either heap or non-heap memory.A run time constant pool is a per-class or per-interface run time representation of the constant_pool table in a class file. Each runtime constant pool is allocated from the Java virtual machines method area and Static Variables are stored in this Method Area.\r\nAlso this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.([Reference][1])\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://javapapers.com/core-java/java-jvm-memory-types/\r\n  [2]: http://i.stack.imgur.com/xO8r2.png","title":"Where are static methods and static variables stored in Java?","body":"<p>Class variables(Static variables) are stored as part of the <code>Class object</code> associated with that class. This Class object can only be created by JVM and is stored in <code>permanent generation</code>.</p>\n\n<p>Also some have answered that it is stored in non heap area which is called <code>Method Area.</code> Even this answer is not wrong. It is just a debatable topic whether Permgen Area is a part of heap or not. Obviously perceptions differ from person to person. In my opinion we provide heap space and permgen space differently in JVM arguments. So it is a good assumption to treat them differently.</p>\n\n<p>Another way to see it</p>\n\n<p>Memory pools are created by JVM memory managers during runtime. Memory pool may belong to either heap or non-heap memory.A run time constant pool is a per-class or per-interface run time representation of the constant_pool table in a class file. Each runtime constant pool is allocated from the Java virtual machines method area and Static Variables are stored in this Method Area.\nAlso this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.(<a href=\"http://javapapers.com/core-java/java-jvm-memory-types/\" rel=\"noreferrer\">Reference</a>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/xO8r2.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439810752,"creation_date":1439810752,"answer_id":32049178,"question_id":8387989,"body_markdown":"As static variables are class level variables, they will store &quot; **permanent generation** &quot; of heap memory.\r\nPlease look into  [this][1] for more details of JVM. Hoping this will be helpful \r\n\r\n\r\n  [1]: http://java-latte.blogspot.in/2013/08/garbage-collection-in-java.html","title":"Where are static methods and static variables stored in Java?","body":"<p>As static variables are class level variables, they will store \" <strong>permanent generation</strong> \" of heap memory.\nPlease look into  <a href=\"http://java-latte.blogspot.in/2013/08/garbage-collection-in-java.html\" rel=\"nofollow\">this</a> for more details of JVM. Hoping this will be helpful </p>\n"},{"comments":[{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":0,"creation_date":1554035117,"post_id":51711054,"comment_id":97597945,"body_markdown":"when you say &quot;heap itself&quot; for static variables &gt;Java8, where exactly: OldGen?","body":"when you say &quot;heap itself&quot; for static variables &gt;Java8, where exactly: OldGen?"}],"tags":[],"owner":{"account_id":12944462,"reputation":411,"user_id":9359233,"display_name":"Manish Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1533569414,"creation_date":1533569414,"answer_id":51711054,"question_id":8387989,"body_markdown":"**Prior to Java 8:**\r\n\r\nThe static variables were stored in the permgen space(also called the method area).\r\n\r\n[PermGen Space is also known as Method Area][1]\r\n\r\nPermGen Space used to store 3 things\r\n\r\n 1. Class level data (meta-data)\r\n 2. interned strings\r\n 3. static variables\r\n\r\n**From Java 8 onwards**\r\n\r\nThe static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.\r\n\r\nThe interned strings and static variables are moved into the heap itself.\r\n\r\nFor official information refer : [JEP 122:Remove the Permanent Gen Space][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2XS5f.png\r\n  [2]: http://openjdk.java.net/jeps/122","title":"Where are static methods and static variables stored in Java?","body":"<p><strong>Prior to Java 8:</strong></p>\n\n<p>The static variables were stored in the permgen space(also called the method area).</p>\n\n<p><a href=\"https://i.stack.imgur.com/2XS5f.png\" rel=\"noreferrer\">PermGen Space is also known as Method Area</a></p>\n\n<p>PermGen Space used to store 3 things</p>\n\n<ol>\n<li>Class level data (meta-data)</li>\n<li>interned strings</li>\n<li>static variables</li>\n</ol>\n\n<p><strong>From Java 8 onwards</strong></p>\n\n<p>The static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.</p>\n\n<p>The interned strings and static variables are moved into the heap itself.</p>\n\n<p>For official information refer : <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">JEP 122:Remove the Permanent Gen Space</a></p>\n"},{"tags":[],"owner":{"account_id":9072889,"reputation":183,"user_id":6755396,"display_name":"viren shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683953586,"creation_date":1600228901,"answer_id":63912929,"question_id":8387989,"body_markdown":"When we create a static variable or method it is stored in a special area on the heap: PermGen(Permanent Generation), where it lays down all the data applying to classes(non-instance data).\r\n\r\nStarting from Java 8 the PermGen became - Metaspace. \r\n\r\nThe difference is that Metaspace is an auto-growing space, while PermGen has a fixed Max size, and this space is shared among all of the instances. Plus the Metaspace is a part of a **Native** Memory and not **JVM** Memory.\r\n\r\nYou can look into [this][1] for more details.\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/static-variables-methods-java-where-jvm-stores-them-kotlin-malisciuc/","title":"Where are static methods and static variables stored in Java?","body":"<p>When we create a static variable or method it is stored in a special area on the heap: PermGen(Permanent Generation), where it lays down all the data applying to classes(non-instance data).</p>\n<p>Starting from Java 8 the PermGen became - Metaspace.</p>\n<p>The difference is that Metaspace is an auto-growing space, while PermGen has a fixed Max size, and this space is shared among all of the instances. Plus the Metaspace is a part of a <strong>Native</strong> Memory and not <strong>JVM</strong> Memory.</p>\n<p>You can look into <a href=\"https://www.linkedin.com/pulse/static-variables-methods-java-where-jvm-stores-them-kotlin-malisciuc/\" rel=\"nofollow noreferrer\">this</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":20387359,"reputation":11,"user_id":14956028,"display_name":"Durjan Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643474526,"creation_date":1609990929,"answer_id":65606327,"question_id":8387989,"body_markdown":"In real world or project we have requirement in advance and needs to create variable and methods inside the class , On the basis of requirement we needs to decide whether we needs to create\r\n1. Local ( create n access within block or method constructor)\r\n2. Static, \r\n3. Instance Variable( every object has its own copy of it), \r\n\r\n=&gt;2. Static Keyword will be used with variable which will going to be same for particular class throughout for all objects, \r\n\r\ne.g in selenium : we decalre webDriver as static =&gt; so we do not need to create webdriver again and again for every test case\r\n\r\n&gt;  `Static Webdriver driver`\r\n\r\n(but parallel execution it will cause problem, but thats another case); \r\n\r\nReal world scenario =&gt; If India is class, then flag, money would be same for every Indian, so we might take them as static. \r\n\r\nAnother example: utility method we always declare as static b&#39;cos it will be used in different test cases. \r\nStatic stored in CMA( PreGen space)=PreGen (Fixed memory)changed to Metaspace after Java8 as now its growing dynamically\r\n","title":"Where are static methods and static variables stored in Java?","body":"<p>In real world or project we have requirement in advance and needs to create variable and methods inside the class , On the basis of requirement we needs to decide whether we needs to create</p>\n<ol>\n<li>Local ( create n access within block or method constructor)</li>\n<li>Static,</li>\n<li>Instance Variable( every object has its own copy of it),</li>\n</ol>\n<p>=&gt;2. Static Keyword will be used with variable which will going to be same for particular class throughout for all objects,</p>\n<p>e.g in selenium : we decalre webDriver as static =&gt; so we do not need to create webdriver again and again for every test case</p>\n<blockquote>\n<p><code>Static Webdriver driver</code></p>\n</blockquote>\n<p>(but parallel execution it will cause problem, but thats another case);</p>\n<p>Real world scenario =&gt; If India is class, then flag, money would be same for every Indian, so we might take them as static.</p>\n<p>Another example: utility method we always declare as static b'cos it will be used in different test cases.\nStatic stored in CMA( PreGen space)=PreGen (Fixed memory)changed to Metaspace after Java8 as now its growing dynamically</p>\n"},{"tags":[],"owner":{"account_id":14641841,"reputation":482,"user_id":10574261,"display_name":"kushagra deep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652805200,"creation_date":1652805200,"answer_id":72277693,"question_id":8387989,"body_markdown":"As of Java 8 , PermGen space is Obsolete. Static Methods,Primitives and Reference Variables are stored in Java MetaSpace. The actual objects reside in the JAVA heap. Since static methods never get out of reference they are never Garbage collected both from MetaSpace and the HEAP.","title":"Where are static methods and static variables stored in Java?","body":"<p>As of Java 8 , PermGen space is Obsolete. Static Methods,Primitives and Reference Variables are stored in Java MetaSpace. The actual objects reside in the JAVA heap. Since static methods never get out of reference they are never Garbage collected both from MetaSpace and the HEAP.</p>\n"}],"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203881,"favorite_count":0,"down_vote_count":1,"up_vote_count":146,"accepted_answer_id":8388068,"answer_count":11,"score":145,"last_activity_date":1683953586,"creation_date":1323100432,"question_id":8387989,"body_markdown":"For example:\r\n    \r\n    class A {\r\n        static int i=0;\r\n        static int j;\r\n\r\n       static void method() {\r\n           // static k=0; can&#39;t use static for local variables only final is permitted\r\n           // static int L;\r\n        }\r\n    }\r\n\r\nWhere will these variables be stored in Java, in heap or in stack memory? How are they stored?","title":"Where are static methods and static variables stored in Java?","body":"<p>For example:</p>\n\n<pre><code>class A {\n    static int i=0;\n    static int j;\n\n   static void method() {\n       // static k=0; can't use static for local variables only final is permitted\n       // static int L;\n    }\n}\n</code></pre>\n\n<p>Where will these variables be stored in Java, in heap or in stack memory? How are they stored?</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1641806669,"post_id":70648296,"comment_id":124893675,"body_markdown":"Your code only appends multiple `CTBody` elements   into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. For example to numbering definitions, footnotes, endnotes, media (images for ex.), ... So that approach is not usable at all. The need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. This is much to broad to answer in one question here.","body":"Your code only appends multiple <code>CTBody</code> elements   into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. For example to numbering definitions, footnotes, endnotes, media (images for ex.), ... So that approach is not usable at all. The need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. This is much to broad to answer in one question here."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641825059,"post_id":70648296,"comment_id":124900744,"body_markdown":"Thank you for your explanation. Do you have any reference for a more suitable approach to solve my problem?","body":"Thank you for your explanation. Do you have any reference for a more suitable approach to solve my problem?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641836891,"post_id":70648296,"comment_id":124906218,"body_markdown":"Not that I know. Some of the paid closed source libraries claim to be able merging DOCX documents. But I&#39;ve never had that problem. For me word-processing documents always are the end result, never a data exchange format. So the data source for a word-processing document never are single word-processing documents but real data sources as data bases or JSON or XML or CSV or else. Then one single word-processing document gets created from that data source. So no merging needed.","body":"Not that I know. Some of the paid closed source libraries claim to be able merging DOCX documents. But I&#39;ve never had that problem. For me word-processing documents always are the end result, never a data exchange format. So the data source for a word-processing document never are single word-processing documents but real data sources as data bases or JSON or XML or CSV or else. Then one single word-processing document gets created from that data source. So no merging needed."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641902841,"post_id":70648296,"comment_id":124923871,"body_markdown":"Thank you for your explanation. But please help me because I have tried my best to find a solution but haven&#39;t found a suitable approach, do you have any other ideas to solve this problem?","body":"Thank you for your explanation. But please help me because I have tried my best to find a solution but haven&#39;t found a suitable approach, do you have any other ideas to solve this problem?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641908382,"post_id":70648296,"comment_id":124926018,"body_markdown":"Well, how much time are you able to invest? As said, the need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. I could show you a working draft using `apache poi`. But I cannot deliver the ready to use code which merges Word documents and considers all possible content. If that is needed, then buy one of the commercial libraries(Aspose, ...,  or the MergeDocx utility, which is a paid extension to docx4j).","body":"Well, how much time are you able to invest? As said, the need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. I could show you a working draft using <code>apache poi</code>. But I cannot deliver the ready to use code which merges Word documents and considers all possible content. If that is needed, then buy one of the commercial libraries(Aspose, ...,  or the MergeDocx utility, which is a paid extension to docx4j)."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641962951,"post_id":70648296,"comment_id":124942615,"body_markdown":"Then can you show me a working draft using apache poi?","body":"Then can you show me a working draft using apache poi?"}],"answers":[{"comments":[{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1642391591,"post_id":70700519,"comment_id":125050083,"body_markdown":"Great! It works. Thank you very much. But there is still something missing in the numbering. I got an error in function handleNumberings(), exactly in the .getAbstractNums(), is there something wrong there?","body":"Great! It works. Thank you very much. But there is still something missing in the numbering. I got an error in function handleNumberings(), exactly in the .getAbstractNums(), is there something wrong there?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1642394874,"post_id":70700519,"comment_id":125050543,"body_markdown":"@Jessica Cathrine: What exact error? What exact `apache poi` version used?","body":"@Jessica Cathrine: What exact error? What exact <code>apache poi</code> version used?"},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1642395233,"post_id":70700519,"comment_id":125050592,"body_markdown":"This is the error message :\njava: cannot find symbol\n  symbol:   method getAbstractNums()\n  location: variable resultNumbering of type org.apache.poi.xwpf.usermodel.XWPFNumbering\n\nI use apache poi version 4.1.2","body":"This is the error message : java: cannot find symbol   symbol:   method getAbstractNums()   location: variable resultNumbering of type org.apache.poi.xwpf.usermodel.XWPFNumbering  I use apache poi version 4.1.2"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1642402460,"post_id":70700519,"comment_id":125051845,"body_markdown":"@Jessica Cathrine: See my answer: &quot;The code is tested and works using current apache poi 5.1.0. Former versions are not tested and also should not be used since they offer even less support for XWPF.&quot;","body":"@Jessica Cathrine: See my answer: &quot;The code is tested and works using current apache poi 5.1.0. Former versions are not tested and also should not be used since they offer even less support for XWPF.&quot;"},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1642480016,"post_id":70700519,"comment_id":125075170,"body_markdown":"I&#39;m already using version 5.1.0, but still error in method getAbstractNums(). Can you show me your pom.xml file?","body":"I&#39;m already using version 5.1.0, but still error in method getAbstractNums(). Can you show me your pom.xml file?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1642486313,"post_id":70700519,"comment_id":125076233,"body_markdown":"@Jessica Cathrine: All I can tell is that `XWPFNumbering` is contained in `poi-ooxml-5.1.0.jar`. Dependency: `...&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;&lt;version&gt;5.1.0&lt;/version&gt; ...`. And there must not be other `poi-ooxml` versions in class path.","body":"@Jessica Cathrine: All I can tell is that <code>XWPFNumbering</code> is contained in <code>poi-ooxml-5.1.0.jar</code>. Dependency: <code>...&lt;artifactId&gt;poi-ooxml&lt;&#47;artifactId&gt;&lt;version&gt;5.1.0&lt;&#47;version&zwnj;&#8203;&gt; ...</code>. And there must not be other <code>poi-ooxml</code> versions in class path."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1642563112,"post_id":70700519,"comment_id":125101716,"body_markdown":"Thank youu very muchh Axel","body":"Thank youu very muchh Axel"},{"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"score":0,"creation_date":1693322476,"post_id":70700519,"comment_id":135743885,"body_markdown":"Hi Axel, this works like a charm (Apache POI 5.2.2), thanks for sharing! I also have some basic charts in my word documents which I want to append.  Is this an easy functionality to add?","body":"Hi Axel, this works like a charm (Apache POI 5.2.2), thanks for sharing! I also have some basic charts in my word documents which I want to append.  Is this an easy functionality to add?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1693324730,"post_id":70700519,"comment_id":135744378,"body_markdown":"@Ivo Sturm: &quot;Is this an easy functionality to add?&quot;: No, not easy to add. Charts are not body elements for Apache POI until now.","body":"@Ivo Sturm: &quot;Is this an easy functionality to add?&quot;: No, not easy to add. Charts are not body elements for Apache POI until now."},{"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"score":0,"creation_date":1693406314,"post_id":70700519,"comment_id":135757092,"body_markdown":"Hi Axel, thanks for the quick reply. Do you have an idea on how to achieve this? I will be diving into it. Any hint from an expert like you would be helpful!","body":"Hi Axel, thanks for the quick reply. Do you have an idea on how to achieve this? I will be diving into it. Any hint from an expert like you would be helpful!"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1693408286,"post_id":70700519,"comment_id":135757565,"body_markdown":"@Ivo Sturm:  Create a `*.docx` file containing a chart. The unzip that `*.docx` file and have a look into `/word/document.xml`. Look how the chart appears into the document body XML. You will find it in a drawing in a run element. Try to understand how my code handles pictures in drawings in run elements. Then adopt that to handle charts in drawings in run elements.","body":"@Ivo Sturm:  Create a <code>*.docx</code> file containing a chart. The unzip that <code>*.docx</code> file and have a look into <code>&#47;word&#47;document.xml</code>. Look how the chart appears into the document body XML. You will find it in a drawing in a run element. Try to understand how my code handles pictures in drawings in run elements. Then adopt that to handle charts in drawings in run elements."},{"owner":{"account_id":17404892,"reputation":130,"user_id":12613159,"display_name":"Ivo Sturm"},"score":0,"creation_date":1693567100,"post_id":70700519,"comment_id":135781508,"body_markdown":"@AxelRichter currently the position of the table within the to be merged documents isn&#39;t kept, the tables of the to be copied Word documents are just appended at the next line available in the base Word document. Is there a way to keep the positioning? For text it is going fine though...","body":"@AxelRichter currently the position of the table within the to be merged documents isn&#39;t kept, the tables of the to be copied Word documents are just appended at the next line available in the base Word document. Is there a way to keep the positioning? For text it is going fine though..."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":12,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683953209,"creation_date":1642094063,"answer_id":70700519,"question_id":70648296,"body_markdown":"Your code only appends multiple `CTBody` elements into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. \r\n\r\nFor example to numbering definitions are referenced by IDs. And that can be the same ID for different definitions in different documents. So ID 1 in first document might be pointing to a decimal numbering while ID 1 in second document might be pointing to a bullet numbering. So the numIDs needs to be merged and not only copied.\r\n\r\nEmbedded  media (images for ex.) are referenced by rIDs. So the `CTBody` only contains the IDs. The media itself is stored outside the document body. So if the document body refers to a picture having rID12 and this picture is not stored, then the document gets corrupted.\r\n\r\nSame is with many other document elements.\r\n\r\nSo that approach is not usable at all. \r\n\r\nThe need is traversing all body elements of the document, which shall be appended. Then append each found body element to the first document and update it&#39;s references.\r\n\r\nThe following is a working draft to show the principle. It is not ready yet. For example it does not considering hyperlinks, footnotes, comments, structured document tags and much more things. And as you see from the sheer amount of code needed, considering all possible things will be a very laborious task to do. To avoid even more code I simply copy the underlying XML bean if possible. This also should be better formed out for productive usage. But the principle should be clear from this code.\r\n\r\nThe code is commented when names of methods and variables are not self explained.\r\n\r\nThe code is tested and works using current `apache poi 5.1.0`. Former versions are not tested and also should  not be used since they offer even less support for `XWPF`.\r\n\r\nThe code needs the full jar of all of the schemas as mentioned in [Apache POI FAQ](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.util.Units;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.math.BigInteger;\r\n    \r\n    public class WordMerger {\r\n        \r\n     private Map&lt;BigInteger, BigInteger&gt; numIDs = null; // to handle merging numID \r\n     \r\n     public WordMerger() {\r\n      this.numIDs= new HashMap&lt;BigInteger, BigInteger&gt;();\r\n     }\r\n                    \r\n     private void traverseBodyElements(List&lt;IBodyElement&gt; bodyElements, IBody resultBody) throws Exception {\r\n      for (IBodyElement bodyElement : bodyElements) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n        XWPFParagraph resultParagraph = createParagraphWithPPr(paragraph, resultBody);\r\n        traverseRunElements(paragraph.getIRuns(), resultParagraph);\r\n       } else if (bodyElement instanceof XWPFSDT) {\r\n        XWPFSDT sDT = (XWPFSDT)bodyElement;\r\n        XWPFSDT resultSDT = createSDT(sDT, resultBody);\r\n        //ToDo: handle further issues ...\r\n       } else if (bodyElement instanceof XWPFTable) {\r\n        XWPFTable table = (XWPFTable)bodyElement;\r\n        XWPFTable resultTable = createTableWithTblPrAndTblGrid(table, resultBody);\r\n        traverseTableRows(table.getRows(), resultTable);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFSDT createSDT(XWPFSDT sDT, IBody resultBody) {\r\n      //not ready yet\r\n      //we simply add paragraphs to avoid corruped documents\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFParagraph resultParagraph = resultDocument.createParagraph();\r\n       //ToDo: handle further issues ...\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       XWPFParagraph resultParagraph = resultTableCell.addParagraph();\r\n       //ToDo: handle further issues ...\r\n      } //ToDo: else others ...\r\n      //ToDo: handle SDT properly\r\n      return null;\r\n     }\r\n    \r\n     private XWPFParagraph createParagraphWithPPr(XWPFParagraph paragraph, IBody resultBody) {\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFParagraph resultParagraph = resultDocument.createParagraph();\r\n       resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultDocument, paragraph);\r\n       handleNumberings(paragraph, resultParagraph);\r\n       handleOMathParaArray(paragraph, resultParagraph);\r\n       handleOMathIfFirstChild(paragraph, resultParagraph);\r\n       //ToDo: handle further issues ...\r\n       return resultParagraph;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       XWPFParagraph resultParagraph = resultTableCell.addParagraph();\r\n       resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultTableCell, paragraph);\r\n       handleOMathParaArray(paragraph, resultParagraph);\r\n       handleOMathIfFirstChild(paragraph, resultParagraph);\r\n       //ToDo: handle further issues ...  \r\n       return resultParagraph;\r\n      } //ToDo: else others ...\r\n      return null;\r\n     }\r\n    \r\n     private void handleOMathParaArray(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      resultParagraph.getCTP().setOMathParaArray(paragraph.getCTP().getOMathParaArray());//simply copy the underlying XML bean to avoid more code\r\n     }\r\n     \r\n     private void handleOMathIfFirstChild(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      org.apache.xmlbeans.XmlCursor cursor = paragraph.getCTP().newCursor();\r\n      cursor.toChild(0);\r\n      org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\r\n      if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\r\n       org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\r\n       resultParagraph.getCTP().addNewOMath();\r\n       resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\r\n      }  \r\n     }\r\n     \r\n     private void handleNumberings(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      //if we have numberings, we need merging the numIDs and abstract numberings of the two different documents\r\n      BigInteger numID = paragraph.getNumID();\r\n      if (numID == null) return;\r\n      BigInteger resultNumID = this.numIDs.get(numID);\r\n      if (resultNumID == null) {\r\n       XWPFDocument document = paragraph.getDocument(); \r\n       XWPFNumbering numbering = document.createNumbering();\r\n       XWPFNum num = numbering.getNum(numID);\r\n       BigInteger abstractNumID = numbering.getAbstractNumID(numID);\r\n       XWPFAbstractNum abstractNum = numbering.getAbstractNum(abstractNumID);\r\n       XWPFAbstractNum resultAbstractNum = new XWPFAbstractNum((org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum)abstractNum.getCTAbstractNum().copy());\r\n       XWPFDocument resultDocument = resultParagraph.getDocument(); \r\n       XWPFNumbering resultNumbering = resultDocument.createNumbering();\r\n       int pos = resultNumbering.getAbstractNums().size();\r\n       resultAbstractNum.getCTAbstractNum().setAbstractNumId(BigInteger.valueOf(pos));\r\n       BigInteger resultAbstractNumID = resultNumbering.addAbstractNum(resultAbstractNum);\r\n       resultNumID = resultNumbering.addNum(resultAbstractNumID);\r\n       XWPFNum resultNum = resultNumbering.getNum(resultNumID);\r\n       resultNum.getCTNum().setLvlOverrideArray(num.getCTNum().getLvlOverrideArray());\r\n       this.numIDs.put(numID, resultNumID);\r\n      }\r\n      resultParagraph.setNumID(resultNumID);  \r\n     }\r\n    \r\n     private void handleStyles(IBody resultBody, IBodyElement bodyElement) {\r\n      //if we have bodyElement styles we need merging those styles of the two different documents\r\n      XWPFDocument document = null;\r\n      String styleID = null;\r\n      if (bodyElement instanceof XWPFParagraph) {\r\n       XWPFParagraph paragraph = (XWPFParagraph)bodyElement;  \r\n       document = paragraph.getDocument(); \r\n       styleID = paragraph.getStyleID();   \r\n      } else if (bodyElement instanceof XWPFTable) {\r\n       XWPFTable table = (XWPFTable)bodyElement;\r\n       if (table.getPart() instanceof XWPFDocument) {\r\n        document = (XWPFDocument)table.getPart();\r\n        styleID = table.getStyleID();\r\n       }\r\n      } //ToDo: else others ...\r\n      if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\r\n      XWPFDocument resultDocument = null;\r\n      if (resultBody instanceof XWPFDocument) {\r\n       resultDocument = (XWPFDocument)resultBody;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       resultDocument = resultTableCell.getXWPFDocument();\r\n      } //ToDo: else others ...\r\n      if (resultDocument != null) {\r\n       XWPFStyles styles = document.getStyles();  \r\n       XWPFStyles resultStyles = resultDocument.getStyles(); \r\n       XWPFStyle style = styles.getStyle(styleID);\r\n       //merge each used styles, also the related ones\r\n       for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\r\n        if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\r\n         resultStyles.addStyle(relatedStyle);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFTable createTableWithTblPrAndTblGrid(XWPFTable table, IBody resultBody) {\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFTable resultTable = resultDocument.createTable();\r\n       resultTable.removeRow(0);   \r\n       resultTable.getCTTbl().setTblPr(table.getCTTbl().getTblPr());//simply copy the underlying XML bean to avoid more code\r\n       resultTable.getCTTbl().setTblGrid(table.getCTTbl().getTblGrid());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultDocument, table);\r\n       //ToDo: handle further issues ...\r\n       return resultTable;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       //ToDo: handle stacked tables\r\n      } //ToDo: else others ...\r\n      return null;       \r\n     }\r\n    \r\n     private void traverseRunElements(List&lt;IRunElement&gt; runElements, IRunBody resultRunBody) throws Exception {\r\n      for (IRunElement runElement : runElements) {\r\n       if (runElement instanceof XWPFFieldRun) {\r\n        XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n        XWPFFieldRun resultFieldRun = createFieldRunWithRPr(fieldRun, resultRunBody);\r\n        traversePictures(fieldRun, resultFieldRun);\r\n       } else if (runElement instanceof XWPFHyperlinkRun) {\r\n        XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\r\n        XWPFHyperlinkRun resultHyperlinkRun = createHyperlinkRunWithRPr(hyperlinkRun, resultRunBody);\r\n        traversePictures(hyperlinkRun, resultHyperlinkRun);\r\n       } else if (runElement instanceof XWPFRun) {\r\n        XWPFRun run = (XWPFRun)runElement;\r\n        XWPFRun resultRun = createRunWithRPr(run, resultRunBody);\r\n        traversePictures(run, resultRun);\r\n       } else if (runElement instanceof XWPFSDT) {\r\n        XWPFSDT sDT = (XWPFSDT)runElement;\r\n        //ToDo: handle SDT\r\n       }\r\n      }\r\n     }\r\n    \r\n     private void copyTextOfRuns(XWPFRun run, XWPFRun resultRun) {\r\n      //copy all of the possible T contents of the runs\r\n      for (int i = 0; i &lt; run.getCTR().sizeOfTArray(); i++) {\r\n       resultRun.setText(run.getText(i), i);\r\n      }\r\n     }\r\n     \r\n     private XWPFFieldRun createFieldRunWithRPr(XWPFFieldRun fieldRun, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultParagraph.createRun();\r\n       resultFieldRun.getCTR().setRPr(fieldRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       //ToDo: handle field runs properly ...\r\n       handleRunStyles(resultParagraph.getDocument(), fieldRun);\r\n       handlePossibleOMt&#225;th(fieldRun, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultFieldRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n     \r\n     private XWPFHyperlinkRun createHyperlinkRunWithRPr(XWPFHyperlinkRun hyperlinkRun, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink resultCTHyperLink = resultParagraph.getCTP().addNewHyperlink();\r\n       resultCTHyperLink.addNewR();\r\n       XWPFHyperlinkRun resultHyperlinkRun =  new XWPFHyperlinkRun(resultCTHyperLink, resultCTHyperLink.getRArray(0), resultParagraph);\r\n       if (hyperlinkRun.getAnchor() != null) {\r\n        resultHyperlinkRun = resultParagraph.createHyperlinkRun(hyperlinkRun.getAnchor());\r\n       }\r\n       resultHyperlinkRun.getCTR().setRPr(hyperlinkRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       copyTextOfRuns(hyperlinkRun, resultHyperlinkRun);\r\n       //ToDo: handle external hyperlink runs properly ...\r\n       handleRunStyles(resultParagraph.getDocument(), hyperlinkRun);\r\n       handlePossibleOMt&#225;th(hyperlinkRun, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultHyperlinkRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     private XWPFRun createRunWithRPr(XWPFRun run, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       XWPFRun resultRun = resultParagraph.createRun();\r\n       resultRun.getCTR().setRPr(run.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       copyTextOfRuns(run, resultRun);\r\n       handleRunStyles(resultParagraph.getDocument(), run);\r\n       handlePossibleOMt&#225;th(run, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     private void handlePossibleOMt&#225;th(XWPFRun run, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       org.apache.xmlbeans.XmlCursor cursor = run.getCTR().newCursor();\r\n       cursor.toNextSibling();\r\n       org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\r\n       if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\r\n        org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\r\n        resultParagraph.getCTP().addNewOMath();\r\n        resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\r\n       }  \r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n     }\r\n     \r\n     private void handleRunStyles(IBody resultBody, IRunElement runElement) {\r\n      //if we have runElement styles we need merging those styles of the two different documents\r\n      XWPFDocument document = null;\r\n      String styleID = null;\r\n      if (runElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();   \r\n      } else if (runElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun run = (XWPFHyperlinkRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();      \r\n      } else if (runElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun run = (XWPFFieldRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();      \r\n      } //ToDo: else others ...\r\n      if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\r\n      XWPFDocument resultDocument = null;\r\n      if (resultBody instanceof XWPFDocument) {\r\n       resultDocument = (XWPFDocument)resultBody;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       resultDocument = resultTableCell.getXWPFDocument();\r\n      } //ToDo: else others ...\r\n      if (resultDocument != null) {\r\n       XWPFStyles styles = document.getStyles();  \r\n       XWPFStyles resultStyles = resultDocument.getStyles(); \r\n       XWPFStyle style = styles.getStyle(styleID);\r\n       //merge each used styles, also the related ones\r\n       for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\r\n        if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\r\n         resultStyles.addStyle(relatedStyle);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     private void traverseTableRows(List&lt;XWPFTableRow&gt; tableRows, XWPFTable resultTable) throws Exception {\r\n      for (XWPFTableRow tableRow : tableRows) {\r\n       XWPFTableRow resultTableRow = createTableRowWithTrPr(tableRow, resultTable);\r\n       traverseTableCells(tableRow.getTableICells(), resultTableRow);\r\n      }\r\n     }\r\n    \r\n     private XWPFTableRow createTableRowWithTrPr(XWPFTableRow tableRow, XWPFTable resultTable) {\r\n      XWPFTableRow resultTableRow = resultTable.createRow();\r\n      for (int i = resultTableRow.getTableCells().size(); i &gt; 0; i--) { //table row should be empty at first\r\n       resultTableRow.removeCell(i-1);\r\n      }\r\n      resultTableRow.getCtRow().setTrPr(tableRow.getCtRow().getTrPr());//simply copy the underlying XML bean to avoid more code\r\n      //ToDo: handle further issues ...\r\n      return resultTableRow;\r\n     }\r\n    \r\n     private void traverseTableCells(List&lt;ICell&gt; tableICells, XWPFTableRow resultTableRow) throws Exception {\r\n      for (ICell tableICell : tableICells) {\r\n       if (tableICell instanceof XWPFSDTCell) {\r\n        XWPFSDTCell sDTCell = (XWPFSDTCell)tableICell;\r\n        XWPFSDTCell resultSdtTableCell = createSdtTableCell(sDTCell, resultTableRow);\r\n        //ToDo: handle further issues ...  \r\n       } else if (tableICell instanceof XWPFTableCell) {\r\n        XWPFTableCell tableCell = (XWPFTableCell)tableICell;\r\n        XWPFTableCell resultTableCell = createTableCellWithTcPr(tableCell, resultTableRow);\r\n        traverseBodyElements(tableCell.getBodyElements(), resultTableCell);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFSDTCell createSdtTableCell(XWPFSDTCell sDTCell, XWPFTableRow resultTableRow) { \r\n      //create at least a cell to avoid corrupted document\r\n      XWPFTableCell resultTableCell = resultTableRow.createCell();\r\n      //ToDo: handle SDTCell properly\r\n      //ToDo: handle further issues ...\r\n      return null;\r\n     }\r\n     \r\n     private XWPFTableCell createTableCellWithTcPr(XWPFTableCell tableCell, XWPFTableRow resultTableRow) { \r\n      XWPFTableCell resultTableCell = resultTableRow.createCell();\r\n      resultTableCell.removeParagraph(0);\r\n      resultTableCell.getCTTc().setTcPr(tableCell.getCTTc().getTcPr());//simply copy the underlying XML bean to avoid more code\r\n      //ToDo: handle further issues ...\r\n      return resultTableCell;\r\n     }\r\n    \r\n     private void traversePictures(IRunElement runElement, IRunElement resultRunElement) throws Exception { \r\n      List&lt;XWPFPicture&gt; pictures = null;\r\n      if (runElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n       pictures = fieldRun.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\r\n       pictures = hyperlinkRun.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;\r\n       pictures = run.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFSDT) {\r\n       XWPFSDT sDT = (XWPFSDT)runElement;\r\n       //ToDo: handle SDT\r\n      }            \r\n      if (pictures != null) { \r\n       for (XWPFPicture picture : pictures) {\r\n        XWPFPictureData pictureData = picture.getPictureData();\r\n        XWPFPicture resultPicture = createPictureWithDrawing(runElement, picture, pictureData, resultRunElement);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFPicture createPictureWithDrawing(IRunElement runElement, XWPFPicture picture, XWPFPictureData pictureData, IRunElement resultRunElement) {\r\n      if (resultRunElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n       XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(fieldRun, resultFieldRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\r\n       XWPFHyperlinkRun resultHyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(hyperlinkRun, resultHyperlinkRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;\r\n       XWPFRun resultRun = (XWPFRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(run, resultRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFSDT) {\r\n       XWPFSDT sDT = (XWPFSDT)resultRunElement;\r\n       //ToDo: handle SDT\r\n      }            \r\n      return null; \r\n     }\r\n     \r\n     private XWPFPicture createPictureWithDrawing(XWPFRun run, XWPFRun resultRun, XWPFPicture picture, XWPFPictureData pictureData) {\r\n      try {\r\n       XWPFPicture resultPicture = resultRun.addPicture(\r\n        pictureData.getPackagePart().getInputStream(), \r\n        pictureData.getPictureType(), \r\n        pictureData.getFileName(), \r\n        Units.pixelToEMU((int)picture.getWidth()), \r\n        Units.pixelToEMU((int)picture.getDepth()));\r\n       String rId = resultPicture.getCTPicture().getBlipFill().getBlip().getEmbed();\r\n       resultRun.getCTR().setDrawingArray(0, run.getCTR().getDrawingArray(0));//simply copy the underlying XML bean to avoid more code\r\n       //but then correct the rID\r\n       String declareNameSpaces = &quot;declare namespace a=&#39;http://schemas.openxmlformats.org/drawingml/2006/main&#39;; &quot;;\r\n       org.apache.xmlbeans.XmlObject[] selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\r\n        declareNameSpaces \r\n        + &quot;$this//a:blip&quot;);\r\n       for (org.apache.xmlbeans.XmlObject blipObject : selectedObjects) {\r\n        if (blipObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTBlip) {\r\n         org.openxmlformats.schemas.drawingml.x2006.main.CTBlip blip = (org.openxmlformats.schemas.drawingml.x2006.main.CTBlip)blipObject;\r\n         if (blip.isSetEmbed()) blip.setEmbed(rId);\r\n        }\r\n       }\r\n       //remove rIDs to external hyperlinks to avoid corruot document\r\n       selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\r\n        declareNameSpaces \r\n        + &quot;$this//a:hlinkClick&quot;);\r\n       for (org.apache.xmlbeans.XmlObject hlinkClickObject : selectedObjects) {\r\n        if (hlinkClickObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink) {\r\n         org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink hlinkClick = (org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink)hlinkClickObject;\r\n         if (hlinkClick.isSetId()) hlinkClick.setId(&quot;&quot;);\r\n         //ToDo: handle pictures having hyperlinks properly\r\n        }\r\n       }\r\n       //ToDo: handle further issues ...\r\n       return resultPicture;\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     public void merge(String firstFilePath, String secondFilePath, String resultFilePath) throws Exception {\r\n      XWPFDocument resultDocument = new XWPFDocument(new FileInputStream(firstFilePath));\r\n      XWPFDocument documentToAppend = new XWPFDocument(new FileInputStream(secondFilePath));\r\n      traverseBodyElements(documentToAppend.getBodyElements(), resultDocument);\r\n      documentToAppend.close();\r\n      FileOutputStream out = new FileOutputStream(resultFilePath);\r\n      resultDocument.write(out);\r\n      out.close();\r\n      resultDocument.close();\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      WordMerger merger = new WordMerger();\r\n      merger.merge(&quot;./WordDocument3.docx&quot;, &quot;./WordDocument4.docx&quot;, &quot;./WordDocumentResult.docx&quot;);\r\n     }\r\n    }","title":"Merge documents by inserting content into a new page using poi","body":"<p>Your code only appends multiple <code>CTBody</code> elements into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure.</p>\n<p>For example to numbering definitions are referenced by IDs. And that can be the same ID for different definitions in different documents. So ID 1 in first document might be pointing to a decimal numbering while ID 1 in second document might be pointing to a bullet numbering. So the numIDs needs to be merged and not only copied.</p>\n<p>Embedded  media (images for ex.) are referenced by rIDs. So the <code>CTBody</code> only contains the IDs. The media itself is stored outside the document body. So if the document body refers to a picture having rID12 and this picture is not stored, then the document gets corrupted.</p>\n<p>Same is with many other document elements.</p>\n<p>So that approach is not usable at all.</p>\n<p>The need is traversing all body elements of the document, which shall be appended. Then append each found body element to the first document and update it's references.</p>\n<p>The following is a working draft to show the principle. It is not ready yet. For example it does not considering hyperlinks, footnotes, comments, structured document tags and much more things. And as you see from the sheer amount of code needed, considering all possible things will be a very laborious task to do. To avoid even more code I simply copy the underlying XML bean if possible. This also should be better formed out for productive usage. But the principle should be clear from this code.</p>\n<p>The code is commented when names of methods and variables are not self explained.</p>\n<p>The code is tested and works using current <code>apache poi 5.1.0</code>. Former versions are not tested and also should  not be used since they offer even less support for <code>XWPF</code>.</p>\n<p>The code needs the full jar of all of the schemas as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">Apache POI FAQ</a>.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.util.Units;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.math.BigInteger;\n\npublic class WordMerger {\n    \n private Map&lt;BigInteger, BigInteger&gt; numIDs = null; // to handle merging numID \n \n public WordMerger() {\n  this.numIDs= new HashMap&lt;BigInteger, BigInteger&gt;();\n }\n                \n private void traverseBodyElements(List&lt;IBodyElement&gt; bodyElements, IBody resultBody) throws Exception {\n  for (IBodyElement bodyElement : bodyElements) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n    XWPFParagraph resultParagraph = createParagraphWithPPr(paragraph, resultBody);\n    traverseRunElements(paragraph.getIRuns(), resultParagraph);\n   } else if (bodyElement instanceof XWPFSDT) {\n    XWPFSDT sDT = (XWPFSDT)bodyElement;\n    XWPFSDT resultSDT = createSDT(sDT, resultBody);\n    //ToDo: handle further issues ...\n   } else if (bodyElement instanceof XWPFTable) {\n    XWPFTable table = (XWPFTable)bodyElement;\n    XWPFTable resultTable = createTableWithTblPrAndTblGrid(table, resultBody);\n    traverseTableRows(table.getRows(), resultTable);\n   }\n  }\n }\n\n private XWPFSDT createSDT(XWPFSDT sDT, IBody resultBody) {\n  //not ready yet\n  //we simply add paragraphs to avoid corruped documents\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFParagraph resultParagraph = resultDocument.createParagraph();\n   //ToDo: handle further issues ...\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   XWPFParagraph resultParagraph = resultTableCell.addParagraph();\n   //ToDo: handle further issues ...\n  } //ToDo: else others ...\n  //ToDo: handle SDT properly\n  return null;\n }\n\n private XWPFParagraph createParagraphWithPPr(XWPFParagraph paragraph, IBody resultBody) {\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFParagraph resultParagraph = resultDocument.createParagraph();\n   resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultDocument, paragraph);\n   handleNumberings(paragraph, resultParagraph);\n   handleOMathParaArray(paragraph, resultParagraph);\n   handleOMathIfFirstChild(paragraph, resultParagraph);\n   //ToDo: handle further issues ...\n   return resultParagraph;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   XWPFParagraph resultParagraph = resultTableCell.addParagraph();\n   resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultTableCell, paragraph);\n   handleOMathParaArray(paragraph, resultParagraph);\n   handleOMathIfFirstChild(paragraph, resultParagraph);\n   //ToDo: handle further issues ...  \n   return resultParagraph;\n  } //ToDo: else others ...\n  return null;\n }\n\n private void handleOMathParaArray(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  resultParagraph.getCTP().setOMathParaArray(paragraph.getCTP().getOMathParaArray());//simply copy the underlying XML bean to avoid more code\n }\n \n private void handleOMathIfFirstChild(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  org.apache.xmlbeans.XmlCursor cursor = paragraph.getCTP().newCursor();\n  cursor.toChild(0);\n  org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\n  if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\n   org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\n   resultParagraph.getCTP().addNewOMath();\n   resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\n  }  \n }\n \n private void handleNumberings(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  //if we have numberings, we need merging the numIDs and abstract numberings of the two different documents\n  BigInteger numID = paragraph.getNumID();\n  if (numID == null) return;\n  BigInteger resultNumID = this.numIDs.get(numID);\n  if (resultNumID == null) {\n   XWPFDocument document = paragraph.getDocument(); \n   XWPFNumbering numbering = document.createNumbering();\n   XWPFNum num = numbering.getNum(numID);\n   BigInteger abstractNumID = numbering.getAbstractNumID(numID);\n   XWPFAbstractNum abstractNum = numbering.getAbstractNum(abstractNumID);\n   XWPFAbstractNum resultAbstractNum = new XWPFAbstractNum((org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum)abstractNum.getCTAbstractNum().copy());\n   XWPFDocument resultDocument = resultParagraph.getDocument(); \n   XWPFNumbering resultNumbering = resultDocument.createNumbering();\n   int pos = resultNumbering.getAbstractNums().size();\n   resultAbstractNum.getCTAbstractNum().setAbstractNumId(BigInteger.valueOf(pos));\n   BigInteger resultAbstractNumID = resultNumbering.addAbstractNum(resultAbstractNum);\n   resultNumID = resultNumbering.addNum(resultAbstractNumID);\n   XWPFNum resultNum = resultNumbering.getNum(resultNumID);\n   resultNum.getCTNum().setLvlOverrideArray(num.getCTNum().getLvlOverrideArray());\n   this.numIDs.put(numID, resultNumID);\n  }\n  resultParagraph.setNumID(resultNumID);  \n }\n\n private void handleStyles(IBody resultBody, IBodyElement bodyElement) {\n  //if we have bodyElement styles we need merging those styles of the two different documents\n  XWPFDocument document = null;\n  String styleID = null;\n  if (bodyElement instanceof XWPFParagraph) {\n   XWPFParagraph paragraph = (XWPFParagraph)bodyElement;  \n   document = paragraph.getDocument(); \n   styleID = paragraph.getStyleID();   \n  } else if (bodyElement instanceof XWPFTable) {\n   XWPFTable table = (XWPFTable)bodyElement;\n   if (table.getPart() instanceof XWPFDocument) {\n    document = (XWPFDocument)table.getPart();\n    styleID = table.getStyleID();\n   }\n  } //ToDo: else others ...\n  if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\n  XWPFDocument resultDocument = null;\n  if (resultBody instanceof XWPFDocument) {\n   resultDocument = (XWPFDocument)resultBody;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   resultDocument = resultTableCell.getXWPFDocument();\n  } //ToDo: else others ...\n  if (resultDocument != null) {\n   XWPFStyles styles = document.getStyles();  \n   XWPFStyles resultStyles = resultDocument.getStyles(); \n   XWPFStyle style = styles.getStyle(styleID);\n   //merge each used styles, also the related ones\n   for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\n    if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\n     resultStyles.addStyle(relatedStyle);\n    }\n   }\n  }\n }\n\n private XWPFTable createTableWithTblPrAndTblGrid(XWPFTable table, IBody resultBody) {\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFTable resultTable = resultDocument.createTable();\n   resultTable.removeRow(0);   \n   resultTable.getCTTbl().setTblPr(table.getCTTbl().getTblPr());//simply copy the underlying XML bean to avoid more code\n   resultTable.getCTTbl().setTblGrid(table.getCTTbl().getTblGrid());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultDocument, table);\n   //ToDo: handle further issues ...\n   return resultTable;\n  } else if (resultBody instanceof XWPFTableCell) {\n   //ToDo: handle stacked tables\n  } //ToDo: else others ...\n  return null;       \n }\n\n private void traverseRunElements(List&lt;IRunElement&gt; runElements, IRunBody resultRunBody) throws Exception {\n  for (IRunElement runElement : runElements) {\n   if (runElement instanceof XWPFFieldRun) {\n    XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n    XWPFFieldRun resultFieldRun = createFieldRunWithRPr(fieldRun, resultRunBody);\n    traversePictures(fieldRun, resultFieldRun);\n   } else if (runElement instanceof XWPFHyperlinkRun) {\n    XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\n    XWPFHyperlinkRun resultHyperlinkRun = createHyperlinkRunWithRPr(hyperlinkRun, resultRunBody);\n    traversePictures(hyperlinkRun, resultHyperlinkRun);\n   } else if (runElement instanceof XWPFRun) {\n    XWPFRun run = (XWPFRun)runElement;\n    XWPFRun resultRun = createRunWithRPr(run, resultRunBody);\n    traversePictures(run, resultRun);\n   } else if (runElement instanceof XWPFSDT) {\n    XWPFSDT sDT = (XWPFSDT)runElement;\n    //ToDo: handle SDT\n   }\n  }\n }\n\n private void copyTextOfRuns(XWPFRun run, XWPFRun resultRun) {\n  //copy all of the possible T contents of the runs\n  for (int i = 0; i &lt; run.getCTR().sizeOfTArray(); i++) {\n   resultRun.setText(run.getText(i), i);\n  }\n }\n \n private XWPFFieldRun createFieldRunWithRPr(XWPFFieldRun fieldRun, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultParagraph.createRun();\n   resultFieldRun.getCTR().setRPr(fieldRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   //ToDo: handle field runs properly ...\n   handleRunStyles(resultParagraph.getDocument(), fieldRun);\n   handlePossibleOMtth(fieldRun, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultFieldRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n \n private XWPFHyperlinkRun createHyperlinkRunWithRPr(XWPFHyperlinkRun hyperlinkRun, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink resultCTHyperLink = resultParagraph.getCTP().addNewHyperlink();\n   resultCTHyperLink.addNewR();\n   XWPFHyperlinkRun resultHyperlinkRun =  new XWPFHyperlinkRun(resultCTHyperLink, resultCTHyperLink.getRArray(0), resultParagraph);\n   if (hyperlinkRun.getAnchor() != null) {\n    resultHyperlinkRun = resultParagraph.createHyperlinkRun(hyperlinkRun.getAnchor());\n   }\n   resultHyperlinkRun.getCTR().setRPr(hyperlinkRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   copyTextOfRuns(hyperlinkRun, resultHyperlinkRun);\n   //ToDo: handle external hyperlink runs properly ...\n   handleRunStyles(resultParagraph.getDocument(), hyperlinkRun);\n   handlePossibleOMtth(hyperlinkRun, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultHyperlinkRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n\n private XWPFRun createRunWithRPr(XWPFRun run, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   XWPFRun resultRun = resultParagraph.createRun();\n   resultRun.getCTR().setRPr(run.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   copyTextOfRuns(run, resultRun);\n   handleRunStyles(resultParagraph.getDocument(), run);\n   handlePossibleOMtth(run, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n\n private void handlePossibleOMtth(XWPFRun run, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   org.apache.xmlbeans.XmlCursor cursor = run.getCTR().newCursor();\n   cursor.toNextSibling();\n   org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\n   if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\n    org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\n    resultParagraph.getCTP().addNewOMath();\n    resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\n   }  \n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n }\n \n private void handleRunStyles(IBody resultBody, IRunElement runElement) {\n  //if we have runElement styles we need merging those styles of the two different documents\n  XWPFDocument document = null;\n  String styleID = null;\n  if (runElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();   \n  } else if (runElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun run = (XWPFHyperlinkRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();      \n  } else if (runElement instanceof XWPFFieldRun) {\n   XWPFFieldRun run = (XWPFFieldRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();      \n  } //ToDo: else others ...\n  if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\n  XWPFDocument resultDocument = null;\n  if (resultBody instanceof XWPFDocument) {\n   resultDocument = (XWPFDocument)resultBody;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   resultDocument = resultTableCell.getXWPFDocument();\n  } //ToDo: else others ...\n  if (resultDocument != null) {\n   XWPFStyles styles = document.getStyles();  \n   XWPFStyles resultStyles = resultDocument.getStyles(); \n   XWPFStyle style = styles.getStyle(styleID);\n   //merge each used styles, also the related ones\n   for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\n    if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\n     resultStyles.addStyle(relatedStyle);\n    }\n   }\n  }\n }\n\n private void traverseTableRows(List&lt;XWPFTableRow&gt; tableRows, XWPFTable resultTable) throws Exception {\n  for (XWPFTableRow tableRow : tableRows) {\n   XWPFTableRow resultTableRow = createTableRowWithTrPr(tableRow, resultTable);\n   traverseTableCells(tableRow.getTableICells(), resultTableRow);\n  }\n }\n\n private XWPFTableRow createTableRowWithTrPr(XWPFTableRow tableRow, XWPFTable resultTable) {\n  XWPFTableRow resultTableRow = resultTable.createRow();\n  for (int i = resultTableRow.getTableCells().size(); i &gt; 0; i--) { //table row should be empty at first\n   resultTableRow.removeCell(i-1);\n  }\n  resultTableRow.getCtRow().setTrPr(tableRow.getCtRow().getTrPr());//simply copy the underlying XML bean to avoid more code\n  //ToDo: handle further issues ...\n  return resultTableRow;\n }\n\n private void traverseTableCells(List&lt;ICell&gt; tableICells, XWPFTableRow resultTableRow) throws Exception {\n  for (ICell tableICell : tableICells) {\n   if (tableICell instanceof XWPFSDTCell) {\n    XWPFSDTCell sDTCell = (XWPFSDTCell)tableICell;\n    XWPFSDTCell resultSdtTableCell = createSdtTableCell(sDTCell, resultTableRow);\n    //ToDo: handle further issues ...  \n   } else if (tableICell instanceof XWPFTableCell) {\n    XWPFTableCell tableCell = (XWPFTableCell)tableICell;\n    XWPFTableCell resultTableCell = createTableCellWithTcPr(tableCell, resultTableRow);\n    traverseBodyElements(tableCell.getBodyElements(), resultTableCell);\n   }\n  }\n }\n\n private XWPFSDTCell createSdtTableCell(XWPFSDTCell sDTCell, XWPFTableRow resultTableRow) { \n  //create at least a cell to avoid corrupted document\n  XWPFTableCell resultTableCell = resultTableRow.createCell();\n  //ToDo: handle SDTCell properly\n  //ToDo: handle further issues ...\n  return null;\n }\n \n private XWPFTableCell createTableCellWithTcPr(XWPFTableCell tableCell, XWPFTableRow resultTableRow) { \n  XWPFTableCell resultTableCell = resultTableRow.createCell();\n  resultTableCell.removeParagraph(0);\n  resultTableCell.getCTTc().setTcPr(tableCell.getCTTc().getTcPr());//simply copy the underlying XML bean to avoid more code\n  //ToDo: handle further issues ...\n  return resultTableCell;\n }\n\n private void traversePictures(IRunElement runElement, IRunElement resultRunElement) throws Exception { \n  List&lt;XWPFPicture&gt; pictures = null;\n  if (runElement instanceof XWPFFieldRun) {\n   XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n   pictures = fieldRun.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\n   pictures = hyperlinkRun.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;\n   pictures = run.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFSDT) {\n   XWPFSDT sDT = (XWPFSDT)runElement;\n   //ToDo: handle SDT\n  }            \n  if (pictures != null) { \n   for (XWPFPicture picture : pictures) {\n    XWPFPictureData pictureData = picture.getPictureData();\n    XWPFPicture resultPicture = createPictureWithDrawing(runElement, picture, pictureData, resultRunElement);\n   }\n  }\n }\n\n private XWPFPicture createPictureWithDrawing(IRunElement runElement, XWPFPicture picture, XWPFPictureData pictureData, IRunElement resultRunElement) {\n  if (resultRunElement instanceof XWPFFieldRun) {\n   XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n   XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(fieldRun, resultFieldRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\n   XWPFHyperlinkRun resultHyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(hyperlinkRun, resultHyperlinkRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;\n   XWPFRun resultRun = (XWPFRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(run, resultRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFSDT) {\n   XWPFSDT sDT = (XWPFSDT)resultRunElement;\n   //ToDo: handle SDT\n  }            \n  return null; \n }\n \n private XWPFPicture createPictureWithDrawing(XWPFRun run, XWPFRun resultRun, XWPFPicture picture, XWPFPictureData pictureData) {\n  try {\n   XWPFPicture resultPicture = resultRun.addPicture(\n    pictureData.getPackagePart().getInputStream(), \n    pictureData.getPictureType(), \n    pictureData.getFileName(), \n    Units.pixelToEMU((int)picture.getWidth()), \n    Units.pixelToEMU((int)picture.getDepth()));\n   String rId = resultPicture.getCTPicture().getBlipFill().getBlip().getEmbed();\n   resultRun.getCTR().setDrawingArray(0, run.getCTR().getDrawingArray(0));//simply copy the underlying XML bean to avoid more code\n   //but then correct the rID\n   String declareNameSpaces = &quot;declare namespace a='http://schemas.openxmlformats.org/drawingml/2006/main'; &quot;;\n   org.apache.xmlbeans.XmlObject[] selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\n    declareNameSpaces \n    + &quot;$this//a:blip&quot;);\n   for (org.apache.xmlbeans.XmlObject blipObject : selectedObjects) {\n    if (blipObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTBlip) {\n     org.openxmlformats.schemas.drawingml.x2006.main.CTBlip blip = (org.openxmlformats.schemas.drawingml.x2006.main.CTBlip)blipObject;\n     if (blip.isSetEmbed()) blip.setEmbed(rId);\n    }\n   }\n   //remove rIDs to external hyperlinks to avoid corruot document\n   selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\n    declareNameSpaces \n    + &quot;$this//a:hlinkClick&quot;);\n   for (org.apache.xmlbeans.XmlObject hlinkClickObject : selectedObjects) {\n    if (hlinkClickObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink) {\n     org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink hlinkClick = (org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink)hlinkClickObject;\n     if (hlinkClick.isSetId()) hlinkClick.setId(&quot;&quot;);\n     //ToDo: handle pictures having hyperlinks properly\n    }\n   }\n   //ToDo: handle further issues ...\n   return resultPicture;\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n  return null;\n }\n\n public void merge(String firstFilePath, String secondFilePath, String resultFilePath) throws Exception {\n  XWPFDocument resultDocument = new XWPFDocument(new FileInputStream(firstFilePath));\n  XWPFDocument documentToAppend = new XWPFDocument(new FileInputStream(secondFilePath));\n  traverseBodyElements(documentToAppend.getBodyElements(), resultDocument);\n  documentToAppend.close();\n  FileOutputStream out = new FileOutputStream(resultFilePath);\n  resultDocument.write(out);\n  out.close();\n  resultDocument.close();\n }\n\n public static void main(String[] args) throws Exception {\n  WordMerger merger = new WordMerger();\n  merger.merge(&quot;./WordDocument3.docx&quot;, &quot;./WordDocument4.docx&quot;, &quot;./WordDocumentResult.docx&quot;);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70700519,"answer_count":1,"score":3,"last_activity_date":1683953209,"creation_date":1641793797,"question_id":70648296,"body_markdown":"I have several documents and I want to combine them all into one docx file.\r\nMy code :\r\n \r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.apache.poi.openxml4j.opc.OPCPackage;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\r\n    \r\n    public class WordMerge {\r\n\r\n    private final OutputStream result;\r\n    private final List&lt;InputStream&gt; inputs;\r\n    private XWPFDocument first;\r\n\r\n    public WordMerge(OutputStream result) {\r\n        this.result = result;\r\n        inputs = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void add(InputStream stream) throws Exception{            \r\n        inputs.add(stream);\r\n        OPCPackage srcPackage = OPCPackage.open(stream);\r\n        XWPFDocument src1Document = new XWPFDocument(srcPackage);         \r\n        if(inputs.size() == 1){\r\n            first = src1Document;\r\n        } else {            \r\n            CTBody srcBody = src1Document.getDocument().getBody();\r\n            first.getDocument().addNewBody().set(srcBody);            \r\n        }        \r\n    }\r\n\r\n    public void doMerge() throws Exception{\r\n        first.write(result);                \r\n    }\r\n\r\n    public void close() throws Exception{\r\n        result.flush();\r\n        result.close();\r\n        for (InputStream input : inputs) {\r\n            input.close();\r\n        }\r\n    }   \r\n    }\r\n\r\nAnd it use :\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n    FileOutputStream faos = new FileOutputStream(&quot;/home/victor/result.docx&quot;);\r\n\r\n    WordMerge wm = new WordMerge(faos);\r\n\r\n    wm.add( new FileInputStream(&quot;/home/victor/001.docx&quot;) );\r\n    wm.add( new FileInputStream(&quot;/home/victor/002.docx&quot;) );\r\n\r\n    wm.doMerge();\r\n    wm.close();\r\n    }\r\nIt works, unfortunatly it becomes a bit messy if you have listings in any of the non-first document. Listing symbols change to numbers and worse sometimes a listing from the previous document will be continued in the attached document. Say doc1 has a.b.c listing , second has non ordered listing then this latter one becomes d.e.f. **(It followed the previous document formatting.)**\r\n\r\nHow to make each document that is merged on the next page and not follow the formatting of the previous document?","title":"Merge documents by inserting content into a new page using poi","body":"<p>I have several documents and I want to combine them all into one docx file.\nMy code :</p>\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\n\npublic class WordMerge {\n\nprivate final OutputStream result;\nprivate final List&lt;InputStream&gt; inputs;\nprivate XWPFDocument first;\n\npublic WordMerge(OutputStream result) {\n    this.result = result;\n    inputs = new ArrayList&lt;&gt;();\n}\n\npublic void add(InputStream stream) throws Exception{            \n    inputs.add(stream);\n    OPCPackage srcPackage = OPCPackage.open(stream);\n    XWPFDocument src1Document = new XWPFDocument(srcPackage);         \n    if(inputs.size() == 1){\n        first = src1Document;\n    } else {            \n        CTBody srcBody = src1Document.getDocument().getBody();\n        first.getDocument().addNewBody().set(srcBody);            \n    }        \n}\n\npublic void doMerge() throws Exception{\n    first.write(result);                \n}\n\npublic void close() throws Exception{\n    result.flush();\n    result.close();\n    for (InputStream input : inputs) {\n        input.close();\n    }\n}   \n}\n</code></pre>\n<p>And it use :</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\nFileOutputStream faos = new FileOutputStream(&quot;/home/victor/result.docx&quot;);\n\nWordMerge wm = new WordMerge(faos);\n\nwm.add( new FileInputStream(&quot;/home/victor/001.docx&quot;) );\nwm.add( new FileInputStream(&quot;/home/victor/002.docx&quot;) );\n\nwm.doMerge();\nwm.close();\n}\n</code></pre>\n<p>It works, unfortunatly it becomes a bit messy if you have listings in any of the non-first document. Listing symbols change to numbers and worse sometimes a listing from the previous document will be continued in the attached document. Say doc1 has a.b.c listing , second has non ordered listing then this latter one becomes d.e.f. <strong>(It followed the previous document formatting.)</strong></p>\n<p>How to make each document that is merged on the next page and not follow the formatting of the previous document?</p>\n"},{"tags":["java","android","android-fragments","android-fragmentactivity"],"owner":{"account_id":28590072,"reputation":1,"user_id":21889510,"display_name":"Torirebb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683952687,"creation_date":1683911304,"question_id":76238573,"body_markdown":"I&#39;m creating a recipe application where on one activity, the user should be able to click either a &quot;breakfast&quot;, &quot;lunch&quot;, or &quot;dinner&quot; button, and a different fragment will be displayed with recipes with the keyword clicked. I hope that makes sense. I already created the RecyclerView to show random recipes (from spoonacular API) on the home screen, and it&#39;s working well. However, I can&#39;t find a fragment example online that I feel fits my situation where I can pull ideas from. Fragments are new to me, and I&#39;ve read all the documentation on Android, but I&#39;m at a complete standstill. Can someone explain to me in simple English how to format this fragment in Java? Are all the initially generated methods required in each fragment&#39;s java code?\r\n\r\nFor example, I want to just copy the code from my main activity since it&#39;s working, but I can&#39;t call the fragment by adding &quot;fragment.this&quot; as a parameter for anything to get context for the fragment..\r\n\r\nBTW, I&#39;m not having trouble switching between (empty)fragments, just populating the recyclerview inside of each fragment.\r\n\r\n\r\nThe Github Link, because it&#39;s entirely too much to directly post. \r\nhttps://github.com/toriliford/Liford_RecipeApp/tree/master\r\n\r\n\r\n\r\nMainActivity:\r\n\r\n        package com.example.liford_recipeapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.GridLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.liford_recipeapp.Adapters.RandomRecipeAdapter;\r\n    import com.example.liford_recipeapp.Listeners.RandomRecipeResponseListener;\r\n    import com.example.liford_recipeapp.Models.RandomRecipeApiGenerator;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button categoryBtn;\r\n        Button keywordBtn;\r\n        Button savedRecipeBtn;\r\n    \r\n        ProgressDialog dialog;\r\n        RequestManager manager;\r\n        RandomRecipeAdapter randomRecipeAdapter;\r\n        RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            categoryBtn = findViewById(R.id.categoryBtn);\r\n            keywordBtn = findViewById(R.id.keywordBtn);\r\n            savedRecipeBtn = findViewById(R.id.savedRecipesBtn);\r\n    \r\n            //create intents for each button\r\n            Intent categoryIntent = new Intent(this, CategoryChoice.class);\r\n            Intent keywordIntent = new Intent(this, KeywordChoice.class);\r\n            Intent savedRecipeIntent = new Intent(this, SavedRecipeChoice.class);\r\n    \r\n            //on-click listener for category choice\r\n            categoryBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(categoryIntent);\r\n                }\r\n            });\r\n    \r\n            //on-click listener for keyword choice\r\n            keywordBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(keywordIntent);\r\n                }\r\n            });\r\n    \r\n            //on-click listener for saved recipes choice\r\n            savedRecipeBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(savedRecipeIntent);\r\n                }\r\n            });\r\n    \r\n    \r\n            dialog = new ProgressDialog(this);\r\n            dialog.setTitle(&quot;Loading...&quot;);\r\n    \r\n            manager = new RequestManager(this);\r\n            manager.getRandomRecipes(randomRecipeResponseListener);\r\n            dialog.show();\r\n        }\r\n    \r\n        private final RandomRecipeResponseListener randomRecipeResponseListener = new RandomRecipeResponseListener() {\r\n            @Override\r\n            public void didFetch(RandomRecipeApiGenerator response, String message) {\r\n                //dismiss dialog when fetched\r\n                dialog.dismiss();\r\n                recyclerView = findViewById(R.id.homeRecyclerView);\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this, 1));\r\n                randomRecipeAdapter = new RandomRecipeAdapter(MainActivity.this, response.recipes);\r\n                recyclerView.setAdapter(randomRecipeAdapter);\r\n            }\r\n    \r\n            @Override\r\n            public void didError(String message) {\r\n                Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT);\r\n            }\r\n        };\r\n    }\r\n      \r\n\r\n  \r\n","title":"Creating Fragments with RecyclerView: Change with button click?","body":"<p>I'm creating a recipe application where on one activity, the user should be able to click either a &quot;breakfast&quot;, &quot;lunch&quot;, or &quot;dinner&quot; button, and a different fragment will be displayed with recipes with the keyword clicked. I hope that makes sense. I already created the RecyclerView to show random recipes (from spoonacular API) on the home screen, and it's working well. However, I can't find a fragment example online that I feel fits my situation where I can pull ideas from. Fragments are new to me, and I've read all the documentation on Android, but I'm at a complete standstill. Can someone explain to me in simple English how to format this fragment in Java? Are all the initially generated methods required in each fragment's java code?</p>\n<p>For example, I want to just copy the code from my main activity since it's working, but I can't call the fragment by adding &quot;fragment.this&quot; as a parameter for anything to get context for the fragment..</p>\n<p>BTW, I'm not having trouble switching between (empty)fragments, just populating the recyclerview inside of each fragment.</p>\n<p>The Github Link, because it's entirely too much to directly post.\n<a href=\"https://github.com/toriliford/Liford_RecipeApp/tree/master\" rel=\"nofollow noreferrer\">https://github.com/toriliford/Liford_RecipeApp/tree/master</a></p>\n<p>MainActivity:</p>\n<pre><code>    package com.example.liford_recipeapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.example.liford_recipeapp.Adapters.RandomRecipeAdapter;\nimport com.example.liford_recipeapp.Listeners.RandomRecipeResponseListener;\nimport com.example.liford_recipeapp.Models.RandomRecipeApiGenerator;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button categoryBtn;\n    Button keywordBtn;\n    Button savedRecipeBtn;\n\n    ProgressDialog dialog;\n    RequestManager manager;\n    RandomRecipeAdapter randomRecipeAdapter;\n    RecyclerView recyclerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        categoryBtn = findViewById(R.id.categoryBtn);\n        keywordBtn = findViewById(R.id.keywordBtn);\n        savedRecipeBtn = findViewById(R.id.savedRecipesBtn);\n\n        //create intents for each button\n        Intent categoryIntent = new Intent(this, CategoryChoice.class);\n        Intent keywordIntent = new Intent(this, KeywordChoice.class);\n        Intent savedRecipeIntent = new Intent(this, SavedRecipeChoice.class);\n\n        //on-click listener for category choice\n        categoryBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(categoryIntent);\n            }\n        });\n\n        //on-click listener for keyword choice\n        keywordBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(keywordIntent);\n            }\n        });\n\n        //on-click listener for saved recipes choice\n        savedRecipeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(savedRecipeIntent);\n            }\n        });\n\n\n        dialog = new ProgressDialog(this);\n        dialog.setTitle(&quot;Loading...&quot;);\n\n        manager = new RequestManager(this);\n        manager.getRandomRecipes(randomRecipeResponseListener);\n        dialog.show();\n    }\n\n    private final RandomRecipeResponseListener randomRecipeResponseListener = new RandomRecipeResponseListener() {\n        @Override\n        public void didFetch(RandomRecipeApiGenerator response, String message) {\n            //dismiss dialog when fetched\n            dialog.dismiss();\n            recyclerView = findViewById(R.id.homeRecyclerView);\n            recyclerView.setHasFixedSize(true);\n            recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this, 1));\n            randomRecipeAdapter = new RandomRecipeAdapter(MainActivity.this, response.recipes);\n            recyclerView.setAdapter(randomRecipeAdapter);\n        }\n\n        @Override\n        public void didError(String message) {\n            Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT);\n        }\n    };\n}\n  \n</code></pre>\n"},{"tags":["java","mysql","spring-boot","multithreading","spring-data-jpa"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683600540,"post_id":76205491,"comment_id":134387839,"body_markdown":"Maybe, you want save 500 records, success with first 304 records, error at 305th record, then all records cannot commit (database is rollback). You can debug by `.save()` not `.saveAll()` for testing/debugging. Let&#39;s me know result.","body":"Maybe, you want save 500 records, success with first 304 records, error at 305th record, then all records cannot commit (database is rollback). You can debug by <code>.save()</code> not <code>.saveAll()</code> for testing/debugging. Let&#39;s me know result."},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683602182,"post_id":76205491,"comment_id":134387990,"body_markdown":"I just tried with a single record with both save and saveAll, I cannot see any error but still, data is not committed to the DB. don&#39;t know what the issue is","body":"I just tried with a single record with both save and saveAll, I cannot see any error but still, data is not committed to the DB. don&#39;t know what the issue is"},{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1683613571,"post_id":76205491,"comment_id":134389131,"body_markdown":"Did you tried DB locking mechanism? I feel that this is because of multiple threads trying to insert into same table.","body":"Did you tried DB locking mechanism? I feel that this is because of multiple threads trying to insert into same table."},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683696297,"post_id":76205491,"comment_id":134404129,"body_markdown":"how to achieve this locking explicitly as I thought Spring will handle this as I am using @Transantional","body":"how to achieve this locking explicitly as I thought Spring will handle this as I am using @Transantional"}],"answers":[{"comments":[{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683695186,"post_id":76206446,"comment_id":134403998,"body_markdown":"No, it didn&#39;t help, still no data in the DB. The same approach I implemented for MongoDB and it&#39;s working perfectly. Not sure what I am missing for this MySQL DB","body":"No, it didn&#39;t help, still no data in the DB. The same approach I implemented for MongoDB and it&#39;s working perfectly. Not sure what I am missing for this MySQL DB"},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683696063,"post_id":76206446,"comment_id":134404092,"body_markdown":"there is some problem with this multi-threading, if I insert without three it&#39;s working fine","body":"there is some problem with this multi-threading, if I insert without three it&#39;s working fine"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683613829,"creation_date":1683613829,"answer_id":76206446,"question_id":76205491,"body_markdown":"Default is \r\n```java\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\n```\r\n\r\ntherefore, Use\r\n```java\r\n@Transactional(isolation = Isolation.READ_UNCOMMITTED)\r\n```\r\n\r\n- Reference document: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html\r\n- See: https://www.baeldung.com/spring-transactional-propagation-isolation\r\n","title":"Data is not saved in mysql - springboot","body":"<p>Default is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.SERIALIZABLE)\n</code></pre>\n<p>therefore, Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.READ_UNCOMMITTED)\n</code></pre>\n<ul>\n<li>Reference document: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html</a></li>\n<li>See: <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-transactional-propagation-isolation</a></li>\n</ul>\n"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683952114,"creation_date":1683599693,"question_id":76205491,"body_markdown":"I am having a strange issue, I am trying to insert data (50000) using multi-thread, though I cannot see any exceptions/errors in the log but still data is not persisted in the DB.\r\n\r\nCan you please let me know what is wrong with this code?\r\n\r\n    @Retryable(\r\n            value = { Exception.class },\r\n            maxAttempts = 3,\r\n            backoff = @Backoff(delay = 5000))\r\n    @Transactional\r\n    public void insertBatch(List&lt;Customer&gt; batch) {\r\n        int numThreads = 4; // Set the number of threads\r\n        int batchSize = 1000; // Set the batch size\r\n\r\n        List&lt;List&lt;Customer&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; batch.size(); i += batchSize) {\r\n            int end = Math.min(i + batchSize, batch.size());\r\n            partitions.add(batch.subList(i, end));\r\n        }\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(numThreads);\r\n        List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;Customer&gt; partition : partitions) {\r\n            futures.add(executor.submit(() -&gt; {\r\n                try {\r\n                    customerRepository.saveAll(partition);\r\n                    log.info(&quot;Customer Saved &quot;+ partition.size());\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Failed to insert partition: {}&quot;, partition, e);\r\n                    throw e;\r\n                }\r\n            }));\r\n        }\r\n\r\n        for (Future&lt;?&gt; future : futures) {\r\n            try {\r\n                future.get();\r\n            } catch (Exception e) {\r\n                log.error(&quot;Partition insertion failed&quot;, e);\r\n            }\r\n        }\r\n\r\n        executor.shutdown();\r\n    }\r\n\r\n    @Recover\r\n    public void handleInsertBatchException(Exception e, List&lt;Customer&gt; batch) {\r\n        log.error(&quot;Insertion failed for batch: {}&quot;, batch, e);\r\n        // Handle the exception here, for example, you can retry with a smaller batch size\r\n    }\r\n\r\n**Output:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[GitHub Issue Link ][2]\r\n\r\nany help appreciated \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gvWvp.png\r\n  [2]: https://github.com/rajarshp/JavaSample/issues/6","title":"Data is not saved in mysql - springboot","body":"<p>I am having a strange issue, I am trying to insert data (50000) using multi-thread, though I cannot see any exceptions/errors in the log but still data is not persisted in the DB.</p>\n<p>Can you please let me know what is wrong with this code?</p>\n<pre><code>@Retryable(\n        value = { Exception.class },\n        maxAttempts = 3,\n        backoff = @Backoff(delay = 5000))\n@Transactional\npublic void insertBatch(List&lt;Customer&gt; batch) {\n    int numThreads = 4; // Set the number of threads\n    int batchSize = 1000; // Set the batch size\n\n    List&lt;List&lt;Customer&gt;&gt; partitions = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; batch.size(); i += batchSize) {\n        int end = Math.min(i + batchSize, batch.size());\n        partitions.add(batch.subList(i, end));\n    }\n\n    ExecutorService executor = Executors.newFixedThreadPool(numThreads);\n    List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n    for (List&lt;Customer&gt; partition : partitions) {\n        futures.add(executor.submit(() -&gt; {\n            try {\n                customerRepository.saveAll(partition);\n                log.info(&quot;Customer Saved &quot;+ partition.size());\n            } catch (Exception e) {\n                log.error(&quot;Failed to insert partition: {}&quot;, partition, e);\n                throw e;\n            }\n        }));\n    }\n\n    for (Future&lt;?&gt; future : futures) {\n        try {\n            future.get();\n        } catch (Exception e) {\n            log.error(&quot;Partition insertion failed&quot;, e);\n        }\n    }\n\n    executor.shutdown();\n}\n\n@Recover\npublic void handleInsertBatchException(Exception e, List&lt;Customer&gt; batch) {\n    log.error(&quot;Insertion failed for batch: {}&quot;, batch, e);\n    // Handle the exception here, for example, you can retry with a smaller batch size\n}\n</code></pre>\n<p><strong>Output:</strong>\n<a href=\"https://i.stack.imgur.com/gvWvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvWvp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://github.com/rajarshp/JavaSample/issues/6\" rel=\"nofollow noreferrer\">GitHub Issue Link </a></p>\n<p>any help appreciated</p>\n"},{"tags":["java","spring","spring-boot","proxy","saml"],"answers":[{"tags":[],"owner":{"account_id":8296010,"reputation":764,"user_id":6236250,"display_name":"Rob Scully"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555059427,"creation_date":1555059427,"answer_id":55647952,"question_id":55646916,"body_markdown":"Yes, you need to create a bean as follows to your WebSecurityConfig:\r\n\r\n    @Bean\r\n    public HttpClient httpClient() {\r\n        HttpClient client = new HttpClient(this.multiThreadedHttpConnectionManager);\r\n        HostConfiguration hostConfiguration = new HostConfiguration();\r\n        hostConfiguration.setProxy(&quot;PROXYHOST&quot;, PROXYPORT);\r\n        client.setHostConfiguration(hostConfiguration);\r\n        return client;\r\n    }","title":"Setting proxy to Spring SAML HTTPMetadataProvider","body":"<p>Yes, you need to create a bean as follows to your WebSecurityConfig:</p>\n\n<pre><code>@Bean\npublic HttpClient httpClient() {\n    HttpClient client = new HttpClient(this.multiThreadedHttpConnectionManager);\n    HostConfiguration hostConfiguration = new HostConfiguration();\n    hostConfiguration.setProxy(\"PROXYHOST\", PROXYPORT);\n    client.setHostConfiguration(hostConfiguration);\n    return client;\n}\n</code></pre>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683951798,"creation_date":1555055570,"question_id":55646916,"body_markdown":"We are using spring-security-saml for our SAML authentication. The app is working fine and when we try to run the app on demo machine, the connection to SAML metadata url is timing out.\r\n\r\nwe have given the metadata url in our application.yml as \r\n\r\n    security:\r\n       saml2:\r\n          metadata-url: https://dev-715244.oktapreview.com/app/&lt;app_id&gt;/sso/saml/metadata\r\n\r\nTried setting the proxy to the jvm  while running the jar but same issue is there. But this URL is reachable through CURL. \r\n\r\nAny idea as to how to set proxy details to the HTTP Client used by spring SAML?","title":"Setting proxy to Spring SAML HTTPMetadataProvider","body":"<p>We are using spring-security-saml for our SAML authentication. The app is working fine and when we try to run the app on demo machine, the connection to SAML metadata url is timing out.</p>\n\n<p>we have given the metadata url in our application.yml as </p>\n\n<pre><code>security:\n   saml2:\n      metadata-url: https://dev-715244.oktapreview.com/app/&lt;app_id&gt;/sso/saml/metadata\n</code></pre>\n\n<p>Tried setting the proxy to the jvm  while running the jar but same issue is there. But this URL is reachable through CURL. </p>\n\n<p>Any idea as to how to set proxy details to the HTTP Client used by spring SAML?</p>\n"},{"tags":["java","android","whatsapp"],"answers":[{"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1422169592,"creation_date":1422169592,"answer_id":28134106,"question_id":27909252,"body_markdown":"Short answer: This is **not** possible. \r\nYou can not do this unless you build your own implementation for whatsapp api and in this case you will need sender phone number and password and this can not be done pragmatically. Long steps to do this will be as follow : \r\n1 - bring rooted mobile phone and put sender sim card in \r\n2 - get the files that whatsapp stores password in and get the password\r\n3 - implement whatsapp mini client that, using this user name and password, send your message.","title":"send message in background to whatsapp number using external application","body":"<p>Short answer: This is <strong>not</strong> possible. \nYou can not do this unless you build your own implementation for whatsapp api and in this case you will need sender phone number and password and this can not be done pragmatically. Long steps to do this will be as follow : \n1 - bring rooted mobile phone and put sender sim card in \n2 - get the files that whatsapp stores password in and get the password\n3 - implement whatsapp mini client that, using this user name and password, send your message.</p>\n"},{"tags":[],"owner":{"account_id":11198472,"reputation":11,"user_id":8216393,"display_name":"Salvatore Coluccia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502875119,"creation_date":1502875119,"answer_id":45709660,"question_id":27909252,"body_markdown":"Instead of using `Uri uri = Uri.parse(&quot;smsto:&quot; + a);`\r\nuse `sendIntent.putExtra(&quot;jid&quot;, + number + &quot;@s.whatsapp.net&quot;)` \r\n&quot;number&quot; should be the actual number with no leading +","title":"send message in background to whatsapp number using external application","body":"<p>Instead of using <code>Uri uri = Uri.parse(\"smsto:\" + a);</code>\nuse <code>sendIntent.putExtra(\"jid\", + number + \"@s.whatsapp.net\")</code> \n\"number\" should be the actual number with no leading +</p>\n"}],"owner":{"account_id":1728610,"reputation":1,"user_id":1582733,"display_name":"user1582733"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28134106,"answer_count":2,"score":-1,"last_activity_date":1683950224,"creation_date":1421090594,"question_id":27909252,"body_markdown":"Tried everything on Stack Overflow, now i am being able to take the msg frwd. But the msg is not sent until you actually click a no. from whatsApp contact list ..... Plz help been stuck here for few days....\r\n    Thing is that i am trying to build an app, in which when I give a number then msg should be sent to it using whatsapp. With this code from [Satheesh&#39;s answer here][1] msg is being frwded and when I select a number it sends the pre-defined msg to it. But I want that the msg should be directly sent without whatsApp waiting for user to click on a number.. \r\n    \r\n\r\n    \r\n    \r\n    \r\n             //checks if whats app is installed or not..        \r\n             private boolean whatsappInstalledOrNot(String uri) {\r\n                    PackageManager pm = getPackageManager();\r\n                    boolean app_installed = false;\r\n                    try {\r\n                        pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\r\n                        app_installed = true;\r\n                    } catch (PackageManager.NameNotFoundException e) {\r\n                        app_installed = false;\r\n                    }\r\n                    return app_installed;\r\n                }\r\n\r\n                //Main Process\r\n                  boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\r\n                        if (isWhatsappInstalled) {\r\n                            String a=&quot;91*********0&quot;;// the nuber to which msg is to be sent\r\n                            Uri uri = Uri.parse(&quot;smsto:&quot; + a);\r\n                            Intent sendIntent = new Intent(Intent.ACTION_SEND, uri);\r\n                            sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Test message&quot;+a);//msg to be sent\r\n                          //sendIntent.putExtra(&quot;sms_body&quot;, &quot;ydyeryyerf&quot;);  \r\n                            sendIntent.setType(&quot;text/plain&quot;);// type of msg-&gt;text\r\n                            sendIntent.putExtra(&quot;chat&quot;,true);\r\n                            sendIntent.setPackage(&quot;com.whatsapp&quot;);// picks whats app\r\n                          //  startActivity(sendIntent);\r\n                            startActivity(Intent.createChooser(sendIntent, a));//starts whats app                                                                       \r\n                          } else {\r\n                            // should redriect to play store to download whatsApp\r\n                            Toast.makeText(getApplicationContext(), &quot;WhatsApp not Installed&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\r\n                            Intent playStore = new Intent(Intent.ACTION_VIEW, uri);\r\n                            startActivity(playStore);\r\n    \r\n                        }\r\n    \r\n\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26335015/208273","title":"send message in background to whatsapp number using external application","body":"<p>Tried everything on Stack Overflow, now i am being able to take the msg frwd. But the msg is not sent until you actually click a no. from whatsApp contact list ..... Plz help been stuck here for few days....\nThing is that i am trying to build an app, in which when I give a number then msg should be sent to it using whatsapp. With this code from <a href=\"https://stackoverflow.com/a/26335015/208273\">Satheesh's answer here</a> msg is being frwded and when I select a number it sends the pre-defined msg to it. But I want that the msg should be directly sent without whatsApp waiting for user to click on a number..</p>\n<pre><code>         //checks if whats app is installed or not..        \n         private boolean whatsappInstalledOrNot(String uri) {\n                PackageManager pm = getPackageManager();\n                boolean app_installed = false;\n                try {\n                    pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\n                    app_installed = true;\n                } catch (PackageManager.NameNotFoundException e) {\n                    app_installed = false;\n                }\n                return app_installed;\n            }\n\n            //Main Process\n              boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\n                    if (isWhatsappInstalled) {\n                        String a=&quot;91*********0&quot;;// the nuber to which msg is to be sent\n                        Uri uri = Uri.parse(&quot;smsto:&quot; + a);\n                        Intent sendIntent = new Intent(Intent.ACTION_SEND, uri);\n                        sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Test message&quot;+a);//msg to be sent\n                      //sendIntent.putExtra(&quot;sms_body&quot;, &quot;ydyeryyerf&quot;);  \n                        sendIntent.setType(&quot;text/plain&quot;);// type of msg-&gt;text\n                        sendIntent.putExtra(&quot;chat&quot;,true);\n                        sendIntent.setPackage(&quot;com.whatsapp&quot;);// picks whats app\n                      //  startActivity(sendIntent);\n                        startActivity(Intent.createChooser(sendIntent, a));//starts whats app                                                                       \n                      } else {\n                        // should redriect to play store to download whatsApp\n                        Toast.makeText(getApplicationContext(), &quot;WhatsApp not Installed&quot;,\n                                Toast.LENGTH_SHORT).show();\n                        Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\n                        Intent playStore = new Intent(Intent.ACTION_VIEW, uri);\n                        startActivity(playStore);\n\n                    }\n</code></pre>\n"},{"tags":["java","android","whatsapp"],"answers":[{"comments":[{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1555393404,"post_id":55700264,"comment_id":98083864,"body_markdown":"please provide prodper code. i is for intent. but which action need to set ther. what is provided to package manager etc. share your function full","body":"please provide prodper code. i is for intent. but which action need to set ther. what is provided to package manager etc. share your function full"},{"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"score":0,"creation_date":1555393738,"post_id":55700264,"comment_id":98083991,"body_markdown":"if this code will help you then appriciate the answer","body":"if this code will help you then appriciate the answer"},{"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"score":0,"creation_date":1555397727,"post_id":55700264,"comment_id":98085576,"body_markdown":"this will open your whatsapp message screen for that user whom you want to send the message and i think you can&#39;t send whatsapp message to user from any other app","body":"this will open your whatsapp message screen for that user whom you want to send the message and i think you can&#39;t send whatsapp message to user from any other app"},{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1555397932,"post_id":55700264,"comment_id":98085654,"body_markdown":"what  is &quot;jid&quot;? here","body":"what  is &quot;jid&quot;? here"},{"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"score":0,"creation_date":1555398091,"post_id":55700264,"comment_id":98085724,"body_markdown":"this is oppening the whatsapp message screen of that person shom you want to chat","body":"this is oppening the whatsapp message screen of that person shom you want to chat"},{"owner":{"account_id":15750653,"reputation":51,"user_id":11365313,"display_name":"Noor Kh."},"score":0,"creation_date":1555415892,"post_id":55700264,"comment_id":98096038,"body_markdown":"thank you for your replaying, but it didn&#39;t open whatsapp with me!","body":"thank you for your replaying, but it didn&#39;t open whatsapp with me!"},{"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"score":0,"creation_date":1555415932,"post_id":55700264,"comment_id":98096062,"body_markdown":"what is you country code for mobile number ? replace the 91 with your country code. then it should work","body":"what is you country code for mobile number ? replace the 91 with your country code. then it should work"},{"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"score":0,"creation_date":1555416306,"post_id":55700264,"comment_id":98096261,"body_markdown":"replace 91 to 970 then try","body":"replace 91 to 970 then try"},{"owner":{"account_id":15750653,"reputation":51,"user_id":11365313,"display_name":"Noor Kh."},"score":0,"creation_date":1555421174,"post_id":55700264,"comment_id":98099283,"body_markdown":"the code that I was used works correctly\nBut if the user is installed both whatsapp messenger and business whataspp, I want to give him options to choose which one wants to send the message","body":"the code that I was used works correctly But if the user is installed both whatsapp messenger and business whataspp, I want to give him options to choose which one wants to send the message"},{"owner":{"account_id":15750653,"reputation":51,"user_id":11365313,"display_name":"Noor Kh."},"score":0,"creation_date":1555421454,"post_id":55700264,"comment_id":98099486,"body_markdown":"in android 5 works correctly and give the user options to choose between the both apps\nbut my problem in android 7 and 8. it sends the message to business whatsapp only. it didn&#39;t give options to choose and it didn&#39;t send it to whatsapp messanger, it opens business whatsapp directly!\ncan you help me?","body":"in android 5 works correctly and give the user options to choose between the both apps but my problem in android 7 and 8. it sends the message to business whatsapp only. it didn&#39;t give options to choose and it didn&#39;t send it to whatsapp messanger, it opens business whatsapp directly! can you help me?"}],"tags":[],"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555393533,"creation_date":1555386349,"answer_id":55700264,"question_id":55699869,"body_markdown":"i am sending whatapp message from my app with the help of this code:- \r\n\r\n \r\n\r\n   \r\n\r\n    private void sendMsgOnSavedWhatsappNumber(String mobile) {\r\n            Intent sendIntent = new Intent(&quot;android.intent.action.MAIN&quot;);\r\n            sendIntent.setComponent(new ComponentName(&quot;com.whatsapp&quot;, &quot;com.whatsapp.Conversation&quot;));\r\n            sendIntent.putExtra(&quot;jid&quot;,\r\n                    PhoneNumberUtils.stripSeparators(&quot;91&quot; + mobile) + &quot;@s.whatsapp.net&quot;);\r\n            startActivity(sendIntent);\r\n        }","title":"send whatsapp message to specific number programmatically","body":"<p>i am sending whatapp message from my app with the help of this code:- </p>\n\n<pre><code>private void sendMsgOnSavedWhatsappNumber(String mobile) {\n        Intent sendIntent = new Intent(\"android.intent.action.MAIN\");\n        sendIntent.setComponent(new ComponentName(\"com.whatsapp\", \"com.whatsapp.Conversation\"));\n        sendIntent.putExtra(\"jid\",\n                PhoneNumberUtils.stripSeparators(\"91\" + mobile) + \"@s.whatsapp.net\");\n        startActivity(sendIntent);\n    }\n</code></pre>\n"}],"owner":{"account_id":15750653,"reputation":51,"user_id":11365313,"display_name":"Noor Kh."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683950131,"creation_date":1555383053,"question_id":55699869,"body_markdown":"I&#39;m developing an app, and I want to send a WhatsApp message to a specific number\r\n\r\nI used this code from [Satheesh&#39;s answer here][1] and make corrections.  \r\nbut the users who installed both WhatsApp messenger and business WhatsApp, this code send a message into business WhatsApp directly, it didn&#39;t show options to allow the users to choose between two apps\r\n\r\nin android 5 it shows options but android 7 and 8 it didn&#39;t show options. it sends to business WhatsApp only.\r\n\r\ncan you help me to allow to give options to choose between both apps in android 7 and 8?\r\n\r\n    private void openWhatsApp (String phoneNumber) {\r\n\r\n        boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\r\n\r\n        if (isWhatsappInstalled) {\r\n\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n\r\n            intent.setData(Uri.parse(&quot;http://api.whatsapp.com/send?phone=&quot;+phoneNumber));\r\n\r\n            startActivity(intent);\r\n\r\n        } else {\r\n            Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\r\n            Intent goToMarket = new Intent(Intent.ACTION_VIEW, uri);\r\n            Toast.makeText(getActivity(), &quot;WhatsApp not Installed&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n            startActivity(goToMarket);\r\n        }\r\n    }\r\n\r\n    private boolean whatsappInstalledOrNot(String uri) {\r\n        PackageManager pm = getActivity().getPackageManager();\r\n        boolean app_installed = false;\r\n        try {\r\n            pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\r\n            app_installed = true;\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            app_installed = false;\r\n        }\r\n        return app_installed;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26335015/208273","title":"send whatsapp message to specific number programmatically","body":"<p>I'm developing an app, and I want to send a WhatsApp message to a specific number</p>\n<p>I used this code from <a href=\"https://stackoverflow.com/a/26335015/208273\">Satheesh's answer here</a> and make corrections.<br />\nbut the users who installed both WhatsApp messenger and business WhatsApp, this code send a message into business WhatsApp directly, it didn't show options to allow the users to choose between two apps</p>\n<p>in android 5 it shows options but android 7 and 8 it didn't show options. it sends to business WhatsApp only.</p>\n<p>can you help me to allow to give options to choose between both apps in android 7 and 8?</p>\n<pre><code>private void openWhatsApp (String phoneNumber) {\n\n    boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\n\n    if (isWhatsappInstalled) {\n\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n\n        intent.setData(Uri.parse(&quot;http://api.whatsapp.com/send?phone=&quot;+phoneNumber));\n\n        startActivity(intent);\n\n    } else {\n        Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\n        Intent goToMarket = new Intent(Intent.ACTION_VIEW, uri);\n        Toast.makeText(getActivity(), &quot;WhatsApp not Installed&quot;,\n                Toast.LENGTH_SHORT).show();\n        startActivity(goToMarket);\n    }\n}\n\nprivate boolean whatsappInstalledOrNot(String uri) {\n    PackageManager pm = getActivity().getPackageManager();\n    boolean app_installed = false;\n    try {\n        pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\n        app_installed = true;\n    } catch (PackageManager.NameNotFoundException e) {\n        app_installed = false;\n    }\n    return app_installed;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"score":0,"creation_date":1683949218,"post_id":76240957,"comment_id":134448796,"body_markdown":"Yes, I understand the example might not make sense but it&#39;s still an example of using annotation. What do you think of the second one? Do you think it&#39;s valid?","body":"Yes, I understand the example might not make sense but it&#39;s still an example of using annotation. What do you think of the second one? Do you think it&#39;s valid?"}],"tags":[],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683949427,"creation_date":1683949050,"answer_id":76240957,"question_id":76240841,"body_markdown":"There is no &quot;best approach for all cases&quot; when it comes to computer science, it depends very much on specific details of each project.\r\n\r\nFirst of all it is important to note that your project doesn&#39;t reflect a real Many To Many relationship, one company has many employees, but can an employee bet at multiple companies at same time? makes not much sense in real world.\r\n\r\nI particularly use the `@ManyToMany` when it comes to defining this kind of relationships... I avoid at maximum using `@JoinTable` as it is not necessary at all, you just need to use this annotation in case you want to force a specific name for the join table or its columns, by default hibernate will name them.\r\n\r\nI&#39;ve never seen anyone defining the data model as you made in the second example and it for sure wont be able to represent a many to many relationship\r\n\r\nif you put the company_id in the employee entity how do you want to represent the employee having multiple companies? it wont be mathematically possible at all\r\n\r\nAlso, by using a long to set the foreigner key in your relationship no ORM tool in the world will be able to parse and create the entities for you, you gonna yourself need to take care of all foreigner keys, parsing and mapping of your entities since Hibernate has no way to guess that:\r\n\r\n    private Long employeeId;\r\n\r\nrepresents a foreigner key that comes to reflect an id in a second table\r\n\r\nlast but not least, it is strictly not recommendable to use `@Query(&quot;anything&quot;, nativeQuery = true)` unless strictly necessary. By defining your queries as native you basically killing the interoperability of DBMS that is the purpose of JPA","title":"Spring Jpa entity convention of linking to other entities","body":"<p>There is no &quot;best approach for all cases&quot; when it comes to computer science, it depends very much on specific details of each project.</p>\n<p>First of all it is important to note that your project doesn't reflect a real Many To Many relationship, one company has many employees, but can an employee bet at multiple companies at same time? makes not much sense in real world.</p>\n<p>I particularly use the <code>@ManyToMany</code> when it comes to defining this kind of relationships... I avoid at maximum using <code>@JoinTable</code> as it is not necessary at all, you just need to use this annotation in case you want to force a specific name for the join table or its columns, by default hibernate will name them.</p>\n<p>I've never seen anyone defining the data model as you made in the second example and it for sure wont be able to represent a many to many relationship</p>\n<p>if you put the company_id in the employee entity how do you want to represent the employee having multiple companies? it wont be mathematically possible at all</p>\n<p>Also, by using a long to set the foreigner key in your relationship no ORM tool in the world will be able to parse and create the entities for you, you gonna yourself need to take care of all foreigner keys, parsing and mapping of your entities since Hibernate has no way to guess that:</p>\n<pre><code>private Long employeeId;\n</code></pre>\n<p>represents a foreigner key that comes to reflect an id in a second table</p>\n<p>last but not least, it is strictly not recommendable to use <code>@Query(&quot;anything&quot;, nativeQuery = true)</code> unless strictly necessary. By defining your queries as native you basically killing the interoperability of DBMS that is the purpose of JPA</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76240957,"answer_count":1,"score":0,"last_activity_date":1683949427,"creation_date":1683944843,"question_id":76240841,"body_markdown":"I see some different implementations of linking one entity to others. For example, most Jpa with hibernate use relations annotations, for example:\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n   //id \r\n.....\r\n   @JoinTable(...)\r\n   @ManyToMany\r\n   Set&lt;Company&gt; companies;\r\n}\r\n\r\n@Entity\r\n@Data\r\npublic class Company {\r\n   //id \r\n.....\r\n   @JoinTable(...)\r\n   @ManyToMany\r\n   Set&lt;Employee&gt; employees;\r\n}\r\n```\r\n\r\nBut in some occasions, this is used:\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n   //id \r\n.....\r\n   private Long companyId;\r\n}\r\n\r\n@Entity\r\n@Data\r\npublic class Company {\r\n   //id \r\n   private Long employeeId;\r\n}\r\n```\r\nAnd then use ```@Query(value=&quot;SELECT ... FROM ... WHERE employeeId / companyId =: ....&quot;, nativeQuery = true)``` in respective repository interface extending JpaRepository&lt;....&gt; to select employees/companies with particular fk. &lt;br&gt;\r\nwhich one is preferred? I know lots of tutorials use the first one, but I think the second seems to be easier? That being said, is the second one even accepted in jpa annotation? Should I stick with the first annotation?\r\n","title":"Spring Jpa entity convention of linking to other entities","body":"<p>I see some different implementations of linking one entity to others. For example, most Jpa with hibernate use relations annotations, for example:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n   //id \n.....\n   @JoinTable(...)\n   @ManyToMany\n   Set&lt;Company&gt; companies;\n}\n\n@Entity\n@Data\npublic class Company {\n   //id \n.....\n   @JoinTable(...)\n   @ManyToMany\n   Set&lt;Employee&gt; employees;\n}\n</code></pre>\n<p>But in some occasions, this is used:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n   //id \n.....\n   private Long companyId;\n}\n\n@Entity\n@Data\npublic class Company {\n   //id \n   private Long employeeId;\n}\n</code></pre>\n<p>And then use <code>@Query(value=&quot;SELECT ... FROM ... WHERE employeeId / companyId =: ....&quot;, nativeQuery = true)</code> in respective repository interface extending JpaRepository&lt;....&gt; to select employees/companies with particular fk. <br>\nwhich one is preferred? I know lots of tutorials use the first one, but I think the second seems to be easier? That being said, is the second one even accepted in jpa annotation? Should I stick with the first annotation?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9787,"page":438,"page_size":100}
