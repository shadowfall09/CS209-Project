{"items":[{"tags":["java","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":4735774,"reputation":1004,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":1,"creation_date":1541421933,"post_id":53154645,"comment_id":93199628,"body_markdown":"What version&#39;s spring?","body":"What version&#39;s spring?"},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541428899,"post_id":53154645,"comment_id":93203494,"body_markdown":"Sorry, forgot to post it. it&#39;s 2.1.0 Release, and I&#39;m using Java 8. Thx!","body":"Sorry, forgot to post it. it&#39;s 2.1.0 Release, and I&#39;m using Java 8. Thx!"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":2,"creation_date":1541429363,"post_id":53154645,"comment_id":93203770,"body_markdown":"Are you setting `Accept: application/json` or any other `Accept:` header in your request?","body":"Are you setting <code>Accept: application&#47;json</code> or any other <code>Accept:</code> header in your request?"},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541429928,"post_id":53154645,"comment_id":93204139,"body_markdown":"Yes, e.x: curl -X GET --header &quot;Accept: application/json&quot; http://localhost:8080/fooPoint -v","body":"Yes, e.x: curl -X GET --header &quot;Accept: application/json&quot; <a href=\"http://localhost:8080/fooPoint\" rel=\"nofollow noreferrer\">localhost:8080/fooPoint</a> -v"},{"owner":{"account_id":4735774,"reputation":1004,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":0,"creation_date":1541430277,"post_id":53154645,"comment_id":93204349,"body_markdown":"Can you share your project on GitHub or similar?","body":"Can you share your project on GitHub or similar?"},{"owner":{"account_id":4735774,"reputation":1004,"user_id":7762785,"display_name":"Cristiano Bombazar"},"score":1,"creation_date":1541430854,"post_id":53154645,"comment_id":93204693,"body_markdown":"I&#39;ve created a project exactly the same as yours, and it worked. Must be something else...","body":"I&#39;ve created a project exactly the same as yours, and it worked. Must be something else..."},{"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"score":0,"creation_date":1541432562,"post_id":53154645,"comment_id":93205699,"body_markdown":"Hi, Cristiano, indeed, I&#39;ve just deleted fasterxml directory in my repository to force maven download again all libraries asociated. It worked instantly.... Must have been some corrupted jackson library... Thank you to all and sorry for the inconvenience...","body":"Hi, Cristiano, indeed, I&#39;ve just deleted fasterxml directory in my repository to force maven download again all libraries asociated. It worked instantly.... Must have been some corrupted jackson library... Thank you to all and sorry for the inconvenience..."}],"answers":[{"comments":[{"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"score":0,"creation_date":1667713461,"post_id":55232905,"comment_id":131229856,"body_markdown":"check for missing content type in headers , no need for fasterxml dependency as suggested by @jax502","body":"check for missing content type in headers , no need for fasterxml dependency as suggested by @jax502"}],"tags":[],"owner":{"account_id":416244,"reputation":183,"user_id":791519,"display_name":"jax502"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1552963577,"creation_date":1552963577,"answer_id":55232905,"question_id":53154645,"body_markdown":"I just encountered this issue today and spent several hours to figure out what the issue is. Almost all of the answers I&#39;ve seen are either because of missing getters and setters, adding the fasterxml dependency into the pom. I already have getters and setters and the tutorial I was following did not require those pom changes.\r\n\r\nmariotepro&#39;s solution is what got me past the issue. His solution is buried under the comments so I decided to put it here in the answer so people can easily see it in case they have the same scenario.\r\n\r\nSo yes, just to reiterate, going into my maven repo and deleting the fasterxml folder and re-running maven is what fixed the issue for me.","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I just encountered this issue today and spent several hours to figure out what the issue is. Almost all of the answers I've seen are either because of missing getters and setters, adding the fasterxml dependency into the pom. I already have getters and setters and the tutorial I was following did not require those pom changes.</p>\n\n<p>mariotepro's solution is what got me past the issue. His solution is buried under the comments so I decided to put it here in the answer so people can easily see it in case they have the same scenario.</p>\n\n<p>So yes, just to reiterate, going into my maven repo and deleting the fasterxml folder and re-running maven is what fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":2455144,"reputation":7303,"user_id":6337545,"display_name":"Vincent Gerris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596282706,"creation_date":1596282355,"answer_id":63204837,"question_id":53154645,"body_markdown":"I think that besides getters and setters you need a default empty contructor, so adding just that should make it work.\r\nAn easy way to add that and the get and set methods to so called data classes is to use project Lombok.\r\n\r\nAn example can be found here:\r\n\r\n    https://github.com/mstine/todo-list/blob/master/src/main/java/io/pivotal/sporing/todos/todolist/TodoItem.java\r\n\r\nSo you basically add the dependency in Maven like:\r\n\r\n\t&lt;!-- For Lombok, data annotations --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen you can use the annotations in the class like (snippet):\r\n\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name=&quot;todo_item&quot;)\r\n    public class TodoItem {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\nThe annotations:\r\n@Data\r\nand\r\n@NoArgsConstructor\r\ncreate the getters, setters and the empty constuctor, which saves you the boiler plate code, which I think is quite neat :).\r\n\r\nHere is some more info if you&#39;re interested:\r\nhttps://projectlombok.org/\n","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I think that besides getters and setters you need a default empty contructor, so adding just that should make it work.\nAn easy way to add that and the get and set methods to so called data classes is to use project Lombok.</p>\n<p>An example can be found here:</p>\n<pre><code>https://github.com/mstine/todo-list/blob/master/src/main/java/io/pivotal/sporing/todos/todolist/TodoItem.java\n</code></pre>\n<p>So you basically add the dependency in Maven like:</p>\n<pre><code>&lt;!-- For Lombok, data annotations --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can use the annotations in the class like (snippet):</p>\n<pre><code>import lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@NoArgsConstructor\n@Table(name=&quot;todo_item&quot;)\npublic class TodoItem {\n    @Id\n    @GeneratedValue\n    private Long id;\n</code></pre>\n<p>The annotations:\n@Data\nand\n@NoArgsConstructor\ncreate the getters, setters and the empty constuctor, which saves you the boiler plate code, which I think is quite neat :).</p>\n<p>Here is some more info if you're interested:\n<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a></p>\n"},{"tags":[],"owner":{"account_id":7416540,"reputation":11,"user_id":5642140,"display_name":"Gaurav Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644433513,"creation_date":1644433513,"answer_id":71055292,"question_id":53154645,"body_markdown":"As of Spring Boot `2.5.7` getters or fasterxml don&#39;t solve this problem, but setting produces in @RequestMapping does\r\ntry setting `produces = { &quot;application/json&quot; }`\r\n\r\n    @RequestMapping(method = RequestMethod.GET, produces = { &quot;application/json&quot; })","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>As of Spring Boot <code>2.5.7</code> getters or fasterxml don't solve this problem, but setting produces in @RequestMapping does\ntry setting <code>produces = { &quot;application/json&quot; }</code></p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, produces = { &quot;application/json&quot; })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663756113,"creation_date":1663756113,"answer_id":73799208,"question_id":53154645,"body_markdown":"People with similar errors, I was just missing below header while hitting the Request, try adding to check if it works! \r\n\r\n`Accept : application/json`\r\n","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>People with similar errors, I was just missing below header while hitting the Request, try adding to check if it works!</p>\n<p><code>Accept : application/json</code></p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667713398,"creation_date":1667713398,"answer_id":74333539,"question_id":53154645,"body_markdown":"For me this happend when i didnt specify headers with content-type\r\nfollowing is the code\r\n\r\nModel class - UserModel.java\r\n\r\n    @Data \r\n    public class UserModel {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate long userid;\r\n    \r\n    }\r\n\r\nset up lombok using this [link][1]\r\n\r\n\r\ncontroller class - BasicController.java\r\n\r\n\r\n    @RestController\r\n    public class BasicController {\r\n    \r\n    \tArrayList&lt;UserModel&gt; users = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@PostMapping(\r\n    \t\t\tpath=&quot;/push/user&quot;, \r\n    \t\t\tproduces = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}, \r\n    \t\t\tconsumes = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}\r\n    \t)\r\n    \tpublic ResponseEntity&lt;UserModel&gt; pushUser(@RequestBody UserModel user)\r\n    \t{\r\n    \t\tSystem.out.println(user.getUsername());\r\n    \t\tSystem.out.println(user.getUserid());\r\n    \t\t\r\n    \t\tusers.add(user);\r\n    \t\treturn new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nfollowing error when i sent data without headers\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n     {&quot;timestamp&quot;: &quot;2022-11-06T05:35:00.356+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type &#39;null&#39;\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:312)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:832)\\n&quot;,\r\n        &quot;message&quot;: &quot;No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type &#39;null&#39;&quot;,\r\n        &quot;path&quot;: &quot;/push/user&quot;\r\n    }\r\n\r\nsolution - adding headers as following\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54018276/how-to-access-getter-and-setter-methods-using-lombok\r\n  [2]: https://i.stack.imgur.com/llzXm.png\r\n  [3]: https://i.stack.imgur.com/DQmMn.png","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>For me this happend when i didnt specify headers with content-type\nfollowing is the code</p>\n<p>Model class - UserModel.java</p>\n<pre><code>@Data \npublic class UserModel {\n    \n    private String username;\n    private long userid;\n\n}\n</code></pre>\n<p>set up lombok using this <a href=\"https://stackoverflow.com/questions/54018276/how-to-access-getter-and-setter-methods-using-lombok\">link</a></p>\n<p>controller class - BasicController.java</p>\n<pre><code>@RestController\npublic class BasicController {\n\n    ArrayList&lt;UserModel&gt; users = new ArrayList&lt;&gt;();\n    \n    @PostMapping(\n            path=&quot;/push/user&quot;, \n            produces = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}, \n            consumes = {MediaType.APPLICATION_XML_VALUE, MediaType.APPLICATION_JSON_VALUE}\n    )\n    public ResponseEntity&lt;UserModel&gt; pushUser(@RequestBody UserModel user)\n    {\n        System.out.println(user.getUsername());\n        System.out.println(user.getUserid());\n        \n        users.add(user);\n        return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\n    }\n    \n}\n</code></pre>\n<p>following error when i sent data without headers</p>\n<p><a href=\"https://i.stack.imgur.com/llzXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llzXm.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> {&quot;timestamp&quot;: &quot;2022-11-06T05:35:00.356+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type 'null'\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:312)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:832)\\n&quot;,\n    &quot;message&quot;: &quot;No converter for [class com.sp.learner.code.api.controller.UserModel] with preset Content-Type 'null'&quot;,\n    &quot;path&quot;: &quot;/push/user&quot;\n}\n</code></pre>\n<p>solution - adding headers as following</p>\n<p><a href=\"https://i.stack.imgur.com/DQmMn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQmMn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701678384,"creation_date":1701678384,"answer_id":77598094,"question_id":53154645,"body_markdown":"If using xml spring configuration add &quot;mcv:annotation-driven&quot;:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n      \r\n      xsi:schemaLocation=&quot;\r\n      \thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n        \r\n        &lt;mvc:annotation-driven/&gt;\r\n    ...","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>If using xml spring configuration add &quot;mcv:annotation-driven&quot;:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n  \n  xsi:schemaLocation=&quot;\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n    \n    &lt;mvc:annotation-driven/&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":5922674,"reputation":119,"user_id":4659557,"display_name":"mariotepro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55232905,"answer_count":6,"score":0,"last_activity_date":1701678384,"creation_date":1541421630,"question_id":53154645,"body_markdown":"I&#39;m doing exercises with Spring-Boot, I tried to search, but nothing I&#39;ve found worked for me. I&#39;m trying to return a JSON converting a POJO, which SB is supposed to do it automatically, but it returns:\r\n\r\n&gt; 2018-11-05 13:26:36.090  WARN 1584 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.example.demo.pelis.Foo]\r\n\r\nHere is my pom.xml:\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAnd my POJO:\r\n\r\n    public class Foo {\r\n    \r\n    \tprivate String bar;\r\n    \r\n    \t/**\r\n    \t * @return the bar\r\n    \t */\r\n    \tpublic String getBar() {\r\n    \t\treturn bar;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param bar\r\n    \t *            the bar to set\r\n    \t */\r\n    \tpublic void setBar(String bar) {\r\n    \t\tthis.bar = bar;\r\n    \t}\r\n    }\r\n\r\nThe controller:\r\n\r\n    @RestController\r\n    public class PelisController {\r\n    \t@GetMapping(value = &quot;/fooPoint&quot;)\r\n    \tpublic Foo fooPoint() {\r\n    \t\tFoo foo = new Foo();\r\n    \t\tfoo.setBar(&quot;smthng&quot;);\r\n    \t\treturn foo;\r\n    \t}\r\n    }\r\n\r\nI don&#39;t know what I&#39;m doing wrong, because I&#39;ve tried getters/setters method, I tried to replace my pom with the one in the official guide. Nothing helped.","title":"org.springframework.http.converter.HttpMessageNotWritableException No converter found for return value of type: class","body":"<p>I'm doing exercises with Spring-Boot, I tried to search, but nothing I've found worked for me. I'm trying to return a JSON converting a POJO, which SB is supposed to do it automatically, but it returns:</p>\n\n<blockquote>\n  <p>2018-11-05 13:26:36.090  WARN 1584 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class com.example.demo.pelis.Foo]</p>\n</blockquote>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>And my POJO:</p>\n\n<pre><code>public class Foo {\n\n    private String bar;\n\n    /**\n     * @return the bar\n     */\n    public String getBar() {\n        return bar;\n    }\n\n    /**\n     * @param bar\n     *            the bar to set\n     */\n    public void setBar(String bar) {\n        this.bar = bar;\n    }\n}\n</code></pre>\n\n<p>The controller:</p>\n\n<pre><code>@RestController\npublic class PelisController {\n    @GetMapping(value = \"/fooPoint\")\n    public Foo fooPoint() {\n        Foo foo = new Foo();\n        foo.setBar(\"smthng\");\n        return foo;\n    }\n}\n</code></pre>\n\n<p>I don't know what I'm doing wrong, because I've tried getters/setters method, I tried to replace my pom with the one in the official guide. Nothing helped.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":1,"creation_date":1701668057,"post_id":77597378,"comment_id":136799867,"body_markdown":"Hi and welcome!\nTake a look this post https://stackoverflow.com/questions/25345748/how-does-the-for-loop-exactly-work-out \nMake sure you understand how for loop works!\nHave a good day!","body":"Hi and welcome! Take a look this post <a href=\"https://stackoverflow.com/questions/25345748/how-does-the-for-loop-exactly-work-out\" title=\"how does the for loop exactly work out\">stackoverflow.com/questions/25345748/&hellip;</a>  Make sure you understand how for loop works! Have a good day!"},{"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"score":0,"creation_date":1701668112,"post_id":77597378,"comment_id":136799873,"body_markdown":"Check the difference between &quot;continue&quot; and &quot;break&quot; and you will get the answer. Also read the JVM language specification for loop section.","body":"Check the difference between &quot;continue&quot; and &quot;break&quot; and you will get the answer. Also read the JVM language specification for loop section."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701668285,"post_id":77597378,"comment_id":136799884,"body_markdown":"Before posting here, always study [the tutorial](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html) provided free of cost by Oracle Corp.","body":"Before posting here, always study <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">the tutorial</a> provided free of cost by Oracle Corp."},{"owner":{"account_id":6618749,"reputation":347,"user_id":5111172,"display_name":"fhissen"},"score":0,"creation_date":1701669840,"post_id":77597378,"comment_id":136799994,"body_markdown":"i++ is executed before i&lt;3 is checked. So, when i == 2 and i+=4 happens, one additional i++ is executed which makes i==7.\nIf you would &#39;break&#39;, the loop would be left immediately.","body":"i++ is executed before i&lt;3 is checked. So, when i == 2 and i+=4 happens, one additional i++ is executed which makes i==7. If you would &#39;break&#39;, the loop would be left immediately."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1701682074,"post_id":77597378,"comment_id":136801481,"body_markdown":"[How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"<a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>"}],"answers":[{"comments":[{"owner":{"account_id":30059600,"reputation":13,"user_id":23036017,"display_name":"이기주"},"score":0,"creation_date":1701770045,"post_id":77598051,"comment_id":136813876,"body_markdown":"thank you so much.\n\ni finally understand!!!!","body":"thank you so much.  i finally understand!!!!"}],"tags":[],"owner":{"account_id":21495147,"reputation":36,"user_id":15840283,"display_name":"tat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701677935,"creation_date":1701677935,"answer_id":77598051,"question_id":77597378,"body_markdown":"your loop is equivalent to\r\n\r\n    int i = 0;  \r\n    while (i &lt; 3) {\r\n        if(i == 2) {\r\n            i += 4;\r\n        }\r\n        i++;  \r\n    }\r\n\r\n`i` is incremented after entering the loop","title":"for loop actual value is different from what I expect","body":"<p>your loop is equivalent to</p>\n<pre><code>int i = 0;  \nwhile (i &lt; 3) {\n    if(i == 2) {\n        i += 4;\n    }\n    i++;  \n}\n</code></pre>\n<p><code>i</code> is incremented after entering the loop</p>\n"}],"owner":{"account_id":30059600,"reputation":13,"user_id":23036017,"display_name":"이기주"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":77598051,"answer_count":1,"score":-3,"last_activity_date":1701677935,"creation_date":1701667843,"question_id":77597378,"body_markdown":"```java\r\nint i = 0;\r\n\r\nfor(i = 0; i &lt; 3; i++) {\r\n\tSystem.out.println(i);\r\n\t\r\n\tif(i == 2) {\r\n\t\ti += 4;\r\n\t\t// continue;\r\n\t}\r\n\t\r\n}\r\n\r\nSystem.out.println(i);\r\n```\r\n\r\nIn the code above, I expected that int i = 6 would ultimately come out, but 7 came out.\r\nWhy is that so?","title":"for loop actual value is different from what I expect","body":"<pre class=\"lang-java prettyprint-override\"><code>int i = 0;\n\nfor(i = 0; i &lt; 3; i++) {\n    System.out.println(i);\n    \n    if(i == 2) {\n        i += 4;\n        // continue;\n    }\n    \n}\n\nSystem.out.println(i);\n</code></pre>\n<p>In the code above, I expected that int i = 6 would ultimately come out, but 7 came out.\nWhy is that so?</p>\n"},{"tags":["java","spring","spring-boot","jasper-reports"],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":0,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701707043,"answer_count":0,"score":-3,"last_activity_date":1701677706,"creation_date":1701677140,"question_id":77597968,"body_markdown":"I am facing an issue while generating a report using Jasper Reports. I have reviewed my code and configuration, but I am unable to identify the root cause of this issue.\r\n\r\nError:\r\n\r\n```    \r\nnet.sf.jasperreports.engine.JRException: Error retrieving field value from bean: Descrizione.\r\n    \tat net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:205) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getFieldValue(JRAbstractBeanDataSource.java:170) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.data.JRBeanCollectionDataSource.getFieldValue(JRBeanCollectionDataSource.java:104) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:1507) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1408) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1384) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1201) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:117) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: java.lang.NoSuchMethodException: Unknown property &#39;Descrizione&#39; on class &#39;class com.reportserver.report.model.CapitoloReport&#39;\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getSimpleProperty(PropertyUtilsBean.java:1270) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:809) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:885) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n    \tat org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:464) ~[commons-beanutils-1.9.4.jar:1.9.4]\r\n```","title":"Fill report on jasper report spirng boot","body":"<p>I am facing an issue while generating a report using Jasper Reports. I have reviewed my code and configuration, but I am unable to identify the root cause of this issue.</p>\n<p>Error:</p>\n<pre><code>net.sf.jasperreports.engine.JRException: Error retrieving field value from bean: Descrizione.\n        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:205) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getFieldValue(JRAbstractBeanDataSource.java:170) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.data.JRBeanCollectionDataSource.getFieldValue(JRBeanCollectionDataSource.java:104) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:1507) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1408) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:1384) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1201) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:117) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:622) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.BaseReportFiller.fill(BaseReportFiller.java:433) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:830) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:61) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at net.sf.jasperreports.engine.fill.AbstractThreadSubreportRunner.run(AbstractThreadSubreportRunner.java:221) ~[jasperreports-6.17.0.jar:6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    Caused by: java.lang.NoSuchMethodException: Unknown property 'Descrizione' on class 'class com.reportserver.report.model.CapitoloReport'\n        at org.apache.commons.beanutils.PropertyUtilsBean.getSimpleProperty(PropertyUtilsBean.java:1270) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:809) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:885) ~[commons-beanutils-1.9.4.jar:1.9.4]\n        at org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:464) ~[commons-beanutils-1.9.4.jar:1.9.4]\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"score":0,"creation_date":1701678894,"post_id":77597947,"comment_id":136801013,"body_markdown":"Yes I got it , it was just a silly mistake !!","body":"Yes I got it , it was just a silly mistake !!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701677409,"creation_date":1701676800,"answer_id":77597947,"question_id":77597825,"body_markdown":"You have made a simple mistake in `DriverUtil`.\r\n\r\n    public class DriverUtils {\r\n        static WebDriver driver;\r\n        \r\n        public static void createDriver() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;...&quot;);\r\n            \r\n            WebDriver driver = new ChromeDriver();   // MISTAKE\r\n            ...\r\n        }\r\n        \r\n        public static WebDriver getDriver() {\r\n            if (driver == null) {\r\n                createDriver();\r\n            }\r\n            return driver;\r\n        }\r\n    }\r\n\r\nThe problem is that `createDriver` has declared a local `driver` variable, so it is not updating the `static WebDriver driver` field.\r\n\r\nThus ... the `getDriver()` method is ALWAYS going to return `null`.\r\n\r\n---------------\r\n\r\nThere are other flaws in your code:\r\n\r\n  - You have embedded the absolute path to a chromedriver within you home directory ... into your code.  That means that the tests will fail if anyone else tries to run them.\r\n\r\n  - This code is not thread-safe.  It probably doesn&#39;t matter in this context, but if you were ever to run the tests in parallel, some threads would share the `WebDriver` instance, and others wouldn&#39;t.  \r\n\r\n  - If tests share a `WebDriver`  instance, they could interfere with each other.  Indeed, if the tests are running simultaneously, it could be rather ... bad.","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null","body":"<p>You have made a simple mistake in <code>DriverUtil</code>.</p>\n<pre><code>public class DriverUtils {\n    static WebDriver driver;\n    \n    public static void createDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;...&quot;);\n        \n        WebDriver driver = new ChromeDriver();   // MISTAKE\n        ...\n    }\n    \n    public static WebDriver getDriver() {\n        if (driver == null) {\n            createDriver();\n        }\n        return driver;\n    }\n}\n</code></pre>\n<p>The problem is that <code>createDriver</code> has declared a local <code>driver</code> variable, so it is not updating the <code>static WebDriver driver</code> field.</p>\n<p>Thus ... the <code>getDriver()</code> method is ALWAYS going to return <code>null</code>.</p>\n<hr />\n<p>There are other flaws in your code:</p>\n<ul>\n<li><p>You have embedded the absolute path to a chromedriver within you home directory ... into your code.  That means that the tests will fail if anyone else tries to run them.</p>\n</li>\n<li><p>This code is not thread-safe.  It probably doesn't matter in this context, but if you were ever to run the tests in parallel, some threads would share the <code>WebDriver</code> instance, and others wouldn't.</p>\n</li>\n<li><p>If tests share a <code>WebDriver</code>  instance, they could interfere with each other.  Indeed, if the tests are running simultaneously, it could be rather ... bad.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26659548,"reputation":1,"user_id":20272585,"display_name":"Rohit Nagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701729872,"accepted_answer_id":77597947,"answer_count":1,"score":0,"last_activity_date":1701677409,"creation_date":1701675338,"question_id":77597825,"body_markdown":"I am getting some error in test ng but unable to understand why !\r\n\r\nThis is my file for driver utils : \r\n\r\n    package Utils;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class DriverUtils {\r\n    \tstatic WebDriver driver;\r\n    \t\r\n    \tpublic static void createDriver() {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Rohit Nagar\\\\eclipse-workspace\\\\Hexaware_OrangeHRM\\\\src\\\\test\\\\resources\\\\Driver\\\\chromedriver.exe&quot;);\r\n    \t\t\r\n    \t\tWebDriver driver=new ChromeDriver();\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;https://demowebshop.tricentis.com/login&quot;);\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static WebDriver getDriver() {\r\n    \t\tif(driver==null) {\r\n    \t\t\tcreateDriver();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn driver;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is code for BasePage: \r\n\r\n    package POM;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    import Utils.DriverUtils;\r\n    \r\n    public class BasePage {\r\n    \tWebDriver driver;\r\n    \tBasePage(){\r\n    \t\tdriver = DriverUtils.getDriver();\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    }\r\n\r\nCode for Login Page: \r\n\r\n    package POM;\r\n    \r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    \r\n    public class LoginPages extends BasePage {\r\n    \t//Declaration\r\n    \t@FindBy(xpath = &quot;//input[@id = &#39;Email&#39;]&quot;)\r\n    \tprivate WebElement txtUser;\r\n    \t\r\n    \t@FindBy(xpath = &quot;//input[@id = &#39;Password&#39;]&quot;)\r\n    \tprivate WebElement txtPassword;\r\n    \t\r\n    \t@FindBy(xpath = &quot;//input[@class= &#39;button-1 login-button&#39;]&quot;)\r\n    \tprivate WebElement buttonLogin;\r\n    \t\r\n    \tpublic void enterUsername(String str) {\r\n    \t\ttxtUser.sendKeys(str);\r\n    \t}\r\n    \t\r\n    \tpublic void enterPassword(String str) {\r\n    \t\ttxtPassword.sendKeys(str);\r\n    \t}\r\n    \t\r\n    \tpublic void loginClick() {\r\n    \t\tbuttonLogin.click();\r\n    \t}\r\n    }\r\n\r\n\r\nAnd this is my testlogin PAge: \r\n\r\n    package Test;\r\n    \r\n    import org.testng.annotations.Test;\r\n    \r\n    import POM.LoginPages;\r\n    import Utils.DriverUtils;\r\n    \r\n    public class LoginTestOne {\r\n    \t@Test\r\n    \tpublic void verifyLogin() throws InterruptedException {\r\n    \t\tDriverUtils.getDriver().get(&quot;https://demowebshop.tricentis.com/login&quot;);\r\n    \t\t\r\n    \t\tThread.sleep(10000);\r\n    \t\tLoginPages lp = new LoginPages();\r\n    \t\t\r\n    \t\tThread.sleep(10000);\r\n    \t\t\r\n    \t\tlp.enterUsername(&quot;&quot;);\r\n    \t\t\r\n    \t\tlp.enterPassword(&quot;&quot;);\r\n    \t\tlp.loginClick();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n**This is what error I am getting in eclipse :** \r\n\r\n    *FAILED: Test.LoginTestOne.verifyLogin\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null\r\n    \tat Test.LoginTestOne.verifyLogin(LoginTestOne.java:11)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:848)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:621)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:336)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1114)\r\n    \tat org.testng.TestNG.run(TestNG.java:1082)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)*\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null","body":"<p>I am getting some error in test ng but unable to understand why !</p>\n<p>This is my file for driver utils :</p>\n<pre><code>package Utils;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class DriverUtils {\n    static WebDriver driver;\n    \n    public static void createDriver() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Rohit Nagar\\\\eclipse-workspace\\\\Hexaware_OrangeHRM\\\\src\\\\test\\\\resources\\\\Driver\\\\chromedriver.exe&quot;);\n        \n        WebDriver driver=new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://demowebshop.tricentis.com/login&quot;);\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        \n    }\n    \n    public static WebDriver getDriver() {\n        if(driver==null) {\n            createDriver();\n        }\n        \n        return driver;\n    }\n    \n}\n</code></pre>\n<p>This is code for BasePage:</p>\n<pre><code>package POM;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\n\nimport Utils.DriverUtils;\n\npublic class BasePage {\n    WebDriver driver;\n    BasePage(){\n        driver = DriverUtils.getDriver();\n        PageFactory.initElements(driver, this);\n    }\n}\n</code></pre>\n<p>Code for Login Page:</p>\n<pre><code>package POM;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\npublic class LoginPages extends BasePage {\n    //Declaration\n    @FindBy(xpath = &quot;//input[@id = 'Email']&quot;)\n    private WebElement txtUser;\n    \n    @FindBy(xpath = &quot;//input[@id = 'Password']&quot;)\n    private WebElement txtPassword;\n    \n    @FindBy(xpath = &quot;//input[@class= 'button-1 login-button']&quot;)\n    private WebElement buttonLogin;\n    \n    public void enterUsername(String str) {\n        txtUser.sendKeys(str);\n    }\n    \n    public void enterPassword(String str) {\n        txtPassword.sendKeys(str);\n    }\n    \n    public void loginClick() {\n        buttonLogin.click();\n    }\n}\n</code></pre>\n<p>And this is my testlogin PAge:</p>\n<pre><code>package Test;\n\nimport org.testng.annotations.Test;\n\nimport POM.LoginPages;\nimport Utils.DriverUtils;\n\npublic class LoginTestOne {\n    @Test\n    public void verifyLogin() throws InterruptedException {\n        DriverUtils.getDriver().get(&quot;https://demowebshop.tricentis.com/login&quot;);\n        \n        Thread.sleep(10000);\n        LoginPages lp = new LoginPages();\n        \n        Thread.sleep(10000);\n        \n        lp.enterUsername(&quot;&quot;);\n        \n        lp.enterPassword(&quot;&quot;);\n        lp.loginClick();\n        \n    }\n}\n</code></pre>\n<p><strong>This is what error I am getting in eclipse :</strong></p>\n<pre><code>*FAILED: Test.LoginTestOne.verifyLogin\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because the return value of &quot;Utils.DriverUtils.getDriver()&quot; is null\n    at Test.LoginTestOne.verifyLogin(LoginTestOne.java:11)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:664)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:227)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:957)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:200)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:848)\n    at org.testng.TestRunner.run(TestRunner.java:621)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:443)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:397)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:336)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1280)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1200)\n    at org.testng.TestNG.runSuites(TestNG.java:1114)\n    at org.testng.TestNG.run(TestNG.java:1082)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)*\n</code></pre>\n"},{"tags":["java","redis","jedis"],"owner":{"account_id":30037485,"reputation":1,"user_id":23019101,"display_name":"YAMAGON"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677382,"creation_date":1701411560,"question_id":77583329,"body_markdown":"We are in the process of upgrading the Jedis dependency for one of our services from version 3.7.0 to the latest version 5.0.0.\r\n\r\nIn the process, we encountered an event that prevents us from using the previous code.\r\n\r\n```  \r\n// watch for key in database 0\r\njedis.watch(key);\r\njedis.select(1);\r\n// watch for key2 in database 1\r\njedis.watch(key2);\r\njedis.select(0);\r\n \r\nTransaction transaction = jedis.multi();\r\n \r\ntransaction.hset(key, &quot;name&quot;, &quot;john Doe&quot;);\r\ntransaction.hset(key, &quot;class&quot;, &quot;Worker&quot;);\r\n\r\n// method cannot be used.\r\ntransaction.select(1);\r\n \r\ntransaction.hset(key2, &quot;name&quot;, &quot;jane Doe&quot;);\r\ntransaction.hset(key2, &quot;class&quot;, &quot;Worker&quot;);\r\ntransaction.exec();\r\n```\r\n\r\nAs you can see, we used method call, but since version 4 - it is removed. What would be the closest equivalent (or is it needed at all) of the call since Jedis version 4?`transaction.select(int index)`\r\n\r\nI consider the following method as an alternative.  \r\n`transaction.sendCommand(SELECT, toByteArray(9));`  \r\nHowever, I could not determine if using this method is the best answer.  \r\nI think there is some glitch or inconvenient reason why that method was removed.  \r\n \r\nI would like to minimize the impact of code changes in the recommended manner.  \r\nI would also like to know why it was removed.`transaction.select(int index)`","title":"Transaction#select() replacement since Jedis version 4","body":"<p>We are in the process of upgrading the Jedis dependency for one of our services from version 3.7.0 to the latest version 5.0.0.</p>\n<p>In the process, we encountered an event that prevents us from using the previous code.</p>\n<pre><code>// watch for key in database 0\njedis.watch(key);\njedis.select(1);\n// watch for key2 in database 1\njedis.watch(key2);\njedis.select(0);\n \nTransaction transaction = jedis.multi();\n \ntransaction.hset(key, &quot;name&quot;, &quot;john Doe&quot;);\ntransaction.hset(key, &quot;class&quot;, &quot;Worker&quot;);\n\n// method cannot be used.\ntransaction.select(1);\n \ntransaction.hset(key2, &quot;name&quot;, &quot;jane Doe&quot;);\ntransaction.hset(key2, &quot;class&quot;, &quot;Worker&quot;);\ntransaction.exec();\n</code></pre>\n<p>As you can see, we used method call, but since version 4 - it is removed. What would be the closest equivalent (or is it needed at all) of the call since Jedis version 4?<code>transaction.select(int index)</code></p>\n<p>I consider the following method as an alternative.<br />\n<code>transaction.sendCommand(SELECT, toByteArray(9));</code><br />\nHowever, I could not determine if using this method is the best answer.<br />\nI think there is some glitch or inconvenient reason why that method was removed.</p>\n<p>I would like to minimize the impact of code changes in the recommended manner.<br />\nI would also like to know why it was removed.<code>transaction.select(int index)</code></p>\n"},{"tags":["java","spring","escaping","yaml","spring-el"],"comments":[{"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513877908,"post_id":47929315,"comment_id":82828704,"body_markdown":"Could you please post the code where you use the `csv.file.pattern`? I know for sure that the 3rd escaping option works, because I&#39;ve used it (successfully) as well","body":"Could you please post the code where you use the <code>csv.file.pattern</code>? I know for sure that the 3rd escaping option works, because I&#39;ve used it (successfully) as well"},{"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513878665,"post_id":47929315,"comment_id":82829049,"body_markdown":"My test with a YAML file (application.yml) with Spring Boot has injected the value properly. I used `@Value(&quot;${csv.file.pattern}&quot;)` annotation to inject the pattern, and I&#39;ve got the `/some/path/${app-name}.csv` result, just as expected. Since this doesn&#39;t work for you for some reason, your setup might be different, and I&#39;m trying to determine what is the difference. Could be the difference in YAML library, Spring version, etc, for all I know.","body":"My test with a YAML file (application.yml) with Spring Boot has injected the value properly. I used <code>@Value(&quot;${csv.file.pattern}&quot;)</code> annotation to inject the pattern, and I&#39;ve got the <code>&#47;some&#47;path&#47;${app-name}.csv</code> result, just as expected. Since this doesn&#39;t work for you for some reason, your setup might be different, and I&#39;m trying to determine what is the difference. Could be the difference in YAML library, Spring version, etc, for all I know."},{"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":0,"creation_date":1513879222,"post_id":47929315,"comment_id":82829307,"body_markdown":"Just to clarify, while it might not be relevant how you **use** the variable after, it&#39;s definitely relevant how you **inject** it, and that&#39;s what I&#39;m trying to ask.","body":"Just to clarify, while it might not be relevant how you <b>use</b> the variable after, it&#39;s definitely relevant how you <b>inject</b> it, and that&#39;s what I&#39;m trying to ask."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1513940614,"post_id":47929315,"comment_id":82849965,"body_markdown":"@AlexSavitsky Aha, I am not using `@Value`, but `@ConfigurationProperties`.","body":"@AlexSavitsky Aha, I am not using <code>@Value</code>, but <code>@ConfigurationProperties</code>."},{"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"score":0,"creation_date":1534021334,"post_id":47929315,"comment_id":90563520,"body_markdown":"`pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;` works for me. And I used @Value annotation. Why not to use @Value?","body":"<code>pattern: &quot;&#47;some&#47;path&#47;#{&#39;$&#39;}{app-name}.csv&quot;</code> works for me. And I used @Value annotation. Why not to use @Value?"}],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1513940750,"post_id":47932477,"comment_id":82850026,"body_markdown":"As I wrote in the question, `#` in YAML causes that the rest of the line is ignored. It **can** be escaped by `\\` so YAML does not interpret `#` as the line comment sign, but then the Java variable simply contains `/some/path/\\#{&#39;$&#39;}{app-name}.csv`.","body":"As I wrote in the question, <code>#</code> in YAML causes that the rest of the line is ignored. It <b>can</b> be escaped by <code>` so YAML does not interpret </code>#` as the line comment sign, but then the Java variable simply contains <code>&#47;some&#47;path&#47;\\#{&#39;$&#39;}{app-name}.csv</code>."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1513941073,"post_id":47932477,"comment_id":82850166,"body_markdown":"And apparently this does not seem to be high priority for Spring: **Created:\t25/Jun/08**, Updated: 02/Apr/15, Days since last comment: 2 years, 38 weeks, 1 day ago :(","body":"And apparently this does not seem to be high priority for Spring: <b>Created:\t25/Jun/08</b>, Updated: 02/Apr/15, Days since last comment: 2 years, 38 weeks, 1 day ago :("},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1513957057,"post_id":47932477,"comment_id":82857445,"body_markdown":"As I noted, `#` only starts a comment if preceded by whitespace. Which is not the case in this example. Moreover, you can put the scalar in double quotes.","body":"As I noted, <code>#</code> only starts a comment if preceded by whitespace. Which is not the case in this example. Moreover, you can put the scalar in double quotes."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1513957144,"post_id":47932477,"comment_id":82857475,"body_markdown":"When I put it into double quotes, the Java variable contains the string exactly as is in the YAML file, i.e. with the escape characters.","body":"When I put it into double quotes, the Java variable contains the string exactly as is in the YAML file, i.e. with the escape characters."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1513957368,"post_id":47932477,"comment_id":82857569,"body_markdown":"Um, if double-quoting leads to Spring *not* processing anything, isn&#39;t that the solution?","body":"Um, if double-quoting leads to Spring <i>not</i> processing anything, isn&#39;t that the solution?"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1626276928,"post_id":47932477,"comment_id":120851255,"body_markdown":"No, because the escape characters are *also* included in the string.","body":"No, because the escape characters are <i>also</i> included in the string."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1626278438,"post_id":47932477,"comment_id":120851881,"body_markdown":"The issue https://github.com/spring-projects/spring-framework/issues/9628 is still open and not solved...","body":"The issue <a href=\"https://github.com/spring-projects/spring-framework/issues/9628\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/9628</a> is still open and not solved..."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":1,"creation_date":1626280729,"post_id":47932477,"comment_id":120852871,"body_markdown":"Java frameworks: *bug open for 13 years, nobody cares, still used* JavaScript frameworks: *some guy dislikes the template syntax, everyone migrates to new framework 2 weeks later*","body":"Java frameworks: <i>bug open for 13 years, nobody cares, still used</i> JavaScript frameworks: <i>some guy dislikes the template syntax, everyone migrates to new framework 2 weeks later</i>"},{"owner":{"account_id":11899607,"reputation":544,"user_id":8707976,"display_name":"Sebastian"},"score":0,"creation_date":1655894233,"post_id":47932477,"comment_id":128438488,"body_markdown":"I am getting an &quot;Invalid interpolation format&quot; error when I try this solution.","body":"I am getting an &quot;Invalid interpolation format&quot; error when I try this solution."}],"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":9,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1636463807,"creation_date":1513889033,"answer_id":47932477,"question_id":47929315,"body_markdown":"Spring currently does not offer an escaping mechanism for property placeholders, there is an [open issue][1] (opened on 25.06.2008). In the comments, this workaround is mentioned (I am not sure whether it works with YAML):\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n\r\nNote that when used after whitespace or at the beginning of a line, `#` in YAML starts a comment.\r\n\r\n [1]: https://jira.spring.io/browse/SPR-4953","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Spring currently does not offer an escaping mechanism for property placeholders, there is an <a href=\"https://jira.spring.io/browse/SPR-4953\" rel=\"nofollow noreferrer\">open issue</a> (opened on 25.06.2008). In the comments, this workaround is mentioned (I am not sure whether it works with YAML):</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{'$'}{app-name}.csv\n</code></pre>\n<p>Note that when used after whitespace or at the beginning of a line, <code>#</code> in YAML starts a comment.</p>\n"},{"tags":[],"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1513952313,"creation_date":1513952313,"answer_id":47942988,"question_id":47929315,"body_markdown":"The answer really depends on how exactly you inject values into your code. Since you haven&#39;t provided it yet, I&#39;ll just list the various **working** techniques.\r\n\r\n1. You can use `@Value` annotation to inject your property. Since, [unlike `@ConfigurationProperties`, `@Value` does SpEL evaluation][1], you have to escape your value.\r\n\r\napplication.yml:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n\r\nTestController.java:\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \t@Value(&quot;${csv.file.pattern}&quot;) private String pattern;\r\n    \t@GetMapping(&quot;pattern&quot;) public ResponseEntity&lt;String&gt; getPattern() {\r\n    \t\treturn ResponseEntity.ok(pattern);\r\n    \t}\r\n    }\r\n\r\nA GET to `/pattern` would result in an output `/some/path/#{app-name}.csv`, just as you needed\r\n\r\n2. You can use `@ConfigurationProperties`, and here it really depends on how you structure your configuration objects. Generally, though, `@ConfigurationProperties` should require no escaping, as they don&#39;t support SpEL by default. The following works, though, so if your setup is different, modify it:\r\n\r\napplication.yml:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/#{app-name}.csv\r\n\r\nConfig.java:\r\n\r\n    @ConfigurationProperties(prefix = &quot;csv.file&quot;)\r\n    public class Config {\r\n    \tprivate String pattern;\r\n    \tpublic String getPattern() { return pattern; }\r\n       \tpublic void setPattern(String pattern) { this.pattern = pattern; }\r\n    }\r\n\r\nTestController.java:\r\n\r\n    @RestController\r\n    public class TestController {\r\n    \t@Autowired private Config config;\r\n    \t@GetMapping(&quot;pattern&quot;) public ResponseEntity&lt;String&gt; getPattern() {\r\n    \t\treturn ResponseEntity.ok(config.getPattern());\r\n    \t}\r\n    }\r\n\r\nAgain, a GET to `/pattern` would result in an output `/some/path/#{app-name}.csv`\r\n\r\nWhat you most likely have is some different structure in your Config.java (post the relevant code, maybe?), and this could cause the property to not be processed properly.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-vs-value\r\n\r\n\r\n\r\n\r\n","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>The answer really depends on how exactly you inject values into your code. Since you haven't provided it yet, I'll just list the various <strong>working</strong> techniques.</p>\n\n<ol>\n<li>You can use <code>@Value</code> annotation to inject your property. Since, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-vs-value\" rel=\"nofollow noreferrer\">unlike <code>@ConfigurationProperties</code>, <code>@Value</code> does SpEL evaluation</a>, you have to escape your value.</li>\n</ol>\n\n<p>application.yml:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{'$'}{app-name}.csv\n</code></pre>\n\n<p>TestController.java:</p>\n\n<pre><code>@RestController\npublic class TestController {\n    @Value(\"${csv.file.pattern}\") private String pattern;\n    @GetMapping(\"pattern\") public ResponseEntity&lt;String&gt; getPattern() {\n        return ResponseEntity.ok(pattern);\n    }\n}\n</code></pre>\n\n<p>A GET to <code>/pattern</code> would result in an output <code>/some/path/#{app-name}.csv</code>, just as you needed</p>\n\n<ol start=\"2\">\n<li>You can use <code>@ConfigurationProperties</code>, and here it really depends on how you structure your configuration objects. Generally, though, <code>@ConfigurationProperties</code> should require no escaping, as they don't support SpEL by default. The following works, though, so if your setup is different, modify it:</li>\n</ol>\n\n<p>application.yml:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/#{app-name}.csv\n</code></pre>\n\n<p>Config.java:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"csv.file\")\npublic class Config {\n    private String pattern;\n    public String getPattern() { return pattern; }\n    public void setPattern(String pattern) { this.pattern = pattern; }\n}\n</code></pre>\n\n<p>TestController.java:</p>\n\n<pre><code>@RestController\npublic class TestController {\n    @Autowired private Config config;\n    @GetMapping(\"pattern\") public ResponseEntity&lt;String&gt; getPattern() {\n        return ResponseEntity.ok(config.getPattern());\n    }\n}\n</code></pre>\n\n<p>Again, a GET to <code>/pattern</code> would result in an output <code>/some/path/#{app-name}.csv</code></p>\n\n<p>What you most likely have is some different structure in your Config.java (post the relevant code, maybe?), and this could cause the property to not be processed properly.</p>\n"},{"comments":[{"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"score":0,"creation_date":1644096556,"post_id":57878092,"comment_id":125516457,"body_markdown":"Thanks, it was the only thing that worked for me. Yours, gave me this idea [in a more simplified way](https://stackoverflow.com/a/71002105/4071001).","body":"Thanks, it was the only thing that worked for me. Yours, gave me this idea <a href=\"https://stackoverflow.com/a/71002105/4071001\">in a more simplified way</a>."}],"tags":[],"owner":{"account_id":9299922,"reputation":151,"user_id":8247385,"display_name":"IWonderHowLongANameICanTypeInH"},"comment_count":1,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1568148887,"creation_date":1568148887,"answer_id":57878092,"question_id":47929315,"body_markdown":"I had the same problem, i just found &lt;strike&gt;dumb&lt;/strike&gt; clever solution\r\ndefine a property named dollarSign or ds for short.\r\n\r\n    ds: &quot;$&quot;\r\nthen use it like so, `${ds}` will be replace by `$` at runtime.\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${ds}{app-name}.csv\r\n\r\nit was kind of funny when it worked.","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>I had the same problem, i just found <strike>dumb</strike> clever solution\ndefine a property named dollarSign or ds for short.</p>\n\n<pre><code>ds: \"$\"\n</code></pre>\n\n<p>then use it like so, <code>${ds}</code> will be replace by <code>$</code> at runtime.</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/${ds}{app-name}.csv\n</code></pre>\n\n<p>it was kind of funny when it worked.</p>\n"},{"tags":[],"owner":{"account_id":16637283,"reputation":9,"user_id":12522484,"display_name":"Eric Lee"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576127171,"creation_date":1576127171,"answer_id":59298031,"question_id":47929315,"body_markdown":"Why not try using `${sys:$}` which is ugly but effective. I think no one will use `$` as the key.","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Why not try using <code>${sys:$}</code> which is ugly but effective. I think no one will use <code>$</code> as the key.</p>\n"},{"tags":[],"owner":{"account_id":2349541,"reputation":353,"user_id":2058789,"display_name":"Andrej Burcev"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580312111,"creation_date":1580312111,"answer_id":59970479,"question_id":47929315,"body_markdown":"Actually none of the answers worked for me. However, adding a double dollar sign worked for me fine:\r\n\r\n```\r\ncsv:\r\n  file:\r\n    pattern: /some/path/$${app-name}.csv\r\n```","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Actually none of the answers worked for me. However, adding a double dollar sign worked for me fine:</p>\n\n<pre><code>csv:\n  file:\n    pattern: /some/path/$${app-name}.csv\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1469662,"reputation":1917,"user_id":1381532,"accept_rate":82,"display_name":"Aylwyn Lake"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584576615,"creation_date":1584576615,"answer_id":60749185,"question_id":47929315,"body_markdown":"I&#39;ve encountered a same problem. So you can resolve this by using yaml literal style symbol &quot;`|`&quot; , or by using literal_strip &quot;`|-`&quot; like following example.\r\n\r\n**application.yml**\r\n\r\n    csv:\r\n      file:\r\n        pattern: |-\r\n          /some/path/${app-name}.csv\r\n\r\n---\r\n\r\nActually My problem is config a formula in yml and then dynamic resolve the expression in java. Sharing the solution here. \r\n\r\nI choose spring el solution and use spring version `5.0.9.RELEASE`.\r\n\r\nI define a formular in yml,\r\n\r\n    score:\r\n      formula: |-\r\n        10 * #x + #y\r\n\r\nThen in a spring component bean,\r\n\r\n    @Value(&quot;${score.formula}&quot;)\r\n    String scoreFormula;\r\n\r\nAt last by using spring el,\r\n\r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    EvaluationContext context = SimpleEvaluationContext.forReadOnlyDataBinding().build();\r\n    \r\n    context.setVariable(&quot;x&quot;, 1);\r\n    context.setVariable(&quot;y&quot;, 1);\r\n    Integer score = parser.parseExpression(scoreFormula).getValue(context,Integer.class);\r\n\r\n---\r\n**reference**\r\n\r\n[yaml-multi-line][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/yaml-multi-line","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>I've encountered a same problem. So you can resolve this by using yaml literal style symbol \"<code>|</code>\" , or by using literal_strip \"<code>|-</code>\" like following example.</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>csv:\n  file:\n    pattern: |-\n      /some/path/${app-name}.csv\n</code></pre>\n\n<hr>\n\n<p>Actually My problem is config a formula in yml and then dynamic resolve the expression in java. Sharing the solution here. </p>\n\n<p>I choose spring el solution and use spring version <code>5.0.9.RELEASE</code>.</p>\n\n<p>I define a formular in yml,</p>\n\n<pre><code>score:\n  formula: |-\n    10 * #x + #y\n</code></pre>\n\n<p>Then in a spring component bean,</p>\n\n<pre><code>@Value(\"${score.formula}\")\nString scoreFormula;\n</code></pre>\n\n<p>At last by using spring el,</p>\n\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\nEvaluationContext context = SimpleEvaluationContext.forReadOnlyDataBinding().build();\n\ncontext.setVariable(\"x\", 1);\ncontext.setVariable(\"y\", 1);\nInteger score = parser.parseExpression(scoreFormula).getValue(context,Integer.class);\n</code></pre>\n\n<hr>\n\n<p><strong>reference</strong></p>\n\n<p><a href=\"https://www.baeldung.com/yaml-multi-line\" rel=\"nofollow noreferrer\">yaml-multi-line</a></p>\n"},{"tags":[],"owner":{"account_id":8704724,"reputation":9,"user_id":6513224,"display_name":"Alexandre Jacquot"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588073268,"creation_date":1588071932,"answer_id":61478699,"question_id":47929315,"body_markdown":"You need to use `#{&#39;$&#39;}` and as you use yaml you need to surround the value with double quotes: \r\n \r\n\r\n```yaml\r\ncsv:\r\n  file:\r\n    pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;\r\n```\r\n \r\n","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>You need to use <code>#{'$'}</code> and as you use yaml you need to surround the value with double quotes: </p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>csv:\n  file:\n    pattern: \"/some/path/#{'$'}{app-name}.csv\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13864691,"reputation":2209,"user_id":10009424,"display_name":"yejianfengblue"},"score":0,"creation_date":1687838911,"post_id":71002105,"comment_id":134988845,"body_markdown":"This solution works if I start Spring Boot application with embedded Tomcat, but not works if start with external Tomcat. No idea why. I end up using [IWonderHowLongANameICanTypeInH&#39;s solution](https://stackoverflow.com/a/57878092/10009424)","body":"This solution works if I start Spring Boot application with embedded Tomcat, but not works if start with external Tomcat. No idea why. I end up using <a href=\"https://stackoverflow.com/a/57878092/10009424\">IWonderHowLongANameICanTypeInH&#39;s solution</a>"}],"tags":[],"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1644094806,"creation_date":1644094806,"answer_id":71002105,"question_id":47929315,"body_markdown":"Use a combination of empty key and dollar sign `$` as default value:\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${:$}{app-name}.csv","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>Use a combination of empty key and dollar sign <code>$</code> as default value:</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/${:$}{app-name}.csv\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16839,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1701677257,"creation_date":1513874751,"question_id":47929315,"body_markdown":"In a Spring YAML configuration file, I need to have a parameter like\r\n\r\n    csv:\r\n      file:\r\n        pattern: /some/path/${app-name}.csv\r\n\r\nwhere the `${app-name}` is dynamically replaced in run time by the Java code, and I do not want Spring to replace it at the startup.\r\n\r\nTo achieve this, I need to escape the `$` character so Spring does not interpret it as [SpEL][1].\r\n\r\nThe following answers **do not** work in YAML:\r\n\r\n- `\\$` https://stackoverflow.com/q/8271033/2886891\r\n\r\n- `#{&#39;$&#39;}` https://stackoverflow.com/q/13162346/2886891\r\n\r\n- https://stackoverflow.com/q/43493857/2886891\r\n\r\nI tried all the combinations, like\r\n\r\n    pattern: /some/path/\\${app-name}.csv\r\n    pattern: &quot;/some/path/\\${app-name}.csv&quot;\r\n    pattern: /some/path/#{&#39;$&#39;}{app-name}.csv\r\n    pattern: &quot;/some/path/#{&#39;$&#39;}{app-name}.csv&quot;\r\n\r\nand none of them produces the variable containing the requested string, **with** the dollar sign but **without** the escape characters.\r\n\r\nPlease notice that it is **YAML** configuration. In YAML files, `#` is the line comment character, everything from this character on is ignored. And if I use `\\#`, the `\\` is then passed to the string.\r\n\r\nADDED: There has been an [Spring project open issue 9628][2] open since 25.06.2008:\r\n\r\n&gt; There is presently no way to inject a ${...} expression that won&#39;t be picked up by PropertyPlaceholderConfigurer. Ideally we should be able to inject a string that contains ${...} for later use in its target bean without involvement from PropertyPlaceholderConfigurer.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/9628","title":"How to escape SpEL dollar signs in Spring YAML configuration?","body":"<p>In a Spring YAML configuration file, I need to have a parameter like</p>\n<pre><code>csv:\n  file:\n    pattern: /some/path/${app-name}.csv\n</code></pre>\n<p>where the <code>${app-name}</code> is dynamically replaced in run time by the Java code, and I do not want Spring to replace it at the startup.</p>\n<p>To achieve this, I need to escape the <code>$</code> character so Spring does not interpret it as <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions\" rel=\"noreferrer\">SpEL</a>.</p>\n<p>The following answers <strong>do not</strong> work in YAML:</p>\n<ul>\n<li><p><code>\\$</code> <a href=\"https://stackoverflow.com/q/8271033/2886891\">How to escape EL dollar signs?</a></p>\n</li>\n<li><p><code>#{'$'}</code> <a href=\"https://stackoverflow.com/q/13162346/2886891\">Escape property reference in Spring property file</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/q/43493857/2886891\">Could not read properties if it contains dollar symbol (${var})</a></p>\n</li>\n</ul>\n<p>I tried all the combinations, like</p>\n<pre><code>pattern: /some/path/\\${app-name}.csv\npattern: &quot;/some/path/\\${app-name}.csv&quot;\npattern: /some/path/#{'$'}{app-name}.csv\npattern: &quot;/some/path/#{'$'}{app-name}.csv&quot;\n</code></pre>\n<p>and none of them produces the variable containing the requested string, <strong>with</strong> the dollar sign but <strong>without</strong> the escape characters.</p>\n<p>Please notice that it is <strong>YAML</strong> configuration. In YAML files, <code>#</code> is the line comment character, everything from this character on is ignored. And if I use <code>\\#</code>, the <code>\\</code> is then passed to the string.</p>\n<p>ADDED: There has been an <a href=\"https://github.com/spring-projects/spring-framework/issues/9628\" rel=\"noreferrer\">Spring project open issue 9628</a> open since 25.06.2008:</p>\n<blockquote>\n<p>There is presently no way to inject a ${...} expression that won't be picked up by PropertyPlaceholderConfigurer. Ideally we should be able to inject a string that contains ${...} for later use in its target bean without involvement from PropertyPlaceholderConfigurer.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677198,"creation_date":1701665115,"question_id":77597267,"body_markdown":"Look, this code doesn&#39;t work:\r\n```java\r\npackage com.example.gatewaydemo.routing;\r\n\r\nimport org.springframework.cloud.client.loadbalancer.LoadBalanced;\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Optional;\r\n\r\n@Configuration\r\npublic class MyRoutingConfig {\r\n    @Bean\r\n    @LoadBalanced\r\n    public WebClient.Builder webClientBuilder() {\r\n        return WebClient.builder();\r\n    }\r\n    @Bean\r\n    public RouteLocator routeLocator(WebClient.Builder webClientBuilder, RouteLocatorBuilder routeLocatorBuilder) {\r\n        Optional&lt;String&gt; string = webClientBuilder.build()\r\n                .get()\r\n                .uri(&quot;https://example.com&quot;)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .blockOptional(Duration.ofSeconds(5));\r\n        return routeLocatorBuilder.routes()\r\n                .route(predicateSpec -&gt; predicateSpec\r\n                        .path(&quot;/uuid&quot;)\r\n                        .uri(&quot;https://httpbin.org/uuid&quot;)\r\n                ).build();\r\n    }\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gatewaydemo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;gatewaydemo&lt;/name&gt;\r\n    &lt;description&gt;gatewaydemo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n```\r\n2023-12-04T07:18:40.404+03:00 ERROR 14220 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌─────┐\r\n|  routeLocator defined in class path resource [com/example/gatewaydemo/routing/MyRoutingConfig.class]\r\n↑     ↓\r\n|  corsGatewayFilterApplicationListener defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n↑     ↓\r\n|  routePredicateHandlerMapping defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n↑     ↓\r\n|  cachedCompositeRouteLocator defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\r\n└─────┘\r\n\r\n\r\nAction:\r\n\r\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n```\r\nTo get it to work, you need to do one of the two things (or both):\r\n\r\n1. Remove the `@LoadBalanced` annotation\r\n2. Remove the asynchronous request to `example.com` (it could be any domain)\r\n\r\nIt seems a `@LoadBalanced` `WebClient` for some reason wants a `RouteLocator` in a Gateway application\r\n\r\nIn the actual application, I use Eureka, and one [could suggest][1] the problem may have to do with that. However, as you see, I reproduced the issue even without Eureka\r\n\r\nIt has relevance since in my project, I [use][2] a `WebClient` to dynamically build routes in runtime. It has to be a `@LoadBalanced` `WebClient` since it should be able to resolve microservice names\r\n\r\nWhat is happening and what are the solutions/workarounds?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled\r\n  [2]: https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator","title":"LoadBalanced WebClient seems to want my RouteLocator. What for?","body":"<p>Look, this code doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.gatewaydemo.routing;\n\nimport org.springframework.cloud.client.loadbalancer.LoadBalanced;\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport java.time.Duration;\nimport java.util.Optional;\n\n@Configuration\npublic class MyRoutingConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder() {\n        return WebClient.builder();\n    }\n    @Bean\n    public RouteLocator routeLocator(WebClient.Builder webClientBuilder, RouteLocatorBuilder routeLocatorBuilder) {\n        Optional&lt;String&gt; string = webClientBuilder.build()\n                .get()\n                .uri(&quot;https://example.com&quot;)\n                .retrieve()\n                .bodyToMono(String.class)\n                .blockOptional(Duration.ofSeconds(5));\n        return routeLocatorBuilder.routes()\n                .route(predicateSpec -&gt; predicateSpec\n                        .path(&quot;/uuid&quot;)\n                        .uri(&quot;https://httpbin.org/uuid&quot;)\n                ).build();\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;gatewaydemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;gatewaydemo&lt;/name&gt;\n    &lt;description&gt;gatewaydemo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>2023-12-04T07:18:40.404+03:00 ERROR 14220 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌─────┐\n|  routeLocator defined in class path resource [com/example/gatewaydemo/routing/MyRoutingConfig.class]\n↑     ↓\n|  corsGatewayFilterApplicationListener defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n↑     ↓\n|  routePredicateHandlerMapping defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n↑     ↓\n|  cachedCompositeRouteLocator defined in class path resource [org/springframework/cloud/gateway/config/GatewayAutoConfiguration.class]\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n</code></pre>\n<p>To get it to work, you need to do one of the two things (or both):</p>\n<ol>\n<li>Remove the <code>@LoadBalanced</code> annotation</li>\n<li>Remove the asynchronous request to <code>example.com</code> (it could be any domain)</li>\n</ol>\n<p>It seems a <code>@LoadBalanced</code> <code>WebClient</code> for some reason wants a <code>RouteLocator</code> in a Gateway application</p>\n<p>In the actual application, I use Eureka, and one <a href=\"https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled\">could suggest</a> the problem may have to do with that. However, as you see, I reproduced the issue even without Eureka</p>\n<p>It has relevance since in my project, I <a href=\"https://stackoverflow.com/questions/77563031/cant-refresh-a-refresh-scoped-routelocator\">use</a> a <code>WebClient</code> to dynamically build routes in runtime. It has to be a <code>@LoadBalanced</code> <code>WebClient</code> since it should be able to resolve microservice names</p>\n<p>What is happening and what are the solutions/workarounds?</p>\n"},{"tags":["java","android","amazon-web-services","kotlin","amazon-textract"],"owner":{"account_id":24199583,"reputation":11,"user_id":18157608,"display_name":"JRockiller1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701677130,"creation_date":1701665049,"question_id":77597265,"body_markdown":"Im trying to implement Amazon&#39;s TextRact into my android application. I already have the `.aws/credentials` and `.aws/config` files that have been filled in accordance to the format given in their documentation. However, upon running, i get this error:\r\n\r\n&gt; aws.smithy.kotlin.runtime.identity.IdentityProviderException: No\r\n&gt; identity could be resolved from the chain: CredentialsProviderChain -&gt;\r\n&gt; SystemPropertyCredentialsProvider -&gt; EnvironmentCredentialsProvider -&gt;\r\n&gt; ProfileCredentialsProvider -&gt; StsWebIdentityProvider -&gt;\r\n&gt; EcsCredentialsProvider -&gt; ImdsCredentialsProvider\r\n\r\nI am using kotlin and looking at the kotlin sdk documentation, im abit lost.","title":"Identity Provider error even though everything is setup","body":"<p>Im trying to implement Amazon's TextRact into my android application. I already have the <code>.aws/credentials</code> and <code>.aws/config</code> files that have been filled in accordance to the format given in their documentation. However, upon running, i get this error:</p>\n<blockquote>\n<p>aws.smithy.kotlin.runtime.identity.IdentityProviderException: No\nidentity could be resolved from the chain: CredentialsProviderChain -&gt;\nSystemPropertyCredentialsProvider -&gt; EnvironmentCredentialsProvider -&gt;\nProfileCredentialsProvider -&gt; StsWebIdentityProvider -&gt;\nEcsCredentialsProvider -&gt; ImdsCredentialsProvider</p>\n</blockquote>\n<p>I am using kotlin and looking at the kotlin sdk documentation, im abit lost.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701770909,"post_id":77597918,"comment_id":136814028,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77597918/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":30041240,"reputation":11,"user_id":23022070,"display_name":"Rakesh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676550,"creation_date":1701676550,"answer_id":77597918,"question_id":77586279,"body_markdown":"Looks like our version of Spring Cloud (2022.0.4) and Spring Cloud GCP (4.8.4) is not yet compatible with Spring Boot 3.2.0 so I think we should hold off with upgrading (and even consider reverting for Konsumera&#39;s). https://spring.io/projects/spring-cloud\r\n[8:32 PM] https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301\r\nspring.iospring.io\r\nSpring Cloud\r\nLevel up your Java code and explore what Spring can do for you. (9 kB)\r\nhttps://spring.io/projects/spring-cloud\r\n\r\n#2301 Compatibility with upcoming Spring Boot 3.2 / Spring Cloud 2023.0\r\nCompatibility with Spring Project Versions currently shows that Spring Cloud GCP 4.x is compatible with Spring Boot 3.x.\r\n","title":"BeanCreationException after upgrading to spring boot parent version 3.2.0 from 3.1.5","body":"<p>Looks like our version of Spring Cloud (2022.0.4) and Spring Cloud GCP (4.8.4) is not yet compatible with Spring Boot 3.2.0 so I think we should hold off with upgrading (and even consider reverting for Konsumera's). <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud</a>\n[8:32 PM] <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/2301</a>\nspring.iospring.io\nSpring Cloud\nLevel up your Java code and explore what Spring can do for you. (9 kB)\n<a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-cloud</a></p>\n<p>#2301 Compatibility with upcoming Spring Boot 3.2 / Spring Cloud 2023.0\nCompatibility with Spring Project Versions currently shows that Spring Cloud GCP 4.x is compatible with Spring Boot 3.x.</p>\n"}],"owner":{"account_id":30041240,"reputation":11,"user_id":23022070,"display_name":"Rakesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701676550,"creation_date":1701443690,"question_id":77586279,"body_markdown":"my application was on `spring boot 3.1.5` and working perfetctly, After the release of `spring boot parent version 3.2.0`, it has beeen upgraded. the pom file is as below\r\n\r\n```xml  \r\n    org.springframework.boot\r\n    spring-boot-starter-parent\r\n    3.2.0\r\n     &lt;!-- lookup parent from repository  --&gt;\r\n```  \r\n\r\nBut then while starting the server, it started throwing error like as below:\r\n\r\n```log\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/ingka/rc/kommunicera/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Invalid authentication path\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1687)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1651)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1541)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1509)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:872)\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Invalid authentication path\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\r\n\t... 42 common frames omitted\r\n```\r\n\r\nTried with adding below in `pom.xml` as suggested on the migration guide:\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31\r\n\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository  --&gt;\r\n  &lt;/parent&gt;\r\n```","title":"BeanCreationException after upgrading to spring boot parent version 3.2.0 from 3.1.5","body":"<p>my application was on <code>spring boot 3.1.5</code> and working perfetctly, After the release of <code>spring boot parent version 3.2.0</code>, it has beeen upgraded. the pom file is as below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    org.springframework.boot\n    spring-boot-starter-parent\n    3.2.0\n     &lt;!-- lookup parent from repository  --&gt;\n</code></pre>\n<p>But then while starting the server, it started throwing error like as below:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/ingka/rc/kommunicera/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Invalid authentication path\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1651)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1541)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1509)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1390)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:872)\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Invalid authentication path\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\n    ... 42 common frames omitted\n</code></pre>\n<p>Tried with adding below in <code>pom.xml</code> as suggested on the migration guide:</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#upgrading-from-spring-boot-31</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository  --&gt;\n  &lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","math","calculator"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701645780,"post_id":77596481,"comment_id":136798366,"body_markdown":"On most real calculators, entering `2*-2`, pressing `-` results in the cancellation of `*`, so the result is `2*2`. When the `=` is pressed, `4` is calculated. Does your calculator work like that?  Makers of calculators solved the problem by creating a `-/+` (or `+/-`) key -- That is, a key that changes the sign of the number in the display.","body":"On most real calculators, entering <code>2*-2</code>, pressing <code>-</code> results in the cancellation of <code>*</code>, so the result is <code>2*2</code>. When the <code>=</code> is pressed, <code>4</code> is calculated. Does your calculator work like that?  Makers of calculators solved the problem by creating a <code>-&#47;+</code> (or <code>+&#47;-</code>) key -- That is, a key that changes the sign of the number in the display."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646924,"post_id":77596481,"comment_id":136798435,"body_markdown":"One of my calculators had two `-` keys: The regular one was the subtraction operator. The other one, marked (-), was used to enter a negative sign when entering a negative number.","body":"One of my calculators had two <code>-</code> keys: The regular one was the subtraction operator. The other one, marked (-), was used to enter a negative sign when entering a negative number."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1701649395,"post_id":77596481,"comment_id":136798588,"body_markdown":"You might find it easier to write a state table to process inputs.  In this situation, If in operator state, see if unary operator follows and process accordingly.  There are many articles regarding state tables on the web.","body":"You might find it easier to write a state table to process inputs.  In this situation, If in operator state, see if unary operator follows and process accordingly.  There are many articles regarding state tables on the web."}],"answers":[{"comments":[{"owner":{"account_id":30034134,"reputation":13,"user_id":23016554,"display_name":"star.rei"},"score":0,"creation_date":1701706452,"post_id":77597872,"comment_id":136806059,"body_markdown":"Thank you so much! It works with negative numbers now, but for division, for some reason I think it may be doing it backwards, where if I put 4 / 2, I get 0.5 and if I do 2 / 4, I get 2. Do you have any ideas on how to fix this?","body":"Thank you so much! It works with negative numbers now, but for division, for some reason I think it may be doing it backwards, where if I put 4 / 2, I get 0.5 and if I do 2 / 4, I get 2. Do you have any ideas on how to fix this?"},{"owner":{"account_id":30034134,"reputation":13,"user_id":23016554,"display_name":"star.rei"},"score":0,"creation_date":1701707558,"post_id":77597872,"comment_id":136806318,"body_markdown":"Also for some reason, it evaluates -2 + 2 as -4, and orders of operations work if multiplication/division is the last operator (ie. 2 + 2 * 4 evaluates to 10) but 2*4 + 2 evaluates to 12.","body":"Also for some reason, it evaluates -2 + 2 as -4, and orders of operations work if multiplication/division is the last operator (ie. 2 + 2 * 4 evaluates to 10) but 2*4 + 2 evaluates to 12."},{"owner":{"account_id":30058001,"reputation":77,"user_id":23034833,"display_name":"Fuzz of the Interwebs"},"score":0,"creation_date":1701729610,"post_id":77597872,"comment_id":136809779,"body_markdown":"Can&#39;t really rob you of the fun of working it out. You&#39;ll find it will be similar to what I have provided: you need to keep track of the last operator and apply it appropriately.\nSomeone suggested in a comment on using a state table(?), I found the library used regex and split up the expression. A suggestion would be splitting the expression into variables then processing them through the order.","body":"Can&#39;t really rob you of the fun of working it out. You&#39;ll find it will be similar to what I have provided: you need to keep track of the last operator and apply it appropriately. Someone suggested in a comment on using a state table(?), I found the library used regex and split up the expression. A suggestion would be splitting the expression into variables then processing them through the order."},{"owner":{"account_id":30034134,"reputation":13,"user_id":23016554,"display_name":"star.rei"},"score":0,"creation_date":1701729704,"post_id":77597872,"comment_id":136809791,"body_markdown":"Got it, thank you so much, it works now!","body":"Got it, thank you so much, it works now!"}],"tags":[],"owner":{"account_id":30058001,"reputation":77,"user_id":23034833,"display_name":"Fuzz of the Interwebs"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701676328,"creation_date":1701676015,"answer_id":77597872,"question_id":77596481,"body_markdown":"There is not much required to get this to work, just 7 lines of code.\r\n\r\nAll I did was add a check for `-` right after another operator was found. Since the `isNewNumber` boolean was cleared after performing a mathematical operation, there was a gap to check if `-` came up again when the program was expecting a number.\r\n\r\nThe complete code with changes to make the expression `2*-2` get result `-4.0`\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class StackCalc {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a math expression: &quot;);\r\n        String expression = scanner.nextLine();\r\n\r\n        double result = 0;\r\n        double currentNumber = 0;\r\n        double multiplier = 1;\r\n        boolean isNewNumber = true;\r\n        boolean hasDecimal = false;\r\n        double decimalMultiplier = 0.1;\r\n        boolean negNumber = false;\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            String currentSymbol = expression.substring(i, i + 1);\r\n\r\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\r\n                if (hasDecimal) {\r\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\r\n                    decimalMultiplier /= 10;\r\n                } else { // apply neg\r\n                    double doubleSymbol = Double.parseDouble(currentSymbol);\r\n                    if (negNumber) {\r\n                       doubleSymbol = doubleSymbol * -1;\r\n                    }\r\n                    currentNumber = currentNumber * 10 + doubleSymbol;\r\n                    isNewNumber = true;\r\n                }\r\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\r\n                hasDecimal = true;\r\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\r\n                if (isNewNumber) {\r\n                    if (currentSymbol.equals(&quot;+&quot;)) {\r\n                        result = result + currentNumber * multiplier;\r\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\r\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\r\n                            multiplier = -1;\r\n                        } else {\r\n                            result = result + currentNumber * multiplier;\r\n                            multiplier = -1;\r\n                        }\r\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\r\n                        multiplier = multiplier * currentNumber;\r\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\r\n                        multiplier = multiplier / currentNumber;\r\n                    }\r\n                    currentNumber = 0;\r\n                    isNewNumber = false;\r\n                    hasDecimal = false;\r\n                    decimalMultiplier = 0.1;\r\n                    negNumber = false;\r\n                } else {\r\n                    negNumber = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        result = result + currentNumber * multiplier;\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n}\r\n```\r\nAnnotation: Oddly enough, I have access to a library that does this type of operation: convert strings into expressions and run the calculation. It was hard not to post this here and explain how to use it.","title":"Modifying Calculator to accept negative numbers","body":"<p>There is not much required to get this to work, just 7 lines of code.</p>\n<p>All I did was add a check for <code>-</code> right after another operator was found. Since the <code>isNewNumber</code> boolean was cleared after performing a mathematical operation, there was a gap to check if <code>-</code> came up again when the program was expecting a number.</p>\n<p>The complete code with changes to make the expression <code>2*-2</code> get result <code>-4.0</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class StackCalc {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a math expression: &quot;);\n        String expression = scanner.nextLine();\n\n        double result = 0;\n        double currentNumber = 0;\n        double multiplier = 1;\n        boolean isNewNumber = true;\n        boolean hasDecimal = false;\n        double decimalMultiplier = 0.1;\n        boolean negNumber = false;\n\n        for (int i = 0; i &lt; expression.length(); i++) {\n            String currentSymbol = expression.substring(i, i + 1);\n\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\n                if (hasDecimal) {\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\n                    decimalMultiplier /= 10;\n                } else { // apply neg\n                    double doubleSymbol = Double.parseDouble(currentSymbol);\n                    if (negNumber) {\n                       doubleSymbol = doubleSymbol * -1;\n                    }\n                    currentNumber = currentNumber * 10 + doubleSymbol;\n                    isNewNumber = true;\n                }\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\n                hasDecimal = true;\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\n                if (isNewNumber) {\n                    if (currentSymbol.equals(&quot;+&quot;)) {\n                        result = result + currentNumber * multiplier;\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\n                            multiplier = -1;\n                        } else {\n                            result = result + currentNumber * multiplier;\n                            multiplier = -1;\n                        }\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\n                        multiplier = multiplier * currentNumber;\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\n                        multiplier = multiplier / currentNumber;\n                    }\n                    currentNumber = 0;\n                    isNewNumber = false;\n                    hasDecimal = false;\n                    decimalMultiplier = 0.1;\n                    negNumber = false;\n                } else {\n                    negNumber = true;\n                }\n            }\n        }\n\n        result = result + currentNumber * multiplier;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n<p>Annotation: Oddly enough, I have access to a library that does this type of operation: convert strings into expressions and run the calculation. It was hard not to post this here and explain how to use it.</p>\n"}],"owner":{"account_id":30034134,"reputation":13,"user_id":23016554,"display_name":"star.rei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77597872,"answer_count":1,"score":-1,"last_activity_date":1701676328,"creation_date":1701644424,"question_id":77596481,"body_markdown":"My current calculator can compute basic operators with respect to orders of operations (*, -, /, +) but doesn&#39;t accept negative numbers. However, it does work with (-2 * 2) and returns -4 as expected but doesn&#39;t work if the first number is not negative (2 * -2 returns 4). I have tried turning the &quot;-&quot; operator to make the 2nd operand negative (so it&#39;s just all addition and no subtraction if that makes sense) but I couldn&#39;t get it to work. Thank you for your time.\r\n\r\nHere&#39;s my current code:\r\n\r\n```\r\njava.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a math expression: &quot;);\r\n        String expression = scanner.nextLine();\r\n\r\n        double result = 0;\r\n        double currentNumber = 0;\r\n        double multiplier = 1;\r\n        boolean isNewNumber = true;\r\n        boolean hasDecimal = false;\r\n        double decimalMultiplier = 0.1;\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            String currentSymbol = expression.substring(i, i + 1);\r\n\r\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\r\n                if (hasDecimal) {\r\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\r\n                    decimalMultiplier /= 10;\r\n                } else {\r\n                    currentNumber = currentNumber * 10 + Double.parseDouble(currentSymbol);\r\n                    isNewNumber = true;\r\n                }\r\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\r\n                hasDecimal = true;\\\r\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\r\n                if (isNewNumber) {\r\n                    if (currentSymbol.equals(&quot;+&quot;)) {\r\n                        result = result + currentNumber * multiplier;\r\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\r\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\r\n                            multiplier = -1;\r\n                        } else {\r\n                            result = result + currentNumber * multiplier;\r\n                            multiplier = -1;\r\n                        }\r\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\r\n                        multiplier = multiplier * currentNumber;\r\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\r\n                            multiplier = multiplier / currentNumber;\r\n                    }\r\n                    currentNumber = 0;\r\n                    isNewNumber = false;\r\n                    hasDecimal = false;\r\n                    decimalMultiplier = 0.1;\r\n                }\r\n            }\r\n        }\r\n\r\n        result = result + currentNumber * multiplier;\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n}\r\n```\r\n","title":"Modifying Calculator to accept negative numbers","body":"<p>My current calculator can compute basic operators with respect to orders of operations (*, -, /, +) but doesn't accept negative numbers. However, it does work with (-2 * 2) and returns -4 as expected but doesn't work if the first number is not negative (2 * -2 returns 4). I have tried turning the &quot;-&quot; operator to make the 2nd operand negative (so it's just all addition and no subtraction if that makes sense) but I couldn't get it to work. Thank you for your time.</p>\n<p>Here's my current code:</p>\n<pre><code>java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a math expression: &quot;);\n        String expression = scanner.nextLine();\n\n        double result = 0;\n        double currentNumber = 0;\n        double multiplier = 1;\n        boolean isNewNumber = true;\n        boolean hasDecimal = false;\n        double decimalMultiplier = 0.1;\n\n        for (int i = 0; i &lt; expression.length(); i++) {\n            String currentSymbol = expression.substring(i, i + 1);\n\n            if (&quot;0123456789&quot;.indexOf(currentSymbol) != -1) {\n                if (hasDecimal) {\n                    currentNumber = currentNumber + Double.parseDouble(currentSymbol) * decimalMultiplier;\n                    decimalMultiplier /= 10;\n                } else {\n                    currentNumber = currentNumber * 10 + Double.parseDouble(currentSymbol);\n                    isNewNumber = true;\n                }\n            } else if (currentSymbol.equals(&quot;.&quot;)) {\n                hasDecimal = true;\\\n            } else if (&quot;+-*/&quot;.indexOf(currentSymbol) != -1) {\n                if (isNewNumber) {\n                    if (currentSymbol.equals(&quot;+&quot;)) {\n                        result = result + currentNumber * multiplier;\n                    } else if (currentSymbol.equals(&quot;-&quot;)) {\n                        if (i == 0 || &quot;+-*/&quot;.indexOf(expression.substring(i - 1, i)) != -1) {\n                            multiplier = -1;\n                        } else {\n                            result = result + currentNumber * multiplier;\n                            multiplier = -1;\n                        }\n                    } else if (currentSymbol.equals(&quot;*&quot;)) {\n                        multiplier = multiplier * currentNumber;\n                    } else if (currentSymbol.equals(&quot;/&quot;)) {\n                            multiplier = multiplier / currentNumber;\n                    }\n                    currentNumber = 0;\n                    isNewNumber = false;\n                    hasDecimal = false;\n                    decimalMultiplier = 0.1;\n                }\n            }\n        }\n\n        result = result + currentNumber * multiplier;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701632215,"creation_date":1701632215,"answer_id":77595895,"question_id":77593041,"body_markdown":"I have solved the problem.\r\n\r\nIt turns out that the log4j library versions were *not* the most recent. Afer checking the repositories, I upgraded log4j-api and log4j-core from V2.20.0 to V2.22.0. I do not understand why, but doing this has eliminated the getCallerClass warnings.","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>I have solved the problem.</p>\n<p>It turns out that the log4j library versions were <em>not</em> the most recent. Afer checking the repositories, I upgraded log4j-api and log4j-core from V2.20.0 to V2.22.0. I do not understand why, but doing this has eliminated the getCallerClass warnings.</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676076,"creation_date":1701676076,"answer_id":77597880,"question_id":77593041,"body_markdown":"In order to support all LTS Java version, `log4j-api` is a multi-release JAR. If your runtime or build environment does not supports MRJs (e.g. you shade all JARs into one, cf. [this question](https://stackoverflow.com/q/75996306/11748454)) the warning:\r\n\r\n```\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n```\r\n\r\nwill appear.\r\n\r\nNewer versions of `log4j-api` didn&#39;t change that. Only the warning message was updated to reflect the most common cause for the problem (cf. [PR #1760](https://github.com/apache/logging-log4j2/pull/1760)):\r\n\r\n```\r\nWARNING: Runtime environment or build system does not support multi-release JARs. This will impact location-based features.\r\n```\r\n\r\nPreviously the most common cause was using JREs different from OpenJDK (e.g. Android).\r\n\r\n**Remark**: The other warning message:\r\n\r\n```\r\nWARN StatusConsoleListener No Log4j 2 configuration file found.\r\n  Using default configuration (logging only errors to the console), or user programmatically provided configurations.\r\n  Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging.\r\n  See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n```\r\n\r\nhas nothing to do with the first warning. You just need to name your configuration file properly (`log4j2.xml` instead of `log4j.xml`).","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>In order to support all LTS Java version, <code>log4j-api</code> is a multi-release JAR. If your runtime or build environment does not supports MRJs (e.g. you shade all JARs into one, cf. <a href=\"https://stackoverflow.com/q/75996306/11748454\">this question</a>) the warning:</p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n</code></pre>\n<p>will appear.</p>\n<p>Newer versions of <code>log4j-api</code> didn't change that. Only the warning message was updated to reflect the most common cause for the problem (cf. <a href=\"https://github.com/apache/logging-log4j2/pull/1760\" rel=\"nofollow noreferrer\">PR #1760</a>):</p>\n<pre><code>WARNING: Runtime environment or build system does not support multi-release JARs. This will impact location-based features.\n</code></pre>\n<p>Previously the most common cause was using JREs different from OpenJDK (e.g. Android).</p>\n<p><strong>Remark</strong>: The other warning message:</p>\n<pre><code>WARN StatusConsoleListener No Log4j 2 configuration file found.\n  Using default configuration (logging only errors to the console), or user programmatically provided configurations.\n  Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging.\n  See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\n</code></pre>\n<p>has nothing to do with the first warning. You just need to name your configuration file properly (<code>log4j2.xml</code> instead of <code>log4j.xml</code>).</p>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701676076,"creation_date":1701578087,"question_id":77593041,"body_markdown":"I am building a Java application using Maven. I recently added Log4j2 libraries (log4j-api and log4j-core) to the dependencies in my pom.xml file. This enables me to perform decent logging on my application.\r\n\r\nUnfortunately, since adding those libraries, my application doesn&#39;t run properly. I am seeing the following every time I start it:\r\n\r\n    WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n    WARN StatusConsoleListener No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property &#39;log4j2.debug&#39; to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\r\n\r\nI do have a log4j.xml file available to the application, so I must conclude that the missing getCallerClass is causing the failure to find it. What bothers me, however, is the fact that when looking on the Internet to discover the reason for the failure, I discovered that the sun.reflect.Reflection.getCallerClass has been removed from the JDK since Java 8. Since I am using Java 17, and my dependencies are all compatible with Java 17 (including the log4j libraries that are V2.20.0), they shouldn&#39;t even be attempting to load sun.reflect.Reflection.getCallerClass at all!\r\n\r\nI have seen plenty of documentation explaining how the sun.reflect.Reflection.getCallerClass is not supported in Java 8+, but I have been unable to get any coherent information on why log4j2 keeps insisting on attempting to load this class or how to prevent it from doing so. Can someone give some idea how I might stop log4j2 from attempting to load this class???","title":"Log4j2 attemts to load a class that no longer exists","body":"<p>I am building a Java application using Maven. I recently added Log4j2 libraries (log4j-api and log4j-core) to the dependencies in my pom.xml file. This enables me to perform decent logging on my application.</p>\n<p>Unfortunately, since adding those libraries, my application doesn't run properly. I am seeing the following every time I start it:</p>\n<pre><code>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\nWARN StatusConsoleListener No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2\n</code></pre>\n<p>I do have a log4j.xml file available to the application, so I must conclude that the missing getCallerClass is causing the failure to find it. What bothers me, however, is the fact that when looking on the Internet to discover the reason for the failure, I discovered that the sun.reflect.Reflection.getCallerClass has been removed from the JDK since Java 8. Since I am using Java 17, and my dependencies are all compatible with Java 17 (including the log4j libraries that are V2.20.0), they shouldn't even be attempting to load sun.reflect.Reflection.getCallerClass at all!</p>\n<p>I have seen plenty of documentation explaining how the sun.reflect.Reflection.getCallerClass is not supported in Java 8+, but I have been unable to get any coherent information on why log4j2 keeps insisting on attempting to load this class or how to prevent it from doing so. Can someone give some idea how I might stop log4j2 from attempting to load this class???</p>\n"},{"tags":["java","serialization","hazelcast"],"answers":[{"comments":[{"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"score":0,"creation_date":1701500616,"post_id":77583407,"comment_id":136785950,"body_markdown":"Thank you for detailed answer, but I know about this. I use custom compact serializers, because I have some classes, also third party, for them zero-config can&#39;t work. So my question is, how to deliver my custom compact serializers also to server side?","body":"Thank you for detailed answer, but I know about this. I use custom compact serializers, because I have some classes, also third party, for them zero-config can&#39;t work. So my question is, how to deliver my custom compact serializers also to server side?"}],"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701412879,"creation_date":1701412879,"answer_id":77583407,"question_id":77578522,"body_markdown":"Compact serializer can be used in two ways.\r\n\r\n1. [With an explicit CompactSerializer][1] \r\n2. [With Zero-Configuration][2] \r\n\r\n\r\n  [1]: https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization#implementing-compactserializer\r\n  [2]: https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization\r\n\r\nI am going to show you Zero Configuration, since your are using User Code Deployment (UCD).   \r\nAssume that you have class as below. This class does **not** implement a **serialization** mechanism.\r\n```java\r\npublic class MyWorker {\r\n  String name;\r\n  \r\n  public MyWorker(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;MyWorker{&quot; +\r\n      &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n      &#39;}&#39;;\r\n  }\r\n}\r\n```\r\nAlso we have a EntryProcessor as below. **EntryProcessor** implements **Serializable**. So **MyWorkerEntryProcessor** is also serializable. I am returning **null** because I don&#39;t need updated map result on the client side.\r\n```java\r\npublic class MyWorkerEntryProcessor implements EntryProcessor&lt;Integer, MyWorker, MyWorker&gt; {\r\n  @Override\r\n  public MyWorker process(Map.Entry&lt;Integer, MyWorker&gt; entry) {\r\n    MyWorker newWorker = new MyWorker(&quot;new-worker1&quot;);\r\n    entry.setValue(newWorker);\r\n    return null;\r\n  }\r\n}\r\n```\r\nStart the server as below. **UCD** must be **enabled** on server side\r\n```java\r\n public static void main(String[] args) {\r\n  Config config = new Config();\r\n  UserCodeDeploymentConfig ucdConfig = config.getUserCodeDeploymentConfig();\r\n  ucdConfig.setEnabled(true);\r\n\r\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\nLet&#39;s have these helper methods on the client side.\r\n```java\r\nprivate static HazelcastInstance getHazelcastClientInstance() {\r\n  ClientConfig clientConfig = new ClientConfig();\r\n\r\n  // UCD\r\n  ClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\r\n  ucdConfig.setEnabled(true);\r\n  ucdConfig.addClass(MyWorker.class);\r\n  ucdConfig.addClass(MyWorkerEntryProcessor.class);\r\n\r\n  return HazelcastClient.newHazelcastClient(clientConfig);\r\n}\r\n\r\nprivate static void populateMap(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n  myWorkerMap.put(KEY, new MyWorker(&quot;worker1&quot;));\r\n}\r\n\r\nprivate static void updateWorker(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n  MyWorkerEntryProcessor entryProcessor = new MyWorkerEntryProcessor();\r\n  myWorkerMap.executeOnEntries(entryProcessor);\r\n}\r\n\r\nprivate static void printWorker(HazelcastInstance hazelcastClientInstance) {\r\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\r\n\r\n  MyWorker worker = myWorkerMap.get(KEY);\r\n  LOGGER.info(&quot;New Worker : {}&quot;, worker);\r\n}\r\n```\r\nLet&#39;s call them from client main\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n  // Start client\r\n  HazelcastInstance hazelcastClientInstance = getHazelcastClientInstance();\r\n\r\n  // Do test\r\n  populateMap(hazelcastClientInstance);\r\n  updateWorker(hazelcastClientInstance);\r\n  printWorker(hazelcastClientInstance);\r\n\r\n  // Shut down HZ clien\r\n  hazelcastClientInstance.shutdown();\r\n}\r\n```\r\nSo with zero config compact serialization I don&#39;t need to do anything. From the documentation you can see this sentence\r\n\r\n&gt; Compact serialization can also be used without registering a serializer in the member or client configuration.\r\n\r\nHZ automatically creates a serializer for me. There are some constraints though. From the documentation again. So your class can have only certain member field types\r\n\r\n&gt; Currently, Hazelcast supports extracting schemas out of classes that have the field types shown above and some others, for user convenience.\r\n\r\nFor the explicit serialization case that I mentioned in the beginning, you need **register** a serializer to member, **not** deploy it. You can find examples in the documentation  \r\n\r\nI hope this helps\r\n","title":"Deploy compactSerializer to hazelcast member","body":"<p>Compact serializer can be used in two ways.</p>\n<ol>\n<li><a href=\"https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization#implementing-compactserializer\" rel=\"nofollow noreferrer\">With an explicit CompactSerializer</a></li>\n<li><a href=\"https://docs.hazelcast.com/hazelcast/5.3/serialization/compact-serialization\" rel=\"nofollow noreferrer\">With Zero-Configuration</a></li>\n</ol>\n<p>I am going to show you Zero Configuration, since your are using User Code Deployment (UCD).<br />\nAssume that you have class as below. This class does <strong>not</strong> implement a <strong>serialization</strong> mechanism.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorker {\n  String name;\n  \n  public MyWorker(String name) {\n    this.name = name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;MyWorker{&quot; +\n      &quot;name='&quot; + name + '\\'' +\n      '}';\n  }\n}\n</code></pre>\n<p>Also we have a EntryProcessor as below. <strong>EntryProcessor</strong> implements <strong>Serializable</strong>. So <strong>MyWorkerEntryProcessor</strong> is also serializable. I am returning <strong>null</strong> because I don't need updated map result on the client side.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorkerEntryProcessor implements EntryProcessor&lt;Integer, MyWorker, MyWorker&gt; {\n  @Override\n  public MyWorker process(Map.Entry&lt;Integer, MyWorker&gt; entry) {\n    MyWorker newWorker = new MyWorker(&quot;new-worker1&quot;);\n    entry.setValue(newWorker);\n    return null;\n  }\n}\n</code></pre>\n<p>Start the server as below. <strong>UCD</strong> must be <strong>enabled</strong> on server side</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void main(String[] args) {\n  Config config = new Config();\n  UserCodeDeploymentConfig ucdConfig = config.getUserCodeDeploymentConfig();\n  ucdConfig.setEnabled(true);\n\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>Let's have these helper methods on the client side.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static HazelcastInstance getHazelcastClientInstance() {\n  ClientConfig clientConfig = new ClientConfig();\n\n  // UCD\n  ClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\n  ucdConfig.setEnabled(true);\n  ucdConfig.addClass(MyWorker.class);\n  ucdConfig.addClass(MyWorkerEntryProcessor.class);\n\n  return HazelcastClient.newHazelcastClient(clientConfig);\n}\n\nprivate static void populateMap(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n  myWorkerMap.put(KEY, new MyWorker(&quot;worker1&quot;));\n}\n\nprivate static void updateWorker(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n  MyWorkerEntryProcessor entryProcessor = new MyWorkerEntryProcessor();\n  myWorkerMap.executeOnEntries(entryProcessor);\n}\n\nprivate static void printWorker(HazelcastInstance hazelcastClientInstance) {\n  IMap&lt;Integer, MyWorker&gt; myWorkerMap = hazelcastClientInstance.getMap(MAP_NAME);\n\n  MyWorker worker = myWorkerMap.get(KEY);\n  LOGGER.info(&quot;New Worker : {}&quot;, worker);\n}\n</code></pre>\n<p>Let's call them from client main</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n  // Start client\n  HazelcastInstance hazelcastClientInstance = getHazelcastClientInstance();\n\n  // Do test\n  populateMap(hazelcastClientInstance);\n  updateWorker(hazelcastClientInstance);\n  printWorker(hazelcastClientInstance);\n\n  // Shut down HZ clien\n  hazelcastClientInstance.shutdown();\n}\n</code></pre>\n<p>So with zero config compact serialization I don't need to do anything. From the documentation you can see this sentence</p>\n<blockquote>\n<p>Compact serialization can also be used without registering a serializer in the member or client configuration.</p>\n</blockquote>\n<p>HZ automatically creates a serializer for me. There are some constraints though. From the documentation again. So your class can have only certain member field types</p>\n<blockquote>\n<p>Currently, Hazelcast supports extracting schemas out of classes that have the field types shown above and some others, for user convenience.</p>\n</blockquote>\n<p>For the explicit serialization case that I mentioned in the beginning, you need <strong>register</strong> a serializer to member, <strong>not</strong> deploy it. You can find examples in the documentation</p>\n<p>I hope this helps</p>\n"},{"comments":[{"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"score":0,"creation_date":1701763428,"post_id":77597865,"comment_id":136812793,"body_markdown":"Are you sure that MyWorkerSerializer also will be deployed and registered on server side?","body":"Are you sure that MyWorkerSerializer also will be deployed and registered on server side?"},{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1701857384,"post_id":77597865,"comment_id":136826006,"body_markdown":"A serializer converts data to a byte array, allowing it to be transferred between clients and members. Therefore, you need a serializer on the client side. If your members also access data, you need to register the same serializer on the member side. You can achieve this using the provided code example, simply replacing &quot;ClientConfig&quot; with &quot;Config&quot; class. So MyWorkerSerializer  will not be deployed to server side in the provided example","body":"A serializer converts data to a byte array, allowing it to be transferred between clients and members. Therefore, you need a serializer on the client side. If your members also access data, you need to register the same serializer on the member side. You can achieve this using the provided code example, simply replacing &quot;ClientConfig&quot; with &quot;Config&quot; class. So MyWorkerSerializer  will not be deployed to server side in the provided example"},{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1701938336,"post_id":77597865,"comment_id":136837450,"body_markdown":"So the answer to your question is, when you add a serializer from the client the Schema of the serializer is distributed to cluster members, not the serializer itself. Then the cluster members can create their own local serializers from the schema. I hope this helps","body":"So the answer to your question is, when you add a serializer from the client the Schema of the serializer is distributed to cluster members, not the serializer itself. Then the cluster members can create their own local serializers from the schema. I hope this helps"}],"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675912,"creation_date":1701675912,"answer_id":77597865,"question_id":77578522,"body_markdown":"This answer is for registering custom compact serializer from the client side.\r\nOn the client side have this class. This time I have used lombok to make to make the code shorter.\r\n\r\n```java\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@RequiredArgsConstructor\r\n@ToString\r\npublic class MyWorker {\r\n  private final String name;\r\n}\r\n```\r\nHave a serializer on the client side\r\n```java\r\npublic class MyWorkerSerializer implements CompactSerializer&lt;MyWorker&gt; {\r\n  @Override\r\n  public MyWorker read(CompactReader compactReader) {\r\n    String name = compactReader.readString(&quot;name&quot;);\r\n    return new MyWorker(name);\r\n  }\r\n\r\n  @Override\r\n  public void write(CompactWriter compactWriter, MyWorker myWorker) {\r\n    compactWriter.writeString(&quot;name&quot;, myWorker.getName());\r\n  }\r\n\r\n  @Override\r\n  public String getTypeName() {\r\n    return &quot;myworker&quot;;\r\n  }\r\n\r\n  @Override\r\n  public Class&lt;MyWorker&gt; getCompactClass() {\r\n    return MyWorker.class;\r\n  }\r\n}\r\n```\r\nThen start the client as below. The serializer is **added** to SerializationConfig\r\n```java\r\n ClientConfig clientConfig = new ClientConfig();\r\n\r\n// UCD\r\nClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\r\nucdConfig.setEnabled(true);\r\nucdConfig.addClass(MyWorker.class);\r\nucdConfig.addClass(MyWorkerEntryProcessor.class);\r\n\r\nclientConfig.getSerializationConfig()\r\n  .getCompactSerializationConfig()\r\n  .addSerializer(new MyWorkerSerializer());\r\n\r\nHazelcastInstance hazelcastClientInstance =  \r\n HazelcastClient.newHazelcastClient(clientConfig);\r\n```\r\nThen use populateMap(),updateWorker(),printWorker() on the first answer","title":"Deploy compactSerializer to hazelcast member","body":"<p>This answer is for registering custom compact serializer from the client side.\nOn the client side have this class. This time I have used lombok to make to make the code shorter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.ToString;\n\n@Getter\n@RequiredArgsConstructor\n@ToString\npublic class MyWorker {\n  private final String name;\n}\n</code></pre>\n<p>Have a serializer on the client side</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWorkerSerializer implements CompactSerializer&lt;MyWorker&gt; {\n  @Override\n  public MyWorker read(CompactReader compactReader) {\n    String name = compactReader.readString(&quot;name&quot;);\n    return new MyWorker(name);\n  }\n\n  @Override\n  public void write(CompactWriter compactWriter, MyWorker myWorker) {\n    compactWriter.writeString(&quot;name&quot;, myWorker.getName());\n  }\n\n  @Override\n  public String getTypeName() {\n    return &quot;myworker&quot;;\n  }\n\n  @Override\n  public Class&lt;MyWorker&gt; getCompactClass() {\n    return MyWorker.class;\n  }\n}\n</code></pre>\n<p>Then start the client as below. The serializer is <strong>added</strong> to SerializationConfig</p>\n<pre class=\"lang-java prettyprint-override\"><code> ClientConfig clientConfig = new ClientConfig();\n\n// UCD\nClientUserCodeDeploymentConfig ucdConfig = clientConfig.getUserCodeDeploymentConfig();\nucdConfig.setEnabled(true);\nucdConfig.addClass(MyWorker.class);\nucdConfig.addClass(MyWorkerEntryProcessor.class);\n\nclientConfig.getSerializationConfig()\n  .getCompactSerializationConfig()\n  .addSerializer(new MyWorkerSerializer());\n\nHazelcastInstance hazelcastClientInstance =  \n HazelcastClient.newHazelcastClient(clientConfig);\n</code></pre>\n<p>Then use populateMap(),updateWorker(),printWorker() on the first answer</p>\n"}],"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701675912,"creation_date":1701348114,"question_id":77578522,"body_markdown":"I enabled user code deployment in hazelcast to use entry processors.\r\nThe entry processor and my entity classes are deployed to hazelcast, but the compact serializer is not deployed, so in the member side I get exception on serialization of my entity. How to deploy my compactSerializer from client side to hazelcast member and register it?","title":"Deploy compactSerializer to hazelcast member","body":"<p>I enabled user code deployment in hazelcast to use entry processors.\nThe entry processor and my entity classes are deployed to hazelcast, but the compact serializer is not deployed, so in the member side I get exception on serialization of my entity. How to deploy my compactSerializer from client side to hazelcast member and register it?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-boot-3"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1693308218,"post_id":76987080,"comment_id":135740559,"body_markdown":"please show us your error in the webbrowser console and a screenshot of your response with headers in the browser.","body":"please show us your error in the webbrowser console and a screenshot of your response with headers in the browser."},{"owner":{"account_id":1708812,"reputation":790,"user_id":1567291,"accept_rate":77,"display_name":"bytor99999"},"score":0,"creation_date":1694039781,"post_id":76987080,"comment_id":135840580,"body_markdown":"Have you resolved this yet. The 1 answer is not a good answer, especially when you have lots of Controllers &gt; 60.","body":"Have you resolved this yet. The 1 answer is not a good answer, especially when you have lots of Controllers &gt; 60."}],"answers":[{"comments":[{"owner":{"account_id":6593701,"reputation":856,"user_id":5094160,"accept_rate":100,"display_name":"Jurn"},"score":0,"creation_date":1693221261,"post_id":76987324,"comment_id":135727037,"body_markdown":"My application is open for everyone to use (it&#39;s an application for training purposes) so I do not know the origins of the user as they might use postman or other tools. Wildcards do not seem to work (When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot;)","body":"My application is open for everyone to use (it&#39;s an application for training purposes) so I do not know the origins of the user as they might use postman or other tools. Wildcards do not seem to work (When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot;)"},{"owner":{"account_id":6593701,"reputation":856,"user_id":5094160,"accept_rate":100,"display_name":"Jurn"},"score":0,"creation_date":1693222298,"post_id":76987324,"comment_id":135727254,"body_markdown":"I did try it though with defined origin, but to no luck :(","body":"I did try it though with defined origin, but to no luck :("}],"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1693190599,"creation_date":1693142717,"answer_id":76987324,"question_id":76987080,"body_markdown":"I had the same problem and was ultimately unable to solve it with httpSecurity.config\r\n\r\nI wound up taking `.cors()` out entirely, and put a `@CrossOrigin` annotation\r\non each controller class, e.g.\r\n\r\n    @CrossOrigin(origins = &quot;http://myurl&quot;, allowCredentials = &quot;true&quot;)\r\n\r\n\r\nNote that I&#39;m specifying an explicit URL here.\r\nI&#39;m not sure whether or not wildcards will work.","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>I had the same problem and was ultimately unable to solve it with httpSecurity.config</p>\n<p>I wound up taking <code>.cors()</code> out entirely, and put a <code>@CrossOrigin</code> annotation\non each controller class, e.g.</p>\n<pre><code>@CrossOrigin(origins = &quot;http://myurl&quot;, allowCredentials = &quot;true&quot;)\n</code></pre>\n<p>Note that I'm specifying an explicit URL here.\nI'm not sure whether or not wildcards will work.</p>\n"},{"tags":[],"owner":{"account_id":27289241,"reputation":11,"user_id":20807930,"display_name":"gdthegeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696843109,"creation_date":1696843109,"answer_id":77257605,"question_id":76987080,"body_markdown":"i tried configuring CORS the same way you did, using `http.cors(Customizer.withDefaults())` and `http.cors(c -&gt; c.configurationSource(corsConfigurationSource())` but both did not work. \r\n\r\nhowever, this works for me\r\n\r\n    http.cors(cors -&gt; cors.configurationSource(request -&gt; {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n            return configuration;\r\n        }));","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>i tried configuring CORS the same way you did, using <code>http.cors(Customizer.withDefaults())</code> and <code>http.cors(c -&gt; c.configurationSource(corsConfigurationSource())</code> but both did not work.</p>\n<p>however, this works for me</p>\n<pre><code>http.cors(cors -&gt; cors.configurationSource(request -&gt; {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        return configuration;\n    }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7880721,"reputation":124,"user_id":5954817,"display_name":"Denis Korolev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701675875,"creation_date":1701675875,"answer_id":77597862,"question_id":76987080,"body_markdown":"OPTIONS method should be allowed explicitly.\r\nTry adding in `.authorizeHttpRequests`:\r\n\r\n    .requestMatchers(\r\n            AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/comments/**&quot;),\r\n            AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/requests/admin/**&quot;)\r\n    ).permitAll()","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>OPTIONS method should be allowed explicitly.\nTry adding in <code>.authorizeHttpRequests</code>:</p>\n<pre><code>.requestMatchers(\n        AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/comments/**&quot;),\n        AntPathRequestMatcher.antMatcher(HttpMethod.OPTIONS, &quot;/requests/admin/**&quot;)\n).permitAll()\n</code></pre>\n"}],"owner":{"account_id":6593701,"reputation":856,"user_id":5094160,"accept_rate":100,"display_name":"Jurn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1701675875,"creation_date":1693138749,"question_id":76987080,"body_markdown":"I am currently struggling with Spring Security in my Spring Boot 3 applications. It was working in Spring Boot 2 but not since I tried to upgrade to version 3.\r\n\r\nMy authentication seems to work properly and the stuff that needs to be authenticated works. However when I do a preflight (OPTIONS) check it still returns me a 401 error.\r\n\r\n\r\nMy WebSecurityConfig:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n    @Bean\r\n        public SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .cors(Customizer.withDefaults())\r\n                    .csrf(c -&gt; c.disable())\r\n                    .authorizeHttpRequests(requests -&gt; requests\r\n                            .requestMatchers(\r\n                                AntPathRequestMatcher.antMatcher(&quot;/comments/**&quot;), \r\n                                AntPathRequestMatcher.antMatcher(&quot;/requests/admin/**&quot;)\r\n                            ).authenticated()\r\n                            .anyRequest().permitAll())\r\n                    .authenticationProvider(authenticationProvider())\r\n                    .exceptionHandling(r -&gt; r.authenticationEntryPoint(jwtAuthenticationEntryPoint))\r\n                    .sessionManagement(r -&gt; r.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    // Add a filter to validate the tokens with every request\r\n                    .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    ;\r\n            return httpSecurity.build();\r\n        }\r\n    }\r\n\r\n\r\nI tried using a CorsConfigurationSource bean, but with no luck \r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.applyPermitDefaultValues();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.addAllowedMethod(&quot;GET&quot;);\r\n        corsConfig.addAllowedMethod(&quot;PATCH&quot;);\r\n        corsConfig.addAllowedMethod(&quot;POST&quot;);\r\n        corsConfig.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        corsConfig.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        corsConfig.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\r\n        return source;\r\n    }\r\nAnd changed the `.cors(Customizer.withDefaults())` to `.cors(c -&gt; c.configurationSource(corsConfigurationSource())))` in the SecutiryFilterChain.\r\n\r\n\r\nA lot of links on the internet provide help on the issue but for SB2 instead of 3. ","title":"CORS in Spring Security (Spring Boot 3)","body":"<p>I am currently struggling with Spring Security in my Spring Boot 3 applications. It was working in Spring Boot 2 but not since I tried to upgrade to version 3.</p>\n<p>My authentication seems to work properly and the stuff that needs to be authenticated works. However when I do a preflight (OPTIONS) check it still returns me a 401 error.</p>\n<p>My WebSecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n@Bean\n    public SecurityFilterChain configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors(Customizer.withDefaults())\n                .csrf(c -&gt; c.disable())\n                .authorizeHttpRequests(requests -&gt; requests\n                        .requestMatchers(\n                            AntPathRequestMatcher.antMatcher(&quot;/comments/**&quot;), \n                            AntPathRequestMatcher.antMatcher(&quot;/requests/admin/**&quot;)\n                        ).authenticated()\n                        .anyRequest().permitAll())\n                .authenticationProvider(authenticationProvider())\n                .exceptionHandling(r -&gt; r.authenticationEntryPoint(jwtAuthenticationEntryPoint))\n                .sessionManagement(r -&gt; r.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                // Add a filter to validate the tokens with every request\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\n                ;\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p>I tried using a CorsConfigurationSource bean, but with no luck</p>\n<pre><code>@Bean\npublic CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.applyPermitDefaultValues();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.addAllowedMethod(&quot;GET&quot;);\n    corsConfig.addAllowedMethod(&quot;PATCH&quot;);\n    corsConfig.addAllowedMethod(&quot;POST&quot;);\n    corsConfig.addAllowedMethod(&quot;OPTIONS&quot;);\n    corsConfig.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    corsConfig.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfig);\n    return source;\n}\n</code></pre>\n<p>And changed the <code>.cors(Customizer.withDefaults())</code> to <code>.cors(c -&gt; c.configurationSource(corsConfigurationSource())))</code> in the SecutiryFilterChain.</p>\n<p>A lot of links on the internet provide help on the issue but for SB2 instead of 3.</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":15048193,"reputation":179,"user_id":10860636,"display_name":"Nidhi Savaliya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581136479,"creation_date":1581136479,"answer_id":60123953,"question_id":60123571,"body_markdown":"You can use another way to find fragment like this..\r\n\r\n    Fragment fragment = getSupportFragmentManager().findFragmentByTag(DetailsFragment .getClass().getName());\r\n\r\n    if (fragment != null &amp;&amp; fragment instanceof DetailsFragment ) {\r\n        //fragment to call DetailsFragment&#39;s method\r\n    }","title":"cast FrameLayout to Fragment","body":"<p>You can use another way to find fragment like this..</p>\n\n<pre><code>Fragment fragment = getSupportFragmentManager().findFragmentByTag(DetailsFragment .getClass().getName());\n\nif (fragment != null &amp;&amp; fragment instanceof DetailsFragment ) {\n    //fragment to call DetailsFragment's method\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29459025,"reputation":1,"user_id":22574206,"display_name":"GAREGIN VARDANYAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675133,"creation_date":1701674997,"answer_id":77597792,"question_id":60123571,"body_markdown":"\r\n# Other way is to store Fragment classes casting like this #\r\n`    Class&lt;? extends Fragment&gt; fragmentClass = AboutFragment.class;    `","title":"cast FrameLayout to Fragment","body":"<h1>Other way is to store Fragment classes casting like this</h1>\n<p><code>   Class&lt;? extends Fragment&gt; fragmentClass = AboutFragment.class;   </code></p>\n"}],"owner":{"account_id":11042694,"reputation":805,"user_id":8110010,"accept_rate":89,"display_name":"Finley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701675133,"creation_date":1581131145,"question_id":60123571,"body_markdown":"I am recently trying to understand a [sample](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java) about fragment. For this [line](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java#L144-L145), concretely:\r\n```\r\nDetailsFragment details = (DetailsFragment)getFragmentManager().findFragmentById(R.id.details);\r\n```\r\nwhere\r\n```\r\npublic static class DetailsFragment extends Fragment{\r\n...\r\n}\r\n```\r\nand the [layout.xml](https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/res/layout-land/fragment_layout.xml) is as follows:\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;fragment class=&quot;com.example.android.apis.app.FragmentLayout$TitlesFragment&quot;\r\n            android:id=&quot;@+id/titles&quot; android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;0px&quot; android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;FrameLayout android:id=&quot;@+id/details&quot; android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;0px&quot; android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;?android:attr/detailsElementBackground&quot; /&gt;\r\n    \r\n&lt;/LinearLayout&gt;\r\n```\r\nMy problem is why method `findFragmentById` that receives an argument of `FrameLayout` will return an object of `Fragment` in a way like type casting? However, `FrameLayout` extends `ViewGroup` and `Fragment` extends `java.lang.Object`, they do not share a common super class.","title":"cast FrameLayout to Fragment","body":"<p>I am recently trying to understand a <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java\" rel=\"nofollow noreferrer\">sample</a> about fragment. For this <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.java#L144-L145\" rel=\"nofollow noreferrer\">line</a>, concretely:</p>\n\n<pre><code>DetailsFragment details = (DetailsFragment)getFragmentManager().findFragmentById(R.id.details);\n</code></pre>\n\n<p>where</p>\n\n<pre><code>public static class DetailsFragment extends Fragment{\n...\n}\n</code></pre>\n\n<p>and the <a href=\"https://github.com/aosp-mirror/platform_development/blob/master/samples/ApiDemos/res/layout-land/fragment_layout.xml\" rel=\"nofollow noreferrer\">layout.xml</a> is as follows:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"horizontal\"\n    android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment class=\"com.example.android.apis.app.FragmentLayout$TitlesFragment\"\n            android:id=\"@+id/titles\" android:layout_weight=\"1\"\n            android:layout_width=\"0px\" android:layout_height=\"match_parent\" /&gt;\n\n    &lt;FrameLayout android:id=\"@+id/details\" android:layout_weight=\"1\"\n            android:layout_width=\"0px\" android:layout_height=\"match_parent\"\n            android:background=\"?android:attr/detailsElementBackground\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My problem is why method <code>findFragmentById</code> that receives an argument of <code>FrameLayout</code> will return an object of <code>Fragment</code> in a way like type casting? However, <code>FrameLayout</code> extends <code>ViewGroup</code> and <code>Fragment</code> extends <code>java.lang.Object</code>, they do not share a common super class.</p>\n"},{"tags":["java","hibernate","associations","criteria","alias"],"comments":[{"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"score":0,"creation_date":1325664440,"post_id":8719877,"comment_id":10861058,"body_markdown":"Why are you using **createCriteria(&quot;personAddress&quot;)** in the second query?","body":"Why are you using <b>createCriteria(&quot;personAddress&quot;)</b> in the second query?"},{"owner":{"account_id":985603,"reputation":87,"user_id":1004182,"accept_rate":50,"display_name":"catdog"},"score":0,"creation_date":1325664972,"post_id":8719877,"comment_id":10861176,"body_markdown":"I am using it because there is a property named **personAddress** in **Person** class and it is one end of the association to the **Address** class","body":"I am using it because there is a property named <b>personAddress</b> in <b>Person</b> class and it is one end of the association to the <b>Address</b> class"}],"answers":[{"tags":[],"owner":{"account_id":341169,"reputation":30706,"user_id":671619,"accept_rate":86,"display_name":"Firo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1701674255,"creation_date":1326388195,"answer_id":8839188,"question_id":8719877,"body_markdown":"`.setProjection(Projections.property(&quot;street&quot;))` always operates on the root criteria. To project joined items, you have to use the first version you posted.","title":"Hibernate association with createCriteria and createAlias","body":"<p><code>.setProjection(Projections.property(&quot;street&quot;))</code> always operates on the root criteria. To project joined items, you have to use the first version you posted.</p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1365088459,"creation_date":1364553269,"answer_id":15701562,"question_id":8719877,"body_markdown":"hibernate 3.3.2;\r\n\r\nlet us see code source :\r\n\r\n     public Criteria createAlias(String associationPath, String alias, int joinType) {\r\n\t\tnew Subcriteria( this, associationPath, alias, joinType );\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n\tpublic Criteria createCriteria(String associationPath, int joinType) {\r\n\t\treturn new Subcriteria( this, associationPath, joinType );\r\n\t}\r\n\r\n**createCriteria return sub Criteria ,so all the operation is on sub Criteria ;\r\nbut createAlias is return the criteria who create sub Criteria ;**\r\n\r\n\r\n\r\n**example 1.** \r\nAd manyToone adgroup ; all of them have &quot; name &quot;properties\r\n \r\n         Criteria criteria1    = s.createCriteria(Ad.class, &quot;ad&quot;).add(Restrictions.eq(&quot;ad.id&quot;, Long.valueOf(343909))) ;\r\n         Criteria criteria2    =  criteria1.createCriteria(&quot;adGroup&quot;)\r\n                        .setProjection(Projections.property(&quot;name&quot;))\r\n             List list  = criteria2.list();\r\n\r\n\r\n        List list = s.createCriteria(Ad.class, &quot;ad&quot;).add(Restrictions.eq(&quot;ad.id&quot;, Long.valueOf(343909)))\r\n                        .createAlias(&quot;adGroup&quot;, &quot;adGroup&quot;)\r\n                        .setProjection(Projections.property(&quot;name&quot;))\r\n                        .list();\r\nlet us say the name in adgroup is &quot; aaaa &quot;\r\nthe name in ad is &quot;bbbb&quot;\r\nin first statement  , &quot;name&quot; value of result is  from  adGroup entity = &quot; aaaa &quot;.\r\nin second statement , &quot;name&quot; value of result is  from   Ad entity &quot;bbbb&quot; .\r\n\r\nps1: if there is no &quot;name&quot; properties in adgroup entity ,but in ad entity, first statement will throw Exception: org.hibernate.QueryException: could not resolve property: name of: AdGroup ;\r\nbut if u change to &quot; .setProjection(Projections.property(&quot;ad.name&quot;)) &quot;,it will be fine returning the value of ad&#39;s name\r\n\r\n**ps2 :first statement call list() by criteria2 ,but hibernate will process from the root criteria = criteria1 ; so the final sql will contain &quot; where ad.id =343909 &quot; from criteria1 ;**\r\n\r\n\r\n\r\n**example  2.** \r\n\r\n\r\n![enter image description here][1]\r\n\r\nteacher oneToMany student \r\nstudent oneToMany student\r\n\r\n      List list1 = s.createCriteria(Teacher.class, &quot;teacher&quot;).add(Restrictions.eq(&quot;teacher.id&quot;, Long.valueOf(343909)))\r\n                        .createCriteria(&quot;students&quot;).createCriteria(&quot;books&quot;)\r\n                        .list();\r\n\r\n\r\n\r\n     List list2 = s.createCriteria(Teacher.class, &quot;teacher&quot;).add(Restrictions.eq(&quot;teacher.id&quot;, Long.valueOf(343909)))\r\n                        .createAlias(&quot;students&quot;).createCriteria(&quot;books&quot;).setProjection(Projections.property(&quot;name&quot;))\r\n                        .list();\r\n\r\n\r\nsecond statement will throw Exception: org.hibernate.QueryException: could not resolve property: books of: Teacher;\r\nbecause books is a property of student \r\n**that is difference between  createCriteria and createAlias ;** \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oUENr.jpg","title":"Hibernate association with createCriteria and createAlias","body":"<p>hibernate 3.3.2;</p>\n\n<p>let us see code source :</p>\n\n<pre><code> public Criteria createAlias(String associationPath, String alias, int joinType) {\n    new Subcriteria( this, associationPath, alias, joinType );\n    return this;\n}\n\n\npublic Criteria createCriteria(String associationPath, int joinType) {\n    return new Subcriteria( this, associationPath, joinType );\n}\n</code></pre>\n\n<p><strong>createCriteria return sub Criteria ,so all the operation is on sub Criteria ;\nbut createAlias is return the criteria who create sub Criteria ;</strong></p>\n\n<p><strong>example 1.</strong> \nAd manyToone adgroup ; all of them have \" name \"properties</p>\n\n<pre><code>     Criteria criteria1    = s.createCriteria(Ad.class, \"ad\").add(Restrictions.eq(\"ad.id\", Long.valueOf(343909))) ;\n     Criteria criteria2    =  criteria1.createCriteria(\"adGroup\")\n                    .setProjection(Projections.property(\"name\"))\n         List list  = criteria2.list();\n\n\n    List list = s.createCriteria(Ad.class, \"ad\").add(Restrictions.eq(\"ad.id\", Long.valueOf(343909)))\n                    .createAlias(\"adGroup\", \"adGroup\")\n                    .setProjection(Projections.property(\"name\"))\n                    .list();\n</code></pre>\n\n<p>let us say the name in adgroup is \" aaaa \"\nthe name in ad is \"bbbb\"\nin first statement  , \"name\" value of result is  from  adGroup entity = \" aaaa \".\nin second statement , \"name\" value of result is  from   Ad entity \"bbbb\" .</p>\n\n<p>ps1: if there is no \"name\" properties in adgroup entity ,but in ad entity, first statement will throw Exception: org.hibernate.QueryException: could not resolve property: name of: AdGroup ;\nbut if u change to \" .setProjection(Projections.property(\"ad.name\")) \",it will be fine returning the value of ad's name</p>\n\n<p><strong>ps2 :first statement call list() by criteria2 ,but hibernate will process from the root criteria = criteria1 ; so the final sql will contain \" where ad.id =343909 \" from criteria1 ;</strong></p>\n\n<p><strong>example  2.</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/oUENr.jpg\" alt=\"enter image description here\"></p>\n\n<p>teacher oneToMany student \nstudent oneToMany student</p>\n\n<pre><code>  List list1 = s.createCriteria(Teacher.class, \"teacher\").add(Restrictions.eq(\"teacher.id\", Long.valueOf(343909)))\n                    .createCriteria(\"students\").createCriteria(\"books\")\n                    .list();\n\n\n\n List list2 = s.createCriteria(Teacher.class, \"teacher\").add(Restrictions.eq(\"teacher.id\", Long.valueOf(343909)))\n                    .createAlias(\"students\").createCriteria(\"books\").setProjection(Projections.property(\"name\"))\n                    .list();\n</code></pre>\n\n<p>second statement will throw Exception: org.hibernate.QueryException: could not resolve property: books of: Teacher;\nbecause books is a property of student \n<strong>that is difference between  createCriteria and createAlias ;</strong> </p>\n"}],"owner":{"account_id":985603,"reputation":87,"user_id":1004182,"accept_rate":50,"display_name":"catdog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8839188,"answer_count":2,"score":1,"last_activity_date":1701674299,"creation_date":1325631733,"question_id":8719877,"body_markdown":"I have two simple mappings:\r\n\r\n    &lt;class name=&quot;org.testing.Person&quot; table=&quot;PERSON&quot;&gt;\r\n            &lt;id name=&quot;personId&quot; type=&quot;long&quot; column=&quot;PERSON_ID&quot;&gt;\r\n                &lt;generator class=&quot;native&quot;/&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;personName&quot; type=&quot;string&quot; not-null=&quot;true&quot; column=&quot;PERSON_NAME&quot;/&gt;\r\n            &lt;many-to-one name=&quot;personAddress&quot; class=&quot;org.testing.Address&quot; column=&quot;PERSON_ADDRESS&quot;    not-null=&quot;true&quot; cascade=&quot;all&quot; unique=&quot;true&quot;/&gt;\r\n    &lt;/class&gt;\r\n\r\nand\r\n\r\n    &lt;class name=&quot;org.testing.Address&quot; table=&quot;ADDRESS&quot;&gt;\r\n        &lt;id name=&quot;addressId&quot; type=&quot;long&quot; column=&quot;ADDRESS_ID&quot;&gt;\r\n            &lt;generator class=&quot;native&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;street&quot; column=&quot;ADDRESS_STREET&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;city&quot; column=&quot;ADDRESS_CITY&quot; type=&quot;string&quot; /&gt;\r\n        &lt;property name=&quot;state&quot; column=&quot;ADDRESS_STATE&quot; type=&quot;string&quot; /&gt;\r\n    &lt;/class&gt;\r\nI try to get property of the person address like this:\r\n\r\n    session.createCriteria(Person.class)\r\n                        .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\r\n                        .createAlias(&quot;personAddress&quot;, &quot;pa&quot;)\r\n                        .setProjection(Projections.property(&quot;pa.street&quot;))\r\n                        .list();\r\nand it works.\r\nThen like this:\r\n\r\n    session.createCriteria(Person.class)\r\n                        .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\r\n                        .createCriteria(&quot;personAddress&quot;)\r\n                        .setProjection(Projections.property(&quot;street&quot;))\r\n                        .list();\r\nand it throws: `org.hibernate.QueryException: could not resolve property: street of: org.testing.Person`. I assume both should give the same result. Where I am wrong?\r\nThanks in advance!","title":"Hibernate association with createCriteria and createAlias","body":"<p>I have two simple mappings:</p>\n<pre><code>&lt;class name=&quot;org.testing.Person&quot; table=&quot;PERSON&quot;&gt;\n        &lt;id name=&quot;personId&quot; type=&quot;long&quot; column=&quot;PERSON_ID&quot;&gt;\n            &lt;generator class=&quot;native&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;personName&quot; type=&quot;string&quot; not-null=&quot;true&quot; column=&quot;PERSON_NAME&quot;/&gt;\n        &lt;many-to-one name=&quot;personAddress&quot; class=&quot;org.testing.Address&quot; column=&quot;PERSON_ADDRESS&quot;    not-null=&quot;true&quot; cascade=&quot;all&quot; unique=&quot;true&quot;/&gt;\n&lt;/class&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;class name=&quot;org.testing.Address&quot; table=&quot;ADDRESS&quot;&gt;\n    &lt;id name=&quot;addressId&quot; type=&quot;long&quot; column=&quot;ADDRESS_ID&quot;&gt;\n        &lt;generator class=&quot;native&quot; /&gt;\n    &lt;/id&gt;\n    &lt;property name=&quot;street&quot; column=&quot;ADDRESS_STREET&quot; type=&quot;string&quot; /&gt;\n    &lt;property name=&quot;city&quot; column=&quot;ADDRESS_CITY&quot; type=&quot;string&quot; /&gt;\n    &lt;property name=&quot;state&quot; column=&quot;ADDRESS_STATE&quot; type=&quot;string&quot; /&gt;\n&lt;/class&gt;\n</code></pre>\n<p>I try to get property of the person address like this:</p>\n<pre><code>session.createCriteria(Person.class)\n                    .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\n                    .createAlias(&quot;personAddress&quot;, &quot;pa&quot;)\n                    .setProjection(Projections.property(&quot;pa.street&quot;))\n                    .list();\n</code></pre>\n<p>and it works.\nThen like this:</p>\n<pre><code>session.createCriteria(Person.class)\n                    .add(Restrictions.eq(&quot;personName&quot;, &quot;Frodo&quot;))\n                    .createCriteria(&quot;personAddress&quot;)\n                    .setProjection(Projections.property(&quot;street&quot;))\n                    .list();\n</code></pre>\n<p>and it throws: <code>org.hibernate.QueryException: could not resolve property: street of: org.testing.Person</code>. I assume both should give the same result. Where I am wrong?\nThanks in advance!</p>\n"},{"tags":["java","project-reactor","spring-boot-actuator","spring-micrometer"],"owner":{"account_id":22314599,"reputation":1,"user_id":16538132,"display_name":"hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701674266,"creation_date":1701674266,"question_id":77597734,"body_markdown":"I set up context Propagation when http request come in filter like below.\r\n\r\n```\r\npublic static &lt;T&gt; Mono&lt;T&gt; wrapMDC(Mono&lt;T&gt; mono, Map&lt;String, Object&gt; mdcMap) {\r\n        mdcMap.forEach((key, value) -&gt; registerMDC(key));\r\n        Hooks.enableAutomaticContextPropagation();\r\n        return Mono.defer(() -&gt; mono.contextWrite(Context.of(mdcMap)));\r\n    }\r\n\r\npublic static void registerMDC(String mdcKey) {\r\n        Supplier&lt;String&gt; getMDC = () -&gt; MDC.get(mdcKey);\r\n        Consumer&lt;String&gt; putMDC = value -&gt; MDC.put(mdcKey, value);\r\n        Runnable removeMDC = () -&gt; MDC.remove(mdcKey);\r\n\r\n        ContextRegistry.getInstance().registerThreadLocalAccessor(mdcKey, getMDC, putMDC, removeMDC);\r\n}\r\n```\r\nIt work fine when thread change by Mono.delay(Duration), but this below code don&#39;t work, MDC lose any context that I put above.\r\n```\r\nprivate final KafkaSender&lt;String, String&gt; kafkaPublisher;\r\n\r\n    public Mono&lt;SenderResult&lt;String&gt;&gt; sendMessage(\r\n            String messageKey, CbsPaymentRequest message, String topic) {\r\n        ProducerRecord&lt;String, CbsPaymentRequest&gt; record = new ProducerRecord&lt;&gt;(topic, messageKey, message);\r\n        return Mono.defer(\r\n                () -&gt; {\r\n                    log.info(&quot;MDC context map still here&quot;);\r\n\r\n                    return kafkaPublisher\r\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\r\n                            .doOnNext(\r\n                                    r -&gt; {\r\n                                        \r\n                                        log.info(&quot;MDC context map EMPTY&quot;);\r\n                                    })\r\n                            .next();\r\n                });\r\n    }\r\n```\r\nIn doOnNext(), when I use MDC.getCopyOfContextMap(), it&#39;s empty.\r\n\r\nWhy it don&#39;t propagate context here, please help me, thank you !!\r\n\r\n\r\nI try this and it can to get the map of MDC, but I don&#39;t make sure MDC will don&#39;t polute.\r\n```\r\nreturn kafkaPublisher\r\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\r\n                          **.contextCapture()**\r\n                            .doOnNext(\r\n                                    r -&gt; {\r\n                                        \r\n                                        log.info(&quot;MDC is propagated&quot;);\r\n                                    })\r\n                            .next();\r\n```","title":"ContextProgation don&#39;t work with doOnNext() after KafkaSender.send()","body":"<p>I set up context Propagation when http request come in filter like below.</p>\n<pre><code>public static &lt;T&gt; Mono&lt;T&gt; wrapMDC(Mono&lt;T&gt; mono, Map&lt;String, Object&gt; mdcMap) {\n        mdcMap.forEach((key, value) -&gt; registerMDC(key));\n        Hooks.enableAutomaticContextPropagation();\n        return Mono.defer(() -&gt; mono.contextWrite(Context.of(mdcMap)));\n    }\n\npublic static void registerMDC(String mdcKey) {\n        Supplier&lt;String&gt; getMDC = () -&gt; MDC.get(mdcKey);\n        Consumer&lt;String&gt; putMDC = value -&gt; MDC.put(mdcKey, value);\n        Runnable removeMDC = () -&gt; MDC.remove(mdcKey);\n\n        ContextRegistry.getInstance().registerThreadLocalAccessor(mdcKey, getMDC, putMDC, removeMDC);\n}\n</code></pre>\n<p>It work fine when thread change by Mono.delay(Duration), but this below code don't work, MDC lose any context that I put above.</p>\n<pre><code>private final KafkaSender&lt;String, String&gt; kafkaPublisher;\n\n    public Mono&lt;SenderResult&lt;String&gt;&gt; sendMessage(\n            String messageKey, CbsPaymentRequest message, String topic) {\n        ProducerRecord&lt;String, CbsPaymentRequest&gt; record = new ProducerRecord&lt;&gt;(topic, messageKey, message);\n        return Mono.defer(\n                () -&gt; {\n                    log.info(&quot;MDC context map still here&quot;);\n\n                    return kafkaPublisher\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\n                            .doOnNext(\n                                    r -&gt; {\n                                        \n                                        log.info(&quot;MDC context map EMPTY&quot;);\n                                    })\n                            .next();\n                });\n    }\n</code></pre>\n<p>In doOnNext(), when I use MDC.getCopyOfContextMap(), it's empty.</p>\n<p>Why it don't propagate context here, please help me, thank you !!</p>\n<p>I try this and it can to get the map of MDC, but I don't make sure MDC will don't polute.</p>\n<pre><code>return kafkaPublisher\n                            .send(Mono.just(SenderRecord.create(record, messageKey)))\n                          **.contextCapture()**\n                            .doOnNext(\n                                    r -&gt; {\n                                        \n                                        log.info(&quot;MDC is propagated&quot;);\n                                    })\n                            .next();\n</code></pre>\n"},{"tags":["java","manifest.mf"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1701675145,"post_id":77597668,"comment_id":136800478,"body_markdown":"see the [JAR File Specification](https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html#class-path-attribute) || The class loader uses the CLASSPATH to find the classes/resources - the specification does NOT mention anything about `*`, which confirms your results (it does not work)","body":"see the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">JAR File Specification</a> || The class loader uses the CLASSPATH to find the classes/resources - the specification does NOT mention anything about <code>*</code>, which confirms your results (it does not work)"}],"owner":{"account_id":30060025,"reputation":1,"user_id":23036339,"display_name":"BLACK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701673332,"creation_date":1701673332,"question_id":77597668,"body_markdown":"I have a question,who can talk with me? In the Manifest.MF file. Which moudle execute the Class-path? Is it JVM? And can the Class-path support wildcards?\r\n\r\nsuch as the &quot;*&quot; symbol, i tried, but it didn&#39;t work! Thanks ,my English is not well.","title":"MANIFEST. Does the Class-path in the MF file support wildcards?","body":"<p>I have a question,who can talk with me? In the Manifest.MF file. Which moudle execute the Class-path? Is it JVM? And can the Class-path support wildcards?</p>\n<p>such as the &quot;*&quot; symbol, i tried, but it didn't work! Thanks ,my English is not well.</p>\n"},{"tags":["java","spring","exception","transactions","rollback"],"comments":[{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1649225593,"post_id":5933947,"comment_id":126818628,"body_markdown":"could it be that as with time, there is more and more data that this transaction sifts through and the queries etc. are taking longer than earlier. Especially since there is no change in the code. This could be  plausible","body":"could it be that as with time, there is more and more data that this transaction sifts through and the queries etc. are taking longer than earlier. Especially since there is no change in the code. This could be  plausible"}],"answers":[{"tags":[],"owner":{"account_id":89589,"reputation":21149,"user_id":247090,"accept_rate":79,"display_name":"drekka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304927278,"creation_date":1304927278,"answer_id":5934011,"question_id":5933947,"body_markdown":"I&#39;m seeing a mention of a quartz job in the stacktrace. Looks like something has setup a periodic job and the AOP transaction management has picked up on it.","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>I'm seeing a mention of a quartz job in the stacktrace. Looks like something has setup a periodic job and the AOP transaction management has picked up on it.</p>\n"},{"tags":[],"owner":{"account_id":129943,"reputation":21020,"user_id":328862,"accept_rate":50,"display_name":"Gursel Koca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304927340,"creation_date":1304927340,"answer_id":5934022,"question_id":5933947,"body_markdown":"It looks like your transaction lasts than transaction timeout limit. You should increase transaction timeout limit.. \r\n\r\nBut I am not sure about that, you should post more stack trace to understand the reason of rollback.","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>It looks like your transaction lasts than transaction timeout limit. You should increase transaction timeout limit.. </p>\n\n<p>But I am not sure about that, you should post more stack trace to understand the reason of rollback.</p>\n"}],"owner":{"account_id":207189,"reputation":1597,"user_id":456917,"accept_rate":39,"display_name":"Ashish Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701673320,"creation_date":1304926760,"question_id":5933947,"body_markdown":"I am getting `UnexpectedRollbackException`. Here is the complete stack trace:\r\n\r\n    org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException\r\n        at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1031)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:732)\r\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:701)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:321)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:635)\r\n        at com.cmates.userIcon.service.IconUpdaterServiceImpl$$EnhancerByCGLIB$$78838aa7.persist(&lt;generated&gt;)\r\n        at com.cmates.userIcon.service.ScheduledIconUpdaterServiceImpl.doScheduledTask(ScheduledIconUpdaterServiceImpl.java:125)\r\n        at com.cmates.profile.services.IconSyncSingletonImpl.process(IconSyncSingletonImpl.java:121)\r\n        at com.cmates.profile.services.IconSyncJob.executeInternal(IconSyncJob.java:25)\r\n        at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)\r\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\r\n    Caused by: javax.transaction.RollbackException\r\n        at org.objectweb.jotm.TransactionImpl.commit(TransactionImpl.java:245)\r\n        at org.objectweb.jotm.Current.commit(Current.java:488)\r\n        at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1028)\r\n        ... 13 more\r\n    [18 Apr 2011 00:54:00,590] ERROR ErrorLogger - Job (DEFAULT.iconSyncJob threw an exception.\r\n                                                               \r\n\r\nThis Exception suddenly started showing in my logs. I didn&#39;t made any changes in my code.  \r\nI guess this might be due to a timeout?","title":"JTA transaction unexpectedly rolled back, nested exception is javax.transaction.RollbackException","body":"<p>I am getting <code>UnexpectedRollbackException</code>. Here is the complete stack trace:</p>\n\n<pre><code>org.springframework.transaction.UnexpectedRollbackException: JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is javax.transaction.RollbackException\n    at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1031)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:732)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:701)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:321)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)\n    at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:635)\n    at com.cmates.userIcon.service.IconUpdaterServiceImpl$$EnhancerByCGLIB$$78838aa7.persist(&lt;generated&gt;)\n    at com.cmates.userIcon.service.ScheduledIconUpdaterServiceImpl.doScheduledTask(ScheduledIconUpdaterServiceImpl.java:125)\n    at com.cmates.profile.services.IconSyncSingletonImpl.process(IconSyncSingletonImpl.java:121)\n    at com.cmates.profile.services.IconSyncJob.executeInternal(IconSyncJob.java:25)\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:525)\nCaused by: javax.transaction.RollbackException\n    at org.objectweb.jotm.TransactionImpl.commit(TransactionImpl.java:245)\n    at org.objectweb.jotm.Current.commit(Current.java:488)\n    at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1028)\n    ... 13 more\n[18 Apr 2011 00:54:00,590] ERROR ErrorLogger - Job (DEFAULT.iconSyncJob threw an exception.\n</code></pre>\n\n<p>This Exception suddenly started showing in my logs. I didn't made any changes in my code.<br>\nI guess this might be due to a timeout?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1701612897,"post_id":77594476,"comment_id":136794953,"body_markdown":"What I think you&#39;re asking for is not simple.  Even creating one English alphabet letter, like J, in a multitude of sizes is not trivial.  One general approach would probably be to create a `BufferedImage` of the initials, then create a raster of the `BufferedImage` pixels and print the raster using the specified character.","body":"What I think you&#39;re asking for is not simple.  Even creating one English alphabet letter, like J, in a multitude of sizes is not trivial.  One general approach would probably be to create a <code>BufferedImage</code> of the initials, then create a raster of the <code>BufferedImage</code> pixels and print the raster using the specified character."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701613468,"post_id":77594476,"comment_id":136795020,"body_markdown":"*not simple*. Worse - it&#39;s not possible ;) What if the size were 1? See Unix &#39;banner&#39; and &#39;figlet&#39;","body":"<i>not simple</i>. Worse - it&#39;s not possible ;) What if the size were 1? See Unix &#39;banner&#39; and &#39;figlet&#39;"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701673191,"creation_date":1701673191,"answer_id":77597657,"question_id":77594476,"body_markdown":"Off hand, there are at least two ways you can possibly do this. Create your own alphabet within a 2D Array (or several 2D Arrays for different sizes of letters) or, as already mentioned in comments, create a **BufferedImage** of the initials, then create a raster of the **BufferedImage** pixels and print the raster using the specified character (in your case, the asterisk). Creating a **BufferedImage** allows you to actually set a Font and Font Size which can change the look of the characters printed to the Console Window.\r\n\r\n**Create your own Alphabet** (read comments in code):\r\n\r\n    /* Create the Alphabet (in upper case) within a 2D Array:\r\n       This alphabet is 5 characters wide by 5 characters deep \r\n       with the exception of the `W` which is 7 characters wide\r\n       by 5 characters deep. The `J` is also off a little as it\r\n       is 6 characters wide by 5 characters deep. Of course the \r\n       alphabet can be modified to whatever you like. \r\n    */\r\n    String[][] letters5x5 = {\r\n        // A\r\n        {&quot;  *  &quot;,\r\n         &quot; * * &quot;,\r\n         &quot;*****&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // B\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;\r\n        },\r\n        // C\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // D\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;   \r\n        },\r\n        // E\r\n        {&quot;*****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;***  &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*****&quot;   \r\n        },\r\n        // F\r\n        {&quot;*****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;***  &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;   \r\n        },\r\n        // G\r\n        {&quot; ****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot;* ***&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // H\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*****&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;   \r\n        },\r\n        // I\r\n        {&quot;*****&quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;*****&quot;   \r\n        },\r\n        // J\r\n        {&quot; *****&quot;,\r\n         &quot;   *  &quot;,\r\n         &quot;   *  &quot;,\r\n         &quot;*  *  &quot;,\r\n         &quot;****  &quot;   \r\n        },\r\n        // K\r\n        {&quot;*   *&quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;**   &quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;*   *&quot;   \r\n        },\r\n        // L\r\n        {&quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*****&quot;   \r\n        },   \r\n        // M\r\n        {&quot;*   *&quot;,\r\n         &quot;** **&quot;,\r\n         &quot;* * *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;   \r\n        },   \r\n        // N\r\n        {&quot;*   *&quot;,\r\n         &quot;**  *&quot;,\r\n         &quot;* * *&quot;,\r\n         &quot;*  **&quot;,\r\n         &quot;*   *&quot;   \r\n        }, \r\n        // O\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;\r\n        },\r\n        // P\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;*    &quot;,\r\n         &quot;*    &quot;\r\n        },\r\n        // Q\r\n        {&quot; *** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; *** &quot;,\r\n         &quot;    *&quot;\r\n        },\r\n        // R\r\n        {&quot;**** &quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;**** &quot;,\r\n         &quot;* *  &quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // S\r\n        {&quot; ****&quot;,\r\n         &quot;*    &quot;,\r\n         &quot; *** &quot;,\r\n         &quot;    *&quot;,\r\n         &quot;**** &quot;\r\n        },\r\n        // T\r\n        {&quot;*****&quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // U\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*****&quot;\r\n        },\r\n        // V\r\n        {&quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // W\r\n        {&quot;*     *&quot;,\r\n         &quot;*     *&quot;,\r\n         &quot;*  *  *&quot;,\r\n         &quot; * * * &quot;,\r\n         &quot;  * *  &quot;\r\n        },\r\n        // X\r\n        {&quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot; * * &quot;,\r\n         &quot;*   *&quot;\r\n        },\r\n        // Y\r\n        {&quot;*   *&quot;,\r\n         &quot; * * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot;  *  &quot;\r\n        },\r\n        // Z\r\n        {&quot;*****&quot;,\r\n         &quot;   * &quot;,\r\n         &quot;  *  &quot;,\r\n         &quot; *   &quot;,\r\n         &quot;*****&quot;\r\n        },\r\n    };\r\n        \r\n    // Open a keyboard input stream:\r\n    java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    String ls = System.lineSeparator();  // System&#39;s newline character sequence:\r\n        \r\n    // Get User&#39;s FULL Name (First (middle?) Last):\r\n    String name = &quot;&quot;;\r\n    while (name.isEmpty()) {\r\n        System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\r\n        name = userInput.nextLine().trim();\r\n        if (name.equalsIgnoreCase(&quot;q&quot;)) {\r\n            System.out.println(&quot;Quiting - Bye Bye!&quot;);\r\n            return;\r\n        }\r\n        else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\r\n            System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\r\n                    + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\r\n            name = &quot;&quot;;\r\n        }\r\n    }\r\n        \r\n    /* Abbreviate the supplied User Name to character \r\n       initials (in upper case):        */\r\n    name = abbreviateName(name);\r\n      \r\n    // Determine the letters required from `letters` array:\r\n    String[] abbrevParts = name.split(&quot;&quot;);\r\n    String[][] neededArtLetters = new String[abbrevParts.length][];\r\n    int lettersIndexValue;\r\n    for (int i = 0; i &lt; abbrevParts.length; i++) {\r\n        lettersIndexValue = abbrevParts[i].charAt(0) - 65;\r\n        neededArtLetters[i] = Arrays.copyOf(letters5x5[lettersIndexValue], \r\n                                    letters5x5[lettersIndexValue].length);\r\n    }\r\n        \r\n    /* Print the determined letters from the `letters` 2D\r\n       array (now contained within the `neededArtLetters`\r\n       2D Array) to the Console Window. A nested `for`\r\n       loop is required for this but first, we make sure\r\n       the `neededArtLetters` 2D array actually contains \r\n       something otherwise, nothing gets printed:      */\r\n    if(neededArtLetters.length &gt; 0){\r\n        for(int i = 0; i &lt; neededArtLetters[0].length; i++){\r\n            for(int j = 0;j &lt; neededArtLetters.length; j++){\r\n                System.out.print(neededArtLetters[j][i] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    // Done!\r\n\r\n**The `abbreviateName()` Method:**\r\n\r\n    /**\r\n     * Abbreviates a full name (or String) to upper case initials.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param nameString (String) The full name (or string) to abbreviate.&lt;br&gt;\r\n     * \r\n     * @param characterbetweenLetters (Optional - String varArg) The desired \r\n     * character to be added after each initial character. Usually this would \r\n     * be either a period or whitespace, but can be anything or nothing at all.&lt;br&gt;\r\n     * \r\n     * @return (String) An abbreviated version of the supplied `nameString` \r\n     * argument.\r\n     */\r\n    public static String abbreviateName(String nameString, String... characterbetweenLetters) {\r\n        if (nameString == null || nameString.isEmpty()) {\r\n            return nameString;\r\n        }\r\n        String characterString = &quot;&quot;;\r\n        if (characterbetweenLetters.length &gt; 0) {\r\n            characterString = characterbetweenLetters[0];\r\n        }\r\n        return java.util.Arrays.stream(nameString.split(&quot;\\\\s+&quot;))\r\n                .map(t -&gt; t.substring(0, 1).toUpperCase())\r\n                .collect(java.util.stream.Collectors.joining(characterString));\r\n    }\r\n\r\n**Console Output:**\r\n```\r\nPlease enter your name (q to quit): -&gt; Fred Flintstone\r\n***** ***** \r\n*     *     \r\n***   ***   \r\n*     *     \r\n*     *     \r\n```\r\n\r\n----------\r\n\r\n**Using BufferedImage:**\r\n\r\n    /**\r\n     * This method will take the supplied text and generate a ASCII Art banner\r\n     * of that text and place it into a String[] Array. Once the Array is\r\n     * returned you can iterate through it and save the contents to a text file\r\n     * or display it within a Console Window.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     *  {@code \r\n     *   Font font = new Font(&quot;Dialog&quot;, Font.PLAIN, 24);\r\n     *      String text = &quot;Hello World&quot;;\r\n     *      String[] s  = stringToConsoleBanner(text, font, &quot;*&quot;);\r\n     *      for (int i = 0; i &lt; s.length; i++) {\r\n     *          System.out.println(s[i]);\r\n     *      }\r\n     *  }&lt;/pre&gt;\r\n     *\r\n     * @param inputString (String) The string you want to convert to Banner text.&lt;br&gt;\r\n     *\r\n     * @param font (Font) The font you want your ASCII text to look like.&lt;br&gt;\r\n     *\r\n     * @param fromCharacter (String) The character you want to use for pixels.&lt;br&gt;\r\n     *\r\n     * @return (String[] Array)\r\n     */\r\n    public static String[] stringToConsoleBanner(String inputString, java.awt.Font font, String fromCharacter) {\r\n        java.awt.image.BufferedImage image = \r\n                new java.awt.image.BufferedImage(144, 32, java.awt.image.BufferedImage.TYPE_INT_RGB);\r\n        java.awt.Graphics g = image.getGraphics();\r\n        \r\n        /* If the supplied Font argument is null then the default font of \r\n           SansSerif will be used as Font.Plain and a size of 24!      */\r\n        g.setFont(font == null ? new java.awt.Font(&quot;SansSerif&quot;, java.awt.Font.PLAIN, 24) : font);\r\n        java.awt.Graphics2D graphics = (java.awt.Graphics2D) g;\r\n        graphics.setRenderingHint(java.awt.RenderingHints.KEY_TEXT_ANTIALIASING,\r\n                                    java.awt.RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n        graphics.drawString(inputString, 0, 24);\r\n\r\n        java.util.List&lt;String&gt; list = new java.util.ArrayList&lt;&gt;();\r\n        for (int y = 0; y &lt; 32; y++) {\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            for (int x = 0; x &lt; 144; x++) {\r\n                sb.append(image.getRGB(x, y) == -16777216 ? &quot; &quot; : \r\n                        image.getRGB(x, y) == -1 ? fromCharacter : fromCharacter);\r\n            }\r\n            if (sb.toString().trim().isEmpty()) {\r\n                continue;\r\n            }\r\n\r\n            list.add(sb.toString());\r\n        }\r\n        return list.toArray(new String[0]);\r\n    }\r\n\r\n**Method Use:**\r\n\r\n    // Open a keyboard input stream:\r\n    java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n    String ls = System.lineSeparator();  // System&#39;s newline character sequence:\r\n        \r\n    // Get User&#39;s FULL Name (First (middle?) Last):\r\n    String name = &quot;&quot;;\r\n    while (name.isEmpty()) {\r\n        System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\r\n        name = userInput.nextLine().trim();\r\n        if (name.equalsIgnoreCase(&quot;q&quot;)) {\r\n            System.out.println(&quot;Quiting - Bye Bye!&quot;);\r\n            return;\r\n        }\r\n        else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\r\n            System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\r\n                    + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\r\n            name = &quot;&quot;;\r\n        }\r\n    }\r\n        \r\n    /* Abbreviate the supplied User Name to character \r\n       initials (in upper case):        */\r\n    name = abbreviateName(name);\r\n      \r\n    java.awt.Font font = new java.awt.Font(&quot;Courior New&quot;, java.awt.Font.PLAIN, 11);\r\n    String[] s = stringToConsoleBanner(name, font, &quot;*&quot;);\r\n    for (String str : s) {\r\n        System.out.println(str);\r\n    }\r\n    // Done!\r\n\r\nSee above for the `abbreviateName()` method.\r\n\r\n**Console Output:**\r\n```\r\nPlease enter your name (q to quit): -&gt; Fred Flintstone\r\n***** *****                                                                                                                                     \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n****  ****                                                                                                                                      \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n*     *                                                                                                                                         \r\n*     *    \r\n```","title":"I need to create a program that prints MY initials always no matter the size","body":"<p>Off hand, there are at least two ways you can possibly do this. Create your own alphabet within a 2D Array (or several 2D Arrays for different sizes of letters) or, as already mentioned in comments, create a <strong>BufferedImage</strong> of the initials, then create a raster of the <strong>BufferedImage</strong> pixels and print the raster using the specified character (in your case, the asterisk). Creating a <strong>BufferedImage</strong> allows you to actually set a Font and Font Size which can change the look of the characters printed to the Console Window.</p>\n<p><strong>Create your own Alphabet</strong> (read comments in code):</p>\n<pre><code>/* Create the Alphabet (in upper case) within a 2D Array:\n   This alphabet is 5 characters wide by 5 characters deep \n   with the exception of the `W` which is 7 characters wide\n   by 5 characters deep. The `J` is also off a little as it\n   is 6 characters wide by 5 characters deep. Of course the \n   alphabet can be modified to whatever you like. \n*/\nString[][] letters5x5 = {\n    // A\n    {&quot;  *  &quot;,\n     &quot; * * &quot;,\n     &quot;*****&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;\n    },\n    // B\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;\n    },\n    // C\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*    &quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // D\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;   \n    },\n    // E\n    {&quot;*****&quot;,\n     &quot;*    &quot;,\n     &quot;***  &quot;,\n     &quot;*    &quot;,\n     &quot;*****&quot;   \n    },\n    // F\n    {&quot;*****&quot;,\n     &quot;*    &quot;,\n     &quot;***  &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;   \n    },\n    // G\n    {&quot; ****&quot;,\n     &quot;*    &quot;,\n     &quot;* ***&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // H\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*****&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;   \n    },\n    // I\n    {&quot;*****&quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;*****&quot;   \n    },\n    // J\n    {&quot; *****&quot;,\n     &quot;   *  &quot;,\n     &quot;   *  &quot;,\n     &quot;*  *  &quot;,\n     &quot;****  &quot;   \n    },\n    // K\n    {&quot;*   *&quot;,\n     &quot;* *  &quot;,\n     &quot;**   &quot;,\n     &quot;* *  &quot;,\n     &quot;*   *&quot;   \n    },\n    // L\n    {&quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;,\n     &quot;*****&quot;   \n    },   \n    // M\n    {&quot;*   *&quot;,\n     &quot;** **&quot;,\n     &quot;* * *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;   \n    },   \n    // N\n    {&quot;*   *&quot;,\n     &quot;**  *&quot;,\n     &quot;* * *&quot;,\n     &quot;*  **&quot;,\n     &quot;*   *&quot;   \n    }, \n    // O\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;\n    },\n    // P\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;*    &quot;,\n     &quot;*    &quot;\n    },\n    // Q\n    {&quot; *** &quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; *** &quot;,\n     &quot;    *&quot;\n    },\n    // R\n    {&quot;**** &quot;,\n     &quot;*   *&quot;,\n     &quot;**** &quot;,\n     &quot;* *  &quot;,\n     &quot;*   *&quot;\n    },\n    // S\n    {&quot; ****&quot;,\n     &quot;*    &quot;,\n     &quot; *** &quot;,\n     &quot;    *&quot;,\n     &quot;**** &quot;\n    },\n    // T\n    {&quot;*****&quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;\n    },\n    // U\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*****&quot;\n    },\n    // V\n    {&quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;\n    },\n    // W\n    {&quot;*     *&quot;,\n     &quot;*     *&quot;,\n     &quot;*  *  *&quot;,\n     &quot; * * * &quot;,\n     &quot;  * *  &quot;\n    },\n    // X\n    {&quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;,\n     &quot; * * &quot;,\n     &quot;*   *&quot;\n    },\n    // Y\n    {&quot;*   *&quot;,\n     &quot; * * &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;,\n     &quot;  *  &quot;\n    },\n    // Z\n    {&quot;*****&quot;,\n     &quot;   * &quot;,\n     &quot;  *  &quot;,\n     &quot; *   &quot;,\n     &quot;*****&quot;\n    },\n};\n    \n// Open a keyboard input stream:\njava.util.Scanner userInput = new java.util.Scanner(System.in);\nString ls = System.lineSeparator();  // System's newline character sequence:\n    \n// Get User's FULL Name (First (middle?) Last):\nString name = &quot;&quot;;\nwhile (name.isEmpty()) {\n    System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\n    name = userInput.nextLine().trim();\n    if (name.equalsIgnoreCase(&quot;q&quot;)) {\n        System.out.println(&quot;Quiting - Bye Bye!&quot;);\n        return;\n    }\n    else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\n        System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\n                + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\n        name = &quot;&quot;;\n    }\n}\n    \n/* Abbreviate the supplied User Name to character \n   initials (in upper case):        */\nname = abbreviateName(name);\n  \n// Determine the letters required from `letters` array:\nString[] abbrevParts = name.split(&quot;&quot;);\nString[][] neededArtLetters = new String[abbrevParts.length][];\nint lettersIndexValue;\nfor (int i = 0; i &lt; abbrevParts.length; i++) {\n    lettersIndexValue = abbrevParts[i].charAt(0) - 65;\n    neededArtLetters[i] = Arrays.copyOf(letters5x5[lettersIndexValue], \n                                letters5x5[lettersIndexValue].length);\n}\n    \n/* Print the determined letters from the `letters` 2D\n   array (now contained within the `neededArtLetters`\n   2D Array) to the Console Window. A nested `for`\n   loop is required for this but first, we make sure\n   the `neededArtLetters` 2D array actually contains \n   something otherwise, nothing gets printed:      */\nif(neededArtLetters.length &gt; 0){\n    for(int i = 0; i &lt; neededArtLetters[0].length; i++){\n        for(int j = 0;j &lt; neededArtLetters.length; j++){\n            System.out.print(neededArtLetters[j][i] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n// Done!\n</code></pre>\n<p><strong>The <code>abbreviateName()</code> Method:</strong></p>\n<pre><code>/**\n * Abbreviates a full name (or String) to upper case initials.&lt;br&gt;&lt;br&gt;\n * \n * @param nameString (String) The full name (or string) to abbreviate.&lt;br&gt;\n * \n * @param characterbetweenLetters (Optional - String varArg) The desired \n * character to be added after each initial character. Usually this would \n * be either a period or whitespace, but can be anything or nothing at all.&lt;br&gt;\n * \n * @return (String) An abbreviated version of the supplied `nameString` \n * argument.\n */\npublic static String abbreviateName(String nameString, String... characterbetweenLetters) {\n    if (nameString == null || nameString.isEmpty()) {\n        return nameString;\n    }\n    String characterString = &quot;&quot;;\n    if (characterbetweenLetters.length &gt; 0) {\n        characterString = characterbetweenLetters[0];\n    }\n    return java.util.Arrays.stream(nameString.split(&quot;\\\\s+&quot;))\n            .map(t -&gt; t.substring(0, 1).toUpperCase())\n            .collect(java.util.stream.Collectors.joining(characterString));\n}\n</code></pre>\n<p><strong>Console Output:</strong></p>\n<pre><code>Please enter your name (q to quit): -&gt; Fred Flintstone\n***** ***** \n*     *     \n***   ***   \n*     *     \n*     *     \n</code></pre>\n<hr />\n<p><strong>Using BufferedImage:</strong></p>\n<pre><code>/**\n * This method will take the supplied text and generate a ASCII Art banner\n * of that text and place it into a String[] Array. Once the Array is\n * returned you can iterate through it and save the contents to a text file\n * or display it within a Console Window.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n *  {@code \n *   Font font = new Font(&quot;Dialog&quot;, Font.PLAIN, 24);\n *      String text = &quot;Hello World&quot;;\n *      String[] s  = stringToConsoleBanner(text, font, &quot;*&quot;);\n *      for (int i = 0; i &lt; s.length; i++) {\n *          System.out.println(s[i]);\n *      }\n *  }&lt;/pre&gt;\n *\n * @param inputString (String) The string you want to convert to Banner text.&lt;br&gt;\n *\n * @param font (Font) The font you want your ASCII text to look like.&lt;br&gt;\n *\n * @param fromCharacter (String) The character you want to use for pixels.&lt;br&gt;\n *\n * @return (String[] Array)\n */\npublic static String[] stringToConsoleBanner(String inputString, java.awt.Font font, String fromCharacter) {\n    java.awt.image.BufferedImage image = \n            new java.awt.image.BufferedImage(144, 32, java.awt.image.BufferedImage.TYPE_INT_RGB);\n    java.awt.Graphics g = image.getGraphics();\n    \n    /* If the supplied Font argument is null then the default font of \n       SansSerif will be used as Font.Plain and a size of 24!      */\n    g.setFont(font == null ? new java.awt.Font(&quot;SansSerif&quot;, java.awt.Font.PLAIN, 24) : font);\n    java.awt.Graphics2D graphics = (java.awt.Graphics2D) g;\n    graphics.setRenderingHint(java.awt.RenderingHints.KEY_TEXT_ANTIALIASING,\n                                java.awt.RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n    graphics.drawString(inputString, 0, 24);\n\n    java.util.List&lt;String&gt; list = new java.util.ArrayList&lt;&gt;();\n    for (int y = 0; y &lt; 32; y++) {\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\n        for (int x = 0; x &lt; 144; x++) {\n            sb.append(image.getRGB(x, y) == -16777216 ? &quot; &quot; : \n                    image.getRGB(x, y) == -1 ? fromCharacter : fromCharacter);\n        }\n        if (sb.toString().trim().isEmpty()) {\n            continue;\n        }\n\n        list.add(sb.toString());\n    }\n    return list.toArray(new String[0]);\n}\n</code></pre>\n<p><strong>Method Use:</strong></p>\n<pre><code>// Open a keyboard input stream:\njava.util.Scanner userInput = new java.util.Scanner(System.in);\nString ls = System.lineSeparator();  // System's newline character sequence:\n    \n// Get User's FULL Name (First (middle?) Last):\nString name = &quot;&quot;;\nwhile (name.isEmpty()) {\n    System.out.print(&quot;Please enter your name (q to quit): -&gt; &quot;);\n    name = userInput.nextLine().trim();\n    if (name.equalsIgnoreCase(&quot;q&quot;)) {\n        System.out.println(&quot;Quiting - Bye Bye!&quot;);\n        return;\n    }\n    else if (name.replaceAll(&quot;(?i)[a-z ]&quot;, &quot;&quot;).length() &gt; 0) {\n        System.out.println(&quot;Invalid Name Entry (&quot; + name + &quot;)! &quot;\n                + &quot;Only alphabetic characters! Try agsin...&quot; + ls);\n        name = &quot;&quot;;\n    }\n}\n    \n/* Abbreviate the supplied User Name to character \n   initials (in upper case):        */\nname = abbreviateName(name);\n  \njava.awt.Font font = new java.awt.Font(&quot;Courior New&quot;, java.awt.Font.PLAIN, 11);\nString[] s = stringToConsoleBanner(name, font, &quot;*&quot;);\nfor (String str : s) {\n    System.out.println(str);\n}\n// Done!\n</code></pre>\n<p>See above for the <code>abbreviateName()</code> method.</p>\n<p><strong>Console Output:</strong></p>\n<pre><code>Please enter your name (q to quit): -&gt; Fred Flintstone\n***** *****                                                                                                                                     \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n****  ****                                                                                                                                      \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n*     *                                                                                                                                         \n*     *    \n</code></pre>\n"}],"owner":{"account_id":30054770,"reputation":1,"user_id":23032398,"display_name":"Johann Pasquel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701673191,"creation_date":1701609786,"question_id":77594476,"body_markdown":" Create an array and ask for the say of it and the character to be used to fill the array.\r\n So it always needs to somehow resemble the two initials of my name, no matter the size.\r\n\r\n            Example:    My name is Johann Pasquel =&gt; JP    \r\n            Size of array: 5\r\n            Character to be used : *\r\n\r\n            *****   *****      \r\n              *     *   *      \r\n              *     *****      \r\n              *     *                   \r\n            ***     *  \r\n\r\n\r\n/*So far that , I have tried to do it &quot;manually&quot;, just to say the first line of J should be always full.\r\nsorry for my english,english is not my mothertongue*/\r\n\r\n\r\n\r\n\r\n```\r\npublic class Array2Iniciales {\r\n    public void incialesletras(int tama&#241;o,char caracter){\r\n        char[][] letraJ = new char[tama&#241;o][tama&#241;o];\r\n        char[][] letraP = new char[tama&#241;o][tama&#241;o];\r\n\r\n        for (int i = 0; i &lt; tama&#241;o; i++) {\r\n            for (int j = 0; j &lt; 2 * tama&#241;o - 1; j++) {\r\n                System.out.print(letraJ[i][j]);\r\n            }\r\n            System.out.print(&quot;  &quot;);\r\n            for (int j = 0; j &lt; 2 * tama&#241;o - 1; j++) {\r\n                System.out.print(letraP[i][j]);\r\n            }\r\n            System.out.println();\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n","title":"I need to create a program that prints MY initials always no matter the size","body":"<p>Create an array and ask for the say of it and the character to be used to fill the array.\nSo it always needs to somehow resemble the two initials of my name, no matter the size.</p>\n<pre><code>        Example:    My name is Johann Pasquel =&gt; JP    \n        Size of array: 5\n        Character to be used : *\n\n        *****   *****      \n          *     *   *      \n          *     *****      \n          *     *                   \n        ***     *  \n</code></pre>\n<p>/<em>So far that , I have tried to do it &quot;manually&quot;, just to say the first line of J should be always full.\nsorry for my english,english is not my mothertongue</em>/</p>\n<pre><code>public class Array2Iniciales {\n    public void incialesletras(int tamaño,char caracter){\n        char[][] letraJ = new char[tamaño][tamaño];\n        char[][] letraP = new char[tamaño][tamaño];\n\n        for (int i = 0; i &lt; tamaño; i++) {\n            for (int j = 0; j &lt; 2 * tamaño - 1; j++) {\n                System.out.print(letraJ[i][j]);\n            }\n            System.out.print(&quot;  &quot;);\n            for (int j = 0; j &lt; 2 * tamaño - 1; j++) {\n                System.out.print(letraP[i][j]);\n            }\n            System.out.println();\n        }\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","module","java-9"],"owner":{"account_id":19185825,"reputation":609,"user_id":14016638,"display_name":"Kavindu Nilshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701673016,"creation_date":1701663988,"question_id":77597221,"body_markdown":"I am applying java 9 modules to my java application. In my java \r\napplication it contains `import` statement `import javax.ws.rs.core.MediaType`.\r\n\r\nWhen I add `module-info.java` file, that statement provides compilation error as expected. Because I need to add `requires &lt;module name&gt;` statement to `module-info.java` file.\r\n\r\nBut I am unable to find what is the related module for that import statement. Can anyone help to find the `requires` statement related to `javax.ws.rs.core.MediaType` this imported class.\r\n\r\nI explored furthermore and found the solution is to add automatic module name to the module-info.java file based on relevant jar file name. In this case my relevant jar file name is `jboss-jaxrs-api_2.0_spec-1.0.0.Final`. \r\n\r\nAccording to the conventions I tried to get automatic module name from jar file name. I tried following instances but not worked.\r\n\r\n`jboss.jaxrs.api_2.spec`\r\n`jboss.jaxrs.api`\r\n\r\nCan anyone help me to fine the correct automatic module name? Or is there any other way to solve this problem.\r\n\r\nAny help would be much appreciated.","title":"Unable to fine related module of `javax.ws.rs.core.MediaType` class","body":"<p>I am applying java 9 modules to my java application. In my java\napplication it contains <code>import</code> statement <code>import javax.ws.rs.core.MediaType</code>.</p>\n<p>When I add <code>module-info.java</code> file, that statement provides compilation error as expected. Because I need to add <code>requires &lt;module name&gt;</code> statement to <code>module-info.java</code> file.</p>\n<p>But I am unable to find what is the related module for that import statement. Can anyone help to find the <code>requires</code> statement related to <code>javax.ws.rs.core.MediaType</code> this imported class.</p>\n<p>I explored furthermore and found the solution is to add automatic module name to the module-info.java file based on relevant jar file name. In this case my relevant jar file name is <code>jboss-jaxrs-api_2.0_spec-1.0.0.Final</code>.</p>\n<p>According to the conventions I tried to get automatic module name from jar file name. I tried following instances but not worked.</p>\n<p><code>jboss.jaxrs.api_2.spec</code>\n<code>jboss.jaxrs.api</code></p>\n<p>Can anyone help me to fine the correct automatic module name? Or is there any other way to solve this problem.</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","python","hashmap"],"answers":[{"comments":[{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":1,"creation_date":1259012805,"post_id":1786228,"comment_id":1673145,"body_markdown":"Link: http://commons.apache.org/collections/api/org/apache/commons/collections/MultiMap.html","body":"Link: <a href=\"http://commons.apache.org/collections/api/org/apache/commons/collections/MultiMap.html\" rel=\"nofollow noreferrer\">commons.apache.org/collections/api/org/apache/commons/&hellip;</a>"},{"owner":{"account_id":1836023,"reputation":2317,"user_id":1666398,"display_name":"dtk"},"score":0,"creation_date":1559115180,"post_id":1786228,"comment_id":99314669,"body_markdown":"The `MultiMap` is `Deprecated. since 4.1, use MultiValuedMap instead`. https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html","body":"The <code>MultiMap</code> is <code>Deprecated. since 4.1, use MultiValuedMap instead</code>. <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/apidocs/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1434916266,"creation_date":1259012715,"answer_id":1786228,"question_id":1786206,"body_markdown":"You can use [`MultiMap`][1] from [Apache Commons][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\r\n  [2]: https://commons.apache.org/","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow noreferrer\"><code>MultiMap</code></a> from <a href=\"https://commons.apache.org/\" rel=\"nofollow noreferrer\">Apache Commons</a>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1259013623,"creation_date":1259013623,"answer_id":1786345,"question_id":1786206,"body_markdown":"in addition to apache collections, check also [google collections][1]:\r\n\r\n&gt; A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>in addition to apache collections, check also <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\" rel=\"noreferrer\">google collections</a>:</p>\n\n<blockquote>\n  <p>A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259013786,"creation_date":1259013786,"answer_id":1786358,"question_id":1786206,"body_markdown":"Using just the Java runtime library you could use a `HashMap` and add an `ArrayList` to hold your values when the key does not exist yet or add the value to the list when the key does exist.","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>Using just the Java runtime library you could use a <code>HashMap</code> and add an <code>ArrayList</code> to hold your values when the key does not exist yet or add the value to the list when the key does exist.</p>\n"},{"comments":[{"owner":{"account_id":306419,"reputation":14005,"user_id":617159,"accept_rate":100,"display_name":"Lambda Fairy"},"score":5,"creation_date":1317605341,"post_id":1812263,"comment_id":9265855,"body_markdown":"Instead of using a `Class`, you can also try passing a Guava `Supplier` -- see http://docs.guava-libraries.googlecode.com/git-history/v10.0/javadoc/com/google/common/base/Supplier.html","body":"Instead of using a <code>Class</code>, you can also try passing a Guava <code>Supplier</code> -- see <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0/javadoc/com/google/common/base/Supplier.html\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git-history/v10.0/javado&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":153319,"reputation":2930,"user_id":368491,"display_name":"Soulman"},"score":3,"creation_date":1354023669,"post_id":1812263,"comment_id":18619242,"body_markdown":"Or, if you don&#39;t want the Guava dependeny, just define your own `Supplier&lt;V&gt;` interface in `DefaultDict`.","body":"Or, if you don&#39;t want the Guava dependeny, just define your own <code>Supplier&lt;V&gt;</code> interface in <code>DefaultDict</code>."},{"owner":{"account_id":1411284,"reputation":1997,"user_id":1337806,"accept_rate":32,"display_name":"sam boosalis"},"score":0,"creation_date":1402105402,"post_id":1812263,"comment_id":37160010,"body_markdown":"i would prefer constructing the `DefaultDict` with my own value: `public DefaultDict(V value) { this.value = value; }`","body":"i would prefer constructing the <code>DefaultDict</code> with my own value: <code>public DefaultDict(V value) { this.value = value; }</code>"},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":0,"creation_date":1566440972,"post_id":1812263,"comment_id":101659548,"body_markdown":"Wouldn&#39;t this behave incorrectly if you stored a value of `null` for a certain key into the map? When you call `get()`, it would behave as if the key didn&#39;t exist (even though it *does* exist, as determined by `containsKey()`), and they create a new value and overwrite the existing value in the map.","body":"Wouldn&#39;t this behave incorrectly if you stored a value of <code>null</code> for a certain key into the map? When you call <code>get()</code>, it would behave as if the key didn&#39;t exist (even though it <i>does</i> exist, as determined by <code>containsKey()</code>), and they create a new value and overwrite the existing value in the map."},{"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"score":0,"creation_date":1631716239,"post_id":1812263,"comment_id":122298339,"body_markdown":"How would this work if your default value type was something other than a collection? For instance an `Integer` with value of 1?","body":"How would this work if your default value type was something other than a collection? For instance an <code>Integer</code> with value of 1?"},{"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"score":0,"creation_date":1631721138,"post_id":1812263,"comment_id":122300711,"body_markdown":"Also, it seems that this results in an unsafe type cast that cannot be made safe because of type erasure. I&#39;d roll with it, but my boss certainly wouldn&#39;t.","body":"Also, it seems that this results in an unsafe type cast that cannot be made safe because of type erasure. I&#39;d roll with it, but my boss certainly wouldn&#39;t."},{"owner":{"account_id":1038859,"reputation":5232,"user_id":1045364,"accept_rate":78,"display_name":"Learner"},"score":0,"creation_date":1690911751,"post_id":1812263,"comment_id":135418050,"body_markdown":"@Tendayi Mawushe How to iterate over `[2, 3]` for each key i.e. `1`?","body":"@Tendayi Mawushe How to iterate over <code>[2, 3]</code> for each key i.e. <code>1</code>?"}],"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"comment_count":7,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1263317677,"creation_date":1259406490,"answer_id":1812263,"question_id":1786206,"body_markdown":"There is nothing that gives the behaviour of default dict out of the box. However creating your own default dict in Java would not be that difficult.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class DefaultDict&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n    \r\n        Class&lt;V&gt; klass;\r\n        public DefaultDict(Class klass) {\r\n            this.klass = klass;    \r\n        }\r\n    \r\n        @Override\r\n        public V get(Object key) {\r\n            V returnValue = super.get(key);\r\n            if (returnValue == null) {\r\n                try {\r\n                    returnValue = klass.newInstance();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                this.put((K) key, returnValue);\r\n            }\r\n            return returnValue;\r\n        }    \r\n    }\r\n\r\nThis class could be used like below:\r\n\r\n    public static void main(String[] args) {\r\n        DefaultDict&lt;Integer, List&lt;Integer&gt;&gt; dict =\r\n            new DefaultDict&lt;Integer, List&lt;Integer&gt;&gt;(ArrayList.class);\r\n        dict.get(1).add(2);\r\n        dict.get(1).add(3);\r\n        System.out.println(dict);\r\n    }\r\n\r\nThis code would print: `{1=[2, 3]}`","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>There is nothing that gives the behaviour of default dict out of the box. However creating your own default dict in Java would not be that difficult.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class DefaultDict&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n\n    Class&lt;V&gt; klass;\n    public DefaultDict(Class klass) {\n        this.klass = klass;    \n    }\n\n    @Override\n    public V get(Object key) {\n        V returnValue = super.get(key);\n        if (returnValue == null) {\n            try {\n                returnValue = klass.newInstance();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n            this.put((K) key, returnValue);\n        }\n        return returnValue;\n    }    \n}\n</code></pre>\n\n<p>This class could be used like below:</p>\n\n<pre><code>public static void main(String[] args) {\n    DefaultDict&lt;Integer, List&lt;Integer&gt;&gt; dict =\n        new DefaultDict&lt;Integer, List&lt;Integer&gt;&gt;(ArrayList.class);\n    dict.get(1).add(2);\n    dict.get(1).add(3);\n    System.out.println(dict);\n}\n</code></pre>\n\n<p>This code would print: <code>{1=[2, 3]}</code></p>\n"},{"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387379859,"creation_date":1387379859,"answer_id":20661841,"question_id":1786206,"body_markdown":"The solution from @tendayi-mawushe did not work for me with Primitive types (e.g. `InstantiationException Integer`), here is one implementation that works with Integer, Double, Float. I often use Maps with these and added static constructors for conveninence \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    /** Simulate the behaviour of Python&#39;s defaultdict */\r\n    public class DefaultHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        private final Class&lt;V&gt; cls;\r\n        private final Number defaultValue;\r\n\r\n        @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n        public DefaultHashMap(Class factory) {\r\n            this.cls = factory;\r\n            this.defaultValue = null;\r\n        }\r\n\r\n        public DefaultHashMap(Number defaultValue) {\r\n            this.cls = null;\r\n            this.defaultValue = defaultValue;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public V get(Object key) {\r\n            V value = super.get(key);\r\n            if (value == null) {\r\n                if (defaultValue == null) {\r\n                    try {\r\n                        value = cls.newInstance();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    value = (V) defaultValue;\r\n                }\r\n                this.put((K) key, value);\r\n            }\r\n            return value;\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Integer&gt; intDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Integer&gt;(0);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Double&gt; doubleDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Double&gt;(0d);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, Float&gt; floatDefaultMap() {\r\n            return new DefaultHashMap&lt;T, Float&gt;(0f);\r\n        }\r\n\r\n        public static &lt;T&gt; Map&lt;T, String&gt; stringDefaultMap() {\r\n            return new DefaultHashMap&lt;T, String&gt;(String.class);\r\n        }\r\n    }\r\n\r\nAnd a test, for good manners:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class DefaultHashMapTest {\r\n\r\n        @Test\r\n        public void test() {\r\n            Map&lt;String, List&lt;String&gt;&gt; dm = new DefaultHashMap&lt;String, List&lt;String&gt;&gt;(\r\n                    ArrayList.class);\r\n            dm.get(&quot;nokey&quot;).add(&quot;one&quot;);\r\n            dm.get(&quot;nokey&quot;).add(&quot;two&quot;);\r\n            assertEquals(2, dm.get(&quot;nokey&quot;).size());\r\n            assertEquals(0, dm.get(&quot;nokey2&quot;).size());\r\n        }\r\n\r\n        @Test\r\n        public void testInt() {\r\n            Map&lt;String, Integer&gt; dm = DefaultHashMap.intDefaultMap();\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey&quot;));\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey2&quot;));\r\n            dm.put(&quot;nokey&quot;, 3);\r\n            assertEquals(new Integer(0), dm.get(&quot;nokey2&quot;));\r\n            dm.put(&quot;nokey3&quot;, 3);\r\n            assertEquals(new Integer(3), dm.get(&quot;nokey3&quot;));\r\n        }\r\n\r\n        @Test\r\n        public void testString() {\r\n            Map&lt;String, String&gt; dm = DefaultHashMap.stringDefaultMap();\r\n            assertEquals(&quot;&quot;, dm.get(&quot;nokey&quot;));\r\n            dm.put(&quot;nokey1&quot;, &quot;mykey&quot;);\r\n            assertEquals(&quot;mykey&quot;, dm.get(&quot;nokey1&quot;));\r\n        }\r\n    }\r\n","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>The solution from @tendayi-mawushe did not work for me with Primitive types (e.g. <code>InstantiationException Integer</code>), here is one implementation that works with Integer, Double, Float. I often use Maps with these and added static constructors for conveninence </p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/** Simulate the behaviour of Python's defaultdict */\npublic class DefaultHashMap&lt;K, V&gt; extends HashMap&lt;K, V&gt; {\n    private static final long serialVersionUID = 1L;\n\n    private final Class&lt;V&gt; cls;\n    private final Number defaultValue;\n\n    @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n    public DefaultHashMap(Class factory) {\n        this.cls = factory;\n        this.defaultValue = null;\n    }\n\n    public DefaultHashMap(Number defaultValue) {\n        this.cls = null;\n        this.defaultValue = defaultValue;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public V get(Object key) {\n        V value = super.get(key);\n        if (value == null) {\n            if (defaultValue == null) {\n                try {\n                    value = cls.newInstance();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            } else {\n                value = (V) defaultValue;\n            }\n            this.put((K) key, value);\n        }\n        return value;\n    }\n\n    public static &lt;T&gt; Map&lt;T, Integer&gt; intDefaultMap() {\n        return new DefaultHashMap&lt;T, Integer&gt;(0);\n    }\n\n    public static &lt;T&gt; Map&lt;T, Double&gt; doubleDefaultMap() {\n        return new DefaultHashMap&lt;T, Double&gt;(0d);\n    }\n\n    public static &lt;T&gt; Map&lt;T, Float&gt; floatDefaultMap() {\n        return new DefaultHashMap&lt;T, Float&gt;(0f);\n    }\n\n    public static &lt;T&gt; Map&lt;T, String&gt; stringDefaultMap() {\n        return new DefaultHashMap&lt;T, String&gt;(String.class);\n    }\n}\n</code></pre>\n\n<p>And a test, for good manners:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.junit.Test;\n\npublic class DefaultHashMapTest {\n\n    @Test\n    public void test() {\n        Map&lt;String, List&lt;String&gt;&gt; dm = new DefaultHashMap&lt;String, List&lt;String&gt;&gt;(\n                ArrayList.class);\n        dm.get(\"nokey\").add(\"one\");\n        dm.get(\"nokey\").add(\"two\");\n        assertEquals(2, dm.get(\"nokey\").size());\n        assertEquals(0, dm.get(\"nokey2\").size());\n    }\n\n    @Test\n    public void testInt() {\n        Map&lt;String, Integer&gt; dm = DefaultHashMap.intDefaultMap();\n        assertEquals(new Integer(0), dm.get(\"nokey\"));\n        assertEquals(new Integer(0), dm.get(\"nokey2\"));\n        dm.put(\"nokey\", 3);\n        assertEquals(new Integer(0), dm.get(\"nokey2\"));\n        dm.put(\"nokey3\", 3);\n        assertEquals(new Integer(3), dm.get(\"nokey3\"));\n    }\n\n    @Test\n    public void testString() {\n        Map&lt;String, String&gt; dm = DefaultHashMap.stringDefaultMap();\n        assertEquals(\"\", dm.get(\"nokey\"));\n        dm.put(\"nokey1\", \"mykey\");\n        assertEquals(\"mykey\", dm.get(\"nokey1\"));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"score":0,"creation_date":1526896723,"post_id":30968796,"comment_id":87906063,"body_markdown":"I didn&#39;t downvote.  Good idea all in all.  However I don&#39;t think you can name your variable `default`, and I think `create(V)` is just asking users to shoot themselves in their foot.","body":"I didn&#39;t downvote.  Good idea all in all.  However I don&#39;t think you can name your variable <code>default</code>, and I think <code>create(V)</code> is just asking users to shoot themselves in their foot."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1526935096,"post_id":30968796,"comment_id":87926038,"body_markdown":"Thanks, you&#39;re absolutely right. I agree `create(V)` is a little risky, but I suspect it&#39;d be missed if it was absent. I&#39;ve added a comment, at least, to call out the risk.","body":"Thanks, you&#39;re absolutely right. I agree <code>create(V)</code> is a little risky, but I suspect it&#39;d be missed if it was absent. I&#39;ve added a comment, at least, to call out the risk."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1593448189,"creation_date":1434917068,"answer_id":30968796,"question_id":1786206,"body_markdown":"In most common cases where you want a `defaultdict`, you&#39;ll be even happier with a properly designed Multimap or Multiset, which is what you&#39;re really looking for.  A Multimap is a key -&gt; collection mapping (default is an empty collection) and a Multiset is a key -&gt; int mapping (default is zero).\r\n\r\n[Guava][1] provides very nice implementations of both [Multimaps and Multisets][2] which will cover almost all use cases.\r\n\r\nBut (and this is why I posted a new answer) with Java 8 you can now replicate the remaining use cases of `defaultdict` with any existing `Map`.\r\n\r\n* [`getOrDefault()`][3], as the name suggests, returns the value if present, or returns a default value.  This *does not* store the default value in the map.\r\n* [`computeIfAbsent()`][4] computes a value from the provided function (which could always return the same default value) and *does* store the computed value in the map before returning.\r\n\r\nIf you want to encapsulate these calls you can use Guava&#39;s [`ForwardingMap`][5]:\r\n\r\n    public class DefaultMap&lt;K, V&gt; extends ForwardingMap&lt;K, V&gt; {\r\n      private final Map&lt;K, V&gt; delegate;\r\n      private final Supplier&lt;V&gt; defaultSupplier;\r\n    \r\n      /**\r\n       * Creates a map which uses the given value as the default for &lt;i&gt;all&lt;/i&gt;\r\n       * keys. You should only use immutable values as a shared default key.\r\n       * Prefer {@link #create(Supplier)} to construct a new instance for each key.\r\n       */\r\n      public static DefaultMap&lt;K, V&gt; create(V defaultValue) {\r\n        return create(() -&gt; defaultValue);\r\n      }\r\n    \r\n      public static DefaultMap&lt;K, V&gt; create(Supplier&lt;V&gt; defaultSupplier) {\r\n        return new DefaultMap&lt;&gt;(new HashMap&lt;&gt;(), defaultSupplier);\r\n      }\r\n    \r\n      public DefaultMap&lt;K, V&gt;(Map&lt;K, V&gt; delegate, Supplier&lt;V&gt; defaultSupplier) {\r\n        this.delegate = Objects.requireNonNull(delegate);\r\n        this.defaultSupplier = Objects.requireNonNull(defaultSupplier);\r\n      }\r\n    \r\n      @Override\r\n      public V get(K key) {\r\n        return delegate().computeIfAbsent(key, k -&gt; defaultSupplier.get());\r\n      }\r\n    }\r\n\r\nThen construct your default map like so:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; defaultMap = DefaultMap.create(ArrayList::new);\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/wiki/NewCollectionTypesExplained\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [5]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ForwardingMap.html","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In most common cases where you want a <code>defaultdict</code>, you'll be even happier with a properly designed Multimap or Multiset, which is what you're really looking for.  A Multimap is a key -&gt; collection mapping (default is an empty collection) and a Multiset is a key -&gt; int mapping (default is zero).</p>\n<p><a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> provides very nice implementations of both <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained\" rel=\"nofollow noreferrer\">Multimaps and Multisets</a> which will cover almost all use cases.</p>\n<p>But (and this is why I posted a new answer) with Java 8 you can now replicate the remaining use cases of <code>defaultdict</code> with any existing <code>Map</code>.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>getOrDefault()</code></a>, as the name suggests, returns the value if present, or returns a default value.  This <em>does not</em> store the default value in the map.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a> computes a value from the provided function (which could always return the same default value) and <em>does</em> store the computed value in the map before returning.</li>\n</ul>\n<p>If you want to encapsulate these calls you can use Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/ForwardingMap.html\" rel=\"nofollow noreferrer\"><code>ForwardingMap</code></a>:</p>\n<pre><code>public class DefaultMap&lt;K, V&gt; extends ForwardingMap&lt;K, V&gt; {\n  private final Map&lt;K, V&gt; delegate;\n  private final Supplier&lt;V&gt; defaultSupplier;\n\n  /**\n   * Creates a map which uses the given value as the default for &lt;i&gt;all&lt;/i&gt;\n   * keys. You should only use immutable values as a shared default key.\n   * Prefer {@link #create(Supplier)} to construct a new instance for each key.\n   */\n  public static DefaultMap&lt;K, V&gt; create(V defaultValue) {\n    return create(() -&gt; defaultValue);\n  }\n\n  public static DefaultMap&lt;K, V&gt; create(Supplier&lt;V&gt; defaultSupplier) {\n    return new DefaultMap&lt;&gt;(new HashMap&lt;&gt;(), defaultSupplier);\n  }\n\n  public DefaultMap&lt;K, V&gt;(Map&lt;K, V&gt; delegate, Supplier&lt;V&gt; defaultSupplier) {\n    this.delegate = Objects.requireNonNull(delegate);\n    this.defaultSupplier = Objects.requireNonNull(defaultSupplier);\n  }\n\n  @Override\n  public V get(K key) {\n    return delegate().computeIfAbsent(key, k -&gt; defaultSupplier.get());\n  }\n}\n</code></pre>\n<p>Then construct your default map like so:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; defaultMap = DefaultMap.create(ArrayList::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1520646419,"post_id":39190927,"comment_id":85414411,"body_markdown":"It would be more usable if instead of extending from `HashMap` you used `ForwardingMap` and allowed the caller to specify the backing map. Prefer composition to inheritance.","body":"It would be more usable if instead of extending from <code>HashMap</code> you used <code>ForwardingMap</code> and allowed the caller to specify the backing map. Prefer composition to inheritance."}],"tags":[],"owner":{"account_id":939077,"reputation":39,"user_id":967489,"display_name":"user967489"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472384814,"creation_date":1472384814,"answer_id":39190927,"question_id":1786206,"body_markdown":"I wrote the library [Guavaberry][1] containing such data structure:  [DefaultHashMap][2].\r\n\r\nIt is highly tested and documented. You can find it and integrate it pretty easily via Maven Central.\r\n\r\nThe main advatage is that it uses lambda to define the factory method. So, you can add an arbitrarly defined instance of a class (instead of relying on the existence of the default constructor):\r\n\r\n\r\n    DefaultHashMap&lt;Integer, List&lt;String&gt;&gt; map = new DefaultHashMap(() -&gt; new ArrayList&lt;&gt;());\r\n    map.get(11).add(&quot;first&quot;);\r\n\r\n\r\nI hope that can be of help.\r\n\r\n  [1]: https://github.com/guavaberry/guavaberry\r\n  [2]: https://github.com/guavaberry/guavaberry/wiki/Collections","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>I wrote the library <a href=\"https://github.com/guavaberry/guavaberry\" rel=\"nofollow\">Guavaberry</a> containing such data structure:  <a href=\"https://github.com/guavaberry/guavaberry/wiki/Collections\" rel=\"nofollow\">DefaultHashMap</a>.</p>\n\n<p>It is highly tested and documented. You can find it and integrate it pretty easily via Maven Central.</p>\n\n<p>The main advatage is that it uses lambda to define the factory method. So, you can add an arbitrarly defined instance of a class (instead of relying on the existence of the default constructor):</p>\n\n<pre><code>DefaultHashMap&lt;Integer, List&lt;String&gt;&gt; map = new DefaultHashMap(() -&gt; new ArrayList&lt;&gt;());\nmap.get(11).add(\"first\");\n</code></pre>\n\n<p>I hope that can be of help.</p>\n"},{"tags":[],"owner":{"account_id":3796499,"reputation":5874,"user_id":3151415,"accept_rate":65,"display_name":"garg10may"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1571607618,"creation_date":1571607618,"answer_id":58477560,"question_id":1786206,"body_markdown":"In Java 8+ you can use:\r\n\r\n    map.computeIfAbsent(1, k -&gt; new ArrayList&lt;Integer&gt;()).add(2);","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In Java 8+ you can use:</p>\n\n<pre><code>map.computeIfAbsent(1, k -&gt; new ArrayList&lt;Integer&gt;()).add(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3536787,"reputation":1,"user_id":2954870,"display_name":"yimng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701672946,"creation_date":1701672891,"answer_id":77597634,"question_id":1786206,"body_markdown":"From java8+, you can use map.computeIfAbsent.\r\nFor example:\r\n\r\n        List food = new ArrayList&lt;String&gt;();\r\n        food.add(&quot;Pizza&quot;);\r\n        food.add(&quot;Chicken&quot;);\r\n        Map&lt;String, List&lt;String&gt;&gt; favouriteFood = new HashMap&lt;&gt;();\r\n        favouriteFood.put(&quot;Mike&quot;, food);\r\n        favouriteFood.computeIfAbsent(&quot;James&quot;, name -&gt; new ArrayList&lt;&gt;())\r\n                .add(&quot;Hamburger&quot;);\r\n    Mike -&gt; [Pizza, Chicken]\r\n    James -&gt; [Hamburger]","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>From java8+, you can use map.computeIfAbsent.\nFor example:</p>\n<pre><code>    List food = new ArrayList&lt;String&gt;();\n    food.add(&quot;Pizza&quot;);\n    food.add(&quot;Chicken&quot;);\n    Map&lt;String, List&lt;String&gt;&gt; favouriteFood = new HashMap&lt;&gt;();\n    favouriteFood.put(&quot;Mike&quot;, food);\n    favouriteFood.computeIfAbsent(&quot;James&quot;, name -&gt; new ArrayList&lt;&gt;())\n            .add(&quot;Hamburger&quot;);\nMike -&gt; [Pizza, Chicken]\nJames -&gt; [Hamburger]\n</code></pre>\n"}],"owner":{"account_id":30044,"reputation":16610,"user_id":81636,"accept_rate":72,"display_name":"gatoatigrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18291,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":1812263,"answer_count":9,"score":51,"last_activity_date":1701672946,"creation_date":1259012538,"question_id":1786206,"body_markdown":"In Python, the `defaultdict` class provides a convenient way to create a mapping from `key -&gt; [list of values]`, in the following example,\r\n```python\r\nfrom collections import defaultdict\r\nd = defaultdict(list)\r\nd[1].append(2)\r\nd[1].append(3)\r\n# d is now {1: [2, 3]}\r\n```\r\nIs there an equivalent to this in Java?","title":"Is there a Java equivalent of Python&#39;s defaultdict?","body":"<p>In Python, the <code>defaultdict</code> class provides a convenient way to create a mapping from <code>key -&gt; [list of values]</code>, in the following example,</p>\n<pre class=\"lang-py prettyprint-override\"><code>from collections import defaultdict\nd = defaultdict(list)\nd[1].append(2)\nd[1].append(3)\n# d is now {1: [2, 3]}\n</code></pre>\n<p>Is there an equivalent to this in Java?</p>\n"},{"tags":["java","jar","manifest.mf","meta-inf"],"comments":[{"owner":{"account_id":1164039,"reputation":6835,"user_id":1143013,"accept_rate":77,"display_name":"raam86"},"score":6,"creation_date":1349605044,"post_id":12767886,"comment_id":17254457,"body_markdown":"http://en.wikipedia.org/wiki/Manifest_file","body":"<a href=\"http://en.wikipedia.org/wiki/Manifest_file\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Manifest_file</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1349605047,"post_id":12767886,"comment_id":17254458,"body_markdown":"See [Working with Manifest Files: The Basics](http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).","body":"See <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Working with Manifest Files: The Basics</a>."}],"answers":[{"comments":[{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":40,"creation_date":1349605524,"post_id":12767929,"comment_id":17254532,"body_markdown":"Please do not copy someone work. You should add a link to the web page. http://docs.oracle.com/javase/tutorial/deployment/jar/sealman.html","body":"Please do not copy someone work. You should add a link to the web page. <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/sealman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/sealman.html</a>"},{"owner":{"account_id":1816007,"reputation":16534,"user_id":1651073,"display_name":"Frank"},"score":65,"creation_date":1349605721,"post_id":12767929,"comment_id":17254558,"body_markdown":"It&#39;s not a copy, more a summary...of 5 pages.","body":"It&#39;s not a copy, more a summary...of 5 pages."},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":73,"creation_date":1349605889,"post_id":12767929,"comment_id":17254583,"body_markdown":"You can call this summary. The sentences ware copied, without any additional conclusion or point. I think that you should respect someone work and add links and quotes.","body":"You can call this summary. The sentences ware copied, without any additional conclusion or point. I think that you should respect someone work and add links and quotes."}],"tags":[],"owner":{"account_id":1816007,"reputation":16534,"user_id":1651073,"display_name":"Frank"},"comment_count":3,"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1649856570,"creation_date":1349605227,"answer_id":12767929,"question_id":12767886,"body_markdown":"The content of the Manifest file in a JAR file created with version 1.0 of the Java Development Kit is the following.\r\n\r\n    Manifest-Version: 1.0\r\n\r\nAll the entries are as name-value pairs. The name of a header is separated from its value by a colon. The default manifest shows that it conforms to version 1.0 of the manifest specification.\r\nThe manifest can also contain information about the other files that are packaged in the archive. Exactly what file information is recorded in the manifest will depend on the intended use for the JAR file. The default manifest file makes no assumptions about what information it should record about other files, so its single line contains data only about itself.\r\nSpecial-Purpose Manifest Headers\r\n\r\nDepending on the intended role of the JAR file, the default manifest may have to be modified. If the JAR file is created only for the purpose of archival, then the MANIFEST.MF file is of no purpose.\r\nMost uses of JAR files go beyond simple archiving and compression and require special information to be in the manifest file. Summarized below are brief descriptions of the headers that are required for some special-purpose JAR-file functions\r\n\r\n**Applications Bundled as JAR Files:** If an application is bundled in a JAR file, the Java Virtual Machine needs to be told what the entry point to the application is. An entry point is any class with a public static void main(String[] args) method. This information is provided in the Main-Class header, which has the general form:\r\n\r\n    Main-Class: classname\r\n\r\nThe value classname is to be replaced with the application&#39;s entry point.\r\n\r\n**Download Extensions:** Download extensions are JAR files that are referenced by the manifest files of other JAR files. In a typical situation, an applet will be bundled in a JAR file whose manifest references a JAR file (or several JAR files) that will serve as an extension for the purposes of that applet. Extensions may reference each other in the same way.\r\nDownload extensions are specified in the Class-Path header field in the manifest file of an applet, application, or another extension. A Class-Path header might look like this, for example:\r\n\r\n    Class-Path: servlet.jar infobus.jar acme/beans.jar\r\n\r\nWith this header, the classes in the files servlet.jar, infobus.jar, and acme/beans.jar will serve as extensions for purposes of the applet or application. The URLs in the Class-Path header are given relative to the URL of the JAR file of the applet or application.\r\n\r\n**Package Sealing:** A package within a JAR file can be optionally sealed, which means that all classes defined in that package must be archived in the same JAR file. A package might be sealed to ensure version consistency among the classes in your software or as a security measure.\r\nTo seal a package, a Name header needs to be added for the package, followed by a Sealed header, similar to this:\r\n\r\n    Name: myCompany/myPackage/\r\n    Sealed: true\r\n\r\nThe Name header&#39;s value is the package&#39;s relative pathname. Note that it ends with a &#39;/&#39; to distinguish it from a filename. Any headers following a Name header, without any intervening blank lines, apply to the file or package specified in the Name header. In the above example, because the Sealed header occurs after the Name: myCompany/myPackage header, with no blank lines between, the Sealed header will be interpreted as applying (only) to the package myCompany/myPackage.\r\n\r\n**Package Versioning:** The Package Versioning specification defines several manifest headers to hold versioning information. One set of such headers can be assigned to each package. The versioning headers should appear directly beneath the Name header for the package. This example shows all the versioning headers:\r\n\r\n    Name: java/util/\r\n    Specification-Title: &quot;Java Utility Classes&quot; \r\n    Specification-Version: &quot;1.2&quot;\r\n    Specification-Vendor: &quot;Sun Microsystems, Inc.&quot;.\r\n    Implementation-Title: &quot;java.util&quot; \r\n    Implementation-Version: &quot;build57&quot;\r\n    Implementation-Vendor: &quot;Sun Microsystems, Inc.&quot;\r\n\r\n\r\nAdditional information: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Use of the MANIFEST.MF file in Java","body":"<p>The content of the Manifest file in a JAR file created with version 1.0 of the Java Development Kit is the following.</p>\n<pre><code>Manifest-Version: 1.0\n</code></pre>\n<p>All the entries are as name-value pairs. The name of a header is separated from its value by a colon. The default manifest shows that it conforms to version 1.0 of the manifest specification.\nThe manifest can also contain information about the other files that are packaged in the archive. Exactly what file information is recorded in the manifest will depend on the intended use for the JAR file. The default manifest file makes no assumptions about what information it should record about other files, so its single line contains data only about itself.\nSpecial-Purpose Manifest Headers</p>\n<p>Depending on the intended role of the JAR file, the default manifest may have to be modified. If the JAR file is created only for the purpose of archival, then the MANIFEST.MF file is of no purpose.\nMost uses of JAR files go beyond simple archiving and compression and require special information to be in the manifest file. Summarized below are brief descriptions of the headers that are required for some special-purpose JAR-file functions</p>\n<p><strong>Applications Bundled as JAR Files:</strong> If an application is bundled in a JAR file, the Java Virtual Machine needs to be told what the entry point to the application is. An entry point is any class with a public static void main(String[] args) method. This information is provided in the Main-Class header, which has the general form:</p>\n<pre><code>Main-Class: classname\n</code></pre>\n<p>The value classname is to be replaced with the application's entry point.</p>\n<p><strong>Download Extensions:</strong> Download extensions are JAR files that are referenced by the manifest files of other JAR files. In a typical situation, an applet will be bundled in a JAR file whose manifest references a JAR file (or several JAR files) that will serve as an extension for the purposes of that applet. Extensions may reference each other in the same way.\nDownload extensions are specified in the Class-Path header field in the manifest file of an applet, application, or another extension. A Class-Path header might look like this, for example:</p>\n<pre><code>Class-Path: servlet.jar infobus.jar acme/beans.jar\n</code></pre>\n<p>With this header, the classes in the files servlet.jar, infobus.jar, and acme/beans.jar will serve as extensions for purposes of the applet or application. The URLs in the Class-Path header are given relative to the URL of the JAR file of the applet or application.</p>\n<p><strong>Package Sealing:</strong> A package within a JAR file can be optionally sealed, which means that all classes defined in that package must be archived in the same JAR file. A package might be sealed to ensure version consistency among the classes in your software or as a security measure.\nTo seal a package, a Name header needs to be added for the package, followed by a Sealed header, similar to this:</p>\n<pre><code>Name: myCompany/myPackage/\nSealed: true\n</code></pre>\n<p>The Name header's value is the package's relative pathname. Note that it ends with a '/' to distinguish it from a filename. Any headers following a Name header, without any intervening blank lines, apply to the file or package specified in the Name header. In the above example, because the Sealed header occurs after the Name: myCompany/myPackage header, with no blank lines between, the Sealed header will be interpreted as applying (only) to the package myCompany/myPackage.</p>\n<p><strong>Package Versioning:</strong> The Package Versioning specification defines several manifest headers to hold versioning information. One set of such headers can be assigned to each package. The versioning headers should appear directly beneath the Name header for the package. This example shows all the versioning headers:</p>\n<pre><code>Name: java/util/\nSpecification-Title: &quot;Java Utility Classes&quot; \nSpecification-Version: &quot;1.2&quot;\nSpecification-Vendor: &quot;Sun Microsystems, Inc.&quot;.\nImplementation-Title: &quot;java.util&quot; \nImplementation-Version: &quot;build57&quot;\nImplementation-Vendor: &quot;Sun Microsystems, Inc.&quot;\n</code></pre>\n<p>Additional information: <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n"},{"tags":[],"owner":{"account_id":4893649,"reputation":560,"user_id":3943968,"display_name":"jordom"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1481194015,"creation_date":1408091920,"answer_id":25323525,"question_id":12767886,"body_markdown":"Manifest.MF contains information about the files contained in the JAR file.\r\n\r\nWhenever a JAR file is created a default manifest.mf file is created inside META-INF folder and it contains the default entries like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0_06 (Oracle Corporation)\r\n\r\nThese are entries as “header:value” pairs. The first one specifies the manifest version and second one specifies the JDK version with which the JAR file is created.\r\n\r\n**Main-Class header:**\r\nWhen a JAR file is used to bundle an application in a package, we need to specify the class serving an entry point of the application. We provide this information using ‘Main-Class’ header of the manifest file,\r\n\r\nMain-Class: {fully qualified classname}\r\n\r\nThe ‘Main-Class’ value here is the class having main method. After specifying this entry we can execute the JAR file to run the application.\r\n\r\n**Class-Path header:**\r\nMost of the times we need to access the other JAR files from the classes packaged inside application’s JAR file. This can be done by providing their fully qualified paths in the manifest file using ‘Class-Path’ header,\r\n\r\nClass-Path: {jar1-name jar2-name directory-name/jar3-name}\r\n\r\nThis header can be used to specify the external JAR files on the same local network and not inside the current JAR.\r\n\r\n**Package version related headers:**\r\nWhen the JAR file is used for package versioning the following headers are used as specified by the Java language specification:\r\n\r\n\tHeaders in a manifest\r\n\tHeader\t\t\t\t\t| Definition\r\n\t-------------------------------------------------------------------\r\n\tName\t\t\t\t\t| The name of the specification.\r\n\tSpecification-Title\t\t| The title of the specification.\r\n\tSpecification-Version\t| The version of the specification.\r\n\tSpecification-Vendor\t| The vendor of the specification.\r\n\tImplementation-Title\t| The title of the implementation.\r\n\tImplementation-Version\t| The build number of the implementation.\r\n\tImplementation-Vendor\t| The vendor of the implementation.\r\n\r\n\r\n\r\n**Package sealing related headers:**\r\n\r\nWe can also specify if any particular packages inside a JAR file should be sealed meaning all the classes defined in that package must be archived in the same JAR file. This can be specified with the help of ‘Sealed’ header,\r\n\r\nName: {package/some-package/}\r\nSealed:true\r\n\r\nHere, the package name must end with ‘/’.\r\n\r\n**Enhancing security with manifest files:**\r\n\r\nWe can use manifest files entries to ensure the security of the web application or applet it packages with the different attributes as ‘Permissions’, ‘Codebae’, ‘Application-Name’, ‘Trusted-Only’ and many more.\r\n\r\n**META-INF folder:**\r\n\r\nThis folder is where the manifest file resides. Also, it can contain more files containing meta data about the application. For example, in an EJB module JAR file, this folder contains the EJB deployment descriptor for the EJB module along with the manifest file for the JAR. Also, it contains the xml file containing mapping of an abstract EJB references to concrete container resources of the application server on which it will be run.\r\n\r\nReference:&lt;br/&gt;\r\n[https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"Use of the MANIFEST.MF file in Java","body":"<p>Manifest.MF contains information about the files contained in the JAR file.</p>\n\n<p>Whenever a JAR file is created a default manifest.mf file is created inside META-INF folder and it contains the default entries like this:</p>\n\n<pre><code>Manifest-Version: 1.0\nCreated-By: 1.7.0_06 (Oracle Corporation)\n</code></pre>\n\n<p>These are entries as “header:value” pairs. The first one specifies the manifest version and second one specifies the JDK version with which the JAR file is created.</p>\n\n<p><strong>Main-Class header:</strong>\nWhen a JAR file is used to bundle an application in a package, we need to specify the class serving an entry point of the application. We provide this information using ‘Main-Class’ header of the manifest file,</p>\n\n<p>Main-Class: {fully qualified classname}</p>\n\n<p>The ‘Main-Class’ value here is the class having main method. After specifying this entry we can execute the JAR file to run the application.</p>\n\n<p><strong>Class-Path header:</strong>\nMost of the times we need to access the other JAR files from the classes packaged inside application’s JAR file. This can be done by providing their fully qualified paths in the manifest file using ‘Class-Path’ header,</p>\n\n<p>Class-Path: {jar1-name jar2-name directory-name/jar3-name}</p>\n\n<p>This header can be used to specify the external JAR files on the same local network and not inside the current JAR.</p>\n\n<p><strong>Package version related headers:</strong>\nWhen the JAR file is used for package versioning the following headers are used as specified by the Java language specification:</p>\n\n<pre><code>Headers in a manifest\nHeader                  | Definition\n-------------------------------------------------------------------\nName                    | The name of the specification.\nSpecification-Title     | The title of the specification.\nSpecification-Version   | The version of the specification.\nSpecification-Vendor    | The vendor of the specification.\nImplementation-Title    | The title of the implementation.\nImplementation-Version  | The build number of the implementation.\nImplementation-Vendor   | The vendor of the implementation.\n</code></pre>\n\n<p><strong>Package sealing related headers:</strong></p>\n\n<p>We can also specify if any particular packages inside a JAR file should be sealed meaning all the classes defined in that package must be archived in the same JAR file. This can be specified with the help of ‘Sealed’ header,</p>\n\n<p>Name: {package/some-package/}\nSealed:true</p>\n\n<p>Here, the package name must end with ‘/’.</p>\n\n<p><strong>Enhancing security with manifest files:</strong></p>\n\n<p>We can use manifest files entries to ensure the security of the web application or applet it packages with the different attributes as ‘Permissions’, ‘Codebae’, ‘Application-Name’, ‘Trusted-Only’ and many more.</p>\n\n<p><strong>META-INF folder:</strong></p>\n\n<p>This folder is where the manifest file resides. Also, it can contain more files containing meta data about the application. For example, in an EJB module JAR file, this folder contains the EJB deployment descriptor for the EJB module along with the manifest file for the JAR. Also, it contains the xml file containing mapping of an abstract EJB references to concrete container resources of the application server on which it will be run.</p>\n\n<p>Reference:<br/>\n<a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194485,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":12767929,"answer_count":2,"score":117,"last_activity_date":1701672842,"creation_date":1349604790,"question_id":12767886,"body_markdown":"I noticed that JAR, WAR and EAR files have a `MANIFEST.MF` file under the `META-INF` folder.\r\n\r\nWhat is the use of the `MANIFEST.MF` file? What all things can be specified in this file?","title":"Use of the MANIFEST.MF file in Java","body":"<p>I noticed that JAR, WAR and EAR files have a <code>MANIFEST.MF</code> file under the <code>META-INF</code> folder.</p>\n\n<p>What is the use of the <code>MANIFEST.MF</code> file? What all things can be specified in this file?</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-data-r2dbc","reactive-kafka"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1701672930,"post_id":77597580,"comment_id":136800281,"body_markdown":"`parallel -&gt; runOn -&gt; sequential` is a no-op.it should be removed. Generally, when we want to improve database insertion performance, the first thing to try is to perform *batch inserts*. Also, if you want to do an upsert, or insert only if an id does not exist, you could try to perform a single db operation like a &quot;merge&quot; statement, or a &quot;insert... on conflict do ...&quot; to reduce IO cost with the database. Finally, you might want to look into Spring libraries specialized for integration (spring-cloud-stream, spring-integration, spring-batch)","body":"<code>parallel -&gt; runOn -&gt; sequential</code> is a no-op.it should be removed. Generally, when we want to improve database insertion performance, the first thing to try is to perform <i>batch inserts</i>. Also, if you want to do an upsert, or insert only if an id does not exist, you could try to perform a single db operation like a &quot;merge&quot; statement, or a &quot;insert... on conflict do ...&quot; to reduce IO cost with the database. Finally, you might want to look into Spring libraries specialized for integration (spring-cloud-stream, spring-integration, spring-batch)"}],"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701672108,"creation_date":1701672108,"question_id":77597580,"body_markdown":"I have a Spring WebFlux project which works with large amount of data.\r\n\r\nIn my case I receive requests about 20000 requests per second. I have to write data without losing and blocking API endpoint. I have to write data with the fastest ways into database.\r\n\r\nSo regarding to my code and architecture. I chose SpringWebFlux, Reactive Kafka library for Spring WebFlux and R2DBC Postgresql. So What I am doing, I created a REST API endpoint to handle requests. The endpoint forwards request to ReactiveKafka using ReactiveKafkaProducerTemplate. I listen it by @KafkaListener. Inserting data into db.\r\n\r\nSharing my cod:\r\n\r\nController:\r\n\r\n      @PostMapping(value = &quot;/soap&quot;, produces = MediaType.TEXT_XML_VALUE, consumes = MediaType.TEXT_XML_VALUE)\r\n      public Mono&lt;ResponseEntity&lt;CardSuccessResponse&gt;&gt; handleCardData(@RequestBody CardDataRequest request) {\r\n        return producer.produce(request)\r\n                .map(ResponseEntity::ok);\r\n      }\r\n\r\n\r\nService:\r\n\r\n       public Mono&lt;CardSuccessResponse&gt; produce(CardDataRequest request) {\r\n        return Mono.justOrEmpty(CardDataTransferObjectMapper.mapToCardDataTransferObject(request))\r\n                .flatMap(object -&gt; {\r\n                    var key = UUID.randomUUID().toString();\r\n                    return reactiveKafkaProducerTemplate.send(topic, key, object);\r\n                })\r\n                .&lt;SenderResult&lt;Void&gt;&gt;handle((result, sink) -&gt; {\r\n                    if (result.exception() != null) {\r\n                        log.error(&quot;Error while sending data={} to topic={}&quot;, result.recordMetadata(), topic);\r\n                        sink.error(new SoapReceiverException(result.exception()));\r\n                        return;\r\n                    } else {\r\n                        log.debug(&quot;Data={} is successfully sent to topic={}&quot;, result.recordMetadata(), topic);\r\n                    }\r\n                    sink.next(result);\r\n                })\r\n                .thenReturn(CardSuccessResponse.builder()\r\n                        .body(CardSuccessResponse.Body.builder()\r\n                                .notifyResponse(new CardSuccessResponse.NotifyResponse())\r\n                                .build())\r\n                        .build())\r\n                .onErrorResume(throwable -&gt; {\r\n                    log.error(&quot;Error occurred while publishing CardDataTransferObject to topic={}.&quot;, topic, throwable);\r\n                    return Mono.error(new SoapReceiverException(throwable));\r\n                })\r\n                .subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public ReactiveKafkaConsumerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaConsumerTemplate() {\r\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(kafkaProperties.buildConsumerProperties(null)));\r\n    }\r\n\r\n    @Bean\r\n    public ReactiveKafkaProducerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaProducerTemplate() {\r\n        return new ReactiveKafkaProducerTemplate&lt;&gt;(SenderOptions.create(kafkaProperties.buildProducerProperties(null)));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, CardDataTransferObject&gt; consumerFactory) {\r\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setConcurrency(concurrency); // Set the number of listener threads\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;?&gt; kafkaBatchListenerContainerFactory(ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory) {\r\n        kafkaListenerContainerFactory.setBatchListener(true);\r\n        kafkaListenerContainerFactory.setBatchMessageConverter(new BatchMessagingMessageConverter()); // Customize the message converter if needed\r\n        return kafkaListenerContainerFactory;\r\n    }\r\n\r\nListener:\r\n\r\n    @KafkaListener(topics = &quot;${application.kafka.internal.topic.card-data}&quot;, groupId = &quot;${application.kafka.internal.consumer.group-id}&quot;, containerFactory = &quot;kafkaBatchListenerContainerFactory&quot;)\r\n    public void consumeCardDataTransferObject(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; records) {\r\n        log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Handle Kafka messages. size={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;, records.size());\r\n        try {\r\n            service.saveOrUpdate(records).subscribe();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error while inserting data.&quot;, e);\r\n        }\r\n    }\r\n\r\nDatabase call:\r\n\r\n     public Mono&lt;Void&gt; saveOrUpdate(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; requests) {\r\n        return Flux.fromIterable(requests)\r\n                .parallel()\r\n                .runOn(Schedulers.parallel())\r\n                .sequential()\r\n                .flatMap(record -&gt; {\r\n                            log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Received key={}, value={} from topic={} with offset={}, headers={}, partition={}, timestamp={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,\r\n                                    record.key(),\r\n                                    record.value(),\r\n                                    record.topic(),\r\n                                    record.offset(),\r\n                                    record.headers(),\r\n                                    record.partition(),\r\n                                    record.timestamp());\r\n                            var object = record.value();\r\n                            var cardDataOperations = cardDataOperationsMapper.toEntity(object);\r\n                            return cardDataRepository.findByNumber(object.getPrimaryAccountNumber())\r\n                                    .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is found by given account={}&quot;, data, object.getPrimaryAccountNumber()))\r\n                                    .onErrorResume(throwable -&gt; {\r\n                                        log.error(&quot;Could not find CardData by account={}&quot;, object.getPrimaryAccountNumber(), throwable);\r\n                                        return Mono.error(new SoapReceiverException(throwable));\r\n                                    })\r\n                                    .switchIfEmpty(cardDataRepository.save(cardDataMapper.toEntity(object))\r\n                                            .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is saved.&quot;, data))\r\n                                            .onErrorResume(throwable -&gt; {\r\n                                                log.error(&quot;Could not insert CardData&quot;, throwable);\r\n                                                return Mono.error(new SoapReceiverException(throwable));\r\n                                            }))\r\n                                    .doOnNext(data -&gt; {\r\n                                        cardDataOperations.setCardDataId(data.getId());\r\n                                        log.debug(&quot;Record of CardData with id={} is set to CardDataOperations={}&quot;, data.getId(), cardDataOperations);\r\n                                    })\r\n                                    .thenReturn(cardDataOperations);\r\n                        }\r\n                )\r\n                .collectList()\r\n                .flatMap(cardDataOperations -&gt; {\r\n                    log.debug(&quot;Number of {} CardDataOperations is saving...................&quot;, cardDataOperations.size());\r\n                    return operationRepository.saveAll(cardDataOperations)\r\n                            .onErrorResume(throwable -&gt; {\r\n                                log.error(&quot;Could not save CardDataOperations.&quot;, throwable);\r\n                                return Mono.error(new SoapReceiverException(throwable));\r\n                            })\r\n                            .then();\r\n                }).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n\r\n\r\nSo here some problems\r\n\r\n 1. Race condition may occur, because parallel queries are executed\r\n \r\n 2. R2DBC connection exception, because multiple threads can open connection more that set.\r\n 3. ***DuplicateKeyException*** may occur because reason of race condition on card_data table.\r\n 4. Insertion of records very slow. There no problems with handling requests and publishing them into Kafka. I tested endpoint using [k6][1] tool\r\n\r\nQuestion is: My technologies and architecture are correct? How to implement Kafka Listeners and logic in database service part. \r\n\r\nInstead of   `service.saveOrUpdate(records).subscribe();` If I use `  service.saveOrUpdate(records).block();` it writes faster. \r\n\r\n\r\n  [1]: https://k6.io","title":"Write large amount of data in Java","body":"<p>I have a Spring WebFlux project which works with large amount of data.</p>\n<p>In my case I receive requests about 20000 requests per second. I have to write data without losing and blocking API endpoint. I have to write data with the fastest ways into database.</p>\n<p>So regarding to my code and architecture. I chose SpringWebFlux, Reactive Kafka library for Spring WebFlux and R2DBC Postgresql. So What I am doing, I created a REST API endpoint to handle requests. The endpoint forwards request to ReactiveKafka using ReactiveKafkaProducerTemplate. I listen it by @KafkaListener. Inserting data into db.</p>\n<p>Sharing my cod:</p>\n<p>Controller:</p>\n<pre><code>  @PostMapping(value = &quot;/soap&quot;, produces = MediaType.TEXT_XML_VALUE, consumes = MediaType.TEXT_XML_VALUE)\n  public Mono&lt;ResponseEntity&lt;CardSuccessResponse&gt;&gt; handleCardData(@RequestBody CardDataRequest request) {\n    return producer.produce(request)\n            .map(ResponseEntity::ok);\n  }\n</code></pre>\n<p>Service:</p>\n<pre><code>   public Mono&lt;CardSuccessResponse&gt; produce(CardDataRequest request) {\n    return Mono.justOrEmpty(CardDataTransferObjectMapper.mapToCardDataTransferObject(request))\n            .flatMap(object -&gt; {\n                var key = UUID.randomUUID().toString();\n                return reactiveKafkaProducerTemplate.send(topic, key, object);\n            })\n            .&lt;SenderResult&lt;Void&gt;&gt;handle((result, sink) -&gt; {\n                if (result.exception() != null) {\n                    log.error(&quot;Error while sending data={} to topic={}&quot;, result.recordMetadata(), topic);\n                    sink.error(new SoapReceiverException(result.exception()));\n                    return;\n                } else {\n                    log.debug(&quot;Data={} is successfully sent to topic={}&quot;, result.recordMetadata(), topic);\n                }\n                sink.next(result);\n            })\n            .thenReturn(CardSuccessResponse.builder()\n                    .body(CardSuccessResponse.Body.builder()\n                            .notifyResponse(new CardSuccessResponse.NotifyResponse())\n                            .build())\n                    .build())\n            .onErrorResume(throwable -&gt; {\n                log.error(&quot;Error occurred while publishing CardDataTransferObject to topic={}.&quot;, topic, throwable);\n                return Mono.error(new SoapReceiverException(throwable));\n            })\n            .subscribeOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Bean\npublic ReactiveKafkaConsumerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaConsumerTemplate() {\n    return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(kafkaProperties.buildConsumerProperties(null)));\n}\n\n@Bean\npublic ReactiveKafkaProducerTemplate&lt;String, CardDataTransferObject&gt; reactiveKafkaProducerTemplate() {\n    return new ReactiveKafkaProducerTemplate&lt;&gt;(SenderOptions.create(kafkaProperties.buildProducerProperties(null)));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory(ConsumerFactory&lt;String, CardDataTransferObject&gt; consumerFactory) {\n    var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    factory.setConcurrency(concurrency); // Set the number of listener threads\n    return factory;\n}\n\n@Bean\npublic KafkaListenerContainerFactory&lt;?&gt; kafkaBatchListenerContainerFactory(ConcurrentKafkaListenerContainerFactory&lt;String, CardDataTransferObject&gt; kafkaListenerContainerFactory) {\n    kafkaListenerContainerFactory.setBatchListener(true);\n    kafkaListenerContainerFactory.setBatchMessageConverter(new BatchMessagingMessageConverter()); // Customize the message converter if needed\n    return kafkaListenerContainerFactory;\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@KafkaListener(topics = &quot;${application.kafka.internal.topic.card-data}&quot;, groupId = &quot;${application.kafka.internal.consumer.group-id}&quot;, containerFactory = &quot;kafkaBatchListenerContainerFactory&quot;)\npublic void consumeCardDataTransferObject(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; records) {\n    log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Handle Kafka messages. size={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;, records.size());\n    try {\n        service.saveOrUpdate(records).subscribe();\n    } catch (Exception e) {\n        log.error(&quot;Error while inserting data.&quot;, e);\n    }\n}\n</code></pre>\n<p>Database call:</p>\n<pre><code> public Mono&lt;Void&gt; saveOrUpdate(List&lt;ConsumerRecord&lt;String, CardDataTransferObject&gt;&gt; requests) {\n    return Flux.fromIterable(requests)\n            .parallel()\n            .runOn(Schedulers.parallel())\n            .sequential()\n            .flatMap(record -&gt; {\n                        log.debug(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Received key={}, value={} from topic={} with offset={}, headers={}, partition={}, timestamp={} &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;,\n                                record.key(),\n                                record.value(),\n                                record.topic(),\n                                record.offset(),\n                                record.headers(),\n                                record.partition(),\n                                record.timestamp());\n                        var object = record.value();\n                        var cardDataOperations = cardDataOperationsMapper.toEntity(object);\n                        return cardDataRepository.findByNumber(object.getPrimaryAccountNumber())\n                                .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is found by given account={}&quot;, data, object.getPrimaryAccountNumber()))\n                                .onErrorResume(throwable -&gt; {\n                                    log.error(&quot;Could not find CardData by account={}&quot;, object.getPrimaryAccountNumber(), throwable);\n                                    return Mono.error(new SoapReceiverException(throwable));\n                                })\n                                .switchIfEmpty(cardDataRepository.save(cardDataMapper.toEntity(object))\n                                        .doOnSuccess(data -&gt; log.debug(&quot;CardData={} is saved.&quot;, data))\n                                        .onErrorResume(throwable -&gt; {\n                                            log.error(&quot;Could not insert CardData&quot;, throwable);\n                                            return Mono.error(new SoapReceiverException(throwable));\n                                        }))\n                                .doOnNext(data -&gt; {\n                                    cardDataOperations.setCardDataId(data.getId());\n                                    log.debug(&quot;Record of CardData with id={} is set to CardDataOperations={}&quot;, data.getId(), cardDataOperations);\n                                })\n                                .thenReturn(cardDataOperations);\n                    }\n            )\n            .collectList()\n            .flatMap(cardDataOperations -&gt; {\n                log.debug(&quot;Number of {} CardDataOperations is saving...................&quot;, cardDataOperations.size());\n                return operationRepository.saveAll(cardDataOperations)\n                        .onErrorResume(throwable -&gt; {\n                            log.error(&quot;Could not save CardDataOperations.&quot;, throwable);\n                            return Mono.error(new SoapReceiverException(throwable));\n                        })\n                        .then();\n            }).subscribeOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>So here some problems</p>\n<ol>\n<li><p>Race condition may occur, because parallel queries are executed</p>\n</li>\n<li><p>R2DBC connection exception, because multiple threads can open connection more that set.</p>\n</li>\n<li><p><em><strong>DuplicateKeyException</strong></em> may occur because reason of race condition on card_data table.</p>\n</li>\n<li><p>Insertion of records very slow. There no problems with handling requests and publishing them into Kafka. I tested endpoint using <a href=\"https://k6.io\" rel=\"nofollow noreferrer\">k6</a> tool</p>\n</li>\n</ol>\n<p>Question is: My technologies and architecture are correct? How to implement Kafka Listeners and logic in database service part.</p>\n<p>Instead of   <code>service.saveOrUpdate(records).subscribe();</code> If I use <code>  service.saveOrUpdate(records).block();</code> it writes faster.</p>\n"},{"tags":["java","karate","gherkin"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1701671141,"post_id":77597526,"comment_id":136800114,"body_markdown":"as far as I know - a list of paths is supposed to work. this is not a high priority for the oss project, so I suggest you dive into the code (it is all open source) and contribute a PR. if you need enterprise support, use the contact form using your official email: https://www.karatelabs.io/support","body":"as far as I know - a list of paths is supposed to work. this is not a high priority for the oss project, so I suggest you dive into the code (it is all open source) and contribute a PR. if you need enterprise support, use the contact form using your official email: <a href=\"https://www.karatelabs.io/support\" rel=\"nofollow noreferrer\">karatelabs.io/support</a>"},{"owner":{"account_id":18887843,"reputation":73,"user_id":13778833,"display_name":"mukti wibowo"},"score":1,"creation_date":1701681759,"post_id":77597526,"comment_id":136801422,"body_markdown":"@PeterThomas thank you for your reply. Upon looking into the code, I found out that the method `findFeatureFiles` in `ResourceUtils` only handles 1 path and there&#39;s a TODO comment for handling multiple paths. I think that answers why 0 scenario run when I added multiple paths.","body":"@PeterThomas thank you for your reply. Upon looking into the code, I found out that the method <code>findFeatureFiles</code> in <code>ResourceUtils</code> only handles 1 path and there&#39;s a TODO comment for handling multiple paths. I think that answers why 0 scenario run when I added multiple paths."}],"owner":{"account_id":18887843,"reputation":73,"user_id":13778833,"display_name":"mukti wibowo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701670829,"creation_date":1701670829,"question_id":77597526,"body_markdown":"I am trying to add a functionality in my stack where I would only run specific scenarios which path and line are stored in my database. These scenarios would be injected to the `TestRunner` file.\r\n\r\n```\r\n  @Test\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public void testParallel() {\r\n    Assertions.assertThat(Runtime.version().feature())\r\n        .as(&quot;Java version should be 11&quot;).isEqualTo(11);\r\n\r\n    // Pretend this getting scenarios from DB\r\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n    paths.add(&quot;src/test/java/feature/test.feature:4&quot;);\r\n    paths.add(&quot;src/test/java/feature/test.feature:12&quot;);\r\n\r\n    Builder runnerBuilder = new Builder();\r\n    runnerBuilder.path(paths);\r\n    runnerBuilder.outputCucumberJson(true);\r\n    runnerBuilder.outputJunitXml(true);\r\n    runnerBuilder.hooks(getKarateHooks());\r\n    Results results = runnerBuilder.parallel(1);\r\n\r\n    ...\r\n  }\r\n```\r\n\r\n\r\nWhen I run this, there&#39;s no scenarios executed at all. But when I feed the list with just one scenario path it can run that one scenario. Not sure what&#39;s wrong with it. The `path` method can accept either a string or a list. So I would assume this is how you run multiple scenarios with path. But I got no luck.\r\n\r\nThese are the `path` methods in `Runner.class` in `karate-core`:\r\n```\r\n    public T path(String... value) {\r\n      this.path(Arrays.asList(value));\r\n      return this;\r\n    }\r\n\r\n    public T path(List&lt;String&gt; value) {\r\n      if (value != null) {\r\n        if (this.paths == null) {\r\n          this.paths = new ArrayList();\r\n        }\r\n\r\n        this.paths.addAll(value);\r\n      }\r\n\r\n      return this;\r\n    }\r\n```","title":"How to run multiple scenarios other than using tags in Karate?","body":"<p>I am trying to add a functionality in my stack where I would only run specific scenarios which path and line are stored in my database. These scenarios would be injected to the <code>TestRunner</code> file.</p>\n<pre><code>  @Test\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public void testParallel() {\n    Assertions.assertThat(Runtime.version().feature())\n        .as(&quot;Java version should be 11&quot;).isEqualTo(11);\n\n    // Pretend this getting scenarios from DB\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n    paths.add(&quot;src/test/java/feature/test.feature:4&quot;);\n    paths.add(&quot;src/test/java/feature/test.feature:12&quot;);\n\n    Builder runnerBuilder = new Builder();\n    runnerBuilder.path(paths);\n    runnerBuilder.outputCucumberJson(true);\n    runnerBuilder.outputJunitXml(true);\n    runnerBuilder.hooks(getKarateHooks());\n    Results results = runnerBuilder.parallel(1);\n\n    ...\n  }\n</code></pre>\n<p>When I run this, there's no scenarios executed at all. But when I feed the list with just one scenario path it can run that one scenario. Not sure what's wrong with it. The <code>path</code> method can accept either a string or a list. So I would assume this is how you run multiple scenarios with path. But I got no luck.</p>\n<p>These are the <code>path</code> methods in <code>Runner.class</code> in <code>karate-core</code>:</p>\n<pre><code>    public T path(String... value) {\n      this.path(Arrays.asList(value));\n      return this;\n    }\n\n    public T path(List&lt;String&gt; value) {\n      if (value != null) {\n        if (this.paths == null) {\n          this.paths = new ArrayList();\n        }\n\n        this.paths.addAll(value);\n      }\n\n      return this;\n    }\n</code></pre>\n"},{"tags":["javascript","java","c#","angularjs","validation"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1701674422,"post_id":77597517,"comment_id":136800411,"body_markdown":"If it is Javascript code, why you have tagged Java, C#?","body":"If it is Javascript code, why you have tagged Java, C#?"},{"owner":{"account_id":30059687,"reputation":1,"user_id":23036084,"display_name":"Sathiya Narayana"},"score":0,"creation_date":1701682095,"post_id":77597517,"comment_id":136801487,"body_markdown":"This Page name is View AssignedUsersController.js I&#39;m a intern so this is the page i need to do the task and changesin  my code that&#39;s it.","body":"This Page name is View AssignedUsersController.js I&#39;m a intern so this is the page i need to do the task and changesin  my code that&#39;s it."}],"owner":{"account_id":30059687,"reputation":1,"user_id":23036084,"display_name":"Sathiya Narayana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701670691,"creation_date":1701670691,"question_id":77597517,"body_markdown":"I&#39;m using Js/COntroller for Validation process.\r\nI want to Generate Same keys for group users.If the group having n number of users means every user should receive the same key.\r\n\r\n\r\n\r\n $scope.tableLoader = false;\r\n\r\n            // Assuming you have a variable or function to get the number of members\r\n            const numMembersInGroup = getNumberOfMembers(); // Replace this with your actual logic\r\n\r\n            // Generate a common 4-digit key for the entire group\r\n            const commonKey = generateCommonKey();\r\n\r\n            // Set up EnrolledGroupList\r\n            $scope.EnrolledGroupList = $sessionStorage.EnrolledUserListforQuiz.data;\r\n            scope.IndividualList = angular.copy($scope.EnrolledGroupList);\r\n\r\n            if ($scope.EnrolledGroupList.length === 0) {\r\n                $scope.NoRecordforGroup = true;\r\n                $scope.IsUserGrpSearch = false;\r\n            } else {\r\n                // Assign the common key to each user in the EnrolledGroupList\r\n                $scope.EnrolledGroupList.forEach(function (user) {\r\n                    user.QuizKey = commonKey;\r\n                });\r\n            }\r\n            scope.IndividualList = angular.copy($scope.EnrolledGroupList);\r\n\r\n            if ($scope.IndividualList.length === 0) {\r\n                $scope.NoRecordforIndividual = true;\r\n                $scope.IsIndUserSearch = false;\r\n                $scope.tab = 1;\r\n            } else {\r\n                // Assign the common key to each user in the IndividualList\r\n                $scope.IndividualList.forEach(function (user) {\r\n                    user.QuizKey = commonKey;\r\n                });\r\n            }\r\n            console.log(&#39;Common Key:&#39;, commonKey);\r\n            console.log(&#39;EnrolledGroupList:&#39;, $scope.EnrolledGroupList);\r\n            console.log(&#39;IndividualList:&#39;, $scope.IndividualList);\r\nI&#39;m expecting the exact code for same key will recieve to group users","title":"In Javascript/Controller page I want to Generate Same keys for group users","body":"<p>I'm using Js/COntroller for Validation process.\nI want to Generate Same keys for group users.If the group having n number of users means every user should receive the same key.</p>\n<p>$scope.tableLoader = false;</p>\n<pre><code>        // Assuming you have a variable or function to get the number of members\n        const numMembersInGroup = getNumberOfMembers(); // Replace this with your actual logic\n\n        // Generate a common 4-digit key for the entire group\n        const commonKey = generateCommonKey();\n\n        // Set up EnrolledGroupList\n        $scope.EnrolledGroupList = $sessionStorage.EnrolledUserListforQuiz.data;\n        scope.IndividualList = angular.copy($scope.EnrolledGroupList);\n\n        if ($scope.EnrolledGroupList.length === 0) {\n            $scope.NoRecordforGroup = true;\n            $scope.IsUserGrpSearch = false;\n        } else {\n            // Assign the common key to each user in the EnrolledGroupList\n            $scope.EnrolledGroupList.forEach(function (user) {\n                user.QuizKey = commonKey;\n            });\n        }\n        scope.IndividualList = angular.copy($scope.EnrolledGroupList);\n\n        if ($scope.IndividualList.length === 0) {\n            $scope.NoRecordforIndividual = true;\n            $scope.IsIndUserSearch = false;\n            $scope.tab = 1;\n        } else {\n            // Assign the common key to each user in the IndividualList\n            $scope.IndividualList.forEach(function (user) {\n                user.QuizKey = commonKey;\n            });\n        }\n        console.log('Common Key:', commonKey);\n        console.log('EnrolledGroupList:', $scope.EnrolledGroupList);\n        console.log('IndividualList:', $scope.IndividualList);\n</code></pre>\n<p>I'm expecting the exact code for same key will recieve to group users</p>\n"},{"tags":["java","mysql","spring-boot","stored-procedures","jparepository"],"owner":{"account_id":26055775,"reputation":1,"user_id":19758150,"display_name":"Ajay Krishnan A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701677076,"answer_count":0,"score":0,"last_activity_date":1701670563,"creation_date":1701670500,"question_id":77597506,"body_markdown":"When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;.\r\n\r\nWhen trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;. In springboot application I used @procedure annotation. But this can be executed\r\n@Procedure(procedureName = &quot;ctmis_egras.InsertPOSDataToMaster&quot;)\r\n\tvoid movePOSReceiptsToMasterTables();","title":"Index 8 out of bounds for length 7","body":"<p>When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;.</p>\n<p>When trying to call a procedure showing this &quot;Index 8 out of bounds for length 7&quot;. In springboot application I used @procedure annotation. But this can be executed\n@Procedure(procedureName = &quot;ctmis_egras.InsertPOSDataToMaster&quot;)\nvoid movePOSReceiptsToMasterTables();</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":3037336,"reputation":51,"user_id":2575099,"display_name":"Tiep"},"score":1,"creation_date":1382316380,"post_id":7919173,"comment_id":28899082,"body_markdown":"you can reference below link, and lock top 1 answer\r\nhttp://stackoverflow.com/questions/6200533/set-textview-style-bold-or-italic","body":"you can reference below link, and lock top 1 answer  <a href=\"http://stackoverflow.com/questions/6200533/set-textview-style-bold-or-italic\" title=\"set textview style bold or italic\">stackoverflow.com/questions/6200533/&hellip;</a>"},{"owner":{"account_id":1302525,"reputation":870,"user_id":1252158,"display_name":"Summved Jain"},"score":0,"creation_date":1480070350,"post_id":7919173,"comment_id":68826837,"body_markdown":"Please check my [answer here](http://stackoverflow.com/a/40802895/1252158). Hope this will help you","body":"Please check my <a href=\"http://stackoverflow.com/a/40802895/1252158\">answer here</a>. Hope this will help you"}],"answers":[{"comments":[{"owner":{"account_id":1400204,"reputation":4794,"user_id":1329126,"accept_rate":100,"display_name":"Sankar V"},"score":21,"creation_date":1420788676,"post_id":7919203,"comment_id":44114832,"body_markdown":"it should be `textview.setTypeface(textview.getTypeface(), Typeface.DEFAULT_BOLD);`","body":"it should be <code>textview.setTypeface(textview.getTypeface(), Typeface.DEFAULT_BOLD);</code>"},{"owner":{"account_id":1400204,"reputation":4794,"user_id":1329126,"accept_rate":100,"display_name":"Sankar V"},"score":2,"creation_date":1439186276,"post_id":7919203,"comment_id":51738222,"body_markdown":"@IlyaEremin to preserve the previously set font you need to use it like this.","body":"@IlyaEremin to preserve the previously set font you need to use it like this."},{"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"score":0,"creation_date":1439282110,"post_id":7919203,"comment_id":51784549,"body_markdown":"Edited my answer based on @SankarV comment.","body":"Edited my answer based on @SankarV comment."},{"owner":{"account_id":3000565,"reputation":2167,"user_id":2546146,"accept_rate":75,"display_name":"Iman Akbari"},"score":13,"creation_date":1455195107,"post_id":7919203,"comment_id":58386853,"body_markdown":"I think you should loose the DEFAULT:\nholder.title.setTypeface(holder.title.getTypeface(), Typeface.BOLD);","body":"I think you should loose the DEFAULT: holder.title.setTypeface(holder.title.getTypeface(), Typeface.BOLD);"},{"owner":{"account_id":2111085,"reputation":8537,"user_id":1876355,"accept_rate":91,"display_name":"Pierre"},"score":0,"creation_date":1552984079,"post_id":7919203,"comment_id":97206095,"body_markdown":"Actually `textview.getTypeface().getStyle()` is `android:textStyle`","body":"Actually <code>textview.getTypeface().getStyle()</code> is <code>android:textStyle</code>"}],"tags":[],"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"comment_count":5,"down_vote_count":1,"up_vote_count":521,"is_accepted":true,"score":520,"last_activity_date":1501100814,"creation_date":1319732967,"answer_id":7919203,"question_id":7919173,"body_markdown":"    textview.setTypeface(Typeface.DEFAULT_BOLD);\r\nsetTypeface is the Attribute textStyle.\r\n\r\nAs *Shankar V* added, to preserve the previously set typeface attributes you can use:\r\n\r\n    textview.setTypeface(textview.getTypeface(), Typeface.BOLD);","title":"Android - set TextView TextStyle programmatically?","body":"<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n\n<p>setTypeface is the Attribute textStyle.</p>\n\n<p>As <em>Shankar V</em> added, to preserve the previously set typeface attributes you can use:</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2050684,"reputation":534,"user_id":1829781,"accept_rate":67,"display_name":"athospy"},"score":0,"creation_date":1477779856,"post_id":7919216,"comment_id":67904028,"body_markdown":"setTextAppearance deprecated api level 23","body":"setTextAppearance deprecated api level 23"},{"owner":{"account_id":1098963,"reputation":1214,"user_id":1091864,"display_name":"MrPlow"},"score":1,"creation_date":1498835001,"post_id":7919216,"comment_id":76679644,"body_markdown":"there is a new method for api 23+ that just doesn&#39;t take a context argument.","body":"there is a new method for api 23+ that just doesn&#39;t take a context argument."}],"tags":[],"owner":{"account_id":353203,"reputation":11925,"user_id":690777,"accept_rate":67,"display_name":"peter.bartos"},"comment_count":2,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1319733054,"creation_date":1319733054,"answer_id":7919216,"question_id":7919173,"body_markdown":"Search for `setTextAppearance` or also `setTextTypeface`. There is similar question on stackoverflow: https://stackoverflow.com/questions/4630440/how-to-change-a-textviews-style-at-runtime","title":"Android - set TextView TextStyle programmatically?","body":"<p>Search for <code>setTextAppearance</code> or also <code>setTextTypeface</code>. There is similar question on stackoverflow: <a href=\"https://stackoverflow.com/questions/4630440/how-to-change-a-textviews-style-at-runtime\">How to change a TextView&#39;s style at runtime</a></p>\n"},{"tags":[],"owner":{"account_id":272300,"reputation":4685,"user_id":563306,"accept_rate":76,"display_name":"dcanh121"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556972735,"creation_date":1319740082,"answer_id":7920555,"question_id":7919173,"body_markdown":"As mentioned [here](https://stackoverflow.com/questions/3246447/how-to-set-the-style-attribute-programmatically-in-android/3246458#3246458), this feature is not currently supported.\r\n\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>As mentioned <a href=\"https://stackoverflow.com/questions/3246447/how-to-set-the-style-attribute-programmatically-in-android/3246458#3246458\">here</a>, this feature is not currently supported.</p>\n"},{"comments":[{"owner":{"account_id":1160251,"reputation":3564,"user_id":1139908,"accept_rate":61,"display_name":"karl"},"score":5,"creation_date":1394065878,"post_id":12102178,"comment_id":33724303,"body_markdown":"This will only set a subset of attributes that can be defined in a `&lt;style&gt;` tag. It does the common ones (size, color, style), but doesn&#39;t apply others (including padding, background, gravity, etc)","body":"This will only set a subset of attributes that can be defined in a <code>&lt;style&gt;</code> tag. It does the common ones (size, color, style), but doesn&#39;t apply others (including padding, background, gravity, etc)"},{"owner":{"account_id":896925,"reputation":1592,"user_id":933969,"accept_rate":100,"display_name":"William T. Mallard"},"score":7,"creation_date":1498670313,"post_id":12102178,"comment_id":76597924,"body_markdown":"Seems to require min API 23?","body":"Seems to require min API 23?"},{"owner":{"account_id":1098963,"reputation":1214,"user_id":1091864,"display_name":"MrPlow"},"score":5,"creation_date":1498835104,"post_id":12102178,"comment_id":76679710,"body_markdown":"there are two methods, one for api &lt; 23, and one for api 23+.  They appear identical except the one for &lt;23 takes a context argument and the one for 23+ does not. \n\nUnder the hood, the one for api 23+ calls the method for &lt;23 and uses the member context for the textview.","body":"there are two methods, one for api &lt; 23, and one for api 23+.  They appear identical except the one for &lt;23 takes a context argument and the one for 23+ does not.   Under the hood, the one for api 23+ calls the method for &lt;23 and uses the member context for the textview."}],"tags":[],"owner":{"account_id":359832,"reputation":10305,"user_id":701472,"accept_rate":75,"display_name":"Oscar Salguero"},"comment_count":3,"down_vote_count":0,"up_vote_count":176,"is_accepted":false,"score":176,"last_activity_date":1619191107,"creation_date":1345771932,"answer_id":12102178,"question_id":7919173,"body_markdown":"Let&#39;s say you have a style called RedHUGEText on your values/styles.xml:\r\n\r\n    &lt;style name=&quot;RedHUGEText&quot; parent=&quot;@android:style/Widget.TextView&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;@dimen/text_size_huge&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/red&lt;/item&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nJust create your TextView as usual in the XML layout/your_layout.xml file, let&#39;s say:\r\n\r\n    &lt;TextView android:id=&quot;@+id/text_view_title&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content \r\n        android:text=&quot;FOO&quot; /&gt;\r\n\r\nAnd in the java code of your Activity you do this:\r\n\r\n    TextView textViewTitle = (TextView) findViewById(R.id.text_view_title);\r\n    textViewTitle.setTextAppearance(this, R.style.RedHUGEText);\r\n\r\nIt worked for me! And it applied color, size, gravity, etc. I&#39;ve used it on handsets and tablets with Android API Levels from 8 to 17 with no problems. Note that as of Android 23, that method has been deprecated. The context argument has been dropped, so the last line would need to be:\r\n\r\n    textViewTitle.setTextAppearance(R.style.RedHUGEText);\r\n\r\n\r\n**To support all API levels use androidX `TextViewCompat`**\r\n\r\n    TextViewCompat.setTextAppearance(textViewTitle, R.style.RedHUGEText)\r\n\r\nRemember... this is useful only if the style of the text really depends on a condition on your Java logic or you are building the UI &quot;on the fly&quot; with code... if it doesn&#39;t, it is better to just do:\r\n\r\n    &lt;TextView android:id=&quot;@+id/text_view_title&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content \r\n        android:text=&quot;FOO&quot; \r\n        style=&quot;@style/RedHUGEText&quot; /&gt;\r\n\r\nYou can always have it your way!\r\n\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>Let's say you have a style called RedHUGEText on your values/styles.xml:</p>\n<pre><code>&lt;style name=&quot;RedHUGEText&quot; parent=&quot;@android:style/Widget.TextView&quot;&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;@dimen/text_size_huge&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/red&lt;/item&gt;\n    &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Just create your TextView as usual in the XML layout/your_layout.xml file, let's say:</p>\n<pre><code>&lt;TextView android:id=&quot;@+id/text_view_title&quot; \n    android:layout_width=&quot;fill_parent&quot; \n    android:layout_height=&quot;wrap_content \n    android:text=&quot;FOO&quot; /&gt;\n</code></pre>\n<p>And in the java code of your Activity you do this:</p>\n<pre><code>TextView textViewTitle = (TextView) findViewById(R.id.text_view_title);\ntextViewTitle.setTextAppearance(this, R.style.RedHUGEText);\n</code></pre>\n<p>It worked for me! And it applied color, size, gravity, etc. I've used it on handsets and tablets with Android API Levels from 8 to 17 with no problems. Note that as of Android 23, that method has been deprecated. The context argument has been dropped, so the last line would need to be:</p>\n<pre><code>textViewTitle.setTextAppearance(R.style.RedHUGEText);\n</code></pre>\n<p><strong>To support all API levels use androidX <code>TextViewCompat</code></strong></p>\n<pre><code>TextViewCompat.setTextAppearance(textViewTitle, R.style.RedHUGEText)\n</code></pre>\n<p>Remember... this is useful only if the style of the text really depends on a condition on your Java logic or you are building the UI &quot;on the fly&quot; with code... if it doesn't, it is better to just do:</p>\n<pre><code>&lt;TextView android:id=&quot;@+id/text_view_title&quot; \n    android:layout_width=&quot;fill_parent&quot; \n    android:layout_height=&quot;wrap_content \n    android:text=&quot;FOO&quot; \n    style=&quot;@style/RedHUGEText&quot; /&gt;\n</code></pre>\n<p>You can always have it your way!</p>\n"},{"tags":[],"owner":{"account_id":1550230,"reputation":491,"user_id":1442795,"accept_rate":70,"display_name":"andresmafra"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372087782,"creation_date":1372087782,"answer_id":17279275,"question_id":7919173,"body_markdown":"I&#180;ve resolved it with two simple methods.\r\n\r\nFollow the explanation.\r\n\r\nMy existing style declaration:\r\n\r\n    &lt;style name=&quot;SearchInfoText&quot;&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;24sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/Church_Grey&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowColor&quot;&gt;@color/Shadow_Church&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowRadius&quot;&gt;3&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowDx&quot;&gt;1&lt;/item&gt;\r\n        &lt;item name=&quot;android:shadowDy&quot;&gt;1&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nMy Android Java code:\r\n\r\n\t\tTextView locationName = new TextView(getSupportActivity());\r\n\t\tlocationName.setId(IdGenerator.generateViewId());\r\n\t\tlocationName.setText(location.getName());\r\n\t\tlocationName.setLayoutParams(super.centerHorizontal());\r\n\t\tlocationName.setTextSize(24f);\r\n\t\tlocationName.setPadding(0, 0, 0, 15);\r\n\t\tlocationName.setTextColor(getResources().getColor(R.color.Church_Grey));\r\n\t\tlocationName.setShadowLayer(3, 1, 1,  getResources().getColor(R.color.Shadow_Church));\r\n\r\nRegards.","title":"Android - set TextView TextStyle programmatically?","body":"<p>I´ve resolved it with two simple methods.</p>\n\n<p>Follow the explanation.</p>\n\n<p>My existing style declaration:</p>\n\n<pre><code>&lt;style name=\"SearchInfoText\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;24sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/Church_Grey&lt;/item&gt;\n    &lt;item name=\"android:shadowColor\"&gt;@color/Shadow_Church&lt;/item&gt;\n    &lt;item name=\"android:shadowRadius\"&gt;3&lt;/item&gt;\n    &lt;item name=\"android:shadowDx\"&gt;1&lt;/item&gt;\n    &lt;item name=\"android:shadowDy\"&gt;1&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>My Android Java code:</p>\n\n<pre><code>    TextView locationName = new TextView(getSupportActivity());\n    locationName.setId(IdGenerator.generateViewId());\n    locationName.setText(location.getName());\n    locationName.setLayoutParams(super.centerHorizontal());\n    locationName.setTextSize(24f);\n    locationName.setPadding(0, 0, 0, 15);\n    locationName.setTextColor(getResources().getColor(R.color.Church_Grey));\n    locationName.setShadowLayer(3, 1, 1,  getResources().getColor(R.color.Shadow_Church));\n</code></pre>\n\n<p>Regards.</p>\n"},{"comments":[{"owner":{"account_id":1475885,"reputation":2704,"user_id":1386273,"display_name":"ashario"},"score":0,"creation_date":1523161613,"post_id":17614835,"comment_id":86441954,"body_markdown":"setTextAppearance() is the answer I was after in order to apply a custom style defined in my XML. Thanks.","body":"setTextAppearance() is the answer I was after in order to apply a custom style defined in my XML. Thanks."}],"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"comment_count":1,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1423070146,"creation_date":1373631772,"answer_id":17614835,"question_id":7919173,"body_markdown":"So many way to achieve this task some are below:-\r\n\r\n**1.**\r\n\r\n    String text_view_str = &quot;&lt;b&gt;Bolded text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, even &lt;u&gt;underlined&lt;/u&gt;!&quot;;\r\n    TextView tv = (TextView)findViewById(R.id.ur_text_view_id);\r\n    tv.setText(Html.fromHtml(text_view_str));\r\n\r\n**2.**\r\n\r\n    tv.setTypeface(null, Typeface.BOLD);\r\n    tv.setTypeface(null, Typeface.ITALIC);\r\n    tv.setTypeface(null, Typeface.BOLD_ITALIC);\r\n    tv.setTypeface(null, Typeface.NORMAL);\r\n\r\n\r\n**3.**\r\n\r\n    SpannableString spannablecontent=new SpannableString(o.content.toString());\r\n    spannablecontent.setSpan(new StyleSpan(android.graphics.Typeface.BOLD_ITALIC), \r\n                             0,spannablecontent.length(), 0);\r\n    // set Text here\r\n    tt.setText(spannablecontent);\r\n\r\n\r\n**4.**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    \r\n        &lt;style name=&quot;boldText&quot;&gt;\r\n            &lt;item name=&quot;android:textStyle&quot;&gt;bold|italic&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;#FFFFFF&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;normalText&quot;&gt;\r\n            &lt;item name=&quot;android:textStyle&quot;&gt;normal&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;#C0C0C0&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n     tv.setTextAppearance(getApplicationContext(), R.style.boldText);\r\n                    \r\n\r\n**or if u want through xml**\r\n\r\n    android:textStyle=&quot;normal&quot;\r\n    android:textStyle=&quot;normal|bold&quot;\r\n    android:textStyle=&quot;normal|italic&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    android:textStyle=&quot;bold|italic&quot;\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>So many way to achieve this task some are below:-</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>String text_view_str = \"&lt;b&gt;Bolded text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, even &lt;u&gt;underlined&lt;/u&gt;!\";\nTextView tv = (TextView)findViewById(R.id.ur_text_view_id);\ntv.setText(Html.fromHtml(text_view_str));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>tv.setTypeface(null, Typeface.BOLD);\ntv.setTypeface(null, Typeface.ITALIC);\ntv.setTypeface(null, Typeface.BOLD_ITALIC);\ntv.setTypeface(null, Typeface.NORMAL);\n</code></pre>\n\n<p><strong>3.</strong></p>\n\n<pre><code>SpannableString spannablecontent=new SpannableString(o.content.toString());\nspannablecontent.setSpan(new StyleSpan(android.graphics.Typeface.BOLD_ITALIC), \n                         0,spannablecontent.length(), 0);\n// set Text here\ntt.setText(spannablecontent);\n</code></pre>\n\n<p><strong>4.</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n\n    &lt;style name=\"boldText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;bold|italic&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"normalText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;normal&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#C0C0C0&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n\n tv.setTextAppearance(getApplicationContext(), R.style.boldText);\n</code></pre>\n\n<p><strong>or if u want through xml</strong></p>\n\n<pre><code>android:textStyle=\"normal\"\nandroid:textStyle=\"normal|bold\"\nandroid:textStyle=\"normal|italic\"\nandroid:textStyle=\"bold\"\nandroid:textStyle=\"bold|italic\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":177993,"reputation":2321,"user_id":409695,"display_name":"Kevin Grant"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1383156728,"creation_date":1383156728,"answer_id":19690713,"question_id":7919173,"body_markdown":"This question is asked in a lot of places in a lot of different ways. I originally answered it here but I feel it&#39;s relevant in this thread as well (since i ended up [here][1] when I was searching for an answer).\r\n\r\nThere is no one line solution to this problem, but this worked for my use case. The problem is, the &#39;View(context, attrs, defStyle)&#39; constructor does not refer to an actual style, it wants an attribute. So, we will:\r\n\r\n1. Define an attribute \r\n2. Create a style that you want to use\r\n2. Apply a style for that attribute on our theme\r\n3. Create new instances of our view with that attribute\r\n\r\nIn &#39;res/values/attrs.xml&#39;, define a new attribute:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;attr name=&quot;customTextViewStyle&quot; format=&quot;reference&quot;/&gt;\r\n        ...\r\n    &lt;/resources&gt;    \r\n\r\nIn res/values/styles.xml&#39; I&#39;m going to create the style I want to use on my custom TextView\r\n\r\n    &lt;style name=&quot;CustomTextView&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:paddingLeft&quot;&gt;14dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIn &#39;res/values/themes.xml&#39; or &#39;res/values/styles.xml&#39;, modify the theme for your application / activity and add the following style:\r\n\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;AppBaseTheme&quot; parent=&quot;android:Theme.Light&quot;&gt;\r\n            &lt;item name=&quot;@attr/customTextViewStyle&quot;&gt;@style/CustomTextView&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        ... \r\n    &lt;/resources&gt;\r\n\r\nFinally, in your custom TextView, you can now use the constructor with the attribute and it will receive your style\r\n\r\n    public class CustomTextView extends TextView {\r\n\r\n        public CustomTextView(Context context) {\r\n           super(context, null, R.attr.customTextView);\r\n        }\r\n    }\r\n\r\nIt&#39;s worth noting that I repeatedly used customTextView in different variants and different places, but it is in no way required that the name of the view match the style or the attribute or anything. Also, this technique should work with any custom view, not just TextViews.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5051753/how-do-i-apply-a-style-programmatically/19690509#19690509","title":"Android - set TextView TextStyle programmatically?","body":"<p>This question is asked in a lot of places in a lot of different ways. I originally answered it here but I feel it's relevant in this thread as well (since i ended up <a href=\"https://stackoverflow.com/questions/5051753/how-do-i-apply-a-style-programmatically/19690509#19690509\">here</a> when I was searching for an answer).</p>\n\n<p>There is no one line solution to this problem, but this worked for my use case. The problem is, the 'View(context, attrs, defStyle)' constructor does not refer to an actual style, it wants an attribute. So, we will:</p>\n\n<ol>\n<li>Define an attribute </li>\n<li>Create a style that you want to use</li>\n<li>Apply a style for that attribute on our theme</li>\n<li>Create new instances of our view with that attribute</li>\n</ol>\n\n<p>In 'res/values/attrs.xml', define a new attribute:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;attr name=\"customTextViewStyle\" format=\"reference\"/&gt;\n    ...\n&lt;/resources&gt;    \n</code></pre>\n\n<p>In res/values/styles.xml' I'm going to create the style I want to use on my custom TextView</p>\n\n<pre><code>&lt;style name=\"CustomTextView\"&gt;\n    &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/white&lt;/item&gt;\n    &lt;item name=\"android:paddingLeft\"&gt;14dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>In 'res/values/themes.xml' or 'res/values/styles.xml', modify the theme for your application / activity and add the following style:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Light\"&gt;\n        &lt;item name=\"@attr/customTextViewStyle\"&gt;@style/CustomTextView&lt;/item&gt;\n    &lt;/style&gt;\n    ... \n&lt;/resources&gt;\n</code></pre>\n\n<p>Finally, in your custom TextView, you can now use the constructor with the attribute and it will receive your style</p>\n\n<pre><code>public class CustomTextView extends TextView {\n\n    public CustomTextView(Context context) {\n       super(context, null, R.attr.customTextView);\n    }\n}\n</code></pre>\n\n<p>It's worth noting that I repeatedly used customTextView in different variants and different places, but it is in no way required that the name of the view match the style or the attribute or anything. Also, this technique should work with any custom view, not just TextViews.</p>\n"},{"tags":[],"owner":{"account_id":318582,"reputation":15242,"user_id":635887,"display_name":"Ray Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468365128,"creation_date":1468365128,"answer_id":38340253,"question_id":7919173,"body_markdown":"This worked for me\r\n\r\n    textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\r\nor \r\n\r\n    textview.setTypeface(Typeface.DEFAULT_BOLD);\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>This worked for me</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1791757,"reputation":22226,"user_id":1631967,"display_name":"aminography"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1546275937,"creation_date":1538228565,"answer_id":52568928,"question_id":7919173,"body_markdown":"• `Kotlin Version`\r\n---\r\n\r\nTo retain current font in addition to text style:\r\n\r\n    textView.apply {\r\n        setTypeface(typeface, Typeface.NORMAL)\r\n        // or\r\n        setTypeface(typeface, Typeface.BOLD)\r\n        // or\r\n        setTypeface(typeface, Typeface.ITALIC)\r\n        // or\r\n        setTypeface(typeface, Typeface.BOLD_ITALIC)\r\n    }","title":"Android - set TextView TextStyle programmatically?","body":"<h2>• <code>Kotlin Version</code></h2>\n\n<p>To retain current font in addition to text style:</p>\n\n<pre><code>textView.apply {\n    setTypeface(typeface, Typeface.NORMAL)\n    // or\n    setTypeface(typeface, Typeface.BOLD)\n    // or\n    setTypeface(typeface, Typeface.ITALIC)\n    // or\n    setTypeface(typeface, Typeface.BOLD_ITALIC)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8100439,"reputation":21,"user_id":6103618,"display_name":"insane_warewolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580301049,"creation_date":1580301049,"answer_id":59967147,"question_id":7919173,"body_markdown":"You may try this one\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    textView.setTextAppearance(R.style.Lato_Bold);\r\n                } else {\r\n                    textView.setTextAppearance(getActivity(), R.style.Lato_Bold);\r\n                }","title":"Android - set TextView TextStyle programmatically?","body":"<p>You may try this one</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                textView.setTextAppearance(R.style.Lato_Bold);\n            } else {\n                textView.setTextAppearance(getActivity(), R.style.Lato_Bold);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6552812,"reputation":10027,"user_id":5066615,"display_name":"Rohan Taneja"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588162856,"creation_date":1588162856,"answer_id":61501702,"question_id":7919173,"body_markdown":"Since `setTextAppearance(resId)` is only available for API 23 and above, use:\r\n\r\n`TextViewCompat.setTextAppearance(textViewGoesHere, resId)`\r\n\r\nThis method is internally implemented as follows:\r\n\r\n```\r\npublic static void setTextAppearance(@NonNull TextView textView, @StyleRes int resId) {\r\n    if (Build.VERSION.SDK_INT &gt;= 23) {\r\n        textView.setTextAppearance(resId);\r\n    } else {\r\n        textView.setTextAppearance(textView.getContext(), resId);\r\n    }\r\n}\r\n```\r\n","title":"Android - set TextView TextStyle programmatically?","body":"<p>Since <code>setTextAppearance(resId)</code> is only available for API 23 and above, use:</p>\n\n<p><code>TextViewCompat.setTextAppearance(textViewGoesHere, resId)</code></p>\n\n<p>This method is internally implemented as follows:</p>\n\n<pre><code>public static void setTextAppearance(@NonNull TextView textView, @StyleRes int resId) {\n    if (Build.VERSION.SDK_INT &gt;= 23) {\n        textView.setTextAppearance(resId);\n    } else {\n        textView.setTextAppearance(textView.getContext(), resId);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14285405,"reputation":140,"user_id":10318865,"display_name":"Muhammad Haseeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642414008,"creation_date":1642412652,"answer_id":70739303,"question_id":7919173,"body_markdown":"This Works For Me\r\n\r\n    msg.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\r\n    OR\r\n    TextView.setTypeface(msg.getTypeface(),Typeface.NORMAL);\r\n\r\nInstead Off\r\n\r\n    TextView.setTypeface(Typeface.DEFAULT_BOLD);","title":"Android - set TextView TextStyle programmatically?","body":"<p>This Works For Me</p>\n<pre><code>msg.setTypeface(Typeface.defaultFromStyle(Typeface.NORMAL));\nOR\nTextView.setTypeface(msg.getTypeface(),Typeface.NORMAL);\n</code></pre>\n<p>Instead Off</p>\n<pre><code>TextView.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671557624,"creation_date":1671557624,"answer_id":74866806,"question_id":7919173,"body_markdown":"Using data binding and Kotlin\r\n\r\n\r\n    @BindingAdapter(&quot;textViewStyle&quot;)\r\n    fun TextView.bindTextViewStyle(styleResourceId: Int) {\r\n        TextViewCompat.setTextAppearance(this, styleResourceId)\r\n    }\r\n\r\nXML\r\n\r\n     &lt;TextView\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:text=&quot;test text&quot;\r\n       bind:textViewStyle=&quot;@{styleResId}&quot; /&gt;","title":"Android - set TextView TextStyle programmatically?","body":"<p>Using data binding and Kotlin</p>\n<pre><code>@BindingAdapter(&quot;textViewStyle&quot;)\nfun TextView.bindTextViewStyle(styleResourceId: Int) {\n    TextViewCompat.setTextAppearance(this, styleResourceId)\n}\n</code></pre>\n<p>XML</p>\n<pre><code> &lt;TextView\n   android:layout_width=&quot;wrap_content&quot;\n   android:text=&quot;test text&quot;\n   bind:textViewStyle=&quot;@{styleResId}&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701669784,"creation_date":1701669784,"answer_id":77597469,"question_id":7919173,"body_markdown":"Kotlin extension function for `changing style without changing typeface`:\r\n\r\n    fun TextView.setTextStyle(style: Int) {\r\n        typeface = when (style) {\r\n            Typeface.NORMAL,\r\n            Typeface.BOLD,\r\n            Typeface.ITALIC,\r\n            Typeface.BOLD_ITALIC -&gt; Typeface.create(typeface, style)\r\n\r\n            else -&gt; throw IllegalArgumentException(&quot;Invalid text style. Use NORMAL, BOLD, ITALIC, or BOLD_ITALIC&quot;)\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    textView.setTextStyle(Typeface.BOLD_ITALIC)","title":"Android - set TextView TextStyle programmatically?","body":"<p>Kotlin extension function for <code>changing style without changing typeface</code>:</p>\n<pre><code>fun TextView.setTextStyle(style: Int) {\n    typeface = when (style) {\n        Typeface.NORMAL,\n        Typeface.BOLD,\n        Typeface.ITALIC,\n        Typeface.BOLD_ITALIC -&gt; Typeface.create(typeface, style)\n\n        else -&gt; throw IllegalArgumentException(&quot;Invalid text style. Use NORMAL, BOLD, ITALIC, or BOLD_ITALIC&quot;)\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>textView.setTextStyle(Typeface.BOLD_ITALIC)\n</code></pre>\n"}],"owner":{"account_id":57536,"reputation":89154,"user_id":172350,"accept_rate":69,"display_name":"Jake Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315824,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":7919203,"answer_count":14,"score":309,"last_activity_date":1701669784,"creation_date":1319732809,"question_id":7919173,"body_markdown":"Is there a way to set the `textStyle` attribute of a `TextView` programmatically? There doesn&#39;t appear to be a `setTextStyle()` method.\r\n\r\nTo be clear, I am not talking about View / Widget styles! I am talking about the following:\r\n\r\n    &lt;TextView\r\n      android:id=&quot;@+id/my_text&quot;\r\n      android:layout_width=&quot;fill_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:text=&quot;Hello World&quot;\r\n      android:textStyle=&quot;bold&quot; /&gt;","title":"Android - set TextView TextStyle programmatically?","body":"<p>Is there a way to set the <code>textStyle</code> attribute of a <code>TextView</code> programmatically? There doesn't appear to be a <code>setTextStyle()</code> method.</p>\n\n<p>To be clear, I am not talking about View / Widget styles! I am talking about the following:</p>\n\n<pre><code>&lt;TextView\n  android:id=\"@+id/my_text\"\n  android:layout_width=\"fill_parent\"\n  android:layout_height=\"wrap_content\"\n  android:text=\"Hello World\"\n  android:textStyle=\"bold\" /&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","eclipse","jdbc"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701398789,"post_id":77582719,"comment_id":136773723,"body_markdown":"You want a type 4 connection. Type 3 is a largely archaic model. It may be entirely archaic at this point. It involved a native driver bridge. Posting the actual settings you&#39;re trying (a URL) might help.","body":"You want a type 4 connection. Type 3 is a largely archaic model. It may be entirely archaic at this point. It involved a native driver bridge. Posting the actual settings you&#39;re trying (a URL) might help."}],"answers":[{"comments":[{"owner":{"account_id":14741361,"reputation":1,"user_id":10645964,"display_name":"FieldMouse"},"score":0,"creation_date":1701668710,"post_id":77582772,"comment_id":136799919,"body_markdown":"Thank you for your source code.  It works, and helps to illuminate where I am actually having trouble.  I will see if I can update my original post to show what I mean.","body":"Thank you for your source code.  It works, and helps to illuminate where I am actually having trouble.  I will see if I can update my original post to show what I mean."}],"tags":[],"owner":{"account_id":30035845,"reputation":1,"user_id":23017835,"display_name":"gman1441"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701399486,"creation_date":1701399486,"answer_id":77582772,"question_id":77582719,"body_markdown":"The error message indicates that the authentication type 10 is not supported. You need to check whether the authentication scheme used by the driver is supported by the PostgreSQL server. You also need to ensure that the pg_hba.conf file has been configured to include the client&#39;s IP address or subnet.   \r\n  \r\nYou can try changing the authentication method used by PostgreSQL by modifying the pg_hba.conf file. Here&#39;s a sample configuration that allows all clients from the local network to connect using password authentication:  \r\n   \r\n```  \r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD  \r\nhost    all             all             192.168.0.0/24          md5  \r\n```  \r\n   \r\nIn this example, clients in the 192.168.0.0/24 subnet are allowed to connect to any database as any user using the md5 authentication method.  \r\n   \r\nYou can find more information about configuring the pg_hba.conf file in the PostgreSQL documentation: https://www.postgresql.org/docs/current/auth-pg-hba-conf.html  \r\n   \r\nYou may also want to check that the JDBC driver you are using is compatible with your version of PostgreSQL. You can download the latest JDBC driver for PostgreSQL from the official website: https://jdbc.postgresql.org/download.html  \r\n   \r\nFinally, here is a sample code to connect to a PostgreSQL database using JDBC:  \r\n   \r\n```java  \r\nimport java.sql.Connection;  \r\nimport java.sql.DriverManager;  \r\nimport java.sql.SQLException;  \r\n   \r\npublic class PostgreSQLJDBC {  \r\n   public static void main(String[] args) {  \r\n      Connection connection = null;  \r\n      try {  \r\n         // Load the PostgreSQL JDBC driver  \r\n         Class.forName(&quot;org.postgresql.Driver&quot;);  \r\n  \r\n         // Create a connection to the database  \r\n         String url = &quot;jdbc:postgresql://localhost:5432/mydatabase&quot;;  \r\n         String user = &quot;myuser&quot;;  \r\n         String password = &quot;mypassword&quot;;  \r\n         connection = DriverManager.getConnection(url, user, password);  \r\n  \r\n         // Test the connection  \r\n         if (connection != null) {  \r\n            System.out.println(&quot;Connected to the database!&quot;);  \r\n         } else {  \r\n            System.out.println(&quot;Failed to make connection!&quot;);  \r\n         }  \r\n      } catch (SQLException e) {  \r\n         System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());  \r\n      } catch (Exception e) {  \r\n         e.printStackTrace();  \r\n      } finally {  \r\n         try {  \r\n            if (connection != null)  \r\n               connection.close();  \r\n         } catch (SQLException e) {  \r\n            e.printStackTrace();  \r\n         }  \r\n      }  \r\n   }  \r\n}  \r\n```  \r\n   \r\nReplace mydatabase, myuser, and mypassword with the appropriate values for your database.","title":"Eclipse PostgreSQL JDBC ping fails","body":"<p>The error message indicates that the authentication type 10 is not supported. You need to check whether the authentication scheme used by the driver is supported by the PostgreSQL server. You also need to ensure that the pg_hba.conf file has been configured to include the client's IP address or subnet.</p>\n<p>You can try changing the authentication method used by PostgreSQL by modifying the pg_hba.conf file. Here's a sample configuration that allows all clients from the local network to connect using password authentication:</p>\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD  \nhost    all             all             192.168.0.0/24          md5  \n</code></pre>\n<p>In this example, clients in the 192.168.0.0/24 subnet are allowed to connect to any database as any user using the md5 authentication method.</p>\n<p>You can find more information about configuring the pg_hba.conf file in the PostgreSQL documentation: <a href=\"https://www.postgresql.org/docs/current/auth-pg-hba-conf.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/auth-pg-hba-conf.html</a></p>\n<p>You may also want to check that the JDBC driver you are using is compatible with your version of PostgreSQL. You can download the latest JDBC driver for PostgreSQL from the official website: <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download.html</a></p>\n<p>Finally, here is a sample code to connect to a PostgreSQL database using JDBC:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;  \nimport java.sql.DriverManager;  \nimport java.sql.SQLException;  \n   \npublic class PostgreSQLJDBC {  \n   public static void main(String[] args) {  \n      Connection connection = null;  \n      try {  \n         // Load the PostgreSQL JDBC driver  \n         Class.forName(&quot;org.postgresql.Driver&quot;);  \n  \n         // Create a connection to the database  \n         String url = &quot;jdbc:postgresql://localhost:5432/mydatabase&quot;;  \n         String user = &quot;myuser&quot;;  \n         String password = &quot;mypassword&quot;;  \n         connection = DriverManager.getConnection(url, user, password);  \n  \n         // Test the connection  \n         if (connection != null) {  \n            System.out.println(&quot;Connected to the database!&quot;);  \n         } else {  \n            System.out.println(&quot;Failed to make connection!&quot;);  \n         }  \n      } catch (SQLException e) {  \n         System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());  \n      } catch (Exception e) {  \n         e.printStackTrace();  \n      } finally {  \n         try {  \n            if (connection != null)  \n               connection.close();  \n         } catch (SQLException e) {  \n            e.printStackTrace();  \n         }  \n      }  \n   }  \n}  \n</code></pre>\n<p>Replace mydatabase, myuser, and mypassword with the appropriate values for your database.</p>\n"}],"owner":{"account_id":14741361,"reputation":1,"user_id":10645964,"display_name":"FieldMouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701669730,"creation_date":1701398390,"question_id":77582719,"body_markdown":"In Eclipse I am trying to set up a PostgreSQL JDBC connection and do a ping.  The ping fails with the error message shown below.  How can I fix it to make it work?\r\n\r\n```\r\norg.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client&#39;s IP address or subnet, and that it is using an authentication scheme supported by the driver.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:403)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:108)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n\tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n\tat org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n\tat org.postgresql.Driver.connect(Driver.java:267)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.createConnection(PostgreSQLJDBCConnection.java:87)\r\n\tat org.eclipse.datatools.connectivity.DriverConnectionBase.internalCreateConnection(DriverConnectionBase.java:105)\r\n\tat org.eclipse.datatools.connectivity.DriverConnectionBase.open(DriverConnectionBase.java:54)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.&lt;init&gt;(PostgreSQLJDBCConnection.java:47)\r\n\tat org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLConnectionFactory.createConnection(PostgreSQLConnectionFactory.java:51)\r\n\tat org.eclipse.datatools.connectivity.internal.ConnectionFactoryProvider.createConnection(ConnectionFactoryProvider.java:83)\r\n\tat org.eclipse.datatools.connectivity.internal.ConnectionProfile.createConnection(ConnectionProfile.java:359)\r\n\tat org.eclipse.datatools.connectivity.ui.PingJob.createTestConnection(PingJob.java:76)\r\n\tat org.eclipse.datatools.connectivity.ui.PingJob.run(PingJob.java:59)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n```\r\n\r\n\r\nI confiigured both JDBC 3 and 4 connections in Eclipse, but both fail.\r\n\r\nHowever, accessing the target PostgreSQL database using the psql from the command line works fine.\r\n\r\nFurthermore, accessing the target PostgreSQL database using JDBC through the Squirrel SQL Java-based SQL client also works.\r\n\r\n\r\n----------\r\n\r\n**UPDATE**\r\n\r\nAccessing the same PostgreSQL database via the [Data Source Explorer][1] produces the above error.  Note that if you code the JDBC access as in the answer below the program works, but this view does not.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T11Sh.png","title":"Eclipse PostgreSQL JDBC ping fails","body":"<p>In Eclipse I am trying to set up a PostgreSQL JDBC connection and do a ping.  The ping fails with the error message shown below.  How can I fix it to make it work?</p>\n<pre><code>org.postgresql.util.PSQLException: The authentication type 10 is not supported. Check that you have configured the pg_hba.conf file to include the client's IP address or subnet, and that it is using an authentication scheme supported by the driver.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:403)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:108)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n    at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n    at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n    at org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\n    at org.postgresql.Driver.makeConnection(Driver.java:393)\n    at org.postgresql.Driver.connect(Driver.java:267)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.createConnection(PostgreSQLJDBCConnection.java:87)\n    at org.eclipse.datatools.connectivity.DriverConnectionBase.internalCreateConnection(DriverConnectionBase.java:105)\n    at org.eclipse.datatools.connectivity.DriverConnectionBase.open(DriverConnectionBase.java:54)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLJDBCConnection.&lt;init&gt;(PostgreSQLJDBCConnection.java:47)\n    at org.eclipse.datatools.enablement.internal.postgresql.PostgreSQLConnectionFactory.createConnection(PostgreSQLConnectionFactory.java:51)\n    at org.eclipse.datatools.connectivity.internal.ConnectionFactoryProvider.createConnection(ConnectionFactoryProvider.java:83)\n    at org.eclipse.datatools.connectivity.internal.ConnectionProfile.createConnection(ConnectionProfile.java:359)\n    at org.eclipse.datatools.connectivity.ui.PingJob.createTestConnection(PingJob.java:76)\n    at org.eclipse.datatools.connectivity.ui.PingJob.run(PingJob.java:59)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>I confiigured both JDBC 3 and 4 connections in Eclipse, but both fail.</p>\n<p>However, accessing the target PostgreSQL database using the psql from the command line works fine.</p>\n<p>Furthermore, accessing the target PostgreSQL database using JDBC through the Squirrel SQL Java-based SQL client also works.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Accessing the same PostgreSQL database via the <a href=\"https://i.stack.imgur.com/T11Sh.png\" rel=\"nofollow noreferrer\">Data Source Explorer</a> produces the above error.  Note that if you code the JDBC access as in the answer below the program works, but this view does not.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1623393290,"post_id":67932249,"comment_id":120071048,"body_markdown":"while (!numberIsValid(number )) { enter number } -&gt; just a loop and a condition","body":"while (!numberIsValid(number )) { enter number } -&gt; just a loop and a condition"},{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1623393324,"post_id":67932249,"comment_id":120071059,"body_markdown":"Did you try anything before asking this?","body":"Did you try anything before asking this?"},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393461,"post_id":67932249,"comment_id":120071111,"body_markdown":"@deepakchethan, yes i did try &quot;do..while&quot; loop and it fail. i&#39;m not sure maybe i did not do it correctly.","body":"@deepakchethan, yes i did try &quot;do..while&quot; loop and it fail. i&#39;m not sure maybe i did not do it correctly."},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393482,"post_id":67932249,"comment_id":120071121,"body_markdown":"@Stultuske, ok thank you","body":"@Stultuske, ok thank you"},{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1623393555,"post_id":67932249,"comment_id":120071153,"body_markdown":"Can you share code you tried @OrochimaruKid? Maybe we can help you understand what the issue is with that is","body":"Can you share code you tried @OrochimaruKid? Maybe we can help you understand what the issue is with that is"},{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623393709,"post_id":67932249,"comment_id":120071226,"body_markdown":"@deepakchethan, i already re edit my code above.","body":"@deepakchethan, i already re edit my code above."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1623393894,"post_id":67932249,"comment_id":120071282,"body_markdown":"you are only checking one element of the array, the last one.","body":"you are only checking one element of the array, the last one."},{"owner":{"account_id":16848145,"reputation":227,"user_id":12181863,"display_name":"YHStan"},"score":0,"creation_date":1623393996,"post_id":67932249,"comment_id":120071319,"body_markdown":"I think you need a variable to keep track of which student you were at. for example int i = 0 outside the do while loop, and each time you successfully insert one you increment i, use int index = i inside the for loop so that it restarts where u left off","body":"I think you need a variable to keep track of which student you were at. for example int i = 0 outside the do while loop, and each time you successfully insert one you increment i, use int index = i inside the for loop so that it restarts where u left off"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1623394040,"post_id":67932249,"comment_id":120071335,"body_markdown":"@YHStan there&#39;s no need for that, the check has been added in the wrong place","body":"@YHStan there&#39;s no need for that, the check has been added in the wrong place"}],"answers":[{"comments":[{"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"score":0,"creation_date":1623395642,"post_id":67932437,"comment_id":120071883,"body_markdown":"ahhh, thanky you for the explanation. now i understand my mistake","body":"ahhh, thanky you for the explanation. now i understand my mistake"}],"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623394283,"creation_date":1623394283,"answer_id":67932437,"question_id":67932249,"body_markdown":"    do\r\n            {\r\n                for(index = 0; index&lt;size; index++)\r\n                {\r\n                    System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                    marks[index] = kb.nextInt();\r\n    \r\n                    // chek if grade is smaller than 0 or larger than 100\r\n                    if(marks[index] &lt; 0 || marks[index] &gt; 100) \r\n                    {\r\n                        System.out.println(&quot;Invalid grade, try again...&quot;);\r\n                        break;\r\n                    }\r\n                    else\r\n                    {\r\n                        totalMarks = totalMarks + marks[index];\r\n                    }\r\n                }\r\n            }while(marks[index] &lt; 0 || marks[index] &gt; 100); // validation check\r\n\r\nYou have added the check at &#39;validation check&#39;, but at that point, you have already added a number, broken out of your loop because of invalid (or continued). You need to put that check at the place where you add the value:\r\n\r\n            for(index = 0; index&lt;size; index++)\r\n            {\r\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                marks[index] = kb.nextInt();\r\n\r\n                // chek if grade is smaller than 0 or larger than 100\r\n                while ( marks[index] &lt; 0 || marks[index] &gt; 100 ) {\r\n                   System.out.println(&quot;You&#39;ve added an invalid grade, try again.&quot;);\r\n                   marks[index] = kb.nextInt();\r\n                }\r\n                totalMarks = totalMarks + marks[index];\r\n           }\r\n\r\nThis way, you can only have a correct value, and there&#39;s no more need for an if-else structure.","title":"how to make the program to keep asking until the a valid number is entered?","body":"<pre><code>do\n        {\n            for(index = 0; index&lt;size; index++)\n            {\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n                marks[index] = kb.nextInt();\n\n                // chek if grade is smaller than 0 or larger than 100\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \n                {\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\n                    break;\n                }\n                else\n                {\n                    totalMarks = totalMarks + marks[index];\n                }\n            }\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100); // validation check\n</code></pre>\n<p>You have added the check at 'validation check', but at that point, you have already added a number, broken out of your loop because of invalid (or continued). You need to put that check at the place where you add the value:</p>\n<pre><code>        for(index = 0; index&lt;size; index++)\n        {\n            System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n            marks[index] = kb.nextInt();\n\n            // chek if grade is smaller than 0 or larger than 100\n            while ( marks[index] &lt; 0 || marks[index] &gt; 100 ) {\n               System.out.println(&quot;You've added an invalid grade, try again.&quot;);\n               marks[index] = kb.nextInt();\n            }\n            totalMarks = totalMarks + marks[index];\n       }\n</code></pre>\n<p>This way, you can only have a correct value, and there's no more need for an if-else structure.</p>\n"},{"tags":[],"owner":{"account_id":8485406,"reputation":958,"user_id":6363731,"display_name":"Pubudu Sitinamaluwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623394314,"creation_date":1623394314,"answer_id":67932441,"question_id":67932249,"body_markdown":"The issue is your for loop progresses forward no matter what you do and it increases the index. I think you just need a while loop that keeps running until the correct value is inserted.\r\n \r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Scanner kb = new Scanner(System.in);\r\n        int index, size;\r\n        double totalMarks = 0;\r\n\r\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\r\n        size = kb.nextInt();               // for determine array size\r\n\r\n        if (size &lt;= 0) {\r\n            System.out.println(&quot;Invalid number of students.&quot;);\r\n            return;\r\n        }\r\n\r\n        int[] marks = new int[size];   // declare array for marks\r\n\r\n        for (index = 0; index &lt; size; index++) {\r\n            System.out.print(&quot;Enter the grade of student &quot; + (index + 1) + &quot; : &quot;);\r\n            marks[index] = kb.nextInt();\r\n\r\n            while (true) {\r\n                if (marks[index] &lt; 0 || marks[index] &gt; 100) {\r\n                    System.out.println(&quot;Invalid grade, please enter again : &quot;);\r\n                    marks[index] = kb.nextInt();\r\n                } else {\r\n                    totalMarks = totalMarks + marks[index];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;The average is &quot; + totalMarks);\r\n\r\n    }\r\n}\r\n```","title":"how to make the program to keep asking until the a valid number is entered?","body":"<p>The issue is your for loop progresses forward no matter what you do and it increases the index. I think you just need a while loop that keeps running until the correct value is inserted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner kb = new Scanner(System.in);\n        int index, size;\n        double totalMarks = 0;\n\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\n        size = kb.nextInt();               // for determine array size\n\n        if (size &lt;= 0) {\n            System.out.println(&quot;Invalid number of students.&quot;);\n            return;\n        }\n\n        int[] marks = new int[size];   // declare array for marks\n\n        for (index = 0; index &lt; size; index++) {\n            System.out.print(&quot;Enter the grade of student &quot; + (index + 1) + &quot; : &quot;);\n            marks[index] = kb.nextInt();\n\n            while (true) {\n                if (marks[index] &lt; 0 || marks[index] &gt; 100) {\n                    System.out.println(&quot;Invalid grade, please enter again : &quot;);\n                    marks[index] = kb.nextInt();\n                } else {\n                    totalMarks = totalMarks + marks[index];\n                    break;\n                }\n            }\n        }\n\n        System.out.println(&quot;The average is &quot; + totalMarks);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30044930,"reputation":1,"user_id":23024803,"display_name":"Aayush adhana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701669076,"creation_date":1701492591,"answer_id":77589187,"question_id":67932249,"body_markdown":"\r\n        System.out.println(&quot;Enter your marks by pressing 1 &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        int a = sc.nextInt();\r\n        switch (a) {\r\n          case 1:\r\n            System.out.println(&quot;Enter your marks&quot;);\r\n            break;\r\n          case 2: \r\n            System.out.println(&quot;Program done&quot;);\r\n            break;\r\n          default: System.out.println(&quot;Wrong button pressed&quot;);\r\n        }\r\n    \r\n        int marks = sc.nextInt();\r\n        if (marks &gt;= 90) {\r\n           System.out.println(&quot;These are good marks&quot;);\r\n        } else if (marks &gt;= 80) {\r\n          System.out.println(&quot;Very nice&quot;);\r\n        } else if(marks &gt;= 0 ) {\r\n          System.out.println(&quot;Better luck next time&quot;);\r\n        }","title":"how to make the program to keep asking until the a valid number is entered?","body":"<pre><code>    System.out.println(&quot;Enter your marks by pressing 1 &quot;);\n    Scanner sc = new Scanner(System.in);\n\n    int a = sc.nextInt();\n    switch (a) {\n      case 1:\n        System.out.println(&quot;Enter your marks&quot;);\n        break;\n      case 2: \n        System.out.println(&quot;Program done&quot;);\n        break;\n      default: System.out.println(&quot;Wrong button pressed&quot;);\n    }\n\n    int marks = sc.nextInt();\n    if (marks &gt;= 90) {\n       System.out.println(&quot;These are good marks&quot;);\n    } else if (marks &gt;= 80) {\n      System.out.println(&quot;Very nice&quot;);\n    } else if(marks &gt;= 0 ) {\n      System.out.println(&quot;Better luck next time&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":21865344,"reputation":3,"user_id":16155613,"display_name":"OrochimaruKid"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67932441,"answer_count":3,"score":0,"last_activity_date":1701669076,"creation_date":1623393208,"question_id":67932249,"body_markdown":"i have made a code that can ask user to input the number of student and ask to input the grade of that student, but i can&#39;t make the program do just like the example. i tried using &quot;do...While&quot; and it did ask to enter the grade again for student 1 only, when i enter an invalid number for student 2, it reset back to sudent1. My question is how to make the program to keep asking until the a valid number is entered? Just like the sample below where the program ask the grade again for student2. \r\n\r\n \r\n * A sample session is as follow:\r\n * \r\n * Enter the number of students: 3\r\n * Enter the grade for student 1: 55\r\n * Enter the grade for student 2: 108\r\n * Invalid grade, try again...\r\n * Enter the grade for student 2: 56\r\n * Enter the grade for student 3: 57\r\n * \r\n * The average is 56.0\r\n */\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Assingment \r\n{\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        Scanner kb = new Scanner(System.in);\r\n        int index, size;\r\n        double totalMarks = 0;\r\n        \r\n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\r\n        size = kb.nextInt();               // for determine array size\r\n        \r\n        if (size &lt;= 0) \r\n        {\r\n            System.out.println(&quot;Invalid number of students.&quot;);\r\n            return;\r\n        }\r\n        \r\n        int [] marks = new int[size];   // declare array for marks\r\n        \r\n        do\r\n        {\r\n            for(index = 0; index&lt;size; index++)\r\n            {\r\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\r\n                marks[index] = kb.nextInt();\r\n\r\n                // chek if grade is smaller than 0 or larger than 100\r\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \r\n                {\r\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    totalMarks = totalMarks + marks[index];\r\n                }\r\n            }\r\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100);\r\n        \r\n        System.out.println(&quot;The average is &quot; +totalMarks);\r\n                    \r\n    }\r\n}\r\n","title":"how to make the program to keep asking until the a valid number is entered?","body":"<p>i have made a code that can ask user to input the number of student and ask to input the grade of that student, but i can't make the program do just like the example. i tried using &quot;do...While&quot; and it did ask to enter the grade again for student 1 only, when i enter an invalid number for student 2, it reset back to sudent1. My question is how to make the program to keep asking until the a valid number is entered? Just like the sample below where the program ask the grade again for student2.</p>\n<ul>\n<li>A sample session is as follow:</li>\n<li></li>\n<li>Enter the number of students: 3</li>\n<li>Enter the grade for student 1: 55</li>\n<li>Enter the grade for student 2: 108</li>\n<li>Invalid grade, try again...</li>\n<li>Enter the grade for student 2: 56</li>\n<li>Enter the grade for student 3: 57</li>\n<li></li>\n<li>The average is 56.0\n*/</li>\n</ul>\n<pre><code>import java.util.Scanner;\npublic class Assingment \n{\n\n    public static void main(String[] args) \n    {\n        Scanner kb = new Scanner(System.in);\n        int index, size;\n        double totalMarks = 0;\n        \n        System.out.println(&quot;Enter the number of students : &quot;);  // ask user to input the number of students\n        size = kb.nextInt();               // for determine array size\n        \n        if (size &lt;= 0) \n        {\n            System.out.println(&quot;Invalid number of students.&quot;);\n            return;\n        }\n        \n        int [] marks = new int[size];   // declare array for marks\n        \n        do\n        {\n            for(index = 0; index&lt;size; index++)\n            {\n                System.out.print(&quot;Enter the grade of student &quot; + (index+1) + &quot; : &quot;);\n                marks[index] = kb.nextInt();\n\n                // chek if grade is smaller than 0 or larger than 100\n                if(marks[index] &lt; 0 || marks[index] &gt; 100) \n                {\n                    System.out.println(&quot;Invalid grade, try again...&quot;);\n                    break;\n                }\n                else\n                {\n                    totalMarks = totalMarks + marks[index];\n                }\n            }\n        }while(marks[index] &lt; 0 || marks[index] &gt; 100);\n        \n        System.out.println(&quot;The average is &quot; +totalMarks);\n                    \n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"score":0,"creation_date":1598773355,"post_id":48834927,"comment_id":112563078,"body_markdown":"You can find more details here https://reachmnadeem.wordpress.com/2020/08/30/kafka-2-6-up-and-running-in-windows-10/","body":"You can find more details here <a href=\"https://reachmnadeem.wordpress.com/2020/08/30/kafka-2-6-up-and-running-in-windows-10/\" rel=\"nofollow noreferrer\">reachmnadeem.wordpress.com/2020/08/30/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6429844,"reputation":3522,"user_id":4983501,"accept_rate":41,"display_name":"niaomingjian"},"score":7,"creation_date":1556787716,"post_id":50168530,"comment_id":98550463,"body_markdown":"Then restarting CMD and running the command works. In the previous CMD I found %CLASSPATH% included too much paths.","body":"Then restarting CMD and running the command works. In the previous CMD I found %CLASSPATH% included too much paths."},{"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"score":3,"creation_date":1558447665,"post_id":50168530,"comment_id":99099004,"body_markdown":"Worked for me !! Thanks.","body":"Worked for me !! Thanks."},{"owner":{"account_id":2571058,"reputation":1133,"user_id":2229775,"accept_rate":78,"display_name":"Manas Bajaj"},"score":0,"creation_date":1567462986,"post_id":50168530,"comment_id":101962150,"body_markdown":"Worked like a charm! Thanks","body":"Worked like a charm! Thanks"},{"owner":{"account_id":11063525,"reputation":700,"user_id":8123983,"display_name":"S_K"},"score":0,"creation_date":1569481756,"post_id":50168530,"comment_id":102612572,"body_markdown":"@niaomingjian Thanks. My CMD&#39;s classpath is occupied by zookeeper server. Now I&#39;m using PowerShell to start kafka server.","body":"@niaomingjian Thanks. My CMD&#39;s classpath is occupied by zookeeper server. Now I&#39;m using PowerShell to start kafka server."},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1576555839,"post_id":50168530,"comment_id":104928521,"body_markdown":"Renaming to a shorter name works, or rather it happens to work because Windows (better, cmd.exe) has a command line length limit of 8191 characters, as stated [here](https://support.microsoft.com/en-us/help/830473/command-prompt-cmd-exe-command-line-string-limitation)","body":"Renaming to a shorter name works, or rather it happens to work because Windows (better, cmd.exe) has a command line length limit of 8191 characters, as stated <a href=\"https://support.microsoft.com/en-us/help/830473/command-prompt-cmd-exe-command-line-string-limitation\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":433971,"reputation":187,"user_id":819627,"display_name":"Ednilson Campos"},"score":0,"creation_date":1616680634,"post_id":50168530,"comment_id":118083178,"body_markdown":"I had to rename the full directory path from C:\\Users\\xxx\\Documents\\Desenvolvimento\\Servidores\\kafka_2.12-2.7.0\nto C:\\kafka","body":"I had to rename the full directory path from C:\\Users\\xxx\\Documents\\Desenvolvimento\\Servidores\\kafka_2.12&zwnj;&#8203;-2.7.0 to C:\\kafka"},{"owner":{"account_id":15772872,"reputation":477,"user_id":11381412,"display_name":"Jocasso"},"score":0,"creation_date":1637949886,"post_id":50168530,"comment_id":123967316,"body_markdown":"Don&#39;t forget to rename log.dirs in server.properties ;)","body":"Don&#39;t forget to rename log.dirs in server.properties ;)"},{"owner":{"account_id":7335122,"reputation":490,"user_id":5586793,"display_name":"Naveen"},"score":0,"creation_date":1670824370,"post_id":50168530,"comment_id":131954388,"body_markdown":"preferably keep in  the short path, it is little tricky but works, i keep kafka in -&gt; c:\\kafaka\\&lt;hompath&gt;","body":"preferably keep in  the short path, it is little tricky but works, i keep kafka in -&gt; c:\\kafaka\\&lt;hompath&gt;"},{"owner":{"account_id":17425383,"reputation":121,"user_id":12630320,"display_name":"Kentaro T. Vadney"},"score":0,"creation_date":1690833036,"post_id":50168530,"comment_id":135405308,"body_markdown":"You saved my life thank you &lt;3","body":"You saved my life thank you &lt;3"},{"owner":{"account_id":8675922,"reputation":156,"user_id":6493352,"display_name":"Filip Tvrdoň"},"score":0,"creation_date":1693991658,"post_id":50168530,"comment_id":135831297,"body_markdown":"I actually thought of this for a sec but discarded the idea...made the same mistake again. Thanks!","body":"I actually thought of this for a sec but discarded the idea...made the same mistake again. Thanks!"}],"tags":[],"owner":{"account_id":4735248,"reputation":2938,"user_id":3829818,"display_name":"Prashant_M"},"comment_count":10,"down_vote_count":3,"up_vote_count":122,"is_accepted":false,"score":119,"last_activity_date":1525415302,"creation_date":1525415302,"answer_id":50168530,"question_id":48834927,"body_markdown":"This is because of the long length of the path because of the folder name &#39;kafka_2.11-1.0.0&#39;. Just rename the folder to something small, like just &#39;kafka&#39;.","title":"The input line is too long when starting kafka","body":"<p>This is because of the long length of the path because of the folder name 'kafka_2.11-1.0.0'. Just rename the folder to something small, like just 'kafka'.</p>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":4,"creation_date":1576555916,"post_id":54406319,"comment_id":104928538,"body_markdown":"Powershell did not solve my issue either. It has the same 8191 character limitation as stated [here](https://support.microsoft.com/en-us/help/830473/command-prompt-cmd-exe-command-line-string-limitation) as cmd.exe.","body":"Powershell did not solve my issue either. It has the same 8191 character limitation as stated <a href=\"https://support.microsoft.com/en-us/help/830473/command-prompt-cmd-exe-command-line-string-limitation\" rel=\"nofollow noreferrer\">here</a> as cmd.exe."}],"tags":[],"owner":{"account_id":1332573,"reputation":102,"user_id":1276123,"display_name":"Lukas Maruniak"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1548692875,"creation_date":1548692875,"answer_id":54406319,"question_id":48834927,"body_markdown":"Windows command-line has issues with long command execution. \r\nUse Powershell instead.","title":"The input line is too long when starting kafka","body":"<p>Windows command-line has issues with long command execution. \nUse Powershell instead.</p>\n"},{"tags":[],"owner":{"account_id":10451715,"reputation":745,"user_id":7705116,"display_name":"drt"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1566141253,"creation_date":1566141253,"answer_id":57545852,"question_id":48834927,"body_markdown":"**Above both options didn&#39;t work for me.**\r\n\r\nI have just moved an unzipped directory to C:/ drive and started power shell in **Administrator** mode and tried the desired commands, the zookeeper and broker started smoothly.","title":"The input line is too long when starting kafka","body":"<p><strong>Above both options didn't work for me.</strong></p>\n\n<p>I have just moved an unzipped directory to C:/ drive and started power shell in <strong>Administrator</strong> mode and tried the desired commands, the zookeeper and broker started smoothly.</p>\n"},{"tags":[],"owner":{"account_id":16622979,"reputation":39,"user_id":12012741,"display_name":"YESHWANTH LN"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1567490241,"creation_date":1567490241,"answer_id":57765772,"question_id":48834927,"body_markdown":"put all the files in other drive like D: or E: and run the command ","title":"The input line is too long when starting kafka","body":"<p>put all the files in other drive like D: or E: and run the command </p>\n"},{"tags":[],"owner":{"account_id":1515927,"reputation":257,"user_id":1416932,"display_name":"user1416932"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569013262,"creation_date":1569013262,"answer_id":58035136,"question_id":48834927,"body_markdown":"Rename the kafka folder to some shorter name like kafka2.\r\nOpen a new command prompt (DO not use existing/opened command prompt)","title":"The input line is too long when starting kafka","body":"<p>Rename the kafka folder to some shorter name like kafka2.\nOpen a new command prompt (DO not use existing/opened command prompt)</p>\n"},{"comments":[{"owner":{"account_id":1166925,"reputation":12334,"user_id":1144966,"accept_rate":94,"display_name":"petermeissner"},"score":3,"creation_date":1578519327,"post_id":58065653,"comment_id":105469436,"body_markdown":"I wish I would understand the solution suggested while I am really grateful for the explanation.","body":"I wish I would understand the solution suggested while I am really grateful for the explanation."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1592570616,"post_id":58065653,"comment_id":110480129,"body_markdown":"Wow, I count 14 &quot;concat&quot; calls in kafka-run-class.bat.  Youch.   instances I found : \t\tLine 47: call :concat &quot;%%i&quot;\nLine 52: call :concat &quot;%%i&quot;\nLine 57: call :concat &quot;%%i&quot;\nLine 62: call :concat &quot;%%i&quot;\nLine 67: call :concat &quot;%%i&quot;\nLine 71: call :concat &quot;%%i&quot;\nLine 76: call :concat &quot;%%i&quot;\nLine 80: call :concat &quot;%%i&quot;\nLine 85: call :concat &quot;%%i&quot;\nLine 88: call :concat &quot;%BASE_DIR%\\connect\\%%p\\build\\dependant-libs\\*&quot;\nLine 94: REM call :concat &quot;\nLine 96: call :concat &quot;%BASE_D\nLine 101: call :concat &quot;%%i&quot;\nLine 188: :concat","body":"Wow, I count 14 &quot;concat&quot; calls in kafka-run-class.bat.  Youch.   instances I found : \t\tLine 47: call :concat &quot;%%i&quot; Line 52: call :concat &quot;%%i&quot; Line 57: call :concat &quot;%%i&quot; Line 62: call :concat &quot;%%i&quot; Line 67: call :concat &quot;%%i&quot; Line 71: call :concat &quot;%%i&quot; Line 76: call :concat &quot;%%i&quot; Line 80: call :concat &quot;%%i&quot; Line 85: call :concat &quot;%%i&quot; Line 88: call :concat &quot;%BASE_DIR%\\connect\\%%p\\build\\dependant-libs*&quot; Line 94: REM call :concat &quot; Line 96: call :concat &quot;%BASE_D Line 101: call :concat &quot;%%i&quot; Line 188: :concat"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1617885364,"post_id":58065653,"comment_id":118437422,"body_markdown":"@petermeissner Iam facing the same problem. But unfortunately kafka and zookeeper is starting. While trying to start kafka connect this solution fails","body":"@petermeissner Iam facing the same problem. But unfortunately kafka and zookeeper is starting. While trying to start kafka connect this solution fails"}],"tags":[],"owner":{"account_id":7564214,"reputation":163,"user_id":5740493,"display_name":"Midiman"},"comment_count":3,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1578556262,"creation_date":1569252367,"answer_id":58065653,"question_id":48834927,"body_markdown":"**The Problem**\r\n\r\nThe `kafka-run-class.bat` file performs a bunch of CLASSPATH :concat calls that make the CLASSPATH very long.\r\n\r\nDepending on your environment, too long: Windows cmd.exe environment has a limit of 8191 characters.\r\n\r\n**Solutions**\r\n\r\nEdit `kafka-run-class.bat` so that ...\r\n\r\n 1. make it so that CLASSPATH is not used or set elsewhere\r\n 2. make paths shorter so that concat produces a string smaller than than 8191 characters\r\n 2. make concat use the whole folder instead of every single jar (via `libs/*`)\r\n\r\n**Example**\r\n\r\nHere is an example of an edit to `kafka-run-class.bat` ([source](https://github.com/kafka-dev/kafka/issues/61)) that uses the 2nd approach:\r\n\r\nreplace ...\r\n\r\n```cmd\r\nrem Classpath addition for release\r\nfor %%i in (&quot;%BASE_DIR%\\libs\\*&quot;) do (\r\n\tcall :concat &quot;%%i&quot;\r\n)\r\n```\r\n\r\n... by this ...\r\n\r\n```cmd\r\nrem Classpath addition for release\r\ncall :concat &quot;%BASE_DIR%\\libs\\*;&quot;\r\n```\r\n","title":"The input line is too long when starting kafka","body":"<p><strong>The Problem</strong></p>\n\n<p>The <code>kafka-run-class.bat</code> file performs a bunch of CLASSPATH :concat calls that make the CLASSPATH very long.</p>\n\n<p>Depending on your environment, too long: Windows cmd.exe environment has a limit of 8191 characters.</p>\n\n<p><strong>Solutions</strong></p>\n\n<p>Edit <code>kafka-run-class.bat</code> so that ...</p>\n\n<ol>\n<li>make it so that CLASSPATH is not used or set elsewhere</li>\n<li>make paths shorter so that concat produces a string smaller than than 8191 characters</li>\n<li>make concat use the whole folder instead of every single jar (via <code>libs/*</code>)</li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<p>Here is an example of an edit to <code>kafka-run-class.bat</code> (<a href=\"https://github.com/kafka-dev/kafka/issues/61\" rel=\"noreferrer\">source</a>) that uses the 2nd approach:</p>\n\n<p>replace ...</p>\n\n<pre><code>rem Classpath addition for release\nfor %%i in (\"%BASE_DIR%\\libs\\*\") do (\n    call :concat \"%%i\"\n)\n</code></pre>\n\n<p>... by this ...</p>\n\n<pre><code>rem Classpath addition for release\ncall :concat \"%BASE_DIR%\\libs\\*;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15002305,"reputation":332,"user_id":10829570,"display_name":"John Fantastico"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569942639,"creation_date":1569942639,"answer_id":58187779,"question_id":48834927,"body_markdown":"Place kafka close to the root of your drive so that the path to it is very short. \r\n\r\nWhen you run those Kafka batch files included in the windows directory, they muck with your environment variables (the classpath one) and can create a very long input line to actually run the command/jar. \r\n\r\nAlso as some others pointed out, ensure you downloaded the binary (yes even though on the Kafka site it is called the Scala binary and there&#39;s no mention of Windows anywhere, which can confuse people), not the source code. Also confusing to the lay-user, the source distribution looks similar to the binary distribution when uncompressed, it has all the batch files for example but they won&#39;t run.\r\n","title":"The input line is too long when starting kafka","body":"<p>Place kafka close to the root of your drive so that the path to it is very short. </p>\n\n<p>When you run those Kafka batch files included in the windows directory, they muck with your environment variables (the classpath one) and can create a very long input line to actually run the command/jar. </p>\n\n<p>Also as some others pointed out, ensure you downloaded the binary (yes even though on the Kafka site it is called the Scala binary and there's no mention of Windows anywhere, which can confuse people), not the source code. Also confusing to the lay-user, the source distribution looks similar to the binary distribution when uncompressed, it has all the batch files for example but they won't run.</p>\n"},{"comments":[{"owner":{"account_id":8863487,"reputation":1518,"user_id":6619250,"accept_rate":100,"display_name":"hongsy"},"score":0,"creation_date":1580217525,"post_id":59949265,"comment_id":106019019,"body_markdown":"Please consider [edit]ing your answer to add some explanation and details.","body":"Please consider <a href=\"https://stackoverflow.com/posts/59949265/edit\">edit</a>ing your answer to add some explanation and details."},{"owner":{"account_id":8933212,"reputation":401,"user_id":6665041,"accept_rate":17,"display_name":"CodeHealer"},"score":0,"creation_date":1586469176,"post_id":59949265,"comment_id":108147555,"body_markdown":"Just place kafka on your root directory like this C:\\kafka and it would work just fine","body":"Just place kafka on your root directory like this C:\\kafka and it would work just fine"}],"tags":[],"owner":{"account_id":7839032,"reputation":91,"user_id":5925938,"display_name":"Adam Bodrogi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1580216100,"creation_date":1580216100,"answer_id":59949265,"question_id":48834927,"body_markdown":"I have copied everything to C:/tools/kafka and it works fine. The problem was indeed the too long path to kafka.","title":"The input line is too long when starting kafka","body":"<p>I have copied everything to C:/tools/kafka and it works fine. The problem was indeed the too long path to kafka.</p>\n"},{"tags":[],"owner":{"account_id":17039516,"reputation":1,"user_id":12327776,"display_name":"Kar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589750805,"creation_date":1589748983,"answer_id":61858683,"question_id":48834927,"body_markdown":"I tried extracting the downloaded Kafka zip file contacts\r\n\r\n```\r\nC:\\Kafka and ran the Kafka-server-start.bat\r\n```\r\nfrom the command prompt (don&#39;t run the command prompt as administrator) and that worked.\r\n\r\nRunning the command prompt as administrator was causing the problem for me.\r\n","title":"The input line is too long when starting kafka","body":"<p>I tried extracting the downloaded Kafka zip file contacts</p>\n\n<pre><code>C:\\Kafka and ran the Kafka-server-start.bat\n</code></pre>\n\n<p>from the command prompt (don't run the command prompt as administrator) and that worked.</p>\n\n<p>Running the command prompt as administrator was causing the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":19114144,"reputation":11,"user_id":13959538,"display_name":"Priyanka Bauskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595183975,"creation_date":1595183975,"answer_id":62984266,"question_id":48834927,"body_markdown":"   ## The input line is too long when starting kafka ##\r\nI tried below command but gives me same error\r\n\r\n C:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties \r\n\r\nThis happens because path gets append in classpath when we are continuously executing same command on same cmd. \r\n\r\nClose your command prompt and open once again and then start zookeeper server.\r\n\r\n\r\n","title":"The input line is too long when starting kafka","body":"<h2>The input line is too long when starting kafka</h2>\n<p>I tried below command but gives me same error</p>\n<p>C:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties</p>\n<p>This happens because path gets append in classpath when we are continuously executing same command on same cmd.</p>\n<p>Close your command prompt and open once again and then start zookeeper server.</p>\n"},{"tags":[],"owner":{"account_id":19126470,"reputation":1,"user_id":13969346,"display_name":"Oshin Chandel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595342578,"creation_date":1595333241,"answer_id":63014206,"question_id":48834927,"body_markdown":"Remove `kafka_2.13-2.5.0` if there&#39;s any and keep the folder name as simple as possible like `Kafka`, also make sure there are no spaces in the path. \r\n\r\n**A working example**: Folder is located in `C:\\kafka`.&lt;br&gt;\r\n**A not working example**: Folder is located in `C:\\kafka 2\\`.","title":"The input line is too long when starting kafka","body":"<p>Remove <code>kafka_2.13-2.5.0</code> if there's any and keep the folder name as simple as possible like <code>Kafka</code>, also make sure there are no spaces in the path.</p>\n<p><strong>A working example</strong>: Folder is located in <code>C:\\kafka</code>.<br>\n<strong>A not working example</strong>: Folder is located in <code>C:\\kafka 2\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":10330654,"reputation":177,"user_id":7620583,"display_name":"Gautam Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597340976,"creation_date":1597340976,"answer_id":63400644,"question_id":48834927,"body_markdown":"For Windows just keep Kafka Folder path short\r\nFor eg - D/dev/kafka/bin/windows\r\n","title":"The input line is too long when starting kafka","body":"<p>For Windows just keep Kafka Folder path short\nFor eg - D/dev/kafka/bin/windows</p>\n"},{"comments":[{"owner":{"account_id":15829979,"reputation":966,"user_id":11421611,"display_name":"chirag soni"},"score":0,"creation_date":1683534482,"post_id":63401143,"comment_id":134375915,"body_markdown":"Worked for me as well after moving the entire Kafka folder to C:\\kafka_2.13-3.1.2\\bin\\windows. Then set env variable.","body":"Worked for me as well after moving the entire Kafka folder to C:\\kafka_2.13-3.1.2\\bin\\windows. Then set env variable."}],"tags":[],"owner":{"account_id":3106532,"reputation":51,"user_id":2629185,"display_name":"Shridhar Kulkarni"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597343130,"creation_date":1597343130,"answer_id":63401143,"question_id":48834927,"body_markdown":"For me, it worked only after keeping the Kafka folder right under C directory, so the path looked like C:\\Kafka. I am sure this will work.","title":"The input line is too long when starting kafka","body":"<p>For me, it worked only after keeping the Kafka folder right under C directory, so the path looked like C:\\Kafka. I am sure this will work.</p>\n"},{"comments":[{"owner":{"account_id":12501538,"reputation":838,"user_id":9099864,"display_name":"bdzzaid"},"score":0,"creation_date":1603872913,"post_id":64567866,"comment_id":114170577,"body_markdown":"That&#39;s not really a solution, please can you try to explain why the error occurs and how to solve it, otherwise can you delete your answer please","body":"That&#39;s not really a solution, please can you try to explain why the error occurs and how to solve it, otherwise can you delete your answer please"}],"tags":[],"owner":{"account_id":19386769,"reputation":11,"user_id":14176331,"display_name":"Sonal Chauhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603868525,"creation_date":1603868525,"answer_id":64567866,"question_id":48834927,"body_markdown":"Closing Zookeeper and Kafka cmd window and reopening it again worked for me. I tried all options above except powershell.","title":"The input line is too long when starting kafka","body":"<p>Closing Zookeeper and Kafka cmd window and reopening it again worked for me. I tried all options above except powershell.</p>\n"},{"tags":[],"owner":{"account_id":3159479,"reputation":570,"user_id":2671052,"display_name":"Mayra Delgado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605099221,"creation_date":1605099221,"answer_id":64786832,"question_id":48834927,"body_markdown":"I had this problem too. Debugging the bat-files, you can see, that changing into the directory before calling the command that returns with this error and calling it with relative path does not afect the result!\r\nThe problem is the CLASSPATH variable. The easiest way to get this shorter for me was to use the command:\r\n\r\n```batch\r\nsubst K: &lt;absolute-long-path-to-kafka-dir-with-version&gt;\r\n```\r\n\r\nThis way I could change into this virtual drive `cd /d K:` and execute the scripts without problem:\r\n\r\n```batch\r\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\r\n```\r\n\r\nI wrote a wrapper-script that removes the CLASSPATH variable before executing again, because the values are appended every execution (same cmd.exe).\r\n\r\n```batch\r\nset CLASSPATH=\r\ncd /d K:\r\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\r\n```\r\n","title":"The input line is too long when starting kafka","body":"<p>I had this problem too. Debugging the bat-files, you can see, that changing into the directory before calling the command that returns with this error and calling it with relative path does not afect the result!\nThe problem is the CLASSPATH variable. The easiest way to get this shorter for me was to use the command:</p>\n<pre><code>subst K: &lt;absolute-long-path-to-kafka-dir-with-version&gt;\n</code></pre>\n<p>This way I could change into this virtual drive <code>cd /d K:</code> and execute the scripts without problem:</p>\n<pre><code>K:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\n</code></pre>\n<p>I wrote a wrapper-script that removes the CLASSPATH variable before executing again, because the values are appended every execution (same cmd.exe).</p>\n<pre><code>set CLASSPATH=\ncd /d K:\nK:\\bin\\windows\\kafka-server-start.bat K:\\config\\server.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13976701,"reputation":261,"user_id":10093938,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1606299952,"creation_date":1606299952,"answer_id":65002762,"question_id":48834927,"body_markdown":"Just moving the Kafka path to a much smaller root path solved the issue. For e.g. &quot;C:\\Kafka\\&quot;","title":"The input line is too long when starting kafka","body":"<p>Just moving the Kafka path to a much smaller root path solved the issue. For e.g. &quot;C:\\Kafka&quot;</p>\n"},{"tags":[],"owner":{"account_id":20388952,"reputation":1,"user_id":14957267,"display_name":"keeplearning"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610008412,"creation_date":1610008412,"answer_id":65609003,"question_id":48834927,"body_markdown":"Run common  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.propertie from Powershell window, it works without any issue on Window. \r\n\r\nFor a similar error, for zookeeper I run the zookeeper zkserver.cmd which i downloaded from https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html\r\n\r\n","title":"The input line is too long when starting kafka","body":"<p>Run common  .\\bin\\windows\\kafka-server-start.bat .\\config\\server.propertie from Powershell window, it works without any issue on Window.</p>\n<p>For a similar error, for zookeeper I run the zookeeper zkserver.cmd which i downloaded from <a href=\"https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html\" rel=\"nofollow noreferrer\">https://zookeeper.apache.org/doc/r3.6.2/zookeeperStarted.html</a></p>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":1,"creation_date":1629704631,"post_id":68888040,"comment_id":121747117,"body_markdown":"This has already been mentioned in the other answers.","body":"This has already been mentioned in the other answers."}],"tags":[],"owner":{"account_id":16659709,"reputation":77,"user_id":12039990,"display_name":"Prashant Kanak"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1629699473,"creation_date":1629699473,"answer_id":68888040,"question_id":48834927,"body_markdown":"Rename kafka_2.11-1.0.0 to kafka and keep it in C drive. This worked for me.","title":"The input line is too long when starting kafka","body":"<p>Rename kafka_2.11-1.0.0 to kafka and keep it in C drive. This worked for me.</p>\n"},{"comments":[{"owner":{"display_name":"user11814208"},"score":0,"creation_date":1669985440,"post_id":69218507,"comment_id":131773221,"body_markdown":"This answer should be considered as a tricky-case solution as well. \nError already tells us to shorten path, it is obvious even for chair.\nThis solution is what less of us will ever guess on their own.","body":"This answer should be considered as a tricky-case solution as well.  Error already tells us to shorten path, it is obvious even for chair. This solution is what less of us will ever guess on their own."},{"owner":{"account_id":9076634,"reputation":731,"user_id":7613058,"accept_rate":100,"display_name":"Kyle McClellan"},"score":0,"creation_date":1679578113,"post_id":69218507,"comment_id":133748858,"body_markdown":"Agreed, it&#39;s about invalid characters, not length. Spaces are also invalid (so &quot;Program Files&quot; is a no go).","body":"Agreed, it&#39;s about invalid characters, not length. Spaces are also invalid (so &quot;Program Files&quot; is a no go)."}],"tags":[],"owner":{"account_id":11905428,"reputation":863,"user_id":8712118,"display_name":"Mayur Chavan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631867585,"creation_date":1631858952,"answer_id":69218507,"question_id":48834927,"body_markdown":"Please check the directory path of your files, it should not contain any &quot;-&quot; in your directory structure where you have kept Kafka. ***Changing the name of the directory from kafka_2.13-2.7.0 --&gt; Kafka*** worked for me.","title":"The input line is too long when starting kafka","body":"<p>Please check the directory path of your files, it should not contain any &quot;-&quot; in your directory structure where you have kept Kafka. <em><strong>Changing the name of the directory from kafka_2.13-2.7.0 --&gt; Kafka</strong></em> worked for me.</p>\n"},{"tags":[],"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651735237,"creation_date":1651142078,"answer_id":72042168,"question_id":48834927,"body_markdown":"Another good way to solve this is to create a virtual drive from the kafka folder:\r\n\r\n    subst &lt;drive:&gt; path\\to\\folder\r\n\r\nexample:\r\n\r\n    subst K: C:\\Users\\me\\software\\kafkax.x-x.x\r\n\r\nYou can then go to the K: drive and run zookeeper and kafka without problem.\r\n\r\n    cd K:\r\n    .\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties\r\n    .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties","title":"The input line is too long when starting kafka","body":"<p>Another good way to solve this is to create a virtual drive from the kafka folder:</p>\n<pre><code>subst &lt;drive:&gt; path\\to\\folder\n</code></pre>\n<p>example:</p>\n<pre><code>subst K: C:\\Users\\me\\software\\kafkax.x-x.x\n</code></pre>\n<p>You can then go to the K: drive and run zookeeper and kafka without problem.</p>\n<pre><code>cd K:\n.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties\n.\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1493772,"reputation":61,"user_id":1400201,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659728911,"creation_date":1655743083,"answer_id":72690278,"question_id":48834927,"body_markdown":"Debugged and found the issue. Execute the command \r\n\r\n    echo %CLASSPATH%\r\n\r\nand you will find the culprit :)\r\n\r\nAll jar files in the `kafka\\lib` directory are set in `CLASSPATH` individually. So the error is thrown as \r\n\r\n&gt; Input Line too long\r\n\r\n**Fix**: add the `CLASSPATH` variable in the environment variable till the kafka base directory.","title":"The input line is too long when starting kafka","body":"<p>Debugged and found the issue. Execute the command</p>\n<pre><code>echo %CLASSPATH%\n</code></pre>\n<p>and you will find the culprit :)</p>\n<p>All jar files in the <code>kafka\\lib</code> directory are set in <code>CLASSPATH</code> individually. So the error is thrown as</p>\n<blockquote>\n<p>Input Line too long</p>\n</blockquote>\n<p><strong>Fix</strong>: add the <code>CLASSPATH</code> variable in the environment variable till the kafka base directory.</p>\n"},{"tags":[],"owner":{"account_id":15447340,"reputation":41,"user_id":11143897,"display_name":"Chetan Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658400455,"creation_date":1658400455,"answer_id":73064815,"question_id":48834927,"body_markdown":"Kafka folder/directory path length needs to be decreased. \r\nUse short folder/directory path then it should start working.","title":"The input line is too long when starting kafka","body":"<p>Kafka folder/directory path length needs to be decreased.\nUse short folder/directory path then it should start working.</p>\n"},{"tags":[],"owner":{"account_id":7885936,"reputation":157,"user_id":5958006,"display_name":"Tharindu Krishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659176621,"creation_date":1659176621,"answer_id":73174773,"question_id":48834927,"body_markdown":"The following steps worked for me.\r\n\r\n 1. Move the Kafka folder close to the root (like C:\\kafka). \r\n 2. Remove the unwanted path variables from environment variables.\r\n\r\n","title":"The input line is too long when starting kafka","body":"<p>The following steps worked for me.</p>\n<ol>\n<li>Move the Kafka folder close to the root (like C:\\kafka).</li>\n<li>Remove the unwanted path variables from environment variables.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6955208,"reputation":179,"user_id":5336431,"display_name":"Pravin P Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670509930,"creation_date":1670509930,"answer_id":74731863,"question_id":48834927,"body_markdown":"Just remove version(kafka_2.13-3.3.1) prior kafka in folder name(kafka) and it should work.","title":"The input line is too long when starting kafka","body":"<p>Just remove version(kafka_2.13-3.3.1) prior kafka in folder name(kafka) and it should work.</p>\n"},{"tags":[],"owner":{"account_id":6764866,"reputation":451,"user_id":5210164,"display_name":"Avinash Khadsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678613364,"creation_date":1678613364,"answer_id":75712186,"question_id":48834927,"body_markdown":"1. download  kafka.apache.org site\r\n2. extract it \r\n3. rename extracted folder to kafka\r\n4. move renamed folder to C drive c:\\kafka (should be short)\r\n5. specify path in zookeeper.properties  &amp; server.properties (c:\\kafka) \r\n6. open cmd and execute below command \r\nC:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties*","title":"The input line is too long when starting kafka","body":"<ol>\n<li>download  kafka.apache.org site</li>\n<li>extract it</li>\n<li>rename extracted folder to kafka</li>\n<li>move renamed folder to C drive c:\\kafka (should be short)</li>\n<li>specify path in zookeeper.properties  &amp; server.properties (c:\\kafka)</li>\n<li>open cmd and execute below command\nC:\\kafka&gt;.\\bin\\windows\\zookeeper-server-start.bat .\\config\\zookeeper.properties*</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1701438921,"post_id":77583389,"comment_id":136778943,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77583389/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16046335,"reputation":1,"user_id":11581351,"display_name":"Shailendra Vishwakarma"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701668906,"creation_date":1701412646,"answer_id":77583389,"question_id":48834927,"body_markdown":"****Simple Solution ****\r\nMove your kafka folder in c drive.\r\nexample c:\\kafka_2.13-3.6.0\\\r\nthen after execute bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties command it will work.\r\n","title":"The input line is too long when starting kafka","body":"<p>****Simple Solution ****\nMove your kafka folder in c drive.\nexample c:\\kafka_2.13-3.6.0<br />\nthen after execute bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties command it will work.</p>\n"}],"owner":{"account_id":8069490,"reputation":1385,"user_id":6082685,"accept_rate":73,"display_name":"Geha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56757,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"answer_count":26,"score":80,"last_activity_date":1701668906,"creation_date":1518815519,"question_id":48834927,"body_markdown":"I&#39;m trying to run Kafka message queue on Windows.\r\n\r\nI&#39;m usin this tutorial - [https://dzone.com/articles/running-apache-kafka-on-windows-os][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/running-apache-kafka-on-windows-os\r\n\r\n\r\nWhen i try to run it with comand - .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties\r\n\r\nand i get an error:\r\n**The input line is too long.\r\nThe syntax of the command is incorrect.**\r\n\r\nkafka location - C:\\kafka_2.11-1.0.0","title":"The input line is too long when starting kafka","body":"<p>I'm trying to run Kafka message queue on Windows.</p>\n\n<p>I'm usin this tutorial - <a href=\"https://dzone.com/articles/running-apache-kafka-on-windows-os\" rel=\"noreferrer\">https://dzone.com/articles/running-apache-kafka-on-windows-os</a></p>\n\n<p>When i try to run it with comand - .\\bin\\windows\\kafka-server-start.bat .\\config\\server.properties</p>\n\n<p>and i get an error:\n<strong>The input line is too long.\nThe syntax of the command is incorrect.</strong></p>\n\n<p>kafka location - C:\\kafka_2.11-1.0.0</p>\n"},{"tags":["java","android","kotlin","crash","leakcanary"],"answers":[{"comments":[{"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"score":1,"creation_date":1701427454,"post_id":77573439,"comment_id":136776994,"body_markdown":"Thank you @gabe-sechan. I have updated my question to give more context.","body":"Thank you @gabe-sechan. I have updated my question to give more context."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1701443747,"post_id":77573439,"comment_id":136779955,"body_markdown":"@newbie_coder. Your problem isn&#39;t a leak.  A leak will never cause any crash other than OutOfMemoryException.  Your problem is heap corruption.  That&#39;s actually pretty much impossible to get unless you&#39;re passing data to native C code and misusing it there.","body":"@newbie_coder. Your problem isn&#39;t a leak.  A leak will never cause any crash other than OutOfMemoryException.  Your problem is heap corruption.  That&#39;s actually pretty much impossible to get unless you&#39;re passing data to native C code and misusing it there."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701280060,"creation_date":1701280060,"answer_id":77573439,"question_id":77573384,"body_markdown":"&gt; com.myapp.chat.InboxActivity instance ​     Leaking: YES\r\n&gt; (ObjectWatcher was watching this because com.myapp.\r\n\r\nInboxActivity is leaking.  Insufficient data to tell why it&#39;s leaking from what you posted, I would look for what references to it are outstanding.","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<blockquote>\n<p>com.myapp.chat.InboxActivity instance ​     Leaking: YES\n(ObjectWatcher was watching this because com.myapp.</p>\n</blockquote>\n<p>InboxActivity is leaking.  Insufficient data to tell why it's leaking from what you posted, I would look for what references to it are outstanding.</p>\n"},{"comments":[{"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"score":1,"creation_date":1701427140,"post_id":77575617,"comment_id":136776951,"body_markdown":"Thank you so much @Pierre-Yves Ricau . I have updated my question to give more context. Would appreciate any help.","body":"Thank you so much @Pierre-Yves Ricau . I have updated my question to give more context. Would appreciate any help."},{"owner":{"account_id":361203,"reputation":8239,"user_id":703646,"display_name":"Pierre-Yves Ricau"},"score":0,"creation_date":1702101389,"post_id":77575617,"comment_id":136858652,"body_markdown":"When using stack overflow you should not change your question, but instead accept valid answers then create a post with a new question.","body":"When using stack overflow you should not change your question, but instead accept valid answers then create a post with a new question."}],"tags":[],"owner":{"account_id":361203,"reputation":8239,"user_id":703646,"display_name":"Pierre-Yves Ricau"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701313055,"creation_date":1701313055,"answer_id":77575617,"question_id":77573384,"body_markdown":"- `InboxActivity` received the `Activity.onDestroy()` callback, it should be garbage collected but cannot be because it is held in memory (&quot;leaking&quot;).\r\n- It is held in memory by `android.app.LoaderApk.mReceivers`. `LoaderApk` is an internal class of the Android framework. It keeps the list of broadcast receivers currently registered in an `ArrayMap` in `mReceivers`\r\n\r\nThis means `InboxActivity` implements `BroadcastReceiver`, and somewhere in the code you&#39;re doing `Context.registerReceiver(inboxActivity)` but forgetting to do `Context.unregisterReceiver(inboxActivity)` when the activity is destroyed. That&#39;s what you need to fix to make the leak go away.","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<ul>\n<li><code>InboxActivity</code> received the <code>Activity.onDestroy()</code> callback, it should be garbage collected but cannot be because it is held in memory (&quot;leaking&quot;).</li>\n<li>It is held in memory by <code>android.app.LoaderApk.mReceivers</code>. <code>LoaderApk</code> is an internal class of the Android framework. It keeps the list of broadcast receivers currently registered in an <code>ArrayMap</code> in <code>mReceivers</code></li>\n</ul>\n<p>This means <code>InboxActivity</code> implements <code>BroadcastReceiver</code>, and somewhere in the code you're doing <code>Context.registerReceiver(inboxActivity)</code> but forgetting to do <code>Context.unregisterReceiver(inboxActivity)</code> when the activity is destroyed. That's what you need to fix to make the leak go away.</p>\n"}],"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701667963,"creation_date":1701279401,"question_id":77573384,"body_markdown":"I tried looking into the systrace in Perfetto UI but just couldn&#39;t figure out the reason for crash. The logs for the crashes showed multiple calls related to the G.C so suspected it to be a memory leak and used LeakCanary to look for memory leaks. I&#39;m fixing the memory leaks one by one. Just wanted to know if I&#39;m heading in the right direction or not. \r\n\r\nThis is the crash that I&#39;m getting \r\n```\r\n755 31581 31581 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Build fingerprint: &#39;motorola/corfur_g/corfur:12/S2RUBS32.51-15-9-11/dd8d5-e81484:user/release-keys&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Revision: &#39;pvt&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : ABI: &#39;arm64&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Timestamp: 2023-12-01 12:25:33.994708494+0530\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Process uptime: 0s\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Cmdline: in.myapp.qa\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : pid: 28827, tid: 28836, name: HeapTaskDaemon  &gt;&gt;&gt; in.myapp.qa &lt;&lt;&lt;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : uid: 11318\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : Abort message: &#39;klass pointer for ref: 0x13708ed0 found to be null.&#39;\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x0  0000000000000000  x1  00000000000070a4  x2  0000000000000006  x3  00000076aeb800b0\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x4  35312f6036772f1f  x5  35312f6036772f1f  x6  35312f6036772f1f  x7  7f7f7f7f7f7f7f7f\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x8  00000000000000f0  x9  a219e6e01d251e00  x10 0000000000000000  x11 ffffff80fffffbdf\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x12 0000000000000001  x13 000000000000074a  x14 00000076aeb7eeb0  x15 0000000034155555\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x16 00000079d1400060  x17 00000079d13dc4b0  x18 0000007654b9a000  x19 000000000000709b\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x20 00000000000070a4  x21 00000000ffffffff  x22 000000000000000b  x23 00000076be2a3fbe\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x24 000000000000000b  x25 0000000000000002  x26 0000000000000001  x27 00000076bee16000\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x28 b4000076e116c3e0  x29 00000076aeb80130\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :     lr  00000079d138c8b0  sp  00000076aeb80090  pc  00000079d138c8dc  pst 0000000000001000\r\n12-01 12:25:34.755 31581 31581 F DEBUG   : backtrace:\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #00 pc 00000000000518dc  /apex/com.android.runtime/lib64/bionic/libc.so (abort+168) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #01 pc 00000000007716f0  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+904) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #02 pc 00000000000357d0  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_0::__invoke(char const*)+80) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #03 pc 0000000000034d58  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::LogMessage::~LogMessage()+352) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #04 pc 0000000000207734  /apex/com.android.art/lib64/libart.so (art::gc::Verification::LogHeapCorruption(art::ObjPtr&lt;art::mirror::Object&gt;, art::MemberOffset, art::mirror::Object*, bool) const+2016) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #05 pc 00000000002aa950  /apex/com.android.art/lib64/libart.so (void art::mirror::Object::VisitReferences&lt;true, (art::VerifyObjectFlags)0, (art::ReadBarrierOption)1, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; &gt;(art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;)+2240) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #06 pc 00000000002a9f9c  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::ProcessMarkStackForMarkingAndComputeLiveBytes()+1820) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #07 pc 00000000002a67e0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::MarkingPhase()+1188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #08 pc 00000000002a13d0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::RunPhases()+184) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #09 pc 00000000003a6a10  /apex/com.android.art/lib64/libart.so (art::gc::collector::GarbageCollector::Run(art::gc::GcCause, bool)+312) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #10 pc 00000000003a2ea0  /apex/com.android.art/lib64/libart.so (art::gc::Heap::CollectGarbageInternal(art::gc::collector::GcType, art::gc::GcCause, bool, unsigned int)+548) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #11 pc 00000000003a2748  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGC(art::Thread*, art::gc::GcCause, bool, unsigned int)+188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #12 pc 00000000003a25cc  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGCTask::Run(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #13 pc 00000000003a06d0  /apex/com.android.art/lib64/libart.so (art::gc::TaskProcessor::RunAllTasks(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #14 pc 000000000034aa30  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #15 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #16 pc 0000000000511078  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+1976) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #17 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #18 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #19 pc 000000000002bad0  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$HeapTaskDaemon.runInternal+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #20 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #21 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #22 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #23 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #24 pc 000000000002adfc  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$Daemon.run+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #25 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #26 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #27 pc 000000000049efac  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+4716) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #28 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #29 pc 000000000010eaf0  /apex/com.android.art/javalib/core-oj.jar (java.lang.Thread.run+0)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #30 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #31 pc 00000000003784a8  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+964) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #32 pc 000000000034ab68  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #33 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #34 pc 000000000023e4d4  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #35 pc 0000000000539a3c  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallback(void*)+1600) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #36 pc 00000000000b6974  /apex/com.android.runtime/lib64/bionic/libc.so (__pthread_start(void*)+264) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #37 pc 0000000000053210  /apex/com.android.runtime/lib64/bionic/libc.so (__start_thread+68) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\r\n```","title":"I&#39;m getting a native crash in my application. This crash is frequent in the release build and has never occurred in debug","body":"<p>I tried looking into the systrace in Perfetto UI but just couldn't figure out the reason for crash. The logs for the crashes showed multiple calls related to the G.C so suspected it to be a memory leak and used LeakCanary to look for memory leaks. I'm fixing the memory leaks one by one. Just wanted to know if I'm heading in the right direction or not.</p>\n<p>This is the crash that I'm getting</p>\n<pre><code>755 31581 31581 F DEBUG   : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n12-01 12:25:34.755 31581 31581 F DEBUG   : Build fingerprint: 'motorola/corfur_g/corfur:12/S2RUBS32.51-15-9-11/dd8d5-e81484:user/release-keys'\n12-01 12:25:34.755 31581 31581 F DEBUG   : Revision: 'pvt'\n12-01 12:25:34.755 31581 31581 F DEBUG   : ABI: 'arm64'\n12-01 12:25:34.755 31581 31581 F DEBUG   : Timestamp: 2023-12-01 12:25:33.994708494+0530\n12-01 12:25:34.755 31581 31581 F DEBUG   : Process uptime: 0s\n12-01 12:25:34.755 31581 31581 F DEBUG   : Cmdline: in.myapp.qa\n12-01 12:25:34.755 31581 31581 F DEBUG   : pid: 28827, tid: 28836, name: HeapTaskDaemon  &gt;&gt;&gt; in.myapp.qa &lt;&lt;&lt;\n12-01 12:25:34.755 31581 31581 F DEBUG   : uid: 11318\n12-01 12:25:34.755 31581 31581 F DEBUG   : signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr --------\n12-01 12:25:34.755 31581 31581 F DEBUG   : Abort message: 'klass pointer for ref: 0x13708ed0 found to be null.'\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x0  0000000000000000  x1  00000000000070a4  x2  0000000000000006  x3  00000076aeb800b0\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x4  35312f6036772f1f  x5  35312f6036772f1f  x6  35312f6036772f1f  x7  7f7f7f7f7f7f7f7f\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x8  00000000000000f0  x9  a219e6e01d251e00  x10 0000000000000000  x11 ffffff80fffffbdf\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x12 0000000000000001  x13 000000000000074a  x14 00000076aeb7eeb0  x15 0000000034155555\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x16 00000079d1400060  x17 00000079d13dc4b0  x18 0000007654b9a000  x19 000000000000709b\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x20 00000000000070a4  x21 00000000ffffffff  x22 000000000000000b  x23 00000076be2a3fbe\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x24 000000000000000b  x25 0000000000000002  x26 0000000000000001  x27 00000076bee16000\n12-01 12:25:34.755 31581 31581 F DEBUG   :     x28 b4000076e116c3e0  x29 00000076aeb80130\n12-01 12:25:34.755 31581 31581 F DEBUG   :     lr  00000079d138c8b0  sp  00000076aeb80090  pc  00000079d138c8dc  pst 0000000000001000\n12-01 12:25:34.755 31581 31581 F DEBUG   : backtrace:\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #00 pc 00000000000518dc  /apex/com.android.runtime/lib64/bionic/libc.so (abort+168) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #01 pc 00000000007716f0  /apex/com.android.art/lib64/libart.so (art::Runtime::Abort(char const*)+904) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #02 pc 00000000000357d0  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::SetAborter(std::__1::function&lt;void (char const*)&gt;&amp;&amp;)::$_0::__invoke(char const*)+80) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #03 pc 0000000000034d58  /apex/com.google.mainline.primary.libs@341050000/lib64/libbase.so/75d3253827fcfd7a8d7b02ad45991611ec4ca424c0278e13e8acfad4d14e597a3ecff6c0caa2b785c73838528ee6e9c2b313240ff895f50ee39b1d7bc10f390a/libbase.so (android::base::LogMessage::~LogMessage()+352) (BuildId: 6f67f69ff36b970d0b831cfdab3b578d)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #04 pc 0000000000207734  /apex/com.android.art/lib64/libart.so (art::gc::Verification::LogHeapCorruption(art::ObjPtr&lt;art::mirror::Object&gt;, art::MemberOffset, art::mirror::Object*, bool) const+2016) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #05 pc 00000000002aa950  /apex/com.android.art/lib64/libart.so (void art::mirror::Object::VisitReferences&lt;true, (art::VerifyObjectFlags)0, (art::ReadBarrierOption)1, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; &gt;(art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;, art::gc::collector::ConcurrentCopying::ComputeLiveBytesAndMarkRefFieldsVisitor&lt;true&gt; const&amp;)+2240) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #06 pc 00000000002a9f9c  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::ProcessMarkStackForMarkingAndComputeLiveBytes()+1820) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #07 pc 00000000002a67e0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::MarkingPhase()+1188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #08 pc 00000000002a13d0  /apex/com.android.art/lib64/libart.so (art::gc::collector::ConcurrentCopying::RunPhases()+184) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #09 pc 00000000003a6a10  /apex/com.android.art/lib64/libart.so (art::gc::collector::GarbageCollector::Run(art::gc::GcCause, bool)+312) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #10 pc 00000000003a2ea0  /apex/com.android.art/lib64/libart.so (art::gc::Heap::CollectGarbageInternal(art::gc::collector::GcType, art::gc::GcCause, bool, unsigned int)+548) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #11 pc 00000000003a2748  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGC(art::Thread*, art::gc::GcCause, bool, unsigned int)+188) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #12 pc 00000000003a25cc  /apex/com.android.art/lib64/libart.so (art::gc::Heap::ConcurrentGCTask::Run(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.755 31581 31581 F DEBUG   :       #13 pc 00000000003a06d0  /apex/com.android.art/lib64/libart.so (art::gc::TaskProcessor::RunAllTasks(art::Thread*)+72) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #14 pc 000000000034aa30  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #15 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #16 pc 0000000000511078  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+1976) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #17 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #18 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #19 pc 000000000002bad0  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$HeapTaskDaemon.runInternal+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #20 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #21 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #22 pc 000000000049e100  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+960) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #23 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #24 pc 000000000002adfc  /apex/com.android.art/javalib/core-libart.jar (java.lang.Daemons$Daemon.run+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #25 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #26 pc 0000000000511d44  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, bool, art::JValue*)+5252) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #27 pc 000000000049efac  /apex/com.android.art/lib64/libart.so (void art::interpreter::ExecuteSwitchImplCpp&lt;false&gt;(art::interpreter::SwitchImplContext*)+4716) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #28 pc 000000000034d1d8  /apex/com.android.art/lib64/libart.so (ExecuteSwitchImplAsm+8) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #29 pc 000000000010eaf0  /apex/com.android.art/javalib/core-oj.jar (java.lang.Thread.run+0)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #30 pc 0000000000378bb0  /apex/com.android.art/lib64/libart.so (art::interpreter::Execute(art::Thread*, art::CodeItemDataAccessor const&amp;, art::ShadowFrame&amp;, art::JValue, bool, bool) (.__uniq.112435418011751916792819755956732575238.llvm.11907307138045539842)+232) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #31 pc 00000000003784a8  /apex/com.android.art/lib64/libart.so (artQuickToInterpreterBridge+964) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #32 pc 000000000034ab68  /apex/com.android.art/lib64/libart.so (art_quick_to_interpreter_bridge+88) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #33 pc 0000000000333fa4  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+612) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #34 pc 000000000023e4d4  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+144) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #35 pc 0000000000539a3c  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallback(void*)+1600) (BuildId: 4cfdaa9e5146c43e20ae36ee1caf9b7f)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #36 pc 00000000000b6974  /apex/com.android.runtime/lib64/bionic/libc.so (__pthread_start(void*)+264) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n12-01 12:25:34.756 31581 31581 F DEBUG   :       #37 pc 0000000000053210  /apex/com.android.runtime/lib64/bionic/libc.so (__start_thread+68) (BuildId: 37a328c30fb8c595fc3ebc7c80be6ac1)\n</code></pre>\n"},{"tags":["java","class","jdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700223063,"post_id":15039265,"comment_id":136630879,"body_markdown":"Note that the code in the question is flawed: people should not copy it.","body":"Note that the code in the question is flawed: people should not copy it."}],"answers":[{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":2,"creation_date":1486041941,"post_id":15039301,"comment_id":71182892,"body_markdown":"You do not need to create an instance to run the static block.","body":"You do not need to create an instance to run the static block."}],"tags":[],"owner":{"account_id":153796,"reputation":20684,"user_id":369310,"accept_rate":67,"display_name":"Janick Bernet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361614323,"creation_date":1361613993,"answer_id":15039301,"question_id":15039265,"body_markdown":"It will create a new instance of the `com.mysql.jdbc.Driver` class and hence call the static initialization which will register the driver with the `DriverManager` so you can create mysql connections based on the URL you use in the second line.\r\n\r\nThe class however should be in the `mysql.jar`.","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>It will create a new instance of the <code>com.mysql.jdbc.Driver</code> class and hence call the static initialization which will register the driver with the <code>DriverManager</code> so you can create mysql connections based on the URL you use in the second line.</p>\n\n<p>The class however should be in the <code>mysql.jar</code>.</p>\n"},{"comments":[{"owner":{"display_name":"user2098012"},"score":0,"creation_date":1361616085,"post_id":15039303,"comment_id":21138755,"body_markdown":"what does the forName method do?","body":"what does the forName method do?"},{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1361616480,"post_id":15039303,"comment_id":21138854,"body_markdown":"A call to forName(&quot;com.mysql.jdbc.Driver&quot;) causes the class named Driver to be initialized.","body":"A call to forName(&quot;com.mysql.jdbc.Driver&quot;) causes the class named Driver to be initialized."},{"owner":{"display_name":"user2098012"},"score":0,"creation_date":1361617613,"post_id":15039303,"comment_id":21139096,"body_markdown":"i have another question,actually i have forgotten my mysql password and i have checked all the answer in SO about changing mysql password but i could not retrieve it.\nCan you please help me in this","body":"i have another question,actually i have forgotten my mysql password and i have checked all the answer in SO about changing mysql password but i could not retrieve it. Can you please help me in this"},{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1361620283,"post_id":15039303,"comment_id":21139745,"body_markdown":"@javaL take a look here : http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html","body":"@javaL take a look here : <a href=\"http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html</a>"},{"owner":{"display_name":"user2098012"},"score":0,"creation_date":1361620933,"post_id":15039303,"comment_id":21139896,"body_markdown":"you said to use DriverManager.registerDriver.Can you please post the full code","body":"you said to use DriverManager.registerDriver.Can you please post the full code"},{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1361621856,"post_id":15039303,"comment_id":21140159,"body_markdown":"@javaL I said that you can even use DriverManager.registerDriver but there is nothing against using Class.forNAme ...","body":"@javaL I said that you can even use DriverManager.registerDriver but there is nothing against using Class.forNAme ..."}],"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1361613998,"creation_date":1361613998,"answer_id":15039303,"question_id":15039265,"body_markdown":"It initialize the class `&quot;com.mysql.jdbc.Driver&quot;` if found in the classpath, this imply that the driver is registered in the JDBC driver manager since the registration process is inside the static initializer of the driver class ...\r\n\r\nThere is another approach you can use to register a driver : is to use the static `DriverManager.registerDriver()` method.","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>It initialize the class <code>\"com.mysql.jdbc.Driver\"</code> if found in the classpath, this imply that the driver is registered in the JDBC driver manager since the registration process is inside the static initializer of the driver class ...</p>\n\n<p>There is another approach you can use to register a driver : is to use the static <code>DriverManager.registerDriver()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":1679182,"reputation":609,"user_id":1543908,"display_name":"chossenger"},"score":0,"creation_date":1363161929,"post_id":15039333,"comment_id":21735829,"body_markdown":"No problem, the Class/class stuff can be a bit hard to wrap your head around. :)","body":"No problem, the Class/class stuff can be a bit hard to wrap your head around. :)"},{"owner":{"account_id":2120898,"reputation":3666,"user_id":1884155,"accept_rate":54,"display_name":"user1884155"},"score":2,"creation_date":1555876428,"post_id":15039333,"comment_id":98243042,"body_markdown":"I downvoted because either though this is technically correct, it does not help in anyway in understanding why this code is used in this the context of using jdbc connections. It also fails to mention this line of code is no longer necessary. The answer of Koray makes more sense and is more up to date.","body":"I downvoted because either though this is technically correct, it does not help in anyway in understanding why this code is used in this the context of using jdbc connections. It also fails to mention this line of code is no longer necessary. The answer of Koray makes more sense and is more up to date."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700200395,"post_id":15039333,"comment_id":136627598,"body_markdown":"It also fails to note that that classname is deprecated for Connector/J 8.0 and later drivers (though it still currently works).","body":"It also fails to note that that classname is deprecated for Connector/J 8.0 and later drivers (though it still currently works)."}],"tags":[],"owner":{"account_id":1679182,"reputation":609,"user_id":1543908,"display_name":"chossenger"},"comment_count":3,"down_vote_count":3,"up_vote_count":27,"is_accepted":true,"score":24,"last_activity_date":1701667500,"creation_date":1361614245,"answer_id":15039333,"question_id":15039265,"body_markdown":"Note that this answer is addresses the syntactical nature of the question, not the logical aspect. If you want a better understanding of *why* you would do this, see [Koray Tugay&#39;s answer][1].\r\n\r\nAlso note that as of Java 6, **this is no longer required** to initialise JDBC 4.0 drivers - instead they are automatically loaded using the service provider pattern at JVM startup.\r\n\r\n___\r\n\r\nThe `Class` class is located in the java.lang package, so it is distributed with java, and imported automatically into every class.\r\n\r\nWhat the `forName()` method does, is just return the `Class` object for the parameter that was loaded by the class loader. The `newInstance()` method then returns a new instance of the class.\r\n\r\nSo then what happens is when you call\r\n`Class.forName(...)`\r\nit returns `com.mysql.jdbc.Driver.class`.\r\nYou then call `newInstance()` on that class which returns an instance of the class, with no parameters, so it&#39;s basically calling `new com.mysql.jdbc.Driver();`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44093721/1543908","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>Note that this answer is addresses the syntactical nature of the question, not the logical aspect. If you want a better understanding of <em>why</em> you would do this, see <a href=\"https://stackoverflow.com/a/44093721/1543908\">Koray Tugay's answer</a>.</p>\n<p>Also note that as of Java 6, <strong>this is no longer required</strong> to initialise JDBC 4.0 drivers - instead they are automatically loaded using the service provider pattern at JVM startup.</p>\n<hr />\n<p>The <code>Class</code> class is located in the java.lang package, so it is distributed with java, and imported automatically into every class.</p>\n<p>What the <code>forName()</code> method does, is just return the <code>Class</code> object for the parameter that was loaded by the class loader. The <code>newInstance()</code> method then returns a new instance of the class.</p>\n<p>So then what happens is when you call\n<code>Class.forName(...)</code>\nit returns <code>com.mysql.jdbc.Driver.class</code>.\nYou then call <code>newInstance()</code> on that class which returns an instance of the class, with no parameters, so it's basically calling <code>new com.mysql.jdbc.Driver();</code>.</p>\n"},{"comments":[{"owner":{"account_id":2404155,"reputation":3688,"user_id":2101117,"display_name":"Aleksandar"},"score":3,"creation_date":1498478924,"post_id":44093721,"comment_id":76499288,"body_markdown":"This is a much better explanation! Thank You!","body":"This is a much better explanation! Thank You!"},{"owner":{"account_id":2636146,"reputation":841,"user_id":2280764,"accept_rate":57,"display_name":"Brent Sandstrom"},"score":1,"creation_date":1508961137,"post_id":44093721,"comment_id":80829189,"body_markdown":"upped for being the only one who mentions that apps don&#39;t need to call Class.forName(..) anymore","body":"upped for being the only one who mentions that apps don&#39;t need to call Class.forName(..) anymore"}],"tags":[],"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1555878105,"creation_date":1495346911,"answer_id":44093721,"question_id":15039265,"body_markdown":"Quoting from the [JDBC Specification][1], Chapter 9, Section 2:\r\n\r\n&gt; JDBC drivers must implement the Driver interface, and the\r\n&gt; implementation must contain a static initializer that will be called\r\n&gt; when the driver is loaded. This initializer registers a new instance\r\n&gt; of itself with the DriverManager.\r\n\r\nAnd an example code is provided for `AcmeJdbcDriver` as follows:\r\n\r\n    public class AcmeJdbcDriver implements java.sql.Driver {\r\n    \tstatic {\r\n    \t\tjava.sql.DriverManager.registerDriver(newAcmeJdbcDriver());\r\n    \t}\r\n    }\r\n\r\nAnd when you call [Class.forName(String className)][2], according to the API Documentation, the following happens:\r\n\r\n&gt; A call to forName(&quot;X&quot;) causes the class named X to be initialized.\r\n\r\nwhere initialization involves code in static block to be executed. \r\n\r\nSo basically, you initialize the Driver class, and in turn the class registers itself with the `java.sql.DriverManager` per the JDBC specification.\r\n\r\nPlease note, this is not needed anymore. Details can be found [here][3]. \r\n\r\n&gt; The DriverManager methods getConnection and getDrivers have been\r\n&gt; enhanced to support the Java Standard Edition Service Provider\r\n&gt; mechanism. JDBC 4.0 Drivers must include the file\r\n&gt; META-INF/services/java.sql.Driver. This file contains the name of the\r\n&gt; JDBC drivers implementation of java.sql.Driver. For example, to load\r\n&gt; the my.sql.Driver class, the META-INF/services/java.sql.Driver file\r\n&gt; would contain the entry:\r\n&gt; \r\n&gt;     my.sql.Driver\r\n&gt; \r\n&gt; Applications no longer need to explictly load JDBC drivers using\r\n&gt; Class.forName().\r\n\r\n  [1]: http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1495346465_4fc2c02537932b33d38b06a69cb8c3c3\r\n  [2]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>Quoting from the <a href=\"http://download.oracle.com/otn-pub/jcp/jdbc-4_1-mrel-spec/jdbc4.1-fr-spec.pdf?AuthParam=1495346465_4fc2c02537932b33d38b06a69cb8c3c3\" rel=\"noreferrer\">JDBC Specification</a>, Chapter 9, Section 2:</p>\n\n<blockquote>\n  <p>JDBC drivers must implement the Driver interface, and the\n  implementation must contain a static initializer that will be called\n  when the driver is loaded. This initializer registers a new instance\n  of itself with the DriverManager.</p>\n</blockquote>\n\n<p>And an example code is provided for <code>AcmeJdbcDriver</code> as follows:</p>\n\n<pre><code>public class AcmeJdbcDriver implements java.sql.Driver {\n    static {\n        java.sql.DriverManager.registerDriver(newAcmeJdbcDriver());\n    }\n}\n</code></pre>\n\n<p>And when you call <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\" rel=\"noreferrer\">Class.forName(String className)</a>, according to the API Documentation, the following happens:</p>\n\n<blockquote>\n  <p>A call to forName(\"X\") causes the class named X to be initialized.</p>\n</blockquote>\n\n<p>where initialization involves code in static block to be executed. </p>\n\n<p>So basically, you initialize the Driver class, and in turn the class registers itself with the <code>java.sql.DriverManager</code> per the JDBC specification.</p>\n\n<p>Please note, this is not needed anymore. Details can be found <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/DriverManager.html\" rel=\"noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>The DriverManager methods getConnection and getDrivers have been\n  enhanced to support the Java Standard Edition Service Provider\n  mechanism. JDBC 4.0 Drivers must include the file\n  META-INF/services/java.sql.Driver. This file contains the name of the\n  JDBC drivers implementation of java.sql.Driver. For example, to load\n  the my.sql.Driver class, the META-INF/services/java.sql.Driver file\n  would contain the entry:</p>\n\n<pre><code>my.sql.Driver\n</code></pre>\n  \n  <p>Applications no longer need to explictly load JDBC drivers using\n  Class.forName().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700202797,"creation_date":1700202061,"answer_id":77499684,"question_id":15039265,"body_markdown":"As noted, the code in the question is flawed.   These are the things that are wrong with it.\r\n\r\nMajor:\r\n\r\n  - You don&#39;t need to call `Class.forName` to load or initialize a JDBC driver.  The `DriverManager.getConnection(...)` call will do all of that automatically.  The `Class.forName` stuff has been redundant since JDBC 4.0 / Java 6.\r\n\r\n    `DriverManager.getConnection(...)` will select a JDBC driver based on the JDBC URL prefix.  It knows how to search the classpath for suitable drivers, load the driver class and trigger initialization to cause it to register.\r\n\r\n  - You don&#39;t need to call `newInstance()` to trigger class initialization.  In fact, all you are doing is creating an unnecessary instance of the `Driver` class.  And (I think) adding extra checked exceptions that need to be handled.\r\n\r\n  - That class name for the JDBC driver is deprecated.  As of MySQL Connector/J 8.0 and 8.1, the class name is `com.mysql.cj.jdbc.Driver`.  (The old `com.mysql.jdbc.Driver` class name still works, but it gives you a runtime warning.)\r\n\r\n    Once again `DriverManager` takes care of this.  You don&#39;t need to know the driver class name.\r\n\r\nMinor:\r\n\r\n  - There are some checked exceptions thrown by `forName` and `newInstance` that ought to be handled.\r\n  \r\n  - Wiring your account name and password into your code is a bad idea.  Even if you don&#39;t intend to publish your code.\r\n\r\nMost of these problems are best solved by deleting this line:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\r\ni.e. the very line that the OP is asking about!","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>As noted, the code in the question is flawed.   These are the things that are wrong with it.</p>\n<p>Major:</p>\n<ul>\n<li><p>You don't need to call <code>Class.forName</code> to load or initialize a JDBC driver.  The <code>DriverManager.getConnection(...)</code> call will do all of that automatically.  The <code>Class.forName</code> stuff has been redundant since JDBC 4.0 / Java 6.</p>\n<p><code>DriverManager.getConnection(...)</code> will select a JDBC driver based on the JDBC URL prefix.  It knows how to search the classpath for suitable drivers, load the driver class and trigger initialization to cause it to register.</p>\n</li>\n<li><p>You don't need to call <code>newInstance()</code> to trigger class initialization.  In fact, all you are doing is creating an unnecessary instance of the <code>Driver</code> class.  And (I think) adding extra checked exceptions that need to be handled.</p>\n</li>\n<li><p>That class name for the JDBC driver is deprecated.  As of MySQL Connector/J 8.0 and 8.1, the class name is <code>com.mysql.cj.jdbc.Driver</code>.  (The old <code>com.mysql.jdbc.Driver</code> class name still works, but it gives you a runtime warning.)</p>\n<p>Once again <code>DriverManager</code> takes care of this.  You don't need to know the driver class name.</p>\n</li>\n</ul>\n<p>Minor:</p>\n<ul>\n<li><p>There are some checked exceptions thrown by <code>forName</code> and <code>newInstance</code> that ought to be handled.</p>\n</li>\n<li><p>Wiring your account name and password into your code is a bad idea.  Even if you don't intend to publish your code.</p>\n</li>\n</ul>\n<p>Most of these problems are best solved by deleting this line:</p>\n<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n</code></pre>\n<p>i.e. the very line that the OP is asking about!</p>\n"}],"owner":{"display_name":"user2098012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71476,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":15039333,"answer_count":5,"score":22,"last_activity_date":1701667500,"creation_date":1361613703,"question_id":15039265,"body_markdown":"While connecting to MySQL database I do following steps\r\n\r\n    Connection con = null;\r\n    Resultset rs = null;\r\n    Statement st = null;\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n    con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/database&quot;,&quot;root&quot;,&quot;passwp&quot;);\r\n\r\nActually I wanted to know what does `Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();` statement do.\r\n\r\nAlthogh this class is not in mysql.jar. Where is it present?","title":"what exactly does this do Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();","body":"<p>While connecting to MySQL database I do following steps</p>\n\n<pre><code>Connection con = null;\nResultset rs = null;\nStatement st = null;\nClass.forName(\"com.mysql.jdbc.Driver\").newInstance();\ncon = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/database\",\"root\",\"passwp\");\n</code></pre>\n\n<p>Actually I wanted to know what does <code>Class.forName(\"com.mysql.jdbc.Driver\").newInstance();</code> statement do.</p>\n\n<p>Althogh this class is not in mysql.jar. Where is it present?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17383128,"reputation":5475,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1701692977,"post_id":77597355,"comment_id":136803291,"body_markdown":"See if it helps to press Ctrl+Alt+Shift+L (Cmd+Alt+Shift+L on macOS) and uncheck &quot;Do not keep line breaks&quot; in the formatter settings.","body":"See if it helps to press Ctrl+Alt+Shift+L (Cmd+Alt+Shift+L on macOS) and uncheck &quot;Do not keep line breaks&quot; in the formatter settings."}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701667268,"creation_date":1701667268,"question_id":77597355,"body_markdown":"I&#39;m using Intellij IDEA `2021.3.3`.\r\n\r\nI want to set new line after each field annotations, but it doesn&#39;t work in some cases.\r\n\r\nMy `field annotations` settings are `wrap always` and unchecked `Do not wrap after single annotation`.\r\n\r\nWhen I set field `final` or add access modifier(like `private`), reformat works as I expected.\r\n\r\nHere&#39;s example.\r\n\r\n```\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class Foo {\r\n\r\n  // (1) Before reformat\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  String badField;\r\n\r\n  // (1) After reformat\r\n  @Size(max = 10, message = &quot;size message&quot;) @NotBlank(message = &quot;notBlank message&quot;) String badField;\r\n\r\n  // (2) Before reformat\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  final String goodField;\r\n\r\n  // (2) After reformat (Same as before)\r\n  @Size(max = 10, message = &quot;size message&quot;)\r\n  @NotBlank(message = &quot;notBlank message&quot;)\r\n  final String goodField;\r\n}\r\n```\r\n\r\nAre there any way to fix it?","title":"Intellij doesn&#39;t wrapping field annotations","body":"<p>I'm using Intellij IDEA <code>2021.3.3</code>.</p>\n<p>I want to set new line after each field annotations, but it doesn't work in some cases.</p>\n<p>My <code>field annotations</code> settings are <code>wrap always</code> and unchecked <code>Do not wrap after single annotation</code>.</p>\n<p>When I set field <code>final</code> or add access modifier(like <code>private</code>), reformat works as I expected.</p>\n<p>Here's example.</p>\n<pre><code>@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Foo {\n\n  // (1) Before reformat\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  String badField;\n\n  // (1) After reformat\n  @Size(max = 10, message = &quot;size message&quot;) @NotBlank(message = &quot;notBlank message&quot;) String badField;\n\n  // (2) Before reformat\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  final String goodField;\n\n  // (2) After reformat (Same as before)\n  @Size(max = 10, message = &quot;size message&quot;)\n  @NotBlank(message = &quot;notBlank message&quot;)\n  final String goodField;\n}\n</code></pre>\n<p>Are there any way to fix it?</p>\n"},{"tags":["java","spring","spring-boot","microservices","netflix-eureka"],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701665965,"creation_date":1701665965,"question_id":77597298,"body_markdown":"I am running a Spring Boot microservices app.  The order-service is supposed to query the inventory-service to see if the ordered item(s) are in stock.  But instead I am getting this exception. \r\n```\r\njava.net.BindException: Cannot assign requested address: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:586) ~[na:na]\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:853) ~[na:na]\r\n\tat io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\r\n\tat io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:653) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\r\n...\r\n```\r\nHere is where order-service queries the inventory-service.\r\n```\r\nInventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()\r\n                .uri(&quot;http://inventory-service/api/inventory&quot;,\r\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n                .retrieve()\r\n                .bodyToMono(InventoryResponse[].class)\r\n                .block();\r\n```\r\nI do not know where to begin.  Is it a problem with Eureka?  This project is based on the programming techie tutorial:  \r\n\r\n - https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4 \r\n - https://github.com/SaiUpadhyayula/spring-boot-microservices","title":"Spring Boot Microservices Eureka java.net.BindException: Cannot Assign requested address: connect","body":"<p>I am running a Spring Boot microservices app.  The order-service is supposed to query the inventory-service to see if the ordered item(s) are in stock.  But instead I am getting this exception.</p>\n<pre><code>java.net.BindException: Cannot assign requested address: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]\n    at java.base/sun.nio.ch.Net.connect(Net.java:586) ~[na:na]\n    at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:853) ~[na:na]\n    at io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:91) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.util.internal.SocketUtils$3.run(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569) ~[na:na]\n    at io.netty.util.internal.SocketUtils.connect(SocketUtils.java:88) ~[netty-common-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:322) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:248) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:653) ~[netty-transport-4.1.101.Final.jar:4.1.101.Final]\n...\n</code></pre>\n<p>Here is where order-service queries the inventory-service.</p>\n<pre><code>InventoryResponse[] inventoryResponseArray = webClientBuilder.build().get()\n                .uri(&quot;http://inventory-service/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n</code></pre>\n<p>I do not know where to begin.  Is it a problem with Eureka?  This project is based on the programming techie tutorial:</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=8PJUnnhLXiI&amp;list=PLSVW22jAG8pBnhAdq9S8BpLnZ0_jVBj0c&amp;index=4</a></li>\n<li><a href=\"https://github.com/SaiUpadhyayula/spring-boot-microservices\" rel=\"nofollow noreferrer\">https://github.com/SaiUpadhyayula/spring-boot-microservices</a></li>\n</ul>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":1,"creation_date":1701664406,"post_id":77597234,"comment_id":136799640,"body_markdown":"Does this answer your question? [Consume Post method Rest + SpringBoot](https://stackoverflow.com/questions/53692008/consume-post-method-rest-springboot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53692008/consume-post-method-rest-springboot\">Consume Post method Rest + SpringBoot</a>"}],"owner":{"account_id":26009586,"reputation":41,"user_id":19718873,"display_name":"poornima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1701664322,"creation_date":1701664322,"question_id":77597234,"body_markdown":"I&#39;m trying to validate a flag based on the response from 3rd party API and it is a POST API call.\r\nHow to write Java code for this scenario.\r\nPlease any code snippet as guidance.","title":"How to consume Post API in springboot","body":"<p>I'm trying to validate a flag based on the response from 3rd party API and it is a POST API call.\nHow to write Java code for this scenario.\nPlease any code snippet as guidance.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":27407440,"reputation":1,"user_id":20907867,"display_name":"Namratha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701664096,"creation_date":1701664078,"answer_id":77597224,"question_id":77596988,"body_markdown":"The BeanFactory is the core of SpringBoot. It manages all the beans and has the functionality to maintain the beans. It is used in inversion control.\r\n\r\nFactoryBean is more like a datatype where you can create and use a bean as an object. It is an interface. ","title":"What is the difference between BeanFactory and FactoryBean in Spring?","body":"<p>The BeanFactory is the core of SpringBoot. It manages all the beans and has the functionality to maintain the beans. It is used in inversion control.</p>\n<p>FactoryBean is more like a datatype where you can create and use a bean as an object. It is an interface.</p>\n"}],"owner":{"account_id":13803822,"reputation":1,"user_id":9963213,"display_name":"Jason_Gan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701664096,"creation_date":1701658249,"question_id":77596988,"body_markdown":"How to introduce the difference by clearly describe? i know beanfactory is used to generate bean \r\n,so the FactoryBean is used to generate fatory? which one is earlier to execute?\r\nI tried read the official introduce but cannot understand","title":"What is the difference between BeanFactory and FactoryBean in Spring?","body":"<p>How to introduce the difference by clearly describe? i know beanfactory is used to generate bean\n,so the FactoryBean is used to generate fatory? which one is earlier to execute?\nI tried read the official introduce but cannot understand</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":6328787,"reputation":406,"user_id":7665043,"display_name":"l3l_aze"},"score":5,"creation_date":1701657179,"post_id":77596915,"comment_id":136799147,"body_markdown":"Please edit your post to include the code and requirements. Screenshots suck for troubleshooting code.","body":"Please edit your post to include the code and requirements. Screenshots suck for troubleshooting code."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701658065,"post_id":77596915,"comment_id":136799213,"body_markdown":"You don&#39;t set `userNum` in the loop. `while ((userNum = scnr.nextInt()) &gt; -1)` Simple as that.","body":"You don&#39;t set <code>userNum</code> in the loop. <code>while ((userNum = scnr.nextInt()) &gt; -1)</code> Simple as that."}],"owner":{"account_id":30058670,"reputation":1,"user_id":23035318,"display_name":"Idonotknow29"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701662848,"answer_count":0,"score":-2,"last_activity_date":1701661598,"creation_date":1701656620,"question_id":77596915,"body_markdown":"Cant seem to get my loop working\r\n\r\nBeen going at it replacing the &gt; with &gt;= and its still not working with the first inputs giving a output of either 0 or nothing at all. if someone knows what im doing wrong would love the help as im still pretty new to java.[Java code](https://i.stack.imgur.com/y42QF.png)[Inputs with no output](https://i.stack.imgur.com/8E7pz.png)","title":"While loop not giving outputs","body":"<p>Cant seem to get my loop working</p>\n<p>Been going at it replacing the &gt; with &gt;= and its still not working with the first inputs giving a output of either 0 or nothing at all. if someone knows what im doing wrong would love the help as im still pretty new to java.<a href=\"https://i.stack.imgur.com/y42QF.png\" rel=\"nofollow noreferrer\">Java code</a><a href=\"https://i.stack.imgur.com/8E7pz.png\" rel=\"nofollow noreferrer\">Inputs with no output</a></p>\n"},{"tags":["java","spring","spring-boot","jvm","performance-testing"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1701663590,"post_id":77597114,"comment_id":136799595,"body_markdown":"What is left to pinpoint? Upgrade `spring-boot-starter-parent` everywhere. I am ***assuming*** your assumptions are correct. Best of luck!","body":"What is left to pinpoint? Upgrade <code>spring-boot-starter-parent</code> everywhere. I am <b><i>assuming</i></b> your assumptions are correct. Best of luck!"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1701678556,"post_id":77597114,"comment_id":136800959,"body_markdown":"So basically we want to make sure, if this really was becoz of spring-boot upgrade, or some other dependency upgrade, or some other change. As we have not found any docs stating the CPU usage improvements after upgrading the spring-boot version to 2.7.10","body":"So basically we want to make sure, if this really was becoz of spring-boot upgrade, or some other dependency upgrade, or some other change. As we have not found any docs stating the CPU usage improvements after upgrading the spring-boot version to 2.7.10"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701661400,"creation_date":1701661400,"question_id":77597114,"body_markdown":"We have recently upgrade the `spring-boot-starter-parent` from `2.1.1.RELEASE` to `2.7.10` version and seeing 20% improvement in overall **CPU utilisation** by the service.\r\n\r\nEarlier at peak traffic **95** machines were running and now it has reduced to **75** machines at max. \r\n\r\nWith spring-boot-starter-parent upgrade, we had to upgrade other dependencies as well which were compatible with this version of spring-boot, like kafka, zookeeper, spring-cloud and couple of other dependencies as well.\r\n\r\nThe improvement in **CPU performance** was not expected, but it did happen. Is there a way/tool we could pin-point what exactly made this improvement, so we could take learnings from here and make same change in other services as well. ","title":"CPU performance improvement after upgrading to spring-boot-2.7.10","body":"<p>We have recently upgrade the <code>spring-boot-starter-parent</code> from <code>2.1.1.RELEASE</code> to <code>2.7.10</code> version and seeing 20% improvement in overall <strong>CPU utilisation</strong> by the service.</p>\n<p>Earlier at peak traffic <strong>95</strong> machines were running and now it has reduced to <strong>75</strong> machines at max.</p>\n<p>With spring-boot-starter-parent upgrade, we had to upgrade other dependencies as well which were compatible with this version of spring-boot, like kafka, zookeeper, spring-cloud and couple of other dependencies as well.</p>\n<p>The improvement in <strong>CPU performance</strong> was not expected, but it did happen. Is there a way/tool we could pin-point what exactly made this improvement, so we could take learnings from here and make same change in other services as well.</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701661374,"post_id":77597091,"comment_id":136799450,"body_markdown":"normally you&#39;d use a library, like the Jakarta email api: https://www.baeldung.com/java-email","body":"normally you&#39;d use a library, like the Jakarta email api: <a href=\"https://www.baeldung.com/java-email\" rel=\"nofollow noreferrer\">baeldung.com/java-email</a>"}],"owner":{"account_id":30058974,"reputation":1,"user_id":23035556,"display_name":"Chad Croc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701662510,"answer_count":0,"score":-1,"last_activity_date":1701660700,"creation_date":1701660700,"question_id":77597091,"body_markdown":"Recently, I made web application in Java netbeans and I made signup and login system, can you tell me please how to send an email using java, so when the user registers, it can send a verification code. I just want the code for sending an email, however because of a new update, all of the old methods do not work. \r\n\r\nI cant find anything that works anymore.","title":"How to send email using java netbeans using java with ant?","body":"<p>Recently, I made web application in Java netbeans and I made signup and login system, can you tell me please how to send an email using java, so when the user registers, it can send a verification code. I just want the code for sending an email, however because of a new update, all of the old methods do not work.</p>\n<p>I cant find anything that works anymore.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1375611654,"post_id":18041770,"comment_id":26394318,"body_markdown":"`condition = true` is an assignment expression. Watch out for the distinction.","body":"<code>condition = true</code> is an assignment expression. Watch out for the distinction."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":3,"creation_date":1375611835,"post_id":18041770,"comment_id":26394354,"body_markdown":"`(condition = true)` is **always** `true`.","body":"<code>(condition = true)</code> is <b>always</b> <code>true</code>."},{"owner":{"account_id":3104935,"reputation":975,"user_id":2628030,"accept_rate":75,"display_name":"Matt Smith"},"score":0,"creation_date":1375612953,"post_id":18041770,"comment_id":26394567,"body_markdown":"that&#39;s just an example. sorry for the typo. fixed it.","body":"that&#39;s just an example. sorry for the typo. fixed it."},{"owner":{"account_id":7487560,"reputation":145,"user_id":5690287,"display_name":"Dhruv Singhal"},"score":4,"creation_date":1547619517,"post_id":18041770,"comment_id":95248684,"body_markdown":"Correct me if I am wrong... but the title of question appears to be misleading... it says &quot;Java&quot;, while description has Javascript problem to be precise. Also the tag is of Java, while it should have been of javascript","body":"Correct me if I am wrong... but the title of question appears to be misleading... it says &quot;Java&quot;, while description has Javascript problem to be precise. Also the tag is of Java, while it should have been of javascript"}],"answers":[{"tags":[],"owner":{"account_id":399647,"reputation":753,"user_id":765138,"accept_rate":45,"display_name":"axelcdv"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375610693,"creation_date":1375610693,"answer_id":18041783,"question_id":18041770,"body_markdown":"You can just use `return` to end the method&#39;s execution","title":"Stop executing further code in Java","body":"<p>You can just use <code>return</code> to end the method's execution</p>\n"},{"tags":[],"owner":{"account_id":2821295,"reputation":17480,"user_id":2424999,"accept_rate":85,"display_name":"T_V"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1375611893,"creation_date":1375610694,"answer_id":18041784,"question_id":18041770,"body_markdown":"Just do:\r\n\r\n    public void onClick() {\r\n        if(condition == true) {\r\n            return;\r\n        }\r\n        string.setText(&quot;This string should not change if condition = true&quot;);\r\n    }\r\n\r\nIt&#39;s redundant to write `if(condition == true)`, just write `if(condition)` (This way, for example, you&#39;ll not write `=` by mistake).","title":"Stop executing further code in Java","body":"<p>Just do:</p>\n\n<pre><code>public void onClick() {\n    if(condition == true) {\n        return;\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n\n<p>It's redundant to write <code>if(condition == true)</code>, just write <code>if(condition)</code> (This way, for example, you'll not write <code>=</code> by mistake).</p>\n"},{"tags":[],"owner":{"account_id":1769470,"reputation":2426,"user_id":1614599,"display_name":"Alex MDC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375610711,"creation_date":1375610711,"answer_id":18041785,"question_id":18041770,"body_markdown":"Either `return;` from the method early, or `throw` an exception.\r\n\r\nThere is no other way to prevent further code from being executed short of exiting the process completely.","title":"Stop executing further code in Java","body":"<p>Either <code>return;</code> from the method early, or <code>throw</code> an exception.</p>\n\n<p>There is no other way to prevent further code from being executed short of exiting the process completely.</p>\n"},{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375611679,"creation_date":1375610972,"answer_id":18041823,"question_id":18041770,"body_markdown":"There are two way to stop current method/process :\r\n\r\n  1. Throwing Exception.\r\n  2. returnning the value even if it is void method.\r\n\r\nOption : you can also kill the current thread to stop it.  \r\n  \r\nFor example : \r\n\r\n\tpublic void onClick(){\r\n\r\n\t\tif(condition == true){\r\n\t\t\treturn;\r\n\t\t\t&lt;or&gt;\r\n\t\t\tthrow new YourException();\r\n\t\t}\r\n\t\tstring.setText(&quot;This string should not change if condition = true&quot;);\r\n\t}","title":"Stop executing further code in Java","body":"<p>There are two way to stop current method/process :</p>\n\n<ol>\n<li>Throwing Exception.</li>\n<li>returnning the value even if it is void method.</li>\n</ol>\n\n<p>Option : you can also kill the current thread to stop it.  </p>\n\n<p>For example : </p>\n\n<pre><code>public void onClick(){\n\n    if(condition == true){\n        return;\n        &lt;or&gt;\n        throw new YourException();\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":700140,"reputation":908,"user_id":2640007,"display_name":"Jose Sutilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375611025,"creation_date":1375611025,"answer_id":18041826,"question_id":18041770,"body_markdown":"`return` to come out of the method execution, `break` to come out of a loop execution and `continue` to skip the rest of the current loop. In your case, just `return`, but if you are in a for loop, for example, do `break` to stop the loop or `continue` to skip to next step in the loop","title":"Stop executing further code in Java","body":"<p><code>return</code> to come out of the method execution, <code>break</code> to come out of a loop execution and <code>continue</code> to skip the rest of the current loop. In your case, just <code>return</code>, but if you are in a for loop, for example, do <code>break</code> to stop the loop or <code>continue</code> to skip to next step in the loop</p>\n"},{"comments":[{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":6,"creation_date":1516190924,"post_id":34570446,"comment_id":83586039,"body_markdown":"`System.exit()` will stop the entire server (tested on Tomcat) or the application.","body":"<code>System.exit()</code> will stop the entire server (tested on Tomcat) or the application."}],"tags":[],"owner":{"account_id":2920303,"reputation":14414,"user_id":2502731,"accept_rate":99,"display_name":"lewis4u"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1451766778,"creation_date":1451766778,"answer_id":34570446,"question_id":18041770,"body_markdown":"To stop executing java code just use this command:\r\n\r\n        System.exit(1);\r\n\r\nAfter this command java stops immediately!\r\n\r\nfor example:\r\n        \r\n    \r\n    \tint i = 5;\r\n        if (i == 5) {\r\n    \t   System.out.println(&quot;All is fine...java programm executes without problem&quot;);\r\n        } else {\r\n    \t   System.out.println(&quot;ERROR occured :::: java programm has stopped!!!&quot;);\r\n    \t   System.exit(1);\r\n        }","title":"Stop executing further code in Java","body":"<p>To stop executing java code just use this command:</p>\n\n<pre><code>    System.exit(1);\n</code></pre>\n\n<p>After this command java stops immediately!</p>\n\n<p>for example:</p>\n\n<pre><code>    int i = 5;\n    if (i == 5) {\n       System.out.println(\"All is fine...java programm executes without problem\");\n    } else {\n       System.out.println(\"ERROR occured :::: java programm has stopped!!!\");\n       System.exit(1);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":1,"creation_date":1656249988,"post_id":72760949,"comment_id":128520806,"body_markdown":"This is the same solution as in [this other answer](https://stackoverflow.com/a/18041783/2227743).","body":"This is the same solution as in <a href=\"https://stackoverflow.com/a/18041783/2227743\">this other answer</a>."}],"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656240916,"creation_date":1656240916,"answer_id":72760949,"question_id":18041770,"body_markdown":"I think just using ```return;``` would do the job","title":"Stop executing further code in Java","body":"<p>I think just using <code>return;</code> would do the job</p>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701660662,"creation_date":1701660662,"answer_id":77597089,"question_id":18041770,"body_markdown":"In your thread, you need to check `Thread.interrupted()`, and if you have a flag too as some others mentioned, that&#39;d be handy too. All based on your specific use case.","title":"Stop executing further code in Java","body":"<p>In your thread, you need to check <code>Thread.interrupted()</code>, and if you have a flag too as some others mentioned, that'd be handy too. All based on your specific use case.</p>\n"}],"owner":{"account_id":3104935,"reputation":975,"user_id":2628030,"accept_rate":75,"display_name":"Matt Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188831,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":18041784,"answer_count":8,"score":23,"last_activity_date":1701660662,"creation_date":1375610575,"question_id":18041770,"body_markdown":"I have looked in the Javadoc but couldn&#39;t find information related to this.\r\n\r\nI want the application to stop executing a method if code in that method tells it to do so.\r\n\r\nIf that sentence was confusing, here&#39;s what I want to do in my code:\r\n\r\n    public void onClick(){\r\n    \r\n        if(condition == true){\r\n            stopMethod(); //madeup code\r\n        }\r\n        string.setText(&quot;This string should not change if condition = true&quot;);\r\n    }\r\n\r\nSo if the boolean `condition` is true, the method `onClick` has to stop executing further code.\r\n\r\nThis is just an example. There are other ways for me to do what I am trying to accomplish in my application, but if this is possible, it would definitely help.\r\n\r\n","title":"Stop executing further code in Java","body":"<p>I have looked in the Javadoc but couldn't find information related to this.</p>\n\n<p>I want the application to stop executing a method if code in that method tells it to do so.</p>\n\n<p>If that sentence was confusing, here's what I want to do in my code:</p>\n\n<pre><code>public void onClick(){\n\n    if(condition == true){\n        stopMethod(); //madeup code\n    }\n    string.setText(\"This string should not change if condition = true\");\n}\n</code></pre>\n\n<p>So if the boolean <code>condition</code> is true, the method <code>onClick</code> has to stop executing further code.</p>\n\n<p>This is just an example. There are other ways for me to do what I am trying to accomplish in my application, but if this is possible, it would definitely help.</p>\n"},{"tags":["java","mocking","java-21"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":7,"creation_date":1701658932,"post_id":77597005,"comment_id":136799269,"body_markdown":"If you can, redesign your code/tests so that you don&#39;t have to mock a private method. Private methods are part of the implementation of public methods. By testing the public API, you are implicitly testing the private method(s).","body":"If you can, redesign your code/tests so that you don&#39;t have to mock a private method. Private methods are part of the implementation of public methods. By testing the public API, you are implicitly testing the private method(s)."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701722399,"post_id":77597005,"comment_id":136808835,"body_markdown":"Does this answer your question? [How do I test a class that has private methods, fields or inner classes?](https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes\">How do I test a class that has private methods, fields or inner classes?</a>"}],"owner":{"account_id":30058801,"reputation":1,"user_id":23035414,"display_name":"qia nxiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701658728,"creation_date":1701658728,"question_id":77597005,"body_markdown":"I am trying to migrate my application from Java 8 to Java 21. I am facing significant obstacles in the UT part. I was using JMockit as my mock framework and was planning to upgrade to Mockito. However, Mockito does not support mocking private methods, which is making my UT upgrade very painful. \r\n\r\nIs there any way to mock private methods?","title":"How can I mock a private method in Java 21","body":"<p>I am trying to migrate my application from Java 8 to Java 21. I am facing significant obstacles in the UT part. I was using JMockit as my mock framework and was planning to upgrade to Mockito. However, Mockito does not support mocking private methods, which is making my UT upgrade very painful.</p>\n<p>Is there any way to mock private methods?</p>\n"},{"tags":["java","machine-learning","tic-tac-toe","minmax"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1701680554,"post_id":77596870,"comment_id":136801239,"body_markdown":"Sorry, but this code makes little sense. It doesn&#39;t implement minmax, but makes consecutive moves (X, O, X, O, X, O, X) in the first free cells (so A1, A2, A3, B1, ...), until there is a win (A3-B2-C1)., and then it considers the last move in the sequence the &quot;best&quot; move, in the sense that it should be played now (so without that sequence). Please read about the minimax algorithm. It is not this. And this really has nothing to do with `machine-learning`.","body":"Sorry, but this code makes little sense. It doesn&#39;t implement minmax, but makes consecutive moves (X, O, X, O, X, O, X) in the first free cells (so A1, A2, A3, B1, ...), until there is a win (A3-B2-C1)., and then it considers the last move in the sequence the &quot;best&quot; move, in the sense that it should be played now (so without that sequence). Please read about the minimax algorithm. It is not this. And this really has nothing to do with <code>machine-learning</code>."}],"owner":{"account_id":28465414,"reputation":9,"user_id":21781559,"display_name":"PyCoderyout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701657877,"creation_date":1701655633,"question_id":77596870,"body_markdown":"Function &quot;test(char[][] theBoard,char personWhoseTurnItIs)&quot; is where the issue lies\r\n\r\nIn the output it says CPU won ignore that as the user actually won, don&#39;t even bother trying to fix that as once the test() minMax issue is fixed the CPU won will only get printed when the CPU wins as the user would never end up winning (tic-tac-toe is a solved game where its impossible for a player to win against a perfect player either the perfect player wins or its a tie)\r\n\r\nTried adding some print statements to see if there some issues with the variables reassigning the bestMove variable to the wrong move, but turned out the bestMove only gets assigned once in the code and because of that I have absolutely no idea on what the issue could be.\r\n\r\nFunction:\r\n```\r\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\r\n        for (int row=0;row&lt;boardSize;row++){\r\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\r\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\r\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\r\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\r\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\r\n                    }\r\n                }\r\n                \r\n                String spot = row+&quot; &quot;+secondRow;\r\n                \r\n                switch (spot) {\r\n                    case &quot;1 1&quot;:continue;\r\n                    case &quot;1 3&quot;:continue;\r\n                    case &quot;3 1&quot;:continue;\r\n                    case &quot;3 3&quot;:continue;\r\n                }\r\n                \r\n                if (   !   (copyTicTacToeBoard[row][secondRow] == &#39; &#39;)){\r\n                    continue;\r\n                }\r\n\r\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\r\n\r\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \r\n\r\n                if (bestMoveFlag == true){\r\n                    return;\r\n                }            \r\n                switch(gameResult){\r\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\r\n                    case &quot;Y&quot;:\r\n\r\n                    case &quot;noWin&quot;:\r\n                    case &quot;TIE&quot;:\r\n                }\r\n                \r\n                test(copyTicTacToeBoard,(personWhoseTurnItIs == &#39;X&#39; ? &#39;O&#39; :&#39;X&#39;));\r\n            }\r\n        }   \r\n```\r\nFull Code: \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class minMaxTicTacToe {\r\n    public static Scanner input = new Scanner(System.in);\r\n    public static final int boardSize = 5;\r\n    public static final int winningCondition = 3;\r\n    public static int userNum = 0;\r\n    public static char[][] ticTacToeBoard = {\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n        {&#39;-&#39;, &#39; &#39;, &#39;-&#39;, &#39; &#39;, &#39;-&#39;},\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n        {&#39;-&#39;, &#39; &#39;, &#39;-&#39;, &#39; &#39;, &#39;-&#39;},\r\n\r\n        {&#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}\r\n    };\r\n    public static String bestMove= &quot;S&quot;;\r\n    public static boolean bestMoveFlag = false;\r\n    public static String winSymbol=&quot;S&quot;;\r\n\r\n    public static boolean checkIfWinByLeftToRightDiagniol(char[][]boardToUse){\r\n        ArrayList&lt;String&gt; checkList6List = new ArrayList&lt;&gt;();\r\n        \r\n        int firstRow = 5;\r\n        for (int counter = -1;counter&lt;4;counter++){\r\n            firstRow-=1;\r\n            if (Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;X&quot;) || Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;O&quot;)){\r\n                checkList6List.add(Character.toString(boardToUse[firstRow][counter+1]));\r\n            } \r\n        }\r\n\r\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;X&quot;;\r\n            return true;\r\n        }\r\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;O&quot;;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public static boolean checkIfWinByRightToLeftDiaginol(char[][]boardToUse){\r\n        ArrayList&lt;String&gt; checkList5List = new ArrayList&lt;&gt;();\r\n\r\n        for (int counter = 0;counter&lt;boardSize;counter++){\r\n            if (Character.toString(boardToUse[counter][counter]).equals(&quot;X&quot;) || Character.toString(boardToUse[counter][counter]).equals(&quot;O&quot;)){\r\n                checkList5List.add(Character.toString(boardToUse[counter][counter]));\r\n            } \r\n        }\r\n        \r\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;X&quot;;\r\n            return true;\r\n        }\r\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\r\n            winSymbol = &quot;O&quot;;\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\r\n        for (int row=0;row&lt;boardSize;row++){\r\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\r\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\r\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\r\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\r\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\r\n                    }\r\n                }\r\n                \r\n                String spot = row+&quot; &quot;+secondRow;\r\n                \r\n                switch (spot) {\r\n                    case &quot;1 1&quot;:continue;\r\n                    case &quot;1 3&quot;:continue;\r\n                    case &quot;3 1&quot;:continue;\r\n                    case &quot;3 3&quot;:continue;\r\n                }\r\n                \r\n                if (   !   (copyTicTacToeBoard[row][secondRow] == &#39; &#39;)){\r\n                    continue;\r\n                }\r\n\r\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\r\n\r\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \r\n\r\n                if (bestMoveFlag == true){\r\n                    return;\r\n                }            \r\n                switch(gameResult){\r\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\r\n                    case &quot;Y&quot;:\r\n\r\n                    case &quot;noWin&quot;:\r\n                    case &quot;TIE&quot;:\r\n                }\r\n                \r\n                test(copyTicTacToeBoard,(personWhoseTurnItIs == &#39;X&#39; ? &#39;O&#39; :&#39;X&#39;));\r\n            }\r\n        }     \r\n    }\r\n\r\n    public static boolean checkIfWinByStraightDown(char[][]boardToUse){\r\n        for (int firstRow = 0;firstRow&lt;boardSize;firstRow++){\r\n            ArrayList&lt;String&gt; checkingList3Diaginol  = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; checkingList4Diaginol = new ArrayList&lt;&gt;();\r\n            for (int secondRow = 0;secondRow&lt;boardSize;secondRow++){\r\n                    String character = Character.toString(boardToUse[firstRow][secondRow]);\r\n                    if (character.equals(&quot;X&quot;)){\r\n                        checkingList3Diaginol.add(character);\r\n                    } \r\n                    if (character.equals(&quot;O&quot;)){\r\n                        checkingList4Diaginol.add(character);\r\n                    }          \r\n                    if (checkingList3Diaginol.size() == winningCondition){\r\n                        winSymbol = &quot;X&quot;;\r\n                        return true;\r\n                    }\r\n                    if (checkingList4Diaginol.size() == winningCondition){\r\n                        winSymbol = &quot;O&quot;;\r\n                        return true;\r\n                    }       \r\n\r\n                }\r\n            }\r\n\r\n        return false;\r\n\r\n        }\r\n\r\n    public static boolean checkIfWinByStraightAcross(char[][]boardToUse){\r\n        for (int counter = 0;counter&lt;5;counter++){\r\n            ArrayList&lt;String&gt; checkingList1Straight = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; checkingList2Straight = new ArrayList&lt;&gt;();\r\n\r\n            for (char c:boardToUse[counter]){\r\n                if (Character.toString(c).equals(&quot;X&quot;)){\r\n                    checkingList1Straight.add(Character.toString(c));\r\n                } \r\n                if (Character.toString(c).equals(&quot;O&quot;)){\r\n                    checkingList2Straight.add(Character.toString(c));\r\n                } \r\n                if (checkingList1Straight.size() == winningCondition){\r\n                    winSymbol = &quot;X&quot;;\r\n                    return true;\r\n                }\r\n                if (checkingList2Straight.size() == winningCondition){\r\n                    winSymbol = &quot;O&quot;;\r\n                    return true;\r\n                }            \r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static void displayBoard(char[][]boardToUse){\r\n        for (char[] row : boardToUse){\r\n            System.out.println(row);     \r\n        }       \r\n        System.out.println(&quot;&quot;);\r\n        \r\n          \r\n        System.out.println(&quot;------------------&quot;);\r\n    }\r\n\r\n    public static void changeBoard(char X_O){\r\n        while (true){\r\n            String move = input.nextLine().toLowerCase();\r\n   \r\n            char firstLetter = (move.length() &gt;= 1 ? move.charAt(0) : 69);\r\n\r\n            int secondLetter = (move.length() &gt;= 2 ? Character.getNumericValue(move.charAt(1)) : 69);\r\n            System.out.println(firstLetter);\r\n            int firstRow = (firstLetter == &#39;a&#39; ? 0 : firstLetter == &#39;b&#39; ? 2 : firstLetter == &#39;c&#39; ? 4 : 69);\r\n            \r\n            int secondRow = (secondLetter == 1 ? 0 : secondLetter == 2 ? 2 : secondLetter == 3 ? 4 : 69);\r\n            System.out.println(secondRow);\r\n\r\n  \r\n            if (firstRow == 69 || secondRow == 69){\r\n                System.out.println(&quot;The value must look like: |Letter A-C Representing What Horizontial Row||1-3 Representing What Verticial Row|(A1)&quot;);\r\n                continue;\r\n            }\r\n        \r\n            if  (   !   (ticTacToeBoard[firstRow][secondRow]==&#39; &#39;)){\r\n                System.out.println(&quot;The value can not interfere with an in use spot&quot;);\r\n                continue;\r\n            }\r\n            ticTacToeBoard[firstRow][secondRow] = X_O;\r\n            break;\r\n        }\r\n    }\r\n    \r\n\r\n    public static boolean tieCheck(char[][]boardToUse){\r\n        int spaceCounter = 0;\r\n        for (int x=0;x&lt;boardSize;x++){\r\n            for (int i=0;i&lt;boardSize;i++){\r\n                if (boardToUse[x][i]==&#39; &#39;){\r\n                    spaceCounter+=1;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (   !   (spaceCounter==0)){\r\n            return false;\r\n        }\r\n\r\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\r\n            return true;\r\n        } \r\n\r\n        return false;\r\n\r\n\r\n    }\r\n    public static String checkForWin(String cpuOrNot,char[][]boardToUse){\r\n        if (tieCheck(boardToUse) == true){\r\n            return &quot;TIE&quot;;\r\n        }\r\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\r\n            return &quot;noWin&quot;;\r\n        }\r\n\r\n        if (cpuOrNot.equals(&quot;playerAgainstCPU&quot;)){\r\n            System.out.println(&quot;You beat the random CPU&quot;);\r\n        }\r\n        if (cpuOrNot.equals(&quot;CPU&quot;)){\r\n            System.out.println(&quot;The CPU won&quot;);\r\n        }\r\n        \r\n        if (cpuOrNot.equals(&quot;notCPU&quot;)){\r\n            System.out.println(&quot;Player &quot;+(userNum)+&quot; won the game&quot;);\r\n        }\r\n\r\n        return winSymbol;\r\n    \r\n\r\n    \r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String godCPU = &quot;YES&quot;;\r\n        if (godCPU == &quot;YES&quot;){\r\n            while (true){\r\n                bestMoveFlag = false;\r\n\r\n                test(ticTacToeBoard,&#39;X&#39;);\r\n                System.out.println(bestMove);\r\n\r\n                int firstRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[0].toCharArray()[0]);\r\n                int secondRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[1].toCharArray()[0]);\r\n                ticTacToeBoard[firstRow][secondRow] = &#39;X&#39;;\r\n\r\n                displayBoard(ticTacToeBoard);\r\n                String gameResult = checkForWin(&quot;CPU&quot;, ticTacToeBoard);\r\n                switch(gameResult){\r\n                    case &quot;X&quot;:System.exit(0);\r\n                    case &quot;Y&quot;:System.exit(0);\r\n                }\r\n\r\n                \r\n\r\n                System.out.println(&quot;Make a move player&quot;);\r\n                changeBoard(&#39;O&#39;);\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput: \r\n```\r\nWIN\r\n4 0\r\n | | \r\n- - -\r\n | | \r\n- - -\r\nX| | \r\n\r\n------------------\r\nMake a move player\r\na1\r\na\r\n0\r\nWIN\r\n4 4\r\nO| |\r\n- - -\r\n | |\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nMake a move player\r\na2\r\na\r\n2\r\nWIN\r\n2 2\r\nO|O|\r\n- - -\r\n |X|\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nMake a move player\r\na3\r\na\r\n4\r\n2 2\r\nO|O|O\r\n- - -\r\n |X|\r\n- - -\r\nX| |X\r\n\r\n------------------\r\nThe CPU won\r\nMake a move player\r\n```","title":"minMax TicTacToe code returning the wrong best possible move","body":"<p>Function &quot;test(char[][] theBoard,char personWhoseTurnItIs)&quot; is where the issue lies</p>\n<p>In the output it says CPU won ignore that as the user actually won, don't even bother trying to fix that as once the test() minMax issue is fixed the CPU won will only get printed when the CPU wins as the user would never end up winning (tic-tac-toe is a solved game where its impossible for a player to win against a perfect player either the perfect player wins or its a tie)</p>\n<p>Tried adding some print statements to see if there some issues with the variables reassigning the bestMove variable to the wrong move, but turned out the bestMove only gets assigned once in the code and because of that I have absolutely no idea on what the issue could be.</p>\n<p>Function:</p>\n<pre><code>    public static void test(char[][] theBoard,char personWhoseTurnItIs){\n        for (int row=0;row&lt;boardSize;row++){\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\n                    }\n                }\n                \n                String spot = row+&quot; &quot;+secondRow;\n                \n                switch (spot) {\n                    case &quot;1 1&quot;:continue;\n                    case &quot;1 3&quot;:continue;\n                    case &quot;3 1&quot;:continue;\n                    case &quot;3 3&quot;:continue;\n                }\n                \n                if (   !   (copyTicTacToeBoard[row][secondRow] == ' ')){\n                    continue;\n                }\n\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\n\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \n\n                if (bestMoveFlag == true){\n                    return;\n                }            \n                switch(gameResult){\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\n                    case &quot;Y&quot;:\n\n                    case &quot;noWin&quot;:\n                    case &quot;TIE&quot;:\n                }\n                \n                test(copyTicTacToeBoard,(personWhoseTurnItIs == 'X' ? 'O' :'X'));\n            }\n        }   \n</code></pre>\n<p>Full Code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class minMaxTicTacToe {\n    public static Scanner input = new Scanner(System.in);\n    public static final int boardSize = 5;\n    public static final int winningCondition = 3;\n    public static int userNum = 0;\n    public static char[][] ticTacToeBoard = {\n        {' ', '|', ' ', '|', ' '},\n        {'-', ' ', '-', ' ', '-'},\n        {' ', '|', ' ', '|', ' '},\n        {'-', ' ', '-', ' ', '-'},\n\n        {' ', '|', ' ', '|', ' '}\n    };\n    public static String bestMove= &quot;S&quot;;\n    public static boolean bestMoveFlag = false;\n    public static String winSymbol=&quot;S&quot;;\n\n    public static boolean checkIfWinByLeftToRightDiagniol(char[][]boardToUse){\n        ArrayList&lt;String&gt; checkList6List = new ArrayList&lt;&gt;();\n        \n        int firstRow = 5;\n        for (int counter = -1;counter&lt;4;counter++){\n            firstRow-=1;\n            if (Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;X&quot;) || Character.toString(boardToUse[firstRow][counter+1]).equals(&quot;O&quot;)){\n                checkList6List.add(Character.toString(boardToUse[firstRow][counter+1]));\n            } \n        }\n\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\n            winSymbol = &quot;X&quot;;\n            return true;\n        }\n        if (checkList6List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\n            winSymbol = &quot;O&quot;;\n            return true;\n        }\n\n        return false;\n    }\n\n    public static boolean checkIfWinByRightToLeftDiaginol(char[][]boardToUse){\n        ArrayList&lt;String&gt; checkList5List = new ArrayList&lt;&gt;();\n\n        for (int counter = 0;counter&lt;boardSize;counter++){\n            if (Character.toString(boardToUse[counter][counter]).equals(&quot;X&quot;) || Character.toString(boardToUse[counter][counter]).equals(&quot;O&quot;)){\n                checkList5List.add(Character.toString(boardToUse[counter][counter]));\n            } \n        }\n        \n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;X&quot;)).count() == winningCondition){\n            winSymbol = &quot;X&quot;;\n            return true;\n        }\n        if (checkList5List.stream().filter(item -&gt; item.equals(&quot;O&quot;)).count() == winningCondition){\n            winSymbol = &quot;O&quot;;\n            return true;\n        }\n\n        return false;\n\n    }\n\n    public static void test(char[][] theBoard,char personWhoseTurnItIs){\n        for (int row=0;row&lt;boardSize;row++){\n            for (int secondRow=0;secondRow&lt;theBoard[0].length;secondRow++){\n                char[][] copyTicTacToeBoard = new char[theBoard.length][ticTacToeBoard[0].length];\n                for (int theRow=0;theRow&lt;boardSize;theRow++){\n                    for (int theSecondRow=0;theSecondRow&lt;theBoard[0].length;theSecondRow++){\n                        copyTicTacToeBoard[theRow][theSecondRow] = theBoard[theRow][theSecondRow];\n                    }\n                }\n                \n                String spot = row+&quot; &quot;+secondRow;\n                \n                switch (spot) {\n                    case &quot;1 1&quot;:continue;\n                    case &quot;1 3&quot;:continue;\n                    case &quot;3 1&quot;:continue;\n                    case &quot;3 3&quot;:continue;\n                }\n                \n                if (   !   (copyTicTacToeBoard[row][secondRow] == ' ')){\n                    continue;\n                }\n\n                copyTicTacToeBoard[row][secondRow] = personWhoseTurnItIs;\n\n                String gameResult = checkForWin(&quot;NULL&quot;,copyTicTacToeBoard);    \n\n                if (bestMoveFlag == true){\n                    return;\n                }            \n                switch(gameResult){\n                    case &quot;X&quot;:bestMove = (row+&quot; &quot;+secondRow);bestMoveFlag=true;System.out.println(&quot;WIN&quot;);\n                    case &quot;Y&quot;:\n\n                    case &quot;noWin&quot;:\n                    case &quot;TIE&quot;:\n                }\n                \n                test(copyTicTacToeBoard,(personWhoseTurnItIs == 'X' ? 'O' :'X'));\n            }\n        }     \n    }\n\n    public static boolean checkIfWinByStraightDown(char[][]boardToUse){\n        for (int firstRow = 0;firstRow&lt;boardSize;firstRow++){\n            ArrayList&lt;String&gt; checkingList3Diaginol  = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; checkingList4Diaginol = new ArrayList&lt;&gt;();\n            for (int secondRow = 0;secondRow&lt;boardSize;secondRow++){\n                    String character = Character.toString(boardToUse[firstRow][secondRow]);\n                    if (character.equals(&quot;X&quot;)){\n                        checkingList3Diaginol.add(character);\n                    } \n                    if (character.equals(&quot;O&quot;)){\n                        checkingList4Diaginol.add(character);\n                    }          \n                    if (checkingList3Diaginol.size() == winningCondition){\n                        winSymbol = &quot;X&quot;;\n                        return true;\n                    }\n                    if (checkingList4Diaginol.size() == winningCondition){\n                        winSymbol = &quot;O&quot;;\n                        return true;\n                    }       \n\n                }\n            }\n\n        return false;\n\n        }\n\n    public static boolean checkIfWinByStraightAcross(char[][]boardToUse){\n        for (int counter = 0;counter&lt;5;counter++){\n            ArrayList&lt;String&gt; checkingList1Straight = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; checkingList2Straight = new ArrayList&lt;&gt;();\n\n            for (char c:boardToUse[counter]){\n                if (Character.toString(c).equals(&quot;X&quot;)){\n                    checkingList1Straight.add(Character.toString(c));\n                } \n                if (Character.toString(c).equals(&quot;O&quot;)){\n                    checkingList2Straight.add(Character.toString(c));\n                } \n                if (checkingList1Straight.size() == winningCondition){\n                    winSymbol = &quot;X&quot;;\n                    return true;\n                }\n                if (checkingList2Straight.size() == winningCondition){\n                    winSymbol = &quot;O&quot;;\n                    return true;\n                }            \n            }\n        }\n        return false;\n    }\n\n    public static void displayBoard(char[][]boardToUse){\n        for (char[] row : boardToUse){\n            System.out.println(row);     \n        }       \n        System.out.println(&quot;&quot;);\n        \n          \n        System.out.println(&quot;------------------&quot;);\n    }\n\n    public static void changeBoard(char X_O){\n        while (true){\n            String move = input.nextLine().toLowerCase();\n   \n            char firstLetter = (move.length() &gt;= 1 ? move.charAt(0) : 69);\n\n            int secondLetter = (move.length() &gt;= 2 ? Character.getNumericValue(move.charAt(1)) : 69);\n            System.out.println(firstLetter);\n            int firstRow = (firstLetter == 'a' ? 0 : firstLetter == 'b' ? 2 : firstLetter == 'c' ? 4 : 69);\n            \n            int secondRow = (secondLetter == 1 ? 0 : secondLetter == 2 ? 2 : secondLetter == 3 ? 4 : 69);\n            System.out.println(secondRow);\n\n  \n            if (firstRow == 69 || secondRow == 69){\n                System.out.println(&quot;The value must look like: |Letter A-C Representing What Horizontial Row||1-3 Representing What Verticial Row|(A1)&quot;);\n                continue;\n            }\n        \n            if  (   !   (ticTacToeBoard[firstRow][secondRow]==' ')){\n                System.out.println(&quot;The value can not interfere with an in use spot&quot;);\n                continue;\n            }\n            ticTacToeBoard[firstRow][secondRow] = X_O;\n            break;\n        }\n    }\n    \n\n    public static boolean tieCheck(char[][]boardToUse){\n        int spaceCounter = 0;\n        for (int x=0;x&lt;boardSize;x++){\n            for (int i=0;i&lt;boardSize;i++){\n                if (boardToUse[x][i]==' '){\n                    spaceCounter+=1;\n                }\n            }\n        }\n\n        if (   !   (spaceCounter==0)){\n            return false;\n        }\n\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\n            return true;\n        } \n\n        return false;\n\n\n    }\n    public static String checkForWin(String cpuOrNot,char[][]boardToUse){\n        if (tieCheck(boardToUse) == true){\n            return &quot;TIE&quot;;\n        }\n        if ((checkIfWinByStraightAcross(boardToUse) == false)&amp;&amp;(checkIfWinByStraightDown(boardToUse) == false)&amp;&amp;(checkIfWinByLeftToRightDiagniol(boardToUse)==false)&amp;&amp;(checkIfWinByRightToLeftDiaginol(boardToUse)==false)){\n            return &quot;noWin&quot;;\n        }\n\n        if (cpuOrNot.equals(&quot;playerAgainstCPU&quot;)){\n            System.out.println(&quot;You beat the random CPU&quot;);\n        }\n        if (cpuOrNot.equals(&quot;CPU&quot;)){\n            System.out.println(&quot;The CPU won&quot;);\n        }\n        \n        if (cpuOrNot.equals(&quot;notCPU&quot;)){\n            System.out.println(&quot;Player &quot;+(userNum)+&quot; won the game&quot;);\n        }\n\n        return winSymbol;\n    \n\n    \n    }\n\n    public static void main(String[] args) {\n\n        String godCPU = &quot;YES&quot;;\n        if (godCPU == &quot;YES&quot;){\n            while (true){\n                bestMoveFlag = false;\n\n                test(ticTacToeBoard,'X');\n                System.out.println(bestMove);\n\n                int firstRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[0].toCharArray()[0]);\n                int secondRow = Character.getNumericValue(bestMove.split(&quot; &quot;)[1].toCharArray()[0]);\n                ticTacToeBoard[firstRow][secondRow] = 'X';\n\n                displayBoard(ticTacToeBoard);\n                String gameResult = checkForWin(&quot;CPU&quot;, ticTacToeBoard);\n                switch(gameResult){\n                    case &quot;X&quot;:System.exit(0);\n                    case &quot;Y&quot;:System.exit(0);\n                }\n\n                \n\n                System.out.println(&quot;Make a move player&quot;);\n                changeBoard('O');\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>WIN\n4 0\n | | \n- - -\n | | \n- - -\nX| | \n\n------------------\nMake a move player\na1\na\n0\nWIN\n4 4\nO| |\n- - -\n | |\n- - -\nX| |X\n\n------------------\nMake a move player\na2\na\n2\nWIN\n2 2\nO|O|\n- - -\n |X|\n- - -\nX| |X\n\n------------------\nMake a move player\na3\na\n4\n2 2\nO|O|O\n- - -\n |X|\n- - -\nX| |X\n\n------------------\nThe CPU won\nMake a move player\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-oidc"],"answers":[{"tags":[],"owner":{"account_id":11318744,"reputation":198,"user_id":8299670,"display_name":"Daichi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701656859,"creation_date":1701656859,"answer_id":77596929,"question_id":77596812,"body_markdown":"As simple solution, can set sameSite after manually logout like below:\r\n```kotlin\r\n    @GET\r\n    @Path(&quot;/logout&quot;)\r\n    fun logout(): Response {\r\n        oidcSession?.logout()?.await()?.indefinitely()\r\n\r\n        val cookie = routingContext?.cookieMap()?.get(&quot;q_session&quot;) as? ServerCookie\r\n        if (cookie != null) {\r\n            cookie.sameSite = CookieSameSite.NONE\r\n            cookie.isSecure = true\r\n        }\r\n\r\n        return Response\r\n            .status(Response.Status.FOUND)\r\n            .location(URI(&quot;server-url/logout.html&quot;))\r\n            .build()\r\n    }\r\n```","title":"Is any way to set SameSiteCookie=None when remove q_session cookie on Quarkus?","body":"<p>As simple solution, can set sameSite after manually logout like below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @GET\n    @Path(&quot;/logout&quot;)\n    fun logout(): Response {\n        oidcSession?.logout()?.await()?.indefinitely()\n\n        val cookie = routingContext?.cookieMap()?.get(&quot;q_session&quot;) as? ServerCookie\n        if (cookie != null) {\n            cookie.sameSite = CookieSameSite.NONE\n            cookie.isSecure = true\n        }\n\n        return Response\n            .status(Response.Status.FOUND)\n            .location(URI(&quot;server-url/logout.html&quot;))\n            .build()\n    }\n</code></pre>\n"}],"owner":{"account_id":11318744,"reputation":198,"user_id":8299670,"display_name":"Daichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701656859,"creation_date":1701654077,"question_id":77596812,"body_markdown":"In Quarkus OIDC, seems `q_session` can set `SameSite=None` for authentication but seems it does not effect to remove cookie.\r\n\r\nQuarkus code:\r\nhttps://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29\r\n```java\r\nstatic void removeCookie(RoutingContext context, ServerCookie cookie, OidcTenantConfig oidcConfig) {\r\n        if (cookie != null) {\r\n            cookie.setValue(&quot;&quot;);\r\n            cookie.setMaxAge(0);\r\n            Authentication auth = oidcConfig.getAuthentication();\r\n            setCookiePath(context, auth, cookie);\r\n            if (auth.cookieDomain.isPresent()) {\r\n                cookie.setDomain(auth.cookieDomain.get());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\nMy OIDC IDP supports SLO using iframe, but iframe does not set cookie if set cookie with other than `SameSite=None`, then session cookie will remain.\r\nIs any way to set `SameSite=None` when remove cookie in Quarkus OIDC?\r\n\r\nQuarkus version: 3.2.0.Final","title":"Is any way to set SameSiteCookie=None when remove q_session cookie on Quarkus?","body":"<p>In Quarkus OIDC, seems <code>q_session</code> can set <code>SameSite=None</code> for authentication but seems it does not effect to remove cookie.</p>\n<p>Quarkus code:\n<a href=\"https://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/3.2/extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcUtils.java#L347C17-L347C29</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static void removeCookie(RoutingContext context, ServerCookie cookie, OidcTenantConfig oidcConfig) {\n        if (cookie != null) {\n            cookie.setValue(&quot;&quot;);\n            cookie.setMaxAge(0);\n            Authentication auth = oidcConfig.getAuthentication();\n            setCookiePath(context, auth, cookie);\n            if (auth.cookieDomain.isPresent()) {\n                cookie.setDomain(auth.cookieDomain.get());\n            }\n        }\n    }\n</code></pre>\n<p>My OIDC IDP supports SLO using iframe, but iframe does not set cookie if set cookie with other than <code>SameSite=None</code>, then session cookie will remain.\nIs any way to set <code>SameSite=None</code> when remove cookie in Quarkus OIDC?</p>\n<p>Quarkus version: 3.2.0.Final</p>\n"},{"tags":["java","generics","annotations"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701656587,"creation_date":1701656587,"answer_id":77596914,"question_id":77596452,"body_markdown":"None of what you want can be done without &#39;hackery&#39; (to be a bit more accurate: Without casts that produce warnings about unsafe casting which you can then suppress).\r\n\r\nIt&#39;s not your fault, and not even the fault of generics. It&#39;s the fault of the shoddy design of the `java.lang.Class` API, and partly the blame falls on the choice of having Class take generics in the first place.\r\n\r\n## Generics? Wrong!\r\n\r\n`Class` should not have them.\r\n\r\nClass can represent things generics cannot: `int.class` is representing, specifically, the `int` primitive type (it&#39;s _not_ the same as `Integer.class`!) - yet, `Class&lt;int&gt;` is invalid, so, it doesn&#39;t really make sense here.\r\n\r\nGenerics can represent a great many things that class objects cannot. For example, `List.class` returns `Class&lt;List&gt;` which is extremely annoying (having a raw type _inside_ generics is all sorts of bizarre and condemns you to those warnings, pretty much); however, it is not possible to get a `Class&lt;List&lt;String&gt;&gt;` without warning-casts, because that conceptually _does not exist_ - a `j.l.Class` instance is not capable of representing generics at all.\r\n\r\nHence, the overlap of &#39;what can class instances represent&#39; and &#39;what can generics represent&#39; is your standard venn diagram with all 4 sections:\r\n\r\n* Things neither can represent (I dunno; favourite music composer?)\r\n* Things only `Class` can represent (primitive types)\r\n* Things only generics can (types with generics)\r\n* Things both can (non-type-parameterized non-primitive types, such as String).\r\n\r\nHence, _as a general rule of thumb_, when you work with `Class`, you&#39;ll run into this, and because the generics are silly to have in the first place, just.. do what you always do when you meet shoddy API: Work around it by turning things into proper types ASAP and SuppressWarnings away the workarounds you have to do to get there.\r\n\r\n## Class? APIs broken due to array/generics incompatibility\r\n\r\nThe API of class is just broken. For example, `getInterfaces()` has the wrong return type; it is written as returning `Class&lt;?&gt;[]` which is just wrong; it should be defined as returning `Class&lt;? super T&gt;[]`. Having generics and arrays is its own problem, but something Class couldn&#39;t have helped - `getInterfaces()` predates generics and couldn&#39;t be updated in that fashion.\r\n\r\nSame applies to `getDeclaredConstructors`, which returns `Constructor&lt;?&gt;[]` instead of `Constructor&lt;T&gt;` - the reason is presumably to do with how generics and arrays don&#39;t mix all that well - highlighted particularly well by the fact that `.getSuperclass()` __does__ return `Class&lt;? super T&gt;`.\r\n\r\nNevertheless, in your game where the mission is to try to write this without `@SuppressWarnings`: __you just lost that game__ - generics are __entirely__ a figment of the compiler&#39;s imagination, and the API of `j.l.Class` fails to inform the compiler that it returns an array of classes that are guaranteed to be C or a supertype of C, therefore, what you want is now no longer possible.\r\n\r\nWe could have perhaps snatched victory from the jaws of defeat by using a method like `cast` which checks if some type X is a supertype of type Y, if we provide Y as a `Class&lt;C&gt;` we can then have that method return `Class&lt;? super C&gt;` if it is, and an exception if it isn&#39;t - but no such method exists. We can write it ourselves, but you&#39;ll find that method cannot be written without warnings / `@SuppressWarnings`.\r\n\r\n## Okay, Warnings it is\r\n\r\n```\r\nreturn (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\r\n```\r\n\r\nThis is as elegant as it gets. You had a `Map&lt;Class&lt;?&gt;, A&gt;`, you impose on it an unchecked assertion that all those classes in that map are in fact supertypes of C, and you document that this doesn&#39;t need to be checked because the code as written guarantees it. It&#39;s always nicer to rely on compiler guaranteed instead, but as explained above, that is simply not possible. You can try to shift things around to avoid that intermediate cast, but that&#39;s actually making things worse: This way, you isolate the one and only unchecked assertion you must inject into your code into a single, isolatable (as in, you can shove it in a private method and `@SuppressWarnings` only that), easily documentable one-liner helper method.\r\n\r\n## Is `Class` really broken?\r\n\r\nWell, the choice of the wonky array-returning methods is suspect, and it might have been better to add superfluous alternative methods that return a `List&lt;Class&lt;? super C&gt;&gt;` instead. However, it&#39;s a matter of tradeoffs. Whilst the API in general is a sordid, leaky mess as is, one advantage is that things like `someClass.getConstructor().newInstance()` are helpful in that they at least return the actual type if compiler-known, instead of `Object`.\r\n\r\n## Factories!\r\n\r\nNote that Class is rarely what you want. `Class` is a core library class you can&#39;t change, so, the menu of options it gives is [A] fixed and uneditable, and [B] has shoddy API. For this reason, it tends to be the better option to work with factories instead. Factories are just a &#39;meta&#39; class whose instance represents what `static` would otherwise represent - things you can do with that type that don&#39;t need an instance of it.\r\n\r\nA very obvious thing one wants to do, is invoke constructors (which are effectively static methods - they do not require a receiver just like static methods don&#39;t need one), but you can generalize that to everything class related: Any other method that feels like it should be static, as well as properties of the class itself, these can all be shoved into a separate implementation that implements an `XFactory` interface. And, crucially, that type hierarchy __can__ have sane generics on it.\r\n\r\nYou did not explain why you need this stuff, but disregard the clich&#233;s about how java overuses factories. Those are coming from people that do not understand the value of &#39;static&#39; but in type hierarchies: Note that just about every wannabe java killer language has them baked straight in (both scala and kotlin have them as core lang features, for example).","title":"gathering annotated classes returning generic super type of given class","body":"<p>None of what you want can be done without 'hackery' (to be a bit more accurate: Without casts that produce warnings about unsafe casting which you can then suppress).</p>\n<p>It's not your fault, and not even the fault of generics. It's the fault of the shoddy design of the <code>java.lang.Class</code> API, and partly the blame falls on the choice of having Class take generics in the first place.</p>\n<h2>Generics? Wrong!</h2>\n<p><code>Class</code> should not have them.</p>\n<p>Class can represent things generics cannot: <code>int.class</code> is representing, specifically, the <code>int</code> primitive type (it's <em>not</em> the same as <code>Integer.class</code>!) - yet, <code>Class&lt;int&gt;</code> is invalid, so, it doesn't really make sense here.</p>\n<p>Generics can represent a great many things that class objects cannot. For example, <code>List.class</code> returns <code>Class&lt;List&gt;</code> which is extremely annoying (having a raw type <em>inside</em> generics is all sorts of bizarre and condemns you to those warnings, pretty much); however, it is not possible to get a <code>Class&lt;List&lt;String&gt;&gt;</code> without warning-casts, because that conceptually <em>does not exist</em> - a <code>j.l.Class</code> instance is not capable of representing generics at all.</p>\n<p>Hence, the overlap of 'what can class instances represent' and 'what can generics represent' is your standard venn diagram with all 4 sections:</p>\n<ul>\n<li>Things neither can represent (I dunno; favourite music composer?)</li>\n<li>Things only <code>Class</code> can represent (primitive types)</li>\n<li>Things only generics can (types with generics)</li>\n<li>Things both can (non-type-parameterized non-primitive types, such as String).</li>\n</ul>\n<p>Hence, <em>as a general rule of thumb</em>, when you work with <code>Class</code>, you'll run into this, and because the generics are silly to have in the first place, just.. do what you always do when you meet shoddy API: Work around it by turning things into proper types ASAP and SuppressWarnings away the workarounds you have to do to get there.</p>\n<h2>Class? APIs broken due to array/generics incompatibility</h2>\n<p>The API of class is just broken. For example, <code>getInterfaces()</code> has the wrong return type; it is written as returning <code>Class&lt;?&gt;[]</code> which is just wrong; it should be defined as returning <code>Class&lt;? super T&gt;[]</code>. Having generics and arrays is its own problem, but something Class couldn't have helped - <code>getInterfaces()</code> predates generics and couldn't be updated in that fashion.</p>\n<p>Same applies to <code>getDeclaredConstructors</code>, which returns <code>Constructor&lt;?&gt;[]</code> instead of <code>Constructor&lt;T&gt;</code> - the reason is presumably to do with how generics and arrays don't mix all that well - highlighted particularly well by the fact that <code>.getSuperclass()</code> <strong>does</strong> return <code>Class&lt;? super T&gt;</code>.</p>\n<p>Nevertheless, in your game where the mission is to try to write this without <code>@SuppressWarnings</code>: <strong>you just lost that game</strong> - generics are <strong>entirely</strong> a figment of the compiler's imagination, and the API of <code>j.l.Class</code> fails to inform the compiler that it returns an array of classes that are guaranteed to be C or a supertype of C, therefore, what you want is now no longer possible.</p>\n<p>We could have perhaps snatched victory from the jaws of defeat by using a method like <code>cast</code> which checks if some type X is a supertype of type Y, if we provide Y as a <code>Class&lt;C&gt;</code> we can then have that method return <code>Class&lt;? super C&gt;</code> if it is, and an exception if it isn't - but no such method exists. We can write it ourselves, but you'll find that method cannot be written without warnings / <code>@SuppressWarnings</code>.</p>\n<h2>Okay, Warnings it is</h2>\n<pre><code>return (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\n</code></pre>\n<p>This is as elegant as it gets. You had a <code>Map&lt;Class&lt;?&gt;, A&gt;</code>, you impose on it an unchecked assertion that all those classes in that map are in fact supertypes of C, and you document that this doesn't need to be checked because the code as written guarantees it. It's always nicer to rely on compiler guaranteed instead, but as explained above, that is simply not possible. You can try to shift things around to avoid that intermediate cast, but that's actually making things worse: This way, you isolate the one and only unchecked assertion you must inject into your code into a single, isolatable (as in, you can shove it in a private method and <code>@SuppressWarnings</code> only that), easily documentable one-liner helper method.</p>\n<h2>Is <code>Class</code> really broken?</h2>\n<p>Well, the choice of the wonky array-returning methods is suspect, and it might have been better to add superfluous alternative methods that return a <code>List&lt;Class&lt;? super C&gt;&gt;</code> instead. However, it's a matter of tradeoffs. Whilst the API in general is a sordid, leaky mess as is, one advantage is that things like <code>someClass.getConstructor().newInstance()</code> are helpful in that they at least return the actual type if compiler-known, instead of <code>Object</code>.</p>\n<h2>Factories!</h2>\n<p>Note that Class is rarely what you want. <code>Class</code> is a core library class you can't change, so, the menu of options it gives is [A] fixed and uneditable, and [B] has shoddy API. For this reason, it tends to be the better option to work with factories instead. Factories are just a 'meta' class whose instance represents what <code>static</code> would otherwise represent - things you can do with that type that don't need an instance of it.</p>\n<p>A very obvious thing one wants to do, is invoke constructors (which are effectively static methods - they do not require a receiver just like static methods don't need one), but you can generalize that to everything class related: Any other method that feels like it should be static, as well as properties of the class itself, these can all be shoved into a separate implementation that implements an <code>XFactory</code> interface. And, crucially, that type hierarchy <strong>can</strong> have sane generics on it.</p>\n<p>You did not explain why you need this stuff, but disregard the clichés about how java overuses factories. Those are coming from people that do not understand the value of 'static' but in type hierarchies: Note that just about every wannabe java killer language has them baked straight in (both scala and kotlin have them as core lang features, for example).</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701656587,"creation_date":1701643668,"question_id":77596452,"body_markdown":"In Java 17 I have a method that collects all classes above some class in the inheritance/interface hierarchy that are annotated with a certain interface. For example if `MyClass` implements `Foo`, then if `MyClass` and/or `Foo` and/or `MyParentClass` (the parent of `MyClass`) are annotated with `@MyAnnotation`, all these classes will be returned in a map, the values of which are the instance of `MyAnnotation`:\r\n\r\n```java\r\nprivate static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass,\r\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses) {\r\n  if(!encounteredClasses.contains(requireNonNull(clazz))) {\r\n    encounteredClasses.add(clazz);\r\n    A classAnnotation = clazz.getAnnotation(annotationClass);\r\n    if(classAnnotation != null) {\r\n      annotationsByClass.put(clazz, classAnnotation);\r\n    }\r\n    for(Class&lt;?&gt; classInterface : clazz.getInterfaces()) {\r\n      getAnnotationsByClassAnnotatedWith(classInterface, annotationClass, annotationsByClass, encounteredClasses);\r\n    }\r\n    final Class&lt;?&gt; superClass = clazz.getSuperclass();\r\n    if(superClass != null) {\r\n      getAnnotationsByClassAnnotatedWith(superClass, annotationClass, annotationsByClass, encounteredClasses);\r\n    }\r\n  }\r\n  return annotationsByClass;\r\n}\r\n```\r\n\r\nThen I have a convenience &quot;driver&quot; method that kicks things off:\r\n\r\n```java\r\npublic static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass) {\r\n  return getAnnotationsByClassAnnotatedWith(clazz, annotationClass, new HashMap&lt;&gt;(), new HashSet&lt;&gt;());\r\n}\r\n```\r\n\r\nLogically the annotated classes must be either `MyClass`, an ancestor of `MyClass`, an interface `MyClass` implements, an interface of some ancestor of `MyClass`, or the ancestor of an interface of `MyClass` or one of its ancestors. (Whew!) In short, if I am not mistaken, this means that `MyClass` must be assignable to every returned class; that is, every returned class is a &quot;super&quot; of `MyClass` in generic terms.\r\n\r\nSo I want to improve the signature to use this:\r\n\r\n```java\r\nprivate static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass)\r\n```\r\n\r\n**What can I do to these methods to allow the convenience version to return `Map&lt;Class&lt;? super C&gt;, A&gt;`?**\r\n\r\nLet&#39;s say I change the signature of the larger method accordingly:\r\n\r\n```java\r\nprivate static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\r\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;? super C&gt;, A&gt; annotationsByClass,\r\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses)\r\n```\r\n\r\nI also change:\r\n\r\n```java\r\nfinal Class&lt;? super C&gt; superClass = clazz.getSuperclass();\r\n```\r\n\r\nThe problem now is that my recursive calls won&#39;t work. I didn&#39;t expect the recursive calls after `clazz.getInterfaces()` to work, but at least after the change above I would want the `clazz.getSuperclass()` recursive calls to work. I think I understand why they don&#39;t, but let&#39;s try another approach.\r\n\r\nI could change the accumulator map parameter back to what it was before:\r\n\r\n`Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass`\r\n\r\nBut now I have a problem trying to `return annotationsByClass`.\r\n\r\nYou might say that Java generics aren&#39;t quite that flexible, and that&#39;s probably true.\r\n\r\nBut since I know that all returned classes are of type `Class&lt;? super C&gt;`, how can I work around this? Is there at least a cast I can do that would produce a warning that I could suppress?\r\n\r\nThe only way I&#39;ve found so far is to use `Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass` as the accumulator, cast to `Object`, and then cast to `Map&lt;Class&lt;? super C&gt;, A&gt;`:\r\n\r\n```java\r\nreturn (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\r\n```\r\n\r\nBut I am loathe to include such a &quot;hard&quot; hack. At worse I&#39;d like a warning I can suppress.\r\n\r\nOr am I mistaken that this logic will only return `Class&lt;? super C&gt;` for the given class `Class&lt;C&gt;`?","title":"gathering annotated classes returning generic super type of given class","body":"<p>In Java 17 I have a method that collects all classes above some class in the inheritance/interface hierarchy that are annotated with a certain interface. For example if <code>MyClass</code> implements <code>Foo</code>, then if <code>MyClass</code> and/or <code>Foo</code> and/or <code>MyParentClass</code> (the parent of <code>MyClass</code>) are annotated with <code>@MyAnnotation</code>, all these classes will be returned in a map, the values of which are the instance of <code>MyAnnotation</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass,\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses) {\n  if(!encounteredClasses.contains(requireNonNull(clazz))) {\n    encounteredClasses.add(clazz);\n    A classAnnotation = clazz.getAnnotation(annotationClass);\n    if(classAnnotation != null) {\n      annotationsByClass.put(clazz, classAnnotation);\n    }\n    for(Class&lt;?&gt; classInterface : clazz.getInterfaces()) {\n      getAnnotationsByClassAnnotatedWith(classInterface, annotationClass, annotationsByClass, encounteredClasses);\n    }\n    final Class&lt;?&gt; superClass = clazz.getSuperclass();\n    if(superClass != null) {\n      getAnnotationsByClassAnnotatedWith(superClass, annotationClass, annotationsByClass, encounteredClasses);\n    }\n  }\n  return annotationsByClass;\n}\n</code></pre>\n<p>Then I have a convenience &quot;driver&quot; method that kicks things off:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;A extends Annotation&gt; Map&lt;Class&lt;?&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;?&gt; clazz, Class&lt;A&gt; annotationClass) {\n  return getAnnotationsByClassAnnotatedWith(clazz, annotationClass, new HashMap&lt;&gt;(), new HashSet&lt;&gt;());\n}\n</code></pre>\n<p>Logically the annotated classes must be either <code>MyClass</code>, an ancestor of <code>MyClass</code>, an interface <code>MyClass</code> implements, an interface of some ancestor of <code>MyClass</code>, or the ancestor of an interface of <code>MyClass</code> or one of its ancestors. (Whew!) In short, if I am not mistaken, this means that <code>MyClass</code> must be assignable to every returned class; that is, every returned class is a &quot;super&quot; of <code>MyClass</code> in generic terms.</p>\n<p>So I want to improve the signature to use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass)\n</code></pre>\n<p><strong>What can I do to these methods to allow the convenience version to return <code>Map&lt;Class&lt;? super C&gt;, A&gt;</code>?</strong></p>\n<p>Let's say I change the signature of the larger method accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;C, A extends Annotation&gt; Map&lt;Class&lt;? super C&gt;, A&gt; getAnnotationsByClassAnnotatedWith(\n    Class&lt;C&gt; clazz, Class&lt;A&gt; annotationClass, Map&lt;Class&lt;? super C&gt;, A&gt; annotationsByClass,\n    Set&lt;Class&lt;?&gt;&gt; encounteredClasses)\n</code></pre>\n<p>I also change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Class&lt;? super C&gt; superClass = clazz.getSuperclass();\n</code></pre>\n<p>The problem now is that my recursive calls won't work. I didn't expect the recursive calls after <code>clazz.getInterfaces()</code> to work, but at least after the change above I would want the <code>clazz.getSuperclass()</code> recursive calls to work. I think I understand why they don't, but let's try another approach.</p>\n<p>I could change the accumulator map parameter back to what it was before:</p>\n<p><code>Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass</code></p>\n<p>But now I have a problem trying to <code>return annotationsByClass</code>.</p>\n<p>You might say that Java generics aren't quite that flexible, and that's probably true.</p>\n<p>But since I know that all returned classes are of type <code>Class&lt;? super C&gt;</code>, how can I work around this? Is there at least a cast I can do that would produce a warning that I could suppress?</p>\n<p>The only way I've found so far is to use <code>Map&lt;Class&lt;?&gt;, A&gt; annotationsByClass</code> as the accumulator, cast to <code>Object</code>, and then cast to <code>Map&lt;Class&lt;? super C&gt;, A&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (Map&lt;Class&lt;? super C&gt;, A&gt;)(Object)annotationsByClass;\n</code></pre>\n<p>But I am loathe to include such a &quot;hard&quot; hack. At worse I'd like a warning I can suppress.</p>\n<p>Or am I mistaken that this logic will only return <code>Class&lt;? super C&gt;</code> for the given class <code>Class&lt;C&gt;</code>?</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1588513708,"post_id":5168144,"comment_id":108920051,"body_markdown":"For those copying too literally: fields in Java really need to start with a lowercase character, so `firstName`, `lastName` and `birthYear` (or `yearOfBirth` of course).","body":"For those copying too literally: fields in Java really need to start with a lowercase character, so <code>firstName</code>, <code>lastName</code> and <code>birthYear</code> (or <code>yearOfBirth</code> of course)."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1645546539,"post_id":5168144,"comment_id":125897585,"body_markdown":"Please select [this answer](https://stackoverflow.com/a/57643471/9317690) regarding the upcoming &quot;inline classes&quot; as _the_ answer.  AFAICT, all the other answers are using variants on regular objects.","body":"Please select <a href=\"https://stackoverflow.com/a/57643471/9317690\">this answer</a> regarding the upcoming &quot;inline classes&quot; as <i>the</i> answer.  AFAICT, all the other answers are using variants on regular objects."}],"answers":[{"comments":[{"owner":{"account_id":48349,"reputation":3354,"user_id":143652,"accept_rate":89,"display_name":"mglauche"},"score":36,"creation_date":1299073098,"post_id":5168165,"comment_id":5804263,"body_markdown":"Well, a class with only public variables looks awfully like a stuct.","body":"Well, a class with only public variables looks awfully like a stuct."},{"owner":{"account_id":6995097,"reputation":1409,"user_id":5363011,"display_name":"George Leung"},"score":23,"creation_date":1580140468,"post_id":5168165,"comment_id":105990974,"body_markdown":"We will have [records](https://openjdk.java.net/jeps/359) 9 years after this answer, in Java 14. It is amusing how fast time flies.","body":"We will have <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">records</a> 9 years after this answer, in Java 14. It is amusing how fast time flies."},{"owner":{"account_id":330135,"reputation":4446,"user_id":654070,"accept_rate":62,"display_name":"Will Calderwood"},"score":9,"creation_date":1588064974,"post_id":5168165,"comment_id":108749216,"body_markdown":"One of the major differences between classes and structs is how they behave in memory. In this respect, this answer is wrong. Java has nothing that behaves like a struct but will hopefully have `inline class` at some point in the near future which I believe is more like a struct.","body":"One of the major differences between classes and structs is how they behave in memory. In this respect, this answer is wrong. Java has nothing that behaves like a struct but will hopefully have <code>inline class</code> at some point in the near future which I believe is more like a struct."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1588513958,"post_id":5168165,"comment_id":108920147,"body_markdown":"A bean has properties (i.e. getters and usually setters) and nowadays commonly is annotated for it to be comply with the requirements for a bean.","body":"A bean has properties (i.e. getters and usually setters) and nowadays commonly is annotated for it to be comply with the requirements for a bean."},{"owner":{"account_id":129921,"reputation":1538,"user_id":328829,"accept_rate":78,"display_name":"zzfima"},"score":0,"creation_date":1628573557,"post_id":5168165,"comment_id":121449871,"body_markdown":"Struct is very good thing for questions in interview. I have an enterprise product, no using struct. C# 7.0","body":"Struct is very good thing for questions in interview. I have an enterprise product, no using struct. C# 7.0"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1645655921,"post_id":5168165,"comment_id":125933750,"body_markdown":"@WillCalderwood, bingo.  I&#39;ve seen it credited as one of the biggest reasons that optimized C# code outperforms optimized Java.  I think the problem comes from an entire generation of engineers that have never known a compound value type before such as C has.  They think in terms of everything either being a pointer (ref) to something or a primitive.  In fact, the Valhalla guys have changed their minds regarding names an &quot;inline classes&quot; (etc.) may well be &quot;primitive classes&quot;.  I just wish they&#39;d merge the thing, because Structs and Reified Generics are pretty important.","body":"@WillCalderwood, bingo.  I&#39;ve seen it credited as one of the biggest reasons that optimized C# code outperforms optimized Java.  I think the problem comes from an entire generation of engineers that have never known a compound value type before such as C has.  They think in terms of everything either being a pointer (ref) to something or a primitive.  In fact, the Valhalla guys have changed their minds regarding names an &quot;inline classes&quot; (etc.) may well be &quot;primitive classes&quot;.  I just wish they&#39;d merge the thing, because Structs and Reified Generics are pretty important."}],"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"comment_count":6,"down_vote_count":8,"up_vote_count":79,"is_accepted":true,"score":71,"last_activity_date":1299072851,"creation_date":1299072851,"answer_id":5168165,"question_id":5168144,"body_markdown":"Java definitively has no structs :)\r\nBut what you describe here looks like a JavaBean kind of class.","title":"Does Java support structs?","body":"<p>Java definitively has no structs :)\nBut what you describe here looks like a JavaBean kind of class.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":18,"creation_date":1299073119,"post_id":5168174,"comment_id":5804269,"body_markdown":"Actually a `struct` in C++ is ([pretty much](http://en.wikipedia.org/wiki/C%2B%2B_classes#Differences_between_struct_and_classes_in_C.2B.2B)) the same thing as a `class` in C++.","body":"Actually a <code>struct</code> in C++ is (<a href=\"http://en.wikipedia.org/wiki/C%2B%2B_classes#Differences_between_struct_and_classes_in_C.2B.2B\" rel=\"nofollow noreferrer\">pretty much</a>) the same thing as a <code>class</code> in C++."},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":1,"creation_date":1609852335,"post_id":5168174,"comment_id":115946223,"body_markdown":"@JoachimSauer Weird! That makes me wonder how different C++ classes are from *C* structs.","body":"@JoachimSauer Weird! That makes me wonder how different C++ classes are from <i>C</i> structs."},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":0,"creation_date":1609852512,"post_id":5168174,"comment_id":115946290,"body_markdown":"@MaartenBodewes The problem with `internal` is that it&#39;s less visible than `protected`. An `internal` member declared in `com.myapp.lib` will not be accessible in `com.myapp.main`, so you might not be able to access it everywhere within the same project.","body":"@MaartenBodewes The problem with <code>internal</code> is that it&#39;s less visible than <code>protected</code>. An <code>internal</code> member declared in <code>com.myapp.lib</code> will not be accessible in <code>com.myapp.main</code>, so you might not be able to access it everywhere within the same project."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1609852543,"post_id":5168174,"comment_id":115946303,"body_markdown":"@jpaugh: I&#39;m no C or C++ expert, that was just a random piece of interesting trivia that I picked up. But I guess since C++ classes are almost the same as C++ structs, I guess they are both *quite* different from C structs (which don&#39;t directly support inheritance of associated constructors/methods).","body":"@jpaugh: I&#39;m no C or C++ expert, that was just a random piece of interesting trivia that I picked up. But I guess since C++ classes are almost the same as C++ structs, I guess they are both <i>quite</i> different from C structs (which don&#39;t directly support inheritance of associated constructors/methods)."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1609871715,"post_id":5168174,"comment_id":115955652,"body_markdown":"@jpaugh The whole reason I mentioned the issue with `public` is that you may not want to expose a record that can easily be put in a wrong state to many classes; it should preferably be kept internal. Note that Java records, as mentioned [in this answer](https://stackoverflow.com/a/64891172/589259) are immutable (but you can always use a factory method to create new records of course)","body":"@jpaugh The whole reason I mentioned the issue with <code>public</code> is that you may not want to expose a record that can easily be put in a wrong state to many classes; it should preferably be kept internal. Note that Java records, as mentioned <a href=\"https://stackoverflow.com/a/64891172/589259\">in this answer</a> are immutable (but you can always use a factory method to create new records of course)"},{"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"score":1,"creation_date":1610648407,"post_id":5168174,"comment_id":116205832,"body_markdown":"it is not the same, in the jvm an object is a pointer with other pointers for its fields, while a struct in c is a blueprint for a memory allocation so it can be easily managed since is always the same size and it is allogated one beside the others, like an array of int","body":"it is not the same, in the jvm an object is a pointer with other pointers for its fields, while a struct in c is a blueprint for a memory allocation so it can be easily managed since is always the same size and it is allogated one beside the others, like an array of int"}],"tags":[],"owner":{"account_id":295750,"reputation":1475,"user_id":600313,"accept_rate":85,"display_name":"Eugene Burtsev"},"comment_count":6,"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1406007158,"creation_date":1299072884,"answer_id":5168174,"question_id":5168144,"body_markdown":"Java doesn&#39;t have an analog to C++&#39;s structs, but you can use classes with all public members.","title":"Does Java support structs?","body":"<p>Java doesn't have an analog to C++'s structs, but you can use classes with all public members.</p>\n"},{"tags":[],"owner":{"account_id":300808,"reputation":610,"user_id":608174,"accept_rate":67,"display_name":"Markus"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1299072931,"creation_date":1299072931,"answer_id":5168188,"question_id":5168144,"body_markdown":"Yes, a class is what you need. An class defines an own type.","title":"Does Java support structs?","body":"<p>Yes, a class is what you need. An class defines an own type.</p>\n"},{"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1299116756,"post_id":5168216,"comment_id":5814257,"body_markdown":"I&#39;d disagree - it takes little effort to refactor such a class into a &quot;proper&quot; class with getters and setters using modern IDEs, and this provides a much more robust and extensible framework, whatever the use (academic reasons aside!)","body":"I&#39;d disagree - it takes little effort to refactor such a class into a &quot;proper&quot; class with getters and setters using modern IDEs, and this provides a much more robust and extensible framework, whatever the use (academic reasons aside!)"},{"owner":{"account_id":245238,"reputation":5642,"user_id":518627,"accept_rate":50,"display_name":"Tom Quarendon"},"score":23,"creation_date":1299139936,"post_id":5168216,"comment_id":5817395,"body_markdown":"I would use &quot;POD&quot; type classes in java in the same circumstances as I do in C++. &quot;Value objects&quot; spring to mind in J2EE where you have a method that is returning multiple values at once. No point in encapsulating the data with getter and setter methods, just make the fields public -- shorter and more descriptive. Anything &quot;proper&quot; I tend to encapsulate, in the same was I do in C++. So I stand by my original comment, but it&#39;s a style choice. I don&#39;t think you loose anything, and indeed I think it&#39;s more descriptive when what you&#39;ve got is a value class.","body":"I would use &quot;POD&quot; type classes in java in the same circumstances as I do in C++. &quot;Value objects&quot; spring to mind in J2EE where you have a method that is returning multiple values at once. No point in encapsulating the data with getter and setter methods, just make the fields public -- shorter and more descriptive. Anything &quot;proper&quot; I tend to encapsulate, in the same was I do in C++. So I stand by my original comment, but it&#39;s a style choice. I don&#39;t think you loose anything, and indeed I think it&#39;s more descriptive when what you&#39;ve got is a value class."},{"owner":{"account_id":346179,"reputation":2386,"user_id":679550,"accept_rate":84,"display_name":"Chef Pharaoh"},"score":18,"creation_date":1413929294,"post_id":5168216,"comment_id":41627323,"body_markdown":"No need to end a class in java with a semicolon.","body":"No need to end a class in java with a semicolon."},{"owner":{"account_id":348832,"reputation":1985,"user_id":683763,"accept_rate":57,"display_name":"ULazdins"},"score":32,"creation_date":1485356180,"post_id":5168216,"comment_id":70893089,"body_markdown":"Correct me if I&#39;m wrong, but the point of Struct is that it is passed by value not by reference. Classes always are passed by reference. That&#39;s why this answer is wrong.","body":"Correct me if I&#39;m wrong, but the point of Struct is that it is passed by value not by reference. Classes always are passed by reference. That&#39;s why this answer is wrong."},{"owner":{"account_id":2022316,"reputation":366,"user_id":1808181,"display_name":"Ronaldo Nazarea"},"score":5,"creation_date":1502641619,"post_id":5168216,"comment_id":78282579,"body_markdown":"@ULazdins: I think you&#39;re confusing C# structs with C++ structs. When you pass a class to a method in C++, it calls the copy constructor, which by default copies each field. You have to explicitly use the syntax to pass it by reference.","body":"@ULazdins: I think you&#39;re confusing C# structs with C++ structs. When you pass a class to a method in C++, it calls the copy constructor, which by default copies each field. You have to explicitly use the syntax to pass it by reference."},{"owner":{"account_id":442161,"reputation":249,"user_id":832661,"display_name":"Pablo Ariel"},"score":1,"creation_date":1542998625,"post_id":5168216,"comment_id":93775721,"body_markdown":"I wanted to say that I totally disagree with @MichaelBerry. If you want a lot of redundant code to get an unmaintainable framework, waste your time turning all your structs into classes with private members and accessors.","body":"I wanted to say that I totally disagree with @MichaelBerry. If you want a lot of redundant code to get an unmaintainable framework, waste your time turning all your structs into classes with private members and accessors."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":8,"creation_date":1543014325,"post_id":5168216,"comment_id":93780070,"body_markdown":"@PabloAriel I&#39;d also disagree with my earlier comment. My thinking is allowed to evolve over 7 years ;)","body":"@PabloAriel I&#39;d also disagree with my earlier comment. My thinking is allowed to evolve over 7 years ;)"},{"owner":{"account_id":6111237,"reputation":18715,"user_id":4767498,"accept_rate":87,"display_name":"M.kazem Akhgary"},"score":0,"creation_date":1543126569,"post_id":5168216,"comment_id":93801161,"body_markdown":"What about garbage collection? I mean does this produce overhead for garbage collector?","body":"What about garbage collection? I mean does this produce overhead for garbage collector?"},{"owner":{"account_id":442161,"reputation":249,"user_id":832661,"display_name":"Pablo Ariel"},"score":1,"creation_date":1543854914,"post_id":5168216,"comment_id":94058542,"body_markdown":"@MichaelBerry Happy to hear that. I have to admit I didn&#39;t think as I do now back in 2011.","body":"@MichaelBerry Happy to hear that. I have to admit I didn&#39;t think as I do now back in 2011."},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":0,"creation_date":1550440494,"post_id":5168216,"comment_id":96258521,"body_markdown":"please format your Java code properly (camelCasing, spaces, etc)","body":"please format your Java code properly (camelCasing, spaces, etc)"},{"owner":{"account_id":20827,"reputation":494,"user_id":50115,"display_name":"kri"},"score":0,"creation_date":1562932715,"post_id":5168216,"comment_id":100545719,"body_markdown":"@RonaldoNazarea, ULazdins is right, C# structs are value types. see https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/index","body":"@RonaldoNazarea, ULazdins is right, C# structs are value types. see <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/index\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1588513577,"post_id":5168216,"comment_id":108920009,"body_markdown":"Probably there is something wrong with the code if the fields are made public, because that indicates that the struct can be used outside of the package that defines it. Just leaving it to package access (no modifier) should be preferred. And if possible, use it as static inner class and mark the class itself `private`.","body":"Probably there is something wrong with the code if the fields are made public, because that indicates that the struct can be used outside of the package that defines it. Just leaving it to package access (no modifier) should be preferred. And if possible, use it as static inner class and mark the class itself <code>private</code>."},{"owner":{"account_id":1791524,"reputation":196,"user_id":1631799,"accept_rate":27,"display_name":"sgm"},"score":1,"creation_date":1608317117,"post_id":5168216,"comment_id":115555818,"body_markdown":"As others said: NOT REALLY STRUCTS, structs as in C++ are much easier, simple, compact (no need for different files). Very sorry java don&#39;t have then...","body":"As others said: NOT REALLY STRUCTS, structs as in C++ are much easier, simple, compact (no need for different files). Very sorry java don&#39;t have then..."},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":1,"creation_date":1609852986,"post_id":5168216,"comment_id":115946510,"body_markdown":"@sgm You can define *nested* classes in Java just fine. It just doesn&#39;t let you switch &quot;topics&quot; in the same &quot;document.&quot; One of Java&#39;s primary design goals (IIRC) was to distinguish itself from C++, particularly by enforcing certain style guidelines at the language level. The idea was, you can still write bad programs in Java, it&#39;s just not as easy. Since then, Java&#39;s *specific* style guidelines may seem a bit dated to me, but... it was a decent idea.","body":"@sgm You can define <i>nested</i> classes in Java just fine. It just doesn&#39;t let you switch &quot;topics&quot; in the same &quot;document.&quot; One of Java&#39;s primary design goals (IIRC) was to distinguish itself from C++, particularly by enforcing certain style guidelines at the language level. The idea was, you can still write bad programs in Java, it&#39;s just not as easy. Since then, Java&#39;s <i>specific</i> style guidelines may seem a bit dated to me, but... it was a decent idea."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645649181,"post_id":5168216,"comment_id":125931790,"body_markdown":"I&#39;m beginning to wonder if some of the folks even know what a struct truly is, or used a language that had them, such as C.  If you&#39;ve only been on language platforms like (pre-Valhalla) Java where every last thing is either a reference to something or a primitive, it&#39;s going to be confusing to you to think of a compound _value_ type.","body":"I&#39;m beginning to wonder if some of the folks even know what a struct truly is, or used a language that had them, such as C.  If you&#39;ve only been on language platforms like (pre-Valhalla) Java where every last thing is either a reference to something or a primitive, it&#39;s going to be confusing to you to think of a compound <i>value</i> type."}],"tags":[],"owner":{"account_id":245238,"reputation":5642,"user_id":518627,"accept_rate":50,"display_name":"Tom Quarendon"},"comment_count":15,"down_vote_count":9,"up_vote_count":121,"is_accepted":false,"score":112,"last_activity_date":1701655915,"creation_date":1299073053,"answer_id":5168216,"question_id":5168144,"body_markdown":"The equivalent in Java to a struct would be\r\n\r\n    class Member\r\n    {\r\n        public String firstName;\r\n        public String lastName;\r\n        public int    birthYear;\r\n     };\r\n\r\nand there&#39;s nothing wrong with that in the right circumstances. Much the same as in C++ really in terms of when do you use struct versus when do you use a class with encapsulated data.","title":"Does Java support structs?","body":"<p>The equivalent in Java to a struct would be</p>\n<pre><code>class Member\n{\n    public String firstName;\n    public String lastName;\n    public int    birthYear;\n };\n</code></pre>\n<p>and there's nothing wrong with that in the right circumstances. Much the same as in C++ really in terms of when do you use struct versus when do you use a class with encapsulated data.</p>\n"},{"tags":[],"owner":{"account_id":8084484,"reputation":837,"user_id":6092449,"display_name":"Damian Wojakowski"},"comment_count":0,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1514076103,"creation_date":1513887694,"answer_id":47932217,"question_id":5168144,"body_markdown":"Actually a struct in C++ is a class (e.g. you can define methods there, it can be extended, it works exactly like a class), the only difference is that the default access modfiers are set to public (for classes they are set to private by default).\r\n\r\nThis is really the only difference in C++, many people don&#39;t know that. ; )\r\n\r\n","title":"Does Java support structs?","body":"<p>Actually a struct in C++ is a class (e.g. you can define methods there, it can be extended, it works exactly like a class), the only difference is that the default access modfiers are set to public (for classes they are set to private by default).</p>\n\n<p>This is really the only difference in C++, many people don't know that. ; )</p>\n"},{"comments":[{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":0,"creation_date":1609852159,"post_id":49683386,"comment_id":115946150,"body_markdown":"Java doesn&#39;t support `var`, does it?","body":"Java doesn&#39;t support <code>var</code>, does it?"},{"owner":{"account_id":4540045,"reputation":1159,"user_id":3688170,"display_name":"Salvatore Pannozzo Capodiferro"},"score":1,"creation_date":1610648259,"post_id":49683386,"comment_id":116205777,"body_markdown":"it is supported from java 10 as a basic placeholder for variables, since it is the constructor that will define the type, but I don&#39;t know if is usable for memory management, I think is better defining a variable for it&#39;s type, using a boolean it should be better that using var and then assign it to a boolean","body":"it is supported from java 10 as a basic placeholder for variables, since it is the constructor that will define the type, but I don&#39;t know if is usable for memory management, I think is better defining a variable for it&#39;s type, using a boolean it should be better that using var and then assign it to a boolean"},{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":0,"creation_date":1616519701,"post_id":49683386,"comment_id":118025995,"body_markdown":"Man, type inference of variables in C++ is something I miss, for sure. Glad to see it&#39;s made its way into Java.","body":"Man, type inference of variables in C++ is something I miss, for sure. Glad to see it&#39;s made its way into Java."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1636147874,"post_id":49683386,"comment_id":123488564,"body_markdown":"@jpaugh Note that `var` only cause the compiler to *infer* the type at compile-time, at runtime, there is no difference.","body":"@jpaugh Note that <code>var</code> only cause the compiler to <i>infer</i> the type at compile-time, at runtime, there is no difference."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1652904004,"post_id":49683386,"comment_id":127723065,"body_markdown":"I still don&#39;t understand where you&#39;re going with this answer.  `var` does nothing to create a compound value type, which is the point behind structs.  Further, what does putting them into a class accomplish?  Are you answering his need for his own type, or answering what/why/how for structs?  If the latter, this answer doesn&#39;t make sense.","body":"I still don&#39;t understand where you&#39;re going with this answer.  <code>var</code> does nothing to create a compound value type, which is the point behind structs.  Further, what does putting them into a class accomplish?  Are you answering his need for his own type, or answering what/why/how for structs?  If the latter, this answer doesn&#39;t make sense."}],"tags":[],"owner":{"account_id":6894097,"reputation":1,"user_id":9245216,"display_name":"Klaider Animekist"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522973581,"creation_date":1522973581,"answer_id":49683386,"question_id":5168144,"body_markdown":"Structs &quot;really&quot; pure aren&#39;t supported in Java. E.g., C# supports `struct` definitions that represent values and can be allocated anytime.\r\n\r\nIn Java, the unique way to get an approximation of C++ structs\r\n\r\n    struct Token\r\n    {\r\n        TokenType type;\r\n        Stringp stringValue;\r\n        double mathValue;\r\n    }\r\n\r\n    // Instantiation\r\n\r\n    {\r\n        Token t = new Token;\r\n    }\r\n\r\nwithout using a (static buffer or list) is doing something like\r\n\r\n    var type = /* TokenType */ ;\r\n    var stringValue = /* String */ ;\r\n    var mathValue = /* double */ ;\r\n\r\nSo, simply allocate variables or statically define them into a class.","title":"Does Java support structs?","body":"<p>Structs \"really\" pure aren't supported in Java. E.g., C# supports <code>struct</code> definitions that represent values and can be allocated anytime.</p>\n\n<p>In Java, the unique way to get an approximation of C++ structs</p>\n\n<pre><code>struct Token\n{\n    TokenType type;\n    Stringp stringValue;\n    double mathValue;\n}\n\n// Instantiation\n\n{\n    Token t = new Token;\n}\n</code></pre>\n\n<p>without using a (static buffer or list) is doing something like</p>\n\n<pre><code>var type = /* TokenType */ ;\nvar stringValue = /* String */ ;\nvar mathValue = /* double */ ;\n</code></pre>\n\n<p>So, simply allocate variables or statically define them into a class.</p>\n"},{"comments":[{"owner":{"account_id":3619346,"reputation":623,"user_id":3501944,"accept_rate":100,"display_name":"user218046"},"score":0,"creation_date":1603193238,"post_id":50020509,"comment_id":113952999,"body_markdown":"Good stuff. I now understand how structures (objects) are represented in memory. Thanks man :)","body":"Good stuff. I now understand how structures (objects) are represented in memory. Thanks man :)"}],"tags":[],"owner":{"account_id":13439326,"reputation":109,"user_id":9696924,"display_name":"Leo"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1524653791,"creation_date":1524653791,"answer_id":50020509,"question_id":5168144,"body_markdown":"With Project JUnion you can use structs in Java by annotating a class with @Struct annotation\r\n\r\n    @Struct\r\n    class Member {\r\n      string FirstName; \r\n      string LastName;  \r\n      int BirthYear; \r\n    }\r\nMore info at the project&#39;s website: https://tehleo.github.io/junion/","title":"Does Java support structs?","body":"<p>With Project JUnion you can use structs in Java by annotating a class with @Struct annotation</p>\n\n<pre><code>@Struct\nclass Member {\n  string FirstName; \n  string LastName;  \n  int BirthYear; \n}\n</code></pre>\n\n<p>More info at the project's website: <a href=\"https://tehleo.github.io/junion/\" rel=\"noreferrer\">https://tehleo.github.io/junion/</a></p>\n"},{"comments":[{"owner":{"account_id":4919525,"reputation":443,"user_id":3962470,"display_name":"ganesan arunachalam"},"score":1,"creation_date":1607597402,"post_id":57643471,"comment_id":115325210,"body_markdown":"whoever downvoted this, may I know why? \nYou can read more about java inline class here https://www.infoq.com/articles/inline-classes-java/","body":"whoever downvoted this, may I know why?  You can read more about java inline class here <a href=\"https://www.infoq.com/articles/inline-classes-java/\" rel=\"nofollow noreferrer\">infoq.com/articles/inline-classes-java</a>"},{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":1,"creation_date":1616519557,"post_id":57643471,"comment_id":118025918,"body_markdown":"This is excellent! I look forward to the addition.","body":"This is excellent! I look forward to the addition."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1644799331,"post_id":57643471,"comment_id":125694931,"body_markdown":"THIS is the answer.  The others completely skirt the issue of having allocation/GC in the way of everything.  Most importantly would be the advent of these things on the stack (local/passed/returned values) (if any of that is allowed, God willing.)  It was my understanding that the JVM would need to be overhauled to allow this.  So if this really did pan out, it&#39;s _huge._","body":"THIS is the answer.  The others completely skirt the issue of having allocation/GC in the way of everything.  Most importantly would be the advent of these things on the stack (local/passed/returned values) (if any of that is allowed, God willing.)  It was my understanding that the JVM would need to be overhauled to allow this.  So if this really did pan out, it&#39;s <i>huge.</i>"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645546322,"post_id":57643471,"comment_id":125897479,"body_markdown":"Looking into this: Can we clarify?  In your example, `x` and `y` themselves are placed onto the stack if passed?  That is, instead of a reference being passed by value, we have the values being passed by value like way C allows?","body":"Looking into this: Can we clarify?  In your example, <code>x</code> and <code>y</code> themselves are placed onto the stack if passed?  That is, instead of a reference being passed by value, we have the values being passed by value like way C allows?"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1645547406,"post_id":57643471,"comment_id":125897970,"body_markdown":"Further, Oracle seems to be a little self-argumentative regarding the term.  https://mail.openjdk.java.net/pipermail/valhalla-spec-experts/2020-October/001415.html   This is as of the end of 2020.  I&#39;m still not sure where Valhalla ended up.  Anyway, &quot;Primitive Objects&quot;, &quot;Primitive Classes&quot;, &quot;Primitive Value Types&quot;, etc.... might be the new terminology.","body":"Further, Oracle seems to be a little self-argumentative regarding the term.  <a href=\"https://mail.openjdk.java.net/pipermail/valhalla-spec-experts/2020-October/001415.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/valhalla-spec-experts/&hellip;</a>   This is as of the end of 2020.  I&#39;m still not sure where Valhalla ended up.  Anyway, &quot;Primitive Objects&quot;, &quot;Primitive Classes&quot;, &quot;Primitive Value Types&quot;, etc.... might be the new terminology."},{"owner":{"account_id":4919525,"reputation":443,"user_id":3962470,"display_name":"ganesan arunachalam"},"score":0,"creation_date":1650685543,"post_id":57643471,"comment_id":127184253,"body_markdown":"@alife in C# struct objects are pass by value, hence I&#39;m expecting point object will be pass by value, hence if the value changed in caller that would not change the callee&#39;s object at all.","body":"@alife in C# struct objects are pass by value, hence I&#39;m expecting point object will be pass by value, hence if the value changed in caller that would not change the callee&#39;s object at all."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1655045377,"post_id":57643471,"comment_id":128232227,"body_markdown":"@ganesanarunachalam, &quot;PBV&quot; gets us into some trouble.  To be clear, without the `ref` keyword, C# passes everything by value (references included).  You meant struct objects contents are passed *as* values (as with C).  Yes, I&#39;ve done a lot of digging into Valhalla since I originally asked: The JVM is indeed modified to allow compound value types on the stack.  The JUnion project seems like a weird half-stab that I haven&#39;t looked too deeply into.","body":"@ganesanarunachalam, &quot;PBV&quot; gets us into some trouble.  To be clear, without the <code>ref</code> keyword, C# passes everything by value (references included).  You meant struct objects contents are passed <i>as</i> values (as with C).  Yes, I&#39;ve done a lot of digging into Valhalla since I originally asked: The JVM is indeed modified to allow compound value types on the stack.  The JUnion project seems like a weird half-stab that I haven&#39;t looked too deeply into."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1674241163,"post_id":57643471,"comment_id":132680352,"body_markdown":"What are the versions of Java in which this feature is supported?","body":"What are the versions of Java in which this feature is supported?"},{"owner":{"account_id":4919525,"reputation":443,"user_id":3962470,"display_name":"ganesan arunachalam"},"score":1,"creation_date":1675700429,"post_id":57643471,"comment_id":132980670,"body_markdown":"https://openjdk.org/jeps/401 they are still in preview. @ryanwebjackson","body":"<a href=\"https://openjdk.org/jeps/401\" rel=\"nofollow noreferrer\">openjdk.org/jeps/401</a> they are still in preview. @ryanwebjackson"}],"tags":[],"owner":{"account_id":4919525,"reputation":443,"user_id":3962470,"display_name":"ganesan arunachalam"},"comment_count":9,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1701656101,"creation_date":1566710649,"answer_id":57643471,"question_id":5168144,"body_markdown":"No, Java doesn&#39;t have struct/value type yet. But, in the upcoming version of Java, we are going to get `inline class` which is similar to struct in C# and will help us write allocation free code.\r\n\r\n```\r\ninline class point { \r\n  int x;\r\n  int y;\r\n}\r\n```","title":"Does Java support structs?","body":"<p>No, Java doesn't have struct/value type yet. But, in the upcoming version of Java, we are going to get <code>inline class</code> which is similar to struct in C# and will help us write allocation free code.</p>\n<pre><code>inline class point { \n  int x;\n  int y;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1605186229,"post_id":64804420,"comment_id":114577264,"body_markdown":"Is there any way you could give an example of a Record?","body":"Is there any way you could give an example of a Record?"},{"owner":{"account_id":9533520,"reputation":4461,"user_id":11573842,"display_name":"Sabito stands with Ukraine"},"score":0,"creation_date":1605233168,"post_id":64804420,"comment_id":114595306,"body_markdown":"Please don&#39;t just post some tool or library as an answer. At least demonstrate [how it solves the problem](https://meta.stackoverflow.com/a/251605) in the answer itself.","body":"Please don&#39;t just post some tool or library as an answer. At least demonstrate <a href=\"https://meta.stackoverflow.com/a/251605\">how it solves the problem</a> in the answer itself."},{"owner":{"account_id":2800257,"reputation":1031,"user_id":2408622,"accept_rate":100,"display_name":"Orcun"},"score":1,"creation_date":1609345963,"post_id":64804420,"comment_id":115819736,"body_markdown":"Sorry just received the notification. Thought it is straightforward, but you are right. Added some examples.","body":"Sorry just received the notification. Thought it is straightforward, but you are right. Added some examples."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645545792,"post_id":64804420,"comment_id":125897216,"body_markdown":"Records are still not structs.  You&#39;re still munging around with an object, and cannot pass and return compound objects (structs) like C# can.  Please see this answer regarding the upcoming &quot;inline classes&quot; support by ganesan arunachalam: https://stackoverflow.com/a/57643471/9317690  How it shakes out will be truly interesting.","body":"Records are still not structs.  You&#39;re still munging around with an object, and cannot pass and return compound objects (structs) like C# can.  Please see this answer regarding the upcoming &quot;inline classes&quot; support by ganesan arunachalam: <a href=\"https://stackoverflow.com/a/57643471/9317690\">stackoverflow.com/a/57643471/9317690</a>  How it shakes out will be truly interesting."}],"tags":[],"owner":{"account_id":2800257,"reputation":1031,"user_id":2408622,"accept_rate":100,"display_name":"Orcun"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1609345868,"creation_date":1605186064,"answer_id":64804420,"question_id":5168144,"body_markdown":"Along with Java 14, it starts supporting Record. You may want to check that https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\r\n\r\n    public record Person (String name, String address) {}\r\n    \r\n    Person person = new Person(&quot;Esteban&quot;, &quot;Stormhaven, Tamriel&quot;);\r\n\r\n\r\nAnd there are Sealed Classes after Java 15. \r\nhttps://openjdk.java.net/jeps/360\r\n\r\n    sealed interface Shape permits Circle, Rectangle {\r\n\r\n      record Circle(Point center, int radius) implements Shape { }\r\n\r\n      record Rectangle(Point lowerLeft, Point upperRight) implements Shape { } \r\n    }\r\n\r\n","title":"Does Java support structs?","body":"<p>Along with Java 14, it starts supporting Record. You may want to check that <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html</a></p>\n<pre><code>public record Person (String name, String address) {}\n\nPerson person = new Person(&quot;Esteban&quot;, &quot;Stormhaven, Tamriel&quot;);\n</code></pre>\n<p>And there are Sealed Classes after Java 15.\n<a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/360</a></p>\n<pre><code>sealed interface Shape permits Circle, Rectangle {\n\n  record Circle(Point center, int radius) implements Shape { }\n\n  record Rectangle(Point lowerLeft, Point upperRight) implements Shape { } \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":6,"creation_date":1645545559,"post_id":64891172,"comment_id":125897096,"body_markdown":"This completely bypasses the entire point of structs in the first place (a compound datatype that doesn&#39;t need &quot;allocation&quot; and can live on the stack directly without a reference.)  Please see this answer https://stackoverflow.com/a/57643471/9317690 regarding the upcoming &quot;inline classes&quot;.","body":"This completely bypasses the entire point of structs in the first place (a compound datatype that doesn&#39;t need &quot;allocation&quot; and can live on the stack directly without a reference.)  Please see this answer <a href=\"https://stackoverflow.com/a/57643471/9317690\">stackoverflow.com/a/57643471/9317690</a> regarding the upcoming &quot;inline classes&quot;."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645648548,"post_id":64891172,"comment_id":125931593,"body_markdown":"A record is nothing more than the same class/obj paradigm.  It doesn&#39;t behave anything like a struct does.  If you pass it, you&#39;re passing the reference by value, not the values by value, and you&#39;re still under the whimsy of the garbage collector.  Until Valhalla solidifies, the closest the OP can get visually is a regular class with public fields.  Not a fancy class with autogenerated accessors, etc.  There is no need for accessors in a struct.","body":"A record is nothing more than the same class/obj paradigm.  It doesn&#39;t behave anything like a struct does.  If you pass it, you&#39;re passing the reference by value, not the values by value, and you&#39;re still under the whimsy of the garbage collector.  Until Valhalla solidifies, the closest the OP can get visually is a regular class with public fields.  Not a fancy class with autogenerated accessors, etc.  There is no need for accessors in a struct."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645712004,"post_id":64891172,"comment_id":125948290,"body_markdown":"Your sense of &quot;never&quot; aside Vlad, what I&#39;m saying is that Records provide _nothing_ in approximating a struct that a simple class already gives you.  A record is immutable (shallowly), structs/classes are not.  A record does not answer the OP&#39;s question...it&#39;s a different technique.  Records are in no way a solution to someone wanting structs unless we specify additional criteria (immutability, accessors, etc.).","body":"Your sense of &quot;never&quot; aside Vlad, what I&#39;m saying is that Records provide <i>nothing</i> in approximating a struct that a simple class already gives you.  A record is immutable (shallowly), structs/classes are not.  A record does not answer the OP&#39;s question...it&#39;s a different technique.  Records are in no way a solution to someone wanting structs unless we specify additional criteria (immutability, accessors, etc.)."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645808815,"post_id":64891172,"comment_id":125976554,"body_markdown":"do you have any experience with C or C++?  The objects created by C++ are passed by default as *value types*.  That means a copy is involved.  Something you can&#39;t do in Java (yet), not even with records. Iit really seems that you&#39;ve been exposed only to reference-mandated compound types.  But a record only muddies the waters.  If you want a struct right now (without Valhalla in the compiler + JVM), then a plain class instantiating plain objects will be closest.  A java record doesn&#39;t aid the OP in any way at all.","body":"do you have any experience with C or C++?  The objects created by C++ are passed by default as <i>value types</i>.  That means a copy is involved.  Something you can&#39;t do in Java (yet), not even with records. Iit really seems that you&#39;ve been exposed only to reference-mandated compound types.  But a record only muddies the waters.  If you want a struct right now (without Valhalla in the compiler + JVM), then a plain class instantiating plain objects will be closest.  A java record doesn&#39;t aid the OP in any way at all."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645809612,"post_id":64891172,"comment_id":125976862,"body_markdown":"And where did I say that in C++ they live only on the stack? I&#39;m talking about the fundamental differences here. A record is not a value type. Make a struct in C++. Go do it. Instantiate it. Send it to a method (by value). modify one of the contents of the struct inside that method. Does it effect the outer value? No. Further, because of value types, the compiler also will substitute `a.b` (no matter where it exists) with a direct access to `b` via offset. You have no need to dereference `a`. Look up the design decision in C# to include structs and why it speeds up algorithms","body":"And where did I say that in C++ they live only on the stack? I&#39;m talking about the fundamental differences here. A record is not a value type. Make a struct in C++. Go do it. Instantiate it. Send it to a method (by value). modify one of the contents of the struct inside that method. Does it effect the outer value? No. Further, because of value types, the compiler also will substitute <code>a.b</code> (no matter where it exists) with a direct access to <code>b</code> via offset. You have no need to dereference <code>a</code>. Look up the design decision in C# to include structs and why it speeds up algorithms"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1645816560,"post_id":64891172,"comment_id":125979274,"body_markdown":"Who ever said that Java will be C++?  No one. And the OP brought in a facility that Java doesn&#39;t support, hence talking about what that facility actually is.  And keeping it simple is precisely why you _avoid_ Records and just go for a simple class.  Anyway, we&#39;re clearly going around in circles, and you&#39;re content to argue against strawmen I never brought up.  Yes, a C++ struct is essentially a C++ class, but no, it&#39;s nothing like a java class and even less like a java record.  So use a class.","body":"Who ever said that Java will be C++?  No one. And the OP brought in a facility that Java doesn&#39;t support, hence talking about what that facility actually is.  And keeping it simple is precisely why you <i>avoid</i> Records and just go for a simple class.  Anyway, we&#39;re clearly going around in circles, and you&#39;re content to argue against strawmen I never brought up.  Yes, a C++ struct is essentially a C++ class, but no, it&#39;s nothing like a java class and even less like a java record.  So use a class."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":6,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1610206373,"creation_date":1605695007,"answer_id":64891172,"question_id":5168144,"body_markdown":"Java 14 has added support for Records, which are structured data types that are very easy to build.\r\n\r\nYou can declare a Java record like this:\r\n\r\n    public record AuditInfo(\r\n        LocalDateTime createdOn,\r\n        String createdBy,\r\n        LocalDateTime updatedOn,\r\n        String updatedBy\r\n    ) {}\r\n     \r\n    public record PostInfo(\r\n        Long id,\r\n        String title,\r\n        AuditInfo auditInfo\r\n    ) {}\r\n\r\nAnd, the Java compiler will generate the following Java class associated to the `AuditInfo` Record:\r\n\r\n    public final class PostInfo\r\n            extends java.lang.Record {\r\n        private final java.lang.Long id;\r\n        private final java.lang.String title;\r\n        private final AuditInfo auditInfo;\r\n     \r\n        public PostInfo(\r\n                java.lang.Long id,\r\n                java.lang.String title,\r\n                AuditInfo auditInfo) {\r\n            /* compiled code */\r\n        }\r\n     \r\n        public java.lang.String toString() { /* compiled code */ }\r\n     \r\n        public final int hashCode() { /* compiled code */ }\r\n     \r\n        public final boolean equals(java.lang.Object o) { /* compiled code */ }\r\n     \r\n        public java.lang.Long id() { /* compiled code */ }\r\n     \r\n        public java.lang.String title() { /* compiled code */ }\r\n     \r\n        public AuditInfo auditInfo() { /* compiled code */ }\r\n    }\r\n     \r\n    public final class AuditInfo\r\n            extends java.lang.Record {\r\n        private final java.time.LocalDateTime createdOn;\r\n        private final java.lang.String createdBy;\r\n        private final java.time.LocalDateTime updatedOn;\r\n        private final java.lang.String updatedBy;\r\n     \r\n        public AuditInfo(\r\n                java.time.LocalDateTime createdOn,\r\n                java.lang.String createdBy,\r\n                java.time.LocalDateTime updatedOn,\r\n                java.lang.String updatedBy) {\r\n            /* compiled code */\r\n        }\r\n     \r\n        public java.lang.String toString() { /* compiled code */ }\r\n     \r\n        public final int hashCode() { /* compiled code */ }\r\n     \r\n        public final boolean equals(java.lang.Object o) { /* compiled code */ }\r\n     \r\n        public java.time.LocalDateTime createdOn() { /* compiled code */ }\r\n     \r\n        public java.lang.String createdBy() { /* compiled code */ }\r\n     \r\n        public java.time.LocalDateTime updatedOn() { /* compiled code */ }\r\n     \r\n        public java.lang.String updatedBy() { /* compiled code */ }\r\n    }\r\n\r\nNotice that the constructor, accessor methods, as well as `equals`, `hashCode`, and `toString` are created for you, so it&#39;s very convenient to use Java Records.\r\n\r\nA Java Record can be created like any other Java object:\r\n\r\n    PostInfo postInfo = new PostInfo(\r\n        1L,\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        new AuditInfo(\r\n            LocalDateTime.of(2016, 11, 2, 12, 0, 0),\r\n            &quot;Vlad Mihalcea&quot;,\r\n            LocalDateTime.now(),\r\n            &quot;Vlad Mihalcea&quot;\r\n        )\r\n    );","title":"Does Java support structs?","body":"<p>Java 14 has added support for Records, which are structured data types that are very easy to build.</p>\n<p>You can declare a Java record like this:</p>\n<pre><code>public record AuditInfo(\n    LocalDateTime createdOn,\n    String createdBy,\n    LocalDateTime updatedOn,\n    String updatedBy\n) {}\n \npublic record PostInfo(\n    Long id,\n    String title,\n    AuditInfo auditInfo\n) {}\n</code></pre>\n<p>And, the Java compiler will generate the following Java class associated to the <code>AuditInfo</code> Record:</p>\n<pre><code>public final class PostInfo\n        extends java.lang.Record {\n    private final java.lang.Long id;\n    private final java.lang.String title;\n    private final AuditInfo auditInfo;\n \n    public PostInfo(\n            java.lang.Long id,\n            java.lang.String title,\n            AuditInfo auditInfo) {\n        /* compiled code */\n    }\n \n    public java.lang.String toString() { /* compiled code */ }\n \n    public final int hashCode() { /* compiled code */ }\n \n    public final boolean equals(java.lang.Object o) { /* compiled code */ }\n \n    public java.lang.Long id() { /* compiled code */ }\n \n    public java.lang.String title() { /* compiled code */ }\n \n    public AuditInfo auditInfo() { /* compiled code */ }\n}\n \npublic final class AuditInfo\n        extends java.lang.Record {\n    private final java.time.LocalDateTime createdOn;\n    private final java.lang.String createdBy;\n    private final java.time.LocalDateTime updatedOn;\n    private final java.lang.String updatedBy;\n \n    public AuditInfo(\n            java.time.LocalDateTime createdOn,\n            java.lang.String createdBy,\n            java.time.LocalDateTime updatedOn,\n            java.lang.String updatedBy) {\n        /* compiled code */\n    }\n \n    public java.lang.String toString() { /* compiled code */ }\n \n    public final int hashCode() { /* compiled code */ }\n \n    public final boolean equals(java.lang.Object o) { /* compiled code */ }\n \n    public java.time.LocalDateTime createdOn() { /* compiled code */ }\n \n    public java.lang.String createdBy() { /* compiled code */ }\n \n    public java.time.LocalDateTime updatedOn() { /* compiled code */ }\n \n    public java.lang.String updatedBy() { /* compiled code */ }\n}\n</code></pre>\n<p>Notice that the constructor, accessor methods, as well as <code>equals</code>, <code>hashCode</code>, and <code>toString</code> are created for you, so it's very convenient to use Java Records.</p>\n<p>A Java Record can be created like any other Java object:</p>\n<pre><code>PostInfo postInfo = new PostInfo(\n    1L,\n    &quot;High-Performance Java Persistence&quot;,\n    new AuditInfo(\n        LocalDateTime.of(2016, 11, 2, 12, 0, 0),\n        &quot;Vlad Mihalcea&quot;,\n        LocalDateTime.now(),\n        &quot;Vlad Mihalcea&quot;\n    )\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":1,"creation_date":1644799116,"post_id":66774156,"comment_id":125694892,"body_markdown":"Comparisons to C++ are.....tricky.  Contrast with C# instead --The reason that structures often speed up computation in C# over Java is that small structures can be placed onto the stack (local or passed, and of course returned).  Not _references_ to structures, but the data itself.  This results in less mucking around with allocation, and even more so, doesn&#39;t impact the garbage collector.  Anything that Java bolts onto the existing JVM will only be sugar coating that very heap-allocate/reference/GC process.  The JVM specification _itself_ needs to be modified to accommodate this.","body":"Comparisons to C++ are.....tricky.  Contrast with C# instead --The reason that structures often speed up computation in C# over Java is that small structures can be placed onto the stack (local or passed, and of course returned).  Not <i>references</i> to structures, but the data itself.  This results in less mucking around with allocation, and even more so, doesn&#39;t impact the garbage collector.  Anything that Java bolts onto the existing JVM will only be sugar coating that very heap-allocate/reference/GC process.  The JVM specification <i>itself</i> needs to be modified to accommodate this."}],"tags":[],"owner":{"account_id":6001881,"reputation":98,"user_id":4714886,"display_name":"Phung Manh Cuong"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1616555036,"creation_date":1616555036,"answer_id":66774156,"question_id":5168144,"body_markdown":"The short answer: **NO**.\r\n\r\nThe long answer:\r\n1. The main different between *`class`* and *`struct`* (in C++) is all properties in struct is **`public`**, which can be accessed from **anywhere**. For the *`class`*, you can apply limit it with different **`level of privacy`**.\r\n2. If you wanna have a data structure same as *`struct`* in C++, just make all properties public.","title":"Does Java support structs?","body":"<p>The short answer: <strong>NO</strong>.</p>\n<p>The long answer:</p>\n<ol>\n<li>The main different between <em><code>class</code></em> and <em><code>struct</code></em> (in C++) is all properties in struct is <strong><code>public</code></strong>, which can be accessed from <strong>anywhere</strong>. For the <em><code>class</code></em>, you can apply limit it with different <strong><code>level of privacy</code></strong>.</li>\n<li>If you wanna have a data structure same as <em><code>struct</code></em> in C++, just make all properties public.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6257803,"reputation":925,"user_id":4865822,"accept_rate":75,"display_name":"Ryan Lue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671508739,"creation_date":1671508739,"answer_id":74858399,"question_id":5168144,"body_markdown":"The [Immutables](http://immutables.github.io/) library provides something similar to what you are describing.\r\n\r\nFrom their site:\r\n\r\n&gt; ```java\r\n&gt; import org.immutables.value.Value;\r\n&gt; // Define abstract value type\r\n&gt; @Value.Immutable\r\n&gt; public interface ValueObject {\r\n&gt;   String name();\r\n&gt;   List&lt;Integer&gt; counts();\r\n&gt;   Optional&lt;String&gt; description();\r\n&gt; }\r\n&gt;\r\n&gt; // Use generated immutable implementation\r\n&gt; ValueObject valueObject =\r\n&gt;     ImmutableValueObject.builder()\r\n&gt;         .name(&quot;My value&quot;)\r\n&gt;         .addCounts(1)\r\n&gt;         .addCounts(2)\r\n&gt;         .build();\r\n&gt; ```","title":"Does Java support structs?","body":"<p>The <a href=\"http://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a> library provides something similar to what you are describing.</p>\n<p>From their site:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import org.immutables.value.Value;\n// Define abstract value type\n@Value.Immutable\npublic interface ValueObject {\n  String name();\n  List&lt;Integer&gt; counts();\n  Optional&lt;String&gt; description();\n}\n\n// Use generated immutable implementation\nValueObject valueObject =\n    ImmutableValueObject.builder()\n        .name(&quot;My value&quot;)\n        .addCounts(1)\n        .addCounts(2)\n        .build();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21987292,"reputation":26,"user_id":16261329,"display_name":"Ivanuil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687274009,"creation_date":1687274009,"answer_id":76516158,"question_id":5168144,"body_markdown":"Since JAVA version 16 record was included. Record is practically the same as struct in C/C++.\r\nSyntax:\r\n```\r\nrecord name (field1, field2, ..., fieldN){\r\n    // record body\r\n}\r\n```","title":"Does Java support structs?","body":"<p>Since JAVA version 16 record was included. Record is practically the same as struct in C/C++.\nSyntax:</p>\n<pre><code>record name (field1, field2, ..., fieldN){\n    // record body\n}\n</code></pre>\n"}],"owner":{"account_id":212048,"reputation":1890,"user_id":464623,"accept_rate":81,"display_name":"Dmitro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361457,"favorite_count":0,"down_vote_count":0,"up_vote_count":134,"accepted_answer_id":5168165,"answer_count":13,"score":134,"last_activity_date":1701656101,"creation_date":1299072742,"question_id":5168144,"body_markdown":"Does Java have an analog of a C++ `struct`:\r\n\r\n    struct Member {\r\n      string FirstName; \r\n      string LastName;  \r\n      int BirthYear; \r\n    };\r\n\r\nI need to use my own data type.","title":"Does Java support structs?","body":"<p>Does Java have an analog of a C++ <code>struct</code>:</p>\n\n<pre><code>struct Member {\n  string FirstName; \n  string LastName;  \n  int BirthYear; \n};\n</code></pre>\n\n<p>I need to use my own data type.</p>\n"},{"tags":["java","postgresql","postgresql-9.3"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":1,"creation_date":1701604214,"post_id":77594099,"comment_id":136794142,"body_markdown":"First thing to do is to turn on statement logging in postgresql. That way you will know whether your rounding problem is on the java or postgresql side of things (it is almost certainly the java side though).","body":"First thing to do is to turn on statement logging in postgresql. That way you will know whether your rounding problem is on the java or postgresql side of things (it is almost certainly the java side though)."},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701604424,"post_id":77594099,"comment_id":136794149,"body_markdown":"Richard....It is happening randomly also we have instances where the sent  time is 11:02:00 and it got saved as 11:02:01.","body":"Richard....It is happening randomly also we have instances where the sent  time is 11:02:00 and it got saved as 11:02:01."},{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":3,"creation_date":1701604690,"post_id":77594099,"comment_id":136794170,"body_markdown":"It isn&#39;t going to be random. It probably is a rounding issue where the value displayed to you by Java isn&#39;t the value it is using internally. So it stores `11:03:19.500000001` internally and rounds down on display but when converting rounds up. First thing to do is to make sure you know where the boundary of the problem is.","body":"It isn&#39;t going to be random. It probably is a rounding issue where the value displayed to you by Java isn&#39;t the value it is using internally. So it stores <code>11:03:19.500000001</code> internally and rounds down on display but when converting rounds up. First thing to do is to make sure you know where the boundary of the problem is."},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701605114,"post_id":77594099,"comment_id":136794204,"body_markdown":"So can we round it manually before sending it to Postgresql?","body":"So can we round it manually before sending it to Postgresql?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701606252,"post_id":77594099,"comment_id":136794299,"body_markdown":"I suggest that you [edit] your question and post a [mcve] that calls the PostgreSQL procedure from Java. Also indicate which Java version you are using, which PostgreSQL version you are using and which JDBC driver you are using.","body":"I suggest that you <a href=\"https://stackoverflow.com/posts/77594099/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that calls the PostgreSQL procedure from Java. Also indicate which Java version you are using, which PostgreSQL version you are using and which JDBC driver you are using."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701606587,"post_id":77594099,"comment_id":136794335,"body_markdown":"Since the resolution of timestamp without timezone is generally microseconds, there should be no reason for &#39;rounding&#39; a `java.util.Date`, which is only capable of seconds resolution","body":"Since the resolution of timestamp without timezone is generally microseconds, there should be no reason for &#39;rounding&#39; a <code>java.util.Date</code>, which is only capable of seconds resolution"},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701613192,"post_id":77594099,"comment_id":136794976,"body_markdown":"I set the milliseconds to 0 manually on Java side and looks like it has fixed the issue.... Will try and do a regression test , just to be sure ... Thank you","body":"I set the milliseconds to 0 manually on Java side and looks like it has fixed the issue.... Will try and do a regression test , just to be sure ... Thank you"},{"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"score":0,"creation_date":1701613332,"post_id":77594099,"comment_id":136795002,"body_markdown":"But when are logging date on Java side .it does not log milliseconds Sun Dec 03 11:02:19 GMT 2023&#39;... Else the issue would have been clear","body":"But when are logging date on Java side .it does not log milliseconds Sun Dec 03 11:02:19 GMT 2023&#39;... Else the issue would have been clear"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701613556,"post_id":77594099,"comment_id":136795030,"body_markdown":"You should probably be using `java.time`","body":"You should probably be using <code>java.time</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701616777,"post_id":77594099,"comment_id":136795356,"body_markdown":"@goose must have meant to say “milliseconds” rather than “seconds” in “a java.util.Date, which is only capable of seconds resolution”. Resolution is **milliseconds** in the terribly flawed legacy class `java.util.date`, **microseconds** in Postgres, and **nanoseconds** in the *java.time* classes.","body":"@goose must have meant to say “milliseconds” rather than “seconds” in “a java.util.Date, which is only capable of seconds resolution”. Resolution is <b>milliseconds</b> in the terribly flawed legacy class <code>java.util.date</code>, <b>microseconds</b> in Postgres, and <b>nanoseconds</b> in the <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701617007,"post_id":77594099,"comment_id":136795380,"body_markdown":"I have never heard of any date-time rounding being done in any JDBC driver, nor in any database. Truncation in the common way to fit finer values.  I suspect any rounding that occurs must be in your own codebase.","body":"I have never heard of any date-time rounding being done in any JDBC driver, nor in any database. Truncation in the common way to fit finer values.  I suspect any rounding that occurs must be in your own codebase."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701617476,"post_id":77594099,"comment_id":136795437,"body_markdown":"*@goose must have meant to say* Yes and no Basil. There are actually no methods for milliseconds in `java.util.Date` - only for seconds. But I think this is academic really, since that class shouldn&#39;t be being used at all where possible. There&#39;s probably crucial missing info from the OP","body":"<i>@goose must have meant to say</i> Yes and no Basil. There are actually no methods for milliseconds in <code>java.util.Date</code> - only for seconds. But I think this is academic really, since that class shouldn&#39;t be being used at all where possible. There&#39;s probably crucial missing info from the OP"}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701655353,"creation_date":1701655353,"answer_id":77596859,"question_id":77594099,"body_markdown":"The Java timestamp you are storing probably has fractional seconds, like `2023-04-01 12:30:00.8888`. Then one of these things can happen:\r\n\r\n1. the database column is defined as data type `timestamp(0)`, so PostgreSQL rounds the value up\r\n\r\n2. the database column is a normal `timestamp(6)`, and the timestamp is stored as it is, but the program you use to visualize the database contents rounds to seconds\r\n\r\nUse a database client that does not lie, like `psql`, and examine the stored values and the table definition.","title":"Postgresql query cast timestamp without time zone adding a second to passed time","body":"<p>The Java timestamp you are storing probably has fractional seconds, like <code>2023-04-01 12:30:00.8888</code>. Then one of these things can happen:</p>\n<ol>\n<li><p>the database column is defined as data type <code>timestamp(0)</code>, so PostgreSQL rounds the value up</p>\n</li>\n<li><p>the database column is a normal <code>timestamp(6)</code>, and the timestamp is stored as it is, but the program you use to visualize the database contents rounds to seconds</p>\n</li>\n</ol>\n<p>Use a database client that does not lie, like <code>psql</code>, and examine the stored values and the table definition.</p>\n"}],"owner":{"account_id":21271653,"reputation":21,"user_id":15651091,"display_name":"ajit doss"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701655353,"creation_date":1701603356,"question_id":77594099,"body_markdown":"We have a procedure which accepts a timestamp without time zone.\r\n\r\nWhen I pass say \r\n&#39;Sun Dec 03 11:02:19 GMT 2023&#39;\r\n\r\nTo Postgresql procedure from java by setting date which is java.util.date\r\n\r\nThe procedure has a cast timestamp with out timezone like\r\nIN run_date timestamp without time zone.\r\n\r\nThe expected date field value should be\r\n2023-12-03 11:03:19\r\nBut \r\n2023-12-03 11:03:20 \r\nis stored in db\r\n\r\nWhy is a second getting added?\r\n\r\nWe have a logic of fetching the row using the exact date time .so no row is returned because of the seconds mismatch","title":"Postgresql query cast timestamp without time zone adding a second to passed time","body":"<p>We have a procedure which accepts a timestamp without time zone.</p>\n<p>When I pass say\n'Sun Dec 03 11:02:19 GMT 2023'</p>\n<p>To Postgresql procedure from java by setting date which is java.util.date</p>\n<p>The procedure has a cast timestamp with out timezone like\nIN run_date timestamp without time zone.</p>\n<p>The expected date field value should be\n2023-12-03 11:03:19\nBut\n2023-12-03 11:03:20\nis stored in db</p>\n<p>Why is a second getting added?</p>\n<p>We have a logic of fetching the row using the exact date time .so no row is returned because of the seconds mismatch</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1444051792,"post_id":13932746,"comment_id":53724414,"body_markdown":"Did someone find any other way than System.exit(1)?","body":"Did someone find any other way than System.exit(1)?"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1470948683,"post_id":13932746,"comment_id":65170225,"body_markdown":"@Bastien, use SpringBoot","body":"@Bastien, use SpringBoot"},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":4,"creation_date":1471081240,"post_id":13932746,"comment_id":65218714,"body_markdown":"@Leo Irrelevant. A correct answer to the question would be an explanation of how SpringBoot manage this issue.","body":"@Leo Irrelevant. A correct answer to the question would be an explanation of how SpringBoot manage this issue."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1471298478,"post_id":13932746,"comment_id":65282214,"body_markdown":"@Bastien, I don&#39;t think a comment is a good place to elaborate on that. I mentioned springboot just to keep it short. The solution is actually the fact of having a standalone webapp using embedded web container. See my answer below.","body":"@Bastien, I don&#39;t think a comment is a good place to elaborate on that. I mentioned springboot just to keep it short. The solution is actually the fact of having a standalone webapp using embedded web container. See my answer below."},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1471358444,"post_id":13932746,"comment_id":65308516,"body_markdown":"@Leo I did but you are just offering a workaround, not addressing the issue at hand.","body":"@Leo I did but you are just offering a workaround, not addressing the issue at hand."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1471371350,"post_id":13932746,"comment_id":65316402,"body_markdown":"I don&#39;t think it is a workaround. From my point of view, using `System.exit()` is *the*  workaround. After all, aborting Tomcat startup shouldn&#39;t be done, unless you&#39;re writing the only app ever deployed. However, the best way to ensure it&#39;s only one app per tomcat is to have an embedded one. I just think this is the proper way to do things. Look at this article: http://www.beyondjava.net/blog/application-servers-sort-of-dead/","body":"I don&#39;t think it is a workaround. From my point of view, using <code>System.exit()</code> is <i>the</i>  workaround. After all, aborting Tomcat startup shouldn&#39;t be done, unless you&#39;re writing the only app ever deployed. However, the best way to ensure it&#39;s only one app per tomcat is to have an embedded one. I just think this is the proper way to do things. Look at this article: <a href=\"http://www.beyondjava.net/blog/application-servers-sort-of-dead/\" rel=\"nofollow noreferrer\">beyondjava.net/blog/application-servers-sort-of-dead</a>"},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":0,"creation_date":1472810385,"post_id":13932746,"comment_id":65913091,"body_markdown":"@Leo Interesting, this makes a lot of sense if you have a stand alone app I agree. In that case, I would use an embedded server like you suggested. But still, the original issue remains even if the fix is of little use. Point is, there is no way to exit Tomcat on servlet failure, which is bothering.","body":"@Leo Interesting, this makes a lot of sense if you have a stand alone app I agree. In that case, I would use an embedded server like you suggested. But still, the original issue remains even if the fix is of little use. Point is, there is no way to exit Tomcat on servlet failure, which is bothering."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1472848956,"post_id":13932746,"comment_id":65934861,"body_markdown":"@Bastien that&#39;s right. And, in the other hand, if you have more applications on the same tomcat, then tomcat startup should not be killed because of one application. So, again, we&#39;re back to the original point.","body":"@Bastien that&#39;s right. And, in the other hand, if you have more applications on the same tomcat, then tomcat startup should not be killed because of one application. So, again, we&#39;re back to the original point."}],"answers":[{"comments":[{"owner":{"account_id":1635514,"reputation":1970,"user_id":1509129,"accept_rate":76,"display_name":"urir"},"score":0,"creation_date":1355834054,"post_id":13932851,"comment_id":19209572,"body_markdown":"Thanks, that almost solves my problem, but... I am looking to do it by code execution. If impossible - I will use the runtime opt.","body":"Thanks, that almost solves my problem, but... I am looking to do it by code execution. If impossible - I will use the runtime opt."},{"owner":{"account_id":1635514,"reputation":1970,"user_id":1509129,"accept_rate":76,"display_name":"urir"},"score":0,"creation_date":1355835788,"post_id":13932851,"comment_id":19210339,"body_markdown":"Yep :) the magical System.exit(1) :) I know, I should put me questions in a clearer way... so... Any way to do it through retrieving the Tomcat container? Main reason I afraid that System.exit will not close other events in the life cycle, such as other listeners &#39;destroy&#39; code... What do you think on that?","body":"Yep :) the magical System.exit(1) :) I know, I should put me questions in a clearer way... so... Any way to do it through retrieving the Tomcat container? Main reason I afraid that System.exit will not close other events in the life cycle, such as other listeners &#39;destroy&#39; code... What do you think on that?"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":1,"creation_date":1355837518,"post_id":13932851,"comment_id":19211133,"body_markdown":"System.exit() will not work when the security manager is enabled.","body":"System.exit() will not work when the security manager is enabled."},{"owner":{"account_id":2804879,"reputation":658,"user_id":2412316,"accept_rate":45,"display_name":"Bastien"},"score":4,"creation_date":1444051707,"post_id":13932851,"comment_id":53724361,"body_markdown":"Did someone find any other way than System.exit(1)? -Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true will not work in this case since an exception in a contextInitialized method is not considered a server failure, just a servlet failure.","body":"Did someone find any other way than System.exit(1)? -Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true will not work in this case since an exception in a contextInitialized method is not considered a server failure, just a servlet failure."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1473352494,"post_id":13932851,"comment_id":66118237,"body_markdown":"Do not use System.exit. It&#39;s listed as bad practice in CWE knowledge base:\nCWE-382: J2EE Bad Practices: Use of System.exit() http://cwe.mitre.org/data/definitions/382.html","body":"Do not use System.exit. It&#39;s listed as bad practice in CWE knowledge base: CWE-382: J2EE Bad Practices: Use of System.exit() <a href=\"http://cwe.mitre.org/data/definitions/382.html\" rel=\"nofollow noreferrer\">cwe.mitre.org/data/definitions/382.html</a>"},{"owner":{"account_id":101340,"reputation":2439,"user_id":272742,"accept_rate":64,"display_name":"turbanoff"},"score":0,"creation_date":1566997470,"post_id":13932851,"comment_id":101830327,"body_markdown":"@L.Holanda it&#39;s bad practice to call it from Servlet doPost/doGet. It&#39;s perfectly OK to call it from `ServletContextListener`.","body":"@L.Holanda it&#39;s bad practice to call it from Servlet doPost/doGet. It&#39;s perfectly OK to call it from <code>ServletContextListener</code>."}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":6,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1355834710,"creation_date":1355833123,"answer_id":13932851,"question_id":13932746,"body_markdown":"Try specifying:\n\n    -Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true\n\nin your `java` runtime options, quoting [official documentation](http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html):\n\n&gt; If true, the server will exit if an exception happens during the server initialization phase.\n&gt;\n&gt; If not specified, the default value of false will be used.\n\nUPDATE:\n\nIf you want to do this by code, will `System.exit()` work?\n\n    public class FailFastListener implements ServletContextListener {\n        \n        private static final Logger log = LoggerFactory.getLogger(FailFastListener.class);\n        \n        @Override\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\n            try {\n                //initialization\n            } catch(Exception e) {\n                log.error(&quot;Sooo bad, shutting down&quot;, e);\n                System.exit(1);\n            }\n        }\n    \n        @Override\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        }\n    }\n\nYou can use [tag:decorator] pattern to wrap existing listeners without cluttering them. Not sure how will Tomcat react thou...","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>Try specifying:</p>\n<pre><code>-Dorg.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true\n</code></pre>\n<p>in your <code>java</code> runtime options, quoting <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html\" rel=\"noreferrer\">official documentation</a>:</p>\n<blockquote>\n<p>If true, the server will exit if an exception happens during the server initialization phase.</p>\n<p>If not specified, the default value of false will be used.</p>\n</blockquote>\n<p>UPDATE:</p>\n<p>If you want to do this by code, will <code>System.exit()</code> work?</p>\n<pre><code>public class FailFastListener implements ServletContextListener {\n    \n    private static final Logger log = LoggerFactory.getLogger(FailFastListener.class);\n    \n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        try {\n            //initialization\n        } catch(Exception e) {\n            log.error(&quot;Sooo bad, shutting down&quot;, e);\n            System.exit(1);\n        }\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n    }\n}\n</code></pre>\n<p>You can use <a href=\"/questions/tagged/decorator\" class=\"post-tag\" title=\"show questions tagged &#39;decorator&#39;\" rel=\"tag\">decorator</a> pattern to wrap existing listeners without cluttering them. Not sure how will Tomcat react thou...</p>\n"},{"comments":[{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":1,"creation_date":1485101063,"post_id":38905918,"comment_id":70774314,"body_markdown":"I upvoted you as you are generally correct however Tomcat is sort of a special case because embedded tomcat isn&#39;t always truly embedded... that is multiple classloaders are still used. For example the Tomcat Maven plugin will turn a single WAR into an executable JAR **but** it actually is running very similar to normal Tomcat. Spring Boot doesn&#39;t do this as it is the parent and Tomcat runs in the same classloader. There is actually a benefit of having multiple classloaders (the tomcat maven plugin way) as you can avoid issues with Tomcats jars (such as its choice in logging).","body":"I upvoted you as you are generally correct however Tomcat is sort of a special case because embedded tomcat isn&#39;t always truly embedded... that is multiple classloaders are still used. For example the Tomcat Maven plugin will turn a single WAR into an executable JAR <b>but</b> it actually is running very similar to normal Tomcat. Spring Boot doesn&#39;t do this as it is the parent and Tomcat runs in the same classloader. There is actually a benefit of having multiple classloaders (the tomcat maven plugin way) as you can avoid issues with Tomcats jars (such as its choice in logging)."}],"tags":[],"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1701654023,"creation_date":1470948648,"answer_id":38905918,"question_id":13932746,"body_markdown":"If you want to stop Tomcat because your webapp failed to deploy, I assume you don&#39;t have other apps deployed to tomcat. In that case, why don&#39;t you build this app as a standalone webapp with embedded Tomcat/Jetty? This way, as long as your webapp does not start properly, the embedded server will shutdown too.\r\n\r\nTo me, it looks like you&#39;re focused on `ServletContextListener` to tackle a problem that is not what `ServletContextListener` is meant for. \r\n\r\nDo not use `System.exit()` because it will kill the server that might be running other deployed apps. If it&#39;s ok because you know there will never be other apps (and you don&#39;t want to), then make a standalone webapp. This bad practice is listed in CWE as a potential weakness: [CWE-382][1]\r\n\r\nJust a hint: spring boot facilitates the effort of building a standalone webapp with embedded server. See this guide: https://spring.io/guides/gs/spring-boot/\r\n\r\nGood article explaining why this is probably what you&#39;re looking for: [http://www.beyondjava.net/blog/application-servers-sort-of-dead/][2]\r\n\r\n\r\n  [1]: http://cwe.mitre.org/data/definitions/382.html &quot;CWE-382&quot;\r\n  [2]: http://www.beyondjava.net/blog/application-servers-sort-of-dead/","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>If you want to stop Tomcat because your webapp failed to deploy, I assume you don't have other apps deployed to tomcat. In that case, why don't you build this app as a standalone webapp with embedded Tomcat/Jetty? This way, as long as your webapp does not start properly, the embedded server will shutdown too.</p>\n<p>To me, it looks like you're focused on <code>ServletContextListener</code> to tackle a problem that is not what <code>ServletContextListener</code> is meant for.</p>\n<p>Do not use <code>System.exit()</code> because it will kill the server that might be running other deployed apps. If it's ok because you know there will never be other apps (and you don't want to), then make a standalone webapp. This bad practice is listed in CWE as a potential weakness: <a href=\"http://cwe.mitre.org/data/definitions/382.html\" rel=\"nofollow noreferrer\" title=\"CWE-382\">CWE-382</a></p>\n<p>Just a hint: spring boot facilitates the effort of building a standalone webapp with embedded server. See this guide: <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/spring-boot/</a></p>\n<p>Good article explaining why this is probably what you're looking for: <a href=\"http://www.beyondjava.net/blog/application-servers-sort-of-dead/\" rel=\"nofollow noreferrer\">http://www.beyondjava.net/blog/application-servers-sort-of-dead/</a></p>\n"}],"owner":{"account_id":1635514,"reputation":1970,"user_id":1509129,"accept_rate":76,"display_name":"urir"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6612,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1701654023,"creation_date":1355832803,"question_id":13932746,"body_markdown":"I have a class implementing `ServletContextListener` that loads some resources upon startup.\r\n\r\nThose resources are critical to the application in a way that I would like to fail the whole startup when some bad event happens in my logic.\r\n\r\nIs there any command I can execute from inside the `ServletContextListener.contextInitialized()` method to stop and fail the whole Tomcat startup?\r\n","title":"How to abort Tomcat startup upon exception in ServletContextListener?","body":"<p>I have a class implementing <code>ServletContextListener</code> that loads some resources upon startup.</p>\n\n<p>Those resources are critical to the application in a way that I would like to fail the whole startup when some bad event happens in my logic.</p>\n\n<p>Is there any command I can execute from inside the <code>ServletContextListener.contextInitialized()</code> method to stop and fail the whole Tomcat startup?</p>\n"},{"tags":["java","tomcat","config"],"comments":[{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1443193793,"post_id":32785135,"comment_id":53409256,"body_markdown":"how you are starting you tomcat application? if you are starting you tomcat application as a separate process then there is nothing to do with java.","body":"how you are starting you tomcat application? if you are starting you tomcat application as a separate process then there is nothing to do with java."}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443215440,"creation_date":1443215440,"answer_id":32790715,"question_id":32785135,"body_markdown":"Tomcat will start up no matter what happens with the applications you expected to deploy. There is no feature to cause Tomcat to fail to start if your application fails to start properly.","title":"how to stop tomcat in case of configuration loading failure","body":"<p>Tomcat will start up no matter what happens with the applications you expected to deploy. There is no feature to cause Tomcat to fail to start if your application fails to start properly.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701653724,"creation_date":1443217145,"answer_id":32791023,"question_id":32785135,"body_markdown":"You certainly do not want that feature - at least other Tomcat users do not want it. A ServletContainer can host multiple web applications, and I would not use a container that would stop simply because a deployment failed.\r\n\r\nIf a deployment fails, that particular application is not started but others continue to run. It is up to you to fix the configuration problem and redeploy or manually stop the tomcat.","title":"how to stop tomcat in case of configuration loading failure","body":"<p>You certainly do not want that feature - at least other Tomcat users do not want it. A ServletContainer can host multiple web applications, and I would not use a container that would stop simply because a deployment failed.</p>\n<p>If a deployment fails, that particular application is not started but others continue to run. It is up to you to fix the configuration problem and redeploy or manually stop the tomcat.</p>\n"}],"owner":{"account_id":7011365,"reputation":1755,"user_id":5374110,"accept_rate":15,"display_name":"Med Tumy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701653724,"creation_date":1443193280,"question_id":32785135,"body_markdown":"i have this error while launching tomcat \r\nlog from catalina.out \r\n\r\n    Unable to load specified config location file:/ .... startup failed:\r\n\r\nIs there a way to make my java code cath this error and stop my tomcat ?\r\n","title":"how to stop tomcat in case of configuration loading failure","body":"<p>i have this error while launching tomcat \nlog from catalina.out </p>\n\n<pre><code>Unable to load specified config location file:/ .... startup failed:\n</code></pre>\n\n<p>Is there a way to make my java code cath this error and stop my tomcat ?</p>\n"},{"tags":["java","docker","tomcat","kubernetes","shutdown"],"answers":[{"comments":[{"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"score":1,"creation_date":1533407437,"post_id":51675601,"comment_id":90338833,"body_markdown":"Yes, I could do that. But I would also have to make sure, that the original SIGTERM does not reach the tomcat, but only my own logic. After all, I would re-implement something that should imho be a functionality of the server.","body":"Yes, I could do that. But I would also have to make sure, that the original SIGTERM does not reach the tomcat, but only my own logic. After all, I would re-implement something that should imho be a functionality of the server."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701653359,"creation_date":1533309171,"answer_id":51675601,"question_id":51675180,"body_markdown":"You could expose a REST API to stop the servers gracefully.\r\n\r\n1. Implement and use a javax filter that maintains in its own state the HTTP requests in progress.   \r\n\r\n2. As the stop event occurs, the current tomcat instance no longer have to serve any new client requests, so make sure that new requests cannot be redirected to this instance.\r\n\r\n3. As the stop event occurs (second thing), start a thread that waits until all requests were served.  As all responses were sent, request the tomcat instance to shutdown: [the command String shutdown may be a way][1].   \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/config/server.html\r\n","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>You could expose a REST API to stop the servers gracefully.</p>\n<ol>\n<li><p>Implement and use a javax filter that maintains in its own state the HTTP requests in progress.</p>\n</li>\n<li><p>As the stop event occurs, the current tomcat instance no longer have to serve any new client requests, so make sure that new requests cannot be redirected to this instance.</p>\n</li>\n<li><p>As the stop event occurs (second thing), start a thread that waits until all requests were served.  As all responses were sent, request the tomcat instance to shutdown: <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/server.html\" rel=\"nofollow noreferrer\">the command String shutdown may be a way</a>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1533561860,"creation_date":1533561860,"answer_id":51708716,"question_id":51675180,"body_markdown":"Now I found the answer here: https://stackoverflow.com/a/11154770/2081279\r\n\r\nIt worked for me under linux with \r\n\r\n    &lt;Context path=&quot;/myapp&quot; unloadDelay=&quot;10000&quot;/&gt; \r\n\r\nbut only with upper letter &quot;C&quot;ontext.\r\n\r\n","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>Now I found the answer here: <a href=\"https://stackoverflow.com/a/11154770/2081279\">https://stackoverflow.com/a/11154770/2081279</a></p>\n\n<p>It worked for me under linux with </p>\n\n<pre><code>&lt;Context path=\"/myapp\" unloadDelay=\"10000\"/&gt; \n</code></pre>\n\n<p>but only with upper letter \"C\"ontext.</p>\n"}],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5167,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51708716,"answer_count":2,"score":5,"last_activity_date":1701653359,"creation_date":1533307726,"question_id":51675180,"body_markdown":"What I found out so far:\r\n\r\n- A &quot;docker stop&quot; sends a SIGTERM to process ID 1 in the container. \r\n- The process ID 1 in the container is the java process running tomcat.*)\r\n- Yes, tomcat itself shuts down gracefully, but not do so the servlets.\r\n- Servlets get killed after 2 seconds, even if they are in the middle of processing a reguest(!!)\r\n\r\n*) Side note:\r\nAlthough our container entrypoint is  [ &quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot; ], but\r\nin catalina.sh the java process is started via the bash buildin &quot;exec&quot; command,\r\nand therefore the java process *replaces* the shell process and hereby becomes the new process id 1. \r\n(I can verify this by exec into the running container and do a &quot;ps aux&quot; in there.)\r\nBtw, I am using tomcat 7.0.88.\r\n\r\nI found statements about tomcat doing gracefull shutdown by default (http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html - &quot;any in-progress connections will complete&quot;), but all I can see is that the SIGTERM which is sent from docker to the java process results in hardly stopping the ongoing execution of a request.\r\n\r\nI wrote a little rest servlet to test this behaviour:\r\n\r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.core.*;\r\n    import javax.ws.rs.core.Response.Status;\r\n\r\n    @Path(&quot;/&quot;)\r\n    public class SlowServerRes\r\n    {\r\n\t    @GET\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \t@Path(&quot;test1&quot;)\r\n    \tpublic Response test1(@QueryParam(&quot;sleep&quot;) final int sleepDurationSec)\r\n    \t{\r\n    \t\tlong received = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;+++++++++++++++++++++ received request at &quot; + received);\r\n    \t\t\r\n    \t\tfor (int i=1; i &lt;= sleepDurationSec; i++) {\t\t\t\r\n    \t\t\tSystem.out.println(&quot;  ++++ Sleeping for 1 sec (&quot;+i+&quot;)&quot;);\r\n    \t\t\ttry\t{ Thread.sleep(1000); }\r\n    \t\t\tcatch (InterruptedException e) { \r\n    \t\t\t\tSystem.out.println(&quot;   Sleep was interrupted at second &quot; + i + &quot; ... ignoring/continue sleeping.&quot;); \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tlong finished = System.currentTimeMillis();\r\n    \t\tString result = &quot;received: &quot; + received + &quot;  finished: &quot; + finished;\r\n    \t\tSystem.out.println(&quot;+++++++++++++++++++++ &quot; + result);\r\n    \t\tResponse response = Response.status(Status.OK).entity(result).build();\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nAfter intensive googling I finally came across this posting:\r\nhttp://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown\r\n\r\nSo the grace period that is given to tomcat is NOT propagated as a grace period for the servlets.\r\nI wonder weather this makes much sense, but it looks like this is the fact.\r\nSo the only way to give servlets the possibility to properly end their ongoing requests is to change\r\nthe &quot;unloadDelay&quot; (https://tomcat.apache.org/tomcat-7.0-doc/config/context.html).\r\n\r\nHowever, I did not find the right place in the tomcat config files to define a non-default unloadDelay. In case this matters, my main concern is about jersey servlets (org.glassfish.jersey.servlet.ServletContainer).\r\n\r\nOr maybe there are other possibilities, which I don&#39;t see by now?\r\n\r\n(I added kubernetes to the tags list, because this may be of major concern especially for Kubernetes, as it relocates (docker stop-&gt;SIGTERM) containers quite often, just to keep the load balanced.) ","title":"How to gracefully shutdown servelts in tomcat in docker container?","body":"<p>What I found out so far:</p>\n<ul>\n<li>A &quot;docker stop&quot; sends a SIGTERM to process ID 1 in the container.</li>\n<li>The process ID 1 in the container is the java process running tomcat.*)</li>\n<li>Yes, tomcat itself shuts down gracefully, but not do so the servlets.</li>\n<li>Servlets get killed after 2 seconds, even if they are in the middle of processing a reguest(!!)</li>\n</ul>\n<p>*) Side note:\nAlthough our container entrypoint is  [ &quot;/opt/tomcat/bin/catalina.sh&quot;, &quot;run&quot; ], but\nin catalina.sh the java process is started via the bash buildin &quot;exec&quot; command,\nand therefore the java process <em>replaces</em> the shell process and hereby becomes the new process id 1.\n(I can verify this by exec into the running container and do a &quot;ps aux&quot; in there.)\nBtw, I am using tomcat 7.0.88.</p>\n<p>I found statements about tomcat doing gracefull shutdown by default (<a href=\"http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html\" rel=\"nofollow noreferrer\">http://tomcat.10.x6.nabble.com/Graceful-Shutdown-td5020523.html</a> - &quot;any in-progress connections will complete&quot;), but all I can see is that the SIGTERM which is sent from docker to the java process results in hardly stopping the ongoing execution of a request.</p>\n<p>I wrote a little rest servlet to test this behaviour:</p>\n<pre><code>import javax.ws.rs.*;\nimport javax.ws.rs.core.*;\nimport javax.ws.rs.core.Response.Status;\n\n@Path(&quot;/&quot;)\npublic class SlowServerRes\n{\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;test1&quot;)\n    public Response test1(@QueryParam(&quot;sleep&quot;) final int sleepDurationSec)\n    {\n        long received = System.currentTimeMillis();\n        System.out.println(&quot;+++++++++++++++++++++ received request at &quot; + received);\n        \n        for (int i=1; i &lt;= sleepDurationSec; i++) {         \n            System.out.println(&quot;  ++++ Sleeping for 1 sec (&quot;+i+&quot;)&quot;);\n            try { Thread.sleep(1000); }\n            catch (InterruptedException e) { \n                System.out.println(&quot;   Sleep was interrupted at second &quot; + i + &quot; ... ignoring/continue sleeping.&quot;); \n            }\n        }\n        \n        long finished = System.currentTimeMillis();\n        String result = &quot;received: &quot; + received + &quot;  finished: &quot; + finished;\n        System.out.println(&quot;+++++++++++++++++++++ &quot; + result);\n        Response response = Response.status(Status.OK).entity(result).build();\n        return response;\n    }\n}\n</code></pre>\n<p>After intensive googling I finally came across this posting:\n<a href=\"http://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown\" rel=\"nofollow noreferrer\">http://grokbase.com/t/tomcat/users/113nayv5kx/tomcat-6-graceful-shutdown</a></p>\n<p>So the grace period that is given to tomcat is NOT propagated as a grace period for the servlets.\nI wonder weather this makes much sense, but it looks like this is the fact.\nSo the only way to give servlets the possibility to properly end their ongoing requests is to change\nthe &quot;unloadDelay&quot; (<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/context.html</a>).</p>\n<p>However, I did not find the right place in the tomcat config files to define a non-default unloadDelay. In case this matters, my main concern is about jersey servlets (org.glassfish.jersey.servlet.ServletContainer).</p>\n<p>Or maybe there are other possibilities, which I don't see by now?</p>\n<p>(I added kubernetes to the tags list, because this may be of major concern especially for Kubernetes, as it relocates (docker stop-&gt;SIGTERM) containers quite often, just to keep the load balanced.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1701652834,"post_id":77596766,"comment_id":136798864,"body_markdown":"Please read [Why not upload images of code on SO when asking a question](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557) and [edit] your question to include code **and** data as text, not images.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">Why not upload images of code on SO when asking a question</a> and <a href=\"https://stackoverflow.com/posts/77596766/edit\">edit</a> your question to include code <b>and</b> data as text, not images."},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":1,"creation_date":1701652854,"post_id":77596766,"comment_id":136798866,"body_markdown":"And please, keep the unnecessary obscenities out of your questions.","body":"And please, keep the unnecessary obscenities out of your questions."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701657486,"post_id":77596766,"comment_id":136799174,"body_markdown":"Also ... please note that this is NOT a programming question.  Basically you are asking how to install Java so that you can run something.  It is a software installation question.  It should be asked on the SE &quot;computer user&quot; site most appropriate to your OS platform.","body":"Also ... please note that this is NOT a programming question.  Basically you are asking how to install Java so that you can run something.  It is a software installation question.  It should be asked on the SE &quot;computer user&quot; site most appropriate to your OS platform."}],"owner":{"account_id":30058408,"reputation":1,"user_id":23035123,"display_name":"Coolaydang"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701654347,"answer_count":0,"score":-3,"last_activity_date":1701652881,"creation_date":1701652644,"question_id":77596766,"body_markdown":"[Any time I run a java line it doesn&#39;t work](https://i.stack.imgur.com/TzWLN.png)\r\n\r\n\r\n\r\n[I&#39;ve tried to run a java dependent web game. I GOT NOTHING](https://i.stack.imgur.com/TBjjF.png)\r\n\r\nI&#39;ve tried uninstalling and reinstalling, but nothing works...all I get is nothing. No error message, just nothing. please someone help\r\n","title":"Java installed but when i run commands it just gives me nothing","body":"<p><a href=\"https://i.stack.imgur.com/TzWLN.png\" rel=\"nofollow noreferrer\">Any time I run a java line it doesn't work</a></p>\n<p><a href=\"https://i.stack.imgur.com/TBjjF.png\" rel=\"nofollow noreferrer\">I've tried to run a java dependent web game. I GOT NOTHING</a></p>\n<p>I've tried uninstalling and reinstalling, but nothing works...all I get is nothing. No error message, just nothing. please someone help</p>\n"},{"tags":["java","spring","transactions","spring-transactions","rollback"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1701604200,"post_id":77593865,"comment_id":136794141,"body_markdown":"The first rule about `@Transactional` - it doesnt get triggered when called from within a class and should always be called from outside (if you read about proxy pattern reasons become obvious, the proxy can&#39;t see calls made from within the object it wraps)","body":"The first rule about <code>@Transactional</code> - it doesnt get triggered when called from within a class and should always be called from outside (if you read about proxy pattern reasons become obvious, the proxy can&#39;t see calls made from within the object it wraps)"}],"answers":[{"tags":[],"owner":{"account_id":8186103,"reputation":525,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701605221,"creation_date":1701604172,"answer_id":77594140,"question_id":77593865,"body_markdown":"You can&#39;t call a method annotated `@Transactional` within the same service. You can only call it from outside the service otherwise no transaction will be created. Every spring service is a proxy and the transactions (AOP) are created on the proxy so as soon as you enter any method you are no longer in the proxy so no AOP (no transactions).\r\n\r\nNote: you can however put `@Transactional` on `methodA()` to create a transaction but the transaction will start as soon as you call it, not when it reaches `methodC`, also any transaction exception will be propagated to where you called `methodA()` not `methodC()`.\r\n\r\nFor example if you have:\r\n\r\n    @Service\r\n    public class Service1 {\r\n\r\n        @Transactional\r\n        public void method1() { ... }\r\n\r\n        public void method2() {\r\n            method1();\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Service2 {\r\n\r\n        @Autowired\r\n        private Service1 service1;\r\n\r\n        public void method1() {\r\n            service1.method1();\r\n        }\r\n\r\n        public void method2() {\r\n            service1.method2();\r\n        }\r\n    }\r\n\r\n- Calling `service1.method2()` will **NOT** create a transaction.\r\n- Calling `service1.method1()` will create one. \r\n- Calling `service2.method2()` will **NOT** create a transaction.\r\n- Calling `service2.method1()` will create one. \r\n\r\nBecause of the way Spring handles Proxies and AOP.\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>You can't call a method annotated <code>@Transactional</code> within the same service. You can only call it from outside the service otherwise no transaction will be created. Every spring service is a proxy and the transactions (AOP) are created on the proxy so as soon as you enter any method you are no longer in the proxy so no AOP (no transactions).</p>\n<p>Note: you can however put <code>@Transactional</code> on <code>methodA()</code> to create a transaction but the transaction will start as soon as you call it, not when it reaches <code>methodC</code>, also any transaction exception will be propagated to where you called <code>methodA()</code> not <code>methodC()</code>.</p>\n<p>For example if you have:</p>\n<pre><code>@Service\npublic class Service1 {\n\n    @Transactional\n    public void method1() { ... }\n\n    public void method2() {\n        method1();\n    }\n}\n\n@Service\npublic class Service2 {\n\n    @Autowired\n    private Service1 service1;\n\n    public void method1() {\n        service1.method1();\n    }\n\n    public void method2() {\n        service1.method2();\n    }\n}\n</code></pre>\n<ul>\n<li>Calling <code>service1.method2()</code> will <strong>NOT</strong> create a transaction.</li>\n<li>Calling <code>service1.method1()</code> will create one.</li>\n<li>Calling <code>service2.method2()</code> will <strong>NOT</strong> create a transaction.</li>\n<li>Calling <code>service2.method1()</code> will create one.</li>\n</ul>\n<p>Because of the way Spring handles Proxies and AOP.</p>\n"},{"comments":[{"owner":{"account_id":8186103,"reputation":525,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"score":0,"creation_date":1701906296,"post_id":77596132,"comment_id":136834490,"body_markdown":"Looks a bit hackish but it gets the job done :)","body":"Looks a bit hackish but it gets the job done :)"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701652696,"creation_date":1701636701,"answer_id":77596132,"question_id":77593865,"body_markdown":"As the other answers and comments have pointed out, you must call this across proxy boundaries to make this work.  The same thing applies to other annotations like `@Cacheable`.\r\n\r\nThere is a little trick that you can do to make this work, and that&#39;s autowiring an instance of the Service into itself and call the method on the injected version.\r\n\r\n     @Service\r\n     // 1. Set the proxy mode to TARGET_CLASS\r\n     @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n     public class MyService {\r\n\r\n       // 2. Autowire an instance of the service into itself\r\n       @Autowired\r\n       private MyService self;\r\n\r\n       private void methodB() {\r\n         try{\r\n           // 3. Call methodC through your injected version\r\n           self.methodC();\r\n         }catch(MyException e){\r\n           System.out.println(e);\r\n         }catch(Exception e){\r\n           System.out.println(e);\r\n         }\r\n       }\r\n     }\r\n\r\nNow, when you call methodC using the injected service, it will participate in the transaction.\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>As the other answers and comments have pointed out, you must call this across proxy boundaries to make this work.  The same thing applies to other annotations like <code>@Cacheable</code>.</p>\n<p>There is a little trick that you can do to make this work, and that's autowiring an instance of the Service into itself and call the method on the injected version.</p>\n<pre><code> @Service\n // 1. Set the proxy mode to TARGET_CLASS\n @Scope(proxyMode = ScopedProxyMode.TARGET_CLASS)\n public class MyService {\n\n   // 2. Autowire an instance of the service into itself\n   @Autowired\n   private MyService self;\n\n   private void methodB() {\n     try{\n       // 3. Call methodC through your injected version\n       self.methodC();\n     }catch(MyException e){\n       System.out.println(e);\n     }catch(Exception e){\n       System.out.println(e);\n     }\n   }\n }\n</code></pre>\n<p>Now, when you call methodC using the injected service, it will participate in the transaction.</p>\n"}],"owner":{"account_id":27735441,"reputation":11,"user_id":21173132,"display_name":"eunonek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701652696,"creation_date":1701599156,"question_id":77593865,"body_markdown":"I encountered this issue when attempting to apply the @Transactional annotation to a method (methodC()) within the same class (MyService). Despite using the annotation, the transaction does not seem to be created as expected.\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n  @Autowired\r\n  private Service1 service1;\r\n\r\n  @Autowired\r\n  private Service2 service2;\r\n\r\n\r\n  @Override\r\n  public void methodA() {\r\n    methodB();\r\n  }\r\n\r\n  private void methodB() {\r\n    try{  \r\n      methodC();\r\n    }catch(MyException e){\r\n      System.out.println(e);\r\n    }catch(Exception e){\r\n      System.out.println(e);\r\n    }\r\n  }\r\n\r\n  @Transactional\r\n  public void methodC() throws MyException, Exception{\r\n    try{\r\n      service1.someDeleteAndInserts();\r\n      service2.someDeleteAndInserts();\r\n    }catch(MyException e){\r\n      throw e;\r\n    }catch(Exception e){\r\n      throw e;\r\n    }\r\n    \r\n  }\r\n}\r\n```\r\n\r\n\r\nAs I have it now, it creates a transaction for each method individually. I want it to make only one transaction for all the methods called within that method.\r\n```\r\n@Transactional\r\n  public void methodC() throws MyException, Exception{\r\n    try{\r\n      service1.someDeleteAndInserts();\r\n      service2.someDeleteAndInserts();\r\n    }catch(MyException e){\r\n      throw e;\r\n    }catch(Exception e){\r\n      throw e;\r\n    }\r\n    \r\n  }\r\n```\r\n","title":"Why is the @Transactional annotation being ignored in this method?","body":"<p>I encountered this issue when attempting to apply the @Transactional annotation to a method (methodC()) within the same class (MyService). Despite using the annotation, the transaction does not seem to be created as expected.</p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private Service1 service1;\n\n  @Autowired\n  private Service2 service2;\n\n\n  @Override\n  public void methodA() {\n    methodB();\n  }\n\n  private void methodB() {\n    try{  \n      methodC();\n    }catch(MyException e){\n      System.out.println(e);\n    }catch(Exception e){\n      System.out.println(e);\n    }\n  }\n\n  @Transactional\n  public void methodC() throws MyException, Exception{\n    try{\n      service1.someDeleteAndInserts();\n      service2.someDeleteAndInserts();\n    }catch(MyException e){\n      throw e;\n    }catch(Exception e){\n      throw e;\n    }\n    \n  }\n}\n</code></pre>\n<p>As I have it now, it creates a transaction for each method individually. I want it to make only one transaction for all the methods called within that method.</p>\n<pre><code>@Transactional\n  public void methodC() throws MyException, Exception{\n    try{\n      service1.someDeleteAndInserts();\n      service2.someDeleteAndInserts();\n    }catch(MyException e){\n      throw e;\n    }catch(Exception e){\n      throw e;\n    }\n    \n  }\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","microservices","backend"],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701651040,"creation_date":1701651040,"answer_id":77596721,"question_id":77596691,"body_markdown":"consider the following ;\r\n\r\nfor your order of request flow - it is generally recommended to first authenticate and authorize the request in the API Gateway before forwarding it to the intended microservice. it will ensures that only authenticated and authorized requests are processed by the microservices. and to effectively connect the two services, you can use service discovery mechanisms like Netflix Eureka or HashiCorp Consul. these tools allow services to register themselves and discover other services dynamically. You can also use load balancers to distribute the incoming requests across multiple instances of the microservices.\r\nand by implementing an API Gateway, you can centralize the authentication and authorization logic and ensure consistent security across your microservices. It also provides a single entry point for clients to interact with your microservices, simplifying the overall architecture.so the follow up list will contain ;\r\n\r\n1.Design the API Gateway: Determine the responsibilities of the API Gateway, such as authentication, authorization, rate limiting, and request routing. In your case, the API Gateway will handle authentication and authorization.\r\n\r\n2.Create a new Spring Boot app: Start by creating a new Spring Boot app that will serve as your API Gateway. This app will be responsible for receiving all incoming requests and forwarding them to the appropriate microservice.\r\n\r\n3.Configure the API Gateway: In the API Gateway app, configure the routes for each microservice. For example, you can define routes like /users that will be forwarded to the user service. You can also configure the authentication and authorization filters to validate the incoming requests using the existing security configuration from your already built app.\r\n\r\n4.Implement request forwarding: Once the request is authenticated and authorized, forward it to the intended microservice. You can use Spring&#39;s RestTemplate or WebClient to make HTTP requests to the microservices.\r\n\r\n5.Handle responses: Receive the response from the microservice and return it to the client. You can also handle any error scenarios and provide appropriate error messages.\r\n","title":"How to efficiently organize authentication &amp; authorization using JWT in a microservice Spring Boot app?","body":"<p>consider the following ;</p>\n<p>for your order of request flow - it is generally recommended to first authenticate and authorize the request in the API Gateway before forwarding it to the intended microservice. it will ensures that only authenticated and authorized requests are processed by the microservices. and to effectively connect the two services, you can use service discovery mechanisms like Netflix Eureka or HashiCorp Consul. these tools allow services to register themselves and discover other services dynamically. You can also use load balancers to distribute the incoming requests across multiple instances of the microservices.\nand by implementing an API Gateway, you can centralize the authentication and authorization logic and ensure consistent security across your microservices. It also provides a single entry point for clients to interact with your microservices, simplifying the overall architecture.so the follow up list will contain ;</p>\n<p>1.Design the API Gateway: Determine the responsibilities of the API Gateway, such as authentication, authorization, rate limiting, and request routing. In your case, the API Gateway will handle authentication and authorization.</p>\n<p>2.Create a new Spring Boot app: Start by creating a new Spring Boot app that will serve as your API Gateway. This app will be responsible for receiving all incoming requests and forwarding them to the appropriate microservice.</p>\n<p>3.Configure the API Gateway: In the API Gateway app, configure the routes for each microservice. For example, you can define routes like /users that will be forwarded to the user service. You can also configure the authentication and authorization filters to validate the incoming requests using the existing security configuration from your already built app.</p>\n<p>4.Implement request forwarding: Once the request is authenticated and authorized, forward it to the intended microservice. You can use Spring's RestTemplate or WebClient to make HTTP requests to the microservices.</p>\n<p>5.Handle responses: Receive the response from the microservice and return it to the client. You can also handle any error scenarios and provide appropriate error messages.</p>\n"}],"owner":{"account_id":29610606,"reputation":1,"user_id":22693979,"display_name":"Georgi Babov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701651040,"creation_date":1701650202,"question_id":77596691,"body_markdown":"I am still a beginner in creating Spring applications, so I need to further grasp a deeper understanding of how microservice architecture works. So far I have read some conflicting opinions, and I want to adhere to best practice.\r\n\r\nFollowing a tutorial on JWT HttpOnly cookie authorization in Spring boot, I have built a simple app that registers, logs in and logs out a user. It maps only post requests to /login /signup and /logout as a result. The Spring Security configuration in the app filters all incoming requests and populate the SecurityContext with authenticated object if the token is of a valid authenticated user.\r\n\r\nNow the problem is that I want to build a separate Spring Boot app that handles other logic so that I can follow the microservice architecture paradigm. As the already built app&#39;s security config already handles the authorization in the HTTP request itself, I want to utilize this service to automatically authorize each request before it is forwarded to the next service.\r\n\r\nI read about API Gateaways and the solution makes sense but seems too abstract to me to start building an implementation. Also I have a couple of questions: should the request first go to the intended service then to the auth service and then back to the intended one OR go to the auth service and then to the intended service? Which way is best practice? How to effectively connect the two services?\r\n\r\nAny help will be much appreciated!\r\n\r\nI have not yet tried a solution as I do not know how to proceed.","title":"How to efficiently organize authentication &amp; authorization using JWT in a microservice Spring Boot app?","body":"<p>I am still a beginner in creating Spring applications, so I need to further grasp a deeper understanding of how microservice architecture works. So far I have read some conflicting opinions, and I want to adhere to best practice.</p>\n<p>Following a tutorial on JWT HttpOnly cookie authorization in Spring boot, I have built a simple app that registers, logs in and logs out a user. It maps only post requests to /login /signup and /logout as a result. The Spring Security configuration in the app filters all incoming requests and populate the SecurityContext with authenticated object if the token is of a valid authenticated user.</p>\n<p>Now the problem is that I want to build a separate Spring Boot app that handles other logic so that I can follow the microservice architecture paradigm. As the already built app's security config already handles the authorization in the HTTP request itself, I want to utilize this service to automatically authorize each request before it is forwarded to the next service.</p>\n<p>I read about API Gateaways and the solution makes sense but seems too abstract to me to start building an implementation. Also I have a couple of questions: should the request first go to the intended service then to the auth service and then back to the intended one OR go to the auth service and then to the intended service? Which way is best practice? How to effectively connect the two services?</p>\n<p>Any help will be much appreciated!</p>\n<p>I have not yet tried a solution as I do not know how to proceed.</p>\n"},{"tags":["java","keycloak","openid-connect","keycloak-services","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":28259034,"reputation":1,"user_id":23016030,"display_name":"DEResnick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701650364,"creation_date":1701363165,"answer_id":77580248,"question_id":77273165,"body_markdown":"I&#39;m using Keycloak 22.0.5\r\n\r\nI needed to set these properties - I did this on the Keycloak start command line:\r\n```\r\n--spi-login-provider=&lt;the string returned by getId() in my factory class&gt;\r\n--spi-login-&lt;the string returned by getId() in my factory class&gt;-enabled=true\r\n```\r\nWhere my factory class extends FreeMarkerLoginFormsProviderFactory\r\n\r\nI did not use Freemarker for the string returned by `getId();` I used my own ID.\r\n\r\nI made the ID like the class name for my class that extends `FreeMarkerLoginFormsProvider`\r\n\r\nFor example, if my custom classes were named:\r\n\r\n```\r\n public class MyGoodClass extends FreeMarkerLoginFormsProvider { ... }\r\n\r\n public class MyGoodClassFactory extends FreeMarkerLoginFormsProviderFactory { ... }\r\n```\r\nI made my `getId()` method in `MyGoodClassFactory` return my-good-class:\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;my-good-class&quot;;\r\n    }\r\n\r\nSo then the property settings would be:\r\n\r\n```\r\n  --spi-login-provider=my-good-class\r\n\r\n  --spi-login-my-good-class-enabled=true\r\n```\r\nAlso, remember to create the file in {top level of `extension}/src/main/resources/META-INF/services/org.keycloak.forms.login.LoginFormsProviderFactory` and it should contain this one line (based on above example):\r\n```\r\norg.xgs.keycloak.forms.login.MyGoodClassFactory\r\n```\r\n\r\nHope this helps.","title":"keycloak Custom Login provider not getting invoked with version 19","body":"<p>I'm using Keycloak 22.0.5</p>\n<p>I needed to set these properties - I did this on the Keycloak start command line:</p>\n<pre><code>--spi-login-provider=&lt;the string returned by getId() in my factory class&gt;\n--spi-login-&lt;the string returned by getId() in my factory class&gt;-enabled=true\n</code></pre>\n<p>Where my factory class extends FreeMarkerLoginFormsProviderFactory</p>\n<p>I did not use Freemarker for the string returned by <code>getId();</code> I used my own ID.</p>\n<p>I made the ID like the class name for my class that extends <code>FreeMarkerLoginFormsProvider</code></p>\n<p>For example, if my custom classes were named:</p>\n<pre><code> public class MyGoodClass extends FreeMarkerLoginFormsProvider { ... }\n\n public class MyGoodClassFactory extends FreeMarkerLoginFormsProviderFactory { ... }\n</code></pre>\n<p>I made my <code>getId()</code> method in <code>MyGoodClassFactory</code> return my-good-class:</p>\n<pre><code>@Override\npublic String getId() {\n    return &quot;my-good-class&quot;;\n}\n</code></pre>\n<p>So then the property settings would be:</p>\n<pre><code>  --spi-login-provider=my-good-class\n\n  --spi-login-my-good-class-enabled=true\n</code></pre>\n<p>Also, remember to create the file in {top level of <code>extension}/src/main/resources/META-INF/services/org.keycloak.forms.login.LoginFormsProviderFactory</code> and it should contain this one line (based on above example):</p>\n<pre><code>org.xgs.keycloak.forms.login.MyGoodClassFactory\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":4638791,"reputation":619,"user_id":3759227,"display_name":"Kuldeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701650364,"creation_date":1697028148,"question_id":77273165,"body_markdown":"We were using Custom Login provider with keycloak 18 version and everything works fine.\r\n\r\nBut when we upgrade to keycloak version 19, Custom Login Provider is not getting invoked.\r\n\r\nIn the below example we can see that CustomProviderFactory create method should be invoked, it works well with keycloak 18 version, but its not working with keycloak 19 version. All the jboss deployment.xml are in place.\r\n \r\n\r\nEx\r\n```\r\npublic class CustomProviderFactory extends FreeMarkerLoginFormsProviderFactory {\r\nprivate FreeMarkerUtil freeMarker;\r\n\r\n    @Override\r\n    public LoginFormsProvider create(KeycloakSession session) {\r\n        return new CustomLoginFormsProvider(session, freeMarker);\r\n    }\r\n\r\n    @Override\r\n    public void init(Config.Scope config) {\r\n        freeMarker = new FreeMarkerUtil();\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        freeMarker = null;\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;freemarker&quot;;\r\n    }\r\n\r\n}\r\n\r\npublic class CustomLoginFormsProvider extends FreeMarkerLoginFormsProvider {\r\n\r\n   \r\n    public LoginFormsProvider(KeycloakSession session, FreeMarkerUtil freeMarker) {\r\n        super(session, freeMarker);\r\n    }\r\n\r\n    @Override\r\n    protected void createCommonAttributes(Theme theme, Locale locale, Properties messagesBundle, UriBuilder baseUriBuilder, LoginFormsPages page) {\r\n        super.createCommonAttributes(theme, locale, messagesBundle, baseUriBuilder, page);\r\n        \r\n    }\r\n\r\n}\r\n```","title":"keycloak Custom Login provider not getting invoked with version 19","body":"<p>We were using Custom Login provider with keycloak 18 version and everything works fine.</p>\n<p>But when we upgrade to keycloak version 19, Custom Login Provider is not getting invoked.</p>\n<p>In the below example we can see that CustomProviderFactory create method should be invoked, it works well with keycloak 18 version, but its not working with keycloak 19 version. All the jboss deployment.xml are in place.</p>\n<p>Ex</p>\n<pre><code>public class CustomProviderFactory extends FreeMarkerLoginFormsProviderFactory {\nprivate FreeMarkerUtil freeMarker;\n\n    @Override\n    public LoginFormsProvider create(KeycloakSession session) {\n        return new CustomLoginFormsProvider(session, freeMarker);\n    }\n\n    @Override\n    public void init(Config.Scope config) {\n        freeMarker = new FreeMarkerUtil();\n    }\n\n    @Override\n    public void close() {\n        freeMarker = null;\n    }\n\n    @Override\n    public String getId() {\n        return &quot;freemarker&quot;;\n    }\n\n}\n\npublic class CustomLoginFormsProvider extends FreeMarkerLoginFormsProvider {\n\n   \n    public LoginFormsProvider(KeycloakSession session, FreeMarkerUtil freeMarker) {\n        super(session, freeMarker);\n    }\n\n    @Override\n    protected void createCommonAttributes(Theme theme, Locale locale, Properties messagesBundle, UriBuilder baseUriBuilder, LoginFormsPages page) {\n        super.createCommonAttributes(theme, locale, messagesBundle, baseUriBuilder, page);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist","type-conversion","converters"],"comments":[{"owner":{"account_id":8532765,"reputation":518,"user_id":7782322,"display_name":"NotZack"},"score":0,"creation_date":1603240261,"post_id":64455014,"comment_id":113972890,"body_markdown":"int is not the same as Integer","body":"int is not the same as Integer"},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":3,"creation_date":1603240706,"post_id":64455014,"comment_id":113972974,"body_markdown":"Note that `new ArrayList(` is almost automatically a bug; that&#39;s a &quot;[raw type](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html)&quot;, and tells the compiler to ignore its knowledge of the type system. You should instead write `new ArrayList&lt;&gt;(`. That way you&#39;ll get an appropriate error at compile-time, letting you know that your types don&#39;t match, instead of a `ClassCastException` at run-time.","body":"Note that <code>new ArrayList(</code> is almost automatically a bug; that&#39;s a &quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">raw type</a>&quot;, and tells the compiler to ignore its knowledge of the type system. You should instead write <code>new ArrayList&lt;&gt;(</code>. That way you&#39;ll get an appropriate error at compile-time, letting you know that your types don&#39;t match, instead of a <code>ClassCastException</code> at run-time."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1603240790,"post_id":64455014,"comment_id":113972994,"body_markdown":"Also -- you write that &quot;There&#39;s no compile error for&quot; your first example, but in fact *neither one* produces a compile error.","body":"Also -- you write that &quot;There&#39;s no compile error for&quot; your first example, but in fact <i>neither one</i> produces a compile error."},{"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"score":2,"creation_date":1603242050,"post_id":64455014,"comment_id":113973250,"body_markdown":"Thanks @ruakh! Good points :) I 99% agree with you. I can be wrong, but I think when the type is already defined in `List &lt;Integer&gt;`, adding `&lt;Integer&gt;` in `ArrayList&lt;Ingeger&gt;(` is not necessary and `ArrayList(` is fine (or maybe even better). Please correct me if I&#39;m wrong.","body":"Thanks @ruakh! Good points :) I 99% agree with you. I can be wrong, but I think when the type is already defined in <code>List &lt;Integer&gt;</code>, adding <code>&lt;Integer&gt;</code> in <code>ArrayList&lt;Ingeger&gt;(</code> is not necessary and <code>ArrayList(</code> is fine (or maybe even better). Please correct me if I&#39;m wrong."},{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1603242518,"post_id":64455014,"comment_id":113973337,"body_markdown":"@NavidVafaei: As you can see from the OP&#39;s example, something like `List&lt;Integer&gt; list = new ArrayList(Arrays.asList(&quot;string&quot;))` is allowed by the compiler, even though it will raise an exception at run-time. And note that I&#39;m **not** suggesting to add `&lt;Integer&gt;`; I&#39;m **only** suggesting to add `&lt;&gt;` , as in `List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;string&quot;))`. The `&lt;&gt;` asks the compiler to deduce the type, so it&#39;s not a raw type, and the issue is detected at compile-time instead of at runtime.","body":"@NavidVafaei: As you can see from the OP&#39;s example, something like <code>List&lt;Integer&gt; list = new ArrayList(Arrays.asList(&quot;string&quot;))</code> is allowed by the compiler, even though it will raise an exception at run-time. And note that I&#39;m <b>not</b> suggesting to add <code>&lt;Integer&gt;</code>; I&#39;m <b>only</b> suggesting to add <code>&lt;&gt;</code> , as in <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;string&quot;))</code>. The <code>&lt;&gt;</code> asks the compiler to deduce the type, so it&#39;s not a raw type, and the issue is detected at compile-time instead of at runtime."},{"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"score":0,"creation_date":1603243318,"post_id":64455014,"comment_id":113973486,"body_markdown":"The left side of `= new ArrayList(Arrays.asList(nums))` is not primitive, so I agree with adding `&lt;&gt;` in that scenario :)","body":"The left side of <code>= new ArrayList(Arrays.asList(nums))</code> is not primitive, so I agree with adding <code>&lt;&gt;</code> in that scenario :)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1603243543,"post_id":64455014,"comment_id":113973532,"body_markdown":"If you enable all compiler warnings, the compiler will tell you that using a raw type is a bad idea, for reasons which you have discovered for yourself.","body":"If you enable all compiler warnings, the compiler will tell you that using a raw type is a bad idea, for reasons which you have discovered for yourself."}],"answers":[{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701648866,"creation_date":1603240488,"answer_id":64455051,"question_id":64455014,"body_markdown":"## Solution 1:\r\n\r\n\r\nIn Java 8:\r\n\r\n\r\n\tList&lt;Integer&gt; list = Arrays.stream(nums)\r\n                          .boxed()\r\n                          .collect(Collectors.toCollection(ArrayList::new));\r\n\r\nIn Java 16 and later:\r\n\r\n    List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\r\n\r\n\r\n\r\n**Note:** You might need to:\r\n\r\n    import java.util.stream.Collectors;\r\n\r\n\r\n\r\n## Solution 2:\r\n\r\n\r\nUse for loop:\r\n\r\n\r\n\tList&lt;Integer&gt; list = new ArrayList();\r\n\tfor(int n : nums) {\r\n\t    list.add(n);\r\n\t}\r\n\r\n\r\n## Solution 3:\r\n\r\nDeclare the original array as `Integer[]` instead of `int[]`:\r\n\r\n    Integer[] nums = {0, 1};","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<h2>Solution 1:</h2>\n<p>In Java 8:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums)\n                      .boxed()\n                      .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n<p>In Java 16 and later:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\n</code></pre>\n<p><strong>Note:</strong> You might need to:</p>\n<pre><code>import java.util.stream.Collectors;\n</code></pre>\n<h2>Solution 2:</h2>\n<p>Use for loop:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList();\nfor(int n : nums) {\n    list.add(n);\n}\n</code></pre>\n<h2>Solution 3:</h2>\n<p>Declare the original array as <code>Integer[]</code> instead of <code>int[]</code>:</p>\n<pre><code>Integer[] nums = {0, 1};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603240937,"creation_date":1603240937,"answer_id":64455105,"question_id":64455014,"body_markdown":"The code `Arrays.asList(nums)` won&#39;t translate to an `ArrayList` with 2 values, viz. 1 and 2. It just has one value, `int[] { 1, 2 }`. In order to create the right `ArrayList`, you should use\r\n\r\n```List&lt;Integer&gt; list = Arrays.stream(nums).boxed().collect(Collectors.toList());```","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>The code <code>Arrays.asList(nums)</code> won't translate to an <code>ArrayList</code> with 2 values, viz. 1 and 2. It just has one value, <code>int[] { 1, 2 }</code>. In order to create the right <code>ArrayList</code>, you should use</p>\n<p><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":12850700,"reputation":927,"user_id":9295698,"display_name":"Kesava Karri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694808299,"creation_date":1694808299,"answer_id":77115080,"question_id":64455014,"body_markdown":"In the second snippet you were trying to assign the type `int` to `Integer` type.\r\n\r\nAutoboxing only happens for a single element (for example for one element of int to Integer).\r\n\r\nSo the `Arrays.asList()` cannot be used to convert all the elements from `int` to `Integer`.\r\n\r\nReference [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-primitive-array-to-list#:~:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D).","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>In the second snippet you were trying to assign the type <code>int</code> to <code>Integer</code> type.</p>\n<p>Autoboxing only happens for a single element (for example for one element of int to Integer).</p>\n<p>So the <code>Arrays.asList()</code> cannot be used to convert all the elements from <code>int</code> to <code>Integer</code>.</p>\n<p>Reference [link][1]</p>\n<p>[1]: <a href=\"https://www.baeldung.com/java-primitive-array-to-list#:%7E:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-primitive-array-to-list#:~:text=Unfortunately%2C%20this%20won%E2%80%99t,to%20Integer%5B%5D</a>).</p>\n"}],"owner":{"display_name":"user14488711"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64455051,"answer_count":3,"score":1,"last_activity_date":1701648866,"creation_date":1603240103,"question_id":64455014,"body_markdown":"I&#39;m wondering how I can convert a primitive array of integers to a list of Integer?\r\n\r\nThere&#39;s no compile error for:\r\n\r\n    \tint[] nums = {0, 1};\r\n\t\tList&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\r\n\t\tlist.get(0);\r\n\r\nBut this one:\r\n\r\n\r\n    \tint[] nums = {0, 1};\r\n\t\tList&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\r\n\t\tint a = list.get(0);\r\n\r\n\r\nfails with:\r\n\r\n\r\n    java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;) \r\n\r\n","title":"Converting primitive array of int into ArrayList in Java: &quot;java.lang.ClassCastException: [I cannot be cast to java.lang.Integer&quot;","body":"<p>I'm wondering how I can convert a primitive array of integers to a list of Integer?</p>\n<p>There's no compile error for:</p>\n<pre><code>    int[] nums = {0, 1};\n    List&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\n    list.get(0);\n</code></pre>\n<p>But this one:</p>\n<pre><code>    int[] nums = {0, 1};\n    List&lt;Integer&gt; list = new ArrayList(Arrays.asList(nums));\n    int a = list.get(0);\n</code></pre>\n<p>fails with:</p>\n<pre><code>java.lang.ClassCastException: class [I cannot be cast to class java.lang.Integer ([I and java.lang.Integer are in module java.base of loader 'bootstrap') \n</code></pre>\n"},{"tags":["java","docker","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701611191,"post_id":77593921,"comment_id":136794776,"body_markdown":"It&#39;s not working because KAFKA_ADVERTISED_HOST_NAME (which has since been deprecated). Why are you using such an old version of Kafka?","body":"It&#39;s not working because KAFKA_ADVERTISED_HOST_NAME (which has since been deprecated). Why are you using such an old version of Kafka?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701611676,"post_id":77593921,"comment_id":136794832,"body_markdown":"Also, &quot;stats&quot; isn&#39;t correct https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka  and you don&#39;t need 3 different sets of bootstrap servers for one container","body":"Also, &quot;stats&quot; isn&#39;t correct <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>  and you don&#39;t need 3 different sets of bootstrap servers for one container"},{"owner":{"account_id":11431509,"reputation":1,"user_id":8380061,"display_name":"Aditya Sinha"},"score":0,"creation_date":1701613793,"post_id":77593921,"comment_id":136795055,"body_markdown":"Had tried without KAFKA_ADVERTISED_HOST_NAME before and still it didn&#39;t worked at that time. And about kafka version , working on legacy project where version upgrade will take lot of approvals. But, I believe this error is not related to kafka version or host name. Have tried removing KAFKA_ADVERTISED_HOST_NAME but still giving same result.","body":"Had tried without KAFKA_ADVERTISED_HOST_NAME before and still it didn&#39;t worked at that time. And about kafka version , working on legacy project where version upgrade will take lot of approvals. But, I believe this error is not related to kafka version or host name. Have tried removing KAFKA_ADVERTISED_HOST_NAME but still giving same result."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701615360,"post_id":77593921,"comment_id":136795212,"body_markdown":"You can&#39;t just remove it. You need to replace it. You can see Kafka documentation on if/when `advertised.host.name` was deprecated. Also, as mentioned, your Spring config isn&#39;t correct, or you need to show your code how you&#39;re  building the AdminClient since it defaults to localhost if you didn&#39;t setup the KafkaAdmin bean https://docs.spring.io/spring-kafka/reference/kafka/configuring-topics.html","body":"You can&#39;t just remove it. You need to replace it. You can see Kafka documentation on if/when <code>advertised.host.name</code> was deprecated. Also, as mentioned, your Spring config isn&#39;t correct, or you need to show your code how you&#39;re  building the AdminClient since it defaults to localhost if you didn&#39;t setup the KafkaAdmin bean <a href=\"https://docs.spring.io/spring-kafka/reference/kafka/configuring-topics.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/kafka/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701615436,"post_id":77593921,"comment_id":136795219,"body_markdown":"Also note that the wurstmeister image doesn&#39;t exist in Dockerhub anymore. You should replace that too","body":"Also note that the wurstmeister image doesn&#39;t exist in Dockerhub anymore. You should replace that too"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1701647855,"post_id":77593921,"comment_id":136798499,"body_markdown":"Sorry, I only see code for a consumer, and System.getProperty isn&#39;t how you access Spring properties","body":"Sorry, I only see code for a consumer, and System.getProperty isn&#39;t how you access Spring properties"}],"owner":{"account_id":11431509,"reputation":1,"user_id":8380061,"display_name":"Aditya Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701611110,"answer_count":0,"score":0,"last_activity_date":1701647898,"creation_date":1701600406,"question_id":77593921,"body_markdown":"I have a Springboot application and I am trying to run Kafka in docker container but the Kafka consumer is failing to connect to Broker and connection to node is not established and getting disconnected.\r\n\r\nThe error is\r\n```java\r\n2023-12-03T10:05:20.340576499Z 2023-12-03 10:05:20.340  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\r\n2023-12-03T10:05:20.341397124Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:20.341792207Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-12-03T10:05:21.069610291Z 2023-12-03 10:05:21.069  INFO 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n2023-12-03T10:05:21.076263666Z 2023-12-03 10:05:21.076  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:21.304951874Z 2023-12-03 10:05:21.304  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\r\n2023-12-03T10:05:21.306403833Z 2023-12-03 10:05:21.306  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-12-03T10:05:21.307136041Z 2023-12-03 10:05:21.307  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-12-03T10:05:21.950644000Z 2023-12-03 10:05:21.950  INFO 1 --- [| adminclient-1] o.a.k.c.a.i.AdminMetadataManager         : [AdminClient clientId=adminclient-1] Metadata update failed\r\n2023-12-03T10:05:21.950668708Z org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\r\n```\r\n\r\nDocker-compose.yml\r\n```yml\r\nservices:\r\n    zookeeper:\r\n    container_name: zookeper\r\n    image: &#39;something/wurstmeister/zookeeper:3.4.6&#39;\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n\r\n  kafka:\r\n    container_name: kafka\r\n    image: &#39;something/wurstmeister/kafka:2.11-0.11.0.2&#39;\r\n    hostname: kafka\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n      - &quot;9094:9094&quot;\r\n    environment:\r\n      KAFKA_ADVERTISED_HOST_NAME: localhost\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_CREATE_TOPICS: &quot;topic_name:1:1&quot;\r\n      KAFKA_ADVERTISED_LISTENERS: &#39;INSIDE://kafka:9092,OUTSIDE://localhost:9094&#39;\r\n      KAFKA_LISTENERS: &#39;INSIDE://:9092,OUTSIDE://:9094&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &#39;INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT&#39;\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: &#39;INSIDE&#39;\r\n    healthcheck:\r\n      test: [ &quot;CMD&quot;, &quot;kafka-topics.sh&quot;, &quot;--list&quot;, &quot;--zookeeper&quot;, &quot;zookeeper:2181&quot; ]\r\n      interval: 30s\r\n      timeout: 10s\r\n      retries: 4\r\n    depends_on:\r\n      - zookeeper\r\n```\r\n\r\nApplication.yml\r\n```yaml\r\nstats:\r\n  kafka:\r\n    bootstrapServers: localhost:9092        #have tried - &quot;kafka:9092&quot;   also, but didnt worked\r\n    sjcBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\r\n    iadBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\r\n    topic: {topic_name}\r\n    groupId: {groud_id}\r\n```\r\n\r\nThis is how KafkaConsumer is being constructed\r\n```java\r\npublic messageLogEventConsumer(String... topics) {\r\n        final String kafkaHost = System.getProperty(&quot;kafka.host&quot;);\r\n        final int kafkaPort = Integer.parseInt(System.getProperty(&quot;kafka.tcp.9094&quot;, &quot;9094&quot;));\r\n        final Properties props = new Properties();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, String.format(&quot;%s:%d&quot;, kafkaHost, kafkaPort));\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\r\n        topicsSubscribed = new HashSet&lt;&gt;(Arrays.asList(topics));\r\n        topicsWithPartitionAssigned = new HashSet&lt;&gt;();\r\n\r\n        consumer = new KafkaConsumer&lt;&gt;(props);\r\n        consumer.subscribe(topicsSubscribed, this);\r\n        consumerListener = new Thread(this, &quot;Kafka-consumer&quot;);\r\n        consumerListener.start();\r\n}       \r\n```\r\nI tried referring https://rmoff.net/2018/08/02/kafka-listeners-explained/ but since I am new to docker and kafka both so, couldn&#39;t get through the solution. Is there anything I am missing?","title":"Kafka and Docker - Failing to connect to Kafka Consumer","body":"<p>I have a Springboot application and I am trying to run Kafka in docker container but the Kafka consumer is failing to connect to Broker and connection to node is not established and getting disconnected.</p>\n<p>The error is</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-12-03T10:05:20.340576499Z 2023-12-03 10:05:20.340  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\n2023-12-03T10:05:20.341397124Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:20.341792207Z 2023-12-03 10:05:20.341  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-12-03T10:05:21.069610291Z 2023-12-03 10:05:21.069  INFO 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2023-12-03T10:05:21.076263666Z 2023-12-03 10:05:21.076  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:21.304951874Z 2023-12-03 10:05:21.304  INFO 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Node -1 disconnected.\n2023-12-03T10:05:21.306403833Z 2023-12-03 10:05:21.306  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-12-03T10:05:21.307136041Z 2023-12-03 10:05:21.307  WARN 1 --- [EventProcessor1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=, groupId=] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-12-03T10:05:21.950644000Z 2023-12-03 10:05:21.950  INFO 1 --- [| adminclient-1] o.a.k.c.a.i.AdminMetadataManager         : [AdminClient clientId=adminclient-1] Metadata update failed\n2023-12-03T10:05:21.950668708Z org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\n</code></pre>\n<p>Docker-compose.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n    zookeeper:\n    container_name: zookeper\n    image: 'something/wurstmeister/zookeeper:3.4.6'\n    ports:\n      - &quot;2181:2181&quot;\n\n  kafka:\n    container_name: kafka\n    image: 'something/wurstmeister/kafka:2.11-0.11.0.2'\n    hostname: kafka\n    ports:\n      - &quot;9092:9092&quot;\n      - &quot;9094:9094&quot;\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: localhost\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_CREATE_TOPICS: &quot;topic_name:1:1&quot;\n      KAFKA_ADVERTISED_LISTENERS: 'INSIDE://kafka:9092,OUTSIDE://localhost:9094'\n      KAFKA_LISTENERS: 'INSIDE://:9092,OUTSIDE://:9094'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: 'INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT'\n      KAFKA_INTER_BROKER_LISTENER_NAME: 'INSIDE'\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;kafka-topics.sh&quot;, &quot;--list&quot;, &quot;--zookeeper&quot;, &quot;zookeeper:2181&quot; ]\n      interval: 30s\n      timeout: 10s\n      retries: 4\n    depends_on:\n      - zookeeper\n</code></pre>\n<p>Application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>stats:\n  kafka:\n    bootstrapServers: localhost:9092        #have tried - &quot;kafka:9092&quot;   also, but didnt worked\n    sjcBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\n    iadBootstrapServers: &quot;url:9092, url:9092, url:9092&quot;\n    topic: {topic_name}\n    groupId: {groud_id}\n</code></pre>\n<p>This is how KafkaConsumer is being constructed</p>\n<pre class=\"lang-java prettyprint-override\"><code>public messageLogEventConsumer(String... topics) {\n        final String kafkaHost = System.getProperty(&quot;kafka.host&quot;);\n        final int kafkaPort = Integer.parseInt(System.getProperty(&quot;kafka.tcp.9094&quot;, &quot;9094&quot;));\n        final Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, String.format(&quot;%s:%d&quot;, kafkaHost, kafkaPort));\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n        topicsSubscribed = new HashSet&lt;&gt;(Arrays.asList(topics));\n        topicsWithPartitionAssigned = new HashSet&lt;&gt;();\n\n        consumer = new KafkaConsumer&lt;&gt;(props);\n        consumer.subscribe(topicsSubscribed, this);\n        consumerListener = new Thread(this, &quot;Kafka-consumer&quot;);\n        consumerListener.start();\n}       \n</code></pre>\n<p>I tried referring <a href=\"https://rmoff.net/2018/08/02/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">https://rmoff.net/2018/08/02/kafka-listeners-explained/</a> but since I am new to docker and kafka both so, couldn't get through the solution. Is there anything I am missing?</p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701630195,"post_id":77595730,"comment_id":136796917,"body_markdown":"Annotations are not necessarily desingend to manipulate existing types, so expect some pushback when trying to do this. If I remember correctly, lombok gets the [AST (`en.wikiepadia.org`)](https://en.wikipedia.org/wiki/Abstract_syntax_tree) and manipulates the nodes in the tree before the tree is actually compiled. Maybe @rzwitserloot comes along and shares some insights.","body":"Annotations are not necessarily desingend to manipulate existing types, so expect some pushback when trying to do this. If I remember correctly, lombok gets the <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST (<code>en.wikiepadia.org</code>)</a> and manipulates the nodes in the tree before the tree is actually compiled. Maybe @rzwitserloot comes along and shares some insights."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701634867,"creation_date":1701634867,"answer_id":77596040,"question_id":77595730,"body_markdown":"Annotation Processors cannot (directly) do this; the &#39;spec&#39; of annotation processors restricts you to making entirely new types, you can&#39;t edit existing ones.\r\n\r\n## So what&#39;s lombok then?\r\n\r\nLombok is a compiler plugin that transforms syntactically valid (but semantically probably invalid) ASTs. It isn&#39;t an annotation processor. However, it can plug into the compiler in a number of ways, and one of those is via the route of being initialized as an annotation processor.\r\n\r\nYou can of course _also_ do so - in which case, forking lombok is the right way to go, it&#39;s a complicated proposition and requires custom work for every tool you want to support (which in practice isn&#39;t nearly as dire as it sounds, as most tools simply use vanilla `javac`, so all you need to do is tell the tool to ensure lombok is plugged in). Still, lombok&#39;s got quite a bit of work on it, and the vast majority of it, is &#39;infrastructure&#39; - ensuring that plugging in is possible and works appropriately.\r\n\r\n## Are there alternatives?\r\n\r\nThe usual trick done with Annotation Processors (APs) that follow the actual annotation processor APIs is to treat java code as a &#39;template&#39;, and have the entirely-generated-from-scratch source file (generated by the AP) to be the &#39;real&#39; type used everywhere else. This is, for example, how auto-value works.\r\n\r\nThe downside of this is that you __require__ a complete build before any edit you make that would cause the generated content to be different, to actually show. In contrast to lombok where you don&#39;t even have to save the file, you edit something (say, change the name of a field annotated with `@Getter`) and the name of the lombok-generated getter method changes along _instantaneously_. Waiting around for the build isn&#39;t something anybody wants to do. Well, almost nobody:\r\n\r\n[![Yay, compiling!][1]][1]\r\n\r\nIf you&#39;re willing to accept that severe penalty, then it looks something like this:\r\n\r\n```\r\n// You actually write this class out manually:\r\n\r\n@AddDoohickeys\r\nclass FooTemplate {\r\n  public void addedByProgrammer() { ... }\r\n}\r\n```\r\n\r\nand during compilation the AP sees that and makes this:\r\n\r\n```\r\n// Generated entirely by AP\r\npublic class Foo extends FooTemplate {\r\n  public void addedByAP() { .. }\r\n}\r\n```\r\n\r\nAnd all other code just uses `Foo`, and can use both `addedByAP()` as well as `addedByProgrammer()` equally. There are a few related takes on the idea (For example, the template can contain `static void addedByProgrammer(Foo x) { ... }`, and the AP generates the `Foo` class not with `extends FooTemplate`, instead adding a wrapper method, e.g. `public void addedByProgrammer() { FooTemplate.addedByProgrammer(this); }` - this avoids having to extend a class whose access rights make it otherwise invisible, if you find that sort of thing ugly.\r\n\r\n  [1]: https://i.stack.imgur.com/tWSTL.png\r\n\r\n## So, no, I don&#39;t want that, back to lombok\r\n\r\nLombok is already very complicated, and you run into a serious problem I call the chicken-and-egg problem.\r\n\r\nFor your compiler plugin to run, you really don&#39;t want to go off of &#39;sack of chars&#39; style raw source files. It is incredibly difficult to reason about raw source code, you need to parse it into something more workable such as a tree structure. One can parse any source file into a so-called AST (Abstract Syntax Tree), but this isn&#39;t as workable as you might think. For example, this:\r\n\r\n```\r\npublic void foo(java.lang.String args) {\r\n  c.a.v = 10;\r\n}\r\n```\r\n\r\nHas an interesting thing in it. What is that `c.a.v`? __With the full context, e.g. the classpath and the like__, you can draw some _wildly_ different conclusions:\r\n\r\n* `c` is a package, `a` is a class, and `v` is a `public static` non-final `int` field; this statement updates that field.\r\n* `c` is the name of a `protected` field from a supertype, `a` is a visible field in whatever the type of `c` was, and `v` is field in that.\r\n* `c` is a class name of a class in the same package as this code. `a` is a class name that is a nested class inside `c`, and `v` is a public static variable in _that_.\r\n\r\nThe thing is, without that context, __it is not possible to know which one__ because unfortunately java does not have rules about this. Some languages decree that classes __must__ start with a capital letter, variables __must__ start with an underscore, and package names __must__ start with a lowercase letter - with such systems you can know what&#39;s happening without the context of a class path. Not so with java.\r\n\r\nSo, in AST form, that is available in the tree as &#39;select field &#39;v&#39; on node X&#39; where X is &#39;select field &#39;a&#39; on node Y&#39; where Y is &#39;identity &#39;c&#39;&#39;.\r\n\r\nYou can&#39;t ask an AST: Hey, so, what type is &#39;v&#39; then? You can&#39;t ask it: &quot;Please list all members of whatever &#39;c&#39; is&quot; - that might not even make sense (if &#39;c&#39; is a package, that&#39;s a weird question to ask).\r\n\r\nSo, ASTs aren&#39;t all that nice either, which gets us to LSTs. In an LST, &#39;c.a.v&#39; is properly attributes, with every part of that typed; once you have an LST, that LST represents, for example: &quot;Write to field &#39;v&#39; of nested class &#39;a&#39; (which is of type `com.foo.c$a`), which is in outer class &#39;c&#39;, which is in package `com.foo` - the same package this code is in.\r\n\r\nLSTs are by far the most convenient and what you tend to think about when writing java code.\r\n\r\n__However__, once you have arrived at an LST __you can no longer add stuff__. After all, if you add a method _now_ that can _completely_ change the meaning of code to a fairly thorough degree. Simply adding a method can change an expression&#39;s meaning entirely: What used to look like `foo(x)` _still_ looks like `foo(x)` but before, it was a reference to a static method in your parent type that returned a `String`, and now all of a sudden it is a reference to an instance method in your own type that returns an `int`, and if that expression is itself passed as arg to another method, that can therefore completely change which method _that_ is &#39;bound&#39; to.\r\n\r\nSo, if you want to add a method but want an LST around to know what to do, you can do that, but.. you have to then invalidate the whole thing and tell the compiler to start over again. It can keep the AST (but, if you&#39;ve added stuff by writing out java code, that needs to be parsed. If you add directly to the AST you can skip the expensive step of &#39;turn this sack of characters into an AST&#39;, but java does not have a unified AST so you&#39;re now going to have to write code to do the job of editing the AST at the very least for javac, which is non-standard API that breakingly changes all the time, as well as ecj, and that covers most but not all uses out there in the wild.\r\n\r\nAnnotation Processing suffers from the same problem and introduces the convoluted &#39;rounds&#39; concept to try to deal with this.\r\n\r\nLombok &#39;deals&#39; with it __by avoiding it almost entirely__ - the vast majority of lombok features are written based on ASTs, not LSTs. That&#39;s why lombok doesn&#39;t have a feature to, for example, &#39;add a constructor that is just a wrapper around some constructor of the parent type, passing all params through&#39;. Because doing that requires knowing the contents of a parent type, and that&#39;s LST territory.\r\n\r\nSo, you _can_ do this, but it is incredibly complicated.\r\n\r\n## Some context\r\n\r\nIn case it wasn&#39;t obvious, I&#39;m one of the core authors of Project Lombok.\r\n","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>Annotation Processors cannot (directly) do this; the 'spec' of annotation processors restricts you to making entirely new types, you can't edit existing ones.</p>\n<h2>So what's lombok then?</h2>\n<p>Lombok is a compiler plugin that transforms syntactically valid (but semantically probably invalid) ASTs. It isn't an annotation processor. However, it can plug into the compiler in a number of ways, and one of those is via the route of being initialized as an annotation processor.</p>\n<p>You can of course <em>also</em> do so - in which case, forking lombok is the right way to go, it's a complicated proposition and requires custom work for every tool you want to support (which in practice isn't nearly as dire as it sounds, as most tools simply use vanilla <code>javac</code>, so all you need to do is tell the tool to ensure lombok is plugged in). Still, lombok's got quite a bit of work on it, and the vast majority of it, is 'infrastructure' - ensuring that plugging in is possible and works appropriately.</p>\n<h2>Are there alternatives?</h2>\n<p>The usual trick done with Annotation Processors (APs) that follow the actual annotation processor APIs is to treat java code as a 'template', and have the entirely-generated-from-scratch source file (generated by the AP) to be the 'real' type used everywhere else. This is, for example, how auto-value works.</p>\n<p>The downside of this is that you <strong>require</strong> a complete build before any edit you make that would cause the generated content to be different, to actually show. In contrast to lombok where you don't even have to save the file, you edit something (say, change the name of a field annotated with <code>@Getter</code>) and the name of the lombok-generated getter method changes along <em>instantaneously</em>. Waiting around for the build isn't something anybody wants to do. Well, almost nobody:</p>\n<p><a href=\"https://i.stack.imgur.com/tWSTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWSTL.png\" alt=\"Yay, compiling!\" /></a></p>\n<p>If you're willing to accept that severe penalty, then it looks something like this:</p>\n<pre><code>// You actually write this class out manually:\n\n@AddDoohickeys\nclass FooTemplate {\n  public void addedByProgrammer() { ... }\n}\n</code></pre>\n<p>and during compilation the AP sees that and makes this:</p>\n<pre><code>// Generated entirely by AP\npublic class Foo extends FooTemplate {\n  public void addedByAP() { .. }\n}\n</code></pre>\n<p>And all other code just uses <code>Foo</code>, and can use both <code>addedByAP()</code> as well as <code>addedByProgrammer()</code> equally. There are a few related takes on the idea (For example, the template can contain <code>static void addedByProgrammer(Foo x) { ... }</code>, and the AP generates the <code>Foo</code> class not with <code>extends FooTemplate</code>, instead adding a wrapper method, e.g. <code>public void addedByProgrammer() { FooTemplate.addedByProgrammer(this); }</code> - this avoids having to extend a class whose access rights make it otherwise invisible, if you find that sort of thing ugly.</p>\n<h2>So, no, I don't want that, back to lombok</h2>\n<p>Lombok is already very complicated, and you run into a serious problem I call the chicken-and-egg problem.</p>\n<p>For your compiler plugin to run, you really don't want to go off of 'sack of chars' style raw source files. It is incredibly difficult to reason about raw source code, you need to parse it into something more workable such as a tree structure. One can parse any source file into a so-called AST (Abstract Syntax Tree), but this isn't as workable as you might think. For example, this:</p>\n<pre><code>public void foo(java.lang.String args) {\n  c.a.v = 10;\n}\n</code></pre>\n<p>Has an interesting thing in it. What is that <code>c.a.v</code>? <strong>With the full context, e.g. the classpath and the like</strong>, you can draw some <em>wildly</em> different conclusions:</p>\n<ul>\n<li><code>c</code> is a package, <code>a</code> is a class, and <code>v</code> is a <code>public static</code> non-final <code>int</code> field; this statement updates that field.</li>\n<li><code>c</code> is the name of a <code>protected</code> field from a supertype, <code>a</code> is a visible field in whatever the type of <code>c</code> was, and <code>v</code> is field in that.</li>\n<li><code>c</code> is a class name of a class in the same package as this code. <code>a</code> is a class name that is a nested class inside <code>c</code>, and <code>v</code> is a public static variable in <em>that</em>.</li>\n</ul>\n<p>The thing is, without that context, <strong>it is not possible to know which one</strong> because unfortunately java does not have rules about this. Some languages decree that classes <strong>must</strong> start with a capital letter, variables <strong>must</strong> start with an underscore, and package names <strong>must</strong> start with a lowercase letter - with such systems you can know what's happening without the context of a class path. Not so with java.</p>\n<p>So, in AST form, that is available in the tree as 'select field 'v' on node X' where X is 'select field 'a' on node Y' where Y is 'identity 'c''.</p>\n<p>You can't ask an AST: Hey, so, what type is 'v' then? You can't ask it: &quot;Please list all members of whatever 'c' is&quot; - that might not even make sense (if 'c' is a package, that's a weird question to ask).</p>\n<p>So, ASTs aren't all that nice either, which gets us to LSTs. In an LST, 'c.a.v' is properly attributes, with every part of that typed; once you have an LST, that LST represents, for example: &quot;Write to field 'v' of nested class 'a' (which is of type <code>com.foo.c$a</code>), which is in outer class 'c', which is in package <code>com.foo</code> - the same package this code is in.</p>\n<p>LSTs are by far the most convenient and what you tend to think about when writing java code.</p>\n<p><strong>However</strong>, once you have arrived at an LST <strong>you can no longer add stuff</strong>. After all, if you add a method <em>now</em> that can <em>completely</em> change the meaning of code to a fairly thorough degree. Simply adding a method can change an expression's meaning entirely: What used to look like <code>foo(x)</code> <em>still</em> looks like <code>foo(x)</code> but before, it was a reference to a static method in your parent type that returned a <code>String</code>, and now all of a sudden it is a reference to an instance method in your own type that returns an <code>int</code>, and if that expression is itself passed as arg to another method, that can therefore completely change which method <em>that</em> is 'bound' to.</p>\n<p>So, if you want to add a method but want an LST around to know what to do, you can do that, but.. you have to then invalidate the whole thing and tell the compiler to start over again. It can keep the AST (but, if you've added stuff by writing out java code, that needs to be parsed. If you add directly to the AST you can skip the expensive step of 'turn this sack of characters into an AST', but java does not have a unified AST so you're now going to have to write code to do the job of editing the AST at the very least for javac, which is non-standard API that breakingly changes all the time, as well as ecj, and that covers most but not all uses out there in the wild.</p>\n<p>Annotation Processing suffers from the same problem and introduces the convoluted 'rounds' concept to try to deal with this.</p>\n<p>Lombok 'deals' with it <strong>by avoiding it almost entirely</strong> - the vast majority of lombok features are written based on ASTs, not LSTs. That's why lombok doesn't have a feature to, for example, 'add a constructor that is just a wrapper around some constructor of the parent type, passing all params through'. Because doing that requires knowing the contents of a parent type, and that's LST territory.</p>\n<p>So, you <em>can</em> do this, but it is incredibly complicated.</p>\n<h2>Some context</h2>\n<p>In case it wasn't obvious, I'm one of the core authors of Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701647682,"creation_date":1701647682,"answer_id":77596596,"question_id":77595730,"body_markdown":"If you really want to modify already compiled Java code you will have to touch byte code. The Apache Commons library [BCEL][1] can help you there.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-bcel/","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>If you really want to modify already compiled Java code you will have to touch byte code. The Apache Commons library <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">BCEL</a> can help you there.</p>\n"}],"owner":{"account_id":28984971,"reputation":11,"user_id":22201960,"display_name":"saba artkmeladze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701647682,"creation_date":1701629568,"question_id":77595730,"body_markdown":"I&#39;m looking for a solution to dynamically add methods to a Java class during compile time, similar to how Lombok operates with annotations. Specifically, I want to automate method generation based on custom annotations, such as creating getter methods for fields annotated with a custom annotation. My goal is to explore methods beyond Lombok and understand the best practices and tools available for achieving this during the compilation process. If anyone has insights or code examples for adding methods to a class at compile time, especially using annotations, I would appreciate their guidance.\r\n\r\n\r\nI&#39;ve explored Lombok and other annotation processors to understand how they dynamically add methods during compilation. While Lombok provides a solution for common scenarios, I&#39;m interested in a more customized approach based on specific annotations. My expectation is to discover alternative techniques or tools that enable the dynamic addition of methods to a Java class at compile time, particularly in response to custom annotations. However, I haven&#39;t found a satisfactory solution yet, prompting me to seek insights, examples, or recommendations from the community.","title":"How can I add methods to a Java class at compile time using annotations or similar techniques, similar to Lombok?","body":"<p>I'm looking for a solution to dynamically add methods to a Java class during compile time, similar to how Lombok operates with annotations. Specifically, I want to automate method generation based on custom annotations, such as creating getter methods for fields annotated with a custom annotation. My goal is to explore methods beyond Lombok and understand the best practices and tools available for achieving this during the compilation process. If anyone has insights or code examples for adding methods to a class at compile time, especially using annotations, I would appreciate their guidance.</p>\n<p>I've explored Lombok and other annotation processors to understand how they dynamically add methods during compilation. While Lombok provides a solution for common scenarios, I'm interested in a more customized approach based on specific annotations. My expectation is to discover alternative techniques or tools that enable the dynamic addition of methods to a Java class at compile time, particularly in response to custom annotations. However, I haven't found a satisfactory solution yet, prompting me to seek insights, examples, or recommendations from the community.</p>\n"},{"tags":["java","maven","xsd","protocol-buffers"],"comments":[{"owner":{"account_id":1462390,"reputation":759,"user_id":1376318,"display_name":"mamift"},"score":0,"creation_date":1701649734,"post_id":77596555,"comment_id":136798609,"body_markdown":"schema2proto has a maven plugin. Have you tried following the instructions? https://github.com/entur/schema2proto/blob/develop/schema2proto-maven-plugin/README.md","body":"schema2proto has a maven plugin. Have you tried following the instructions? <a href=\"https://github.com/entur/schema2proto/blob/develop/schema2proto-maven-plugin/README.md\" rel=\"nofollow noreferrer\">github.com/entur/schema2proto/blob/develop/&hellip;</a>"}],"owner":{"account_id":30058061,"reputation":1,"user_id":23034874,"display_name":"Coleslaw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701729105,"answer_count":0,"score":-1,"last_activity_date":1701646601,"creation_date":1701646601,"question_id":77596555,"body_markdown":"I am currently using XSD files in my project and would like to convert them to Protocol Buffers. The ultimate objective is to integrate this conversion process into a Maven plugin, with the intention of making modifications later on. Are there any guidance or modifications needed for achieving this in Java?\r\n\r\nI have found https://github.com/tranchis/xsd2thrift and https://github.com/entur/schema2proto but couldn&#39;t make them work. If i could make them work it would be okay too. Is there anyone that can help me?","title":"Converting XSD files to Proto with Java","body":"<p>I am currently using XSD files in my project and would like to convert them to Protocol Buffers. The ultimate objective is to integrate this conversion process into a Maven plugin, with the intention of making modifications later on. Are there any guidance or modifications needed for achieving this in Java?</p>\n<p>I have found <a href=\"https://github.com/tranchis/xsd2thrift\" rel=\"nofollow noreferrer\">https://github.com/tranchis/xsd2thrift</a> and <a href=\"https://github.com/entur/schema2proto\" rel=\"nofollow noreferrer\">https://github.com/entur/schema2proto</a> but couldn't make them work. If i could make them work it would be okay too. Is there anyone that can help me?</p>\n"},{"tags":["java","firebase-authentication","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":30055917,"reputation":1,"user_id":23033290,"display_name":"Bhanu Pratap Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701620377,"creation_date":1701620377,"answer_id":77595120,"question_id":77595112,"body_markdown":"if you are using firebase Authentication in your web app then you also need to give the user account delete option as per the user&#39;s need. We can simply do it in firebase by just simply calling the firebase delete method\r\nhope this helps","title":"Firebase auth not logging out completely","body":"<p>if you are using firebase Authentication in your web app then you also need to give the user account delete option as per the user's need. We can simply do it in firebase by just simply calling the firebase delete method\nhope this helps</p>\n"}],"owner":{"account_id":27688296,"reputation":13,"user_id":21135581,"display_name":"ohshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701646607,"answer_count":1,"score":0,"last_activity_date":1701646505,"creation_date":1701620223,"question_id":77595112,"body_markdown":"How to logout a user so that the next login lets him chose an account? It&#39;s like there is still some metadata stored somewhere because it always relogs into the last successfully logged in account. \r\n\r\nI found the exact problem described in this thread but for JavaScript: **https://stackoverflow.com/questions/49860938/firebase-logout-not-working**  \r\n\r\nHow can I implement the solution:\r\n\r\n    var provider = new firebase.auth.GoogleAuthProvider(); \r\n    provider.setCustomParameters({ prompt: &#39;select_account&#39; });\r\n\r\nin Java? Because as far as I understood, the JavaScript API is different from Java and I cannot directly create a GoogleAuthProvider() object. ","title":"Firebase auth not logging out completely","body":"<p>How to logout a user so that the next login lets him chose an account? It's like there is still some metadata stored somewhere because it always relogs into the last successfully logged in account.</p>\n<p>I found the exact problem described in this thread but for JavaScript: <strong><a href=\"https://stackoverflow.com/questions/49860938/firebase-logout-not-working\">Firebase logout not working</a></strong></p>\n<p>How can I implement the solution:</p>\n<pre><code>var provider = new firebase.auth.GoogleAuthProvider(); \nprovider.setCustomParameters({ prompt: 'select_account' });\n</code></pre>\n<p>in Java? Because as far as I understood, the JavaScript API is different from Java and I cannot directly create a GoogleAuthProvider() object.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701646023,"post_id":77596526,"comment_id":136798379,"body_markdown":"This is a common question here. Have you [searched](https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception) to see if any of the other answers help? What about this one [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"This is a common question here. Have you <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception\">searched</a> to see if any of the other answers help? What about this one <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701646030,"post_id":77596526,"comment_id":136798381,"body_markdown":"don&#39;t try to get the value of position that doesn&#39;t exist like -1. Why are you even trying to do that?","body":"don&#39;t try to get the value of position that doesn&#39;t exist like -1. Why are you even trying to do that?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646107,"post_id":77596526,"comment_id":136798386,"body_markdown":"How am I trying to get -1 in my code?","body":"How am I trying to get -1 in my code?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646287,"post_id":77596526,"comment_id":136798399,"body_markdown":"@OldDogProgrammer yeah but this is a very simple example, how can I adapt it in my code","body":"@OldDogProgrammer yeah but this is a very simple example, how can I adapt it in my code"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646306,"post_id":77596526,"comment_id":136798401,"body_markdown":"By the way, questions of this type should have an *exact* copy of the error message, preferably with the stack trace that follows. Use text copy-and-paste to ensure accuracy.   The stack trace will point to a line in your source file. If you are not familiar with using a stack trace, I suggest looking at https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"By the way, questions of this type should have an <i>exact</i> copy of the error message, preferably with the stack trace that follows. Use text copy-and-paste to ensure accuracy.   The stack trace will point to a line in your source file. If you are not familiar with using a stack trace, I suggest looking at <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":1,"creation_date":1701646469,"post_id":77596526,"comment_id":136798409,"body_markdown":"@OldDogProgrammer I&#39;ve shared my stack trace","body":"@OldDogProgrammer I&#39;ve shared my stack trace"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701646809,"post_id":77596526,"comment_id":136798428,"body_markdown":"Your debug image seems to show `position` has a value of `-1`, so the `rowsDto.get(position)` part of `countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);` will fail.","body":"Your debug image seems to show <code>position</code> has a value of <code>-1</code>, so the <code>rowsDto.get(position)</code> part of <code>countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);</code> will fail."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1701646881,"post_id":77596526,"comment_id":136798431,"body_markdown":"These types of questions almost always devolve into &quot;how do I debug my program and how do I use a debugger&quot;, and that is the overall solution that you really do need to learn moving forward. Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/) as well as the [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) links as they will help.","body":"These types of questions almost always devolve into &quot;how do I debug my program and how do I use a debugger&quot;, and that is the overall solution that you really do need to learn moving forward. Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a> as well as the <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> links as they will help."},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701646999,"post_id":77596526,"comment_id":136798440,"body_markdown":"I know how debug my program, I&#39;ve shared an image and I said that from my debug results that position is -1, that&#39;s why I receive this exception, now, how can I avoid this?","body":"I know how debug my program, I&#39;ve shared an image and I said that from my debug results that position is -1, that&#39;s why I receive this exception, now, how can I avoid this?"},{"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"score":0,"creation_date":1701647027,"post_id":77596526,"comment_id":136798443,"body_markdown":"@OldDogProgrammer and how can I avoid this?","body":"@OldDogProgrammer and how can I avoid this?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701647663,"post_id":77596526,"comment_id":136798485,"body_markdown":"I can&#39;t tell you that. I don&#39;t know your program well enough. All I can say is don&#39;t call an `List#get(int index)` method with an index value out of range, such as `-1` .  You could expand the `if`: `if(rowsDto.size()&gt;position+1 &amp;&amp; position &gt;= 0)`, but I don&#39;t know if that is appropriate or not.","body":"I can&#39;t tell you that. I don&#39;t know your program well enough. All I can say is don&#39;t call an <code>List#get(int index)</code> method with an index value out of range, such as <code>-1</code> .  You could expand the <code>if</code>: <code>if(rowsDto.size()&gt;position+1 &amp;&amp; position &gt;= 0)</code>, but I don&#39;t know if that is appropriate or not."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1701651220,"post_id":77596526,"comment_id":136798722,"body_markdown":"What happens when you set a break point at just before the line causing the exception to be thrown? What information does that give you?","body":"What happens when you set a break point at just before the line causing the exception to be thrown? What information does that give you?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701710322,"post_id":77596526,"comment_id":136806834,"body_markdown":".............. well? Again, what did you find when you placed a break point just before the line of code that throws the exception? This information would be helpful if we are to try to help solve the issue.","body":".............. well? Again, what did you find when you placed a break point just before the line of code that throws the exception? This information would be helpful if we are to try to help solve the issue."}],"owner":{"account_id":30058000,"reputation":1,"user_id":23034832,"display_name":"Luca si"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701646821,"answer_count":0,"score":-1,"last_activity_date":1701646448,"creation_date":1701645524,"question_id":77596526,"body_markdown":"I&#39;m making a java application using java 8, when I try to set position I get -1 as value, so I receive the ArrayIndexOutOfBoundsException.\r\nhere is my code\r\n\r\n```\r\n    List&lt;TopSellersRowDto&gt; rowsDto = wrapper.getRows().stream().collect(Collectors.toList());\r\n        int rowIndex = rowsDto.indexOf(rowDto);\r\n\r\n        if(rowDto.getElaborazioneEl().getElPackageNettoEarlyBooking()==null){\r\n            return elHotelWeeklyNettoEarlybooking==null ? BigDecimal.ZERO : elHotelWeeklyNettoEarlybooking.divide(BigDecimal.valueOf(7), 0, RoundingMode.CEILING);\r\n        }\r\n\r\n        int position = rowsDto.indexOf(rowDto);\r\n        long countDay = 1;\r\n\r\n    if(rowsDto.size()&gt;position+1) {\r\n//here I get the error\r\n            countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);\r\n\r\n    }else if(rowsDto.size() == position + 1) {\r\n        countDay = 7;\r\n    } \r\n```\r\nI link a debug image from intellij \r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: -1\r\n\tat java.util.ArrayList.elementData(ArrayList.java:422)\r\n\tat java.util.ArrayList.get(ArrayList.java:435)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.ebhandling.EntryLevelPricesComputer.computeElHotelDailyNetto(EntryLevelPricesComputer.java:125)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByEntryLevelPackage(ElaborazioneElServiceImpl.java:392)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeBy(ElaborazioneElServiceImpl.java:278)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByNoWrapper(ElaborazioneElServiceImpl.java:330)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.computeOtherClustersRows(SaveServiceImpl.java:402)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:270)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.findMaxVersionAndSave(SaveServiceImpl.java:84)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:79)\r\n\tat it.alpitour.initialpricing.topsellers.dashboard.save.SaveController.saveTopSellersDashboard(SaveController.java:61)\r\n\r\n```\r\nAny suggestion to avoid this error?\r\n\r\n[debug image](https://i.stack.imgur.com/5eClw.png)\r\n\r\nif you need Other details don&#39;t hesitate to ask.","title":"How to avoid java.lang.ArrayIndexOutOfBoundsException: -1 in my java 8 program","body":"<p>I'm making a java application using java 8, when I try to set position I get -1 as value, so I receive the ArrayIndexOutOfBoundsException.\nhere is my code</p>\n<pre><code>    List&lt;TopSellersRowDto&gt; rowsDto = wrapper.getRows().stream().collect(Collectors.toList());\n        int rowIndex = rowsDto.indexOf(rowDto);\n\n        if(rowDto.getElaborazioneEl().getElPackageNettoEarlyBooking()==null){\n            return elHotelWeeklyNettoEarlybooking==null ? BigDecimal.ZERO : elHotelWeeklyNettoEarlybooking.divide(BigDecimal.valueOf(7), 0, RoundingMode.CEILING);\n        }\n\n        int position = rowsDto.indexOf(rowDto);\n        long countDay = 1;\n\n    if(rowsDto.size()&gt;position+1) {\n//here I get the error\n            countDay = rowsDto.get(position).getDateCY().until(rowsDto.get(position + 1).getDateCY(), ChronoUnit.DAYS);\n\n    }else if(rowsDto.size() == position + 1) {\n        countDay = 7;\n    } \n</code></pre>\n<p>I link a debug image from intellij</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: -1\n    at java.util.ArrayList.elementData(ArrayList.java:422)\n    at java.util.ArrayList.get(ArrayList.java:435)\n    at it.alpitour.initialpricing.topsellers.dashboard.ebhandling.EntryLevelPricesComputer.computeElHotelDailyNetto(EntryLevelPricesComputer.java:125)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByEntryLevelPackage(ElaborazioneElServiceImpl.java:392)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeBy(ElaborazioneElServiceImpl.java:278)\n    at it.alpitour.initialpricing.topsellers.dashboard.elaborazioneel.ElaborazioneElServiceImpl.computeByNoWrapper(ElaborazioneElServiceImpl.java:330)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.computeOtherClustersRows(SaveServiceImpl.java:402)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:270)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.findMaxVersionAndSave(SaveServiceImpl.java:84)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveServiceImpl.save(SaveServiceImpl.java:79)\n    at it.alpitour.initialpricing.topsellers.dashboard.save.SaveController.saveTopSellersDashboard(SaveController.java:61)\n\n</code></pre>\n<p>Any suggestion to avoid this error?</p>\n<p><a href=\"https://i.stack.imgur.com/5eClw.png\" rel=\"nofollow noreferrer\">debug image</a></p>\n<p>if you need Other details don't hesitate to ask.</p>\n"},{"tags":["java","character-encoding"],"answers":[{"comments":[{"owner":{"account_id":465163,"reputation":1125,"user_id":869074,"accept_rate":100,"display_name":"HirofumiTamori"},"score":0,"creation_date":1383205499,"post_id":19294411,"comment_id":29263828,"body_markdown":"As far as the document page http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/content/StringBody.html#StringBody(java.lang.String, org.apache.http.entity.ContentType) says, StringBody(String text, ContentType contentType, Charset charset) is not deprecated in 4.3.x","body":"As far as the document page <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/content/StringBody.html#StringBody(java.lang.String\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/&zwnj;&#8203;&hellip;</a>, org.apache.http.entity.ContentType) says, StringBody(String text, ContentType contentType, Charset charset) is not deprecated in 4.3.x"}],"tags":[],"owner":{"account_id":400146,"reputation":1921,"user_id":765964,"accept_rate":66,"display_name":"Amir.F"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1381404116,"creation_date":1381404116,"answer_id":19294411,"question_id":19292169,"body_markdown":"Solved it :) it turns out that ContentType is now important, and I was sending text that was plain, and also some text that was JSON,\r\n\r\nfor the plain text, you can use:\r\n\r\n    entity.addTextBody(&quot;plain_text&quot;,plain_text,ContentType.TEXT_PLAIN);\r\nand for JSON:\r\n\r\n    entity.addTextBody(&quot;json_text&quot;,json_text,ContentType.APPLICATION_JSON);\r\n\r\nthat way the charset also works on JSON strings (weird, but now OK)","title":"MultipartEntityBuilder and Charset","body":"<p>Solved it :) it turns out that ContentType is now important, and I was sending text that was plain, and also some text that was JSON,</p>\n\n<p>for the plain text, you can use:</p>\n\n<pre><code>entity.addTextBody(\"plain_text\",plain_text,ContentType.TEXT_PLAIN);\n</code></pre>\n\n<p>and for JSON:</p>\n\n<pre><code>entity.addTextBody(\"json_text\",json_text,ContentType.APPLICATION_JSON);\n</code></pre>\n\n<p>that way the charset also works on JSON strings (weird, but now OK)</p>\n"},{"comments":[{"owner":{"account_id":2050686,"reputation":5748,"user_id":1829782,"accept_rate":92,"display_name":"Roman Holzner"},"score":1,"creation_date":1421845749,"post_id":21020435,"comment_id":44515549,"body_markdown":"Above Solution didn&#39;t worked for me, this did (http*-4.3.6.jar). +1","body":"Above Solution didn&#39;t worked for me, this did (http*-4.3.6.jar). +1"},{"owner":{"account_id":876007,"reputation":2193,"user_id":925639,"accept_rate":70,"display_name":"Saqib"},"score":0,"creation_date":1596810308,"post_id":21020435,"comment_id":111939083,"body_markdown":"`ContentType.create(&quot;text/plain&quot;, MIME.UTF8_CHARSET)` worked for me. You are my hero.","body":"<code>ContentType.create(&quot;text&#47;plain&quot;, MIME.UTF8_CHARSET)</code> worked for me. You are my hero."}],"tags":[],"owner":{"account_id":365315,"reputation":598,"user_id":710165,"display_name":"worawee.s"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1418042227,"creation_date":1389270898,"answer_id":21020435,"question_id":19292169,"body_markdown":"    entity.addTextBody(&quot;plain_text&quot;, plain_text);\r\n\r\nwill use the default ContentType.TEXT_PLAIN which look like this...\r\n\r\n    public static final ContentType TEXT_PLAIN = ContentType.create(&quot;text/plain&quot;, Consts.ISO_8859_1);\r\n\r\nwhile ContentType.APPLICATION_JSON is using UTF-8 as below \r\n\r\n    public static final ContentType APPLICATION_JSON = ContentType.create(&quot;application/json&quot;, Consts.UTF_8);\r\n\r\nSo what i did was create our own ContentType like this..\r\n\r\n    entity.addTextBody(&quot;plain_text&quot;, plain_text, ContentType.create(&quot;text/plain&quot;, MIME.UTF8_CHARSET));","title":"MultipartEntityBuilder and Charset","body":"<pre><code>entity.addTextBody(\"plain_text\", plain_text);\n</code></pre>\n\n<p>will use the default ContentType.TEXT_PLAIN which look like this...</p>\n\n<pre><code>public static final ContentType TEXT_PLAIN = ContentType.create(\"text/plain\", Consts.ISO_8859_1);\n</code></pre>\n\n<p>while ContentType.APPLICATION_JSON is using UTF-8 as below </p>\n\n<pre><code>public static final ContentType APPLICATION_JSON = ContentType.create(\"application/json\", Consts.UTF_8);\n</code></pre>\n\n<p>So what i did was create our own ContentType like this..</p>\n\n<pre><code>entity.addTextBody(\"plain_text\", plain_text, ContentType.create(\"text/plain\", MIME.UTF8_CHARSET));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1326139,"reputation":1815,"user_id":1270901,"display_name":"Nevin Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408309832,"creation_date":1408309832,"answer_id":25353643,"question_id":19292169,"body_markdown":"In my case, I setup the contentType first like this\r\n\r\n    ContentType contentType = ContentType.create(\r\n                            HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);\r\n\r\nand when adding pairs , specify the content type like this\r\n\r\n    entityBuilder.addTextBody(&quot;title&quot;,pic.getTitle(),contentType);\r\n\r\nas answered here https://stackoverflow.com/questions/20230242/multipartentitybuilder-and-setcharset-for-utf-8-sends-empty-content/25353597#25353597","title":"MultipartEntityBuilder and Charset","body":"<p>In my case, I setup the contentType first like this</p>\n\n<pre><code>ContentType contentType = ContentType.create(\n                        HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);\n</code></pre>\n\n<p>and when adding pairs , specify the content type like this</p>\n\n<pre><code>entityBuilder.addTextBody(\"title\",pic.getTitle(),contentType);\n</code></pre>\n\n<p>as answered here <a href=\"https://stackoverflow.com/questions/20230242/multipartentitybuilder-and-setcharset-for-utf-8-sends-empty-content/25353597#25353597\">MultipartEntityBuilder and setCharset for UTF-8 sends empty content</a></p>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426160003,"creation_date":1426160003,"answer_id":29008644,"question_id":19292169,"body_markdown":"Please try this for \r\n\r\n&gt; Utf-8:\r\n\r\n    entity.addTextBody(&quot;your text&quot;, stringBuffer.toString(), ContentType.create(&quot;text/plain&quot;, Charset.forName(&quot;UTF-8&quot;)));\r\n","title":"MultipartEntityBuilder and Charset","body":"<p>Please try this for </p>\n\n<blockquote>\n  <p>Utf-8:</p>\n</blockquote>\n\n<pre><code>entity.addTextBody(\"your text\", stringBuffer.toString(), ContentType.create(\"text/plain\", Charset.forName(\"UTF-8\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1475850336,"creation_date":1475850336,"answer_id":39919604,"question_id":19292169,"body_markdown":"For those who say the accepted solution did not work for them (it didn&#39;t for me either), I solved it a different way, using:\r\n\r\n    builder.addTextBody(key, שלום, ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));","title":"MultipartEntityBuilder and Charset","body":"<p>For those who say the accepted solution did not work for them (it didn't for me either), I solved it a different way, using:</p>\n\n<pre><code>builder.addTextBody(key, שלום, ContentType.TEXT_PLAIN.withCharset(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28085282,"reputation":1,"user_id":21455753,"display_name":"Jorge Rionegro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680037265,"creation_date":1679484701,"answer_id":75811707,"question_id":19292169,"body_markdown":"Changing the JSON string to BinaryUTF8 also is another way that works fine:\r\n\r\n```\r\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\r\nmeb.setCharset(java.nio.charset.StandardCharsets.UTF_8);\r\nbyte[] bytes = StringUtils.getBytesUtf8(some_text);\r\nmeb.addBinaryBody(&quot;JSON&quot;, bytes);\r\n```","title":"MultipartEntityBuilder and Charset","body":"<p>Changing the JSON string to BinaryUTF8 also is another way that works fine:</p>\n<pre><code>MultipartEntityBuilder meb = MultipartEntityBuilder.create();\nmeb.setCharset(java.nio.charset.StandardCharsets.UTF_8);\nbyte[] bytes = StringUtils.getBytesUtf8(some_text);\nmeb.addBinaryBody(&quot;JSON&quot;, bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416903,"reputation":11,"user_id":13415524,"display_name":"Kiran Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701644782,"creation_date":1701461228,"answer_id":77587822,"question_id":19292169,"body_markdown":"I solved it in this way, using: `ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;)`.\r\n```\r\nMultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\r\nentityBuilder.addTextBody(&quot;operation&quot;, &quot;postdita&quot;);\r\nentityBuilder.addTextBody(&quot;path&quot;, .getPath(),ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));\r\nentityBuilder.addTextBody(&quot;createrev&quot;, &quot;false&quot;);\r\nentityBuilder.addBinaryBody(&quot;editorData&quot;, file);\r\nentityBuilder.addTextBody(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n```","title":"MultipartEntityBuilder and Charset","body":"<p>I solved it in this way, using: <code>ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;)</code>.</p>\n<pre><code>MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create();\nentityBuilder.addTextBody(&quot;operation&quot;, &quot;postdita&quot;);\nentityBuilder.addTextBody(&quot;path&quot;, .getPath(),ContentType.TEXT_PLAIN.withCharset(&quot;UTF-8&quot;));\nentityBuilder.addTextBody(&quot;createrev&quot;, &quot;false&quot;);\nentityBuilder.addBinaryBody(&quot;editorData&quot;, file);\nentityBuilder.addTextBody(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n</code></pre>\n"}],"owner":{"account_id":400146,"reputation":1921,"user_id":765964,"accept_rate":66,"display_name":"Amir.F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20361,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":19294411,"answer_count":7,"score":25,"last_activity_date":1701644782,"creation_date":1381397790,"question_id":19292169,"body_markdown":"I upgraded my httpmime package, and now my strings are not sent or received as UTF-8\r\n\r\n    MultipartEntityBuilder entity = MultipartEntityBuilder.create();\r\n    Charset chars = Charset.forName(&quot;UTF-8&quot;);\r\n    entity.setCharset(chars);\r\n    entity.addTextBody(&quot;some_text&quot;, some_text);\r\n    \r\n    HttpPost httppost = new HttpPost(url); \r\n    httppost.setEntity(entity.build());\r\n    ...and so on..\r\n\r\nwhat am I missing?\r\nI used to build a StringBody and set the charset in the stringbody, but that is deprecated now, and it just doesn&#39;t seem to work","title":"MultipartEntityBuilder and Charset","body":"<p>I upgraded my httpmime package, and now my strings are not sent or received as UTF-8</p>\n\n<pre><code>MultipartEntityBuilder entity = MultipartEntityBuilder.create();\nCharset chars = Charset.forName(\"UTF-8\");\nentity.setCharset(chars);\nentity.addTextBody(\"some_text\", some_text);\n\nHttpPost httppost = new HttpPost(url); \nhttppost.setEntity(entity.build());\n...and so on..\n</code></pre>\n\n<p>what am I missing?\nI used to build a StringBody and set the charset in the stringbody, but that is deprecated now, and it just doesn't seem to work</p>\n"},{"tags":["java","return","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362639610,"creation_date":1362639610,"answer_id":15265014,"question_id":15264977,"body_markdown":"You have to add `break;` statement at the end of your each `case`. See the tutorial [here](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)","title":"Using Return and Switch in Java with the area of shapes","body":"<p>You have to add <code>break;</code> statement at the end of your each <code>case</code>. See the tutorial <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"score":0,"creation_date":1362640075,"post_id":15265025,"comment_id":21532426,"body_markdown":"Thanks, that helped. But I still can&#39;t get the area to display for rectangle or triangle.","body":"Thanks, that helped. But I still can&#39;t get the area to display for rectangle or triangle."},{"owner":{"account_id":2436812,"reputation":2232,"user_id":2126510,"display_name":"Breavyn"},"score":0,"creation_date":1362640220,"post_id":15265025,"comment_id":21532493,"body_markdown":"check your printf statements. you forgot &quot;%.3f\\n&quot;","body":"check your printf statements. you forgot &quot;%.3f\\n&quot;"},{"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"score":0,"creation_date":1362640548,"post_id":15265025,"comment_id":21532603,"body_markdown":"Thanks, the %f\\n was what I was missing","body":"Thanks, the %f\\n was what I was missing"}],"tags":[],"owner":{"account_id":2436812,"reputation":2232,"user_id":2126510,"display_name":"Breavyn"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362641019,"creation_date":1362639651,"answer_id":15265025,"question_id":15264977,"body_markdown":"You need to add a `break` statement after each case.\r\n\r\n    case 1: {\r\n        doStuff();\r\n        break;\r\n    }\r\n\r\nAlso you forgot to add\r\n\r\n    &quot;%.3f\\n&quot;\r\n\r\nto your printf statements for case 2 and 3","title":"Using Return and Switch in Java with the area of shapes","body":"<p>You need to add a <code>break</code> statement after each case.</p>\n\n<pre><code>case 1: {\n    doStuff();\n    break;\n}\n</code></pre>\n\n<p>Also you forgot to add</p>\n\n<pre><code>\"%.3f\\n\"\n</code></pre>\n\n<p>to your printf statements for case 2 and 3</p>\n"},{"tags":[],"owner":{"account_id":28782250,"reputation":1,"user_id":22043608,"display_name":"Ankita Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701641016,"creation_date":1701641016,"answer_id":77596324,"question_id":15264977,"body_markdown":"    public static double getUserInput( ) {\r\n            double inp;\r\n            do {\r\n                System.out.println(&quot;Enter input&quot;);\r\n                 inp=scan.nextInt();\r\n            }while(inp&lt;=0);\r\n            return inp;\r\n        }\r\n\r\nuse this for user input for all  positive nos.Here is complete code\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\n    public class AreaCalculator {\r\n      static  Scanner scan;\r\n        \r\n        public static void main(String[] args) {\r\n            int choice;\r\n            int counter=0;\r\n            do{\r\n            System.out.println(&quot;1) Triangle\\n&quot; +\r\n    &quot;2) Square\\n&quot; +\r\n    &quot;3) Rectangle\\n&quot; +\r\n    &quot;4) Circle\\n&quot; +\r\n    &quot;5) Quit\\n&quot; );\r\n            \r\n           // System.out.println(&quot;Enter your choice from the menu:&quot;);\r\n     scan=new Scanner(System.in);\r\n            do{\r\n                System.out.println(&quot;Enter your choice from the menu:&quot;);\r\n             choice=   scan.nextInt(); \r\n              //  System.out.println(&quot;Enter valid choice&quot;);\r\n            } while(choice&lt;1||choice&gt;5);\r\n            switch(choice)\r\n            {\r\n                case 1:System.out.println(&quot;u chose Triangle&quot;);\r\n                    System.out.println(&quot;Enter base&quot;);\r\n             // double   base=scan.nextInt();\r\n                    double base=getUserInput();\r\n                              System.out.println(&quot;Enter height&quot;);\r\n            //  double  height=scan.nextInt();\r\n                              double  height=getUserInput();\r\n             // boolean valid=true;\r\n          // boolean valid=    errorTrap(base, height);\r\n           \r\n       double area=        triangleArea(base,height);\r\n       System.out.print(&quot;Area is &quot;+area);\r\n           \r\n                continue;\r\n                case 2:System.out.println(&quot;u chose Square.Enter Side of square&quot;);\r\n            double side=getUserInput();\r\n            double SquareArea=squareArea(side);\r\n                    System.out.println(&quot;Area of square is&quot;+SquareArea);\r\n         \r\n                continue;\r\n                case 3:System.out.println(&quot;u chose Rectange.Enter Length of rect&quot;);\r\n                double length=getUserInput();\r\n                System.out.println(&quot;Enter width of rect&quot;);\r\n                double width=getUserInput();\r\n             double rectArea=   rectangleArea(length,width);\r\n             System.out.println(&quot;Area of rectangle is&quot;+rectArea);\r\n    \r\n                continue;\r\n                case 4:System.out.println(&quot;u chose Circle.Enter circle radius&quot;);\r\n                double radius=getUserInput();\r\n                double circleArea= circleArea(radius);\r\n                    System.out.println(&quot;Area of Circle is &quot;+circleArea);\r\n                continue;\r\n                case 5:System.out.print(&quot;u chose exit&quot;); scan.close();System.exit(0);\r\n                default:System.out.print(&quot;Invalid&quot;);\r\n                \r\n            }\r\n            counter++;\r\n            }while(counter&lt;1);\r\n            \r\n            scan.close();\r\n            \r\n        }//main\r\n        public static double triangleArea(double base, double height){\r\n            double area=0.5 * base *height;\r\n            return area;\r\n        }\r\n        \r\n         public static double squareArea(double side){\r\n            double area=side*side;\r\n            return area;\r\n        }\r\n         \r\n         public static double rectangleArea(double length, double breadth){\r\n            double area=length*breadth;\r\n            return area;\r\n        }\r\n         \r\n         public static double circleArea(double radius){\r\n            double area=Math.PI*radius;\r\n            return area;\r\n        }\r\n    \r\n    \r\n        public static double getUserInput( ) {\r\n            double inp;\r\n            do {\r\n                System.out.println(&quot;Enter input&quot;);\r\n                 inp=scan.nextInt();\r\n            }while(inp&lt;=0);\r\n            return inp;\r\n        }\r\n    }\r\n\r\n","title":"Using Return and Switch in Java with the area of shapes","body":"<pre><code>public static double getUserInput( ) {\n        double inp;\n        do {\n            System.out.println(&quot;Enter input&quot;);\n             inp=scan.nextInt();\n        }while(inp&lt;=0);\n        return inp;\n    }\n</code></pre>\n<p>use this for user input for all  positive nos.Here is complete code</p>\n<p>import java.util.Scanner;</p>\n<pre><code>public class AreaCalculator {\n  static  Scanner scan;\n    \n    public static void main(String[] args) {\n        int choice;\n        int counter=0;\n        do{\n        System.out.println(&quot;1) Triangle\\n&quot; +\n&quot;2) Square\\n&quot; +\n&quot;3) Rectangle\\n&quot; +\n&quot;4) Circle\\n&quot; +\n&quot;5) Quit\\n&quot; );\n        \n       // System.out.println(&quot;Enter your choice from the menu:&quot;);\n scan=new Scanner(System.in);\n        do{\n            System.out.println(&quot;Enter your choice from the menu:&quot;);\n         choice=   scan.nextInt(); \n          //  System.out.println(&quot;Enter valid choice&quot;);\n        } while(choice&lt;1||choice&gt;5);\n        switch(choice)\n        {\n            case 1:System.out.println(&quot;u chose Triangle&quot;);\n                System.out.println(&quot;Enter base&quot;);\n         // double   base=scan.nextInt();\n                double base=getUserInput();\n                          System.out.println(&quot;Enter height&quot;);\n        //  double  height=scan.nextInt();\n                          double  height=getUserInput();\n         // boolean valid=true;\n      // boolean valid=    errorTrap(base, height);\n       \n   double area=        triangleArea(base,height);\n   System.out.print(&quot;Area is &quot;+area);\n       \n            continue;\n            case 2:System.out.println(&quot;u chose Square.Enter Side of square&quot;);\n        double side=getUserInput();\n        double SquareArea=squareArea(side);\n                System.out.println(&quot;Area of square is&quot;+SquareArea);\n     \n            continue;\n            case 3:System.out.println(&quot;u chose Rectange.Enter Length of rect&quot;);\n            double length=getUserInput();\n            System.out.println(&quot;Enter width of rect&quot;);\n            double width=getUserInput();\n         double rectArea=   rectangleArea(length,width);\n         System.out.println(&quot;Area of rectangle is&quot;+rectArea);\n\n            continue;\n            case 4:System.out.println(&quot;u chose Circle.Enter circle radius&quot;);\n            double radius=getUserInput();\n            double circleArea= circleArea(radius);\n                System.out.println(&quot;Area of Circle is &quot;+circleArea);\n            continue;\n            case 5:System.out.print(&quot;u chose exit&quot;); scan.close();System.exit(0);\n            default:System.out.print(&quot;Invalid&quot;);\n            \n        }\n        counter++;\n        }while(counter&lt;1);\n        \n        scan.close();\n        \n    }//main\n    public static double triangleArea(double base, double height){\n        double area=0.5 * base *height;\n        return area;\n    }\n    \n     public static double squareArea(double side){\n        double area=side*side;\n        return area;\n    }\n     \n     public static double rectangleArea(double length, double breadth){\n        double area=length*breadth;\n        return area;\n    }\n     \n     public static double circleArea(double radius){\n        double area=Math.PI*radius;\n        return area;\n    }\n\n\n    public static double getUserInput( ) {\n        double inp;\n        do {\n            System.out.println(&quot;Enter input&quot;);\n             inp=scan.nextInt();\n        }while(inp&lt;=0);\n        return inp;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2389416,"reputation":25,"user_id":2089584,"display_name":"Champigne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15265025,"answer_count":3,"score":0,"last_activity_date":1701641016,"creation_date":1362639474,"question_id":15264977,"body_markdown":"Trying to write a program that prompts a user to select circle, rectangle, or triangle, then ask for the corresponding dimensions, and then displays the area to the user.\r\n\r\nI used some instances of returns and switches, and I think that&#39;s where I messed up.\r\n\r\n    package shapearea;\r\n\r\n    import java.util.Scanner; //global scanner\r\n\r\n\r\n    public class ShapeArea {     \r\n        public static void main(String[] args) {\r\n           int menuOption;\r\n           double area;\r\n       \r\n       menuOption = showMenu();\r\n       area = processShapeOption(menuOption); \r\n       displayArea(area, menuOption);\r\n        \r\n        \r\n    }//end main\r\n   \r\n    public static void displayArea(double area, int menuOption) {\r\n       switch (menuOption) {\r\n           case 1: System.out.printf(&quot;The area of the circle is: %.3f\\n &quot;, area);\r\n              break; \r\n           case 2: System.out.printf(&quot;The area of the rectangle is: &quot;, area);\r\n               break;\r\n           case 3: System.out.printf(&quot;The area of the triangle is: &quot;, area);\r\n               break;\r\n       }//end switch\r\n       \r\n       \r\n       \r\n       }//end displayArea\r\n       public static int showMenu() {\r\n           Scanner scan = new Scanner(System.in);\r\n           int menuOption;\r\n       \r\n           System.out.println(&quot;1. circle&quot;);\r\n           System.out.println(&quot;2. rectangle&quot;);\r\n           System.out.println(&quot;3. triangle&quot;);\r\n           System.out.print(&quot;enter choice:&quot;);\r\n           menuOption = scan.nextInt();\r\n       \r\n           return menuOption;\r\n       }//end showMenu\r\n   \r\n       public static double processShapeOption(int menuOption) {\r\n           double area = 0;\r\n           switch(menuOption){\r\n               case 1: double radius = getDimension(&quot;radius&quot;);\r\n                       area = calculateCircleArea(radius);\r\n\r\n                  break;\r\n           \r\n               case 2: double length = getDimension(&quot;length&quot;),\r\n                          width = getDimension(&quot;width&quot;);\r\n                       area = areaOfRectangle(length, width);\r\n               break;\r\n\r\n               case 3: double base = getDimension(&quot;base&quot;),\r\n                          height = getDimension(&quot;height&quot;);\r\n                       area = areaOfTriangle(base, height);\r\n               \r\n               break;\r\n               \r\n                  \r\n       }//end switch\r\n       \r\n       return area;     \r\n    }//end processShapeOption\r\n   \r\n    public static double getDimension(String dimensionType) {\r\n       double dimension;\r\n       Scanner scan = new Scanner(System.in);\r\n       System.out.print(&quot;Enter the &quot; + dimensionType + &quot;:&quot;);\r\n       dimension = scan.nextDouble();\r\n       \r\n       return dimension;\r\n       \r\n       }//end getDimension\r\n   \r\n       public static double calculateCircleArea(double radius) {\r\n       double area;\r\n       \r\n       area = Math.PI * Math.pow(radius, 2);\r\n       \r\n       return area;\r\n    }//end calculateCircleArea\r\n   \r\n    public static double areaOfRectangle(double width, double length) {\r\n       double area;\r\n       \r\n       area = width * length;\r\n       \r\n       return area;\r\n    }//end areaOfRectangle\r\n   \r\n    public static double areaOfTriangle(double height, double base) {\r\n       double area;\r\n       \r\n       area = .5 * base * height;\r\n       \r\n       return area;\r\n    }\r\n   \r\n    }//end class\r\n\r\n\r\nThe part with calculating circle area works fine, but when I select rectangle it goes on to ask for triangle dimensions in addition to rectangle ones, and fails to display the area. \r\n\r\nEdit: Added breaks","title":"Using Return and Switch in Java with the area of shapes","body":"<p>Trying to write a program that prompts a user to select circle, rectangle, or triangle, then ask for the corresponding dimensions, and then displays the area to the user.</p>\n\n<p>I used some instances of returns and switches, and I think that's where I messed up.</p>\n\n<pre><code>package shapearea;\n\nimport java.util.Scanner; //global scanner\n\n\npublic class ShapeArea {     \n    public static void main(String[] args) {\n       int menuOption;\n       double area;\n\n   menuOption = showMenu();\n   area = processShapeOption(menuOption); \n   displayArea(area, menuOption);\n\n\n}//end main\n\npublic static void displayArea(double area, int menuOption) {\n   switch (menuOption) {\n       case 1: System.out.printf(\"The area of the circle is: %.3f\\n \", area);\n          break; \n       case 2: System.out.printf(\"The area of the rectangle is: \", area);\n           break;\n       case 3: System.out.printf(\"The area of the triangle is: \", area);\n           break;\n   }//end switch\n\n\n\n   }//end displayArea\n   public static int showMenu() {\n       Scanner scan = new Scanner(System.in);\n       int menuOption;\n\n       System.out.println(\"1. circle\");\n       System.out.println(\"2. rectangle\");\n       System.out.println(\"3. triangle\");\n       System.out.print(\"enter choice:\");\n       menuOption = scan.nextInt();\n\n       return menuOption;\n   }//end showMenu\n\n   public static double processShapeOption(int menuOption) {\n       double area = 0;\n       switch(menuOption){\n           case 1: double radius = getDimension(\"radius\");\n                   area = calculateCircleArea(radius);\n\n              break;\n\n           case 2: double length = getDimension(\"length\"),\n                      width = getDimension(\"width\");\n                   area = areaOfRectangle(length, width);\n           break;\n\n           case 3: double base = getDimension(\"base\"),\n                      height = getDimension(\"height\");\n                   area = areaOfTriangle(base, height);\n\n           break;\n\n\n   }//end switch\n\n   return area;     \n}//end processShapeOption\n\npublic static double getDimension(String dimensionType) {\n   double dimension;\n   Scanner scan = new Scanner(System.in);\n   System.out.print(\"Enter the \" + dimensionType + \":\");\n   dimension = scan.nextDouble();\n\n   return dimension;\n\n   }//end getDimension\n\n   public static double calculateCircleArea(double radius) {\n   double area;\n\n   area = Math.PI * Math.pow(radius, 2);\n\n   return area;\n}//end calculateCircleArea\n\npublic static double areaOfRectangle(double width, double length) {\n   double area;\n\n   area = width * length;\n\n   return area;\n}//end areaOfRectangle\n\npublic static double areaOfTriangle(double height, double base) {\n   double area;\n\n   area = .5 * base * height;\n\n   return area;\n}\n\n}//end class\n</code></pre>\n\n<p>The part with calculating circle area works fine, but when I select rectangle it goes on to ask for triangle dimensions in addition to rectangle ones, and fails to display the area. </p>\n\n<p>Edit: Added breaks</p>\n"},{"tags":["java","generics","arraylist"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701639790,"post_id":77596264,"comment_id":136797840,"body_markdown":"Probably because `MyArrayList` does not implement `Iterable&lt;T&gt;`.  Without showing the code for `MyArrayList` nobody can help you.","body":"Probably because <code>MyArrayList</code> does not implement <code>Iterable&lt;T&gt;</code>.  Without showing the code for <code>MyArrayList</code> nobody can help you."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701639792,"post_id":77596264,"comment_id":136797841,"body_markdown":"You class does not extend `ArrayList`. In order to provide the possibility to use instances of your class in a `foreach`-loop, the class must implement the [`Iterable` interface (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html).","body":"You class does not extend <code>ArrayList</code>. In order to provide the possibility to use instances of your class in a <code>foreach</code>-loop, the class must implement the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code> interface (<code>docs.oracle.com</code>)</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701640913,"creation_date":1701640913,"answer_id":77596321,"question_id":77596264,"body_markdown":"```\r\npublic class MyArrayList &lt;T extends ArrayList&gt; {\r\n```\r\n\r\nThat does not mean your class extends arraylist.\r\n\r\nThat means your class says: For every type reference of this type (such as when you declare a method that accepts a `MyArrayList`, or you make a variable of type `MyArrayList` - any time you mention &#39;MyArrayList&#39;, the type), there is a type parameter. It means - whatever you want it to mean (generally for lists one would think it means: &quot;The type of the thing I am meant to hold&quot; - that&#39;s what it means with `java.util.ArrayList` - an `ArrayList&lt;String&gt;` is an array list that holds string objects).\r\n\r\nSpecifically, we shall call that type, whatever it happens to be, &#39;T&#39;, and we shall also restrict it: It must be either `ArrayList` or some subtype of it. Specifically, the raw arraylist type (you really don&#39;t want that).\r\n\r\nIn other words, it says whenever somebody _uses_ this class, their choice of T must extend ArrayList.\r\n\r\nType variables do nothing on their own. You&#39;ve just declared that any use of your type will mean the user picks some type T. Okay. If you do nothing with it, that&#39;s not going to mean anything.\r\n\r\nPresumably what you&#39;re looking for is this:\r\n\r\n```\r\npublic class MyArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {}\r\n```\r\n\r\nThis says:\r\n\r\n* Anytime `MyArrayList` is used as a type, the user must pick some type which we shall call &#39;T&#39;; each use picks their own T, so we don&#39;t know what T is - we write code for __all__ users, so, T is everything all at once. It&#39;s a meta-type.\r\n* We extend `ArrayList`. Hey - we are __using__ ArrayList as a type, and ArrayList demands we pick a type!\r\n* We pick &#39;T&#39;. Our T. Note that the syntax is identical (`&lt;T&gt;` in both cases), but they represent different things. The first `&lt;T&gt;` _declares a type variable_. The second `&lt;T&gt;` uses it. We say that our class extends `ArrayList&lt;T&gt;` where T is whatever the user of our class picked.\r\n\r\nYour class would now extend `ArrayList`, and `ArrayList`, in turn, implements `Iterable&lt;T&gt;`. You must implement Iterable if you want an expression of your type to be usable in the &#39;collection&#39; position in `for (SomeType variableName : collection) {}`. Your snippet doesn&#39;t (it doesn&#39;t extend anything - only its T does which has no effect on your own type) - with this fix, it does.","title":"Why do I get this error when attempting to generics to implement a custom ArrayList?","body":"<pre><code>public class MyArrayList &lt;T extends ArrayList&gt; {\n</code></pre>\n<p>That does not mean your class extends arraylist.</p>\n<p>That means your class says: For every type reference of this type (such as when you declare a method that accepts a <code>MyArrayList</code>, or you make a variable of type <code>MyArrayList</code> - any time you mention 'MyArrayList', the type), there is a type parameter. It means - whatever you want it to mean (generally for lists one would think it means: &quot;The type of the thing I am meant to hold&quot; - that's what it means with <code>java.util.ArrayList</code> - an <code>ArrayList&lt;String&gt;</code> is an array list that holds string objects).</p>\n<p>Specifically, we shall call that type, whatever it happens to be, 'T', and we shall also restrict it: It must be either <code>ArrayList</code> or some subtype of it. Specifically, the raw arraylist type (you really don't want that).</p>\n<p>In other words, it says whenever somebody <em>uses</em> this class, their choice of T must extend ArrayList.</p>\n<p>Type variables do nothing on their own. You've just declared that any use of your type will mean the user picks some type T. Okay. If you do nothing with it, that's not going to mean anything.</p>\n<p>Presumably what you're looking for is this:</p>\n<pre><code>public class MyArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {}\n</code></pre>\n<p>This says:</p>\n<ul>\n<li>Anytime <code>MyArrayList</code> is used as a type, the user must pick some type which we shall call 'T'; each use picks their own T, so we don't know what T is - we write code for <strong>all</strong> users, so, T is everything all at once. It's a meta-type.</li>\n<li>We extend <code>ArrayList</code>. Hey - we are <strong>using</strong> ArrayList as a type, and ArrayList demands we pick a type!</li>\n<li>We pick 'T'. Our T. Note that the syntax is identical (<code>&lt;T&gt;</code> in both cases), but they represent different things. The first <code>&lt;T&gt;</code> <em>declares a type variable</em>. The second <code>&lt;T&gt;</code> uses it. We say that our class extends <code>ArrayList&lt;T&gt;</code> where T is whatever the user of our class picked.</li>\n</ul>\n<p>Your class would now extend <code>ArrayList</code>, and <code>ArrayList</code>, in turn, implements <code>Iterable&lt;T&gt;</code>. You must implement Iterable if you want an expression of your type to be usable in the 'collection' position in <code>for (SomeType variableName : collection) {}</code>. Your snippet doesn't (it doesn't extend anything - only its T does which has no effect on your own type) - with this fix, it does.</p>\n"}],"owner":{"account_id":27769831,"reputation":17,"user_id":21200315,"display_name":"fadedExplorer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77596321,"answer_count":1,"score":-1,"last_activity_date":1701640913,"creation_date":1701639390,"question_id":77596264,"body_markdown":"I am attempting to implement an sub class that extends ArrayList. This class should print the elements of an array.\r\n\r\n   \r\n\r\n import java.util.ArrayList;\r\n    \r\n    public class MyArrayList &lt;T extends ArrayList&gt; {\r\n        public void  display (MyArrayList&lt;T&gt; processList) {\r\n            for (T element : processList) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHowever this code gives me the error:\r\n foreach not applicable to type &#39;MyArrayList&lt;T&gt;&#39;\r\n\r\nI&#39;m not sure why?\r\n\r\nI tried making the parameter type a wildcard however this did not resolve the issue.\r\nEDIT: This class is extending ArrayList and the full class is shown (although for some reason the &quot;public class MyArrayList &lt;T extends ArrayList&gt;&quot; does not seem to be showing properly. The error is specific the for loop for &#39;processList&#39;.\r\n","title":"Why do I get this error when attempting to generics to implement a custom ArrayList?","body":"<p>I am attempting to implement an sub class that extends ArrayList. This class should print the elements of an array.</p>\n<p>import java.util.ArrayList;</p>\n<pre><code>public class MyArrayList &lt;T extends ArrayList&gt; {\n    public void  display (MyArrayList&lt;T&gt; processList) {\n        for (T element : processList) {\n\n        }\n    }\n}\n</code></pre>\n<p>However this code gives me the error:\nforeach not applicable to type 'MyArrayList'</p>\n<p>I'm not sure why?</p>\n<p>I tried making the parameter type a wildcard however this did not resolve the issue.\nEDIT: This class is extending ArrayList and the full class is shown (although for some reason the &quot;public class MyArrayList &quot; does not seem to be showing properly. The error is specific the for loop for 'processList'.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1701640525,"post_id":77596242,"comment_id":136797897,"body_markdown":"Hint: Before the split-and-reverse, find the trailing spaces and save them off as a separate variable. There are a few ways you could do that, but I&#39;d encourage you to think a bit how you would do it. If you&#39;re having trouble, try putting the &quot;how do I do it in Java&quot; question aside and think of how _you_ would do it. Someone gives you a bunch of stickies, each with one character: `H` `e` `l`... etc. They ask you to perform the task you&#39;ve described. Would you be able to do it (I&#39;m guessing yes)? If so, think about what you&#39;re doing. That&#39;ll translate to code pretty easily.","body":"Hint: Before the split-and-reverse, find the trailing spaces and save them off as a separate variable. There are a few ways you could do that, but I&#39;d encourage you to think a bit how you would do it. If you&#39;re having trouble, try putting the &quot;how do I do it in Java&quot; question aside and think of how <i>you</i> would do it. Someone gives you a bunch of stickies, each with one character: <code>H</code> <code>e</code> <code>l</code>... etc. They ask you to perform the task you&#39;ve described. Would you be able to do it (I&#39;m guessing yes)? If so, think about what you&#39;re doing. That&#39;ll translate to code pretty easily."}],"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1701640853,"answer_count":0,"score":-1,"last_activity_date":1701640343,"creation_date":1701638909,"question_id":77596242,"body_markdown":"I am trying to reverse a string while preserving (and reversing trailing spaces). For instance:\r\n\r\nInput: \r\n`Hello my name is John.   `\r\n\r\nOutput:\r\n`   John. is name my Hello`\r\n\r\nI have attempted to do so with the following code:\r\n\r\n        String[] arrOfString = string.split(&quot; &quot;);\r\n        StringBuilder builder = new StringBuilder(&quot;&quot;);\r\n\r\n        for(int i = arrOfString.length-1; i &gt;= 0;i--){\r\n            System.out.println(arrOfString[i]);\r\n            builder.append(arrOfString[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(builder.toString());\r\n        return builder.toString().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;);\r\n\r\n\r\nHowever, it looks like because I&#39;m doing a string.split with spaces up front it&#39;s not preserving the trailing spaces. Any advice is appreciated. Thank you!","title":"How to reverse a sentence and preserve trailing spaces in Java?","body":"<p>I am trying to reverse a string while preserving (and reversing trailing spaces). For instance:</p>\n<p>Input:\n<code>Hello my name is John.   </code></p>\n<p>Output:\n<code>   John. is name my Hello</code></p>\n<p>I have attempted to do so with the following code:</p>\n<pre><code>    String[] arrOfString = string.split(&quot; &quot;);\n    StringBuilder builder = new StringBuilder(&quot;&quot;);\n\n    for(int i = arrOfString.length-1; i &gt;= 0;i--){\n        System.out.println(arrOfString[i]);\n        builder.append(arrOfString[i]+&quot; &quot;);\n    }\n    System.out.println(builder.toString());\n    return builder.toString().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;);\n</code></pre>\n<p>However, it looks like because I'm doing a string.split with spaces up front it's not preserving the trailing spaces. Any advice is appreciated. Thank you!</p>\n"},{"tags":["java","classloader","guice","james"],"answers":[{"comments":[{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1692748037,"post_id":76944786,"comment_id":135665973,"body_markdown":"Thank you! This gives me a starting point. I will look into extending their classloader and see if there&#39;s a way to tell the James server to use my custom class instead. The only hard part is I can&#39;t find anywhere in the documentation that would indicate this as supported out of the box. :(","body":"Thank you! This gives me a starting point. I will look into extending their classloader and see if there&#39;s a way to tell the James server to use my custom class instead. The only hard part is I can&#39;t find anywhere in the documentation that would indicate this as supported out of the box. :("},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1692748438,"post_id":76944786,"comment_id":135666005,"body_markdown":"I think you&#39;re right that the only solution would be to compile a custom version of James with the modified loader. It doesn&#39;t look like there&#39;s any simple way to swap in my own implementation. That&#39;s frustrating. I was so close to having the perfect little embedded mail server application.","body":"I think you&#39;re right that the only solution would be to compile a custom version of James with the modified loader. It doesn&#39;t look like there&#39;s any simple way to swap in my own implementation. That&#39;s frustrating. I was so close to having the perfect little embedded mail server application."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692782841,"post_id":76944786,"comment_id":135670096,"body_markdown":"@TheFunk I understand your frustration. It might be possible to use reflection to access and modify the `ExtendedClassLoader` instance within James after it has been instantiated. That is a very hacky approach and is likely to be fragile, but in certain cases, it might be an option.","body":"@TheFunk I understand your frustration. It might be possible to use reflection to access and modify the <code>ExtendedClassLoader</code> instance within James after it has been instantiated. That is a very hacky approach and is likely to be fragile, but in certain cases, it might be an option."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692782855,"post_id":76944786,"comment_id":135670099,"body_markdown":"@TheFunk Or, if you can isolate your custom hooks into a separate module within your project, you might be able to package that module as a separate jar and place it in the expected `extensions-jars/` directory. You could still depend on that jar within your main project, so the classes would be available both to James and to your application code.","body":"@TheFunk Or, if you can isolate your custom hooks into a separate module within your project, you might be able to package that module as a separate jar and place it in the expected <code>extensions-jars&#47;</code> directory. You could still depend on that jar within your main project, so the classes would be available both to James and to your application code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692904945,"post_id":76944786,"comment_id":135691544,"body_markdown":"A `URLClassLoader` follows the standard parent delegation model. Since `getClass().getClassLoader()` is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched. Merging `currentClasspath` with `extensionUrls` has no effect.","body":"A <code>URLClassLoader</code> follows the standard parent delegation model. Since <code>getClass().getClassLoader()</code> is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched. Merging <code>currentClasspath</code> with <code>extensionUrls</code> has no effect."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692905897,"post_id":76944786,"comment_id":135691721,"body_markdown":"@Holger I see... would a potential workaround be to build the custom hooks as a separate jar and place that jar in the `extensions-jars/` directory as per James&#39;s expected configuration? You could then also include that jar as a dependency in your Maven project, ensuring that the classes are available both to James (through the `ExtendedClassLoader`) and to the rest of your application code.","body":"@Holger I see... would a potential workaround be to build the custom hooks as a separate jar and place that jar in the <code>extensions-jars&#47;</code> directory as per James&#39;s expected configuration? You could then also include that jar as a dependency in your Maven project, ensuring that the classes are available both to James (through the <code>ExtendedClassLoader</code>) and to the rest of your application code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692906532,"post_id":76944786,"comment_id":135691823,"body_markdown":"I’m not sure what problem this approach was supposed to solve. As said, a class loader set up this way *will* find the classes of the parent loader. So while the linked documentation says that the intended deployment of custom hooks are `jar` files inside the `conf/lib` directory, it doesn’t mean that custom hooks implemented in the parent loader wouldn’t work (If they don’t, we need more information about this environment).","body":"I’m not sure what problem this approach was supposed to solve. As said, a class loader set up this way <i>will</i> find the classes of the parent loader. So while the linked documentation says that the intended deployment of custom hooks are <code>jar</code> files inside the <code>conf&#47;lib</code> directory, it doesn’t mean that custom hooks implemented in the parent loader wouldn’t work (If they don’t, we need more information about this environment)."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692906938,"post_id":76944786,"comment_id":135691910,"body_markdown":"@Holger OK. I will wait for the OP&#39;s feedback, then I realize I did mention `URLClassLoader` in a 2008(!) answer &quot;[How do you change the CLASSPATH within Java?](https://stackoverflow.com/a/252967/6309)&quot;.","body":"@Holger OK. I will wait for the OP&#39;s feedback, then I realize I did mention <code>URLClassLoader</code> in a 2008(!) answer &quot;<a href=\"https://stackoverflow.com/a/252967/6309\">How do you change the CLASSPATH within Java?</a>&quot;."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1692917067,"post_id":76944786,"comment_id":135693466,"body_markdown":"@Holger I get a class not found error when referencing classes in the XML config from the parent project, however the default James hooks work as expected. I realized my working directory for the server is configured as my resources folder. I&#39;m wondering if maybe that&#39;s wrong.  The project itself is a typical maven project.","body":"@Holger I get a class not found error when referencing classes in the XML config from the parent project, however the default James hooks work as expected. I realized my working directory for the server is configured as my resources folder. I&#39;m wondering if maybe that&#39;s wrong.  The project itself is a typical maven project."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1692917341,"post_id":76944786,"comment_id":135693500,"body_markdown":"@VonC I could add the hooks into their own JAR but that would require a bit of doing. If I can&#39;t get the James server to find my classes that might be the best option.","body":"@VonC I could add the hooks into their own JAR but that would require a bit of doing. If I can&#39;t get the James server to find my classes that might be the best option."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692956232,"post_id":76944786,"comment_id":135698227,"body_markdown":"@TheFunk OK, let me know how it goes for you.","body":"@TheFunk OK, let me know how it goes for you."},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1701622084,"post_id":76944786,"comment_id":136795996,"body_markdown":"@VonC sorry for the long delay in response but I just wanted to let you all know I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance is able to see them.\n\nI was never able to get James to see the classes when they were in the parent project. The parent project was a simple Quarkus application following, almost to the letter, the docs for configuring embedded Apache James with everything configured to be &quot;in memory&quot;. https://james.apache.org/howTo/custom-james-assembly.html","body":"@VonC sorry for the long delay in response but I just wanted to let you all know I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance is able to see them.  I was never able to get James to see the classes when they were in the parent project. The parent project was a simple Quarkus application following, almost to the letter, the docs for configuring embedded Apache James with everything configured to be &quot;in memory&quot;. <a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">james.apache.org/howTo/custom-james-assembly.html</a>"},{"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"score":0,"creation_date":1701622168,"post_id":76944786,"comment_id":136796007,"body_markdown":"@Holger you had been asking for more details as well....","body":"@Holger you had been asking for more details as well...."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1701640306,"post_id":76944786,"comment_id":136797883,"body_markdown":"@TheFunk Thank you for the feedback. I have included your conclusion in the answer for more visibility.","body":"@TheFunk Thank you for the feedback. I have included your conclusion in the answer for more visibility."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":14,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701640286,"creation_date":1692616602,"answer_id":76944786,"question_id":76925861,"body_markdown":"&gt; Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?\r\n\r\n&quot;modify the classloader&quot;? ... not without re-compiling the [`apache/james-project`](https://github.com/apache/james-project) itself, I would presume.\r\n\r\n[Apache James](https://james.apache.org/) likely uses a dedicated component for classloading, which could be based on Java&#39;s [URLClassLoader](https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/net/URLClassLoader.html) or a similar class.  \r\nI can see [`org.apache.james.utils.ExtendedClassLoader `](https://github.com/apache/james-project/blob/38ed64d6fc68b4e076d421c459b9217c28001d71/server/container/guice/utils/src/main/java/org/apache/james/utils/ExtendedClassLoader.java#L44)\r\n\r\nYou would need to modify it to check the current application classpath (where your Quarkus app and embedded James reside) in addition to or instead of the `conf/lib` directory.  \r\nThen, after making the changes, you will need to recompile James and integrate the custom version with your Quarkus application.\r\n\r\nThe XML configurations you have for server implementations will not need to change because of these modifications. The XML file merely instructs James on what class to instantiate and possibly initialize. By modifying the classloading behavior, you are just changing where James looks for these classes. The XML stays the same because it references classes by their fully qualified names, not their locations.\r\n\r\nI initially propose an updated code for `ExtendedClassLoader`, but, as noted by [Holger](https://stackoverflow.com/users/2711488/holger) in [the comments](https://stackoverflow.com/questions/76925861/modify-embedded-apache-james-classloader-to-allow-for-custom-hooks-in-same-proje/76944786?noredirect=1#comment135691544_76944786):\r\n\r\n&gt; A `URLClassLoader` follows the standard parent delegation model.  Since `getClass().getClassLoader()` is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched.  \r\n&gt; Merging `currentClasspath` with `extensionUrls` has no effect.\r\n\r\n```java\r\npackage org.apache.james.utils;\r\n\r\n// ... [other imports]\r\n\r\npublic class ExtendedClassLoader {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExtendedClassLoader.class);\r\n\r\n    public static final String EXTENSIONS_JARS_FOLDER_NAME = &quot;extensions-jars/&quot;;\r\n\r\n    private final URLClassLoader urlClassLoader;\r\n\r\n    @Inject\r\n    public ExtendedClassLoader(FileSystem fileSystem) {\r\n        URL[] extensionUrls = retrieveExtensionsUrls(fileSystem);\r\n        URL[] currentClasspath = ((URLClassLoader) getClass().getClassLoader()).getURLs();\r\n\r\n        URL[] combinedUrls = Stream.concat(\r\n            Stream.of(extensionUrls),\r\n            Stream.of(currentClasspath)\r\n        ).distinct().toArray(URL[]::new);\r\n\r\n        this.urlClassLoader = new URLClassLoader(combinedUrls, getClass().getClassLoader());\r\n    }\r\n\r\n    private URL[] retrieveExtensionsUrls(FileSystem fileSystem) {\r\n        try {\r\n            File file = fileSystem.getFile(&quot;file://&quot; + EXTENSIONS_JARS_FOLDER_NAME);\r\n            return recursiveExpand(file)\r\n                .toArray(URL[]::new);\r\n        } catch (IOException e) {\r\n            LOGGER.info(&quot;No &quot; + EXTENSIONS_JARS_FOLDER_NAME + &quot; folder.&quot;);\r\n            return new URL[]{};\r\n        }\r\n    }\r\n\r\n    private Stream&lt;URL&gt; recursiveExpand(File file) {\r\n        return StreamUtils.ofNullable(file.listFiles())\r\n            .flatMap(Throwing.function(this::expandFile).sneakyThrow());\r\n    }\r\n\r\n    private Stream&lt;URL&gt; expandFile(File file) throws MalformedURLException {\r\n        if (file.isDirectory()) {\r\n            return recursiveExpand(file);\r\n        }\r\n        LOGGER.info(&quot;Loading custom classpath resource {}&quot;, file.getAbsolutePath());\r\n        return Stream.of(file.toURI().toURL());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; Class&lt;T&gt; locateClass(FullyQualifiedClassName className) throws ClassNotFoundException {\r\n        return (Class&lt;T&gt;) urlClassLoader.loadClass(className.getName());\r\n    }\r\n}\r\n```\r\n\r\nIn the constructor `ExtendedClassLoader(FileSystem fileSystem)`, you can retrieve the URLs from the `extensions-jars/` folder (just like the original code). And the URLs from the current application&#39;s classpath. The combined URLs are ensured to be unique to avoid duplication.   \r\nThese combined URLs are then fed into the `URLClassLoader` so that, when James tries to load a class, it will look in both the provided extension URLs and the current application&#39;s classpath.\r\n\r\nBy making these changes, James will first look for hooks in the `extensions-jars/` folder (if provided) and then in the current application&#39;s classpath. That means if you have packaged James and your custom hooks into the same jar (or same classpath), it should be able to find and load them without issues.\r\n\r\nSee also &quot;[URLClassLoader can&#39;t find class thats in different directory](https://stackoverflow.com/q/49899468/6309)&quot;.\r\n\r\n---\r\n\r\n&gt;  I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance can see them.  \r\nI was never able to get James to see the classes when they were in the parent project. \r\n&gt;\r\n&gt; The parent project was a simple Quarkus application following, almost to the letter, the [docs for configuring embedded Apache James](https://james.apache.org/howTo/custom-james-assembly.html) with everything configured to be &quot;in memory&quot;. \r\n\r\nTrue: the `extension-jars` directory is the default location where Apache James looks for additional modules and extensions.  \r\nInstead of modifying the classloader, which would require a deep understanding of both the James server internals and Java&#39;s classloading mechanisms, placing the hooks in the `extension-jars` directory is a simpler solution.\r\n\r\nThe OP&#39;s project is a [Quarkus](https://quarkus.io/) application, which may have its [own classloading behaviors and constraints](https://quarkus.io/guides/class-loading-reference). Quarkus is designed for containerization and microservice architectures, so its classloading might be optimized for these environments, potentially complicating direct integration with embedded applications like Apache James.","title":"Modify embedded Apache James Classloader to allow for custom hooks in same project","body":"<blockquote>\n<p>Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?</p>\n</blockquote>\n<p>&quot;modify the classloader&quot;? ... not without re-compiling the <a href=\"https://github.com/apache/james-project\" rel=\"nofollow noreferrer\"><code>apache/james-project</code></a> itself, I would presume.</p>\n<p><a href=\"https://james.apache.org/\" rel=\"nofollow noreferrer\">Apache James</a> likely uses a dedicated component for classloading, which could be based on Java's <a href=\"https://docs.oracle.com/javase%2F9%2Fdocs%2Fapi%2F%2F/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a> or a similar class.<br />\nI can see <a href=\"https://github.com/apache/james-project/blob/38ed64d6fc68b4e076d421c459b9217c28001d71/server/container/guice/utils/src/main/java/org/apache/james/utils/ExtendedClassLoader.java#L44\" rel=\"nofollow noreferrer\"><code>org.apache.james.utils.ExtendedClassLoader </code></a></p>\n<p>You would need to modify it to check the current application classpath (where your Quarkus app and embedded James reside) in addition to or instead of the <code>conf/lib</code> directory.<br />\nThen, after making the changes, you will need to recompile James and integrate the custom version with your Quarkus application.</p>\n<p>The XML configurations you have for server implementations will not need to change because of these modifications. The XML file merely instructs James on what class to instantiate and possibly initialize. By modifying the classloading behavior, you are just changing where James looks for these classes. The XML stays the same because it references classes by their fully qualified names, not their locations.</p>\n<p>I initially propose an updated code for <code>ExtendedClassLoader</code>, but, as noted by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> in <a href=\"https://stackoverflow.com/questions/76925861/modify-embedded-apache-james-classloader-to-allow-for-custom-hooks-in-same-proje/76944786?noredirect=1#comment135691544_76944786\">the comments</a>:</p>\n<blockquote>\n<p>A <code>URLClassLoader</code> follows the standard parent delegation model.  Since <code>getClass().getClassLoader()</code> is passed to the constructor as the parent loader, it will be searched for classes, even before the URLs passed to the constructor are searched.<br />\nMerging <code>currentClasspath</code> with <code>extensionUrls</code> has no effect.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>package org.apache.james.utils;\n\n// ... [other imports]\n\npublic class ExtendedClassLoader {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExtendedClassLoader.class);\n\n    public static final String EXTENSIONS_JARS_FOLDER_NAME = &quot;extensions-jars/&quot;;\n\n    private final URLClassLoader urlClassLoader;\n\n    @Inject\n    public ExtendedClassLoader(FileSystem fileSystem) {\n        URL[] extensionUrls = retrieveExtensionsUrls(fileSystem);\n        URL[] currentClasspath = ((URLClassLoader) getClass().getClassLoader()).getURLs();\n\n        URL[] combinedUrls = Stream.concat(\n            Stream.of(extensionUrls),\n            Stream.of(currentClasspath)\n        ).distinct().toArray(URL[]::new);\n\n        this.urlClassLoader = new URLClassLoader(combinedUrls, getClass().getClassLoader());\n    }\n\n    private URL[] retrieveExtensionsUrls(FileSystem fileSystem) {\n        try {\n            File file = fileSystem.getFile(&quot;file://&quot; + EXTENSIONS_JARS_FOLDER_NAME);\n            return recursiveExpand(file)\n                .toArray(URL[]::new);\n        } catch (IOException e) {\n            LOGGER.info(&quot;No &quot; + EXTENSIONS_JARS_FOLDER_NAME + &quot; folder.&quot;);\n            return new URL[]{};\n        }\n    }\n\n    private Stream&lt;URL&gt; recursiveExpand(File file) {\n        return StreamUtils.ofNullable(file.listFiles())\n            .flatMap(Throwing.function(this::expandFile).sneakyThrow());\n    }\n\n    private Stream&lt;URL&gt; expandFile(File file) throws MalformedURLException {\n        if (file.isDirectory()) {\n            return recursiveExpand(file);\n        }\n        LOGGER.info(&quot;Loading custom classpath resource {}&quot;, file.getAbsolutePath());\n        return Stream.of(file.toURI().toURL());\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; Class&lt;T&gt; locateClass(FullyQualifiedClassName className) throws ClassNotFoundException {\n        return (Class&lt;T&gt;) urlClassLoader.loadClass(className.getName());\n    }\n}\n</code></pre>\n<p>In the constructor <code>ExtendedClassLoader(FileSystem fileSystem)</code>, you can retrieve the URLs from the <code>extensions-jars/</code> folder (just like the original code). And the URLs from the current application's classpath. The combined URLs are ensured to be unique to avoid duplication.<br />\nThese combined URLs are then fed into the <code>URLClassLoader</code> so that, when James tries to load a class, it will look in both the provided extension URLs and the current application's classpath.</p>\n<p>By making these changes, James will first look for hooks in the <code>extensions-jars/</code> folder (if provided) and then in the current application's classpath. That means if you have packaged James and your custom hooks into the same jar (or same classpath), it should be able to find and load them without issues.</p>\n<p>See also &quot;<a href=\"https://stackoverflow.com/q/49899468/6309\">URLClassLoader can't find class thats in different directory</a>&quot;.</p>\n<hr />\n<blockquote>\n<p>I moved the code into JAR files and put them in the extension-jars directory, and now the embedded James instance can see them.<br />\nI was never able to get James to see the classes when they were in the parent project.</p>\n<p>The parent project was a simple Quarkus application following, almost to the letter, the <a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">docs for configuring embedded Apache James</a> with everything configured to be &quot;in memory&quot;.</p>\n</blockquote>\n<p>True: the <code>extension-jars</code> directory is the default location where Apache James looks for additional modules and extensions.<br />\nInstead of modifying the classloader, which would require a deep understanding of both the James server internals and Java's classloading mechanisms, placing the hooks in the <code>extension-jars</code> directory is a simpler solution.</p>\n<p>The OP's project is a <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a> application, which may have its <a href=\"https://quarkus.io/guides/class-loading-reference\" rel=\"nofollow noreferrer\">own classloading behaviors and constraints</a>. Quarkus is designed for containerization and microservice architectures, so its classloading might be optimized for these environments, potentially complicating direct integration with embedded applications like Apache James.</p>\n"}],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1701640286,"creation_date":1692320249,"question_id":76925861,"body_markdown":"I am attempting to run my own custom in-memory James assembly inside of a Quarkus web application. I&#39;ve been following along with [the example here][1] and gotten the server to run.\r\n\r\nOne of the issues I&#39;m running into is that according to the docs [I need to include custom hooks inside of a Jar file in a /conf/lib directory][2] however I wish to use classes directly from inside the same project James is embedded in. Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?\r\n\r\n\r\nEdit: Adding handlerchain config. Sorry VonC I might have accidentally submitted this as an edit to your answer. It&#39;s been a day!\r\n\r\n```xml\r\n        &lt;handlerchain&gt;\r\n            &lt;handler class=&quot;org.apache.james.smtpserver.fastfail.ValidRcptHandler&quot;/&gt;\r\n            &lt;handler class=&quot;org.apache.james.smtpserver.CoreCmdHandlerLoader&quot;/&gt;\r\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomAuthHook&quot;/&gt;\r\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomMessageHook&quot;/&gt;\r\n        &lt;/handlerchain&gt;\r\n```\r\n\r\n  [1]: https://james.apache.org/howTo/custom-james-assembly.html\r\n  [2]: https://james.apache.org/server/dev-extend-smtp-hook.html","title":"Modify embedded Apache James Classloader to allow for custom hooks in same project","body":"<p>I am attempting to run my own custom in-memory James assembly inside of a Quarkus web application. I've been following along with <a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">the example here</a> and gotten the server to run.</p>\n<p>One of the issues I'm running into is that according to the docs <a href=\"https://james.apache.org/server/dev-extend-smtp-hook.html\" rel=\"nofollow noreferrer\">I need to include custom hooks inside of a Jar file in a /conf/lib directory</a> however I wish to use classes directly from inside the same project James is embedded in. Is there a way to modify the classloader so that I can use hooks that exist in the same jar where James is going to exist?</p>\n<p>Edit: Adding handlerchain config. Sorry VonC I might have accidentally submitted this as an edit to your answer. It's been a day!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;handlerchain&gt;\n            &lt;handler class=&quot;org.apache.james.smtpserver.fastfail.ValidRcptHandler&quot;/&gt;\n            &lt;handler class=&quot;org.apache.james.smtpserver.CoreCmdHandlerLoader&quot;/&gt;\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomAuthHook&quot;/&gt;\n            &lt;handler class=&quot;tech.gmork.oxprox.control.hooks.CustomMessageHook&quot;/&gt;\n        &lt;/handlerchain&gt;\n</code></pre>\n"},{"tags":["java","dynamic"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1701636269,"post_id":77596082,"comment_id":136797551,"body_markdown":"Lombok should at minimal use annotation processing: https://www.baeldung.com/java-annotation-processing-builder but with specific hijack for IDE (I don&#39;t think that annotation processing allow you to change the current class, hence the hijack for IDE).","body":"Lombok should at minimal use annotation processing: <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a> but with specific hijack for IDE (I don&#39;t think that annotation processing allow you to change the current class, hence the hijack for IDE)."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701639230,"creation_date":1701639230,"answer_id":77596254,"question_id":77596082,"body_markdown":"I would use an arguments builder class.\r\n\r\n    public static class RandFuncArgs {\r\n        private Supplier&lt;String&gt; string;\r\n\r\n        private IntSupplier value;\r\n\r\n        public RandFuncArgs() {\r\n            string(&quot;&quot;);\r\n            value(0);\r\n        }\r\n\r\n        public RandFuncArgs(String s,\r\n                            int value) {\r\n            string(s);\r\n            value(value);\r\n        }\r\n\r\n        public String getString() {\r\n            return s.get();\r\n        }\r\n\r\n        public int getValue() {\r\n            return value.getAsInt();\r\n        }\r\n\r\n        public RandFuncArgs string(String s) {\r\n            return string(() -&gt; s);\r\n        }\r\n\r\n        public RandFuncArgs string(Supplier&lt;String&gt; s) {\r\n            this.string = Objects.requireNonNull(s, &quot;Argument cannot be null.&quot;);\r\n            return this;\r\n        }\r\n\r\n        public RandFuncArgs value(int value) {\r\n            return value(() -&gt; value);\r\n        }\r\n\r\n        public RandFuncArgs value(IntSupplier value) {\r\n            this.value = Objects.requireNonNull(value, &quot;Argument cannot be null.&quot;);\r\n            return this;\r\n        }\r\n    }\r\n\r\nNow your outer class just needs one method:\r\n\r\n    public void randFunc(RandFuncArgs args) {\r\n        // ...\r\n    }\r\n\r\nAnd others can call it as:\r\n\r\n    obj.randFunc(new RandFuncArgs().string(&quot;word&quot;).value(1));\r\n    obj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123546&quot;).value(3));\r\n    obj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123456&quot;).value(() -&gt; 8));\r\n","title":"Make dynamic method arguments during the compilation in Java","body":"<p>I would use an arguments builder class.</p>\n<pre><code>public static class RandFuncArgs {\n    private Supplier&lt;String&gt; string;\n\n    private IntSupplier value;\n\n    public RandFuncArgs() {\n        string(&quot;&quot;);\n        value(0);\n    }\n\n    public RandFuncArgs(String s,\n                        int value) {\n        string(s);\n        value(value);\n    }\n\n    public String getString() {\n        return s.get();\n    }\n\n    public int getValue() {\n        return value.getAsInt();\n    }\n\n    public RandFuncArgs string(String s) {\n        return string(() -&gt; s);\n    }\n\n    public RandFuncArgs string(Supplier&lt;String&gt; s) {\n        this.string = Objects.requireNonNull(s, &quot;Argument cannot be null.&quot;);\n        return this;\n    }\n\n    public RandFuncArgs value(int value) {\n        return value(() -&gt; value);\n    }\n\n    public RandFuncArgs value(IntSupplier value) {\n        this.value = Objects.requireNonNull(value, &quot;Argument cannot be null.&quot;);\n        return this;\n    }\n}\n</code></pre>\n<p>Now your outer class just needs one method:</p>\n<pre><code>public void randFunc(RandFuncArgs args) {\n    // ...\n}\n</code></pre>\n<p>And others can call it as:</p>\n<pre><code>obj.randFunc(new RandFuncArgs().string(&quot;word&quot;).value(1));\nobj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123546&quot;).value(3));\nobj.randFunc(new RandFuncArgs().string(() -&gt; &quot;123456&quot;).value(() -&gt; 8));\n</code></pre>\n"}],"owner":{"account_id":29943165,"reputation":3,"user_id":22947130,"display_name":"Laipel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77596254,"answer_count":1,"score":0,"last_activity_date":1701639230,"creation_date":1701635817,"question_id":77596082,"body_markdown":"There is the big builder that is the heart of my project and that is used very frequently. I want to make every argument in every method dynamic (expect lambda expression as an agrument). Hovewer, I will need to create twice more methods (or even bigger amount), but my builder class is already too big and I don&#39;t want to waste my time, when I add another method to it.\r\n\r\nI want to make something like lombok annotation to method to make methods able to receive `Supplier&lt;T&gt;` and `T` type argument at the same time. It should get value from the supplier, when it call some method, or get field from the object.\r\n\r\nIt should be something like\r\n\r\n```java\r\n@DynamicArguments\r\npublic void randFunc(String string, Integer value) {\r\n   // some code\r\n}\r\n```\r\n\r\n```java\r\nrandFunc(&quot;word&quot;, 1) // works\r\nrandFunc(() -&gt; &quot;123546&quot;, 3) // works\r\nrandFunc(() -&gt; &quot;123456&quot;, () -&gt; 8) // works\r\n```\r\n\r\nI&#39;ve tryed to research groovy and custom lombok annotations to do it, but it didn&#39;t help much.","title":"Make dynamic method arguments during the compilation in Java","body":"<p>There is the big builder that is the heart of my project and that is used very frequently. I want to make every argument in every method dynamic (expect lambda expression as an agrument). Hovewer, I will need to create twice more methods (or even bigger amount), but my builder class is already too big and I don't want to waste my time, when I add another method to it.</p>\n<p>I want to make something like lombok annotation to method to make methods able to receive <code>Supplier&lt;T&gt;</code> and <code>T</code> type argument at the same time. It should get value from the supplier, when it call some method, or get field from the object.</p>\n<p>It should be something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamicArguments\npublic void randFunc(String string, Integer value) {\n   // some code\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>randFunc(&quot;word&quot;, 1) // works\nrandFunc(() -&gt; &quot;123546&quot;, 3) // works\nrandFunc(() -&gt; &quot;123456&quot;, () -&gt; 8) // works\n</code></pre>\n<p>I've tryed to research groovy and custom lombok annotations to do it, but it didn't help much.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701668377,"post_id":77596043,"comment_id":136799894,"body_markdown":"Don&#39;t run a server on Android.  The OS is not meant for it.  In particular, it will aggressively kill any app that isn&#39;t in the foreground, leaving it only brief periods of time where it&#39;s allowed to run.  This makes it good for battery life, but unsuitable for a server because the server won&#39;t be reliable.","body":"Don&#39;t run a server on Android.  The OS is not meant for it.  In particular, it will aggressively kill any app that isn&#39;t in the foreground, leaving it only brief periods of time where it&#39;s allowed to run.  This makes it good for battery life, but unsuitable for a server because the server won&#39;t be reliable."},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1701702669,"post_id":77596043,"comment_id":136805276,"body_markdown":"Well, it&#39;s for a media app so I already have a foreground service running.","body":"Well, it&#39;s for a media app so I already have a foreground service running."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1701703629,"post_id":77596043,"comment_id":136805499,"body_markdown":"Foreground services are only slightly more reliable.  It can still be killed at any time.","body":"Foreground services are only slightly more reliable.  It can still be killed at any time."}],"answers":[{"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1701644437,"post_id":77596059,"comment_id":136798270,"body_markdown":"This won&#39;t work for the problem described in the question, which is to do this from a web browser (potentially on a different device, but it won&#39;t work from a browser on the same device, either).","body":"This won&#39;t work for the problem described in the question, which is to do this from a web browser (potentially on a different device, but it won&#39;t work from a browser on the same device, either)."}],"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701638946,"creation_date":1701635317,"answer_id":77596059,"question_id":77596043,"body_markdown":"While the web page itself can&#39;t directly execute Java code, you can establish communication between the web page and your Android code using a JavaScript interface in a `WebView` (so-called &quot;bridge&quot;). This allows you to call Java methods from JavaScript:\r\n\r\n1. The bridge code:\r\n\r\n       public class WebAppInterface {\r\n           @JavascriptInterface\r\n           public void performDatabaseOperation(String operation) {\r\n               // Perform database operations in Java\r\n           }\r\n       }\r\n\r\n2. In your Activity:\r\n\r\n       WebView webView = findViewById(R.id.webView);\r\n       webView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\r\n\r\n3. Call Java Method from HTML/JS:\r\n\r\n       &lt;button onclick=&quot;performDatabaseOperation(&#39;delete&#39;)&quot;&gt;Delete from Database&lt;/button&gt;\r\n    \r\n       &lt;script&gt;\r\n           function performDatabaseOperation(operation) {\r\n               Android.performDatabaseOperation(operation);\r\n           }\r\n       &lt;/script&gt;\r\n\r\n","title":"Execute Android Java code with Javascript","body":"<p>While the web page itself can't directly execute Java code, you can establish communication between the web page and your Android code using a JavaScript interface in a <code>WebView</code> (so-called &quot;bridge&quot;). This allows you to call Java methods from JavaScript:</p>\n<ol>\n<li><p>The bridge code:</p>\n<pre><code>public class WebAppInterface {\n    @JavascriptInterface\n    public void performDatabaseOperation(String operation) {\n        // Perform database operations in Java\n    }\n}\n</code></pre>\n</li>\n<li><p>In your Activity:</p>\n<pre><code>WebView webView = findViewById(R.id.webView);\nwebView.addJavascriptInterface(new WebAppInterface(this), &quot;Android&quot;);\n</code></pre>\n</li>\n<li><p>Call Java Method from HTML/JS:</p>\n<pre><code>&lt;button onclick=&quot;performDatabaseOperation('delete')&quot;&gt;Delete from Database&lt;/button&gt;\n\n&lt;script&gt;\n    function performDatabaseOperation(operation) {\n        Android.performDatabaseOperation(operation);\n    }\n&lt;/script&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701638946,"creation_date":1701634929,"question_id":77596043,"body_markdown":"I&#39;m thinking of adding a local web server to my Android app so I can serve data from a local SqLite database through a web browser as long as the user&#39;s computer is on the same network at their phone.\r\n\r\nIs it possible to write web code that &quot;interacts&quot; (for lack of a better word) with an Android `Activity`. For example, if I output a `List` of Java objects to HTML, can I add a button to the web page that will execute Java code to delete or insert from the Android SqlLite database?","title":"Execute Android Java code with Javascript","body":"<p>I'm thinking of adding a local web server to my Android app so I can serve data from a local SqLite database through a web browser as long as the user's computer is on the same network at their phone.</p>\n<p>Is it possible to write web code that &quot;interacts&quot; (for lack of a better word) with an Android <code>Activity</code>. For example, if I output a <code>List</code> of Java objects to HTML, can I add a button to the web page that will execute Java code to delete or insert from the Android SqlLite database?</p>\n"},{"tags":["java","forms","pdf","pdfbox","xfa"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701639979,"post_id":77596233,"comment_id":136797859,"body_markdown":"Welcome to Stack Overflow.\nSorry, but this site is not a ***discussion forum***.\nPlease take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"Welcome to Stack Overflow. Sorry, but this site is not a <b><i>discussion forum</i></b>. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."}],"owner":{"account_id":29473976,"reputation":9,"user_id":22586099,"display_name":"Štěp&#225;n Vejvoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701638724,"creation_date":1701638724,"question_id":77596233,"body_markdown":"I&#39;m extracting form field details from PDF files and returning the information to the frontend for further use. I&#39;ve successfully handled PDFs with AcroForms, but I&#39;m struggling with files containing embedded XFA forms. While I&#39;ve managed to extract data from one file, the dynamic nature of XFAs has left me uncertain about the next steps. \r\n\r\nEdit: I am using PDFBox, because with iText there are licensing issues.\r\n\r\nExtracting relative `x` and `y` coordinates of a field is straightforward, but I&#39;m facing challenges with pages and absolute coordinates in PDFs containing embedded XFA forms.\\\r\nI&#39;ve thought that it can be solved by traversing the DOM document, storing margins and other necessary offsets, but I was surprised with structure of XFA.\\\r\nAccording to the documentation, page content should be enclosed in `&lt;pageArea&gt;`, but in my PDFs, the structure is different. The main `&lt;subform&gt;` represents the entire file, and within its children, there&#39;s a `&lt;pageSet&gt;` containing `&lt;pageArea&gt;` elements for all pages. The actual subforms representing the pages are located in a neighboring node. I have not been able to find any useful information about page binding to particular subform and the specification of XFA is rather ambiguous.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bXgxz.png)](https://i.stack.imgur.com/bXgxz.png)\r\n\r\nWhat is more infuriating is that when I look into structure of PDF file with 8 pages, then there are 12 `&lt;subforms&gt;` elements and 7 `&lt;pageArea&gt;` elements. While the multiple subforms within one page (logical grouping) might explain the extra `&lt;subforms&gt;`, the absence of certain `&lt;pageArea&gt;` elements hints at a potential master page that stores layout information shared across multiple pages.\\\r\nI&#39;ve read that XFA doesn&#39;t really have concept of pages and the PDF is dynamically generated with use of render engine based on its structure. Given to the difficulty to build one-fits-all solution I wanted to ask if some of you have experience with this type of files and did you solve this issue?","title":"How to extract form field information (mainly locations) from a PDF with embedded XFA forms using Java and PDFBox?","body":"<p>I'm extracting form field details from PDF files and returning the information to the frontend for further use. I've successfully handled PDFs with AcroForms, but I'm struggling with files containing embedded XFA forms. While I've managed to extract data from one file, the dynamic nature of XFAs has left me uncertain about the next steps.</p>\n<p>Edit: I am using PDFBox, because with iText there are licensing issues.</p>\n<p>Extracting relative <code>x</code> and <code>y</code> coordinates of a field is straightforward, but I'm facing challenges with pages and absolute coordinates in PDFs containing embedded XFA forms.<br />\nI've thought that it can be solved by traversing the DOM document, storing margins and other necessary offsets, but I was surprised with structure of XFA.<br />\nAccording to the documentation, page content should be enclosed in <code>&lt;pageArea&gt;</code>, but in my PDFs, the structure is different. The main <code>&lt;subform&gt;</code> represents the entire file, and within its children, there's a <code>&lt;pageSet&gt;</code> containing <code>&lt;pageArea&gt;</code> elements for all pages. The actual subforms representing the pages are located in a neighboring node. I have not been able to find any useful information about page binding to particular subform and the specification of XFA is rather ambiguous.</p>\n<p><a href=\"https://i.stack.imgur.com/bXgxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXgxz.png\" alt=\"enter image description here\" /></a></p>\n<p>What is more infuriating is that when I look into structure of PDF file with 8 pages, then there are 12 <code>&lt;subforms&gt;</code> elements and 7 <code>&lt;pageArea&gt;</code> elements. While the multiple subforms within one page (logical grouping) might explain the extra <code>&lt;subforms&gt;</code>, the absence of certain <code>&lt;pageArea&gt;</code> elements hints at a potential master page that stores layout information shared across multiple pages.<br />\nI've read that XFA doesn't really have concept of pages and the PDF is dynamically generated with use of render engine based on its structure. Given to the difficulty to build one-fits-all solution I wanted to ask if some of you have experience with this type of files and did you solve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2788184,"reputation":11285,"user_id":2399024,"accept_rate":90,"display_name":"donfuxx"},"score":4,"creation_date":1396459275,"post_id":22818590,"comment_id":34801203,"body_markdown":"md5 or sh1 may work for that","body":"md5 or sh1 may work for that"},{"owner":{"account_id":212365,"reputation":1625,"user_id":465147,"accept_rate":52,"display_name":"sprabhakaran"},"score":0,"creation_date":1396459567,"post_id":22818590,"comment_id":34801391,"body_markdown":"Hi, if you have using linux OS, use the &quot;md5sum&quot; command. https://help.ubuntu.com/community/HowToMD5SUM","body":"Hi, if you have using linux OS, use the &quot;md5sum&quot; command. <a href=\"https://help.ubuntu.com/community/HowToMD5SUM\" rel=\"nofollow noreferrer\">help.ubuntu.com/community/HowToMD5SUM</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1396459587,"post_id":22818590,"comment_id":34801406,"body_markdown":"Are third-party libraries fair game?  Guava has [`Files.equal`](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/io/Files.html#equal(java.io.File,%20java.io.File)).  There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient.","body":"Are third-party libraries fair game?  Guava has <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/io/Files.html#equal(java.io.File,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>Files.equal</code></a>.  There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient."},{"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"score":0,"creation_date":1396460971,"post_id":22818590,"comment_id":34802215,"body_markdown":"@LouisWasserman Yes. Please submit your comment as an answer (Guava&#39;s Files.equal) and I&#39;ll accept it.","body":"@LouisWasserman Yes. Please submit your comment as an answer (Guava&#39;s Files.equal) and I&#39;ll accept it."}],"answers":[{"comments":[{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":4,"creation_date":1396461232,"post_id":22818845,"comment_id":34802368,"body_markdown":"Calculating the hash is more computationally intense than just comparing the two files byte-by-byte.","body":"Calculating the hash is more computationally intense than just comparing the two files byte-by-byte."},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":1,"creation_date":1396461550,"post_id":22818845,"comment_id":34802531,"body_markdown":"@Charlie, That&#39;s right, calculating the hash would be more suitable if the expected hash was already computed once and stored in some variable for the test, so only computing the hash of the actual file is needed.","body":"@Charlie, That&#39;s right, calculating the hash would be more suitable if the expected hash was already computed once and stored in some variable for the test, so only computing the hash of the actual file is needed."}],"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396460871,"creation_date":1396460021,"answer_id":22818845,"question_id":22818590,"body_markdown":"I had to do the same in a unit test too, so I used SHA1 hashes to do that, to spare the the calculation of the hashes I check if the files sizes are equal first. Here was my attempt:\r\n\r\n\tpublic class SHA1Compare {\r\n\t\tprivate static final int CHUNK_SIZE = 4096;\r\n\t\r\n\t\tpublic void assertEqualsSHA1(String expectedPath, String actualPath) throws IOException, NoSuchAlgorithmException {\r\n\t\t\tFile expectedFile = new File(expectedPath);\r\n\t\t\tFile actualFile = new File(actualPath);\r\n\t\t\tAssert.assertEquals(expectedFile.length(), actualFile.length());\r\n\t\t\ttry (FileInputStream fisExpected = new FileInputStream(actualFile);\r\n\t\t\t\t\tFileInputStream fisActual = new FileInputStream(expectedFile)) {\r\n\t\t\t\tAssert.assertEquals(makeMessageDigest(fisExpected), \r\n\t\t\t\t\t\tmakeMessageDigest(fisActual));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic String makeMessageDigest(InputStream is) throws NoSuchAlgorithmException, IOException {\r\n\t        byte[] data = new byte[CHUNK_SIZE];\r\n\t        MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n\t        int bytesRead = 0;\r\n\t        while(-1 != (bytesRead = is.read(data, 0, CHUNK_SIZE))) {\r\n\t            md.update(data, 0, bytesRead);\r\n\t        }\r\n\t        return toHexString(md.digest());\r\n\t    }\r\n\t\r\n\t    private String toHexString(byte[] digest) {\r\n\t        StringBuilder sha1HexString = new StringBuilder();\r\n\t        for(int i = 0; i &lt; digest.length; i++) {\r\n\t            sha1HexString.append(String.format(&quot;%1$02x&quot;, Byte.valueOf(digest[i])));\r\n\t        }\r\n\t        return sha1HexString.toString();\r\n\t    }\r\n\t}\r\n","title":"Java: How to check that 2 binary files are same?","body":"<p>I had to do the same in a unit test too, so I used SHA1 hashes to do that, to spare the the calculation of the hashes I check if the files sizes are equal first. Here was my attempt:</p>\n\n<pre><code>public class SHA1Compare {\n    private static final int CHUNK_SIZE = 4096;\n\n    public void assertEqualsSHA1(String expectedPath, String actualPath) throws IOException, NoSuchAlgorithmException {\n        File expectedFile = new File(expectedPath);\n        File actualFile = new File(actualPath);\n        Assert.assertEquals(expectedFile.length(), actualFile.length());\n        try (FileInputStream fisExpected = new FileInputStream(actualFile);\n                FileInputStream fisActual = new FileInputStream(expectedFile)) {\n            Assert.assertEquals(makeMessageDigest(fisExpected), \n                    makeMessageDigest(fisActual));\n        }\n    }\n\n    public String makeMessageDigest(InputStream is) throws NoSuchAlgorithmException, IOException {\n        byte[] data = new byte[CHUNK_SIZE];\n        MessageDigest md = MessageDigest.getInstance(\"SHA1\");\n        int bytesRead = 0;\n        while(-1 != (bytesRead = is.read(data, 0, CHUNK_SIZE))) {\n            md.update(data, 0, bytesRead);\n        }\n        return toHexString(md.digest());\n    }\n\n    private String toHexString(byte[] digest) {\n        StringBuilder sha1HexString = new StringBuilder();\n        for(int i = 0; i &lt; digest.length; i++) {\n            sha1HexString.append(String.format(\"%1$02x\", Byte.valueOf(digest[i])));\n        }\n        return sha1HexString.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":193780,"reputation":915,"user_id":435715,"accept_rate":73,"display_name":"yby"},"score":5,"creation_date":1441096035,"post_id":22819255,"comment_id":52528178,"body_markdown":"That depends how many times you need to compare. If you have file A, and you need to compare many files (B1,...,Bn) to it, then it may be more efficient to compute a hash. This way you don&#39;t have to go over the entire bytes of A every time you test. You could put the hash in your unit test and check against it (just make sure to change the hash if your file changes).","body":"That depends how many times you need to compare. If you have file A, and you need to compare many files (B1,...,Bn) to it, then it may be more efficient to compute a hash. This way you don&#39;t have to go over the entire bytes of A every time you test. You could put the hash in your unit test and check against it (just make sure to change the hash if your file changes)."}],"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1652993077,"creation_date":1396461279,"answer_id":22819255,"question_id":22818590,"body_markdown":"There&#39;s always just reading byte by byte from each file and comparing them as you go.  Md5 and Sha1 etc still have to read all the bytes so computing the hash is extra work that you don&#39;t have to do.\r\n\r\n    if (file1.length() != file2.length()) {\r\n\t    return false;\r\n    }\r\n\t\t\r\n     try( InputStream in1 = new BufferedInputStream(new FileInputStream(file1));\r\n\t    InputStream in2 = new BufferedInputStream(new FileInputStream(file2));\r\n     ) {\r\n\r\n          int value1, value2;\r\n          do {\r\n               //since we&#39;re buffered, read() isn&#39;t expensive\r\n\t           value1 = in1.read();\r\n\t           value2 = in2.read();\r\n\t           if(value1 != value2) {\r\n\t\t           return false;\r\n\t           }\r\n\t      } while(value1 &gt;= 0);\r\n         \r\n     // since we already checked that the file sizes are equal \r\n     // if we&#39;re here we reached the end of both files without a mismatch\r\n     return true;\r\n    }","title":"Java: How to check that 2 binary files are same?","body":"<p>There's always just reading byte by byte from each file and comparing them as you go.  Md5 and Sha1 etc still have to read all the bytes so computing the hash is extra work that you don't have to do.</p>\n<pre><code>if (file1.length() != file2.length()) {\n    return false;\n}\n    \n try( InputStream in1 = new BufferedInputStream(new FileInputStream(file1));\n    InputStream in2 = new BufferedInputStream(new FileInputStream(file2));\n ) {\n\n      int value1, value2;\n      do {\n           //since we're buffered, read() isn't expensive\n           value1 = in1.read();\n           value2 = in2.read();\n           if(value1 != value2) {\n               return false;\n           }\n      } while(value1 &gt;= 0);\n     \n // since we already checked that the file sizes are equal \n // if we're here we reached the end of both files without a mismatch\n return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":334900,"reputation":61,"user_id":331946,"accept_rate":60,"display_name":"coverboy"},"score":1,"creation_date":1608654609,"post_id":22820114,"comment_id":115646297,"body_markdown":"That api has @Beta annotation.","body":"That api has @Beta annotation."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1518720876,"creation_date":1396463677,"answer_id":22820114,"question_id":22818590,"body_markdown":"Are third-party libraries fair game? Guava has [`Files.equal(File, File)`][1]. There&#39;s no real reason to bother with hashing if you don&#39;t have to; it can only be less efficient. \r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#equal-java.io.File-java.io.File-","title":"Java: How to check that 2 binary files are same?","body":"<p>Are third-party libraries fair game? Guava has <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/io/Files.html#equal-java.io.File-java.io.File-\" rel=\"noreferrer\"><code>Files.equal(File, File)</code></a>. There's no real reason to bother with hashing if you don't have to; it can only be less efficient. </p>\n"},{"tags":[],"owner":{"account_id":2917568,"reputation":653,"user_id":2500462,"accept_rate":71,"display_name":"almanegra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396464425,"creation_date":1396464425,"answer_id":22820369,"question_id":22818590,"body_markdown":"With assertBinaryEquals.\r\n\r\n`public static void assertBinaryEquals(java.io.File expected,\r\n                                          java.io.File actual)`\r\n\r\n\r\n[http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html][1]\r\n\r\n\r\n  [1]: http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html","title":"Java: How to check that 2 binary files are same?","body":"<p>With assertBinaryEquals.</p>\n\n<p><code>public static void assertBinaryEquals(java.io.File expected,\n                                          java.io.File actual)</code></p>\n\n<p><a href=\"http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html\" rel=\"nofollow\">http://junit-addons.sourceforge.net/junitx/framework/FileAssert.html</a></p>\n"},{"tags":[],"owner":{"account_id":3688787,"reputation":3018,"user_id":3071928,"accept_rate":57,"display_name":"Binkan Salaryman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652993926,"creation_date":1432279458,"answer_id":30390710,"question_id":22818590,"body_markdown":"Read the files in (small) blocks and compare them:\r\n\r\n    static boolean binaryDiff(File a, File b) throws IOException {\r\n        if(a.length() != b.length()){\r\n            return false;\r\n        }\r\n        \r\n        final int BLOCK_SIZE = 128;\r\n        InputStream aStream = new FileInputStream(a);\r\n        InputStream bStream = new FileInputStream(b);\r\n        byte[] aBuffer = new byte[BLOCK_SIZE];\r\n        byte[] bBuffer = new byte[BLOCK_SIZE];\r\n        do {\r\n            int aByteCount = aStream.read(aBuffer, 0, BLOCK_SIZE);\r\n            bStream.read(bBuffer, 0, BLOCK_SIZE);\r\n            if (!Arrays.equals(aBuffer, bBuffer)) {\r\n                return false;\r\n            }\r\n        }\r\n        while(aByteCount &lt; 0);\r\n        return true;\r\n    }","title":"Java: How to check that 2 binary files are same?","body":"<p>Read the files in (small) blocks and compare them:</p>\n<pre><code>static boolean binaryDiff(File a, File b) throws IOException {\n    if(a.length() != b.length()){\n        return false;\n    }\n    \n    final int BLOCK_SIZE = 128;\n    InputStream aStream = new FileInputStream(a);\n    InputStream bStream = new FileInputStream(b);\n    byte[] aBuffer = new byte[BLOCK_SIZE];\n    byte[] bBuffer = new byte[BLOCK_SIZE];\n    do {\n        int aByteCount = aStream.read(aBuffer, 0, BLOCK_SIZE);\n        bStream.read(bBuffer, 0, BLOCK_SIZE);\n        if (!Arrays.equals(aBuffer, bBuffer)) {\n            return false;\n        }\n    }\n    while(aByteCount &lt; 0);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503500032,"creation_date":1503500032,"answer_id":45843117,"question_id":22818590,"body_markdown":"If you want to avoid dependencies you can do it using quite nicely with Files.readAllBytes and Assert.assertArrayEquals\r\n\r\n    Assert.assertArrayEquals(&quot;Binary files differ&quot;, \r\n    \tFiles.readAllBytes(Paths.get(expectedBinaryFile)), \r\n    \tFiles.readAllBytes(Paths.get(actualBinaryFile)));\r\n\r\nNote: This will read the whole file so it might not be efficient with large files.","title":"Java: How to check that 2 binary files are same?","body":"<p>If you want to avoid dependencies you can do it using quite nicely with Files.readAllBytes and Assert.assertArrayEquals</p>\n\n<pre><code>Assert.assertArrayEquals(\"Binary files differ\", \n    Files.readAllBytes(Paths.get(expectedBinaryFile)), \n    Files.readAllBytes(Paths.get(actualBinaryFile)));\n</code></pre>\n\n<p>Note: This will read the whole file so it might not be efficient with large files.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588321776,"creation_date":1588321776,"answer_id":61539141,"question_id":22818590,"body_markdown":"**Since Java 12** you could also use the `Files.mismatch` method [JavaDoc][1]. It will return `-1L` if the files are the same.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)","title":"Java: How to check that 2 binary files are same?","body":"<p><strong>Since Java 12</strong> you could also use the <code>Files.mismatch</code> method <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#mismatch(java.nio.file.Path,java.nio.file.Path)\" rel=\"nofollow noreferrer\">JavaDoc</a>. It will return <code>-1L</code> if the files are the same.</p>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701638195,"creation_date":1701638195,"answer_id":77596212,"question_id":22818590,"body_markdown":"Apache Commons IO solution:\r\n\r\n```java\r\nboolean sameFileContent = FileUtils.contentEquals(file1, file2)\r\n```\r\n\r\nFrom documentation:\r\n\r\nCompares the contents of two files to determine if they are equal or not.\r\nChecks that \r\n1. The two files are different lengths or,\r\n2. If they point to the same file,\r\n3. And then does a byte-by-byte comparison of the contents.\r\n\r\nReference: \r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\r\n\r\n","title":"Java: How to check that 2 binary files are same?","body":"<p>Apache Commons IO solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean sameFileContent = FileUtils.contentEquals(file1, file2)\n</code></pre>\n<p>From documentation:</p>\n<p>Compares the contents of two files to determine if they are equal or not.\nChecks that</p>\n<ol>\n<li>The two files are different lengths or,</li>\n<li>If they point to the same file,</li>\n<li>And then does a byte-by-byte comparison of the contents.</li>\n</ol>\n<p>Reference:\n<a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html</a></p>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13892,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":22820114,"answer_count":8,"score":18,"last_activity_date":1701638195,"creation_date":1396459224,"question_id":22818590,"body_markdown":"What is the easiest way to check (in a unit test) whether binary files A and B are equal?","title":"Java: How to check that 2 binary files are same?","body":"<p>What is the easiest way to check (in a unit test) whether binary files A and B are equal?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551703363,"creation_date":1551611497,"answer_id":54968198,"question_id":54968170,"body_markdown":"In android you can&#39;t run network related actions on the main thread - you need to run them on a different thread, for example:\r\n\r\n    Thread yourThread = new Thread(new Runnable() {\r\n\r\n    @Override\r\n    public void run() {\r\n        try  {\r\n            //Put your code in here\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    });\r\n\r\n    yourThread .start(); ","title":"How to use Mikrotik API on Android Studio","body":"<p>In android you can't run network related actions on the main thread - you need to run them on a different thread, for example:</p>\n\n<pre><code>Thread yourThread = new Thread(new Runnable() {\n\n@Override\npublic void run() {\n    try  {\n        //Put your code in here\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n});\n\nyourThread .start(); \n</code></pre>\n"}],"owner":{"account_id":15446464,"reputation":11,"user_id":11143278,"display_name":"Dimas Satria"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1551615517,"accepted_answer_id":54968198,"answer_count":1,"score":0,"last_activity_date":1701637459,"creation_date":1551611244,"question_id":54968170,"body_markdown":"I&#39;m trying to use mikrotik api Java in android, but when i downloaded it and added it in android studio project and used it the app forced to close!\r\n\r\nThis is my code:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        final String[] string_array = getResources().getStringArray(R.array.ip_venue);\r\n        spinner2 = findViewById(R.id.list_venue);\r\n        spinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; arg0, View view, int position, long id12) {\r\n                    String Host1 = String.valueOf(string_array[arg0.getSelectedItemPosition()]);\r\n                ApiConnection con = null; // connect to router\r\n                try {\r\n                    con = ApiConnection.connect(SocketFactory.getDefault(), Host1, PORT, 2000);\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.login(USERNAME,PASSWORD); // log in to router\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.execute(&quot;/system/reboot&quot;); // execute a command\r\n                } catch (MikrotikApiException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    con.close(); // disconnect from router\r\n                } catch (ApiConnectionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\r\n            }\r\n        });\r\n    }\r\nAnd I get this message:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.duaempatsinergi.sams.teknisi24, PID: 5947\r\n    android.os.NetworkOnMainThreadException\r\n        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1303)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:333)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\r\n        at java.net.Socket.connect(Socket.java:586)\r\n        at me.legrange.mikrotik.impl.ApiConnectionImpl.open(ApiConnectionImpl.java:142)\r\n        at me.legrange.mikrotik.impl.ApiConnectionImpl.connect(ApiConnectionImpl.java:44)\r\n        at me.legrange.mikrotik.ApiConnection.connect(ApiConnection.java:48)\r\n        at com.duaempatsinergi.sams.teknisi24.MainActivity$1.onItemSelected(MainActivity.java:40)\r\n        at android.widget.AdapterView.fireOnSelected(AdapterView.java:931)\r\n        at android.widget.AdapterView.dispatchOnItemSelected(AdapterView.java:920)\r\n        at android.widget.AdapterView.-wrap1(AdapterView.java)\r\n        at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:890)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\nDisconnected from the target VM, address: &#39;localhost:8620&#39;, transport: &#39;socket&#39;\r\n\r\nWhat am I doing wrong here? I am not an Android Developer but trying to build something useful for company I worked for.","title":"How to use Mikrotik API on Android Studio","body":"<p>I'm trying to use mikrotik api Java in android, but when i downloaded it and added it in android studio project and used it the app forced to close!</p>\n\n<p>This is my code:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    final String[] string_array = getResources().getStringArray(R.array.ip_venue);\n    spinner2 = findViewById(R.id.list_venue);\n    spinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; arg0, View view, int position, long id12) {\n                String Host1 = String.valueOf(string_array[arg0.getSelectedItemPosition()]);\n            ApiConnection con = null; // connect to router\n            try {\n                con = ApiConnection.connect(SocketFactory.getDefault(), Host1, PORT, 2000);\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.login(USERNAME,PASSWORD); // log in to router\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.execute(\"/system/reboot\"); // execute a command\n            } catch (MikrotikApiException e) {\n                e.printStackTrace();\n            }\n            try {\n                con.close(); // disconnect from router\n            } catch (ApiConnectionException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\n        }\n    });\n}\n</code></pre>\n\n<p>And I get this message:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.duaempatsinergi.sams.teknisi24, PID: 5947\nandroid.os.NetworkOnMainThreadException\n    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1303)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:333)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\n    at java.net.Socket.connect(Socket.java:586)\n    at me.legrange.mikrotik.impl.ApiConnectionImpl.open(ApiConnectionImpl.java:142)\n    at me.legrange.mikrotik.impl.ApiConnectionImpl.connect(ApiConnectionImpl.java:44)\n    at me.legrange.mikrotik.ApiConnection.connect(ApiConnection.java:48)\n    at com.duaempatsinergi.sams.teknisi24.MainActivity$1.onItemSelected(MainActivity.java:40)\n    at android.widget.AdapterView.fireOnSelected(AdapterView.java:931)\n    at android.widget.AdapterView.dispatchOnItemSelected(AdapterView.java:920)\n    at android.widget.AdapterView.-wrap1(AdapterView.java)\n    at android.widget.AdapterView$SelectionNotifier.run(AdapterView.java:890)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<p>Disconnected from the target VM, address: 'localhost:8620', transport: 'socket'</p>\n\n<p>What am I doing wrong here? I am not an Android Developer but trying to build something useful for company I worked for.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1557453611,"post_id":56069686,"comment_id":98778720,"body_markdown":"The `receive()` method apparently runs on a separate thread. All of the `setText()` calls inside of that are what you want to wrap in the `getActivity().runOnUiThread(new Runnable() ...`, not everything in `onCreateView()`.","body":"The <code>receive()</code> method apparently runs on a separate thread. All of the <code>setText()</code> calls inside of that are what you want to wrap in the <code>getActivity().runOnUiThread(new Runnable() ...</code>, not everything in <code>onCreateView()</code>."},{"owner":{"account_id":11103824,"reputation":70,"user_id":8151644,"display_name":"CCT"},"score":0,"creation_date":1557455787,"post_id":56069686,"comment_id":98779110,"body_markdown":"You created the view in a fragment and are accessing it&#39;s views from outside the fragment.  I think that&#39;s what&#39;s causing the error","body":"You created the view in a fragment and are accessing it&#39;s views from outside the fragment.  I think that&#39;s what&#39;s causing the error"}],"answers":[{"tags":[],"owner":{"account_id":1131194,"reputation":380,"user_id":1117219,"display_name":"StoneLam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557454832,"creation_date":1557454832,"answer_id":56069864,"question_id":56069686,"body_markdown":"The fastest way to resolve the problem is, wrap all &quot;tv0.setText()&quot; call inside receive() function to another &quot;runOnUiThread&quot; block. Like this:\r\n```\r\npublic void receive(Map&lt;String, String&gt; result) {\r\n  getActivity().runOnUiThread(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n      tv0.setText(result.get(&quot;platform&quot;));\r\n      tv1.setText(result.get(&quot;board-name&quot;));\r\n      tv2.setText(result.get(&quot;version&quot;));\r\n      tv3.setText(result.get(&quot;uptime&quot;));\r\n      tv4.setText(String.format(&quot;%s %%&quot;, result.get(&quot;cpu-load&quot;)));\r\n      tv5.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-memory&quot;)) / (1024*1024)));\r\n      tv6.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-memory&quot;)) / (1024*1024)));\r\n      tv7.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-hdd-space&quot;)) / (1024*1024)));\r\n      tv8.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-hdd-space&quot;)) / (1024*1024)));\r\n  });\r\n}\r\n```\r\nand the outter &quot;getActivity().runOnUiThread&quot; can be removed.\r\n\r\n\r\n","title":"How to fix &quot;Only the original thread that created a view hierarchy can touch its views&quot; in Android Fragment?","body":"<p>The fastest way to resolve the problem is, wrap all \"tv0.setText()\" call inside receive() function to another \"runOnUiThread\" block. Like this:</p>\n\n<pre><code>public void receive(Map&lt;String, String&gt; result) {\n  getActivity().runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n      tv0.setText(result.get(\"platform\"));\n      tv1.setText(result.get(\"board-name\"));\n      tv2.setText(result.get(\"version\"));\n      tv3.setText(result.get(\"uptime\"));\n      tv4.setText(String.format(\"%s %%\", result.get(\"cpu-load\")));\n      tv5.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-memory\")) / (1024*1024)));\n      tv6.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-memory\")) / (1024*1024)));\n      tv7.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-hdd-space\")) / (1024*1024)));\n      tv8.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-hdd-space\")) / (1024*1024)));\n  });\n}\n</code></pre>\n\n<p>and the outter \"getActivity().runOnUiThread\" can be removed.</p>\n"}],"owner":{"account_id":15907944,"reputation":21,"user_id":11478615,"display_name":"Yoga Hilmi Tasanah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56069864,"answer_count":1,"score":0,"last_activity_date":1701637008,"creation_date":1557452979,"question_id":56069686,"body_markdown":"I have a problem in my code below\r\n\r\n    public class StatusFragment extends Fragment {\r\n    \r\n    \r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            final View view = inflater.inflate(R.layout.fragment_status, container, false);\r\n    \r\n            //Untuk menjalankan command dari API\r\n            {\r\n                getActivity().runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n    \r\n                        final TextView tv0 = (TextView) view.findViewById(R.id.textView0);\r\n                        final TextView tv1 = (TextView) view.findViewById(R.id.textView1);\r\n                        final TextView tv2 = (TextView) view.findViewById(R.id.textView2);\r\n                        final TextView tv3 = (TextView) view.findViewById(R.id.textView3);\r\n                        final TextView tv4 = (TextView) view.findViewById(R.id.textView4);\r\n                        final TextView tv5 = (TextView) view.findViewById(R.id.textView5);\r\n                        final TextView tv6 = (TextView) view.findViewById(R.id.textView6);\r\n                        final TextView tv7 = (TextView) view.findViewById(R.id.textView7);\r\n                        final TextView tv8 = (TextView) view.findViewById(R.id.textView8);\r\n    \r\n                        ApiConnection con = MainActivity.getCon();\r\n                        if (con !=null)\r\n                            try {\r\n    \r\n                                //Untuk Menampilkan Resource dari Mikrotik\r\n                                String rs = con.execute(&quot;/system/resource/print interval=3&quot;,\r\n                                        new ResultListener() {\r\n    \r\n                                            public void receive(Map&lt;String, String&gt; result) {\r\n                                                tv0.setText(result.get(&quot;platform&quot;));\r\n                                                tv1.setText(result.get(&quot;board-name&quot;));\r\n                                                tv2.setText(result.get(&quot;version&quot;));\r\n                                                tv3.setText(result.get(&quot;uptime&quot;));\r\n                                                tv4.setText(String.format(&quot;%s %%&quot;, result.get(&quot;cpu-load&quot;)));\r\n                                                tv5.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-memory&quot;)) / (1024*1024)));\r\n                                                tv6.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-memory&quot;)) / (1024*1024)));\r\n                                                tv7.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;free-hdd-space&quot;)) / (1024*1024)));\r\n                                                tv8.setText(String.format(&quot;%s MB&quot;, Integer.parseInt(result.get(&quot;total-hdd-space&quot;)) / (1024*1024)));\r\n                                            }\r\n    \r\n                                            public void error(MikrotikApiException e) {\r\n                                                System.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n                                            }\r\n    \r\n                                            public void completed() {\r\n                                                System.out.println(&quot;Asynchronous command has finished&quot;);\r\n                                            }\r\n                                        }\r\n    \r\n                                );\r\n    \r\n    \r\n                            } catch (MikrotikApiException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                    }\r\n                });\r\n    \r\n    \r\n            }\r\n    \r\n            return view;\r\n        }\r\n    \r\n    }\r\n\r\n--------- beginning of crash\r\n\r\n&gt; 05-10 08:26:58.797 7122-7164/com.tasanahetech.mikroboxv2\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: Mikrotik API Result Processor\r\n&gt;     Process: com.tasanahetech.mikroboxv2, PID: 7122\r\n&gt;     android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n&gt;         at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6556)\r\n&gt;         at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:907)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:360)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.support.constraint.ConstraintLayout.requestLayout(ConstraintLayout.java:3172)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.view.View.requestLayout(View.java:18722)\r\n&gt;         at android.widget.TextView.checkForRelayout(TextView.java:7172)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4342)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4199)\r\n&gt;         at android.widget.TextView.setText(TextView.java:4174)\r\n&gt;         at com.tasanahetech.mikroboxv2.StatusFragment$1$1.receive(StatusFragment.java:57)\r\n&gt;         at com.tasanahetech.mikroboxv2.api.impl.ApiConnectionImpl$Processor.run(ApiConnectionImpl.java:258)\r\n\r\n\r\nThank you\r\n","title":"How to fix &quot;Only the original thread that created a view hierarchy can touch its views&quot; in Android Fragment?","body":"<p>I have a problem in my code below</p>\n\n<pre><code>public class StatusFragment extends Fragment {\n\n\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        final View view = inflater.inflate(R.layout.fragment_status, container, false);\n\n        //Untuk menjalankan command dari API\n        {\n            getActivity().runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    final TextView tv0 = (TextView) view.findViewById(R.id.textView0);\n                    final TextView tv1 = (TextView) view.findViewById(R.id.textView1);\n                    final TextView tv2 = (TextView) view.findViewById(R.id.textView2);\n                    final TextView tv3 = (TextView) view.findViewById(R.id.textView3);\n                    final TextView tv4 = (TextView) view.findViewById(R.id.textView4);\n                    final TextView tv5 = (TextView) view.findViewById(R.id.textView5);\n                    final TextView tv6 = (TextView) view.findViewById(R.id.textView6);\n                    final TextView tv7 = (TextView) view.findViewById(R.id.textView7);\n                    final TextView tv8 = (TextView) view.findViewById(R.id.textView8);\n\n                    ApiConnection con = MainActivity.getCon();\n                    if (con !=null)\n                        try {\n\n                            //Untuk Menampilkan Resource dari Mikrotik\n                            String rs = con.execute(\"/system/resource/print interval=3\",\n                                    new ResultListener() {\n\n                                        public void receive(Map&lt;String, String&gt; result) {\n                                            tv0.setText(result.get(\"platform\"));\n                                            tv1.setText(result.get(\"board-name\"));\n                                            tv2.setText(result.get(\"version\"));\n                                            tv3.setText(result.get(\"uptime\"));\n                                            tv4.setText(String.format(\"%s %%\", result.get(\"cpu-load\")));\n                                            tv5.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-memory\")) / (1024*1024)));\n                                            tv6.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-memory\")) / (1024*1024)));\n                                            tv7.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"free-hdd-space\")) / (1024*1024)));\n                                            tv8.setText(String.format(\"%s MB\", Integer.parseInt(result.get(\"total-hdd-space\")) / (1024*1024)));\n                                        }\n\n                                        public void error(MikrotikApiException e) {\n                                            System.out.println(\"An error occurred: \" + e.getMessage());\n                                        }\n\n                                        public void completed() {\n                                            System.out.println(\"Asynchronous command has finished\");\n                                        }\n                                    }\n\n                            );\n\n\n                        } catch (MikrotikApiException e) {\n                            e.printStackTrace();\n                        }\n                }\n            });\n\n\n        }\n\n        return view;\n    }\n\n}\n</code></pre>\n\n<p>--------- beginning of crash</p>\n\n<blockquote>\n  <p>05-10 08:26:58.797 7122-7164/com.tasanahetech.mikroboxv2\n  E/AndroidRuntime: FATAL EXCEPTION: Mikrotik API Result Processor\n      Process: com.tasanahetech.mikroboxv2, PID: 7122\n      android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n          at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6556)\n          at android.view.ViewRootImpl.requestLayout(ViewRootImpl.java:907)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:360)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.support.constraint.ConstraintLayout.requestLayout(ConstraintLayout.java:3172)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.view.View.requestLayout(View.java:18722)\n          at android.widget.TextView.checkForRelayout(TextView.java:7172)\n          at android.widget.TextView.setText(TextView.java:4342)\n          at android.widget.TextView.setText(TextView.java:4199)\n          at android.widget.TextView.setText(TextView.java:4174)\n          at com.tasanahetech.mikroboxv2.StatusFragment$1$1.receive(StatusFragment.java:57)\n          at com.tasanahetech.mikroboxv2.api.impl.ApiConnectionImpl$Processor.run(ApiConnectionImpl.java:258)</p>\n</blockquote>\n\n<p>Thank you</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1701636861,"creation_date":1648893594,"answer_id":71716538,"question_id":71715844,"body_markdown":"`MANAGE_EXTERNAL_STORAGE` is for Andoid 11+ devices ([API 30](https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE)).\r\n\r\nFor an Android 10 device add `requestLegacyExternalStorage` to manifest file.","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p><code>MANAGE_EXTERNAL_STORAGE</code> is for Andoid 11+ devices (<a href=\"https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">API 30</a>).</p>\n<p>For an Android 10 device add <code>requestLegacyExternalStorage</code> to manifest file.</p>\n"},{"comments":[{"owner":{"account_id":24241808,"reputation":45,"user_id":18194074,"display_name":"dandan21"},"score":0,"creation_date":1648906342,"post_id":71716907,"comment_id":126744382,"body_markdown":"As shown in my example I am using both WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE &amp; &lt;application android:name=&quot;.GlobalVars&quot; android:requestLegacyExternalStorage=&quot;true&quot;.  Still I have no access to external storage in android 10","body":"As shown in my example I am using both WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE &amp; &lt;application android:name=&quot;.GlobalVars&quot; android:requestLegacyExternalStorage=&quot;true&quot;.  Still I have no access to external storage in android 10"},{"owner":{"account_id":931839,"reputation":2062,"user_id":1412973,"accept_rate":57,"display_name":"colintheshots"},"score":0,"creation_date":1665424416,"post_id":71716907,"comment_id":130692431,"body_markdown":"@dandan21 This sounds like user error. You should set that parameter on YOUR application, not an arbitrary one from an example. You don&#39;t want to add additional application entries to your manifest file for the simple reason that it won&#39;t affect your app and it&#39;ll add another one.","body":"@dandan21 This sounds like user error. You should set that parameter on YOUR application, not an arbitrary one from an example. You don&#39;t want to add additional application entries to your manifest file for the simple reason that it won&#39;t affect your app and it&#39;ll add another one."}],"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648896838,"creation_date":1648896838,"answer_id":71716907,"question_id":71715844,"body_markdown":"App below android 10\r\n\r\n - If you want to write and read any file in the External storage, you can use WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE\r\n\r\nFor Android 10\r\n\r\n - you can use requestLegacyExternalStorage=true in the application tag in your manifest. It will provide you the access to write file in External storage.\r\n\r\n&gt;  &lt;application\r\n      android:name=&quot;.GlobalVars&quot;\r\n      android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n     \r\nBut it&#39;s a temporary solution. So the best solution is using SAF (Storage Access Framework) [storage access framework][1] or Scoped Storage [Scoped storage][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/providers/document-provider\r\n  [2]: https://developer.android.com/about/versions/11/privacy/storage\r\n\r\n\r\nFor android 11, Android system ignores the requestLegacyExternalStorage. So you can either Scoped storage or SAF to write any file into storage.\r\n\r\nAlso Note: If your app targets Android 11, it cannot access the files in any other app&#39;s data directory, even if the other app targets Android 8.1 (API level 27) or lower and has made the files in its data directory world-readable.\r\n\r\n","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>App below android 10</p>\n<ul>\n<li>If you want to write and read any file in the External storage, you can use WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE</li>\n</ul>\n<p>For Android 10</p>\n<ul>\n<li>you can use requestLegacyExternalStorage=true in the application tag in your manifest. It will provide you the access to write file in External storage.</li>\n</ul>\n<blockquote>\n<p>&lt;application\nandroid:name=&quot;.GlobalVars&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;</p>\n</blockquote>\n<p>But it's a temporary solution. So the best solution is using SAF (Storage Access Framework) <a href=\"https://developer.android.com/guide/topics/providers/document-provider\" rel=\"nofollow noreferrer\">storage access framework</a> or Scoped Storage <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Scoped storage</a></p>\n<p>For android 11, Android system ignores the requestLegacyExternalStorage. So you can either Scoped storage or SAF to write any file into storage.</p>\n<p>Also Note: If your app targets Android 11, it cannot access the files in any other app's data directory, even if the other app targets Android 8.1 (API level 27) or lower and has made the files in its data directory world-readable.</p>\n"},{"tags":[],"owner":{"account_id":24241808,"reputation":45,"user_id":18194074,"display_name":"dandan21"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1649314644,"creation_date":1649314644,"answer_id":71777610,"question_id":71715844,"body_markdown":"I found the solution after some more research:\r\nI ended up doing this:\r\n\r\nAdd this to manifest file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt; --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\nDefine the required permission to ask for:\r\n\r\n    public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\r\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\r\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\r\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\r\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\r\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\r\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\r\n    );\r\n\r\nRequire those permission in mainActivity:\r\n\r\n\r\n    ActivityResultLauncher&lt;String[]&gt; mPermissionResultLauncher;\r\n   \r\n    @Override\r\n    protected void onStart() {\r\n        mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\r\n            @Override\r\n            public void onActivityResult(Map&lt;String, Boolean&gt; result) {\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    if (result.get(permission.ManifestName) != null) {\r\n                        permission.IsGranted = result.get(permission.ManifestName);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= 30) {\r\n            if (Environment.isExternalStorageManager()){\r\n            }else{\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                //intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n                intent.setData(uri);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n        requestPermission();\r\n        super.onStart();\r\n    }\r\n\r\n    private void requestPermission() {\r\n        // A simple check of whether runtime permissions need to be managed\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\r\n            for(Permissions permission: GlobalVars.AppPermissions){\r\n                int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\r\n                int pg = PackageManager.PERMISSION_GRANTED;\r\n                if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\r\n                    permissionRequest.add(permission.ManifestName);\r\n                }\r\n            }\r\n            if (!permissionRequest.isEmpty()){\r\n                mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\r\n            }\r\n        }\r\n    }","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>I found the solution after some more research:\nI ended up doing this:</p>\n<p>Add this to manifest file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt; &lt;!-- &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt; --&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SET_WALLPAPER&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n</code></pre>\n<p>Define the required permission to ask for:</p>\n<pre><code>public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\n        new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\n        new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\n        new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\n        new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\n        new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\n        new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\n        new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\n        new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\n        new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\n        new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\n        new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\n);\n</code></pre>\n<p>Require those permission in mainActivity:</p>\n<pre><code>ActivityResultLauncher&lt;String[]&gt; mPermissionResultLauncher;\n\n@Override\nprotected void onStart() {\n    mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\n        @Override\n        public void onActivityResult(Map&lt;String, Boolean&gt; result) {\n            for(Permissions permission: GlobalVars.AppPermissions){\n                if (result.get(permission.ManifestName) != null) {\n                    permission.IsGranted = result.get(permission.ManifestName);\n                }\n            }\n        }\n    });\n\n    if(Build.VERSION.SDK_INT &gt;= 30) {\n        if (Environment.isExternalStorageManager()){\n        }else{\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            //intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n            intent.setData(uri);\n            startActivity(intent);\n        }\n    }\n    requestPermission();\n    super.onStart();\n}\n\nprivate void requestPermission() {\n    // A simple check of whether runtime permissions need to be managed\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\n        for(Permissions permission: GlobalVars.AppPermissions){\n            int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\n            int pg = PackageManager.PERMISSION_GRANTED;\n            if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\n                permissionRequest.add(permission.ManifestName);\n            }\n        }\n        if (!permissionRequest.isEmpty()){\n            mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24241808,"reputation":45,"user_id":18194074,"display_name":"dandan21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1701636861,"creation_date":1648886615,"question_id":71715844,"body_markdown":"I am testing my app on android 10 and I try to gain r/w access to all files.\r\nI tried to follow this [Solution][1] but I still can&#39;t get the MANAGE_EXTERNAL_STORAGE permission.\r\nI also tried this [Solution 2][2].\r\n\r\nOn my manifest I ask for:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n...\r\n\r\n    &lt;application\r\n        android:name=&quot;.GlobalVars&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.HangMan&quot;&gt;\r\n\r\n    class Permissions extends Application{\r\n        public String Name;\r\n        public String ManifestName;\r\n        public boolean IsGranted;\r\n    \r\n        Permissions(String name, String manifestName){\r\n            Name = name;\r\n            ManifestName = manifestName;\r\n            IsGranted = false;\r\n        }\r\n    \r\n        Permissions(String name, String manifestName, boolean isGranted){\r\n            Name = name;\r\n            ManifestName = manifestName;\r\n            IsGranted = isGranted;\r\n        }\r\n    }\r\n\r\nWhen the app is create is check the permissions and is the permissions are not granted the user has to accept them.\r\nI use this code:\r\nDefine the required permission globally:\r\n```\r\npublic class GlobalVars extends Application {\r\n public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\r\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\r\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\r\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\r\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\r\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\r\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\r\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\r\n    );\r\n}\r\n```\r\nin my MainActivity:\r\n\r\n    protected void onStart() {\r\n        mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\r\n            @Override\r\n            public void onActivityResult(Map&lt;String, Boolean&gt; result) {\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    if (result.get(permission.ManifestName) != null) {\r\n                        permission.IsGranted = result.get(permission.ManifestName);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    \r\n        if(Build.VERSION.SDK_INT &gt;= 30) {\r\n            if (Environment.isExternalStorageManager()){\r\n            }else{\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\n                intent.setData(uri);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    \r\n        requestPermission();\r\n        super.onStart();\r\n    }\r\n        private void requestPermission() {\r\n            // A simple check of whether runtime permissions need to be managed\r\n    \r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\r\n                for(Permissions permission: GlobalVars.AppPermissions){\r\n                    int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\r\n                    int pg = PackageManager.PERMISSION_GRANTED;\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\r\n                        permissionRequest.add(permission.ManifestName);\r\n                    }\r\n                }\r\n                if (!permissionRequest.isEmpty()){\r\n                    mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\r\n                }\r\n            }\r\n        }\r\n\r\nThe above code works well and pops up the required requested permissions if they are nor granted.\r\nHowever, when I check, e.g.:\r\n\r\n    int me = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.MANAGE_EXTERNAL_STORAGE);\r\n    int re = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n    int we = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n\r\nAfter granting all the permissions MANAGE_EXTERNAL_STORAGE always return -1.\r\nMy app as I noticed has not r/w access to other files, e.g. under `/sdcard/downloads/` \r\n\r\nSo how can I add R/W permission for all files?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65876736/how-do-you-request-manage-external-storage-permission-in-android\r\n  [2]: https://stackoverflow.com/questions/71459422/alternative-to-requestlegacyexternalstorage-and-manage-external-storage-for-publ","title":"Unable to request MANAGE_EXTERNAL_STORAGE (android 10)","body":"<p>I am testing my app on android 10 and I try to gain r/w access to all files.\nI tried to follow this <a href=\"https://stackoverflow.com/questions/65876736/how-do-you-request-manage-external-storage-permission-in-android\">Solution</a> but I still can't get the MANAGE_EXTERNAL_STORAGE permission.\nI also tried this <a href=\"https://stackoverflow.com/questions/71459422/alternative-to-requestlegacyexternalstorage-and-manage-external-storage-for-publ\">Solution 2</a>.</p>\n<p>On my manifest I ask for:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>...</p>\n<pre><code>&lt;application\n    android:name=&quot;.GlobalVars&quot;\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.HangMan&quot;&gt;\n\nclass Permissions extends Application{\n    public String Name;\n    public String ManifestName;\n    public boolean IsGranted;\n\n    Permissions(String name, String manifestName){\n        Name = name;\n        ManifestName = manifestName;\n        IsGranted = false;\n    }\n\n    Permissions(String name, String manifestName, boolean isGranted){\n        Name = name;\n        ManifestName = manifestName;\n        IsGranted = isGranted;\n    }\n}\n</code></pre>\n<p>When the app is create is check the permissions and is the permissions are not granted the user has to accept them.\nI use this code:\nDefine the required permission globally:</p>\n<pre><code>public class GlobalVars extends Application {\n public static List&lt;Permissions&gt; AppPermissions = Arrays.asList(\n            new Permissions(&quot;MANAGE_EXTERNAL_STORAGE&quot;, Manifest.permission.MANAGE_EXTERNAL_STORAGE),\n            new Permissions(&quot;READ_EXTERNAL_STORAGE&quot;, Manifest.permission.READ_EXTERNAL_STORAGE),\n            new Permissions(&quot;WRITE_EXTERNAL_STORAGE&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE),\n            new Permissions(&quot;READ_SMS&quot;, Manifest.permission.READ_SMS),\n            new Permissions(&quot;SEND_SMS&quot;, Manifest.permission.SEND_SMS),\n            new Permissions(&quot;ACCESS_BACKGROUND_LOCATION&quot;, Manifest.permission.ACCESS_BACKGROUND_LOCATION),\n            new Permissions(&quot;CAMERA&quot;, Manifest.permission.CAMERA),\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.RECORD_AUDIO),\n            new Permissions(&quot;WRITE_CONTACTS&quot;, Manifest.permission.WRITE_CONTACTS),\n            new Permissions(&quot;READ_CONTACTS&quot;, Manifest.permission.READ_CONTACTS),\n            new Permissions(&quot;RECORD_AUDIO&quot;, Manifest.permission.READ_CALL_LOG)\n    );\n}\n</code></pre>\n<p>in my MainActivity:</p>\n<pre><code>protected void onStart() {\n    mPermissionResultLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), new ActivityResultCallback&lt;Map&lt;String, Boolean&gt;&gt;() {\n        @Override\n        public void onActivityResult(Map&lt;String, Boolean&gt; result) {\n            for(Permissions permission: GlobalVars.AppPermissions){\n                if (result.get(permission.ManifestName) != null) {\n                    permission.IsGranted = result.get(permission.ManifestName);\n                }\n            }\n        }\n    });\n\n    if(Build.VERSION.SDK_INT &gt;= 30) {\n        if (Environment.isExternalStorageManager()){\n        }else{\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            Uri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\n            intent.setData(uri);\n            startActivity(intent);\n        }\n    }\n\n    requestPermission();\n    super.onStart();\n}\n    private void requestPermission() {\n        // A simple check of whether runtime permissions need to be managed\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            List&lt;String&gt; permissionRequest = new ArrayList&lt;String&gt;();\n            for(Permissions permission: GlobalVars.AppPermissions){\n                int pp = ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName);\n                int pg = PackageManager.PERMISSION_GRANTED;\n                if (ContextCompat.checkSelfPermission(MainActivity.this, permission.ManifestName) != PackageManager.PERMISSION_GRANTED) {\n                    permissionRequest.add(permission.ManifestName);\n                }\n            }\n            if (!permissionRequest.isEmpty()){\n                mPermissionResultLauncher.launch(permissionRequest.toArray(new String[0]));\n            }\n        }\n    }\n</code></pre>\n<p>The above code works well and pops up the required requested permissions if they are nor granted.\nHowever, when I check, e.g.:</p>\n<pre><code>int me = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.MANAGE_EXTERNAL_STORAGE);\nint re = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE);\nint we = ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n</code></pre>\n<p>After granting all the permissions MANAGE_EXTERNAL_STORAGE always return -1.\nMy app as I noticed has not r/w access to other files, e.g. under <code>/sdcard/downloads/</code></p>\n<p>So how can I add R/W permission for all files?</p>\n"},{"tags":["java","image","javafx","imageview","geturl"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1701655704,"post_id":77596110,"comment_id":136799045,"body_markdown":"Which `Image` constructor are you using? If you use `Image(String)` then `getUrl()` should not be returning null. However, it will return null if you use `Image(InputStream)`. Regardless, trying to get the source of the image from an `Image` object is, at least in my opinion, the wrong approach. Keep this information in the model associated with the `Image` / `ImageView`.","body":"Which <code>Image</code> constructor are you using? If you use <code>Image(String)</code> then <code>getUrl()</code> should not be returning null. However, it will return null if you use <code>Image(InputStream)</code>. Regardless, trying to get the source of the image from an <code>Image</code> object is, at least in my opinion, the wrong approach. Keep this information in the model associated with the <code>Image</code> / <code>ImageView</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701687101,"post_id":77596110,"comment_id":136802317,"body_markdown":"For such a question you should provide the code you use to create the image you set into your `holding2` variable (e.g. provide a [mcve]).  Also, an i is capitalized, always.","body":"For such a question you should provide the code you use to create the image you set into your <code>holding2</code> variable (e.g. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>).  Also, an i is capitalized, always."},{"owner":{"account_id":23955688,"reputation":13,"user_id":17946609,"display_name":"king cannibal"},"score":0,"creation_date":1701720777,"post_id":77596110,"comment_id":136808588,"body_markdown":"ill try another approch, the code setting the imageview&#39;s image its stretched over various files with userinput impacting the image so i could add the code. Thanks though, if you set your comment as a answer ill set it as a answer","body":"ill try another approch, the code setting the imageview&#39;s image its stretched over various files with userinput impacting the image so i could add the code. Thanks though, if you set your comment as a answer ill set it as a answer"}],"owner":{"account_id":23955688,"reputation":13,"user_id":17946609,"display_name":"king cannibal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701636356,"creation_date":1701636356,"question_id":77596110,"body_markdown":"ive been rectently working with javafx. In my code i&#39;ve came across an annoying feature of javafx and i was wondering if there was a way of getting around it. Through my research ive realised &#39;imageview&#39; nodes dont store the value of the image eg. location. I would like to get the directory from my imageview; which itself was passed through a class call. Everytime i use &#39;getUrl&#39; it always returns as null which is annoying. when i set the image to the imageview it was set from a png image file so it should have a directory. There is the file name which i need for my code. This is a simple problem, for which i have no found a fix. Please help me  \r\n\r\n````  ImageView holding2 = (ImageView) inven.getChildren().get(occupied+(9*occupied1));\r\n                           Image image = holding2.getImage();\r\n                    \r\n                           System.out.println(image.getUrl());\r\n````\r\n^^^^\r\nthis returns as null","title":"Get image directory from ImageView directory in javafx","body":"<p>ive been rectently working with javafx. In my code i've came across an annoying feature of javafx and i was wondering if there was a way of getting around it. Through my research ive realised 'imageview' nodes dont store the value of the image eg. location. I would like to get the directory from my imageview; which itself was passed through a class call. Everytime i use 'getUrl' it always returns as null which is annoying. when i set the image to the imageview it was set from a png image file so it should have a directory. There is the file name which i need for my code. This is a simple problem, for which i have no found a fix. Please help me</p>\n<pre><code>                           Image image = holding2.getImage();\n                    \n                           System.out.println(image.getUrl());\n</code></pre>\n<p>^^^^\nthis returns as null</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701175729,"creation_date":1701175729,"answer_id":77564023,"question_id":77563612,"body_markdown":"The error basically suggest that you don&#39;t have the right version of the **JDK** installed or you might be using a JRE (Java Runtime Environment which comes normally bundeled by default). If that&#39;s the case you should get the proper JDK (Java Development Kit) and update your runtime environment in VSCode.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>The error basically suggest that you don't have the right version of the <strong>JDK</strong> installed or you might be using a JRE (Java Runtime Environment which comes normally bundeled by default). If that's the case you should get the proper JDK (Java Development Kit) and update your runtime environment in VSCode.</p>\n"},{"tags":[],"owner":{"account_id":28859373,"reputation":1,"user_id":22103529,"display_name":"Girts S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701635961,"creation_date":1701635961,"answer_id":77596096,"question_id":77563612,"body_markdown":"For me the jre change to correct one(one I specified in https://start.spring.io/) in window-&gt;preferences-&gt;Java-&gt;InstalledJREs resolved the problem. It is not enough that you have installed the correct JRE/JDK- you have to use correct one in the Eclipse.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>For me the jre change to correct one(one I specified in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>) in window-&gt;preferences-&gt;Java-&gt;InstalledJREs resolved the problem. It is not enough that you have installed the correct JRE/JDK- you have to use correct one in the Eclipse.</p>\n"}],"owner":{"account_id":29137734,"reputation":3,"user_id":22321509,"display_name":"taha Glbz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77564023,"answer_count":2,"score":0,"last_activity_date":1701635961,"creation_date":1701172036,"question_id":77563612,"body_markdown":"I created a project with spring initialzr and used the java 21 version. But I get this error when I run vscode without doing anything on it, how can I solve it.\r\n\r\nThe project was not built due to &quot;release 20 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent\r\n\r\nI tried to create new project and ı got this error again and again. I am waiting to get help.","title":"Java Spring Boot &quot;release is not in the system&quot; Error","body":"<p>I created a project with spring initialzr and used the java 21 version. But I get this error when I run vscode without doing anything on it, how can I solve it.</p>\n<p>The project was not built due to &quot;release 20 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent</p>\n<p>I tried to create new project and ı got this error again and again. I am waiting to get help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701635256,"post_id":77596033,"comment_id":136797433,"body_markdown":"Close the output stream before you exit the thread.","body":"Close the output stream before you exit the thread."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701703308,"post_id":77596033,"comment_id":136805424,"body_markdown":"The fundamental problem is that transferTo, and all code, has no way to know when an OutputStream has reached EOF.  I don&#39;t know enough about kernels to know how they handle a pipe;  perhaps the sending process’s stdout gets routed to the equivalent of a [nullOutputStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()) once the receiving process’s stdin is closed.","body":"The fundamental problem is that transferTo, and all code, has no way to know when an OutputStream has reached EOF.  I don&#39;t know enough about kernels to know how they handle a pipe;  perhaps the sending process’s stdout gets routed to the equivalent of a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()\" rel=\"nofollow noreferrer\">nullOutputStream</a> once the receiving process’s stdin is closed."}],"owner":{"account_id":9790557,"reputation":85,"user_id":10217464,"display_name":"Plus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701634676,"creation_date":1701634676,"question_id":77596033,"body_markdown":"This following code throws a `IOException: Broken pipe`,  \r\nsince the `head -c 100` process terminates when it received 100 bytes.\r\n\r\nCan I prevent the broken pipe issue?  \r\nI would like to gracefully terminate other processes when `head` is finished.  \r\n(I know using `ProcessBuilder.startPipeline` just works but I want to explore this method)\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.concurrent.Callable;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        Process pa = new ProcessBuilder(&quot;cat&quot;, &quot;/dev/random&quot;).start();\r\n        Process pb = new ProcessBuilder(&quot;base64&quot;, &quot;-w&quot;, &quot;0&quot;).start();\r\n        Process pc = new ProcessBuilder(&quot;head&quot;, &quot;-c&quot;, &quot;100&quot;).start();\r\n\r\n        Thread ta = new Thread(uncheck(() -&gt; pa.getInputStream().transferTo(pb.getOutputStream())));\r\n        Thread tb = new Thread(uncheck(() -&gt; pb.getInputStream().transferTo(pc.getOutputStream())));\r\n        Thread tc = new Thread(uncheck(() -&gt; pc.getInputStream().transferTo(System.out)));\r\n\r\n        ta.start();\r\n        tb.start();\r\n        tc.start();\r\n        ta.join();\r\n        tb.join();\r\n        tc.join();\r\n    }\r\n\r\n    public static Runnable uncheck(Callable&lt;?&gt; runnable) {\r\n        return () -&gt; {\r\n            try {\r\n                runnable.call();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```\r\n1pbx+pn/KC1F5ckABku6jZCFvfJrKVNJfWCcuLCnkiI1ZpuFj5OzY4BAodycgeDHui8SD+7pcHFf0i9qRe1/Ye63Wd+fF+iX2BK4Exception in thread &quot;Thread-1&quot; java.lang.RuntimeException: java.io.IOException: Broken pipe\r\n\tat main.Main.lambda$3(Main.java:29)\r\n\tat java.base/java.lang.Thread.run(Thread.java:842)\r\nCaused by: java.io.IOException: Broken pipe\r\n\tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n\tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\r\n\tat java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:123)\r\n\tat java.base/java.io.InputStream.transferTo(InputStream.java:783)\r\n\tat main.Main.lambda$1(Main.java:13)\r\n\tat main.Main.lambda$3(Main.java:27)\r\n\t... 1 more\r\n```","title":"Preventing IOException (broken pipe) when a process terminates in a chained processes","body":"<p>This following code throws a <code>IOException: Broken pipe</code>,<br />\nsince the <code>head -c 100</code> process terminates when it received 100 bytes.</p>\n<p>Can I prevent the broken pipe issue?<br />\nI would like to gracefully terminate other processes when <code>head</code> is finished.<br />\n(I know using <code>ProcessBuilder.startPipeline</code> just works but I want to explore this method)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.concurrent.Callable;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        Process pa = new ProcessBuilder(&quot;cat&quot;, &quot;/dev/random&quot;).start();\n        Process pb = new ProcessBuilder(&quot;base64&quot;, &quot;-w&quot;, &quot;0&quot;).start();\n        Process pc = new ProcessBuilder(&quot;head&quot;, &quot;-c&quot;, &quot;100&quot;).start();\n\n        Thread ta = new Thread(uncheck(() -&gt; pa.getInputStream().transferTo(pb.getOutputStream())));\n        Thread tb = new Thread(uncheck(() -&gt; pb.getInputStream().transferTo(pc.getOutputStream())));\n        Thread tc = new Thread(uncheck(() -&gt; pc.getInputStream().transferTo(System.out)));\n\n        ta.start();\n        tb.start();\n        tc.start();\n        ta.join();\n        tb.join();\n        tc.join();\n    }\n\n    public static Runnable uncheck(Callable&lt;?&gt; runnable) {\n        return () -&gt; {\n            try {\n                runnable.call();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>1pbx+pn/KC1F5ckABku6jZCFvfJrKVNJfWCcuLCnkiI1ZpuFj5OzY4BAodycgeDHui8SD+7pcHFf0i9qRe1/Ye63Wd+fF+iX2BK4Exception in thread &quot;Thread-1&quot; java.lang.RuntimeException: java.io.IOException: Broken pipe\n    at main.Main.lambda$3(Main.java:29)\n    at java.base/java.lang.Thread.run(Thread.java:842)\nCaused by: java.io.IOException: Broken pipe\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:349)\n    at java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:123)\n    at java.base/java.io.InputStream.transferTo(InputStream.java:783)\n    at main.Main.lambda$1(Main.java:13)\n    at main.Main.lambda$3(Main.java:27)\n    ... 1 more\n</code></pre>\n"},{"tags":["java","android","image-processing","object-detection","yolo"],"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1701344534,"answer_count":0,"score":0,"last_activity_date":1701634470,"creation_date":1698391584,"question_id":77372206,"body_markdown":" I used two yolov5 models. My first model detects the tray. In my second model, it finds food types.\r\n\r\nThe size of the first model was 416, then I cropped it. I sent it to the second model. The size of my second model is 224. my question: There is a shift in the second model.\r\n\r\nI think, The reason for the shift problem is crop . It detective the food in the cropped image. Draws the result for the original image. It should change according to the center of the tray.  I understand the problem, but I didn&#39;t understand how to change it.\r\n[![Table][1]][1]\r\nI created a table in debug mode. I wrote the values.\r\nDo I need to increase xPos and yPos values when drawing? There are only location values in the MultiBoxerTracker file. bottom, left right, top. I&#39;m so confused.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYFz9.jpg\r\n\r\n\r\n\r\n    Yolov5Classifier2.java coordinate part\r\n        public ArrayList&lt;Recognition&gt; recognizeImage2(Bitmap bitmap) {\r\n      final float xPos = out[0][i][0];\r\n                    final float yPos = out[0][i][1];\r\n    \r\n                    final float w = out[0][i][2];\r\n                    final float h = out[0][i][3];\r\n                    Log.d(&quot;secondyolov5&quot;,\r\n                            Float.toString(xPos) + &#39;,&#39; + yPos + &#39;,&#39; + w + &#39;,&#39; + h);\r\n                    final RectF rect =\r\n                            new RectF( Math.max(0, xPos - w / 2),\r\n                                    Math.max(0, yPos - h / 2),\r\n                                    Math.min(bitmap.getWidth() - 1, xPos + w / 2),\r\n                                    Math.min(bitmap.getHeight() - 1, yPos + h / 2));\r\n    \r\n    \r\n    \r\n    \r\n                    detections.add(new Recognition(&quot;&quot; + offset, labels.get(detectedClass),\r\n    \r\n    \r\n                            confidenceInClass, rect, detectedClass));}\r\n\r\nMultiTracker2.java part of draw\r\n\r\n      public synchronized void draw(final Canvas canvas,float kayabi,float kayabla ) {\r\n        \r\n        final boolean rotated = sensorOrientation % 180 == 90;\r\n        final float multiplier =\r\n                Math.min(\r\n                        canvas.getHeight() / (float) (rotated ? frameWidth : frameHeight),\r\n                        canvas.getWidth() / (float) (rotated ? frameHeight : frameWidth));\r\n        frameToCanvasMatrix =\r\n                ImageUtils.getTransformationMatrix(\r\n                        frameWidth,\r\n                        frameHeight,\r\n                        (int) (multiplier * (rotated ? frameHeight : frameWidth)),\r\n                        (int) (multiplier * (rotated ? frameWidth : frameHeight)),\r\n                        sensorOrientation,\r\n                        false);\r\n        for (final TrackedRecognition recognition : trackedObjects) {\r\n    \r\n          final RectF trackedPos = new RectF(recognition.location);\r\n    \r\n    \r\n    \r\n    \r\n          getFrameToCanvasMatrix().mapRect(trackedPos);\r\n    \r\n    \r\n    \r\n          boxPaint.setColor(recognition.color);\r\n    \r\n          float cornerSize = Math.min(trackedPos.width(), trackedPos.height()) / 8.0f;\r\n    \r\n          canvas.drawRoundRect(trackedPos, cornerSize, cornerSize, boxPaint);\r\n    \r\n    \r\n          final String labelString =\r\n                  !TextUtils.isEmpty(recognition.title)\r\n                          ? String.format(&quot;%s %.2f&quot;, recognition.title, (100 * recognition.detectionConfidence))\r\n                          : String.format(&quot;%.2f&quot;, (100 * recognition.detectionConfidence));\r\n          //            borderedText.drawText(canvas, trackedPos.left + cornerSize, trackedPos.top,\r\n          // labelString);\r\n          borderedText.drawText(\r\n                  canvas, trackedPos.left + cornerSize, trackedPos.top, labelString + &quot;%&quot;, boxPaint);\r\n        }\r\n      }\r\n\r\n","title":"OBJECT DETECTIVE SHIFT ISSUE On ANDROİD","body":"<p>I used two yolov5 models. My first model detects the tray. In my second model, it finds food types.</p>\n<p>The size of the first model was 416, then I cropped it. I sent it to the second model. The size of my second model is 224. my question: There is a shift in the second model.</p>\n<p>I think, The reason for the shift problem is crop . It detective the food in the cropped image. Draws the result for the original image. It should change according to the center of the tray.  I understand the problem, but I didn't understand how to change it.\n<a href=\"https://i.stack.imgur.com/QYFz9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYFz9.jpg\" alt=\"Table\" /></a>\nI created a table in debug mode. I wrote the values.\nDo I need to increase xPos and yPos values when drawing? There are only location values in the MultiBoxerTracker file. bottom, left right, top. I'm so confused.</p>\n<pre><code>Yolov5Classifier2.java coordinate part\n    public ArrayList&lt;Recognition&gt; recognizeImage2(Bitmap bitmap) {\n  final float xPos = out[0][i][0];\n                final float yPos = out[0][i][1];\n\n                final float w = out[0][i][2];\n                final float h = out[0][i][3];\n                Log.d(&quot;secondyolov5&quot;,\n                        Float.toString(xPos) + ',' + yPos + ',' + w + ',' + h);\n                final RectF rect =\n                        new RectF( Math.max(0, xPos - w / 2),\n                                Math.max(0, yPos - h / 2),\n                                Math.min(bitmap.getWidth() - 1, xPos + w / 2),\n                                Math.min(bitmap.getHeight() - 1, yPos + h / 2));\n\n\n\n\n                detections.add(new Recognition(&quot;&quot; + offset, labels.get(detectedClass),\n\n\n                        confidenceInClass, rect, detectedClass));}\n</code></pre>\n<p>MultiTracker2.java part of draw</p>\n<pre><code>  public synchronized void draw(final Canvas canvas,float kayabi,float kayabla ) {\n    \n    final boolean rotated = sensorOrientation % 180 == 90;\n    final float multiplier =\n            Math.min(\n                    canvas.getHeight() / (float) (rotated ? frameWidth : frameHeight),\n                    canvas.getWidth() / (float) (rotated ? frameHeight : frameWidth));\n    frameToCanvasMatrix =\n            ImageUtils.getTransformationMatrix(\n                    frameWidth,\n                    frameHeight,\n                    (int) (multiplier * (rotated ? frameHeight : frameWidth)),\n                    (int) (multiplier * (rotated ? frameWidth : frameHeight)),\n                    sensorOrientation,\n                    false);\n    for (final TrackedRecognition recognition : trackedObjects) {\n\n      final RectF trackedPos = new RectF(recognition.location);\n\n\n\n\n      getFrameToCanvasMatrix().mapRect(trackedPos);\n\n\n\n      boxPaint.setColor(recognition.color);\n\n      float cornerSize = Math.min(trackedPos.width(), trackedPos.height()) / 8.0f;\n\n      canvas.drawRoundRect(trackedPos, cornerSize, cornerSize, boxPaint);\n\n\n      final String labelString =\n              !TextUtils.isEmpty(recognition.title)\n                      ? String.format(&quot;%s %.2f&quot;, recognition.title, (100 * recognition.detectionConfidence))\n                      : String.format(&quot;%.2f&quot;, (100 * recognition.detectionConfidence));\n      //            borderedText.drawText(canvas, trackedPos.left + cornerSize, trackedPos.top,\n      // labelString);\n      borderedText.drawText(\n              canvas, trackedPos.left + cornerSize, trackedPos.top, labelString + &quot;%&quot;, boxPaint);\n    }\n  }\n</code></pre>\n"},{"tags":["java","class","oop","methods"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1494827303,"post_id":43972284,"comment_id":74974409,"body_markdown":"Well as `getDummy` is an instance method, you&#39;ll need an instance of `Test` to call it on... do you have such an instance? Note that currently you&#39;re trying to declare the `dummy` field *inside* the `main` method - that won&#39;t work. Please work on the layout of your code as well - indent it properly when posting. Most IDEs can help with that.","body":"Well as <code>getDummy</code> is an instance method, you&#39;ll need an instance of <code>Test</code> to call it on... do you have such an instance? Note that currently you&#39;re trying to declare the <code>dummy</code> field <i>inside</i> the <code>main</code> method - that won&#39;t work. Please work on the layout of your code as well - indent it properly when posting. Most IDEs can help with that."}],"answers":[{"tags":[],"owner":{"account_id":10566377,"reputation":176,"user_id":7925242,"accept_rate":57,"display_name":"Haven Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494827581,"creation_date":1494827581,"answer_id":43972360,"question_id":43972284,"body_markdown":"you should be declare target object, and initialization, then you can use `getDummy()`, or you can modify `getDummy()` method to static .","title":"How to call a method from the same class in Java?","body":"<p>you should be declare target object, and initialization, then you can use <code>getDummy()</code>, or you can modify <code>getDummy()</code> method to static .</p>\n"},{"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1494828422,"post_id":43972390,"comment_id":74974803,"body_markdown":"*&quot;there&#39;s no meaning to private variable in a method&quot;* this is not true and does not help the OP. Please remove that or make your point more clear.","body":"<i>&quot;there&#39;s no meaning to private variable in a method&quot;</i> this is not true and does not help the OP. Please remove that or make your point more clear."}],"tags":[],"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494828715,"creation_date":1494827752,"answer_id":43972390,"question_id":43972284,"body_markdown":"Is this what you mean?\r\n\r\n    public class Test {\r\n\r\n       private int dummy = 0;\r\n\r\n       public static void main(String[] args) {\r\n          Test test = new Test();\r\n          int dummy = test.getDummy();\r\n       }\r\n\r\n       public int getDummy() {\r\n          return dummy;\r\n       }\r\n    }\r\n\r\nI assume `private int dummy = 0;` is a property (variable) of `Test` class. Calling a `non-static` method from a `static` method is not allowed. You create an instance of your class in the `static` method and can call any of its `public` methods.","title":"How to call a method from the same class in Java?","body":"<p>Is this what you mean?</p>\n\n<pre><code>public class Test {\n\n   private int dummy = 0;\n\n   public static void main(String[] args) {\n      Test test = new Test();\n      int dummy = test.getDummy();\n   }\n\n   public int getDummy() {\n      return dummy;\n   }\n}\n</code></pre>\n\n<p>I assume <code>private int dummy = 0;</code> is a property (variable) of <code>Test</code> class. Calling a <code>non-static</code> method from a <code>static</code> method is not allowed. You create an instance of your class in the <code>static</code> method and can call any of its <code>public</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494827753,"creation_date":1494827753,"answer_id":43972391,"question_id":43972284,"body_markdown":"***getDummy*** is an instance method so you need  the instance\r\n\r\n \r\n\r\n    public static void main(String[] args) {  \r\n            Test t = new Test();\r\n            t.getDummy();\r\n        }\r\n\r\n\r\nand this belongs to the class\r\n\r\n    private int dummy = 0;\r\n\r\n\r\n----\r\nyour final code could look like&gt;\r\n\r\n    public class Test {\r\n        private int dummy = 0;\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            t.getDummy();\r\n        }\r\n    \r\n        public int getDummy() {\r\n            return dummy;\r\n        }\r\n    }","title":"How to call a method from the same class in Java?","body":"<p><strong><em>getDummy</em></strong> is an instance method so you need  the instance</p>\n\n<pre><code>public static void main(String[] args) {  \n        Test t = new Test();\n        t.getDummy();\n    }\n</code></pre>\n\n<p>and this belongs to the class</p>\n\n<pre><code>private int dummy = 0;\n</code></pre>\n\n<hr>\n\n<p>your final code could look like></p>\n\n<pre><code>public class Test {\n    private int dummy = 0;\n    public static void main(String[] args) {\n        Test t = new Test();\n        t.getDummy();\n    }\n\n    public int getDummy() {\n        return dummy;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1494828538,"post_id":43972447,"comment_id":74974847,"body_markdown":"Welcome to Stack Overflow! Please take the [tour](http://stackoverflow.com/tour), have a look around, and read through the [help center](http://stackoverflow.com/help), in particular [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask), [What topics can I ask about here?](http://stackoverflow.com/help/on-topic) and\n[How do I write a good answer?](http://stackoverflow.com/help/search?q=how+to+answer)","body":"Welcome to Stack Overflow! Please take the <a href=\"http://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"http://stackoverflow.com/help\">help center</a>, in particular <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> and <a href=\"http://stackoverflow.com/help/search?q=how+to+answer\">How do I write a good answer?</a>"}],"tags":[],"owner":{"account_id":10676204,"reputation":3,"user_id":7859620,"display_name":"phanhien1701"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494828046,"creation_date":1494828046,"answer_id":43972447,"question_id":43972284,"body_markdown":"sry, my english very bad, but i think i can help you. first, you create a public variable out of main,  in you code, you only create a local variable. next, in your main, you type : &quot;getDummy();&quot;. good luck","title":"How to call a method from the same class in Java?","body":"<p>sry, my english very bad, but i think i can help you. first, you create a public variable out of main,  in you code, you only create a local variable. next, in your main, you type : \"getDummy();\". good luck</p>\n"},{"tags":[],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701633826,"creation_date":1701633826,"answer_id":77595978,"question_id":43972284,"body_markdown":"**For any new learner.**\r\n\r\nthe basic concept to understand here is about the **static** and **not static** components and its scope.\r\n\r\nWhen a method is declared **static**, it created one method per class, and after compilation, any instance of the class will use the same method.\r\n\r\n    static void staticMethod(){} \r\n\r\n**static** methods of a class can be directly called with class reference\r\n\r\n    public static void main(String[] args) {\r\n            T.staticMethod();\r\n        }\r\n\r\nWhen a method is defined as **non static** (without static keyword) , after compilation , each instance will have a separate copy of the method and will operate independently of parallel calls to same method from different instances of the class.\r\n\r\n\r\n    void nonStaticMethod(){}\r\n\r\n**non static** methods of a class can be called only with instance of the class\r\n\r\n    public static void main(String[] args) {\r\n            T testObj = new T();\r\n            testObj.staticMethod();\r\n        }","title":"How to call a method from the same class in Java?","body":"<p><strong>For any new learner.</strong></p>\n<p>the basic concept to understand here is about the <strong>static</strong> and <strong>not static</strong> components and its scope.</p>\n<p>When a method is declared <strong>static</strong>, it created one method per class, and after compilation, any instance of the class will use the same method.</p>\n<pre><code>static void staticMethod(){} \n</code></pre>\n<p><strong>static</strong> methods of a class can be directly called with class reference</p>\n<pre><code>public static void main(String[] args) {\n        T.staticMethod();\n    }\n</code></pre>\n<p>When a method is defined as <strong>non static</strong> (without static keyword) , after compilation , each instance will have a separate copy of the method and will operate independently of parallel calls to same method from different instances of the class.</p>\n<pre><code>void nonStaticMethod(){}\n</code></pre>\n<p><strong>non static</strong> methods of a class can be called only with instance of the class</p>\n<pre><code>public static void main(String[] args) {\n        T testObj = new T();\n        testObj.staticMethod();\n    }\n</code></pre>\n"}],"owner":{"account_id":6318180,"reputation":11,"user_id":6246616,"display_name":"Abdul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1701633826,"creation_date":1494827200,"question_id":43972284,"body_markdown":"How can I call getDummy from main? I need this so I can pass dummy to a method in another class.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            private int dummy = 0;\r\n        }\r\n\r\n        public int getDummy() {\r\n            return dummy;\r\n        }\r\n    }","title":"How to call a method from the same class in Java?","body":"<p>How can I call getDummy from main? I need this so I can pass dummy to a method in another class.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        private int dummy = 0;\n    }\n\n    public int getDummy() {\n        return dummy;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","validation","double","joptionpane"],"comments":[{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1366840804,"post_id":16202888,"comment_id":23168684,"body_markdown":"Do you know [if and else](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html)?","body":"Do you know <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/if.html\" rel=\"nofollow noreferrer\">if and else</a>?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366840917,"post_id":16202888,"comment_id":23168732,"body_markdown":"What are you going to do if the salary entered is out of range?","body":"What are you going to do if the salary entered is out of range?"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366840927,"post_id":16202888,"comment_id":23168737,"body_markdown":"I know if and else, but I can not apply it in the JOtionPane. I can only use it in a given data, not by JOtionPane input","body":"I know if and else, but I can not apply it in the JOtionPane. I can only use it in a given data, not by JOtionPane input"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841022,"post_id":16202888,"comment_id":23168768,"body_markdown":"@ PM it is why I need a validation","body":"@ PM it is why I need a validation"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841054,"post_id":16202888,"comment_id":23168779,"body_markdown":"I need to set a limit range salary. =)","body":"I need to set a limit range salary. =)"},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841099,"post_id":16202888,"comment_id":23168802,"body_markdown":"and ake user to enter data again if it is invalid.","body":"and ake user to enter data again if it is invalid."},{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1366841123,"post_id":16202888,"comment_id":23168815,"body_markdown":"@tkay87 You cant do that validation in JOptionPane. `if (salary[i]&gt;=2000 &amp;&amp; salary[i] &lt;=10000)` can be used once you collect the value and reset counter if it does not fall in to that range.","body":"@tkay87 You cant do that validation in JOptionPane. <code>if (salary[i]&gt;=2000 &amp;&amp; salary[i] &lt;=10000)</code> can be used once you collect the value and reset counter if it does not fall in to that range."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366841141,"post_id":16202888,"comment_id":23168824,"body_markdown":"You will need to handle `NumberFormatException` in your code.  For example, if a user clicks on `Cancel` then `JOptionPane.showInputDialog` will return `null&#39;.","body":"You will need to handle <code>NumberFormatException</code> in your code.  For example, if a user clicks on <code>Cancel</code> then <code>JOptionPane.showInputDialog</code> will return `null&#39;."},{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366841470,"post_id":16202888,"comment_id":23168951,"body_markdown":"Thank you Smit and PM77-1. I appreciated your help. =)","body":"Thank you Smit and PM77-1. I appreciated your help. =)"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1366841817,"post_id":16202888,"comment_id":23169085,"body_markdown":"Well... You can conceivably wrap your input into `while` loop that will do the checking and then display `JOptionPane.showMessageDialog` with an error message.","body":"Well... You can conceivably wrap your input into <code>while</code> loop that will do the checking and then display <code>JOptionPane.showMessageDialog</code> with an error message."}],"answers":[{"comments":[{"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"score":0,"creation_date":1366842103,"post_id":16203114,"comment_id":23169190,"body_markdown":"Thank you for your quick respond Smit","body":"Thank you for your quick respond Smit"},{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":0,"creation_date":1366843059,"post_id":16203114,"comment_id":23169482,"body_markdown":"@tkay87 I updated the answer. What is the problem you are encountering? let us know to help you better.","body":"@tkay87 I updated the answer. What is the problem you are encountering? let us know to help you better."}],"tags":[],"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366843647,"creation_date":1366841515,"answer_id":16203114,"question_id":16202888,"body_markdown":"I think this will help you a bit to resolve your issue.\r\n\r\n    int i = 0;\r\n    double temp;\r\n        while(i &lt; salary.length) {\r\n           // parseDouble throws NumberFormatException, handle it\r\n          temp = Double.parseDouble(JOptionPane.showInputDialog(null,&quot; Enter Salary: &quot;));\r\n           if (temp &gt;= 2000.0 &amp;&amp; temp &lt;= 10000.0){\r\n               salary[i] = temp;\r\n               i++;     // if in range change counter to next count\r\n    \t      // do something\r\n    \t   } else {\r\n              // do something for out of range\r\n    \t   }\r\n    }","title":"JOptionpane validation with double input","body":"<p>I think this will help you a bit to resolve your issue.</p>\n\n<pre><code>int i = 0;\ndouble temp;\n    while(i &lt; salary.length) {\n       // parseDouble throws NumberFormatException, handle it\n      temp = Double.parseDouble(JOptionPane.showInputDialog(null,\" Enter Salary: \"));\n       if (temp &gt;= 2000.0 &amp;&amp; temp &lt;= 10000.0){\n           salary[i] = temp;\n           i++;     // if in range change counter to next count\n          // do something\n       } else {\n          // do something for out of range\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366846695,"creation_date":1366846695,"answer_id":16204042,"question_id":16202888,"body_markdown":"Read the section from the Swing tutorial on [Stopping Automatic Dialog Closing][1]. Customize the code to do you particular edit.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup","title":"JOptionpane validation with double input","body":"<p>Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#stayup\" rel=\"nofollow\">Stopping Automatic Dialog Closing</a>. Customize the code to do you particular edit.</p>\n"}],"owner":{"account_id":2632414,"reputation":13,"user_id":2278020,"display_name":"tkay87"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701633665,"creation_date":1366840493,"question_id":16202888,"body_markdown":"I am learning java. I try to declare a double array. For the input method, I would like to use JOptionPane. My question is how can I create the validation for this array.(For example: I want to valid that the salary input will be from 2000 to 10000). I&#39;m sorry for my bad writing. Thank you guys!\r\n\r\nHere is my code!\r\n\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Testing {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tdouble[] salary = new double[10];\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; salary.length; i++)\r\n    \t\t{\r\n    \t\t\tsalary[i] = Double.parseDouble(JOptionPane.showInputDialog(null,&quot; Enter Salary: &quot;));\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"JOptionpane validation with double input","body":"<p>I am learning java. I try to declare a double array. For the input method, I would like to use JOptionPane. My question is how can I create the validation for this array.(For example: I want to valid that the salary input will be from 2000 to 10000). I'm sorry for my bad writing. Thank you guys!</p>\n\n<p>Here is my code!</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Testing {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n\n        double[] salary = new double[10];\n\n        for(int i = 0; i &lt; salary.length; i++)\n        {\n            salary[i] = Double.parseDouble(JOptionPane.showInputDialog(null,\" Enter Salary: \"));\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","asynchronous","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":9527685,"reputation":77,"user_id":7080427,"display_name":"denisssj"},"score":0,"creation_date":1700216004,"post_id":77500675,"comment_id":136629687,"body_markdown":"This does not address the issue that 202 not posted before processing and I am still gettting timeout error.","body":"This does not address the issue that 202 not posted before processing and I am still gettting timeout error."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700234794,"post_id":77500675,"comment_id":136633036,"body_markdown":"You&#39;re right, you probably need to decouple the return value from the async processing. Because your method returns a `Mono`, the HTTP response is sent when the mono completes. Try returning `void` instead, and let the mono do its work in the background.","body":"You&#39;re right, you probably need to decouple the return value from the async processing. Because your method returns a <code>Mono</code>, the HTTP response is sent when the mono completes. Try returning <code>void</code> instead, and let the mono do its work in the background."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700214439,"creation_date":1700214439,"answer_id":77500675,"question_id":77500130,"body_markdown":"Just because you use `fromCallable` doesn&#39;t mean that `Callable` gets executed asynchronously. Use `fromFuture` instead:\r\n\r\n```\r\nreturn Mono.fromFuture(CompletableFuture.runAsyc(() -&gt; sendBatchRequest(request)))\r\n        .subscribeOn(Schedulers.boundedElastic());\r\n```\r\nYou can provide an `Executor` (or `ExecutorService`) to `runAsync` instead of using a common fork-join pool if needed.","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>Just because you use <code>fromCallable</code> doesn't mean that <code>Callable</code> gets executed asynchronously. Use <code>fromFuture</code> instead:</p>\n<pre><code>return Mono.fromFuture(CompletableFuture.runAsyc(() -&gt; sendBatchRequest(request)))\n        .subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>You can provide an <code>Executor</code> (or <code>ExecutorService</code>) to <code>runAsync</code> instead of using a common fork-join pool if needed.</p>\n"},{"tags":[],"owner":{"account_id":29923834,"reputation":1,"user_id":22932333,"display_name":"Mat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701633592,"creation_date":1701633592,"answer_id":77595964,"question_id":77500130,"body_markdown":"To address the issue of the HTTP 202, modify your method to return `void` and let the asynchronous processing happen in the background.","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>To address the issue of the HTTP 202, modify your method to return <code>void</code> and let the asynchronous processing happen in the background.</p>\n"}],"owner":{"account_id":9527685,"reputation":77,"user_id":7080427,"display_name":"denisssj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701633592,"creation_date":1700208529,"question_id":77500130,"body_markdown":"I want to write a async api that return 202 Accepted after getting a request. Then after that it should send n Post request per second for halt-time seconds. This is my attempt at the problem.\r\n\r\n    @PostMapping(value = &quot;/stress&quot;)\r\n    @ResponseStatus(HttpStatus.ACCEPTED)\r\n    private Mono&lt;?&gt; stressPostLog(@RequestBody StressTest request) throws InterruptedException {\r\n        return Mono.fromCallable(() -&gt; {\r\n                sendBatchRequest(request);\r\n                return null;\r\n        }).subscribeOn(Schedulers.boundedElastic());\r\n        \r\n    }\r\n\r\n    private void sendBatchRequest(StressTest requestParams) throws InterruptedException {\r\n        successfulRequest.set(0);\r\n\r\n        long haltTimeMillis = requestParams.getHalt_time() * 1000;\r\n        log.info(&quot;Halt Time Millis = &quot; + haltTimeMillis );\r\n        Integer count = 0;\r\n\r\n        long initTime = System.currentTimeMillis();\r\n        long currTime;\r\n        do {\r\n            Thread.sleep(1000); //! Sleep time is subjected to system\r\n            for(int i = 0; i &lt; requestParams.getRequest_per_second(); i++)\r\n            {\r\n                AuditSchema request = AuditSchema.generateRandomValue(requestParams.getRequest_size());\r\n                Mono&lt;?&gt; response = postAndIncrement(request);\r\n                response.publishOn(Schedulers.boundedElastic()).subscribe();\r\n                count++;\r\n            }\r\n            currTime = System.currentTimeMillis();\r\n            log.info(&quot;Time duration = &quot; + ( currTime - initTime));\r\n        }while((currTime - initTime) &lt; haltTimeMillis);\r\n\r\n        log.info(&quot;Request Send = {} and Response Succeed = {}&quot;, count, successfulRequest);\r\n    }\r\n\r\n    private Mono&lt;?&gt; postAndIncrement(AuditSchema request) {\r\n        return this.client.post()\r\n                .uri(&quot;v1/log&quot;)\r\n                .body(BodyInserters.fromValue(request))\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchangeToMono(clientResponse -&gt; {\r\n                    log.info(&quot;Request suceeded {}&quot;, clientResponse.statusCode());\r\n                    successfulRequest.getAndIncrement();\r\n                    return Mono.empty();\r\n                });\r\n    }\r\n\r\nhowever the calls are not executed async and after 5s it gets terminated by error\r\n\r\n    java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n\r\nHow to write this using spring webflux.\r\n\r\n\r\n\r\n","title":"How to resolve getting Timeout java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS","body":"<p>I want to write a async api that return 202 Accepted after getting a request. Then after that it should send n Post request per second for halt-time seconds. This is my attempt at the problem.</p>\n<pre><code>@PostMapping(value = &quot;/stress&quot;)\n@ResponseStatus(HttpStatus.ACCEPTED)\nprivate Mono&lt;?&gt; stressPostLog(@RequestBody StressTest request) throws InterruptedException {\n    return Mono.fromCallable(() -&gt; {\n            sendBatchRequest(request);\n            return null;\n    }).subscribeOn(Schedulers.boundedElastic());\n    \n}\n\nprivate void sendBatchRequest(StressTest requestParams) throws InterruptedException {\n    successfulRequest.set(0);\n\n    long haltTimeMillis = requestParams.getHalt_time() * 1000;\n    log.info(&quot;Halt Time Millis = &quot; + haltTimeMillis );\n    Integer count = 0;\n\n    long initTime = System.currentTimeMillis();\n    long currTime;\n    do {\n        Thread.sleep(1000); //! Sleep time is subjected to system\n        for(int i = 0; i &lt; requestParams.getRequest_per_second(); i++)\n        {\n            AuditSchema request = AuditSchema.generateRandomValue(requestParams.getRequest_size());\n            Mono&lt;?&gt; response = postAndIncrement(request);\n            response.publishOn(Schedulers.boundedElastic()).subscribe();\n            count++;\n        }\n        currTime = System.currentTimeMillis();\n        log.info(&quot;Time duration = &quot; + ( currTime - initTime));\n    }while((currTime - initTime) &lt; haltTimeMillis);\n\n    log.info(&quot;Request Send = {} and Response Succeed = {}&quot;, count, successfulRequest);\n}\n\nprivate Mono&lt;?&gt; postAndIncrement(AuditSchema request) {\n    return this.client.post()\n            .uri(&quot;v1/log&quot;)\n            .body(BodyInserters.fromValue(request))\n            .accept(MediaType.APPLICATION_JSON)\n            .exchangeToMono(clientResponse -&gt; {\n                log.info(&quot;Request suceeded {}&quot;, clientResponse.statusCode());\n                successfulRequest.getAndIncrement();\n                return Mono.empty();\n            });\n}\n</code></pre>\n<p>however the calls are not executed async and after 5s it gets terminated by error</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>How to write this using spring webflux.</p>\n"},{"tags":["java","spring-boot","javers"],"owner":{"account_id":9652329,"reputation":53,"user_id":7163059,"display_name":"lutsik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701633049,"creation_date":1701633049,"question_id":77595939,"body_markdown":"   I want to create a Rollback functionality that will based on Javers audit. So my case: I have to save a list of entities (&quot;Person&quot;) and I have to rollback this action due to some issue. I need to mark this transaction in Javers to find all the changed entities and roll back them regarding their revision. \r\n\r\n   Javers supports rollback functionality by the certain record but I need to select and rollback the whole group of entities. \r\n\r\n   Does Javers have such functionality or a workaround? Or maybe any ideas on how can I implement it.","title":"Javers: transaction ID","body":"<p>I want to create a Rollback functionality that will based on Javers audit. So my case: I have to save a list of entities (&quot;Person&quot;) and I have to rollback this action due to some issue. I need to mark this transaction in Javers to find all the changed entities and roll back them regarding their revision.</p>\n<p>Javers supports rollback functionality by the certain record but I need to select and rollback the whole group of entities.</p>\n<p>Does Javers have such functionality or a workaround? Or maybe any ideas on how can I implement it.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701625843,"post_id":77595218,"comment_id":136796455,"body_markdown":"You did already read the migration guides of Spring Boot 3.0, 3.1 and 3.2 and the related Spring 6.0 and 6.1 migration guides? If not start with that.","body":"You did already read the migration guides of Spring Boot 3.0, 3.1 and 3.2 and the related Spring 6.0 and 6.1 migration guides? If not start with that."},{"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"score":0,"creation_date":1701658802,"post_id":77595218,"comment_id":136799259,"body_markdown":"Yes I did and reached to this state","body":"Yes I did and reached to this state"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701672112,"post_id":77595218,"comment_id":136800220,"body_markdown":"What you are seeing is debug logging from Spring Data. I don&#39;t see any error in the logging you provide. So I suspect you enabled debug logging and see a stacktrace and panic, but that your application is working fine. It does start so I don&#39;t see what the problem is. From the information provided here there is no problem.","body":"What you are seeing is debug logging from Spring Data. I don&#39;t see any error in the logging you provide. So I suspect you enabled debug logging and see a stacktrace and panic, but that your application is working fine. It does start so I don&#39;t see what the problem is. From the information provided here there is no problem."},{"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"score":0,"creation_date":1701756078,"post_id":77595218,"comment_id":136811922,"body_markdown":"Let me share the logs from Debug for more analysis","body":"Let me share the logs from Debug for more analysis"}],"owner":{"account_id":18477116,"reputation":503,"user_id":13460350,"display_name":"rahul sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701632668,"creation_date":1701621554,"question_id":77595218,"body_markdown":"A small context, we are trying to migrate our application java 17 and Spring boot 3.2 where this application is still working on Java 11 &amp; 2.7. I would like to understand what is change we have to make to resolve these errors.\r\n\r\n**Table Definition** :\r\n\r\n    SELECT \r\n       table_name, \r\n       column_name, \r\n       data_type \r\n    FROM \r\n       information_schema.columns\r\n    WHERE \r\n       table_name = &#39;asset_ext_attr&#39;;\r\n**Table Structure**-\r\n[![check the table structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ak04D.png\r\n\r\n**POJO**\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @Table(name=&quot;asset_ext_attr&quot;)\r\n    \r\n    public class AssetExtendedAttribute extends ExtendedBaseEntity {\r\n    \r\n    \tprivate static final long serialVersionUID = -7756526948148554366L;\r\n    \r\n    \t@Id\r\n        @Column(name = &quot;asset_ext_attr_uuid&quot;, length = 36, updatable = false, nullable = false)\r\n        private UUID assetExtAttrUUID;\r\n    \r\n        @Column(name = &quot;asset&quot;, length = 36, unique = true, nullable = false)\r\n        private UUID asset;\r\n    \r\n        @Column(name = &quot;asset_model&quot;, length = 36, nullable = false)\r\n        private UUID assetModel;\r\n    \r\n    \t@Type(JsonBinaryType.class)\r\n        @Column(name = &quot;ext_attr&quot;)\r\n        private List&lt;ExtendedAttribute&gt; extendedAttributes;\r\n    \r\n    \t@Column(name = &quot;last_run_status&quot;, length = 70)\r\n    \t@Enumerated(EnumType.STRING)\r\n    \t@Type(PostgreSQLEnumType.class)\r\n    \tprivate RmRunExecutionStatusEnum lastRunStatus;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;run_id&quot;, length = 32)\r\n    \tprivate String runId;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_run_date&quot;)\r\n    \tprivate Date lastRunDate;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_attempted_on&quot;)\r\n    \tprivate Date lastAttemptedOn;\r\n    \r\n    \t@JsonInclude(value = Include.NON_NULL)\r\n    \t@Column(name = &quot;last_collection_date&quot;)\r\n    \tprivate Date lastCollectionDate;\r\n    }\r\n\r\n**Repository -**\r\n\r\n    @Repository\r\n    public interface AssetExtAttrRepository extends JpaRepository&lt;AssetExtendedAttribute, UUID&gt; {\r\n    \r\n        Optional&lt;AssetExtendedAttribute&gt; findByAsset(UUID asset);\r\n        \r\n        @Query(value = &quot;SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id&quot;)\r\n        Integer getVersionByAsset(@NonNull @Param(&quot;id&quot;) UUID assetUUID);\r\n        \r\n        void deleteByAsset(@NonNull UUID asset);\r\n    \r\n        List&lt;AssetExtendedAttribute&gt; findByAssetModel(UUID asserModelUUID);\r\n    \r\n        @Query(value = &quot;SELECT data-&gt;&gt;&#39;attrId&#39; as attr_id, data-&gt;&gt;&#39;attributeName&#39; as attribute_name, data-&gt;&gt;&#39;attributeDataType&#39; as attribute_dataType\\n&quot; +\r\n                &quot;FROM asset_ext_attr, jsonb_array_elements(ext_attr) AS data\\n&quot; +\r\n                &quot;WHERE asset = ?1 and data-&gt;&gt;&#39;attrId&#39; = ?2&quot;, nativeQuery = true)\r\n        String findFirstByAssetUUIDAndAttrUUID(UUID assetUUID, String attrUUID);\r\n    }\r\n\r\nNote- **Except one method, all methods are failing and throwing the &quot;Did not find the named query&quot;**\r\n\r\n    2023-12-03 19:43:39.238 org.springframework.data.jpa.repository.query.NamedQuery 14228 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.findByAssetModel  \r\n    2023-12-03 19:43:39.238 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14228 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \r\n    2023-12-03 19:43:39.243 org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl 14233 [restartedMain] DEBUG [] - JDBC transaction marked for rollback-only (exception provided for stack trace) java.lang.Exception: exception just for purpose of providing stack trace\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:310) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.buildNamedQuery(AbstractSharedSessionContract.java:1021) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:899) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:120) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.1.1.jar:6.1.1]\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy201.createNamedQuery(Unknown Source) ~[?:?]\r\n    \tat org.springframework.data.jpa.repository.query.NamedQuery.hasNamedQuery(NamedQuery.java:113) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.getCountQuery(JpaQueryLookupStrategy.java:204) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:171) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[?:?]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) [spring-beans-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) [spring-context-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]\r\n    \tat com.abb.rm.asset.mgmt.AssetRmMgmtServiceApplication.main(AssetRmMgmtServiceApplication.java:88) [main/:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-3.0.4.jar:3.0.4]\r\n\r\n**The successful query generated and executed is** \r\n\r\n    2023-12-03 19:43:39.252 org.springframework.data.jpa.repository.query.NamedQuery 14242 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.getVersionByAsset.count  \r\n    2023-12-03 19:43:39.252 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14242 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \r\n    2023-12-03 19:43:39.254 org.hibernate.orm.query.hql 14244 [restartedMain] DEBUG [] - HQL : SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : FROM  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : &lt;EOF&gt;  \r\n    2023-12-03 19:43:39.255 org.hibernate.query.hql.internal.SemanticQueryBuilder 14245 [restartedMain] DEBUG [] - Handling root path - AssetExtendedAttribute  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.creation 14245 [restartedMain] DEBUG [] - Applying inferable type to SqmExpression [SqmNamedParameter(id)] : null -&gt; BasicSqmPathSource(asset : UUID)  \r\n    2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.ast 14245 [restartedMain] DEBUG [] - SqmStatement Tree :\r\n        -&gt; [select]\r\n          -&gt; [query-spec]\r\n            -&gt; [select]\r\n              -&gt; [selection]\r\n                -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).version`\r\n              &lt;- [selection]\r\n            &lt;- [select]\r\n            -&gt; [from]\r\n              -&gt; [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\r\n              &lt;- [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\r\n            &lt;- [from]\r\n            -&gt; [where]\r\n              -&gt; [EQUAL]\r\n                  -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).asset`\r\n                  :id\r\n              &lt;- [EQUAL]\r\n            &lt;- [where]\r\n          &lt;- [query-spec]\r\n        &lt;- [select]\r\n\r\n2023-12-03 19:43:39.259 org.springframework.data.repository.core.support.RepositoryFactorySupport 14249 [restartedMain] DEBUG [] - Finished creation of repository instance for com.abb.abc.asset.mgmt.dao.repository.AssetExtAttrRepository.\r\n        ","title":"Not able to migrating the existing project from java 11 and spring boot 2.7 ,hibernate 5 to 17 &amp; 3.2, 6 respectively","body":"<p>A small context, we are trying to migrate our application java 17 and Spring boot 3.2 where this application is still working on Java 11 &amp; 2.7. I would like to understand what is change we have to make to resolve these errors.</p>\n<p><strong>Table Definition</strong> :</p>\n<pre><code>SELECT \n   table_name, \n   column_name, \n   data_type \nFROM \n   information_schema.columns\nWHERE \n   table_name = 'asset_ext_attr';\n</code></pre>\n<p><strong>Table Structure</strong>-\n<a href=\"https://i.stack.imgur.com/Ak04D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ak04D.png\" alt=\"check the table structure\" /></a></p>\n<p><strong>POJO</strong></p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name=&quot;asset_ext_attr&quot;)\n\npublic class AssetExtendedAttribute extends ExtendedBaseEntity {\n\n    private static final long serialVersionUID = -7756526948148554366L;\n\n    @Id\n    @Column(name = &quot;asset_ext_attr_uuid&quot;, length = 36, updatable = false, nullable = false)\n    private UUID assetExtAttrUUID;\n\n    @Column(name = &quot;asset&quot;, length = 36, unique = true, nullable = false)\n    private UUID asset;\n\n    @Column(name = &quot;asset_model&quot;, length = 36, nullable = false)\n    private UUID assetModel;\n\n    @Type(JsonBinaryType.class)\n    @Column(name = &quot;ext_attr&quot;)\n    private List&lt;ExtendedAttribute&gt; extendedAttributes;\n\n    @Column(name = &quot;last_run_status&quot;, length = 70)\n    @Enumerated(EnumType.STRING)\n    @Type(PostgreSQLEnumType.class)\n    private RmRunExecutionStatusEnum lastRunStatus;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;run_id&quot;, length = 32)\n    private String runId;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_run_date&quot;)\n    private Date lastRunDate;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_attempted_on&quot;)\n    private Date lastAttemptedOn;\n\n    @JsonInclude(value = Include.NON_NULL)\n    @Column(name = &quot;last_collection_date&quot;)\n    private Date lastCollectionDate;\n}\n</code></pre>\n<p><strong>Repository -</strong></p>\n<pre><code>@Repository\npublic interface AssetExtAttrRepository extends JpaRepository&lt;AssetExtendedAttribute, UUID&gt; {\n\n    Optional&lt;AssetExtendedAttribute&gt; findByAsset(UUID asset);\n    \n    @Query(value = &quot;SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id&quot;)\n    Integer getVersionByAsset(@NonNull @Param(&quot;id&quot;) UUID assetUUID);\n    \n    void deleteByAsset(@NonNull UUID asset);\n\n    List&lt;AssetExtendedAttribute&gt; findByAssetModel(UUID asserModelUUID);\n\n    @Query(value = &quot;SELECT data-&gt;&gt;'attrId' as attr_id, data-&gt;&gt;'attributeName' as attribute_name, data-&gt;&gt;'attributeDataType' as attribute_dataType\\n&quot; +\n            &quot;FROM asset_ext_attr, jsonb_array_elements(ext_attr) AS data\\n&quot; +\n            &quot;WHERE asset = ?1 and data-&gt;&gt;'attrId' = ?2&quot;, nativeQuery = true)\n    String findFirstByAssetUUIDAndAttrUUID(UUID assetUUID, String attrUUID);\n}\n</code></pre>\n<p>Note- <strong>Except one method, all methods are failing and throwing the &quot;Did not find the named query&quot;</strong></p>\n<pre><code>2023-12-03 19:43:39.238 org.springframework.data.jpa.repository.query.NamedQuery 14228 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.findByAssetModel  \n2023-12-03 19:43:39.238 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14228 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \n2023-12-03 19:43:39.243 org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl 14233 [restartedMain] DEBUG [] - JDBC transaction marked for rollback-only (exception provided for stack trace) java.lang.Exception: exception just for purpose of providing stack trace\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:310) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.buildNamedQuery(AbstractSharedSessionContract.java:1021) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:899) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createNamedQuery(AbstractSharedSessionContract.java:120) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.1.1.jar:6.1.1]\n    at jdk.proxy3/jdk.proxy3.$Proxy201.createNamedQuery(Unknown Source) ~[?:?]\n    at org.springframework.data.jpa.repository.query.NamedQuery.hasNamedQuery(NamedQuery.java:113) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.getCountQuery(JpaQueryLookupStrategy.java:204) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:171) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[?:?]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.0.jar:3.2.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.2.0.jar:3.2.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:752) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:493) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) [spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946) [spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) [spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) [spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) [spring-boot-3.2.0.jar:3.2.0]\n    at com.abb.rm.asset.mgmt.AssetRmMgmtServiceApplication.main(AssetRmMgmtServiceApplication.java:88) [main/:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-3.0.4.jar:3.0.4]\n</code></pre>\n<p><strong>The successful query generated and executed is</strong></p>\n<pre><code>2023-12-03 19:43:39.252 org.springframework.data.jpa.repository.query.NamedQuery 14242 [restartedMain] DEBUG [] - Did not find named query AssetExtendedAttribute.getVersionByAsset.count  \n2023-12-03 19:43:39.252 org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler 14242 [restartedMain] DEBUG [] - Creating new EntityManager for shared EntityManager invocation  \n2023-12-03 19:43:39.254 org.hibernate.orm.query.hql 14244 [restartedMain] DEBUG [] - HQL : SELECT a.version FROM AssetExtendedAttribute a WHERE a.asset = :id  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : FROM  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.hql.reservedWordAsIdentifier 14245 [restartedMain] DEBUG [] - Encountered use of reserved word as identifier : &lt;EOF&gt;  \n2023-12-03 19:43:39.255 org.hibernate.query.hql.internal.SemanticQueryBuilder 14245 [restartedMain] DEBUG [] - Handling root path - AssetExtendedAttribute  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.creation 14245 [restartedMain] DEBUG [] - Applying inferable type to SqmExpression [SqmNamedParameter(id)] : null -&gt; BasicSqmPathSource(asset : UUID)  \n2023-12-03 19:43:39.255 org.hibernate.orm.query.sqm.ast 14245 [restartedMain] DEBUG [] - SqmStatement Tree :\n    -&gt; [select]\n      -&gt; [query-spec]\n        -&gt; [select]\n          -&gt; [selection]\n            -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).version`\n          &lt;- [selection]\n        &lt;- [select]\n        -&gt; [from]\n          -&gt; [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\n          &lt;- [root] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a)`\n        &lt;- [from]\n        -&gt; [where]\n          -&gt; [EQUAL]\n              -&gt; [basic-path] - `com.abb.rm.asset.mgmt.entity.AssetExtendedAttribute(a).asset`\n              :id\n          &lt;- [EQUAL]\n        &lt;- [where]\n      &lt;- [query-spec]\n    &lt;- [select]\n</code></pre>\n<p>2023-12-03 19:43:39.259 org.springframework.data.repository.core.support.RepositoryFactorySupport 14249 [restartedMain] DEBUG [] - Finished creation of repository instance for com.abb.abc.asset.mgmt.dao.repository.AssetExtAttrRepository.</p>\n"},{"tags":["java","spring","spring-boot","jaxb"],"comments":[{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":1,"creation_date":1701621457,"post_id":77595102,"comment_id":136795919,"body_markdown":"Have you tried looking at this older SO question? https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo","body":"Have you tried looking at this older SO question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\" title=\"javax xml bind jaxbexception implementation of jaxb api has not been found on mo\">stackoverflow.com/questions/51916221/&hellip;</a>"},{"owner":{"account_id":239922,"reputation":5720,"user_id":509839,"display_name":"Don Cruickshank"},"score":0,"creation_date":1701738990,"post_id":77595102,"comment_id":136810573,"body_markdown":"Does this answer your question? [javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath](https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701632339,"creation_date":1701632339,"answer_id":77595900,"question_id":77595102,"body_markdown":"You&#39;re missing the JAXB-Runtime dependency (since you only defined the dependency for JAXB-API and as pointed by the error message you get).\r\n\r\nStarting from JDK9, the jaxb-related classes is no more part of the JDK\r\n\r\nJust add the following to solve your error\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Creating XML from java Object","body":"<p>You're missing the JAXB-Runtime dependency (since you only defined the dependency for JAXB-API and as pointed by the error message you get).</p>\n<p>Starting from JDK9, the jaxb-related classes is no more part of the JDK</p>\n<p>Just add the following to solve your error</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":30055907,"reputation":3,"user_id":23033283,"display_name":"Jaydeep Acharjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595900,"answer_count":1,"score":0,"last_activity_date":1701632339,"creation_date":1701620125,"question_id":77595102,"body_markdown":"**I am trying to create an XML from Java object,but getting error &quot;Implementation of JAXB-API has not been found on module path or classpath.&quot; Please help me in solving the error.**\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/writeToFile&quot;,method = RequestMethod.POST)\r\n\tpublic String writeFileXML(@RequestBody Customer customer) {\r\n\t\ttry {\r\n\t\t\tFile file=new File(&quot;D:\\\\vendorfile\\\\customer.xml&quot;);\r\n\t\t\tFileWriter fileWriter=new FileWriter(file);\r\n\t\t\tJAXBContext jaxbContext=JAXBContext.newInstance(Customer.class);\r\n\t\t\tMarshaller marshaller=jaxbContext.createMarshaller();\r\n\t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t\t\tmarshaller.marshal(customer, fileWriter);\r\n\t\t\treturn &quot;Marshaller successfull&quot;;\r\n\t\t}catch(IOException ioException) {\r\n\t\t\treturn ioException.getMessage();\r\n\t\t}catch(Exception ex) {\r\n\t\t\treturn ex.getMessage();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n","title":"Creating XML from java Object","body":"<p><strong>I am trying to create an XML from Java object,but getting error &quot;Implementation of JAXB-API has not been found on module path or classpath.&quot; Please help me in solving the error.</strong></p>\n<pre><code>@RequestMapping(value = &quot;/writeToFile&quot;,method = RequestMethod.POST)\n    public String writeFileXML(@RequestBody Customer customer) {\n        try {\n            File file=new File(&quot;D:\\\\vendorfile\\\\customer.xml&quot;);\n            FileWriter fileWriter=new FileWriter(file);\n            JAXBContext jaxbContext=JAXBContext.newInstance(Customer.class);\n            Marshaller marshaller=jaxbContext.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            marshaller.marshal(customer, fileWriter);\n            return &quot;Marshaller successfull&quot;;\n        }catch(IOException ioException) {\n            return ioException.getMessage();\n        }catch(Exception ex) {\n            return ex.getMessage();\n        }\n    }\n</code></pre>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701417516,"post_id":77582180,"comment_id":136775444,"body_markdown":"The model parameter in the controller method needs to be annotated with `@Valid` so that the `@javax.annotation.Nonnull` is validated, or maybe you&#39;re using Spring Boot 3, which only supports `@jakarta.annotation.Nonnull` instead.","body":"The model parameter in the controller method needs to be annotated with <code>@Valid</code> so that the <code>@javax.annotation.Nonnull</code> is validated, or maybe you&#39;re using Spring Boot 3, which only supports <code>@jakarta.annotation.Nonnull</code> instead."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1701464478,"post_id":77582180,"comment_id":136783306,"body_markdown":"Annotated request body with `@javax.validation.Valid` as suggested. This was in addition to having the controller class annotated with `@org.springframework.validation.annotation.Validated` already. It made no difference; still let the null values for colour pass through. We are using Spring Boot 2.7.12","body":"Annotated request body with <code>@javax.validation.Valid</code> as suggested. This was in addition to having the controller class annotated with <code>@org.springframework.validation.annotation.Validated</code> already. It made no difference; still let the null values for colour pass through. We are using Spring Boot 2.7.12"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701511233,"post_id":77582180,"comment_id":136786718,"body_markdown":"Then please edit your question and include the controller.","body":"Then please edit your question and include the controller."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701631688,"creation_date":1701385957,"question_id":77582180,"body_markdown":"We are implementing an application which exposes an API that has the interface described by an `api.swagger.yaml` file. We build our application with Gradle and part of the build process we parse the `api.swagger.yaml` file and generate the classes modelling the request response classes. For this we use the `org.openapitools:openapi-generator-gradle-plugin:6.6.0` Gradle plugin. The Gradle task that does this is configured like below:\r\n\r\n```groovy\r\n//https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\r\ntask buildApiModel(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n    generatorName = &quot;java&quot;\r\n    library = &quot;webclient&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/swagger/v3/api.swagger.yaml&quot;.toString()\r\n    outputDir = &quot;$buildDir/myapp-generated-api/&quot;.toString()\r\n    modelPackage = &quot;com.my.comp.myapp.api.dto&quot;\r\n    generateModelTests = false\r\n    generateApiTests = false\r\n    skipValidateSpec = true\r\n    configOptions = [\r\n            java11                        : &quot;true&quot;,\r\n            dateLibrary                   : &quot;java11&quot;,\r\n            interfaceOnly                 : &quot;true&quot;,\r\n            additionalModelTypeAnnotations: &quot;@lombok.experimental.SuperBuilder @lombok.AllArgsConstructor @JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n    ]\r\n```\r\n\r\nIn our Swagger we define the request which is a complex structure with some embedded structures, say one of them is called `trafficMap` which in turn has a property called `semaphore` which in turn has a **required** property called `colour` which colour property can only have three values: `green`, `yellow` and `red`. It is a requirement that colour property is always passed and cannot be null. In our Swagger file this will look like this:\r\n\r\n```yaml\r\ntrafficMap:\r\n  title: ...\r\n  description: ...\r\n  type: object\r\n  properties:\r\n    semaphore:\r\n      description: ...\r\n      type: object\r\n      properties:\r\n        colour:\r\n          description: ...\r\n          type: string\r\n          enum:\r\n            - GREEN\r\n            - YELLOW\r\n            - RED\r\n      required:\r\n        - colour\r\n```\r\n\r\nWith the above, the generated Semaphore class will have these annotations regarding the colour property:\r\n\r\n```java\r\npublic class Semaphore {\r\n    public enum ColourEnum {\r\n        GREEN(&quot;GREN&quot;),\r\n        YELLOW(&quot;YELLOW&quot;),\r\n        RED(&quot;RED&quot;);\r\n\r\n        private String value;\r\n        \r\n        ColourEnum(String value) {\r\n            this.value = value;\r\n        }\r\n        \r\n        @JsonValue\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        \r\n        @JsonCreator\r\n        public static ColourEnum fromValue(String value) {\r\n            for (ColourEnum b : ColourEnum.values()) {\r\n                if (b.value.equals(value)) {\r\n                   return b;\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n        }\r\n              \r\n     public Semaphore() {\r\n     }\r\n     \r\n     public Semaphore colour(ColourEnum colour) {\r\n        this.colour = colour;\r\n        return this;\r\n     }\r\n     \r\n     @javax.annotation.Nonnull\r\n     @JsonProperty(JSON_PROPERTY_COLOUR)\r\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n     public ColourEnum getColour() {\r\n         return colour;\r\n     }\r\n\r\n     @JsonProperty(JSON_PROPERTY_COLOUR)\r\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n     public void setColour(ColourEnum colour) {\r\n         this.colour = colour;\r\n     }\r\n     // ... The rest of the generated Semaphore class\r\n}\r\n```\r\n\r\nWhen sending the request and setting the colour property to `BLUE` the request gets rejected as it should with a message `Invalid semaphore.colour` in the response body.\r\n\r\nHowever, if we pass a null value for colour or we miss the colour entirely from the request, we don&#39;t get a rejection and the request hits the controller instead. We would like the generated code to do this validation for us as opposed to implementing extra validation on the service side.\r\n\r\nWe thought the reason for this behaviour was the this annotation in the generated code: `@JsonInclude(value = JsonInclude.Include.ALWAYS)` which from JsonInclude documentation could cause accepting any value including null.\r\n\r\n```java\r\npublic enum Include\r\n{\r\n    /**\r\n     * Value that indicates that property is to be always included,\r\n     * independent of value of the property.\r\n     */\r\n    ALWAYS,\r\n\r\n    /**\r\n     * Value that indicates that only properties with non-null\r\n     * values are to be included.\r\n     */\r\n    NON_NULL,\r\n```\r\n \r\nSo the natural thing that came to our mind was to try to replace the `JsonInclude.Include.ALWAYS` with `JsonInclude.Include.NON_NULL`. To do this we added these two `x` attributes in the `api.swagger.yaml` for the `colour` property \r\n\r\n```yaml\r\ncolour:\r\n  description: ...\r\n  type: string\r\n  x-setter-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n  x-field-extra-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\r\n  enum:\r\n  ....\r\n```\r\n\r\nThe only difference in the generated code that we noticed was that `Colour` field of the `Semaphore` class was now annotated with `NON_NULL` but the getter and setter methods still had the `ALWAYS` JsonInclude and the app still does not reject the null values for colour.\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\nprivate ColourEnum colour;\r\n```\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/v3/some&quot;)\r\n@Validated\r\npublic void StuffController {\r\n    @PostMapping(value = &quot;/stuff&quot;, consumes = APPLICATION_JSON_VALUE, produces = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CreateStuffResponse&gt; createStuff(\r\n        @RequestBody @Valid Payee request, @RequestHeader HttpHeaders httpHeaders) throws Exception {\r\n    ...\r\n    }\r\n}\r\n```\r\n\r\nHow can we configure our swagger to generate code that would reject the request if a null value is passed for colour?","title":"How to reject null values in Swagger","body":"<p>We are implementing an application which exposes an API that has the interface described by an <code>api.swagger.yaml</code> file. We build our application with Gradle and part of the build process we parse the <code>api.swagger.yaml</code> file and generate the classes modelling the request response classes. For this we use the <code>org.openapitools:openapi-generator-gradle-plugin:6.6.0</code> Gradle plugin. The Gradle task that does this is configured like below:</p>\n<pre><code>//https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin\ntask buildApiModel(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    generatorName = &quot;java&quot;\n    library = &quot;webclient&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/swagger/v3/api.swagger.yaml&quot;.toString()\n    outputDir = &quot;$buildDir/myapp-generated-api/&quot;.toString()\n    modelPackage = &quot;com.my.comp.myapp.api.dto&quot;\n    generateModelTests = false\n    generateApiTests = false\n    skipValidateSpec = true\n    configOptions = [\n            java11                        : &quot;true&quot;,\n            dateLibrary                   : &quot;java11&quot;,\n            interfaceOnly                 : &quot;true&quot;,\n            additionalModelTypeAnnotations: &quot;@lombok.experimental.SuperBuilder @lombok.AllArgsConstructor @JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n    ]\n</code></pre>\n<p>In our Swagger we define the request which is a complex structure with some embedded structures, say one of them is called <code>trafficMap</code> which in turn has a property called <code>semaphore</code> which in turn has a <strong>required</strong> property called <code>colour</code> which colour property can only have three values: <code>green</code>, <code>yellow</code> and <code>red</code>. It is a requirement that colour property is always passed and cannot be null. In our Swagger file this will look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>trafficMap:\n  title: ...\n  description: ...\n  type: object\n  properties:\n    semaphore:\n      description: ...\n      type: object\n      properties:\n        colour:\n          description: ...\n          type: string\n          enum:\n            - GREEN\n            - YELLOW\n            - RED\n      required:\n        - colour\n</code></pre>\n<p>With the above, the generated Semaphore class will have these annotations regarding the colour property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Semaphore {\n    public enum ColourEnum {\n        GREEN(&quot;GREN&quot;),\n        YELLOW(&quot;YELLOW&quot;),\n        RED(&quot;RED&quot;);\n\n        private String value;\n        \n        ColourEnum(String value) {\n            this.value = value;\n        }\n        \n        @JsonValue\n        public String getValue() {\n            return value;\n        }\n        \n        @JsonCreator\n        public static ColourEnum fromValue(String value) {\n            for (ColourEnum b : ColourEnum.values()) {\n                if (b.value.equals(value)) {\n                   return b;\n                }\n            }\n            throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n        }\n              \n     public Semaphore() {\n     }\n     \n     public Semaphore colour(ColourEnum colour) {\n        this.colour = colour;\n        return this;\n     }\n     \n     @javax.annotation.Nonnull\n     @JsonProperty(JSON_PROPERTY_COLOUR)\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\n     public ColourEnum getColour() {\n         return colour;\n     }\n\n     @JsonProperty(JSON_PROPERTY_COLOUR)\n     @JsonInclude(value = JsonInclude.Include.ALWAYS)\n     public void setColour(ColourEnum colour) {\n         this.colour = colour;\n     }\n     // ... The rest of the generated Semaphore class\n}\n</code></pre>\n<p>When sending the request and setting the colour property to <code>BLUE</code> the request gets rejected as it should with a message <code>Invalid semaphore.colour</code> in the response body.</p>\n<p>However, if we pass a null value for colour or we miss the colour entirely from the request, we don't get a rejection and the request hits the controller instead. We would like the generated code to do this validation for us as opposed to implementing extra validation on the service side.</p>\n<p>We thought the reason for this behaviour was the this annotation in the generated code: <code>@JsonInclude(value = JsonInclude.Include.ALWAYS)</code> which from JsonInclude documentation could cause accepting any value including null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Include\n{\n    /**\n     * Value that indicates that property is to be always included,\n     * independent of value of the property.\n     */\n    ALWAYS,\n\n    /**\n     * Value that indicates that only properties with non-null\n     * values are to be included.\n     */\n    NON_NULL,\n</code></pre>\n<p>So the natural thing that came to our mind was to try to replace the <code>JsonInclude.Include.ALWAYS</code> with <code>JsonInclude.Include.NON_NULL</code>. To do this we added these two <code>x</code> attributes in the <code>api.swagger.yaml</code> for the <code>colour</code> property</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>colour:\n  description: ...\n  type: string\n  x-setter-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n  x-field-extra-annotation: &quot;@JsonInclude(JsonInclude.Include.NON_NULL)&quot;\n  enum:\n  ....\n</code></pre>\n<p>The only difference in the generated code that we noticed was that <code>Colour</code> field of the <code>Semaphore</code> class was now annotated with <code>NON_NULL</code> but the getter and setter methods still had the <code>ALWAYS</code> JsonInclude and the app still does not reject the null values for colour.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nprivate ColourEnum colour;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/v3/some&quot;)\n@Validated\npublic void StuffController {\n    @PostMapping(value = &quot;/stuff&quot;, consumes = APPLICATION_JSON_VALUE, produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;CreateStuffResponse&gt; createStuff(\n        @RequestBody @Valid Payee request, @RequestHeader HttpHeaders httpHeaders) throws Exception {\n    ...\n    }\n}\n</code></pre>\n<p>How can we configure our swagger to generate code that would reject the request if a null value is passed for colour?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-test"],"owner":{"account_id":24607110,"reputation":49,"user_id":18509169,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701604075,"answer_count":0,"score":-1,"last_activity_date":1701631656,"creation_date":1701562586,"question_id":77592641,"body_markdown":"with RestTemplate I use Spring&#39;s MockRestServiceServer to unit test my code, does spring have a similar Mock server for RestClient?  Or do you have an example of testing RestClient in the wiremock framework?\r\n\r\nHere&#39;s an example (snippet) of my testing code\r\n\r\n\r\n        restTemplate = RestTemplate()\r\n        mockServer = MockRestServiceServer.createServer(restTemplate)\r\n\r\n        mockServer.expect(requestTo(&quot;https://somereallygoodserver.com/oauth/token&quot;))\r\n            .andExpect(method(HttpMethod.POST))\r\n            .andExpect(content().contentType(MediaType.APPLICATION_FORM_URLENCODED))\r\n            .andExpect(content().string(&quot;grant_type=authorization_code&amp;code=code123&amp;client_id=dbMockClientId&amp;client_secret=dbMockClientSecret&quot;))\r\n            .andRespond(withSuccess(expectedResponse, MediaType.APPLICATION_JSON))\r\n","title":"Unit testing the new spring RestClient","body":"<p>with RestTemplate I use Spring's MockRestServiceServer to unit test my code, does spring have a similar Mock server for RestClient?  Or do you have an example of testing RestClient in the wiremock framework?</p>\n<p>Here's an example (snippet) of my testing code</p>\n<pre><code>    restTemplate = RestTemplate()\n    mockServer = MockRestServiceServer.createServer(restTemplate)\n\n    mockServer.expect(requestTo(&quot;https://somereallygoodserver.com/oauth/token&quot;))\n        .andExpect(method(HttpMethod.POST))\n        .andExpect(content().contentType(MediaType.APPLICATION_FORM_URLENCODED))\n        .andExpect(content().string(&quot;grant_type=authorization_code&amp;code=code123&amp;client_id=dbMockClientId&amp;client_secret=dbMockClientSecret&quot;))\n        .andRespond(withSuccess(expectedResponse, MediaType.APPLICATION_JSON))\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1329801618,"post_id":9372559,"comment_id":11836919,"body_markdown":"Looks like some `catch` block is &quot;helpfully&quot; suppressing the full stack trace, which would include the root cause.  First thing you need to do is modify the code to print the complete stack trace and include it in your post (edit the post).","body":"Looks like some <code>catch</code> block is &quot;helpfully&quot; suppressing the full stack trace, which would include the root cause.  First thing you need to do is modify the code to print the complete stack trace and include it in your post (edit the post)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1567995420,"post_id":9372559,"comment_id":102121393,"body_markdown":"Or else you yourself have failed to provide the full stack trace, which alone contains the secret cause.","body":"Or else you yourself have failed to provide the full stack trace, which alone contains the secret cause."},{"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"score":0,"creation_date":1604391426,"post_id":9372559,"comment_id":114326286,"body_markdown":"Same error for me when using Apache FTPClient.Could not found the solution","body":"Same error for me when using Apache FTPClient.Could not found the solution"}],"answers":[{"tags":[],"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384312511,"creation_date":1384312511,"answer_id":19944565,"question_id":9372559,"body_markdown":"The directory you are changing should exists on the same path and it should have proper write permission so that FTP can write on it.\r\n\r\nhere...\r\n\r\n    boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(&quot;ftpDirectory&quot;));","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>The directory you are changing should exists on the same path and it should have proper write permission so that FTP can write on it.</p>\n\n<p>here...</p>\n\n<pre><code>boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(\"ftpDirectory\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1578385403,"post_id":44381494,"comment_id":105411538,"body_markdown":"Or other things.","body":"Or other things."}],"tags":[],"owner":{"account_id":1865925,"reputation":393,"user_id":1689494,"display_name":"Ishara Samantha"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496723788,"creation_date":1496723788,"answer_id":44381494,"question_id":9372559,"body_markdown":"This error occurred when disk space is not available or disk quote exceed.   ","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>This error occurred when disk space is not available or disk quote exceed.   </p>\n"},{"tags":[],"owner":{"account_id":24498831,"reputation":1,"user_id":18414700,"display_name":"kevin chang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646799316,"creation_date":1646799316,"answer_id":71404238,"question_id":9372559,"body_markdown":"When I encountered this problem, the disk space of the ftp server to be boarded was full.","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>When I encountered this problem, the disk space of the ftp server to be boarded was full.</p>\n"}],"owner":{"account_id":180477,"reputation":1531,"user_id":413816,"accept_rate":75,"display_name":"JavaGeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11449,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1701630190,"creation_date":1329801456,"question_id":9372559,"body_markdown":"I&#39;m trying to copy some files created in my server to FTP using code in below method. But weird thing is i&#39;m getting below error randomly and i couldn&#39;t figure out what is happening.\r\n\r\n    Exception =org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\r\n\r\nBelow is the code by which i&#39;m copying the files to FTP.\r\n\r\n    public void copyDumpsToFTP() throws SocketException, IOException\r\n      {\r\n    \t  \r\n    \t  \r\n    \t  \r\n          FTPClient f= new FTPClient();\r\n          f.connect(dumpProperties.getProperty(&quot;ftpIPAddress&quot;));\r\n          boolean flag =f.login(dumpProperties.getProperty(&quot;ftpUser&quot;),dumpProperties.getProperty(&quot;ftpPassword&quot;));\r\n          System.out.println(&quot; is connected to FTP ::&quot;+flag);\r\n         \r\n          // setting fileType to binary\r\n          \r\n          boolean isFileTypeChanged =f.setFileType(FTP.BINARY_FILE_TYPE);\r\n          \r\n          \r\n          // System.out.println(&quot; Is file type changed to binary :: &quot;+isFileTypeChanged);\r\n          // change working directory of FTP Server\r\n          \r\n          boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(&quot;ftpDirectory&quot;));\r\n          \r\n          System.out.println(&quot; Is the FTP working directory Changed :: &quot;+isDirectoryChanged);\r\n          \r\n          \r\n              \r\n         \r\n          // to copy engineering dump from source to FTP\r\n          \r\n          InputStream inputFileEngg = new FileInputStream(new File(dumpNameEngineering));\r\n        \r\n          \r\n          \r\n          boolean isSavedEngg = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfEnggInFTP&quot;), inputFileEngg);\r\n          System.out.println(&quot;is Engineering dump File Saved in FTP Server :: &quot;+isSavedEngg);\r\n          System.out.println(&quot; Engg Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n          \r\n       // to copy correspondance dump from source to FTP\r\n          \r\n         InputStream inputFileCorr = new FileInputStream(new File(dumpNameCorrespondance));   \r\n               \r\n          boolean isSavedCorr = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfCorrInFTP&quot;), inputFileCorr);\r\n          System.out.println(&quot;is Correspondance File Saved in FTP Server :: &quot;+isSavedCorr);\r\n          System.out.println(&quot; Correspondance Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n       // to copy tmg dump from source to FTP\r\n          \r\n           InputStream inputFileTmg = new FileInputStream(new File(dumpNameTmg));       \r\n          \r\n          boolean isSavedTmg = f.storeFile(dumpProperties.getProperty(&quot;dumpNameOfTmgInFTP&quot;), inputFileTmg);\r\n          System.out.println(&quot;is TMG File Saved in FTP Server :: &quot;+isSavedTmg);\r\n          System.out.println(&quot; TMG Dump sucessfully Created and Saved in FTP...&quot;);\r\n          \r\n          \r\n          \r\n          \r\n      }\r\n\r\nThe program is executing till SOP statement `Is the FTP working directory Changed :: true`\r\n\r\nand latter it had thrown error as mentioned above.","title":"org.apache.commons.net.io.CopyStreamException: IOException caught while copying","body":"<p>I'm trying to copy some files created in my server to FTP using code in below method. But weird thing is i'm getting below error randomly and i couldn't figure out what is happening.</p>\n\n<pre><code>Exception =org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\n</code></pre>\n\n<p>Below is the code by which i'm copying the files to FTP.</p>\n\n<pre><code>public void copyDumpsToFTP() throws SocketException, IOException\n  {\n\n\n\n      FTPClient f= new FTPClient();\n      f.connect(dumpProperties.getProperty(\"ftpIPAddress\"));\n      boolean flag =f.login(dumpProperties.getProperty(\"ftpUser\"),dumpProperties.getProperty(\"ftpPassword\"));\n      System.out.println(\" is connected to FTP ::\"+flag);\n\n      // setting fileType to binary\n\n      boolean isFileTypeChanged =f.setFileType(FTP.BINARY_FILE_TYPE);\n\n\n      // System.out.println(\" Is file type changed to binary :: \"+isFileTypeChanged);\n      // change working directory of FTP Server\n\n      boolean isDirectoryChanged =f.changeWorkingDirectory(dumpProperties.getProperty(\"ftpDirectory\"));\n\n      System.out.println(\" Is the FTP working directory Changed :: \"+isDirectoryChanged);\n\n\n\n\n      // to copy engineering dump from source to FTP\n\n      InputStream inputFileEngg = new FileInputStream(new File(dumpNameEngineering));\n\n\n\n      boolean isSavedEngg = f.storeFile(dumpProperties.getProperty(\"dumpNameOfEnggInFTP\"), inputFileEngg);\n      System.out.println(\"is Engineering dump File Saved in FTP Server :: \"+isSavedEngg);\n      System.out.println(\" Engg Dump sucessfully Created and Saved in FTP...\");\n\n\n   // to copy correspondance dump from source to FTP\n\n     InputStream inputFileCorr = new FileInputStream(new File(dumpNameCorrespondance));   \n\n      boolean isSavedCorr = f.storeFile(dumpProperties.getProperty(\"dumpNameOfCorrInFTP\"), inputFileCorr);\n      System.out.println(\"is Correspondance File Saved in FTP Server :: \"+isSavedCorr);\n      System.out.println(\" Correspondance Dump sucessfully Created and Saved in FTP...\");\n\n   // to copy tmg dump from source to FTP\n\n       InputStream inputFileTmg = new FileInputStream(new File(dumpNameTmg));       \n\n      boolean isSavedTmg = f.storeFile(dumpProperties.getProperty(\"dumpNameOfTmgInFTP\"), inputFileTmg);\n      System.out.println(\"is TMG File Saved in FTP Server :: \"+isSavedTmg);\n      System.out.println(\" TMG Dump sucessfully Created and Saved in FTP...\");\n\n\n\n\n  }\n</code></pre>\n\n<p>The program is executing till SOP statement <code>Is the FTP working directory Changed :: true</code></p>\n\n<p>and latter it had thrown error as mentioned above.</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1701631219,"post_id":77595729,"comment_id":136797036,"body_markdown":"It could partially be due to compact Strings that were added in Java 9. If all characters of the String can be represented using a Latin-1 encoding, then the String will use a `byte[]` internally rather than a `char[]`, which saves memory.","body":"It could partially be due to compact Strings that were added in Java 9. If all characters of the String can be represented using a Latin-1 encoding, then the String will use a <code>byte[]</code> internally rather than a <code>char[]</code>, which saves memory."},{"owner":{"account_id":14862853,"reputation":33,"user_id":10733023,"display_name":"Ron Amir"},"score":0,"creation_date":1701632467,"post_id":77595729,"comment_id":136797155,"body_markdown":"@JacobG. I thought it might be the reason, however there is also a similar decrease in the number of strings","body":"@JacobG. I thought it might be the reason, however there is also a similar decrease in the number of strings"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701633024,"post_id":77595729,"comment_id":136797209,"body_markdown":"Can you make a heapdump in both versions and check for differences? Among others, you might want to look into both the amount of objects and required memory by them of specific classes but also at the fractions of memory which is reachable vs unreachable (could be GCed). You can use a tool like [Eclipse MAT](https://projects.eclipse.org/projects/tools.mat) for analyzing that.","body":"Can you make a heapdump in both versions and check for differences? Among others, you might want to look into both the amount of objects and required memory by them of specific classes but also at the fractions of memory which is reachable vs unreachable (could be GCed). You can use a tool like <a href=\"https://projects.eclipse.org/projects/tools.mat\" rel=\"nofollow noreferrer\">Eclipse MAT</a> for analyzing that."}],"owner":{"account_id":14862853,"reputation":33,"user_id":10733023,"display_name":"Ron Amir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701699052,"answer_count":0,"score":1,"last_activity_date":1701629560,"creation_date":1701629560,"question_id":77595729,"body_markdown":"My app Java version was upgraded to Java 17 from Java 8. While testing memory usage of the new version I’ve noticed a huge decrease (more than 50%) in the memory usage. I used parallel gc so string deduplication feature is supposed to be off and there were no major changes to the code other than strictly needed changes for the upgrade. Is there an explanation for this decrease?","title":"Java 17 String Deduplication","body":"<p>My app Java version was upgraded to Java 17 from Java 8. While testing memory usage of the new version I’ve noticed a huge decrease (more than 50%) in the memory usage. I used parallel gc so string deduplication feature is supposed to be off and there were no major changes to the code other than strictly needed changes for the upgrade. Is there an explanation for this decrease?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701630559,"post_id":77595605,"comment_id":136796960,"body_markdown":"If I changed your line to `A a = new B();`, we wouldn&#39;t expect an error (runtime or otherwise) anymore. In this sense, the compiler doesn&#39;t really care to check the casts, as something could come along and extend the functionality to make the cast valid. In your case, you&#39;re comparing a `final class String` to `class A`: The `final`ity of the class actually matters! If you marked `A` as `final` (removing `B` in the meantime), then your example becomes a compiler error.","body":"If I changed your line to <code>A a = new B();</code>, we wouldn&#39;t expect an error (runtime or otherwise) anymore. In this sense, the compiler doesn&#39;t really care to check the casts, as something could come along and extend the functionality to make the cast valid. In your case, you&#39;re comparing a <code>final class String</code> to <code>class A</code>: The <code>final</code>ity of the class actually matters! If you marked <code>A</code> as <code>final</code> (removing <code>B</code> in the meantime), then your example becomes a compiler error."}],"answers":[{"tags":[],"owner":{"account_id":28874500,"reputation":1,"user_id":22115357,"display_name":"Witherhoard"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701628691,"creation_date":1701628691,"answer_id":77595677,"question_id":77595605,"body_markdown":"Your compiler doesn&#39;t know what type of casting could be and wouldn&#39;t be valid, so it has it has to wait until runtime. This [enter link description here][1] it better than me though.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25326637/22115357","title":"question about Inconvertible types cannot cast","body":"<p>Your compiler doesn't know what type of casting could be and wouldn't be valid, so it has it has to wait until runtime. This <a href=\"https://stackoverflow.com/a/25326637/22115357\">enter link description here</a> it better than me though.</p>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1701628953,"answer_count":1,"score":2,"last_activity_date":1701628691,"creation_date":1701627446,"question_id":77595605,"body_markdown":"Compiler gives error: Inconvertible types cannot cast \r\n\r\n    String s = &quot;aa&quot;;\r\n    Integer i = (Integer)s;\r\n\r\nBut for below code, \r\n\r\n    class A implements Runnable{\r\n        @Override\r\n        public void run() {\r\n        }\r\n    }\r\n    class B extends A implements Observer {\r\n        @Override\r\n        public void update(Observable o, Object arg) {\r\n        }\r\n    }\r\n\r\nWhen trying to use, why there is no compilation error? A is not related to Observer at all.\r\n\r\n       A a = new A() ;\r\n       Observer ob = (Observer) a ; //compile OK but runtime fail\r\n\r\n","title":"question about Inconvertible types cannot cast","body":"<p>Compiler gives error: Inconvertible types cannot cast</p>\n<pre><code>String s = &quot;aa&quot;;\nInteger i = (Integer)s;\n</code></pre>\n<p>But for below code,</p>\n<pre><code>class A implements Runnable{\n    @Override\n    public void run() {\n    }\n}\nclass B extends A implements Observer {\n    @Override\n    public void update(Observable o, Object arg) {\n    }\n}\n</code></pre>\n<p>When trying to use, why there is no compilation error? A is not related to Observer at all.</p>\n<pre><code>   A a = new A() ;\n   Observer ob = (Observer) a ; //compile OK but runtime fail\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28746296,"reputation":1,"user_id":22015381,"display_name":"Dagworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701628653,"answer_count":0,"score":-1,"last_activity_date":1701628613,"creation_date":1701628371,"question_id":77595658,"body_markdown":"Taking the Java MOOC COURSE and i can&#39;t seem to figure out why my code is not printing a right leaning triangle ? i&#39;ve been stuck at it for days now ? can someone please explain to me what i am doing wrong.\r\np.s -- i used the hyphen in place of space to see what&#39;s printing in the console.\r\n\r\n\r\n\r\n\r\n\r\n    class AdvancedAstrology {\r\n    \r\n        public static void main(String[] args) {\r\n            printTriAngle(4);\r\n        }\r\n    \r\n        public static void printSpaces(int number) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(&quot;$&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void printStars(int number) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    \r\n        public static void printTriAngle(int size) {\r\n    \r\n            int i = 1;\r\n            while (i &lt;= size) {\r\n                printSpaces(size - i);\r\n                printStars(i);\r\n                i++;\r\n                size--;\r\n            }\r\n        }\r\n    \r\n    }","title":"MOOC JAVA COURSE - Stuck on Advanced AStrology","body":"<p>Taking the Java MOOC COURSE and i can't seem to figure out why my code is not printing a right leaning triangle ? i've been stuck at it for days now ? can someone please explain to me what i am doing wrong.\np.s -- i used the hyphen in place of space to see what's printing in the console.</p>\n<pre><code>class AdvancedAstrology {\n\n    public static void main(String[] args) {\n        printTriAngle(4);\n    }\n\n    public static void printSpaces(int number) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(&quot;$&quot;);\n        }\n    }\n\n    public static void printStars(int number) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n\n    public static void printTriAngle(int size) {\n\n        int i = 1;\n        while (i &lt;= size) {\n            printSpaces(size - i);\n            printStars(i);\n            i++;\n            size--;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"score":1,"creation_date":1280143681,"post_id":3333611,"comment_id":3458870,"body_markdown":"Do you see the log message in the welcome() method?","body":"Do you see the log message in the welcome() method?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":3,"creation_date":1476736702,"post_id":3333611,"comment_id":67463272,"body_markdown":"I&#39;m still unclear about how to resolve this, there is no good answer here. No one explained why we can&#39;t do RequestMethod.POST. Can someone follow up? I don&#39;t understand any of the comments.","body":"I&#39;m still unclear about how to resolve this, there is no good answer here. No one explained why we can&#39;t do RequestMethod.POST. Can someone follow up? I don&#39;t understand any of the comments."}],"answers":[{"comments":[{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":13,"creation_date":1329887036,"post_id":4137650,"comment_id":11862270,"body_markdown":"Why does `method=RequestMethod.POST` not work? The form method is POST and the action URL is /test, so I would have thought it will work.","body":"Why does <code>method=RequestMethod.POST</code> not work? The form method is POST and the action URL is /test, so I would have thought it will work."},{"owner":{"account_id":3245007,"reputation":2260,"user_id":2736849,"accept_rate":80,"display_name":"mfaisalhyder"},"score":1,"creation_date":1457596203,"post_id":4137650,"comment_id":59480069,"body_markdown":"@WebUser it is a myth, some says tomcat disables it by default, so they have to apply filter in web.xml but what if a dev is making an API with SPRING Boot framework, even today in 2016/March it is giving same error, but Using GET works clean and perfect in address bar.! \n\nAnswer would be that one has to make whole panel then write Ajax calls to Delete/Put/Post to work.!","body":"@WebUser it is a myth, some says tomcat disables it by default, so they have to apply filter in web.xml but what if a dev is making an API with SPRING Boot framework, even today in 2016/March it is giving same error, but Using GET works clean and perfect in address bar.!   Answer would be that one has to make whole panel then write Ajax calls to Delete/Put/Post to work.!"}],"tags":[],"owner":{"account_id":667302,"reputation":208,"user_id":502325,"display_name":"Bik"},"comment_count":2,"down_vote_count":4,"up_vote_count":20,"is_accepted":true,"score":16,"last_activity_date":1450098190,"creation_date":1289331124,"answer_id":4137650,"question_id":3333611,"body_markdown":"Change \r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n\r\nTo\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Change </p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.POST)\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3245007,"reputation":2260,"user_id":2736849,"accept_rate":80,"display_name":"mfaisalhyder"},"score":0,"creation_date":1457595652,"post_id":12263009,"comment_id":59479785,"body_markdown":"this is by far the cleanest explanation of why my Spring API gives &#39;GET&#39; not supported when i am using RequestMethod.DELETE in my Controller.!","body":"this is by far the cleanest explanation of why my Spring API gives &#39;GET&#39; not supported when i am using RequestMethod.DELETE in my Controller.!"},{"owner":{"account_id":14796971,"reputation":355,"user_id":10686377,"display_name":"FireFuro99"},"score":3,"creation_date":1642690871,"post_id":12263009,"comment_id":125143043,"body_markdown":"This does not solve the issue, it just explains basic knowledge. The &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; not supported]&quot; always appears when sending a form via POST.","body":"This does not solve the issue, it just explains basic knowledge. The &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedExcept&zwnj;&#8203;ion: Request method &#39;GET&#39; not supported]&quot; always appears when sending a form via POST."}],"tags":[],"owner":{"account_id":1473505,"reputation":6503,"user_id":1384480,"accept_rate":80,"display_name":"Tejas"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1450098224,"creation_date":1346759819,"answer_id":12263009,"question_id":3333611,"body_markdown":"`method = POST` will work if you &#39;post&#39; a form to the url /test.\r\n\r\nif you type a url in address bar of a browser and hit enter, it&#39;s always a `GET` request, so you had to specify POST request.\r\n\r\nGoogle for `HTTP GET` and `HTTP POST` (there are several others like PUT DELETE). They all have their own meaning.","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p><code>method = POST</code> will work if you 'post' a form to the url /test.</p>\n\n<p>if you type a url in address bar of a browser and hit enter, it's always a <code>GET</code> request, so you had to specify POST request.</p>\n\n<p>Google for <code>HTTP GET</code> and <code>HTTP POST</code> (there are several others like PUT DELETE). They all have their own meaning.</p>\n"},{"tags":[],"owner":{"account_id":12307454,"reputation":119,"user_id":8980049,"accept_rate":75,"display_name":"Gavin James Beere"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516630213,"creation_date":1516630213,"answer_id":48383473,"question_id":3333611,"body_markdown":"I solved this error by including a get and post request in my controller:\r\nmethod={RequestMethod.POST, RequestMethod.GET}\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I solved this error by including a get and post request in my controller:\nmethod={RequestMethod.POST, RequestMethod.GET}</p>\n"},{"comments":[{"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"score":0,"creation_date":1620876496,"post_id":50387590,"comment_id":119332434,"body_markdown":"so why do you specifically state &quot;GET&quot;?","body":"so why do you specifically state &quot;GET&quot;?"}],"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526548237,"creation_date":1526548237,"answer_id":50387590,"question_id":3333611,"body_markdown":"I also had the same issue. I changed it to the following and it worked. \r\n\r\nJava : \r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n\r\nHTML code:\r\n  \r\n\r\n      &lt;form action=&quot;&lt;%=request.getContextPath() %&gt;/test&quot; method=&quot;GET&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt; \r\n        &lt;/form&gt;\r\n\r\nBy default if you do not specify http method in a form it uses GET. To use POST method you need specifically state it. \r\n\r\nHope this helps. ","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I also had the same issue. I changed it to the following and it worked. </p>\n\n<p>Java : </p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>  &lt;form action=\"&lt;%=request.getContextPath() %&gt;/test\" method=\"GET\"&gt;\n    &lt;input type=\"submit\" value=\"submit\"&gt; \n    &lt;/form&gt;\n</code></pre>\n\n<p>By default if you do not specify http method in a form it uses GET. To use POST method you need specifically state it. </p>\n\n<p>Hope this helps. </p>\n"},{"comments":[{"owner":{"account_id":4491729,"reputation":308,"user_id":3652669,"display_name":"Ben"},"score":0,"creation_date":1583833277,"post_id":56292705,"comment_id":107238230,"body_markdown":"Could this cause any security issue to add RequestMethod.GET to a RequestMethod.POST form (i.e. login form) ?","body":"Could this cause any security issue to add RequestMethod.GET to a RequestMethod.POST form (i.e. login form) ?"},{"owner":{"account_id":1242750,"reputation":642,"user_id":1204940,"display_name":"Abhishek"},"score":2,"creation_date":1638548272,"post_id":56292705,"comment_id":124126100,"body_markdown":"method = { RequestMethod.GET, RequestMethod.POST } is considered as security hotspot in SonarQube. Its betted to use GET or POST at a time. Avoid to use both together.","body":"method = { RequestMethod.GET, RequestMethod.POST } is considered as security hotspot in SonarQube. Its betted to use GET or POST at a time. Avoid to use both together."}],"tags":[],"owner":{"account_id":5270006,"reputation":1227,"user_id":4208582,"display_name":"Michel Fernandes"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558700903,"creation_date":1558700903,"answer_id":56292705,"question_id":3333611,"body_markdown":"Apparently some POST requests looks like a &quot;GET&quot; to the server (like Heroku...)\r\n\r\nSo I use this strategy and it works for me:\r\n\r\n    @RequestMapping(value = &quot;/salvar&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n\r\n ","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Apparently some POST requests looks like a \"GET\" to the server (like Heroku...)</p>\n\n<p>So I use this strategy and it works for me:</p>\n\n<pre><code>@RequestMapping(value = \"/salvar\", method = { RequestMethod.GET, RequestMethod.POST })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17334239,"reputation":11,"user_id":12556554,"display_name":"Ajith Arumugam Arunachalam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580361516,"creation_date":1580361516,"answer_id":59979534,"question_id":3333611,"body_markdown":"if You are using browser it default always works on get, u can work with postman tool,otherwise u can change it to getmapping.hope this will works","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>if You are using browser it default always works on get, u can work with postman tool,otherwise u can change it to getmapping.hope this will works</p>\n"},{"tags":[],"owner":{"account_id":13519274,"reputation":883,"user_id":9753003,"display_name":"Coffemanz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642441698,"creation_date":1642441698,"answer_id":70745524,"question_id":3333611,"body_markdown":"For me the problem was that I forgot to add a protocol to baseUrl in my postman request. After I&#39;ve added &quot;https://&quot;, it worked like a charm.","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>For me the problem was that I forgot to add a protocol to baseUrl in my postman request. After I've added &quot;https://&quot;, it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":14129077,"reputation":1,"user_id":10207507,"display_name":"asha pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649834693,"creation_date":1649834693,"answer_id":71853501,"question_id":3333611,"body_markdown":"I solved this error by including json data into postman body part and then hit the postmapping url\r\n\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I solved this error by including json data into postman body part and then hit the postmapping url</p>\n"},{"tags":[],"owner":{"account_id":27387570,"reputation":11,"user_id":20891107,"display_name":"LaParaguaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672368723,"creation_date":1672368723,"answer_id":74957750,"question_id":3333611,"body_markdown":"Are you working with Angular? I had the same problem and it was because I was using subscribe and they changed their implementation (This deprecation was introduced in RxJS 6.4.) It worked for me using it like this:\r\n\r\n import { of } from &#39;rxjs&#39;;\r\n\r\n// recommended\r\nof([1,2,3]).subscribe((v) =&gt; console.info(v));\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>Are you working with Angular? I had the same problem and it was because I was using subscribe and they changed their implementation (This deprecation was introduced in RxJS 6.4.) It worked for me using it like this:</p>\n<p>import { of } from 'rxjs';</p>\n<p>// recommended\nof([1,2,3]).subscribe((v) =&gt; console.info(v));</p>\n"},{"tags":[],"owner":{"account_id":23513968,"reputation":84,"user_id":17562171,"display_name":"Marek Grzesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701628179,"creation_date":1701627657,"answer_id":77595621,"question_id":3333611,"body_markdown":"For me dosn&#39;t work I put solution abowe, You have to implement whole path like it&#39;s on pictures. Good luck\r\n\r\nAs well don&#39;t forget use:\r\n```\r\n@Service\r\n@Transactional\r\npublic class RoomService {\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n```\r\n    @RequestMapping(value = &quot;/{roomId}/status/{status}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;String&gt; changeRoomStatus(\r\n            @PathVariable int roomId,\r\n            @PathVariable RoomStatus status) {\r\n\r\n        try {\r\n            roomService.changeRoomStatus(roomId, status);\r\n            return ResponseEntity.ok(&quot;Room status changed successfully.&quot;);\r\n        } catch (RoomNotFoundException e) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Room not found.&quot;);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .body(&quot;Error changing room status: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M9lum.png\r\n  [2]: https://i.stack.imgur.com/ZicKa.png","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>For me dosn't work I put solution abowe, You have to implement whole path like it's on pictures. Good luck</p>\n<p>As well don't forget use:</p>\n<pre><code>@Service\n@Transactional\npublic class RoomService {\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/M9lum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9lum.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZicKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZicKa.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    @RequestMapping(value = &quot;/{roomId}/status/{status}&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; changeRoomStatus(\n            @PathVariable int roomId,\n            @PathVariable RoomStatus status) {\n\n        try {\n            roomService.changeRoomStatus(roomId, status);\n            return ResponseEntity.ok(&quot;Room status changed successfully.&quot;);\n        } catch (RoomNotFoundException e) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Room not found.&quot;);\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(&quot;Error changing room status: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":155049,"reputation":1139,"user_id":371430,"accept_rate":90,"display_name":"EdwardLau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236462,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":4137650,"answer_count":10,"score":32,"last_activity_date":1701628179,"creation_date":1280136480,"question_id":3333611,"body_markdown":"I trying `@RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)` but is error\r\n\r\nCode is \r\n\r\n     @Controller\r\n     public class HelloWordController {\r\n     private Logger logger = LoggerFactory.getLogger(HelloWordController.class);\r\n    \r\n     @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n     public String welcome() {\r\n      logger.info(&quot;Spring params is welcome&quot;);\r\n      return &quot;/WEB-INF/jsp/welcome&quot;;\r\n     }\r\n    \r\n    }\r\n\r\nweb.xml is\r\n\r\n    &lt;servlet&gt;\r\n    &lt;description&gt;This is Spring MVC DispatcherServlet&lt;/description&gt;\r\n    &lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;description&gt;SpringContext&lt;/description&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;classpath*:springmvc.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n      &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\nand springmvc.xml is\r\n\r\n\r\n &lt;context:component-scan base-package=&quot;org.lxh&quot;&gt;&lt;/context:component-scan&gt;\r\n\r\n &lt;mvc:annotation-driven /&gt;\r\n\r\n &lt;bean id=&quot;viewResolver&quot;\r\n  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; \r\n  &lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;\r\n  &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n &lt;/bean&gt;\r\n\r\nindex.jsp is\r\n\r\n    &lt;form action=&quot;&lt;%=request.getContextPath() %&gt;/test&quot; method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;submit&quot;&gt; \r\n    &lt;/form&gt;\r\n\r\nI input submit botton brower is error \r\n\r\n\r\n&gt; HTTP Status 405 - Request method &#39;GET&#39;\r\n&gt; not supported  type Status report\r\n&gt; \r\n&gt; message Request method &#39;GET&#39; not\r\n&gt; supported\r\n&gt; \r\n&gt; description The specified HTTP method\r\n&gt; is not allowed for the requested\r\n&gt; resource (Request method &#39;GET&#39; not\r\n&gt; supported).\r\n\r\n\r\n","title":"Why SpringMVC Request method &#39;GET&#39; not supported?","body":"<p>I trying <code>@RequestMapping(value = \"/test\", method = RequestMethod.POST)</code> but is error</p>\n\n<p>Code is </p>\n\n<pre><code> @Controller\n public class HelloWordController {\n private Logger logger = LoggerFactory.getLogger(HelloWordController.class);\n\n @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n public String welcome() {\n  logger.info(\"Spring params is welcome\");\n  return \"/WEB-INF/jsp/welcome\";\n }\n\n}\n</code></pre>\n\n<p>web.xml is</p>\n\n<pre><code>&lt;servlet&gt;\n&lt;description&gt;This is Spring MVC DispatcherServlet&lt;/description&gt;\n&lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;init-param&gt;\n  &lt;description&gt;SpringContext&lt;/description&gt;\n  &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n  &lt;param-value&gt;classpath*:springmvc.xml&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>  &lt;servlet-mapping&gt;\n&lt;servlet-name&gt;SpringMVC DispatchServlet&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n</code></pre>\n\n<p></p>\n\n<p>and springmvc.xml is</p>\n\n<p></p>\n\n<p></p>\n\n<p> \n  \n  \n </p>\n\n<p>index.jsp is</p>\n\n<pre><code>&lt;form action=\"&lt;%=request.getContextPath() %&gt;/test\" method=\"post\"&gt;\n&lt;input type=\"submit\" value=\"submit\"&gt; \n&lt;/form&gt;\n</code></pre>\n\n<p>I input submit botton brower is error </p>\n\n<blockquote>\n  <p>HTTP Status 405 - Request method 'GET'\n  not supported  type Status report</p>\n  \n  <p>message Request method 'GET' not\n  supported</p>\n  \n  <p>description The specified HTTP method\n  is not allowed for the requested\n  resource (Request method 'GET' not\n  supported).</p>\n</blockquote>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":97682,"reputation":17411,"user_id":264837,"display_name":"Nathan Villaescusa"},"score":0,"creation_date":1478471182,"post_id":12213339,"comment_id":68156160,"body_markdown":"Possible duplicate of [Is there a google supported JDBC driver for BigQuery?](http://stackoverflow.com/questions/34443600/is-there-a-google-supported-jdbc-driver-for-bigquery)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34443600/is-there-a-google-supported-jdbc-driver-for-bigquery\">Is there a google supported JDBC driver for BigQuery?</a>"}],"answers":[{"comments":[{"owner":{"account_id":260282,"reputation":3302,"user_id":543738,"accept_rate":39,"display_name":"Mr. Lance E Sloan"},"score":0,"creation_date":1625102237,"post_id":12213602,"comment_id":120540423,"body_markdown":"This is outdated.","body":"This is outdated."}],"tags":[],"owner":{"account_id":1477280,"reputation":580,"user_id":1387380,"accept_rate":78,"display_name":"Charles"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1346409248,"creation_date":1346409248,"answer_id":12213602,"question_id":12213339,"body_markdown":"There is no JDBC driver as far as I know but there is a Java API that could help:\r\nhttp://code.google.com/p/google-api-java-client/","title":"JDBC driver for Google BigQuery?","body":"<p>There is no JDBC driver as far as I know but there is a Java API that could help:\n<a href=\"http://code.google.com/p/google-api-java-client/\" rel=\"nofollow\">http://code.google.com/p/google-api-java-client/</a></p>\n"},{"comments":[{"owner":{"account_id":1799724,"reputation":101,"user_id":1638363,"display_name":"Mike Magic"},"score":0,"creation_date":1346437606,"post_id":12220141,"comment_id":16372805,"body_markdown":"Thanks, looks promising I will try this out. I hope it will integrates with our visualization frontend","body":"Thanks, looks promising I will try this out. I hope it will integrates with our visualization frontend"},{"owner":{"account_id":260282,"reputation":3302,"user_id":543738,"accept_rate":39,"display_name":"Mr. Lance E Sloan"},"score":0,"creation_date":1625102205,"post_id":12220141,"comment_id":120540416,"body_markdown":"That driver was last updated in 2013.  I think the project is defunct.","body":"That driver was last updated in 2013.  I think the project is defunct."}],"tags":[],"owner":{"account_id":908020,"reputation":497,"user_id":942520,"display_name":"Tamas Foldi"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1701627899,"creation_date":1346434778,"answer_id":12220141,"question_id":12213339,"body_markdown":"**UPDATE**: this post was made in 2012, since then Google has a fully compliant JDBC driver here: https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers\r\n\r\nThere is a 3rd party JDBC driver, which can be obtained from:\r\n\r\nhttp://code.google.com/p/starschema-bigquery-jdbc/\r\n\r\nIt supports the same SQL SELECT syntax as the original Google BigQuery, and there is no insert or update support. Please let me know if you have any further questions or requests about the driver","title":"JDBC driver for Google BigQuery?","body":"<p><strong>UPDATE</strong>: this post was made in 2012, since then Google has a fully compliant JDBC driver here: <a href=\"https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/reference/odbc-jdbc-drivers</a></p>\n<p>There is a 3rd party JDBC driver, which can be obtained from:</p>\n<p><a href=\"http://code.google.com/p/starschema-bigquery-jdbc/\" rel=\"nofollow noreferrer\">http://code.google.com/p/starschema-bigquery-jdbc/</a></p>\n<p>It supports the same SQL SELECT syntax as the original Google BigQuery, and there is no insert or update support. Please let me know if you have any further questions or requests about the driver</p>\n"},{"tags":[],"owner":{"account_id":97682,"reputation":17411,"user_id":264837,"display_name":"Nathan Villaescusa"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1478387731,"creation_date":1478372546,"answer_id":40442073,"question_id":12213339,"body_markdown":"Google now offers one that is freely avaliable that was developed by one of their partners: https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases","title":"JDBC driver for Google BigQuery?","body":"<p>Google now offers one that is freely avaliable that was developed by one of their partners: <a href=\"https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases\" rel=\"noreferrer\">https://cloud.google.com/bigquery/partners/simba-drivers/#current_jdbc_driver_releases</a></p>\n"},{"comments":[{"owner":{"account_id":260282,"reputation":3302,"user_id":543738,"accept_rate":39,"display_name":"Mr. Lance E Sloan"},"score":0,"creation_date":1625102540,"post_id":43401521,"comment_id":120540472,"body_markdown":"This is a duplicate of the earlier answer to this question: https://stackoverflow.com/a/40442073/543738","body":"This is a duplicate of the earlier answer to this question: <a href=\"https://stackoverflow.com/a/40442073/543738\">stackoverflow.com/a/40442073/543738</a>"}],"tags":[],"owner":{"account_id":1007997,"reputation":2357,"user_id":1046584,"accept_rate":83,"display_name":"Lu&#237;s Bianchin"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492116779,"creation_date":1492116779,"answer_id":43401521,"question_id":12213339,"body_markdown":"There is also 3rd party [Simba Drivers for BigQuery][1]:\n\n&gt; Google has partnered with Simba Technologies Inc, a Magnitude Software Company to provide ODBC and JDBC drivers that leverage the power of BigQuery&#39;s Standard SQL.\n&gt;\n&gt; The intent of these drivers is to help users connect the power of Google BigQuery with existing tooling and infrastructure that does not have native integration. If you are building new integrations with BigQuery, we recommend you consider the native API. The functionality exposed by an ODBC/JDBC connection is necessarily a subset of the full capabilities of BigQuery.\n\n\n  [1]: https://cloud.google.com/bigquery/partners/simba-drivers/","title":"JDBC driver for Google BigQuery?","body":"<p>There is also 3rd party <a href=\"https://cloud.google.com/bigquery/partners/simba-drivers/\" rel=\"nofollow noreferrer\">Simba Drivers for BigQuery</a>:</p>\n<blockquote>\n<p>Google has partnered with Simba Technologies Inc, a Magnitude Software Company to provide ODBC and JDBC drivers that leverage the power of BigQuery's Standard SQL.</p>\n<p>The intent of these drivers is to help users connect the power of Google BigQuery with existing tooling and infrastructure that does not have native integration. If you are building new integrations with BigQuery, we recommend you consider the native API. The functionality exposed by an ODBC/JDBC connection is necessarily a subset of the full capabilities of BigQuery.</p>\n</blockquote>\n"}],"owner":{"account_id":1799724,"reputation":101,"user_id":1638363,"display_name":"Mike Magic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7823,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":12220141,"answer_count":4,"score":9,"last_activity_date":1701627899,"creation_date":1346408218,"question_id":12213339,"body_markdown":"Does anyone know of any JDBC interface or driver for Google BigQuery?\r\n\r\nOnly Java please - I&#39;m done with the Python library.","title":"JDBC driver for Google BigQuery?","body":"<p>Does anyone know of any JDBC interface or driver for Google BigQuery?</p>\n<p>Only Java please - I'm done with the Python library.</p>\n"},{"tags":["java","minecraft","forge"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1701628088,"post_id":77595622,"comment_id":136796687,"body_markdown":"An unformatted error dump is not a good question. People need to be able to reproduce the problem to help you. Please check [ask], then [edit] your question and add a [mcve].","body":"An unformatted error dump is not a good question. People need to be able to reproduce the problem to help you. Please check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, then <a href=\"https://stackoverflow.com/posts/77595622/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701628438,"post_id":77595622,"comment_id":136796725,"body_markdown":"The quality of ChatGPT&#39;s answers are only as good as the question&#39;s quality. Funny, this site works much the same.","body":"The quality of ChatGPT&#39;s answers are only as good as the question&#39;s quality. Funny, this site works much the same."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701642781,"post_id":77595622,"comment_id":136798135,"body_markdown":"@Grisharik - one of you and ChatGPT needs to actually read the error  message, which refers to **sounds.json**, not sound.json.","body":"@Grisharik - one of you and ChatGPT needs to actually read the error  message, which refers to <b>sounds.json</b>, not sound.json."},{"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"score":0,"creation_date":1701702071,"post_id":77595622,"comment_id":136805150,"body_markdown":"You have capital letters in your pack id.","body":"You have capital letters in your pack id."}],"owner":{"account_id":26961027,"reputation":1,"user_id":22661940,"display_name":"  Grisharik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701629908,"answer_count":0,"score":-3,"last_activity_date":1701627664,"creation_date":1701627664,"question_id":77595622,"body_markdown":"Error with launching minecraft client`---- Minecraft Crash Report ----\r\n// On the bright side, I bought you a teddy bear!\r\n\r\nTime: 03.12.2023, 21:10\r\nDescription: Rendering overlay\r\n\r\nnet.minecraft.ResourceLocationException: Non [a-z0-9_.-] character in namespace of location: TrueAdventure:sounds.json\r\n\tat net.minecraft.resources.ResourceLocation.&lt;init&gt;(ResourceLocation.java:35) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat net.minecraft.resources.ResourceLocation.&lt;init&gt;(ResourceLocation.java:46) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:64) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:39) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.server.packs.resources.SimplePreparableReloadListener.lambda$reload$0(SimplePreparableReloadListener.java:11) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n---------------------------------------------------------------------------------------\r\n\r\n-- Head --\r\nThread: Render thread\r\nSuspected Mods: NONE\r\nStacktrace:\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n-- Overlay render details --\r\nDetails:\r\n\tOverlay name: net.minecraft.client.gui.screens.LoadingOverlay\r\nStacktrace:\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.runTick(Minecraft.java:1046) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.run(Minecraft.java:665) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\r\n\tat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.2.14.jar%230!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2312!/:?] {}\r\n\tat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}\r\n\r\n\r\n-- Last reload --\r\nDetails:\r\n\tReload number: 1\r\n\tReload reason: initial\r\n\tFinished: No\r\n\tPacks: Default, Mod Resources\r\n\r\n-- System Details --\r\nDetails:\r\n\tMinecraft Version: 1.18.2\r\n\tMinecraft Version ID: 1.18.2\r\n\tOperating System: Windows 7 (amd64) version 6.1\r\n\tJava Version: 17.0.7, Oracle Corporation\r\n\tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\r\n\tMemory: 530084352 bytes (505 MiB) / 1197473792 bytes (1142 MiB) up to 2122317824 bytes (2024 MiB)\r\n\tCPUs: 4\r\n\tProcessor Vendor: GenuineIntel\r\n\tProcessor Name: Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\r\n\tIdentifier: Intel64 Family 6 Model 58 Stepping 9\r\n\tMicroarchitecture: Ivy Bridge (Client)\r\n\tFrequency (GHz): 2,39\r\n\tNumber of physical packages: 1\r\n\tNumber of physical CPUs: 2\r\n\tNumber of logical CPUs: 4\r\n\tGraphics card #0 name: Intel(R) HD Graphics 4000\r\n\tGraphics card #0 vendor: Intel Corporation (0x8086)\r\n\tGraphics card #0 VRAM (MB): 2112,00\r\n\tGraphics card #0 deviceId: 0x0166\r\n\tGraphics card #0 versionInfo: DriverVersion=10.18.10.4276\r\n\tMemory slot #0 capacity (MB): 4096,00\r\n\tMemory slot #0 clockSpeed (GHz): 1,33\r\n\tMemory slot #0 type: Unknown\r\n\tMemory slot #1 capacity (MB): 4096,00\r\n\tMemory slot #1 clockSpeed (GHz): 1,60\r\n\tMemory slot #1 type: Unknown\r\n\tVirtual memory max (MB): 18290,20\r\n\tVirtual memory used (MB): 15205,57\r\n\tSwap memory total (MB): 10195,85\r\n\tSwap memory used (MB): 6490,22\r\n\tJVM Flags: 1 total; -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump\r\n\tLaunched Version: MOD_DEV\r\n\tBackend library: LWJGL version 3.2.2 SNAPSHOT\r\n\tBackend API: Intel(R) HD Graphics 4000 GL version 3.2.0 - Build 10.18.10.4276, Intel\r\n\tWindow size: 854x543\r\n\tGL Caps: Using framebuffer using OpenGL 3.2\r\n\tGL debug messages: \r\n\tUsing VBOs: Yes\r\n\tIs Modded: Definitely; Client brand changed to &#39;forge&#39;\r\n\tType: Client (map_client.txt)\r\n\tGraphics mode: fancy\r\n\tResource Packs: \r\n\tCurrent Language: English (US)\r\n\tCPU: 4x Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\r\n\tModLauncher: 9.1.3+9.1.3+main.9b69c82a\r\n\tModLauncher launch target: forgeclientuserdev\r\n\tModLauncher naming: mcp\r\n\tModLauncher services: \r\n\t\t mixin PLUGINSERVICE \r\n\t\t eventbus PLUGINSERVICE \r\n\t\t slf4jfixer PLUGINSERVICE \r\n\t\t object_holder_definalize PLUGINSERVICE \r\n\t\t runtime_enum_extender PLUGINSERVICE \r\n\t\t capability_token_subclass PLUGINSERVICE \r\n\t\t accesstransformer PLUGINSERVICE \r\n\t\t runtimedistcleaner PLUGINSERVICE \r\n\t\t mixin TRANSFORMATIONSERVICE \r\n\t\t fml TRANSFORMATIONSERVICE \r\n\tFML Language Providers: \r\n\t\tminecraft@1.0\r\n\t\tlowcodefml@null\r\n\t\tjavafml@null\r\n\tMod List: \r\n\t\tforge-1.18.2-40.2.14_mapped_official_1.18.2.jar   |Minecraft                     |minecraft                     |1.18.2              |SIDED_SETU|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\r\n\t\t                                                  |Forge                         |forge                         |40.2.14             |SIDED_SETU|Manifest: NOSIGNATURE\r\n\t\tmain                                              |TrueAdventure                 |trueadventure                 |0.0NONE             |SIDED_SETU|Manifest: NOSIGNATURE\r\n\tCrash Report UUID: d1a5e4ff-859c-4f47-86c9-7f1a65b36501\r\n\tFML: 40.2\r\n\tForge: net.minecraftforge:40.2.14\r\n`\r\n\r\nI asked ChatGpt about the problem and he replied “the problem is in the sound.json file”, I don’t have such a file. Please, help.","title":"I have a problem with a certain sound.json file that does not exist for me, a problem with invalid characters. How can I solve this problem?","body":"<p>Error with launching minecraft client`---- Minecraft Crash Report ----\n// On the bright side, I bought you a teddy bear!</p>\n<p>Time: 03.12.2023, 21:10\nDescription: Rendering overlay</p>\n<p>net.minecraft.ResourceLocationException: Non [a-z0-9_.-] character in namespace of location: TrueAdventure:sounds.json\nat net.minecraft.resources.ResourceLocation.(ResourceLocation.java:35) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat net.minecraft.resources.ResourceLocation.(ResourceLocation.java:46) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:64) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat net.minecraft.client.sounds.SoundManager.prepare(SoundManager.java:39) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat net.minecraft.server.packs.resources.SimplePreparableReloadListener.lambda$reload$0(SimplePreparableReloadListener.java:11) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading}\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?] {}\nat java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[?:?] {}\nat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\nat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\nat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}</p>\n<h2>A detailed walkthrough of the error, its code path and all known details is as follows:</h2>\n<p>-- Head --\nThread: Render thread\nSuspected Mods: NONE\nStacktrace:\nat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n-- Overlay render details --\nDetails:\nOverlay name: net.minecraft.client.gui.screens.LoadingOverlay\nStacktrace:\nat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:882) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.Minecraft.runTick(Minecraft.java:1046) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.Minecraft.run(Minecraft.java:665) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\nat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.18.2-40.2.14_mapped_official_1.18.2.jar%2380!/:?] {re:classloading,pl:runtimedistcleaner:A}\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\nat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\nat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.2.14.jar%230!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2312!/:?] {}\nat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}</p>\n<p>-- Last reload --\nDetails:\nReload number: 1\nReload reason: initial\nFinished: No\nPacks: Default, Mod Resources</p>\n<p>-- System Details --\nDetails:\nMinecraft Version: 1.18.2\nMinecraft Version ID: 1.18.2\nOperating System: Windows 7 (amd64) version 6.1\nJava Version: 17.0.7, Oracle Corporation\nJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\nMemory: 530084352 bytes (505 MiB) / 1197473792 bytes (1142 MiB) up to 2122317824 bytes (2024 MiB)\nCPUs: 4\nProcessor Vendor: GenuineIntel\nProcessor Name: Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\nIdentifier: Intel64 Family 6 Model 58 Stepping 9\nMicroarchitecture: Ivy Bridge (Client)\nFrequency (GHz): 2,39\nNumber of physical packages: 1\nNumber of physical CPUs: 2\nNumber of logical CPUs: 4\nGraphics card #0 name: Intel(R) HD Graphics 4000\nGraphics card #0 vendor: Intel Corporation (0x8086)\nGraphics card #0 VRAM (MB): 2112,00\nGraphics card #0 deviceId: 0x0166\nGraphics card #0 versionInfo: DriverVersion=10.18.10.4276\nMemory slot #0 capacity (MB): 4096,00\nMemory slot #0 clockSpeed (GHz): 1,33\nMemory slot #0 type: Unknown\nMemory slot #1 capacity (MB): 4096,00\nMemory slot #1 clockSpeed (GHz): 1,60\nMemory slot #1 type: Unknown\nVirtual memory max (MB): 18290,20\nVirtual memory used (MB): 15205,57\nSwap memory total (MB): 10195,85\nSwap memory used (MB): 6490,22\nJVM Flags: 1 total; -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump\nLaunched Version: MOD_DEV\nBackend library: LWJGL version 3.2.2 SNAPSHOT\nBackend API: Intel(R) HD Graphics 4000 GL version 3.2.0 - Build 10.18.10.4276, Intel\nWindow size: 854x543\nGL Caps: Using framebuffer using OpenGL 3.2\nGL debug messages:\nUsing VBOs: Yes\nIs Modded: Definitely; Client brand changed to 'forge'\nType: Client (map_client.txt)\nGraphics mode: fancy\nResource Packs:\nCurrent Language: English (US)\nCPU: 4x Intel(R) Core(TM) i7-3517U CPU @ 1.90GHz\nModLauncher: 9.1.3+9.1.3+main.9b69c82a\nModLauncher launch target: forgeclientuserdev\nModLauncher naming: mcp\nModLauncher services:\nmixin PLUGINSERVICE\neventbus PLUGINSERVICE\nslf4jfixer PLUGINSERVICE\nobject_holder_definalize PLUGINSERVICE\nruntime_enum_extender PLUGINSERVICE\ncapability_token_subclass PLUGINSERVICE\naccesstransformer PLUGINSERVICE\nruntimedistcleaner PLUGINSERVICE\nmixin TRANSFORMATIONSERVICE\nfml TRANSFORMATIONSERVICE\nFML Language Providers:\nminecraft@1.0\nlowcodefml@null\njavafml@null\nMod List:\nforge-1.18.2-40.2.14_mapped_official_1.18.2.jar   |Minecraft                     |minecraft                     |1.18.2              |SIDED_SETU|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\n|Forge                         |forge                         |40.2.14             |SIDED_SETU|Manifest: NOSIGNATURE\nmain                                              |TrueAdventure                 |trueadventure                 |0.0NONE             |SIDED_SETU|Manifest: NOSIGNATURE\nCrash Report UUID: d1a5e4ff-859c-4f47-86c9-7f1a65b36501\nFML: 40.2\nForge: net.minecraftforge:40.2.14\n`</p>\n<p>I asked ChatGpt about the problem and he replied “the problem is in the sound.json file”, I don’t have such a file. Please, help.</p>\n"},{"tags":["java","gradle","apache-tomee"],"answers":[{"comments":[{"owner":{"account_id":26478511,"reputation":13,"user_id":20118075,"display_name":"Forbidden"},"score":0,"creation_date":1665386132,"post_id":74010836,"comment_id":130679176,"body_markdown":"used compileOnly for javaee-api not a library jar, thanks","body":"used compileOnly for javaee-api not a library jar, thanks"}],"tags":[],"owner":{"account_id":14927328,"reputation":97,"user_id":10911230,"display_name":"Meysam Karimi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665382479,"creation_date":1665382479,"answer_id":74010836,"question_id":74010637,"body_markdown":"This error might happen when your module provide classes that are already provided by javax.faces.context.ExternalContext.  A simple way to fix this error is declaring the related library as a dependency in your custom module and setting a provided scope in gradle by the runtimeOnly configuration.","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>This error might happen when your module provide classes that are already provided by javax.faces.context.ExternalContext.  A simple way to fix this error is declaring the related library as a dependency in your custom module and setting a provided scope in gradle by the runtimeOnly configuration.</p>\n"},{"tags":[],"owner":{"account_id":15295377,"reputation":327,"user_id":11035655,"display_name":"OSEMA TOUATI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701627640,"creation_date":1701627640,"answer_id":77595619,"question_id":74010637,"body_markdown":"I had a similar problem while using while using faces api with tomee plus version 10.0.27 and maven as build tool.\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```  \r\n\r\nThe library faces-api is provided by default in tomee, adding it to the pom.xml file with the default `compile` scope would result in a similar error `java.lang.LinkageError: loader constraint violation...`.  \r\n\r\nThe solution is to either remove the dependency (Intellij was not happy, and i had no auto-complete in my xhtml files, but the app runs with no error on the server). and the better solution is to make the dependency as `provided` like so:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>I had a similar problem while using while using faces api with tomee plus version 10.0.27 and maven as build tool.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The library faces-api is provided by default in tomee, adding it to the pom.xml file with the default <code>compile</code> scope would result in a similar error <code>java.lang.LinkageError: loader constraint violation...</code>.</p>\n<p>The solution is to either remove the dependency (Intellij was not happy, and i had no auto-complete in my xhtml files, but the app runs with no error on the server). and the better solution is to make the dependency as <code>provided</code> like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.faces-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26478511,"reputation":13,"user_id":20118075,"display_name":"Forbidden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74010836,"answer_count":2,"score":1,"last_activity_date":1701627640,"creation_date":1665380679,"question_id":74010637,"body_markdown":"The gradle project runtime at Apache TomEE plus has the error \r\n\r\n&gt; java.lang.LinkageError: loader constraint violation: loader (instance\r\n&gt; of org/apache/tomee/catalina/TomEEWebappClassLoader) previously\r\n&gt; initiated loading for a different type with name\r\n&gt; &quot;javax/faces/context/ExternalContext&quot; \tat\r\n&gt; java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n&gt; java.lang.ClassLoader.defineClass(ClassLoader.java:756) \tat\r\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\r\n&gt; \tat\r\n&gt; org.apache.tomee.catalina.TomEEWebappClassLoader.loadClass(TomEEWebappClassLoader.java:184)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n&gt; \tat\r\n&gt; org.apache.tomee.myfaces.TomEEWebConfigProvider.getFacesServletMappings(TomEEWebConfigProvider.java:36)\r\n&gt; \tat\r\n&gt; org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:163)\r\n&gt; \tat\r\n&gt; org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:103)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n&gt; \tat\r\n&gt; java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\nThe gradle.properties\r\n\r\n    dependencies {\r\n       \tcompile files(&#39;lib/javaee-api-7.0.jar&#39;)\r\n        compile fileTree(dir: &#39;WebContent/WEB-INF/lib&#39;, include: &#39;**/*.jar&#39;)\r\n        \r\n    \ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        testCompile group: &#39;org.jglue.cdi-unit&#39;, name: &#39;cdi-unit&#39;, version: &#39;3.1.4&#39;\r\n        testCompile group: &#39;org.mockito&#39; ,name: &#39;mockito-all&#39;, version:&#39;1.10.19&#39;\r\n        compile group: &#39;org.apache.shiro&#39;, name: &#39;shiro-all&#39;, version: &#39;1.3.2&#39;\r\n        compile group: &#39;jaxen&#39;, name: &#39;jaxen&#39;, version: &#39;1.1.6&#39;\r\n        compile &#39;org.apache.velocity:velocity:1.7&#39;\r\n    }\r\n\r\nThe jar files in WEB-INF/lib\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKzSi.png","title":"Gradle, Apache TomEE - TomEEWebappClassLoader loader constraint violation","body":"<p>The gradle project runtime at Apache TomEE plus has the error</p>\n<blockquote>\n<p>java.lang.LinkageError: loader constraint violation: loader (instance\nof org/apache/tomee/catalina/TomEEWebappClassLoader) previously\ninitiated loading for a different type with name\n&quot;javax/faces/context/ExternalContext&quot;     at\njava.lang.ClassLoader.defineClass1(Native Method)     at\njava.lang.ClassLoader.defineClass(ClassLoader.java:756)   at\njava.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2489)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:875)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1376)\nat\norg.apache.tomee.catalina.TomEEWebappClassLoader.loadClass(TomEEWebappClassLoader.java:184)\nat\norg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\nat\norg.apache.tomee.myfaces.TomEEWebConfigProvider.getFacesServletMappings(TomEEWebConfigProvider.java:36)\nat\norg.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:163)\nat\norg.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:103)\nat\norg.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\nat\norg.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\norg.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat\njava.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\nat\norg.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\nat\norg.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\nat\norg.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\norg.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nat\njava.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\nat\norg.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\nat\norg.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat\norg.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.startup.Catalina.start(Catalina.java:772)    at\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)   at\norg.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)</p>\n</blockquote>\n<p>The gradle.properties</p>\n<pre><code>dependencies {\n    compile files('lib/javaee-api-7.0.jar')\n    compile fileTree(dir: 'WebContent/WEB-INF/lib', include: '**/*.jar')\n    \n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    testCompile group: 'org.jglue.cdi-unit', name: 'cdi-unit', version: '3.1.4'\n    testCompile group: 'org.mockito' ,name: 'mockito-all', version:'1.10.19'\n    compile group: 'org.apache.shiro', name: 'shiro-all', version: '1.3.2'\n    compile group: 'jaxen', name: 'jaxen', version: '1.1.6'\n    compile 'org.apache.velocity:velocity:1.7'\n}\n</code></pre>\n<p>The jar files in WEB-INF/lib\n<a href=\"https://i.stack.imgur.com/bKzSi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","color-picker"],"answers":[{"tags":[],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701626571,"creation_date":1701626571,"answer_id":77595553,"question_id":77593018,"body_markdown":"The issue - at least in my instance - seems to be the colorpicker here, even trying earlier versions did not solve (most current as of this writing seems to be 1.1.7):\r\n```\r\nimplementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n```\r\nI was able to work-around this simply by choosing a different colorpicker, the one that seems working without gradle or any other errors is: \r\n```\r\nimplementation &#39;com.github.yukuku:ambilwarna:2.0.1&#39;\r\n```","title":"Android Studio error with colorpicker: Could not resolve all files for configuration :app:debugRuntimeClasspath","body":"<p>The issue - at least in my instance - seems to be the colorpicker here, even trying earlier versions did not solve (most current as of this writing seems to be 1.1.7):</p>\n<pre><code>implementation 'com.github.duanhong169:colorpicker:1.1.7'\n</code></pre>\n<p>I was able to work-around this simply by choosing a different colorpicker, the one that seems working without gradle or any other errors is:</p>\n<pre><code>implementation 'com.github.yukuku:ambilwarna:2.0.1'\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77595553,"answer_count":1,"score":0,"last_activity_date":1701626571,"creation_date":1701577122,"question_id":77593018,"body_markdown":"I am adding a color picker to my app.  When I run the app with this dependency:\r\n\r\n    `implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;`\r\n\r\nI am consistently getting the red font error messages:\r\n```\r\n\r\n    ArtifactResolveException: Could not resolve all files for configuration :app:debugRuntimeClasspath.\r\n\r\n``` \r\nand also:\r\n```\r\n\r\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.github.duanhong169:colorpicker:1.1.7.\r\n\r\n```\r\n\r\nChecking that these are operative:\r\n\r\n - internet is fully functional\r\n - tried cleaning and rebuilding the project\r\n\r\n - checked the dependency notation for colorpicker and it is accurate\r\n - tried adding to `repositories` as follows (`settings.gradle`):\r\n```\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n    \r\n        }\r\n    }\r\n\r\n```\r\n\r\nHere is `build.gradle`:\r\n```\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.enetapplications.songtracker&#39;\r\n        compileSdk 34\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.enetapplications.songtracker&quot;\r\n            minSdkVersion 29\r\n            targetSdkVersion 34\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n        // ... existing dependencies ...\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        implementation &#39;androidx.activity:activity:1.8.1&#39;\r\n        implementation &#39;androidx.fragment:fragment:1.6.2&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.12.0&#39;\r\n        implementation &#39;androidx.fragment:fragment-ktx:1.6.2&#39;\r\n        implementation &quot;androidx.preference:preference:1.2.1&quot;\r\n        implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n    \r\n    }\r\n\r\n```\r\n\r\nI can run the app if I comment out this dependency:\r\n```\r\n\r\n    implementation &#39;com.github.duanhong169:colorpicker:1.1.7&#39;\r\n\r\n```","title":"Android Studio error with colorpicker: Could not resolve all files for configuration :app:debugRuntimeClasspath","body":"<p>I am adding a color picker to my app.  When I run the app with this dependency:</p>\n<pre><code>`implementation 'com.github.duanhong169:colorpicker:1.1.7'`\n</code></pre>\n<p>I am consistently getting the red font error messages:</p>\n<pre><code>\n    ArtifactResolveException: Could not resolve all files for configuration :app:debugRuntimeClasspath.\n\n</code></pre>\n<p>and also:</p>\n<pre><code>\n    Caused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find com.github.duanhong169:colorpicker:1.1.7.\n\n</code></pre>\n<p>Checking that these are operative:</p>\n<ul>\n<li><p>internet is fully functional</p>\n</li>\n<li><p>tried cleaning and rebuilding the project</p>\n</li>\n<li><p>checked the dependency notation for colorpicker and it is accurate</p>\n</li>\n<li><p>tried adding to <code>repositories</code> as follows (<code>settings.gradle</code>):</p>\n</li>\n</ul>\n<pre><code>\n    dependencyResolutionManagement {\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n        repositories {\n            google()\n            mavenCentral()\n            maven { url 'https://jitpack.io' }\n    \n        }\n    }\n\n</code></pre>\n<p>Here is <code>build.gradle</code>:</p>\n<pre><code>\n    plugins {\n        id 'com.android.application'\n    }\n    \n    android {\n        namespace 'com.enetapplications.songtracker'\n        compileSdk 34\n    \n        defaultConfig {\n            applicationId &quot;com.enetapplications.songtracker&quot;\n            minSdkVersion 29\n            targetSdkVersion 34\n            versionCode 1\n            versionName &quot;1.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }\n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }\n    dependencies {\n        // ... existing dependencies ...\n    \n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'com.google.android.material:material:1.10.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n        implementation 'androidx.activity:activity:1.8.1'\n        implementation 'androidx.fragment:fragment:1.6.2'\n        implementation 'androidx.appcompat:appcompat:1.6.1'\n        implementation 'androidx.core:core-ktx:1.12.0'\n        implementation 'androidx.fragment:fragment-ktx:1.6.2'\n        implementation &quot;androidx.preference:preference:1.2.1&quot;\n        implementation 'com.github.duanhong169:colorpicker:1.1.7'\n    \n    }\n\n</code></pre>\n<p>I can run the app if I comment out this dependency:</p>\n<pre><code>\n    implementation 'com.github.duanhong169:colorpicker:1.1.7'\n\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1411640716,"post_id":26035114,"comment_id":40783554,"body_markdown":"I suspect you may just need to add the `@Transactional` annotation to your `insert` method. However, you have a JPA entity, so is there a reason why you&#39;re not using the entity manager? You shouldn&#39;t need to touch Hibernate sessions. Note also that if you add Spring Data to your project, then you can delete your implementation and get a whole load more functionality &#39;for free&#39;. :)","body":"I suspect you may just need to add the <code>@Transactional</code> annotation to your <code>insert</code> method. However, you have a JPA entity, so is there a reason why you&#39;re not using the entity manager? You shouldn&#39;t need to touch Hibernate sessions. Note also that if you add Spring Data to your project, then you can delete your implementation and get a whole load more functionality &#39;for free&#39;. :)"},{"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"score":0,"creation_date":1411641325,"post_id":26035114,"comment_id":40783933,"body_markdown":"see this was my code.please check it and tell me what i m doing wrong","body":"see this was my code.please check it and tell me what i m doing wrong"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":0,"creation_date":1411646887,"post_id":26035114,"comment_id":40787048,"body_markdown":"Not wrong as such ... just that there are easier ways (less code) available. This tutorial provides a short example of using Spring Data: http://spring.io/guides/gs/accessing-data-jpa/ ... Basically you add Spring Data to your dependencies and modify your interface to extend CrudRepository or JpaRepository. Then you don&#39;t need to write your own DAO implementation.","body":"Not wrong as such ... just that there are easier ways (less code) available. This tutorial provides a short example of using Spring Data: <a href=\"http://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a> ... Basically you add Spring Data to your dependencies and modify your interface to extend CrudRepository or JpaRepository. Then you don&#39;t need to write your own DAO implementation."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1517719422,"post_id":26035114,"comment_id":84206137,"body_markdown":"Not an answer, but for anything that handles anything of scale, hibernate is more trouble than its worth. I am not the first person to decide to rip anything hibernate out of an app after it was complete,  because it simply doesnt perform at scale.","body":"Not an answer, but for anything that handles anything of scale, hibernate is more trouble than its worth. I am not the first person to decide to rip anything hibernate out of an app after it was complete,  because it simply doesnt perform at scale."}],"answers":[{"comments":[{"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"score":0,"creation_date":1411638695,"post_id":26035250,"comment_id":40782397,"body_markdown":"...see i added the session but still i m not getting any data added to the database.can u check my mvc configuration file.is there any need to provide bean for implemenation of dao..?","body":"...see i added the session but still i m not getting any data added to the database.can u check my mvc configuration file.is there any need to provide bean for implemenation of dao..?"}],"tags":[],"owner":{"account_id":4777214,"reputation":277,"user_id":3859996,"accept_rate":20,"display_name":"Phong Nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411637889,"creation_date":1411637889,"answer_id":26035250,"question_id":26035114,"body_markdown":"Remember this: You don&#39;t have any exist session, but you use `getCurrentSession()`. To use this method, you must have a session already. try this:\r\n\r\n    Session session = this.sessionFactory.openSession();\r\n\r\nNow you had a session for your transaction.\r\n\r\nYou should declare sessionFactory in an xml file (hibernate.xml or spring.xml), then use @Autowire to get it and open new session.","title":"How to insert data into the database using spring + hibernate?","body":"<p>Remember this: You don't have any exist session, but you use <code>getCurrentSession()</code>. To use this method, you must have a session already. try this:</p>\n\n<pre><code>Session session = this.sessionFactory.openSession();\n</code></pre>\n\n<p>Now you had a session for your transaction.</p>\n\n<p>You should declare sessionFactory in an xml file (hibernate.xml or spring.xml), then use @Autowire to get it and open new session.</p>\n"},{"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411638180,"creation_date":1411638180,"answer_id":26035345,"question_id":26035114,"body_markdown":"You have 2 choices:\r\n\r\nA. force hibernate to flush any changes you have made in session:\r\n\r\n    session.save(user);\r\n    session.flush();\r\n\r\nB. make whole method run in transaction - this is much better of course. When transaction is commited - hibernate will flush any changes to database just if you would do manually.\r\n\r\nfor example:\r\n\r\n    Transaction tx = null;\r\n    \r\n    try {\r\n    \r\n      session.beginTransaction();\r\n    \r\n      session.save(user);\r\n      ....\r\n    \r\n      tx.commit();\r\n    \r\n    } catch (RuntimeException e) {\r\n      tx.rollback();\r\n      throw e;\r\n    }\r\n\r\n","title":"How to insert data into the database using spring + hibernate?","body":"<p>You have 2 choices:</p>\n\n<p>A. force hibernate to flush any changes you have made in session:</p>\n\n<pre><code>session.save(user);\nsession.flush();\n</code></pre>\n\n<p>B. make whole method run in transaction - this is much better of course. When transaction is commited - hibernate will flush any changes to database just if you would do manually.</p>\n\n<p>for example:</p>\n\n<pre><code>Transaction tx = null;\n\ntry {\n\n  session.beginTransaction();\n\n  session.save(user);\n  ....\n\n  tx.commit();\n\n} catch (RuntimeException e) {\n  tx.rollback();\n  throw e;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411638495,"creation_date":1411638495,"answer_id":26035480,"question_id":26035114,"body_markdown":"If you have multiple DAO calls in a single request, then session.getCurrentSession() is useful, but I guess that is not your case. \r\nIf there is only a single DAO call per request then session.openSession() is the right way.\r\n\r\nTake care that when using session.openSession(), you also have to close your session afterwards.\r\n\r\nThe best thing to do is open a session for each incoming request (using a filter is the easiest way to do this) and then calling sessionFactory.getCurrentSession() in all your DAOs to get the current session. I guess your problem is you didn&#39;t specify the filter. That way all your DAOs will be easily reusable and you don&#39;t need to close your session afterwards. \r\n\r\nYou can found more information in the docs:\r\n[Hibernate documentation][1]\r\n\r\n\r\n  [1]: http://www.hibernate.org/43.html","title":"How to insert data into the database using spring + hibernate?","body":"<p>If you have multiple DAO calls in a single request, then session.getCurrentSession() is useful, but I guess that is not your case. \nIf there is only a single DAO call per request then session.openSession() is the right way.</p>\n\n<p>Take care that when using session.openSession(), you also have to close your session afterwards.</p>\n\n<p>The best thing to do is open a session for each incoming request (using a filter is the easiest way to do this) and then calling sessionFactory.getCurrentSession() in all your DAOs to get the current session. I guess your problem is you didn't specify the filter. That way all your DAOs will be easily reusable and you don't need to close your session afterwards. </p>\n\n<p>You can found more information in the docs:\n<a href=\"http://www.hibernate.org/43.html\" rel=\"nofollow\">Hibernate documentation</a></p>\n"},{"comments":[{"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"score":1,"creation_date":1411643603,"post_id":26036089,"comment_id":40785152,"body_markdown":"Nope ! There is definitely issue with hibernate conf. Can you Plz share your conf. details?","body":"Nope ! There is definitely issue with hibernate conf. Can you Plz share your conf. details?"},{"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"score":0,"creation_date":1411644240,"post_id":26036089,"comment_id":40785531,"body_markdown":"can u tell me is there any need to add the ref of the jdbcimpl class in any config file..?","body":"can u tell me is there any need to add the ref of the jdbcimpl class in any config file..?"}],"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411640335,"creation_date":1411640335,"answer_id":26036089,"question_id":26035114,"body_markdown":"I have also faced the same issue, and got the solution. For now check below points-\r\n\r\n1. Check for appropriate jar files you are using\r\n2. Check for manifest.mf in META-INF folder for application info.\r\n3. Check your hibernate configuration in configuration file for hibernate template configuration.\r\n4. At last if everything is OK then use `session.flush()` before insert.\r\n\r\n   \r\n\r\n     &lt;pre&gt;Session session = sessionFactory.openSession();\r\n     Transaction tx = session.beginTransaction();\r\n        {\r\n           {\r\n                //... your logic\r\n                //flush a batch of inserts and release memory:\r\n                session.flush();\r\n                session.clear();\r\n            }\r\n        }\r\n        \r\n        tx.commit();\r\n        session.close()","title":"How to insert data into the database using spring + hibernate?","body":"<p>I have also faced the same issue, and got the solution. For now check below points-</p>\n\n<ol>\n<li>Check for appropriate jar files you are using</li>\n<li>Check for manifest.mf in META-INF folder for application info.</li>\n<li>Check your hibernate configuration in configuration file for hibernate template configuration.</li>\n<li><p>At last if everything is OK then use <code>session.flush()</code> before insert.</p>\n\n<p><pre>Session session = sessionFactory.openSession();\n Transaction tx = session.beginTransaction();\n    {\n       {\n            //... your logic\n            //flush a batch of inserts and release memory:\n            session.flush();\n            session.clear();\n        }\n    }</p>\n\n<code>tx.commit();\nsession.close()\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":3848676,"reputation":153,"user_id":3189357,"accept_rate":30,"display_name":"user3189357"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27551,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1701626450,"creation_date":1411637503,"question_id":26035114,"body_markdown":"see i m havving user.java for the user info.\r\n\r\n    @Entity(name = &quot;user&quot;)\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate String id;\t\r\n    \t@Column(name = &quot;password&quot;)\r\n        private String password;\r\n    //getter and setter for this..\r\n    }\r\n\r\nthis is my userdao\r\n\r\n    public class UserDao {\r\n    \tpublic interface UserDAO {\r\n    \t\tpublic String insert(User user);\r\n    \r\n    \t}\r\n    }\r\n\r\nand this is the impl class for inserting into database\r\nsee this was my code.please check it and tell me what i m doing wrong \r\n\r\n    @Repository\r\n    @Transactional\r\n    public class UserImpl implements UserDAO {\r\n    \r\n    \tprivate DataSource dataSource;\r\n    \r\n    \t@Autowired\r\n    \tSessionFactory sessionFactory;\r\n    \t@Resource(name = &quot;sessionFactory&quot;)\r\n    \tpublic void setDataSource(DataSource dataSource) {\r\n    \t\tthis.dataSource = dataSource;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String insert(User use) {\r\n    \r\n    \t\tSession session = this.sessionFactory.openSession();\r\n    \t\ttry{\r\n    \t\t\r\n    \t\t\tSession sess = this.sessionFactory.getCurrentSession();              \r\n    \t\t\tsession.save(reg);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t            return (String)user.getUserName(); \r\n    \t\t\t            }catch(Exception e){\r\n    \t\t\t                System.out.println(&quot;in catch&quot;+e.getMessage());\r\n    \t\t\t                e.printStackTrace();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t}\r\n    }\r\n    \t\t\r\n    \t\r\n    \r\n       \r\n    } \r\n\r\nand in my controller after successful registration i m inserting data to the database by this  \r\n\r\n     userDao.insert(user);\r\n\r\nbut i m not getting output means not any data is inserting into the database.why this..? this is my mvc configuration \r\n\r\n    &lt;context:component-scan base-package=&quot;com.user.xyz&quot; /&gt;\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/images/, /resources/css/&quot; /&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t\t\r\n    \t&lt;/bean&gt;\r\n\r\n ","title":"How to insert data into the database using spring + hibernate?","body":"<p>see i m havving user.java for the user info.</p>\n\n<pre><code>@Entity(name = \"user\")\n@Table(name = \"user\")\npublic class User {\n\n    @Id\n    @Column(name = \"id\")\n    private String id;  \n    @Column(name = \"password\")\n    private String password;\n//getter and setter for this..\n}\n</code></pre>\n\n<p>this is my userdao</p>\n\n<pre><code>public class UserDao {\n    public interface UserDAO {\n        public String insert(User user);\n\n    }\n}\n</code></pre>\n\n<p>and this is the impl class for inserting into database\nsee this was my code.please check it and tell me what i m doing wrong </p>\n\n<pre><code>@Repository\n@Transactional\npublic class UserImpl implements UserDAO {\n\n    private DataSource dataSource;\n\n    @Autowired\n    SessionFactory sessionFactory;\n    @Resource(name = \"sessionFactory\")\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @Override\n    public String insert(User use) {\n\n        Session session = this.sessionFactory.openSession();\n        try{\n\n            Session sess = this.sessionFactory.getCurrentSession();              \n            session.save(reg);\n\n\n                        return (String)user.getUserName(); \n                        }catch(Exception e){\n                            System.out.println(\"in catch\"+e.getMessage());\n                            e.printStackTrace();\n\n    }\n\n    }\n}\n\n\n\n\n} \n</code></pre>\n\n<p>and in my controller after successful registration i m inserting data to the database by this  </p>\n\n<pre><code> userDao.insert(user);\n</code></pre>\n\n<p>but i m not getting output means not any data is inserting into the database.why this..? this is my mvc configuration </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.user.xyz\" /&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/images/, /resources/css/\" /&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","import","importerror"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1701625385,"post_id":77595472,"comment_id":136796411,"body_markdown":"Java is not JavaScript","body":"Java is not JavaScript"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1701625494,"post_id":77595472,"comment_id":136796422,"body_markdown":"It seems that you look for a code review rather than a solution for a problem. Please have a look at the community [codereview.se] for this.","body":"It seems that you look for a code review rather than a solution for a problem. Please have a look at the community <a href=\"https://codereview.stackexchange.com\">Code Review</a> for this."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":3,"creation_date":1701626302,"post_id":77595472,"comment_id":136796503,"body_markdown":"Why is this tagged &#39;import&#39; and &#39;importerror&#39;?","body":"Why is this tagged &#39;import&#39; and &#39;importerror&#39;?"}],"owner":{"account_id":30053224,"reputation":1,"user_id":23031168,"display_name":"Mohammad Zishan Mansuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701638791,"answer_count":0,"score":-2,"last_activity_date":1701626266,"creation_date":1701625278,"question_id":77595472,"body_markdown":"I&#39;m working on a Java program to find all prime numbers within a given range. The program should take two integers as input (start and end) and print the prime numbers in that range. Here&#39;s what I have so far:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class PrimeNumberFinder {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter the starting number: &quot;);\r\n        int start = scanner.nextInt();\r\n\r\n        System.out.print(&quot;Enter the ending number: &quot;);\r\n        int end = scanner.nextInt();\r\n\r\n        System.out.println(&quot;Prime numbers between &quot; + start + &quot; and &quot; + end + &quot; are:&quot;);\r\n        printPrimeNumbers(start, end);\r\n    }\r\n\r\n    // Function to check if a number is prime\r\n    private static boolean isPrime(int num) {\r\n        if (num &lt;= 1) {\r\n            return false;\r\n        }\r\n        for (int i = 2; i &lt;= Math.sqrt(num); i++) {\r\n            if (num % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Function to print prime numbers in a given range\r\n    private static void printPrimeNumbers(int start, int end) {\r\n        for (int i = start; i &lt;= end; i++) {\r\n            if (isPrime(i)) {\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe program seems to be working, but I&#39;m wondering if there are any optimizations or improvements I could make. Additionally, if there are better algorithms for finding prime numbers, I&#39;d love to learn about them.\r\n\r\n","title":"Java Program for Finding Prime Numbers in a Given Range:","body":"<p>I'm working on a Java program to find all prime numbers within a given range. The program should take two integers as input (start and end) and print the prime numbers in that range. Here's what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PrimeNumberFinder {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter the starting number: &quot;);\n        int start = scanner.nextInt();\n\n        System.out.print(&quot;Enter the ending number: &quot;);\n        int end = scanner.nextInt();\n\n        System.out.println(&quot;Prime numbers between &quot; + start + &quot; and &quot; + end + &quot; are:&quot;);\n        printPrimeNumbers(start, end);\n    }\n\n    // Function to check if a number is prime\n    private static boolean isPrime(int num) {\n        if (num &lt;= 1) {\n            return false;\n        }\n        for (int i = 2; i &lt;= Math.sqrt(num); i++) {\n            if (num % i == 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // Function to print prime numbers in a given range\n    private static void printPrimeNumbers(int start, int end) {\n        for (int i = start; i &lt;= end; i++) {\n            if (isPrime(i)) {\n                System.out.print(i + &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The program seems to be working, but I'm wondering if there are any optimizations or improvements I could make. Additionally, if there are better algorithms for finding prime numbers, I'd love to learn about them.</p>\n"},{"tags":["java","web","tomcat","apache-tomee"],"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701626153,"creation_date":1701626153,"question_id":77595533,"body_markdown":"Why in my java ee application, Tomcat Plume is deployed on the path localhost:8080 only when the output directory for the artifact is specified: C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\ROOT or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\ROOT and if I specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then it will unfold along the path localhost:8080/demo\r\n\r\nat the same time, if I use a regular tomcat (not plume) and specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then tomcat will deploy the application to the path localhost:8080\r\n\r\nwhy is there such a difference between a regular tomcat and a tomcat plume?","title":"deployment path in Tom EE plume","body":"<p>Why in my java ee application, Tomcat Plume is deployed on the path localhost:8080 only when the output directory for the artifact is specified: C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\ROOT or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\ROOT and if I specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then it will unfold along the path localhost:8080/demo</p>\n<p>at the same time, if I use a regular tomcat (not plume) and specify the output directory C:\\Users\\freed\\IdeaProjects\\demo4\\out\\artifacts\\demo or C:\\Users\\freed\\IdeaProjects\\demo4\\target\\demo then tomcat will deploy the application to the path localhost:8080</p>\n<p>why is there such a difference between a regular tomcat and a tomcat plume?</p>\n"},{"tags":["java","networking","upnp","ice"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701680858,"post_id":77593981,"comment_id":136801276,"body_markdown":"not sure if it is interesting for you, didn&#39;t try that thing, but when I read your question, this thing popped up in my mind: Veilid (see https://veilid.com/defcon/talk/ and https://gitlab.com/veilid/veilid). But take care: didn&#39;t find direct Java support, it&#39;s surely NOT the &quot;go-to&quot; standard you asked for...","body":"not sure if it is interesting for you, didn&#39;t try that thing, but when I read your question, this thing popped up in my mind: Veilid (see <a href=\"https://veilid.com/defcon/talk/\" rel=\"nofollow noreferrer\">veilid.com/defcon/talk</a> and <a href=\"https://gitlab.com/veilid/veilid\" rel=\"nofollow noreferrer\">gitlab.com/veilid/veilid</a>). But take care: didn&#39;t find direct Java support, it&#39;s surely NOT the &quot;go-to&quot; standard you asked for..."}],"owner":{"account_id":19431837,"reputation":47,"user_id":14212075,"display_name":"Jan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701626139,"creation_date":1701601495,"question_id":77593981,"body_markdown":"I want to develop a Java app. These apps should be installed on different computers in different networks. I am now looking for a way to connect these clients without using a server. Therefore one of the client should be able to enter the others client public ip-address and external port and connect to it. (The other client listens on a server socket and gets put to this listening mode manually.)\r\n\r\nIf I use port forwarding everything works fine. But I don&#39;t want to use port forwarding. Instead I am looking for a solution that does basically the same as port forwarding but only lasts while the program is running and doesn&#39;t require any changes of the routers settings.\r\n\r\nWhen using Sockets, the client who actively connects to the other client isn&#39;t a problem at all, the routers NAT will handle this part just fine. The problem is the clients which the other client connects to.\r\n\r\nI did some research. I found out that UPnP and ICE (and many more) might solve my problem. However I am quite confused which option I should pick and learn.\r\n\r\nThat&#39;s why I would be very happy for any suggestions on which technology I could use. Is there any go-to standard? Any help is much appreciated.","title":"P2P in Java without server or port forwarding","body":"<p>I want to develop a Java app. These apps should be installed on different computers in different networks. I am now looking for a way to connect these clients without using a server. Therefore one of the client should be able to enter the others client public ip-address and external port and connect to it. (The other client listens on a server socket and gets put to this listening mode manually.)</p>\n<p>If I use port forwarding everything works fine. But I don't want to use port forwarding. Instead I am looking for a solution that does basically the same as port forwarding but only lasts while the program is running and doesn't require any changes of the routers settings.</p>\n<p>When using Sockets, the client who actively connects to the other client isn't a problem at all, the routers NAT will handle this part just fine. The problem is the clients which the other client connects to.</p>\n<p>I did some research. I found out that UPnP and ICE (and many more) might solve my problem. However I am quite confused which option I should pick and learn.</p>\n<p>That's why I would be very happy for any suggestions on which technology I could use. Is there any go-to standard? Any help is much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701625952,"creation_date":1701625952,"answer_id":77595522,"question_id":77595355,"body_markdown":"I would try to create `logback.xml` file in `src/main/resources` and change logging level to ERROR. \r\n\r\nAlternatively, you can try to use springProperty tag.\r\n\r\n&gt; Sometimes, we need to access values from the application.properties file in the logging configuration. In this situation, we use the springProperty element in the Logback configuration.\r\n&gt; \r\n&gt; The springProperty element is similar to Logback’s standard property\r\n&gt; element. However, we can determine the source of the property from the\r\n&gt; environment rather than specifying a direct value.","title":"Logback prints logs without adhering to logback-spring.xml until after the banner is printed","body":"<p>I would try to create <code>logback.xml</code> file in <code>src/main/resources</code> and change logging level to ERROR.</p>\n<p>Alternatively, you can try to use springProperty tag.</p>\n<blockquote>\n<p>Sometimes, we need to access values from the application.properties file in the logging configuration. In this situation, we use the springProperty element in the Logback configuration.</p>\n<p>The springProperty element is similar to Logback’s standard property\nelement. However, we can determine the source of the property from the\nenvironment rather than specifying a direct value.</p>\n</blockquote>\n"}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701841161,"answer_count":1,"score":0,"last_activity_date":1701625952,"creation_date":1701623693,"question_id":77595355,"body_markdown":"When I run my Spring Boot application, Logback keeps printing logs with settings from my logback-spring.xml not applied until after the banner is printed (everything before the banner is formatted differently and I want to avoid having it be printed):\r\n```\r\n2019-03-04 13:15:25.151  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.157  INFO   --- [           main] o.s.t.c.support.AbstractContextLoader    : \r\n2019-03-04 13:15:25.158  INFO   --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : \r\n2019-03-04 13:15:25.298  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.401  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n2019-03-04 13:15:25.430  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.2.RELEASE)\r\n\r\n2019-03-04 13:15:25.886 DEBUG 7484 --- [           main] o.s.boot.SpringApplication               : \r\n2019-03-04 13:15:25.903 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \r\n2019-03-04 13:15:25.905 DEBUG 7484 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : \r\n2019-03-04 13:15:25.922 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \r\n2019-03-04 13:15:25.937 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \r\n2019-03-04 13:15:26.004 DEBUG 7484 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   :\r\n```\r\n\r\nI&#39;ve read on the [documentation](https://docs.spring.io/spring-boot/docs/3.2.0/reference/htmlsingle/#features.logging.logback-extensions) that:\r\n&gt;Because the standard logback.xml configuration file is loaded too early, you cannot use extensions in it. You need to either use logback-spring.xml or define a logging.config property.\r\n\r\nI&#39;m assuming the default configurations are loaded earlier than Spring Boot initializes the logging configuration. If so, is there any way I can tell logback to disable all of its logs until Spring Boot takes over?\r\n\r\nI have also looked into [this solution](https://stackoverflow.com/a/53421136/1934402) and implemented it, but it doesn&#39;t seem to work for me. Is it because I&#39;m using Spring Boot 3.2.0?","title":"Logback prints logs without adhering to logback-spring.xml until after the banner is printed","body":"<p>When I run my Spring Boot application, Logback keeps printing logs with settings from my logback-spring.xml not applied until after the banner is printed (everything before the banner is formatted differently and I want to avoid having it be printed):</p>\n<pre><code>2019-03-04 13:15:25.151  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.157  INFO   --- [           main] o.s.t.c.support.AbstractContextLoader    : \n2019-03-04 13:15:25.158  INFO   --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : \n2019-03-04 13:15:25.298  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.401  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n2019-03-04 13:15:25.430  INFO   --- [           main] .b.t.c.SpringBootTestContextBootstrapper : \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.2.RELEASE)\n\n2019-03-04 13:15:25.886 DEBUG 7484 --- [           main] o.s.boot.SpringApplication               : \n2019-03-04 13:15:25.903 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.904 DEBUG 7484 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : \n2019-03-04 13:15:25.905 DEBUG 7484 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : \n2019-03-04 13:15:25.922 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \n2019-03-04 13:15:25.937 DEBUG 7484 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : \n2019-03-04 13:15:26.004 DEBUG 7484 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   :\n</code></pre>\n<p>I've read on the <a href=\"https://docs.spring.io/spring-boot/docs/3.2.0/reference/htmlsingle/#features.logging.logback-extensions\" rel=\"nofollow noreferrer\">documentation</a> that:</p>\n<blockquote>\n<p>Because the standard logback.xml configuration file is loaded too early, you cannot use extensions in it. You need to either use logback-spring.xml or define a logging.config property.</p>\n</blockquote>\n<p>I'm assuming the default configurations are loaded earlier than Spring Boot initializes the logging configuration. If so, is there any way I can tell logback to disable all of its logs until Spring Boot takes over?</p>\n<p>I have also looked into <a href=\"https://stackoverflow.com/a/53421136/1934402\">this solution</a> and implemented it, but it doesn't seem to work for me. Is it because I'm using Spring Boot 3.2.0?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701624171,"post_id":77595280,"comment_id":136796257,"body_markdown":"Did you try to use @Primary on your trackerRestTemplate instead of @Qualifier?","body":"Did you try to use @Primary on your trackerRestTemplate instead of @Qualifier?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701625209,"post_id":77595280,"comment_id":136796391,"body_markdown":"Add `-parameter` to your compiler. Previous versions generated a warning and did a fallback, this fallback has been removed (in accordance with the error). If you don&#39;t compile with `-parameters` the constructor argument has some generated name instead of an actual name that would match the bean name. See https://github.com/spring-projects/spring-boot/issues/38607 as well.","body":"Add <code>-parameter</code> to your compiler. Previous versions generated a warning and did a fallback, this fallback has been removed (in accordance with the error). If you don&#39;t compile with <code>-parameters</code> the constructor argument has some generated name instead of an actual name that would match the bean name. See <a href=\"https://github.com/spring-projects/spring-boot/issues/38607\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/38607</a> as well."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701625725,"creation_date":1701625725,"answer_id":77595506,"question_id":77595280,"body_markdown":"This is due Spring 6.1 having removed the `LocalVariableTableParameterNameDiscoverer` which acted like a fallback when the code was not compiled with `-parameters`. When this fallback was used a warning was generated with a message that this was deprecated and will be removed in future versions. That future is now. \r\n\r\nTo fix add `-parameters` to your compiler options to retain the parameter names, instead of some generated name. \r\n\r\nSee [this][1] as well, while closed holds some references to related issues with more information. In addition this change is also mentioned in [the upgrade guide][2].\r\n\r\n[1]: https://github.com/spring-projects/spring-boot/issues/38607\r\n[2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#parameter-name-discovery","title":"spring scanning same type bean with different names returning ambiguous exception after upgrading to spring-boot 3.2","body":"<p>This is due Spring 6.1 having removed the <code>LocalVariableTableParameterNameDiscoverer</code> which acted like a fallback when the code was not compiled with <code>-parameters</code>. When this fallback was used a warning was generated with a message that this was deprecated and will be removed in future versions. That future is now.</p>\n<p>To fix add <code>-parameters</code> to your compiler options to retain the parameter names, instead of some generated name.</p>\n<p>See <a href=\"https://github.com/spring-projects/spring-boot/issues/38607\" rel=\"nofollow noreferrer\">this</a> as well, while closed holds some references to related issues with more information. In addition this change is also mentioned in <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes#parameter-name-discovery\" rel=\"nofollow noreferrer\">the upgrade guide</a>.</p>\n"}],"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701625725,"creation_date":1701622484,"question_id":77595280,"body_markdown":"I recently upgraded my application to spring-boot 3.2 from spring-boot 3.0.x. After upgrading we are getting several bean ambiguous exceptions, This was working fine before,\r\n\r\nEx) The Application is consuming several client libraries and each client library is creating RestTemplate using the below code,\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@AutoConfiguration\r\n@ConfigurationPropertiesScan\r\n@ComponentScan(basePackages = {&quot;com.partner.tracker.client&quot;})\r\npublic class TrackerClientConfiguration {\r\n\r\n\t@Autowired(required = false)\r\n\tprivate RestTemplateCustomizer restTemplateCustomizer;\r\n\t\r\n\t@Bean(name = &quot;trackerRestTemplate&quot;)\r\n\t@ConditionalOnMissingBean(name = &quot;trackerRestTemplate&quot;)\r\n\tpublic RestTemplate trackerRestTemplate() {\r\n\t\treturn createTrackerRestTemplate();\r\n\t}\r\n\r\n\tpublic RestTemplate createTrackerRestTemplate() {\r\n\t\tRestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder()\r\n\t\t\t\t.requestFactory(this::customHttpRequestFactory)\r\n\t\t\t\t.interceptors(\r\n\t\t\t\t\t\tgetDefaultHeadersInterceptor(),\r\n\t\t\t\t\t\tgetTraceIdInterceptor()\r\n\t\t\t\t)\r\n\t\t\t\t.messageConverters(getMessageConverters());\r\n\t\tif (Objects.nonNull(restTemplateCustomizer)) {\r\n\t\t\trestTemplateBuilder = restTemplateBuilder.additionalCustomizers(restTemplateCustomizer);\r\n\t\t}\r\n\t\treturn restTemplateBuilder.build();\r\n\t}\r\n}\r\n```\r\n\r\nWe are using the same code for other 5-libraries RestTemplate creation.\r\n\r\nThis was working fine till we upgraded to spring-boot 3.2 but we got the below exception after upgrading to 3.2\r\n\r\n```\r\nParameter 1 of constructor in com.tracker.client.TrackerApiClient required a single bean, but 6 were found:\r\n\r\n- ulfRestTemplate: defined in file &lt;file location&gt;\r\n- trackerRestTemplate: defined in file &lt;file location&gt;\r\n- homeRestTemplate: defined by method\r\n- pluginRestTemplate: defined by method\r\n- partnerRestTemplate: defined by method\r\n- goRestTemplate: defined by method\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed.\r\n```\r\n\r\nSo we are using @Qualifier annotation temporarily to fix this issue but I don&#39;t want to do that since it breaks unit testing also I use Lombok for constructor injection now I should go with manual constructor with @Qualifier annotation.\r\n\r\nso this bug was recently introduced by the spring team or is this how spring always works for the same type of bean? If this is the usual behaviour then I wonder how it works in the past. \r\n\r\nAny help would be really appreciated.\r\n\r\n","title":"spring scanning same type bean with different names returning ambiguous exception after upgrading to spring-boot 3.2","body":"<p>I recently upgraded my application to spring-boot 3.2 from spring-boot 3.0.x. After upgrading we are getting several bean ambiguous exceptions, This was working fine before,</p>\n<p>Ex) The Application is consuming several client libraries and each client library is creating RestTemplate using the below code,</p>\n<pre><code>@RequiredArgsConstructor\n@AutoConfiguration\n@ConfigurationPropertiesScan\n@ComponentScan(basePackages = {&quot;com.partner.tracker.client&quot;})\npublic class TrackerClientConfiguration {\n\n    @Autowired(required = false)\n    private RestTemplateCustomizer restTemplateCustomizer;\n    \n    @Bean(name = &quot;trackerRestTemplate&quot;)\n    @ConditionalOnMissingBean(name = &quot;trackerRestTemplate&quot;)\n    public RestTemplate trackerRestTemplate() {\n        return createTrackerRestTemplate();\n    }\n\n    public RestTemplate createTrackerRestTemplate() {\n        RestTemplateBuilder restTemplateBuilder = new RestTemplateBuilder()\n                .requestFactory(this::customHttpRequestFactory)\n                .interceptors(\n                        getDefaultHeadersInterceptor(),\n                        getTraceIdInterceptor()\n                )\n                .messageConverters(getMessageConverters());\n        if (Objects.nonNull(restTemplateCustomizer)) {\n            restTemplateBuilder = restTemplateBuilder.additionalCustomizers(restTemplateCustomizer);\n        }\n        return restTemplateBuilder.build();\n    }\n}\n</code></pre>\n<p>We are using the same code for other 5-libraries RestTemplate creation.</p>\n<p>This was working fine till we upgraded to spring-boot 3.2 but we got the below exception after upgrading to 3.2</p>\n<pre><code>Parameter 1 of constructor in com.tracker.client.TrackerApiClient required a single bean, but 6 were found:\n\n- ulfRestTemplate: defined in file &lt;file location&gt;\n- trackerRestTemplate: defined in file &lt;file location&gt;\n- homeRestTemplate: defined by method\n- pluginRestTemplate: defined by method\n- partnerRestTemplate: defined by method\n- goRestTemplate: defined by method\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed.\n</code></pre>\n<p>So we are using @Qualifier annotation temporarily to fix this issue but I don't want to do that since it breaks unit testing also I use Lombok for constructor injection now I should go with manual constructor with @Qualifier annotation.</p>\n<p>so this bug was recently introduced by the spring team or is this how spring always works for the same type of bean? If this is the usual behaviour then I wonder how it works in the past.</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":900048,"reputation":7584,"user_id":936414,"display_name":"user936414"},"score":4,"creation_date":1358836651,"post_id":9073677,"comment_id":20127913,"body_markdown":"got any solution for this? having the same question..","body":"got any solution for this? having the same question.."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1467841609,"post_id":9073677,"comment_id":63890260,"body_markdown":"Seems duplicate (but without answers): http://stackoverflow.com/questions/34724179/how-to-find-whether-an-android-view-is-obscured-by-any-other-view","body":"Seems duplicate (but without answers): <a href=\"http://stackoverflow.com/questions/34724179/how-to-find-whether-an-android-view-is-obscured-by-any-other-view\" title=\"how to find whether an android view is obscured by any other view\">stackoverflow.com/questions/34724179/&hellip;</a>"},{"owner":{"account_id":269580,"reputation":6383,"user_id":558991,"accept_rate":60,"display_name":"Nima"},"score":0,"creation_date":1499368494,"post_id":9073677,"comment_id":76889780,"body_markdown":"ever figured this out?","body":"ever figured this out?"},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":1,"creation_date":1499399167,"post_id":9073677,"comment_id":76899556,"body_markdown":"Negative.  And so long ago now that I can&#39;t even remember _why_ I needed to figure this out.","body":"Negative.  And so long ago now that I can&#39;t even remember <i>why</i> I needed to figure this out."},{"owner":{"account_id":10841676,"reputation":8300,"user_id":7972699,"display_name":"Anmol"},"score":0,"creation_date":1545371305,"post_id":9073677,"comment_id":94606420,"body_markdown":"@aroth i want to use this, in my scenario my view is getting hidden by keyboard and i am not using `adjustresize` so keyboard is overlapping the View and i want only the visible area.","body":"@aroth i want to use this, in my scenario my view is getting hidden by keyboard and i am not using <code>adjustresize</code> so keyboard is overlapping the View and i want only the visible area."}],"answers":[{"comments":[{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":2,"creation_date":1327988544,"post_id":9074544,"comment_id":11392201,"body_markdown":"Nope, it gives the same result as just calling `getWidth()` and `getHeight()` (i.e. the total view size).  As the documentation says, `getDrawingRect()` &quot;fills in the output rectangle with the values from `getScrollX()`, `getScrollY()`, `getWidth()`, and `getHeight()`&quot;.  The `scrollX` and `scrollY` values will be 0 in this case, because there is no scrolling going on.","body":"Nope, it gives the same result as just calling <code>getWidth()</code> and <code>getHeight()</code> (i.e. the total view size).  As the documentation says, <code>getDrawingRect()</code> &quot;fills in the output rectangle with the values from <code>getScrollX()</code>, <code>getScrollY()</code>, <code>getWidth()</code>, and <code>getHeight()</code>&quot;.  The <code>scrollX</code> and <code>scrollY</code> values will be 0 in this case, because there is no scrolling going on."}],"tags":[],"owner":{"account_id":308046,"reputation":7133,"user_id":619699,"accept_rate":57,"display_name":"Vikram Bodicherla"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327985364,"creation_date":1327985364,"answer_id":9074544,"question_id":9073677,"body_markdown":"Does this not work: http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect)\r\n\r\nThe documentation says that it does what you want.","title":"Android - Get the visible area of a view?","body":"<p>Does this not work: <a href=\"http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect\" rel=\"nofollow\">http://developer.android.com/reference/android/view/View.html#getDrawingRect(android.graphics.Rect</a>)</p>\n\n<p>The documentation says that it does what you want.</p>\n"},{"comments":[{"owner":{"account_id":474975,"reputation":28437,"user_id":885028,"accept_rate":90,"display_name":"aga"},"score":0,"creation_date":1426666382,"post_id":19122136,"comment_id":46461622,"body_markdown":"It works for the simple cases only, when the view wasn&#39;t rotated.","body":"It works for the simple cases only, when the view wasn&#39;t rotated."},{"owner":{"account_id":1647907,"reputation":374,"user_id":1519069,"accept_rate":43,"display_name":"jacosta"},"score":15,"creation_date":1434034374,"post_id":19122136,"comment_id":49618386,"body_markdown":"Late reply, but getGlobalVisibleRect only seems to calculate visible portion if the view is restricted (cut off) by one of its parents. Not if another view is overlaying it in something like a relativelayout. In that case, getGlobalVisibleRect gives the rect of the whole view, not just the portion that&#39;s uncovered by the masking view","body":"Late reply, but getGlobalVisibleRect only seems to calculate visible portion if the view is restricted (cut off) by one of its parents. Not if another view is overlaying it in something like a relativelayout. In that case, getGlobalVisibleRect gives the rect of the whole view, not just the portion that&#39;s uncovered by the masking view"}],"tags":[],"owner":{"account_id":344757,"reputation":4578,"user_id":677242,"accept_rate":92,"display_name":"Abhay Buch"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1701625562,"creation_date":1380647683,"answer_id":19122136,"question_id":9073677,"body_markdown":"This is pretty late to the game, but I suspect that `getGlobalVisibleRect` does what you want.\r\n\r\nEDIT\r\n\r\nFor more information, visit this website:\r\n\r\nhttps://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)\r\n\r\nI suspect in Kotlin, you can use it like this:\r\n\r\npublic boolean getGlobalVisibleRect (Rect r, \r\n                Point globalOffset)\r\n\r\nReplace r with the actual coordinates of the non-clipped area of the view, in the coordinate space of the view&#39;s root view,\r\nHope this helps!","title":"Android - Get the visible area of a view?","body":"<p>This is pretty late to the game, but I suspect that <code>getGlobalVisibleRect</code> does what you want.</p>\n<p>EDIT</p>\n<p>For more information, visit this website:</p>\n<p><a href=\"https://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#getGlobalVisibleRect(android.graphics.Rect)</a></p>\n<p>I suspect in Kotlin, you can use it like this:</p>\n<p>public boolean getGlobalVisibleRect (Rect r,\nPoint globalOffset)</p>\n<p>Replace r with the actual coordinates of the non-clipped area of the view, in the coordinate space of the view's root view,\nHope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1792053,"reputation":323,"user_id":1632200,"display_name":"mou"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380648372,"creation_date":1380648372,"answer_id":19122312,"question_id":9073677,"body_markdown":"I have used `getWindowVisibleDisplayFrame` method to determine if view is partially visible or not to determine if a soft keyboard is open. You can try it out.\r\n\r\n    Rect r = new Rect();\r\n    // r will be populated with the coordinates of     your view\r\n    // that area still visible.\r\n    rootView.getWindowVisibleDisplayFrame(r);","title":"Android - Get the visible area of a view?","body":"<p>I have used <code>getWindowVisibleDisplayFrame</code> method to determine if view is partially visible or not to determine if a soft keyboard is open. You can try it out.</p>\n\n<pre><code>Rect r = new Rect();\n// r will be populated with the coordinates of     your view\n// that area still visible.\nrootView.getWindowVisibleDisplayFrame(r);\n</code></pre>\n"}],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24502,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1701625562,"creation_date":1327977171,"question_id":9073677,"body_markdown":"Suppose I have an Android `View` that is being partially masked by another `View`.  For instance, imagine that the masking view has a transparent rectangular &quot;window&quot; in the center of it, and my view is centered beneath the window and possessing dimensions that are larger than the dimensions of the window.  In such a case, some rectangular portion of the view will be visible, with the rest being obscured by the mask.  \r\n\r\nSo my question is, is there any straightforward way to retrive the position and dimensions of the visible area *without* having any access to the masking view itself (so without knowing how big the mask&#39;s &quot;window&quot; itself is)?  \r\n\r\nI tried calling `getLocalVisibleRect()`, which sounded promising, but that only seems to return the view&#39;s layout rectangle and *not* the rectangle that is actually visible.","title":"Android - Get the visible area of a view?","body":"<p>Suppose I have an Android <code>View</code> that is being partially masked by another <code>View</code>.  For instance, imagine that the masking view has a transparent rectangular \"window\" in the center of it, and my view is centered beneath the window and possessing dimensions that are larger than the dimensions of the window.  In such a case, some rectangular portion of the view will be visible, with the rest being obscured by the mask.  </p>\n\n<p>So my question is, is there any straightforward way to retrive the position and dimensions of the visible area <em>without</em> having any access to the masking view itself (so without knowing how big the mask's \"window\" itself is)?  </p>\n\n<p>I tried calling <code>getLocalVisibleRect()</code>, which sounded promising, but that only seems to return the view's layout rectangle and <em>not</em> the rectangle that is actually visible.</p>\n"},{"tags":["java","mysql","concurrency","race-condition","spring-transactions"],"answers":[{"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1701629309,"post_id":77595487,"comment_id":136796812,"body_markdown":"&quot;...you apply a lock on the room [and] day...for maybe 10 mins.&quot; FWIW: Another name for that temporary lock is a &quot;_hold._&quot;","body":"&quot;...you apply a lock on the room [and] day...for maybe 10 mins.&quot; FWIW: Another name for that temporary lock is a &quot;<i>hold.</i>&quot;"}],"tags":[],"owner":{"account_id":30056330,"reputation":11,"user_id":23033598,"display_name":"Sanket Vyawahare"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701625468,"creation_date":1701625468,"answer_id":77595487,"question_id":77595415,"body_markdown":"Your first approach, if you think in real world practical way, is not very good and from User Experience Design perspective its very bad, since you are making user to do all the hard work and then you say that the room is not available is not very good User Experience. \r\n\r\nYou should take the room and checkin/checkout details first before payment and check whether you have room availability or not for that day and that time. If you have then apply the below logic and proceed with taking payment details.\r\n\r\nOne way to solve this problem, is as someone is in middle of transaction you apply a lock on the room for the particular day and check-in/checkout time, and keep that lock for maybe 10 mins, this much time is enough for the user to do the payment transaction and book room, otherwise delete the lock from the database table and let others book the room.\r\n\r\nIn this way, you solve your reservation problem by applying temporary lock while the transaction is going on for some defined time, if the transaction is complete you book the room. If the transaction fails, remove the temporary lock.","title":"What is the best practice for reservation flow in hotel reservation system to handle concurrency for multiple reservation?","body":"<p>Your first approach, if you think in real world practical way, is not very good and from User Experience Design perspective its very bad, since you are making user to do all the hard work and then you say that the room is not available is not very good User Experience.</p>\n<p>You should take the room and checkin/checkout details first before payment and check whether you have room availability or not for that day and that time. If you have then apply the below logic and proceed with taking payment details.</p>\n<p>One way to solve this problem, is as someone is in middle of transaction you apply a lock on the room for the particular day and check-in/checkout time, and keep that lock for maybe 10 mins, this much time is enough for the user to do the payment transaction and book room, otherwise delete the lock from the database table and let others book the room.</p>\n<p>In this way, you solve your reservation problem by applying temporary lock while the transaction is going on for some defined time, if the transaction is complete you book the room. If the transaction fails, remove the temporary lock.</p>\n"}],"owner":{"account_id":30055612,"reputation":1,"user_id":23033064,"display_name":"mariam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701640738,"answer_count":1,"score":-1,"last_activity_date":1701625468,"creation_date":1701624505,"question_id":77595415,"body_markdown":"For my college project, I&#39;m developing a hotel reservation application using Java along with the Spring framework and MySQL database.\r\n\r\n# Database details:\r\n\r\n- I have an entity type that stores reservations details\r\n\r\n**reservation**\r\n\r\n| reservation-id | check-in |check-out | .. all other details |\r\n| ---------------| -------- |--------- | ---------------------|\r\n\r\n- when user wants to reserve rooms, I use this table to transactionally check in database that all rooms are available and if so, reserve them and add new entity in the table.\r\n\r\n\r\nI need to know how the flow of reservation should work.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# **I thought about 2 scenarios:** \r\n\r\n**first scenario**: user selects the rooms he wants to reserve -&gt; check out and enter his credit card number -&gt; transactional check in database occurs. if rooms aren&#39;t available, I will tell the user that the rooms are not available, else I will proceed with payment.\r\n\r\nmy Question here is it normal to let the user enter his credit card and then tell him sorry the rooms are not available?\r\n\r\n\r\n**second scenario:** \r\n\r\n- I will add another entity type called temporarily reservation that have reservation-id as a foreign key and expiration date-attribute that refers to \r\n\r\n**temporarily reservation**\r\n\r\n| reservation-id (foreign key) | expiration-date |\r\n| -----------------------------| --------------- |\r\n\r\nuser selects the rooms he wants to reserve -&gt; transactional check in database occurs. if all rooms are available, reserve them in both &quot;temporarily reservation&quot; and &quot;reservation&quot; tables -&gt; let the user enter his credit card number -&gt; if payment is successful, delete the reservation from &quot;temporarily reservation&quot; table else if any error occurs during payment, delete reservation from both tables. \r\nthe problem is when the user doesn&#39;t enter his credit card or closes the application before confirming payment. So, I will use the &quot;temporarily reservation&quot; table and scheduled function that runs periodically to remove all expired unconfirmed reservations from both tables.\r\n\r\nI know this solution might not be practical, so I want to know how this problem is actually solved.\r\n\r\n\r\n","title":"What is the best practice for reservation flow in hotel reservation system to handle concurrency for multiple reservation?","body":"<p>For my college project, I'm developing a hotel reservation application using Java along with the Spring framework and MySQL database.</p>\n<h1>Database details:</h1>\n<ul>\n<li>I have an entity type that stores reservations details</li>\n</ul>\n<p><strong>reservation</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>reservation-id</th>\n<th>check-in</th>\n<th>check-out</th>\n<th>.. all other details</th>\n</tr>\n</thead>\n</table>\n</div>\n<ul>\n<li>when user wants to reserve rooms, I use this table to transactionally check in database that all rooms are available and if so, reserve them and add new entity in the table.</li>\n</ul>\n<p>I need to know how the flow of reservation should work.</p>\n<h1><strong>I thought about 2 scenarios:</strong></h1>\n<p><strong>first scenario</strong>: user selects the rooms he wants to reserve -&gt; check out and enter his credit card number -&gt; transactional check in database occurs. if rooms aren't available, I will tell the user that the rooms are not available, else I will proceed with payment.</p>\n<p>my Question here is it normal to let the user enter his credit card and then tell him sorry the rooms are not available?</p>\n<p><strong>second scenario:</strong></p>\n<ul>\n<li>I will add another entity type called temporarily reservation that have reservation-id as a foreign key and expiration date-attribute that refers to</li>\n</ul>\n<p><strong>temporarily reservation</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>reservation-id (foreign key)</th>\n<th>expiration-date</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>user selects the rooms he wants to reserve -&gt; transactional check in database occurs. if all rooms are available, reserve them in both &quot;temporarily reservation&quot; and &quot;reservation&quot; tables -&gt; let the user enter his credit card number -&gt; if payment is successful, delete the reservation from &quot;temporarily reservation&quot; table else if any error occurs during payment, delete reservation from both tables.\nthe problem is when the user doesn't enter his credit card or closes the application before confirming payment. So, I will use the &quot;temporarily reservation&quot; table and scheduled function that runs periodically to remove all expired unconfirmed reservations from both tables.</p>\n<p>I know this solution might not be practical, so I want to know how this problem is actually solved.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9897,"page":20,"page_size":100}
