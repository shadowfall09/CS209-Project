{"items":[{"tags":["java","weblogic","nodemanager","oracle-access-manager"],"answers":[{"tags":[],"owner":{"account_id":22508787,"reputation":1,"user_id":16704002,"display_name":"xx lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670435125,"creation_date":1670434983,"answer_id":74720848,"question_id":74712225,"body_markdown":"I approached this problem in several ways\r\n\r\n1. Comment out the java.security line in JAVA_HOME\r\n\r\n2. Make the same changes to jdk.zip in the installation directory\r\n\r\n    ```\r\n    #Comment this line\r\n    jdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\r\n    ```\r\n\r\n3. Set the system time to 20170504\r\n\r\n4. Set system variables\r\n ```\r\nexport _JAVA_OPTIONS=&quot;-Dweblogic.nodemanager.sslHostNameVerificationEnabled=false -Dweblogic.security.SSL.ignoreHostnameVerification=true -Dcom.sun.net.ssl.checkRevocation=false -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true&quot;\r\n````\r\n\r\nI suspect the ultimate solution is to change the system time.\r\nIt&#39;s scary to run an old project\r\n\r\nI&#39;m even going to develop an OAM plug-in\r\n\r\nHelp!","title":"Failed to install the OAM using the LCM during the post-configure steps，SSL error","body":"<p>I approached this problem in several ways</p>\n<ol>\n<li><p>Comment out the java.security line in JAVA_HOME</p>\n</li>\n<li><p>Make the same changes to jdk.zip in the installation directory</p>\n<pre><code>#Comment this line\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\n</code></pre>\n</li>\n<li><p>Set the system time to 20170504</p>\n</li>\n<li><p>Set system variables</p>\n</li>\n</ol>\n<pre><code>export _JAVA_OPTIONS=&quot;-Dweblogic.nodemanager.sslHostNameVerificationEnabled=false -Dweblogic.security.SSL.ignoreHostnameVerification=true -Dcom.sun.net.ssl.checkRevocation=false -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true&quot;\n</code></pre>\n<p>I suspect the ultimate solution is to change the system time.\nIt's scary to run an old project</p>\n<p>I'm even going to develop an OAM plug-in</p>\n<p>Help!</p>\n"}],"owner":{"account_id":22508787,"reputation":1,"user_id":16704002,"display_name":"xx lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670435125,"creation_date":1670391579,"question_id":74712225,"body_markdown":"So running a single node full stack installation with LCM. All goes fine till post-configure,\r\nwhere the script fails trying to connect to NodeManager. It gives\r\n\r\n```\r\n&lt;2022-12-6 下午08时56分54秒 CST&gt; &lt;Warning&gt; &lt;Security&gt; &lt;BEA-090479&gt; &lt;Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.&gt; \r\nThis Exception occurred at Tue Dec 06 20:56:54 CST 2022.\r\njavax.net.ssl.SSLKeyException: [Security:090479]Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.\r\nProblem invoking WLST - Traceback (innermost last):\r\n  File &quot;/u01/app/oracle/product/fmw/Oracle_IDMLCM1/provisioning/idm-provisioning-build/config/wait_for_nodemanager.py&quot;, line 13, in ?\r\n```\r\n\r\nSome sources suggest that I should modify the java.security file. But it didn&#39;t work.\r\n\r\nI made a change to java.security in java_home\r\n\r\n```\r\n# Comment this line\r\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\r\n```\r\n\r\nAnd for the record, I&#39;m using the JDK distributed with LCM. I believe it&#39;s 7u80.","title":"Failed to install the OAM using the LCM during the post-configure steps，SSL error","body":"<p>So running a single node full stack installation with LCM. All goes fine till post-configure,\nwhere the script fails trying to connect to NodeManager. It gives</p>\n<pre><code>&lt;2022-12-6 下午08时56分54秒 CST&gt; &lt;Warning&gt; &lt;Security&gt; &lt;BEA-090479&gt; &lt;Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.&gt; \nThis Exception occurred at Tue Dec 06 20:56:54 CST 2022.\njavax.net.ssl.SSLKeyException: [Security:090479]Certificate chain received from oam.com - 192.168.38.152 failed date validity checks.\nProblem invoking WLST - Traceback (innermost last):\n  File &quot;/u01/app/oracle/product/fmw/Oracle_IDMLCM1/provisioning/idm-provisioning-build/config/wait_for_nodemanager.py&quot;, line 13, in ?\n</code></pre>\n<p>Some sources suggest that I should modify the java.security file. But it didn't work.</p>\n<p>I made a change to java.security in java_home</p>\n<pre><code># Comment this line\njdk.certpath.disabledAlgorithms=MD2, DSA, RSA keySize \\&lt; 2048\n</code></pre>\n<p>And for the record, I'm using the JDK distributed with LCM. I believe it's 7u80.</p>\n"},{"tags":["java","jackson-dataformat-xml"],"answers":[{"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1670435158,"post_id":74720864,"comment_id":131877727,"body_markdown":"Why didn&#39;t you just mark the question as a dupe?","body":"Why didn&#39;t you just mark the question as a dupe?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":2,"creation_date":1670435243,"post_id":74720864,"comment_id":131877757,"body_markdown":"@RuanMendes probably because &quot;This question does not have an upvoted or accepted answer&quot;. The solution Vini provided comes from the question&#39;s body","body":"@RuanMendes probably because &quot;This question does not have an upvoted or accepted answer&quot;. The solution Vini provided comes from the question&#39;s body"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1670435279,"post_id":74720864,"comment_id":131877772,"body_markdown":"So why point to it?","body":"So why point to it?"},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1670437887,"post_id":74720864,"comment_id":131878538,"body_markdown":"Point noted @Ruan Mendes. I pointed to the other question as it is slightly different - there the OP wants to add the DOCTYPE declaration but just mentions that he has the Xml declaration in place.","body":"Point noted @Ruan Mendes. I pointed to the other question as it is slightly different - there the OP wants to add the DOCTYPE declaration but just mentions that he has the Xml declaration in place."}],"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670435095,"creation_date":1670435095,"answer_id":74720864,"question_id":74720787,"body_markdown":"Assuming you are using XmlMapper you can add &#39;WRITE_XML_DECLARATION&#39; configuration to add it \r\n\r\n        XmlMapper xmlMapper =  new XmlMapper();\r\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);//XML declaration\r\n\r\nSee, this question - https://stackoverflow.com/questions/41594320/easy-way-to-add-doctype-to-xml-with-jackson\r\n\r\n\r\n","title":"Jackson generates xml without the &lt;?xml?&gt; tag at the top","body":"<p>Assuming you are using XmlMapper you can add 'WRITE_XML_DECLARATION' configuration to add it</p>\n<pre><code>    XmlMapper xmlMapper =  new XmlMapper();\n    xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);//XML declaration\n</code></pre>\n<p>See, this question - <a href=\"https://stackoverflow.com/questions/41594320/easy-way-to-add-doctype-to-xml-with-jackson\">Easy way to add DOCTYPE to XML with Jackson</a></p>\n"}],"owner":{"account_id":24148215,"reputation":75,"user_id":18635794,"display_name":"jbmgil_vlrzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74720864,"answer_count":1,"score":1,"last_activity_date":1670435095,"creation_date":1670434698,"question_id":74720787,"body_markdown":"I have a Java app that uses Jackson to generate a xml, but the final xml doesn&#39;t have the `&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;yes&quot;?&gt;` at the beginig of the document, it starts at the `&lt;source&gt;` tag.\r\n\r\nI need this &lt;?xml?&gt; tag to appear at the top, but I can&#39;t manage to do so.","title":"Jackson generates xml without the &lt;?xml?&gt; tag at the top","body":"<p>I have a Java app that uses Jackson to generate a xml, but the final xml doesn't have the <code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot; standalone = &quot;yes&quot;?&gt;</code> at the beginig of the document, it starts at the <code>&lt;source&gt;</code> tag.</p>\n<p>I need this  tag to appear at the top, but I can't manage to do so.</p>\n"},{"tags":["java","maven","validation","annotations","notnull"],"comments":[{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1491309295,"post_id":41249467,"comment_id":73486191,"body_markdown":"Possible duplicate of [Why @Nonnull annotation checked at runtime?](http://stackoverflow.com/questions/40847472/why-nonnull-annotation-checked-at-runtime)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/40847472/why-nonnull-annotation-checked-at-runtime\">Why @Nonnull annotation checked at runtime?</a>"},{"owner":{"account_id":3234420,"reputation":3542,"user_id":2728956,"accept_rate":66,"display_name":"Vadim Kirilchuk"},"score":0,"creation_date":1491309344,"post_id":41249467,"comment_id":73486226,"body_markdown":"That is IntelliJ IDEA 2016.3 feature(not very nice though).","body":"That is IntelliJ IDEA 2016.3 feature(not very nice though)."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482263337,"creation_date":1482263337,"answer_id":41250172,"question_id":41249467,"body_markdown":"Partially guessing here: you see, it is not &quot;IDEA&quot; that puts that extra check into the byte code.\r\n\r\nThe thing is: annotations can also be used to **generate** code (see [here][1] for some further reading). And as you can see from that link; the core thing for **code generation** is: that annotation requires a javax.annotation.processing.Processor class. And that will be used by the **compiler** to turn the source code annotation into something reasonable within byte code. \r\n\r\nIf I get you right, you failed to get those javax parts setup for your maven compile. So probably the one part is missing there; so the solution is to fix your maven setup to provide all required dependencies. \r\n\r\n  [1]: https://deors.wordpress.com/2011/10/08/annotation-processors/","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>Partially guessing here: you see, it is not \"IDEA\" that puts that extra check into the byte code.</p>\n\n<p>The thing is: annotations can also be used to <strong>generate</strong> code (see <a href=\"https://deors.wordpress.com/2011/10/08/annotation-processors/\" rel=\"nofollow noreferrer\">here</a> for some further reading). And as you can see from that link; the core thing for <strong>code generation</strong> is: that annotation requires a javax.annotation.processing.Processor class. And that will be used by the <strong>compiler</strong> to turn the source code annotation into something reasonable within byte code. </p>\n\n<p>If I get you right, you failed to get those javax parts setup for your maven compile. So probably the one part is missing there; so the solution is to fix your maven setup to provide all required dependencies. </p>\n"},{"tags":[],"owner":{"account_id":7478819,"reputation":3597,"user_id":5684265,"accept_rate":100,"display_name":"Jakub Ch."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482263883,"creation_date":1482263883,"answer_id":41250313,"question_id":41249467,"body_markdown":"Your `@NotNull` annotation seems to be part of IntelliLang plugin, designed to support coding in IDEA (i.e. helps in contract coding). I doubt it is available outside of IDEA.\r\n\r\n&gt; Before you start working with language injections, make sure that the IntelliLang plugin is enabled. The plugin is bundled with IntelliJ IDEA and is activated by default\r\n\r\nI don&#39;t know much about it, so please say hello to [reference][1]\r\n\r\n`javax.validation` on the other hand is designed to quite different things. It checks if data object content is valid via [Bean Validation][2] from java EE\r\n\r\n\r\n  [1]: http://www.jetbrains.com/help/idea/2016.3/nullable-and-notnull-annotations.html#d1797147e49\r\n  [2]: http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>Your <code>@NotNull</code> annotation seems to be part of IntelliLang plugin, designed to support coding in IDEA (i.e. helps in contract coding). I doubt it is available outside of IDEA.</p>\n\n<blockquote>\n  <p>Before you start working with language injections, make sure that the IntelliLang plugin is enabled. The plugin is bundled with IntelliJ IDEA and is activated by default</p>\n</blockquote>\n\n<p>I don't know much about it, so please say hello to <a href=\"http://www.jetbrains.com/help/idea/2016.3/nullable-and-notnull-annotations.html#d1797147e49\" rel=\"nofollow noreferrer\">reference</a></p>\n\n<p><code>javax.validation</code> on the other hand is designed to quite different things. It checks if data object content is valid via <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gircz.html\" rel=\"nofollow noreferrer\">Bean Validation</a> from java EE</p>\n"},{"tags":[],"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597066931,"creation_date":1597066931,"answer_id":63341418,"question_id":41249467,"body_markdown":"A Maven plug-in was created to do the same thing for Maven builds: \r\n\r\nhttps://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\r\n\r\nIt only works with JetBrains annotations by default.","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>A Maven plug-in was created to do the same thing for Maven builds:</p>\n<p><a href=\"https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin</a></p>\n<p>It only works with JetBrains annotations by default.</p>\n"},{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670435039,"creation_date":1670424913,"answer_id":74718627,"question_id":41249467,"body_markdown":"As noted by other answers, Intellij implemented a process to add the null checks to your code before it is compiled. There is one unofficial maven plugin (https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin) and some forks of it, but it is not longer maintained (last change was over a year ago) and I couldn&#39;t get it to work. \r\n\r\n\r\nThus, I recommend using another annotation instead. In my project, I switched to Lombok instead, which also has some nice additional features. To get it to work, you explicitly need to tell Lombok to throw another exception. See this working example:\r\n\r\n### Prequisites:\r\n\r\nYou need to add the lombok dependency to your maven pom.xml (find the latest version [here](https://search.maven.org/artifact/org.projectlombok/lombok)):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nIn your root directory (inside the folder, that contains &#39;src&#39;) create a lombok.config with the following content:\r\n\r\n&lt;!-- language: config --&gt;\r\n\r\n    lombok.nonNull.exceptionType=IllegalArgumentException\r\n\r\n### 1. Use case\r\n\r\nNow you can use the `@NonNull` annotation for parameters and the null-checks will be generated automatically. You probably also need to add the maven-surefire-plugin to your pom.xml.\r\n\r\n### 2. Use case\r\n\r\nThere is a neat possibility to let Lombok figure out itself, when the null check is necessary and when not for constructors. The following code will generate a constructor with to parameters (list1, list2). But it will only throw an IllegalArgmentException/NullPointerException, if the argument &#39;list1&#39; is `null`, because list2 is not annotated with `@NonNull`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import java.util.List;\r\n    \r\n    @RequiredArgsConstructor\r\n    public class A {\r\n    \r\n        @NonNull\r\n        private final List&lt;String&gt; list1;\r\n\r\n        private final List&lt;String&gt; list2;\r\n        \r\n        ...\r\n    }","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>As noted by other answers, Intellij implemented a process to add the null checks to your code before it is compiled. There is one unofficial maven plugin (<a href=\"https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/osundblad/intellij-annotations-instrumenter-maven-plugin</a>) and some forks of it, but it is not longer maintained (last change was over a year ago) and I couldn't get it to work.</p>\n<p>Thus, I recommend using another annotation instead. In my project, I switched to Lombok instead, which also has some nice additional features. To get it to work, you explicitly need to tell Lombok to throw another exception. See this working example:</p>\n<h3>Prequisites:</h3>\n<p>You need to add the lombok dependency to your maven pom.xml (find the latest version <a href=\"https://search.maven.org/artifact/org.projectlombok/lombok\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In your root directory (inside the folder, that contains 'src') create a lombok.config with the following content:</p>\n<pre><code>lombok.nonNull.exceptionType=IllegalArgumentException\n</code></pre>\n<h3>1. Use case</h3>\n<p>Now you can use the <code>@NonNull</code> annotation for parameters and the null-checks will be generated automatically. You probably also need to add the maven-surefire-plugin to your pom.xml.</p>\n<h3>2. Use case</h3>\n<p>There is a neat possibility to let Lombok figure out itself, when the null check is necessary and when not for constructors. The following code will generate a constructor with to parameters (list1, list2). But it will only throw an IllegalArgmentException/NullPointerException, if the argument 'list1' is <code>null</code>, because list2 is not annotated with <code>@NonNull</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport java.util.List;\n\n@RequiredArgsConstructor\npublic class A {\n\n    @NonNull\n    private final List&lt;String&gt; list1;\n\n    private final List&lt;String&gt; list2;\n    \n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":6123918,"reputation":51,"user_id":4776563,"display_name":"Grofight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1615,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1670435039,"creation_date":1482260613,"question_id":41249467,"body_markdown":"I wrote a simple project to learn how to work with annotation validation.\r\nFor that puspose I added maven dependency (also I tried javax.validation, that does not work for me):\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;15.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\nand used it this way:\r\n\r\n    public boolean add(@NotNull T entry){ ...\r\n\r\nWhen I build the project from IDEA, everything is fine, but it does not work when compiling the code with maven command.\r\nIn decompiled class file I noticed that IDEA compiles my classes in different way. It adds this check:\r\n\r\n    if (entry == null) {\r\n        $$$reportNull$$$0(0);\r\n    }\r\nAnd maven does not.\r\n\r\nI&#39;m I doing something wrong? Please, tell me how it should be used (no matter jetbrains or javax validation).","title":"JetBrains&#39; @NotNull works only when project built from IDEA","body":"<p>I wrote a simple project to learn how to work with annotation validation.\nFor that puspose I added maven dependency (also I tried javax.validation, that does not work for me):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;15.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>and used it this way:</p>\n\n<pre><code>public boolean add(@NotNull T entry){ ...\n</code></pre>\n\n<p>When I build the project from IDEA, everything is fine, but it does not work when compiling the code with maven command.\nIn decompiled class file I noticed that IDEA compiles my classes in different way. It adds this check:</p>\n\n<pre><code>if (entry == null) {\n    $$$reportNull$$$0(0);\n}\n</code></pre>\n\n<p>And maven does not.</p>\n\n<p>I'm I doing something wrong? Please, tell me how it should be used (no matter jetbrains or javax validation).</p>\n"},{"tags":["java","android","json","jsonexception"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1670453437,"post_id":74720819,"comment_id":131882399,"body_markdown":"Is the JSON object you show the object that&#39;s used in your code? That&#39;s the object you see when you print it, before going over the `jsonArray` length?","body":"Is the JSON object you show the object that&#39;s used in your code? That&#39;s the object you see when you print it, before going over the <code>jsonArray</code> length?"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670527792,"post_id":74720819,"comment_id":131901339,"body_markdown":"@JornRigter as you can see the above JSON. I also check in Postman,Logcat,Server but i am getting same JSON and it&#39;s not getting the `myRating` node. I am out of idea how i can fix it","body":"@JornRigter as you can see the above JSON. I also check in Postman,Logcat,Server but i am getting same JSON and it&#39;s not getting the <code>myRating</code> node. I am out of idea how i can fix it"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1670528237,"post_id":74720819,"comment_id":131901471,"body_markdown":"Still a bit confused. All of the other variables from the JSON are parsed correctly? I was asking because if that&#39;s the case, then the only option I see of what&#39;s going on is that myRating is indeed missing from your JSON - that&#39;s why I asked if this is the JSON string you see when you print it, just before you start parsing the JSON","body":"Still a bit confused. All of the other variables from the JSON are parsed correctly? I was asking because if that&#39;s the case, then the only option I see of what&#39;s going on is that myRating is indeed missing from your JSON - that&#39;s why I asked if this is the JSON string you see when you print it, just before you start parsing the JSON"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670528428,"post_id":74720819,"comment_id":131901523,"body_markdown":"@JornRigter All the other variables are working fine. As you can see the loginstatus variable just above it and it is parsed successfully","body":"@JornRigter All the other variables are working fine. As you can see the loginstatus variable just above it and it is parsed successfully"},{"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"score":0,"creation_date":1670575328,"post_id":74720819,"comment_id":131910374,"body_markdown":"@Ritu I have tested the json String you have provided and this exception occurred only for the `distance_check` property which doesn&#39;t exist on the first object (`org.json.JSONException: No value for distance_check`) but it works for the  `myRating`. For properties which may not exist in the json it is better to use the `optString` with a fallback like `optString(&quot;distance_check&quot;, &quot;0&quot;)`. Try to put a breakpoint below the line of `JSONObject childObject = jsonArray.getJSONObject(i);` and check their values again for each `JSONObject`.","body":"@Ritu I have tested the json String you have provided and this exception occurred only for the <code>distance_check</code> property which doesn&#39;t exist on the first object (<code>org.json.JSONException: No value for distance_check</code>) but it works for the  <code>myRating</code>. For properties which may not exist in the json it is better to use the <code>optString</code> with a fallback like <code>optString(&quot;distance_check&quot;, &quot;0&quot;)</code>. Try to put a breakpoint below the line of <code>JSONObject childObject = jsonArray.getJSONObject(i);</code> and check their values again for each <code>JSONObject</code>."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1670627819,"post_id":74720819,"comment_id":131924878,"body_markdown":"@MariosP Thanks for the comment.  This is must value for app to run, so `optString` not an option. As you getting error on `distance_check ` and it&#39;s still exist on same node as `myRating` . Do you have any idea what i am doing wrong here?","body":"@MariosP Thanks for the comment.  This is must value for app to run, so <code>optString</code> not an option. As you getting error on <code>distance_check </code> and it&#39;s still exist on same node as <code>myRating</code> . Do you have any idea what i am doing wrong here?"},{"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"score":0,"creation_date":1670830001,"post_id":74720819,"comment_id":131955402,"body_markdown":"@Ritu The `distance_check` doesn&#39;t exist on your first object and thats why it throws this exception but the `myRating` exists on both nodes and it works on my side. If you have verified that the json String has the `myRating` property in both nodes before starting to parse it then it would be helpful to upload a minimal  reproducible project sample with the error on Github so i can replicate it on my side.","body":"@Ritu The <code>distance_check</code> doesn&#39;t exist on your first object and thats why it throws this exception but the <code>myRating</code> exists on both nodes and it works on my side. If you have verified that the json String has the <code>myRating</code> property in both nodes before starting to parse it then it would be helpful to upload a minimal  reproducible project sample with the error on Github so i can replicate it on my side."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":1,"creation_date":1671750406,"post_id":74720819,"comment_id":132170534,"body_markdown":"@MariosP I will put the code on Github and share a link with you soon","body":"@MariosP I will put the code on Github and share a link with you soon"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670434832,"creation_date":1670434832,"question_id":74720819,"body_markdown":"My app was working fine but suddenly it start giving me erros `JSONException: No value for myRating`. I know it&#39;s means the value doesn&#39;t exist on JSON but i cross check dozens times that myRating exist in JSON i received and i am also able to get other values from same node. \r\n\r\nHere is my JSON\r\n\r\n    {\r\n        &quot;status&quot;: &quot;SUCCESS&quot;,\r\n        &quot;uData&quot;: [\r\n            {\r\n                &quot;User_ID&quot;: &quot;210&quot;,\r\n                &quot;First_Name&quot;: &quot;Alex &quot;,\r\n                &quot;Image&quot;: &quot;947d051925ba2014f231f17ffc04db6616645163211632870246.jpg&quot;,\r\n                &quot;coverPhoto&quot;: &quot;1ce295d101204be40363f1e11301ed97d41d8cd98f00b204e9800998ecf8427e16645163211188778355.jpg&quot;,\r\n                &quot;Gender&quot;: &quot;Male&quot;,\r\n                &quot;login_status&quot;: &quot;0&quot;,\r\n                &quot;myRating&quot;: &quot;5.00&quot;,\r\n                &quot;coverImageID&quot;: &quot;354&quot;,\r\n                &quot;ProfileImageID&quot;: &quot;343&quot;,\r\n                &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\r\n                &quot;verify&quot;: &quot;1&quot;\r\n            },\r\n            {\r\n                &quot;User_ID&quot;: &quot;4&quot;,\r\n                &quot;First_Name&quot;: &quot;John&quot;,\r\n                &quot;Image&quot;: &quot;cf867d87b655591cbda928287da1ca3616520548151008802.jpg&quot;,\r\n                &quot;coverPhoto&quot;: &quot;0323e6cfa77488abce52aa273e2f5f8e16523048561229563452.jpg&quot;,\r\n                &quot;Gender&quot;: &quot;Female&quot;,\r\n                &quot;login_status&quot;: &quot;0&quot;,\r\n                &quot;myRating&quot;: &quot;5.00&quot;,\r\n                &quot;distance_check&quot;: &quot;1&quot;,\r\n                &quot;coverImageID&quot;: &quot;173&quot;,\r\n                &quot;ProfileImageID&quot;: &quot;174&quot;,\r\n                &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\r\n                &quot;verify&quot;: &quot;2&quot;\r\n            }\r\n        ],\r\n        &quot;record&quot;: 3,\r\n        &quot;uCounter&quot;: &quot;50&quot;\r\n    }\r\n\r\n\r\nThat&#39;s how i am parsing JSON into my app\r\n\r\n    JSONObject parentArray = new JSONObject(completeJSON);\r\n    Log.d(TAG, &quot;Parent Array &quot; + parentArray);\r\n    JSONArray jsonArray = parentArray.getJSONArray(&quot;uData&quot;);\r\n    String profileCounter = parentArray.getString(&quot;uCounter&quot;);\r\n    Log.d(TAG, &quot;JSON Array Of UDATA &quot; + jsonArray); // User Data Where I have myRating node\r\n    \r\n    \r\n    String ImageURL, UserID, Distance, CoverPhoto, myRatings = null;\r\n    int Rec_Online_Status;\r\n    int distance_check, onlineStatus, verifyProfile;\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \r\n    \tJSONObject childObject = jsonArray.getJSONObject(i);\r\n    \tString Fname = childObject.getString(&quot;First_Name&quot;);\r\n    \r\n    \tImageURL = childObject.getString(&quot;Image&quot;);\r\n    \tCoverPhoto = childObject.getString(&quot;coverPhoto&quot;);\r\n    \r\n    \tUserID = childObject.getString(&quot;User_ID&quot;);\r\n    \r\n    \r\n    \tString gender = childObject.getString(&quot;Gender&quot;);\r\n    \tRec_Online_Status = childObject.getInt(&quot;login_status&quot;);\r\n    \r\n    \tdistance_check = Integer.parseInt(childObject.getString(&quot;distance_check&quot;));\r\n    \tonlineStatus = Integer.parseInt(childObject.getString(&quot;show_onlineStatus_check&quot;));\r\n    \tverifyProfile = Integer.parseInt(childObject.getString(&quot;verify&quot;));\r\n    \tboolean testValue = childObject.has(&quot;myRating&quot;);\r\n    \tLog.d(TAG, &quot;doInBackground: Test Log = &quot;+testValue);// This also return False\r\n    \tmyRatings = childObject.getString(&quot;myRating&quot;);// JSONException: No value for myRating\r\n    \t\r\n    \r\n    \tint profileID = Integer.parseInt(childObject.getString(&quot;ProfileImageID&quot;));\r\n    \tint coverID = Integer.parseInt(childObject.getString(&quot;coverImageID&quot;));\r\n    }\r\n\r\nI am really not sure what i am doing wrong and when value exist in same node it should get fetched but as you can see i am  getting exception. Can anyone help me out in this. The is required to run app so i am not using `has` or `optString`. ","title":"JSONException: No value for myRating even when value exist on same node","body":"<p>My app was working fine but suddenly it start giving me erros <code>JSONException: No value for myRating</code>. I know it's means the value doesn't exist on JSON but i cross check dozens times that myRating exist in JSON i received and i am also able to get other values from same node.</p>\n<p>Here is my JSON</p>\n<pre><code>{\n    &quot;status&quot;: &quot;SUCCESS&quot;,\n    &quot;uData&quot;: [\n        {\n            &quot;User_ID&quot;: &quot;210&quot;,\n            &quot;First_Name&quot;: &quot;Alex &quot;,\n            &quot;Image&quot;: &quot;947d051925ba2014f231f17ffc04db6616645163211632870246.jpg&quot;,\n            &quot;coverPhoto&quot;: &quot;1ce295d101204be40363f1e11301ed97d41d8cd98f00b204e9800998ecf8427e16645163211188778355.jpg&quot;,\n            &quot;Gender&quot;: &quot;Male&quot;,\n            &quot;login_status&quot;: &quot;0&quot;,\n            &quot;myRating&quot;: &quot;5.00&quot;,\n            &quot;coverImageID&quot;: &quot;354&quot;,\n            &quot;ProfileImageID&quot;: &quot;343&quot;,\n            &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\n            &quot;verify&quot;: &quot;1&quot;\n        },\n        {\n            &quot;User_ID&quot;: &quot;4&quot;,\n            &quot;First_Name&quot;: &quot;John&quot;,\n            &quot;Image&quot;: &quot;cf867d87b655591cbda928287da1ca3616520548151008802.jpg&quot;,\n            &quot;coverPhoto&quot;: &quot;0323e6cfa77488abce52aa273e2f5f8e16523048561229563452.jpg&quot;,\n            &quot;Gender&quot;: &quot;Female&quot;,\n            &quot;login_status&quot;: &quot;0&quot;,\n            &quot;myRating&quot;: &quot;5.00&quot;,\n            &quot;distance_check&quot;: &quot;1&quot;,\n            &quot;coverImageID&quot;: &quot;173&quot;,\n            &quot;ProfileImageID&quot;: &quot;174&quot;,\n            &quot;show_onlineStatus_check&quot;: &quot;1&quot;,\n            &quot;verify&quot;: &quot;2&quot;\n        }\n    ],\n    &quot;record&quot;: 3,\n    &quot;uCounter&quot;: &quot;50&quot;\n}\n</code></pre>\n<p>That's how i am parsing JSON into my app</p>\n<pre><code>JSONObject parentArray = new JSONObject(completeJSON);\nLog.d(TAG, &quot;Parent Array &quot; + parentArray);\nJSONArray jsonArray = parentArray.getJSONArray(&quot;uData&quot;);\nString profileCounter = parentArray.getString(&quot;uCounter&quot;);\nLog.d(TAG, &quot;JSON Array Of UDATA &quot; + jsonArray); // User Data Where I have myRating node\n\n\nString ImageURL, UserID, Distance, CoverPhoto, myRatings = null;\nint Rec_Online_Status;\nint distance_check, onlineStatus, verifyProfile;\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n\n    JSONObject childObject = jsonArray.getJSONObject(i);\n    String Fname = childObject.getString(&quot;First_Name&quot;);\n\n    ImageURL = childObject.getString(&quot;Image&quot;);\n    CoverPhoto = childObject.getString(&quot;coverPhoto&quot;);\n\n    UserID = childObject.getString(&quot;User_ID&quot;);\n\n\n    String gender = childObject.getString(&quot;Gender&quot;);\n    Rec_Online_Status = childObject.getInt(&quot;login_status&quot;);\n\n    distance_check = Integer.parseInt(childObject.getString(&quot;distance_check&quot;));\n    onlineStatus = Integer.parseInt(childObject.getString(&quot;show_onlineStatus_check&quot;));\n    verifyProfile = Integer.parseInt(childObject.getString(&quot;verify&quot;));\n    boolean testValue = childObject.has(&quot;myRating&quot;);\n    Log.d(TAG, &quot;doInBackground: Test Log = &quot;+testValue);// This also return False\n    myRatings = childObject.getString(&quot;myRating&quot;);// JSONException: No value for myRating\n    \n\n    int profileID = Integer.parseInt(childObject.getString(&quot;ProfileImageID&quot;));\n    int coverID = Integer.parseInt(childObject.getString(&quot;coverImageID&quot;));\n}\n</code></pre>\n<p>I am really not sure what i am doing wrong and when value exist in same node it should get fetched but as you can see i am  getting exception. Can anyone help me out in this. The is required to run app so i am not using <code>has</code> or <code>optString</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1670434088,"post_id":74720613,"comment_id":131877372,"body_markdown":"You&#39;re trying to assign a boolean, and `(()-&gt;{})` is not a boolean. Unless you can show more code, there probably isn&#39;t any good reason to do this, just declare a normal method, and call that with the inputs it needs, to yield the boolean it should produce.","body":"You&#39;re trying to assign a boolean, and <code>(()-&gt;{})</code> is not a boolean. Unless you can show more code, there probably isn&#39;t any good reason to do this, just declare a normal method, and call that with the inputs it needs, to yield the boolean it should produce."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670436048,"post_id":74720613,"comment_id":131878040,"body_markdown":"There is no good reason to use a function here.  Write normal code in an if block.","body":"There is no good reason to use a function here.  Write normal code in an if block."}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670434563,"creation_date":1670434563,"answer_id":74720754,"question_id":74720613,"body_markdown":"There are actually 2 problems in your code.\r\n\r\n 1. You are defining lambda function, but not calling it. Expected expression type is boolean, but you have some (also not properly defined) functional interface in true part of your ternary operator. Correct version might look like this (note extra braces after lambda expression):\r\n```\r\n    boolean m = kara.treeFront() ? (()-&gt; {\r\n            //content of function\r\n            return true;\r\n            })() : false;\r\n```\r\n 2. Java is strictly typed language and so are lambda expressions. They must be (implicitly or explicitly) of some functional interface type. Normally compiler can extract type information from context, but in this case it is `boolean` type expected, not an interface. I&#39;m not sure how smart compiler is on guessing lambda interface, but here it will likely fail. So, you&#39;ll probably need your lambda interface to be explicitly declared (`Supplier&lt;Boolean&gt;`, for example).","title":"Conditional operator (ternary operator) with anonymous function","body":"<p>There are actually 2 problems in your code.</p>\n<ol>\n<li>You are defining lambda function, but not calling it. Expected expression type is boolean, but you have some (also not properly defined) functional interface in true part of your ternary operator. Correct version might look like this (note extra braces after lambda expression):</li>\n</ol>\n<pre><code>    boolean m = kara.treeFront() ? (()-&gt; {\n            //content of function\n            return true;\n            })() : false;\n</code></pre>\n<ol start=\"2\">\n<li>Java is strictly typed language and so are lambda expressions. They must be (implicitly or explicitly) of some functional interface type. Normally compiler can extract type information from context, but in this case it is <code>boolean</code> type expected, not an interface. I'm not sure how smart compiler is on guessing lambda interface, but here it will likely fail. So, you'll probably need your lambda interface to be explicitly declared (<code>Supplier&lt;Boolean&gt;</code>, for example).</li>\n</ol>\n"}],"owner":{"account_id":26440042,"reputation":1,"user_id":20084724,"display_name":"Parcival"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670434563,"creation_date":1670433933,"question_id":74720613,"body_markdown":"I want to do some stuff in a anonymous function nested in a conditional operator:\r\n\r\n\r\n```\r\nimport javakara.JavaKaraProgram;\r\n\r\npublic class A4C extends JavaKaraProgram {\r\n  public void myProgram() {\r\n    while (!kara.onLeaf()) {\r\n        boolean m = kara.treeFront() ? (()-&gt;{\r\n            //content of function\r\n            }):false;\r\n    }\r\n  }\r\n} \r\n```\r\n\r\nkara.treeFront() returns a boolean\r\nI figured i have to make the conditional operator result in a variable. \r\n\r\n\r\nMy current error message is:\r\n\r\n```\r\n   path/a4c.java:6: error: incompatible types: bad type in conditional expression\r\n        boolean m = kara.treeFront() ? (()-&gt;{\r\n                                        ^\r\n        boolean is not a functional interface \r\n```\r\n\r\nWhat am i doing wrong?\r\n","title":"Conditional operator (ternary operator) with anonymous function","body":"<p>I want to do some stuff in a anonymous function nested in a conditional operator:</p>\n<pre><code>import javakara.JavaKaraProgram;\n\npublic class A4C extends JavaKaraProgram {\n  public void myProgram() {\n    while (!kara.onLeaf()) {\n        boolean m = kara.treeFront() ? (()-&gt;{\n            //content of function\n            }):false;\n    }\n  }\n} \n</code></pre>\n<p>kara.treeFront() returns a boolean\nI figured i have to make the conditional operator result in a variable.</p>\n<p>My current error message is:</p>\n<pre><code>   path/a4c.java:6: error: incompatible types: bad type in conditional expression\n        boolean m = kara.treeFront() ? (()-&gt;{\n                                        ^\n        boolean is not a functional interface \n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","jpa","criteria-api"],"answers":[{"comments":[{"owner":{"account_id":1764211,"reputation":137,"user_id":1610465,"accept_rate":38,"display_name":"msfk"},"score":10,"creation_date":1527931507,"post_id":35450467,"comment_id":88320900,"body_markdown":"why is it necessary to join B when the info is present in A itself?","body":"why is it necessary to join B when the info is present in A itself?"},{"owner":{"account_id":4482164,"reputation":6674,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":2,"creation_date":1592975064,"post_id":35450467,"comment_id":110613374,"body_markdown":"Well this is not selecting &quot;just the fk&quot; but it is doing a join... Agreed with @msfk why is the join needed? How should one just grab the fk field and use that in the criteria?","body":"Well this is not selecting &quot;just the fk&quot; but it is doing a join... Agreed with @msfk why is the join needed? How should one just grab the fk field and use that in the criteria?"},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":0,"creation_date":1633967835,"post_id":35450467,"comment_id":122895153,"body_markdown":"How to use in clause on column B without join . i.e just passing ids in &quot;in&quot; clause in criteria api","body":"How to use in clause on column B without join . i.e just passing ids in &quot;in&quot; clause in criteria api"},{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":1,"creation_date":1645709651,"post_id":35450467,"comment_id":125947299,"body_markdown":"A join of `B` is **not** necessary if you want to filter only by the foreign key. You can do `criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&quot;id&quot;), &lt;idOfB&gt;)`.","body":"A join of <code>B</code> is <b>not</b> necessary if you want to filter only by the foreign key. You can do <code>criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&zwnj;&#8203;&quot;id&quot;), &lt;idOfB&gt;)</code>."},{"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"score":0,"creation_date":1668265619,"post_id":35450467,"comment_id":131365798,"body_markdown":"See the answer of David Windrem for a solution that does not use a table join","body":"See the answer of David Windrem for a solution that does not use a table join"}],"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"comment_count":5,"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1455694455,"creation_date":1455694455,"answer_id":35450467,"question_id":35450072,"body_markdown":"You need to join to `B` and then fetch the `id`:\r\n\r\n    Path&lt;Integer&gt; bId = root.join(&quot;b&quot;).get(&quot;id&quot;);\r\n\r\n","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You need to join to <code>B</code> and then fetch the <code>id</code>:</p>\n\n<pre><code>Path&lt;Integer&gt; bId = root.join(\"b\").get(\"id\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"score":0,"creation_date":1668265554,"post_id":55015090,"comment_id":131365785,"body_markdown":"@AnmolGupta could you please update the accepted answer. This solution prevents a table join, which should make the query way faster","body":"@AnmolGupta could you please update the accepted answer. This solution prevents a table join, which should make the query way faster"}],"tags":[],"owner":{"account_id":13409261,"reputation":61,"user_id":9676336,"display_name":"David Windrem"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1551843091,"creation_date":1551843091,"answer_id":55015090,"question_id":35450072,"body_markdown":"You can declare the foreign key in class A where &quot;B_ID&quot; is the name of the foreign key column in table A.  And then you can root.get(&quot;bId&quot;) in your criteriabuilder example above.\r\nI have the same problem as you and this is working for me.\r\n \r\n\r\n    @Column(name=&quot;B_ID&quot;, insertable=false, updatable=false)\r\n    private int bId;\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;B_ID&quot;)\r\n    private B b;","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You can declare the foreign key in class A where \"B_ID\" is the name of the foreign key column in table A.  And then you can root.get(\"bId\") in your criteriabuilder example above.\nI have the same problem as you and this is working for me.</p>\n\n<pre><code>@Column(name=\"B_ID\", insertable=false, updatable=false)\nprivate int bId;\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = \"B_ID\")\nprivate B b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23293206,"reputation":11,"user_id":17374958,"display_name":"Victor Moares"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636531019,"creation_date":1636531019,"answer_id":69909580,"question_id":35450072,"body_markdown":"You don&#39;t necessarily need to join if you&#39;re evaluating the FK primary key in the query, that is present in the A entity.\r\n\r\n    root.get(&quot;b&quot;)\r\n\r\nThis code will retrieve the FK by its primary key.\r\nFor example you can do:\r\n\r\n    root.get(&quot;b&quot;).in(List.of(1,2,3,4));\r\n\r\nAnd you have a valid predicate that is comparing the FK value with this list.","title":"How to select just the foreign key value using Criteria Query?","body":"<p>You don't necessarily need to join if you're evaluating the FK primary key in the query, that is present in the A entity.</p>\n<pre><code>root.get(&quot;b&quot;)\n</code></pre>\n<p>This code will retrieve the FK by its primary key.\nFor example you can do:</p>\n<pre><code>root.get(&quot;b&quot;).in(List.of(1,2,3,4));\n</code></pre>\n<p>And you have a valid predicate that is comparing the FK value with this list.</p>\n"},{"tags":[],"owner":{"account_id":11727495,"reputation":168,"user_id":8954702,"display_name":"Rodrigo Novaes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670434172,"creation_date":1670434172,"answer_id":74720668,"question_id":35450072,"body_markdown":"As correctly pointed out by @T3rm1 above:\r\n\r\n&gt; A join of B is not necessary if you want to filter only by the foreign key. You can do `criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&quot;id&quot;), &lt;idOfB&gt;)`.\r\n\r\nBasically, the `root.get` will get an expression to the mapped object in the model. You can therefore do a nested `get` on the foreign key. In summary:\r\n\r\n```\r\nroot.get(&quot;b&quot;).get(&quot;id&quot;);\r\n```","title":"How to select just the foreign key value using Criteria Query?","body":"<p>As correctly pointed out by @T3rm1 above:</p>\n<blockquote>\n<p>A join of B is not necessary if you want to filter only by the foreign key. You can do <code>criteriaQuery.where(criteriaBuilder.equal(root.get(&quot;b&quot;).get(&quot;id&quot;), &lt;idOfB&gt;)</code>.</p>\n</blockquote>\n<p>Basically, the <code>root.get</code> will get an expression to the mapped object in the model. You can therefore do a nested <code>get</code> on the foreign key. In summary:</p>\n<pre><code>root.get(&quot;b&quot;).get(&quot;id&quot;);\n</code></pre>\n"}],"owner":{"account_id":5529491,"reputation":2847,"user_id":4389984,"accept_rate":34,"display_name":"Anmol Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11267,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35450467,"answer_count":4,"score":8,"last_activity_date":1670434172,"creation_date":1455692933,"question_id":35450072,"body_markdown":"Suppose I have two entities as:\r\n\r\n    @Entity\r\n    public class A {\r\n\r\n        @Id\r\n        private int id;\r\n        \r\n        @ManyToOne\r\n        private B b; \r\n \r\n        //more attributes\r\n    }\r\n    \r\n    @Entity\r\n    public class B {\r\n      \r\n        @Id\r\n        private int id;\r\n    }\r\n\r\nSo, the table for A is having a column as `b_id` as the foreign key. \r\n\r\nNow, I want to select just the `b_id` based on some criteria on other fields. How can I do this using criteria query?\r\n\r\nI tried doing following which throws IllegalArgumentException saying `&quot;Unable to locate Attribute with the given name [b_id] on this ManagedType [A]&quot;`\r\n\r\n\t\tCriteriaQuery&lt;Integer&gt; criteriaQuery = criteriaBuilder.createQuery(Integer.class);\r\n\t\tRoot&lt;A&gt; root = criteriaQuery.from(A.class);\r\n\t\tPath&lt;Integer&gt; bId = root.get(&quot;b_id&quot;);\r\n        //building the criteria\r\n\t\tcriteriaQuery.select(bId);\r\n\r\n\r\n","title":"How to select just the foreign key value using Criteria Query?","body":"<p>Suppose I have two entities as:</p>\n\n<pre><code>@Entity\npublic class A {\n\n    @Id\n    private int id;\n\n    @ManyToOne\n    private B b; \n\n    //more attributes\n}\n\n@Entity\npublic class B {\n\n    @Id\n    private int id;\n}\n</code></pre>\n\n<p>So, the table for A is having a column as <code>b_id</code> as the foreign key. </p>\n\n<p>Now, I want to select just the <code>b_id</code> based on some criteria on other fields. How can I do this using criteria query?</p>\n\n<p>I tried doing following which throws IllegalArgumentException saying <code>\"Unable to locate Attribute with the given name [b_id] on this ManagedType [A]\"</code></p>\n\n<pre><code>    CriteriaQuery&lt;Integer&gt; criteriaQuery = criteriaBuilder.createQuery(Integer.class);\n    Root&lt;A&gt; root = criteriaQuery.from(A.class);\n    Path&lt;Integer&gt; bId = root.get(\"b_id\");\n    //building the criteria\n    criteriaQuery.select(bId);\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","multi-factor-authentication"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670439010,"post_id":74720605,"comment_id":131878883,"body_markdown":"This might seem pure trolling, but I really wonder why so many people want to reinvent the weel. Why exactly do you want to implement, test and maintain such security-sensitive features that are already provided by many OIDC providers (Keycloak, Auth0, Okta, Amazon Cognito, etc.)?","body":"This might seem pure trolling, but I really wonder why so many people want to reinvent the weel. Why exactly do you want to implement, test and maintain such security-sensitive features that are already provided by many OIDC providers (Keycloak, Auth0, Okta, Amazon Cognito, etc.)?"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1670467614,"post_id":74720605,"comment_id":131884524,"body_markdown":"@ch4mp multi-factor authentication with oauth2 wasn&#39;t provided by spring","body":"@ch4mp multi-factor authentication with oauth2 wasn&#39;t provided by spring"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670468735,"post_id":74720605,"comment_id":131884652,"body_markdown":"No, but it is by all the OIDC authorization-servers I listed","body":"No, but it is by all the OIDC authorization-servers I listed"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1670470013,"post_id":74720605,"comment_id":131884796,"body_markdown":"In addition to user registration, user management screens (including roles assignment), social login, connection to LDAP, etc.","body":"In addition to user registration, user management screens (including roles assignment), social login, connection to LDAP, etc."},{"owner":{"account_id":7169952,"reputation":156,"user_id":5477773,"display_name":"Yosmel L&#243;pez Pimentel"},"score":0,"creation_date":1675441852,"post_id":74720605,"comment_id":132936603,"body_markdown":"The new Spring Authorization Server, not offer the posibility to create a custom grant type, but you can do it by creating your own flow and overriding the main authorization flow. I&#180;ve been preparing an example to show how can we do it.","body":"The new Spring Authorization Server, not offer the posibility to create a custom grant type, but you can do it by creating your own flow and overriding the main authorization flow. I&#180;ve been preparing an example to show how can we do it."}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670433915,"creation_date":1670433915,"question_id":74720605,"body_markdown":"I&#39;m trying to implement multi-factor authentication (mfa) with spring oauth2. I have my own authorization server and I&#39;m trying to follow this guide https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2. I made two custom granter **CustomePasswordTokenGranter** and **MFATokenGranter**. **CustomePasswordTokenGranter** will return access_token with authority pre_auth to be used with **MFATokenGranter** later.\r\n\r\n    CustomPasswordTokenGranter -&gt; username, password -&gt; Oauth2AccessToken(authorities = [PRE_AUTH])\r\n    MFATokenGranter -&gt; access_token -&gt; do I need to check wheter it contains PRE_AUTH or not?\r\n\r\n\r\n    public class MfaTokenGranter extends AbstractTokenGranter {\r\n        @Override\r\n        protected OAuth2Authentication getOAuth2Authentication(ClientDetails client, TokenRequest tokenRequest) {\r\n            // do I need this line of code?\r\n            if(!client.getAuthorities().contains(PRE_AUTH)) {\r\n               throw new InvalidAuthorityException();\r\n            }\r\n        }\r\n    }\r\n\r\nbtw I&#39;m not sure if I have to check authority of a client that trying to access this granter. I want the token that was generated from **CustomePasswordTokenGranter** to be used with **MfaTokenGranter** only. Does spring automatically check that for me or I have to do it my own or it doesn&#39;t matter if I check it or not?\r\n\r\n","title":"Implement multi-factor authentication using Spring Oauth2 with custom grant type","body":"<p>I'm trying to implement multi-factor authentication (mfa) with spring oauth2. I have my own authorization server and I'm trying to follow this guide <a href=\"https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2\" rel=\"nofollow noreferrer\">https://sultanov.dev/blog/multi-factor-authentication-with-spring-boot-and-oauth2</a>. I made two custom granter <strong>CustomePasswordTokenGranter</strong> and <strong>MFATokenGranter</strong>. <strong>CustomePasswordTokenGranter</strong> will return access_token with authority pre_auth to be used with <strong>MFATokenGranter</strong> later.</p>\n<pre><code>CustomPasswordTokenGranter -&gt; username, password -&gt; Oauth2AccessToken(authorities = [PRE_AUTH])\nMFATokenGranter -&gt; access_token -&gt; do I need to check wheter it contains PRE_AUTH or not?\n\n\npublic class MfaTokenGranter extends AbstractTokenGranter {\n    @Override\n    protected OAuth2Authentication getOAuth2Authentication(ClientDetails client, TokenRequest tokenRequest) {\n        // do I need this line of code?\n        if(!client.getAuthorities().contains(PRE_AUTH)) {\n           throw new InvalidAuthorityException();\n        }\n    }\n}\n</code></pre>\n<p>btw I'm not sure if I have to check authority of a client that trying to access this granter. I want the token that was generated from <strong>CustomePasswordTokenGranter</strong> to be used with <strong>MfaTokenGranter</strong> only. Does spring automatically check that for me or I have to do it my own or it doesn't matter if I check it or not?</p>\n"},{"tags":["java","junit","mocking","mockito","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":20267584,"reputation":41,"user_id":14864415,"display_name":"Warferton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670433467,"creation_date":1670433467,"answer_id":74720533,"question_id":74719566,"body_markdown":"Based on the screenshot you provided I can see that the BufferedReader is instantiated inside the View class as a final field, hence the View object will use that instance of BufferedReader, instead of your mock.\r\n\r\nI would assume that you are not using any kind of dependency injection mechanism for this.\r\n\r\nMake the BufferedReader field a constructor parameter and pass the mock inside when creating a View object inside your testcase.\r\n\r\n```java\r\n@Test\r\nvoid whenCommandIsR_CallBuildRectangle() throws IOException {\r\n    BufferedReader bufferedReader = mock(BufferedReader.class);\r\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\r\n    View view = new View(bufferedReader);\r\n\r\n    view.inputCommand();\r\n    verify(bufferedReader, times(2)).readLine();\r\n }\r\n```\r\n","title":"Mock bufferedReader.readline() stubbing not working","body":"<p>Based on the screenshot you provided I can see that the BufferedReader is instantiated inside the View class as a final field, hence the View object will use that instance of BufferedReader, instead of your mock.</p>\n<p>I would assume that you are not using any kind of dependency injection mechanism for this.</p>\n<p>Make the BufferedReader field a constructor parameter and pass the mock inside when creating a View object inside your testcase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid whenCommandIsR_CallBuildRectangle() throws IOException {\n    BufferedReader bufferedReader = mock(BufferedReader.class);\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\n    View view = new View(bufferedReader);\n\n    view.inputCommand();\n    verify(bufferedReader, times(2)).readLine();\n }\n</code></pre>\n"}],"owner":{"account_id":27179566,"reputation":3,"user_id":20715023,"display_name":"Winwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670574792,"accepted_answer_id":74720533,"answer_count":1,"score":0,"last_activity_date":1670433467,"creation_date":1670429018,"question_id":74719566,"body_markdown":"My project requires user to input a command line in the console. I used bufferedreader.readline() to capture user input. My bufferedreader is in a while loop so it will keep reading new command and process it.\r\n\r\nClass View\r\n[bufferedreader will keep reading line if input is not &quot;Q&quot;](https://i.stack.imgur.com/4Hmer.png)\r\n\r\n\r\nFor my test, I created a mock bufferedreader in order to stub bufferedreader.readline to return a command.\r\n\r\n\r\n\r\n    `@Test\r\n        void whenCommandIsR_CallBuildRectangle() throws IOException {\r\n        View view = new View();\r\n        BufferedReader bufferedReader = mock(BufferedReader.class);\r\n\r\n        when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\r\n\r\n        view.inputCommand();\r\n        verify(bufferedReader, times(2)).readLine();\r\n     }`\r\n\r\n\r\nWhen I run the test, the console is stuck at bufferedreader.readline(), the console shows\r\n[waiting for input](https://i.stack.imgur.com/47iP8.png)\r\n\r\nI expect the stubbing to work but it did not. Are there any ways to force the return for bufferedreader.readline?\r\n\r\nPlease assist. Thank you!","title":"Mock bufferedReader.readline() stubbing not working","body":"<p>My project requires user to input a command line in the console. I used bufferedreader.readline() to capture user input. My bufferedreader is in a while loop so it will keep reading new command and process it.</p>\n<p>Class View\n<a href=\"https://i.stack.imgur.com/4Hmer.png\" rel=\"nofollow noreferrer\">bufferedreader will keep reading line if input is not &quot;Q&quot;</a></p>\n<p>For my test, I created a mock bufferedreader in order to stub bufferedreader.readline to return a command.</p>\n<pre><code>`@Test\n    void whenCommandIsR_CallBuildRectangle() throws IOException {\n    View view = new View();\n    BufferedReader bufferedReader = mock(BufferedReader.class);\n\n    when(bufferedReader.readLine()).thenReturn(&quot;C 10 10&quot;).thenReturn(&quot;Q&quot;);\n\n    view.inputCommand();\n    verify(bufferedReader, times(2)).readLine();\n }`\n</code></pre>\n<p>When I run the test, the console is stuck at bufferedreader.readline(), the console shows\n<a href=\"https://i.stack.imgur.com/47iP8.png\" rel=\"nofollow noreferrer\">waiting for input</a></p>\n<p>I expect the stubbing to work but it did not. Are there any ways to force the return for bufferedreader.readline?</p>\n<p>Please assist. Thank you!</p>\n"},{"tags":["java","spring-boot","maven","junit","pojo"],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670434550,"post_id":74720509,"comment_id":131877531,"body_markdown":"Yes but imagine: you have a 3rd party xml/schema, of which you(r services/classes) use/need only few portions... Quality manager says: Increase coverage! ..then??","body":"Yes but imagine: you have a 3rd party xml/schema, of which you(r services/classes) use/need only few portions... Quality manager says: Increase coverage! ..then??"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1670434870,"post_id":74720509,"comment_id":131877634,"body_markdown":"I think we should never write test cases to increase code coverage or make managers happy :)  If code coverage is not increasing by other genuine unit test cases or integration test cases (ideally it should) then better to exclude classes from the code quality tools like SonarQube.","body":"I think we should never write test cases to increase code coverage or make managers happy :)  If code coverage is not increasing by other genuine unit test cases or integration test cases (ideally it should) then better to exclude classes from the code quality tools like SonarQube."}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670433309,"creation_date":1670433309,"answer_id":74720509,"question_id":74720424,"body_markdown":"**This is bad programming practice.** *We should never write unit test cases for POJO, Entity &amp; Exception classes.* These classes should be covered by Integration Test cases or other Unit Test cases like Service Classes, Controllers etc.","title":"How to write Junit test cases for pojo classes if there is no implementation class?","body":"<p><strong>This is bad programming practice.</strong> <em>We should never write unit test cases for POJO, Entity &amp; Exception classes.</em> These classes should be covered by Integration Test cases or other Unit Test cases like Service Classes, Controllers etc.</p>\n"}],"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670433309,"creation_date":1670432867,"question_id":74720424,"body_markdown":"I&#39;m working in a project. In that project we have some pojo classes where we read the data from XML file. Now I have to write Junit test cases for that but there is no implementation of those pojo classes. How can I write the test cases for those pojo classes ?\r\n\r\n\r\n(There are so many classes are there among them I&#39;ll mention one)\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Tostring\r\n@XmlAccessor(XmlAccessType.FIELD)\r\npublic class AdditionalAddress{\r\n    @XmlElement(name =&#39;PersonalInfo&quot;)\r\n    private PersonalInfo personalInfo;\r\n    @XmlElement(name =&#39;AddressType&quot;)\r\n    private String addressType;\r\n}\r\n\r\n\r\n```\r\n\r\nI need to know how to write Junit test cases for these pojo classes?","title":"How to write Junit test cases for pojo classes if there is no implementation class?","body":"<p>I'm working in a project. In that project we have some pojo classes where we read the data from XML file. Now I have to write Junit test cases for that but there is no implementation of those pojo classes. How can I write the test cases for those pojo classes ?</p>\n<p>(There are so many classes are there among them I'll mention one)</p>\n<pre><code>@Getter\n@Setter\n@Tostring\n@XmlAccessor(XmlAccessType.FIELD)\npublic class AdditionalAddress{\n    @XmlElement(name ='PersonalInfo&quot;)\n    private PersonalInfo personalInfo;\n    @XmlElement(name ='AddressType&quot;)\n    private String addressType;\n}\n\n\n</code></pre>\n<p>I need to know how to write Junit test cases for these pojo classes?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1670345717,"post_id":74706269,"comment_id":131853165,"body_markdown":"The second code snippet is probably not the actual &quot;setup&quot; that you &quot;have&quot;: it has basic typos in it (`vaule`), and it&#39;s using `setValue` without any arguments. Where exactly are you checking that the actual runtime type of the `Object`s that you&#39;re getting out of the map actually matches the type of the `bc`-field? What if it attempts to set an integer into a `String`-field, what then?","body":"The second code snippet is probably not the actual &quot;setup&quot; that you &quot;have&quot;: it has basic typos in it (<code>vaule</code>), and it&#39;s using <code>setValue</code> without any arguments. Where exactly are you checking that the actual runtime type of the <code>Object</code>s that you&#39;re getting out of the map actually matches the type of the <code>bc</code>-field? What if it attempts to set an integer into a <code>String</code>-field, what then?"},{"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"score":0,"creation_date":1670345910,"post_id":74706269,"comment_id":131853227,"body_markdown":"Thanks for your comment! That&#39;s right, I want to be able to set that dynamically without explicitly checking, using a generic method or some other way.","body":"Thanks for your comment! That&#39;s right, I want to be able to set that dynamically without explicitly checking, using a generic method or some other way."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670345911,"post_id":74706269,"comment_id":131853228,"body_markdown":"Furthermore, since [generics are erased](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html), this cannot work without casting (and thus foregoing type safety). The bound `&lt;?&gt;` will also make problems since we cannot determine the type of a generic parameter at runtime.","body":"Furthermore, since <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">generics are erased</a>, this cannot work without casting (and thus foregoing type safety). The bound <code>&lt;?&gt;</code> will also make problems since we cannot determine the type of a generic parameter at runtime."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1670346146,"post_id":74706269,"comment_id":131853311,"body_markdown":"_&quot;I want to be able to set that dynamically without explicitly checking&quot;_ - ok, the way you tell it to the compiler is by forcibly casting `bc` into `Initializable&lt;Object&gt;`, and then invoking `bc.setValue(value)`.","body":"<i>&quot;I want to be able to set that dynamically without explicitly checking&quot;</i> - ok, the way you tell it to the compiler is by forcibly casting <code>bc</code> into <code>Initializable&lt;Object&gt;</code>, and then invoking <code>bc.setValue(value)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432754,"creation_date":1670432754,"answer_id":74720393,"question_id":74706269,"body_markdown":"Your objective, I have to presume, is to detect type errors, where the value found in `valueByCode` doesn&#39;t match the generic type of your `Initializable` instance. For example, you want to make sure you don&#39;t pass a `String` to `setValue()` on an object someone references as `Initializable&lt;Integer&gt;`, because that will cause a `ClassCastException` at some distant time and place, at a call site that doesn&#39;t have an explicit cast. That would be a bug in this assignment, not in the caller; the assignment should have failed, not silently ignored the type mismatch.\r\n\r\nIf classes implement `Initializable` as shown in the question, the *type parameter is not erased,* and can be used at runtime to check types. That is, when you define a class like `class StringValue extends BaseClass implements Initializable&lt;String&gt;`, the `String` is compiled into the class, and can be used to enforce type safety at runtime.\r\n\r\nYou could use reflection (via [`ParameterizedType`][1]) to find the generic type parameter of the `Initializable` implementation, but because those implementations could vary a lot, handling all the possibilities would make that code relatively complex.\r\n\r\nInstead, use the raw type (exactly as you said you don&#39;t want to do in the question). If there is a type mismatch, a `ClassCastException` will be raised when you call `setValue()`. This preserves generic type safety so that anyone who calls `getValue()` via a generic method will not encounter a `ClassCastException` even though they aren&#39;t downcasting the result.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html","title":"Java generics - assigning Object to a typed value","body":"<p>Your objective, I have to presume, is to detect type errors, where the value found in <code>valueByCode</code> doesn't match the generic type of your <code>Initializable</code> instance. For example, you want to make sure you don't pass a <code>String</code> to <code>setValue()</code> on an object someone references as <code>Initializable&lt;Integer&gt;</code>, because that will cause a <code>ClassCastException</code> at some distant time and place, at a call site that doesn't have an explicit cast. That would be a bug in this assignment, not in the caller; the assignment should have failed, not silently ignored the type mismatch.</p>\n<p>If classes implement <code>Initializable</code> as shown in the question, the <em>type parameter is not erased,</em> and can be used at runtime to check types. That is, when you define a class like <code>class StringValue extends BaseClass implements Initializable&lt;String&gt;</code>, the <code>String</code> is compiled into the class, and can be used to enforce type safety at runtime.</p>\n<p>You could use reflection (via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/ParameterizedType.html\" rel=\"nofollow noreferrer\"><code>ParameterizedType</code></a>) to find the generic type parameter of the <code>Initializable</code> implementation, but because those implementations could vary a lot, handling all the possibilities would make that code relatively complex.</p>\n<p>Instead, use the raw type (exactly as you said you don't want to do in the question). If there is a type mismatch, a <code>ClassCastException</code> will be raised when you call <code>setValue()</code>. This preserves generic type safety so that anyone who calls <code>getValue()</code> via a generic method will not encounter a <code>ClassCastException</code> even though they aren't downcasting the result.</p>\n"}],"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432754,"creation_date":1670345510,"question_id":74706269,"body_markdown":"I have the below setup.\r\n\r\n```\r\ninterface Initializable&lt;T&gt; {\r\n   T getValue();\r\n   void setValue(T value);\r\n}\r\n\r\nclass BaseClass {\r\n  \r\n  private final String code; // has getter and setter\r\n\r\n  ///\r\n}\r\n\r\nclass StringValue extends BaseClass implements Initializable&lt;String&gt; {\r\n\r\n   private final String value;\r\n\r\n   @Override\r\n   public void setValue(String value) {\r\n      this.value = value;\r\n   }\r\n\r\n   @Override\r\n   public String getValue() {\r\n      return value;\r\n   }\r\n}\r\n\r\nclass IntValue extends BaseClass implements Initializable&lt;Integer&gt; {\r\n   \r\n   private final Integer value;\r\n\r\n   @Override\r\n   public void setValue(Integer value) {\r\n      this.value = value;\r\n   }\r\n\r\n   @Override\r\n   public Integer getValue() {\r\n      return value;\r\n   }\r\n}\r\n\r\nclass NotInitializable extends BaseClass {\r\n\r\n   /////\r\n}\r\n\r\n```\r\n\r\nI have a list of BaseClass instances and I would like to set value field for Initializable instances as below. I would like to be able to do this without the Raw use.   I can&#39;t seem to be able to make that work. Any help is appreciated. TIA\r\n```\r\nList&lt;BaseClass&gt; fields; // populated\r\nMap&lt;String, Object&gt; vauleByCode; // populated\r\n\r\nfor (final BaseClass bc : fields) {\r\n   if (bc instanceof Initializable) {\r\n     \r\n      // I would like to set this value of type Object to the value field in Initializable\r\n      final Object value = valueByCode.get(bc.getCode());\r\n\r\n      // I would not like to use Raw variable here (i. e without the generic ?)\r\n      Initializable&lt;?&gt; init = (Initializable&lt;?&gt;) bc;\r\n      init.setValue(value) // set value here \r\n   }\r\n}\r\n``` ","title":"Java generics - assigning Object to a typed value","body":"<p>I have the below setup.</p>\n<pre><code>interface Initializable&lt;T&gt; {\n   T getValue();\n   void setValue(T value);\n}\n\nclass BaseClass {\n  \n  private final String code; // has getter and setter\n\n  ///\n}\n\nclass StringValue extends BaseClass implements Initializable&lt;String&gt; {\n\n   private final String value;\n\n   @Override\n   public void setValue(String value) {\n      this.value = value;\n   }\n\n   @Override\n   public String getValue() {\n      return value;\n   }\n}\n\nclass IntValue extends BaseClass implements Initializable&lt;Integer&gt; {\n   \n   private final Integer value;\n\n   @Override\n   public void setValue(Integer value) {\n      this.value = value;\n   }\n\n   @Override\n   public Integer getValue() {\n      return value;\n   }\n}\n\nclass NotInitializable extends BaseClass {\n\n   /////\n}\n\n</code></pre>\n<p>I have a list of BaseClass instances and I would like to set value field for Initializable instances as below. I would like to be able to do this without the Raw use.   I can't seem to be able to make that work. Any help is appreciated. TIA</p>\n<pre><code>List&lt;BaseClass&gt; fields; // populated\nMap&lt;String, Object&gt; vauleByCode; // populated\n\nfor (final BaseClass bc : fields) {\n   if (bc instanceof Initializable) {\n     \n      // I would like to set this value of type Object to the value field in Initializable\n      final Object value = valueByCode.get(bc.getCode());\n\n      // I would not like to use Raw variable here (i. e without the generic ?)\n      Initializable&lt;?&gt; init = (Initializable&lt;?&gt;) bc;\n      init.setValue(value) // set value here \n   }\n}\n</code></pre>\n"},{"tags":["java","database","cassandra","out-of-memory","cassandra-4.0"],"answers":[{"tags":[],"owner":{"account_id":15124117,"reputation":416,"user_id":10914049,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432582,"creation_date":1670432582,"answer_id":74720353,"question_id":74701004,"body_markdown":"Without a heap dump it&#39;s hard to say for sure what the issue is, but I&#39;ve personally hit several memory leaks in Cassandra 4, I&#39;d recommend upgrading to the latest 4.0.7 release, it seems to be far more stable and there are multiple leaks fixed between your version and the latest.  The most recently fixed that has helped is: https://issues.apache.org/jira/browse/CASSANDRA-16681\r\n\r\nYou can grab the latest version here:\r\nhttps://cassandra.apache.org/_/download.html","title":"Cassandra -Out of memory: Killed process 20707 (java) total-vm:4393466140kB","body":"<p>Without a heap dump it's hard to say for sure what the issue is, but I've personally hit several memory leaks in Cassandra 4, I'd recommend upgrading to the latest 4.0.7 release, it seems to be far more stable and there are multiple leaks fixed between your version and the latest.  The most recently fixed that has helped is: <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-16681\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/CASSANDRA-16681</a></p>\n<p>You can grab the latest version here:\n<a href=\"https://cassandra.apache.org/_/download.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/_/download.html</a></p>\n"}],"owner":{"account_id":25494055,"reputation":1,"user_id":19288347,"display_name":"Pramod Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432582,"creation_date":1670322900,"question_id":74701004,"body_markdown":"We have Cassandra only in standalone (single Node) database which is serving writing approx 7800 data-points per sec.\r\n\r\nHowever, from from last few days we are facing issue that Cassandra is getting stop frequently.\r\n\r\nEven though we have enough resources available.\r\n\r\nWe have observe the same error coming again and again.\r\n\r\nOur server configuration is 16 core CPU and 62 RAM (However there are other service also running). \r\n\r\n\r\n```\r\nDec  5 16:31:50 localhost kernel: [875863.395340] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/cassandra.service,task=java,pid=20707,uid=114\r\nDec  5 16:31:50 localhost kernel: [875863.395843] Out of memory: Killed process 20707 (java) total-vm:4393466140kB, anon-rss:13708728kB, file-rss:130260kB, shmem-rss:0kB, UID:114 pgtables:311304kB oom_score_adj:0\r\n\r\n```\r\n\r\nAlso node our database is working on default configuration and Cassandra Version is 4.0.3.\r\n\r\nfind attached logs for your reference\r\n\r\n\r\n\r\n#Cassandra#optimization#OOM\r\n\r\nAs per error its seem like that there is memory issue so we have remove all our extra service from that server and put all in another server of 4 core CPU and 16 GB RAM.\r\n\r\nHowever, after removing external services we are still facing same issue.\r\n\r\n\r\n\r\n","title":"Cassandra -Out of memory: Killed process 20707 (java) total-vm:4393466140kB","body":"<p>We have Cassandra only in standalone (single Node) database which is serving writing approx 7800 data-points per sec.</p>\n<p>However, from from last few days we are facing issue that Cassandra is getting stop frequently.</p>\n<p>Even though we have enough resources available.</p>\n<p>We have observe the same error coming again and again.</p>\n<p>Our server configuration is 16 core CPU and 62 RAM (However there are other service also running).</p>\n<pre><code>Dec  5 16:31:50 localhost kernel: [875863.395340] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/cassandra.service,task=java,pid=20707,uid=114\nDec  5 16:31:50 localhost kernel: [875863.395843] Out of memory: Killed process 20707 (java) total-vm:4393466140kB, anon-rss:13708728kB, file-rss:130260kB, shmem-rss:0kB, UID:114 pgtables:311304kB oom_score_adj:0\n\n</code></pre>\n<p>Also node our database is working on default configuration and Cassandra Version is 4.0.3.</p>\n<p>find attached logs for your reference</p>\n<p>#Cassandra#optimization#OOM</p>\n<p>As per error its seem like that there is memory issue so we have remove all our extra service from that server and put all in another server of 4 core CPU and 16 GB RAM.</p>\n<p>However, after removing external services we are still facing same issue.</p>\n"},{"tags":["java","testing","junit","mocking"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432575,"creation_date":1670432575,"answer_id":74720351,"question_id":74719706,"body_markdown":"You can&#39;t.  Use an injectable factory to make the ObjectNeeded2Mock instead of new.","title":"Mock object created in private method java","body":"<p>You can't.  Use an injectable factory to make the ObjectNeeded2Mock instead of new.</p>\n"}],"owner":{"account_id":2019266,"reputation":77,"user_id":2912558,"display_name":"Jacobo Geada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432575,"creation_date":1670429693,"question_id":74719706,"body_markdown":"I have to test a public method that internally calls a private method thats create an object as this.\r\n\r\n```\r\nclass parentClass {\r\n\r\npublic parentClass(){}\r\n\r\npublic String method1(String... arguments){\r\n               ...............\r\n               Obj obj1 = privateMethod(String argument);\r\n               return string;\r\n}\r\n\r\nprivate Obj privateMethod(String argument){\r\n        ObjectNeeded2Mock obj = new ObjectNeeded2Mock();\r\n        ........\r\n        return Obj\r\n\r\n}\r\n```\r\nHow could I mock ObjectNeeded2Mock from test? I&#39;d tried to mock the class and using @InjectMock with parentClass but it was unusefull\r\n","title":"Mock object created in private method java","body":"<p>I have to test a public method that internally calls a private method thats create an object as this.</p>\n<pre><code>class parentClass {\n\npublic parentClass(){}\n\npublic String method1(String... arguments){\n               ...............\n               Obj obj1 = privateMethod(String argument);\n               return string;\n}\n\nprivate Obj privateMethod(String argument){\n        ObjectNeeded2Mock obj = new ObjectNeeded2Mock();\n        ........\n        return Obj\n\n}\n</code></pre>\n<p>How could I mock ObjectNeeded2Mock from test? I'd tried to mock the class and using @InjectMock with parentClass but it was unusefull</p>\n"},{"tags":["java","linux","security","client-certificates"],"comments":[{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1670416105,"post_id":74712459,"comment_id":131870712,"body_markdown":"You can see the alias of every certificate by using the argument `-v` (verbose output): https://docs.oracle.com/en/java/javase/13/docs/specs/man/keytool.html#commands-for-displaying-data","body":"You can see the alias of every certificate by using the argument <code>-v</code> (verbose output): <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/keytool.html#commands-for-displaying-data\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/docs/specs/man/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3783017,"reputation":1738,"user_id":3141903,"display_name":"I Bajwa PHD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670414855,"creation_date":1670414855,"answer_id":74716453,"question_id":74712459,"body_markdown":"If you want to delete certificate reference from cacerts entries via alias name and forgot the alias name, then another pointer from cacerts file is the Certificate fingerprints. Check the fingerprints from the certificate and find the fingerprints from cacerts entries.\r\nHere is a full example.\r\nFirst list the entries from the certificate keystore.\r\n\r\n    keytool -list -keystore ./keystore.pfx\r\n\r\nIt will show output like this:\r\n\r\n&gt; Keystore type: PKCS12 Keystore provider: SUN\r\n&gt; \r\n&gt; Your keystore contains 1 entry\r\n&gt; \r\n&gt; te-b6b910d1-a1e2-4a51-b3c8-2c0199d393a3, Dec 7, 2022, PrivateKeyEntry,\r\n&gt; Certificate fingerprint (SHA-256):\r\n&gt; 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\r\n\r\nNote down fingerprint value, i.e `37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB`\r\n\r\nNow list down cacerts entries in a text file.\r\n\r\n    keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit &gt; output.txt\r\n\r\nNow open the text file with some editor, e.g vi or vim or nano, and find the fingerprint value.\r\nIn this file you will see below two lines\r\n\r\n    mykey, May 20, 2022, trustedCertEntry,\r\n    Certificate fingerprint (SHA-256): 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\r\n\r\nNow you have found the alias name i.e mykey. So you can delete the certificate entry to cacerts with below command\r\n\r\n    keytool -delete -alias mykey -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit --noprompt\r\n\r\nif you run the above command again, it will show below error\r\n\r\n    keytool error: java.lang.Exception: Alias &lt;mykey&gt; does not exist.\r\n\r\nSo with this example, now you are able to find the alias name from cacerts using fingerprints and able to delete the alias from cacerts entries.","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>If you want to delete certificate reference from cacerts entries via alias name and forgot the alias name, then another pointer from cacerts file is the Certificate fingerprints. Check the fingerprints from the certificate and find the fingerprints from cacerts entries.\nHere is a full example.\nFirst list the entries from the certificate keystore.</p>\n<pre><code>keytool -list -keystore ./keystore.pfx\n</code></pre>\n<p>It will show output like this:</p>\n<blockquote>\n<p>Keystore type: PKCS12 Keystore provider: SUN</p>\n<p>Your keystore contains 1 entry</p>\n<p>te-b6b910d1-a1e2-4a51-b3c8-2c0199d393a3, Dec 7, 2022, PrivateKeyEntry,\nCertificate fingerprint (SHA-256):\n37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB</p>\n</blockquote>\n<p>Note down fingerprint value, i.e <code>37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB</code></p>\n<p>Now list down cacerts entries in a text file.</p>\n<pre><code>keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit &gt; output.txt\n</code></pre>\n<p>Now open the text file with some editor, e.g vi or vim or nano, and find the fingerprint value.\nIn this file you will see below two lines</p>\n<pre><code>mykey, May 20, 2022, trustedCertEntry,\nCertificate fingerprint (SHA-256): 37:01:C3:18:96:D9:54:A3:F6:B6:75:39:2A:5C:61:F9:EF:41:21:4C:E5:BF:6B:37:70:6C:EB:4F:50:3F:90:EB\n</code></pre>\n<p>Now you have found the alias name i.e mykey. So you can delete the certificate entry to cacerts with below command</p>\n<pre><code>keytool -delete -alias mykey -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit --noprompt\n</code></pre>\n<p>if you run the above command again, it will show below error</p>\n<pre><code>keytool error: java.lang.Exception: Alias &lt;mykey&gt; does not exist.\n</code></pre>\n<p>So with this example, now you are able to find the alias name from cacerts using fingerprints and able to delete the alias from cacerts entries.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670432521,"creation_date":1670432521,"answer_id":74720339,"question_id":74712459,"body_markdown":"The fact you&#39;re mentioning `/etc/pki/ca-trust/extracted/java/cacerts` suggests you&#39;re using a `cacerts` file managed by your Linux distribution (presumably based on RedHat/CentOS).\r\n\r\nRemoving the specific certificate from that `cacerts` file is indeed possible with `keytool` manually. However, it&#39;s likely to be re-generated, and possibly placed back into that file the next time `update-ca-trust` is executed automatically (e.g. package upgrade) or not.\r\n\r\nWhen using the distribution-managed `cacerts` file, it&#39;s generally better to use the distribution&#39;s mechanism.\r\n\r\nOn RedHat/CentOS-based distributions, [this can be done by managing individual certificates in `/etc/pki/ca-trust/source/anchors/` and using `update-ca-trust`](https://unix.stackexchange.com/questions/456475/adding-a-root-certification-authority-to-a-java-application).\r\n\r\nOn Debian/Ubuntu-based distributions, [there is an equivalent with certificates in `/usr/share/ca-certificates`](https://security.stackexchange.com/questions/244923/how-to-remove-a-ca-certificate-in-debian), assuming the `ca-certificates-java` package is installed (and then, you can run `update-ca-certificates`).\r\n\r\n----\r\n\r\nAs a side-note, you&#39;ve tagged your question with `client-certificate`.\r\n\r\nClient-certificates (and more so their matching private key, i.e. `PrivateKeyEntry` entries) normally don&#39;t belong in the `cacerts` file at all, which [is a &quot;keystore&quot;](https://stackoverflow.com/a/26888423/372643) used as [a &quot;truststore&quot;](https://stackoverflow.com/a/6341566/372643) (typically used as the default truststore for all Java applications running on that system). Those belong to a &quot;keystore used as a keystore&quot;, not a &quot;keystore used as a truststore&quot; (which shouldn&#39;t contain private keys).","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>The fact you're mentioning <code>/etc/pki/ca-trust/extracted/java/cacerts</code> suggests you're using a <code>cacerts</code> file managed by your Linux distribution (presumably based on RedHat/CentOS).</p>\n<p>Removing the specific certificate from that <code>cacerts</code> file is indeed possible with <code>keytool</code> manually. However, it's likely to be re-generated, and possibly placed back into that file the next time <code>update-ca-trust</code> is executed automatically (e.g. package upgrade) or not.</p>\n<p>When using the distribution-managed <code>cacerts</code> file, it's generally better to use the distribution's mechanism.</p>\n<p>On RedHat/CentOS-based distributions, <a href=\"https://unix.stackexchange.com/questions/456475/adding-a-root-certification-authority-to-a-java-application\">this can be done by managing individual certificates in <code>/etc/pki/ca-trust/source/anchors/</code> and using <code>update-ca-trust</code></a>.</p>\n<p>On Debian/Ubuntu-based distributions, <a href=\"https://security.stackexchange.com/questions/244923/how-to-remove-a-ca-certificate-in-debian\">there is an equivalent with certificates in <code>/usr/share/ca-certificates</code></a>, assuming the <code>ca-certificates-java</code> package is installed (and then, you can run <code>update-ca-certificates</code>).</p>\n<hr />\n<p>As a side-note, you've tagged your question with <code>client-certificate</code>.</p>\n<p>Client-certificates (and more so their matching private key, i.e. <code>PrivateKeyEntry</code> entries) normally don't belong in the <code>cacerts</code> file at all, which <a href=\"https://stackoverflow.com/a/26888423/372643\">is a &quot;keystore&quot;</a> used as <a href=\"https://stackoverflow.com/a/6341566/372643\">a &quot;truststore&quot;</a> (typically used as the default truststore for all Java applications running on that system). Those belong to a &quot;keystore used as a keystore&quot;, not a &quot;keystore used as a truststore&quot; (which shouldn't contain private keys).</p>\n"}],"owner":{"account_id":3783017,"reputation":1738,"user_id":3141903,"display_name":"I Bajwa PHD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670432521,"creation_date":1670393641,"question_id":74712459,"body_markdown":"I am using linux and I want to remove reference of the certificate e.g alias from `cacerts` file, which is a collection of trusted certificate authority (CA) certificates. But I don&#39;t remember the name of the alias.&lt;br&gt;\r\nBelow is JDK information\r\n\r\n    openjdk version &quot;11.0.12&quot; 2021-07-20 LTS \r\n    OpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS) \r\n    OpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\r\n\r\nWhen I list the entries form cacerts with keytool, it shows below type of output.\r\n\r\n    keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit\r\nOutput\r\n\r\n&gt; verisignclass3publicprimarycertificationauthority-g3, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): EB:04:CF:5E:B1:F3:9A:FA:76:2F:2B:B1:20:F2:96:CB:A5:20:C1:B9:7D:B1:58:95:65:B8:1C:B9:A1:7B:72:44\r\nverisignclass3publicprimarycertificationauthority-g4, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 69:DD:D7:EA:90:BB:57:C9:3E:13:5D:C8:5E:A6:FC:D5:48:0B:60:32:39:BD:C4:54:FC:75:8B:2A:26:CF:7F:79\r\nverisignclass3publicprimarycertificationauthority-g5, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 9A:CF:AB:7E:43:C8:D8:80:D0:6B:26:2A:94:DE:EE:E4:B4:65:99:89:C3:D0:CA:F1:9B:AF:64:05:E4:1A:B7:DF\r\nverisignuniversalrootcertificationauthority, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): 23:99:56:11:27:A5:71:25:DE:8C:EF:EA:61:0D:DF:2F:A0:78:B5:C8:06:7F:4E:82:82:90:BF:B8:60:E8:4B:3C\r\nxrampglobalcaroot, Apr 2, 2020, trustedCertEntry,\r\nCertificate fingerprint (SHA-256): CE:CD:DC:90:50:99:D8:DA:DF:C5:B1:D2:09:B7:37:CB:E2:C1:8C:FB:2C:10:C0:FF:0B:CF:0D:32:86:FC:1A:A2\r\n\r\nMy question is that how can I remove alias from `cacerts` file, when I don&#39;t remember the alias name. Is there any other pointer, using which I know which entry to delete from `cacerts`.\r\n","title":"Remove alias from cacerts file [collection of trusted certificate authority (CA) certificates] - jdk 11","body":"<p>I am using linux and I want to remove reference of the certificate e.g alias from <code>cacerts</code> file, which is a collection of trusted certificate authority (CA) certificates. But I don't remember the name of the alias.<br>\nBelow is JDK information</p>\n<pre><code>openjdk version &quot;11.0.12&quot; 2021-07-20 LTS \nOpenJDK Runtime Environment Corretto-11.0.12.7.1 (build 11.0.12+7-LTS) \nOpenJDK 64-Bit Server VM Corretto-11.0.12.7.1 (build 11.0.12+7-LTS, mixed mode)\n</code></pre>\n<p>When I list the entries form cacerts with keytool, it shows below type of output.</p>\n<pre><code>keytool -list -keystore /etc/pki/ca-trust/extracted/java/cacerts -storepass changeit\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>verisignclass3publicprimarycertificationauthority-g3, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): EB:04:CF:5E:B1:F3:9A:FA:76:2F:2B:B1:20:F2:96:CB:A5:20:C1:B9:7D:B1:58:95:65:B8:1C:B9:A1:7B:72:44\nverisignclass3publicprimarycertificationauthority-g4, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 69:DD:D7:EA:90:BB:57:C9:3E:13:5D:C8:5E:A6:FC:D5:48:0B:60:32:39:BD:C4:54:FC:75:8B:2A:26:CF:7F:79\nverisignclass3publicprimarycertificationauthority-g5, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 9A:CF:AB:7E:43:C8:D8:80:D0:6B:26:2A:94:DE:EE:E4:B4:65:99:89:C3:D0:CA:F1:9B:AF:64:05:E4:1A:B7:DF\nverisignuniversalrootcertificationauthority, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): 23:99:56:11:27:A5:71:25:DE:8C:EF:EA:61:0D:DF:2F:A0:78:B5:C8:06:7F:4E:82:82:90:BF:B8:60:E8:4B:3C\nxrampglobalcaroot, Apr 2, 2020, trustedCertEntry,\nCertificate fingerprint (SHA-256): CE:CD:DC:90:50:99:D8:DA:DF:C5:B1:D2:09:B7:37:CB:E2:C1:8C:FB:2C:10:C0:FF:0B:CF:0D:32:86:FC:1A:A2</p>\n</blockquote>\n<p>My question is that how can I remove alias from <code>cacerts</code> file, when I don't remember the alias name. Is there any other pointer, using which I know which entry to delete from <code>cacerts</code>.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1670293482,"post_id":74668223,"comment_id":131837899,"body_markdown":"You have a lot of &quot;magic numbers&quot; in that code. The whole chain of if/else-if/else could be eliminated by using a formula for calculating `myX` and for `myY`. It&#39;s hard to actually solve your issue since we don&#39;t know exactly what arrangement these sprites are *supposed* to have. Is it supposed to be a grid?","body":"You have a lot of &quot;magic numbers&quot; in that code. The whole chain of if/else-if/else could be eliminated by using a formula for calculating <code>myX</code> and for <code>myY</code>. It&#39;s hard to actually solve your issue since we don&#39;t know exactly what arrangement these sprites are <i>supposed</i> to have. Is it supposed to be a grid?"},{"owner":{"account_id":26053611,"reputation":13,"user_id":19756349,"display_name":"Dawid Kaim"},"score":0,"creation_date":1670432352,"post_id":74668223,"comment_id":131876779,"body_markdown":"Yes, the inventory bag is made of grids, whenever I buy an item, a sprite is added to the Array list which stores sprites of items. Then, once an item is added to the Array, it should be positioned in the first empty grid there is. Whenever an item is added, and the grid is taken, the next item should be placed a bit to the right, if the whole row is taken, value Y -= ~100 and value X resets, I will update the code btw, since I posted a method which handles shop sprites instead.","body":"Yes, the inventory bag is made of grids, whenever I buy an item, a sprite is added to the Array list which stores sprites of items. Then, once an item is added to the Array, it should be positioned in the first empty grid there is. Whenever an item is added, and the grid is taken, the next item should be placed a bit to the right, if the whole row is taken, value Y -= ~100 and value X resets, I will update the code btw, since I posted a method which handles shop sprites instead."}],"owner":{"account_id":26053611,"reputation":13,"user_id":19756349,"display_name":"Dawid Kaim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670432479,"creation_date":1670082477,"question_id":74668223,"body_markdown":"So I created an &quot;UpdateShopPosition&quot; method, that should place Sprites in correct spots on the screen. However when I launch it in the render method, it seems that every Sprite shares the exact same position, not only that but the position keeps moving right and down.\r\n\r\nI want MyX and MyY to have a different value for each shopList.get(i) . Is there a problem with the loop or is it because I placed this method in the render() section?\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class ObjectCreator {\r\n\r\n\r\npublic static int rowsX = 4;\r\npublic static int rowsY = 5;\r\n\r\n\r\n    public static void UpdateShopPosition(List&lt;Sprite&gt; spriteList){\r\n        for (int i = 0; i &lt; spriteList.size(); i++) {\r\n\r\n\r\n\r\n            float myX = playerSprite.getX() + ((i + 4) * 100);\r\n            if (i &gt; 0){\r\n                myX+= i*3;\r\n            }\r\n            float myY = playerSprite.getY() + 410;\r\n            if (i &gt;= rowsX &amp;&amp; i &lt; rowsX*2 ) {\r\n                myX = myX - 400;\r\n                myY = myY - 101;\r\n            }\r\n            else if (i &gt;= rowsX*2 &amp;&amp; i &lt; rowsX*3){\r\n                myX = myX - 800;\r\n                myY = myY - 202;\r\n            }\r\n\r\n            else if (i &gt;= rowsX*3 &amp;&amp; i &lt; rowsX*4){\r\n                myX = myX - 1200;\r\n                myY = myY - 303;\r\n            }\r\n            else if (i &gt;= rowsX*4 &amp;&amp; i &lt; rowsX*5){\r\n                myX = myX - 1600;\r\n                myY = myY - 404;\r\n            }\r\n            else if (i &gt;= rowsX*5 &amp;&amp; i &lt; rowsX*6){\r\n                myX = myX - 2000;\r\n                myY = myY - 505;\r\n            }\r\n\r\n            spriteList.get(i).setPosition(myX, myY);\r\n        }\r\n    }\r\n\r\n    public static void CreateUsable(Usables name, Sprite sprite){\r\n        GameApp.shopList.add(sprite);\r\n\r\n\r\nname.setImage(GameApp.shopList.get(0));\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n     for (int i = 0; i &lt; usableList.size(); i++) {\r\n                usableList.get(i).draw(batch);\r\n                usableList.get(i).setPosition(playerSprite.getX() - 1200, playerSprite.getY() + 300);\r\n                usableList.get(i).setSize(60,60);\r\n                // the next (i) should be placed on the next grid, so a little bit to the right\r\n            }\r\n\r\n\r\nI tried to create a method that keeps placing items sprites respectively to my player sprite, I want these sprites to have the same position no matter where I move on the map","title":"libGDX why does my fori loop not update Sprite position properly?","body":"<p>So I created an &quot;UpdateShopPosition&quot; method, that should place Sprites in correct spots on the screen. However when I launch it in the render method, it seems that every Sprite shares the exact same position, not only that but the position keeps moving right and down.</p>\n<p>I want MyX and MyY to have a different value for each shopList.get(i) . Is there a problem with the loop or is it because I placed this method in the render() section?</p>\n<pre><code>\npublic class ObjectCreator {\n\n\npublic static int rowsX = 4;\npublic static int rowsY = 5;\n\n\n    public static void UpdateShopPosition(List&lt;Sprite&gt; spriteList){\n        for (int i = 0; i &lt; spriteList.size(); i++) {\n\n\n\n            float myX = playerSprite.getX() + ((i + 4) * 100);\n            if (i &gt; 0){\n                myX+= i*3;\n            }\n            float myY = playerSprite.getY() + 410;\n            if (i &gt;= rowsX &amp;&amp; i &lt; rowsX*2 ) {\n                myX = myX - 400;\n                myY = myY - 101;\n            }\n            else if (i &gt;= rowsX*2 &amp;&amp; i &lt; rowsX*3){\n                myX = myX - 800;\n                myY = myY - 202;\n            }\n\n            else if (i &gt;= rowsX*3 &amp;&amp; i &lt; rowsX*4){\n                myX = myX - 1200;\n                myY = myY - 303;\n            }\n            else if (i &gt;= rowsX*4 &amp;&amp; i &lt; rowsX*5){\n                myX = myX - 1600;\n                myY = myY - 404;\n            }\n            else if (i &gt;= rowsX*5 &amp;&amp; i &lt; rowsX*6){\n                myX = myX - 2000;\n                myY = myY - 505;\n            }\n\n            spriteList.get(i).setPosition(myX, myY);\n        }\n    }\n\n    public static void CreateUsable(Usables name, Sprite sprite){\n        GameApp.shopList.add(sprite);\n\n\nname.setImage(GameApp.shopList.get(0));\n\n\n\n    }\n\n\n}\n</code></pre>\n<pre><code> for (int i = 0; i &lt; usableList.size(); i++) {\n            usableList.get(i).draw(batch);\n            usableList.get(i).setPosition(playerSprite.getX() - 1200, playerSprite.getY() + 300);\n            usableList.get(i).setSize(60,60);\n            // the next (i) should be placed on the next grid, so a little bit to the right\n        }\n</code></pre>\n<p>I tried to create a method that keeps placing items sprites respectively to my player sprite, I want these sprites to have the same position no matter where I move on the map</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670430494,"post_id":74719886,"comment_id":131876099,"body_markdown":"Well for starters, consider the case where one list is empty and one is not. You consider those to be equal at the moment.","body":"Well for starters, consider the case where one list is empty and one is not. You consider those to be equal at the moment."},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430671,"post_id":74719886,"comment_id":131876164,"body_markdown":"I edit the code, now is correct.","body":"I edit the code, now is correct."},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1670430712,"post_id":74719886,"comment_id":131876183,"body_markdown":"So you never call `m.getNext()`? You only ever compare against the first element?","body":"So you never call <code>m.getNext()</code>? You only ever compare against the first element?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670430715,"post_id":74719886,"comment_id":131876187,"body_markdown":"`getElem()` returns a primitive value?","body":"<code>getElem()</code> returns a primitive value?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":4,"creation_date":1670430725,"post_id":74719886,"comment_id":131876192,"body_markdown":"You should `break` as soon as you find 2 that aren&#39;t equal. Otherwise, this will say they match even if all but the last are unequal. (But there is still the issue you only call `n = n.getNext();` when 2 are equal).","body":"You should <code>break</code> as soon as you find 2 that aren&#39;t equal. Otherwise, this will say they match even if all but the last are unequal. (But there is still the issue you only call <code>n = n.getNext();</code> when 2 are equal)."},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430761,"post_id":74719886,"comment_id":131876202,"body_markdown":"No i just check the first list, and getElem returns an int","body":"No i just check the first list, and getElem returns an int"},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670430917,"post_id":74719886,"comment_id":131876270,"body_markdown":"Ok I put as well: m = m.getNext(); But the problem is that it doesnt even enter inside the if","body":"Ok I put as well: m = m.getNext(); But the problem is that it doesnt even enter inside the if"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1670431299,"post_id":74719886,"comment_id":131876400,"body_markdown":"a) The calls to `next` should be outside of the `if/else`. b) [What is the difference between == and equals() in Java?](https://stackoverflow.com/a/7520464)","body":"a) The calls to <code>next</code> should be outside of the <code>if&#47;else</code>. b) <a href=\"https://stackoverflow.com/a/7520464\">What is the difference between == and equals() in Java?</a>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1670431312,"post_id":74719886,"comment_id":131876409,"body_markdown":"Just debug your code, SO is not a debugging service. Just step through line by line. If you don&#39;t know how - add println statements.","body":"Just debug your code, SO is not a debugging service. Just step through line by line. If you don&#39;t know how - add println statements."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1670431350,"post_id":74719886,"comment_id":131876420,"body_markdown":"HINT for the others looking at this: on a mismatch, the pointers aren&#39;t advanced, so it hangs forever. The most direct of a few problems here.","body":"HINT for the others looking at this: on a mismatch, the pointers aren&#39;t advanced, so it hangs forever. The most direct of a few problems here."}],"answers":[{"tags":[],"owner":{"account_id":23906191,"reputation":71,"user_id":17903735,"display_name":"Sayyid Iskandar Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432403,"creation_date":1670432096,"answer_id":74720240,"question_id":74719886,"body_markdown":"\r\n\r\nit would help if you elaborate what type of list u are comparing,\r\nlinkedlist or arrays. based on your function, it seems that you are planning to compare a linkedlist.\r\n\r\n- [linkedlist documentation](https://www.geeksforgeeks.org/identical-linked-lists/)\r\n- [arrays documentation](https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/)\r\n\r\n```\r\n   // sample comparison\r\n   boolean areIdentical(Node a_head, Node b_head) {\r\n        Node a = a_head, b = b_head;\r\n        while (a != null &amp;&amp; b != null) {\r\n            if (a.data != b.data)\r\n                return false;\r\n \r\n            /* If we reach here, then a and b are not null\r\n               and their data is same, so move to next nodes\r\n               in both lists */\r\n            a = a.next;\r\n            b = b.next;\r\n        }\r\n \r\n        // If linked lists are identical, then &#39;a&#39; and &#39;b&#39;\r\n        // must be null at this point.\r\n        return (a == null &amp;&amp; b == null);\r\n    }\r\n```","title":"How can I check if two lists are equals?","body":"<p>it would help if you elaborate what type of list u are comparing,\nlinkedlist or arrays. based on your function, it seems that you are planning to compare a linkedlist.</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/identical-linked-lists/\" rel=\"nofollow noreferrer\">linkedlist documentation</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/\" rel=\"nofollow noreferrer\">arrays documentation</a></li>\n</ul>\n<pre><code>   // sample comparison\n   boolean areIdentical(Node a_head, Node b_head) {\n        Node a = a_head, b = b_head;\n        while (a != null &amp;&amp; b != null) {\n            if (a.data != b.data)\n                return false;\n \n            /* If we reach here, then a and b are not null\n               and their data is same, so move to next nodes\n               in both lists */\n            a = a.next;\n            b = b.next;\n        }\n \n        // If linked lists are identical, then 'a' and 'b'\n        // must be null at this point.\n        return (a == null &amp;&amp; b == null);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670437170,"post_id":74720254,"comment_id":131878325,"body_markdown":"The problem I saw on my code by printing is that it doesnt even enter in the if.. I do not understand whats wrong..","body":"The problem I saw on my code by printing is that it doesnt even enter in the if.. I do not understand whats wrong.."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1670439736,"post_id":74720254,"comment_id":131879081,"body_markdown":"What are the elements? If `int` or some primitive type then `==` is correct. If `String` or some other class then `x.equals(y)` is needed..","body":"What are the elements? If <code>int</code> or some primitive type then <code>==</code> is correct. If <code>String</code> or some other class then <code>x.equals(y)</code> is needed.."},{"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"score":0,"creation_date":1670440806,"post_id":74720254,"comment_id":131879425,"body_markdown":"I did it, it literally does not enter into the if. It&#39;s like it doesn&#39;t read it.","body":"I did it, it literally does not enter into the if. It&#39;s like it doesn&#39;t read it."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1670487220,"post_id":74720254,"comment_id":131887849,"body_markdown":"Then you need to debug it, or do `System.out.println(n.getElem());` and such.","body":"Then you need to debug it, or do <code>System.out.println(n.getElem());</code> and such."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670432162,"creation_date":1670432162,"answer_id":74720254,"question_id":74719886,"body_markdown":"There are a couple of weak spots, so I give the solid solution:\r\n\r\n    public static boolean checkEquality(Node n, Node m) {\r\n        while (n != null &amp;&amp; m != null) {\r\n            //if (!Objects.equals(n.getElem(), m.getElem())) {\r\n            if (n.getElem() != m.getElem()) {\r\n                return false;\r\n            }\r\n            n = n.getNext();\r\n            m = m.getNext();\r\n        }\r\n        return n == null &amp;&amp; m == null;\r\n    }\r\n\r\n- Comparing can only be done while both `n` and `m` are not null. Your code only checks `n`.\r\n- `==` is not valid for instance for String. Instead of `.equals` one might also use `Objects.equals` which also tests for `null`.\r\n- `getNext` in every loop step.\r\n- two empty lists are also equal. Both lists should end at the same time.\r\n\r\nThe tst fails as soon as two compared nodes are not equal. So one should start with assuming a `true` result. And as soon as the comparison fails, one should no longer loop and certainly not overwrite `res` from false to true.\r\n\r\n","title":"How can I check if two lists are equals?","body":"<p>There are a couple of weak spots, so I give the solid solution:</p>\n<pre><code>public static boolean checkEquality(Node n, Node m) {\n    while (n != null &amp;&amp; m != null) {\n        //if (!Objects.equals(n.getElem(), m.getElem())) {\n        if (n.getElem() != m.getElem()) {\n            return false;\n        }\n        n = n.getNext();\n        m = m.getNext();\n    }\n    return n == null &amp;&amp; m == null;\n}\n</code></pre>\n<ul>\n<li>Comparing can only be done while both <code>n</code> and <code>m</code> are not null. Your code only checks <code>n</code>.</li>\n<li><code>==</code> is not valid for instance for String. Instead of <code>.equals</code> one might also use <code>Objects.equals</code> which also tests for <code>null</code>.</li>\n<li><code>getNext</code> in every loop step.</li>\n<li>two empty lists are also equal. Both lists should end at the same time.</li>\n</ul>\n<p>The tst fails as soon as two compared nodes are not equal. So one should start with assuming a <code>true</code> result. And as soon as the comparison fails, one should no longer loop and certainly not overwrite <code>res</code> from false to true.</p>\n"}],"owner":{"account_id":25500447,"reputation":1,"user_id":19293805,"display_name":"Shukur Nuriyev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1670432403,"creation_date":1670430431,"question_id":74719886,"body_markdown":"I have to solve one problem, I don&#39;t know the reason why my code doesn&#39;t work.\r\nI have to check if two lists I created are completely equals so they have the same value at the same position.\r\nI&#39;m allowed to use loops as well, even by I prefer the recursive mode.\r\nThank you so much for your help and time!\r\n\r\n```\r\npublic static boolean checkEquality(Node n, Node m) {\r\n\t\tif(n != null &amp;&amp; m != null) {\r\n\t\t\tboolean res = false;\r\n\t\t\twhile(n!=null) {\r\n\t\t\t\tif(n.getElem()==m.getElem()) {\r\n\t\t\t\t\tn = n.getNext();\r\n                    m = m.getNext();\r\n\t\t\t\t\tres = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tres = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Lists empty!&quot;);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How can I check if two lists are equals?","body":"<p>I have to solve one problem, I don't know the reason why my code doesn't work.\nI have to check if two lists I created are completely equals so they have the same value at the same position.\nI'm allowed to use loops as well, even by I prefer the recursive mode.\nThank you so much for your help and time!</p>\n<pre><code>public static boolean checkEquality(Node n, Node m) {\n        if(n != null &amp;&amp; m != null) {\n            boolean res = false;\n            while(n!=null) {\n                if(n.getElem()==m.getElem()) {\n                    n = n.getNext();\n                    m = m.getNext();\n                    res = true;\n                }\n                else\n                {\n                    res = false;\n                }\n            }\n            return res;\n        }\n        else\n        {\n            System.out.println(&quot;Lists empty!&quot;);\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","jmeter","load-testing","beanshell","jsr223"],"answers":[{"tags":[],"owner":{"account_id":6531900,"reputation":58,"user_id":5052801,"display_name":"Zakariae BEN ALLAL"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670430581,"creation_date":1670430581,"answer_id":74719918,"question_id":74719811,"body_markdown":"Hello why you use JMeter do you know K6 : https://k6.io/\r\nIt&#39;s better than JMeter","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>Hello why you use JMeter do you know K6 : <a href=\"https://k6.io/\" rel=\"nofollow noreferrer\">https://k6.io/</a>\nIt's better than JMeter</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432364,"creation_date":1670432364,"answer_id":74720303,"question_id":74719811,"body_markdown":"There are multiple problems with your script:\r\n\r\n 1. You&#39;re using `==` instead of [`equals()`][1] which compares references and not instances so it might be the case the code is not executed at all\r\n 2. Setting response code to `200` is not sufficient to suppress the failure, you need to additionally invoke [`prev.setSuccessful(true)`][2] function \r\n 3. [Since JMeter 3.1 it&#39;s recommended to use JSR223 Test Elements and Groovy language for scripting][3] because [Groovy performance is much better comparing to Beanshell][4] \r\n 4. You might want to use [switch][5] statement instead of multiple if/else clauses \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html#setSuccessful(boolean)\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [4]: https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>There are multiple problems with your script:</p>\n<ol>\n<li>You're using <code>==</code> instead of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code></a> which compares references and not instances so it might be the case the code is not executed at all</li>\n<li>Setting response code to <code>200</code> is not sufficient to suppress the failure, you need to additionally invoke <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html#setSuccessful(boolean)\" rel=\"nofollow noreferrer\"><code>prev.setSuccessful(true)</code></a> function</li>\n<li><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Since JMeter 3.1 it's recommended to use JSR223 Test Elements and Groovy language for scripting</a> because <a href=\"https://www.blazemeter.com/blog/beanshell-vs-jsr223-vs-jmeter\" rel=\"nofollow noreferrer\">Groovy performance is much better comparing to Beanshell</a></li>\n<li>You might want to use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\">switch</a> statement instead of multiple if/else clauses</li>\n</ol>\n"}],"owner":{"account_id":24448417,"reputation":1,"user_id":18370985,"display_name":"Sanket Bumtaria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670432364,"creation_date":1670430121,"question_id":74719811,"body_markdown":"I am having multiple sampler in which i am trying to setup a script which ignores an error message or any response code and tryinh to make a sampler as &quot;pass&quot;.\r\n\r\nbut i am unable to do that.\r\n\r\nBelow is my configuration.\r\n\r\n[JMeter Configuration for BeanShell Post Processor](https://i.stack.imgur.com/Il0pI.png)\r\n\r\nYou can see that in an benshell postprocessor i tries to ignore 3 responses (non http , 504 and 401)\r\n\r\nBut in the &quot;View Result Tree&quot; listner i am still getting ignored status code as failed.\r\n\r\n[Response](https://i.stack.imgur.com/KWEil.png)\r\n\r\nYou can see in an image that 401 error code request is failed.\r\n\r\nCan you please let me know what i am doing wrong here.\r\n\r\n\r\n\r\nI also tried jsr223 response assertion,but not able to get expected output.\r\n\r\nI also checked my logs as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hA5vi.png","title":"I am unable to ignore the failed response code/message using BeanShell PostProcessor in JMeter","body":"<p>I am having multiple sampler in which i am trying to setup a script which ignores an error message or any response code and tryinh to make a sampler as &quot;pass&quot;.</p>\n<p>but i am unable to do that.</p>\n<p>Below is my configuration.</p>\n<p><a href=\"https://i.stack.imgur.com/Il0pI.png\" rel=\"nofollow noreferrer\">JMeter Configuration for BeanShell Post Processor</a></p>\n<p>You can see that in an benshell postprocessor i tries to ignore 3 responses (non http , 504 and 401)</p>\n<p>But in the &quot;View Result Tree&quot; listner i am still getting ignored status code as failed.</p>\n<p><a href=\"https://i.stack.imgur.com/KWEil.png\" rel=\"nofollow noreferrer\">Response</a></p>\n<p>You can see in an image that 401 error code request is failed.</p>\n<p>Can you please let me know what i am doing wrong here.</p>\n<p>I also tried jsr223 response assertion,but not able to get expected output.</p>\n<p>I also checked my logs as well.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1530934811,"post_id":51219679,"comment_id":89420343,"body_markdown":"Synchronization requires stopping threads to prevent illegal accesses. If you need synchronization then you will lose performance.","body":"Synchronization requires stopping threads to prevent illegal accesses. If you need synchronization then you will lose performance."},{"owner":{"account_id":1315198,"reputation":3834,"user_id":1262248,"accept_rate":75,"display_name":"Aman Chhabra"},"score":1,"creation_date":1530936116,"post_id":51219679,"comment_id":89420496,"body_markdown":"I suggest you google a bit.... there are thousands of post explaining this. For instance this: https://stackoverflow.com/a/50904456/1262248","body":"I suggest you google a bit.... there are thousands of post explaining this. For instance this: <a href=\"https://stackoverflow.com/a/50904456/1262248\">stackoverflow.com/a/50904456/1262248</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1530937381,"post_id":51219679,"comment_id":89420669,"body_markdown":"Yes.  Question is what you want to avoid.","body":"Yes.  Question is what you want to avoid."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1530938576,"post_id":51219679,"comment_id":89420837,"body_markdown":"@vandench If you need synchronization you need synchronization, and &#39;lose performance&#39; is meaningless, as you are comparing a correct implementation to an incorrect one. You can get the wrong answer in zero time if that&#39;s your only concern. It isn&#39;t relevant.","body":"@vandench If you need synchronization you need synchronization, and &#39;lose performance&#39; is meaningless, as you are comparing a correct implementation to an incorrect one. You can get the wrong answer in zero time if that&#39;s your only concern. It isn&#39;t relevant."},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1530941224,"post_id":51219679,"comment_id":89421215,"body_markdown":"@EJP my point was that there is no way to avoid the performance issues. The `synchronized` is baked into the language, there a bits of it in the JVM klass, it is unavoidable.","body":"@EJP my point was that there is no way to avoid the performance issues. The <code>synchronized</code> is baked into the language, there a bits of it in the JVM klass, it is unavoidable."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1530943974,"post_id":51219679,"comment_id":89421711,"body_markdown":"The last thing you want to do while in the process of learning multi-threaded programming is worry about a 0.1% performance penalty.  All that counts at this point is ***correctness***.  Multi-threading is _really hard_.  If you have contention between threads then you have a performance impact due to the contention, not due to the mechanism of coordination.","body":"The last thing you want to do while in the process of learning multi-threaded programming is worry about a 0.1% performance penalty.  All that counts at this point is <b><i>correctness</i></b>.  Multi-threading is <i>really hard</i>.  If you have contention between threads then you have a performance impact due to the contention, not due to the mechanism of coordination."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1531395687,"post_id":51219679,"comment_id":89585955,"body_markdown":"@vandench *My* point is that there are no &#39;performance issues&#39; to avoid, and that even talking about them is meaningless.","body":"@vandench <i>My</i> point is that there are no &#39;performance issues&#39; to avoid, and that even talking about them is meaningless."}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530938589,"creation_date":1530938589,"answer_id":51219983,"question_id":51219679,"body_markdown":"As others have indicated, it depends on what you&#39;re trying to avoid, as well as what you&#39;re trying to achieve with multithreading.\r\n\r\nIf you mean &quot;is there a zero-overhead way to do multithreading with shared resources,&quot; the answer is almost certainly &quot;no.&quot; If two cars going in different directions approach an intersection at the same time, one of them will have to wait for the other one - there&#39;s no way that the cars can occupy the same space at the same time. That&#39;s why we have stop signs and traffic lights. (Alternatively, there are things like traffic circles, but even those have some overhead - you really can&#39;t just go through them at full speed as if they weren&#39;t there).\r\n\r\nThere are lots of ways of doing asynchronous and parallel operations other than using that type of synchronization:\r\n\r\n  - Non-blocking I/O. The argument here is that, when you&#39;re interacting with a server or slow I/O device or something, most of the time is spent waiting for a response from the device or server, so you really don&#39;t need multiple threads to handle that - you just need to allow the original thread to do other work while it&#39;s waiting for a response. My usual analogy here is: suppose you go out to eat with a group of 10 people. When the waiter comes to take orders, the first person he asks to order isn&#39;t ready yet. The sensible thing to do, of course, is for the waiter to take other people&#39;s orders first, and then to come back to the first guy. There&#39;s no need to bring in separate waiters for each person&#39;s orders, bring in another waiter to wait for the first guy, or anything like that.\r\n  - Promise/futures based async\r\n  - Event-driven async\r\n  - Using immutable data structures to minimize the amount of shared resources.\r\n  - There are, of course, a lot of types of locking and synchronization mechanisms available other than just the synchronized keywords, such as counting semaphores, reader-writer locks, etc.\r\n\r\nThere are a lot of other types of concurrency as well, such as the [actor model](https://en.wikipedia.org/wiki/Actor_model).\r\n\r\nWhen used properly, these can help minimize your overhead and possibly reduce the amount of explicit locking and synchronization required. They all have overhead, though.\r\n\r\n**TL;DR** You have overhead no matter what you do - just select the design and primitives that result in the smallest overhead for your particular use case.","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>As others have indicated, it depends on what you're trying to avoid, as well as what you're trying to achieve with multithreading.</p>\n\n<p>If you mean \"is there a zero-overhead way to do multithreading with shared resources,\" the answer is almost certainly \"no.\" If two cars going in different directions approach an intersection at the same time, one of them will have to wait for the other one - there's no way that the cars can occupy the same space at the same time. That's why we have stop signs and traffic lights. (Alternatively, there are things like traffic circles, but even those have some overhead - you really can't just go through them at full speed as if they weren't there).</p>\n\n<p>There are lots of ways of doing asynchronous and parallel operations other than using that type of synchronization:</p>\n\n<ul>\n<li>Non-blocking I/O. The argument here is that, when you're interacting with a server or slow I/O device or something, most of the time is spent waiting for a response from the device or server, so you really don't need multiple threads to handle that - you just need to allow the original thread to do other work while it's waiting for a response. My usual analogy here is: suppose you go out to eat with a group of 10 people. When the waiter comes to take orders, the first person he asks to order isn't ready yet. The sensible thing to do, of course, is for the waiter to take other people's orders first, and then to come back to the first guy. There's no need to bring in separate waiters for each person's orders, bring in another waiter to wait for the first guy, or anything like that.</li>\n<li>Promise/futures based async</li>\n<li>Event-driven async</li>\n<li>Using immutable data structures to minimize the amount of shared resources.</li>\n<li>There are, of course, a lot of types of locking and synchronization mechanisms available other than just the synchronized keywords, such as counting semaphores, reader-writer locks, etc.</li>\n</ul>\n\n<p>There are a lot of other types of concurrency as well, such as the <a href=\"https://en.wikipedia.org/wiki/Actor_model\" rel=\"noreferrer\">actor model</a>.</p>\n\n<p>When used properly, these can help minimize your overhead and possibly reduce the amount of explicit locking and synchronization required. They all have overhead, though.</p>\n\n<p><strong>TL;DR</strong> You have overhead no matter what you do - just select the design and primitives that result in the smallest overhead for your particular use case.</p>\n"},{"tags":[],"owner":{"account_id":13296754,"reputation":37,"user_id":9599500,"display_name":"Nitesh kumar Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670432350,"creation_date":1670432350,"answer_id":74720299,"question_id":51219679,"body_markdown":"You can look for ReentrantLock and ReentrantReadWriteLock.","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>You can look for ReentrantLock and ReentrantReadWriteLock.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":51219983,"answer_count":2,"score":-1,"last_activity_date":1670432350,"creation_date":1530934439,"question_id":51219679,"body_markdown":"I am a beginner in Multi threading and have this one doubt:\r\n\r\nIs there any other alternative for traditional Synchronisation(which uses synchronised keywords) in java,since it affects the performance of the application? ","title":"Alternative for synchronisation in multi threading in JAVA","body":"<p>I am a beginner in Multi threading and have this one doubt:</p>\n\n<p>Is there any other alternative for traditional Synchronisation(which uses synchronised keywords) in java,since it affects the performance of the application? </p>\n"},{"tags":["java","type-conversion"],"answers":[{"comments":[{"owner":{"account_id":27112278,"reputation":3,"user_id":20657233,"display_name":"Blip Bloop"},"score":0,"creation_date":1670428400,"post_id":74715427,"comment_id":131875323,"body_markdown":"Indeed. Don&#39;t know how I didn&#39;t think about this :/ Thank you !","body":"Indeed. Don&#39;t know how I didn&#39;t think about this :/ Thank you !"}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670410152,"creation_date":1670410152,"answer_id":74715427,"question_id":74714423,"body_markdown":"Casting of the maps&#39; values to `Object` should work:\r\n```java\r\npublic List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\r\n    return anotherMethod().stream()\r\n        .map(m -&gt; m.entrySet().stream()\r\n                .collect(Collectors.toMap(\r\n                    Map.Entry::getKey, e -&gt; (Object)e.getValue()\r\n                ))\r\n        )\r\n        .collect(Collectors.toList());\r\n}\r\n\r\n```","title":"Convert List&lt;Map&lt;String, Comparable&lt;&gt;&gt;&gt; to List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>Casting of the maps' values to <code>Object</code> should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\n    return anotherMethod().stream()\n        .map(m -&gt; m.entrySet().stream()\n                .collect(Collectors.toMap(\n                    Map.Entry::getKey, e -&gt; (Object)e.getValue()\n                ))\n        )\n        .collect(Collectors.toList());\n}\n\n</code></pre>\n"}],"owner":{"account_id":27112278,"reputation":3,"user_id":20657233,"display_name":"Blip Bloop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74715427,"answer_count":1,"score":-2,"last_activity_date":1670432185,"creation_date":1670405499,"question_id":74714423,"body_markdown":"I am using a method that return me a `List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt;`\r\nand I would like to convert the result using a stream() and end up with a `List&lt;Map&lt;String, Object&gt;&gt;`.\r\n\r\nMy code is similar to the following: \r\n```\r\npublic List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\r\n    List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt; result = anotherMethod();\r\n    return ?\r\n}\r\n```\r\n\r\nHow can I convert the list `result` using a `stream()` in order to return a `List&lt;Map&lt;String, Object&gt;&gt;`?","title":"Convert List&lt;Map&lt;String, Comparable&lt;&gt;&gt;&gt; to List&lt;Map&lt;String, Object&gt;&gt;","body":"<p>I am using a method that return me a <code>List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt;</code>\nand I would like to convert the result using a stream() and end up with a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>.</p>\n<p>My code is similar to the following:</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; myMethod() {\n    List&lt;Map&lt;String, Comparable&lt;?&gt;&gt;&gt; result = anotherMethod();\n    return ?\n}\n</code></pre>\n<p>How can I convert the list <code>result</code> using a <code>stream()</code> in order to return a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>?</p>\n"},{"tags":["javascript","java","json","amazon-dynamodb","amazon-ion"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670410290,"post_id":74712958,"comment_id":131868653,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7300687,"reputation":7362,"user_id":5563569,"display_name":"Matthew Pope"},"score":0,"creation_date":1671223743,"post_id":74712958,"comment_id":132061087,"body_markdown":"Are you trying to get the DynamoDB Json (i.e. with the &quot;ss&quot; and &quot;s&quot; keys intact) or are you trying to get &quot;normal&quot; Json?","body":"Are you trying to get the DynamoDB Json (i.e. with the &quot;ss&quot; and &quot;s&quot; keys intact) or are you trying to get &quot;normal&quot; Json?"}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670397803,"creation_date":1670397803,"answer_id":74713049,"question_id":74712958,"body_markdown":"One way is to use Jackson Ion library to convert ion data to POJO, then conver the POJO to JSON. \r\n\r\nCheck more details in the answer here - https://stackoverflow.com/questions/68039063/how-to-convert-amazon-qldb-ionstruct-to-json-in-java\r\n","title":"How to convert amazon ion to json data using java","body":"<p>One way is to use Jackson Ion library to convert ion data to POJO, then conver the POJO to JSON.</p>\n<p>Check more details in the answer here - <a href=\"https://stackoverflow.com/questions/68039063/how-to-convert-amazon-qldb-ionstruct-to-json-in-java\">How to convert Amazon QLDB IonStruct to Json in java?</a></p>\n"}],"owner":{"account_id":27174191,"reputation":3,"user_id":20710419,"display_name":"geekynoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670432012,"creation_date":1670397247,"question_id":74712958,"body_markdown":"I&#39;m working with amazon ion data, stored in file. I need to convert it to Json data. Is there any libraries available in Java?\r\nOr any another type of data format close to Json? \r\n\r\n\r\n**Task I&#39;m doing**\r\n\r\nI have fetched the data from dynamoDB, which generated the `.txt` file having this type of data, which is ion format (separated by new line).\r\n```\r\n{group:{s:&quot;accounts&quot;},rId:{s:&quot;Ada_Invoice&quot;},item:{s:&quot;System Issue&quot;},environments:{ss:[&quot;Env:Ada/Alpha&quot;]},category:{s:&quot;Publish&quot;},type:{s:&quot;Ada&quot;},groups:{ss:[&quot;ada-admins&quot;]}}\r\n```\r\nI have to consolidate this data around `environment`. \r\nI want to convert the ion to JSONObject, so that i can perform `.get()` around keys.\r\n\r\nP.S. - newbie to java","title":"How to convert amazon ion to json data using java","body":"<p>I'm working with amazon ion data, stored in file. I need to convert it to Json data. Is there any libraries available in Java?\nOr any another type of data format close to Json?</p>\n<p><strong>Task I'm doing</strong></p>\n<p>I have fetched the data from dynamoDB, which generated the <code>.txt</code> file having this type of data, which is ion format (separated by new line).</p>\n<pre><code>{group:{s:&quot;accounts&quot;},rId:{s:&quot;Ada_Invoice&quot;},item:{s:&quot;System Issue&quot;},environments:{ss:[&quot;Env:Ada/Alpha&quot;]},category:{s:&quot;Publish&quot;},type:{s:&quot;Ada&quot;},groups:{ss:[&quot;ada-admins&quot;]}}\n</code></pre>\n<p>I have to consolidate this data around <code>environment</code>.\nI want to convert the ion to JSONObject, so that i can perform <code>.get()</code> around keys.</p>\n<p>P.S. - newbie to java</p>\n"},{"tags":["java","reactor"],"comments":[{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1570471800,"post_id":58215810,"comment_id":102916410,"body_markdown":"A blog post I wrote recently on flatMap: https://medium.com/swlh/understanding-reactors-flatmap-operator-a6a7e62d3e95. You might find it useful.","body":"A blog post I wrote recently on flatMap: <a href=\"https://medium.com/swlh/understanding-reactors-flatmap-operator-a6a7e62d3e95\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a>. You might find it useful."}],"answers":[{"tags":[],"owner":{"account_id":1631597,"reputation":1668,"user_id":1506009,"display_name":"Rozart"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570095732,"creation_date":1570094950,"answer_id":58216183,"question_id":58215810,"body_markdown":"When mapping a content of `Mono` using map method, you cannot provide null as a mapping result, because that will result in the\r\n`java.lang.NullPointerException: The mapper returned a null value.` during the subscription.\r\n\r\nThe `Mono` can be either empty or it has to contain a valid object.\r\n\r\nAccording to the source code of Project Reactor, the content of a `Mono` cannot be null. \r\n\r\nSo in this case the valid solution is using the `flatMap`.","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>When mapping a content of <code>Mono</code> using map method, you cannot provide null as a mapping result, because that will result in the\n<code>java.lang.NullPointerException: The mapper returned a null value.</code> during the subscription.</p>\n\n<p>The <code>Mono</code> can be either empty or it has to contain a valid object.</p>\n\n<p>According to the source code of Project Reactor, the content of a <code>Mono</code> cannot be null. </p>\n\n<p>So in this case the valid solution is using the <code>flatMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":16041964,"reputation":1002,"user_id":11578177,"display_name":"Michael Michailidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570095320,"creation_date":1570095320,"answer_id":58216273,"question_id":58215810,"body_markdown":"That is because `flatMap` will try to unwrap the inner mono in the outer mono. Meaning the value will be null but there will be a type..\r\n\r\nOn the other hand `map` will transform the `Mono&lt;A&gt;` to `Mono&lt;B&gt;`. null has no type and that is why you cannot do that.  ","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>That is because <code>flatMap</code> will try to unwrap the inner mono in the outer mono. Meaning the value will be null but there will be a type..</p>\n\n<p>On the other hand <code>map</code> will transform the <code>Mono&lt;A&gt;</code> to <code>Mono&lt;B&gt;</code>. null has no type and that is why you cannot do that.  </p>\n"},{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1670431848,"creation_date":1570095693,"answer_id":58216393,"question_id":58215810,"body_markdown":"From Reactor [java doc][1]\r\n\r\n`map`: Transform the item emitted by this Mono by applying a synchronous function to it.\r\n\r\n`flatMap`: Transform the item emitted by this Mono asynchronously, returning the value emitted by another Mono.\r\n\r\nIn all cases, you cannot return `null`. It is simply forbidden by design. The main difference between `map` and `flatMap` is that the second one returns a Mono. This allows to perform an asynchronous call to something like a data base, a web service, etc.\r\n\r\nSo `flatMap` should be used to performed another asynchronous stuff. It&#39;s not very useful if you return a `Mono.just(...)`. We may use flatMap to return `Mono.empty()` in some condition as you did. It is a frequent pattern. Depending on your use case, you may prefer to use `filter` or `mapNotNull`.\r\n\r\nHere an alternative code to emit a new object with a condition:\r\n\r\n            .handle(myBoolean, sink -&gt; {\r\n                if (!myBoolean) {\r\n                    sink.next(employee);\r\n                } // else the Mono would be empty ...\r\n            });\r\n\r\n\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>From Reactor <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">java doc</a></p>\n<p><code>map</code>: Transform the item emitted by this Mono by applying a synchronous function to it.</p>\n<p><code>flatMap</code>: Transform the item emitted by this Mono asynchronously, returning the value emitted by another Mono.</p>\n<p>In all cases, you cannot return <code>null</code>. It is simply forbidden by design. The main difference between <code>map</code> and <code>flatMap</code> is that the second one returns a Mono. This allows to perform an asynchronous call to something like a data base, a web service, etc.</p>\n<p>So <code>flatMap</code> should be used to performed another asynchronous stuff. It's not very useful if you return a <code>Mono.just(...)</code>. We may use flatMap to return <code>Mono.empty()</code> in some condition as you did. It is a frequent pattern. Depending on your use case, you may prefer to use <code>filter</code> or <code>mapNotNull</code>.</p>\n<p>Here an alternative code to emit a new object with a condition:</p>\n<pre><code>        .handle(myBoolean, sink -&gt; {\n            if (!myBoolean) {\n                sink.next(employee);\n            } // else the Mono would be empty ...\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570472051,"creation_date":1570471696,"answer_id":58274949,"question_id":58215810,"body_markdown":"A `null` anywhere in your stream will throw a `NPE: Mapper returned a null value`. No matter `map` or `flatMap`. It is by design. \r\n\r\nA short note on `flatMap`: It eagerly subscribes to its inner streams (in your case, `Mono.empty()` or `Mono.just(..)`) and does a dynamic merge as the inner streams keep emitting elements. That&#39;s why you can guarantee order with `flatMap`.","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>A <code>null</code> anywhere in your stream will throw a <code>NPE: Mapper returned a null value</code>. No matter <code>map</code> or <code>flatMap</code>. It is by design. </p>\n\n<p>A short note on <code>flatMap</code>: It eagerly subscribes to its inner streams (in your case, <code>Mono.empty()</code> or <code>Mono.just(..)</code>) and does a dynamic merge as the inner streams keep emitting elements. That's why you can guarantee order with <code>flatMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1896724,"reputation":1039,"user_id":1713511,"display_name":"Kirill Mikhailov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645792619,"creation_date":1645792619,"answer_id":71265972,"question_id":58215810,"body_markdown":"To avoid NullPointerException in your case you can change map to mapNotNull:\r\n\r\n            .mapNotNull(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return null;\r\n                } \r\n                else {\r\n                    return employee;\r\n                }\r\n            }); ","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>To avoid NullPointerException in your case you can change map to mapNotNull:</p>\n<pre><code>        .mapNotNull(myBoolean -&gt; {\n            if (myBoolean) {\n                return null;\n            } \n            else {\n                return employee;\n            }\n        }); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646122529,"creation_date":1646122529,"answer_id":71305487,"question_id":58215810,"body_markdown":"You can add filter before `map`:\r\n\r\n```\r\n.filter(Objects::nonNull)\r\n.filter(myBoolean -&gt; myBoolean)\r\n.map(r-&gt; employee)\r\n.switchIfEmpty(Mono.empty());\r\n```","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>You can add filter before <code>map</code>:</p>\n<pre><code>.filter(Objects::nonNull)\n.filter(myBoolean -&gt; myBoolean)\n.map(r-&gt; employee)\n.switchIfEmpty(Mono.empty());\n</code></pre>\n"}],"owner":{"account_id":16540475,"reputation":275,"user_id":11951361,"display_name":"lgean"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27195,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":58216393,"answer_count":6,"score":11,"last_activity_date":1670431848,"creation_date":1570093691,"question_id":58215810,"body_markdown":"The following piece of code works :\r\n\r\n```\r\n// emitting employees...\r\n.flatMap(employee -&gt; {\r\n\r\n    boolean isAlive = employee.isAlive();\r\n\r\n    return Mono.just(isAlive)\r\n\r\n            .flatMap(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return Mono.empty();\r\n                } \r\n                else {\r\n                    return Mono.just(employee);\r\n                }\r\n            });\r\n\r\n})\r\n```\r\n\r\nBut I was wondering why I can&#39;t use a `.map` upon processing `myBoolean` (NullPointerException when it returns the null)\r\n```\r\n            .map(myBoolean -&gt; {\r\n                if (myBoolean) {\r\n                    return null;\r\n                } \r\n                else {\r\n                    return employee;\r\n                }\r\n            });\r\n```\r\n\r\nI believe I lack some understanding about the `map` versus `flatMap` \r\n\r\nIn Java 8 streams I understand the difference between `map` and `flatMap` (for each item received, `map` emits 1, `flatMap` emits N)\r\n\r\nBut in Reactor I&#39;m a bit confused. I thought that both `map` and `flatMap` emit 1 item for each element received, the difference would be that the `map` emits it as a `Mono` while `flatMap` doesn&#39;t. To emit N items, I would use `flatMapMany`.\r\n\r\nThanks in advance for your explanations !","title":"Returning a null in a .map() versus .flatMap() in Reactor","body":"<p>The following piece of code works :</p>\n\n<pre><code>// emitting employees...\n.flatMap(employee -&gt; {\n\n    boolean isAlive = employee.isAlive();\n\n    return Mono.just(isAlive)\n\n            .flatMap(myBoolean -&gt; {\n                if (myBoolean) {\n                    return Mono.empty();\n                } \n                else {\n                    return Mono.just(employee);\n                }\n            });\n\n})\n</code></pre>\n\n<p>But I was wondering why I can't use a <code>.map</code> upon processing <code>myBoolean</code> (NullPointerException when it returns the null)</p>\n\n<pre><code>            .map(myBoolean -&gt; {\n                if (myBoolean) {\n                    return null;\n                } \n                else {\n                    return employee;\n                }\n            });\n</code></pre>\n\n<p>I believe I lack some understanding about the <code>map</code> versus <code>flatMap</code> </p>\n\n<p>In Java 8 streams I understand the difference between <code>map</code> and <code>flatMap</code> (for each item received, <code>map</code> emits 1, <code>flatMap</code> emits N)</p>\n\n<p>But in Reactor I'm a bit confused. I thought that both <code>map</code> and <code>flatMap</code> emit 1 item for each element received, the difference would be that the <code>map</code> emits it as a <code>Mono</code> while <code>flatMap</code> doesn't. To emit N items, I would use <code>flatMapMany</code>.</p>\n\n<p>Thanks in advance for your explanations !</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1670408887,"post_id":74714703,"comment_id":131868168,"body_markdown":"Did you try: logger.info(&quot;Body: {}&quot;,userDto); ? It doesn&#39;t work?","body":"Did you try: logger.info(&quot;Body: {}&quot;,userDto); ? It doesn&#39;t work?"},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1670409933,"post_id":74714703,"comment_id":131868541,"body_markdown":"Did you override `toString` method for `UserDto`?","body":"Did you override <code>toString</code> method for <code>UserDto</code>?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":3,"creation_date":1670410989,"post_id":74714703,"comment_id":131868907,"body_markdown":"If you want to log the whole request, you should use a filter. Have a look here: https://www.baeldung.com/spring-http-logging theres a CommonsRequestLoggingFilter you can use.","body":"If you want to log the whole request, you should use a filter. Have a look here: <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">baeldung.com/spring-http-logging</a> theres a CommonsRequestLoggingFilter you can use."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1670411029,"post_id":74714703,"comment_id":131868929,"body_markdown":"To be honest, I would do this with a servlet filter on Spring&#39;s servlet to get access on the actual, binary request stream.","body":"To be honest, I would do this with a servlet filter on Spring&#39;s servlet to get access on the actual, binary request stream."},{"owner":{"account_id":22439657,"reputation":155,"user_id":16644396,"display_name":"Othmane"},"score":0,"creation_date":1670417472,"post_id":74714703,"comment_id":131871236,"body_markdown":"@TomStroemer CommonsRequestLoggingFilter works for me. Thanks!","body":"@TomStroemer CommonsRequestLoggingFilter works for me. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1670414751,"post_id":74715343,"comment_id":131870220,"body_markdown":"The result is not original request body. It contains only those properties that are present in UserDto class. OP&#39;s intent is to trace original JSON with properties missing in UserDto class.","body":"The result is not original request body. It contains only those properties that are present in UserDto class. OP&#39;s intent is to trace original JSON with properties missing in UserDto class."}],"tags":[],"owner":{"account_id":16449260,"reputation":13,"user_id":11883087,"display_name":"Shukurkhan Akhrorkhanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670409776,"creation_date":1670409776,"answer_id":74715343,"question_id":74714703,"body_markdown":"You can use ObjectMapper from fasterxml \r\n\r\nadd the following dependencies to the pom.xml:\r\n \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nChange your createUser method to this:\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto)\r\n    throws JsonProcessingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        logger.info(&quot;Body: &quot;+  objectMapper.writeValueAsString(userDto));\r\n        return null;\r\n    }\r\n\r\nResult will be like this in your console:\r\n\r\n    : Body: {&quot;name&quot;:&quot;John&quot;,&quot;username&quot;:&quot;Doe&quot;}\r\n\r\n","title":"Spring Boot get the request body while using @RequestBody","body":"<p>You can use ObjectMapper from fasterxml</p>\n<p>add the following dependencies to the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Change your createUser method to this:</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto)\nthrows JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    logger.info(&quot;Body: &quot;+  objectMapper.writeValueAsString(userDto));\n    return null;\n}\n</code></pre>\n<p>Result will be like this in your console:</p>\n<pre><code>: Body: {&quot;name&quot;:&quot;John&quot;,&quot;username&quot;:&quot;Doe&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670430057,"creation_date":1670430057,"answer_id":74719798,"question_id":74714703,"body_markdown":"Information taken from https://www.baeldung.com/spring-http-logging\r\n\r\nYou can use Springs CommonsRequestLoggingFilter for this. You can activate this via a Configuration Bean:\r\n\r\n```\r\n@Configuration\r\npublic class RequestLoggingFilterConfig {\r\n\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter           = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludePayload(true);\r\n        filter.setMaxPayloadLength(10000);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\r\n        return filter;\r\n    }\r\n}\r\n```\r\n\r\nThe filter logs on debug, so you need to enable debug logging for the class. For example add this in your logback.xml:\r\n\r\n```\r\n&lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot;&gt;\r\n    &lt;level value=&quot;DEBUG&quot; /&gt;\r\n&lt;/logger&gt;\r\n```\r\n\r\nFor reference see https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html","title":"Spring Boot get the request body while using @RequestBody","body":"<p>Information taken from <a href=\"https://www.baeldung.com/spring-http-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-http-logging</a></p>\n<p>You can use Springs CommonsRequestLoggingFilter for this. You can activate this via a Configuration Bean:</p>\n<pre><code>@Configuration\npublic class RequestLoggingFilterConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter           = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludePayload(true);\n        filter.setMaxPayloadLength(10000);\n        filter.setIncludeHeaders(false);\n        filter.setAfterMessagePrefix(&quot;REQUEST DATA : &quot;);\n        return filter;\n    }\n}\n</code></pre>\n<p>The filter logs on debug, so you need to enable debug logging for the class. For example add this in your logback.xml:</p>\n<pre><code>&lt;logger name=&quot;org.springframework.web.filter.CommonsRequestLoggingFilter&quot;&gt;\n    &lt;level value=&quot;DEBUG&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>For reference see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html</a></p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431498,"creation_date":1670431498,"answer_id":74720125,"question_id":74714703,"body_markdown":"One way to solve this task is to write an Http Filter that logs the message before the Handler method is called.\r\n\r\nThis [Baeldung Article][1] demonstrates a filter that logs.\r\n\r\n[1]:https://www.baeldung.com/spring-boot-add-filter","title":"Spring Boot get the request body while using @RequestBody","body":"<p>One way to solve this task is to write an Http Filter that logs the message before the Handler method is called.</p>\n<p>This <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">Baeldung Article</a> demonstrates a filter that logs.</p>\n"}],"owner":{"account_id":22439657,"reputation":155,"user_id":16644396,"display_name":"Othmane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74719798,"answer_count":3,"score":0,"last_activity_date":1670431498,"creation_date":1670406842,"question_id":74714703,"body_markdown":"I&#39;m using Spring Boot @RequestBody annotation to access the request body properties like below\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto) {\r\n        // some coode\r\n        return null;\r\n    }\r\n\r\nWhat I want to do is instead of just accessing the userDto properties. I want to log the whole request body because someone else is using sending the request and it doesn&#39;t match my `userDto`\r\n\r\nWhat I tried?\r\n\r\n    @PostMapping\r\n    ResponseEntity&lt;UserDto&gt; createUser (HttpServletRequest request) {\r\n        logger.info(&quot;Body: {}&quot;, request.getReader().lines().collect(Collectors.toSet()));\r\n        return null;\r\n    }\r\n\r\nThis works just fine but each time I want to log the request body I have to switch between `@RequestBody UserDto` and `HttpServletRequest request`\r\n\r\nIs there anyway I can keep that jackson `@RequestBody` annonation and still log request body as it is?\r\n","title":"Spring Boot get the request body while using @RequestBody","body":"<p>I'm using Spring Boot @RequestBody annotation to access the request body properties like below</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (@RequestBody UserDto userDto) {\n    // some coode\n    return null;\n}\n</code></pre>\n<p>What I want to do is instead of just accessing the userDto properties. I want to log the whole request body because someone else is using sending the request and it doesn't match my <code>userDto</code></p>\n<p>What I tried?</p>\n<pre><code>@PostMapping\nResponseEntity&lt;UserDto&gt; createUser (HttpServletRequest request) {\n    logger.info(&quot;Body: {}&quot;, request.getReader().lines().collect(Collectors.toSet()));\n    return null;\n}\n</code></pre>\n<p>This works just fine but each time I want to log the request body I have to switch between <code>@RequestBody UserDto</code> and <code>HttpServletRequest request</code></p>\n<p>Is there anyway I can keep that jackson <code>@RequestBody</code> annonation and still log request body as it is?</p>\n"},{"tags":["java","junit4","google-cloud-pubsub"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670431262,"post_id":74720055,"comment_id":131876390,"body_markdown":"What does &quot;*Facing issue*&quot; mean? Do you get a compilation error? If so: please [edit] the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please [edit] the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please [edit] the post, add a [MRE], as we as expected and observed output.","body":"What does &quot;<i>Facing issue</i>&quot; mean? Do you get a compilation error? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please <a href=\"https://stackoverflow.com/posts/74720055/edit\">edit</a> the post, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, as we as expected and observed output."},{"owner":{"account_id":12896437,"reputation":15,"user_id":9326637,"display_name":"lakshmi sowmya"},"score":0,"creation_date":1670431341,"post_id":74720055,"comment_id":131876418,"body_markdown":"I am unable to write Junit test case for the above method. Need help how to achieve this.","body":"I am unable to write Junit test case for the above method. Need help how to achieve this."}],"owner":{"account_id":12896437,"reputation":15,"user_id":9326637,"display_name":"lakshmi sowmya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670431211,"creation_date":1670431150,"question_id":74720055,"body_markdown":"Facing issue while writing the Junit test cases for below code. \r\n\r\n    public String publishJSON(String json) throws InterruptedException, IOException, ExecutionException {\t\t      \r\n    \t\tlog.info(&quot; Publishing payload to: &quot;+config.getTopicId());\t\r\n    \t\tTopicName topicName=TopicName.of(config.getPubsubProjectId(),config.getTopicId());\r\n    \t\tPublisher publisher=null;\r\n    \t\ttry {\r\n    \t\t\t publisher =\r\n    \t\t\t        Publisher.newBuilder(topicName)\r\n    \t\t\t            .build();\r\n    \t\t      ByteString data = ByteString.copyFromUtf8(json);\r\n    \t\t      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\r\n    \t\t      ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n    \t\t      String messageId = messageIdFuture.get();\r\n    \t\t      log.info(&quot;Published message ID: &quot; + messageId);\r\n    \t\t   return messageId;\r\n    \t\t} catch (ExecutionException e) {\r\n    \t\t\tlog.error(&quot;Error while publishing messsage&quot; + e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.error( &quot;PubSub exception &quot;+ e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tlog.error(&quot;Connection making exception for PubSub&quot; + e.getMessage());\r\n    \t\t\tthrow e;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error( &quot;publishJSON Error : &quot;+ e.getMessage());\r\n    \t\t\tthrow e;\t\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (publisher != null) {\r\n    \t\t\t\t// When finished with the publisher, shutdown to free up resources.\r\n    \t\t\t\tpublisher.shutdown();\r\n    \t\t\t\tpublisher.awaitTermination(1, TimeUnit.MINUTES);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Junit Test cases for PubSub Publish message","body":"<p>Facing issue while writing the Junit test cases for below code.</p>\n<pre><code>public String publishJSON(String json) throws InterruptedException, IOException, ExecutionException {             \n        log.info(&quot; Publishing payload to: &quot;+config.getTopicId());   \n        TopicName topicName=TopicName.of(config.getPubsubProjectId(),config.getTopicId());\n        Publisher publisher=null;\n        try {\n             publisher =\n                    Publisher.newBuilder(topicName)\n                        .build();\n              ByteString data = ByteString.copyFromUtf8(json);\n              PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\n              ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n              String messageId = messageIdFuture.get();\n              log.info(&quot;Published message ID: &quot; + messageId);\n           return messageId;\n        } catch (ExecutionException e) {\n            log.error(&quot;Error while publishing messsage&quot; + e.getMessage());\n            throw e;\n        } catch (IOException e) {\n            log.error( &quot;PubSub exception &quot;+ e.getMessage());\n            throw e;\n        } catch (InterruptedException e) {\n            log.error(&quot;Connection making exception for PubSub&quot; + e.getMessage());\n            throw e;\n        } catch (Exception e) {\n            log.error( &quot;publishJSON Error : &quot;+ e.getMessage());\n            throw e;    \n        }\n        finally {\n            if (publisher != null) {\n                // When finished with the publisher, shutdown to free up resources.\n                publisher.shutdown();\n                publisher.awaitTermination(1, TimeUnit.MINUTES);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","record","headless"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1663869020,"post_id":73817813,"comment_id":130346720,"body_markdown":"headless mode has no GUI to record.  It&#39;s probably enough to just output a report detailing which actions have passed/failed along with any exceptions received.","body":"headless mode has no GUI to record.  It&#39;s probably enough to just output a report detailing which actions have passed/failed along with any exceptions received."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670948639,"post_id":74720046,"comment_id":131988814,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74720046/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13637594,"reputation":1,"user_id":9838227,"display_name":"Vladislav Velichko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431140,"creation_date":1670431117,"answer_id":74720046,"question_id":73817813,"body_markdown":"If you use headless mode only because you don&#39;t have a video device in Linux, then you can try [Xvfb](https://www.mattzeunert.com/2018/07/21/running-headful-chrome-on-ubuntu-server.html)","title":"Record selenium tests in headless mode (Java)","body":"<p>If you use headless mode only because you don't have a video device in Linux, then you can try <a href=\"https://www.mattzeunert.com/2018/07/21/running-headful-chrome-on-ubuntu-server.html\" rel=\"nofollow noreferrer\">Xvfb</a></p>\n"}],"owner":{"account_id":25504803,"reputation":1,"user_id":19297452,"display_name":"Oriol Juli&#224; Torres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670431140,"creation_date":1663863280,"question_id":73817813,"body_markdown":"I need to record selenium tests in *chrome* using **headless** mode but I have been finding it impossible.\r\n\r\nTo sum up, the application that I am working with is a Java application with its frontend and backend that the main function is to do selenium testing. Even though it has a lot more features. I only want to record the tests from when they start until they finish.\r\n\r\nSo far I have tried recording with the library WebDriverManager following [this](https://bonigarcia.dev/webdrivermanager/#recordings) example but it did not work probably because it only works with a headful navigator.\r\n\r\nI have seen the following [option](https://stackoverflow.com/questions/51192198/how-to-video-record-selenium-tests-running-headless-inside-a-docker) that uses the library **ffmpeg** but it says that it works in docker and I need to use it in windows/linux and as I said before, my application it is not just a test, it also has a UI with different features. \r\n\r\nDo you know about more possibilities to video-record my selenium tests in headless mode?","title":"Record selenium tests in headless mode (Java)","body":"<p>I need to record selenium tests in <em>chrome</em> using <strong>headless</strong> mode but I have been finding it impossible.</p>\n<p>To sum up, the application that I am working with is a Java application with its frontend and backend that the main function is to do selenium testing. Even though it has a lot more features. I only want to record the tests from when they start until they finish.</p>\n<p>So far I have tried recording with the library WebDriverManager following <a href=\"https://bonigarcia.dev/webdrivermanager/#recordings\" rel=\"nofollow noreferrer\">this</a> example but it did not work probably because it only works with a headful navigator.</p>\n<p>I have seen the following <a href=\"https://stackoverflow.com/questions/51192198/how-to-video-record-selenium-tests-running-headless-inside-a-docker\">option</a> that uses the library <strong>ffmpeg</strong> but it says that it works in docker and I need to use it in windows/linux and as I said before, my application it is not just a test, it also has a UI with different features.</p>\n<p>Do you know about more possibilities to video-record my selenium tests in headless mode?</p>\n"},{"tags":["java","spring","spring-transactions","master-slave"],"answers":[{"tags":[],"owner":{"account_id":7196229,"reputation":171,"user_id":5494979,"display_name":"ZT827"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670431022,"creation_date":1670431022,"answer_id":74720018,"question_id":71404698,"body_markdown":"In short the solution for this problem is adding `hibernate.connection.provider_disables_autocommit=true` to `application.properties` and in case Hikari is used also setting `setAutoCommit(false)`. \r\n\r\n[More details can be found here][1] \r\n\r\n[1]: https://stackoverflow.com/a/68078228/5494979","title":"Master-slave configuration on spring boot, @Transactional(readOnly = true) not working as expected","body":"<p>In short the solution for this problem is adding <code>hibernate.connection.provider_disables_autocommit=true</code> to <code>application.properties</code> and in case Hikari is used also setting <code>setAutoCommit(false)</code>.</p>\n<p><a href=\"https://stackoverflow.com/a/68078228/5494979\">More details can be found here</a></p>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670431022,"creation_date":1646803551,"question_id":71404698,"body_markdown":"So I have a master-slave data source setup as follows : \r\n\r\n```@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;com.myservice.notificationservice.repositories.happyoffer&quot;,\r\n        entityManagerFactoryRef = &quot;happyofferEntityManagerFactory&quot;,\r\n        transactionManagerRef= &quot;happyofferTransactionManager&quot;\r\n)\r\npublic class HappyofferDataSourceConfig {\r\n\r\n    @Value(&quot;${spring.entity.scan.packages}&quot;)\r\n    private String packageToScan;\r\n\r\n    @Bean\r\n    @Primary\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master&quot;)\r\n    public DataSourceProperties happyOfferMasterDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master.configuration&quot;)\r\n    public DataSource masterDataSource() {\r\n        return happyOfferMasterDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave&quot;)\r\n    public DataSourceProperties happyOfferSlaveDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;slaveDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave.configuration&quot;)\r\n    public DataSource slaveDataSource() {\r\n        return happyOfferSlaveDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class).build();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public DataSource routingDataSource() {\r\n\r\n        Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\r\n        RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\r\n        DataSource master = this.masterDataSource();\r\n        targetDataSources.put(DataSourceTypes.MASTER, master);\r\n        DataSource slave = this.slaveDataSource();\r\n        targetDataSources.put(DataSourceTypes.SLAVE, slave);\r\n        routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\r\n        routingDataSourceConfiguration.setDefaultTargetDataSource(master);\r\n        return routingDataSourceConfiguration;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return new LazyConnectionDataSourceProxy(routingDataSource());\r\n    }\r\n\r\n    @Bean(name = &quot;happyofferEntityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(routingDataSource())\r\n                .packages(new String[]{packageToScan})\r\n                .build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public PlatformTransactionManager happyofferTransactionManager(final @Qualifier(&quot;happyofferEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory) {\r\n        return new JpaTransactionManager(happyofferEntityManagerFactory.getObject());\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;readerJdbcTemplate&quot;)\r\n    public NamedParameterJdbcTemplate getReaderJdbcTemplate() {\r\n        return new NamedParameterJdbcTemplate(slaveDataSource());\r\n    }\r\n\r\n    @Bean(name = &quot;writerJdbcTemplate&quot;)\r\n    public NamedParameterJdbcTemplate getWriterJdbcTemplate() {\r\n        return new NamedParameterJdbcTemplate(masterDataSource());\r\n    }\r\n}\r\n```\r\n\r\nRouting configuration is defined as : \r\n\r\n```\r\npublic class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\r\n    @Override\r\n    protected Object determineCurrentLookupKey() {\r\n        boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\r\n        if(isReadOnly) {\r\n            return DataSourceTypes.SLAVE;\r\n        } else {\r\n            return DataSourceTypes.MASTER;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also have a repository class defined as : \r\n\r\n```\r\n@Repository\r\n@Transactional(readOnly = true)\r\npublic interface DeviceInfoRepository extends JpaRepository&lt;DeviceInfo,Integer&gt; {\r\n\r\n    List&lt;DeviceInfo&gt; findAllByUserIdIn(List&lt;Integer&gt; userIds);\r\n}\r\n```\r\n\r\nI&#39;m simply calling the above function in a service like this :  \r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class NotificationShooterServiceImpl implements NotificationShooterService {\r\n\r\n    @Autowired\r\n    DeviceInfoRepository deviceInfoRepository;\r\n\r\n    @Override\r\n    public NotificationShooterResponse shoot(List&lt;Integer&gt; userIds) throws Exception {\r\n       \r\n\r\n        List&lt;DeviceInfo&gt; deviceInfoList = deviceInfoRepository.findAllByUserIdIn(userIds);\r\n        log.info(&quot;Size : &quot; + deviceInfoList.size());\r\n        ..........\r\n        ..........\r\n        ..........\r\n        NotificationShooterResponse notificationShooterResponse = new NotificationShooterResponse();\r\n        notificationShooterResponse.setCountOfUniqueUserIds(deviceInfoList.size());\r\n\r\n        return notificationShooterResponse;\r\n    }\r\n```\r\n\r\nNow, as I have added `@Transactional(readOnly = true)`, I expect that the query will get routed to SLAVE db. However, I&#39;m seeing it going to MASTER each time. \r\nI debugged this and found that the readOnly attribute is not set to true for this transaction i.e. \r\nin the file `RoutingDataSourceConfiguration` shown above, \r\n`boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();` reads `false`. \r\n\r\n","title":"Master-slave configuration on spring boot, @Transactional(readOnly = true) not working as expected","body":"<p>So I have a master-slave data source setup as follows :</p>\n<pre><code>@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;com.myservice.notificationservice.repositories.happyoffer&quot;,\n        entityManagerFactoryRef = &quot;happyofferEntityManagerFactory&quot;,\n        transactionManagerRef= &quot;happyofferTransactionManager&quot;\n)\npublic class HappyofferDataSourceConfig {\n\n    @Value(&quot;${spring.entity.scan.packages}&quot;)\n    private String packageToScan;\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master&quot;)\n    public DataSourceProperties happyOfferMasterDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.master.configuration&quot;)\n    public DataSource masterDataSource() {\n        return happyOfferMasterDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave&quot;)\n    public DataSourceProperties happyOfferSlaveDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;slaveDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.happyoffer.datasource.slave.configuration&quot;)\n    public DataSource slaveDataSource() {\n        return happyOfferSlaveDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @Primary\n    public DataSource routingDataSource() {\n\n        Map&lt;Object, Object&gt; targetDataSources = new LinkedHashMap&lt;&gt;();\n        RoutingDataSourceConfiguration routingDataSourceConfiguration = new RoutingDataSourceConfiguration();\n        DataSource master = this.masterDataSource();\n        targetDataSources.put(DataSourceTypes.MASTER, master);\n        DataSource slave = this.slaveDataSource();\n        targetDataSources.put(DataSourceTypes.SLAVE, slave);\n        routingDataSourceConfiguration.setTargetDataSources(targetDataSources);\n        routingDataSourceConfiguration.setDefaultTargetDataSource(master);\n        return routingDataSourceConfiguration;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new LazyConnectionDataSourceProxy(routingDataSource());\n    }\n\n    @Bean(name = &quot;happyofferEntityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(routingDataSource())\n                .packages(new String[]{packageToScan})\n                .build();\n    }\n\n\n    @Bean\n    @Primary\n    public PlatformTransactionManager happyofferTransactionManager(final @Qualifier(&quot;happyofferEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean happyofferEntityManagerFactory) {\n        return new JpaTransactionManager(happyofferEntityManagerFactory.getObject());\n    }\n\n    @Primary\n    @Bean(name = &quot;readerJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate getReaderJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(slaveDataSource());\n    }\n\n    @Bean(name = &quot;writerJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate getWriterJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(masterDataSource());\n    }\n}\n</code></pre>\n<p>Routing configuration is defined as :</p>\n<pre><code>public class RoutingDataSourceConfiguration extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();\n        if(isReadOnly) {\n            return DataSourceTypes.SLAVE;\n        } else {\n            return DataSourceTypes.MASTER;\n        }\n    }\n}\n</code></pre>\n<p>I also have a repository class defined as :</p>\n<pre><code>@Repository\n@Transactional(readOnly = true)\npublic interface DeviceInfoRepository extends JpaRepository&lt;DeviceInfo,Integer&gt; {\n\n    List&lt;DeviceInfo&gt; findAllByUserIdIn(List&lt;Integer&gt; userIds);\n}\n</code></pre>\n<p>I'm simply calling the above function in a service like this :</p>\n<pre><code>@Service\n@Slf4j\npublic class NotificationShooterServiceImpl implements NotificationShooterService {\n\n    @Autowired\n    DeviceInfoRepository deviceInfoRepository;\n\n    @Override\n    public NotificationShooterResponse shoot(List&lt;Integer&gt; userIds) throws Exception {\n       \n\n        List&lt;DeviceInfo&gt; deviceInfoList = deviceInfoRepository.findAllByUserIdIn(userIds);\n        log.info(&quot;Size : &quot; + deviceInfoList.size());\n        ..........\n        ..........\n        ..........\n        NotificationShooterResponse notificationShooterResponse = new NotificationShooterResponse();\n        notificationShooterResponse.setCountOfUniqueUserIds(deviceInfoList.size());\n\n        return notificationShooterResponse;\n    }\n</code></pre>\n<p>Now, as I have added <code>@Transactional(readOnly = true)</code>, I expect that the query will get routed to SLAVE db. However, I'm seeing it going to MASTER each time.\nI debugged this and found that the readOnly attribute is not set to true for this transaction i.e.\nin the file <code>RoutingDataSourceConfiguration</code> shown above,\n<code>boolean isReadOnly = TransactionSynchronizationManager.isCurrentTransactionReadOnly();</code> reads <code>false</code>.</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1670430882,"post_id":74719809,"comment_id":131876255,"body_markdown":"maybe your query is related s.t you changed. Please upload your query code.","body":"maybe your query is related s.t you changed. Please upload your query code."},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":0,"creation_date":1670431056,"post_id":74719809,"comment_id":131876317,"body_markdown":"@KiluSs I&#39;ve uploaded the query code. Please help me","body":"@KiluSs I&#39;ve uploaded the query code. Please help me"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670481555,"post_id":74719809,"comment_id":131886487,"body_markdown":"Have you tried to implement [getItemCount()](https://github.com/firebase/FirebaseUI-Android/blob/5b6c9f01f5a674d754d8e9b1242197fe040086e7/firestore/src/main/java/com/firebase/ui/firestore/FirestoreRecyclerAdapter.java#L95)?","body":"Have you tried to implement <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/5b6c9f01f5a674d754d8e9b1242197fe040086e7/firestore/src/main/java/com/firebase/ui/firestore/FirestoreRecyclerAdapter.java#L95\" rel=\"nofollow noreferrer\">getItemCount()</a>?"},{"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"score":2,"creation_date":1670482904,"post_id":74719809,"comment_id":131886747,"body_markdown":"@AlexMamo I&#39;ve solve this issue just by creating my own callback inside my custom adapter","body":"@AlexMamo I&#39;ve solve this issue just by creating my own callback inside my custom adapter"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670484609,"post_id":74719809,"comment_id":131887120,"body_markdown":"Good to hear that ;)","body":"Good to hear that ;)"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670431015,"creation_date":1670430107,"question_id":74719809,"body_markdown":"In my app, I added a filter functionality where I can get all students from a specific course and display the total results. The problem is that when I change something in the database, the total results displayed is not based on the query anymore. \r\n\r\n    private void load() {\r\n        Query query = createQuery();\r\n        FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\r\n                .setQuery(query, Student.class)\r\n                .build();\r\n\r\n        myStudentAdapter = new MyStudentAdapter(options){\r\n            @Override\r\n            public void onDataChanged() {\r\n                super.onDataChanged();\r\n                tv_total.setText(String.valueOf(getItemCount()));\r\n            }\r\n        };\r\n        rv.setAdapter(myStudentAdapter);\r\n        myStudentAdapter.startListening();\r\n    }\r\n\r\n    private Query createQuery() {\r\n        if (!search.isEmpty()) {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .startAt(search)\r\n                        .endAt(search + &#39;\\uf8ff&#39;);\r\n            }\r\n        } else {\r\n            if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;course&quot;, course);\r\n            } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;year&quot;, year);\r\n            } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;)\r\n                        .whereEqualTo(&quot;block&quot;, block);\r\n            } else {\r\n                return db.collection(&quot;Student&quot;)\r\n                        .orderBy(&quot;fullName&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAt first firestore returns 20 students (which is correct) but then I did a filter and return all BSCS students so firestore now returns 5 students (which is correct) but then I changed student1 fullName and now firestore returns 20 students (which is incorrect). I think firestore reset the Query information onDataChanged()","title":"How to prevent firestore from resetting Query data onDataChanged?","body":"<p>In my app, I added a filter functionality where I can get all students from a specific course and display the total results. The problem is that when I change something in the database, the total results displayed is not based on the query anymore.</p>\n<pre><code>private void load() {\n    Query query = createQuery();\n    FirestoreRecyclerOptions&lt;Student&gt; options = new FirestoreRecyclerOptions.Builder&lt;Student&gt;()\n            .setQuery(query, Student.class)\n            .build();\n\n    myStudentAdapter = new MyStudentAdapter(options){\n        @Override\n        public void onDataChanged() {\n            super.onDataChanged();\n            tv_total.setText(String.valueOf(getItemCount()));\n        }\n    };\n    rv.setAdapter(myStudentAdapter);\n    myStudentAdapter.startListening();\n}\n\nprivate Query createQuery() {\n    if (!search.isEmpty()) {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .startAt(search)\n                    .endAt(search + '\\uf8ff');\n        }\n    } else {\n        if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else if (!course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;course&quot;, course);\n        } else if (course.isEmpty() &amp;&amp; !year.isEmpty() &amp;&amp; block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;year&quot;, year);\n        } else if (course.isEmpty() &amp;&amp; year.isEmpty() &amp;&amp; !block.isEmpty()) {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;)\n                    .whereEqualTo(&quot;block&quot;, block);\n        } else {\n            return db.collection(&quot;Student&quot;)\n                    .orderBy(&quot;fullName&quot;);\n        }\n    }\n}\n</code></pre>\n<p>At first firestore returns 20 students (which is correct) but then I did a filter and return all BSCS students so firestore now returns 5 students (which is correct) but then I changed student1 fullName and now firestore returns 20 students (which is incorrect). I think firestore reset the Query information onDataChanged()</p>\n"},{"tags":["java","ubuntu","intellij-idea","jvm","ubuntu-20.04"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1670430748,"post_id":74719763,"comment_id":131876198,"body_markdown":"Please show the full command line of your application with all the options.","body":"Please show the full command line of your application with all the options."},{"owner":{"account_id":20077115,"reputation":1,"user_id":14720636,"display_name":"Michel Sariol"},"score":0,"creation_date":1670433546,"post_id":74719763,"comment_id":131877192,"body_markdown":"Adding the environment variable directly to the IDE hasn&#39;t worked either.","body":"Adding the environment variable directly to the IDE hasn&#39;t worked either."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670435003,"post_id":74719763,"comment_id":131877686,"body_markdown":"Post text rather than images.","body":"Post text rather than images."}],"owner":{"account_id":20077115,"reputation":1,"user_id":14720636,"display_name":"Michel Sariol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670430775,"creation_date":1670429911,"question_id":74719763,"body_markdown":"![enter image description here](https://i.stack.imgur.com/OSARD.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/KiCpW.png)\r\n\r\n\r\ntrying to raise a project on my new laptop I have the error\r\nCould not create the Java Virtual Machine.\r\nYes, I have java installed, only the project compiles perfectly when I give maven install, the problem is at the time of deployment\r\n\r\n\r\nI have already tried changing the memory as indicated here (https://stackoverflow.com/questions/18095117/intellij-idea-showing-error-could-not-create-the-java-virtual-machine/18103499#18103499) without results\r\n","title":"Could not create the Java Virtual Machine. intelli idea ubuntu 20.04","body":"<p><img src=\"https://i.stack.imgur.com/OSARD.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/KiCpW.png\" alt=\"enter image description here\" /></p>\n<p>trying to raise a project on my new laptop I have the error\nCould not create the Java Virtual Machine.\nYes, I have java installed, only the project compiles perfectly when I give maven install, the problem is at the time of deployment</p>\n<p>I have already tried changing the memory as indicated here (<a href=\"https://stackoverflow.com/questions/18095117/intellij-idea-showing-error-could-not-create-the-java-virtual-machine/18103499#18103499\">Intellij idea showing error: could not create the java virtual machine</a>) without results</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1670373795,"post_id":74710500,"comment_id":131860952,"body_markdown":"[Cast it](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions).","body":"<a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/casting-and-type-conversions\" rel=\"nofollow noreferrer\">Cast it</a>."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1670391423,"post_id":74710500,"comment_id":131863365,"body_markdown":"[You should follow java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html)","body":"<a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">You should follow java naming conventions</a>"}],"answers":[{"tags":[],"owner":{"account_id":26144821,"reputation":31,"user_id":19833581,"display_name":"Gorf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670374746,"creation_date":1670374746,"answer_id":74710646,"question_id":74710500,"body_markdown":"Although it the check of `instance of` does work, you still need to cast it to a Boy class in order to work. Simply do `String B = ( (boy) MyObject ).Belement;`","title":"How to use a method with an object which could be extended with different class?","body":"<p>Although it the check of <code>instance of</code> does work, you still need to cast it to a Boy class in order to work. Simply do <code>String B = ( (boy) MyObject ).Belement;</code></p>\n"}],"owner":{"account_id":26822911,"reputation":15,"user_id":20411977,"display_name":"guiguietben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74710646,"answer_count":1,"score":0,"last_activity_date":1670430275,"creation_date":1670373120,"question_id":74710500,"body_markdown":"I&#39;ve got a main class and two inherited class:\r\n\r\n```\r\npublic class mother{\r\n\tpublic String Melement;\r\n}\r\n```\r\nand\r\n\r\n```\r\npublic class boy extends mother {\r\n\tpublic String Belement;\r\n}\r\n```\r\nand\r\n\r\n```\r\npublic class girl extends mother{\r\n\tpublic String Gelement;\r\n}\r\n```\r\nSo I could have an object A like `boy A = new boy();`\r\nand an object B like `girl B = new girl();`\r\n\r\nAnd I would like to use a method with these objects, but it doesn&#39;t work\r\n\r\n\r\nThis is what I tried:\r\n\r\n\r\n```\r\npublic void mymethod(mother MyObject) {\r\n    if (MyObject instanceof boy){\r\n        String A = MyObject.Melement;\r\n        String B = MyObject.Belement;\r\n    }\r\n\r\n    if (MyObject instanceof girl){\r\n        String A = MyObject.Melement;\r\n        String B = MyObject.Gelement;\r\n    }\r\n}\r\n```\r\nI understand that it&#39;s not working because `Myobject` is of type `mother` so I could access only `Melement`\r\nBut I would like my method to accept the both type of objects `boy` and `girl`\r\n\r\nIs it possible to do it? How?","title":"How to use a method with an object which could be extended with different class?","body":"<p>I've got a main class and two inherited class:</p>\n<pre><code>public class mother{\n    public String Melement;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class boy extends mother {\n    public String Belement;\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class girl extends mother{\n    public String Gelement;\n}\n</code></pre>\n<p>So I could have an object A like <code>boy A = new boy();</code>\nand an object B like <code>girl B = new girl();</code></p>\n<p>And I would like to use a method with these objects, but it doesn't work</p>\n<p>This is what I tried:</p>\n<pre><code>public void mymethod(mother MyObject) {\n    if (MyObject instanceof boy){\n        String A = MyObject.Melement;\n        String B = MyObject.Belement;\n    }\n\n    if (MyObject instanceof girl){\n        String A = MyObject.Melement;\n        String B = MyObject.Gelement;\n    }\n}\n</code></pre>\n<p>I understand that it's not working because <code>Myobject</code> is of type <code>mother</code> so I could access only <code>Melement</code>\nBut I would like my method to accept the both type of objects <code>boy</code> and <code>girl</code></p>\n<p>Is it possible to do it? How?</p>\n"},{"tags":["java","gradle","github-actions","github-pages","javadoc"],"comments":[{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1670423100,"post_id":74717915,"comment_id":131873196,"body_markdown":"Creating a question is a bit excitable, a simple comment to my previous answer would have sufficed.","body":"Creating a question is a bit excitable, a simple comment to my previous answer would have sufficed."}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670423089,"creation_date":1670423089,"answer_id":74718164,"question_id":74717915,"body_markdown":"## JavaDoc publisher for Gradle\r\n\r\nYes is possible, with this code on your GitHub Actions :\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc\r\n          project: gradle\r\n```\r\nCredit: https://github.com/MathieuSoysal/Javadoc-publisher.yml\r\nhttps://github.com/marketplace/actions/deploy-javadoc\r\n\r\nThis code publish JavaDoc automatically when you publish to *&quot;master&quot;* branch, your JavaDoc is pushed on *javadoc* branch, and deployed with GitHub Page.\r\n\r\n*don&#39;t forget to enable GitHub page on your GitHub repo settings* \r\n_____\r\n\r\n## Create a GitHub Actions\r\n\r\nTo create a GitHub Actions you need to simply, add this yaml file on `/.github/workflows/your-file.yaml` inside your GitHub repository.\r\n","title":"GitHub Actions : How to generate and publish JavaDoc to a web page with Gradle project","body":"<h2>JavaDoc publisher for Gradle</h2>\n<p>Yes is possible, with this code on your GitHub Actions :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.0\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc\n          project: gradle\n</code></pre>\n<p>Credit: <a href=\"https://github.com/MathieuSoysal/Javadoc-publisher.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Javadoc-publisher.yml</a>\n<a href=\"https://github.com/marketplace/actions/deploy-javadoc\" rel=\"nofollow noreferrer\">https://github.com/marketplace/actions/deploy-javadoc</a></p>\n<p>This code publish JavaDoc automatically when you publish to <em>&quot;master&quot;</em> branch, your JavaDoc is pushed on <em>javadoc</em> branch, and deployed with GitHub Page.</p>\n<p><em>don't forget to enable GitHub page on your GitHub repo settings</em></p>\n<hr />\n<h2>Create a GitHub Actions</h2>\n<p>To create a GitHub Actions you need to simply, add this yaml file on <code>/.github/workflows/your-file.yaml</code> inside your GitHub repository.</p>\n"}],"owner":{"account_id":23989230,"reputation":23,"user_id":17975622,"display_name":"Ruby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74718164,"answer_count":1,"score":-1,"last_activity_date":1670430163,"creation_date":1670421900,"question_id":74717915,"body_markdown":"I need to generate a JavaDoc from my GitHub repository and publish it to a webpage like GitHub Page.\r\n\r\nI found this solution on StackOverflow: https://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.4\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc \r\n```\r\n\r\nBut this solution works only for Maven, and not for Gradle.\r\n\r\nSomeone know if is possible to adapt this for a Gradle project ?\r\n\r\n","title":"GitHub Actions : How to generate and publish JavaDoc to a web page with Gradle project","body":"<p>I need to generate a JavaDoc from my GitHub repository and publish it to a webpage like GitHub Page.</p>\n<p>I found this solution on StackOverflow: <a href=\"https://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions\">Publish automatically JavaDoc: with GitHub Actions</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.0.4\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc \n</code></pre>\n<p>But this solution works only for Maven, and not for Gradle.</p>\n<p>Someone know if is possible to adapt this for a Gradle project ?</p>\n"},{"tags":["java","stomp","spring-websocket"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670429938,"post_id":74719029,"comment_id":131875894,"body_markdown":"On Stack Overflow a question should focus only on a *single* problem. When you ask multiple questions it makes it difficult to identify a correct answer. For example, what if an answer only addresses one part of your question? Assuming that it&#39;s accurate, is it &quot;correct&quot;? What if there are 2 answers and they each accurately address different parts of your question. Which one is &quot;correct&quot;? This kind of ambiguity is bad for community involvement and devalues the content. Please ask questions that focus on a single issue. Thanks!","body":"On Stack Overflow a question should focus only on a <i>single</i> problem. When you ask multiple questions it makes it difficult to identify a correct answer. For example, what if an answer only addresses one part of your question? Assuming that it&#39;s accurate, is it &quot;correct&quot;? What if there are 2 answers and they each accurately address different parts of your question. Which one is &quot;correct&quot;? This kind of ambiguity is bad for community involvement and devalues the content. Please ask questions that focus on a single issue. Thanks!"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670429893,"creation_date":1670426546,"question_id":74719029,"body_markdown":"I&#39;ve struggled to connect the JS client with the Java server with a client using Stomp over WebSocket. The problem was fixed when I got rid of `.withSockJs()` while configuring `stompEndpoints`. Can someone explain to me what was the case here and why it happened? My understanding was that this method offers fallback but should not mess up a normal WebSocket connection.  \r\n### Working alternatives:\r\n```java\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;); \r\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\r\n}\r\n\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;); \r\n}\r\n```\r\n### Notworking case:\r\n```java\r\n@Override\r\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\r\n}\r\n```\r\nAlso: I have noticed that adding `.setAllowedOrigins(&quot;http://localhost:5050&quot;)` doesn&#39;t have any impact on communication in my case. I was able to connect to the server via a client on port `5050` but also via postman on `5555`. Before the problem with `withSockJs()` I struggled with a different problem related to CORS. The solution was to change the socket configuration on the client from SockJs to WebSocket but before finding this I tried many different approaches on the server side as I thought that my server implementation was the problem. I was working with `setAllowedOrigins`, but when I was finally able to connect I noticed that this method seems to not work. \r\n\r\nOne more question: How is the controller of WebSocket endpoints implemented? I want to keep track of active clients username to sessionId mapping. Do I need thread safe static map or all of messaging happen on a single thread? In other words, will there be more than one WebSocket controller instance if multiple clients are connected?","title":"Why .withSockJs seems to block Stomp over Websocket from connecting client with server","body":"<p>I've struggled to connect the JS client with the Java server with a client using Stomp over WebSocket. The problem was fixed when I got rid of <code>.withSockJs()</code> while configuring <code>stompEndpoints</code>. Can someone explain to me what was the case here and why it happened? My understanding was that this method offers fallback but should not mess up a normal WebSocket connection.</p>\n<h3>Working alternatives:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;); \n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\n}\n\n@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;); \n}\n</code></pre>\n<h3>Notworking case:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;).withSockJS();\n}\n</code></pre>\n<p>Also: I have noticed that adding <code>.setAllowedOrigins(&quot;http://localhost:5050&quot;)</code> doesn't have any impact on communication in my case. I was able to connect to the server via a client on port <code>5050</code> but also via postman on <code>5555</code>. Before the problem with <code>withSockJs()</code> I struggled with a different problem related to CORS. The solution was to change the socket configuration on the client from SockJs to WebSocket but before finding this I tried many different approaches on the server side as I thought that my server implementation was the problem. I was working with <code>setAllowedOrigins</code>, but when I was finally able to connect I noticed that this method seems to not work.</p>\n<p>One more question: How is the controller of WebSocket endpoints implemented? I want to keep track of active clients username to sessionId mapping. Do I need thread safe static map or all of messaging happen on a single thread? In other words, will there be more than one WebSocket controller instance if multiple clients are connected?</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":1,"creation_date":1450574467,"post_id":34377022,"comment_id":56495764,"body_markdown":"make sure that `Start.java`&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft.","body":"make sure that <code>Start.java</code>&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1450577415,"post_id":34377022,"comment_id":56496229,"body_markdown":"How would you do that? Could you link me to somewhere where it explains it?","body":"How would you do that? Could you link me to somewhere where it explains it?"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905491,"post_id":34377022,"comment_id":56629428,"body_markdown":"Does it happen only in debug or also when you use Run button?","body":"Does it happen only in debug or also when you use Run button?"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905567,"post_id":34377022,"comment_id":56629460,"body_markdown":"And make sure the project is built with no compliation/build problems","body":"And make sure the project is built with no compliation/build problems"},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450905595,"post_id":34377022,"comment_id":56629472,"body_markdown":"And also make sure that `Start.java`&#39;s package is the default package. That&#39;s where Java expects it to be (as the launcher is currently configured).","body":"And also make sure that <code>Start.java</code>&#39;s package is the default package. That&#39;s where Java expects it to be (as the launcher is currently configured)."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1450937709,"post_id":34377022,"comment_id":56638204,"body_markdown":"The Start.java file is in the default package.","body":"The Start.java file is in the default package."},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1450994620,"post_id":34377022,"comment_id":56658538,"body_markdown":"After building the project, check whether the `Start.class` file is created in the output folder. The output is in `Build Path --&gt; Configure Build Path... --&gt; Default output folder`.","body":"After building the project, check whether the <code>Start.class</code> file is created in the output folder. The output is in <code>Build Path --&gt; Configure Build Path... --&gt; Default output folder</code>."},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1451257802,"post_id":34377022,"comment_id":56713639,"body_markdown":"so are there any issues / problems with the project? Go to the Markers view and check whether there are &quot;Java Problems&quot; related to the project. Any Java error (as opposed to warnings) might prevent the compilation of `Start.java`.","body":"so are there any issues / problems with the project? Go to the Markers view and check whether there are &quot;Java Problems&quot; related to the project. Any Java error (as opposed to warnings) might prevent the compilation of <code>Start.java</code>."},{"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"score":0,"creation_date":1451291241,"post_id":34377022,"comment_id":56721884,"body_markdown":"I&#39;m new so how would i do that?","body":"I&#39;m new so how would i do that?"}],"answers":[{"tags":[],"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450739797,"creation_date":1450739797,"answer_id":34405984,"question_id":34377022,"body_markdown":"Making my comment an answer and adding the details you asked for:\r\n\r\nMake sure that `Start.java`&#39;s folder is defined as a source folder of the Eclipse project into which you imported Minecraft:\r\n\r\n 1. Right-click the project in `Project Explorer` view.\r\n 2. From the popup menu choose `Build Path` --&gt; `Configure Build Path...`.\r\n 3. In the popup dialog, if the `source` tab on the right pane isn&#39;t chosen - choose it.\r\n 4. If your source folder already appears on the folder list `Source folders on build path` - this isn&#39;t the problem. Otherwise -\r\n 5. Click `Add Folder...`.\r\n 5. In the popup `Source Folder Selection` dialog, select your source folder and click `OK`.\r\n 6. Click `OK` in the former dialog.\r\n 7. Wait for Eclipse to rebuild your project.\r\n 8. Run your main class again and see what happens.","title":"How to run minecraft in Debug mode","body":"<p>Making my comment an answer and adding the details you asked for:</p>\n\n<p>Make sure that <code>Start.java</code>'s folder is defined as a source folder of the Eclipse project into which you imported Minecraft:</p>\n\n<ol>\n<li>Right-click the project in <code>Project Explorer</code> view.</li>\n<li>From the popup menu choose <code>Build Path</code> --> <code>Configure Build Path...</code>.</li>\n<li>In the popup dialog, if the <code>source</code> tab on the right pane isn't chosen - choose it.</li>\n<li>If your source folder already appears on the folder list <code>Source folders on build path</code> - this isn't the problem. Otherwise -</li>\n<li>Click <code>Add Folder...</code>.</li>\n<li>In the popup <code>Source Folder Selection</code> dialog, select your source folder and click <code>OK</code>.</li>\n<li>Click <code>OK</code> in the former dialog.</li>\n<li>Wait for Eclipse to rebuild your project.</li>\n<li>Run your main class again and see what happens.</li>\n</ol>\n"}],"owner":{"account_id":7283239,"reputation":831,"user_id":5552231,"accept_rate":43,"display_name":"Bill Nye"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670429637,"creation_date":1450573340,"question_id":34377022,"body_markdown":"I&#39;m not even sure if you can ask this question here but I have the MCP which decompiles Minecraft code and allows you to edit it using eclipse. As you may know in Eclipse there is a feature called debug mode, whenever I click it, it says in the console. \r\n\r\n    Error: Could not find or load main class Start\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\r\n    \r\nI went to the Start.java file and tried the debug button again but it didn&#39;t work\r\nso I was just wondering if you guys know any way around it, The MCP is for 1.7.10 and it&#39;s default, not Minecraft Forge. If this is not the right place to ask just ignore it.\r\n`","title":"How to run minecraft in Debug mode","body":"<p>I'm not even sure if you can ask this question here but I have the MCP which decompiles Minecraft code and allows you to edit it using eclipse. As you may know in Eclipse there is a feature called debug mode, whenever I click it, it says in the console.</p>\n<pre><code>Error: Could not find or load main class Start\nJava HotSpot(TM) 64-Bit Server VM warning: Using incremental CMS is deprecated and will likely be removed in a future release\n</code></pre>\n<p>I went to the Start.java file and tried the debug button again but it didn't work\nso I was just wondering if you guys know any way around it, The MCP is for 1.7.10 and it's default, not Minecraft Forge. If this is not the right place to ask just ignore it.\n`</p>\n"},{"tags":["java","api","jenkins","inputstream","jenkins-api"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670420531,"post_id":74717529,"comment_id":131872258,"body_markdown":"That&#39;s because you are returning an html and not JSON. Change the `return` to return a JSON representation if `report`","body":"That&#39;s because you are returning an html and not JSON. Change the <code>return</code> to return a JSON representation if <code>report</code>"},{"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"score":0,"creation_date":1670421276,"post_id":74717529,"comment_id":131872519,"body_markdown":"Yes but if i set text/html as response it returns also 406","body":"Yes but if i set text/html as response it returns also 406"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670421710,"post_id":74717529,"comment_id":131872658,"body_markdown":"HTTP 406 means [Not Acceptable](https://www.rfc-editor.org/rfc/rfc2616#section-10.4.7), which means your REST service is returning a type which is not one of the types the caller expects.  The problem is on the calling end:  the caller is not including text/html in their [Accept](https://www.rfc-editor.org/rfc/rfc2616#section-14.1) request header.","body":"HTTP 406 means <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-10.4.7\" rel=\"nofollow noreferrer\">Not Acceptable</a>, which means your REST service is returning a type which is not one of the types the caller expects.  The problem is on the calling end:  the caller is not including text/html in their <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-14.1\" rel=\"nofollow noreferrer\">Accept</a> request header."}],"answers":[{"tags":[],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670429464,"creation_date":1670429464,"answer_id":74719647,"question_id":74717529,"body_markdown":"Like VGR stated. Problem was the caller which was not using text/html. Ive tested in swaggerui and set it to &quot;text/html&quot;. Works as expected. Was application/json beforen and the reason for working only with application json as produce annoation. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eTa4X.png","title":"Java return Inputstream via rest API with html file in inputstream","body":"<p>Like VGR stated. Problem was the caller which was not using text/html. Ive tested in swaggerui and set it to &quot;text/html&quot;. Works as expected. Was application/json beforen and the reason for working only with application json as produce annoation.</p>\n<p><a href=\"https://i.stack.imgur.com/eTa4X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eTa4X.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24477238,"reputation":48,"user_id":18396142,"display_name":"Karlito Brigante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74719647,"answer_count":1,"score":0,"last_activity_date":1670429464,"creation_date":1670420093,"question_id":74717529,"body_markdown":"I am currently trying to return an input stream via my API. The input stream contains an html file that I previously fetch from Jenkins via the Cdancy Jenkinsclient via the input stream. I want to pass this html through my endpoint. If I enter Json as @Produce, then the HTML content comes with the note that the JSON can not be parsed. If I specify another MediyType, then a 406 comes back. Is it even bestpractise to return an inputstream or should I transform it into an outputstream first?\r\n\r\nThis is my Code:\r\n\r\nEndpoint\r\n\r\n```\r\n@GET\r\n@Path(API_RESOURCE_IMAGE_REPORT)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\r\n@APIResponses(\r\n        value = {\r\n                @APIResponse(\r\n                        responseCode = &quot;200&quot;,\r\n                        description =\r\n                                &quot;&quot;,\r\n                        content = @Content(mediaType = MediaType.APPLICATION_JSON)),\r\n                @APIResponse(\r\n                        responseCode = &quot;400&quot;,\r\n                        description = &quot;&quot;,\r\n                        content =\r\n                        @Content(\r\n                                mediaType = MediaType.APPLICATION_JSON,\r\n                                schema = @Schema(implementation = ErrorResponseDO.class))),\r\n        })\r\npublic Response getReport(@Parameter(\r\n        description = &quot;&quot;,\r\n        required = true)\r\n                          @PathParam(&quot;imageName&quot;) final String imageName,\r\n                          @Parameter(description = &quot;&quot;, required = true)\r\n                          @PathParam(&quot;tag&quot;) final String tag,\r\n                          @Parameter(description = &quot;&quot;)\r\n                          @PathParam(&quot;type&quot;) String type\r\n) throws ApplicationException, IOException {\r\n\r\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\r\n\r\n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\r\n}\r\n```\r\n\r\nJenkinsclient:\r\n\r\n```\r\n    public InputStream getReport(final String imageName, final String tag, final String type) throws ApplicationException {\r\n\r\n        try {\r\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\r\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\r\n\r\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\r\n            \r\n\r\n            if (report == null) {\r\n                throw new NotFoundException();\r\n            }\r\n\r\n            return report;\r\n\r\n        } catch (Exception e) {\r\n            throw new NotFoundException();\r\n\r\n        }\r\n    }\r\n```\r\n\r\nOutput:\r\nOutput is 406 everytime (TEXT_HTML, OCTET_STREAM, TEXT_PLAINE).\r\nOnly with @Produces(MediaType.APPLICATION_JSON) it is successfull with the html code bud with the message: json cant be parsed.\r\n\r\nThanks for your help","title":"Java return Inputstream via rest API with html file in inputstream","body":"<p>I am currently trying to return an input stream via my API. The input stream contains an html file that I previously fetch from Jenkins via the Cdancy Jenkinsclient via the input stream. I want to pass this html through my endpoint. If I enter Json as @Produce, then the HTML content comes with the note that the JSON can not be parsed. If I specify another MediyType, then a 406 comes back. Is it even bestpractise to return an inputstream or should I transform it into an outputstream first?</p>\n<p>This is my Code:</p>\n<p>Endpoint</p>\n<pre><code>@GET\n@Path(API_RESOURCE_IMAGE_REPORT)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_OCTET_STREAM)\n@Operation(summary = &quot;&quot;, description = &quot;&quot;)\n@APIResponses(\n        value = {\n                @APIResponse(\n                        responseCode = &quot;200&quot;,\n                        description =\n                                &quot;&quot;,\n                        content = @Content(mediaType = MediaType.APPLICATION_JSON)),\n                @APIResponse(\n                        responseCode = &quot;400&quot;,\n                        description = &quot;&quot;,\n                        content =\n                        @Content(\n                                mediaType = MediaType.APPLICATION_JSON,\n                                schema = @Schema(implementation = ErrorResponseDO.class))),\n        })\npublic Response getReport(@Parameter(\n        description = &quot;&quot;,\n        required = true)\n                          @PathParam(&quot;imageName&quot;) final String imageName,\n                          @Parameter(description = &quot;&quot;, required = true)\n                          @PathParam(&quot;tag&quot;) final String tag,\n                          @Parameter(description = &quot;&quot;)\n                          @PathParam(&quot;type&quot;) String type\n) throws ApplicationException, IOException {\n\n    InputStream report = jenkinsClient.getReport(imageName, tag, type);\n\n    return Response.status(HttpURLConnection.HTTP_ACCEPTED).entity(report).build();\n}\n</code></pre>\n<p>Jenkinsclient:</p>\n<pre><code>    public InputStream getReport(final String imageName, final String tag, final String type) throws ApplicationException {\n\n        try {\n            final int lastSuccessfulBuildnumber = jenkinsClient.api().jobsApi().jobInfo(imageName, tag).lastSuccessfulBuild().number();\n            LOG.info(&quot;Last successful buildnumber: &quot; + lastSuccessfulBuildnumber);\n\n            final InputStream report = jenkinsClient.api().jobsApi().artifact(imageName, tag, lastSuccessfulBuildnumber, Objects.equals(type, &quot;image&quot;) ? &quot;trivy_image_report.html&quot; : &quot;trivy_Dockerfile_report.html&quot;);\n            \n\n            if (report == null) {\n                throw new NotFoundException();\n            }\n\n            return report;\n\n        } catch (Exception e) {\n            throw new NotFoundException();\n\n        }\n    }\n</code></pre>\n<p>Output:\nOutput is 406 everytime (TEXT_HTML, OCTET_STREAM, TEXT_PLAINE).\nOnly with @Produces(MediaType.APPLICATION_JSON) it is successfull with the html code bud with the message: json cant be parsed.</p>\n<p>Thanks for your help</p>\n"},{"tags":["javascript","java","wordpress","accordion","divi"],"answers":[{"comments":[{"owner":{"account_id":25896985,"reputation":3,"user_id":19623418,"display_name":"sir_gra"},"score":0,"creation_date":1670493497,"post_id":74719598,"comment_id":131889808,"body_markdown":"Thanks for your input, unfortunately it didn&#39;t work but you gave me a good idea of a easy work around via css - will post my solution once I figured it out.","body":"Thanks for your input, unfortunately it didn&#39;t work but you gave me a good idea of a easy work around via css - will post my solution once I figured it out."}],"tags":[],"owner":{"account_id":26410911,"reputation":25,"user_id":20060023,"display_name":"Jeroen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670429168,"creation_date":1670429168,"answer_id":74719598,"question_id":74717665,"body_markdown":"I&#39;m no JS expert but couldn&#39;t you add a css class and this class would use the :last-child pseudo class, set to display: none; ?","title":"DIVI accordion have last item open","body":"<p>I'm no JS expert but couldn't you add a css class and this class would use the :last-child pseudo class, set to display: none; ?</p>\n"}],"owner":{"account_id":25896985,"reputation":3,"user_id":19623418,"display_name":"sir_gra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670429168,"creation_date":1670420741,"question_id":74717665,"body_markdown":"As the title states I&#39;d like to always have the last item on the DIVI accordion module open by default. As I&#39;m not good in coding JavaScript and I couldn&#39;t find anything helpful on the internet I thought I&#39;d ask here for help. \r\n\r\nAt the moment I use this code but it&#39;s only closing all accordions.\r\n\r\n\r\n```\r\n&lt;script&gt;\r\njQuery(document).ready(function(){\r\n    var setState = &quot;close&quot;;\r\n    if(setState == &quot;open&quot;){\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_close&quot;);\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_open&quot;);\r\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;block&quot;);\r\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_title&quot;).addClass(&quot;all_on&quot;);\r\n        jQuery(&quot;.all_on&quot;).on(&quot;click&quot;, function(){\r\n            \r\n            \r\n            if(jQuery(this).parent().hasClass(&quot;et_pb_toggle_open&quot;)){\r\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_open&quot;);\r\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_close&quot;);\r\n                jQuery(this).parent().css(&quot;padding&quot;, &quot;20px&quot;);\r\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_close&quot;);\r\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_open&quot;);\r\n                jQuery(this).parent().siblings().css(&quot;padding&quot;, &quot;20px&quot;);\r\n              \t\r\n            }\r\n          jQuery(this).removeClass(&quot;all_on&quot;);\r\n        \r\n            \r\n        })\r\n        \r\n    }else{\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_open&quot;);\r\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_close&quot;);\r\n        jQuery(&quot;.et_pb_toggle_close .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;none&quot;);\r\n    }\r\n})\r\n&lt;/script&gt;\r\n```\r\n","title":"DIVI accordion have last item open","body":"<p>As the title states I'd like to always have the last item on the DIVI accordion module open by default. As I'm not good in coding JavaScript and I couldn't find anything helpful on the internet I thought I'd ask here for help.</p>\n<p>At the moment I use this code but it's only closing all accordions.</p>\n<pre><code>&lt;script&gt;\njQuery(document).ready(function(){\n    var setState = &quot;close&quot;;\n    if(setState == &quot;open&quot;){\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_close&quot;);\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_open&quot;);\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;block&quot;);\n        jQuery(&quot;.et_pb_toggle_open .et_pb_toggle_title&quot;).addClass(&quot;all_on&quot;);\n        jQuery(&quot;.all_on&quot;).on(&quot;click&quot;, function(){\n            \n            \n            if(jQuery(this).parent().hasClass(&quot;et_pb_toggle_open&quot;)){\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_open&quot;);\n                jQuery(this).parent().removeClass(&quot;et_pb_toggle_close&quot;);\n                jQuery(this).parent().css(&quot;padding&quot;, &quot;20px&quot;);\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_close&quot;);\n                jQuery(this).parent().siblings().removeClass(&quot;et_pb_toggle_open&quot;);\n                jQuery(this).parent().siblings().css(&quot;padding&quot;, &quot;20px&quot;);\n                \n            }\n          jQuery(this).removeClass(&quot;all_on&quot;);\n        \n            \n        })\n        \n    }else{\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).removeClass(&quot;et_pb_toggle_open&quot;);\n        jQuery(&quot;.module-akkrodion .et_pb_toggle&quot;).addClass(&quot;et_pb_toggle_close&quot;);\n        jQuery(&quot;.et_pb_toggle_close .et_pb_toggle_content&quot;).css(&quot;display&quot;, &quot;none&quot;);\n    }\n})\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670427637,"post_id":74719144,"comment_id":131875016,"body_markdown":"The target of the argument in the `MyJsonProvider` must be a functional interface of the appropriate type whether it is a lambda or a method reference.","body":"The target of the argument in the <code>MyJsonProvider</code> must be a functional interface of the appropriate type whether it is a lambda or a method reference."},{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1670428045,"post_id":74719144,"comment_id":131875176,"body_markdown":"Yes, it should be. But how do you convert the typing from a `Method` ? I can&#39;t just hard-code `new MyJsonProvider(resource, MyClass::converter)` into the extension. I need to somehow pass it dynamically. Hence the annotations. :)","body":"Yes, it should be. But how do you convert the typing from a <code>Method</code> ? I can&#39;t just hard-code <code>new MyJsonProvider(resource, MyClass::converter)</code> into the extension. I need to somehow pass it dynamically. Hence the annotations. :)"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670428121,"post_id":74719144,"comment_id":131875209,"body_markdown":"Does the method already take a Functional interface or just the argument to be processed?   And passing a lambda still requires that the target method be able to apply some argument which would normally be provided to the method itself. (I.e. the method must also be able to invoke that lambda).","body":"Does the method already take a Functional interface or just the argument to be processed?   And passing a lambda still requires that the target method be able to apply some argument which would normally be provided to the method itself. (I.e. the method must also be able to invoke that lambda)."},{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1670428829,"post_id":74719144,"comment_id":131875505,"body_markdown":"I&#39;ve updated the question with more code example -- I hope this would bring more clarity.","body":"I&#39;ve updated the question with more code example -- I hope this would bring more clarity."}],"answers":[{"comments":[{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":0,"creation_date":1670429280,"post_id":74719350,"comment_id":131875678,"body_markdown":"Hmm... the `Supplier&lt;&gt;` idea might actually work in my case. I&#39;ll need a hour or two to confirm and if it does will mark this as the answer . :)","body":"Hmm... the <code>Supplier&lt;&gt;</code> idea might actually work in my case. I&#39;ll need a hour or two to confirm and if it does will mark this as the answer . :)"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670429403,"post_id":74719350,"comment_id":131875708,"body_markdown":"Ok.  And I am not fluent on using annotations so my help may be limited.  That also gives others more time to weigh in.","body":"Ok.  And I am not fluent on using annotations so my help may be limited.  That also gives others more time to weigh in."},{"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"score":1,"creation_date":1670435190,"post_id":74719350,"comment_id":131877734,"body_markdown":"I confirm having a `Supplier` seems to be the only way to go. You would also need to do a few `unchecked` casts because the reference comes from a `java.lang.Method`, but other than that it works for the specific scenario. Thanks for the help! :)","body":"I confirm having a <code>Supplier</code> seems to be the only way to go. You would also need to do a few <code>unchecked</code> casts because the reference comes from a <code>java.lang.Method</code>, but other than that it works for the specific scenario. Thanks for the help! :)"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670428036,"creation_date":1670428036,"answer_id":74719350,"question_id":74719144,"body_markdown":"The method parameter needs to be a Functional interface of the type of the method reference.\r\n```\r\nMyMethod(() -&gt; &quot;Hello, World!&quot;);\r\n\r\nSupplier&lt;String&gt; supplier = () -&gt; &quot;Hello, World!&quot;;\r\nMyMethod(supplier);\r\nMyMethod(supplier::get);\r\nMyMethod2(supplier.get());\r\n\r\n\r\npublic static void MyMethod(Supplier&lt;String&gt; sup) {\r\n    System.out.println(sup.get());\r\n}\r\n\r\npublic static void MyMethod2(String value) {\r\n    System.out.println(value);\r\n}\r\n```\r\nprints\r\n```\r\nHello, World!\r\nHello, World!\r\nHello, World!\r\nHello, World!\r\n","title":"How to convert a Method into a lambda reference","body":"<p>The method parameter needs to be a Functional interface of the type of the method reference.</p>\n<pre><code>MyMethod(() -&gt; &quot;Hello, World!&quot;);\n\nSupplier&lt;String&gt; supplier = () -&gt; &quot;Hello, World!&quot;;\nMyMethod(supplier);\nMyMethod(supplier::get);\nMyMethod2(supplier.get());\n\n\npublic static void MyMethod(Supplier&lt;String&gt; sup) {\n    System.out.println(sup.get());\n}\n\npublic static void MyMethod2(String value) {\n    System.out.println(value);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Hello, World!\nHello, World!\nHello, World!\nHello, World!\n</code></pre>\n"}],"owner":{"account_id":168379,"reputation":16435,"user_id":393805,"accept_rate":80,"display_name":"tftd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74719350,"answer_count":1,"score":1,"last_activity_date":1670428800,"creation_date":1670427077,"question_id":74719144,"body_markdown":"I&#39;m writing some jUnit5 extensions to make it easier to test some code.\r\nThe extension has these annotations:\r\n``` java\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Inherited\r\n@Test\r\n@ExtendWith({CustomJunit5Extension.class})\r\npublic @interface MyAnnotation {\r\n   String jsonFile;\r\n   Class&lt;?&gt; converter;\r\n}\r\n\r\n// test case\r\nclass Test {\r\n   @MyAnnotation(converter = MyClass.class)\r\n   void someTest();\r\n}\r\n\r\n// Some class which contains a converter method annotated with @JsonConverterMethod\r\npublic class MyClass {\r\n    @JsonConverterMethod\r\n    public static Car converter(String jsonLine);\r\n}\r\n\r\n// jUnit5 extension\r\npublic class CustomJunit5Extension implements ParameterResolver, AfterEachCallback, AfterAllCallback {\r\n\r\n   // ultra simplified version\r\n   public Object resolveParameter(ParameterContext pctx, ExtensionContext ectx) throws ParameterResolutionException {\r\n      final MyAnnotation annotation = getAnnotation(pctx, ectx);\r\n      final Method converterMethod = getMethodByAnnotation(annotation.converter(), JsonConverterMethod.class);\r\n\r\n      @SuppressWarnings({&quot;unchecked&quot;})\r\n      final var converter = needs to become a \r\n                            direct reference to MyClass::converter\r\n                            without hardcoding it, because you can\r\n                            have other classes providing different\r\n                            jsonString to Object converters;\r\n\r\n      final JsonCandleProvider provider = new JsonCandleProvider(resource, converter);\r\n\r\n      return provider;\r\n   }\r\n\r\n}\r\n```\r\n\r\nHence the question - how to convert a `Method` reference into a `Lambda` reference so I could pass it to the `MyJsonProvider`? Or how would you achieve a similar result in another way maybe?\r\n","title":"How to convert a Method into a lambda reference","body":"<p>I'm writing some jUnit5 extensions to make it easier to test some code.\nThe extension has these annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@Test\n@ExtendWith({CustomJunit5Extension.class})\npublic @interface MyAnnotation {\n   String jsonFile;\n   Class&lt;?&gt; converter;\n}\n\n// test case\nclass Test {\n   @MyAnnotation(converter = MyClass.class)\n   void someTest();\n}\n\n// Some class which contains a converter method annotated with @JsonConverterMethod\npublic class MyClass {\n    @JsonConverterMethod\n    public static Car converter(String jsonLine);\n}\n\n// jUnit5 extension\npublic class CustomJunit5Extension implements ParameterResolver, AfterEachCallback, AfterAllCallback {\n\n   // ultra simplified version\n   public Object resolveParameter(ParameterContext pctx, ExtensionContext ectx) throws ParameterResolutionException {\n      final MyAnnotation annotation = getAnnotation(pctx, ectx);\n      final Method converterMethod = getMethodByAnnotation(annotation.converter(), JsonConverterMethod.class);\n\n      @SuppressWarnings({&quot;unchecked&quot;})\n      final var converter = needs to become a \n                            direct reference to MyClass::converter\n                            without hardcoding it, because you can\n                            have other classes providing different\n                            jsonString to Object converters;\n\n      final JsonCandleProvider provider = new JsonCandleProvider(resource, converter);\n\n      return provider;\n   }\n\n}\n</code></pre>\n<p>Hence the question - how to convert a <code>Method</code> reference into a <code>Lambda</code> reference so I could pass it to the <code>MyJsonProvider</code>? Or how would you achieve a similar result in another way maybe?</p>\n"},{"tags":["java","html","string","tags"],"comments":[{"owner":{"account_id":137815,"reputation":798,"user_id":342294,"accept_rate":77,"display_name":"Assaf"},"score":0,"creation_date":1274003792,"post_id":2843258,"comment_id":2885844,"body_markdown":"sorry, the &quot;What is up&quot; is surrounded with the bold tags which is not shown in the question (&quot;&lt;b&gt;&quot;,&quot;&lt;/b&gt;&quot;)","body":"sorry, the &quot;What is up&quot; is surrounded with the bold tags which is not shown in the question (&quot;&lt;b&gt;&quot;,&quot;&lt;/b&gt;&quot;)"},{"owner":{"account_id":79902,"reputation":15692,"user_id":226266,"accept_rate":95,"display_name":"nc3b"},"score":0,"creation_date":1274004086,"post_id":2843258,"comment_id":2885860,"body_markdown":"Select that block of text and click the `101 010` button.","body":"Select that block of text and click the <code>101 010</code> button."},{"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"score":0,"creation_date":1274004893,"post_id":2843258,"comment_id":2885885,"body_markdown":"How did you try to solve the problem? Are you asking for ready solution or have tried and haven&#39;t succeeded? And why you didn&#39;t ask the &quot;someone&quot; who told you that using matcher is the best?","body":"How did you try to solve the problem? Are you asking for ready solution or have tried and haven&#39;t succeeded? And why you didn&#39;t ask the &quot;someone&quot; who told you that using matcher is the best?"}],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1274005619,"creation_date":1274005245,"answer_id":2843321,"question_id":2843258,"body_markdown":"If your string is simple like this all the time, you could use the java [`Pattern`][1] indeed. But if your strings get more complicated and you want to extract contents from nested structures, you should really use a HTML parser.\r\n\r\nFor choosing the right parser look at this question: [Which HTML parser is best][2].\r\n\r\nIf you stay with patterns, your regex will look like this:\r\n\r\n    Pattern pattern = Pattern.compile( &quot;&lt;b&gt;(.*?)&lt;/b&gt;&quot; );\r\n    Matcher m = pattern.matcher( &quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot; );\r\n    if( m.find() ) {\r\n        String theStringYouAreLookingFor = m.group( 1 );\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://stackoverflow.com/questions/2168610/which-html-parser-is-best","title":"Tear subString from within HTML tags with JAVA","body":"<p>If your string is simple like this all the time, you could use the java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> indeed. But if your strings get more complicated and you want to extract contents from nested structures, you should really use a HTML parser.</p>\n\n<p>For choosing the right parser look at this question: <a href=\"https://stackoverflow.com/questions/2168610/which-html-parser-is-best\">Which HTML parser is best</a>.</p>\n\n<p>If you stay with patterns, your regex will look like this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile( \"&lt;b&gt;(.*?)&lt;/b&gt;\" );\nMatcher m = pattern.matcher( \"neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind\" );\nif( m.find() ) {\n    String theStringYouAreLookingFor = m.group( 1 );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25666732,"reputation":13,"user_id":19431556,"display_name":"Madsinceborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670428648,"creation_date":1670428648,"answer_id":74719484,"question_id":2843258,"body_markdown":"If you want it without matcher\r\n\r\n    \t\tString a=&quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot;;\r\n\t\tint index1=a.indexOf(&quot;&gt;&quot;);\r\n\t\tint index2=a.indexOf(&quot;&lt;/b&gt;&quot;);\r\n\t\tString finalString=a.substring(index1+1, index2);\r\n\t\tSystem.out.println(finalString);","title":"Tear subString from within HTML tags with JAVA","body":"<p>If you want it without matcher</p>\n<pre><code>        String a=&quot;neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind&quot;;\n    int index1=a.indexOf(&quot;&gt;&quot;);\n    int index2=a.indexOf(&quot;&lt;/b&gt;&quot;);\n    String finalString=a.substring(index1+1, index2);\n    System.out.println(finalString);\n</code></pre>\n"}],"owner":{"account_id":137815,"reputation":798,"user_id":342294,"accept_rate":77,"display_name":"Assaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1971,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2843321,"answer_count":2,"score":1,"last_activity_date":1670428648,"creation_date":1274003714,"question_id":2843258,"body_markdown":"let say i have a string like this &quot;`neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind`&quot; and I want to take out the What is up using regexp with JAVA. Someone told me that using matcher will be the best. Can anyone show me how to do it using Matcher?  \r\nOther solutions are welcome too!\r\nThanks!","title":"Tear subString from within HTML tags with JAVA","body":"<p>let say i have a string like this \"<code>neverMind&lt;b&gt;What is up&lt;/b&gt;neverMind</code>\" and I want to take out the What is up using regexp with JAVA. Someone told me that using matcher will be the best. Can anyone show me how to do it using Matcher?<br>\nOther solutions are welcome too!\nThanks!</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1670427206,"post_id":74719159,"comment_id":131874848,"body_markdown":"Maybe you need one of the paid versions?","body":"Maybe you need one of the paid versions?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1670427297,"post_id":74719159,"comment_id":131874890,"body_markdown":"https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce","body":"<a href=\"https://www.jetbrains.com/products/compare/?product=idea&amp;product=idea-ce\" rel=\"nofollow noreferrer\">jetbrains.com/products/compare/&hellip;</a>"},{"owner":{"account_id":7548764,"reputation":3336,"user_id":5730949,"display_name":"isaace"},"score":0,"creation_date":1670428656,"post_id":74719159,"comment_id":131875426,"body_markdown":"or use eclipse for free","body":"or use eclipse for free"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670435278,"post_id":74719159,"comment_id":131877771,"body_markdown":"Notice the “Ultimate” colored tag in [the documentation](https://www.jetbrains.com/help/idea/database-tool-window.html). That means this is a premium feature available only in the Ultimate edition of IntelliJ. Ultimate edition is a commercial product requiring a fee.","body":"Notice the “Ultimate” colored tag in <a href=\"https://www.jetbrains.com/help/idea/database-tool-window.html\" rel=\"nofollow noreferrer\">the documentation</a>. That means this is a premium feature available only in the Ultimate edition of IntelliJ. Ultimate edition is a commercial product requiring a fee."}],"answers":[{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670427338,"creation_date":1670427338,"answer_id":74719208,"question_id":74719159,"body_markdown":"Is only available on the ultimate version. Community version does not have that.","title":"InteliJ does not allow database connection","body":"<p>Is only available on the ultimate version. Community version does not have that.</p>\n"},{"tags":[],"owner":{"account_id":16840783,"reputation":143,"user_id":12176236,"display_name":"Thisara_Welmilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670428323,"creation_date":1670428323,"answer_id":74719418,"question_id":74719159,"body_markdown":"According to your screenshot, I think plugins are not listing as marketplace has not loaded properly\r\n\r\nRefer: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded","title":"InteliJ does not allow database connection","body":"<p>According to your screenshot, I think plugins are not listing as marketplace has not loaded properly</p>\n<p>Refer: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360004275380-Marketplace-Plugins-are-not-loaded</a></p>\n"}],"owner":{"account_id":20539655,"reputation":5,"user_id":15074825,"display_name":"Claudia Martins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670428323,"creation_date":1670427142,"question_id":74719159,"body_markdown":"I&#39;m new to java and InteliJ. I downloaded IntelliJ IDEA 2022.3 (Community Edition) but it does not seem to have &quot;Database&quot; under &quot;View&quot; &gt; &quot;Tool Windows&quot; : \r\n\r\n[InteliJ_Screenshot][1]\r\n\r\n\r\nUnfortunately I can not find the &quot;Database Navigation&quot; under the plugins :\r\n\r\n[Pluigins][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eGSDJ.png\r\n  [2]: https://i.stack.imgur.com/RABCJ.png","title":"InteliJ does not allow database connection","body":"<p>I'm new to java and InteliJ. I downloaded IntelliJ IDEA 2022.3 (Community Edition) but it does not seem to have &quot;Database&quot; under &quot;View&quot; &gt; &quot;Tool Windows&quot; :</p>\n<p><a href=\"https://i.stack.imgur.com/eGSDJ.png\" rel=\"nofollow noreferrer\">InteliJ_Screenshot</a></p>\n<p>Unfortunately I can not find the &quot;Database Navigation&quot; under the plugins :</p>\n<p><a href=\"https://i.stack.imgur.com/RABCJ.png\" rel=\"nofollow noreferrer\">Pluigins</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583401956,"creation_date":1583401956,"answer_id":60542478,"question_id":60542281,"body_markdown":"You can use `Arrays.stream()` like this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\r\n\tInteger[] sortedArr = Arrays.stream(arr)\t// stream the content\r\n\t\t\t\t\t\t\t// sort it in reverse order\r\n\t\t\t\t\t\t\t.sorted(Collections.reverseOrder())\r\n\t\t\t\t\t\t\t// and define a data structure for the result\r\n\t\t\t\t\t\t\t.toArray(Integer[]::new);\r\n\t// output the result\r\n\tArrays.stream(sortedArr).forEach(i -&gt; System.out.print(i + &quot; &quot;));\r\n}\r\n```\r\n\r\nThe output is \r\n\r\n```lang-none\r\n100 45 21 13 9 7 6 2 \r\n```","title":"Sort Int array using lambda java 8","body":"<p>You can use <code>Arrays.stream()</code> like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n\n    Integer[] sortedArr = Arrays.stream(arr)    // stream the content\n                            // sort it in reverse order\n                            .sorted(Collections.reverseOrder())\n                            // and define a data structure for the result\n                            .toArray(Integer[]::new);\n    // output the result\n    Arrays.stream(sortedArr).forEach(i -&gt; System.out.print(i + \" \"));\n}\n</code></pre>\n\n<p>The output is </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>100 45 21 13 9 7 6 2 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583401981,"creation_date":1583401981,"answer_id":60542487,"question_id":60542281,"body_markdown":"You can use `Arrays.asList` to make it `List&lt;Integer&gt;` and then use stream.sorted() method to sort integer list like this:\r\n\r\n`Arrays.asList(arr).stream().sorted().forEach(System.out::println);`\r\n\t\t\r\nAnd for reverse :\r\n\r\n`Arrays.asList(arr).stream().sorted(Comparator.reverseOrder()).forEach(System.out::println)`;","title":"Sort Int array using lambda java 8","body":"<p>You can use <code>Arrays.asList</code> to make it <code>List&lt;Integer&gt;</code> and then use stream.sorted() method to sort integer list like this:</p>\n\n<p><code>Arrays.asList(arr).stream().sorted().forEach(System.out::println);</code></p>\n\n<p>And for reverse :</p>\n\n<p><code>Arrays.asList(arr).stream().sorted(Comparator.reverseOrder()).forEach(System.out::println)</code>;</p>\n"},{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583402832,"creation_date":1583402832,"answer_id":60542782,"question_id":60542281,"body_markdown":"Assuming it&#39;s the `Comparator&lt;Integer&gt;` that you want to specify using a lambda :\r\n\r\n    Arrays.sort(arr, (x,y) -&gt; y-x);\r\n\r\n`Comparator&lt;Integer&gt;` is a `@FunctionalInterface` and can be implemented by using a lambda to define its abstract method `int compare(T in1, T in2)`. This lambda will have to be of the form `(param1, param2) -&gt; expression that returns an int` to conform to the signature of `compare`.\r\n\r\nThe method must &quot;Return a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.&quot;. In our case since we sort in descending order we want the smallest integer to be considered as &quot;greatest&quot; in the context of our sort order, which we achieve by substracting the first element from the second (if in1 &gt; in2 then in2 - in1 &lt; 0 then in1 comes before in2 and conversely).\r\n\r\nYou can [try it here](https://ideone.com/2ErOY9).","title":"Sort Int array using lambda java 8","body":"<p>Assuming it's the <code>Comparator&lt;Integer&gt;</code> that you want to specify using a lambda :</p>\n\n<pre><code>Arrays.sort(arr, (x,y) -&gt; y-x);\n</code></pre>\n\n<p><code>Comparator&lt;Integer&gt;</code> is a <code>@FunctionalInterface</code> and can be implemented by using a lambda to define its abstract method <code>int compare(T in1, T in2)</code>. This lambda will have to be of the form <code>(param1, param2) -&gt; expression that returns an int</code> to conform to the signature of <code>compare</code>.</p>\n\n<p>The method must \"Return a negative integer, zero, or a positive integer as the first argument is less than, equal to, or greater than the second.\". In our case since we sort in descending order we want the smallest integer to be considered as \"greatest\" in the context of our sort order, which we achieve by substracting the first element from the second (if in1 > in2 then in2 - in1 &lt; 0 then in1 comes before in2 and conversely).</p>\n\n<p>You can <a href=\"https://ideone.com/2ErOY9\" rel=\"nofollow noreferrer\">try it here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614095326,"creation_date":1614095326,"answer_id":66336442,"question_id":60542281,"body_markdown":"If you look at the JDK Documentation :\r\n[Arrays.sort][1] : \r\nThis method accept two arguments : \r\n\r\n 1.  the array to be sorted\r\n 2. the [Comparator][2] used for sorting\r\n\r\nfor the comparator you have 3 choices :\r\n \r\n\r\n 1. use a separate classes  \r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Example {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr, new MyComparator());\r\n\t}\r\n\r\n}\r\n\r\nclass MyComparator implements Comparator&lt;Integer&gt;{\r\n\r\n\t@Override\r\n\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\r\n\t\treturn o1-o2;\r\n\t}\r\n\t\r\n}\r\n```\r\n 2. use an anonymous class  \r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\npublic class Example {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr, new Comparator&lt;Integer&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Integer o1, Integer o2) {\r\n\t\t\t\t\r\n\t\t\t\treturn o1-o2;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```\r\n 3. use a lambda expression (Java 1.8)\r\n```\r\npackage com.nejeoui;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Example {\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\t\tArrays.sort(arr,  (o1,o2)-&gt; o1-o2 );\r\n\t}\r\n\r\n}\r\n```\r\nAs you may notice the Lambda expression is less verbose and elegant way to write anonymous classes from a [functional interface][3] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(T[],%20java.util.Comparator)\r\n  [2]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Comparator.html\r\n  [3]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/FunctionalInterface.html","title":"Sort Int array using lambda java 8","body":"<p>If you look at the JDK Documentation :\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort(T%5B%5D,%20java.util.Comparator)\" rel=\"nofollow noreferrer\">Arrays.sort</a> :\nThis method accept two arguments :</p>\n<ol>\n<li>the array to be sorted</li>\n<li>the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> used for sorting</li>\n</ol>\n<p>for the comparator you have 3 choices :</p>\n<ol>\n<li>use a separate classes</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Example {\n    \n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr, new MyComparator());\n    }\n\n}\n\nclass MyComparator implements Comparator&lt;Integer&gt;{\n\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        \n        return o1-o2;\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>use an anonymous class</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Example {\n    \n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer o1, Integer o2) {\n                \n                return o1-o2;\n            }\n        });\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>use a lambda expression (Java 1.8)</li>\n</ol>\n<pre><code>package com.nejeoui;\n\nimport java.util.Arrays;\n\npublic class Example {\n    public static void main(String[] args) {\n        Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n        Arrays.sort(arr,  (o1,o2)-&gt; o1-o2 );\n    }\n\n}\n</code></pre>\n<p>As you may notice the Lambda expression is less verbose and elegant way to write anonymous classes from a <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">functional interface</a></p>\n"},{"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1614201120,"post_id":66336504,"comment_id":117316938,"body_markdown":"really useful answer, as it shows two alternatives for the desired result.","body":"really useful answer, as it shows two alternatives for the desired result."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1614098073,"creation_date":1614095556,"answer_id":66336504,"question_id":60542281,"body_markdown":"[`Arrays#sort`][1] requires a `Comparator` to sort the array. You can reverse the order of arguments to [`Comparator#compare`][2] for the comparison to happen in the reverse order.\r\n\r\nWithout lambda, you would do it as\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\r\n    \r\n    \t\tArrays.sort(arr, new Comparator&lt;Integer&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(Integer x, Integer y) {\r\n    \t\t\t\treturn Integer.compare(y, x);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [100, 45, 21, 13, 9, 7, 6, 2]\r\n\r\nLambda helps you get rid of all the things enclosed by a rectangle in the picture given below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe things enclosed by a green rectangle are not required when you have just one statement in the body.\r\n\r\nThus, using lambda, the code becomes:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\r\n    \t\tArrays.sort(arr, (x, y) -&gt; Integer.compare(y, x));\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [100, 45, 21, 13, 9, 7, 6, 2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\r\n  [3]: https://i.stack.imgur.com/DVID5.png","title":"Sort Int array using lambda java 8","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Arrays#sort</code></a> requires a <code>Comparator</code> to sort the array. You can reverse the order of arguments to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\"><code>Comparator#compare</code></a> for the comparison to happen in the reverse order.</p>\n<p>Without lambda, you would do it as</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class Main {\n    public static void main(String[] args) {\n        Integer[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\n\n        Arrays.sort(arr, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer x, Integer y) {\n                return Integer.compare(y, x);\n            }\n        });\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[100, 45, 21, 13, 9, 7, 6, 2]\n</code></pre>\n<p>Lambda helps you get rid of all the things enclosed by a rectangle in the picture given below:</p>\n<p><a href=\"https://i.stack.imgur.com/DVID5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DVID5.png\" alt=\"enter image description here\" /></a></p>\n<p>The things enclosed by a green rectangle are not required when you have just one statement in the body.</p>\n<p>Thus, using lambda, the code becomes:</p>\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        Integer[] arr = { 13, 7, 6, 45, 21, 9, 2, 100 };\n        Arrays.sort(arr, (x, y) -&gt; Integer.compare(y, x));\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[100, 45, 21, 13, 9, 7, 6, 2]\n</code></pre>\n"}],"owner":{"account_id":1419026,"reputation":1952,"user_id":1344049,"display_name":"Dipankar Baghel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":66336504,"answer_count":5,"score":3,"last_activity_date":1670428277,"creation_date":1583401382,"question_id":60542281,"body_markdown":"Just to understand `Lambda` better I have a array of integer like below - \r\n\r\n    Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\r\n\r\n\r\nI want to sort the array using `Lambda` function of Java 8.\r\nI have used\r\n\r\n `Arrays.sort(arr, Collections.reverseOrder());` \r\n\r\nbut I want to sort it using `Lambda` of Java 8 any detailed explanation would be appreciated.","title":"Sort Int array using lambda java 8","body":"<p>Just to understand <code>Lambda</code> better I have a array of integer like below -</p>\n<pre><code>Integer[] arr = {13, 7, 6, 45, 21, 9, 2, 100};\n</code></pre>\n<p>I want to sort the array using <code>Lambda</code> function of Java 8.\nI have used</p>\n<p><code>Arrays.sort(arr, Collections.reverseOrder());</code></p>\n<p>but I want to sort it using <code>Lambda</code> of Java 8 any detailed explanation would be appreciated.</p>\n"},{"tags":["java","sed","replace"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670428588,"post_id":74719385,"comment_id":131875391,"body_markdown":"That Windows command line you&#39;re showing is not `cmd` but PowerShell. Can you try replacing `{&quot;cmd&quot;, &quot;/c&quot;, &quot;...&quot;}` with `{&quot;powershell&quot;, &quot;-Command&quot;, &quot;...&quot;}`?","body":"That Windows command line you&#39;re showing is not <code>cmd</code> but PowerShell. Can you try replacing <code>{&quot;cmd&quot;, &quot;&#47;c&quot;, &quot;...&quot;}</code> with <code>{&quot;powershell&quot;, &quot;-Command&quot;, &quot;...&quot;}</code>?"},{"owner":{"account_id":12946254,"reputation":63,"user_id":9360524,"display_name":"pancake"},"score":0,"creation_date":1670428942,"post_id":74719385,"comment_id":131875558,"body_markdown":"`String[] cmdarr = {&quot;powershell&quot;, &quot;-Command&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; test2.txt&quot;};` - the same issue, it runs and nothing new or changed.","body":"<code>String[] cmdarr = {&quot;powershell&quot;, &quot;-Command&quot;, &quot;sed &#39;s&#47;oldstring&#47;newstring&#47;g&#39; test.txt &gt; test2.txt&quot;};</code> - the same issue, it runs and nothing new or changed."}],"owner":{"account_id":12946254,"reputation":63,"user_id":9360524,"display_name":"pancake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670428194,"creation_date":1670428194,"question_id":74719385,"body_markdown":"I&#39;m able to use `sed` from command line on Windows:\r\n\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestoldstringtesttest\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i &#39;s/oldstring/newstring/g&#39; test.txt\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestnewstringtesttest\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i &#39;s/newstring/oldstringagain/g&#39; test.txt\r\n    PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\r\n    Testtestoldstringagaintesttest\r\n\r\nI&#39;m trying to do it in Java code:\r\n\r\n    public class CmdTest {\r\n        public static void main(String[] args) throws IOException {\r\n            String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i &#39;s/oldstring/newstring/g&#39; test.txt&quot;};\r\n    \r\n            Process runCmd = Runtime.getRuntime().exec(cmdarr);\r\n        }\r\n    }\r\nProcess finish without exception but the file test.txt is not changed/updated. \r\nI tried also:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; test2.txt&quot;};\r\n        Process runCmd = Runtime.getRuntime().exec(cmdarr);\r\n\r\nand also with absoulute paths to file. \r\n\r\nWhat is confusing for me - when I set path:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i &#39;s/oldstring/newstring/g&#39; notexist_badFile.txt&quot;};\r\nit doesn&#39;t throw exception. \r\nIn terminal I get `No such file or directory`.\r\n\r\nIt means that my command is not run correctly? But it is run because when I run command:\r\n\r\n        String[] cmdarr = {&quot;cmd&quot;, &quot;/c&quot;, &quot;sed &#39;s/oldstring/newstring/g&#39; test.txt &gt; \r\n        test2.txt&quot;};\r\n\r\nempty file `test2.txt` was created... ","title":"sed for replace works manually but doesn&#39;t work from Java code","body":"<p>I'm able to use <code>sed</code> from command line on Windows:</p>\n<pre><code>PS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestoldstringtesttest\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i 's/oldstring/newstring/g' test.txt\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestnewstringtesttest\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; sed -i 's/newstring/oldstringagain/g' test.txt\nPS C:\\workspace\\test_seek\\src\\main\\java\\org\\example&gt; cat .\\test.txt\nTesttestoldstringagaintesttest\n</code></pre>\n<p>I'm trying to do it in Java code:</p>\n<pre><code>public class CmdTest {\n    public static void main(String[] args) throws IOException {\n        String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i 's/oldstring/newstring/g' test.txt&quot;};\n\n        Process runCmd = Runtime.getRuntime().exec(cmdarr);\n    }\n}\n</code></pre>\n<p>Process finish without exception but the file test.txt is not changed/updated.\nI tried also:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;sed 's/oldstring/newstring/g' test.txt &gt; test2.txt&quot;};\n    Process runCmd = Runtime.getRuntime().exec(cmdarr);\n</code></pre>\n<p>and also with absoulute paths to file.</p>\n<p>What is confusing for me - when I set path:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;sed -i 's/oldstring/newstring/g' notexist_badFile.txt&quot;};\n</code></pre>\n<p>it doesn't throw exception.\nIn terminal I get <code>No such file or directory</code>.</p>\n<p>It means that my command is not run correctly? But it is run because when I run command:</p>\n<pre><code>    String[] cmdarr = {&quot;cmd&quot;, &quot;/c&quot;, &quot;sed 's/oldstring/newstring/g' test.txt &gt; \n    test2.txt&quot;};\n</code></pre>\n<p>empty file <code>test2.txt</code> was created...</p>\n"},{"tags":["java","amazon-web-services","maven","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1670006087,"post_id":74658665,"comment_id":131780218,"body_markdown":"Lambda function handlers have a very specific interface. If you want to test them locally then you would typically use project tooling such as AWS SAM or Serverless Framework. If you simply want to wrap the Lambda function code in some-custom written wrapper so that you can run them locally then you can do that, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant context and event parameters.","body":"Lambda function handlers have a very specific interface. If you want to test them locally then you would typically use project tooling such as AWS SAM or Serverless Framework. If you simply want to wrap the Lambda function code in some-custom written wrapper so that you can run them locally then you can do that, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant context and event parameters."},{"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"score":0,"creation_date":1670319406,"post_id":74658665,"comment_id":131843229,"body_markdown":"@jarmod where can I find the documentation to do it?","body":"@jarmod where can I find the documentation to do it?"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1670327293,"post_id":74658665,"comment_id":131845984,"body_markdown":"There&#39;s no specific documentation. This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment). But it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape. You&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of of `/tmp` directory, so account for that.","body":"There&#39;s no specific documentation. This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment). But it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape. You&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of of <code>&#47;tmp</code> directory, so account for that."},{"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"score":1,"creation_date":1670423618,"post_id":74658665,"comment_id":131873416,"body_markdown":"@jarmod rewrite your answer. I am going to give you the bounty.","body":"@jarmod rewrite your answer. I am going to give you the bounty."}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670428128,"creation_date":1670428128,"answer_id":74719374,"question_id":74658665,"body_markdown":"Lambda function handlers have a very specific interface, typically with event and context parameters. The shape of the event parameter depends on the source of the event that triggered the Lambda function (here&#39;s an [SQS example][1]).\r\n\r\nIf you want to test a Lambda function locally then you would typically start from a local development environment that uses project tooling such as AWS SAM or Serverless Framework. Those tools typically support some way of configuring events and invoking a Lambda function locally with those events. This allows local development, debugging, and testing.\r\n\r\nIf you can&#39;t use one of those tools, then you can typically simply wrap your Lambda function code in some custom-written wrapper code so that you can run it locally, but you&#39;d have to write code to invoke the Lambda function handler, providing the relevant event and context parameters. Typically the context parameter is not all that important for local development.\r\n\r\nUnfortunately, there&#39;s no specific documentation for this path (taking a native Lambda function and moving it to a local development environment). This isn&#39;t a supported path (from a cloud deployment backwards to an on-prem dev environment), but it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape.\r\n\r\nYou&#39;ll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of `/tmp` directory or specific environment variables or an IAM role with specific IAM permissions, so account for that when attempting to run locally.\r\n\r\nSo, I think you can do this but it&#39;s not trivial. It&#39;s generally a better path to start from local using SAM or Serverless, however with some effort you might also be able to retrofit your Lambda functions into that local tooling.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html","title":"How to launch an AWS Lambda Function locally on my computer?","body":"<p>Lambda function handlers have a very specific interface, typically with event and context parameters. The shape of the event parameter depends on the source of the event that triggered the Lambda function (here's an <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html\" rel=\"nofollow noreferrer\">SQS example</a>).</p>\n<p>If you want to test a Lambda function locally then you would typically start from a local development environment that uses project tooling such as AWS SAM or Serverless Framework. Those tools typically support some way of configuring events and invoking a Lambda function locally with those events. This allows local development, debugging, and testing.</p>\n<p>If you can't use one of those tools, then you can typically simply wrap your Lambda function code in some custom-written wrapper code so that you can run it locally, but you'd have to write code to invoke the Lambda function handler, providing the relevant event and context parameters. Typically the context parameter is not all that important for local development.</p>\n<p>Unfortunately, there's no specific documentation for this path (taking a native Lambda function and moving it to a local development environment). This isn't a supported path (from a cloud deployment backwards to an on-prem dev environment), but it should be possible. If these Lambda functions are deployed as Docker container images then you may be in better shape.</p>\n<p>You'll need to understand how your Lambda functions are structured, what their expected inputs are (context and event), and then provide a Java wrapper for them to run locally. You might also find that they have been written with dependencies on the Lambda runtime environment, e.g. the presence of <code>/tmp</code> directory or specific environment variables or an IAM role with specific IAM permissions, so account for that when attempting to run locally.</p>\n<p>So, I think you can do this but it's not trivial. It's generally a better path to start from local using SAM or Serverless, however with some effort you might also be able to retrofit your Lambda functions into that local tooling.</p>\n"}],"owner":{"account_id":6194051,"reputation":51,"user_id":4825933,"accept_rate":86,"display_name":"F&#233;lix Mensah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":74719374,"answer_count":1,"score":-3,"last_activity_date":1670428128,"creation_date":1669997859,"question_id":74658665,"body_markdown":"Our development team has created several AWS Lambdas Functions written in Java that are currently running on the cloud.\r\n\r\nI have imported them locally on my computers.\r\n\r\nThey are all Maven projects.\r\n\r\nI have already installed both the JDK and Maven.\r\n\r\nI do not know what is the next step for launching them locally.\r\n\r\nIs there any client that I should install before?","title":"How to launch an AWS Lambda Function locally on my computer?","body":"<p>Our development team has created several AWS Lambdas Functions written in Java that are currently running on the cloud.</p>\n<p>I have imported them locally on my computers.</p>\n<p>They are all Maven projects.</p>\n<p>I have already installed both the JDK and Maven.</p>\n<p>I do not know what is the next step for launching them locally.</p>\n<p>Is there any client that I should install before?</p>\n"},{"tags":["java","eclipse","git","github","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1379167330,"creation_date":1379152123,"answer_id":18800464,"question_id":18800062,"body_markdown":"The Eclipse git plugin isn&#39;t responsible for the build.\r\n\r\nBut you can customize your Java builder and add a pre-build event which will modify one of your java files with the right version string in it.\r\n\r\n- See &quot;[Pre-Build events in Eclipse][1]&quot; for adding that pre-build step,\r\n- and use a task like &quot;[jgit-buildnumber][2]&quot;:  a Git &quot;build number&quot; plugin for Maven and Ant based on JGit. That will allow you to get the right version build number string.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/6415211/6309\r\n  [2]: https://github.com/alx3apps/jgit-buildnumber","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>The Eclipse git plugin isn't responsible for the build.</p>\n\n<p>But you can customize your Java builder and add a pre-build event which will modify one of your java files with the right version string in it.</p>\n\n<ul>\n<li>See \"<a href=\"https://stackoverflow.com/q/6415211/6309\">Pre-Build events in Eclipse</a>\" for adding that pre-build step,</li>\n<li>and use a task like \"<a href=\"https://github.com/alx3apps/jgit-buildnumber\" rel=\"nofollow noreferrer\">jgit-buildnumber</a>\":  a Git \"build number\" plugin for Maven and Ant based on JGit. That will allow you to get the right version build number string.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":408447,"reputation":1426,"user_id":1080679,"accept_rate":94,"display_name":"alkber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379823138,"creation_date":1379823138,"answer_id":18940231,"question_id":18800062,"body_markdown":"I have made a tool to do what i wanted, inspired from the above pointers by @VonC\r\n\r\n   \r\n\r\n [GitBuildNumberGenerator][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/alkber/GitBuildNumberGenerator","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>I have made a tool to do what i wanted, inspired from the above pointers by @VonC</p>\n\n<p><a href=\"https://github.com/alkber/GitBuildNumberGenerator\" rel=\"nofollow\">GitBuildNumberGenerator</a></p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670427905,"creation_date":1670427905,"answer_id":74719325,"question_id":18800062,"body_markdown":"Eclipse creates directory `.externalToolBuilders` to keep tools settings.\r\n\r\nExample of `git-version.launch`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;launchConfiguration type=&quot;org.eclipse.ui.externaltools.ProgramBuilderLaunchConfigurationType&quot;&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_LOCATION&quot; value=&quot;${workspace_loc:/projX/.externalToolBuilders/git-version.bat}&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_RUN_BUILD_KINDS&quot; value=&quot;full,incremental,&quot;/&gt;\r\n    &lt;booleanAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_TRIGGERS_CONFIGURED&quot; value=&quot;true&quot;/&gt;\r\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_WORKING_DIRECTORY&quot; value=&quot;${workspace_loc:/projX}&quot;/&gt;\r\n&lt;/launchConfiguration&gt;\r\n```\r\n\r\nand `git-version.bat`:\r\n\r\n```bat\r\n@echo off\r\n\r\nset VFILE=META-INF/git.properties\r\n\r\ngit rev-parse --short HEAD &gt;%VFILE%\r\nif ERRORLEVEL 1 (\r\n  set hasgit=no\r\n) else (\r\n  set hasgit=yes\r\n)\r\n\r\nrem Git revision.\r\nif %hasgit% == yes (\r\n  set /p rev= &lt;%VFILE%\r\n) else (\r\n  set rev=unknown\r\n)\r\necho git.rev=%rev% &gt;%VFILE%\r\n\r\nrem Are sources has local changes?\r\nif %hasgit% == yes (\r\n  git diff-index --quiet HEAD\r\n  if ERRORLEVEL 1 (\r\n    echo git.clean=no  &gt;&gt;%VFILE%\r\n  ) else (\r\n    echo git.clean=yes &gt;&gt;%VFILE%\r\n  )\r\n)\r\n```\r\n\r\nBuild command is registered in `.project`:\r\n\r\n```xml\r\n&lt;buildCommand&gt;\r\n    &lt;name&gt;org.eclipse.ui.externaltools.ExternalToolBuilder&lt;/name&gt;\r\n    &lt;triggers&gt;full,incremental,&lt;/triggers&gt;\r\n    &lt;arguments&gt;\r\n        &lt;dictionary&gt;\r\n            &lt;key&gt;LaunchConfigHandle&lt;/key&gt;\r\n            &lt;value&gt;&amp;lt;project&amp;gt;/.externalToolBuilders/git-version.launch&lt;/value&gt;\r\n        &lt;/dictionary&gt;\r\n    &lt;/arguments&gt;\r\n&lt;/buildCommand&gt;\r\n```","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>Eclipse creates directory <code>.externalToolBuilders</code> to keep tools settings.</p>\n<p>Example of <code>git-version.launch</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;launchConfiguration type=&quot;org.eclipse.ui.externaltools.ProgramBuilderLaunchConfigurationType&quot;&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.debug.ui.ATTR_LAUNCH_IN_BACKGROUND&quot; value=&quot;false&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_LOCATION&quot; value=&quot;${workspace_loc:/projX/.externalToolBuilders/git-version.bat}&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_RUN_BUILD_KINDS&quot; value=&quot;full,incremental,&quot;/&gt;\n    &lt;booleanAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_TRIGGERS_CONFIGURED&quot; value=&quot;true&quot;/&gt;\n    &lt;stringAttribute key=&quot;org.eclipse.ui.externaltools.ATTR_WORKING_DIRECTORY&quot; value=&quot;${workspace_loc:/projX}&quot;/&gt;\n&lt;/launchConfiguration&gt;\n</code></pre>\n<p>and <code>git-version.bat</code>:</p>\n<pre><code>@echo off\n\nset VFILE=META-INF/git.properties\n\ngit rev-parse --short HEAD &gt;%VFILE%\nif ERRORLEVEL 1 (\n  set hasgit=no\n) else (\n  set hasgit=yes\n)\n\nrem Git revision.\nif %hasgit% == yes (\n  set /p rev= &lt;%VFILE%\n) else (\n  set rev=unknown\n)\necho git.rev=%rev% &gt;%VFILE%\n\nrem Are sources has local changes?\nif %hasgit% == yes (\n  git diff-index --quiet HEAD\n  if ERRORLEVEL 1 (\n    echo git.clean=no  &gt;&gt;%VFILE%\n  ) else (\n    echo git.clean=yes &gt;&gt;%VFILE%\n  )\n)\n</code></pre>\n<p>Build command is registered in <code>.project</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;buildCommand&gt;\n    &lt;name&gt;org.eclipse.ui.externaltools.ExternalToolBuilder&lt;/name&gt;\n    &lt;triggers&gt;full,incremental,&lt;/triggers&gt;\n    &lt;arguments&gt;\n        &lt;dictionary&gt;\n            &lt;key&gt;LaunchConfigHandle&lt;/key&gt;\n            &lt;value&gt;&amp;lt;project&amp;gt;/.externalToolBuilders/git-version.launch&lt;/value&gt;\n        &lt;/dictionary&gt;\n    &lt;/arguments&gt;\n&lt;/buildCommand&gt;\n</code></pre>\n"}],"owner":{"account_id":408447,"reputation":1426,"user_id":1080679,"accept_rate":94,"display_name":"alkber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18800464,"answer_count":3,"score":1,"last_activity_date":1670427905,"creation_date":1379149077,"question_id":18800062,"body_markdown":"I&#39;m using git plugin for Eclipse, as do my daily build, it becomes difficult to track which version of the build from the git is been tested. Unless there is way to auto fetch the branch and commit id from the git plugin and generate a static String version information in the code during each build. Is it possible ? \r\n\r\nI prefer not to use a git java API from my code, like say i can fetch the git information with JGit API, if i point it to a local repos, however, that is not how it should be done, as it will create issues with application deployment. Rather should be Eclipse plugin that will generate a string during the build.","title":"Eclipse git plugin and a method to fetch current branch - commit id to Java code version info string","body":"<p>I'm using git plugin for Eclipse, as do my daily build, it becomes difficult to track which version of the build from the git is been tested. Unless there is way to auto fetch the branch and commit id from the git plugin and generate a static String version information in the code during each build. Is it possible ? </p>\n\n<p>I prefer not to use a git java API from my code, like say i can fetch the git information with JGit API, if i point it to a local repos, however, that is not how it should be done, as it will create issues with application deployment. Rather should be Eclipse plugin that will generate a string during the build.</p>\n"},{"tags":["java","performance","permutation"],"comments":[{"owner":{"account_id":296285,"reputation":6400,"user_id":601159,"accept_rate":94,"display_name":"Pepe"},"score":0,"creation_date":1334261202,"post_id":10130909,"comment_id":12986023,"body_markdown":"Homework? . Please tag it as such. By the way, I believe this question has been answered multiple times here but I suggest that you try to work though it yourself (which is the point behind a hw)","body":"Homework? . Please tag it as such. By the way, I believe this question has been answered multiple times here but I suggest that you try to work though it yourself (which is the point behind a hw)"},{"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"score":0,"creation_date":1334261518,"post_id":10130909,"comment_id":12986144,"body_markdown":"lol this is not a homework am creating an android app.. this is just a section of the program.i can send u the apk to test it out, but its not complete yet. If its been answered can u please put the link.","body":"lol this is not a homework am creating an android app.. this is just a section of the program.i can send u the apk to test it out, but its not complete yet. If its been answered can u please put the link."}],"answers":[{"comments":[{"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"score":0,"creation_date":1334301714,"post_id":10131567,"comment_id":12995141,"body_markdown":"You re right is not efficient is causing Java out of heap space error. Am thinking of sending it to a text file. Thank Though","body":"You re right is not efficient is causing Java out of heap space error. Am thinking of sending it to a text file. Thank Though"},{"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"score":0,"creation_date":1334303061,"post_id":10131567,"comment_id":12995504,"body_markdown":"if you have suggestions in Building an efficient and reliable android app let me know","body":"if you have suggestions in Building an efficient and reliable android app let me know"}],"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1334264085,"creation_date":1334263692,"answer_id":10131567,"question_id":10130909,"body_markdown":"I think you can first generate all subsets of letters and then generate all permutations for given subset:\r\n\r\n    Set&lt;String&gt; subsets;\r\n    \r\n    public void generateSubsets(String current, String left) {\r\n        if (left.length() == 0) {\r\n            subsets.add(current);\r\n        } else {\r\n            generateSubsets(current, left.substring(1));\r\n            generateSubsets(current + left.charAt(0), left.substring(1));\r\n        }\r\n    }\r\n    \r\n    List&lt;String&gt; allPermutations(String word) {\r\n        subsets = new HashSet&lt;String&gt;();\r\n        generateSubsets(&quot;&quot;, word);\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        for (String subset : subsets) {\r\n            result.addAll(StringPermutation.getPermutation(subset));\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo if you have &quot;cat&quot;\r\nSubsets will be: &quot;&quot;, &quot;c&quot;, &quot;a&quot;, &quot;t&quot;, &quot;ca&quot;, &quot;ct&quot;, &quot;tc&quot;, &quot;cat&quot;\r\nAnd then you get permutations for every subset.  \r\nRegarding efficiency, it is not the best solution, but you can improve it.","title":"Permutate every combination to the letter","body":"<p>I think you can first generate all subsets of letters and then generate all permutations for given subset:</p>\n\n<pre><code>Set&lt;String&gt; subsets;\n\npublic void generateSubsets(String current, String left) {\n    if (left.length() == 0) {\n        subsets.add(current);\n    } else {\n        generateSubsets(current, left.substring(1));\n        generateSubsets(current + left.charAt(0), left.substring(1));\n    }\n}\n\nList&lt;String&gt; allPermutations(String word) {\n    subsets = new HashSet&lt;String&gt;();\n    generateSubsets(\"\", word);\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    for (String subset : subsets) {\n        result.addAll(StringPermutation.getPermutation(subset));\n    }\n    return result;\n}\n</code></pre>\n\n<p>So if you have \"cat\"\nSubsets will be: \"\", \"c\", \"a\", \"t\", \"ca\", \"ct\", \"tc\", \"cat\"\nAnd then you get permutations for every subset.<br>\nRegarding efficiency, it is not the best solution, but you can improve it.</p>\n"}],"owner":{"account_id":1365079,"reputation":527,"user_id":1301697,"accept_rate":100,"display_name":"ImGeorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10131567,"answer_count":1,"score":1,"last_activity_date":1670427859,"creation_date":1334260915,"question_id":10130909,"body_markdown":"    public class StringPermutation {    \r\n    \tpublic static List&lt;String&gt; getPermutation(String input) {\r\n    \t\tList&lt;String&gt; collection = null;   \r\n    \t\tif (input.length() == 1) {\r\n    \t\t\tcollection = new ArrayList&lt;String&gt;();\r\n    \t\t\tcollection.add(input);\r\n    \t\t\treturn collection;\r\n    \t\t} else {\r\n    \t\t\tcollection = getPermutation(input.substring(1));\r\n    \t\t\tCharacter first = input.charAt(0);\r\n    \t\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \t\t\tfor (String str : collection) {\r\n    \t\t\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\t\t\tString item = str.substring(0, i) + first\r\n    \t\t\t\t\t\t\t+ str.substring(i);\r\n    \t\t\t\t\tresult.add(item);\r\n    \t\t\t\t}\r\n    \t\t\t\tString item = str.concat(first.toString());\r\n    \t\t\t\tresult.add(item);\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) {\r\n            List&lt;String&gt; test = StringPermutation.getPermutation (&quot;CAT&quot;);\r\n            System.out.println (test);\r\n        }\r\n    }\r\n\r\nThe code above permutes a string it&#39;s given. For example, given `cat`, it returns [`cat, act, atc, cta, tca, tac`], which is excellent but is it possible for you guys to please edit my code so that it also shows the subsets of the letters too, i.e [`cat, act, atc, cta, tca, tac] and [at, ta, tc, ca, ac, ct, c, a, t`]? \r\n","title":"Permutate every combination to the letter","body":"<pre><code>public class StringPermutation {    \n    public static List&lt;String&gt; getPermutation(String input) {\n        List&lt;String&gt; collection = null;   \n        if (input.length() == 1) {\n            collection = new ArrayList&lt;String&gt;();\n            collection.add(input);\n            return collection;\n        } else {\n            collection = getPermutation(input.substring(1));\n            Character first = input.charAt(0);\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n            for (String str : collection) {\n                for (int i = 0; i &lt; str.length(); i++) {\n                    String item = str.substring(0, i) + first\n                            + str.substring(i);\n                    result.add(item);\n                }\n                String item = str.concat(first.toString());\n                result.add(item);\n            }\n            return result;\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;String&gt; test = StringPermutation.getPermutation (&quot;CAT&quot;);\n        System.out.println (test);\n    }\n}\n</code></pre>\n<p>The code above permutes a string it's given. For example, given <code>cat</code>, it returns [<code>cat, act, atc, cta, tca, tac</code>], which is excellent but is it possible for you guys to please edit my code so that it also shows the subsets of the letters too, i.e [<code>cat, act, atc, cta, tca, tac] and [at, ta, tc, ca, ac, ct, c, a, t</code>]?</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1670432654,"post_id":74719124,"comment_id":131876884,"body_markdown":"I&#39;ve tested the second snippet, it produces the right output (same as the first one) on my setup. Questions: 1. the obvious: subscribe is asynchronous. Have you ensured your program has not stopped before the retry happened ? On my part, I&#39;ve added a `Thread.sleep(1000);` after the snippet. 2. What version of Reactor do you use ?","body":"I&#39;ve tested the second snippet, it produces the right output (same as the first one) on my setup. Questions: 1. the obvious: subscribe is asynchronous. Have you ensured your program has not stopped before the retry happened ? On my part, I&#39;ve added a <code>Thread.sleep(1000);</code> after the snippet. 2. What version of Reactor do you use ?"},{"owner":{"account_id":27179533,"reputation":1,"user_id":20715001,"display_name":"ReactiveNoobie"},"score":0,"creation_date":1670434388,"post_id":74719124,"comment_id":131877483,"body_markdown":"You are right program stopped before retry happened - with additional sleep seems to work.\nReactor version : 3.4.24","body":"You are right program stopped before retry happened - with additional sleep seems to work. Reactor version : 3.4.24"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1670483845,"post_id":74719124,"comment_id":131886940,"body_markdown":"Ok, then I suggest that you post an answer yourself, showing how you make it work and what you&#39;ve learned about the tool. That way, you can close the question as solved and still provide useful insight for future users who would come to this question.","body":"Ok, then I suggest that you post an answer yourself, showing how you make it work and what you&#39;ve learned about the tool. That way, you can close the question as solved and still provide useful insight for future users who would come to this question."}],"owner":{"account_id":27179533,"reputation":1,"user_id":20715001,"display_name":"ReactiveNoobie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670427751,"creation_date":1670426989,"question_id":74719124,"body_markdown":"code 1 - with max(3)\r\n\r\n```\r\n        Mono.just(&quot;abc&quot;)\r\n                .map(s -&gt; s.charAt(4))\r\n                .retryWhen(Retry\r\n                    .max(3)\r\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry&quot;))\r\n                )\r\n                .onErrorResume(e -&gt; {\r\n                    System.out.println(&quot;onErrorResume()&quot;);\r\n                    return Mono.just(&#39;?&#39;);\r\n                })\r\n                .subscribe(System.out::println);\r\n```\r\n\r\nOutput:\r\n\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; doBeforeRetry()\r\n&gt;\r\n&gt; onErrorResume()\r\n&gt;\r\n&gt; ?\r\n\r\ncode 2 - with backoff(3, Duration.ofMillis(100)\r\n\r\n```\r\n        Mono.just(&quot;abc&quot;)\r\n                .map(s -&gt; s.charAt(4))\r\n                .retryWhen(Retry\r\n                    .backoff(3, Duration.ofMillis(100))\r\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry()&quot;))\r\n                )\r\n                .onErrorResume(e -&gt; {\r\n                    System.out.println(&quot;onErrorResume()&quot;);\r\n                    return Mono.just(&#39;?&#39;);\r\n                })\r\n                .subscribe(System.out::println);\r\n```\r\n\r\nOutput:\r\n\r\n&gt; doBeforeRetry()\r\n\r\nLooks like backoff breaks a chain completely... The question is why output differs?","title":"Spring reactive - backoff breaks chain in retryWhen","body":"<p>code 1 - with max(3)</p>\n<pre><code>        Mono.just(&quot;abc&quot;)\n                .map(s -&gt; s.charAt(4))\n                .retryWhen(Retry\n                    .max(3)\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry&quot;))\n                )\n                .onErrorResume(e -&gt; {\n                    System.out.println(&quot;onErrorResume()&quot;);\n                    return Mono.just('?');\n                })\n                .subscribe(System.out::println);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>doBeforeRetry()</p>\n<p>doBeforeRetry()</p>\n<p>doBeforeRetry()</p>\n<p>onErrorResume()</p>\n<p>?</p>\n</blockquote>\n<p>code 2 - with backoff(3, Duration.ofMillis(100)</p>\n<pre><code>        Mono.just(&quot;abc&quot;)\n                .map(s -&gt; s.charAt(4))\n                .retryWhen(Retry\n                    .backoff(3, Duration.ofMillis(100))\n                    .doBeforeRetry(rs -&gt; System.out.println(&quot;doBeforeRetry()&quot;))\n                )\n                .onErrorResume(e -&gt; {\n                    System.out.println(&quot;onErrorResume()&quot;);\n                    return Mono.just('?');\n                })\n                .subscribe(System.out::println);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>doBeforeRetry()</p>\n</blockquote>\n<p>Looks like backoff breaks a chain completely... The question is why output differs?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1604629863,"creation_date":1604629863,"answer_id":64708045,"question_id":64707985,"body_markdown":"This is specified in [JLS 7.7.1](https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.7.1):\r\n\r\n&gt; **7.7.1. Dependences**\r\n&gt;&lt;br/&gt; The requires directive specifies the name of a module on which the current module has a dependence.\r\n&gt;&lt;br/&gt; A requires directive must not appear in the declaration of the java.base module, or a compile-time error occurs, because it is the primordial module and has no dependences (&#167;8.1.4).\r\n&gt;&lt;br/&gt; **If the declaration of a module does not express a dependence on the java.base module, and the module is not itself java.base, then the module has an implicitly declared dependence on the java.base module.**\r\n\r\nThis is similar to how classes from the `java.lang` package are implicitly imported into source files. Modules do not need to explicitly declare that they depend on the `java.base` module.","title":"Why don&#39;t I have to require java.base?","body":"<p>This is specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-7.html#jls-7.7.1\" rel=\"noreferrer\">JLS 7.7.1</a>:</p>\n<blockquote>\n<p><strong>7.7.1. Dependences</strong>\n<br/> The requires directive specifies the name of a module on which the current module has a dependence.\n<br/> A requires directive must not appear in the declaration of the java.base module, or a compile-time error occurs, because it is the primordial module and has no dependences (§8.1.4).\n<br/> <strong>If the declaration of a module does not express a dependence on the java.base module, and the module is not itself java.base, then the module has an implicitly declared dependence on the java.base module.</strong></p>\n</blockquote>\n<p>This is similar to how classes from the <code>java.lang</code> package are implicitly imported into source files. Modules do not need to explicitly declare that they depend on the <code>java.base</code> module.</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670427401,"creation_date":1670427401,"answer_id":74719223,"question_id":64707985,"body_markdown":"This is because all platform modules provided by JVM are observable module.\r\nBy default if you are creating your module you don&#39;t need to require these platform module. Packages exported by these modules can be imported without any require directive in module-info.java file.\r\nYou can get the list of observable/platform module using this command.\r\n```\r\njava --list-modules\r\n```","title":"Why don&#39;t I have to require java.base?","body":"<p>This is because all platform modules provided by JVM are observable module.\nBy default if you are creating your module you don't need to require these platform module. Packages exported by these modules can be imported without any require directive in module-info.java file.\nYou can get the list of observable/platform module using this command.</p>\n<pre><code>java --list-modules\n</code></pre>\n"}],"owner":{"account_id":3445698,"reputation":5315,"user_id":2886575,"accept_rate":57,"display_name":"Him"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64708045,"answer_count":2,"score":4,"last_activity_date":1670427401,"creation_date":1604629219,"question_id":64707985,"body_markdown":"When I try to import `javax.swing.JFrame`, eclipse complains because I need to explicitly tell my package that I&#39;m going to import stuff from the `java.desktop` module.  So I put `requires java.desktop` in my `module-info.java` and then the java compiler knows to link up the `java.desktop` stuff.  I can put `requires java.base` in my `module-info.java` as well, but it doesn&#39;t seem to be necessary.  I can `import java.util.Arrays` without it.\r\n\r\nIs eclipse adding some magic sauce to my `javac` options behind the scenes?  Does `javac` automagically require `java.base`?  Why don&#39;t I need to require `java.base`?  If this is compiler magic, are there any other such privileged modules that get automatically linked into my package?\r\n\r\nUsing jdk-14, but not sure if that&#39;s relevant.","title":"Why don&#39;t I have to require java.base?","body":"<p>When I try to import <code>javax.swing.JFrame</code>, eclipse complains because I need to explicitly tell my package that I'm going to import stuff from the <code>java.desktop</code> module.  So I put <code>requires java.desktop</code> in my <code>module-info.java</code> and then the java compiler knows to link up the <code>java.desktop</code> stuff.  I can put <code>requires java.base</code> in my <code>module-info.java</code> as well, but it doesn't seem to be necessary.  I can <code>import java.util.Arrays</code> without it.</p>\n<p>Is eclipse adding some magic sauce to my <code>javac</code> options behind the scenes?  Does <code>javac</code> automagically require <code>java.base</code>?  Why don't I need to require <code>java.base</code>?  If this is compiler magic, are there any other such privileged modules that get automatically linked into my package?</p>\n<p>Using jdk-14, but not sure if that's relevant.</p>\n"},{"tags":["java","colors"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670427155,"post_id":74719110,"comment_id":131874826,"body_markdown":"Why are you printing in a tight loop?","body":"Why are you printing in a tight loop?"},{"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"score":0,"creation_date":1670427283,"post_id":74719110,"comment_id":131874886,"body_markdown":"It&#39;s not the full code, I have more to it. I just don&#39;t know why the color won&#39;t work","body":"It&#39;s not the full code, I have more to it. I just don&#39;t know why the color won&#39;t work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670427323,"post_id":74719110,"comment_id":131874892,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1670428585,"post_id":74719110,"comment_id":131875389,"body_markdown":"Are you double quoting the &quot;ANSI&quot; strings?","body":"Are you double quoting the &quot;ANSI&quot; strings?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1670429987,"post_id":74719110,"comment_id":131875905,"body_markdown":"`final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;`","body":"<code>final String ANSI_RESET = &quot;\\u001B[0m&quot;;  final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;</code>"}],"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670426901,"creation_date":1670426901,"question_id":74719110,"body_markdown":"\r\n\r\n\r\n```\r\npackage com.mycompany.advent;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\nimport java.util.\\*;\r\n\r\npublic class Advent {\r\npublic static final String ANSI_RESET = &quot;\\\\u001B\\[0m&quot;;\r\n// Declaring the color\r\npublic static final String ANSI_YELLOW = &quot;\\\\u001B\\[33m&quot;;\r\n\r\n     public static void main(String[] args)\t{\r\n    \t Scanner in= new Scanner(System.in);\r\n    \t Random rand = new Random(); \r\n    \t \r\n    \t //game variables\r\n    \tString[] enemies = {&quot; Snake&quot;,&quot; Gorilla&quot;,&quot; Warrior&quot;,&quot; Assasian&quot;};\r\n    \tint maxEnemyHealth=75;\r\n    \tint enemyAttackDamage=25;\r\n    \tint health=100;\r\n    \tint attackDamage=50;\r\n    \tint healthPotions=3;\r\n    \tint healthPotionHealAmount = 30;\r\n    \tint healthPotionDropChance = 50;//percentage\r\n        int counter = 0;\r\n    \t\r\n    \tboolean running =true;\r\n    \t\r\n    \tSystem.out.println(&quot;░░░░░██╗██╗░░░██╗███╗░░██╗░██████╗░██╗░░░░░███████╗  ███╗░░░███╗░█████╗░██████╗░███╗░░██╗███████╗░██████╗░██████╗\\n&quot; +\r\n                           &quot;░░░░░██║██║░░░██║████╗░██║██╔════╝░██║░░░░░██╔════╝  ████╗░████║██╔══██╗██╔══██╗████╗░██║██╔════╝██╔════╝██╔════╝\\n&quot; +\r\n                           &quot;░░░░░██║██║░░░██║██╔██╗██║██║░░██╗░██║░░░░░█████╗░░  ██╔████╔██║███████║██║░░██║██╔██╗██║█████╗░░╚█████╗░╚█████╗░\\n&quot; +\r\n                           &quot;██╗░░██║██║░░░██║██║╚████║██║░░╚██╗██║░░░░░██╔══╝░░  ██║╚██╔╝██║██╔══██║██║░░██║██║╚████║██╔══╝░░░╚═══██╗░╚═══██╗\\n&quot; +\r\n                           &quot;╚█████╔╝╚██████╔╝██║░╚███║╚██████╔╝███████╗███████╗  ██║░╚═╝░██║██║░░██║██████╔╝██║░╚███║███████╗██████╔╝██████╔╝\\n&quot; +\r\n                           &quot;░╚════╝░░╚═════╝░╚═╝░░╚══╝░╚═════╝░╚══════╝╚══════╝  ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═════╝░╚═╝░░╚══╝╚══════╝╚═════╝░╚═════╝░&quot;);\r\n    \t\r\n    \t\r\n    \tGAME:\r\n    \t\twhile(running) {\r\n    \t\t\tSystem.out.println(ANSI_YELLOW + &quot;╭━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━╮\\n&quot; +\r\n                                                         &quot;╰━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━╯&quot; + ANSI_RESET);\r\n```\r\n\r\n\r\nIm trying to print color in my terminal, but it won&#39;t let me, I put it inside the class, but outside of the main method and it doesn&#39;t show any errors, but when I do press play, It does not print the color.\r\n\r\n\r\n","title":"Printing out Color","body":"<pre><code>package com.mycompany.advent;\nimport java.util.Random;\nimport java.util.Scanner;\nimport java.util.\\*;\n\npublic class Advent {\npublic static final String ANSI_RESET = &quot;\\\\u001B\\[0m&quot;;\n// Declaring the color\npublic static final String ANSI_YELLOW = &quot;\\\\u001B\\[33m&quot;;\n\n     public static void main(String[] args) {\n         Scanner in= new Scanner(System.in);\n         Random rand = new Random(); \n         \n         //game variables\n        String[] enemies = {&quot; Snake&quot;,&quot; Gorilla&quot;,&quot; Warrior&quot;,&quot; Assasian&quot;};\n        int maxEnemyHealth=75;\n        int enemyAttackDamage=25;\n        int health=100;\n        int attackDamage=50;\n        int healthPotions=3;\n        int healthPotionHealAmount = 30;\n        int healthPotionDropChance = 50;//percentage\n        int counter = 0;\n        \n        boolean running =true;\n        \n        System.out.println(&quot;░░░░░██╗██╗░░░██╗███╗░░██╗░██████╗░██╗░░░░░███████╗  ███╗░░░███╗░█████╗░██████╗░███╗░░██╗███████╗░██████╗░██████╗\\n&quot; +\n                           &quot;░░░░░██║██║░░░██║████╗░██║██╔════╝░██║░░░░░██╔════╝  ████╗░████║██╔══██╗██╔══██╗████╗░██║██╔════╝██╔════╝██╔════╝\\n&quot; +\n                           &quot;░░░░░██║██║░░░██║██╔██╗██║██║░░██╗░██║░░░░░█████╗░░  ██╔████╔██║███████║██║░░██║██╔██╗██║█████╗░░╚█████╗░╚█████╗░\\n&quot; +\n                           &quot;██╗░░██║██║░░░██║██║╚████║██║░░╚██╗██║░░░░░██╔══╝░░  ██║╚██╔╝██║██╔══██║██║░░██║██║╚████║██╔══╝░░░╚═══██╗░╚═══██╗\\n&quot; +\n                           &quot;╚█████╔╝╚██████╔╝██║░╚███║╚██████╔╝███████╗███████╗  ██║░╚═╝░██║██║░░██║██████╔╝██║░╚███║███████╗██████╔╝██████╔╝\\n&quot; +\n                           &quot;░╚════╝░░╚═════╝░╚═╝░░╚══╝░╚═════╝░╚══════╝╚══════╝  ╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═════╝░╚═╝░░╚══╝╚══════╝╚═════╝░╚═════╝░&quot;);\n        \n        \n        GAME:\n            while(running) {\n                System.out.println(ANSI_YELLOW + &quot;╭━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━┳━━╮\\n&quot; +\n                                                         &quot;╰━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━┻━━╯&quot; + ANSI_RESET);\n</code></pre>\n<p>Im trying to print color in my terminal, but it won't let me, I put it inside the class, but outside of the main method and it doesn't show any errors, but when I do press play, It does not print the color.</p>\n"},{"tags":["java","swing","netbeans","promise"],"answers":[{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525355467,"creation_date":1525355467,"answer_id":50156715,"question_id":50156510,"body_markdown":"Most likely, your code is not running in the directory you think it is.\r\n\r\nUse the OP&#39;s code given here: https://stackoverflow.com/q/14050131/98811\r\n\r\n    File directory = new File (&quot;.&quot;);\r\n    try {\r\n        System.out.println (&quot;Current directory&#39;s canonical path: &quot; \r\n                + directory.getCanonicalPath()); \r\n        System.out.println (&quot;Current directory&#39;s absolute  path: &quot; \r\n                    + directory.getAbsolutePath());\r\n    }catch(Exception e) {\r\n        System.out.println(&quot;Exceptione is =&quot;+e.getMessage());\r\n    }\r\n\r\nNow compare that to where optimizer is located.\r\n\r\nGenerally speaking, unless you control how the JVM is invoked, you can&#39;t rely on relative paths.","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>Most likely, your code is not running in the directory you think it is.</p>\n\n<p>Use the OP's code given here: <a href=\"https://stackoverflow.com/q/14050131/98811\">how to get current directory in java?</a></p>\n\n<pre><code>File directory = new File (\".\");\ntry {\n    System.out.println (\"Current directory's canonical path: \" \n            + directory.getCanonicalPath()); \n    System.out.println (\"Current directory's absolute  path: \" \n                + directory.getAbsolutePath());\n}catch(Exception e) {\n    System.out.println(\"Exceptione is =\"+e.getMessage());\n}\n</code></pre>\n\n<p>Now compare that to where optimizer is located.</p>\n\n<p>Generally speaking, unless you control how the JVM is invoked, you can't rely on relative paths.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600675011,"creation_date":1525356138,"answer_id":50156973,"question_id":50156510,"body_markdown":"There a few possible causes for the &quot;%1 is not a valid Win32 application&quot; message including:\r\n\r\n  - the pathname for the application is incorrect,\r\n  - the file named by the pathname is not recognized by Windows as an executable, or\r\n  - the file is a 32 bit executable, but for some reason it is trying to load a 64 bit DLL.\r\n\r\nIn this case, you are using a relative pathname for the executable, so it is possible that the JVM&#39;s current directory is different to what you think ... and the `optimizer` file is not in that directory.\r\n\r\nTry the following:\r\n\r\n  1.  Replace `&quot;./optimizer&quot;` with an absolute pathname.  \r\n\r\n  2.  It the command (absolute) pathname or the `sourceFile` arguments contain spaces, replace the command string with an array of strings; e.g.\r\n\r\n          exec(new String[]{\r\n                 &quot;C:/path/to/optimizer&quot;,\r\n                 sourceFile, sourceFile + &quot;a&quot;, &quot;--all&quot;, &quot;-i&quot;});\r\n\r\n  3.  Try running the command from the command prompt.  The idea is to check that this isn&#39;t caused by a non-executable file or a DLL problem.","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>There a few possible causes for the &quot;%1 is not a valid Win32 application&quot; message including:</p>\n<ul>\n<li>the pathname for the application is incorrect,</li>\n<li>the file named by the pathname is not recognized by Windows as an executable, or</li>\n<li>the file is a 32 bit executable, but for some reason it is trying to load a 64 bit DLL.</li>\n</ul>\n<p>In this case, you are using a relative pathname for the executable, so it is possible that the JVM's current directory is different to what you think ... and the <code>optimizer</code> file is not in that directory.</p>\n<p>Try the following:</p>\n<ol>\n<li><p>Replace <code>&quot;./optimizer&quot;</code> with an absolute pathname.</p>\n</li>\n<li><p>It the command (absolute) pathname or the <code>sourceFile</code> arguments contain spaces, replace the command string with an array of strings; e.g.</p>\n<pre><code>exec(new String[]{\n       &quot;C:/path/to/optimizer&quot;,\n       sourceFile, sourceFile + &quot;a&quot;, &quot;--all&quot;, &quot;-i&quot;});\n</code></pre>\n</li>\n<li><p>Try running the command from the command prompt.  The idea is to check that this isn't caused by a non-executable file or a DLL problem.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2990678,"reputation":66,"user_id":2538322,"display_name":"alps2006"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670426770,"creation_date":1670426770,"answer_id":74719088,"question_id":50156510,"body_markdown":"I came across the same problem when running a `gradle` command in windows OS, but other OS ( linux, osx ) are not the problems.\r\n\r\nI find the `gradle` is a `bat` script in windows OS finally , so need to add the suffix.\r\n\r\n```java\r\n    public Process callTestInSubprocess(Class&lt;?&gt; clazz, String testMethod) {\r\n        String canonicalName = clazz.getCanonicalName();\r\n        StringBuffer testCmd = new StringBuffer(isWinOS() ? &quot;gradle.bat&quot; : &quot;gradle&quot;)\r\n                .append(&quot; testDebug -Psubprocess=true --tests &quot;)\r\n                .append(canonicalName)\r\n                .append(&quot;.&quot;)\r\n                .append(testMethod);\r\n\r\n        return runSubprocess(testCmd.toString());\r\n    }\r\n\r\n\r\n\r\n    public static boolean isWinOS() {\r\n        return System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase().indexOf(&quot;win&quot;) != -1;\r\n    }\r\n","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>I came across the same problem when running a <code>gradle</code> command in windows OS, but other OS ( linux, osx ) are not the problems.</p>\n<p>I find the <code>gradle</code> is a <code>bat</code> script in windows OS finally , so need to add the suffix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Process callTestInSubprocess(Class&lt;?&gt; clazz, String testMethod) {\n        String canonicalName = clazz.getCanonicalName();\n        StringBuffer testCmd = new StringBuffer(isWinOS() ? &quot;gradle.bat&quot; : &quot;gradle&quot;)\n                .append(&quot; testDebug -Psubprocess=true --tests &quot;)\n                .append(canonicalName)\n                .append(&quot;.&quot;)\n                .append(testMethod);\n\n        return runSubprocess(testCmd.toString());\n    }\n\n\n\n    public static boolean isWinOS() {\n        return System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase().indexOf(&quot;win&quot;) != -1;\n    }\n</code></pre>\n"}],"owner":{"account_id":13494444,"reputation":41,"user_id":9735703,"display_name":"FinalYear Nutech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33742,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1670426770,"creation_date":1525354804,"question_id":50156510,"body_markdown":"I am Trying to read and write Extensible Linking Format (ELF) Below is the Line that I am getting Error.\r\n\r\n    p =  r.exec(&quot;./optimizer &quot; + sourceFile + &quot; &quot; + sourceFile + &quot;a&quot; + &quot; &quot; + &quot;--all -i&quot;);\r\n\r\nAfter Running this line I am Getting Error Like :\r\n\r\n\r\n    java.io.IOException: Cannot run program &quot;./optimizer&quot;: CreateProcess             \r\n    error=193, %1 is not a valid Win32 application\r\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:620)\r\n\tat java.lang.Runtime.exec(Runtime.java:450)\r\n\tat java.lang.Runtime.exec(Runtime.java:347)\r\n\tat GUIMode.GUIMode.actionPerformed(GUIMode.java:213)\r\n\r\n","title":"Java CreateProcess error=193, %1 is not a valid Win32 application","body":"<p>I am Trying to read and write Extensible Linking Format (ELF) Below is the Line that I am getting Error.</p>\n\n<pre><code>p =  r.exec(\"./optimizer \" + sourceFile + \" \" + sourceFile + \"a\" + \" \" + \"--all -i\");\n</code></pre>\n\n<p>After Running this line I am Getting Error Like :</p>\n\n<pre><code>java.io.IOException: Cannot run program \"./optimizer\": CreateProcess             \nerror=193, %1 is not a valid Win32 application\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat java.lang.Runtime.exec(Runtime.java:620)\nat java.lang.Runtime.exec(Runtime.java:450)\nat java.lang.Runtime.exec(Runtime.java:347)\nat GUIMode.GUIMode.actionPerformed(GUIMode.java:213)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670427106,"post_id":74719085,"comment_id":131874809,"body_markdown":"Records ([JEP 395](https://openjdk.org/jeps/395)) are carriers of immutable data. Value objects ([draft](https://openjdk.org/jeps/8277163)) are identity-less objects (i.e. their identity is defined by their field values).","body":"Records (<a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a>) are carriers of immutable data. Value objects (<a href=\"https://openjdk.org/jeps/8277163\" rel=\"nofollow noreferrer\">draft</a>) are identity-less objects (i.e. their identity is defined by their field values)."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":1,"creation_date":1681474955,"post_id":74719085,"comment_id":134066375,"body_markdown":"Here&#39;s a blog post that should shed some light on the differences between records, value types and value records: https://www.beyondjava.net/records-vs-value-types.","body":"Here&#39;s a blog post that should shed some light on the differences between records, value types and value records: <a href=\"https://www.beyondjava.net/records-vs-value-types\" rel=\"nofollow noreferrer\">beyondjava.net/records-vs-value-types</a>."}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670426763,"creation_date":1670426763,"question_id":74719085,"body_markdown":"I have been using record from Java 17 for sometime and I like it.\r\n\r\n    record Something(int a, int b){}\r\n\r\nI also noticed recently that `Project Valhalla` introduces value type\r\n\r\n    value record Something(int a, int b){}\r\n\r\nNow I am confused. record was supposed to be value classes. Then what is the point of adding the `value`? What is the problem valhalla trying to solve? ","title":"Java Record in Valhalla","body":"<p>I have been using record from Java 17 for sometime and I like it.</p>\n<pre><code>record Something(int a, int b){}\n</code></pre>\n<p>I also noticed recently that <code>Project Valhalla</code> introduces value type</p>\n<pre><code>value record Something(int a, int b){}\n</code></pre>\n<p>Now I am confused. record was supposed to be value classes. Then what is the point of adding the <code>value</code>? What is the problem valhalla trying to solve?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":26743437,"reputation":21,"user_id":20343854,"display_name":"Vaneiza"},"score":0,"creation_date":1667308552,"post_id":74264890,"comment_id":131133479,"body_markdown":"Thanks for your answer. Which google version do you have and how did you import this dependency? I tried to use this dependency as you explained, but it is not working.                                                                            \n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-devtools-v106&lt;/artifactId&gt;\n    &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;","body":"Thanks for your answer. Which google version do you have and how did you import this dependency? I tried to use this dependency as you explained, but it is not working.                                                                             &lt;dependency&gt;     &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;     &lt;artifactId&gt;selenium-devtools-v106&lt;/artifactId&gt;     &lt;version&gt;4.5.3&lt;/version&gt; &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":26786004,"reputation":21,"user_id":20380185,"display_name":"waqar jan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667469567,"creation_date":1667226843,"answer_id":74264890,"question_id":74215099,"body_markdown":"I had a similar issue and resolved using the following steps:\r\n\r\nStep1: Add the following devtools dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-devtools-v88&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0-beta-1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nStep2: change v88 to the Chrome Version you have on your machine. e.g., v106 or v107\r\n\r\nStep3: change the beta version to the latest one. e.g., 4.0.0-beta-1 to 4.5.3.","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>I had a similar issue and resolved using the following steps:</p>\n<p>Step1: Add the following devtools dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-devtools-v88&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-beta-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step2: change v88 to the Chrome Version you have on your machine. e.g., v106 or v107</p>\n<p>Step3: change the beta version to the latest one. e.g., 4.0.0-beta-1 to 4.5.3.</p>\n"},{"tags":[],"owner":{"account_id":26799917,"reputation":1,"user_id":20392034,"display_name":"vasantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337423,"creation_date":1667337423,"answer_id":74281887,"question_id":74215099,"body_markdown":"just download the chrome driver version 107 and update in your dependency folder\r\n\r\nhttps://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/\r\nthis resolves the issue","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>just download the chrome driver version 107 and update in your dependency folder</p>\n<p><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=107.0.5304.62/</a>\nthis resolves the issue</p>\n"},{"tags":[],"owner":{"account_id":4933689,"reputation":577,"user_id":3972599,"display_name":"Amgad Hanafy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670426623,"creation_date":1670426623,"answer_id":74719052,"question_id":74215099,"body_markdown":"As of [Selenium CHANGELOG][1] CDP version 107 is supported starting selenium v4.6.0\r\n\r\nyou just need to update selenium java version to 4.6.0 or later\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;selenium.version&gt;4.6.0&lt;/selenium.version&gt;\r\n\t&lt;/properties&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${selenium.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>As of <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">Selenium CHANGELOG</a> CDP version 107 is supported starting selenium v4.6.0</p>\n<p>you just need to update selenium java version to 4.6.0 or later</p>\n<pre><code>&lt;properties&gt;\n    &lt;selenium.version&gt;4.6.0&lt;/selenium.version&gt;\n&lt;/properties&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;${selenium.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26743437,"reputation":21,"user_id":20343854,"display_name":"Vaneiza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670426623,"creation_date":1666825282,"question_id":74215099,"body_markdown":"Can anyone help me to solve this issue?\r\n\r\nI have Google Chrome version 107.0.5304.6, and I&#39;m using WebDriverManager to get the same chromeDriver version. I download Google Chrome version 106 and run my tests and this issue didn&#39;t happen, but my Google Chrome updates automatically from version 106 to 107 and the warning happens again.","title":"WARNING: Unable to find an exact match for CDP version 107, so returning the closest version found: 106","body":"<p>Can anyone help me to solve this issue?</p>\n<p>I have Google Chrome version 107.0.5304.6, and I'm using WebDriverManager to get the same chromeDriver version. I download Google Chrome version 106 and run my tests and this issue didn't happen, but my Google Chrome updates automatically from version 106 to 107 and the warning happens again.</p>\n"},{"tags":["java","generics","raw-types"],"comments":[{"owner":{"account_id":2289706,"reputation":495,"user_id":2128208,"accept_rate":89,"display_name":"SuperStar"},"score":0,"creation_date":1364897071,"post_id":2770321,"comment_id":22400936,"body_markdown":"the java tutorials still use the JComboBox that causes this warning. Which version of the combobox will not cause this warning ? http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html","body":"the java tutorials still use the JComboBox that causes this warning. Which version of the combobox will not cause this warning ? <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1463990875,"post_id":2770321,"comment_id":62281402,"body_markdown":"Note that the reason why raw types exist is for backwards compatibility with Java 1.4 and older, which did not have generics at all.","body":"Note that the reason why raw types exist is for backwards compatibility with Java 1.4 and older, which did not have generics at all."}],"answers":[{"comments":[{"owner":{"account_id":131264,"reputation":32649,"user_id":331137,"display_name":"John Flatness"},"score":4,"creation_date":1273029001,"post_id":2770338,"comment_id":2803728,"body_markdown":"More specifically, a raw type is what you get when you simply omit the type parameters for a generic type.  Raw types were really only ever a backwards-compatibility feature, and are potentially subject to removal.  You can get similar behavior using ? wildcard parameters.","body":"More specifically, a raw type is what you get when you simply omit the type parameters for a generic type.  Raw types were really only ever a backwards-compatibility feature, and are potentially subject to removal.  You can get similar behavior using ? wildcard parameters."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1273036129,"post_id":2770338,"comment_id":2804111,"body_markdown":"@zerocrates: similar but different! Using `?` still offers type safety. I covered it in my answer.","body":"@zerocrates: similar but different! Using <code>?</code> still offers type safety. I covered it in my answer."}],"tags":[],"owner":{"account_id":23836,"reputation":86772,"user_id":60096,"accept_rate":89,"display_name":"Andy White"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1273028283,"creation_date":1273028283,"answer_id":2770338,"question_id":2770321,"body_markdown":"A &quot;raw&quot; type in Java is a class which is non-generic and deals with &quot;raw&quot; Objects, rather than type-safe generic type parameters.\r\n\r\nFor example, before Java generics was available, you would use a collection class like this:\r\n\r\n    LinkedList list = new LinkedList();\r\n    list.add(new MyObject());\r\n    MyObject myObject = (MyObject)list.get(0);\r\n\r\nWhen you add your object to the list, it doesn&#39;t care what type of object it is, and when you get it from the list, you have to explicitly cast it to the type you are expecting.\r\n\r\nUsing generics, you remove the &quot;unknown&quot; factor, because you must explicitly specify which type of objects can go in the list:\r\n\r\n    LinkedList&lt;MyObject&gt; list = new LinkedList&lt;MyObject&gt;();\r\n    list.add(new MyObject());\r\n    MyObject myObject = list.get(0);\r\n\r\nNotice that with generics you don&#39;t have to cast the object coming from the get call, the collection is pre-defined to only work with MyObject.  This very fact is the main driving factor for generics.  It changes a source of runtime errors into something that can be checked at compile time.\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A \"raw\" type in Java is a class which is non-generic and deals with \"raw\" Objects, rather than type-safe generic type parameters.</p>\n\n<p>For example, before Java generics was available, you would use a collection class like this:</p>\n\n<pre><code>LinkedList list = new LinkedList();\nlist.add(new MyObject());\nMyObject myObject = (MyObject)list.get(0);\n</code></pre>\n\n<p>When you add your object to the list, it doesn't care what type of object it is, and when you get it from the list, you have to explicitly cast it to the type you are expecting.</p>\n\n<p>Using generics, you remove the \"unknown\" factor, because you must explicitly specify which type of objects can go in the list:</p>\n\n<pre><code>LinkedList&lt;MyObject&gt; list = new LinkedList&lt;MyObject&gt;();\nlist.add(new MyObject());\nMyObject myObject = list.get(0);\n</code></pre>\n\n<p>Notice that with generics you don't have to cast the object coming from the get call, the collection is pre-defined to only work with MyObject.  This very fact is the main driving factor for generics.  It changes a source of runtime errors into something that can be checked at compile time.</p>\n"},{"comments":[{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":1,"creation_date":1273034283,"post_id":2770631,"comment_id":2804016,"body_markdown":"Ah, so tempted to copy `polygenelubricants`&#39;s &quot;raw type&quot; references from http://stackoverflow.com/questions/2770111/how-can-we-improve-performance-of-this-piece-of-code/2770253#2770253 into my own answer, but I suppose I&#39;ll leave them for use in his/her own answer.","body":"Ah, so tempted to copy <code>polygenelubricants</code>&#39;s &quot;raw type&quot; references from <a href=\"http://stackoverflow.com/questions/2770111/how-can-we-improve-performance-of-this-piece-of-code/2770253#2770253\" title=\"how can we improve performance of this piece of code\">stackoverflow.com/questions/2770111/&hellip;</a> into my own answer, but I suppose I&#39;ll leave them for use in his/her own answer."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1273035756,"post_id":2770631,"comment_id":2804097,"body_markdown":"yes, I&#39;ve been essentially copying-and-pasting that segment everywhere people use raw types on stackoverflow, and finally decided to just have one question to refer to from now on. I hope it&#39;s a good contribution for the community.","body":"yes, I&#39;ve been essentially copying-and-pasting that segment everywhere people use raw types on stackoverflow, and finally decided to just have one question to refer to from now on. I hope it&#39;s a good contribution for the community."},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":1,"creation_date":1273036668,"post_id":2770631,"comment_id":2804149,"body_markdown":"@polygenelubricants I noticed - we hit some of the same questions :-)","body":"@polygenelubricants I noticed - we hit some of the same questions :-)"},{"owner":{"account_id":2058631,"reputation":13975,"user_id":1835769,"accept_rate":94,"display_name":"displayName"},"score":1,"creation_date":1502118158,"post_id":2770631,"comment_id":78059625,"body_markdown":"@ha9u63ar: Indeed. In general concise and simple answers are at least as good as the long and accepted ones.","body":"@ha9u63ar: Indeed. In general concise and simple answers are at least as good as the long and accepted ones."}],"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1273033917,"creation_date":1273033917,"answer_id":2770631,"question_id":2770321,"body_markdown":"*What is a raw type and why do I often hear that they shouldn&#39;t be used in new code?*\r\n\r\nA &quot;raw type&quot; is the use of a generic class without specifying a type argument(s) for its parameterized type(s), e.g. using `List` instead of `List&lt;String&gt;`. When generics were introduced into Java, several classes were updated to use generics.  Using these class as a &quot;raw type&quot; (without specifying a type argument) allowed legacy code to still compile.\r\n\r\n&quot;Raw types&quot; are used for backwards compatibility. Their use in new code is not recommended because using the generic class with a type argument allows for stronger typing, which in turn may improve code understandability and lead to catching potential problems earlier.\r\n\r\n*What is the alternative if we can&#39;t use raw types, and how is it better?*\r\n\r\nThe preferred alternative is to use generic classes as intended - with a suitable type argument (e.g. `List&lt;String&gt;`). This allows the programmer to specify types more specifically, conveys more meaning to future maintainers about the intended use of a variable or data structure, and it allows compiler to enforce better type-safety.  These advantages together may improve code quality and help prevent the introduction of some coding errors.\r\n\r\nFor example, for a method where the programmer wants to ensure a List variable called &#39;names&#39; contains only Strings:\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n    names.add(&quot;John&quot;);          // OK\r\n    names.add(new Integer(1));  // compile error\r\n\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><em>What is a raw type and why do I often hear that they shouldn't be used in new code?</em></p>\n\n<p>A \"raw type\" is the use of a generic class without specifying a type argument(s) for its parameterized type(s), e.g. using <code>List</code> instead of <code>List&lt;String&gt;</code>. When generics were introduced into Java, several classes were updated to use generics.  Using these class as a \"raw type\" (without specifying a type argument) allowed legacy code to still compile.</p>\n\n<p>\"Raw types\" are used for backwards compatibility. Their use in new code is not recommended because using the generic class with a type argument allows for stronger typing, which in turn may improve code understandability and lead to catching potential problems earlier.</p>\n\n<p><em>What is the alternative if we can't use raw types, and how is it better?</em></p>\n\n<p>The preferred alternative is to use generic classes as intended - with a suitable type argument (e.g. <code>List&lt;String&gt;</code>). This allows the programmer to specify types more specifically, conveys more meaning to future maintainers about the intended use of a variable or data structure, and it allows compiler to enforce better type-safety.  These advantages together may improve code quality and help prevent the introduction of some coding errors.</p>\n\n<p>For example, for a method where the programmer wants to ensure a List variable called 'names' contains only Strings:</p>\n\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nnames.add(\"John\");          // OK\nnames.add(new Integer(1));  // compile error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448984280,"creation_date":1273034656,"answer_id":2770671,"question_id":2770321,"body_markdown":"A *raw*-type is the a lack of a *type parameter* when using a generic type.\r\n\r\nRaw-type should not be used because it could cause runtime errors, like inserting a `double` into what was supposed to be a `Set` of `int`s.\r\n\r\n    Set set = new HashSet();\r\n    set.add(3.45); //ok\r\n\r\nWhen retrieving the stuff from the `Set`, you don&#39;t know what is coming out. Let&#39;s assume that you expect it to be all `int`s, you are casting it to `Integer`; exception at runtime when the `double` 3.45 comes along.\r\n\r\nWith a *type parameter* added to your `Set`, you will get a compile error at once. This preemptive error lets you fix the problem before something blows up during runtime (thus saving on time and effort).\r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n    set.add(3.45); //NOT ok.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A <em>raw</em>-type is the a lack of a <em>type parameter</em> when using a generic type.</p>\n\n<p>Raw-type should not be used because it could cause runtime errors, like inserting a <code>double</code> into what was supposed to be a <code>Set</code> of <code>int</code>s.</p>\n\n<pre><code>Set set = new HashSet();\nset.add(3.45); //ok\n</code></pre>\n\n<p>When retrieving the stuff from the <code>Set</code>, you don't know what is coming out. Let's assume that you expect it to be all <code>int</code>s, you are casting it to <code>Integer</code>; exception at runtime when the <code>double</code> 3.45 comes along.</p>\n\n<p>With a <em>type parameter</em> added to your <code>Set</code>, you will get a compile error at once. This preemptive error lets you fix the problem before something blows up during runtime (thus saving on time and effort).</p>\n\n<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\nset.add(3.45); //NOT ok.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17554,"reputation":17604,"user_id":39396,"accept_rate":81,"display_name":"Carl G"},"score":25,"creation_date":1355602072,"post_id":2770692,"comment_id":19145305,"body_markdown":"What do you mean that, &quot;Java generics are non-reified&quot;?","body":"What do you mean that, &quot;Java generics are non-reified&quot;?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":8,"creation_date":1369023646,"post_id":2770692,"comment_id":23935708,"body_markdown":"For the second exception, the syntax `o instanceof Set&lt;?&gt;` is also permitted to avoid the raw type (though it&#39;s only superficial in this case).","body":"For the second exception, the syntax <code>o instanceof Set&lt;?&gt;</code> is also permitted to avoid the raw type (though it&#39;s only superficial in this case)."},{"owner":{"account_id":2265291,"reputation":221,"user_id":1994159,"accept_rate":73,"display_name":"Aladdin"},"score":0,"creation_date":1370006659,"post_id":2770692,"comment_id":24314045,"body_markdown":"can you give me an example of &quot; migration compatibility&quot; ??","body":"can you give me an example of &quot; migration compatibility&quot; ??"},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":1,"creation_date":1411168561,"post_id":2770692,"comment_id":40616934,"body_markdown":"Raw types are very usefull and reduce boilerplate code in case of JNDI lookups for a bean which extends an interface. This resolves the need to write `n` remote beans for each implementing class with identical code.","body":"Raw types are very usefull and reduce boilerplate code in case of JNDI lookups for a bean which extends an interface. This resolves the need to write <code>n</code> remote beans for each implementing class with identical code."},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":12,"creation_date":1437503082,"post_id":2770692,"comment_id":51052430,"body_markdown":"&quot;Non-reified&quot; is another way of saying that they are erased. The compiler knows what the generic parameters are, but that information is not passed on to the generated bytecode. The JLS requires that class literals have no type parameters.","body":"&quot;Non-reified&quot; is another way of saying that they are erased. The compiler knows what the generic parameters are, but that information is not passed on to the generated bytecode. The JLS requires that class literals have no type parameters."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":1,"creation_date":1450393524,"post_id":2770692,"comment_id":56433482,"body_markdown":"There might be a thrd exception. A case where you really need to extnd/implement 2 parents with different typed methods that  share same erased signature whose names clash. Then the only simple way is using raw type for the parameter of the inherited method to avoid collisions and do the type checking hardcoded according to what each parent expects. It&#39;s really ugly, but works as a self-explanatory workarond,,..","body":"There might be a thrd exception. A case where you really need to extnd/implement 2 parents with different typed methods that  share same erased signature whose names clash. Then the only simple way is using raw type for the parameter of the inherited method to avoid collisions and do the type checking hardcoded according to what each parent expects. It&#39;s really ugly, but works as a self-explanatory workarond,,.."},{"owner":{"account_id":2751362,"reputation":11133,"user_id":2714301,"accept_rate":47,"display_name":"Jwan622"},"score":0,"creation_date":1452098557,"post_id":2770692,"comment_id":57021606,"body_markdown":"When using the generics... why is having an error thrown at compilation time &quot;better&quot; than having an exception thrown at runtime?","body":"When using the generics... why is having an error thrown at compilation time &quot;better&quot; than having an exception thrown at runtime?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1461073967,"post_id":2770692,"comment_id":61025882,"body_markdown":"@Radiodef - Wouldn&#39;t it be `List.&lt;String&gt;class`? Like `Collections.&lt;String,String&gt;emptyMap();` - i.e. the generic **after** the dot.","body":"@Radiodef - Wouldn&#39;t it be <code>List.&lt;String&gt;class</code>? Like <code>Collections.&lt;String,String&gt;emptyMap();</code> - i.e. the generic <b>after</b> the dot."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1461074963,"post_id":2770692,"comment_id":61026623,"body_markdown":"@OldCurmudgeon That&#39;s interesting. I mean officially it&#39;s *neither*, because a class literal defined as just `TypeName.class`, where `TypeName` is a plain identifier ([jls](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.8.2)). Speaking hypothetically, I guess it could really be either. Maybe as a clue, `List&lt;String&gt;.class` is the variant that the JLS specifically calls a compiler error, so if they ever add it to the language I&#39;d expect that that is the one they use.","body":"@OldCurmudgeon That&#39;s interesting. I mean officially it&#39;s <i>neither</i>, because a class literal defined as just <code>TypeName.class</code>, where <code>TypeName</code> is a plain identifier (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.8.2\" rel=\"nofollow noreferrer\">jls</a>). Speaking hypothetically, I guess it could really be either. Maybe as a clue, <code>List&lt;String&gt;.class</code> is the variant that the JLS specifically calls a compiler error, so if they ever add it to the language I&#39;d expect that that is the one they use."},{"owner":{"account_id":3082985,"reputation":54173,"user_id":2610810,"display_name":"Caleth"},"score":2,"creation_date":1501253155,"post_id":2770692,"comment_id":77714252,"body_markdown":"@Jwan622 because the program is *much less likely* to leave the developers local PC still in that state.","body":"@Jwan622 because the program is <i>much less likely</i> to leave the developers local PC still in that state."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":10,"down_vote_count":1,"up_vote_count":885,"is_accepted":false,"score":884,"last_activity_date":1522367191,"creation_date":1273035035,"answer_id":2770692,"question_id":2770321,"body_markdown":"## What is a raw type?\n\nThe Java Language Specification defines a _raw type_ as follows:\n\n### [JLS 4.8 Raw Types](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8)\n\n&gt; A raw type is defined to be one of:\n&gt;\n&gt;- The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.\n&gt;\n&gt;- An array type whose element type is a raw type.\n&gt;\n&gt;- A non-`static` member type of a raw type `R` that is not inherited from a superclass or superinterface of `R`.\n\nHere&#39;s an example to illustrate:\n\n    public class MyType&lt;E&gt; {\n        class Inner { }\n        static class Nested { }\n        \n        public static void main(String[] args) {\n            MyType mt;          // warning: MyType is a raw type\n            MyType.Inner inn;   // warning: MyType.Inner is a raw type\n\n            MyType.Nested nest; // no warning: not parameterized type\n            MyType&lt;Object&gt; mt1; // no warning: type parameter given\n            MyType&lt;?&gt; mt2;      // no warning: type parameter given (wildcard OK!)\n        }\n    }\n\nHere, `MyType&lt;E&gt;` is a _parameterized type_ ([JLS 4.5](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5)). It is common to colloquially refer to this type as simply `MyType` for short, but technically the name is `MyType&lt;E&gt;`.\n\n`mt` has a raw type (and generates a compilation warning) by the first bullet point in the above definition; `inn` also has a raw type by the third bullet point.\n\n`MyType.Nested` is not a parameterized type, even though it&#39;s a member type of a parameterized type `MyType&lt;E&gt;`, because it&#39;s `static`.\n\n`mt1`, and `mt2` are both declared with actual type parameters, so they&#39;re not raw types.\n\n---\n\n## What&#39;s so special about raw types?\n\nEssentially, raw types behaves just like they were before generics were introduced. That is, the following is entirely legal at compile-time.\n\n    List names = new ArrayList(); // warning: raw type!\n    names.add(&quot;John&quot;);\n    names.add(&quot;Mary&quot;);\n    names.add(Boolean.FALSE); // not a compilation error!\n\nThe above code runs just fine, but suppose you also have the following:\n\n    for (Object o : names) {\n        String name = (String) o;\n        System.out.println(name);\n    } // throws ClassCastException!\n      //    java.lang.Boolean cannot be cast to java.lang.String\n\nNow we run into trouble at run-time, because `names` contains something that isn&#39;t an `instanceof String`.\n\nPresumably, if you want `names` to contain only `String`, you _could_ perhaps still use a raw type and _manually check every_ `add` yourself, and then _manually cast_ to `String` every item from `names`. **Even better**, though is NOT to use a raw type and _let the compiler do all the work for you_, harnessing the power of Java generics.\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    names.add(&quot;John&quot;);\n    names.add(&quot;Mary&quot;);\n    names.add(Boolean.FALSE); // compilation error!\n\nOf course, if you _DO_ want `names` to allow a `Boolean`, then you can declare it as `List&lt;Object&gt; names`, and the above code would compile.\n\n### See also\n\n* [Java Tutorials/Generics](https://docs.oracle.com/javase/tutorial/java/generics/)\n\n---\n\n## How&#39;s a raw type different from using `&lt;Object&gt;` as type parameters?\n\nThe following is a quote from _Effective Java 2nd Edition, Item 23: Don&#39;t use raw types in new code_:\n\n&gt; Just what is the difference between the raw type `List` and the parameterized type `List&lt;Object&gt;`? Loosely speaking, the former has opted out generic type checking, while the latter explicitly told the compiler that it is capable of holding objects of any type. While you can pass a `List&lt;String&gt;` to a parameter of type `List`, you can&#39;t pass it to a parameter of type `List&lt;Object&gt;`. There are subtyping rules for generics, and `List&lt;String&gt;` is a subtype of the raw type `List`, but not of the parameterized type `List&lt;Object&gt;`. As a consequence, **you lose type safety if you use raw type like `List`, but not if you use a parameterized type like `List&lt;Object&gt;`**.\n\nTo illustrate the point, consider the following method which takes a `List&lt;Object&gt;` and appends a `new Object()`.\n\n    void appendNewObject(List&lt;Object&gt; list) {\n       list.add(new Object());\n    }\n\nGenerics in Java are invariant. A `List&lt;String&gt;` is not a `List&lt;Object&gt;`, so the following would generate a compiler warning:\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    appendNewObject(names); // compilation error!\n\nIf you had declared `appendNewObject` to take a raw type `List` as parameter, then this would compile, and you&#39;d therefore lose the type safety that you get from generics.\n\n### See also\n\n* [What is the difference between `&lt;E extends Number&gt;` and `&lt;Number&gt;`?](https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/)\n* [java generics (not) covariance](https://stackoverflow.com/questions/2660827/java-generics-covariance)\n\n---\n\n## How&#39;s a raw type different from using `&lt;?&gt;` as a type parameter?\n\n`List&lt;Object&gt;`, `List&lt;String&gt;`, etc are all `List&lt;?&gt;`, so it may be tempting to just say that they&#39;re just `List` instead. However, there is a major difference: since a `List&lt;E&gt;` defines only `add(E)`, you can&#39;t add just any arbitrary object to a `List&lt;?&gt;`. On the other hand, since the raw type `List` does not have type safety, you can `add` just about anything to a `List`.\n\nConsider the following variation of the previous snippet:\n\n    static void appendNewObject(List&lt;?&gt; list) {\n        list.add(new Object()); // compilation error!\n    }\n    //...\n\n    List&lt;String&gt; names = new ArrayList&lt;String&gt;();\n    appendNewObject(names); // this part is fine!\n\nThe compiler did a wonderful job of protecting you from potentially violating the type invariance of the `List&lt;?&gt;`! If you had declared the parameter as the raw type `List list`, then the code would compile, and you&#39;d violate the type invariant of `List&lt;String&gt; names`.\n\n---\n\n## A raw type is the erasure of that type\n\nBack to JLS 4.8:\n\n&gt;It is possible to use as a type **the erasure** of a parameterized type or the erasure of an array type whose element type is a parameterized type. **Such a type is called a *raw type*.**\n&gt;\n&gt;*[...]*\n&gt;\n&gt;The superclasses (respectively, superinterfaces) of a raw type are the erasures of the superclasses (superinterfaces) of any of the parameterizations of the generic type.\n&gt;\n&gt;The type of a constructor, instance method, or non-`static` field of a raw type `C` that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to `C`.\n\nIn simpler terms, when a raw type is used, the constructors, instance methods and non-`static` fields are *also erased*.\n\nTake the following example:\n\n    class MyType&lt;E&gt; {\n        List&lt;String&gt; getNames() {\n            return Arrays.asList(&quot;John&quot;, &quot;Mary&quot;);\n        }\n\n        public static void main(String[] args) {\n            MyType rawType = new MyType();\n            // unchecked warning!\n            // required: List&lt;String&gt; found: List\n            List&lt;String&gt; names = rawType.getNames();\n            // compilation error!\n            // incompatible types: Object cannot be converted to String\n            for (String str : rawType.getNames())\n                System.out.print(str);\n        }\n    }\n\nWhen we use the raw `MyType`, `getNames` becomes erased as well, so that it returns a raw `List`!\n\n[JLS 4.6](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6) continues to explain the following:\n\n&gt;**Type erasure also maps the signature of a constructor or method to a signature that has no parameterized types or type variables.** The erasure of a constructor or method signature `s` is a signature consisting of the same name as `s` and the erasures of all the formal parameter types given in `s`.\n&gt;\n&gt;**The return type of a method and the type parameters of a generic method or constructor also undergo erasure if the method or constructor&#39;s signature is erased.**\n&gt;\n&gt;The erasure of the signature of a generic method has no type parameters.\n\nThe following bug report contains some thoughts from Maurizio Cimadamore, a compiler dev, and Alex Buckley, one of the authors of the JLS, on why this sort of behavior ought to occur: https://bugs.openjdk.java.net/browse/JDK-6400189. (In short, it makes the specification simpler.)\n\n---\n\n## If it&#39;s unsafe, why is it allowed to use a raw type?\n\nHere&#39;s another quote from JLS 4.8:\n\n&gt; The use of raw types is allowed only as a concession to compatibility of legacy code. _The use of raw types in code written after the introduction of genericity into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types._\n\n_Effective Java 2nd Edition_ also has this to add:\n\n&gt; Given that you shouldn&#39;t use raw types, why did the language designers allow them? To provide compatibility.\n&gt;\n&gt; The Java platform was about to enter its second decade when generics were introduced, and there was an enormous amount of Java code in existence that did not use generics. It was deemed critical that all this code remains legal and interoperable with new code that does use generics. It had to be legal to pass instances of parameterized types to methods that were designed for use with ordinary types, and vice versa. This requirement, known as _migration compatibility_, drove the decision to support raw types.\n\nIn summary, raw types should NEVER be used in new code. **You should always use parameterized types**.\n\n---\n\n## Are there no exceptions?\n\nUnfortunately, because Java generics are non-reified, there are two exceptions where raw types must be used in new code:\n\n* Class literals, e.g. `List.class`, not `List&lt;String&gt;.class`\n* `instanceof` operand, e.g. `o instanceof Set`, not `o instanceof Set&lt;String&gt;`\n\n### See also\n\n* [Why is `Collection&lt;String&gt;.class` Illegal?](https://stackoverflow.com/questions/2745193/why-is-collectionstring-class-illegal/)","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<h2>What is a raw type?</h2>\n<p>The Java Language Specification defines a <em>raw type</em> as follows:</p>\n<h3><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.8\" rel=\"noreferrer\">JLS 4.8 Raw Types</a></h3>\n<blockquote>\n<p>A raw type is defined to be one of:</p>\n<ul>\n<li><p>The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.</p>\n</li>\n<li><p>An array type whose element type is a raw type.</p>\n</li>\n<li><p>A non-<code>static</code> member type of a raw type <code>R</code> that is not inherited from a superclass or superinterface of <code>R</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's an example to illustrate:</p>\n<pre><code>public class MyType&lt;E&gt; {\n    class Inner { }\n    static class Nested { }\n    \n    public static void main(String[] args) {\n        MyType mt;          // warning: MyType is a raw type\n        MyType.Inner inn;   // warning: MyType.Inner is a raw type\n\n        MyType.Nested nest; // no warning: not parameterized type\n        MyType&lt;Object&gt; mt1; // no warning: type parameter given\n        MyType&lt;?&gt; mt2;      // no warning: type parameter given (wildcard OK!)\n    }\n}\n</code></pre>\n<p>Here, <code>MyType&lt;E&gt;</code> is a <em>parameterized type</em> (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5\" rel=\"noreferrer\">JLS 4.5</a>). It is common to colloquially refer to this type as simply <code>MyType</code> for short, but technically the name is <code>MyType&lt;E&gt;</code>.</p>\n<p><code>mt</code> has a raw type (and generates a compilation warning) by the first bullet point in the above definition; <code>inn</code> also has a raw type by the third bullet point.</p>\n<p><code>MyType.Nested</code> is not a parameterized type, even though it's a member type of a parameterized type <code>MyType&lt;E&gt;</code>, because it's <code>static</code>.</p>\n<p><code>mt1</code>, and <code>mt2</code> are both declared with actual type parameters, so they're not raw types.</p>\n<hr />\n<h2>What's so special about raw types?</h2>\n<p>Essentially, raw types behaves just like they were before generics were introduced. That is, the following is entirely legal at compile-time.</p>\n<pre><code>List names = new ArrayList(); // warning: raw type!\nnames.add(&quot;John&quot;);\nnames.add(&quot;Mary&quot;);\nnames.add(Boolean.FALSE); // not a compilation error!\n</code></pre>\n<p>The above code runs just fine, but suppose you also have the following:</p>\n<pre><code>for (Object o : names) {\n    String name = (String) o;\n    System.out.println(name);\n} // throws ClassCastException!\n  //    java.lang.Boolean cannot be cast to java.lang.String\n</code></pre>\n<p>Now we run into trouble at run-time, because <code>names</code> contains something that isn't an <code>instanceof String</code>.</p>\n<p>Presumably, if you want <code>names</code> to contain only <code>String</code>, you <em>could</em> perhaps still use a raw type and <em>manually check every</em> <code>add</code> yourself, and then <em>manually cast</em> to <code>String</code> every item from <code>names</code>. <strong>Even better</strong>, though is NOT to use a raw type and <em>let the compiler do all the work for you</em>, harnessing the power of Java generics.</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nnames.add(&quot;John&quot;);\nnames.add(&quot;Mary&quot;);\nnames.add(Boolean.FALSE); // compilation error!\n</code></pre>\n<p>Of course, if you <em>DO</em> want <code>names</code> to allow a <code>Boolean</code>, then you can declare it as <code>List&lt;Object&gt; names</code>, and the above code would compile.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"noreferrer\">Java Tutorials/Generics</a></li>\n</ul>\n<hr />\n<h2>How's a raw type different from using <code>&lt;Object&gt;</code> as type parameters?</h2>\n<p>The following is a quote from <em>Effective Java 2nd Edition, Item 23: Don't use raw types in new code</em>:</p>\n<blockquote>\n<p>Just what is the difference between the raw type <code>List</code> and the parameterized type <code>List&lt;Object&gt;</code>? Loosely speaking, the former has opted out generic type checking, while the latter explicitly told the compiler that it is capable of holding objects of any type. While you can pass a <code>List&lt;String&gt;</code> to a parameter of type <code>List</code>, you can't pass it to a parameter of type <code>List&lt;Object&gt;</code>. There are subtyping rules for generics, and <code>List&lt;String&gt;</code> is a subtype of the raw type <code>List</code>, but not of the parameterized type <code>List&lt;Object&gt;</code>. As a consequence, <strong>you lose type safety if you use raw type like <code>List</code>, but not if you use a parameterized type like <code>List&lt;Object&gt;</code></strong>.</p>\n</blockquote>\n<p>To illustrate the point, consider the following method which takes a <code>List&lt;Object&gt;</code> and appends a <code>new Object()</code>.</p>\n<pre><code>void appendNewObject(List&lt;Object&gt; list) {\n   list.add(new Object());\n}\n</code></pre>\n<p>Generics in Java are invariant. A <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code>, so the following would generate a compiler warning:</p>\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();\nappendNewObject(names); // compilation error!\n</code></pre>\n<p>If you had declared <code>appendNewObject</code> to take a raw type <code>List</code> as parameter, then this would compile, and you'd therefore lose the type safety that you get from generics.</p>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/\">What is the difference between <code>&lt;E extends Number&gt;</code> and <code>&lt;Number&gt;</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">java generics (not) covariance</a></li>\n</ul>\n<hr />\n<h2>How's a raw type different from using <code>&lt;?&gt;</code> as a type parameter?</h2>\n<p><code>List&lt;Object&gt;</code>, <code>List&lt;String&gt;</code>, etc are all <code>List&lt;?&gt;</code>, so it may be tempting to just say that they're just <code>List</code> instead. However, there is a major difference: since a <code>List&lt;E&gt;</code> defines only <code>add(E)</code>, you can't add just any arbitrary object to a <code>List&lt;?&gt;</code>. On the other hand, since the raw type <code>List</code> does not have type safety, you can <code>add</code> just about anything to a <code>List</code>.</p>\n<p>Consider the following variation of the previous snippet:</p>\n<pre><code>static void appendNewObject(List&lt;?&gt; list) {\n    list.add(new Object()); // compilation error!\n}\n//...\n\nList&lt;String&gt; names = new ArrayList&lt;String&gt;();\nappendNewObject(names); // this part is fine!\n</code></pre>\n<p>The compiler did a wonderful job of protecting you from potentially violating the type invariance of the <code>List&lt;?&gt;</code>! If you had declared the parameter as the raw type <code>List list</code>, then the code would compile, and you'd violate the type invariant of <code>List&lt;String&gt; names</code>.</p>\n<hr />\n<h2>A raw type is the erasure of that type</h2>\n<p>Back to JLS 4.8:</p>\n<blockquote>\n<p>It is possible to use as a type <strong>the erasure</strong> of a parameterized type or the erasure of an array type whose element type is a parameterized type. <strong>Such a type is called a <em>raw type</em>.</strong></p>\n<p><em>[...]</em></p>\n<p>The superclasses (respectively, superinterfaces) of a raw type are the erasures of the superclasses (superinterfaces) of any of the parameterizations of the generic type.</p>\n<p>The type of a constructor, instance method, or non-<code>static</code> field of a raw type <code>C</code> that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to <code>C</code>.</p>\n</blockquote>\n<p>In simpler terms, when a raw type is used, the constructors, instance methods and non-<code>static</code> fields are <em>also erased</em>.</p>\n<p>Take the following example:</p>\n<pre><code>class MyType&lt;E&gt; {\n    List&lt;String&gt; getNames() {\n        return Arrays.asList(&quot;John&quot;, &quot;Mary&quot;);\n    }\n\n    public static void main(String[] args) {\n        MyType rawType = new MyType();\n        // unchecked warning!\n        // required: List&lt;String&gt; found: List\n        List&lt;String&gt; names = rawType.getNames();\n        // compilation error!\n        // incompatible types: Object cannot be converted to String\n        for (String str : rawType.getNames())\n            System.out.print(str);\n    }\n}\n</code></pre>\n<p>When we use the raw <code>MyType</code>, <code>getNames</code> becomes erased as well, so that it returns a raw <code>List</code>!</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"noreferrer\">JLS 4.6</a> continues to explain the following:</p>\n<blockquote>\n<p><strong>Type erasure also maps the signature of a constructor or method to a signature that has no parameterized types or type variables.</strong> The erasure of a constructor or method signature <code>s</code> is a signature consisting of the same name as <code>s</code> and the erasures of all the formal parameter types given in <code>s</code>.</p>\n<p><strong>The return type of a method and the type parameters of a generic method or constructor also undergo erasure if the method or constructor's signature is erased.</strong></p>\n<p>The erasure of the signature of a generic method has no type parameters.</p>\n</blockquote>\n<p>The following bug report contains some thoughts from Maurizio Cimadamore, a compiler dev, and Alex Buckley, one of the authors of the JLS, on why this sort of behavior ought to occur: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6400189\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6400189</a>. (In short, it makes the specification simpler.)</p>\n<hr />\n<h2>If it's unsafe, why is it allowed to use a raw type?</h2>\n<p>Here's another quote from JLS 4.8:</p>\n<blockquote>\n<p>The use of raw types is allowed only as a concession to compatibility of legacy code. <em>The use of raw types in code written after the introduction of genericity into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.</em></p>\n</blockquote>\n<p><em>Effective Java 2nd Edition</em> also has this to add:</p>\n<blockquote>\n<p>Given that you shouldn't use raw types, why did the language designers allow them? To provide compatibility.</p>\n<p>The Java platform was about to enter its second decade when generics were introduced, and there was an enormous amount of Java code in existence that did not use generics. It was deemed critical that all this code remains legal and interoperable with new code that does use generics. It had to be legal to pass instances of parameterized types to methods that were designed for use with ordinary types, and vice versa. This requirement, known as <em>migration compatibility</em>, drove the decision to support raw types.</p>\n</blockquote>\n<p>In summary, raw types should NEVER be used in new code. <strong>You should always use parameterized types</strong>.</p>\n<hr />\n<h2>Are there no exceptions?</h2>\n<p>Unfortunately, because Java generics are non-reified, there are two exceptions where raw types must be used in new code:</p>\n<ul>\n<li>Class literals, e.g. <code>List.class</code>, not <code>List&lt;String&gt;.class</code></li>\n<li><code>instanceof</code> operand, e.g. <code>o instanceof Set</code>, not <code>o instanceof Set&lt;String&gt;</code></li>\n</ul>\n<h3>See also</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2745193/why-is-collectionstring-class-illegal/\">Why is <code>Collection&lt;String&gt;.class</code> Illegal?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"comment_count":0,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1448066897,"creation_date":1273096247,"answer_id":2777051,"question_id":2770321,"body_markdown":"&gt; What are raw types in Java, and why do I often hear that they shouldn&#39;t be used in new code?\r\n\r\nRaw-types are ancient history of the Java language. In the beginning there were `Collections` and they held `Objects` nothing more and nothing less. Every operation on `Collections` required casts from `Object` to the desired type.\r\n\r\n    List aList = new ArrayList();\r\n    String s = &quot;Hello World!&quot;;\r\n    aList.add(s);\r\n    String c = (String)aList.get(0);\r\n\r\nWhile this worked most of the time, errors did happen\r\n\r\n    List aNumberList = new ArrayList();\r\n    String one = &quot;1&quot;;//Number one\r\n    aNumberList.add(one);\r\n    Integer iOne = (Integer)aNumberList.get(0);//Insert ClassCastException here\r\nThe old typeless collections could not enforce type-safety so the programmer had to remember what he stored within a collection.  \r\nGenerics where invented to get around this limitation, the developer would declare the stored type once and the compiler would do it instead.\r\n\r\n    List&lt;String&gt; aNumberList = new ArrayList&lt;String&gt;();\r\n    aNumberList.add(&quot;one&quot;);\r\n    Integer iOne = aNumberList.get(0);//Compile time error\r\n    String sOne = aNumberList.get(0);//works fine\r\n\r\nFor Comparison:\r\n\r\n    // Old style collections now known as raw types\r\n    List aList = new ArrayList(); //Could contain anything\r\n    // New style collections with Generics\r\n    List&lt;String&gt; aList = new ArrayList&lt;String&gt;(); //Contains only Strings\r\n\r\nMore complex the Compareable interface:\r\n\r\n    //raw, not type save can compare with Other classes\r\n    class MyCompareAble implements CompareAble\r\n    {\r\n       int id;\r\n       public int compareTo(Object other)\r\n       {return this.id - ((MyCompareAble)other).id;}\r\n    }\r\n    //Generic\r\n    class MyCompareAble implements CompareAble&lt;MyCompareAble&gt;\r\n    {\r\n       int id;\r\n       public int compareTo(MyCompareAble other)\r\n       {return this.id - other.id;}\r\n    }\r\n\r\nNote that it is impossible to implement the `CompareAble` interface with `compareTo(MyCompareAble)` with raw types.\r\nWhy you should not use them:\r\n\r\n - Any `Object` stored in a `Collection` has to be cast before it can be used\r\n - Using generics enables compile time checks\r\n - Using raw types is the same as storing each value as `Object`\r\n\r\nWhat the compiler does:\r\nGenerics are backward compatible, they use the same java classes as the raw types do. The magic happens mostly at compile time.\r\n\r\n    List&lt;String&gt; someStrings = new ArrayList&lt;String&gt;();\r\n    someStrings.add(&quot;one&quot;);\r\n    String one = someStrings.get(0);\r\n\r\nWill be compiled as:\r\n\r\n    List someStrings = new ArrayList();\r\n    someStrings.add(&quot;one&quot;); \r\n    String one = (String)someStrings.get(0);\r\n\r\nThis is the same code you would write if you used the raw types directly. Thought I&#39;m not sure what happens with the `CompareAble` interface, I guess that it creates two `compareTo` functions, one taking a `MyCompareAble` and the other taking an `Object` and passing it to the first after casting it.\r\n\r\nWhat are the alternatives to raw types: Use [generics][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/extra/generics/index.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<blockquote>\n  <p>What are raw types in Java, and why do I often hear that they shouldn't be used in new code?</p>\n</blockquote>\n\n<p>Raw-types are ancient history of the Java language. In the beginning there were <code>Collections</code> and they held <code>Objects</code> nothing more and nothing less. Every operation on <code>Collections</code> required casts from <code>Object</code> to the desired type.</p>\n\n<pre><code>List aList = new ArrayList();\nString s = \"Hello World!\";\naList.add(s);\nString c = (String)aList.get(0);\n</code></pre>\n\n<p>While this worked most of the time, errors did happen</p>\n\n<pre><code>List aNumberList = new ArrayList();\nString one = \"1\";//Number one\naNumberList.add(one);\nInteger iOne = (Integer)aNumberList.get(0);//Insert ClassCastException here\n</code></pre>\n\n<p>The old typeless collections could not enforce type-safety so the programmer had to remember what he stored within a collection.<br>\nGenerics where invented to get around this limitation, the developer would declare the stored type once and the compiler would do it instead.</p>\n\n<pre><code>List&lt;String&gt; aNumberList = new ArrayList&lt;String&gt;();\naNumberList.add(\"one\");\nInteger iOne = aNumberList.get(0);//Compile time error\nString sOne = aNumberList.get(0);//works fine\n</code></pre>\n\n<p>For Comparison:</p>\n\n<pre><code>// Old style collections now known as raw types\nList aList = new ArrayList(); //Could contain anything\n// New style collections with Generics\nList&lt;String&gt; aList = new ArrayList&lt;String&gt;(); //Contains only Strings\n</code></pre>\n\n<p>More complex the Compareable interface:</p>\n\n<pre><code>//raw, not type save can compare with Other classes\nclass MyCompareAble implements CompareAble\n{\n   int id;\n   public int compareTo(Object other)\n   {return this.id - ((MyCompareAble)other).id;}\n}\n//Generic\nclass MyCompareAble implements CompareAble&lt;MyCompareAble&gt;\n{\n   int id;\n   public int compareTo(MyCompareAble other)\n   {return this.id - other.id;}\n}\n</code></pre>\n\n<p>Note that it is impossible to implement the <code>CompareAble</code> interface with <code>compareTo(MyCompareAble)</code> with raw types.\nWhy you should not use them:</p>\n\n<ul>\n<li>Any <code>Object</code> stored in a <code>Collection</code> has to be cast before it can be used</li>\n<li>Using generics enables compile time checks</li>\n<li>Using raw types is the same as storing each value as <code>Object</code></li>\n</ul>\n\n<p>What the compiler does:\nGenerics are backward compatible, they use the same java classes as the raw types do. The magic happens mostly at compile time.</p>\n\n<pre><code>List&lt;String&gt; someStrings = new ArrayList&lt;String&gt;();\nsomeStrings.add(\"one\");\nString one = someStrings.get(0);\n</code></pre>\n\n<p>Will be compiled as:</p>\n\n<pre><code>List someStrings = new ArrayList();\nsomeStrings.add(\"one\"); \nString one = (String)someStrings.get(0);\n</code></pre>\n\n<p>This is the same code you would write if you used the raw types directly. Thought I'm not sure what happens with the <code>CompareAble</code> interface, I guess that it creates two <code>compareTo</code> functions, one taking a <code>MyCompareAble</code> and the other taking an <code>Object</code> and passing it to the first after casting it.</p>\n\n<p>What are the alternatives to raw types: Use <a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/index.html\" rel=\"noreferrer\">generics</a></p>\n"},{"comments":[{"owner":{"account_id":1361383,"reputation":2708,"user_id":1298685,"accept_rate":95,"display_name":"Ian Campbell"},"score":3,"creation_date":1412949793,"post_id":3051465,"comment_id":41271218,"body_markdown":"Now replaced by *diamond inference* in Java 7 -- `private static List&lt;String&gt; list = new ArrayList&lt;&gt;();`","body":"Now replaced by <i>diamond inference</i> in Java 7 -- <code>private static List&lt;String&gt; list = new ArrayList&lt;&gt;();</code>"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1276674293,"creation_date":1276674293,"answer_id":3051465,"question_id":2770321,"body_markdown":"     private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nYou should specify the type-parameter. \r\n\r\nThe warning advises that types that are defined to support [generics][1] should be parameterized, rather than using their raw form.\r\n\r\n`List` is defined to support generics: `public class List&lt;E&gt;`. This allows many type-safe operations, that are checked compile-time.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<pre><code> private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>You should specify the type-parameter. </p>\n\n<p>The warning advises that types that are defined to support <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"noreferrer\">generics</a> should be parameterized, rather than using their raw form.</p>\n\n<p><code>List</code> is defined to support generics: <code>public class List&lt;E&gt;</code>. This allows many type-safe operations, that are checked compile-time.</p>\n"},{"tags":[],"owner":{"account_id":78263,"reputation":11435,"user_id":222851,"accept_rate":88,"display_name":"pakore"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1276674479,"creation_date":1276674479,"answer_id":3051481,"question_id":2770321,"body_markdown":"What is saying is that your `list` is a `List` of unespecified objects. That is that Java does not know what kind of objects are inside the list. Then when you want to iterate the list you have to cast every element, to be able to access the properties of that element (in this case, String).\r\n\r\nIn general is a better idea to parametrize the collections, so you don&#39;t have conversion problems, you will only be able to add elements of the parametrized type and your editor will offer you the appropiate methods to select.\r\n\r\n\r\n    private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>What is saying is that your <code>list</code> is a <code>List</code> of unespecified objects. That is that Java does not know what kind of objects are inside the list. Then when you want to iterate the list you have to cast every element, to be able to access the properties of that element (in this case, String).</p>\n\n<p>In general is a better idea to parametrize the collections, so you don't have conversion problems, you will only be able to add elements of the parametrized type and your editor will offer you the appropiate methods to select.</p>\n\n<pre><code>private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1276674810,"creation_date":1276674810,"answer_id":3051504,"question_id":2770321,"body_markdown":"The compiler wants you to write this:\r\n\r\n    private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\nbecause otherwise, you could add any type you like into `list`, making the instantiation as `new ArrayList&lt;String&gt;()` pointless. Java generics are a compile-time feature only, so an object created with `new ArrayList&lt;String&gt;()` will happily accept `Integer` or `JFrame` elements if assigned to a reference of the &quot;raw type&quot; `List` - the object itself knows nothing about what types it&#39;s supposed to contain, only the compiler does.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>The compiler wants you to write this:</p>\n\n<pre><code>private static List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>because otherwise, you could add any type you like into <code>list</code>, making the instantiation as <code>new ArrayList&lt;String&gt;()</code> pointless. Java generics are a compile-time feature only, so an object created with <code>new ArrayList&lt;String&gt;()</code> will happily accept <code>Integer</code> or <code>JFrame</code> elements if assigned to a reference of the \"raw type\" <code>List</code> - the object itself knows nothing about what types it's supposed to contain, only the compiler does.</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1376180956,"creation_date":1376179109,"answer_id":18167472,"question_id":2770321,"body_markdown":"A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:\n\n    public class Box&lt;T&gt; {\n        public void set(T t) { /* ... */ }\n        // ...\n    }\n\nTo create a parameterized type of `Box&lt;T&gt;`, you supply an actual type argument for the formal type parameter `T`:\n\n    Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n\nIf the actual type argument is omitted, you create a raw type of `Box&lt;T&gt;`:\n\n    Box rawBox = new Box();\n\nTherefore, `Box` is the raw type of the generic type `Box&lt;T&gt;`. However, a non-generic class or interface type is not a raw type.\n\nRaw types show up in legacy code because lots of API classes (such as the Collections classes) were not generic prior to JDK 5.0. When using raw types, you essentially get pre-generics behavior — a `Box` gives you `Object`s. For backward compatibility, assigning a parameterized type to its raw type is allowed:\n\n    Box&lt;String&gt; stringBox = new Box&lt;&gt;();\n    Box rawBox = stringBox;               // OK\n\nBut if you assign a raw type to a parameterized type, you get a warning:\n\n    Box rawBox = new Box();           // rawBox is a raw type of Box&lt;T&gt;\n    Box&lt;Integer&gt; intBox = rawBox;     // warning: unchecked conversion\n\nYou also get a warning if you use a raw type to invoke generic methods defined in the corresponding generic type:\n\n    Box&lt;String&gt; stringBox = new Box&lt;&gt;();\n    Box rawBox = stringBox;\n    rawBox.set(8);  // warning: unchecked invocation to set(T)\n\nThe warning shows that raw types bypass generic type checks, deferring the catch of unsafe code to runtime. Therefore, you should avoid using raw types.\n\nThe Type Erasure section has more information on how the Java compiler uses raw types.\n\n### Unchecked Error Messages ###\n\nAs mentioned previously, when mixing legacy code with generic code, you may encounter warning messages similar to the following:\n\n&gt; Note: Example.java uses unchecked or unsafe operations.\n&gt;\n&gt; Note: Recompile with -Xlint:unchecked for details.\n\nThis can happen when using an older API that operates on raw types, as shown in the following example:\n\n    public class WarningDemo {\n        public static void main(String[] args){\n            Box&lt;Integer&gt; bi;\n            bi = createBox();\n        }\n    \n        static Box createBox(){\n            return new Box();\n        }\n    }\n\nThe term &quot;unchecked&quot; means that the compiler does not have enough type information to perform all type checks necessary to ensure type safety. The &quot;unchecked&quot; warning is disabled, by default, though the compiler gives a hint. To see all &quot;unchecked&quot; warnings, recompile with -Xlint:unchecked.\n\nRecompiling the previous example with -Xlint:unchecked reveals the following additional information:\n\n    WarningDemo.java:4: warning: [unchecked] unchecked conversion\n    found   : Box\n    required: Box&lt;java.lang.Integer&gt;\n            bi = createBox();\n                          ^\n    1 warning\n\nTo completely disable unchecked warnings, use the -Xlint:-unchecked flag. The `@SuppressWarnings(&quot;unchecked&quot;)` annotation suppresses unchecked warnings. If you are unfamiliar with the `@SuppressWarnings` syntax, see Annotations.\n\n\nOriginal source: [Java Tutorials][1] \n\n\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:</p>\n<pre><code>public class Box&lt;T&gt; {\n    public void set(T t) { /* ... */ }\n    // ...\n}\n</code></pre>\n<p>To create a parameterized type of <code>Box&lt;T&gt;</code>, you supply an actual type argument for the formal type parameter <code>T</code>:</p>\n<pre><code>Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n</code></pre>\n<p>If the actual type argument is omitted, you create a raw type of <code>Box&lt;T&gt;</code>:</p>\n<pre><code>Box rawBox = new Box();\n</code></pre>\n<p>Therefore, <code>Box</code> is the raw type of the generic type <code>Box&lt;T&gt;</code>. However, a non-generic class or interface type is not a raw type.</p>\n<p>Raw types show up in legacy code because lots of API classes (such as the Collections classes) were not generic prior to JDK 5.0. When using raw types, you essentially get pre-generics behavior — a <code>Box</code> gives you <code>Object</code>s. For backward compatibility, assigning a parameterized type to its raw type is allowed:</p>\n<pre><code>Box&lt;String&gt; stringBox = new Box&lt;&gt;();\nBox rawBox = stringBox;               // OK\n</code></pre>\n<p>But if you assign a raw type to a parameterized type, you get a warning:</p>\n<pre><code>Box rawBox = new Box();           // rawBox is a raw type of Box&lt;T&gt;\nBox&lt;Integer&gt; intBox = rawBox;     // warning: unchecked conversion\n</code></pre>\n<p>You also get a warning if you use a raw type to invoke generic methods defined in the corresponding generic type:</p>\n<pre><code>Box&lt;String&gt; stringBox = new Box&lt;&gt;();\nBox rawBox = stringBox;\nrawBox.set(8);  // warning: unchecked invocation to set(T)\n</code></pre>\n<p>The warning shows that raw types bypass generic type checks, deferring the catch of unsafe code to runtime. Therefore, you should avoid using raw types.</p>\n<p>The Type Erasure section has more information on how the Java compiler uses raw types.</p>\n<h3>Unchecked Error Messages</h3>\n<p>As mentioned previously, when mixing legacy code with generic code, you may encounter warning messages similar to the following:</p>\n<blockquote>\n<p>Note: Example.java uses unchecked or unsafe operations.</p>\n<p>Note: Recompile with -Xlint:unchecked for details.</p>\n</blockquote>\n<p>This can happen when using an older API that operates on raw types, as shown in the following example:</p>\n<pre><code>public class WarningDemo {\n    public static void main(String[] args){\n        Box&lt;Integer&gt; bi;\n        bi = createBox();\n    }\n\n    static Box createBox(){\n        return new Box();\n    }\n}\n</code></pre>\n<p>The term &quot;unchecked&quot; means that the compiler does not have enough type information to perform all type checks necessary to ensure type safety. The &quot;unchecked&quot; warning is disabled, by default, though the compiler gives a hint. To see all &quot;unchecked&quot; warnings, recompile with -Xlint:unchecked.</p>\n<p>Recompiling the previous example with -Xlint:unchecked reveals the following additional information:</p>\n<pre><code>WarningDemo.java:4: warning: [unchecked] unchecked conversion\nfound   : Box\nrequired: Box&lt;java.lang.Integer&gt;\n        bi = createBox();\n                      ^\n1 warning\n</code></pre>\n<p>To completely disable unchecked warnings, use the -Xlint:-unchecked flag. The <code>@SuppressWarnings(&quot;unchecked&quot;)</code> annotation suppresses unchecked warnings. If you are unfamiliar with the <code>@SuppressWarnings</code> syntax, see Annotations.</p>\n<p>Original source: <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"noreferrer\">Java Tutorials</a></p>\n"},{"tags":[],"owner":{"account_id":2843584,"reputation":19,"user_id":2442615,"display_name":"user2442615"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457318601,"creation_date":1457317483,"answer_id":35835223,"question_id":2770321,"body_markdown":"I found this page after doing some sample exercises and having the exact same puzzlement.\r\n\r\n============== I went from this code as provide by the sample ===============\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        Map wordMap = new HashMap();\r\n        if (args.length &gt; 0) {\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                countWord(wordMap, args[i]);\r\n            }\r\n        } else {\r\n            getWordFrequency(System.in, wordMap);\r\n        }\r\n        for (Iterator i = wordMap.entrySet().iterator(); i.hasNext();) {\r\n            Map.Entry entry = (Map.Entry) i.next();\r\n            System.out.println(entry.getKey() + &quot; :\\t&quot; + entry.getValue());\r\n        }\r\n\r\n====================== To This code ========================\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // replace with TreeMap to get them sorted by name\r\n        Map&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\r\n        if (args.length &gt; 0) {\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                countWord(wordMap, args[i]);\r\n            }\r\n        } else {\r\n            getWordFrequency(System.in, wordMap);\r\n        }\r\n        for (Iterator&lt;Entry&lt;String, Integer&gt;&gt; i = wordMap.entrySet().iterator(); i.hasNext();) {\r\n            Entry&lt;String, Integer&gt; entry =   i.next();\r\n            System.out.println(entry.getKey() + &quot; :\\t&quot; + entry.getValue());\r\n        }\r\n\r\n    }\r\n\r\n===============================================================================\r\n\r\nIt may be safer but took 4  hours to demuddle the philosophy...\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>I found this page after doing some sample exercises and having the exact same puzzlement.</p>\n\n<p>============== I went from this code as provide by the sample ===============</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n\n    Map wordMap = new HashMap();\n    if (args.length &gt; 0) {\n        for (int i = 0; i &lt; args.length; i++) {\n            countWord(wordMap, args[i]);\n        }\n    } else {\n        getWordFrequency(System.in, wordMap);\n    }\n    for (Iterator i = wordMap.entrySet().iterator(); i.hasNext();) {\n        Map.Entry entry = (Map.Entry) i.next();\n        System.out.println(entry.getKey() + \" :\\t\" + entry.getValue());\n    }\n</code></pre>\n\n<p>====================== To This code ========================</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    // replace with TreeMap to get them sorted by name\n    Map&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\n    if (args.length &gt; 0) {\n        for (int i = 0; i &lt; args.length; i++) {\n            countWord(wordMap, args[i]);\n        }\n    } else {\n        getWordFrequency(System.in, wordMap);\n    }\n    for (Iterator&lt;Entry&lt;String, Integer&gt;&gt; i = wordMap.entrySet().iterator(); i.hasNext();) {\n        Entry&lt;String, Integer&gt; entry =   i.next();\n        System.out.println(entry.getKey() + \" :\\t\" + entry.getValue());\n    }\n\n}\n</code></pre>\n\n<p>===============================================================================</p>\n\n<p>It may be safer but took 4  hours to demuddle the philosophy...</p>\n"},{"comments":[{"owner":{"account_id":5194111,"reputation":695,"user_id":4156036,"accept_rate":75,"display_name":"Lane"},"score":0,"creation_date":1600595494,"post_id":37211785,"comment_id":113132045,"body_markdown":"In Case 2, are there some other disadvantages except the warning? I mean, if I ignore the warning, I think Case 1 and Case 2 are the same...","body":"In Case 2, are there some other disadvantages except the warning? I mean, if I ignore the warning, I think Case 1 and Case 2 are the same..."}],"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1499696084,"creation_date":1463147464,"answer_id":37211785,"question_id":2770321,"body_markdown":"Here I am Considering multiple cases  through which you can clearify  the concept\r\n\r\n    1. ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    2. ArrayList&lt;String&gt; arr = new ArrayList();\r\n    3. ArrayList arr = new ArrayList&lt;String&gt;();\r\n\r\nCase 1\r\n------\r\n\r\n`ArrayList&lt;String&gt; arr ` it is a `ArrayList` reference variable with type `String` which reference to a `ArralyList` Object of Type `String`. It means it can hold only String type Object.\r\n\r\nIt is a Strict to `String` not  a Raw Type so, It will never raise an warning .\r\n\r\n\t    arr.add(&quot;hello&quot;);// alone statement will compile successfully and no warning.\r\n    \r\n\t\tarr.add(23);  //prone to compile time error.\r\n         //error: no suitable method found for add(int)\r\n\r\nCase 2\r\n------\r\nIn this case `ArrayList&lt;String&gt; arr` is a strict type but your Object `new ArrayList();` is a raw type. \r\n\r\n        arr.add(&quot;hello&quot;); //alone this compile but raise the warning.\r\n\t\tarr.add(23);  //again prone to compile time error.\r\n        //error: no suitable method found for add(int)\r\n\r\nhere `arr` is a Strict type. So, It will raise compile time error when adding a `integer`.\r\n\r\n&gt;**Warning** :- A `Raw` Type Object is referenced to a `Strict` type Referenced Variable of `ArrayList`.\r\n\r\n\r\nCase 3\r\n------\r\n\r\nIn this case `ArrayList arr` is a raw type but your Object `new ArrayList&lt;String&gt;();` is a Strict type. \r\n\r\n        arr.add(&quot;hello&quot;);  \r\n\t\tarr.add(23);  //compiles fine but raise the warning.\r\n\r\nIt will add any type of Object into it because `arr` is a Raw Type.\r\n\r\n&gt;**Warning** :- A `Strict` Type Object is referenced to a `raw` type referenced Variable.\r\n","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Here I am Considering multiple cases  through which you can clearify  the concept</p>\n\n<pre><code>1. ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n2. ArrayList&lt;String&gt; arr = new ArrayList();\n3. ArrayList arr = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<h2>Case 1</h2>\n\n<p><code>ArrayList&lt;String&gt; arr</code> it is a <code>ArrayList</code> reference variable with type <code>String</code> which reference to a <code>ArralyList</code> Object of Type <code>String</code>. It means it can hold only String type Object.</p>\n\n<p>It is a Strict to <code>String</code> not  a Raw Type so, It will never raise an warning .</p>\n\n<pre><code>    arr.add(\"hello\");// alone statement will compile successfully and no warning.\n\n    arr.add(23);  //prone to compile time error.\n     //error: no suitable method found for add(int)\n</code></pre>\n\n<h2>Case 2</h2>\n\n<p>In this case <code>ArrayList&lt;String&gt; arr</code> is a strict type but your Object <code>new ArrayList();</code> is a raw type. </p>\n\n<pre><code>    arr.add(\"hello\"); //alone this compile but raise the warning.\n    arr.add(23);  //again prone to compile time error.\n    //error: no suitable method found for add(int)\n</code></pre>\n\n<p>here <code>arr</code> is a Strict type. So, It will raise compile time error when adding a <code>integer</code>.</p>\n\n<blockquote>\n  <p><strong>Warning</strong> :- A <code>Raw</code> Type Object is referenced to a <code>Strict</code> type Referenced Variable of <code>ArrayList</code>.</p>\n</blockquote>\n\n<h2>Case 3</h2>\n\n<p>In this case <code>ArrayList arr</code> is a raw type but your Object <code>new ArrayList&lt;String&gt;();</code> is a Strict type. </p>\n\n<pre><code>    arr.add(\"hello\");  \n    arr.add(23);  //compiles fine but raise the warning.\n</code></pre>\n\n<p>It will add any type of Object into it because <code>arr</code> is a Raw Type.</p>\n\n<blockquote>\n  <p><strong>Warning</strong> :- A <code>Strict</code> Type Object is referenced to a <code>raw</code> type referenced Variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1488040896,"creation_date":1464097329,"answer_id":37415442,"question_id":2770321,"body_markdown":"[tutorial page](https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html).  \r\n\r\nA raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:  \r\n\r\n    public class Box&lt;T&gt; {\r\n        public void set(T t) { /* ... */ }\r\n        // ...\r\n    }\r\n\r\nTo create a parameterized type of Box&lt;T&gt;, you supply an actual type argument for the formal type parameter T:  \r\n\r\n    Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\r\n\r\nIf the actual type argument is omitted, you create a raw type of Box&lt;T&gt;:  \r\n\r\n    Box rawBox = new Box();","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">tutorial page</a>.  </p>\n\n<p>A raw type is the name of a generic class or interface without any type arguments. For example, given the generic Box class:  </p>\n\n<pre><code>public class Box&lt;T&gt; {\n    public void set(T t) { /* ... */ }\n    // ...\n}\n</code></pre>\n\n<p>To create a parameterized type of Box, you supply an actual type argument for the formal type parameter T:  </p>\n\n<pre><code>Box&lt;Integer&gt; intBox = new Box&lt;&gt;();\n</code></pre>\n\n<p>If the actual type argument is omitted, you create a raw type of Box:  </p>\n\n<pre><code>Box rawBox = new Box();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128707,"reputation":2410,"user_id":4342230,"display_name":"GuyPaddock"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1612804288,"creation_date":1512362958,"answer_id":47626695,"question_id":2770321,"body_markdown":"Here&#39;s another case where raw types will bite you:\r\n\r\n    public class StrangeClass&lt;T&gt; {\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public &lt;X&gt; X getSomethingElse() {\r\n        return (X)&quot;Testing something else!&quot;;\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        final StrangeClass&lt;String&gt; withGeneric    = new StrangeClass&lt;&gt;();\r\n        final StrangeClass         withoutGeneric = new StrangeClass();\r\n        final String               value1,\r\n                                   value2;\r\n\r\n        // Compiles\r\n        value1 = withGeneric.getSomethingElse();\r\n\r\n        // Produces compile error:\r\n        // incompatible types: java.lang.Object cannot be converted to java.lang.String\r\n        value2 = withoutGeneric.getSomethingElse();\r\n      }\r\n    }\r\n\r\nThis is counter-intuitive because you&#39;d expect the raw type to only affect methods bound to the class type parameter, but it actually _also_ affects generic methods with their own type parameters. \r\n\r\nAs was mentioned in the accepted answer, you lose all support for generics within the code of the raw type. Every type parameter is converted to its erasure (which in the above example is just `Object`).","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Here's another case where raw types will bite you:</p>\n<pre><code>public class StrangeClass&lt;T&gt; {\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public &lt;X&gt; X getSomethingElse() {\n    return (X)&quot;Testing something else!&quot;;\n  }\n\n  public static void main(String[] args) {\n    final StrangeClass&lt;String&gt; withGeneric    = new StrangeClass&lt;&gt;();\n    final StrangeClass         withoutGeneric = new StrangeClass();\n    final String               value1,\n                               value2;\n\n    // Compiles\n    value1 = withGeneric.getSomethingElse();\n\n    // Produces compile error:\n    // incompatible types: java.lang.Object cannot be converted to java.lang.String\n    value2 = withoutGeneric.getSomethingElse();\n  }\n}\n</code></pre>\n<p>This is counter-intuitive because you'd expect the raw type to only affect methods bound to the class type parameter, but it actually <em>also</em> affects generic methods with their own type parameters.</p>\n<p>As was mentioned in the accepted answer, you lose all support for generics within the code of the raw type. Every type parameter is converted to its erasure (which in the above example is just <code>Object</code>).</p>\n"},{"comments":[{"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"score":0,"creation_date":1514402975,"post_id":47633979,"comment_id":82963450,"body_markdown":"You can use ? as type parameter","body":"You can use ? as type parameter"},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1514745453,"post_id":47633979,"comment_id":83060843,"body_markdown":"Yes, but that is more to type and I am against typing more. :)","body":"Yes, but that is more to type and I am against typing more. :)"}],"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"comment_count":2,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1512392312,"creation_date":1512392312,"answer_id":47633979,"question_id":2770321,"body_markdown":"Raw types are fine when they express what you want to express.\r\n\r\nFor example, a deserialisation function might return a `List`, but it doesn&#39;t know the list&#39;s element type. So `List` is the appropriate return type here.","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p>Raw types are fine when they express what you want to express.</p>\n\n<p>For example, a deserialisation function might return a <code>List</code>, but it doesn't know the list's element type. So <code>List</code> is the appropriate return type here.</p>\n"},{"tags":[],"owner":{"account_id":15165493,"reputation":2034,"user_id":10943108,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1633254715,"creation_date":1553575822,"answer_id":55350052,"question_id":2770321,"body_markdown":"**Avoid raw types.**\r\n\r\nRaw types refer to using a generic type without specifying a type parameter.\r\n\r\nFor example: \r\n\r\nA `list` is a raw type, while `List&lt;String&gt;` is a parameterized type.\r\n\r\nWhen generics were introduced in JDK 1.5, raw types were retained only to maintain backwards compatibility with older versions of Java.  \r\n\r\nAlthough using raw types is still possible, they should be avoided:\r\n\r\n* They usually require casts.  \r\n* They aren&#39;t type safe, and some important kinds of errors will only appear at runtime.  \r\n* They are less expressive, and don&#39;t self-document in the same way as parameterized types..\r\n\r\nExample: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.*;\r\n    public final class AvoidRawTypes {\r\n        void withRawType() {\r\n            //Raw List doesn&#39;t self-document, \r\n            //doesn&#39;t state explicitly what it can contain\r\n            List stars = Arrays.asList(&quot;Arcturus&quot;, &quot;Vega&quot;, &quot;Altair&quot;);\r\n            Iterator iter = stars.iterator();\r\n            while (iter.hasNext()) {\r\n                String star = (String) iter.next(); //cast needed\r\n                log(star);\r\n            }\r\n        }\r\n    \r\n        void withParameterizedType() {\r\n            List &lt; String &gt; stars = Arrays.asList(&quot;Spica&quot;, &quot;Regulus&quot;, &quot;Antares&quot;);\r\n            for (String star: stars) {\r\n                log(star);\r\n            }\r\n        }\r\n    \r\n        private void log(Object message) {\r\n            System.out.println(Objects.toString(message));\r\n        }\r\n    }\r\n     \r\nFor reference: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<p><strong>Avoid raw types.</strong></p>\n<p>Raw types refer to using a generic type without specifying a type parameter.</p>\n<p>For example:</p>\n<p>A <code>list</code> is a raw type, while <code>List&lt;String&gt;</code> is a parameterized type.</p>\n<p>When generics were introduced in JDK 1.5, raw types were retained only to maintain backwards compatibility with older versions of Java.</p>\n<p>Although using raw types is still possible, they should be avoided:</p>\n<ul>\n<li>They usually require casts.</li>\n<li>They aren't type safe, and some important kinds of errors will only appear at runtime.</li>\n<li>They are less expressive, and don't self-document in the same way as parameterized types..</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic final class AvoidRawTypes {\n    void withRawType() {\n        //Raw List doesn't self-document, \n        //doesn't state explicitly what it can contain\n        List stars = Arrays.asList(&quot;Arcturus&quot;, &quot;Vega&quot;, &quot;Altair&quot;);\n        Iterator iter = stars.iterator();\n        while (iter.hasNext()) {\n            String star = (String) iter.next(); //cast needed\n            log(star);\n        }\n    }\n\n    void withParameterizedType() {\n        List &lt; String &gt; stars = Arrays.asList(&quot;Spica&quot;, &quot;Regulus&quot;, &quot;Antares&quot;);\n        for (String star: stars) {\n            log(star);\n        }\n    }\n\n    private void log(Object message) {\n        System.out.println(Objects.toString(message));\n    }\n}\n \n</code></pre>\n<p>For reference: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html</a></p>\n"}],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354002,"favorite_count":0,"down_vote_count":3,"up_vote_count":816,"answer_count":15,"score":813,"last_activity_date":1670426355,"creation_date":1273027733,"question_id":2770321,"body_markdown":"### Questions:\r\n\r\n* What are raw types in Java, and why do I often hear that they shouldn&#39;t be used in new code?\r\n* What is the alternative if we can&#39;t use raw types, and how is it better?","title":"What is a raw type and why shouldn&#39;t we use it?","body":"<h3>Questions:</h3>\n\n<ul>\n<li>What are raw types in Java, and why do I often hear that they shouldn't be used in new code?</li>\n<li>What is the alternative if we can't use raw types, and how is it better?</li>\n</ul>\n"},{"tags":["java","scala","generics"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1670426612,"post_id":74718912,"comment_id":131874572,"body_markdown":"You can either use a **typeclass** or a wrapper.; in this case, maybe a wrapper is best. - You may also try with structural types. - https://gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4","body":"You can either use a <b>typeclass</b> or a wrapper.; in this case, maybe a wrapper is best. - You may also try with structural types. - <a href=\"https://gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4\" rel=\"nofollow noreferrer\">gist.github.com/BalmungSan/c19557030181c0dc36533f3de7d7abf4</a>"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1670433598,"post_id":74718912,"comment_id":131877215,"body_markdown":"`type CommonDTO = A | B | C | D`?","body":"<code>type CommonDTO = A | B | C | D</code>?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1670434467,"post_id":74718912,"comment_id":131877506,"body_markdown":"https://stackoverflow.com/questions/3508077/how-to-define-type-disjunction-union-types","body":"<a href=\"https://stackoverflow.com/questions/3508077/how-to-define-type-disjunction-union-types\" title=\"how to define type disjunction union types\">stackoverflow.com/questions/3508077/&hellip;</a>"}],"owner":{"account_id":2731114,"reputation":253,"user_id":2354898,"accept_rate":20,"display_name":"user2354898"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670426126,"creation_date":1670426126,"question_id":74718912,"body_markdown":"I&#39;ve 10 data transfer objects that i received through a maven dependency. I would like to type these objects with an abstract class or an interface so I can handle them as one type and not separately.  \r\n\r\nSince the classes are compiled and imported through maven I cannot change the classes itself. \r\n\r\nThe reason behind this is for me to handle them as one common type so I for example can send each one of them inside the same function.\r\n\r\n\r\n```\r\npublic void build(CommonDTO commonDto) {\r\n......\r\n}\r\n```\r\n\r\nI need to solve this in Scala. But I can try to translate it to Scala if a Java solution is found.","title":"Generic type compiled classes for common handling","body":"<p>I've 10 data transfer objects that i received through a maven dependency. I would like to type these objects with an abstract class or an interface so I can handle them as one type and not separately.</p>\n<p>Since the classes are compiled and imported through maven I cannot change the classes itself.</p>\n<p>The reason behind this is for me to handle them as one common type so I for example can send each one of them inside the same function.</p>\n<pre><code>public void build(CommonDTO commonDto) {\n......\n}\n</code></pre>\n<p>I need to solve this in Scala. But I can try to translate it to Scala if a Java solution is found.</p>\n"},{"tags":["java","caching","guava"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1374832158,"post_id":17878091,"comment_id":26106038,"body_markdown":"How are you refreshing the data? From the [documentation](http://code.google.com/p/guava-libraries/wiki/CachesExplained) _The old value (if any) is still returned while the key is being refreshed_.","body":"How are you refreshing the data? From the <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow noreferrer\">documentation</a> <i>The old value (if any) is still returned while the key is being refreshed</i>."},{"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"score":0,"creation_date":1374832794,"post_id":17878091,"comment_id":26106443,"body_markdown":"See my edit with more information.","body":"See my edit with more information."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1374833032,"post_id":17878091,"comment_id":26106579,"body_markdown":"And there is no way you can make it into a `LoadingCache`?","body":"And there is no way you can make it into a <code>LoadingCache</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473091406,"post_id":17878257,"comment_id":65999728,"body_markdown":"If the new value gets loaded and the old value is there in the memory then the total memory consumed will be = new value memory + old value memory. If that is the case then wont this cause the program to run out of heap memory? If not then can you please tell me how is this avoided ?","body":"If the new value gets loaded and the old value is there in the memory then the total memory consumed will be = new value memory + old value memory. If that is the case then wont this cause the program to run out of heap memory? If not then can you please tell me how is this avoided ?"},{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473091871,"post_id":17878257,"comment_id":65999956,"body_markdown":"Can you please explain why ??","body":"Can you please explain why ??"},{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473091947,"post_id":17878257,"comment_id":65999992,"body_markdown":"Since guava cache is not using any persistent storage, the stale value is getting stored in memory only. If not then how is this being handled ??","body":"Since guava cache is not using any persistent storage, the stale value is getting stored in memory only. If not then how is this being handled ??"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1473091995,"post_id":17878257,"comment_id":66000020,"body_markdown":"Why would you think both values are stored at any point @prashant?","body":"Why would you think both values are stored at any point @prashant?"},{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473092097,"post_id":17878257,"comment_id":66000061,"body_markdown":"The requirement is that while refreshing the cache, if the refresh fails then the stale value should be displayed, if not then the stale value should be discarded and the refresh value should be returned. Thus till the entire refresh is done the stale value is in memory and once the refresh completes, till the stale value is discarded both are in memory.","body":"The requirement is that while refreshing the cache, if the refresh fails then the stale value should be displayed, if not then the stale value should be discarded and the refresh value should be returned. Thus till the entire refresh is done the stale value is in memory and once the refresh completes, till the stale value is discarded both are in memory."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1473092239,"post_id":17878257,"comment_id":66000129,"body_markdown":"What does &quot;_till the stale value is discarded_&quot; mean, @prashant? Java is a garbage collected language; therefore in the most basic sense, this statement is true of any declared variable. Once it is no longer referenced, it is eligible for GC - it is not discarded from memory until the GC runs (and even then possibly not). I&#39;m not sure what the point you are trying to make is.","body":"What does &quot;<i>till the stale value is discarded</i>&quot; mean, @prashant? Java is a garbage collected language; therefore in the most basic sense, this statement is true of any declared variable. Once it is no longer referenced, it is eligible for GC - it is not discarded from memory until the GC runs (and even then possibly not). I&#39;m not sure what the point you are trying to make is."},{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473092292,"post_id":17878257,"comment_id":66000157,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/122686/discussion-between-prashant-and-boris-the-spider).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/122686/discussion-between-prashant-and-boris-the-spider\">continue this discussion in chat</a>."},{"owner":{"account_id":1546966,"reputation":1392,"user_id":1440298,"accept_rate":0,"display_name":"prashant"},"score":0,"creation_date":1473093034,"post_id":17878257,"comment_id":66000498,"body_markdown":"hey guys I have a question\nrelated to cache refreshing.\nLets say I have an in memory cache which is 20 GB and which is also the size of my heap...now when I refresh the cache if the store the stale cache and then refresh the cache at one point I would have 40 GB since I have loaded a new cache object, and hence would go out of memory\nhow should I handle this can you please tell me","body":"hey guys I have a question related to cache refreshing. Lets say I have an in memory cache which is 20 GB and which is also the size of my heap...now when I refresh the cache if the store the stale cache and then refresh the cache at one point I would have 40 GB since I have loaded a new cache object, and hence would go out of memory how should I handle this can you please tell me"}],"tags":[],"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374832419,"creation_date":1374832419,"answer_id":17878257,"question_id":17878091,"body_markdown":"It seems that you are using the wrong method for this. From the [documentation for `LoadingCache`][1] there are two methods:\r\n\r\n    void put(K key, V value)\r\n\r\n&gt; Associates value with key in this cache. If the cache previously\r\n&gt; contained a value associated with key, the old value is replaced by\r\n&gt; value.\r\n\r\nThis is atomic, the cache has to wait.\r\n\r\n    void refresh(K key)\r\n\r\n&gt; Loads a new value for key key, possibly asynchronously. While the new\r\n&gt; value is loading the previous value (if any) will continue to be\r\n&gt; returned by get(key) unless it is evicted\r\n\r\nYou don&#39;t say what sort of cache you are using or show any code so I don&#39;t know whether you are using a `LoadingCache`. But you need to use `refresh` for the cache to reload the value which still allowing the old value to be read.\r\n\r\n[1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/LoadingCache.html","title":"Guava cache allow stale reads?","body":"<p>It seems that you are using the wrong method for this. From the <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/cache/LoadingCache.html\" rel=\"nofollow\">documentation for <code>LoadingCache</code></a> there are two methods:</p>\n\n<pre><code>void put(K key, V value)\n</code></pre>\n\n<blockquote>\n  <p>Associates value with key in this cache. If the cache previously\n  contained a value associated with key, the old value is replaced by\n  value.</p>\n</blockquote>\n\n<p>This is atomic, the cache has to wait.</p>\n\n<pre><code>void refresh(K key)\n</code></pre>\n\n<blockquote>\n  <p>Loads a new value for key key, possibly asynchronously. While the new\n  value is loading the previous value (if any) will continue to be\n  returned by get(key) unless it is evicted</p>\n</blockquote>\n\n<p>You don't say what sort of cache you are using or show any code so I don't know whether you are using a <code>LoadingCache</code>. But you need to use <code>refresh</code> for the cache to reload the value which still allowing the old value to be read.</p>\n"},{"comments":[{"owner":{"account_id":436995,"reputation":182,"user_id":824454,"accept_rate":0,"display_name":"ekitru"},"score":0,"creation_date":1513262344,"post_id":32489929,"comment_id":82593258,"body_markdown":"in my case I found follow issue, this approach caused double loading for caches. Did you find a way to solve this issue?","body":"in my case I found follow issue, this approach caused double loading for caches. Did you find a way to solve this issue?"},{"owner":{"account_id":6360561,"reputation":2582,"user_id":4936193,"display_name":"jurl"},"score":0,"creation_date":1686827972,"post_id":32489929,"comment_id":134854467,"body_markdown":"In case the `reload` and `load` methods are the same, instead of implementing the `reload` with asynchronous task you can use [CacheLoader.asyncReloading](https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#asyncReloading-com.google.common.cache.CacheLoader-java.util.concurrent.Executor-) like this: `CacheLoader.asyncReloading(new CacheLoader(...), executor)`","body":"In case the <code>reload</code> and <code>load</code> methods are the same, instead of implementing the <code>reload</code> with asynchronous task you can use <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#asyncReloading-com.google.common.cache.CacheLoader-java.util.concurrent.Executor-\" rel=\"nofollow noreferrer\">CacheLoader.asyncReloading</a> like this: <code>CacheLoader.asyncReloading(new CacheLoader(...), executor)</code>"}],"tags":[],"owner":{"account_id":109500,"reputation":626,"user_id":290095,"accept_rate":100,"display_name":"Shaun Stone"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670425996,"creation_date":1441836612,"answer_id":32489929,"question_id":17878091,"body_markdown":"yes i know this is old, but i figured this out today so heres the answer: taken from the google docs:  https://github.com/google/guava/wiki/CachesExplained#refresh\r\n\r\nkey part is that you want to refreshAfterWrite instead of expireAfterWrite\r\n\r\n    // Some keys don&#39;t need refreshing, and we want refreshes to be done      asynchronously.\r\n    LoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\r\n       .maximumSize(1000)\r\n       .refreshAfterWrite(1, TimeUnit.MINUTES)\r\n       .build(\r\n           new CacheLoader&lt;Key, Graph&gt;() {\r\n             public Graph load(Key key) { // no checked exception\r\n               return getGraphFromDatabase(key);\r\n             }\r\n\r\n             public ListenableFuture&lt;Graph&gt; reload(final Key key, Graph prevGraph) {\r\n               if (neverNeedsRefresh(key)) {\r\n                 return Futures.immediateFuture(prevGraph);\r\n               } else {\r\n                 // asynchronous!\r\n                 ListenableFutureTask&lt;Graph&gt; task = ListenableFutureTask.create(new Callable&lt;Graph&gt;() {\r\n                   public Graph call() {\r\n                     return getGraphFromDatabase(key);\r\n                   }\r\n                 });\r\n                 executor.execute(task);\r\n                 return task;\r\n               }\r\n             }\r\n           });","title":"Guava cache allow stale reads?","body":"<p>yes i know this is old, but i figured this out today so heres the answer: taken from the google docs:  <a href=\"https://github.com/google/guava/wiki/CachesExplained#refresh\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/CachesExplained#refresh</a></p>\n<p>key part is that you want to refreshAfterWrite instead of expireAfterWrite</p>\n<pre><code>// Some keys don't need refreshing, and we want refreshes to be done      asynchronously.\nLoadingCache&lt;Key, Graph&gt; graphs = CacheBuilder.newBuilder()\n   .maximumSize(1000)\n   .refreshAfterWrite(1, TimeUnit.MINUTES)\n   .build(\n       new CacheLoader&lt;Key, Graph&gt;() {\n         public Graph load(Key key) { // no checked exception\n           return getGraphFromDatabase(key);\n         }\n\n         public ListenableFuture&lt;Graph&gt; reload(final Key key, Graph prevGraph) {\n           if (neverNeedsRefresh(key)) {\n             return Futures.immediateFuture(prevGraph);\n           } else {\n             // asynchronous!\n             ListenableFutureTask&lt;Graph&gt; task = ListenableFutureTask.create(new Callable&lt;Graph&gt;() {\n               public Graph call() {\n                 return getGraphFromDatabase(key);\n               }\n             });\n             executor.execute(task);\n             return task;\n           }\n         }\n       });\n</code></pre>\n"}],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670425996,"creation_date":1374831931,"question_id":17878091,"body_markdown":"I am using a Guava cache hold and periodically refresh some stats that we collect from a long running database query. The problem I am seeing at the moment is that all threads have to wait for the refresh, rather than allowing the callers to get the expired cached value. Is there a way in Guava cache to allow the stale reads?\r\n\r\nThe cache is built as such \r\n\r\n     cache = CacheBuilder.&lt;DateType, List&lt;DataValueEventQuality&gt;&gt; newBuilder()\r\n                    .expireAfterWrite(cacheExpirySeconds, TimeUnit.SECONDS).build();\r\n\r\nAnd I retrieve from the cache using `cache.get(key, Callable)`","title":"Guava cache allow stale reads?","body":"<p>I am using a Guava cache hold and periodically refresh some stats that we collect from a long running database query. The problem I am seeing at the moment is that all threads have to wait for the refresh, rather than allowing the callers to get the expired cached value. Is there a way in Guava cache to allow the stale reads?</p>\n\n<p>The cache is built as such </p>\n\n<pre><code> cache = CacheBuilder.&lt;DateType, List&lt;DataValueEventQuality&gt;&gt; newBuilder()\n                .expireAfterWrite(cacheExpirySeconds, TimeUnit.SECONDS).build();\n</code></pre>\n\n<p>And I retrieve from the cache using <code>cache.get(key, Callable)</code></p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1670269608,"post_id":74693562,"comment_id":131832955,"body_markdown":"Don&#39;t. That&#39;s not what `switch` is for. Use `if`.","body":"Don&#39;t. That&#39;s not what <code>switch</code> is for. Use <code>if</code>."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670276561,"post_id":74693646,"comment_id":131834834,"body_markdown":"In Java 18 case labels still have to be constants. And I haven’t heard of any proposal to change it.","body":"In Java 18 case labels still have to be constants. And I haven’t heard of any proposal to change it."},{"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"score":1,"creation_date":1670278411,"post_id":74693646,"comment_id":131835284,"body_markdown":"that&#39;s good, it makes compiler optimization easier","body":"that&#39;s good, it makes compiler optimization easier"}],"tags":[],"owner":{"account_id":19392376,"reputation":44,"user_id":18708233,"display_name":"trombonedude"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670269887,"creation_date":1670269887,"answer_id":74693646,"question_id":74693562,"body_markdown":"You can&#39;t check greater then or less then in a switch statement. Switch statements only compare equality between the value and the cases. What&#39;s more, at least in older versions of java (not sure about more recent ones), you can&#39;t use variables in switch statements, they have to be known at compile time.\r\n\r\n```java\r\nif (G == r) {\r\n\r\n} else if (G &gt; r) {\r\n\r\n} else if (G &lt; r) { // you could also use an else because all other conditions are being hit\r\n\r\n}\r\n```","title":"How to compare between two variables in the switch case condition , java","body":"<p>You can't check greater then or less then in a switch statement. Switch statements only compare equality between the value and the cases. What's more, at least in older versions of java (not sure about more recent ones), you can't use variables in switch statements, they have to be known at compile time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (G == r) {\n\n} else if (G &gt; r) {\n\n} else if (G &lt; r) { // you could also use an else because all other conditions are being hit\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670274883,"post_id":74693969,"comment_id":131834376,"body_markdown":"It would seem to me that this is what the OP (or their teacher) is after. For very large magnitudes you risk int overflow and wrong results. This can probably be ignored in this exercise. If not, convert to `long` before subtracting and use `Long.signum(long)`.","body":"It would seem to me that this is what the OP (or their teacher) is after. For very large magnitudes you risk int overflow and wrong results. This can probably be ignored in this exercise. If not, convert to <code>long</code> before subtracting and use <code>Long.signum(long)</code>."},{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1670279339,"post_id":74693969,"comment_id":131835513,"body_markdown":"I see thank you very much, I learnt sth new today :)","body":"I see thank you very much, I learnt sth new today :)"}],"tags":[],"owner":{"account_id":12346496,"reputation":168,"user_id":9007184,"display_name":"Dom"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670272057,"creation_date":1670271603,"answer_id":74693969,"question_id":74693562,"body_markdown":"Like the two commends before allready sugested, switch case will only evaluate the content of one variable. To make your example work you need to take a tiny step in between: \r\nSubtract G from r and use the signnum function of the integer class to create a variable which holds the result of your number comparison: 1 == r &gt; G, 0== (r==G) and -1 == r &lt; G Then u can use this result for a switch case scenario.\r\n\r\n    Import java.util.*;\r\n    Public class Sheetswitch {\r\n    public static void main (String[] args) {\r\n    \r\n    Scanner scan = new Scanner (System.in);\r\n    \r\n    Random rand = new Random ();\r\n    \r\n    int r = rand.nextInt(9);\r\n    \r\n    int G = scan.nextInt();\r\n    \r\n    int signnum = Integer.signum(r - G);\r\n    \r\n    \r\n    switch (signnum) {\r\n    \r\n      case 0:\r\n    \r\n         sout(&quot;1&quot;)\r\n    \r\n         break;\r\n    \r\n      case 1:\r\n    \r\n         sout(&quot;2&quot;)\r\n    \r\n         break;\r\n    \r\n      case -1:\r\n    \r\n         sout(&quot;3&quot;)\r\n    \r\n         break; }\r\n    }}","title":"How to compare between two variables in the switch case condition , java","body":"<p>Like the two commends before allready sugested, switch case will only evaluate the content of one variable. To make your example work you need to take a tiny step in between:\nSubtract G from r and use the signnum function of the integer class to create a variable which holds the result of your number comparison: 1 == r &gt; G, 0== (r==G) and -1 == r &lt; G Then u can use this result for a switch case scenario.</p>\n<pre><code>Import java.util.*;\nPublic class Sheetswitch {\npublic static void main (String[] args) {\n\nScanner scan = new Scanner (System.in);\n\nRandom rand = new Random ();\n\nint r = rand.nextInt(9);\n\nint G = scan.nextInt();\n\nint signnum = Integer.signum(r - G);\n\n\nswitch (signnum) {\n\n  case 0:\n\n     sout(&quot;1&quot;)\n\n     break;\n\n  case 1:\n\n     sout(&quot;2&quot;)\n\n     break;\n\n  case -1:\n\n     sout(&quot;3&quot;)\n\n     break; }\n}}\n</code></pre>\n"}],"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74693969,"answer_count":2,"score":-1,"last_activity_date":1670425973,"creation_date":1670269461,"question_id":74693562,"body_markdown":"I want to use switch instead of if In one of my projects, I have two variables , one is user inserted and another is a random one , I&#39;m supposed to have a case for when the two variables are equal, a case when one is bigger and another when it is smaller , but I can&#39;t quite write it well , it keeps telling me &quot;boolean cannot be converted to int&quot; any insights on how to solve this problem? (I know it&#39;s much easier using if but i need to use switch here) Thanks a lot \r\n\r\n    import java.util.*;\r\n    public class Sheetswitch {\r\n        public static void main (String[] args) {\r\n\r\n            Scanner scan = new Scanner (System.in);\r\n    \r\n            Random rand = new Random ();\r\n\r\n            int r = rand.nextInt(9);\r\n\r\n            int G = scan.nextInt();\r\n\r\n            switch (G) {\r\n                case G==r:\r\n                    sout(&quot;1&quot;)\r\n                    break;\r\n                case G&gt;r:\r\n                    sout(&quot;2&quot;)\r\n                    break;\r\n                case G&lt;r:\r\n                    sout(&quot;3&quot;)\r\n                    break; \r\n            }\r\n        }\r\n    }","title":"How to compare between two variables in the switch case condition , java","body":"<p>I want to use switch instead of if In one of my projects, I have two variables , one is user inserted and another is a random one , I'm supposed to have a case for when the two variables are equal, a case when one is bigger and another when it is smaller , but I can't quite write it well , it keeps telling me &quot;boolean cannot be converted to int&quot; any insights on how to solve this problem? (I know it's much easier using if but i need to use switch here) Thanks a lot</p>\n<pre><code>import java.util.*;\npublic class Sheetswitch {\n    public static void main (String[] args) {\n\n        Scanner scan = new Scanner (System.in);\n\n        Random rand = new Random ();\n\n        int r = rand.nextInt(9);\n\n        int G = scan.nextInt();\n\n        switch (G) {\n            case G==r:\n                sout(&quot;1&quot;)\n                break;\n            case G&gt;r:\n                sout(&quot;2&quot;)\n                break;\n            case G&lt;r:\n                sout(&quot;3&quot;)\n                break; \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1618325346,"post_id":60206115,"comment_id":118564566,"body_markdown":"this is reported here https://github.com/OpenAPITools/openapi-generator/issues/6677","body":"this is reported here <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6677\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/6677</a>"},{"owner":{"account_id":135385,"reputation":1785,"user_id":457589,"display_name":"Julien"},"score":0,"creation_date":1618386910,"post_id":60206115,"comment_id":118582891,"body_markdown":"and actually fixed in `5.x.x` https://github.com/OpenAPITools/openapi-generator/pull/5573","body":"and actually fixed in <code>5.x.x</code> <a href=\"https://github.com/OpenAPITools/openapi-generator/pull/5573\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/pull/5573</a>"}],"answers":[{"tags":[],"owner":{"account_id":11878643,"reputation":1,"user_id":13489532,"display_name":"segadev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670425833,"creation_date":1670424132,"answer_id":74718430,"question_id":60206115,"body_markdown":"redefine in your `CONTROLLER` this parameter\r\n```\r\n@RequestPart(&quot;document&quot;) on @RequestPart(value = &quot;document&quot;, required = false)\r\n```\r\n\r\n","title":"OpenAPI 3 / Spring Boot @RequestPart is not optional","body":"<p>redefine in your <code>CONTROLLER</code> this parameter</p>\n<pre><code>@RequestPart(&quot;document&quot;) on @RequestPart(value = &quot;document&quot;, required = false)\n</code></pre>\n"}],"owner":{"account_id":10868535,"reputation":21,"user_id":7991162,"display_name":"dpustula_9cube"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670425833,"creation_date":1581591191,"question_id":60206115,"body_markdown":"I have a little problem with creating upload path in my API. \r\nIn example :\r\n```\r\n/test/upload:\r\n    post:\r\n      operationId: post form attachemnts\r\n      requestBody:\r\n        content:\r\n          multipart/form-data: \r\n            schema:            \r\n              type: object\r\n              required:\r\n                - testId\r\n              properties:\r\n                testId:\r\n                  type: string\r\n                  example: 1\r\n                document:\r\n                  type: string\r\n                  format: binary\r\n```\r\nI want to send testId (Required - this is ok), but my document (jpg,pdf) must be optional.\r\n\r\nPiece of code created by openapi-generator-maven-plugin:4.2.3:\r\n```\r\n@RequestParam(value=&quot;testId&quot;, required=true)  String testId,@ApiParam(value = &quot;&quot;) @Valid @RequestPart(&quot;document&quot;) MultipartFile document\r\n```\r\n\r\nWhen i send post in postman with filled testId only, I recive :\r\n`&quot;Required request part &#39;document&#39; is not present&quot;`\r\n\r\nI think problem is in part `@RequestPart(&quot;document&quot;) MultipartFile document` and correct code generated should look like this `@RequestPart(value=&quot;document&quot;, required=false) MultipartFile document`. But how achive this?\r\n \r\nDocument created in Swagger Editor, OpenAPI 3.0.2, SB 2.2.1.RELEASE\r\nDeclared dependencies :\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.threeten&lt;/groupId&gt;\r\n    &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"OpenAPI 3 / Spring Boot @RequestPart is not optional","body":"<p>I have a little problem with creating upload path in my API. \nIn example :</p>\n\n<pre><code>/test/upload:\n    post:\n      operationId: post form attachemnts\n      requestBody:\n        content:\n          multipart/form-data: \n            schema:            \n              type: object\n              required:\n                - testId\n              properties:\n                testId:\n                  type: string\n                  example: 1\n                document:\n                  type: string\n                  format: binary\n</code></pre>\n\n<p>I want to send testId (Required - this is ok), but my document (jpg,pdf) must be optional.</p>\n\n<p>Piece of code created by openapi-generator-maven-plugin:4.2.3:</p>\n\n<pre><code>@RequestParam(value=\"testId\", required=true)  String testId,@ApiParam(value = \"\") @Valid @RequestPart(\"document\") MultipartFile document\n</code></pre>\n\n<p>When i send post in postman with filled testId only, I recive :\n<code>\"Required request part 'document' is not present\"</code></p>\n\n<p>I think problem is in part <code>@RequestPart(\"document\") MultipartFile document</code> and correct code generated should look like this <code>@RequestPart(value=\"document\", required=false) MultipartFile document</code>. But how achive this?</p>\n\n<p>Document created in Swagger Editor, OpenAPI 3.0.2, SB 2.2.1.RELEASE\nDeclared dependencies :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n    &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;version&gt;2.10.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n    &lt;version&gt;0.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.threeten&lt;/groupId&gt;\n    &lt;artifactId&gt;threetenbp&lt;/artifactId&gt;\n    &lt;version&gt;1.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.gsonfire&lt;/groupId&gt;\n    &lt;artifactId&gt;gson-fire&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","devops","confluent-cloud"],"answers":[{"tags":[],"owner":{"account_id":27179356,"reputation":1,"user_id":20714849,"display_name":"Dugong42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670425754,"creation_date":1670425754,"answer_id":74718824,"question_id":74222825,"body_markdown":"There are a few examples [here][1] but the documentation is clearly lacking a comprehensive list.\r\n\r\nThis page lists some [important configuration values][2].\r\n\r\n\r\n  [1]: https://github.com/kafka-ops/julie/blob/master/src/main/conf/topology-builder.properties\r\n  [2]: https://julieops.readthedocs.io/en/latest/config-values.html","title":"How to provide jar parameters to Julieops for confluent kafka?","body":"<p>There are a few examples <a href=\"https://github.com/kafka-ops/julie/blob/master/src/main/conf/topology-builder.properties\" rel=\"nofollow noreferrer\">here</a> but the documentation is clearly lacking a comprehensive list.</p>\n<p>This page lists some <a href=\"https://julieops.readthedocs.io/en/latest/config-values.html\" rel=\"nofollow noreferrer\">important configuration values</a>.</p>\n"}],"owner":{"account_id":12252390,"reputation":21,"user_id":9683478,"display_name":"Arsany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670425754,"creation_date":1666877103,"question_id":74222825,"body_markdown":"I am trying to use julieops to create kafka infrastructure on Confluent\r\n\r\nhttps://github.com/kafka-ops/julie\r\n\r\nI am trying to run the julie-ops.jar file but don&#39;t know how to fill out the parameters in the screenshot (no documentation).\r\n\r\nHow to provide the indicated parameters in the screenshot below.\r\n\r\nFor example, where can I find a sample file for “clientConfig” parameter, how can I know the accepted structure of the file?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4r1aA.png","title":"How to provide jar parameters to Julieops for confluent kafka?","body":"<p>I am trying to use julieops to create kafka infrastructure on Confluent</p>\n<p><a href=\"https://github.com/kafka-ops/julie\" rel=\"nofollow noreferrer\">https://github.com/kafka-ops/julie</a></p>\n<p>I am trying to run the julie-ops.jar file but don't know how to fill out the parameters in the screenshot (no documentation).</p>\n<p>How to provide the indicated parameters in the screenshot below.</p>\n<p>For example, where can I find a sample file for “clientConfig” parameter, how can I know the accepted structure of the file?</p>\n<p><a href=\"https://i.stack.imgur.com/4r1aA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4r1aA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing","multitasking"],"comments":[{"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"score":0,"creation_date":1507374260,"post_id":46619223,"comment_id":80189993,"body_markdown":"The java thread is not mapped to cpu thread,but mapped to kernel thread or user thread,it depends the jvm implementation.Different jvm implementation has different thread model,the jvm specification don’t stipulate it.The Oracle jvm hotspot use the 1:1(mapped to kernel) thread model.other jvm has M:1(mapped to user thread),M:N thread model.","body":"The java thread is not mapped to cpu thread,but mapped to kernel thread or user thread,it depends the jvm implementation.Different jvm implementation has different thread model,the jvm specification don’t stipulate it.The Oracle jvm hotspot use the 1:1(mapped to kernel) thread model.other jvm has M:1(mapped to user thread),M:N thread model."},{"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"score":0,"creation_date":1507375426,"post_id":46619223,"comment_id":80190252,"body_markdown":"@dabaicai can you refer me to any descriptive article that explains how threads in JVM or .NET are executed from CPU&#39;s perspective?","body":"@dabaicai can you refer me to any descriptive article that explains how threads in JVM or .NET are executed from CPU&#39;s perspective?"},{"owner":{"account_id":6864597,"reputation":1009,"user_id":5277514,"display_name":"dabaicai"},"score":0,"creation_date":1507376467,"post_id":46619223,"comment_id":80190523,"body_markdown":"you can see the article [threading](http://blog.narmnevis.com/2010/11/how-does-jvm-map-a-java-thread-to-a-native-thread/),and there some other article on the end of it.","body":"you can see the article <a href=\"http://blog.narmnevis.com/2010/11/how-does-jvm-map-a-java-thread-to-a-native-thread/\" rel=\"nofollow noreferrer\">threading</a>,and there some other article on the end of it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1507378746,"post_id":46619223,"comment_id":80191029,"body_markdown":"I think you should read the Wikipedia article on [threads](https://en.wikipedia.org/wiki/Thread_(computing)).  Some of the terminology that you have used is rather wrong.  (And Intel hyperthreads are NOT threads at all.)","body":"I think you should read the Wikipedia article on <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)\" rel=\"nofollow noreferrer\">threads</a>.  Some of the terminology that you have used is rather wrong.  (And Intel hyperthreads are NOT threads at all.)"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1507404036,"post_id":46619223,"comment_id":80198905,"body_markdown":"`I understand how wide this question can be but I can live with brief info and link to any detailed documentation.` - For avoid &quot;too broad&quot; you mark your question as off-topic because of &quot;resource request&quot;. Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.","body":"<code>I understand how wide this question can be but I can live with brief info and link to any detailed documentation.</code> - For avoid &quot;too broad&quot; you mark your question as off-topic because of &quot;resource request&quot;. Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1507424303,"post_id":46619223,"comment_id":80203636,"body_markdown":"*&quot;Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.&quot;* - and that is part of why it is Too Broad.  Basically, go back and do your research again ... and try to stick to a credible, high quality sources that use proper terminology.","body":"<i>&quot;Actually, as others noted, your question has so many misconceptions, so it is unclear how to ask on it in a brief manner.&quot;</i> - and that is part of why it is Too Broad.  Basically, go back and do your research again ... and try to stick to a credible, high quality sources that use proper terminology."}],"answers":[{"tags":[],"owner":{"account_id":9151100,"reputation":733,"user_id":6805653,"accept_rate":57,"display_name":"Shukant Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1670425627,"creation_date":1510238754,"answer_id":47204746,"question_id":46619223,"body_markdown":"**1. Intel Hyperthreading** - It is a technology developed by Intel to improve the efficiency of one core because in a lot of its execution time, the CPU waits for retrieving data &amp; code from RAM. The operating system views hyperthreading-cores as two logical processors, each containing separate registers.\r\n\r\n**2. Kernel Threads -** These are managed by the OS-kernel and are scheduled in kernel mode only. They are attached to registers &amp; EIP along with some attributes. These are created and managed by the process by using some &quot;defined&quot; interfaces by the kernel.\r\n\r\n**3. User Threads** - These are created by the userspace process are executed on a kernel thread (because only a kernel one can be scheduled). But multiple user-threads can take turns for executing on a kernel thread, and giving better performance for &#39;temporary&#39; threads that come &amp; go, due to time saved by not making a system call.\r\n\r\n**4. OS Threads** - OS threads don&#39;t have a proper definition to my knowledge. They can be threads used by the OS, or just kernel threads.\r\n\r\nThere are multiple models by which user-threads execute on kernel-threads - one-to-one, m-to-n &amp; all-to-one, you can google these.","title":"Difference between CPU threads, Kernel threads, OS threads, user threads","body":"<p><strong>1. Intel Hyperthreading</strong> - It is a technology developed by Intel to improve the efficiency of one core because in a lot of its execution time, the CPU waits for retrieving data &amp; code from RAM. The operating system views hyperthreading-cores as two logical processors, each containing separate registers.</p>\n<p><strong>2. Kernel Threads -</strong> These are managed by the OS-kernel and are scheduled in kernel mode only. They are attached to registers &amp; EIP along with some attributes. These are created and managed by the process by using some &quot;defined&quot; interfaces by the kernel.</p>\n<p><strong>3. User Threads</strong> - These are created by the userspace process are executed on a kernel thread (because only a kernel one can be scheduled). But multiple user-threads can take turns for executing on a kernel thread, and giving better performance for 'temporary' threads that come &amp; go, due to time saved by not making a system call.</p>\n<p><strong>4. OS Threads</strong> - OS threads don't have a proper definition to my knowledge. They can be threads used by the OS, or just kernel threads.</p>\n<p>There are multiple models by which user-threads execute on kernel-threads - one-to-one, m-to-n &amp; all-to-one, you can google these.</p>\n"}],"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3907,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1670425627,"creation_date":1507372499,"question_id":46619223,"body_markdown":"I&#39;ve been reading a lot about how parallelism is different than concurrency, but I&#39;m having a lot of questions like how can I achieve a parallelism with a programming language like Java?\r\n\r\nWhat I understood so far is with a VM like Java we can only achieve concurrency and parallelism is not in scope of JVM, it&#39;s threads mapped to  ( I&#39;m confused here ) OS threads or Kernel threads?\r\n\r\nTo understand the multi-threading one needs to understand how the threads of a VM ( JVM ) or a process are actually mapped down to the CPU hardware. Please help here.\r\n\r\nCorrect me if I&#39;m wrong, here are few things I think I understand right:\r\n\r\n**1. CPU threads** ( Intel hyper-threading ): Hardware threads provided by adding more registers in CPU having same ALU, so do not actually behave as a dual-CPU ( if 2 threads are there in CPU ) and a &quot;just&quot;-concurrent use of ALU can just mask ( hide by an interleaved MUXing ) a principal inability to deliver indeed a true parallel code-execution.  \r\n\r\n**2. Kernel threads**: Started by Kernel and these can be more in number than CPU threads but are a bit expensive to start.  \r\n\r\n**3. OS threads**: I don&#39;t understand it.  I&#39;m guessing this is what you mean when you call native threads and probably same as previous #2 ie Kernel threads.\r\n\r\n**4. User threads**: Just like `new Thread()` in JVM or .NET. I think they are not recognized as threads by OS so nothing much can be done here from the parallelism perspective. \r\n\r\nI need to understand how threads created in #4 are mapped to #1, may be with examples to Windows/Linux/MacOS.\r\n\r\nGuys, I understand how wide this question can be but I can live with brief info and link to any detailed documentation. Thanks in advance.","title":"Difference between CPU threads, Kernel threads, OS threads, user threads","body":"<p>I've been reading a lot about how parallelism is different than concurrency, but I'm having a lot of questions like how can I achieve a parallelism with a programming language like Java?</p>\n\n<p>What I understood so far is with a VM like Java we can only achieve concurrency and parallelism is not in scope of JVM, it's threads mapped to  ( I'm confused here ) OS threads or Kernel threads?</p>\n\n<p>To understand the multi-threading one needs to understand how the threads of a VM ( JVM ) or a process are actually mapped down to the CPU hardware. Please help here.</p>\n\n<p>Correct me if I'm wrong, here are few things I think I understand right:</p>\n\n<p><strong>1. CPU threads</strong> ( Intel hyper-threading ): Hardware threads provided by adding more registers in CPU having same ALU, so do not actually behave as a dual-CPU ( if 2 threads are there in CPU ) and a \"just\"-concurrent use of ALU can just mask ( hide by an interleaved MUXing ) a principal inability to deliver indeed a true parallel code-execution.  </p>\n\n<p><strong>2. Kernel threads</strong>: Started by Kernel and these can be more in number than CPU threads but are a bit expensive to start.  </p>\n\n<p><strong>3. OS threads</strong>: I don't understand it.  I'm guessing this is what you mean when you call native threads and probably same as previous #2 ie Kernel threads.</p>\n\n<p><strong>4. User threads</strong>: Just like <code>new Thread()</code> in JVM or .NET. I think they are not recognized as threads by OS so nothing much can be done here from the parallelism perspective. </p>\n\n<p>I need to understand how threads created in #4 are mapped to #1, may be with examples to Windows/Linux/MacOS.</p>\n\n<p>Guys, I understand how wide this question can be but I can live with brief info and link to any detailed documentation. Thanks in advance.</p>\n"},{"tags":["python","java","jaydebeapi"],"answers":[{"comments":[{"owner":{"account_id":27111101,"reputation":11,"user_id":20656249,"display_name":"Waldo Gerber"},"score":0,"creation_date":1670425269,"post_id":74701742,"comment_id":131874098,"body_markdown":"SOLVED:\n\nI did try copying over the DLL but this didn&#39;t help. I began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem.","body":"SOLVED:  I did try copying over the DLL but this didn&#39;t help. I began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem."}],"tags":[],"owner":{"account_id":6968293,"reputation":11,"user_id":5345489,"display_name":"THEdude"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670326179,"creation_date":1670326179,"answer_id":74701742,"question_id":74642080,"body_markdown":"Have you tried:\r\n\r\n - Reinstalling Java\r\n - Copying the `jvm.dll` file over in `C:\\Program\r\n   Files\\Java\\jre1.8.0_60\\bin\\server\\` from your personal PC into that\r\n   same location on the server.\r\n\r\n","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>Have you tried:</p>\n<ul>\n<li>Reinstalling Java</li>\n<li>Copying the <code>jvm.dll</code> file over in <code>C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\</code> from your personal PC into that\nsame location on the server.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27111101,"reputation":11,"user_id":20656249,"display_name":"Waldo Gerber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670425331,"creation_date":1670425331,"answer_id":74718724,"question_id":74642080,"body_markdown":"SOLVED: \r\n\r\nI began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem.","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>SOLVED:</p>\n<p>I began to suspect that the version of Java that I installed required an internet connection so I downloaded a different version of java (jdk-8u341-windows-x64 offline) and installed that. After doing this I corrected the JAVA_HOME path and this ended up solving the problem.</p>\n"}],"owner":{"account_id":27111101,"reputation":11,"user_id":20656249,"display_name":"Waldo Gerber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74718724,"answer_count":2,"score":1,"last_activity_date":1670425396,"creation_date":1669898713,"question_id":74642080,"body_markdown":"I am trying to make a database connection using the Jaydebeapi package in Python3. My setup is running on a windows 2016 server. I have Java 8 and JDK installed. When I execute my script it returns the below error:\r\n\r\n\r\n```\r\nOSError: [WinError 126] JVM DLL not found: C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\jvm.dll\r\n```\r\n\r\nWhen I run the script on my personal PC it works fine and I am using all the same software versions.\r\n\r\nI can&#39;t find a solution anywhere else online.","title":"How to solve OSError: [WinError 126] JVM DLL not found when trying to use jaydebeapi in python 3.11 to make a database connection","body":"<p>I am trying to make a database connection using the Jaydebeapi package in Python3. My setup is running on a windows 2016 server. I have Java 8 and JDK installed. When I execute my script it returns the below error:</p>\n<pre><code>OSError: [WinError 126] JVM DLL not found: C:\\Program Files\\Java\\jre1.8.0_60\\bin\\server\\jvm.dll\n</code></pre>\n<p>When I run the script on my personal PC it works fine and I am using all the same software versions.</p>\n<p>I can't find a solution anywhere else online.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","h2"],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670436616,"post_id":74718730,"comment_id":131878196,"body_markdown":"Won&#39;t the OneToOne mapping just use a joinColumn by default, using &quot;userProfile_Id&quot; instead? Neither exist in the table, so I don&#39;t know why one is wrong  or even a problem at all. Fixing the table generation will have it add the FK with or without the join column annotation","body":"Won&#39;t the OneToOne mapping just use a joinColumn by default, using &quot;userProfile_Id&quot; instead? Neither exist in the table, so I don&#39;t know why one is wrong  or even a problem at all. Fixing the table generation will have it add the FK with or without the join column annotation"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670425365,"creation_date":1670425365,"answer_id":74718730,"question_id":74718419,"body_markdown":"***First problem:***\r\n\r\nYou don&#39;t need the `@JoinColumn` (which is wrong)\r\n\r\nSimply use this:\r\n\r\n\t@OneToOne(cascade=CascadeType.ALL)\r\n\tprivate UserProfile userProfile;\r\n\r\n***Second problem:***\r\n\r\nYour data.sql contains DDL (Create etc) and DML (insert etc) but this should only contain DML.\r\n\r\nAs you have set\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nthe tables will be generated by Hibernate. You only need to insert data.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException : Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:","body":"<p><em><strong>First problem:</strong></em></p>\n<p>You don't need the <code>@JoinColumn</code> (which is wrong)</p>\n<p>Simply use this:</p>\n<pre><code>@OneToOne(cascade=CascadeType.ALL)\nprivate UserProfile userProfile;\n</code></pre>\n<p><em><strong>Second problem:</strong></em></p>\n<p>Your data.sql contains DDL (Create etc) and DML (insert etc) but this should only contain DML.</p>\n<p>As you have set</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>the tables will be generated by Hibernate. You only need to insert data.</p>\n"}],"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74718730,"answer_count":1,"score":0,"last_activity_date":1670425365,"creation_date":1670424107,"question_id":74718419,"body_markdown":"I&#39;m currently building an application that has an user logic, and I&#39;ve been trying to build simple methods and just 1 mock on the database but I can&#39;t seem to make ANY requests through the api. But, I am able to access h2 database and the user I created for testing is there: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IVzZS.png\r\n\r\nthis is the error I get when I try to make requests:\r\n\r\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:\r\nselect user0_.user_id as user_id1_1_, user0_.user_email as user_ema2_1_, user0_.user_name as user_nam3_1_, user0_.password as password4_1_, user0_.profile_id as profile_5_1_ from table_user user0_ [42122-214]\r\n\r\nthis is my User model (theres also the getters and setters and constructors but I wont put them here):\r\n\r\n    @Entity\r\n    @Table(name=&quot;table_user&quot;)\r\n    public class User implements Serializable{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Column(name=&quot;user_name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name=&quot;user_email&quot;, unique=true)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(name=&quot;password&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name=&quot;user_id&quot;)\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t@OneToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name=&quot;profile_id&quot;)\r\n    \tprivate UserProfile userProfile;\r\n    \t\r\n\r\nthis is my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value=&quot;/users&quot;, produces=&quot;application/json&quot;)\r\n    public class UserController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TheUserRepository repo;\r\n    \t\r\n    \t@GetMapping\r\n    \tpublic ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\r\n    \t\tList&lt;User&gt; users= repo.findAll();\r\n    \t\treturn ResponseEntity.ok().body(users);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(value=&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Optional&lt;User&gt;&gt; findById(@PathVariable Integer id){\r\n    \t\tOptional&lt;User&gt; user=repo.findById(id);\r\n    \t\treturn ResponseEntity.ok().body(user);\r\n    \t}\r\n    \t\r\n    \t@GetMapping(value=&quot;emails/{email}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; doesEmailExist(User user){\r\n    \t\tString email=user.getEmail();\r\n    \t\tdoesUserExist(email);\r\n    \t\treturn ResponseEntity.ok().body(user);\r\n    \t}\r\n    \t\r\n    \tprivate boolean doesUserExist(String email) {\r\n    \t\tif (repo.findByEmail(email) != null) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@PostMapping\r\n    \tpublic ResponseEntity&lt;String&gt; insert(@RequestBody User user){\r\n    \t\tUser entity=repo.findByEmail(user.getEmail());\r\n    \t\tif(entity==null) {\r\n    \t\t\trepo.save(entity);\r\n    \t\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(&quot;USER SUCESSFULLY CREATED&quot;);\r\n    \t\t}else {\r\n    \t\t\treturn ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;AN USER ASSOCIATED TO THIS EMAIL ALREADY EXISTS&quot;);\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \t@PutMapping(value=&quot;/updateName/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; updateName(@PathVariable Integer id, @RequestBody User user){\r\n    \t\tUser updatedName=user;\r\n    \t\tupdatedName.setName(user.getName());\r\n    \t\trepo.save(updatedName);\r\n    \t\treturn ResponseEntity.ok().body(updatedName);\r\n    \t}\r\n    \t\r\n    \t@PutMapping(value=&quot;/updatePassword/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; updatePassword(@PathVariable Integer id, @RequestBody User user){\r\n    \t\tUser updatedPassword=user;\r\n    \t\tupdatedPassword.setName(user.getPassword());\r\n    \t\trepo.save(updatedPassword);\r\n    \t\treturn ResponseEntity.ok().body(updatedPassword);\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(value=&quot;/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; delete(@PathVariable Integer id){\r\n    \t\trepo.deleteById(id);\r\n    \t\treturn ResponseEntity.noContent().build();\r\n    \t}\r\n    }\r\n\r\nthis is my application.properties:\r\n\r\n\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.jpa.defer-datasource-initialization=true\r\n    \r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    spring.application.name=currency-exchange-service\r\n    server.port= 8080\r\n    \r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.hbm2ddl.auto=update\r\n\r\n\r\nand my data.sql:\r\n\r\n    DROP TABLE IF EXISTS `TABLE_USER`;\r\n    \r\n    CREATE TABLE  `TABLE_USER`(\r\n    \t`USER_NAME` varchar(250) NOT NULL,\r\n    \t`USER_EMAIL` varchar(250) NOT NULL,\r\n    \t`PASSWORD` varchar(250) NOT NULL,\r\n    \t`USER_ID` int AUTO_INCREMENT PRIMARY KEY,\r\n    \t`USER_PROFILE` varchar(250)\r\n    );\r\n    \r\n    INSERT INTO `TABLE_USER` (`USER_NAME`, `USER_EMAIL`, `PASSWORD`, `USER_PROFILE`)\r\n    VALUES (&#39;vit&#243;ria&#39;, &#39;vitoria@gmail.com&#39;, &#39;testing&#39;, &#39;testing&#39;);\r\n\r\n\r\nthank you so much in advance for anyone who tries to help! \r\n\r\n\r\n\r\nif theres anything I&#39;ve left out, it could probably be here: https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show\r\n","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException : Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:","body":"<p>I'm currently building an application that has an user logic, and I've been trying to build simple methods and just 1 mock on the database but I can't seem to make ANY requests through the api. But, I am able to access h2 database and the user I created for testing is there:</p>\n<p><a href=\"https://i.stack.imgur.com/IVzZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IVzZS.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the error I get when I try to make requests:</p>\n<p>org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;USER0_.PROFILE_ID&quot; not found; SQL statement:\nselect user0_.user_id as user_id1_1_, user0_.user_email as user_ema2_1_, user0_.user_name as user_nam3_1_, user0_.password as password4_1_, user0_.profile_id as profile_5_1_ from table_user user0_ [42122-214]</p>\n<p>this is my User model (theres also the getters and setters and constructors but I wont put them here):</p>\n<pre><code>@Entity\n@Table(name=&quot;table_user&quot;)\npublic class User implements Serializable{\n    private static final long serialVersionUID = 1L;\n    \n    @Column(name=&quot;user_name&quot;)\n    private String name;\n    \n    @Column(name=&quot;user_email&quot;, unique=true)\n    private String email;\n    \n    @Column(name=&quot;password&quot;)\n    private String password;\n    \n    @Column(name=&quot;user_id&quot;)\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @OneToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;profile_id&quot;)\n    private UserProfile userProfile;\n    \n</code></pre>\n<p>this is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(value=&quot;/users&quot;, produces=&quot;application/json&quot;)\npublic class UserController {\n    \n    @Autowired\n    private TheUserRepository repo;\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;User&gt;&gt; findAll(){\n        List&lt;User&gt; users= repo.findAll();\n        return ResponseEntity.ok().body(users);\n    }\n    \n    @GetMapping(value=&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;User&gt;&gt; findById(@PathVariable Integer id){\n        Optional&lt;User&gt; user=repo.findById(id);\n        return ResponseEntity.ok().body(user);\n    }\n    \n    @GetMapping(value=&quot;emails/{email}&quot;)\n    public ResponseEntity&lt;User&gt; doesEmailExist(User user){\n        String email=user.getEmail();\n        doesUserExist(email);\n        return ResponseEntity.ok().body(user);\n    }\n    \n    private boolean doesUserExist(String email) {\n        if (repo.findByEmail(email) != null) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \n    @PostMapping\n    public ResponseEntity&lt;String&gt; insert(@RequestBody User user){\n        User entity=repo.findByEmail(user.getEmail());\n        if(entity==null) {\n            repo.save(entity);\n            return ResponseEntity.status(HttpStatus.CREATED).body(&quot;USER SUCESSFULLY CREATED&quot;);\n        }else {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;AN USER ASSOCIATED TO THIS EMAIL ALREADY EXISTS&quot;);\n        }   \n    }\n    \n    @PutMapping(value=&quot;/updateName/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updateName(@PathVariable Integer id, @RequestBody User user){\n        User updatedName=user;\n        updatedName.setName(user.getName());\n        repo.save(updatedName);\n        return ResponseEntity.ok().body(updatedName);\n    }\n    \n    @PutMapping(value=&quot;/updatePassword/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updatePassword(@PathVariable Integer id, @RequestBody User user){\n        User updatedPassword=user;\n        updatedPassword.setName(user.getPassword());\n        repo.save(updatedPassword);\n        return ResponseEntity.ok().body(updatedPassword);\n    }\n    \n    @DeleteMapping(value=&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; delete(@PathVariable Integer id){\n        repo.deleteById(id);\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>this is my application.properties:</p>\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.username=sa\nspring.datasource.password=\n\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.defer-datasource-initialization=true\n\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\nspring.application.name=currency-exchange-service\nserver.port= 8080\n\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\n</code></pre>\n<p>and my data.sql:</p>\n<pre><code>DROP TABLE IF EXISTS `TABLE_USER`;\n\nCREATE TABLE  `TABLE_USER`(\n    `USER_NAME` varchar(250) NOT NULL,\n    `USER_EMAIL` varchar(250) NOT NULL,\n    `PASSWORD` varchar(250) NOT NULL,\n    `USER_ID` int AUTO_INCREMENT PRIMARY KEY,\n    `USER_PROFILE` varchar(250)\n);\n\nINSERT INTO `TABLE_USER` (`USER_NAME`, `USER_EMAIL`, `PASSWORD`, `USER_PROFILE`)\nVALUES ('vitória', 'vitoria@gmail.com', 'testing', 'testing');\n</code></pre>\n<p>thank you so much in advance for anyone who tries to help!</p>\n<p>if theres anything I've left out, it could probably be here: <a href=\"https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show\" rel=\"nofollow noreferrer\">https://github.com/vitoriaacarvalho/recommend-me-a-show/tree/main/recommend-me-a-show</a></p>\n"},{"tags":["java","kubernetes","cron"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426318,"post_id":74718690,"comment_id":131874451,"body_markdown":"Firstly: *java -jar /app.jar* You&#39;re aware that&#39;s addressing a jar in the root of the file system? It should almost certainly not be there. Let&#39;s say it can go in your home dir. It might be worth an experiment of `java &quot;$@&quot; -jar /home/someone/app.jar`","body":"Firstly: <i>java -jar /app.jar</i> You&#39;re aware that&#39;s addressing a jar in the root of the file system? It should almost certainly not be there. Let&#39;s say it can go in your home dir. It might be worth an experiment of <code>java &quot;$@&quot; -jar &#47;home&#47;someone&#47;app.jar</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426963,"post_id":74718690,"comment_id":131874739,"body_markdown":"Not knowing the software you&#39;re using though, I don&#39;t know that script would get the parameters in my example","body":"Not knowing the software you&#39;re using though, I don&#39;t know that script would get the parameters in my example"}],"owner":{"account_id":17636641,"reputation":95,"user_id":12799787,"display_name":"ah_ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670425173,"creation_date":1670425173,"question_id":74718690,"body_markdown":"I have deployed a Kubernetes cron job that executes a java jar.\r\n\r\n```\r\napiVersion: batch/v1\r\nkind: CronJob\r\nmetadata:\r\n  name: my-cron-job\r\n  namespace: test\r\n  labels:\r\n    app: my-cron-job\r\n    release: dev\r\n    tiers: backend\r\nspec:\r\n  jobTemplate:\r\n    spec:\r\n      template:\r\n        spec:\r\n          containers:\r\n            - name: app_name\r\n              image: docker-image\r\n              command: [&quot;/bin/bash&quot;, &quot;-c&quot;]\r\n              args:\r\n                - |\r\n                  java -jar /app.jar\r\n              env:\r\n                - name: USER\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: secrets\r\n                      key: user\r\n                - name: PASSWORD\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: secrets\r\n                      key: pwd\r\n              resources:\r\n                requests:\r\n                  memory: &quot;20Mi&quot;\r\n                  cpu: &quot;50m&quot;\r\n                limits:\r\n                  memory: &quot;20Mi&quot;\r\n\r\n  schedule: &quot;0 0 * * *&quot;\r\n  concurrencyPolicy: Forbid\r\n```\r\n\r\nFor testing, I&#39;d like to execute this cron job as a one time job while passing certain args to the java jar.\r\n\r\nI was able to run the one time job using : \r\n\r\n```\r\nkubectl create job my-cron-job-manual --from=cronjob/my-cron-job\r\n```\r\n\r\nbut couldn&#39;t find a way to pass any dynamic args to the jar in a similar way to this : \r\n\r\n```\r\njava -Dtest_arg=XXXXX -jar /app.jar\r\n```\r\n\r\nCan you please point me to directions I can investigate ? Maybe I&#39;m missing something with Kubernetes / cron jobs ?\r\n\r\nThank you.\r\n","title":"Pass args to a jar launched by a Kubernetes cron job","body":"<p>I have deployed a Kubernetes cron job that executes a java jar.</p>\n<pre><code>apiVersion: batch/v1\nkind: CronJob\nmetadata:\n  name: my-cron-job\n  namespace: test\n  labels:\n    app: my-cron-job\n    release: dev\n    tiers: backend\nspec:\n  jobTemplate:\n    spec:\n      template:\n        spec:\n          containers:\n            - name: app_name\n              image: docker-image\n              command: [&quot;/bin/bash&quot;, &quot;-c&quot;]\n              args:\n                - |\n                  java -jar /app.jar\n              env:\n                - name: USER\n                  valueFrom:\n                    secretKeyRef:\n                      name: secrets\n                      key: user\n                - name: PASSWORD\n                  valueFrom:\n                    secretKeyRef:\n                      name: secrets\n                      key: pwd\n              resources:\n                requests:\n                  memory: &quot;20Mi&quot;\n                  cpu: &quot;50m&quot;\n                limits:\n                  memory: &quot;20Mi&quot;\n\n  schedule: &quot;0 0 * * *&quot;\n  concurrencyPolicy: Forbid\n</code></pre>\n<p>For testing, I'd like to execute this cron job as a one time job while passing certain args to the java jar.</p>\n<p>I was able to run the one time job using :</p>\n<pre><code>kubectl create job my-cron-job-manual --from=cronjob/my-cron-job\n</code></pre>\n<p>but couldn't find a way to pass any dynamic args to the jar in a similar way to this :</p>\n<pre><code>java -Dtest_arg=XXXXX -jar /app.jar\n</code></pre>\n<p>Can you please point me to directions I can investigate ? Maybe I'm missing something with Kubernetes / cron jobs ?</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1670417961,"post_id":74717059,"comment_id":131871418,"body_markdown":"It is not clear how you are representing 3x3 board using a 1D List","body":"It is not clear how you are representing 3x3 board using a 1D List"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670418107,"post_id":74717059,"comment_id":131871465,"body_markdown":"Good point, the list can be modified.","body":"Good point, the list can be modified."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1670418884,"post_id":74717059,"comment_id":131871725,"body_markdown":"You need to explain how your model of the board works. How exactly do the strings in the array in your question represent a tictactoe board? It&#39;s difficult to suggest ways of using streams to detect board conditions when it&#39;s unclear how the board is represented.","body":"You need to explain how your model of the board works. How exactly do the strings in the array in your question represent a tictactoe board? It&#39;s difficult to suggest ways of using streams to detect board conditions when it&#39;s unclear how the board is represented."},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670419339,"post_id":74717059,"comment_id":131871873,"body_markdown":"This is not given but it can be 2d ArrayList like this: `int vertexCount = 3;\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; listTicTacToe = new ArrayList&lt;&gt;(vertexCount);`","body":"This is not given but it can be 2d ArrayList like this: <code>int vertexCount = 3;         ArrayList&lt;ArrayList&lt;String&gt;&gt; listTicTacToe = new ArrayList&lt;&gt;(vertexCount);</code>"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670419786,"post_id":74717059,"comment_id":131872015,"body_markdown":"Lets assume we have a 2d arraylist and the data is already there as string. E.g. player x puts &quot;X&quot; to the array list and player o puts &quot;O&quot; and the solution is to find 3*X or 3*O vertical horizontal or diagonal","body":"Lets assume we have a 2d arraylist and the data is already there as string. E.g. player x puts &quot;X&quot; to the array list and player o puts &quot;O&quot; and the solution is to find 3*X or 3*O vertical horizontal or diagonal"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1670420449,"post_id":74717059,"comment_id":131872224,"body_markdown":"I don&#39;t see any benefit in using streams (performance wise as well readability wise)","body":"I don&#39;t see any benefit in using streams (performance wise as well readability wise)"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1670420547,"post_id":74717059,"comment_id":131872267,"body_markdown":"If the new data comes e.g. over scanner then it will be checked. At the beginng the list could look like this `graph.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;,&quot;4&quot;,&quot;7&quot;)));\n        graph.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;,&quot;5&quot;,&quot;8&quot;)));\n        graph.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;)));` and the numbers as string will be replaced by &quot;X&quot; or &quot;O&quot;","body":"If the new data comes e.g. over scanner then it will be checked. At the beginng the list could look like this <code>graph.add(new ArrayList&lt;&gt;(List.of(&quot;1&quot;,&quot;4&quot;,&quot;7&quot;)));         graph.add(new ArrayList&lt;&gt;(List.of(&quot;2&quot;,&quot;5&quot;,&quot;8&quot;)));         graph.add(new ArrayList&lt;&gt;(List.of(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;)));</code> and the numbers as string will be replaced by &quot;X&quot; or &quot;O&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670424835,"creation_date":1670424018,"answer_id":74718398,"question_id":74717059,"body_markdown":"If you have `3` (or more) values that correspond to a particular player on a board, it doesn&#39;t automatically mean that they form a weening combination (arranged in a line).\r\n\r\nThere should be a lot of conditional logic, so I am afraid it can&#39;t be done without imperative code. But you might incorporate some elements of the functional programming.\r\n\r\nHere&#39;s a small illustration.\r\n\r\nYou can perform a check whether the previous move produced a weening combination using a stream.\r\n\r\n***Note*** that there&#39;s no need to check all the possible combinations on a board. Only cells that are **adjacent** to the cell that the player has changed needs to be checked. Building on this idea, we can define a static array (make it a list if you don&#39;t want to use arrays, but array would be more convenient) containing offsets that represent 4 combinations of cell (horizontal `-`, vertical `|`, and two diagonal `\\` and `/`).\r\n\r\nWe can iterate over the array representing cell-combination searching if there&#39;s at least one valid using [`Stream.anyMatch()`][anyMatch]. Is that&#39;s the case, the player which made the last move has weened.\r\n\r\nHere&#39;s how the implementation of this logic might look like (*as I&#39;ve said it&#39;s not entirely functional in style*):\r\n\r\n    public class TicTacToe {\r\n        public static final int[][][] NEIGHBOURS =\r\n               {{{0, -1}, {0, 1}},   // horizontal -\r\n                {{-1, 0}, {1, 0}},   // vertical |\r\n                {{-1, -1}, {1, 1}},  // diagonal \\\r\n                {{1, 1}, {-1, -1}}}; // diagonal /\r\n        \r\n        private List&lt;List&lt;String&gt;&gt; board = List.of( // Arrays.asList() is used for nested lists because it allows to modify values, but disallows structural modifications as well List.of()\r\n            Arrays.asList(&quot;1&quot;, &quot;4&quot;, &quot;7&quot;), // populate with any non-null values in order to perform `equals()` checks safely\r\n            Arrays.asList(&quot;2&quot;, &quot;5&quot;, &quot;8&quot;),\r\n            Arrays.asList(&quot;3&quot;, &quot;6&quot;, &quot;9&quot;)\r\n        );\r\n        \r\n        public boolean isWinningMove(int row, int col) {\r\n            return Arrays.stream(NEIGHBOURS)\r\n                .anyMatch(isWinningCombination(row, col));\r\n        }\r\n        \r\n        public Predicate&lt;int[][]&gt; isWinningCombination(int row, int col) {\r\n\r\n            return neighbour -&gt; {\r\n                int[] leftShift = neighbour[0];\r\n                int[] rightShift = neighbour[1];\r\n                String currentPlayer = getBoardValue(row, col);\r\n\r\n                return getBoardValue(row + leftShift[0], col + leftShift[1])   // left Neighbour == current\r\n                            .equals(currentPlayer)\r\n                    &amp;&amp; getBoardValue(row + rightShift[0], col + rightShift[1]) // right Neighbour == current\r\n                            .equals(currentPlayer);\r\n            };\r\n        }\r\n    \r\n        public String getBoardValue(int row, int col) {\r\n            if (row &lt; 0 || row &gt;= board.size() || col &lt; 0 || col &gt;= board.get(row).size()) { // invalid index\r\n                return &quot;INVALID INDEX&quot;; // illegal value for which `isWinningCombination()` will return false\r\n            }\r\n            return board.get(row).get(col); // return the real value under the given coordinates\r\n        }\r\n    }\r\n\r\n\r\n\r\n   [anyMatch]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)","title":"Java Streams condition for tictactoe","body":"<p>If you have <code>3</code> (or more) values that correspond to a particular player on a board, it doesn't automatically mean that they form a weening combination (arranged in a line).</p>\n<p>There should be a lot of conditional logic, so I am afraid it can't be done without imperative code. But you might incorporate some elements of the functional programming.</p>\n<p>Here's a small illustration.</p>\n<p>You can perform a check whether the previous move produced a weening combination using a stream.</p>\n<p><em><strong>Note</strong></em> that there's no need to check all the possible combinations on a board. Only cells that are <strong>adjacent</strong> to the cell that the player has changed needs to be checked. Building on this idea, we can define a static array (make it a list if you don't want to use arrays, but array would be more convenient) containing offsets that represent 4 combinations of cell (horizontal <code>-</code>, vertical <code>|</code>, and two diagonal <code>\\</code> and <code>/</code>).</p>\n<p>We can iterate over the array representing cell-combination searching if there's at least one valid using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Stream.anyMatch()</code></a>. Is that's the case, the player which made the last move has weened.</p>\n<p>Here's how the implementation of this logic might look like (<em>as I've said it's not entirely functional in style</em>):</p>\n<pre><code>public class TicTacToe {\n    public static final int[][][] NEIGHBOURS =\n           {{{0, -1}, {0, 1}},   // horizontal -\n            {{-1, 0}, {1, 0}},   // vertical |\n            {{-1, -1}, {1, 1}},  // diagonal \\\n            {{1, 1}, {-1, -1}}}; // diagonal /\n    \n    private List&lt;List&lt;String&gt;&gt; board = List.of( // Arrays.asList() is used for nested lists because it allows to modify values, but disallows structural modifications as well List.of()\n        Arrays.asList(&quot;1&quot;, &quot;4&quot;, &quot;7&quot;), // populate with any non-null values in order to perform `equals()` checks safely\n        Arrays.asList(&quot;2&quot;, &quot;5&quot;, &quot;8&quot;),\n        Arrays.asList(&quot;3&quot;, &quot;6&quot;, &quot;9&quot;)\n    );\n    \n    public boolean isWinningMove(int row, int col) {\n        return Arrays.stream(NEIGHBOURS)\n            .anyMatch(isWinningCombination(row, col));\n    }\n    \n    public Predicate&lt;int[][]&gt; isWinningCombination(int row, int col) {\n\n        return neighbour -&gt; {\n            int[] leftShift = neighbour[0];\n            int[] rightShift = neighbour[1];\n            String currentPlayer = getBoardValue(row, col);\n\n            return getBoardValue(row + leftShift[0], col + leftShift[1])   // left Neighbour == current\n                        .equals(currentPlayer)\n                &amp;&amp; getBoardValue(row + rightShift[0], col + rightShift[1]) // right Neighbour == current\n                        .equals(currentPlayer);\n        };\n    }\n\n    public String getBoardValue(int row, int col) {\n        if (row &lt; 0 || row &gt;= board.size() || col &lt; 0 || col &gt;= board.get(row).size()) { // invalid index\n            return &quot;INVALID INDEX&quot;; // illegal value for which `isWinningCombination()` will return false\n        }\n        return board.get(row).get(col); // return the real value under the given coordinates\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670424835,"creation_date":1670417745,"question_id":74717059,"body_markdown":"this should be a tictactoe game but I will to wright it only with Java Streams. \r\nNow it will be checked only for 3 duplicates allover and I need to check for duplicates which are horizontal vertical or diagonal (just normal condition for this game but wroten with Streams like in the below 2 solutions). \r\n\r\n\r\n    List&lt;String&gt; listTicTacToe = new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;));\r\n\r\n\r\nSolution 1: \r\n\r\n    List&lt;String&gt;res2 = listTicTacToe.stream()\r\n            .filter(number -&gt; Collections.frequency(listTicTacToe, number) == 3)\r\n            .collect(Collectors.toList());\r\n\r\n    isWinner = !res2.isEmpty();\r\n\r\n\r\n        \r\n\r\nSolution 2: \r\n\r\n    List&lt;String&gt; res = listTicTacToe.stream()\r\n                    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                    .entrySet()\r\n                    .stream()\r\n                    .filter(e -&gt; e.getValue() == 3)\r\n                    .map(e -&gt; e.getKey())\r\n                    .collect(Collectors.toList());\r\n\r\nIs it possible with using only Java Streams?\r\n","title":"Java Streams condition for tictactoe","body":"<p>this should be a tictactoe game but I will to wright it only with Java Streams.\nNow it will be checked only for 3 duplicates allover and I need to check for duplicates which are horizontal vertical or diagonal (just normal condition for this game but wroten with Streams like in the below 2 solutions).</p>\n<pre><code>List&lt;String&gt; listTicTacToe = new ArrayList&lt;&gt;(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;));\n</code></pre>\n<p>Solution 1:</p>\n<pre><code>List&lt;String&gt;res2 = listTicTacToe.stream()\n        .filter(number -&gt; Collections.frequency(listTicTacToe, number) == 3)\n        .collect(Collectors.toList());\n\nisWinner = !res2.isEmpty();\n\n\n    \n</code></pre>\n<p>Solution 2:</p>\n<pre><code>List&lt;String&gt; res = listTicTacToe.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n                .entrySet()\n                .stream()\n                .filter(e -&gt; e.getValue() == 3)\n                .map(e -&gt; e.getKey())\n                .collect(Collectors.toList());\n</code></pre>\n<p>Is it possible with using only Java Streams?</p>\n"},{"tags":["java","floating-point","integer","integer-overflow"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1633280694,"post_id":69426960,"comment_id":122712418,"body_markdown":"Does this answer your question? [How can I check if multiplying two numbers in Java will cause an overflow?](https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow\">How can I check if multiplying two numbers in Java will cause an overflow?</a>"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633281884,"post_id":69426960,"comment_id":122712724,"body_markdown":"For positive values at least, int x int cannot exceed the range of long.  So `long c = (long) a * (long) b`.  Then check the result before casting back to int, or use Math.toIntExact..  Handling one or both negative numbers left as exercise for the reader.","body":"For positive values at least, int x int cannot exceed the range of long.  So <code>long c = (long) a * (long) b</code>.  Then check the result before casting back to int, or use Math.toIntExact..  Handling one or both negative numbers left as exercise for the reader."},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633290765,"post_id":69426960,"comment_id":122714839,"body_markdown":"@ervin-szilagyi Are not! Entire integer and long. I am in need of integer and float!","body":"@ervin-szilagyi Are not! Entire integer and long. I am in need of integer and float!"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633291123,"post_id":69426960,"comment_id":122714926,"body_markdown":"@user16632363 But the question I have is integer with float. If you cast `b` to int or long, the result will definitely not be true because it will remove the decimal part of `b`!","body":"@user16632363 But the question I have is integer with float. If you cast <code>b</code> to int or long, the result will definitely not be true because it will remove the decimal part of <code>b</code>!"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1633291704,"post_id":69426960,"comment_id":122715083,"body_markdown":"Well sure, it will remove the decimal part. Exactly what you are trying to do here: `Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c`","body":"Well sure, it will remove the decimal part. Exactly what you are trying to do here: <code>Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c</code>"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633292101,"post_id":69426960,"comment_id":122715192,"body_markdown":"@ervin-szilagyi You can see I said that&#39;s my current &quot;silly&quot; solution. I multiply them by a variable of data type double, then check if the result exceeds the maximum integer value, if so, return the integer maximum value, otherwise return the number closest to the result.\nWhy is the result? Because the maximum error for removing the decimal part cannot be greater than 1 (0 - 0.99999...). If I remove the decimal part of `b`, the result can be greatly skewed.\nBut this solution is not perfect, it has the disadvantages I listed above!","body":"@ervin-szilagyi You can see I said that&#39;s my current &quot;silly&quot; solution. I multiply them by a variable of data type double, then check if the result exceeds the maximum integer value, if so, return the integer maximum value, otherwise return the number closest to the result. Why is the result? Because the maximum error for removing the decimal part cannot be greater than 1 (0 - 0.99999...). If I remove the decimal part of <code>b</code>, the result can be greatly skewed. But this solution is not perfect, it has the disadvantages I listed above!"}],"answers":[{"comments":[{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633435350,"post_id":69440000,"comment_id":122754013,"body_markdown":"I have tried converting the code you give to Java code and testing it on [OnlineGDB](https://onlinegdb.com/LtzvTRJqjV), it seems correct to do calculations where `b` are numbers **without** decimal part, but if there is decimal part, the result willn&#39;t be correct.","body":"I have tried converting the code you give to Java code and testing it on <a href=\"https://onlinegdb.com/LtzvTRJqjV\" rel=\"nofollow noreferrer\">OnlineGDB</a>, it seems correct to do calculations where <code>b</code> are numbers <b>without</b> decimal part, but if there is decimal part, the result willn&#39;t be correct."},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633441844,"post_id":69440000,"comment_id":122756915,"body_markdown":"@TầnQuảng `System.out.println(mulInt(268435455, 7.9F)); // 2120640094.5` is unclear.  `mulInt()` returns an `int`.  Why expect `2120640094.5`?  What did code print for you? (2120640120), what was expected?","body":"@TầnQuảng <code>System.out.println(mulInt(268435455, 7.9F)); &#47;&#47; 2120640094.5</code> is unclear.  <code>mulInt()</code> returns an <code>int</code>.  Why expect <code>2120640094.5</code>?  What did code print for you? (2120640120), what was expected?"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633451976,"post_id":69440000,"comment_id":122761513,"body_markdown":"@chux-reinstate-monica `2120640094.5` is the correct result of the calculation, but the result I expect is `2120640094` (error: `0.5`) and not `2120640120` (error: `26`).","body":"@chux-reinstate-monica <code>2120640094.5</code> is the correct result of the calculation, but the result I expect is <code>2120640094</code> (error: <code>0.5</code>) and not <code>2120640120</code> (error: <code>26</code>)."},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633453049,"post_id":69440000,"comment_id":122761899,"body_markdown":"@TầnQuảng `7.9F` does not have the value of 7.9.  Instead it has the value of the nearest `float` or 7.900000095367431640625.  The product 268435455 *  7.900000095367431640625 is about 2,120,640,120.0999999046....  Truncated that is  2120640120, the reported and correct answer.  Your expectation is incorrect as `7.9F` is not 7.9.  Instead, try `b` with a fractional _exact_ part representable as a `float` like 0.5, 0.0625, 0.75, 0.125, 0.900000095367431640625 ...","body":"@TầnQuảng <code>7.9F</code> does not have the value of 7.9.  Instead it has the value of the nearest <code>float</code> or 7.900000095367431640625.  The product 268435455 *  7.900000095367431640625 is about 2,120,640,120.0999999046....  Truncated that is  2120640120, the reported and correct answer.  Your expectation is incorrect as <code>7.9F</code> is not 7.9.  Instead, try <code>b</code> with a fractional <i>exact</i> part representable as a <code>float</code> like 0.5, 0.0625, 0.75, 0.125, 0.900000095367431640625 ..."},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633453307,"post_id":69440000,"comment_id":122762006,"body_markdown":"@TầnQuảng Recall each `float` is some limited integer divided by a power-of-2.  7.9 is not such a number.  7.900000095367431640625 is: 16,567,501/(pow(2,21).","body":"@TầnQuảng Recall each <code>float</code> is some limited integer divided by a power-of-2.  7.9 is not such a number.  7.900000095367431640625 is: 16,567,501/(pow(2,21)."},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633460933,"post_id":69440000,"comment_id":122764670,"body_markdown":"@chux-reinstate-monica I thought for a bit, can actually change `b` to `double` if an exact result is needed, at least its performance and speed will be more stable than using `Math.round` right?","body":"@chux-reinstate-monica I thought for a bit, can actually change <code>b</code> to <code>double</code> if an exact result is needed, at least its performance and speed will be more stable than using <code>Math.round</code> right?"},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633461384,"post_id":69440000,"comment_id":122764817,"body_markdown":"@TầnQuảng &quot; change b to double if an exact result is needed&quot; --&gt; No.  The problem still exist yet rather than 9 decimal places out, more like 17.  Edge cases with the `int` truncation will still plague code.   If `mulInt()` is to provide a _rounded to the nearest `int`_ rather than a truncated fraction, then yes, use `double c = Math.round((double) a * b);` .  That step does simplify the following range test a bit.  `if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c &gt;= INT_MIN) {`","body":"@TầnQuảng &quot; change b to double if an exact result is needed&quot; --&gt; No.  The problem still exist yet rather than 9 decimal places out, more like 17.  Edge cases with the <code>int</code> truncation will still plague code.   If <code>mulInt()</code> is to provide a <i>rounded to the nearest <code>int</code></i> rather than a truncated fraction, then yes, use <code>double c = Math.round((double) a * b);</code> .  That step does simplify the following range test a bit.  <code>if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c &gt;= INT_MIN) {</code>"},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633461697,"post_id":69440000,"comment_id":122764932,"body_markdown":"@TầnQuảng &quot;....  its performance and speed will be more ....&quot; --&gt; Get functionality correct _first_, then worry about speed.","body":"@TầnQuảng &quot;....  its performance and speed will be more ....&quot; --&gt; Get functionality correct <i>first</i>, then worry about speed."},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633464158,"post_id":69440000,"comment_id":122765705,"body_markdown":"@chux-reinstate-monica I mean use `Math.round` for `c` in `return` and not in calculation. I asked the same question on the coderanch, they said that &quot;multiplying `Integer.MAX_VALUE` by `Float.MAX_VALUE` also cannot overflow the maximum value of double&quot; (although I have tried multiplying and the result is: Infinity). I use `int` for `a` because most cases of `a` are `int` (I very rarely use `long` in my code), and `b` is usually modules, data types is usually float, there are only a few cases where `b` is `int`.","body":"@chux-reinstate-monica I mean use <code>Math.round</code> for <code>c</code> in <code>return</code> and not in calculation. I asked the same question on the coderanch, they said that &quot;multiplying <code>Integer.MAX_VALUE</code> by <code>Float.MAX_VALUE</code> also cannot overflow the maximum value of double&quot; (although I have tried multiplying and the result is: Infinity). I use <code>int</code> for <code>a</code> because most cases of <code>a</code> are <code>int</code> (I very rarely use <code>long</code> in my code), and <code>b</code> is usually modules, data types is usually float, there are only a few cases where <code>b</code> is <code>int</code>."},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633465493,"post_id":69440000,"comment_id":122766099,"body_markdown":"@TầnQuảng &lt; &quot;multiplying Integer.MAX_VALUE by Float.MAX_VALUE also cannot overflow the maximum value of double&quot; (although I have tried multiplying and the result is: Infinity).&gt; --&gt; because you did `a * b` and not `(double) a * b`.  Do you see now why one can overflow and the other does not?","body":"@TầnQuảng &lt; &quot;multiplying Integer.MAX_VALUE by Float.MAX_VALUE also cannot overflow the maximum value of double&quot; (although I have tried multiplying and the result is: Infinity).&gt; --&gt; because you did <code>a * b</code> and not <code>(double) a * b</code>.  Do you see now why one can overflow and the other does not?"},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633465558,"post_id":69440000,"comment_id":122766116,"body_markdown":"@TầnQuảng I recommend to use `Math.round()` as in `double c = Math.round((double) a * b);`.  With `double c = (double) a * b;` and `c` had the value 0.999, would you the function to to return 1 or 0?","body":"@TầnQuảng I recommend to use <code>Math.round()</code> as in <code>double c = Math.round((double) a * b);</code>.  With <code>double c = (double) a * b;</code> and <code>c</code> had the value 0.999, would you the function to to return 1 or 0?"},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633474489,"post_id":69440000,"comment_id":122768320,"body_markdown":"@chux-reinstate-monica I don&#39;t care about the decimal part of `c` when returning because the error is not too big (&lt;= 0.9999...). But I wonder one thing: If I write `mulInt(int a, double b)` but then cast `a` to `double`: `double c = (double)a * b` then why not write directly to `mulInt(double a, double b)`? Is it any different?","body":"@chux-reinstate-monica I don&#39;t care about the decimal part of <code>c</code> when returning because the error is not too big (&lt;= 0.9999...). But I wonder one thing: If I write <code>mulInt(int a, double b)</code> but then cast <code>a</code> to <code>double</code>: <code>double c = (double)a * b</code> then why not write directly to <code>mulInt(double a, double b)</code>? Is it any different?"},{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1633477832,"post_id":69440000,"comment_id":122768888,"body_markdown":"@TầnQuảng I&#39;ve directly answered many of your questions, yet ones like &quot;value 0.999, would you the function to to return 1 or 0?&quot; go indirectly answered with &quot;I don&#39;t care ... because the error is not too big&quot;.  Is an error of 1.0 OK, 1.0001, 2.0 ... (Seems error of 26) is too much.  What is the error threshold?  That limit affects parameter type selection.  You could do your multiplication before the function call and then call something like `int FP_to_int_with_minmax_limit(double x);`, IMO, a better approach than combining  a approximate multiplication and conversion.","body":"@TầnQuảng I&#39;ve directly answered many of your questions, yet ones like &quot;value 0.999, would you the function to to return 1 or 0?&quot; go indirectly answered with &quot;I don&#39;t care ... because the error is not too big&quot;.  Is an error of 1.0 OK, 1.0001, 2.0 ... (Seems error of 26) is too much.  What is the error threshold?  That limit affects parameter type selection.  You could do your multiplication before the function call and then call something like <code>int FP_to_int_with_minmax_limit(double x);</code>, IMO, a better approach than combining  a approximate multiplication and conversion."},{"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"score":0,"creation_date":1633493011,"post_id":69440000,"comment_id":122771110,"body_markdown":"@chux-reinstate-monica Sorry for not answering your question directly. What I mean is that the error of `c` when cast from `double` to `int` is insignificant to me (because the error is always less than 1 and `c` is the return result, not the actual output perform any further calculations). So now I need something that optimizes the speed and precision of math at `c`, that&#39;s why I asked if you should I use `Math.round` if I want to improve speed and math precision?!","body":"@chux-reinstate-monica Sorry for not answering your question directly. What I mean is that the error of <code>c</code> when cast from <code>double</code> to <code>int</code> is insignificant to me (because the error is always less than 1 and <code>c</code> is the return result, not the actual output perform any further calculations). So now I need something that optimizes the speed and precision of math at <code>c</code>, that&#39;s why I asked if you should I use <code>Math.round</code> if I want to improve speed and math precision?!"}],"tags":[],"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670424773,"creation_date":1633367918,"answer_id":69440000,"question_id":69426960,"body_markdown":"Below is a C approach that may shed light in Java.\r\n\r\nPerform the multiplication using `double`, not `float` math _before_ the assginment to gain the extra precision/range of `double`.  Overflow is not then expected.\r\n\r\nA compare like `c &gt; Integer.MAX_VALUE` suffers from `Integer.MAX_VALUE` first being converted into a `double`.  This may lose precision.&lt;sup&gt;*1&lt;/sup&gt;  Consider what happens if the converted value is `Integer.MAX_VALUE + 1.0`.  Then if `c` is `Integer.MAX_VALUE + 1.0`, code will attempt to return `(int) (Integer.MAX_VALUE + 1.0)` - not good.  Better to use well formed limits.  (Negative ones too.)  In C, maybe Java, floating point conversion to `int`  truncates the fraction.  Special care is needed near the edges.\r\n\r\n    #define INT_MAX_PLUS1_AS_DOUBLE ((INT_MAX/2 + 1)*2.0)\r\n\r\n    int mulInt(int a, float b) {\r\n      // double c = a * b;\r\n      double c = (double) a * b;\r\n      \r\n      //return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\r\n      if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c - INT_MIN &gt; -1.0) {\r\n        return (int) c;\r\n      } \r\n      if (c &gt; 0) return INT_MAX;\r\n      if (c &lt; 0) return INT_MIN;\r\n      return 0; // `b` was a NaN\r\n    }\r\n\r\n`c - INT_MIN &gt; -1` is like `c &gt; INT_MIN - 1`, but as `INT_MIN` is a -power-of-2, `INT_MIN - 1` might not convert precisely to `double`. `c - INT_MIN` is expected to be exact near the edge cases.\r\n\r\n---\r\n\r\n\r\n&lt;sup&gt;*1&lt;/sup&gt;  When `int` is 32-bit (or less) and `double` is 64-bit (with 53-bit significand) not an issue.  But important with wider integer types.\r\n","title":"How to detect and prevent integer overflow when multiplying an integer by float in Java?","body":"<p>Below is a C approach that may shed light in Java.</p>\n<p>Perform the multiplication using <code>double</code>, not <code>float</code> math <em>before</em> the assginment to gain the extra precision/range of <code>double</code>.  Overflow is not then expected.</p>\n<p>A compare like <code>c &gt; Integer.MAX_VALUE</code> suffers from <code>Integer.MAX_VALUE</code> first being converted into a <code>double</code>.  This may lose precision.<sup>*1</sup>  Consider what happens if the converted value is <code>Integer.MAX_VALUE + 1.0</code>.  Then if <code>c</code> is <code>Integer.MAX_VALUE + 1.0</code>, code will attempt to return <code>(int) (Integer.MAX_VALUE + 1.0)</code> - not good.  Better to use well formed limits.  (Negative ones too.)  In C, maybe Java, floating point conversion to <code>int</code>  truncates the fraction.  Special care is needed near the edges.</p>\n<pre><code>#define INT_MAX_PLUS1_AS_DOUBLE ((INT_MAX/2 + 1)*2.0)\n\nint mulInt(int a, float b) {\n  // double c = a * b;\n  double c = (double) a * b;\n  \n  //return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\n  if (c &lt; INT_MAX_PLUS1_AS_DOUBLE &amp;&amp; c - INT_MIN &gt; -1.0) {\n    return (int) c;\n  } \n  if (c &gt; 0) return INT_MAX;\n  if (c &lt; 0) return INT_MIN;\n  return 0; // `b` was a NaN\n}\n</code></pre>\n<p><code>c - INT_MIN &gt; -1</code> is like <code>c &gt; INT_MIN - 1</code>, but as <code>INT_MIN</code> is a -power-of-2, <code>INT_MIN - 1</code> might not convert precisely to <code>double</code>. <code>c - INT_MIN</code> is expected to be exact near the edge cases.</p>\n<hr />\n<p><sup>*1</sup>  When <code>int</code> is 32-bit (or less) and <code>double</code> is 64-bit (with 53-bit significand) not an issue.  But important with wider integer types.</p>\n"}],"owner":{"account_id":9008667,"reputation":117,"user_id":14467251,"display_name":"Tần Quảng"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69440000,"answer_count":1,"score":1,"last_activity_date":1670424773,"creation_date":1633279808,"question_id":69426960,"body_markdown":"I have read this article [NUM00-J. Detect or prevent integer overflow][1] and this question https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo/.\r\n\r\nAs you can see, there are many solutions to prevent integer overflow when multiplying an integer by an integer.\r\nBut I wonder is there any solution to prevent integer overflow when multiplying an integer by float?\r\n\r\nMy current (silly) solution:\r\n\r\n    public static final int mulInt(int a, float b) {\r\n    \tdouble c = a * b;\r\n    \treturn c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\r\n    }\r\nBut it has a lot of problems:\r\n\r\n 1. It can get the expected result when multiplying performs\r\n    multiplication with both parameters having to be small numbers.\r\n 2. When either parameter is large digits the result is bound to be\r\n    incorrect (I know in part because of the floating-point data type).\r\n 3. Suppose if the result of the calculation is even greater than the\r\n    maximum value of double, it will be unstoppable and return a\r\n    negative number.\r\n\r\nSo, what is the real solution to this problem?\r\n\r\nYour answer will be very helpful, I will appreciate it!\r\n\r\nUPDATE: There is another question here https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow that is quite similar BUT it is about multiplying an integer by an integer instead of multiplying by a float.\r\n\r\n  [1]: https://wiki.sei.cmu.edu/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow","title":"How to detect and prevent integer overflow when multiplying an integer by float in Java?","body":"<p>I have read this article <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow\" rel=\"nofollow noreferrer\">NUM00-J. Detect or prevent integer overflow</a> and this question <a href=\"https://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo/\">How does Java handle integer underflows and overflows and how would you check for it?</a>.</p>\n<p>As you can see, there are many solutions to prevent integer overflow when multiplying an integer by an integer.\nBut I wonder is there any solution to prevent integer overflow when multiplying an integer by float?</p>\n<p>My current (silly) solution:</p>\n<pre><code>public static final int mulInt(int a, float b) {\n    double c = a * b;\n    return c &gt; Integer.MAX_VALUE ? Integer.MAX_VALUE : (int)c;\n}\n</code></pre>\n<p>But it has a lot of problems:</p>\n<ol>\n<li>It can get the expected result when multiplying performs\nmultiplication with both parameters having to be small numbers.</li>\n<li>When either parameter is large digits the result is bound to be\nincorrect (I know in part because of the floating-point data type).</li>\n<li>Suppose if the result of the calculation is even greater than the\nmaximum value of double, it will be unstoppable and return a\nnegative number.</li>\n</ol>\n<p>So, what is the real solution to this problem?</p>\n<p>Your answer will be very helpful, I will appreciate it!</p>\n<p>UPDATE: There is another question here <a href=\"https://stackoverflow.com/questions/1657834/how-can-i-check-if-multiplying-two-numbers-in-java-will-cause-an-overflow\">How can I check if multiplying two numbers in Java will cause an overflow?</a> that is quite similar BUT it is about multiplying an integer by an integer instead of multiplying by a float.</p>\n"},{"tags":["java","sql","json","postgresql","pg"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1670417072,"post_id":74716865,"comment_id":131871090,"body_markdown":"Please show the code that you tried to use.  Most folks here will not simply do the whole thing for you.","body":"Please show the code that you tried to use.  Most folks here will not simply do the whole thing for you."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670417129,"post_id":74716865,"comment_id":131871112,"body_markdown":"Is there a specif reason you are looking at the JSON function from the outdated and unsupported 9.5 version?","body":"Is there a specif reason you are looking at the JSON function from the outdated and unsupported 9.5 version?"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417178,"post_id":74716865,"comment_id":131871123,"body_markdown":"Unfortunately I can&#39;t show the code with current object I work with. Objects above just for example, but, I can show the query I tried to use.","body":"Unfortunately I can&#39;t show the code with current object I work with. Objects above just for example, but, I can show the query I tried to use."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670417203,"post_id":74716865,"comment_id":131871134,"body_markdown":"It is unclear to me how this data is stored in your table. Is the JSON from your question in a single row (one column)? Or is that spread over multiple rows? What exactly is the result you are after? The rows where the JSON column contains such an attribute? Or a subset of the JSON for each row with only that attribute?","body":"It is unclear to me how this data is stored in your table. Is the JSON from your question in a single row (one column)? Or is that spread over multiple rows? What exactly is the result you are after? The rows where the JSON column contains such an attribute? Or a subset of the JSON for each row with only that attribute?"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417279,"post_id":74716865,"comment_id":131871162,"body_markdown":"Select * from test_table ts , json_array_elements(ts.attributes::json) as attributes_obj where attributes_obj -&gt;&gt; &#39;attribute_name&#39; = &#39;Some_name&#39;","body":"Select * from test_table ts , json_array_elements(ts.attributes::json) as attributes_obj where attributes_obj -&gt;&gt; &#39;attribute_name&#39; = &#39;Some_name&#39;"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1670417424,"post_id":74716865,"comment_id":131871220,"body_markdown":"All of 1st lvl fields like just name has an own column, attributes - separate column with JSONB type and array saved there like [{attribute_1},{...}] in the cell","body":"All of 1st lvl fields like just name has an own column, attributes - separate column with JSONB type and array saved there like [{attribute_1},{...}] in the cell"}],"answers":[{"comments":[{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":0,"creation_date":1670424541,"post_id":74717955,"comment_id":131873783,"body_markdown":"Oops, 1 `select` too many. Shortened.","body":"Oops, 1 <code>select</code> too many. Shortened."},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1671117523,"post_id":74717955,"comment_id":132033332,"body_markdown":"Hello! I tried to use this approach and for objects like","body":"Hello! I tried to use this approach and for objects like"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1671117558,"post_id":74717955,"comment_id":132033344,"body_markdown":"[\n\t{\n\t\t&quot;name&quot;: &quot;Test_3&quot;,\n\t\t&quot;attributes&quot;: [\n\t\t\t{\n\t\t\t\t&quot;validated&quot;: true,\n\t\t\t\t&quot;test_field&quot;: {\n\t\t\t\t\t&quot;array_field&quot;: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t&quot;end&quot;: &quot;finish&quot;\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n]","body":"[ \t{ \t\t&quot;name&quot;: &quot;Test_3&quot;, \t\t&quot;attributes&quot;: [ \t\t\t{ \t\t\t\t&quot;validated&quot;: true, \t\t\t\t&quot;test_field&quot;: { \t\t\t\t\t&quot;array_field&quot;: [ \t\t\t\t\t\t{ \t\t\t\t\t\t\t&quot;end&quot;: &quot;finish&quot; \t\t\t\t\t\t} \t\t\t\t\t] \t\t\t\t} \t\t\t} \t\t] \t} ]"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1671117637,"post_id":74717955,"comment_id":132033381,"body_markdown":"Dont you know there is the way to use same behavior but for that objects that even dont have &#39;test_field&#39; field. I mean, I want to get only those objects who has this field","body":"Dont you know there is the way to use same behavior but for that objects that even dont have &#39;test_field&#39; field. I mean, I want to get only those objects who has this field"},{"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"score":0,"creation_date":1671117750,"post_id":74717955,"comment_id":132033426,"body_markdown":"For ex, I use this query: select * from test_table ts  where \n(\n select not exists (\n    select * from jsonb_array_elements(ts.attributes::jsonb) j , jsonb_array_elements(j -&gt; &#39;test_field&#39; -&gt; &#39;array_field&#39;) res\n    where coalesce(res -&gt;&gt; &#39;end&#39;, &#39;&#39;) != &#39;finish&#39;) \n);  But I&#39;ve got those objects that doesn&#39;t has &#39;test_field&#39; field at all","body":"For ex, I use this query: select * from test_table ts  where  (  select not exists (     select * from jsonb_array_elements(ts.attributes::jsonb) j , jsonb_array_elements(j -&gt; &#39;test_field&#39; -&gt; &#39;array_field&#39;) res     where coalesce(res -&gt;&gt; &#39;end&#39;, &#39;&#39;) != &#39;finish&#39;)  );  But I&#39;ve got those objects that doesn&#39;t has &#39;test_field&#39; field at all"}],"tags":[],"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670424514,"creation_date":1670422140,"answer_id":74717955,"question_id":74716865,"body_markdown":"Assuming that these are JSONB fields from 2 records of your table as illustrated in the `the_table` CTE, then select these records for which does not exist an `attributes` array element whose `attribute_name` value is not equal to &#39;Some_name&#39;. `coalesce` is there for missing `attribute_name` elements.\r\n```sql\r\nwith the_table(name, attributes, phonenumber) as \r\n(\r\n values\r\n (&#39;Test_1&#39;, &#39;[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name_2&quot;}]&#39;::jsonb, &#39;N&#39;),\r\n (&#39;Test_2&#39;, &#39;[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name&quot;, &quot;attribute_phoneNumber&quot;: &quot;N1&quot;}]&#39;, &#39;N2&#39;)\r\n) -- sample data table\r\n\r\nselect * from the_table where not exists \r\n(\r\n select from jsonb_array_elements(attributes) j \r\n where coalesce(j-&gt;&gt;&#39;attribute_name&#39;, &#39;&#39;) &lt;&gt; &#39;Some_name&#39;\r\n);","title":"Is there a way to find all objects in an array whose fields all objects have the same value postgresql","body":"<p>Assuming that these are JSONB fields from 2 records of your table as illustrated in the <code>the_table</code> CTE, then select these records for which does not exist an <code>attributes</code> array element whose <code>attribute_name</code> value is not equal to 'Some_name'. <code>coalesce</code> is there for missing <code>attribute_name</code> elements.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>with the_table(name, attributes, phonenumber) as \n(\n values\n ('Test_1', '[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name_2&quot;}]'::jsonb, 'N'),\n ('Test_2', '[{&quot;attribute_name&quot; : &quot;Some_name&quot;}, {&quot;attribute_name&quot; : &quot;Some_name&quot;, &quot;attribute_phoneNumber&quot;: &quot;N1&quot;}]', 'N2')\n) -- sample data table\n\nselect * from the_table where not exists \n(\n select from jsonb_array_elements(attributes) j \n where coalesce(j-&gt;&gt;'attribute_name', '') &lt;&gt; 'Some_name'\n);\n</code></pre>\n"}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74717955,"answer_count":1,"score":0,"last_activity_date":1670424514,"creation_date":1670416820,"question_id":74716865,"body_markdown":"Let&#39;s see a few objects\r\n\r\n    {\r\n\t&quot;name: &quot;Test_1&quot;,\r\n\t&quot;attributes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name_2&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;phoneNumber&quot; : &quot;N&quot;\r\n    },\r\n\r\n    {\r\n\t&quot;name: &quot;Test_2&quot;,\r\n\t&quot;attributes&quot;: [\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;attribute_name&quot; : &quot;Some_name&quot;,\r\n\t\t\t&quot;attribute_phoneNumber&quot;: &quot;N1&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;phoneNumber&quot; : &quot;N2&quot;\r\n    }\r\n\r\nSo, I wanna get objects whose attributes array elements (all of them) have attribute_name  &quot;Some_name&quot;\r\n\r\nattributes.attribute_name = Some_name\r\n\r\nand as result I wanna get object with Test_2 name because all of attributes elements have this name.\r\n\r\n\r\nThis array &#39;attributes&#39; saved as jsob in PG, so I tried to use some functions like json_array_elements(...) but it didn&#39;t helped \r\nhttps://www.postgresql.org/docs/9.5/functions-json.html","title":"Is there a way to find all objects in an array whose fields all objects have the same value postgresql","body":"<p>Let's see a few objects</p>\n<pre><code>{\n&quot;name: &quot;Test_1&quot;,\n&quot;attributes&quot;: [\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;\n    },\n    {\n        &quot;attribute_name&quot; : &quot;Some_name_2&quot;\n    }\n],\n&quot;phoneNumber&quot; : &quot;N&quot;\n},\n\n{\n&quot;name: &quot;Test_2&quot;,\n&quot;attributes&quot;: [\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;\n    },\n    {\n        &quot;attribute_name&quot; : &quot;Some_name&quot;,\n        &quot;attribute_phoneNumber&quot;: &quot;N1&quot;\n    }\n],\n&quot;phoneNumber&quot; : &quot;N2&quot;\n}\n</code></pre>\n<p>So, I wanna get objects whose attributes array elements (all of them) have attribute_name  &quot;Some_name&quot;</p>\n<p>attributes.attribute_name = Some_name</p>\n<p>and as result I wanna get object with Test_2 name because all of attributes elements have this name.</p>\n<p>This array 'attributes' saved as jsob in PG, so I tried to use some functions like json_array_elements(...) but it didn't helped\n<a href=\"https://www.postgresql.org/docs/9.5/functions-json.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.5/functions-json.html</a></p>\n"},{"tags":["java","gradle","intellij-idea","java-module","plexus"],"comments":[{"owner":{"account_id":3790884,"reputation":13,"user_id":6003537,"display_name":"Nigel Jones"},"score":0,"creation_date":1670428528,"post_id":74718286,"comment_id":131875368,"body_markdown":"Having read more, I see at https://docs.gradle.org/6.4/userguide/java_library_plugin.html#sec:java_library_modular it states\n\nA third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.\n\nWhile a real module cannot directly depend on the unnamed module (only by adding command line flags), automatic modules can also see the unnamed module.","body":"Having read more, I see at <a href=\"https://docs.gradle.org/6.4/userguide/java_library_plugin.html#sec:java_library_modular\" rel=\"nofollow noreferrer\">docs.gradle.org/6.4/userguide/&hellip;</a> it states  A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.  While a real module cannot directly depend on the unnamed module (only by adding command line flags), automatic modules can also see the unnamed module."}],"owner":{"account_id":3790884,"reputation":13,"user_id":6003537,"display_name":"Nigel Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670424316,"creation_date":1670423595,"question_id":74718286,"body_markdown":"I have a large multi module (100s) Java project and have been experimenting with adopting java module support. This is using Java 17 (temurin), gradle 7.6, and IntelliJ 2022.3. \r\n\r\nI have hit a couple of stubborn errors with java modules where the module cannot be found.\r\n\r\nI have one project which has some java code that uses plexus ie:\r\n\r\n```\r\nimport org.codehaus.plexus.util.Base64;\r\n\r\n...\r\nbyte[] encodedAuthorizationString = Base64.encodeBase64(authorizationString.getBytes(StandardCharsets.US_ASCII));\r\n\r\n```\r\nIt has a gradle dependency\r\n\r\n```\r\nimplementation &#39;org.codehaus.plexus:plexus-utils&#39;\r\n\r\n```\r\n\r\nThis has a version constraint in our main build.gradle (just salient lines included):\r\n\r\n```\r\nplexusVersion = &#39;3.5.0&#39;\r\nimplementation(&quot;org.codehaus.plexus:plexus-utils:${plexusVersion}&quot;)\r\n\r\n```\r\n\r\nPrior to adding module support this is working fine.\r\n\r\nNow, with a module-info.java:\r\n\r\n```\r\nmodule egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.spring.rest.client.connector.main {\r\n    requires egeria.open.metadata.implementation.adapters.authentication.plugins.http.helper.main;\r\n    requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.connectors.api.main;\r\n    //requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.factory.main;\r\n    requires egeria.open.metadata.implementation.frameworks.open.connector.framework.main;\r\n    requires plexus.utils;\r\n    requires org.slf4j;\r\n    requires spring.core;\r\n    requires spring.web;\r\n\r\n    exports org.odpi.openmetadata.adapters.connectors.restclients.spring;\r\n}\r\n\r\n```\r\n\r\nI am getting a compile error\r\n\r\n```\r\nTask &#39;:open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava&#39; is not up-to-date because:\r\n  Task has failed previously.\r\nThe input changes require a full rebuild for incremental task &#39;:open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava&#39;.\r\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\r\nCompiling with toolchain &#39;/Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home&#39;.\r\nCompiling with JDK Java compiler API.\r\n/Users/jonesn/IdeaProjects/egeria/v4/open-metadata-implementation/adapters/open-connectors/rest-client-connectors/spring-rest-client-connector/src/main/java/module-info.java:6: error: module not found: plexus.utils\r\n    requires plexus.utils;\r\n                   ^\r\n1 error\r\n\r\n```\r\n\r\nThis is despite the fact, that having downloaded the jar file, the automatic module name looks to be what I am using ie:\r\n```\r\njar --file=/Users/jonesn/Downloads/plexus-utils-3.5.0.jar --describe-module\r\nNo module descriptor found. Derived automatic module.\r\n\r\nplexus.utils@3.5.0 automatic\r\nrequires java.base mandated\r\ncontains org.codehaus.plexus.util\r\ncontains org.codehaus.plexus.util.cli\r\ncontains org.codehaus.plexus.util.cli.shell\r\ncontains org.codehaus.plexus.util.dag\r\ncontains org.codehaus.plexus.util.introspection\r\ncontains org.codehaus.plexus.util.io\r\ncontains org.codehaus.plexus.util.reflection\r\ncontains org.codehaus.plexus.util.xml\r\ncontains org.codehaus.plexus.util.xml.pull\r\n```\r\n\r\nI am seeing the same error with kafka-clients\r\n\r\nFor most other code, including those libraries without full module support, all is good....\r\n\r\n* tried various compilers, such as openjdk 17 &amp; temurin 19\r\n* built at cli &amp; within IntelliJ\r\n\r\nI was expecting this module to resolve ok\r\n\r\nI have also reviewed https://stackoverflow.com/questions/50353001/java-9-automatic-modules-not-found but note that other automatic modules (including org.slf4j) are working just fine\r\n\r\nI should add that I could refactor this code to use java.util.Base64 (probably makes sense)... but I&#39;m still confused as to why the module error, which I also see in another project with &#39;kafka.clients&#39;","title":"Not finding automatic modules when compiling Java Application","body":"<p>I have a large multi module (100s) Java project and have been experimenting with adopting java module support. This is using Java 17 (temurin), gradle 7.6, and IntelliJ 2022.3.</p>\n<p>I have hit a couple of stubborn errors with java modules where the module cannot be found.</p>\n<p>I have one project which has some java code that uses plexus ie:</p>\n<pre><code>import org.codehaus.plexus.util.Base64;\n\n...\nbyte[] encodedAuthorizationString = Base64.encodeBase64(authorizationString.getBytes(StandardCharsets.US_ASCII));\n\n</code></pre>\n<p>It has a gradle dependency</p>\n<pre><code>implementation 'org.codehaus.plexus:plexus-utils'\n\n</code></pre>\n<p>This has a version constraint in our main build.gradle (just salient lines included):</p>\n<pre><code>plexusVersion = '3.5.0'\nimplementation(&quot;org.codehaus.plexus:plexus-utils:${plexusVersion}&quot;)\n\n</code></pre>\n<p>Prior to adding module support this is working fine.</p>\n<p>Now, with a module-info.java:</p>\n<pre><code>module egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.spring.rest.client.connector.main {\n    requires egeria.open.metadata.implementation.adapters.authentication.plugins.http.helper.main;\n    requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.connectors.api.main;\n    //requires egeria.open.metadata.implementation.adapters.open.connectors.rest.client.connectors.rest.client.factory.main;\n    requires egeria.open.metadata.implementation.frameworks.open.connector.framework.main;\n    requires plexus.utils;\n    requires org.slf4j;\n    requires spring.core;\n    requires spring.web;\n\n    exports org.odpi.openmetadata.adapters.connectors.restclients.spring;\n}\n\n</code></pre>\n<p>I am getting a compile error</p>\n<pre><code>Task ':open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava' is not up-to-date because:\n  Task has failed previously.\nThe input changes require a full rebuild for incremental task ':open-metadata-implementation:adapters:open-connectors:rest-client-connectors:spring-rest-client-connector:compileJava'.\nFull recompilation is required because no incremental change information is available. This is usually caused by clean builds or changing compiler arguments.\nCompiling with toolchain '/Library/Java/JavaVirtualMachines/temurin-19.jdk/Contents/Home'.\nCompiling with JDK Java compiler API.\n/Users/jonesn/IdeaProjects/egeria/v4/open-metadata-implementation/adapters/open-connectors/rest-client-connectors/spring-rest-client-connector/src/main/java/module-info.java:6: error: module not found: plexus.utils\n    requires plexus.utils;\n                   ^\n1 error\n\n</code></pre>\n<p>This is despite the fact, that having downloaded the jar file, the automatic module name looks to be what I am using ie:</p>\n<pre><code>jar --file=/Users/jonesn/Downloads/plexus-utils-3.5.0.jar --describe-module\nNo module descriptor found. Derived automatic module.\n\nplexus.utils@3.5.0 automatic\nrequires java.base mandated\ncontains org.codehaus.plexus.util\ncontains org.codehaus.plexus.util.cli\ncontains org.codehaus.plexus.util.cli.shell\ncontains org.codehaus.plexus.util.dag\ncontains org.codehaus.plexus.util.introspection\ncontains org.codehaus.plexus.util.io\ncontains org.codehaus.plexus.util.reflection\ncontains org.codehaus.plexus.util.xml\ncontains org.codehaus.plexus.util.xml.pull\n</code></pre>\n<p>I am seeing the same error with kafka-clients</p>\n<p>For most other code, including those libraries without full module support, all is good....</p>\n<ul>\n<li>tried various compilers, such as openjdk 17 &amp; temurin 19</li>\n<li>built at cli &amp; within IntelliJ</li>\n</ul>\n<p>I was expecting this module to resolve ok</p>\n<p>I have also reviewed <a href=\"https://stackoverflow.com/questions/50353001/java-9-automatic-modules-not-found\">Java 9 automatic modules not found</a> but note that other automatic modules (including org.slf4j) are working just fine</p>\n<p>I should add that I could refactor this code to use java.util.Base64 (probably makes sense)... but I'm still confused as to why the module error, which I also see in another project with 'kafka.clients'</p>\n"},{"tags":["java","regex","file","match","wildcard"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670423434,"post_id":74717778,"comment_id":131873337,"body_markdown":"Glob != regex pattern. Obviously a regex is much more powerful though. What *is* the pattern?","body":"Glob != regex pattern. Obviously a regex is much more powerful though. What <i>is</i> the pattern?"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670425526,"post_id":74717778,"comment_id":131874178,"body_markdown":"I need to find any file with specific pattern given by user. In my specific example the file starts  with the word Prefix. So I&#39;m finding each file that start with it. I want a generic way to use it, that the pattern will be dynamic, because maybe sometimes the pattern is at the end of file? or in the middle?","body":"I need to find any file with specific pattern given by user. In my specific example the file starts  with the word Prefix. So I&#39;m finding each file that start with it. I want a generic way to use it, that the pattern will be dynamic, because maybe sometimes the pattern is at the end of file? or in the middle?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670426044,"post_id":74717778,"comment_id":131874350,"body_markdown":"Unless your users are very &#39;techie&#39; they are less likely to get it wrong with a glob than a regex. Of course, you could parameterize the type of search too, with the default being glob but regex an &#39;advanced&#39; option","body":"Unless your users are very &#39;techie&#39; they are less likely to get it wrong with a glob than a regex. Of course, you could parameterize the type of search too, with the default being glob but regex an &#39;advanced&#39; option"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670426420,"post_id":74717778,"comment_id":131874497,"body_markdown":"How can I use pattern using glob? All I see are examples that find file extensions or by a pattern of specific directories, but not on the filename alone.","body":"How can I use pattern using glob? All I see are examples that find file extensions or by a pattern of specific directories, but not on the filename alone."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1670426533,"post_id":74717778,"comment_id":131874537,"body_markdown":"Try `glob:Prefix*`","body":"Try <code>glob:Prefix*</code>"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670427363,"post_id":74717778,"comment_id":131874909,"body_markdown":"Thank you very much, that helped, replaced the regex with glob and added *","body":"Thank you very much, that helped, replaced the regex with glob and added *"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670424135,"post_id":74718370,"comment_id":131873610,"body_markdown":"*It matches only files named &quot;Pattern&quot;.* Actually, no. It matches only paths called *exactly* &quot;Prefix&quot;. Your suggested pattern is correct though","body":"<i>It matches only files named &quot;Pattern&quot;.</i> Actually, no. It matches only paths called <i>exactly</i> &quot;Prefix&quot;. Your suggested pattern is correct though"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1670425950,"post_id":74718370,"comment_id":131874315,"body_markdown":"Just a thought as a more generic way, what if the pattern given by user is to search for files that ends with the pattern, or the file contains the pattern?","body":"Just a thought as a more generic way, what if the pattern given by user is to search for files that ends with the pattern, or the file contains the pattern?"}],"tags":[],"owner":{"account_id":23004366,"reputation":31,"user_id":17127895,"display_name":"atifovac"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670424244,"creation_date":1670423920,"answer_id":74718370,"question_id":74717778,"body_markdown":"It seems like the pattern is wrong. It matches only files named &quot;Prefix&quot;. Try to change it in `String pattern = &quot;Prefix.*&quot;;`.\r\n\r\nOtherwise you can scan for files which name starts by the string &quot;Prefix&quot;.\r\n\r\n    String name = file.getFileName().toString();\r\n    if (name.startsWith(pattern)) {\r\n        matchesList.add(name);\r\n    }","title":"Can&#39;t get list of files using PathMatcher and regex","body":"<p>It seems like the pattern is wrong. It matches only files named &quot;Prefix&quot;. Try to change it in <code>String pattern = &quot;Prefix.*&quot;;</code>.</p>\n<p>Otherwise you can scan for files which name starts by the string &quot;Prefix&quot;.</p>\n<pre><code>String name = file.getFileName().toString();\nif (name.startsWith(pattern)) {\n    matchesList.add(name);\n}\n</code></pre>\n"}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670424244,"creation_date":1670421195,"question_id":74717778,"body_markdown":"I&#39;m using PathMatcher and SimpleFileVisitor to iterate over directory and find all the files that start only with a certain prefix. However, I can&#39;t get any files although there are some files that match my preference. \r\n\r\nExample of file required:\r\n\r\n    Prefix_some_text.csv\r\n\r\nHere is the Main code that invokes the call for SimpleFileVisitor class, and it uses regex pattern with the prefix and suppose to find all files starting with the certain pattern:\r\n\r\n    String directoryAsString = &quot;C:/Users&quot;;\r\n    String pattern = &quot;Prefix&quot;;\r\n    SearchFileByWildcard sfbw = new SearchFileByWildcard();\r\n            try {\r\n                List&lt;String&gt; actual = sfbw.searchWithWc(Paths.get(directoryAsString),pattern);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nThe implementation of SearchFileByWildcard  class that uses SimpleFileVisitor :\r\n\r\n\r\n    static class SearchFileByWildcard {\r\n        List&lt;String&gt; matchesList = new ArrayList&lt;String&gt;();\r\n        List&lt;String&gt; searchWithWc(Path rootDir, String pattern) throws IOException {\r\n            matchesList.clear();\r\n            FileVisitor&lt;Path&gt; matcherVisitor = new SimpleFileVisitor&lt;Path&gt;() {\r\n                @Override\r\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attribs) throws IOException {\r\n                    FileSystem fs = FileSystems.getDefault();\r\n                    PathMatcher matcher = fs.getPathMatcher(&quot;regex:&quot; + pattern);\r\n                    Path name = file.getFileName(); //takes the filename from the full path\r\n                    if (matcher.matches(name)) {\r\n                        matchesList.add(name.toString());\r\n                    }\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n            };\r\n            Files.walkFileTree(rootDir, matcherVisitor);\r\n            return matchesList;\r\n        }\r\n    }\r\n\r\nI&#39;m debating whether to use glob instead of regex? Or maybe something with my regex is flawed.","title":"Can&#39;t get list of files using PathMatcher and regex","body":"<p>I'm using PathMatcher and SimpleFileVisitor to iterate over directory and find all the files that start only with a certain prefix. However, I can't get any files although there are some files that match my preference.</p>\n<p>Example of file required:</p>\n<pre><code>Prefix_some_text.csv\n</code></pre>\n<p>Here is the Main code that invokes the call for SimpleFileVisitor class, and it uses regex pattern with the prefix and suppose to find all files starting with the certain pattern:</p>\n<pre><code>String directoryAsString = &quot;C:/Users&quot;;\nString pattern = &quot;Prefix&quot;;\nSearchFileByWildcard sfbw = new SearchFileByWildcard();\n        try {\n            List&lt;String&gt; actual = sfbw.searchWithWc(Paths.get(directoryAsString),pattern);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>The implementation of SearchFileByWildcard  class that uses SimpleFileVisitor :</p>\n<pre><code>static class SearchFileByWildcard {\n    List&lt;String&gt; matchesList = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; searchWithWc(Path rootDir, String pattern) throws IOException {\n        matchesList.clear();\n        FileVisitor&lt;Path&gt; matcherVisitor = new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attribs) throws IOException {\n                FileSystem fs = FileSystems.getDefault();\n                PathMatcher matcher = fs.getPathMatcher(&quot;regex:&quot; + pattern);\n                Path name = file.getFileName(); //takes the filename from the full path\n                if (matcher.matches(name)) {\n                    matchesList.add(name.toString());\n                }\n                return FileVisitResult.CONTINUE;\n            }\n        };\n        Files.walkFileTree(rootDir, matcherVisitor);\n        return matchesList;\n    }\n}\n</code></pre>\n<p>I'm debating whether to use glob instead of regex? Or maybe something with my regex is flawed.</p>\n"},{"tags":["java","android","mpesa"],"answers":[{"tags":[],"owner":{"account_id":18173300,"reputation":338,"user_id":13222541,"display_name":"fbiego"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623134544,"creation_date":1623134544,"answer_id":67882609,"question_id":62124364,"body_markdown":"I had the same problem. I realized I was performing the STK push before the auth token was received. You can use a global variable to check before performing STK push\r\n\r\n    var isReady = false  // global variable\r\n    //Access token Method being called.\r\n    private fun getAccessToken() {\r\n        mApiClient!!.setGetAccessToken(true)\r\n        mApiClient!!.mpesaService()!!.getAccessToken().enqueue(object : Callback&lt;AccessToken&gt; {\r\n            override fun onResponse(call: Call&lt;AccessToken?&gt;, response: Response&lt;AccessToken&gt;) {\r\n                if (response.isSuccessful) {\r\n                    mApiClient!!.setAuthToken(response.body()?.accessToken)\r\n                    //Timber.e(&quot;Success: ${response.body()?.accessToken}&quot;)\r\n                    isReady = true //\r\n                }\r\n            }\r\n            override fun onFailure(call: Call&lt;AccessToken?&gt;, t: Throwable) {}\r\n        })\r\n    }","title":"Unable to integrate Mpesa Api into my android app","body":"<p>I had the same problem. I realized I was performing the STK push before the auth token was received. You can use a global variable to check before performing STK push</p>\n<pre><code>var isReady = false  // global variable\n//Access token Method being called.\nprivate fun getAccessToken() {\n    mApiClient!!.setGetAccessToken(true)\n    mApiClient!!.mpesaService()!!.getAccessToken().enqueue(object : Callback&lt;AccessToken&gt; {\n        override fun onResponse(call: Call&lt;AccessToken?&gt;, response: Response&lt;AccessToken&gt;) {\n            if (response.isSuccessful) {\n                mApiClient!!.setAuthToken(response.body()?.accessToken)\n                //Timber.e(&quot;Success: ${response.body()?.accessToken}&quot;)\n                isReady = true //\n            }\n        }\n        override fun onFailure(call: Call&lt;AccessToken?&gt;, t: Throwable) {}\n    })\n}\n</code></pre>\n"}],"owner":{"account_id":16231653,"reputation":43,"user_id":11720266,"display_name":"Harrison Kuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670424236,"creation_date":1590974123,"question_id":62124364,"body_markdown":"I am trying to integrate MPESA API into my android app using the procedures given by Daraja. On launching my application, the following error is displayed in my Logcat\r\n\r\n    D/OkHttp: {\r\n                        &quot;requestId&quot;: &quot;16583-1090909-1&quot;,\r\n                        &quot;errorCode&quot;: &quot;400.008.02&quot;,\r\nD/OkHttp:                     &quot;errorMessage&quot;: &quot;Invalid grant type passed&quot;\r\n                    }\r\n\r\n\r\nand after entering a Phone number and amount to be sent, the Sim Toolkit is not being brought to the front.\r\nThe following error is displayed in my Logcat\r\n\r\n    D/OkHttp: {\r\n                        &quot;requestId&quot;:&quot;29178-5342114-1&quot;,\r\nD/OkHttp:                &quot;errorCode&quot;: &quot;404.001.04&quot;,\r\n                        &quot;errorMessage&quot;: &quot;Invalid Authentication Header&quot;\r\n                    }\r\n\r\nThis was my expectation: On pressing the &quot;Pay&quot; button, I should be prompted to the sim toolkit requesting for my Mpesa pin to continue with the payment.\r\n\r\nI will appreciate any assistance that will be offered.","title":"Unable to integrate Mpesa Api into my android app","body":"<p>I am trying to integrate MPESA API into my android app using the procedures given by Daraja. On launching my application, the following error is displayed in my Logcat</p>\n\n<pre><code>D/OkHttp: {\n                    \"requestId\": \"16583-1090909-1\",\n                    \"errorCode\": \"400.008.02\",\n</code></pre>\n\n<p>D/OkHttp:                     \"errorMessage\": \"Invalid grant type passed\"\n                    }</p>\n\n<p>and after entering a Phone number and amount to be sent, the Sim Toolkit is not being brought to the front.\nThe following error is displayed in my Logcat</p>\n\n<pre><code>D/OkHttp: {\n                    \"requestId\":\"29178-5342114-1\",\n</code></pre>\n\n<p>D/OkHttp:                \"errorCode\": \"404.001.04\",\n                        \"errorMessage\": \"Invalid Authentication Header\"\n                    }</p>\n\n<p>This was my expectation: On pressing the \"Pay\" button, I should be prompted to the sim toolkit requesting for my Mpesa pin to continue with the payment.</p>\n\n<p>I will appreciate any assistance that will be offered.</p>\n"},{"tags":["java","eclipse","spring","debugging","gradle"],"comments":[{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1473857600,"post_id":39490624,"comment_id":66299399,"body_markdown":"Have you had a look at [Spring Logging](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html) yet? That would be the best way to do this.","body":"Have you had a look at <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">Spring Logging</a> yet? That would be the best way to do this."},{"owner":{"account_id":751685,"reputation":2847,"user_id":740641,"display_name":"Alpar"},"score":0,"creation_date":1473857637,"post_id":39490624,"comment_id":66299434,"body_markdown":"Cain you detail &#39;application doesn&#39;t start&quot; ? Is there an exception that you get ?","body":"Cain you detail &#39;application doesn&#39;t start&quot; ? Is there an exception that you get ?"},{"owner":{"account_id":6285476,"reputation":1340,"user_id":5008698,"accept_rate":29,"display_name":"rigby"},"score":0,"creation_date":1473858267,"post_id":39490624,"comment_id":66299896,"body_markdown":"@alpar the site doesn&#39;t show in the browser. i see This site can’t be reached message","body":"@alpar the site doesn&#39;t show in the browser. i see This site can’t be reached message"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1473861221,"post_id":39490624,"comment_id":66302022,"body_markdown":"If you&#39;re using Eclipse, why are you using Gradle to run the app? Eclipse is the IDE, not Gradle...","body":"If you&#39;re using Eclipse, why are you using Gradle to run the app? Eclipse is the IDE, not Gradle..."}],"answers":[{"comments":[{"owner":{"account_id":306676,"reputation":1301,"user_id":617552,"accept_rate":78,"display_name":"Pete_ch"},"score":0,"creation_date":1485998391,"post_id":40661369,"comment_id":71162525,"body_markdown":"having an issue running gradle bootRun --debug-jvm. hangs at  Building 96% &gt; :&lt;project&gt;:bootRun","body":"having an issue running gradle bootRun --debug-jvm. hangs at  Building 96% &gt; :&lt;project&gt;:bootRun"},{"owner":{"account_id":2981560,"reputation":128,"user_id":2531418,"accept_rate":100,"display_name":"Neal.Shan"},"score":2,"creation_date":1503221903,"post_id":40661369,"comment_id":78518555,"body_markdown":"this is the right answer, **suspended** means you need to click your **remote debug** button to connect to listener and then app start :P","body":"this is the right answer, <b>suspended</b> means you need to click your <b>remote debug</b> button to connect to listener and then app start :P"},{"owner":{"account_id":431649,"reputation":449,"user_id":815856,"accept_rate":0,"display_name":"hariharan kumar"},"score":7,"creation_date":1513652100,"post_id":40661369,"comment_id":82724784,"body_markdown":"By default, the debug port is 5005. How to start from a custom port say 5006?","body":"By default, the debug port is 5005. How to start from a custom port say 5006?"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":6,"creation_date":1519175568,"post_id":40661369,"comment_id":84799169,"body_markdown":"Also, how to start without suspend?","body":"Also, how to start without suspend?"},{"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"score":1,"creation_date":1545918803,"post_id":40661369,"comment_id":94730814,"body_markdown":"@hariharankumar I haven&#39;t tested with `bootRun` specifically, but the `BootRun` task extends `JavaExec` (https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/main/java/org/springframework/boot/gradle/tasks/run/BootRun.java), and I made it work with `JavaExec` passing `jvmArgs` to the task, so you could apply a similar logic: https://stackoverflow.com/a/53946140/4850646","body":"@hariharankumar I haven&#39;t tested with <code>bootRun</code> specifically, but the <code>BootRun</code> task extends <code>JavaExec</code> (<a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/main/java/org/springframework/boot/gradle/tasks/run/BootRun.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a>), and I made it work with <code>JavaExec</code> passing <code>jvmArgs</code> to the task, so you could apply a similar logic: <a href=\"https://stackoverflow.com/a/53946140/4850646\">stackoverflow.com/a/53946140/4850646</a>"}],"tags":[],"owner":{"account_id":290028,"reputation":1769,"user_id":7174346,"display_name":"dankirkd"},"comment_count":5,"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1479403670,"creation_date":1479403670,"answer_id":40661369,"question_id":39490624,"body_markdown":"After you run ```gradle bootRun --debug-jvm``` the application is suspended until you connect your debugger to the port it is listening on (port 5005).","title":"how to debug spring application with gradle","body":"<p>After you run <code>gradle bootRun --debug-jvm</code> the application is suspended until you connect your debugger to the port it is listening on (port 5005).</p>\n"},{"comments":[{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":7,"creation_date":1533003202,"post_id":49318329,"comment_id":90174783,"body_markdown":"I don&#39;t believe that --debug-jvm debugs the main gradle process. The bootRun process is a subclass of JavaExec which starts a child process in debug mode when receiving the --debug-jvm flag.\nhttps://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:jvmArgs","body":"I don&#39;t believe that --debug-jvm debugs the main gradle process. The bootRun process is a subclass of JavaExec which starts a child process in debug mode when receiving the --debug-jvm flag. <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html#org.gradle.api.tasks.JavaExec:jvmArgs\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1638464264,"post_id":49318329,"comment_id":124101195,"body_markdown":"So i just add bootRun {\n  jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=32323&quot;]\n} into the build.gradle.   And that&#39;s it?","body":"So i just add bootRun {   jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspen&zwnj;&#8203;d=y,address=32323&quot;] } into the build.gradle.   And that&#39;s it?"}],"tags":[],"owner":{"account_id":1769410,"reputation":5282,"user_id":1614555,"accept_rate":88,"display_name":"rexford"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1554792035,"creation_date":1521195726,"answer_id":49318329,"question_id":39490624,"body_markdown":"As a response to dankdirkd&#39;s answer above: ([compare][1])\r\n\r\n    gradle bootRun --debug-jvm\r\n\r\nwill make the gradle build run in debug mode. That probably is not what you want. What you want to achieve is that the springBoot task starts your application in debug mode.\r\n\r\nThe spring boot task extends the gradle [JavaExec][2] task. You can configure the bootRun task in your build.gradle file to add a debug configuration like this:\r\n\r\n    bootRun {\r\n      jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=32323&quot;]\r\n    }\r\n\r\nFor the build.gradle.kts this would look like this (with suspend mode disabled):\r\n\r\n    tasks {\r\n    \tval bootRun by getting(BootRun::class) {\r\n    \t\tjvmArgs=listOf(&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=32323&quot;)\r\n    \t}\r\n    }\r\n\r\nIf your server is within a cloud and you want to debug from local machine, you need to make sure that it allows connections from outside. Use below configuration in that case\r\n\r\n    tasks {\r\n    val bootRun by getting(BootRun::class) {\r\n        jvmArgs=listOf(&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:32323&quot;)\r\n        }\r\n    }\r\n\r\nNote that the address is now `0.0.0.0:port` instead of just `port`\r\n\r\n  [1]: https://stackoverflow.com/a/25079415/1614555\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java","title":"how to debug spring application with gradle","body":"<p>As a response to dankdirkd's answer above: (<a href=\"https://stackoverflow.com/a/25079415/1614555\">compare</a>)</p>\n\n<pre><code>gradle bootRun --debug-jvm\n</code></pre>\n\n<p>will make the gradle build run in debug mode. That probably is not what you want. What you want to achieve is that the springBoot task starts your application in debug mode.</p>\n\n<p>The spring boot task extends the gradle <a href=\"https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java\" rel=\"noreferrer\">JavaExec</a> task. You can configure the bootRun task in your build.gradle file to add a debug configuration like this:</p>\n\n<pre><code>bootRun {\n  jvmArgs=[\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=32323\"]\n}\n</code></pre>\n\n<p>For the build.gradle.kts this would look like this (with suspend mode disabled):</p>\n\n<pre><code>tasks {\n    val bootRun by getting(BootRun::class) {\n        jvmArgs=listOf(\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=32323\")\n    }\n}\n</code></pre>\n\n<p>If your server is within a cloud and you want to debug from local machine, you need to make sure that it allows connections from outside. Use below configuration in that case</p>\n\n<pre><code>tasks {\nval bootRun by getting(BootRun::class) {\n    jvmArgs=listOf(\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:32323\")\n    }\n}\n</code></pre>\n\n<p>Note that the address is now <code>0.0.0.0:port</code> instead of just <code>port</code></p>\n"},{"comments":[{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1585617662,"post_id":52785223,"comment_id":107818544,"body_markdown":"Thanks.  This indeed can allow developer to leaverage on breakpoint and trace thru codes. However, is there a way to combine both steps (run apps and attach debugger) Ina single execution of command or a button click. Cos Everytime when we make java code change, we have to stop the above process. Then execute these 2 steps manually. Seem like a chores to me.","body":"Thanks.  This indeed can allow developer to leaverage on breakpoint and trace thru codes. However, is there a way to combine both steps (run apps and attach debugger) Ina single execution of command or a button click. Cos Everytime when we make java code change, we have to stop the above process. Then execute these 2 steps manually. Seem like a chores to me."}],"tags":[],"owner":{"account_id":14532033,"reputation":11,"user_id":10496630,"display_name":"jsci"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1539369009,"creation_date":1539369009,"answer_id":52785223,"question_id":39490624,"body_markdown":"Define an executes a Java application in a child process. \r\n    \r\n    task executeApp() {\r\n        doFirst {\r\n           println &quot;Executing java app from Gradle...&quot;\r\n           javaexec {\r\n               main = &quot;com.mymain&quot;\r\n               jvmArgs = [&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=30000&quot;]\r\n           }\r\n        }\r\n    }\r\n\r\n\r\nSet your breakpoints in the java code. After execute the Gradle task.For example in Windows:\r\n\r\n      .\\gradlew.bat executeApp\r\n\r\nThe task waits until you attach the debugger. For example in Netbeans go to Debug-&gt;Attach debugger , set 30000 on port Field.","title":"how to debug spring application with gradle","body":"<p>Define an executes a Java application in a child process. </p>\n\n<pre><code>task executeApp() {\n    doFirst {\n       println \"Executing java app from Gradle...\"\n       javaexec {\n           main = \"com.mymain\"\n           jvmArgs = [\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=30000\"]\n       }\n    }\n}\n</code></pre>\n\n<p>Set your breakpoints in the java code. After execute the Gradle task.For example in Windows:</p>\n\n<pre><code>  .\\gradlew.bat executeApp\n</code></pre>\n\n<p>The task waits until you attach the debugger. For example in Netbeans go to Debug->Attach debugger , set 30000 on port Field.</p>\n"},{"tags":[],"owner":{"account_id":12199991,"reputation":93,"user_id":8904483,"display_name":"Himadri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572776012,"creation_date":1572765318,"answer_id":58678156,"question_id":39490624,"body_markdown":"For `build.gradle.kts` file you can also simply use below:\r\n\r\n    tasks.withType&lt;BootRun&gt; {\r\n        jvmArgs = listOf(&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:32323&quot;)\r\n    }","title":"how to debug spring application with gradle","body":"<p>For <code>build.gradle.kts</code> file you can also simply use below:</p>\n\n<pre><code>tasks.withType&lt;BootRun&gt; {\n    jvmArgs = listOf(\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=0.0.0.0:32323\")\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":1,"creation_date":1638464204,"post_id":60707797,"comment_id":124101168,"body_markdown":"But how do u use Gradle tasks to run an application in debug mode? I also don&#39;t like the idea of using temrinal","body":"But how do u use Gradle tasks to run an application in debug mode? I also don&#39;t like the idea of using temrinal"}],"tags":[],"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584368939,"creation_date":1584368939,"answer_id":60707797,"question_id":39490624,"body_markdown":"I personally prefer going under `Gradle tasks` and `right-clicking on the bootRun`. This is useful in the IDE compared to the terminal.","title":"how to debug spring application with gradle","body":"<p>I personally prefer going under <code>Gradle tasks</code> and <code>right-clicking on the bootRun</code>. This is useful in the IDE compared to the terminal.</p>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646782627,"creation_date":1646782627,"answer_id":71402717,"question_id":39490624,"body_markdown":"For people hitting this via Google and wondering how to enable Spring&#39;s debug mode (normally done by `java -jar app.jar --debug`) and using Gradle, [here is how][1]. This passes `--debug` to the main class which is how you turn on Spring Boot&#39;s debug mode which logs autoconfig classes among other things.\r\n\r\n    ./gradlew bootRun --args=&#39;--debug&#39;\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application.passing-arguments","title":"how to debug spring application with gradle","body":"<p>For people hitting this via Google and wondering how to enable Spring's debug mode (normally done by <code>java -jar app.jar --debug</code>) and using Gradle, <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application.passing-arguments\" rel=\"noreferrer\">here is how</a>. This passes <code>--debug</code> to the main class which is how you turn on Spring Boot's debug mode which logs autoconfig classes among other things.</p>\n<pre><code>./gradlew bootRun --args='--debug'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4728988,"reputation":442,"user_id":3825134,"display_name":"lord5et"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670424202,"creation_date":1670424202,"answer_id":74718448,"question_id":39490624,"body_markdown":"For those looking for IntelliJ example with gradle bootRun task:\r\n 1. Add following bootRun task definition to build.gradle file\r\n ```\r\n  bootRun {\r\n    jvmArgs &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005&quot;\r\n  }\r\n```\r\n 2. Run bootRun task\r\n 3. Once you get to the point where console/terminal says \r\n &quot;Listening for transport dt_socket at address: 5005&quot;\r\n go to &quot;Run --&gt; Attach to Process...&quot; and choose your app\r\n 4. Add breakpoints anywhere you want\r\n\r\n\r\n\r\n \r\n\r\n \r\n\r\n\r\n ","title":"how to debug spring application with gradle","body":"<p>For those looking for IntelliJ example with gradle bootRun task:</p>\n<ol>\n<li>Add following bootRun task definition to build.gradle file</li>\n</ol>\n<pre><code> bootRun {\n   jvmArgs &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005&quot;\n }\n</code></pre>\n<ol start=\"2\">\n<li>Run bootRun task</li>\n<li>Once you get to the point where console/terminal says\n&quot;Listening for transport dt_socket at address: 5005&quot;\ngo to &quot;Run --&gt; Attach to Process...&quot; and choose your app</li>\n<li>Add breakpoints anywhere you want</li>\n</ol>\n"}],"owner":{"account_id":6285476,"reputation":1340,"user_id":5008698,"accept_rate":29,"display_name":"rigby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83902,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":40661369,"answer_count":7,"score":65,"last_activity_date":1670424202,"creation_date":1473856556,"question_id":39490624,"body_markdown":"I am working on spring app and need to step through a controller method to see how it works. \r\nI am working in eclipse and building my app with `gradle bootRun` command.\r\n\r\nHow to run it in debug mode?\r\n\r\ni tried `gradle bootRun --debug` but it&#39;s just debug log, not debug mode\r\n\r\ni tried `gradle help --task bootRun` -- this gives me info about task\r\nthere i saw `--debug-jvm` option but when i run \r\n`gradle bootRun --debug-jvm` application doesn&#39;t start\r\n","title":"how to debug spring application with gradle","body":"<p>I am working on spring app and need to step through a controller method to see how it works. \nI am working in eclipse and building my app with <code>gradle bootRun</code> command.</p>\n\n<p>How to run it in debug mode?</p>\n\n<p>i tried <code>gradle bootRun --debug</code> but it's just debug log, not debug mode</p>\n\n<p>i tried <code>gradle help --task bootRun</code> -- this gives me info about task\nthere i saw <code>--debug-jvm</code> option but when i run \n<code>gradle bootRun --debug-jvm</code> application doesn't start</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"score":0,"creation_date":1366833141,"post_id":16199761,"comment_id":23165041,"body_markdown":"so which class should I extend if I want a generic filter?","body":"so which class should I extend if I want a generic filter?"},{"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"score":0,"creation_date":1366834927,"post_id":16199761,"comment_id":23165934,"body_markdown":"Ok I&#180;ve somehow managed to solve my problem by changing from RequestContextFilter to GenericFilterBean.\nIn the extends of my class.","body":"Ok I&#180;ve somehow managed to solve my problem by changing from RequestContextFilter to GenericFilterBean. In the extends of my class."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1366828924,"creation_date":1366828924,"answer_id":16199761,"question_id":16199700,"body_markdown":"Why are you extending `RequestContextFilter`?\r\n\r\n`RequestContextFilter` is a subclass of `OncePerRequestFilter`, which contains logic that will prevent the filter class from being invoked more than once per request.","title":"why is my doFilterInternal method not being called?","body":"<p>Why are you extending <code>RequestContextFilter</code>?</p>\n\n<p><code>RequestContextFilter</code> is a subclass of <code>OncePerRequestFilter</code>, which contains logic that will prevent the filter class from being invoked more than once per request.</p>\n"},{"tags":[],"owner":{"account_id":25997582,"reputation":83,"user_id":19708666,"display_name":"Elon Fask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670424139,"creation_date":1670424139,"answer_id":74718431,"question_id":16199700,"body_markdown":"`RequestContextFilter` is a subclass of `OncePerRequestFilter`, so extend from `OncePerRequestFilter` class.\r\n\r\nthe issue that you will find after extending from `OncePerRequestFilter` class is that `FilterChain`, `HttpServletRequest`, `HttpServletResponse` that they use the **jakarta** package while you&#39;re using **javax**.","title":"why is my doFilterInternal method not being called?","body":"<p><code>RequestContextFilter</code> is a subclass of <code>OncePerRequestFilter</code>, so extend from <code>OncePerRequestFilter</code> class.</p>\n<p>the issue that you will find after extending from <code>OncePerRequestFilter</code> class is that <code>FilterChain</code>, <code>HttpServletRequest</code>, <code>HttpServletResponse</code> that they use the <strong>jakarta</strong> package while you're using <strong>javax</strong>.</p>\n"}],"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16199761,"answer_count":2,"score":3,"last_activity_date":1670424139,"creation_date":1366828702,"question_id":16199700,"body_markdown":"I&#180;m trying to implement a filter that in the end will log the user navigation inside the system.\r\n\r\nMy spring context goes like this:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;b:beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:b=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:sec=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \t\t\t\t\t\thttp://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    \t\t\t\t\t\thttp://www.springframework.org/schema/context\r\n    \t\t\t\t\t\thttp://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n    \thttp://www.springframework.org/schema/security\r\n        \t\t\t\t\thttp://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;\r\n\r\n\t&lt;!-- &lt;sec:global-method-security secured-annotations=&quot;enabled&quot; /&gt; --&gt;\r\n\t&lt;!-- Importa configuracion de seguridad de ldap --&gt;\r\n\t&lt;import resource=&quot;classpath:/spring/ldap-config.xml&quot; /&gt;\r\n\r\n\t&lt;sec:http pattern=&quot;/resources&quot; security=&quot;none&quot; /&gt;\r\n\r\n\t&lt;sec:http use-expressions=&quot;true&quot; auto-config=&quot;true&quot;&gt;\r\n\r\n\t\t&lt;sec:intercept-url pattern=&quot;/seguridad/login.xhtml&quot;\r\n\t\t\taccess=&quot;permitAll&quot; /&gt;\r\n\t\t&lt;sec:intercept-url pattern=&quot;/*.jsp&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n\t\t&lt;sec:intercept-url pattern=&quot;/&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n\t\t&lt;sec:intercept-url pattern=&quot;/views/**&quot; access=&quot;isAuthenticated()&quot; /&gt;\r\n\r\n\t\t&lt;sec:form-login login-page=&quot;/seguridad/login.xhtml&quot;\r\n\t\t\tauthentication-failure-url=&quot;/seguridad/login.xhtml&quot; /&gt;\r\n\r\n\t\t&lt;sec:logout invalidate-session=&quot;true&quot; /&gt;\r\n\r\n\t\t&lt;sec:access-denied-handler error-page=&quot;/seguridad/accesoDenegado.xhtml&quot; /&gt;\r\n\r\n\t\t&lt;sec:custom-filter ref=&quot;navegationFilter&quot; after=&quot;FILTER_SECURITY_INTERCEPTOR&quot; /&gt;\r\n\t&lt;/sec:http&gt;\r\n\r\n\t&lt;sec:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n\t\t&lt;sec:authentication-provider\r\n\t\t\tuser-service-ref=&quot;userDetailService&quot; /&gt;\r\n\t&lt;/sec:authentication-manager&gt;\r\n\r\n\t&lt;b:bean id=&quot;navegationFilter&quot; class=&quot;com.praxis.desvucem.web.service.seguridad.NavegationFilter&quot; /&gt;\r\n\r\n\r\n&lt;/b:beans&gt;\r\n\r\n\r\nand my filter class goes like this:\r\n\r\n    package com.praxis.desvucem.web.service.seguridad;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    import org.springframework.web.filter.RequestContextFilter;\r\n    \r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    public class NavegationFilter extends RequestContextFilter {\r\n\r\n    protected static Logger logger = Logger.getLogger(&quot;service&quot;);\r\n\r\n    @Override\r\n    // @LogMe\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        logger.debug(&quot;Running Navegation filter&quot;);\r\n\r\n        HttpSession session = request.getSession(false);\r\n\r\n        if (session != null) {\r\n            logger.debug(&quot;User is trying to access site for the second time&quot;);\r\n            logger.debug(&quot;Request URI: &quot; + request.getRequestURI());\r\n        }\r\n        else {\r\n            logger.debug(&quot;Session is null&quot;);\r\n        }\r\n\r\n        logger.debug(&quot;Continue with remaining filters&quot;);\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n}\r\n\r\n\r\nSo when I run it, I don&#180;t get any kind of error and my filter is even being fired but it neve calls my doFilterInternal method.\r\nHere is an excerpt of the log:\r\n\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 6 of 11 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 7 of 11 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: &#39;org.springframework.security.authentication.AnonymousAuthenticationToken@9054b1a2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@1c07a: RemoteIpAddress: 192.168.4.148; SessionId: 1v5ehc9tvkn7u1bft3w17n6wtv; Granted Authorities: ROLE_ANONYMOUS&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 8 of 11 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 9 of 11 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 10 of 11 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : &#39;/seguridad/login.xhtml&#39;; against &#39;/seguridad/login.xhtml&#39;\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /seguridad/login.xhtml; Attributes: [permitAll]\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9054b1a2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@1c07a: RemoteIpAddress: 192.168.4.148; SessionId: 1v5ehc9tvkn7u1bft3w17n6wtv; Granted Authorities: ROLE_ANONYMOUS\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@9604a9e, returned: 1\r\n    13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful\r\n    13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object\r\n    13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 11 of 11 in additional filter chain; firing Filter: &#39;NavegationFilter&#39;\r\n    13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml reached end of additional filter chain; proceeding with original chain\r\n\r\n\r\nSo why isn&#180;t my doFilterInternal being called?\r\nThanks in advance.\r\n\r\n","title":"why is my doFilterInternal method not being called?","body":"<p>I´m trying to implement a filter that in the end will log the user navigation inside the system.</p>\n\n<p>My spring context goes like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;b:beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:b=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:sec=\"http://www.springframework.org/schema/security\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n                        http://www.springframework.org/schema/context\n                        http://www.springframework.org/schema/context/spring-context-3.2.xsd\n    http://www.springframework.org/schema/security\n                        http://www.springframework.org/schema/security/spring-security-3.1.xsd\"&gt;\n\n&lt;!-- &lt;sec:global-method-security secured-annotations=\"enabled\" /&gt; --&gt;\n&lt;!-- Importa configuracion de seguridad de ldap --&gt;\n&lt;import resource=\"classpath:/spring/ldap-config.xml\" /&gt;\n\n&lt;sec:http pattern=\"/resources\" security=\"none\" /&gt;\n\n&lt;sec:http use-expressions=\"true\" auto-config=\"true\"&gt;\n\n    &lt;sec:intercept-url pattern=\"/seguridad/login.xhtml\"\n        access=\"permitAll\" /&gt;\n    &lt;sec:intercept-url pattern=\"/*.jsp\" access=\"isAuthenticated()\" /&gt;\n    &lt;sec:intercept-url pattern=\"/\" access=\"isAuthenticated()\" /&gt;\n    &lt;sec:intercept-url pattern=\"/views/**\" access=\"isAuthenticated()\" /&gt;\n\n    &lt;sec:form-login login-page=\"/seguridad/login.xhtml\"\n        authentication-failure-url=\"/seguridad/login.xhtml\" /&gt;\n\n    &lt;sec:logout invalidate-session=\"true\" /&gt;\n\n    &lt;sec:access-denied-handler error-page=\"/seguridad/accesoDenegado.xhtml\" /&gt;\n\n    &lt;sec:custom-filter ref=\"navegationFilter\" after=\"FILTER_SECURITY_INTERCEPTOR\" /&gt;\n&lt;/sec:http&gt;\n\n&lt;sec:authentication-manager alias=\"authenticationManager\"&gt;\n    &lt;sec:authentication-provider\n        user-service-ref=\"userDetailService\" /&gt;\n&lt;/sec:authentication-manager&gt;\n\n&lt;b:bean id=\"navegationFilter\" class=\"com.praxis.desvucem.web.service.seguridad.NavegationFilter\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>and my filter class goes like this:</p>\n\n<pre><code>package com.praxis.desvucem.web.service.seguridad;\n\nimport java.io.IOException;\n\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.log4j.Logger;\n\nimport org.springframework.web.filter.RequestContextFilter;\n\nimport javax.servlet.http.HttpSession;\n\npublic class NavegationFilter extends RequestContextFilter {\n\nprotected static Logger logger = Logger.getLogger(\"service\");\n\n@Override\n// @LogMe\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n\n    logger.debug(\"Running Navegation filter\");\n\n    HttpSession session = request.getSession(false);\n\n    if (session != null) {\n        logger.debug(\"User is trying to access site for the second time\");\n        logger.debug(\"Request URI: \" + request.getRequestURI());\n    }\n    else {\n        logger.debug(\"Session is null\");\n    }\n\n    logger.debug(\"Continue with remaining filters\");\n    filterChain.doFilter(request, response);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>So when I run it, I don´t get any kind of error and my filter is even being fired but it neve calls my doFilterInternal method.\nHere is an excerpt of the log:</p>\n\n<pre><code>13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 6 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 7 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9054b1a2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@1c07a: RemoteIpAddress: 192.168.4.148; SessionId: 1v5ehc9tvkn7u1bft3w17n6wtv; Granted Authorities: ROLE_ANONYMOUS'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 8 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 9 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 10 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.web.util.AntPathRequestMatcher - Checking match of request : '/seguridad/login.xhtml'; against '/seguridad/login.xhtml'\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /seguridad/login.xhtml; Attributes: [permitAll]\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9054b1a2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@1c07a: RemoteIpAddress: 192.168.4.148; SessionId: 1v5ehc9tvkn7u1bft3w17n6wtv; Granted Authorities: ROLE_ANONYMOUS\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@9604a9e, returned: 1\n13:33:02.889 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Authorization successful\n13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - RunAsManager did not change Authentication object\n13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml at position 11 of 11 in additional filter chain; firing Filter: 'NavegationFilter'\n13:33:02.890 [168531621@qtp-1002845369-5] DEBUG o.s.security.web.FilterChainProxy - /seguridad/login.xhtml reached end of additional filter chain; proceeding with original chain\n</code></pre>\n\n<p>So why isn´t my doFilterInternal being called?\nThanks in advance.</p>\n"},{"tags":["java","powermock","java-11","maven-surefire-plugin"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1576240498,"post_id":59322709,"comment_id":104845086,"body_markdown":"define failing..failing with stack trace? failing in assertion?","body":"define failing..failing with stack trace? failing in assertion?"},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1576242685,"post_id":59322709,"comment_id":104846103,"body_markdown":"@Naman no need to go that far. Failing during setup(). As I mentioned above, the very presence of those annotations are not working anymore - throwing IllegalAccessError and IllegalStateException. Since the reflection is now accessing internal packages. I removed `@RunWith `and `@PowerMockIgnore` from test classes - and they started running","body":"@Naman no need to go that far. Failing during setup(). As I mentioned above, the very presence of those annotations are not working anymore - throwing IllegalAccessError and IllegalStateException. Since the reflection is now accessing internal packages. I removed <code>@RunWith </code>and <code>@PowerMockIgnore</code> from test classes - and they started running"},{"owner":{"account_id":16488689,"reputation":481,"user_id":11913248,"display_name":"Pallav Khare"},"score":0,"creation_date":1598330147,"post_id":59322709,"comment_id":112415553,"body_markdown":"I&#39;ve tried to used PowerMock for mocking static methods of system class (java.time.LocalDate) and I&#39;ve got the following exception for Java11: org.mockito.exceptions.base.MockitoException: \n\nMockito cannot mock this class: class replica.java.time.LocalDate$$PowerMock0.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.","body":"I&#39;ve tried to used PowerMock for mocking static methods of system class (java.time.LocalDate) and I&#39;ve got the following exception for Java11: org.mockito.exceptions.base.MockitoException:   Mockito cannot mock this class: class replica.java.time.LocalDate$$PowerMock0.  Mockito can only mock non-private &amp; non-final classes. If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list."}],"answers":[{"comments":[{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1576340921,"post_id":59324406,"comment_id":104871781,"body_markdown":"I think you&#39;ve missed my comment above. Powermock does&#39;t work in Java 11 because &quot;spying&quot; and &quot;mocking&quot; involves private access to a lot of classes. You cannot do this using `--illegal-access=permit` with surefire plugin. Also, all the annotations you are talking about, I have already tried that, and it didn&#39;t ignore the illegal access issue. I mentioned this in the comment and yes - it&#39;s the latest API release from Oct - 2019 I think it&#39;s in 2.0.4?","body":"I think you&#39;ve missed my comment above. Powermock does&#39;t work in Java 11 because &quot;spying&quot; and &quot;mocking&quot; involves private access to a lot of classes. You cannot do this using <code>--illegal-access=permit</code> with surefire plugin. Also, all the annotations you are talking about, I have already tried that, and it didn&#39;t ignore the illegal access issue. I mentioned this in the comment and yes - it&#39;s the latest API release from Oct - 2019 I think it&#39;s in 2.0.4?"}],"tags":[],"owner":{"account_id":16488689,"reputation":481,"user_id":11913248,"display_name":"Pallav Khare"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576246850,"creation_date":1576246850,"answer_id":59324406,"question_id":59322709,"body_markdown":"For better clarity, it would be great if you could specify the powermock API version, what i can think of the probable clause of the exception would be PowerMock classloader reloads XML11Configuration but without specifying module/or ignore module of the class. As result the unnamed module is autogenerated.\r\nI can suggest another workaround. If it works then my guess is correct. Could you try to \r\nuse this option @PowerMockIgnore({&quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.parsers.*&quot;,, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;}) \r\n\r\nIt should work.","title":"Java 11 with Powermock - Are they compatible?","body":"<p>For better clarity, it would be great if you could specify the powermock API version, what i can think of the probable clause of the exception would be PowerMock classloader reloads XML11Configuration but without specifying module/or ignore module of the class. As result the unnamed module is autogenerated.\nI can suggest another workaround. If it works then my guess is correct. Could you try to \nuse this option @PowerMockIgnore({\"com.sun.org.apache.xerces.<em>\", \"javax.xml.parsers.</em>\",, \"javax.xml.<em>\", \"org.xml.</em>\"}) </p>\n\n<p>It should work.</p>\n"},{"tags":[],"owner":{"account_id":16488689,"reputation":481,"user_id":11913248,"display_name":"Pallav Khare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598330804,"creation_date":1598330804,"answer_id":63572189,"question_id":59322709,"body_markdown":" 1. The existing &quot;mvn hpi:run&quot; command will not work correctly on Java\r\n    11 unless Java modules are downloaded and passed to the environment.\r\n    \r\n 2. List item If you use Mockito/PowerMock in your plugin tests, you may need to update to the recent versions with Java 11 support-\r\n \r\n 3. You may also need to add test annotations to workaround PowerMock\r\n    [Issue #864][1]. Example for the Jenkins Core\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/issues/864","title":"Java 11 with Powermock - Are they compatible?","body":"<ol>\n<li><p>The existing &quot;mvn hpi:run&quot; command will not work correctly on Java\n11 unless Java modules are downloaded and passed to the environment.</p>\n</li>\n<li><p>List item If you use Mockito/PowerMock in your plugin tests, you may need to update to the recent versions with Java 11 support-</p>\n</li>\n<li><p>You may also need to add test annotations to workaround PowerMock\n<a href=\"https://github.com/powermock/powermock/issues/864\" rel=\"nofollow noreferrer\">Issue #864</a>. Example for the Jenkins Core</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9096271,"reputation":531,"user_id":6770146,"display_name":"Milan Paudyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599666806,"creation_date":1599666806,"answer_id":63815249,"question_id":59322709,"body_markdown":"Adding byte buddy dependency helped me to run PowerMock tests in java 14.","title":"Java 11 with Powermock - Are they compatible?","body":"<p>Adding byte buddy dependency helped me to run PowerMock tests in java 14.</p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608449846,"creation_date":1608449846,"answer_id":65377865,"question_id":59322709,"body_markdown":"As mentioned above PowerMock reflection access internal packages java.xml/jdk.xml, a workaround consist in allowing access to those internal packages :\r\nif you are using maven to build your project you should add the JVM argument : \r\n```\r\n--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\r\n```\r\nfor example :\r\n```\r\n           &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t &lt;argLine&gt;--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED&lt;/argLine&gt;\r\n               &lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"Java 11 with Powermock - Are they compatible?","body":"<p>As mentioned above PowerMock reflection access internal packages java.xml/jdk.xml, a workaround consist in allowing access to those internal packages :\nif you are using maven to build your project you should add the JVM argument :</p>\n<pre><code>--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED\n</code></pre>\n<p>for example :</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                 &lt;argLine&gt;--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED&lt;/argLine&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23029608,"reputation":11,"user_id":17149317,"display_name":"jngcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670423825,"creation_date":1670423548,"answer_id":74718272,"question_id":59322709,"body_markdown":"If use reflect in JDK11, you might see some warning like &#39;An illegal reflective access operation has occurred&#39;, because reflect JDK inner API is illegal since JDK9, still you can use it with a warning above. \r\n \r\nTo fix the problem temporary, try to use `--add-exports` or `--add-opens` in your argLing.\r\n  \r\nFor example: `--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED`\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;argLine&gt;\r\n          @{argLine} --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED \r\n        &lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor more infomation, watch [--add-opens introduce][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781","title":"Java 11 with Powermock - Are they compatible?","body":"<p>If use reflect in JDK11, you might see some warning like 'An illegal reflective access operation has occurred', because reflect JDK inner API is illegal since JDK9, still you can use it with a warning above.</p>\n<p>To fix the problem temporary, try to use <code>--add-exports</code> or <code>--add-opens</code> in your argLing.</p>\n<p>For example: <code>--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;\n      @{argLine} --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED \n    &lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For more infomation, watch <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\" rel=\"nofollow noreferrer\">--add-opens introduce</a></p>\n"}],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5945,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1670423825,"creation_date":1576240358,"question_id":59322709,"body_markdown":"After switching to Java 11, all the powermock related tests (annotated with `@RunWith(PowermockRunner.class)` and `@PowerMockIgnore`) are failing. \r\n\r\nIs this known issue? I read a relevant SO post which was posted a year ago, and the latest release of Powermock was 2 months ago. I don&#39;t see any difference in behaviour with JDK 11. ","title":"Java 11 with Powermock - Are they compatible?","body":"<p>After switching to Java 11, all the powermock related tests (annotated with <code>@RunWith(PowermockRunner.class)</code> and <code>@PowerMockIgnore</code>) are failing. </p>\n\n<p>Is this known issue? I read a relevant SO post which was posted a year ago, and the latest release of Powermock was 2 months ago. I don't see any difference in behaviour with JDK 11. </p>\n"},{"tags":["java","adobe","aem"],"answers":[{"comments":[{"owner":{"account_id":7108805,"reputation":53,"user_id":5437538,"display_name":"Lee Daniels"},"score":0,"creation_date":1627568511,"post_id":68560655,"comment_id":121195708,"body_markdown":"Thank you for finding the cause! Since this folder has actually in my repo from before the AEM version upgrade, I changed the folder name in CRXDE from rewriter to rewriter-test, saved it in CRXDE, then renamed it back to the original and it fixed the issue.","body":"Thank you for finding the cause! Since this folder has actually in my repo from before the AEM version upgrade, I changed the folder name in CRXDE from rewriter to rewriter-test, saved it in CRXDE, then renamed it back to the original and it fixed the issue."}],"tags":[],"owner":{"account_id":4537423,"reputation":66,"user_id":3686211,"display_name":"Kumar Ashish Ranjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1627476327,"creation_date":1627476327,"answer_id":68560655,"question_id":68460284,"body_markdown":"As per my experience this issue happens due to rewriter configurations . Please try removing /apps/myapp/config/rewriter and check if it works fine. ","title":"AEM ACS Commons Generic List editor breaks when more than 8 items are added","body":"<p>As per my experience this issue happens due to rewriter configurations . Please try removing /apps/myapp/config/rewriter and check if it works fine.</p>\n"},{"tags":[],"owner":{"account_id":6641476,"reputation":353,"user_id":5127050,"accept_rate":57,"display_name":"akashdeep-mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670423742,"creation_date":1657287946,"answer_id":72912375,"question_id":68460284,"body_markdown":"Update - Issue with acs commons generic lists having more than 8 items gives 500. \r\n\r\nThis issue is fixed with ACS-Commons v-5.3.4 and above\r\n\r\nhttps://github.com/Adobe-Consulting-Services/acs-aem-commons/commit/5d4de1e8d7e77c880da320a1508a33a9759c6799\r\n\r\nThanks","title":"AEM ACS Commons Generic List editor breaks when more than 8 items are added","body":"<p>Update - Issue with acs commons generic lists having more than 8 items gives 500.</p>\n<p>This issue is fixed with ACS-Commons v-5.3.4 and above</p>\n<p><a href=\"https://github.com/Adobe-Consulting-Services/acs-aem-commons/commit/5d4de1e8d7e77c880da320a1508a33a9759c6799\" rel=\"nofollow noreferrer\">https://github.com/Adobe-Consulting-Services/acs-aem-commons/commit/5d4de1e8d7e77c880da320a1508a33a9759c6799</a></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":7108805,"reputation":53,"user_id":5437538,"display_name":"Lee Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68560655,"answer_count":2,"score":2,"last_activity_date":1670423742,"creation_date":1626808783,"question_id":68460284,"body_markdown":"**ACS Commons version 5.0.6&lt;br&gt;\r\nAEM version 6.5.8.0**\r\n\r\nI am attempting to edit a Generic List in http://localhost:4502/generic-lists.html/etc/acs-commons/lists by clicking the thumbnail and then clicking the &quot;Properties&quot; in the top action bar. This brings me to http://localhost:4502/mnt/overlay/acs-commons/components/utilities/genericlist.html?item=/etc/acs-commons/lists/[path-to-list]. When there are 8 or fewer items already configured in the generic list, the editor page loads as expected and I can update the list. When there are greater than 8 items, a blank page is loaded and I get the following stack trace in my error log:\r\n\r\n&lt;pre&gt;\r\n20.07.2021 15:01:56.223 *INFO* [sling-threadpool-26a55c4e-0bfd-42ac-ba57-0ef069a1e5f3-(apache-sling-job-thread-pool)-4-com_day_cq_replication_job_publish(com/day/cq/replication/job/publish)] com.day.cq.replication.Agent.publish.queue Job for agent publish processed in 2036ms. Failed.\r\n\tat org.apache.sling.scripting.jsp.taglib.AbstractDispatcherTagHandler.doEndTag(AbstractDispatcherTagHandler.java:128) [org.apache.sling.scripting.jsp.taglib:2.4.0]\r\n\tat org.apache.jsp.libs.granite.ui.components.coral.foundation.form.form_jsp._jspService(form_jsp.java:279)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\r\n\tat org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\r\n\t... 283 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) \r\n[...]\r\n\t... 319 common frames omitted\r\n20.07.2021 15:02:06.105 *ERROR* [[0:0:0:0:0:0:0:1] [1626807726050] GET /mnt/overlay/acs-commons/components/utilities/genericlist.html HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught SlingException\r\njava.lang.NullPointerException: null\r\n\tat org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:289) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl.release(PageContextImpl.java:183) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:99) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:71) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.releasePageContext(JspRuntimeContext.java:112) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.jsp.libs.granite.ui.components.coral.foundation.form.fieldset.fieldset_jsp._jspService(fieldset_jsp.java:189)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\r\n\tat org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:339) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:97) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:600) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:82) [org.apache.sling.engine:2.7.2]\r\n\tat com.day.cq.wcm.core.impl.WCMDeveloperModeFilter.doFilter(WCMDeveloperModeFilter.java:119) [com.day.cq.wcm.cq-wcm-core:5.12.158]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:156) [com.day.cq.wcm.cq-wcm-core:5.12.158]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.adobe.acs.commons.granite.ui.components.impl.include.IncludeDecoratorFilterImpl.doFilter(IncludeDecoratorFilterImpl.java:92) [com.adobe.acs.acs-aem-commons-bundle:5.0.6]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.day.cq.wcm.core.impl.WCMComponentFilter.filterRootInclude(WCMComponentFilter.java:375) [com.day.cq.wcm.cq-wcm-core:5.12.158]\r\n\tat com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:190) [com.day.cq.wcm.cq-wcm-core:5.12.158]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.day.cq.wcm.core.impl.page.PageLockFilter.doFilter(PageLockFilter.java:91) [com.day.cq.wcm.cq-wcm-core:5.12.158]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.day.cq.personalization.impl.TargetComponentFilter.doFilter(TargetComponentFilter.java:94) [com.day.cq.cq-personalization:5.12.44]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat com.adobe.granite.csrf.impl.CSRFFilter.doFilter(CSRFFilter.java:217) [com.adobe.granite.csrf:1.0.20.CQ650-B0002]\r\n\tat org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:283) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.SlingRequestProcessorImpl.dispatchRequest(SlingRequestProcessorImpl.java:323) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.request.SlingRequestDispatcher.dispatch(SlingRequestDispatcher.java:211) [org.apache.sling.engine:2.7.2]\r\n\tat org.apache.sling.engine.impl.request.SlingRequestDispatcher.include(SlingRequestDispatcher.java:104) [org.apache.sling.engine:2.7.2]\r\n[...]\r\n\t... 283 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:289) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\r\n\tat java.io.PrintWriter.write(Unknown Source)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl.release(PageContextImpl.java:183) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:99) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:71) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.releasePageContext(JspRuntimeContext.java:112) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat org.apache.jsp.libs.granite.ui.components.coral.foundation.form.fieldset.fieldset_jsp._jspService(fieldset_jsp.java:189)\r\n\tat org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\r\n\tat org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\r\n\t... 319 common frames omitted\r\n&lt;/pre&gt;\r\n\r\nHas anybody experience this issue before? The issue has been raised in GitHub for the ACS Commons project, but no solution has been discovered to my knowledge.","title":"AEM ACS Commons Generic List editor breaks when more than 8 items are added","body":"<p><strong>ACS Commons version 5.0.6<br>\nAEM version 6.5.8.0</strong></p>\n<p>I am attempting to edit a Generic List in http://localhost:4502/generic-lists.html/etc/acs-commons/lists by clicking the thumbnail and then clicking the &quot;Properties&quot; in the top action bar. This brings me to http://localhost:4502/mnt/overlay/acs-commons/components/utilities/genericlist.html?item=/etc/acs-commons/lists/[path-to-list]. When there are 8 or fewer items already configured in the generic list, the editor page loads as expected and I can update the list. When there are greater than 8 items, a blank page is loaded and I get the following stack trace in my error log:</p>\n<pre>\n20.07.2021 15:01:56.223 *INFO* [sling-threadpool-26a55c4e-0bfd-42ac-ba57-0ef069a1e5f3-(apache-sling-job-thread-pool)-4-com_day_cq_replication_job_publish(com/day/cq/replication/job/publish)] com.day.cq.replication.Agent.publish.queue Job for agent publish processed in 2036ms. Failed.\n    at org.apache.sling.scripting.jsp.taglib.AbstractDispatcherTagHandler.doEndTag(AbstractDispatcherTagHandler.java:128) [org.apache.sling.scripting.jsp.taglib:2.4.0]\n    at org.apache.jsp.libs.granite.ui.components.coral.foundation.form.form_jsp._jspService(form_jsp.java:279)\n    at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\n    at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\n    ... 283 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) \n[...]\n    ... 319 common frames omitted\n20.07.2021 15:02:06.105 *ERROR* [[0:0:0:0:0:0:0:1] [1626807726050] GET /mnt/overlay/acs-commons/components/utilities/genericlist.html HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught SlingException\njava.lang.NullPointerException: null\n    at org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:289) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl.release(PageContextImpl.java:183) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:99) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:71) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.releasePageContext(JspRuntimeContext.java:112) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.jsp.libs.granite.ui.components.coral.foundation.form.fieldset.fieldset_jsp._jspService(fieldset_jsp.java:189)\n    at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\n    at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:339) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:97) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:600) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:552) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:82) [org.apache.sling.engine:2.7.2]\n    at com.day.cq.wcm.core.impl.WCMDeveloperModeFilter.doFilter(WCMDeveloperModeFilter.java:119) [com.day.cq.wcm.cq-wcm-core:5.12.158]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:156) [com.day.cq.wcm.cq-wcm-core:5.12.158]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.adobe.acs.commons.granite.ui.components.impl.include.IncludeDecoratorFilterImpl.doFilter(IncludeDecoratorFilterImpl.java:92) [com.adobe.acs.acs-aem-commons-bundle:5.0.6]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.day.cq.wcm.core.impl.WCMComponentFilter.filterRootInclude(WCMComponentFilter.java:375) [com.day.cq.wcm.cq-wcm-core:5.12.158]\n    at com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:190) [com.day.cq.wcm.cq-wcm-core:5.12.158]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.day.cq.wcm.core.impl.page.PageLockFilter.doFilter(PageLockFilter.java:91) [com.day.cq.wcm.cq-wcm-core:5.12.158]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.day.cq.personalization.impl.TargetComponentFilter.doFilter(TargetComponentFilter.java:94) [com.day.cq.cq-personalization:5.12.44]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at com.adobe.granite.csrf.impl.CSRFFilter.doFilter(CSRFFilter.java:217) [com.adobe.granite.csrf:1.0.20.CQ650-B0002]\n    at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:72) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:283) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.SlingRequestProcessorImpl.dispatchRequest(SlingRequestProcessorImpl.java:323) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.request.SlingRequestDispatcher.dispatch(SlingRequestDispatcher.java:211) [org.apache.sling.engine:2.7.2]\n    at org.apache.sling.engine.impl.request.SlingRequestDispatcher.include(SlingRequestDispatcher.java:104) [org.apache.sling.engine:2.7.2]\n[...]\n    ... 283 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at org.apache.sling.rewriter.impl.ProcessorConfigurationImpl.match(ProcessorConfigurationImpl.java:465) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getProcessor(RewriterResponse.java:170) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.rewriter.impl.RewriterResponse.getWriter(RewriterResponse.java:110) [org.apache.sling.rewriter:1.2.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.getWriter(OnDemandWriter.java:38) [org.apache.sling.scripting.core:2.3.2]\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:273) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:277) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.write(JspWriterImpl.java:289) [org.apache.sling.scripting.jsp:2.3.6]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.core.impl.helper.OnDemandWriter.write(OnDemandWriter.java:61) [org.apache.sling.scripting.core:2.3.2]\n    at java.io.PrintWriter.write(Unknown Source)\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:119) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl.release(PageContextImpl.java:183) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.internalReleasePageContext(JspFactoryImpl.java:99) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.releasePageContext(JspFactoryImpl.java:71) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.releasePageContext(JspRuntimeContext.java:112) [org.apache.sling.scripting.jsp:2.3.6]\n    at org.apache.jsp.libs.granite.ui.components.coral.foundation.form.fieldset.fieldset_jsp._jspService(fieldset_jsp.java:189)\n    at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [org.apache.sling.scripting.jsp:2.3.6]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725) [org.apache.felix.http.servlet-api:1.1.2]\n    at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502) [org.apache.sling.scripting.jsp:2.3.6]\n    ... 319 common frames omitted\n</pre>\n<p>Has anybody experience this issue before? The issue has been raised in GitHub for the ACS Commons project, but no solution has been discovered to my knowledge.</p>\n"},{"tags":["java","junit","sftp"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1598484467,"creation_date":1598484467,"answer_id":63607072,"question_id":63606706,"body_markdown":"Regarding the unanswered/able question https://stackoverflow.com/q/22697/592355, a Mockito approach would be:\r\n\r\n 1. Get the needed libraries into your (test) class path. (https://mvnrepository.com/artifact/org.mockito)\r\n\r\n 2. Mock the SftpSession. (Via annotation `private @Mock SftpSession sftpSession;` ...plus the according [initialization/enablement][1], or (manually) via `sftpSession = Mockito.mock(SftpSession.class);`)\r\n\r\n    a. See, whether the SessionFactory is needed (for test) at all, if so also mock.\r\n\r\n 3. Mock/verify/reset any interactions (within your tests) with the mocked objects. (Like `Mockito.when(sftpSession.foo(x,y,z)).then...` or `Mockito.verify(sftpSession, Mockito.times(n)).foo(x,y,z);`)\r\n\r\nFurther reading:\r\n\r\n - https://www.baeldung.com/mockito-series\r\n - https://stackoverflow.com/questions/tagged/mockito\r\n\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-annotations","title":"How to mock a sftp session","body":"<p>Regarding the unanswered/able question <a href=\"https://stackoverflow.com/q/22697/592355\">What&#39;s the best mock framework for Java?</a>, a Mockito approach would be:</p>\n<ol>\n<li><p>Get the needed libraries into your (test) class path. (<a href=\"https://mvnrepository.com/artifact/org.mockito\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mockito</a>)</p>\n</li>\n<li><p>Mock the SftpSession. (Via annotation <code>private @Mock SftpSession sftpSession;</code> ...plus the according <a href=\"https://www.baeldung.com/mockito-annotations\" rel=\"nofollow noreferrer\">initialization/enablement</a>, or (manually) via <code>sftpSession = Mockito.mock(SftpSession.class);</code>)</p>\n<p>a. See, whether the SessionFactory is needed (for test) at all, if so also mock.</p>\n</li>\n<li><p>Mock/verify/reset any interactions (within your tests) with the mocked objects. (Like <code>Mockito.when(sftpSession.foo(x,y,z)).then...</code> or <code>Mockito.verify(sftpSession, Mockito.times(n)).foo(x,y,z);</code>)</p>\n</li>\n</ol>\n<p>Further reading:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/mockito-series\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-series</a></li>\n<li><a href=\"https://stackoverflow.com/questions/tagged/mockito\">https://stackoverflow.com/questions/tagged/mockito</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630659952,"creation_date":1598486676,"answer_id":63607328,"question_id":63606706,"body_markdown":"I don&#39;t know the purpose of the test in question, but as an alternative to mocking I could suggest testing against a fully functional SFTP server, just as originally intended.\r\n\r\nThe trick is to use Docker and some Docker-enablement java library like [Testcontainers](https://www.testcontainers.org/).\r\n\r\n* Choose a SFTP server Docker image ([atmoz/sftp](https://hub.docker.com/r/atmoz/sftp) might be worth a try - judging from the number of stars and downloads) - make sure it&#39;s easily configurable (in `atmoz/sftp` the users can be configured using environment vars - see the documentation).\r\n* Use Testcontainers to set up the server in your test (environment variables can for a container can be set using [GenericContainer#addEnv](https://www.javadoc.io/doc/org.testcontainers/testcontainers/1.12.1/org/testcontainers/containers/GenericContainer.html#addEnv-java.lang.String-java.lang.String-)). Consult the quick start manuals for [Junit 4](https://www.testcontainers.org/test_framework_integration/junit_4/) and [Junit Jupiter](https://www.testcontainers.org/quickstart/junit_5_quickstart/) for details. ","title":"How to mock a sftp session","body":"<p>I don't know the purpose of the test in question, but as an alternative to mocking I could suggest testing against a fully functional SFTP server, just as originally intended.</p>\n<p>The trick is to use Docker and some Docker-enablement java library like <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers</a>.</p>\n<ul>\n<li>Choose a SFTP server Docker image (<a href=\"https://hub.docker.com/r/atmoz/sftp\" rel=\"nofollow noreferrer\">atmoz/sftp</a> might be worth a try - judging from the number of stars and downloads) - make sure it's easily configurable (in <code>atmoz/sftp</code> the users can be configured using environment vars - see the documentation).</li>\n<li>Use Testcontainers to set up the server in your test (environment variables can for a container can be set using <a href=\"https://www.javadoc.io/doc/org.testcontainers/testcontainers/1.12.1/org/testcontainers/containers/GenericContainer.html#addEnv-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">GenericContainer#addEnv</a>). Consult the quick start manuals for <a href=\"https://www.testcontainers.org/test_framework_integration/junit_4/\" rel=\"nofollow noreferrer\">Junit 4</a> and <a href=\"https://www.testcontainers.org/quickstart/junit_5_quickstart/\" rel=\"nofollow noreferrer\">Junit Jupiter</a> for details.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1619779075,"creation_date":1619779075,"answer_id":67332477,"question_id":63606706,"body_markdown":"In case you are using JUnit 5 Jupiter (might be easily adaptable to JUnit 4 as well) I&#180;ve written an [article][1] on how to do it using the atmoz/sftp Docker image together with Testcontainers.\r\n\r\n**The full working example can be found here**\r\n\r\n[https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/][1]\r\n\r\nThis is basically how you would define your TestContainer with SFTP\r\n\r\n     private static final GenericContainer sftp = new GenericContainer(\r\n                new ImageFromDockerfile()\r\n                        .withDockerfileFromBuilder(builder -&gt;\r\n                                builder\r\n                                        .from(&quot;atmoz/sftp:latest&quot;)\r\n                                        .run(&quot;mkdir -p /home/&quot; + USER + &quot;/upload; chmod -R 007 /home/&quot; + USER)\r\n                                        .build()))\r\n                //.withFileSystemBind(sftpHomeDirectory.getAbsolutePath(), &quot;/home/&quot; + USER + REMOTE_PATH, BindMode.READ_WRITE) //uncomment to mount host directory - not required / recommended\r\n                .withExposedPorts(PORT)\r\n                .withCommand(USER + &quot;:&quot; + PASSWORD + &quot;:1001:::upload&quot;);\r\n\r\n\r\n\r\n\r\n  [1]: https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/","title":"How to mock a sftp session","body":"<p>In case you are using JUnit 5 Jupiter (might be easily adaptable to JUnit 4 as well) I´ve written an <a href=\"https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\" rel=\"nofollow noreferrer\">article</a> on how to do it using the atmoz/sftp Docker image together with Testcontainers.</p>\n<p><strong>The full working example can be found here</strong></p>\n<p><a href=\"https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/\" rel=\"nofollow noreferrer\">https://overflowed.dev/blog/sftp-testing-junit-testcontainers-atmoz-sftp/</a></p>\n<p>This is basically how you would define your TestContainer with SFTP</p>\n<pre><code> private static final GenericContainer sftp = new GenericContainer(\n            new ImageFromDockerfile()\n                    .withDockerfileFromBuilder(builder -&gt;\n                            builder\n                                    .from(&quot;atmoz/sftp:latest&quot;)\n                                    .run(&quot;mkdir -p /home/&quot; + USER + &quot;/upload; chmod -R 007 /home/&quot; + USER)\n                                    .build()))\n            //.withFileSystemBind(sftpHomeDirectory.getAbsolutePath(), &quot;/home/&quot; + USER + REMOTE_PATH, BindMode.READ_WRITE) //uncomment to mount host directory - not required / recommended\n            .withExposedPorts(PORT)\n            .withCommand(USER + &quot;:&quot; + PASSWORD + &quot;:1001:::upload&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26222315,"reputation":1,"user_id":19899529,"display_name":"Oleksandr Arzamastsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670423678,"creation_date":1670423441,"answer_id":74718241,"question_id":63606706,"body_markdown":"As mentioned by [jannis](https://stackoverflow.com/users/4494577/jannis) [here](https://stackoverflow.com/a/63607328/19899529) a better alternative is to use a fully functional test SFTP environment.\r\n\r\n**Why?** Because mocking the logic requires a lot of boilerplate and does not allow one to fully test the application and its moving parts. Luckily, the test containers support is mature enough and can be used for your case.\r\n\r\nThe SFTP test container in a SpringBoot environment can be easily set up as follows:\r\n```java\r\n@SpringBootTest\r\nclass SshClientDemoApplicationTests {\r\n\r\n    @Container\r\n    static final GenericContainer&lt;?&gt; SFTP = new GenericContainer&lt;&gt;(&quot;atmoz/sftp:latest&quot;)\r\n            .withExposedPorts(22)\r\n            .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\r\n                    new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(22), new ExposedPort(22)))\r\n            ))\r\n            .withCommand(&quot;user:pass:::home&quot;);\r\n\r\n    @BeforeAll\r\n    static void start() throws IOException {\r\n        SFTP.start();\r\n    }\r\n\r\n    @AfterAll\r\n    static void stop() {\r\n        SFTP.stop();\r\n    }\r\n}\r\n```\r\nThe full working Spring Boot application can be downloaded [here](https://github.com/ArzamastsevOleksandr/ssh-client-demo).","title":"How to mock a sftp session","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/users/4494577/jannis\">jannis</a> <a href=\"https://stackoverflow.com/a/63607328/19899529\">here</a> a better alternative is to use a fully functional test SFTP environment.</p>\n<p><strong>Why?</strong> Because mocking the logic requires a lot of boilerplate and does not allow one to fully test the application and its moving parts. Luckily, the test containers support is mature enough and can be used for your case.</p>\n<p>The SFTP test container in a SpringBoot environment can be easily set up as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass SshClientDemoApplicationTests {\n\n    @Container\n    static final GenericContainer&lt;?&gt; SFTP = new GenericContainer&lt;&gt;(&quot;atmoz/sftp:latest&quot;)\n            .withExposedPorts(22)\n            .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\n                    new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(22), new ExposedPort(22)))\n            ))\n            .withCommand(&quot;user:pass:::home&quot;);\n\n    @BeforeAll\n    static void start() throws IOException {\n        SFTP.start();\n    }\n\n    @AfterAll\n    static void stop() {\n        SFTP.stop();\n    }\n}\n</code></pre>\n<p>The full working Spring Boot application can be downloaded <a href=\"https://github.com/ArzamastsevOleksandr/ssh-client-demo\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3031838,"reputation":1535,"user_id":2570690,"accept_rate":92,"display_name":"Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4987,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63607072,"answer_count":4,"score":3,"last_activity_date":1670423678,"creation_date":1598481718,"question_id":63606706,"body_markdown":"I am updating a few tests. The Before gets the sftp session. For this, the username and password have been hardcoded in the properties file. Due to security reasons, the password cannot be checked in and has to be blanked out. However the unit test fails at \r\n\r\n  \r\n    private DefaultSftpSessionFactory sftpClientFactory;\r\n    private  SftpSession sftpSession;\r\n  \r\n     @Before\r\n     public void setup() {\r\n\t\tsftpSession = sftpClientFactory.getSession();\r\n\t\t\r\n\t}\r\nThis step fails with &quot;either a password or private key is required&quot;.I would like to get a mock session, so that I dont have to provide a password.","title":"How to mock a sftp session","body":"<p>I am updating a few tests. The Before gets the sftp session. For this, the username and password have been hardcoded in the properties file. Due to security reasons, the password cannot be checked in and has to be blanked out. However the unit test fails at</p>\n<pre><code>private DefaultSftpSessionFactory sftpClientFactory;\nprivate  SftpSession sftpSession;\n\n @Before\n public void setup() {\n    sftpSession = sftpClientFactory.getSession();\n    \n}\n</code></pre>\n<p>This step fails with &quot;either a password or private key is required&quot;.I would like to get a mock session, so that I dont have to provide a password.</p>\n"},{"tags":["java","mongodb","spring-boot","watch","changestream"],"comments":[{"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"score":0,"creation_date":1670421544,"post_id":74716363,"comment_id":131872613,"body_markdown":"It should be started already when you envoke `.watch()`. Are you not seeing any results? Could you try without filters or options and debug from there? eg `collection.watch().forEach((Consumer&lt;ChangeStreamDocument&lt;Document&gt;&gt;) System.out::println);`","body":"It should be started already when you envoke <code>.watch()</code>. Are you not seeing any results? Could you try without filters or options and debug from there? eg <code>collection.watch().forEach((Consumer&lt;ChangeStreamDocument&lt;Do&zwnj;&#8203;cument&gt;&gt;) System.out::println);</code>"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1670422249,"post_id":74716363,"comment_id":131872843,"body_markdown":"@dangarfield I understand, but the whole `changeStream` method needs to be invoked before `.watch()` is invoked, or am I completely wrong here? This is not my Main class, so I don&#39;t see when the `changeStream` method is ever invoked?","body":"@dangarfield I understand, but the whole <code>changeStream</code> method needs to be invoked before <code>.watch()</code> is invoked, or am I completely wrong here? This is not my Main class, so I don&#39;t see when the <code>changeStream</code> method is ever invoked?"},{"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"score":0,"creation_date":1670422537,"post_id":74716363,"comment_id":131872963,"body_markdown":"Is that not both the problem and the solution? I&#39;ll add a potential spring-boot-esque solution","body":"Is that not both the problem and the solution? I&#39;ll add a potential spring-boot-esque solution"}],"answers":[{"comments":[{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1670423898,"post_id":74718213,"comment_id":131873526,"body_markdown":"That&#39;s exactly the thing I was looking for and it works. Thank you very much!!!","body":"That&#39;s exactly the thing I was looking for and it works. Thank you very much!!!"}],"tags":[],"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670423349,"creation_date":1670423349,"answer_id":74718213,"question_id":74716363,"body_markdown":"If I understand correctly, you be able to simply add a `@Configuration` class with a `@PostConstruct` method:\r\n\r\n```\r\n@Configuration\r\npublic class DatabaseChangeStreamInitialiser {\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n      // eg, call `MongoDBChangeStream.changeStream`\r\n    }\r\n}\r\n```\r\nor\r\n```\r\n@Component\r\npublic class DatabaseChangeStreamInitialiser {\r\n\r\n    @EventListener(ContextRefreshedEvent.class)\r\n    public void init() {\r\n      // eg, call `MongoDBChangeStream.changeStream`\r\n    }\r\n}\r\n```\r\n\r\nThere are many ways to do this, you can `@EventListener` annotations to listen for `ContextRefreshedEvent`. Create `InitializingBean`s, or even just finding the `main` method in your class annotated with `@SpringBootApplication`.\r\n\r\nSome other options are documented here:\r\nhttps://stackoverflow.com/questions/2401489/execute-method-on-startup-in-spring\r\n\r\nHopefully it is just that. If not, if you could describe the exact startup process and details of your spring-boot app, that would help.","title":"How do I actually start a MongoDB Change Stream in Spring Boot?","body":"<p>If I understand correctly, you be able to simply add a <code>@Configuration</code> class with a <code>@PostConstruct</code> method:</p>\n<pre><code>@Configuration\npublic class DatabaseChangeStreamInitialiser {\n\n    @PostConstruct\n    public void init() {\n      // eg, call `MongoDBChangeStream.changeStream`\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>@Component\npublic class DatabaseChangeStreamInitialiser {\n\n    @EventListener(ContextRefreshedEvent.class)\n    public void init() {\n      // eg, call `MongoDBChangeStream.changeStream`\n    }\n}\n</code></pre>\n<p>There are many ways to do this, you can <code>@EventListener</code> annotations to listen for <code>ContextRefreshedEvent</code>. Create <code>InitializingBean</code>s, or even just finding the <code>main</code> method in your class annotated with <code>@SpringBootApplication</code>.</p>\n<p>Some other options are documented here:\n<a href=\"https://stackoverflow.com/questions/2401489/execute-method-on-startup-in-spring\">Execute method on startup in Spring</a></p>\n<p>Hopefully it is just that. If not, if you could describe the exact startup process and details of your spring-boot app, that would help.</p>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74718213,"answer_count":1,"score":3,"last_activity_date":1670423349,"creation_date":1670414429,"question_id":74716363,"body_markdown":"So I&#39;ve managed to build up a very basic MongoDB Change Stream in my Spring Boot application:\r\n\r\n    public class MongoDBChangeStream {\r\n\r\n        public void changeStream() {\r\n\r\n            // connect to the local database server\r\n            MongoClient mongoClient = MongoClients.create(&quot;db uri goes here&quot;);\r\n\r\n            // Select the MongoDB database\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;MyDatabase&quot;);\r\n\r\n            // Select the collection to query\r\n            MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;teams&quot;);\r\n\r\n            // Create pipeline for operationType filter\r\n            List&lt;Bson&gt; pipeline = Arrays.asList(\r\n                    Aggregates.match(\r\n                            Filters.in(\r\n                                    &quot;operationType&quot;,\r\n                                    Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;)\r\n                            )));\r\n\r\n            // Create the Change Stream\r\n            ChangeStreamIterable&lt;Document&gt; changeStream = collection.watch(pipeline)\r\n                    .fullDocument(FullDocument.UPDATE_LOOKUP);\r\n\r\n            // Iterate over the Change Stream\r\n            for (ChangeStreamDocument&lt;Document&gt; changeEvent : changeStream) {\r\n                // Process the change event here\r\n                switch (changeEvent.getOperationType()) {\r\n                    case INSERT:\r\n                        System.out.println(&quot;MongoDB Change Stream detected an insert&quot;);\r\n                        break;\r\n                    case UPDATE:\r\n                        System.out.println(&quot;MongoDB Change Stream detected an update&quot;);\r\n                        break;\r\n                    case DELETE:\r\n                        System.out.println(&quot;MongoDB Change Stream detected a delete&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see I&#39;m listening for ***inserts***, ***updates*** and ***deletes*** in the ***&#39;teams&#39;*** collection, and then just print out the appropriate message in the console.\r\n\r\nBut how do I actually start the listener? When I run the application, something needs to start the changeStream for it to start watching the collection.. How do I do that?","title":"How do I actually start a MongoDB Change Stream in Spring Boot?","body":"<p>So I've managed to build up a very basic MongoDB Change Stream in my Spring Boot application:</p>\n<pre><code>public class MongoDBChangeStream {\n\n    public void changeStream() {\n\n        // connect to the local database server\n        MongoClient mongoClient = MongoClients.create(&quot;db uri goes here&quot;);\n\n        // Select the MongoDB database\n        MongoDatabase database = mongoClient.getDatabase(&quot;MyDatabase&quot;);\n\n        // Select the collection to query\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;teams&quot;);\n\n        // Create pipeline for operationType filter\n        List&lt;Bson&gt; pipeline = Arrays.asList(\n                Aggregates.match(\n                        Filters.in(\n                                &quot;operationType&quot;,\n                                Arrays.asList(&quot;insert&quot;, &quot;update&quot;, &quot;delete&quot;)\n                        )));\n\n        // Create the Change Stream\n        ChangeStreamIterable&lt;Document&gt; changeStream = collection.watch(pipeline)\n                .fullDocument(FullDocument.UPDATE_LOOKUP);\n\n        // Iterate over the Change Stream\n        for (ChangeStreamDocument&lt;Document&gt; changeEvent : changeStream) {\n            // Process the change event here\n            switch (changeEvent.getOperationType()) {\n                case INSERT:\n                    System.out.println(&quot;MongoDB Change Stream detected an insert&quot;);\n                    break;\n                case UPDATE:\n                    System.out.println(&quot;MongoDB Change Stream detected an update&quot;);\n                    break;\n                case DELETE:\n                    System.out.println(&quot;MongoDB Change Stream detected a delete&quot;);\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>As you can see I'm listening for <em><strong>inserts</strong></em>, <em><strong>updates</strong></em> and <em><strong>deletes</strong></em> in the <em><strong>'teams'</strong></em> collection, and then just print out the appropriate message in the console.</p>\n<p>But how do I actually start the listener? When I run the application, something needs to start the changeStream for it to start watching the collection.. How do I do that?</p>\n"},{"tags":["java","apache-flink","flink-streaming","flink-sql"],"answers":[{"comments":[{"owner":{"account_id":26394245,"reputation":33,"user_id":20586209,"display_name":"shepherd"},"score":0,"creation_date":1669915807,"post_id":74638954,"comment_id":131756902,"body_markdown":"I have an existing column named `EventTimestamp` in my table, and the issue is not with adding a new column, I have confirmed by printing the table schema that the new column i.e. `EventTime` is added to the table.\n\nThe problem is that after creating the tumbling window, when I call `windowedTable.select($(&quot;*&quot;));`  it throws this exception `Expected LocalReferenceExpression. Got: EventTime`","body":"I have an existing column named <code>EventTimestamp</code> in my table, and the issue is not with adding a new column, I have confirmed by printing the table schema that the new column i.e. <code>EventTime</code> is added to the table.  The problem is that after creating the tumbling window, when I call <code>windowedTable.select($(&quot;*&quot;));</code>  it throws this exception <code>Expected LocalReferenceExpression. Got: EventTime</code>"},{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1669924805,"post_id":74638954,"comment_id":131759738,"body_markdown":"Can you put the schema here.","body":"Can you put the schema here."},{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1669927950,"post_id":74638954,"comment_id":131760613,"body_markdown":"A column should be marked as ROWTIME. I `ve edited my original answer and added a link. Please check.","body":"A column should be marked as ROWTIME. I `ve edited my original answer and added a link. Please check."},{"owner":{"account_id":26394245,"reputation":33,"user_id":20586209,"display_name":"shepherd"},"score":0,"creation_date":1670262848,"post_id":74638954,"comment_id":131830902,"body_markdown":"Do you know how to do this directly on an existing Flink Table object instead of creating a new Table (or in a datastream)?","body":"Do you know how to do this directly on an existing Flink Table object instead of creating a new Table (or in a datastream)?"},{"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"score":0,"creation_date":1670423025,"post_id":74638954,"comment_id":131873166,"body_markdown":"please take a look at .watermark() method. It can be applied on an existing table I think. I editted my original answer too.","body":"please take a look at .watermark() method. It can be applied on an existing table I think. I editted my original answer too."}],"tags":[],"owner":{"account_id":2099100,"reputation":346,"user_id":1867205,"accept_rate":38,"display_name":"Kenank"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670423068,"creation_date":1669883590,"answer_id":74638954,"question_id":74635940,"body_markdown":"The problem is with .addColumns($(&quot;EventTimestamp&quot;) .\r\naddCoumns() takes an expression as input. Take a look at the example from docs.\r\n\r\n    Table orders = tableEnv.from(&quot;Orders&quot;);\r\n    Table result = orders.addColumns(concat($(&quot;c&quot;), &quot;sunny&quot;));\r\n\r\nIn this example, the column &quot;c&quot; already exists and you tell flink to concatane the value in column &quot;c&quot; with string &quot;sunny&quot; and add the new value as a new column.\r\n\r\nSo the meaning of your code \r\n\r\n    table.addColumns($(&quot;EventTimestamp&quot;)\r\n\r\nin English is &quot;select EventTimeStamp from table and add the values as a new column&quot;\r\nAs your table does not have a column &quot;EventTimestamp&quot; yet, expression $(&quot;EventTimestamp&quot;) returns error. \r\n\r\n**EDIT**: The problem might be related about ROWTIME. Please take a look at my answer [using-tumble-failing-on-timestamp][1]\r\n\r\n\r\n  [1]:https://stackoverflow.com/a/74538603/1867205\r\n\r\n\r\n\r\n            Table tableCpuDataCalculatedTemp = tableEnv.fromDataStream(streamCPUData, Schema.newBuilder()\r\n                            .column(&quot;deviceId&quot;, DataTypes.STRING())\r\n                            .column(&quot;cpuUsageAvarage&quot;, DataTypes.DOUBLE())\r\n                            .column(&quot;cpuLoad15Average&quot;, DataTypes.DOUBLE())\r\n                            .column(&quot;recordCount&quot;, DataTypes.INT())\r\n                            .column(&quot;time_Insert_ts&quot;, DataTypes.TIMESTAMP(3))\r\n                            .watermark(&quot;time_Insert_ts&quot;, &quot;time_Insert_ts&quot;)\r\n                            .build());","title":"Creating a Tumbling Window for a Flink table","body":"<p>The problem is with .addColumns($(&quot;EventTimestamp&quot;) .\naddCoumns() takes an expression as input. Take a look at the example from docs.</p>\n<pre><code>Table orders = tableEnv.from(&quot;Orders&quot;);\nTable result = orders.addColumns(concat($(&quot;c&quot;), &quot;sunny&quot;));\n</code></pre>\n<p>In this example, the column &quot;c&quot; already exists and you tell flink to concatane the value in column &quot;c&quot; with string &quot;sunny&quot; and add the new value as a new column.</p>\n<p>So the meaning of your code</p>\n<pre><code>table.addColumns($(&quot;EventTimestamp&quot;)\n</code></pre>\n<p>in English is &quot;select EventTimeStamp from table and add the values as a new column&quot;\nAs your table does not have a column &quot;EventTimestamp&quot; yet, expression $(&quot;EventTimestamp&quot;) returns error.</p>\n<p><strong>EDIT</strong>: The problem might be related about ROWTIME. Please take a look at my answer <a href=\"https://stackoverflow.com/a/74538603/1867205\">using-tumble-failing-on-timestamp</a></p>\n<pre><code>        Table tableCpuDataCalculatedTemp = tableEnv.fromDataStream(streamCPUData, Schema.newBuilder()\n                        .column(&quot;deviceId&quot;, DataTypes.STRING())\n                        .column(&quot;cpuUsageAvarage&quot;, DataTypes.DOUBLE())\n                        .column(&quot;cpuLoad15Average&quot;, DataTypes.DOUBLE())\n                        .column(&quot;recordCount&quot;, DataTypes.INT())\n                        .column(&quot;time_Insert_ts&quot;, DataTypes.TIMESTAMP(3))\n                        .watermark(&quot;time_Insert_ts&quot;, &quot;time_Insert_ts&quot;)\n                        .build());\n</code></pre>\n"}],"owner":{"account_id":26394245,"reputation":33,"user_id":20586209,"display_name":"shepherd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670423068,"creation_date":1669857765,"question_id":74635940,"body_markdown":"I&#39;m trying to create a [tubmbling window](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/tableapi/#tumble-tumbling-windows) for a Flink table in Java and query data for that window\r\n\r\n\r\n```\r\nTable table = tEnv.sqlQuery(query.getQuery());\r\n// create a new column &#39;EventTime&#39; of type Timestamp from &#39;EventTimetamp&#39; which is a string\r\ntable = table.addColumns($(&quot;EventTimestamp&quot;).toTimestamp().as(&quot;EventTime&quot;));\r\nWindowGroupedTable windowedTable = table.window(Tumble.over(&quot;10.minutes&quot;).on($(&quot;EventTime&quot;).proctime())\r\n    .as(&quot;w&quot;))\r\n    .groupBy($(&quot;w&quot;), $(&quot;GroupingColumn&quot;));\r\ntable = windowedTable.select($(&quot;*&quot;));\r\n\r\n```\r\n\r\nHowever, I&#39;m getting this error `Expected LocalReferenceExpression. Got: EventTime` when it tries to execute `windowedTable.select($(&quot;*&quot;))`. Does anyone know what this error means and how to solve it ?","title":"Creating a Tumbling Window for a Flink table","body":"<p>I'm trying to create a <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/table/tableapi/#tumble-tumbling-windows\" rel=\"nofollow noreferrer\">tubmbling window</a> for a Flink table in Java and query data for that window</p>\n<pre><code>Table table = tEnv.sqlQuery(query.getQuery());\n// create a new column 'EventTime' of type Timestamp from 'EventTimetamp' which is a string\ntable = table.addColumns($(&quot;EventTimestamp&quot;).toTimestamp().as(&quot;EventTime&quot;));\nWindowGroupedTable windowedTable = table.window(Tumble.over(&quot;10.minutes&quot;).on($(&quot;EventTime&quot;).proctime())\n    .as(&quot;w&quot;))\n    .groupBy($(&quot;w&quot;), $(&quot;GroupingColumn&quot;));\ntable = windowedTable.select($(&quot;*&quot;));\n\n</code></pre>\n<p>However, I'm getting this error <code>Expected LocalReferenceExpression. Got: EventTime</code> when it tries to execute <code>windowedTable.select($(&quot;*&quot;))</code>. Does anyone know what this error means and how to solve it ?</p>\n"},{"tags":["java","tomcat","sap-commerce-cloud"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1531207426,"post_id":51259336,"comment_id":89497071,"body_markdown":"Your server does not support the cipher suite or the TLS-version you used for creating your certificate. This means either your server is not up-to-date or you created certificates with old tls/cs.","body":"Your server does not support the cipher suite or the TLS-version you used for creating your certificate. This means either your server is not up-to-date or you created certificates with old tls/cs."},{"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"score":0,"creation_date":1531207655,"post_id":51259336,"comment_id":89497187,"body_markdown":"so I have to re-create certificate with the supported TLS-version.\nThanks","body":"so I have to re-create certificate with the supported TLS-version. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670422742,"creation_date":1531220668,"answer_id":51263567,"question_id":51259336,"body_markdown":"The problem was that I was creating a Self-signed certificate with OpenSSL. But when I generated the certificate from java Keystore then it works perfectly.\r\n\r\n\r\n    keytool.exe -genkey -alias tomcat -keyalg RSA -keystore c:\\tomcatkeys\r\n\r\nThe reason was OpenSSL and keystore produce certificate in different file formats. You see the difference from the link below.\r\nhttps://security.stackexchange.com/questions/98282/difference-between-openssl-and-keytool\r\n\r\n\r\n\r\n\r\n","title":"Hybris Commerce ERR SSL VERSION OR CIPHER MISMATCH","body":"<p>The problem was that I was creating a Self-signed certificate with OpenSSL. But when I generated the certificate from java Keystore then it works perfectly.</p>\n<pre><code>keytool.exe -genkey -alias tomcat -keyalg RSA -keystore c:\\tomcatkeys\n</code></pre>\n<p>The reason was OpenSSL and keystore produce certificate in different file formats. You see the difference from the link below.\n<a href=\"https://security.stackexchange.com/questions/98282/difference-between-openssl-and-keytool\">https://security.stackexchange.com/questions/98282/difference-between-openssl-and-keytool</a></p>\n"}],"owner":{"account_id":902053,"reputation":1613,"user_id":5823681,"display_name":"khd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670422742,"creation_date":1531207257,"question_id":51259336,"body_markdown":"I have created a certificate with OpenSSL\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    openssl genrsa -des3 -out server.key 2048\r\n    openssl rsa -in server.key -out server.key\r\n    openssl req -new -key server.key -out server.csr\r\n    keytool -import -trustcacerts -alias server.key -file server.crt -keystore \r\n\r\nand placed keystore.jks into `${catalina.home}/lib/`\r\n\r\n\r\nserver.xml\r\n\r\n    &lt;Connector port=&quot;9002&quot;\r\n                              maxHttpHeaderSize=&quot;8192&quot;\r\n                              maxPostSize=&quot;4194304&quot;\r\n                  maxThreads=&quot;150&quot;\r\n                  protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n                  executor=&quot;hybrisExecutor&quot;\r\n                  enableLookups=&quot;false&quot;\r\n                  acceptCount=&quot;100&quot;\r\n                  connectionTimeout=&quot;20000&quot;\r\n                  disableUploadTimeout=&quot;true&quot;\r\n                  URIEncoding=&quot;UTF-8&quot;\r\n                  SSLEnabled=&quot;true&quot;\r\n                                           scheme=&quot;https&quot;\r\n                                           secure=&quot;true&quot;\r\n                                           clientAuth=&quot;false&quot;\r\n                                   sslProtocol = &quot;TLS&quot;\r\n                                   sslEnabledProtocols=&quot;TLSv1,TLSv1.1,TLSv1.2&quot;\r\n                                \r\n                                   keystoreFile=&quot;${catalina.home}/lib/keystore.jks&quot;\r\n                                   keystorePass=&quot;123456&quot;\r\n\r\n\r\n\r\nOn Chrome it gives following error:\r\n\r\n\r\n&gt;     This site can’t provide a secure connection\r\n&gt;     13.236.191.242 uses an unsupported protocol.\r\n&gt;     ERR_SSL_VERSION_OR_CIPHER_MISMATCH\r\n&gt;\r\n&gt;     Unsupported protocol\r\n&gt;     The client and server don&#39;t support a common SSL protocol version or cipher suite.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    curl -Iv https://11.231.191.212:9001/\r\n\r\n    Trying 11.231.191.212...\r\n    TCP_NODELAY set\r\n    Connected to 11.231.191.212 (11.231.191.212) port 9001 (#0)\r\n    schannel: SSL/TLS connection with 11.231.191.212 port 9001 (step 1/3)\r\n    schannel: checking server certificate revocation\r\n    schannel: using IP address, SNI is not supported by OS.\r\n    schannel: sending initial handshake data: sending 156 bytes...\r\n    schannel: sent initial handshake data: sent 156 bytes\r\n    schannel: SSL/TLS connection with 11.231.191.212 port 9001 (step 2/3)\r\n    schannel: failed to receive handshake, need more data\r\n\r\n\r\n\r\n","title":"Hybris Commerce ERR SSL VERSION OR CIPHER MISMATCH","body":"<p>I have created a certificate with OpenSSL</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>openssl genrsa -des3 -out server.key 2048\nopenssl rsa -in server.key -out server.key\nopenssl req -new -key server.key -out server.csr\nkeytool -import -trustcacerts -alias server.key -file server.crt -keystore \n</code></pre>\n\n<p>and placed keystore.jks into <code>${catalina.home}/lib/</code></p>\n\n<p>server.xml</p>\n\n<pre><code>&lt;Connector port=\"9002\"\n                          maxHttpHeaderSize=\"8192\"\n                          maxPostSize=\"4194304\"\n              maxThreads=\"150\"\n              protocol=\"org.apache.coyote.http11.Http11Protocol\"\n              executor=\"hybrisExecutor\"\n              enableLookups=\"false\"\n              acceptCount=\"100\"\n              connectionTimeout=\"20000\"\n              disableUploadTimeout=\"true\"\n              URIEncoding=\"UTF-8\"\n              SSLEnabled=\"true\"\n                                       scheme=\"https\"\n                                       secure=\"true\"\n                                       clientAuth=\"false\"\n                               sslProtocol = \"TLS\"\n                               sslEnabledProtocols=\"TLSv1,TLSv1.1,TLSv1.2\"\n\n                               keystoreFile=\"${catalina.home}/lib/keystore.jks\"\n                               keystorePass=\"123456\"\n</code></pre>\n\n<p>On Chrome it gives following error:</p>\n\n<blockquote>\n<pre><code>This site can’t provide a secure connection\n13.236.191.242 uses an unsupported protocol.\nERR_SSL_VERSION_OR_CIPHER_MISMATCH\n\nUnsupported protocol\nThe client and server don't support a common SSL protocol version or cipher suite.\n</code></pre>\n</blockquote>\n\n<pre class=\"lang-none prettyprint-override\"><code>curl -Iv https://11.231.191.212:9001/\n\nTrying 11.231.191.212...\nTCP_NODELAY set\nConnected to 11.231.191.212 (11.231.191.212) port 9001 (#0)\nschannel: SSL/TLS connection with 11.231.191.212 port 9001 (step 1/3)\nschannel: checking server certificate revocation\nschannel: using IP address, SNI is not supported by OS.\nschannel: sending initial handshake data: sending 156 bytes...\nschannel: sent initial handshake data: sent 156 bytes\nschannel: SSL/TLS connection with 11.231.191.212 port 9001 (step 2/3)\nschannel: failed to receive handshake, need more data\n</code></pre>\n"},{"tags":["java","spring","tomcat","boot","embedded-tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670422760,"post_id":74706353,"comment_id":131873059,"body_markdown":"Those are 4 different application not a single one. So just create 4 different apps.","body":"Those are 4 different application not a single one. So just create 4 different apps."},{"owner":{"account_id":22968511,"reputation":23,"user_id":17097244,"display_name":"Federico Favaro"},"score":0,"creation_date":1670573436,"post_id":74706353,"comment_id":131909836,"body_markdown":"I think I haven&#39;t explained myself properly, let me clarify:\nCurrently a single application contains the code related to all of the different Tomcat contexts, so turning this single monolith into 4 separate applications would be extremely complex. Is this actually the only solution?","body":"I think I haven&#39;t explained myself properly, let me clarify: Currently a single application contains the code related to all of the different Tomcat contexts, so turning this single monolith into 4 separate applications would be extremely complex. Is this actually the only solution?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670574005,"post_id":74706353,"comment_id":131909994,"body_markdown":"That isn&#39;t what this configuration you have is showing. It shows mapping to 4 different directories for 4 different applications. If it is 1 application, why extract it 4 times to begin with?","body":"That isn&#39;t what this configuration you have is showing. It shows mapping to 4 different directories for 4 different applications. If it is 1 application, why extract it 4 times to begin with?"},{"owner":{"account_id":22968511,"reputation":23,"user_id":17097244,"display_name":"Federico Favaro"},"score":0,"creation_date":1670578175,"post_id":74706353,"comment_id":131911163,"body_markdown":"The webapp directories are different for all 4 applications, but the SRC folder is having all the Java files associated with all 4 applications. We can&#39;t bifurcate the src folder as the code is very old and not that systematic","body":"The webapp directories are different for all 4 applications, but the SRC folder is having all the Java files associated with all 4 applications. We can&#39;t bifurcate the src folder as the code is very old and not that systematic"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670579835,"post_id":74706353,"comment_id":131911667,"body_markdown":"You can create 4 directories, so why wouldn&#39;t you be able to do the same for 4 applications? You apaprently already have a process inplace to do the directories. I would also suspect (but I don&#39;t know your app) that the main difference is configuration.","body":"You can create 4 directories, so why wouldn&#39;t you be able to do the same for 4 applications? You apaprently already have a process inplace to do the directories. I would also suspect (but I don&#39;t know your app) that the main difference is configuration."}],"owner":{"account_id":22968511,"reputation":23,"user_id":17097244,"display_name":"Federico Favaro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670422495,"creation_date":1670345914,"question_id":74706353,"body_markdown":"I need to convert an old web application containing multiple tomcat contexts into a Spring Boot application that utilizes Embedded Tomcat. \r\n\r\nThe following is the server.xml file defining the contexts:\r\n\r\n[![server.xml](https://i.stack.imgur.com/i7iAR.png)](https://i.stack.imgur.com/i7iAR.png)\r\n\r\nIs there a way in which I can configure a Spring Boot application in order for it to contain all of these contexts?\r\n\r\n\r\n\r\nI&#39;ve seen that it&#39;s possible to configure a context by overriding methods of the TomcatServletWebServerFactory, is there any method of that class I can override to define more than one context?","title":"How can I convert a Web Application with multiple servlet contexts to Spring Boot using embedded Tomcat?","body":"<p>I need to convert an old web application containing multiple tomcat contexts into a Spring Boot application that utilizes Embedded Tomcat.</p>\n<p>The following is the server.xml file defining the contexts:</p>\n<p><a href=\"https://i.stack.imgur.com/i7iAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7iAR.png\" alt=\"server.xml\" /></a></p>\n<p>Is there a way in which I can configure a Spring Boot application in order for it to contain all of these contexts?</p>\n<p>I've seen that it's possible to configure a context by overriding methods of the TomcatServletWebServerFactory, is there any method of that class I can override to define more than one context?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1989356,"reputation":5209,"user_id":1981720,"accept_rate":65,"display_name":"lunr"},"score":0,"creation_date":1368760187,"post_id":16588394,"comment_id":23862403,"body_markdown":"Your mapping looks fine. There may be a problem with how you are persisting the entities. Can you paste the relevant code?","body":"Your mapping looks fine. There may be a problem with how you are persisting the entities. Can you paste the relevant code?"},{"owner":{"account_id":382574,"reputation":7277,"user_id":737888,"accept_rate":40,"display_name":"Agustinus Verdy"},"score":0,"creation_date":1368843119,"post_id":16588394,"comment_id":23896252,"body_markdown":"@lunr I havent found the exact solution, however right now have a workaround by registering string trimmer editor in Controller `binder.registerCustomEditor(Category.class, new StringTrimmerEditor(true));` and setting the parentCategory to NULL if the parentCategory.categoryId is NULL `if (category.getParentCategory().getCategoryId() == null) {\n\t\t\tcategory.setParentCategory(null);\n\t\t}`","body":"@lunr I havent found the exact solution, however right now have a workaround by registering string trimmer editor in Controller <code>binder.registerCustomEditor(Category.class, new StringTrimmerEditor(true));</code> and setting the parentCategory to NULL if the parentCategory.categoryId is NULL <code>if (category.getParentCategory().getCategoryId() == null) { \t\t\tcategory.setParentCategory(null); \t\t}</code>"},{"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"score":1,"creation_date":1368843613,"post_id":16588394,"comment_id":23896302,"body_markdown":"Before persisting, you probably have a `new Category()` as `parentCategory` instead of simply `null`.","body":"Before persisting, you probably have a <code>new Category()</code> as <code>parentCategory</code> instead of simply <code>null</code>."},{"owner":{"account_id":382574,"reputation":7277,"user_id":737888,"accept_rate":40,"display_name":"Agustinus Verdy"},"score":0,"creation_date":1368843783,"post_id":16588394,"comment_id":23896321,"body_markdown":"@acdcjunior yeah, that&#39;s what happening here. Though I don&#39;t know why Hibernate does that, and don&#39;t know how to prevent it other than setting it back to `null`","body":"@acdcjunior yeah, that&#39;s what happening here. Though I don&#39;t know why Hibernate does that, and don&#39;t know how to prevent it other than setting it back to <code>null</code>"},{"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368844018,"post_id":16588394,"comment_id":23896355,"body_markdown":"I dont see how Hibernate is doing this. Aren&#39;t you the one who&#39;s setting that value?","body":"I dont see how Hibernate is doing this. Aren&#39;t you the one who&#39;s setting that value?"},{"owner":{"account_id":382574,"reputation":7277,"user_id":737888,"accept_rate":40,"display_name":"Agustinus Verdy"},"score":0,"creation_date":1368846337,"post_id":16588394,"comment_id":23896654,"body_markdown":"@acdcjunior That&#39;s what I thought, but I couldn&#39;t find it anywhere. I&#39;ve added the `controller`. The `parentCategory` has been set even right at the beginning of the `create` method there. I don&#39;t know what&#39;s happening before entering the `create` method other than the validation and conversion process","body":"@acdcjunior That&#39;s what I thought, but I couldn&#39;t find it anywhere. I&#39;ve added the <code>controller</code>. The <code>parentCategory</code> has been set even right at the beginning of the <code>create</code> method there. I don&#39;t know what&#39;s happening before entering the <code>create</code> method other than the validation and conversion process"},{"owner":{"account_id":2077773,"reputation":133298,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1368846910,"post_id":16588394,"comment_id":23896722,"body_markdown":"This may help for debugging: when entering `create`, check if `parentCategory` is not null. If it isnt, throw a `new RuntimeException`. That shall show the stacktrace. It may show you who called `create` with that value.","body":"This may help for debugging: when entering <code>create</code>, check if <code>parentCategory</code> is not null. If it isnt, throw a <code>new RuntimeException</code>. That shall show the stacktrace. It may show you who called <code>create</code> with that value."}],"answers":[{"tags":[],"owner":{"account_id":20048923,"reputation":1,"user_id":20658188,"display_name":"Mukai"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670422008,"creation_date":1670410439,"answer_id":74715487,"question_id":16588394,"body_markdown":"You can model as follows for self-referencing associations with Hibernate. I hope this will work.\r\n\r\n```\r\n@Entity\r\n@Getter @Setter\r\npublic class Category implements Serializable {\r\n     private @Id @GeneratedValue Long id;\r\n     private String catgName;\r\n    \r\n    @OneToMany(cascade=CascadeType.ALL,fetch = \r\n     FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Category&gt; subCategories  = new ArrayList&lt;&gt;();\r\n\r\n    public void addSubCatg(Category subCatg) {\r\n      this.subCategories.add(subCatg);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring-Hibernate Self Referencing Table","body":"<p>You can model as follows for self-referencing associations with Hibernate. I hope this will work.</p>\n<pre><code>@Entity\n@Getter @Setter\npublic class Category implements Serializable {\n     private @Id @GeneratedValue Long id;\n     private String catgName;\n    \n    @OneToMany(cascade=CascadeType.ALL,fetch = \n     FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Category&gt; subCategories  = new ArrayList&lt;&gt;();\n\n    public void addSubCatg(Category subCatg) {\n      this.subCategories.add(subCatg);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":382574,"reputation":7277,"user_id":737888,"accept_rate":40,"display_name":"Agustinus Verdy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670422008,"creation_date":1368709834,"question_id":16588394,"body_markdown":"Let say I have `Category` table and each category has parent and subcategory. However the parent is optional, so it may not have a parent.\r\n\r\n    CREATE TABLE `Category` (\r\n      `categoryID` int(11) NOT NULL AUTO_INCREMENT,\r\n      `name` varchar(100) DEFAULT NULL,\r\n      `parentCategoryID` int(11) DEFAULT NULL,\r\n      PRIMARY KEY (`categoryID`),\r\n      KEY `category_category_fk` (`parentCategoryID`),\r\n      CONSTRAINT `category_category_fk` FOREIGN KEY (`parentCategoryID`) REFERENCES `Category` (`categoryID`) ON DELETE NO ACTION ON UPDATE NO ACTION,\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=latin1;\r\n\r\nAnd here is the hbm file\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated May 16, 2013 12:50:14 PM by Hibernate Tools 3.4.0.CR1 --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;model.Category&quot; table=&quot;Category&quot;&gt;\r\n            &lt;id name=&quot;categoryId&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n                &lt;column name=&quot;categoryID&quot; /&gt;\r\n                &lt;generator class=&quot;identity&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;many-to-one name=&quot;parentCategory&quot; class=&quot;model.Category&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n                &lt;column name=&quot;parentCategoryID&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            &lt;property name=&quot;name&quot; type=&quot;string&quot;&gt;\r\n                &lt;column name=&quot;name&quot; length=&quot;100&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;set name=&quot;subCategories&quot; table=&quot;Category&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;key&gt;\r\n                    &lt;column name=&quot;parentCategoryID&quot; /&gt;\r\n                &lt;/key&gt;\r\n                &lt;one-to-many class=&quot;model.Category&quot; /&gt;\r\n            &lt;/set&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nI used Hibernate Tools to generate that HBM and the DAO as well.\r\n\r\nNow the problem is every time I&#39;m trying to persist the `Category` without parent the Hibernate added two rows in the table the first one with every field set to `NULL` and the second one is with the value that I put and with `parentCategoryID` referring to that first row.\r\n\r\nIf I thing it has something to do with `cascade` option, however every time I remove it, Java throws an exception saying something like `.... references an unsaved transient instance - save the transient instane before flushing`\r\n\r\nAnyone knows how to do it properly in here? I have just started learning Spring-Hibernate last week so it&#39;s quite new to me. Thanks in advance.\r\n\r\n**Edit** (relevant code)\r\n\r\n`model.Category`\r\n\r\n    /**\r\n     * Category generated by hbm2java\r\n     * model.Category\r\n     */\r\n     @JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;categoryId&quot;)\r\n     public class Category implements java.io.Serializable {\r\n\r\n\tprivate Integer categoryId;\r\n\t\r\n\tprivate Category parentCategory;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t@JsonIgnore\r\n\tprivate Set&lt;Category&gt; subCategories = new HashSet&lt;Category&gt;(0);\r\n\r\n\tpublic Category() {\r\n\t}\r\n\r\n\tpublic Category(Category parentCategory,\r\n\t\t\tString name\r\n\t\t\tSet&lt;Category&gt; subCategories) {\r\n\t\tthis.parentCategory = parentCategory;\r\n\t\tthis.name = name;\r\n\t\tthis.subCategories = subCategories;\r\n\t}\r\n\r\n\tpublic Integer getCategoryId() {\r\n\t\treturn this.categoryId;\r\n\t}\r\n\r\n\tpublic void setCategoryId(Integer categoryId) {\r\n\t\tthis.categoryId = categoryId;\r\n\t}\r\n\r\n\tpublic Category getParentCategory() {\r\n\t\treturn this.parentCategory;\r\n\t}\r\n\r\n\tpublic void setParentCategory(Category parentCategory) {\r\n\t\tthis.parentCategory = parentCategory;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Set&lt;Category&gt; getSubCategories() {\r\n\t\treturn this.subCategories;\r\n\t}\r\n\r\n\tpublic void setSubCategories(Set&lt;Category&gt; subCategories) {\r\n\t\tthis.subCategories = subCategories;\r\n\t}\r\n\r\n    }\r\n\r\n\r\n`dao.CategoriesDao`\r\n\r\n    /**\r\n     * Home object for domain model class Category.\r\n     * @see model.Category\r\n     * @author Hibernate Tools\r\n     */\r\n    @Repository\r\n    public class CategoriesDao {\r\n    \r\n    \tprivate static final Log log = LogFactory.getLog(CategoriesDao.class);\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \r\n    \tpublic void persist(Category transientInstance) {\r\n    \t\tlog.debug(&quot;persisting Category instance&quot;);\r\n    \t\ttry {\r\n    \t\t\tsessionFactory.getCurrentSession().persist(transientInstance);\r\n    \t\t\tlog.debug(&quot;persist successful&quot;);\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;persist failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void attachDirty(Category instance) {\r\n    \t\tlog.debug(&quot;attaching dirty Category instance&quot;);\r\n    \t\ttry {\r\n    \t\t\tsessionFactory.getCurrentSession().saveOrUpdate(instance);\r\n    \t\t\tlog.debug(&quot;attach successful&quot;);\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;attach failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void attachClean(Category instance) {\r\n    \t\tlog.debug(&quot;attaching clean Category instance&quot;);\r\n    \t\ttry {\r\n    \t\t\tsessionFactory.getCurrentSession().lock(instance, LockMode.NONE);\r\n    \t\t\tlog.debug(&quot;attach successful&quot;);\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;attach failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void delete(Category persistentInstance) {\r\n    \t\tlog.debug(&quot;deleting Category instance&quot;);\r\n    \t\ttry {\r\n    \t\t\tsessionFactory.getCurrentSession().delete(persistentInstance);\r\n    \t\t\tlog.debug(&quot;delete successful&quot;);\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;delete failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Category merge(Category detachedInstance) {\r\n    \t\tlog.debug(&quot;merging Category instance&quot;);\r\n    \t\ttry {\r\n    \t\t\tCategory result = (Category) sessionFactory.getCurrentSession()\r\n    \t\t\t\t\t.merge(detachedInstance);\r\n    \t\t\tlog.debug(&quot;merge successful&quot;);\r\n    \t\t\treturn result;\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;merge failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Category findById(java.lang.Integer id) {\r\n    \t\tlog.debug(&quot;getting Category instance with id: &quot; + id);\r\n    \t\ttry {\r\n    \t\t\tCategory instance = (Category) sessionFactory\r\n    \t\t\t\t\t.getCurrentSession().get(&quot;model.Category&quot;, id);\r\n    \t\t\tif (instance == null) {\r\n    \t\t\t\tlog.debug(&quot;get successful, no instance found&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tlog.debug(&quot;get successful, instance found&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn instance;\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;get failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic List&lt;Category&gt; findByExample(Category instance) {\r\n    \t\tlog.debug(&quot;finding Category instance by example&quot;);\r\n    \t\ttry {\r\n    \t\t\tList&lt;Category&gt; results = (List&lt;Category&gt;) sessionFactory\r\n    \t\t\t\t\t.getCurrentSession().createCriteria(&quot;model.Category&quot;)\r\n    \t\t\t\t\t.add(create(instance)).list();\r\n    \t\t\tlog.debug(&quot;find by example successful, result size: &quot;\r\n    \t\t\t\t\t+ results.size());\r\n    \t\t\treturn results;\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;find by example failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Edit** (added controller)\r\n\r\n`controller.AddCategoryController`\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/categories/addcategory.*&quot;)\r\n    public class AddCategoryController {\r\n    \t@Autowired\r\n    \tprivate CategoriesService categoriesService;\r\n    \t\r\n    \t@InitBinder(&quot;Category&quot;)\r\n    \tpublic void initBinder(WebDataBinder binder) {\r\n    \t\tbinder.setValidator(new CategoryValidator());\r\n    \t\t/**\r\n    \t\t * Will put NULL for empty string instead of trying to put value\r\n    \t\t * so later can be used to NULL empty parentCategory\r\n    \t\t */\r\n    \t\tbinder.registerCustomEditor(Category.class, new StringTrimmerEditor(true));\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method = RequestMethod.GET)\r\n    \tpublic String view(Model model) {\r\n    \t\tthis.setFormAttributes(model, new Category());\r\n    \t\treturn &quot;/categories/addcategory&quot;;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Called on form submission\r\n    \t */\r\n    \t@RequestMapping(method = RequestMethod.POST)\r\n    \tpublic String create(\r\n    \t\t\t@ModelAttribute(&quot;Category&quot;) @Valid Category category,\r\n    \t\t\tBindingResult result, Model model) {\r\n    \t\tif (result.hasErrors()) {\r\n    \t\t\tthis.setFormAttributes(model, category);\r\n    \t\t\treturn &quot;/categories/addcategory&quot;;\r\n    \t\t}\r\n    \t\tthis.categoriesService.save(category);\r\n    \t\treturn &quot;redirect:/categories/listcategories.htm&quot;;\r\n    \t}\r\n    \t\r\n    \tprivate void setFormAttributes(Model model, Category category) {\r\n    \t\tmodel.addAttribute(&quot;Category&quot;, category);\r\n    \t\tmodel.addAttribute(&quot;categories&quot;, this.categoriesService.listCategories());\r\n    \t}\r\n    }\r\n\r\nI obtain this answer : \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2019-10-15T10:01:14.916+0000&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\\r\\n\\tat com.sun.proxy.$Proxy141.save(Unknown Source)\\r\\n\\tat com.app.ws.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:44)\\r\\n\\tat com.app.ws.ui.controller.CategoryController.createCategory(CategoryController.java:86)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat com.app.ws.config.security.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:36)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:97)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3192)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3706)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1483)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:512)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3321)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2517)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\\r\\n\\t... 121 more\\r\\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;5&#39; for key &#39;PRIMARY&#39;\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\\r\\n\\t... 138 more\\r\\n&quot;,\r\n        &quot;path&quot;: &quot;/app-ws/categories&quot;\r\n    }","title":"Spring-Hibernate Self Referencing Table","body":"<p>Let say I have <code>Category</code> table and each category has parent and subcategory. However the parent is optional, so it may not have a parent.</p>\n\n<pre><code>CREATE TABLE `Category` (\n  `categoryID` int(11) NOT NULL AUTO_INCREMENT,\n  `name` varchar(100) DEFAULT NULL,\n  `parentCategoryID` int(11) DEFAULT NULL,\n  PRIMARY KEY (`categoryID`),\n  KEY `category_category_fk` (`parentCategoryID`),\n  CONSTRAINT `category_category_fk` FOREIGN KEY (`parentCategoryID`) REFERENCES `Category` (`categoryID`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n</code></pre>\n\n<p>And here is the hbm file</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\"&gt;\n&lt;!-- Generated May 16, 2013 12:50:14 PM by Hibernate Tools 3.4.0.CR1 --&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=\"model.Category\" table=\"Category\"&gt;\n        &lt;id name=\"categoryId\" type=\"java.lang.Integer\"&gt;\n            &lt;column name=\"categoryID\" /&gt;\n            &lt;generator class=\"identity\" /&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=\"parentCategory\" class=\"model.Category\" fetch=\"select\" cascade=\"all\"&gt;\n            &lt;column name=\"parentCategoryID\" /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=\"name\" type=\"string\"&gt;\n            &lt;column name=\"name\" length=\"100\" /&gt;\n        &lt;/property&gt;\n        &lt;set name=\"subCategories\" table=\"Category\" inverse=\"true\" lazy=\"true\" fetch=\"select\"&gt;\n            &lt;key&gt;\n                &lt;column name=\"parentCategoryID\" /&gt;\n            &lt;/key&gt;\n            &lt;one-to-many class=\"model.Category\" /&gt;\n        &lt;/set&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>I used Hibernate Tools to generate that HBM and the DAO as well.</p>\n\n<p>Now the problem is every time I'm trying to persist the <code>Category</code> without parent the Hibernate added two rows in the table the first one with every field set to <code>NULL</code> and the second one is with the value that I put and with <code>parentCategoryID</code> referring to that first row.</p>\n\n<p>If I thing it has something to do with <code>cascade</code> option, however every time I remove it, Java throws an exception saying something like <code>.... references an unsaved transient instance - save the transient instane before flushing</code></p>\n\n<p>Anyone knows how to do it properly in here? I have just started learning Spring-Hibernate last week so it's quite new to me. Thanks in advance.</p>\n\n<p><strong>Edit</strong> (relevant code)</p>\n\n<p><code>model.Category</code></p>\n\n<pre><code>/**\n * Category generated by hbm2java\n * model.Category\n */\n @JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=\"categoryId\")\n public class Category implements java.io.Serializable {\n\nprivate Integer categoryId;\n\nprivate Category parentCategory;\n\nprivate String name;\n\n@JsonIgnore\nprivate Set&lt;Category&gt; subCategories = new HashSet&lt;Category&gt;(0);\n\npublic Category() {\n}\n\npublic Category(Category parentCategory,\n        String name\n        Set&lt;Category&gt; subCategories) {\n    this.parentCategory = parentCategory;\n    this.name = name;\n    this.subCategories = subCategories;\n}\n\npublic Integer getCategoryId() {\n    return this.categoryId;\n}\n\npublic void setCategoryId(Integer categoryId) {\n    this.categoryId = categoryId;\n}\n\npublic Category getParentCategory() {\n    return this.parentCategory;\n}\n\npublic void setParentCategory(Category parentCategory) {\n    this.parentCategory = parentCategory;\n}\n\npublic String getName() {\n    return this.name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Set&lt;Category&gt; getSubCategories() {\n    return this.subCategories;\n}\n\npublic void setSubCategories(Set&lt;Category&gt; subCategories) {\n    this.subCategories = subCategories;\n}\n\n}\n</code></pre>\n\n<p><code>dao.CategoriesDao</code></p>\n\n<pre><code>/**\n * Home object for domain model class Category.\n * @see model.Category\n * @author Hibernate Tools\n */\n@Repository\npublic class CategoriesDao {\n\n    private static final Log log = LogFactory.getLog(CategoriesDao.class);\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    public void persist(Category transientInstance) {\n        log.debug(\"persisting Category instance\");\n        try {\n            sessionFactory.getCurrentSession().persist(transientInstance);\n            log.debug(\"persist successful\");\n        } catch (RuntimeException re) {\n            log.error(\"persist failed\", re);\n            throw re;\n        }\n    }\n\n    public void attachDirty(Category instance) {\n        log.debug(\"attaching dirty Category instance\");\n        try {\n            sessionFactory.getCurrentSession().saveOrUpdate(instance);\n            log.debug(\"attach successful\");\n        } catch (RuntimeException re) {\n            log.error(\"attach failed\", re);\n            throw re;\n        }\n    }\n\n    public void attachClean(Category instance) {\n        log.debug(\"attaching clean Category instance\");\n        try {\n            sessionFactory.getCurrentSession().lock(instance, LockMode.NONE);\n            log.debug(\"attach successful\");\n        } catch (RuntimeException re) {\n            log.error(\"attach failed\", re);\n            throw re;\n        }\n    }\n\n    public void delete(Category persistentInstance) {\n        log.debug(\"deleting Category instance\");\n        try {\n            sessionFactory.getCurrentSession().delete(persistentInstance);\n            log.debug(\"delete successful\");\n        } catch (RuntimeException re) {\n            log.error(\"delete failed\", re);\n            throw re;\n        }\n    }\n\n    public Category merge(Category detachedInstance) {\n        log.debug(\"merging Category instance\");\n        try {\n            Category result = (Category) sessionFactory.getCurrentSession()\n                    .merge(detachedInstance);\n            log.debug(\"merge successful\");\n            return result;\n        } catch (RuntimeException re) {\n            log.error(\"merge failed\", re);\n            throw re;\n        }\n    }\n\n    public Category findById(java.lang.Integer id) {\n        log.debug(\"getting Category instance with id: \" + id);\n        try {\n            Category instance = (Category) sessionFactory\n                    .getCurrentSession().get(\"model.Category\", id);\n            if (instance == null) {\n                log.debug(\"get successful, no instance found\");\n            } else {\n                log.debug(\"get successful, instance found\");\n            }\n            return instance;\n        } catch (RuntimeException re) {\n            log.error(\"get failed\", re);\n            throw re;\n        }\n    }\n\n    public List&lt;Category&gt; findByExample(Category instance) {\n        log.debug(\"finding Category instance by example\");\n        try {\n            List&lt;Category&gt; results = (List&lt;Category&gt;) sessionFactory\n                    .getCurrentSession().createCriteria(\"model.Category\")\n                    .add(create(instance)).list();\n            log.debug(\"find by example successful, result size: \"\n                    + results.size());\n            return results;\n        } catch (RuntimeException re) {\n            log.error(\"find by example failed\", re);\n            throw re;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong> (added controller)</p>\n\n<p><code>controller.AddCategoryController</code></p>\n\n<pre><code>@Controller\n@RequestMapping(\"/categories/addcategory.*\")\npublic class AddCategoryController {\n    @Autowired\n    private CategoriesService categoriesService;\n\n    @InitBinder(\"Category\")\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(new CategoryValidator());\n        /**\n         * Will put NULL for empty string instead of trying to put value\n         * so later can be used to NULL empty parentCategory\n         */\n        binder.registerCustomEditor(Category.class, new StringTrimmerEditor(true));\n    }\n\n    @RequestMapping(method = RequestMethod.GET)\n    public String view(Model model) {\n        this.setFormAttributes(model, new Category());\n        return \"/categories/addcategory\";\n    }\n\n    /**\n     * Called on form submission\n     */\n    @RequestMapping(method = RequestMethod.POST)\n    public String create(\n            @ModelAttribute(\"Category\") @Valid Category category,\n            BindingResult result, Model model) {\n        if (result.hasErrors()) {\n            this.setFormAttributes(model, category);\n            return \"/categories/addcategory\";\n        }\n        this.categoriesService.save(category);\n        return \"redirect:/categories/listcategories.htm\";\n    }\n\n    private void setFormAttributes(Model model, Category category) {\n        model.addAttribute(\"Category\", category);\n        model.addAttribute(\"categories\", this.categoriesService.listCategories());\n    }\n}\n</code></pre>\n\n<p>I obtain this answer : </p>\n\n<pre><code>{\n    \"timestamp\": \"2019-10-15T10:01:14.916+0000\",\n    \"status\": 500,\n    \"error\": \"Internal Server Error\",\n    \"message\": \"could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\",\n    \"trace\": \"org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [PRIMARY]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:144)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$ExposeRepositoryInvocationInterceptor.invoke(CrudMethodMetadataPostProcessor.java:364)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\\r\\n\\tat com.sun.proxy.$Proxy141.save(Unknown Source)\\r\\n\\tat com.app.ws.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:44)\\r\\n\\tat com.app.ws.ui.controller.CategoryController.createCategory(CategoryController.java:86)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat com.app.ws.config.security.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:36)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:97)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3192)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3706)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:90)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1483)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:512)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3321)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2517)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\\r\\n\\t... 121 more\\r\\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '5' for key 'PRIMARY'\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1340)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\\r\\n\\t... 138 more\\r\\n\",\n    \"path\": \"/app-ws/categories\"\n}\n</code></pre>\n"},{"tags":["java","regex","escaping","java-17"],"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":3,"creation_date":1662529432,"post_id":73630599,"comment_id":130023180,"body_markdown":"Shouldn&#39;t it be `\\\\w+` in the `withTextBlocks` as well?","body":"Shouldn&#39;t it be <code>\\\\w+</code> in the <code>withTextBlocks</code> as well?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662531458,"post_id":73630599,"comment_id":130023662,"body_markdown":"this is not a duplicate of _if_ text blocks exist, but if regexes are supported in text blocks.","body":"this is not a duplicate of <i>if</i> text blocks exist, but if regexes are supported in text blocks."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1662531482,"post_id":73630599,"comment_id":130023667,"body_markdown":"@ZahidKhan but the point of text blocks is that we should not escape, right?","body":"@ZahidKhan but the point of text blocks is that we should not escape, right?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1662532752,"post_id":73630599,"comment_id":130024008,"body_markdown":"the point is about formatting ...  `\\W` is an escaped sequence even inside text blocks - an invalid one  ([JLS 3.10.6. Text Blocks](https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.6): &quot;... TextBlockCharacter: InputCharacter but not \\ &quot; or &quot;  EscapeSequence&quot; or &quot;  LineTerminator ...&quot; ) (from [JEP 355 Text Blocks](https://openjdk.org/jeps/355#Goals): &quot;**Goals:** ... easy to express strings that span several lines ... avoiding escape sequences in common cases. ... can express the same set of strings as a string literal, and interpret the same escape sequences, ...&quot;)","body":"the point is about formatting ...  <code>\\W</code> is an escaped sequence even inside text blocks - an invalid one  (<a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-3.html#jls-3.10.6\" rel=\"nofollow noreferrer\">JLS 3.10.6. Text Blocks</a>: &quot;... TextBlockCharacter: InputCharacter but not \\ &quot; or &quot;  EscapeSequence&quot; or &quot;  LineTerminator ...&quot; ) (from <a href=\"https://openjdk.org/jeps/355#Goals\" rel=\"nofollow noreferrer\">JEP 355 Text Blocks</a>: &quot;<b>Goals:</b> ... easy to express strings that span several lines ... avoiding escape sequences in common cases. ... can express the same set of strings as a string literal, and interpret the same escape sequences, ...&quot;)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1662533716,"post_id":73630599,"comment_id":130024334,"body_markdown":"@user16320675 these goals can be augmented with [**Non-Goals**](https://openjdk.org/jeps/355#Non-Goals): “*Text blocks do not support raw strings, that is, strings which intend no processing of their characters whatsoever.*”","body":"@user16320675 these goals can be augmented with <a href=\"https://openjdk.org/jeps/355#Non-Goals\" rel=\"nofollow noreferrer\"><b>Non-Goals</b></a>: “<i>Text blocks do not support raw strings, that is, strings which intend no processing of their characters whatsoever.</i>”"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662536730,"post_id":73630599,"comment_id":130025353,"body_markdown":"So is your question how to write a backslash (or other character that usually needs to be escaped in a string literal) inside a text block? I think your question could benefit from further clarification.","body":"So is your question how to write a backslash (or other character that usually needs to be escaped in a string literal) inside a text block? I think your question could benefit from further clarification."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1662536882,"post_id":73630599,"comment_id":130025403,"body_markdown":"JLS &#167; 3.10.7: **It is a compile-time error if the character following a backslash in an escape sequence is not a LineTerminator or an ASCII b, s, t, n, f, r, &quot;, &#39;, \\, 0, 1, 2, 3, 4, 5, 6, or 7**.","body":"JLS &#167; 3.10.7: <b>It is a compile-time error if the character following a backslash in an escape sequence is not a LineTerminator or an ASCII b, s, t, n, f, r, &quot;, &#39;, \\, 0, 1, 2, 3, 4, 5, 6, or 7</b>."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662545176,"post_id":73630599,"comment_id":130028538,"body_markdown":"@Holger thank you - the reason I asked is that this works in kotlin... if you want you can post this as an answer","body":"@Holger thank you - the reason I asked is that this works in kotlin... if you want you can post this as an answer"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1662546400,"post_id":73630599,"comment_id":130029010,"body_markdown":"@OleV.V. sort of, I can&#39;t wrap around how to make it clearer. The thing is - this works in kotlin, and we switched to jdk-17 and some of our regexes could really benefit from such a feature (and besides all the kotlin devs are giving me the &quot;time to switch to kotlin?&quot; :) ) feel free to edit if you want. thank you","body":"@OleV.V. sort of, I can&#39;t wrap around how to make it clearer. The thing is - this works in kotlin, and we switched to jdk-17 and some of our regexes could really benefit from such a feature (and besides all the kotlin devs are giving me the &quot;time to switch to kotlin?&quot; :) ) feel free to edit if you want. thank you"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662550644,"post_id":73630599,"comment_id":130030659,"body_markdown":"Without having read the docs: escaping the backslash in the text block too as @ZahidKhan suggested (`\\\\w+`) works for me and produces a string that prints like `\\w+` and has a newline at the end.","body":"Without having read the docs: escaping the backslash in the text block too as @ZahidKhan suggested (<code>\\\\w+</code>) works for me and produces a string that prints like <code>\\w+</code> and has a newline at the end."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662551270,"post_id":73630599,"comment_id":130030923,"body_markdown":"@OleV.V. right! for a simple regex like this - sure. but when the regex gets a lot more complicated, I wish it would work","body":"@OleV.V. right! for a simple regex like this - sure. but when the regex gets a lot more complicated, I wish it would work"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1662551664,"post_id":73630599,"comment_id":130031102,"body_markdown":"I find it easy to understand that wish. If you want your regex to match a backslash, you need to type `\\\\\\\\\\`, and it soon gets unreadable. Doing away with the need to escape would certainly help.","body":"I find it easy to understand that wish. If you want your regex to match a backslash, you need to type `\\\\\\\\`, and it soon gets unreadable. Doing away with the need to escape would certainly help."}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1662569967,"creation_date":1662569967,"answer_id":73639221,"question_id":73630599,"body_markdown":"You are conflating _text blocks_ with _raw strings_.  These are different features, though they were explored together and this may explain why you mentally folded them together.  There is no support yet for raw strings (which turn out to be somewhat more slippery than they might first appear.)\r\n\r\n&gt;  Isn’t it the point of text blocks that we should not escape? \r\n\r\nNo, that is not the point of text blocks.  The point of text blocks is to allow us to represent _two dimensional_ blocks of text in code, preserving the block&#39;s relative indentation but not absolute indentation.  This allows us to freely indent the source representation of the text block itself to match surrounding code, without affecting the indentation of the string the text block describes.\r\n\r\nAn additional design goal is that text blocks should differ from ordinary string literals only in ways that pertain to their two-dimensional nature.  There should not be a different set of escape characters, or different escaping rules.  (If we ever do raw strings, it should apply equally to text blocks and traditional string literals.)  If text blocks worked the way you wanted, you&#39;d probably be complaining that you can&#39;t do the same with single-line strings.  These aspects are orthogonal and the language should treat them orthogonally.","title":"Java regex inside text blocks","body":"<p>You are conflating <em>text blocks</em> with <em>raw strings</em>.  These are different features, though they were explored together and this may explain why you mentally folded them together.  There is no support yet for raw strings (which turn out to be somewhat more slippery than they might first appear.)</p>\n<blockquote>\n<p>Isn’t it the point of text blocks that we should not escape?</p>\n</blockquote>\n<p>No, that is not the point of text blocks.  The point of text blocks is to allow us to represent <em>two dimensional</em> blocks of text in code, preserving the block's relative indentation but not absolute indentation.  This allows us to freely indent the source representation of the text block itself to match surrounding code, without affecting the indentation of the string the text block describes.</p>\n<p>An additional design goal is that text blocks should differ from ordinary string literals only in ways that pertain to their two-dimensional nature.  There should not be a different set of escape characters, or different escaping rules.  (If we ever do raw strings, it should apply equally to text blocks and traditional string literals.)  If text blocks worked the way you wanted, you'd probably be complaining that you can't do the same with single-line strings.  These aspects are orthogonal and the language should treat them orthogonally.</p>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73639221,"answer_count":1,"score":7,"last_activity_date":1670421837,"creation_date":1662529130,"question_id":73630599,"body_markdown":"I surely hoped that this would be supported:\r\n\r\n```\r\nprivate static void regex() {\r\n    String plain = &quot;\\\\w+&quot;;\r\n\tString withTextBlocks = &quot;&quot;&quot;\r\n        \\w+\r\n\t&quot;&quot;&quot;;\r\n}\r\n```\r\n\r\nbut `withTextBlocks` does not compile under Java-17. Isn’t it the point of text blocks that we should not escape? I have been through the [JEP](https://openjdk.org/jeps/378) and maybe the explanation is there, but I can&#39;t grok through it. And a second question in case someone knows, is there a future JEP for this? Thank you. \r\n\r\n","title":"Java regex inside text blocks","body":"<p>I surely hoped that this would be supported:</p>\n<pre><code>private static void regex() {\n    String plain = &quot;\\\\w+&quot;;\n    String withTextBlocks = &quot;&quot;&quot;\n        \\w+\n    &quot;&quot;&quot;;\n}\n</code></pre>\n<p>but <code>withTextBlocks</code> does not compile under Java-17. Isn’t it the point of text blocks that we should not escape? I have been through the <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">JEP</a> and maybe the explanation is there, but I can't grok through it. And a second question in case someone knows, is there a future JEP for this? Thank you.</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1670424041,"post_id":74717850,"comment_id":131873578,"body_markdown":"`return root` is the problem. You are returning from the function here and whatever follows cannot be reached. I think you can just delete this line because you return the root at the end.","body":"<code>return root</code> is the problem. You are returning from the function here and whatever follows cannot be reached. I think you can just delete this line because you return the root at the end."}],"owner":{"account_id":24794450,"reputation":11,"user_id":18677259,"display_name":"Kaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670421567,"creation_date":1670421567,"question_id":74717850,"body_markdown":"Hello i&#39;m trying to add profile picture edit option in profile page of my application but whenever i write onclick listener gives me error below i don&#39;t know what to do can someone please help me ? checked id of button and else everything is correct\r\n```\r\npackage com.example.stepapp.ui.profile;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.stepapp.R;\r\n\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class ProfileFragment extends Fragment {\r\n    private Button ImCh;\r\n    CircleImageView profile_image;\r\n    private Button user;\r\n\r\n    private TextView Username;\r\n    private final int GALLERY_REQ_CODE=1000;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        if (container != null) {\r\n            container.removeAllViews();\r\n        }\r\n        View root = inflater.inflate(R.layout.fragment_profile, container, false);\r\n        ImCh =(Button) root.findViewById(R.id.fab);\r\n        user=(Button) root.findViewById(R.id.EditName);\r\n        profile_image =root.findViewById(R.id.profile_image);\r\n        Username = root.findViewById(R.id.Username);\r\n        Toast.makeText(getContext(),\r\n                &quot;testing the button &quot; +String.valueOf(ImCh.getId()),\r\n                Toast.LENGTH_SHORT).show();\r\n        return root;\r\n\r\n\r\n        ImCh.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               Intent iGallery = new Intent(Intent.ACTION_PICK);\r\n               iGallery.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n               startActivityForResult(iGallery,GALLERY_REQ_CODE);\r\n            }\r\n        });\r\n\r\n        user.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               Username.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n\r\n    return root;\r\n    }\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n         if(resultCode==RESULT_OK){\r\n            if(resultCode==GALLERY_REQ_CODE){\r\n                profile_image.setImageURI(data.getData() );\r\n           }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni tried every solution but setOnClickListener of button raising error i couldn&#39;t find any other solution \r\n","title":"Setting OnClickListener in Profile Fragment.java but it says unreacheable","body":"<p>Hello i'm trying to add profile picture edit option in profile page of my application but whenever i write onclick listener gives me error below i don't know what to do can someone please help me ? checked id of button and else everything is correct</p>\n<pre><code>package com.example.stepapp.ui.profile;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.example.stepapp.R;\n\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class ProfileFragment extends Fragment {\n    private Button ImCh;\n    CircleImageView profile_image;\n    private Button user;\n\n    private TextView Username;\n    private final int GALLERY_REQ_CODE=1000;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        if (container != null) {\n            container.removeAllViews();\n        }\n        View root = inflater.inflate(R.layout.fragment_profile, container, false);\n        ImCh =(Button) root.findViewById(R.id.fab);\n        user=(Button) root.findViewById(R.id.EditName);\n        profile_image =root.findViewById(R.id.profile_image);\n        Username = root.findViewById(R.id.Username);\n        Toast.makeText(getContext(),\n                &quot;testing the button &quot; +String.valueOf(ImCh.getId()),\n                Toast.LENGTH_SHORT).show();\n        return root;\n\n\n        ImCh.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               Intent iGallery = new Intent(Intent.ACTION_PICK);\n               iGallery.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n               startActivityForResult(iGallery,GALLERY_REQ_CODE);\n            }\n        });\n\n        user.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n               Username.setText(&quot;&quot;);\n            }\n        });\n\n\n    return root;\n    }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n         if(resultCode==RESULT_OK){\n            if(resultCode==GALLERY_REQ_CODE){\n                profile_image.setImageURI(data.getData() );\n           }\n        }\n    }\n}\n\n</code></pre>\n<p>i tried every solution but setOnClickListener of button raising error i couldn't find any other solution</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":6025156,"reputation":15,"user_id":4731105,"accept_rate":80,"display_name":"Eliz Rose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670420582,"creation_date":1428079446,"answer_id":29436259,"question_id":27622963,"body_markdown":"Did you put your &quot;DatabaseUtils.props&quot; in your home directory? \r\n\r\nI had the same problem with sql database, I used JDBC-ODBC bridge and it worked, look if you can do the same with Mysql.","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>Did you put your &quot;DatabaseUtils.props&quot; in your home directory?</p>\n<p>I had the same problem with sql database, I used JDBC-ODBC bridge and it worked, look if you can do the same with Mysql.</p>\n"},{"tags":[],"owner":{"account_id":8863627,"reputation":174,"user_id":6619366,"display_name":"no_name"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490878137,"creation_date":1490878137,"answer_id":43118364,"question_id":27622963,"body_markdown":"According to the [Troubleshooting section][1] of the database configuration there are 3 possible errors that can give you the &#39;No suitable driver exception&#39;.\r\n\r\n1. Your JDBC driver is not set in the CLASSPATH. Finding out if this is the issue can be accomplished by executing the command &#39;java weka.core.SystemInfo&#39; via the SimpleCLI. If the property &#39;java.class.path&#39; has only the entry &#39;./weka.jar&#39; then you can simply set the CLASSPATH environmental variable to &quot;.;C:/*PATH_TO_JDBC*.jar&quot;. Rerun the above command and in the &#39;java.class.path&#39; you should see now &#39;java.class.path: ./weka.jar;.;C:/*PATH_TO_JDBC*.jar&#39;\r\n\r\n2. The jdbcDriver property is either mispelled or you have used it multiple times in the DatabaseUtils.props (it must be unique)\r\n3. The jdbcURL property is either mispelled or you have used it multiple times in the DatabaseUtils.props (it must be unique)\r\n\r\nA final note: if you are using Weka (&gt;= 3.7.2) then you must place the DatabaseUtils.props file under the &#39;C:\\Users\\\\*USERNAME*\\wekafiles\\props&#39;\r\n\r\n\r\n  [1]: https://weka.wikispaces.com/Databases#Configuration%20files","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>According to the <a href=\"https://weka.wikispaces.com/Databases#Configuration%20files\" rel=\"nofollow noreferrer\">Troubleshooting section</a> of the database configuration there are 3 possible errors that can give you the 'No suitable driver exception'.</p>\n\n<ol>\n<li><p>Your JDBC driver is not set in the CLASSPATH. Finding out if this is the issue can be accomplished by executing the command 'java weka.core.SystemInfo' via the SimpleCLI. If the property 'java.class.path' has only the entry './weka.jar' then you can simply set the CLASSPATH environmental variable to \".;C:/<em>PATH_TO_JDBC</em>.jar\". Rerun the above command and in the 'java.class.path' you should see now 'java.class.path: ./weka.jar;.;C:/<em>PATH_TO_JDBC</em>.jar'</p></li>\n<li><p>The jdbcDriver property is either mispelled or you have used it multiple times in the DatabaseUtils.props (it must be unique)</p></li>\n<li>The jdbcURL property is either mispelled or you have used it multiple times in the DatabaseUtils.props (it must be unique)</li>\n</ol>\n\n<p>A final note: if you are using Weka (>= 3.7.2) then you must place the DatabaseUtils.props file under the 'C:\\Users\\<em>USERNAME</em>\\wekafiles\\props'</p>\n"},{"tags":[],"owner":{"account_id":1719786,"reputation":6540,"user_id":1576010,"accept_rate":57,"display_name":"Behnam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512168770,"creation_date":1512168770,"answer_id":47602624,"question_id":27622963,"body_markdown":"I had this exact error when using the Weka Explorer GUI.\r\nI double checked:\r\n\r\n 1. jdbc driver is included in the CLASSPATH used for executing weka\r\n 2. Use the correct DatabaseUtil.prop file. In my case I used the sqlite version, renamed it (removed the sqlite from its end), and placed it in ~/wekafiles/props then edited its database address to point to my database\r\n 3. After opening weka, make sure the database address is the same as the one in the prop file\r\n 4. After cleaning connect, before clicking OK, I had to add a SQL query in the text field. **This one did it for me.** Without the query, pressing OK would result in a false error that said No suitable driver found for [nothing], even though the driver address was absolutely correct.\r\n\r\nHope this helps.\r\n\r\n","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>I had this exact error when using the Weka Explorer GUI.\nI double checked:</p>\n\n<ol>\n<li>jdbc driver is included in the CLASSPATH used for executing weka</li>\n<li>Use the correct DatabaseUtil.prop file. In my case I used the sqlite version, renamed it (removed the sqlite from its end), and placed it in ~/wekafiles/props then edited its database address to point to my database</li>\n<li>After opening weka, make sure the database address is the same as the one in the prop file</li>\n<li>After cleaning connect, before clicking OK, I had to add a SQL query in the text field. <strong>This one did it for me.</strong> Without the query, pressing OK would result in a false error that said No suitable driver found for [nothing], even though the driver address was absolutely correct.</li>\n</ol>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":61853,"reputation":1199,"user_id":184111,"accept_rate":80,"display_name":"yayayokoho3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515402064,"creation_date":1515402064,"answer_id":48146983,"question_id":27622963,"body_markdown":"The easiest way I did is: add the mysql-connector.jar in existing JAVA_HOME/jre/lib/ext/ folder and restart Weka. BTW, I&#39;m using Weka-3-8-2 and this method works 100%. \r\nOne more thing, do not forget to assign proper URL and Driver for your database connection in DatabaseUtils.props [to be saved in a location having RW permissions to current system user].","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>The easiest way I did is: add the mysql-connector.jar in existing JAVA_HOME/jre/lib/ext/ folder and restart Weka. BTW, I'm using Weka-3-8-2 and this method works 100%. \nOne more thing, do not forget to assign proper URL and Driver for your database connection in DatabaseUtils.props [to be saved in a location having RW permissions to current system user].</p>\n"},{"tags":[],"owner":{"account_id":17948886,"reputation":1,"user_id":13042453,"display_name":"Guilherme Pietro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583903118,"creation_date":1583899476,"answer_id":60629120,"question_id":27622963,"body_markdown":"After executing the above statement, be sure to map the attribute types in the same `DatabaseUnits.props` file, because Java does not relate the MySQL data type to Weka.\r\n    \r\n    # specific data types\r\n    #  string, getString() = 0;    --&gt; nominal\r\n    #  boolean, getBoolean() = 1;  --&gt; nominal\r\n    #  double, getDouble() = 2;    --&gt; numeric\r\n    #  byte, getByte() = 3;       --&gt; numeric\r\n    #  short, getByte()= 4;        --&gt; numeric\r\n    #  int, getInteger() = 5;       --&gt; numeric \r\n    #  long, getLong() = 6;        --&gt; numeric\r\n    #  float, getFloat() = 7;      --&gt; numeric\r\n    #  date, getDate() = 8;        --&gt; date\r\n    #  text, getString() = 9;     --&gt; string\r\n    #  time, getTime() = 10;       --&gt; date\r\n    #  timestamp, getTime() = 11;  --&gt; date\r\n    \r\n    INT=0    \r\n    CHAR=0    \r\n    VARCHAR=0    \r\n    DOUBLE_PRECISION=2\r\n    \r\netc...\r\n    \r\nGood jobs","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>After executing the above statement, be sure to map the attribute types in the same <code>DatabaseUnits.props</code> file, because Java does not relate the MySQL data type to Weka.</p>\n\n<pre><code># specific data types\n#  string, getString() = 0;    --&gt; nominal\n#  boolean, getBoolean() = 1;  --&gt; nominal\n#  double, getDouble() = 2;    --&gt; numeric\n#  byte, getByte() = 3;       --&gt; numeric\n#  short, getByte()= 4;        --&gt; numeric\n#  int, getInteger() = 5;       --&gt; numeric \n#  long, getLong() = 6;        --&gt; numeric\n#  float, getFloat() = 7;      --&gt; numeric\n#  date, getDate() = 8;        --&gt; date\n#  text, getString() = 9;     --&gt; string\n#  time, getTime() = 10;       --&gt; date\n#  timestamp, getTime() = 11;  --&gt; date\n\nINT=0    \nCHAR=0    \nVARCHAR=0    \nDOUBLE_PRECISION=2\n</code></pre>\n\n<p>etc...</p>\n\n<p>Good jobs</p>\n"}],"owner":{"account_id":4495256,"reputation":3913,"user_id":3655192,"accept_rate":67,"display_name":"Hiroki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4735,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1670420582,"creation_date":1419347153,"question_id":27622963,"body_markdown":"There seems to be several postings about using Weka as an implementation for programs, but there are only few seem to be related to using Weka 3.7/3.6 with a database for data mining purposes.\r\n\r\nI referred to Weka&#39;s web site. (http://weka.wikispaces.com/Databases)\r\n\r\nIn order to connect Weka and a DB, what I&#39;ve done are...\r\n\r\n**1)Download JDBC Driver for MySQL (mysql-connector-java-5.1.34-bin.jar)**\r\n\r\n**2)Set CLASSPATH as &quot;C:\\Program Files\\Weka-3-7\\mysql-connector-java-5.1.34-bin.jar&quot; for the user&#39;s environmental variable**\r\n\r\n**3)Open the RunWeka.ini file and changed the last line into &quot;cp=%CLASSPATH%;C:\\Program Files\\Weka-3-7\\mysql-connector-java-5.1.34-bin.jar&quot;\r\n(I referred to &quot;http://blog.ahughes.org/?p=347&quot;)**\r\n\r\nHowever, Weka 3.7 still produces the No suitable driver error. I tried it by using Weka 3.6, but in vain.\r\n\r\nThe Weka&#39;s web site above seems to provide a little old information, and some information doesn&#39;t seem to be related to Weka 3.6 or above.\r\n\r\nI would appreciate if you would give any insight.\r\n\r\n----------------------------------------------------\r\n***EDIT***\r\n\r\n(https://stackoverflow.com/questions/4441163/weka-mysql-setup-a-connection)\r\nThis person seems to have encountered an identical issue, but following the answer of this page didn&#39;t solve my issue...","title":"Weka 3.7 and 3.6 / No suitable driver found for","body":"<p>There seems to be several postings about using Weka as an implementation for programs, but there are only few seem to be related to using Weka 3.7/3.6 with a database for data mining purposes.</p>\n\n<p>I referred to Weka's web site. (<a href=\"http://weka.wikispaces.com/Databases\" rel=\"nofollow noreferrer\">http://weka.wikispaces.com/Databases</a>)</p>\n\n<p>In order to connect Weka and a DB, what I've done are...</p>\n\n<p><strong>1)Download JDBC Driver for MySQL (mysql-connector-java-5.1.34-bin.jar)</strong></p>\n\n<p><strong>2)Set CLASSPATH as \"C:\\Program Files\\Weka-3-7\\mysql-connector-java-5.1.34-bin.jar\" for the user's environmental variable</strong></p>\n\n<p><strong>3)Open the RunWeka.ini file and changed the last line into \"cp=%CLASSPATH%;C:\\Program Files\\Weka-3-7\\mysql-connector-java-5.1.34-bin.jar\"\n(I referred to \"<a href=\"http://blog.ahughes.org/?p=347\" rel=\"nofollow noreferrer\">http://blog.ahughes.org/?p=347</a>\")</strong></p>\n\n<p>However, Weka 3.7 still produces the No suitable driver error. I tried it by using Weka 3.6, but in vain.</p>\n\n<p>The Weka's web site above seems to provide a little old information, and some information doesn't seem to be related to Weka 3.6 or above.</p>\n\n<p>I would appreciate if you would give any insight.</p>\n\n<hr>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>(<a href=\"https://stackoverflow.com/questions/4441163/weka-mysql-setup-a-connection\">WEKA &amp; MySQL Setup a connection</a>)\nThis person seems to have encountered an identical issue, but following the answer of this page didn't solve my issue...</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-batch"],"comments":[{"owner":{"account_id":5897554,"reputation":18457,"user_id":4642212,"display_name":"Sebastian Simon"},"score":1,"creation_date":1670419861,"post_id":74716528,"comment_id":131872040,"body_markdown":"Based on the answer below: Duplicate of [how to replace the code which has deprecated classes](/q/68642471/4642212).","body":"Based on the answer below: Duplicate of <a href=\"/q/68642471/4642212\">how to replace the code which has deprecated classes</a>."}],"answers":[{"tags":[],"owner":{"account_id":26523496,"reputation":11,"user_id":20156821,"display_name":"Sumit Phalke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670419554,"creation_date":1670419554,"answer_id":74717424,"question_id":74716528,"body_markdown":"Replacing org.springframework.batch.core.resource.ListPreparedStatementSette with org.springframework.jdbc.core.ArgumentPreparedStatementSetter in xml configuration did the trick.","title":"Spring-batch facing issue after upgrading version from 3.x.x to 4.x.x","body":"<p>Replacing org.springframework.batch.core.resource.ListPreparedStatementSette with org.springframework.jdbc.core.ArgumentPreparedStatementSetter in xml configuration did the trick.</p>\n"}],"owner":{"account_id":26523496,"reputation":11,"user_id":20156821,"display_name":"Sumit Phalke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670420436,"answer_count":1,"score":0,"last_activity_date":1670420461,"creation_date":1670415224,"question_id":74716528,"body_markdown":"```xml\r\n&lt;bean id=&quot;xxx&quot;\r\nclass=&quot;org.springframework.batch.item.database.StoredProcedureItemReader&quot;&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxx&#39; defined in class path resource [xxx.xml]: Cannot create inner bean &#39;org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85&#39; of type [org.springframework.aop.scope.ScopedProxyFactoryBean] while setting bean property &#39;preparedStatementSetter&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85#1&#39; defined in BeanDefinition defined in class path resource [xxx.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name &#39;scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85&#39; defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:127)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:95)\r\n\tat com.xxx.xxx.xxx.job.XXXJobLauncher.main(XXXJobLauncher.java:81)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85#1&#39; defined in BeanDefinition defined in class path resource [xxx.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name &#39;scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85&#39; defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n\t... 15 more\r\nCaused by: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name &#39;scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85&#39; defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1542)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:722)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:683)\r\n\tat org.springframework.aop.scope.ScopedProxyFactoryBean.setBeanFactory(ScopedProxyFactoryBean.java:100)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\t... 17 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1607)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534)\r\n```","title":"Spring-batch facing issue after upgrading version from 3.x.x to 4.x.x","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;xxx&quot;\nclass=&quot;org.springframework.batch.item.database.StoredProcedureItemReader&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxx' defined in class path resource [xxx.xml]: Cannot create inner bean 'org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85' of type [org.springframework.aop.scope.ScopedProxyFactoryBean] while setting bean property 'preparedStatementSetter'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85#1' defined in BeanDefinition defined in class path resource [xxx.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name 'scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85' defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:127)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:95)\n    at com.xxx.xxx.xxx.job.XXXJobLauncher.main(XXXJobLauncher.java:81)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85#1' defined in BeanDefinition defined in class path resource [xxx.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name 'scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85' defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 15 more\nCaused by: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.batch.core.resource.ListPreparedStatementSetter] for bean with name 'scopedTarget.org.springframework.batch.core.resource.ListPreparedStatementSetter#5fe1ce85' defined in class path resource [xxx.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1542)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:722)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:683)\n    at org.springframework.aop.scope.ScopedProxyFactoryBean.setBeanFactory(ScopedProxyFactoryBean.java:100)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1826)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1791)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    ... 17 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.batch.core.resource.ListPreparedStatementSetter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1607)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534)\n</code></pre>\n"},{"tags":["java","c#","android","xamarin","xamarin.android"],"answers":[{"tags":[],"owner":{"account_id":3228675,"reputation":1498,"user_id":2724418,"accept_rate":74,"display_name":"YFeizi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426658938,"creation_date":1426653508,"answer_id":29114251,"question_id":29114081,"body_markdown":"Use this `Intent.setType(&quot;image/jpg&quot;);` instead of `Intent.setType(&quot;image/*&quot;);`","title":"How to Set image upload to only jpg and png Files?","body":"<p>Use this <code>Intent.setType(\"image/jpg\");</code> instead of <code>Intent.setType(\"image/*\");</code></p>\n"},{"comments":[{"owner":{"account_id":5868562,"reputation":153,"user_id":4621614,"accept_rate":0,"display_name":"Ash"},"score":1,"creation_date":1426709432,"post_id":29114277,"comment_id":46489196,"body_markdown":"but how do i allow oth jpg and png? only those format and nothing else?","body":"but how do i allow oth jpg and png? only those format and nothing else?"},{"owner":{"account_id":5868562,"reputation":153,"user_id":4621614,"accept_rate":0,"display_name":"Ash"},"score":0,"creation_date":1426710004,"post_id":29114277,"comment_id":46489541,"body_markdown":"but also when i was trying this, when i set it to intent.setType(&quot;image/jpg&quot;) it still allowed other formats to be selected.","body":"but also when i was trying this, when i set it to intent.setType(&quot;image/jpg&quot;) it still allowed other formats to be selected."}],"tags":[],"owner":{"account_id":1055511,"reputation":2894,"user_id":1058330,"accept_rate":100,"display_name":"Arun Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426653684,"creation_date":1426653684,"answer_id":29114277,"question_id":29114081,"body_markdown":"Use setType for jpeg\r\n\r\n`intent.setType(&quot;image/jpeg&quot;)` or `intent.setType(&quot;image/jpg&quot;)`\r\n\r\nor for png\r\n\r\n`intent.setType(&quot;image/png&quot;)` ","title":"How to Set image upload to only jpg and png Files?","body":"<p>Use setType for jpeg</p>\n\n<p><code>intent.setType(\"image/jpeg\")</code> or <code>intent.setType(\"image/jpg\")</code></p>\n\n<p>or for png</p>\n\n<p><code>intent.setType(\"image/png\")</code> </p>\n"},{"tags":[],"owner":{"account_id":9423002,"reputation":648,"user_id":7008898,"display_name":"Dinith Rukshan Kumara"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581256758,"creation_date":1581256758,"answer_id":60137377,"question_id":29114081,"body_markdown":"I think all the given answers are wrong. Requirement is to allow both jpg and png Files. This allows only to select given file types.\r\n&lt;br&gt;&lt;br&gt;First Create mimeTypes array including all the allow file types.\r\n&lt;br&gt;Then put it in intent extras.\r\n&lt;br&gt;&lt;br&gt;Here is the code.\r\n\r\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    String [] mimeTypes = {&quot;image/png&quot;, &quot;image/jpg&quot;,&quot;image/jpeg&quot;};\r\n    intent.setType(&quot;*/*&quot;);\r\n    intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n    startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), REQUEST_GET_SINGLE_FILE);","title":"How to Set image upload to only jpg and png Files?","body":"<p>I think all the given answers are wrong. Requirement is to allow both jpg and png Files. This allows only to select given file types.\n<br><br>First Create mimeTypes array including all the allow file types.\n<br>Then put it in intent extras.\n<br><br>Here is the code.</p>\n\n<pre><code>Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\nintent.addCategory(Intent.CATEGORY_OPENABLE);\nString [] mimeTypes = {\"image/png\", \"image/jpg\",\"image/jpeg\"};\nintent.setType(\"*/*\");\nintent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\nstartActivityForResult(Intent.createChooser(intent, \"Select Picture\"), REQUEST_GET_SINGLE_FILE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670420428,"creation_date":1670420428,"answer_id":74717591,"question_id":29114081,"body_markdown":"I know I am late for answering, but the solution which worked for me I just want to share.\r\n\r\n    Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT); // opens shared file explorer\r\n        galleryIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        String[] mimeTypes = {&quot;image/jpeg&quot;, &quot;image/png&quot;};  // /jpeg will support both jpg and jpeg files\r\n        galleryIntent.setType(&quot;image/jpeg|image/png&quot;);  // I had to include both setType and putExtra for my code to work correctly\r\n        galleryIntent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        pickImageFromGalleryForResult.launch(galleryIntent);  // you can replace this line with your startActivityForResult() here\r\n\r\nTry it out and tell me if it works for your use case.","title":"How to Set image upload to only jpg and png Files?","body":"<p>I know I am late for answering, but the solution which worked for me I just want to share.</p>\n<pre><code>Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT); // opens shared file explorer\n    galleryIntent.addCategory(Intent.CATEGORY_OPENABLE);\n    String[] mimeTypes = {&quot;image/jpeg&quot;, &quot;image/png&quot;};  // /jpeg will support both jpg and jpeg files\n    galleryIntent.setType(&quot;image/jpeg|image/png&quot;);  // I had to include both setType and putExtra for my code to work correctly\n    galleryIntent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n    pickImageFromGalleryForResult.launch(galleryIntent);  // you can replace this line with your startActivityForResult() here\n</code></pre>\n<p>Try it out and tell me if it works for your use case.</p>\n"}],"owner":{"account_id":5868562,"reputation":153,"user_id":4621614,"accept_rate":0,"display_name":"Ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4090,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":4,"score":6,"last_activity_date":1670420428,"creation_date":1426652486,"question_id":29114081,"body_markdown":"Here is the code i am using it works great but how to i only set the files types to jpg and png and disallow/ not display any other images in the gallery \r\n\r\n\r\n    private void ButtonOnClick(object sender, EventArgs eventArgs) {\r\n        Intent = new Intent();\r\n        Intent.SetType(&quot;image/*&quot;);\r\n        Intent.SetAction(Intent.ActionGetContent);\r\n        StartActivityForResult(Intent.CreateChooser(Intent, &quot;Select Picture&quot;), PickImageId);\r\n    }\r\n\r\n    #endregion\r\n\r\n    #region Get the Path of Selected Image\r\n    private string GetPathToImage(Uri uri) {\r\n        string path = null;\r\n        // The projection contains the columns we want to return in our query.\r\n        string[] projection = new[] { \r\n                Android.Provider.MediaStore.Images.Media.InterfaceConsts.Data };\r\n        using (ICursor cursor = ManagedQuery(uri, projection, null, null, null)) {\r\n            if (cursor != null) {\r\n                int columnIndex = cursor.GetColumnIndexOrThrow(Android.Provider.MediaStore.Images.Media.InterfaceConsts.Data);\r\n                cursor.MoveToFirst();\r\n                path = cursor.GetString(columnIndex);\r\n            }\r\n        }\r\n        return path;\r\n    }\r\n    #endregion\r\n\r\n    protected override void OnActivityResult(int requestCode, Result resultCode, Intent data) {\r\n        // For single image Selection\r\n        if ((requestCode == PickImageId) &amp;&amp; (resultCode == Result.Ok) &amp;&amp; (data != null)) {\r\n            Uri uri = data.Data;\r\n            _imageView.SetImageURI(uri);\r\n            path = GetPathToImage (uri);\r\n        }\r\n    }","title":"How to Set image upload to only jpg and png Files?","body":"<p>Here is the code i am using it works great but how to i only set the files types to jpg and png and disallow/ not display any other images in the gallery </p>\n\n<pre><code>private void ButtonOnClick(object sender, EventArgs eventArgs) {\n    Intent = new Intent();\n    Intent.SetType(\"image/*\");\n    Intent.SetAction(Intent.ActionGetContent);\n    StartActivityForResult(Intent.CreateChooser(Intent, \"Select Picture\"), PickImageId);\n}\n\n#endregion\n\n#region Get the Path of Selected Image\nprivate string GetPathToImage(Uri uri) {\n    string path = null;\n    // The projection contains the columns we want to return in our query.\n    string[] projection = new[] { \n            Android.Provider.MediaStore.Images.Media.InterfaceConsts.Data };\n    using (ICursor cursor = ManagedQuery(uri, projection, null, null, null)) {\n        if (cursor != null) {\n            int columnIndex = cursor.GetColumnIndexOrThrow(Android.Provider.MediaStore.Images.Media.InterfaceConsts.Data);\n            cursor.MoveToFirst();\n            path = cursor.GetString(columnIndex);\n        }\n    }\n    return path;\n}\n#endregion\n\nprotected override void OnActivityResult(int requestCode, Result resultCode, Intent data) {\n    // For single image Selection\n    if ((requestCode == PickImageId) &amp;&amp; (resultCode == Result.Ok) &amp;&amp; (data != null)) {\n        Uri uri = data.Data;\n        _imageView.SetImageURI(uri);\n        path = GetPathToImage (uri);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"owner":{"account_id":23024237,"reputation":35,"user_id":17144772,"display_name":"YRR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670420382,"creation_date":1670419968,"question_id":74717507,"body_markdown":"I am working on spring maven and I am facing this error in pom.xml \r\n\r\n**could not initialize class org.apache.maven.plugin.war.util.webappstructureserializer** in line 1\r\n\r\n``` \r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;ibank&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ibank&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;ibank&lt;/name&gt;\r\n\t&lt;description&gt;With REST&lt;/description&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;ibank&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n\r\nI have tried few solutions available which said to change version but still it showed the same errors.","title":"Error: - could not initialize class org.apache.maven.plugin.war.util.webappstructureserializer","body":"<p>I am working on spring maven and I am facing this error in pom.xml</p>\n<p><strong>could not initialize class org.apache.maven.plugin.war.util.webappstructureserializer</strong> in line 1</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ibank&lt;/groupId&gt;\n    &lt;artifactId&gt;ibank&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;ibank&lt;/name&gt;\n    &lt;description&gt;With REST&lt;/description&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;ibank&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I have tried few solutions available which said to change version but still it showed the same errors.</p>\n"},{"tags":["java","linux","hadoop","mapreduce","cloudera"],"comments":[{"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"score":0,"creation_date":1468331818,"post_id":38330481,"comment_id":64076484,"body_markdown":"You want to create a directory on local filesystem or on HDFS? You code does not seem to be creating HDFS directories.. I do not see why it is related to Hadoop..","body":"You want to create a directory on local filesystem or on HDFS? You code does not seem to be creating HDFS directories.. I do not see why it is related to Hadoop.."},{"owner":{"account_id":7614504,"reputation":153,"user_id":5774415,"accept_rate":0,"display_name":"VasyPupkin"},"score":0,"creation_date":1468332107,"post_id":38330481,"comment_id":64076709,"body_markdown":"I want make directory in HDFS? can you show me how i can do it","body":"I want make directory in HDFS? can you show me how i can do it"},{"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"score":0,"creation_date":1468332147,"post_id":38330481,"comment_id":64076747,"body_markdown":"Check https://hadoop.apache.org/docs/r2.6.1/api/org/apache/hadoop/fs/FileSystem.html class if you would like to do it programatically.","body":"Check <a href=\"https://hadoop.apache.org/docs/r2.6.1/api/org/apache/hadoop/fs/FileSystem.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/r2.6.1/api/org/apache/hadoop/fs/&hellip;</a> class if you would like to do it programatically."},{"owner":{"account_id":6545495,"reputation":3294,"user_id":5061680,"accept_rate":38,"display_name":"BruceWayne"},"score":0,"creation_date":1468333035,"post_id":38330481,"comment_id":64077407,"body_markdown":"Check this http://mund-consulting.com/Blog/file-operations-in-hdfs-using-java/","body":"Check this <a href=\"http://mund-consulting.com/Blog/file-operations-in-hdfs-using-java/\" rel=\"nofollow noreferrer\">mund-consulting.com/Blog/file-operations-in-hdfs-using-java</a>"}],"answers":[{"comments":[{"owner":{"account_id":7614504,"reputation":153,"user_id":5774415,"accept_rate":0,"display_name":"VasyPupkin"},"score":0,"creation_date":1468332219,"post_id":38331125,"comment_id":64076798,"body_markdown":"i new that can do it in cmd but i need it from java?can your help","body":"i new that can do it in cmd but i need it from java?can your help"},{"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"score":0,"creation_date":1468333762,"post_id":38331125,"comment_id":64077984,"body_markdown":"@MattCremeens your solution (with URI) might not work if the cluster is secured.","body":"@MattCremeens your solution (with URI) might not work if the cluster is secured."},{"owner":{"account_id":2193181,"reputation":4961,"user_id":1939638,"accept_rate":76,"display_name":"Matt Cremeens"},"score":0,"creation_date":1468333863,"post_id":38331125,"comment_id":64078059,"body_markdown":"@Serhiy I guess we&#39;ll see. I believe I&#39;ve used the solution before in my own hadoop projects. I guess it&#39;s up to the OP to try it and see. Thanks for the input.","body":"@Serhiy I guess we&#39;ll see. I believe I&#39;ve used the solution before in my own hadoop projects. I guess it&#39;s up to the OP to try it and see. Thanks for the input."}],"tags":[],"owner":{"account_id":2193181,"reputation":4961,"user_id":1939638,"accept_rate":76,"display_name":"Matt Cremeens"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468332609,"creation_date":1468332134,"answer_id":38331125,"question_id":38330481,"body_markdown":"When I want to make a directory on HDFS, I do so from the command line. Try this at your command prompt\r\n\r\n    hadoop fs -mkdir /input\r\n\r\nThat should create a folder in HDFS called input.\r\n\r\nFrom [this site](https://tutorials.techmytalk.com/2014/08/16/hadoop-hdfs-java-api/), I found this\r\n\r\n    URI uri=URI.create (“hdfs://host: port/path”);\r\n\r\nwhich I believe should create the directory for you.\r\n","title":"How make directory to file in HDFS Hadoop (Cloudera) java","body":"<p>When I want to make a directory on HDFS, I do so from the command line. Try this at your command prompt</p>\n\n<pre><code>hadoop fs -mkdir /input\n</code></pre>\n\n<p>That should create a folder in HDFS called input.</p>\n\n<p>From <a href=\"https://tutorials.techmytalk.com/2014/08/16/hadoop-hdfs-java-api/\" rel=\"nofollow\">this site</a>, I found this</p>\n\n<pre><code>URI uri=URI.create (“hdfs://host: port/path”);\n</code></pre>\n\n<p>which I believe should create the directory for you.</p>\n"},{"tags":[],"owner":{"account_id":6273569,"reputation":1,"user_id":7242835,"display_name":"Raghav Sonavane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501451843,"creation_date":1501433586,"answer_id":45402349,"question_id":38330481,"body_markdown":"    hadoop fs -mkdir -p /home/hduser/wordcount/input/ \r\n\r\nworked for me\r\n","title":"How make directory to file in HDFS Hadoop (Cloudera) java","body":"<pre><code>hadoop fs -mkdir -p /home/hduser/wordcount/input/ \n</code></pre>\n\n<p>worked for me</p>\n"}],"owner":{"account_id":7614504,"reputation":153,"user_id":5774415,"accept_rate":0,"display_name":"VasyPupkin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670420381,"creation_date":1468330553,"question_id":38330481,"body_markdown":"I first work with Hadoop assembly Cloudera. I need to make directory to file in Linux server with HDFS.\r\n\r\nBut when I use java in cmd Linux it not create directory, but create file.\r\n\r\nCan you help me what i do bad can you me explain, near my code java to create directory in hdfs and file.Thank your. Sorry for bad English.\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n\r\n    public class FileDemo {\r\n\r\n    public static void main(String args[]) throws IOException {\r\n\r\n        Scanner reader = new Scanner(System.in);\r\n        boolean success = false;\r\n\r\n        System.out.println(&quot;Enter path of directory to create&quot;);\r\n        String dir = reader.nextLine();\r\n\r\n        // Creating new directory in Java, if it doesn&#39;t exists\r\n        File directory = new File(dir);\r\n        if (directory.exists()) {\r\n            System.out.println(&quot;Directory already exists ...&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;Directory not exists, creating now&quot;);\r\n\r\n            success = directory.mkdir();\r\n            if (success) {\r\n                System.out.printf(&quot;Successfully created new directory : %s%n&quot;, dir);\r\n            } else {\r\n                System.out.printf(&quot;Failed to create new directory: %s%n&quot;, dir);\r\n            }\r\n        }\r\n\r\n        // Creating new file in Java, only if not exists\r\n        System.out.println(&quot;Enter file name to be created &quot;);\r\n        String filename = reader.nextLine();\r\n\r\n        File f = new File(filename);\r\n        if (f.exists()) {\r\n            System.out.println(&quot;File already exists&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;No such file exists, creating now&quot;);\r\n            success = f.createNewFile();\r\n            if (success) {\r\n                System.out.printf(&quot;Successfully created new file: %s%n&quot;, f);\r\n            } else {\r\n                System.out.printf(&quot;Failed to create new file: %s%n&quot;, f);\r\n            }\r\n        }\r\n\r\n        // close Scanner to prevent resource leak\r\n        reader.close();\r\n    }\r\n    }\r\n\r\n","title":"How make directory to file in HDFS Hadoop (Cloudera) java","body":"<p>I first work with Hadoop assembly Cloudera. I need to make directory to file in Linux server with HDFS.</p>\n<p>But when I use java in cmd Linux it not create directory, but create file.</p>\n<p>Can you help me what i do bad can you me explain, near my code java to create directory in hdfs and file.Thank your. Sorry for bad English.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class FileDemo {\n\npublic static void main(String args[]) throws IOException {\n\n    Scanner reader = new Scanner(System.in);\n    boolean success = false;\n\n    System.out.println(&quot;Enter path of directory to create&quot;);\n    String dir = reader.nextLine();\n\n    // Creating new directory in Java, if it doesn't exists\n    File directory = new File(dir);\n    if (directory.exists()) {\n        System.out.println(&quot;Directory already exists ...&quot;);\n\n    } else {\n        System.out.println(&quot;Directory not exists, creating now&quot;);\n\n        success = directory.mkdir();\n        if (success) {\n            System.out.printf(&quot;Successfully created new directory : %s%n&quot;, dir);\n        } else {\n            System.out.printf(&quot;Failed to create new directory: %s%n&quot;, dir);\n        }\n    }\n\n    // Creating new file in Java, only if not exists\n    System.out.println(&quot;Enter file name to be created &quot;);\n    String filename = reader.nextLine();\n\n    File f = new File(filename);\n    if (f.exists()) {\n        System.out.println(&quot;File already exists&quot;);\n\n    } else {\n        System.out.println(&quot;No such file exists, creating now&quot;);\n        success = f.createNewFile();\n        if (success) {\n            System.out.printf(&quot;Successfully created new file: %s%n&quot;, f);\n        } else {\n            System.out.printf(&quot;Failed to create new file: %s%n&quot;, f);\n        }\n    }\n\n    // close Scanner to prevent resource leak\n    reader.close();\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5657239,"reputation":958,"user_id":4475997,"accept_rate":50,"display_name":"MasterBlaster"},"score":0,"creation_date":1473535111,"post_id":39429666,"comment_id":66182881,"body_markdown":"What doesn&#39;t work? Are there any errors, or is the output wrong? Please [edit] your question to include any more necessary information.","body":"What doesn&#39;t work? Are there any errors, or is the output wrong? Please <a href=\"https://stackoverflow.com/posts/39429666/edit\">edit</a> your question to include any more necessary information."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1473535160,"post_id":39429666,"comment_id":66182892,"body_markdown":"Suppose the user enters the number 256.  What is the value of `hundreds` in that case?  What would the result of `number - hundreds` be?","body":"Suppose the user enters the number 256.  What is the value of <code>hundreds</code> in that case?  What would the result of <code>number - hundreds</code> be?"},{"owner":{"account_id":9169313,"reputation":13,"user_id":6817535,"display_name":"Wilyum"},"score":0,"creation_date":1473535739,"post_id":39429666,"comment_id":66183065,"body_markdown":"When I type in any 3 digit number everything comes up blank and throws my &quot;if&quot; errors. It&#39;s like its not detecting my input of numbers in the console.","body":"When I type in any 3 digit number everything comes up blank and throws my &quot;if&quot; errors. It&#39;s like its not detecting my input of numbers in the console."}],"answers":[{"comments":[{"owner":{"account_id":9169313,"reputation":13,"user_id":6817535,"display_name":"Wilyum"},"score":0,"creation_date":1473537993,"post_id":39429989,"comment_id":66183636,"body_markdown":"Thank you so much! I knew I was doing something wrong. My errors and hundreds place are working now, my tens and ones aren&#39;t displaying the right number though.","body":"Thank you so much! I knew I was doing something wrong. My errors and hundreds place are working now, my tens and ones aren&#39;t displaying the right number though."}],"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1473537338,"creation_date":1473536906,"answer_id":39429989,"question_id":39429666,"body_markdown":"Replace ` System.out.printf(&quot;Hundreds place digit: &quot; , hundreds);` with ` System.out.println(&quot;Hundreds place digit: &quot; + hundreds);` and remove the `;` after the `if`-statments.\r\n\r\nIf you want to use `printf` take a look at this:  https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf(java.lang.String,%20java.lang.Object...)\r\n","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<p>Replace <code>System.out.printf(\"Hundreds place digit: \" , hundreds);</code> with <code>System.out.println(\"Hundreds place digit: \" + hundreds);</code> and remove the <code>;</code> after the <code>if</code>-statments.</p>\n\n<p>If you want to use <code>printf</code> take a look at this:  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf(java.lang.String,%20java.lang.Object...)\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf(java.lang.String,%20java.lang.Object...)</a></p>\n"},{"comments":[{"owner":{"account_id":9169313,"reputation":13,"user_id":6817535,"display_name":"Wilyum"},"score":0,"creation_date":1473539367,"post_id":39430071,"comment_id":66183978,"body_markdown":"Thank you guys so much for your help!","body":"Thank you guys so much for your help!"}],"tags":[],"owner":{"account_id":4145124,"reputation":2328,"user_id":3399105,"accept_rate":40,"display_name":"Shahid"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1473537479,"creation_date":1473537479,"answer_id":39430071,"question_id":39429666,"body_markdown":"You have little error of calculating tenth and ones digit.\r\n\r\n               //Displays tens digit\r\n                tens = (number %100) / 10;\r\n                System.out.println(&quot;Tens place digit: &quot; + tens);\r\n\r\n                //Display ones digit\r\n                ones = number %10;\r\n                System.out.println(&quot;Ones place digit: &quot; ,+ ones);\r\n\r\n\r\nRemove semicolons after if conditions.\r\n\r\nAgain, the 3 digit checking should be done just after reading the number. Otherwise pointless calculation will be done for invalid numbers.","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<p>You have little error of calculating tenth and ones digit.</p>\n\n<pre><code>           //Displays tens digit\n            tens = (number %100) / 10;\n            System.out.println(\"Tens place digit: \" + tens);\n\n            //Display ones digit\n            ones = number %10;\n            System.out.println(\"Ones place digit: \" ,+ ones);\n</code></pre>\n\n<p>Remove semicolons after if conditions.</p>\n\n<p>Again, the 3 digit checking should be done just after reading the number. Otherwise pointless calculation will be done for invalid numbers.</p>\n"},{"tags":[],"owner":{"account_id":14539544,"reputation":1,"user_id":10501696,"display_name":"Peter Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539499720,"creation_date":1539499337,"answer_id":52800163,"question_id":39429666,"body_markdown":"Completely Fixed code is here :\r\nYou can compare with your code to find error in your code\r\n\r\n\r\n\r\n          import java.util.Scanner;\r\n           class ValueOfDigits {\r\n              public static void main(String[] args) \r\n               {\r\n                 //Create new scanner\r\n                Scanner input = new Scanner(System.in);\r\n\r\n                //Values of each digit\r\n                int hundreds = 0;\r\n                int tens = 0;\r\n                int ones = 0;\r\n\r\n                //Prompt user to input 3 digit number           \r\n                System.out.print(&quot;Enter a 3 digit number: &quot;);\r\n                int number = input.nextInt();\r\n    \r\n      if (number &lt;= 999 &amp;&amp; number &gt; 99)   // Checking condition for three digit number\r\n      {\r\n    \r\n                //Displays hundreds place digit\r\n                hundreds = number / 100;\r\n                System.out.printf(&quot;Hundreds place digit: &quot; + hundreds);\r\n\r\n                //Displays tens digit\r\n                tens = (number - (hundreds*100)) / 10;  // compare with your code\r\n                System.out.printf(&quot;\\nTens place digit: &quot; + tens);\r\n\r\n\r\n                //Display ones digit\r\n                ones = (number - (tens*10) - (hundreds*100));   // compare with your code\r\n                System.out.printf(&quot;\\nOnes place digit: &quot; + ones);   \r\n      }\r\n                                 //Error if number is less or more then three digits\r\n    else                                                                    \r\n    {      \r\n      if (number &gt; 999)\r\n                System.out.println(&quot;\\nError! Number more then 3 digits.&quot;);\r\n                if (number &lt; 100)\r\n                System.out.println(&quot;Error! Number less then 3 digits.&quot;);\r\n      }\r\n\r\n\r\n                \r\n      }\r\n      }\r\n","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<p>Completely Fixed code is here :\nYou can compare with your code to find error in your code</p>\n\n<pre><code>      import java.util.Scanner;\n       class ValueOfDigits {\n          public static void main(String[] args) \n           {\n             //Create new scanner\n            Scanner input = new Scanner(System.in);\n\n            //Values of each digit\n            int hundreds = 0;\n            int tens = 0;\n            int ones = 0;\n\n            //Prompt user to input 3 digit number           \n            System.out.print(\"Enter a 3 digit number: \");\n            int number = input.nextInt();\n\n  if (number &lt;= 999 &amp;&amp; number &gt; 99)   // Checking condition for three digit number\n  {\n\n            //Displays hundreds place digit\n            hundreds = number / 100;\n            System.out.printf(\"Hundreds place digit: \" + hundreds);\n\n            //Displays tens digit\n            tens = (number - (hundreds*100)) / 10;  // compare with your code\n            System.out.printf(\"\\nTens place digit: \" + tens);\n\n\n            //Display ones digit\n            ones = (number - (tens*10) - (hundreds*100));   // compare with your code\n            System.out.printf(\"\\nOnes place digit: \" + ones);   \n  }\n                             //Error if number is less or more then three digits\nelse                                                                    \n{      \n  if (number &gt; 999)\n            System.out.println(\"\\nError! Number more then 3 digits.\");\n            if (number &lt; 100)\n            System.out.println(\"Error! Number less then 3 digits.\");\n  }\n\n\n\n  }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15832780,"reputation":81,"user_id":11423583,"display_name":"Pooja"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556471233,"creation_date":1556468045,"answer_id":55892148,"question_id":39429666,"body_markdown":"We can get ones, hundred or any other place value in Java using a simple code as shown below:\r\n     \r\n    int n=356;\r\n    int one=(n/1)%10;\r\n    int tens= (n/10)%10;\r\n    int hundred = (n/100)%10;","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<p>We can get ones, hundred or any other place value in Java using a simple code as shown below:</p>\n\n<pre><code>int n=356;\nint one=(n/1)%10;\nint tens= (n/10)%10;\nint hundred = (n/100)%10;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1182482,"reputation":736,"user_id":1157121,"display_name":"motou"},"score":0,"creation_date":1588166435,"post_id":61502092,"comment_id":108794980,"body_markdown":"Hi @Shakhobbek, please post an answer before you are sure that you&#39;ve understood the question completely. The question wants to show three values of a three-digit number. You can test your code firstly using http://codepen.io/","body":"Hi @Shakhobbek, please post an answer before you are sure that you&#39;ve understood the question completely. The question wants to show three values of a three-digit number. You can test your code firstly using <a href=\"http://codepen.io/\" rel=\"nofollow noreferrer\">codepen.io</a>"}],"tags":[],"owner":{"account_id":18241017,"reputation":1,"user_id":13278038,"display_name":"Shakhobbek Juraev"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588164197,"creation_date":1588164197,"answer_id":61502092,"question_id":39429666,"body_markdown":"    &#39;import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int a = sc.nextInt();\r\n        if (a &lt; 10) {\r\n          System.out.println(0);\r\n        } else {\r\n          System.out.println((a- (a/100)*100)/10);\r\n        }\r\n      }\r\n    }&#39;","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<pre><code>'import java.util.Scanner;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    int a = sc.nextInt();\n    if (a &lt; 10) {\n      System.out.println(0);\n    } else {\n      System.out.println((a- (a/100)*100)/10);\n    }\n  }\n}'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4922526,"reputation":1960,"user_id":3964927,"accept_rate":100,"display_name":"Null"},"score":0,"creation_date":1614970911,"post_id":66497668,"comment_id":117557466,"body_markdown":"Please [edit] your post to explain how this code works.","body":"Please <a href=\"https://stackoverflow.com/posts/66497668/edit\">edit</a> your post to explain how this code works."}],"tags":[],"owner":{"account_id":19069644,"reputation":1,"user_id":13924094,"display_name":"Rushikesh Thombre"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614968469,"creation_date":1614968469,"answer_id":66497668,"question_id":39429666,"body_markdown":"\r\n\r\n           \r\n    \r\n    class Source {\r\n        public static void main(String[] args) {\r\n    \r\n    \r\n        Create new scanner\r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        //Values of each digit\r\n        int tenThousands=0;\r\n        int thousands=0; \r\n        int hundreds=0; \r\n        int tens=0; \r\n        int ones=0;\r\n    \r\n        //Prompt user to input 5 digit number\r\n           \r\n        int n = input.nextInt();\r\n        if (n &gt; 99999) {\r\n            System.out.println(&quot;\\nError! Number more than 5 digits.&quot;);\r\n            }\r\n        else if (n &lt; 10000) {\r\n            System.out.println(&quot;Error! Number less than 5 digits.&quot;);\r\n            }\r\n        else if (10000&lt;=n&amp;&amp;n&lt;=99999){\r\n          tenThousands = n/10000;\r\n                System.out.println(tenThousands);\r\n          thousands = (n/1000)%10;\r\n          System.out.println(thousands);\r\n          hundreds = (n%1000)/100;\r\n                System.out.println(hundreds);\r\n          tens = (n%100)/10;\r\n                System.out.println(tens);\r\n          ones = n%10;\r\n                System.out.println(ones);\r\n     \r\n    \r\n    \r\n           \r\n            }\r\n         }\r\n    }\r\n\r\n","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<pre><code>class Source {\n    public static void main(String[] args) {\n\n\n    Create new scanner\n    Scanner input = new Scanner(System.in);\n\n    //Values of each digit\n    int tenThousands=0;\n    int thousands=0; \n    int hundreds=0; \n    int tens=0; \n    int ones=0;\n\n    //Prompt user to input 5 digit number\n       \n    int n = input.nextInt();\n    if (n &gt; 99999) {\n        System.out.println(&quot;\\nError! Number more than 5 digits.&quot;);\n        }\n    else if (n &lt; 10000) {\n        System.out.println(&quot;Error! Number less than 5 digits.&quot;);\n        }\n    else if (10000&lt;=n&amp;&amp;n&lt;=99999){\n      tenThousands = n/10000;\n            System.out.println(tenThousands);\n      thousands = (n/1000)%10;\n      System.out.println(thousands);\n      hundreds = (n%1000)/100;\n            System.out.println(hundreds);\n      tens = (n%100)/10;\n            System.out.println(tens);\n      ones = n%10;\n            System.out.println(ones);\n \n\n\n       \n        }\n     }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34880,"reputation":7380,"user_id":98636,"display_name":"Elemental"},"score":0,"creation_date":1670848563,"post_id":74717505,"comment_id":131960834,"body_markdown":"Would be nice to have an explaination of how modulus and integrer division work in this case","body":"Would be nice to have an explaination of how modulus and integrer division work in this case"}],"tags":[],"owner":{"account_id":24363076,"reputation":1,"user_id":18297172,"display_name":"hashninja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670420370,"creation_date":1670419959,"answer_id":74717505,"question_id":39429666,"body_markdown":"    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n           int number=18970;\r\n    \r\n            int one=(number/1)\r\n            int ones=(number/1)%10;\r\n            int tens=(number/10)%10;\r\n            int hundred=(number/100)%10;\r\n            int thousand=(number/1000)%10;\r\n            int tenThousand=(number/10000)%10;\r\n            double result = (number/10)%10;\r\n    \r\n          System.out.println(&quot;Ones: &quot; + ones + &quot; Tens: &quot;+ tens + &quot; Hundred: &quot;+ hundred + &quot; Thousand: &quot; + thousand +&quot; Ten Thousand:  &quot; +  tenThousand);\r\n        }\r\n    }\r\n\r\n","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n       int number=18970;\n\n        int one=(number/1)\n        int ones=(number/1)%10;\n        int tens=(number/10)%10;\n        int hundred=(number/100)%10;\n        int thousand=(number/1000)%10;\n        int tenThousand=(number/10000)%10;\n        double result = (number/10)%10;\n\n      System.out.println(&quot;Ones: &quot; + ones + &quot; Tens: &quot;+ tens + &quot; Hundred: &quot;+ hundred + &quot; Thousand: &quot; + thousand +&quot; Ten Thousand:  &quot; +  tenThousand);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9169313,"reputation":13,"user_id":6817535,"display_name":"Wilyum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69929,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":39429989,"answer_count":7,"score":-3,"last_activity_date":1670420370,"creation_date":1473534656,"question_id":39429666,"body_markdown":"I am a noob to java and I need advice to fix this code, I need to write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number. This is what I have so far, any ideas to how to get it to work? I&#39;m not getting any errors, but my number isn&#39;t even outputting to the console correctly. Like if I typed in 123 for my 3 digit number everything prints blank. For example:\r\n\r\nEnter a 3 digit number: 123\r\nHundreds place digit: \r\nTens place digit: \r\nOnes place digit: \r\nError! Number more then 3 digits.\r\nError! Number less then 3 digits.\r\n\r\nIt&#39;s not detecting my input of &#39;123&#39; for example, or anything else I put.\r\n\r\n\r\n\r\n        import java.util.Scanner;\r\n\t        public class ValueOfDigits {\r\n\t\t        public static void main(String[] args) {\r\n\t\t\t\r\n\t\t\t        //Create new scanner\r\n\t\t\t        Scanner input = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\t        //Values of each digit\r\n\t\t\t        int hundreds = 0;\r\n\t\t\t        int tens = 0;\r\n\t\t\t        int ones = 0;\r\n\t\t\t\r\n\t\t\t        //Prompt user to input 3 digit number\t\t\t\r\n\t\t\t        System.out.print(&quot;Enter a 3 digit number: &quot;);\r\n\t\t\t        int number = input.nextInt();\r\n\t\t\t\r\n\t\t\t        //Displays hundreds place digit\r\n\t\t\t        hundreds = number / 100;\r\n\t\t\t        System.out.printf(&quot;Hundreds place digit: &quot; , hundreds);\r\n\t\t\t\r\n\t\t\t        //Displays tens digit\r\n\t\t\t        tens = (number - hundreds) / 10;\r\n\t\t\t        System.out.printf(&quot;\\nTens place digit: &quot; , tens);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t        //Display ones digit\r\n\t\t\t        ones = (number - tens - hundreds);\r\n\t\t\t        System.out.printf(&quot;\\nOnes place digit: &quot; , ones);\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t        //Error if number is less or more then three digits\r\n\t\t\t        if (number &gt; 999); \r\n\t\t            System.out.println(&quot;\\nError! Number more then 3 digits.&quot;);\r\n\t\t\t        if (number &lt; 100);\r\n\t\t\t        System.out.println(&quot;Error! Number less then 3 digits.&quot;);\r\n\t}\r\n}\r\n ","title":"write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number","body":"<p>I am a noob to java and I need advice to fix this code, I need to write a Java program to show the value of the hundreds place, the tens place, and the ones place for a three-digit number. This is what I have so far, any ideas to how to get it to work? I'm not getting any errors, but my number isn't even outputting to the console correctly. Like if I typed in 123 for my 3 digit number everything prints blank. For example:</p>\n\n<p>Enter a 3 digit number: 123\nHundreds place digit: \nTens place digit: \nOnes place digit: \nError! Number more then 3 digits.\nError! Number less then 3 digits.</p>\n\n<p>It's not detecting my input of '123' for example, or anything else I put.</p>\n\n<pre><code>    import java.util.Scanner;\n        public class ValueOfDigits {\n            public static void main(String[] args) {\n\n                //Create new scanner\n                Scanner input = new Scanner(System.in);\n\n                //Values of each digit\n                int hundreds = 0;\n                int tens = 0;\n                int ones = 0;\n\n                //Prompt user to input 3 digit number           \n                System.out.print(\"Enter a 3 digit number: \");\n                int number = input.nextInt();\n\n                //Displays hundreds place digit\n                hundreds = number / 100;\n                System.out.printf(\"Hundreds place digit: \" , hundreds);\n\n                //Displays tens digit\n                tens = (number - hundreds) / 10;\n                System.out.printf(\"\\nTens place digit: \" , tens);\n\n\n                //Display ones digit\n                ones = (number - tens - hundreds);\n                System.out.printf(\"\\nOnes place digit: \" , ones);   \n\n\n                //Error if number is less or more then three digits\n                if (number &gt; 999); \n                System.out.println(\"\\nError! Number more then 3 digits.\");\n                if (number &lt; 100);\n                System.out.println(\"Error! Number less then 3 digits.\");\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":439406,"reputation":360,"user_id":828329,"display_name":"Peter Moskala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475834812,"creation_date":1475834812,"answer_id":39914677,"question_id":39912670,"body_markdown":"1.Basing on this source: \r\n\r\n[dynamically getting all image resource id in an array][1]\r\n\r\nyou can try to write this kind of code:\r\n\r\n    Field[] fields= R.raw.class.getFields();\r\n    int[] resArray = new int[fields.length];\r\n    for(int i = 0; i &lt; fields.length; i++) {\r\n        try {\r\n            resArray[i] = fields[i].getInt(null);\r\n        } catch (IllegalArgumentException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nand `resArray[]` will contain all the ids that you have in your `raw` folder.\r\n\r\n2.If you want to use file names you can use [int getIdentifier (String name, \r\n                String defType, \r\n                String defPackage)][2] method from `Resources` class.\r\n\r\n3.If you want to use files from external storage you can easily create `Media Player` instance using file path (remember about permissions) \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12274891/dynamically-getting-all-image-resource-id-in-an-array &quot;dynamically getting all image resource id in an array&quot;\r\n  [2]: https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)","title":"Android - changing the file played in mediaplayer dynamically","body":"<p>1.Basing on this source: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/12274891/dynamically-getting-all-image-resource-id-in-an-array\" title=\"dynamically getting all image resource id in an array\">dynamically getting all image resource id in an array</a></p>\n\n<p>you can try to write this kind of code:</p>\n\n<pre><code>Field[] fields= R.raw.class.getFields();\nint[] resArray = new int[fields.length];\nfor(int i = 0; i &lt; fields.length; i++) {\n    try {\n        resArray[i] = fields[i].getInt(null);\n    } catch (IllegalArgumentException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>and <code>resArray[]</code> will contain all the ids that you have in your <code>raw</code> folder.</p>\n\n<p>2.If you want to use file names you can use <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">int getIdentifier (String name, \n                String defType, \n                String defPackage)</a> method from <code>Resources</code> class.</p>\n\n<p>3.If you want to use files from external storage you can easily create <code>Media Player</code> instance using file path (remember about permissions) </p>\n"},{"comments":[{"owner":{"account_id":911702,"reputation":351,"user_id":945389,"display_name":"Paul V"},"score":0,"creation_date":1566149951,"post_id":39923014,"comment_id":101557087,"body_markdown":"An excellent way to instantiate the res folder, and get files by resource id. \nBut you re-create the mp before testing so it never returns true for isPlaying().  So, it plays the file on top of itself, for every time that function is run.\nI changed the mp to a (null) class parameter, and do a null test before creating it. Then on stop click, I set mp to null again. \nThat works as a toggle. \nAgain, the first part of this is extremely helpful.","body":"An excellent way to instantiate the res folder, and get files by resource id.  But you re-create the mp before testing so it never returns true for isPlaying().  So, it plays the file on top of itself, for every time that function is run. I changed the mp to a (null) class parameter, and do a null test before creating it. Then on stop click, I set mp to null again.  That works as a toggle.  Again, the first part of this is extremely helpful."},{"owner":{"account_id":6339179,"reputation":421,"user_id":4921704,"display_name":"Asad Mukhtar"},"score":0,"creation_date":1615500197,"post_id":39923014,"comment_id":117717585,"body_markdown":"Can you please why we need to release the mediaPlayer, as like ExoPlayer just replace the URL.","body":"Can you please why we need to release the mediaPlayer, as like ExoPlayer just replace the URL."}],"tags":[],"owner":{"account_id":8877193,"reputation":121,"user_id":6628906,"display_name":"Gal Ep"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670420260,"creation_date":1475861869,"answer_id":39923014,"question_id":39912670,"body_markdown":"I have found a solution. I have set all the files names in the raw directory with the same name pattern, got each file resource id by its name and loaded it to the player.\r\n\r\n    Resources res = getResources(); //resource handle\r\n        String url = &quot;song&quot; +index;\r\n        InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;raw/&quot;);\r\n        Integer resIdSound = res.getIdentifier (url,  &quot;raw&quot;, this.getPackageName());\r\n        mp = MediaPlayer.create(this, resIdSound);\r\n        try {\r\n            if (mp.isPlaying()) {\r\n                mp.stop();\r\n                mp.release();\r\n                mp = MediaPlayer.create(this, resIdSound);\r\n            } mp.start();\r\n        } catch(Exception e) { e.printStackTrace(); }\r\n    }","title":"Android - changing the file played in mediaplayer dynamically","body":"<p>I have found a solution. I have set all the files names in the raw directory with the same name pattern, got each file resource id by its name and loaded it to the player.</p>\n<pre><code>Resources res = getResources(); //resource handle\n    String url = &quot;song&quot; +index;\n    InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;raw/&quot;);\n    Integer resIdSound = res.getIdentifier (url,  &quot;raw&quot;, this.getPackageName());\n    mp = MediaPlayer.create(this, resIdSound);\n    try {\n        if (mp.isPlaying()) {\n            mp.stop();\n            mp.release();\n            mp = MediaPlayer.create(this, resIdSound);\n        } mp.start();\n    } catch(Exception e) { e.printStackTrace(); }\n}\n</code></pre>\n"}],"owner":{"account_id":8877193,"reputation":121,"user_id":6628906,"display_name":"Gal Ep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4179,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670420282,"creation_date":1475828446,"question_id":39912670,"body_markdown":"I&#39;m trying to play sounds dynamically.\r\n\r\nI have a resource directory that I have created under res folder that is called &quot;raw&quot;. this directory contains mp3 files.\r\n\r\nWhat I want to do is to make an Array with all the files names, and when a button is clicked the next mp3 int the next index will be loaded to the mediaplayer and will be playable.\r\n\r\nI have found this code for using mediaplayer\r\n\r\n    public class MainActivity extends ActionBarActivity {\r\n    Context context = this;\r\n    MediaPlayer mp;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_layout);\r\n        mp = MediaPlayer.create(context, R.raw.sound);\r\n        final Button b = (Button) findViewById(R.id.Button);\r\n        b.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                try {\r\n                    if (mp.isPlaying()) {\r\n                        mp.stop();\r\n                        mp.release();\r\n                        mp = MediaPlayer.create(context, R.raw.sound);\r\n                    } mp.start();\r\n                } catch(Exception e) { e.printStackTrace(); }\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nbut I can&#39;t seem to find the way to set track switching by Array with using the song name on the i index.\r\n\r\nThanks for any help","title":"Android - changing the file played in mediaplayer dynamically","body":"<p>I'm trying to play sounds dynamically.</p>\n<p>I have a resource directory that I have created under res folder that is called &quot;raw&quot;. this directory contains mp3 files.</p>\n<p>What I want to do is to make an Array with all the files names, and when a button is clicked the next mp3 int the next index will be loaded to the mediaplayer and will be playable.</p>\n<p>I have found this code for using mediaplayer</p>\n<pre><code>public class MainActivity extends ActionBarActivity {\nContext context = this;\nMediaPlayer mp;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main_layout);\n    mp = MediaPlayer.create(context, R.raw.sound);\n    final Button b = (Button) findViewById(R.id.Button);\n    b.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            try {\n                if (mp.isPlaying()) {\n                    mp.stop();\n                    mp.release();\n                    mp = MediaPlayer.create(context, R.raw.sound);\n                } mp.start();\n            } catch(Exception e) { e.printStackTrace(); }\n        }\n    });\n}\n}\n</code></pre>\n<p>but I can't seem to find the way to set track switching by Array with using the song name on the i index.</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","android","imageview","onactivityresult"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1531976224,"post_id":51414596,"comment_id":89800405,"body_markdown":"The actual issue is the `NullPointerException` at the end of that log line. `imageView` is null in `onActivityResult()`.","body":"The actual issue is the <code>NullPointerException</code> at the end of that log line. <code>imageView</code> is null in <code>onActivityResult()</code>."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1531976390,"post_id":51414596,"comment_id":89800456,"body_markdown":"There must be some Exception . Follow [This](https://developer.android.com/training/camera/photobasics) Use `MediaStore.EXTRA_OUTPUT` for full size image.","body":"There must be some Exception . Follow <a href=\"https://developer.android.com/training/camera/photobasics\" rel=\"nofollow noreferrer\">This</a> Use <code>MediaStore.EXTRA_OUTPUT</code> for full size image."},{"owner":{"account_id":7432134,"reputation":4006,"user_id":6880611,"accept_rate":67,"display_name":"Tejas Pandya"},"score":0,"creation_date":1531976562,"post_id":51414596,"comment_id":89800499,"body_markdown":"have you properly initialized your imageView object ?","body":"have you properly initialized your imageView object ?"}],"answers":[{"tags":[],"owner":{"account_id":13981172,"reputation":345,"user_id":10097275,"display_name":"nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670420218,"creation_date":1531978049,"answer_id":51414950,"question_id":51414596,"body_markdown":"You can try this method for getting image from camera:-\r\n\r\n        File destination;\r\n\r\n        public void cameraIntent() {\r\n        StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n        StrictMode.setVmPolicy(builder.build());\r\n        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        try {\r\n            Uri mImageCaptureUri;\r\n            String state = Environment.getExternalStorageState();\r\n            if (Environment.MEDIA_MOUNTED.equals(state)) {\r\n                destination = new File(Environment\r\n                    .getExternalStorageDirectory(),&quot;IMG_&quot;+System.currentTimeMillis() + &quot;.jpg&quot;);\r\n                mImageCaptureUri = Uri.fromFile(destination);\r\n            } else {\r\n                destination = new File(getFilesDir(), &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n                mImageCaptureUri = Uri.parse(&quot;content://&lt;Your package name or Directory name where you want to store&gt;/&quot;);\r\n            }\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT,\r\n                    mImageCaptureUri);\r\n            intent.putExtra(&quot;return-data&quot;, true);\r\n            startActivityForResult(intent, 0);\r\n        } catch (ActivityNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nand add this line in your onActivityResult Mehtod:-\r\n     \r\n           if (requestCode == 0) {\r\n                Uri selectedImageUri = Uri.fromFile(destination);\r\n            }\r\n","title":"Java/Android Studio - Failure delivering result ResultInfo","body":"<p>You can try this method for getting image from camera:-</p>\n<pre><code>    File destination;\n\n    public void cameraIntent() {\n    StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n    StrictMode.setVmPolicy(builder.build());\n    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    try {\n        Uri mImageCaptureUri;\n        String state = Environment.getExternalStorageState();\n        if (Environment.MEDIA_MOUNTED.equals(state)) {\n            destination = new File(Environment\n                .getExternalStorageDirectory(),&quot;IMG_&quot;+System.currentTimeMillis() + &quot;.jpg&quot;);\n            mImageCaptureUri = Uri.fromFile(destination);\n        } else {\n            destination = new File(getFilesDir(), &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\n            mImageCaptureUri = Uri.parse(&quot;content://&lt;Your package name or Directory name where you want to store&gt;/&quot;);\n        }\n        intent.putExtra(MediaStore.EXTRA_OUTPUT,\n                mImageCaptureUri);\n        intent.putExtra(&quot;return-data&quot;, true);\n        startActivityForResult(intent, 0);\n    } catch (ActivityNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>and add this line in your onActivityResult Mehtod:-</p>\n<pre><code>       if (requestCode == 0) {\n            Uri selectedImageUri = Uri.fromFile(destination);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8699677,"reputation":928,"user_id":6510011,"accept_rate":88,"display_name":"George B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532026230,"creation_date":1532026230,"answer_id":51429917,"question_id":51414596,"body_markdown":"It turns out the problem was very simple, and was actually answered in the comments - I did not pay enough attention to the error, and failed to notice that the null object reference mentioned at the end was indeed the ImageView, which I forgot to initialize. However, I would like to thank the user who answered the question anyways - it may be helpful for others who have a similar problems on this topic.","title":"Java/Android Studio - Failure delivering result ResultInfo","body":"<p>It turns out the problem was very simple, and was actually answered in the comments - I did not pay enough attention to the error, and failed to notice that the null object reference mentioned at the end was indeed the ImageView, which I forgot to initialize. However, I would like to thank the user who answered the question anyways - it may be helpful for others who have a similar problems on this topic.</p>\n"}],"owner":{"account_id":8699677,"reputation":928,"user_id":6510011,"accept_rate":88,"display_name":"George B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670420218,"creation_date":1531976121,"question_id":51414596,"body_markdown":"In my app, the user has the option of selecting an image from the photo gallery or by taking a photo with the camera. However, when the user selects a photo to use (when they tap on it), the app crashes and this error comes up in the log - \r\n\r\n    \r\n\r\n&gt; java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { dat=content://com.google.android.apps.photos.contentprovider/-1/1/content://media/external/images/media/46/ORIGINAL/NONE/859067274 flg=0x1 clip={text/uri-list U:content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F46/ORIGINAL/NONE/859067274} }} to activity {com.veterinarysedations.georgeberdovskiy.veterinarysedations/com.veterinarysedations.georgeberdovskiy.veterinarysedations.DogDetailActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageURI(android.net.Uri)&#39; on a null object reference\r\n\r\nHere is my code - \r\n\r\n     public void PickImage(View view) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        final String[] weightUnitOptions = {&quot;Camera&quot;, &quot;Gallery&quot;};\r\n        builder.setTitle(&quot;Pick Image from&quot;)\r\n                .setItems(weightUnitOptions, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        if (which == 0) {\r\n                            Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            startActivityForResult(takePicture, 0);\r\n                        } else {\r\n                            Intent pickPhoto = new Intent(Intent.ACTION_PICK,\r\n                                    android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                            startActivityForResult(pickPhoto , 1);\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int id) {\r\n\r\n            }\r\n        });\r\n\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) {\r\n        super.onActivityResult(requestCode, resultCode, imageReturnedIntent);\r\n        if (resultCode != RESULT_CANCELED) {\r\n            if (requestCode == 0) {\r\n                Uri selectedImage = imageReturnedIntent.getData();\r\n                imageView.setImageURI(selectedImage);\r\n            } else if (requestCode == 1) {\r\n                Uri selectedImage = imageReturnedIntent.getData();\r\n                imageView.setImageURI(selectedImage);\r\n            } else {\r\n                super.onActivityResult(requestCode, resultCode, imageReturnedIntent);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is one of the answers on StackOverflow that I tried using - \r\n\r\n - https://stackoverflow.com/questions/19042511/android-camera-failure-delivering-result-resultinfowho-null-request-0-resul/19042615\r\n\r\nDoes anybody know what I need to do to fix this error? Thanks in advance!\r\n    ","title":"Java/Android Studio - Failure delivering result ResultInfo","body":"<p>In my app, the user has the option of selecting an image from the photo gallery or by taking a photo with the camera. However, when the user selects a photo to use (when they tap on it), the app crashes and this error comes up in the log - </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { dat=content://com.google.android.apps.photos.contentprovider/-1/1/content://media/external/images/media/46/ORIGINAL/NONE/859067274 flg=0x1 clip={text/uri-list U:content://com.google.android.apps.photos.contentprovider/-1/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F46/ORIGINAL/NONE/859067274} }} to activity {com.veterinarysedations.georgeberdovskiy.veterinarysedations/com.veterinarysedations.georgeberdovskiy.veterinarysedations.DogDetailActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ImageView.setImageURI(android.net.Uri)' on a null object reference</p>\n</blockquote>\n\n<p>Here is my code - </p>\n\n<pre><code> public void PickImage(View view) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    final String[] weightUnitOptions = {\"Camera\", \"Gallery\"};\n    builder.setTitle(\"Pick Image from\")\n            .setItems(weightUnitOptions, new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n                    if (which == 0) {\n                        Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                        startActivityForResult(takePicture, 0);\n                    } else {\n                        Intent pickPhoto = new Intent(Intent.ACTION_PICK,\n                                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                        startActivityForResult(pickPhoto , 1);\n                    }\n                }\n\n            });\n\n    builder.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int id) {\n\n        }\n    });\n\n    AlertDialog dialog = builder.create();\n    dialog.show();\n}\n\nprotected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) {\n    super.onActivityResult(requestCode, resultCode, imageReturnedIntent);\n    if (resultCode != RESULT_CANCELED) {\n        if (requestCode == 0) {\n            Uri selectedImage = imageReturnedIntent.getData();\n            imageView.setImageURI(selectedImage);\n        } else if (requestCode == 1) {\n            Uri selectedImage = imageReturnedIntent.getData();\n            imageView.setImageURI(selectedImage);\n        } else {\n            super.onActivityResult(requestCode, resultCode, imageReturnedIntent);\n        }\n    }\n}\n</code></pre>\n\n<p>Here is one of the answers on StackOverflow that I tried using - </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/19042511/android-camera-failure-delivering-result-resultinfowho-null-request-0-resul/19042615\">android camera : Failure delivering result ResultInfo{who=null, request=0, result=-1, data=null} to activity</a></li>\n</ul>\n\n<p>Does anybody know what I need to do to fix this error? Thanks in advance!</p>\n"},{"tags":["java","android","sqlite","julian-date"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1670002045,"post_id":74658743,"comment_id":131778948,"body_markdown":"What does the java version have to do with a sqlite function?","body":"What does the java version have to do with a sqlite function?"},{"owner":{"account_id":1498342,"reputation":5,"user_id":1403774,"display_name":"AstFreelancer"},"score":0,"creation_date":1670003025,"post_id":74658743,"comment_id":131779224,"body_markdown":"@Shawn I want to use julianday function, but in old Java I haven&#39;t it.","body":"@Shawn I want to use julianday function, but in old Java I haven&#39;t it."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1670003802,"post_id":74658743,"comment_id":131779455,"body_markdown":"But it&#39;s a Sqlite function... unless there&#39;s a java function of the same name? What class is it in?","body":"But it&#39;s a Sqlite function... unless there&#39;s a java function of the same name? What class is it in?"},{"owner":{"account_id":1498342,"reputation":5,"user_id":1403774,"display_name":"AstFreelancer"},"score":0,"creation_date":1670004869,"post_id":74658743,"comment_id":131779807,"body_markdown":"@Shawn Yes https://docs.oracle.com/javase/8/docs/api/java/time/temporal/JulianFields.html","body":"@Shawn Yes <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/JulianFields.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/temporal/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1498342,"reputation":5,"user_id":1403774,"display_name":"AstFreelancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670004787,"creation_date":1670004787,"answer_id":74659896,"question_id":74658743,"body_markdown":"I found it!\r\nI am to save in my database every date as &#39;YYYY-MM-DD&#39;.Then simply:\r\n\r\nSELECT (strftime(&#39;%s&#39;, &#39;now&#39;) - strftime(&#39;%s&#39;, mydate)) / 86400.0 from mytable","title":"How do I find out how many days have passed since the date saved in the SQLite table?","body":"<p>I found it!\nI am to save in my database every date as 'YYYY-MM-DD'.Then simply:</p>\n<p>SELECT (strftime('%s', 'now') - strftime('%s', mydate)) / 86400.0 from mytable</p>\n"}],"owner":{"account_id":1498342,"reputation":5,"user_id":1403774,"display_name":"AstFreelancer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74659896,"answer_count":1,"score":0,"last_activity_date":1670419982,"creation_date":1669998312,"question_id":74658743,"body_markdown":"I&#39;m writing my first Android app. I save the data to my SQLite database like this:\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(&quot;mydate&quot;, System.currentTimeMillis());\r\n        mydatabase.update(&quot;mytable&quot;, values, &quot;id = ?&quot;, new String[]{String.valueOf(w.Id())});\r\n\r\nThen I am to get how many days have passed from that day.\r\nI tried this:\r\n\r\n    SELECT ((julianday(&#39;now&#39;) - 2440587.5)*86400000 - mydate)/1000 * 60 * 60 * 24 AS days FROM mytable \r\n\r\nAnd get some absurd numbers.\r\nIt&#39;s because of absence of julianday() function in old Java versions I cannot get this value by simple\r\n\r\n    SELECT julianday(&#39;now&#39;) - mydate AS days\r\n\r\nAnd how can I get this in old Java?","title":"How do I find out how many days have passed since the date saved in the SQLite table?","body":"<p>I'm writing my first Android app. I save the data to my SQLite database like this:</p>\n<pre><code>    ContentValues values = new ContentValues();\n    values.put(&quot;mydate&quot;, System.currentTimeMillis());\n    mydatabase.update(&quot;mytable&quot;, values, &quot;id = ?&quot;, new String[]{String.valueOf(w.Id())});\n</code></pre>\n<p>Then I am to get how many days have passed from that day.\nI tried this:</p>\n<pre><code>SELECT ((julianday('now') - 2440587.5)*86400000 - mydate)/1000 * 60 * 60 * 24 AS days FROM mytable \n</code></pre>\n<p>And get some absurd numbers.\nIt's because of absence of julianday() function in old Java versions I cannot get this value by simple</p>\n<pre><code>SELECT julianday('now') - mydate AS days\n</code></pre>\n<p>And how can I get this in old Java?</p>\n"},{"tags":["java","forms","swing","user-interface","designer"],"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":1,"creation_date":1670409899,"post_id":74715287,"comment_id":131868528,"body_markdown":"`if (option == JOptionPane.YES_OPTION) { ... }`","body":"<code>if (option == JOptionPane.YES_OPTION) { ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670419617,"creation_date":1670419617,"answer_id":74717434,"question_id":74715287,"body_markdown":"[JOptionPane](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) can safely be invoked from a thread which is not the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) (EDT). Hence, in the below code, it is called from method `main`.\r\n\r\nNote that `JOptionPane` can be closed either by clicking on one of the option buttons, or pressing &lt;kbd&gt;Esc&lt;/kbd&gt; key on computer keyboard or by pressing close button in window decorations. For Windows operating system, this is the X in the top, right corner of the window. Regardless of how you close the `JOptionPane`, method `showOptionDialog` will return [YES_OPTION](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#YES_OPTION) only if that button is clicked. In your program, that button displays the text *Settings*. Hence you only need to check whether the value returned by method `showOptionDialog` is `YES_OPTION`.\r\n\r\nHere is the code. Explanations appear after it.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.time.LocalTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.Timer;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class StopWhat {\r\n    private static final String  CLOSE = &quot;Close&quot;;\r\n    private static final String  SETTINGS = &quot;Settings&quot;;\r\n\r\n    private JButton  startButton;\r\n    private JButton  stopButton;\r\n    private JFrame  frame;\r\n    private JLabel  theWatch;\r\n    private Timer  timer;\r\n\r\n    public StopWhat() {\r\n        timer = new Timer(1000, this::updateTimer);\r\n        timer.setDelay(0);\r\n    }\r\n\r\n    private void buildAndDisplayGui() {\r\n        frame = new JFrame(&quot;Timer App&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        theWatch = new JLabel(getCurrentTime(), SwingConstants.CENTER);\r\n        theWatch.setBorder(BorderFactory.createEmptyBorder(30, 30, 30, 30));\r\n        theWatch.setForeground(Color.red);\r\n        theWatch.setToolTipText(&quot;Timer is currently stopped.&quot;);\r\n        frame.add(theWatch, BorderLayout.CENTER);\r\n        frame.add(createButtons(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel panel = new JPanel();\r\n        startButton = new JButton(&quot;Start&quot;);\r\n        startButton.setMnemonic(KeyEvent.VK_A);\r\n        startButton.setToolTipText(&quot;Starts the timer.&quot;);\r\n        startButton.addActionListener(this::startTimer);\r\n        panel.add(startButton);\r\n        stopButton = new JButton(&quot;Stop&quot;);\r\n        stopButton.setMnemonic(KeyEvent.VK_O);\r\n        stopButton.setToolTipText(&quot;Stops the timer.&quot;);\r\n        stopButton.addActionListener(this::stopTimer);\r\n        stopButton.setEnabled(false);\r\n        panel.add(stopButton);\r\n        return panel;\r\n    }\r\n\r\n    private String getCurrentTime() {\r\n        return LocalTime.now().format(DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;, Locale.ENGLISH));\r\n    }\r\n\r\n    private void startTimer(ActionEvent event) {\r\n        theWatch.setToolTipText(null);\r\n        theWatch.setForeground(Color.black);\r\n        startButton.setEnabled(false);\r\n        timer.start();\r\n        stopButton.setEnabled(true);\r\n    }\r\n\r\n    private void stopTimer(ActionEvent event) {\r\n        timer.stop();\r\n        theWatch.setForeground(Color.red);\r\n        theWatch.setToolTipText(&quot;Timer is currently stopped.&quot;);\r\n        startButton.setEnabled(true);\r\n        stopButton.setEnabled(false);\r\n    }\r\n\r\n    private void updateTimer(ActionEvent event) {\r\n        theWatch.setText(getCurrentTime());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int choice = JOptionPane.showOptionDialog(null,\r\n                                                  &quot;Choose option&quot;,\r\n                                                  &quot;Option dialog&quot;,\r\n                                                  JOptionPane.YES_NO_OPTION,\r\n                                                  JOptionPane.QUESTION_MESSAGE,\r\n                                                  null,\r\n                                                  new String[]{SETTINGS, CLOSE},\r\n                                                  SETTINGS);\r\n        if (choice == JOptionPane.YES_OPTION) {\r\n            String slaf = UIManager.getSystemLookAndFeelClassName();\r\n            try {\r\n                UIManager.setLookAndFeel(slaf);\r\n            }\r\n            catch (ClassNotFoundException |\r\n                   IllegalAccessException |\r\n                   InstantiationException |\r\n                   UnsupportedLookAndFeelException x) {\r\n                System.out.println(&quot;WARNING (ignored): Failed to set [System] look-and-feel.&quot;);\r\n            }\r\n            EventQueue.invokeLater(() -&gt; new StopWhat().buildAndDisplayGui());\r\n        }\r\n        else {\r\n            System.exit(0);\r\n        }\r\n    }\r\n}\r\n```\r\n- The [ActionListener](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html)s are implemented using [method references](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).\r\n- The [date-time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) is used to display the time.\r\n- A *Swing* [timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) is used to update the displayed time.\r\n- Default [layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for [content pane of] [JFrame](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) is `BorderLayout`.","title":"How to open a new form from JOptionPane","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JOptionPane</a> can safely be invoked from a thread which is not the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">event dispatch thread</a> (EDT). Hence, in the below code, it is called from method <code>main</code>.</p>\n<p>Note that <code>JOptionPane</code> can be closed either by clicking on one of the option buttons, or pressing <kbd>Esc</kbd> key on computer keyboard or by pressing close button in window decorations. For Windows operating system, this is the X in the top, right corner of the window. Regardless of how you close the <code>JOptionPane</code>, method <code>showOptionDialog</code> will return <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#YES_OPTION\" rel=\"nofollow noreferrer\">YES_OPTION</a> only if that button is clicked. In your program, that button displays the text <em>Settings</em>. Hence you only need to check whether the value returned by method <code>showOptionDialog</code> is <code>YES_OPTION</code>.</p>\n<p>Here is the code. Explanations appear after it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class StopWhat {\n    private static final String  CLOSE = &quot;Close&quot;;\n    private static final String  SETTINGS = &quot;Settings&quot;;\n\n    private JButton  startButton;\n    private JButton  stopButton;\n    private JFrame  frame;\n    private JLabel  theWatch;\n    private Timer  timer;\n\n    public StopWhat() {\n        timer = new Timer(1000, this::updateTimer);\n        timer.setDelay(0);\n    }\n\n    private void buildAndDisplayGui() {\n        frame = new JFrame(&quot;Timer App&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        theWatch = new JLabel(getCurrentTime(), SwingConstants.CENTER);\n        theWatch.setBorder(BorderFactory.createEmptyBorder(30, 30, 30, 30));\n        theWatch.setForeground(Color.red);\n        theWatch.setToolTipText(&quot;Timer is currently stopped.&quot;);\n        frame.add(theWatch, BorderLayout.CENTER);\n        frame.add(createButtons(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtons() {\n        JPanel panel = new JPanel();\n        startButton = new JButton(&quot;Start&quot;);\n        startButton.setMnemonic(KeyEvent.VK_A);\n        startButton.setToolTipText(&quot;Starts the timer.&quot;);\n        startButton.addActionListener(this::startTimer);\n        panel.add(startButton);\n        stopButton = new JButton(&quot;Stop&quot;);\n        stopButton.setMnemonic(KeyEvent.VK_O);\n        stopButton.setToolTipText(&quot;Stops the timer.&quot;);\n        stopButton.addActionListener(this::stopTimer);\n        stopButton.setEnabled(false);\n        panel.add(stopButton);\n        return panel;\n    }\n\n    private String getCurrentTime() {\n        return LocalTime.now().format(DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;, Locale.ENGLISH));\n    }\n\n    private void startTimer(ActionEvent event) {\n        theWatch.setToolTipText(null);\n        theWatch.setForeground(Color.black);\n        startButton.setEnabled(false);\n        timer.start();\n        stopButton.setEnabled(true);\n    }\n\n    private void stopTimer(ActionEvent event) {\n        timer.stop();\n        theWatch.setForeground(Color.red);\n        theWatch.setToolTipText(&quot;Timer is currently stopped.&quot;);\n        startButton.setEnabled(true);\n        stopButton.setEnabled(false);\n    }\n\n    private void updateTimer(ActionEvent event) {\n        theWatch.setText(getCurrentTime());\n    }\n\n    public static void main(String[] args) {\n        int choice = JOptionPane.showOptionDialog(null,\n                                                  &quot;Choose option&quot;,\n                                                  &quot;Option dialog&quot;,\n                                                  JOptionPane.YES_NO_OPTION,\n                                                  JOptionPane.QUESTION_MESSAGE,\n                                                  null,\n                                                  new String[]{SETTINGS, CLOSE},\n                                                  SETTINGS);\n        if (choice == JOptionPane.YES_OPTION) {\n            String slaf = UIManager.getSystemLookAndFeelClassName();\n            try {\n                UIManager.setLookAndFeel(slaf);\n            }\n            catch (ClassNotFoundException |\n                   IllegalAccessException |\n                   InstantiationException |\n                   UnsupportedLookAndFeelException x) {\n                System.out.println(&quot;WARNING (ignored): Failed to set [System] look-and-feel.&quot;);\n            }\n            EventQueue.invokeLater(() -&gt; new StopWhat().buildAndDisplayGui());\n        }\n        else {\n            System.exit(0);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">ActionListener</a>s are implemented using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</li>\n<li>The <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date-time API</a> is used to display the time.</li>\n<li>A <em>Swing</em> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">timer</a> is used to update the displayed time.</li>\n<li>Default <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout manager</a> for [content pane of] <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">JFrame</a> is <code>BorderLayout</code>.</li>\n</ul>\n"}],"owner":{"account_id":24430540,"reputation":3,"user_id":18355534,"display_name":"assblaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74717434,"answer_count":1,"score":-1,"last_activity_date":1670419617,"creation_date":1670409510,"question_id":74715287,"body_markdown":"I have an issue using Java Swing. I have an easy assignment but I don&#39;t know how to create a new form using JOptionPane.\r\n\r\nThe assignment must start with JOptionPane and it must start with a dialog with two options: Settings and Close. Clicking Settings opens a new form, which has a label and a button.\r\n\r\nThe label contains the current time, which is displayed in the format HH:mm:ss and changes every second, the Timer activates immediately. The button is used to choose the color for the given label. There is a Stop button, which can stop the Timer and an additional button that can restart the watch. \r\n\r\nAlso, the label must change color between the chosen red and the default color.\r\n\r\nWhen I run the app, the dialog box pops up, however I couldn&#39;t figure it out how to open another form after clicking the Settings button.\r\n\r\n`\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\npublic class Timer extends JFrame {\r\n    private JPanel MainPanel;\r\n\r\n    public Timer() {\r\n        this.setContentPane(MainPanel);\r\n        this.setTitle(&quot;Timer App&quot;);\r\n        this.setLocationRelativeTo(null);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n    public static void main(String[] args) {\r\n        Timer frame = new Timer();\r\n        JButton settings = new JButton(&quot;Settings&quot;);\r\n        JButton close = new JButton(&quot;Close&quot;);\r\n\r\n        int option = JOptionPane.showOptionDialog(null, &quot;Choose option&quot;, &quot;Option dialog&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null, new String[] {&quot;Settings&quot;, &quot;Close&quot;}, null);\r\n    }\r\n}\r\n```\r\n`","title":"How to open a new form from JOptionPane","body":"<p>I have an issue using Java Swing. I have an easy assignment but I don't know how to create a new form using JOptionPane.</p>\n<p>The assignment must start with JOptionPane and it must start with a dialog with two options: Settings and Close. Clicking Settings opens a new form, which has a label and a button.</p>\n<p>The label contains the current time, which is displayed in the format HH:mm:ss and changes every second, the Timer activates immediately. The button is used to choose the color for the given label. There is a Stop button, which can stop the Timer and an additional button that can restart the watch.</p>\n<p>Also, the label must change color between the chosen red and the default color.</p>\n<p>When I run the app, the dialog box pops up, however I couldn't figure it out how to open another form after clicking the Settings button.</p>\n<p>`</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\npublic class Timer extends JFrame {\n    private JPanel MainPanel;\n\n    public Timer() {\n        this.setContentPane(MainPanel);\n        this.setTitle(&quot;Timer App&quot;);\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n    public static void main(String[] args) {\n        Timer frame = new Timer();\n        JButton settings = new JButton(&quot;Settings&quot;);\n        JButton close = new JButton(&quot;Close&quot;);\n\n        int option = JOptionPane.showOptionDialog(null, &quot;Choose option&quot;, &quot;Option dialog&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null, new String[] {&quot;Settings&quot;, &quot;Close&quot;}, null);\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","calendar","initialization","java.util.calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670426988,"post_id":74716394,"comment_id":131874749,"body_markdown":"You should not use the `Calendar` class. It is cumbersome to work with and long outdated. I think you want `ZonedDateTime flightDateTime = ZonedDateTime.of(2002, 3, 20, 22, 0, 0, 0, ZoneId.systemDefault());`. The `ZonedDateTime` class is part of [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"You should not use the <code>Calendar</code> class. It is cumbersome to work with and long outdated. I think you want <code>ZonedDateTime flightDateTime = ZonedDateTime.of(2002, 3, 20, 22, 0, 0, 0, ZoneId.systemDefault());</code>. The <code>ZonedDateTime</code> class is part of <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1670427260,"post_id":74716394,"comment_id":131874872,"body_markdown":"Completely aside: The capital of Estonia is spelled *Tallinn* with double l and double n. Greece is not a city, you may have thought `ATHENS`?","body":"Completely aside: The capital of Estonia is spelled <i>Tallinn</i> with double l and double n. Greece is not a city, you may have thought <code>ATHENS</code>?"}],"owner":{"account_id":23368134,"reputation":21,"user_id":17439431,"display_name":"inspironman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670431383,"answer_count":0,"score":0,"last_activity_date":1670419598,"creation_date":1670414596,"question_id":74716394,"body_markdown":"```\r\nimport java.util.*;\r\n\r\nenum CITY{ROME,BUDAPEST,PARIS,GREECE,TALIN,AMSTREDAM,VIENNA;}\r\n\r\nclass Flight{\r\n    private String flightName = &quot;AirBus&quot;;\r\n    private int ticketPrice = 50;\r\n    private CITY Destination = CITY.ROME;\r\n    private int numberOfTravellers = 83;\r\n    private int flightDuration = 2;\r\n    Calendar flightTime = Calendar.getInstance();\r\n    Calendar flightDate = Calendar.getInstance();\r\n    flightDate.set(Calendar.YEAR, 2002);\r\n    flightDate.set(Calendar.MONTH, 2);\r\n    flightDate.set(Calendar.DAY, 20);\r\n    flightTime.set(Calendar.HOUR,10);\r\n    flightTime.set(Calendar.MINUTE, 0);\r\n    flightTime.set(Calendar.SECOND, 0);\r\n\r\n    private static int goalTicketPrice = 35;\r\n}\r\n```\r\n\r\n\r\nI am tring to set the Date and time of the flight. \r\nbut getting these types of 18 errors.\r\n\r\nIt gives this error ....\r\n\r\n```\r\n&lt;identifier&gt; expected\r\n    flightDate.set(Calendar.YEAR, 2002);\r\n \r\n","title":"How to set time and date in calender class in Java?","body":"<pre><code>import java.util.*;\n\nenum CITY{ROME,BUDAPEST,PARIS,GREECE,TALIN,AMSTREDAM,VIENNA;}\n\nclass Flight{\n    private String flightName = &quot;AirBus&quot;;\n    private int ticketPrice = 50;\n    private CITY Destination = CITY.ROME;\n    private int numberOfTravellers = 83;\n    private int flightDuration = 2;\n    Calendar flightTime = Calendar.getInstance();\n    Calendar flightDate = Calendar.getInstance();\n    flightDate.set(Calendar.YEAR, 2002);\n    flightDate.set(Calendar.MONTH, 2);\n    flightDate.set(Calendar.DAY, 20);\n    flightTime.set(Calendar.HOUR,10);\n    flightTime.set(Calendar.MINUTE, 0);\n    flightTime.set(Calendar.SECOND, 0);\n\n    private static int goalTicketPrice = 35;\n}\n</code></pre>\n<p>I am tring to set the Date and time of the flight.\nbut getting these types of 18 errors.</p>\n<p>It gives this error ....</p>\n<pre><code>&lt;identifier&gt; expected\n    flightDate.set(Calendar.YEAR, 2002);\n \n</code></pre>\n"},{"tags":["java","postgresql","concurrency","spring-data-jpa","pessimistic-locking"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1670435065,"post_id":74717231,"comment_id":131877706,"body_markdown":"Related: https://stackoverflow.com/questions/7705273/what-are-the-conditions-for-encountering-a-serialization-failure-in-postgresql?noredirect=1&amp;lq=1","body":"Related: <a href=\"https://stackoverflow.com/questions/7705273/what-are-the-conditions-for-encountering-a-serialization-failure-in-postgresql?noredirect=1&amp;lq=1\" title=\"what are the conditions for encountering a serialization failure in postgresql\">stackoverflow.com/questions/7705273/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"score":0,"creation_date":1675147197,"post_id":74717416,"comment_id":132860532,"body_markdown":"When two instances of the transactional method are executing concurrently, then without providing isolation both will read the initial data right? Because the second to read the row will read the uncommitted row","body":"When two instances of the transactional method are executing concurrently, then without providing isolation both will read the initial data right? Because the second to read the row will read the uncommitted row"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1675150919,"post_id":74717416,"comment_id":132861271,"body_markdown":"no there is no uncommited read","body":"no there is no uncommited read"},{"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"score":0,"creation_date":1675153034,"post_id":74717416,"comment_id":132861788,"body_markdown":"can I know how to handle those situations? I want the second transaction to wait for the first transaction to commit and release the lock. [ database: PostgreSQL]","body":"can I know how to handle those situations? I want the second transaction to wait for the first transaction to commit and release the lock. [ database: PostgreSQL]"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1675153759,"post_id":74717416,"comment_id":132862027,"body_markdown":"Yes it&#39;s described in the answer","body":"Yes it&#39;s described in the answer"},{"owner":{"account_id":16781769,"reputation":763,"user_id":12131806,"display_name":"Nagulan S"},"score":0,"creation_date":1675154212,"post_id":74717416,"comment_id":132862151,"body_markdown":"Got it. But its not working for me that&#39;s the problem. Both transactions start at once. T1 reads a row with Pessimistic_write lock and makes a change and starts executing other statements in the transaction. Now before T1 commits T2 reads the same row with the uncommitted value. How to restrict this from happening?","body":"Got it. But its not working for me that&#39;s the problem. Both transactions start at once. T1 reads a row with Pessimistic_write lock and makes a change and starts executing other statements in the transaction. Now before T1 commits T2 reads the same row with the uncommitted value. How to restrict this from happening?"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670419500,"creation_date":1670419500,"answer_id":74717416,"question_id":74717231,"body_markdown":"That&#39;s how PostgreSQL works. SERIALIZABLE will not wait until the other transaction has finished but will throw an exception.\r\n\r\nBut as you are already using PESSIMISTIC_WRITE which will result in a SELECT ... FOR UPDATE you don&#39;t need to change the isolation level at all.","title":"Why Spring Data JPA Pessimistic lock not working as expected?","body":"<p>That's how PostgreSQL works. SERIALIZABLE will not wait until the other transaction has finished but will throw an exception.</p>\n<p>But as you are already using PESSIMISTIC_WRITE which will result in a SELECT ... FOR UPDATE you don't need to change the isolation level at all.</p>\n"}],"owner":{"account_id":9730848,"reputation":33,"user_id":7215932,"display_name":"dubious cyborg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74717416,"answer_count":1,"score":0,"last_activity_date":1670419500,"creation_date":1670418629,"question_id":74717231,"body_markdown":"I&#39;m trying to work with pessimistic locks in Spring Data JPA and Postgresql but pessimistic lock is not working as expected.\r\n\r\nTried to concurrently update a record using pessimistic lock, since pessimistic lock should block until lock is available, was expecting concurrent transactions to block instead of getting error, but when I run the update via multiple threads get the following error:\r\n\r\n`ERROR 67017 --- [onPool-worker-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: could not serialize access due to concurrent update`\r\n\r\nWhat am I doing wrong?\r\n\r\nHere is my repository implementation:\r\n\r\n```\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\n@Override\r\npublic void addToSequence(Integer id) {\r\n    FiveEntity fiveEntity=entityManager.find(FiveEntity.class,id);\r\n    fiveEntity.setSequence(fiveEntity.getSequence()+1);\r\n    log.debug(&quot;sequence: {}&quot;,fiveEntity.getSequence());\r\n    entityManager.merge(fiveEntity);\r\n}\r\n```\r\n\r\nAnd here is my service implementation:\r\n\r\n```\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\n@Override\r\npublic void processWithPessimisticLock() {\r\n   fiveEntityRepository.addToSequence(lastId);\r\n}\r\n```","title":"Why Spring Data JPA Pessimistic lock not working as expected?","body":"<p>I'm trying to work with pessimistic locks in Spring Data JPA and Postgresql but pessimistic lock is not working as expected.</p>\n<p>Tried to concurrently update a record using pessimistic lock, since pessimistic lock should block until lock is available, was expecting concurrent transactions to block instead of getting error, but when I run the update via multiple threads get the following error:</p>\n<p><code>ERROR 67017 --- [onPool-worker-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: could not serialize access due to concurrent update</code></p>\n<p>What am I doing wrong?</p>\n<p>Here is my repository implementation:</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\n@Override\npublic void addToSequence(Integer id) {\n    FiveEntity fiveEntity=entityManager.find(FiveEntity.class,id);\n    fiveEntity.setSequence(fiveEntity.getSequence()+1);\n    log.debug(&quot;sequence: {}&quot;,fiveEntity.getSequence());\n    entityManager.merge(fiveEntity);\n}\n</code></pre>\n<p>And here is my service implementation:</p>\n<pre><code>@Transactional(isolation = Isolation.SERIALIZABLE)\n@Override\npublic void processWithPessimisticLock() {\n   fiveEntityRepository.addToSequence(lastId);\n}\n</code></pre>\n"},{"tags":["java","android","validation"],"answers":[{"comments":[{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1325680754,"post_id":8724775,"comment_id":10865856,"body_markdown":"You suggest to create own validation library, but my question is there any already existing which is mature.","body":"You suggest to create own validation library, but my question is there any already existing which is mature."}],"tags":[],"owner":{"account_id":1090749,"reputation":2499,"user_id":1085440,"accept_rate":92,"display_name":"Daud Arfin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325670317,"creation_date":1325670317,"answer_id":8724775,"question_id":6613321,"body_markdown":"If you mean to validate text fields(EditText) then i will suggest you to use Pattern and Matcher with regex expressions, ofcourse we are not using android API here but android support java API hence you can.","title":"Form validation library for Android?","body":"<p>If you mean to validate text fields(EditText) then i will suggest you to use Pattern and Matcher with regex expressions, ofcourse we are not using android API here but android support java API hence you can.</p>\n"},{"tags":[],"owner":{"account_id":179101,"reputation":2560,"user_id":411520,"accept_rate":14,"display_name":"Marcus Wolschon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434496866,"creation_date":1325686002,"answer_id":8728185,"question_id":6613321,"body_markdown":"Using either\r\n\r\n    android.widget.AutoCompleteTextView.Validator;\r\n    myTextview.setValidator(myCustomValidator);\r\n\r\nor `myTextView.setError(error-message)` \r\nin an `onTextChangedListener`\r\nworks fine and the second one looks really great.","title":"Form validation library for Android?","body":"<p>Using either</p>\n\n<pre><code>android.widget.AutoCompleteTextView.Validator;\nmyTextview.setValidator(myCustomValidator);\n</code></pre>\n\n<p>or <code>myTextView.setError(error-message)</code> \nin an <code>onTextChangedListener</code>\nworks fine and the second one looks really great.</p>\n"},{"comments":[{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1325862178,"post_id":8754213,"comment_id":10916104,"body_markdown":"But this is not a declarative way of specifying validators. (Currently, I have hardcoded it like you suggest, but I am looking for a better way.)","body":"But this is not a declarative way of specifying validators. (Currently, I have hardcoded it like you suggest, but I am looking for a better way.)"}],"tags":[],"owner":{"account_id":1090749,"reputation":2499,"user_id":1085440,"accept_rate":92,"display_name":"Daud Arfin"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1325839704,"creation_date":1325831159,"answer_id":8754213,"question_id":6613321,"body_markdown":"This will be the simple and mature way to validate the input texts or forms:\r\n\r\n    private EditText et_first_name;\r\n    et_first_name = (EditText)findViewById(R.id.et_first_name);\r\n    et_first_name = (EditText)findViewById(R.id.et_first_name);\r\n    first_name.matches(&quot;^(?i)(?=.{1,20}$)([A-Za-z]+[A-Za-z0-9-_.]*$)&quot;); // use the regex expression inside brackets and returns the error status .","title":"Form validation library for Android?","body":"<p>This will be the simple and mature way to validate the input texts or forms:</p>\n\n<pre><code>private EditText et_first_name;\net_first_name = (EditText)findViewById(R.id.et_first_name);\net_first_name = (EditText)findViewById(R.id.et_first_name);\nfirst_name.matches(\"^(?i)(?=.{1,20}$)([A-Za-z]+[A-Za-z0-9-_.]*$)\"); // use the regex expression inside brackets and returns the error status .\n</code></pre>\n"},{"comments":[{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1326834190,"post_id":8891257,"comment_id":11132701,"body_markdown":"Do you know any Android UI binding for that library?","body":"Do you know any Android UI binding for that library?"},{"owner":{"account_id":1176745,"reputation":3309,"user_id":1152565,"accept_rate":88,"display_name":"Roman K"},"score":0,"creation_date":1326914681,"post_id":8891257,"comment_id":11153618,"body_markdown":"I guess you have to bind it manually, but I think the Validator will work on any class like Form or Dialog, since you can annoatate any method you create or overwrite.","body":"I guess you have to bind it manually, but I think the Validator will work on any class like Form or Dialog, since you can annoatate any method you create or overwrite."},{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1326924428,"post_id":8891257,"comment_id":11157212,"body_markdown":"I looking for something which also helps with UI, but thank you for a hint +1.","body":"I looking for something which also helps with UI, but thank you for a hint +1."}],"tags":[],"owner":{"account_id":1176745,"reputation":3309,"user_id":1152565,"accept_rate":88,"display_name":"Roman K"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326786751,"creation_date":1326786751,"answer_id":8891257,"question_id":6613321,"body_markdown":"I would recommend [OVal][1]\r\n\r\n    public class BusinessObject {\r\n\r\n    @NotNull\r\n    @NotEmpty\r\n    @Length(max=32)\r\n    private String name;\r\n\r\n     ...\r\n    }\r\n\r\n    // collect the constraint violations\r\n    List&lt;ConstraintViolation&gt; violations = validator.validate(bo);\r\n\r\n\r\nI&#39;m planing to uses it in my next project since is has a variety of expression languages, but only Java is hard required. \r\n\r\nIt is not JSR303 compilant, but supports those annotations too.\r\n\r\n  [1]: http://oval.sourceforge.net/","title":"Form validation library for Android?","body":"<p>I would recommend <a href=\"http://oval.sourceforge.net/\" rel=\"nofollow\">OVal</a></p>\n\n<pre><code>public class BusinessObject {\n\n@NotNull\n@NotEmpty\n@Length(max=32)\nprivate String name;\n\n ...\n}\n\n// collect the constraint violations\nList&lt;ConstraintViolation&gt; violations = validator.validate(bo);\n</code></pre>\n\n<p>I'm planing to uses it in my next project since is has a variety of expression languages, but only Java is hard required. </p>\n\n<p>It is not JSR303 compilant, but supports those annotations too.</p>\n"},{"comments":[{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1347152146,"post_id":12335430,"comment_id":16558984,"body_markdown":"+1 Thank you for the information. Are there any stock ValidatorListeners that would e.g. highlight the error input boxes, etc.?","body":"+1 Thank you for the information. Are there any stock ValidatorListeners that would e.g. highlight the error input boxes, etc.?"},{"owner":{"account_id":184962,"reputation":19603,"user_id":421372,"accept_rate":87,"display_name":"Ragunath Jawahar"},"score":0,"creation_date":1347169718,"post_id":12335430,"comment_id":16560932,"body_markdown":"You will receive the failedView and failedRule in the onFailure callback. If you want to highlight the EditText fields, you can always call the setError() or the requestFocus() methods. The failed rule will have a failure message when you can get by calling the failedRule.getFailureMessage().","body":"You will receive the failedView and failedRule in the onFailure callback. If you want to highlight the EditText fields, you can always call the setError() or the requestFocus() methods. The failed rule will have a failure message when you can get by calling the failedRule.getFailureMessage()."},{"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"score":0,"creation_date":1347226572,"post_id":12335430,"comment_id":16571551,"body_markdown":"Are you planing any declarative extensions for that? (That can be just applied and you do not need to code it every time.)","body":"Are you planing any declarative extensions for that? (That can be just applied and you do not need to code it every time.)"},{"owner":{"account_id":184962,"reputation":19603,"user_id":421372,"accept_rate":87,"display_name":"Ragunath Jawahar"},"score":0,"creation_date":1347245172,"post_id":12335430,"comment_id":16574430,"body_markdown":"Yes, I&#39;m looking into annotations and XML declarations.","body":"Yes, I&#39;m looking into annotations and XML declarations."},{"owner":{"account_id":184962,"reputation":19603,"user_id":421372,"accept_rate":87,"display_name":"Ragunath Jawahar"},"score":0,"creation_date":1350731435,"post_id":12335430,"comment_id":17617133,"body_markdown":"@TN. I have begun to add annotation support to my library. Check the project link for updates.","body":"@TN. I have begun to add annotation support to my library. Check the project link for updates."}],"tags":[],"owner":{"account_id":184962,"reputation":19603,"user_id":421372,"accept_rate":87,"display_name":"Ragunath Jawahar"},"comment_count":5,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1438524482,"creation_date":1347148508,"answer_id":12335430,"question_id":6613321,"body_markdown":"The library now supports annotations, you can validate your fields just by adding them. Here is an example code snippet.\r\n\r\n    @NotEmpty\r\n    @Order(1)\r\n    private EditText fieldEditText;\r\n\r\n    @Checked(message = &quot;You must agree to the terms.&quot;)\r\n    @Order(2)\r\n    private CheckBox iAgreeCheckBox;\r\n\r\n    @Length(min = 3, message = &quot;Enter atleast 3 characters.&quot;)\r\n    @Pattern(regex = &quot;[A-Za-z]+&quot;, message = &quot;Should contain only alphabets&quot;)\r\n    @Order(3)\r\n    private TextView regexTextView;\r\n\r\n    @Password\r\n    @Order(4)\r\n    private EditText passwordEditText;\r\n\r\n    @ConfirmPassword\r\n    @Order(5)\r\n    private EditText confirmPasswordEditText;\r\n\r\nThe order annotation is optional and specifies the order in which the fields should be validated. This is ONLY required if you want the order of the fields to be preserved during validation. There are also other annotations such as `@Email`, `@IpAddress`, `@Isbn`, etc.,\r\n\r\n**Android Studio / Gradle**&lt;br /&gt;\r\n\r\n    compile &#39;com.mobsandgeeks:android-saripaar:2.0.2&#39;\r\n\r\nCheck for the latest available version.\r\n\r\n\r\n**Eclipse**&lt;br /&gt;\r\nYou can download the jar from [here][4] and add it to your Android `libs` directory.\r\n\r\n**Old Answer (Saripaar v1)**&lt;br /&gt;\r\nI have authored a library for validation. Here is the [associated blog][1] and the [project][2]. I have sucessfully used it in production applications and it currently satisfies most of the common scenarios that we face in validation forms for Android. There are rules that come out of the box and if you need to write your own, you can do that by writing your own Rule.\r\n\r\nHere is a snippet that illustrates the use of the library.\r\n\r\n    validator.put(nameEditText, Rules.required(&quot;Name is required.&quot;));\r\n    validator.put(nameEditText, Rules.minLength(&quot;Name is too short.&quot;, 3));\r\n    validator.put(emailEditText, Rules.regex(&quot;Email id is invalid.&quot;, Rules.REGEX_EMAIL, trim));\r\n    validator.put(confirmPwdEditText, Rules.eq(&quot;Passwords don\\&#39;t match.&quot;, pwdEditText);\r\n\r\nThere are also `or` and `and` rules that allow you to perform `&amp;&amp;` and `||` operations on several rules. There is also a `compositeOr` and `compositeAnd` rule that allows you to perform validations between several Views.\r\n\r\nIf any of those seem to be insufficient, you can always write your own rule by extending the [Rule][3] class.\r\n\r\n  [1]: http://honeyicejelly.blogspot.in/2012/09/live-by-rules-baby-at-least-few.html\r\n  [2]: https://github.com/ragunathjawahar/android-saripaar\r\n  [3]: https://github.com/ragunathjawahar/android-saripaar/blob/master/src/com/mobsandgeeks/saripaar/Rule.java\r\n  [4]: http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.mobsandgeeks%22%20AND%20a%3A%22android-saripaar%22","title":"Form validation library for Android?","body":"<p>The library now supports annotations, you can validate your fields just by adding them. Here is an example code snippet.</p>\n\n<pre><code>@NotEmpty\n@Order(1)\nprivate EditText fieldEditText;\n\n@Checked(message = \"You must agree to the terms.\")\n@Order(2)\nprivate CheckBox iAgreeCheckBox;\n\n@Length(min = 3, message = \"Enter atleast 3 characters.\")\n@Pattern(regex = \"[A-Za-z]+\", message = \"Should contain only alphabets\")\n@Order(3)\nprivate TextView regexTextView;\n\n@Password\n@Order(4)\nprivate EditText passwordEditText;\n\n@ConfirmPassword\n@Order(5)\nprivate EditText confirmPasswordEditText;\n</code></pre>\n\n<p>The order annotation is optional and specifies the order in which the fields should be validated. This is ONLY required if you want the order of the fields to be preserved during validation. There are also other annotations such as <code>@Email</code>, <code>@IpAddress</code>, <code>@Isbn</code>, etc.,</p>\n\n<p><strong>Android Studio / Gradle</strong><br /></p>\n\n<pre><code>compile 'com.mobsandgeeks:android-saripaar:2.0.2'\n</code></pre>\n\n<p>Check for the latest available version.</p>\n\n<p><strong>Eclipse</strong><br />\nYou can download the jar from <a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.mobsandgeeks%22%20AND%20a%3A%22android-saripaar%22\" rel=\"noreferrer\">here</a> and add it to your Android <code>libs</code> directory.</p>\n\n<p><strong>Old Answer (Saripaar v1)</strong><br />\nI have authored a library for validation. Here is the <a href=\"http://honeyicejelly.blogspot.in/2012/09/live-by-rules-baby-at-least-few.html\" rel=\"noreferrer\">associated blog</a> and the <a href=\"https://github.com/ragunathjawahar/android-saripaar\" rel=\"noreferrer\">project</a>. I have sucessfully used it in production applications and it currently satisfies most of the common scenarios that we face in validation forms for Android. There are rules that come out of the box and if you need to write your own, you can do that by writing your own Rule.</p>\n\n<p>Here is a snippet that illustrates the use of the library.</p>\n\n<pre><code>validator.put(nameEditText, Rules.required(\"Name is required.\"));\nvalidator.put(nameEditText, Rules.minLength(\"Name is too short.\", 3));\nvalidator.put(emailEditText, Rules.regex(\"Email id is invalid.\", Rules.REGEX_EMAIL, trim));\nvalidator.put(confirmPwdEditText, Rules.eq(\"Passwords don\\'t match.\", pwdEditText);\n</code></pre>\n\n<p>There are also <code>or</code> and <code>and</code> rules that allow you to perform <code>&amp;&amp;</code> and <code>||</code> operations on several rules. There is also a <code>compositeOr</code> and <code>compositeAnd</code> rule that allows you to perform validations between several Views.</p>\n\n<p>If any of those seem to be insufficient, you can always write your own rule by extending the <a href=\"https://github.com/ragunathjawahar/android-saripaar/blob/master/src/com/mobsandgeeks/saripaar/Rule.java\" rel=\"noreferrer\">Rule</a> class.</p>\n"},{"tags":[],"owner":{"account_id":1663845,"reputation":20579,"user_id":1531657,"accept_rate":55,"display_name":"Muhammad Aamir Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361255924,"creation_date":1361255924,"answer_id":14951310,"question_id":6613321,"body_markdown":"Use Oval library for validation in android\r\nIt is object based validation library used in Object classes","title":"Form validation library for Android?","body":"<p>Use Oval library for validation in android\nIt is object based validation library used in Object classes</p>\n"},{"tags":[],"owner":{"account_id":2757491,"reputation":849,"user_id":2375159,"accept_rate":55,"display_name":"gorefest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411928484,"creation_date":1411928484,"answer_id":26088071,"question_id":6613321,"body_markdown":"since I fought with such problems on my own, I added this functionality to the core functions of my BARACUS application framework. See http://baracusframework.blogspot.de/2014/01/baracus-from-scratch-part-6-automatic.html for details.\r\n\r\nThe concept includes a declarative binding of named validators in the form plus the automatic routing of any constraint violation messages.\r\n\r\n","title":"Form validation library for Android?","body":"<p>since I fought with such problems on my own, I added this functionality to the core functions of my BARACUS application framework. See <a href=\"http://baracusframework.blogspot.de/2014/01/baracus-from-scratch-part-6-automatic.html\" rel=\"nofollow\">http://baracusframework.blogspot.de/2014/01/baracus-from-scratch-part-6-automatic.html</a> for details.</p>\n\n<p>The concept includes a declarative binding of named validators in the form plus the automatic routing of any constraint violation messages.</p>\n"},{"tags":[],"owner":{"account_id":14720612,"reputation":384,"user_id":10631354,"display_name":"Funyinoluwa Kashimawo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670419354,"creation_date":1670419354,"answer_id":74717382,"question_id":6613321,"body_markdown":"You can use FormValidateor Library - https://android-arsenal.com/details/1/8353.\r\nIt works with jetpack compose and view system.","title":"Form validation library for Android?","body":"<p>You can use FormValidateor Library - <a href=\"https://android-arsenal.com/details/1/8353\" rel=\"nofollow noreferrer\">https://android-arsenal.com/details/1/8353</a>.\nIt works with jetpack compose and view system.</p>\n"}],"owner":{"account_id":41911,"reputation":18964,"user_id":121968,"accept_rate":70,"display_name":"TN."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11617,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":12335430,"answer_count":8,"score":17,"last_activity_date":1670419354,"creation_date":1310053518,"question_id":6613321,"body_markdown":"Is there any mature form validation API / library for Android?\r\nI&#39;ve found http://code.google.com/p/android-binding/ but it seems that is under heavy development.\r\n\r\n**UPDATE:** Just to clarify my question. Currently, I have hardcoded form validation imperatively. And I would like to know, if there is a mature form validation library that allows me to declaratively specify validators (e.g. directly in XML or in code using annotations or by functional fluent way, ...).","title":"Form validation library for Android?","body":"<p>Is there any mature form validation API / library for Android?\nI've found <a href=\"http://code.google.com/p/android-binding/\" rel=\"noreferrer\">http://code.google.com/p/android-binding/</a> but it seems that is under heavy development.</p>\n\n<p><strong>UPDATE:</strong> Just to clarify my question. Currently, I have hardcoded form validation imperatively. And I would like to know, if there is a mature form validation library that allows me to declaratively specify validators (e.g. directly in XML or in code using annotations or by functional fluent way, ...).</p>\n"},{"tags":["java","docker","openshift","tika-server"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668098333,"post_id":74391042,"comment_id":131329434,"body_markdown":"Create an [Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/) resource in Open Shift, that&#39;s what they made for.","body":"Create an <a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/\" rel=\"nofollow noreferrer\">Ingress</a> resource in Open Shift, that&#39;s what they made for."}],"answers":[{"tags":[],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670418809,"creation_date":1670418809,"answer_id":74717267,"question_id":74391042,"body_markdown":"Until now I did not find a solution, that works with the official tika server image. To reach my goal, I created a simple Spring Boot MVC application and added the `org.apache.tika:tika-parsers` dependency.\r\n\r\nNow I can send multipart requests with an attached InputStream to this service which returns the content type.","title":"How can i change the context path of tika server?","body":"<p>Until now I did not find a solution, that works with the official tika server image. To reach my goal, I created a simple Spring Boot MVC application and added the <code>org.apache.tika:tika-parsers</code> dependency.</p>\n<p>Now I can send multipart requests with an attached InputStream to this service which returns the content type.</p>\n"}],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74717267,"answer_count":1,"score":0,"last_activity_date":1670418809,"creation_date":1668092287,"question_id":74391042,"body_markdown":"I want to run the [tika server docker image](https://hub.docker.com/r/apache/tika) in openshift. This works fine out of the box **but** as soon as i run other services at the same time i need a **context path** to determine which service should be addressed in the url.\r\n\r\n`https://my-openshift-instance.com/my-first-service`   &lt;- this is a different service working\r\n`https://my-openshift-instance.com/tika-server`        &lt;- this is what i need\r\n\r\nIn Spring Boot applications you just set something like `server.servlet.context-path=/my-service-name` and it is done. But unfortunately tika server is not based on Spring Boot.\r\n\r\nI searched in the official [tika-server docs](https://cwiki.apache.org/confluence/display/TIKA/TikaServer), [tika-docker repo](https://github.com/apache/tika-docker) as well as the [normal tika repo](https://github.com/apache/tika) but nowhere was anything documented about context paths.","title":"How can i change the context path of tika server?","body":"<p>I want to run the <a href=\"https://hub.docker.com/r/apache/tika\" rel=\"nofollow noreferrer\">tika server docker image</a> in openshift. This works fine out of the box <strong>but</strong> as soon as i run other services at the same time i need a <strong>context path</strong> to determine which service should be addressed in the url.</p>\n<p><code>https://my-openshift-instance.com/my-first-service</code>   &lt;- this is a different service working\n<code>https://my-openshift-instance.com/tika-server</code>        &lt;- this is what i need</p>\n<p>In Spring Boot applications you just set something like <code>server.servlet.context-path=/my-service-name</code> and it is done. But unfortunately tika server is not based on Spring Boot.</p>\n<p>I searched in the official <a href=\"https://cwiki.apache.org/confluence/display/TIKA/TikaServer\" rel=\"nofollow noreferrer\">tika-server docs</a>, <a href=\"https://github.com/apache/tika-docker\" rel=\"nofollow noreferrer\">tika-docker repo</a> as well as the <a href=\"https://github.com/apache/tika\" rel=\"nofollow noreferrer\">normal tika repo</a> but nowhere was anything documented about context paths.</p>\n"},{"tags":["java","ip","hex","converters"],"comments":[{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":1,"creation_date":1373028955,"post_id":17489404,"comment_id":25419685,"body_markdown":"1. Split the string into substrings of length 2. 2. Convert all substrings to dezimal. 3. Insert dots between all substrings.","body":"1. Split the string into substrings of length 2. 2. Convert all substrings to dezimal. 3. Insert dots between all substrings."}],"answers":[{"comments":[{"owner":{"account_id":3326567,"reputation":264,"user_id":2796515,"accept_rate":69,"display_name":"user2796515"},"score":0,"creation_date":1539183778,"post_id":17489456,"comment_id":92411054,"body_markdown":"The link is dead.","body":"The link is dead."}],"tags":[],"owner":{"account_id":2846782,"reputation":417,"user_id":2444937,"accept_rate":50,"display_name":"The Tosters"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547549807,"creation_date":1373028948,"answer_id":17489456,"question_id":17489404,"body_markdown":"You can split it 2 characters, and then use Integer.parse(string, radix) to convert to integer values\r\n\r\nhttp://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String,int)\r\n\r\nUPDATE:\r\nLink for newer documentation:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-","title":"Convert hexadecimal string to IP Address","body":"<p>You can split it 2 characters, and then use Integer.parse(string, radix) to convert to integer values</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String,int)\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String,int)</a></p>\n\n<p>UPDATE:\nLink for newer documentation:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-</a></p>\n"},{"comments":[{"owner":{"account_id":1553388,"reputation":353,"user_id":1445252,"display_name":"ARC"},"score":1,"creation_date":1373030153,"post_id":17489484,"comment_id":25420425,"body_markdown":"+1. I really like this answer. Not a lot of code or string manipulation and gives you exactly what you want.","body":"+1. I really like this answer. Not a lot of code or string manipulation and gives you exactly what you want."},{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1373031935,"post_id":17489484,"comment_id":25421497,"body_markdown":"Thanks a lot! Sweet and precise.","body":"Thanks a lot! Sweet and precise."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1528407151,"post_id":17489484,"comment_id":88508686,"body_markdown":"Note: Since `Java 9` `DatatypeConverter` is no longer part of the standard: https://github.com/http-kit/http-kit/issues/356","body":"Note: Since <code>Java 9</code> <code>DatatypeConverter</code> is no longer part of the standard: <a href=\"https://github.com/http-kit/http-kit/issues/356\" rel=\"nofollow noreferrer\">github.com/http-kit/http-kit/issues/356</a>"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1373029458,"creation_date":1373029034,"answer_id":17489484,"question_id":17489404,"body_markdown":"try this\r\n\r\n    InetAddress a = InetAddress.getByAddress(DatatypeConverter.parseHexBinary(&quot;0A064156&quot;));\r\n\r\nDatatypeConverter is from standard `javax.xml.bind` package","title":"Convert hexadecimal string to IP Address","body":"<p>try this</p>\n\n<pre><code>InetAddress a = InetAddress.getByAddress(DatatypeConverter.parseHexBinary(\"0A064156\"));\n</code></pre>\n\n<p>DatatypeConverter is from standard <code>javax.xml.bind</code> package</p>\n"},{"comments":[{"owner":{"account_id":3317456,"reputation":1056,"user_id":2789467,"display_name":"Paul"},"score":0,"creation_date":1542243750,"post_id":17489548,"comment_id":93502844,"body_markdown":"Good answer, just a typo. It should be `hexValue.substring`. https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)","body":"Good answer, just a typo. It should be <code>hexValue.substring</code>. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"}],"tags":[],"owner":{"account_id":2921966,"reputation":3572,"user_id":2504013,"accept_rate":86,"display_name":"JREN"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670418487,"creation_date":1373029223,"answer_id":17489548,"question_id":17489404,"body_markdown":"You can split your hex value in groups of 2 and then convert them to integers.\r\n\r\n&gt; 0A = 10\r\n&gt;\r\n&gt; 06 = 06\r\n&gt;\r\n&gt; 65 = 41\r\n&gt;\r\n&gt; 86 = 56\r\n\r\n**Code:**\r\n\r\n    String hexValue = &quot;0A064156&quot;;\r\n    String ip = &quot;&quot;;\r\n\r\n    for(int i = 0; i &lt; hexValue.length(); i = i + 2) {\r\n        ip = ip + Integer.valueOf(hexValue.substring(i, i+2), 16) + &quot;.&quot;;\r\n    }\r\n\r\n    System.out.println(&quot;Ip = &quot; + ip);\r\n\r\n**Output:**\r\n\r\n&gt; Ip = 10.6.65.86.","title":"Convert hexadecimal string to IP Address","body":"<p>You can split your hex value in groups of 2 and then convert them to integers.</p>\n<blockquote>\n<p>0A = 10</p>\n<p>06 = 06</p>\n<p>65 = 41</p>\n<p>86 = 56</p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre><code>String hexValue = &quot;0A064156&quot;;\nString ip = &quot;&quot;;\n\nfor(int i = 0; i &lt; hexValue.length(); i = i + 2) {\n    ip = ip + Integer.valueOf(hexValue.substring(i, i+2), 16) + &quot;.&quot;;\n}\n\nSystem.out.println(&quot;Ip = &quot; + ip);\n</code></pre>\n<p><strong>Output:</strong></p>\n<blockquote>\n<p>Ip = 10.6.65.86.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1727647,"reputation":598,"user_id":1581973,"accept_rate":50,"display_name":"Devi Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373029504,"creation_date":1373029504,"answer_id":17489623,"question_id":17489404,"body_markdown":"    public String convertHexToString(String hex){\r\n\r\n\t  StringBuilder sb = new StringBuilder();\r\n\t  StringBuilder temp = new StringBuilder();\r\n\r\n\t  for( int i=0; i&lt;hex.length()-1; i+=2 ){\r\n\r\n\t    \r\n\t      String output = hex.substring(i, (i + 2));\r\n\t   \r\n\t      int decimal = Integer.parseInt(output, 16);\r\n\t    \r\n\t      sb.append((char)decimal);\r\n\r\n\t      temp.append(decimal);\r\n              temp.append(&quot;.&quot;);\r\n\t  }\r\n\t  System.out.println(&quot;Decimal : &quot; + temp.toString());\r\n\r\n\t  return sb.toString();\r\n}","title":"Convert hexadecimal string to IP Address","body":"<pre><code>public String convertHexToString(String hex){\n\n  StringBuilder sb = new StringBuilder();\n  StringBuilder temp = new StringBuilder();\n\n  for( int i=0; i&lt;hex.length()-1; i+=2 ){\n\n\n      String output = hex.substring(i, (i + 2));\n\n      int decimal = Integer.parseInt(output, 16);\n\n      sb.append((char)decimal);\n\n      temp.append(decimal);\n          temp.append(\".\");\n  }\n  System.out.println(\"Decimal : \" + temp.toString());\n\n  return sb.toString();\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2644552,"reputation":4952,"user_id":2287538,"accept_rate":62,"display_name":"Rahul Bobhate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373029748,"creation_date":1373029748,"answer_id":17489701,"question_id":17489404,"body_markdown":"You can use the following method:\r\n\r\n\tpublic static String convertHexToIP(String hex)\r\n\t{\r\n\t\tString ip= &quot;&quot;;\r\n\t\t\r\n\t\tfor (int j = 0; j &lt; hex.length(); j+=2) {\r\n\t\t\tString sub = hex.substring(j, j+2);\r\n\t\t\tint num = Integer.parseInt(sub, 16);\r\n\t\t\tip += num+&quot;.&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tip = ip.substring(0, ip.length()-1);\r\n\t\treturn ip;\r\n\t}\r\n","title":"Convert hexadecimal string to IP Address","body":"<p>You can use the following method:</p>\n\n<pre><code>public static String convertHexToIP(String hex)\n{\n    String ip= \"\";\n\n    for (int j = 0; j &lt; hex.length(); j+=2) {\n        String sub = hex.substring(j, j+2);\n        int num = Integer.parseInt(sub, 16);\n        ip += num+\".\";\n    }\n\n    ip = ip.substring(0, ip.length()-1);\n    return ip;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509821,"reputation":35,"user_id":1412228,"display_name":"Ryder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542794037,"creation_date":1542794037,"answer_id":53409367,"question_id":17489404,"body_markdown":"The accepted answer has a requirement that, the hex must be even-length.\r\nHere is my answer:\r\n\r\n    private String getIpByHex(String hex) {\r\n        Long ipLong = Long.parseLong(hex, 16);\r\n        String ipString = String.format(&quot;%d.%d.%d.%d&quot;, ipLong &gt;&gt; 24, \r\n            ipLong &gt;&gt; 16 &amp; 0x00000000000000FF, \r\n            ipLong &gt;&gt; 8 &amp; 0x00000000000000FF, \r\n            ipLong &amp; 0x00000000000000FF);\r\n\r\n        return ipString;\r\n    }","title":"Convert hexadecimal string to IP Address","body":"<p>The accepted answer has a requirement that, the hex must be even-length.\nHere is my answer:</p>\n\n<pre><code>private String getIpByHex(String hex) {\n    Long ipLong = Long.parseLong(hex, 16);\n    String ipString = String.format(\"%d.%d.%d.%d\", ipLong &gt;&gt; 24, \n        ipLong &gt;&gt; 16 &amp; 0x00000000000000FF, \n        ipLong &gt;&gt; 8 &amp; 0x00000000000000FF, \n        ipLong &amp; 0x00000000000000FF);\n\n    return ipString;\n}\n</code></pre>\n"}],"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16086,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":17489484,"answer_count":6,"score":11,"last_activity_date":1670418487,"creation_date":1373028798,"question_id":17489404,"body_markdown":"I want to convert a string value (in hexadecimal) to an IP Address. How can I do it using Java?\r\n\r\nHex value: `0A064156`\r\n\r\nIP: `10.6.65.86`\r\n\r\nThis [site][1] gives me the correct result, but I am not sure how to implement this in my code.\r\n\r\nCan it be done directly in an XSLT?\r\n\r\n  [1]: https://ncalculators.com/digital-computation/ip-address-hex-decimal-binary.htm","title":"Convert hexadecimal string to IP Address","body":"<p>I want to convert a string value (in hexadecimal) to an IP Address. How can I do it using Java?</p>\n\n<p>Hex value: <code>0A064156</code></p>\n\n<p>IP: <code>10.6.65.86</code></p>\n\n<p>This <a href=\"https://ncalculators.com/digital-computation/ip-address-hex-decimal-binary.htm\" rel=\"nofollow noreferrer\">site</a> gives me the correct result, but I am not sure how to implement this in my code.</p>\n\n<p>Can it be done directly in an XSLT?</p>\n"},{"tags":["java","singleton","modifier"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1670416639,"post_id":74715707,"comment_id":131870935,"body_markdown":"It&#39;s a singleton that is unsafe (anyone can do `Singleton.obj = null;`) and probably not thread-safe (that would need double checked locking and `obj` to be `volatile` or preferably use the singleton holder approach(https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom) but `public static final instance = new Singleton();` is already a perfectly (thread-)safe singleton. The GOF pattern would want you to use getters rather than public fields but that&#39;s a different debate","body":"It&#39;s a singleton that is unsafe (anyone can do <code>Singleton.obj = null;</code>) and probably not thread-safe (that would need double checked locking and <code>obj</code> to be <code>volatile</code> or preferably use the singleton holder approach(<a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Initialization-on-demand_hold&zwnj;&#8203;er_idiom</a>) but <code>public static final instance = new Singleton();</code> is already a perfectly (thread-)safe singleton. The GOF pattern would want you to use getters rather than public fields but that&#39;s a different debate"}],"answers":[{"tags":[],"owner":{"account_id":22672241,"reputation":1,"user_id":16843816,"display_name":"Kris_WU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670418342,"creation_date":1670418342,"answer_id":74717174,"question_id":74715707,"body_markdown":"In my view it&#39;s necessary for the instance of a singleton design pattern to be private, because somebody may Singleton.obj when it&#39;s not be initialized, it is dangerous","title":"Singleton design pattern. Should its instance be public or private?","body":"<p>In my view it's necessary for the instance of a singleton design pattern to be private, because somebody may Singleton.obj when it's not be initialized, it is dangerous</p>\n"}],"owner":{"account_id":15915479,"reputation":23,"user_id":11484177,"display_name":"poornima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670418342,"creation_date":1670411573,"question_id":74715707,"body_markdown":"Is it necessary for instance of singleton design pattern to be private or public to be considered a singleton design pattern .\r\nfor example\r\n\r\nclass Singleton\r\n{\r\n\tpublic static Singleton obj;\r\n\r\nis the access modifier neccessary. What difference does it make.\r\n","title":"Singleton design pattern. Should its instance be public or private?","body":"<p>Is it necessary for instance of singleton design pattern to be private or public to be considered a singleton design pattern .\nfor example</p>\n<p>class Singleton\n{\npublic static Singleton obj;</p>\n<p>is the access modifier neccessary. What difference does it make.</p>\n"},{"tags":["java","generics","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1670323709,"post_id":74700732,"comment_id":131844780,"body_markdown":"What&#39;s the groovy+java version?","body":"What&#39;s the groovy+java version?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1670341118,"post_id":74700732,"comment_id":131851383,"body_markdown":"&quot;I&#39;ve found that if I use Tuple2.of(... I will get a compilation error&quot; - It would be good to know what the compilation error is, and where you expect that method to be coming from.","body":"&quot;I&#39;ve found that if I use Tuple2.of(... I will get a compilation error&quot; - It would be good to know what the compilation error is, and where you expect that method to be coming from."},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670386826,"post_id":74700732,"comment_id":131862692,"body_markdown":"Please see update if necessary, note though Java version doesn&#39;t have Tuple, but issue is more in that I wouldn&#39;t expect semantics such as that to completely wreck my code, and then costs me heaps of time tracking down issue. I&#39;d love to understand why Groovy is doing what it&#39;s doing.","body":"Please see update if necessary, note though Java version doesn&#39;t have Tuple, but issue is more in that I wouldn&#39;t expect semantics such as that to completely wreck my code, and then costs me heaps of time tracking down issue. I&#39;d love to understand why Groovy is doing what it&#39;s doing."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1670406880,"post_id":74700732,"comment_id":131867491,"body_markdown":"Where did you find Typle2.of method? There&#39;s no such method in groovy doc...","body":"Where did you find Typle2.of method? There&#39;s no such method in groovy doc..."}],"answers":[{"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670386646,"post_id":74701444,"comment_id":131862661,"body_markdown":"I have updated now you&#39;ll see that if you run my method, you&#39;ll find `it` goes from a Tuple to an Object. Would love to know why. Note I&#39;m use Jodatime here.","body":"I have updated now you&#39;ll see that if you run my method, you&#39;ll find <code>it</code> goes from a Tuple to an Object. Would love to know why. Note I&#39;m use Jodatime here."},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670386681,"post_id":74701444,"comment_id":131862669,"body_markdown":"Method creates a Stream of a bank accounts future value each month given an interest rate with interest compounding monthly, hopefully makes sense.","body":"Method creates a Stream of a bank accounts future value each month given an interest rate with interest compounding monthly, hopefully makes sense."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1670419858,"post_id":74701444,"comment_id":131872038,"body_markdown":"tried your code - works well","body":"tried your code - works well"},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670668392,"post_id":74701444,"comment_id":131929527,"body_markdown":"You need to change the return to:\n`return Tuple2.of(nextDate, nextBalance)` You&#39;ll find it errors after the second iteration.","body":"You need to change the return to: <code>return Tuple2.of(nextDate, nextBalance)</code> You&#39;ll find it errors after the second iteration."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1670680398,"post_id":74701444,"comment_id":131931704,"body_markdown":"i have error on first iteration: `groovy.lang.MissingMethodException: No signature of method: static groovy.lang.Tuple2.of() is applicable for argument types: (java.time.LocalDate, Double) values: [2023-01-10, 200849.315068]`. what is the error message do you see? again - there is no `Tuple2.of()` function, however it&#39;s possible to define it in some library like this: `Tuple2.metaClass.static.of = {a,b-&gt; new Tuple2(a,b)}`.","body":"i have error on first iteration: <code>groovy.lang.MissingMethodException: No signature of method: static groovy.lang.Tuple2.of() is applicable for argument types: (java.time.LocalDate, Double) values: [2023-01-10, 200849.315068]</code>. what is the error message do you see? again - there is no <code>Tuple2.of()</code> function, however it&#39;s possible to define it in some library like this: <code>Tuple2.metaClass.static.of = {a,b-&gt; new Tuple2(a,b)}</code>."},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670752708,"post_id":74701444,"comment_id":131942071,"body_markdown":"Ok @daggett, I know see what the issue was. Tuple extends AbstractList implements List, which does have the method `of` in it. So Tuple does also have this method. It&#39;s signature is `&lt;E&gt; List&lt;E&gt; of(E e1, E e2)` so if your arguments are different types you&#39;d get a compile error, I didn&#39;t have `@TypeChecked`. Good to track down the issue, but I did end up ditching groovym don&#39;t really have the time to track down this stuff when it happens.","body":"Ok @daggett, I know see what the issue was. Tuple extends AbstractList implements List, which does have the method <code>of</code> in it. So Tuple does also have this method. It&#39;s signature is <code>&lt;E&gt; List&lt;E&gt; of(E e1, E e2)</code> so if your arguments are different types you&#39;d get a compile error, I didn&#39;t have <code>@TypeChecked</code>. Good to track down the issue, but I did end up ditching groovym don&#39;t really have the time to track down this stuff when it happens."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1670756253,"post_id":74701444,"comment_id":131942643,"body_markdown":"That&#39;s why I asked you about java/groovy version. But you ignored it )","body":"That&#39;s why I asked you about java/groovy version. But you ignored it )"},{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":0,"creation_date":1670839078,"post_id":74701444,"comment_id":131957852,"body_markdown":"I&#39;m sorry daggett! I will accept your answer and upvote you, A for effort keep up the good stuff haha. But yeah I didn&#39;t really get productivity gains with Groovy, might try it again in the future, but at the moment without IDE holding my hand I struggle.","body":"I&#39;m sorry daggett! I will accept your answer and upvote you, A for effort keep up the good stuff haha. But yeah I didn&#39;t really get productivity gains with Groovy, might try it again in the future, but at the moment without IDE holding my hand I struggle."}],"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670418134,"creation_date":1670324814,"answer_id":74701444,"question_id":74700732,"body_markdown":"can&#39;t understand your &quot;java&quot; pain.\r\n\r\nthe following code sample works well even with compile static:\r\n\r\n```\r\n@groovy.transform.CompileStatic\r\ndef f(){\r\n  Tuple2&lt;Date, Double&gt; a = new Tuple2(new Date(), 1)\r\n  Tuple2&lt;Date, Double&gt; b = new Tuple2(new Date(), 2)\r\n\r\n  List&lt;Tuple2&lt;Date, Double&gt;&gt; list = [a,b]\r\n  List&lt;Tuple2&lt;Date, Double&gt;&gt; result = list.takeWhile{Tuple2&lt;Date, Double&gt; e-&gt; e.getV2()&lt;2}\r\n\r\n  assert result instanceof List\r\n  assert result.size()==1\r\n  assert result[0].getV2()&lt;2\r\n  assert result[0] instanceof Tuple2\r\n}\r\n\r\nf()\r\n```\r\n\r\nyour questions:\r\n---\r\n\r\n&gt; I&#39;ve found that if I use `Tuple2.of(...` I will get a compilation error, but `new Tuple2(..` works. Why?\r\n\r\nthere is not such method `Tuple2.of(...` in [Tuple2 class][1]\r\n\r\n\r\n&gt; why Groovy suddenly doesn&#39;t know the type of a given variable, reverts to Object, then just throws an exception, how is that desirable?\r\n\r\ni used your code with minimal changes to make it runnable and it works without any error:\r\n\r\n```\r\nimport java.time.*\r\nimport java.util.stream.*\r\n\r\nstatic Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; forecastEachMonth(Tuple2&lt;LocalDate, Double&gt; openingBalance, Double rate){\r\n\r\n    Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; stream = Stream.iterate(\r\n            openingBalance,\r\n            {\r\n\r\n                LocalDate current = it.first\r\n                LocalDate nextDate = it.first.plusMonths(1)\r\n\r\n                int days = nextDate - current\r\n                double years = days / 365.0\r\n                double interest = it.second * rate * years\r\n                double nextBalance = it.second + interest\r\n\r\n                return new Tuple2(nextDate, nextBalance)\r\n            }\r\n    )\r\n    return stream\r\n}\r\n\r\n\r\nStream&lt;Tuple2&lt;LocalDate,Double&gt;&gt; test = forecastEachMonth(\r\n    new Tuple2(LocalDate.now(),200000.0d),\r\n    0.05d\r\n)\r\nprintln test.limit(200).collect(Collectors.toList())\r\n```\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/api/groovy/lang/Tuple2.html","title":"I just can&#39;t understand Groovy types with Java mindset","body":"<p>can't understand your &quot;java&quot; pain.</p>\n<p>the following code sample works well even with compile static:</p>\n<pre><code>@groovy.transform.CompileStatic\ndef f(){\n  Tuple2&lt;Date, Double&gt; a = new Tuple2(new Date(), 1)\n  Tuple2&lt;Date, Double&gt; b = new Tuple2(new Date(), 2)\n\n  List&lt;Tuple2&lt;Date, Double&gt;&gt; list = [a,b]\n  List&lt;Tuple2&lt;Date, Double&gt;&gt; result = list.takeWhile{Tuple2&lt;Date, Double&gt; e-&gt; e.getV2()&lt;2}\n\n  assert result instanceof List\n  assert result.size()==1\n  assert result[0].getV2()&lt;2\n  assert result[0] instanceof Tuple2\n}\n\nf()\n</code></pre>\n<h2>your questions:</h2>\n<blockquote>\n<p>I've found that if I use <code>Tuple2.of(...</code> I will get a compilation error, but <code>new Tuple2(..</code> works. Why?</p>\n</blockquote>\n<p>there is not such method <code>Tuple2.of(...</code> in <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/lang/Tuple2.html\" rel=\"nofollow noreferrer\">Tuple2 class</a></p>\n<blockquote>\n<p>why Groovy suddenly doesn't know the type of a given variable, reverts to Object, then just throws an exception, how is that desirable?</p>\n</blockquote>\n<p>i used your code with minimal changes to make it runnable and it works without any error:</p>\n<pre><code>import java.time.*\nimport java.util.stream.*\n\nstatic Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; forecastEachMonth(Tuple2&lt;LocalDate, Double&gt; openingBalance, Double rate){\n\n    Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; stream = Stream.iterate(\n            openingBalance,\n            {\n\n                LocalDate current = it.first\n                LocalDate nextDate = it.first.plusMonths(1)\n\n                int days = nextDate - current\n                double years = days / 365.0\n                double interest = it.second * rate * years\n                double nextBalance = it.second + interest\n\n                return new Tuple2(nextDate, nextBalance)\n            }\n    )\n    return stream\n}\n\n\nStream&lt;Tuple2&lt;LocalDate,Double&gt;&gt; test = forecastEachMonth(\n    new Tuple2(LocalDate.now(),200000.0d),\n    0.05d\n)\nprintln test.limit(200).collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74701444,"answer_count":1,"score":-2,"last_activity_date":1670418134,"creation_date":1670321581,"question_id":74700732,"body_markdown":"I am struggling to comprehend why code which in Java works, then fails in groovy. For example:\r\n\r\n\r\nI&#39;ve found that if I use `Tuple2.of(...` I will get a compilation error, but `new Tuple2(..` works. Why?\r\n\r\n\r\n```\r\n    static Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; forecastEachMonth(Tuple2&lt;LocalDate, Double&gt; openingBalance, Double rate){\r\n\r\n        Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; stream = Stream.iterate(\r\n                openingBalance,\r\n                {\r\n\r\n                    LocalDate current = it.first\r\n                    LocalDate nextDate = it.first.plusMonths(1)\r\n\r\n                    int days = Days.daysBetween(current, nextDate).days\r\n                    double years = days / 365.0\r\n                    double interest = it.second * rate * years\r\n                    double nextBalance = it.second + interest\r\n\r\n                    // return Tuple2.of(nextDate, nextBalance) // exception after 2 iterations, Have no idea why.\r\n                    return new Tuple2(nextDate, nextBalance)\r\n                }\r\n        )\r\n        return stream\r\n    }\r\n```\r\nYou can test this out:\r\n```\r\n        Stream&lt;Tuple2&lt;LocalDate,Double&gt;&gt; test = forecastEachMonth(\r\n                        LocalDate.now(),\r\n                        200000.0d,\r\n                0.05d\r\n        )\r\n        println test.limit(200).collect(Collectors.toList())\r\n```\r\n\r\nGives an error:\r\n\r\n```\r\nExpected earlier checking to detect generics parameter arity mismatch\r\nExpected: groovy.lang.Tuple&lt;E&gt; \r\nSupplied: groovy.lang.Tuple&lt;org.joda.time.LocalDate,java.lang.Double&gt; \r\n```\r\n\r\nBut Intellij knows the correct type when I hover over the local variable.\r\n\r\nI&#39;ve also converted the project to Java and it just works. Which severely plagues my experience coding in Groovy, as I lose heaps of time on code which works in Java but not in Groovy. (Albeit there is no Tuple in Java I just used another library having the collection Pair). But I just can&#39;t get my head around why Groovy suddenly doesn&#39;t know the type of a given variable, reverts to Object, then just throws an exception, how is that desirable?","title":"I just can&#39;t understand Groovy types with Java mindset","body":"<p>I am struggling to comprehend why code which in Java works, then fails in groovy. For example:</p>\n<p>I've found that if I use <code>Tuple2.of(...</code> I will get a compilation error, but <code>new Tuple2(..</code> works. Why?</p>\n<pre><code>    static Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; forecastEachMonth(Tuple2&lt;LocalDate, Double&gt; openingBalance, Double rate){\n\n        Stream&lt;Tuple2&lt;LocalDate, Double&gt;&gt; stream = Stream.iterate(\n                openingBalance,\n                {\n\n                    LocalDate current = it.first\n                    LocalDate nextDate = it.first.plusMonths(1)\n\n                    int days = Days.daysBetween(current, nextDate).days\n                    double years = days / 365.0\n                    double interest = it.second * rate * years\n                    double nextBalance = it.second + interest\n\n                    // return Tuple2.of(nextDate, nextBalance) // exception after 2 iterations, Have no idea why.\n                    return new Tuple2(nextDate, nextBalance)\n                }\n        )\n        return stream\n    }\n</code></pre>\n<p>You can test this out:</p>\n<pre><code>        Stream&lt;Tuple2&lt;LocalDate,Double&gt;&gt; test = forecastEachMonth(\n                        LocalDate.now(),\n                        200000.0d,\n                0.05d\n        )\n        println test.limit(200).collect(Collectors.toList())\n</code></pre>\n<p>Gives an error:</p>\n<pre><code>Expected earlier checking to detect generics parameter arity mismatch\nExpected: groovy.lang.Tuple&lt;E&gt; \nSupplied: groovy.lang.Tuple&lt;org.joda.time.LocalDate,java.lang.Double&gt; \n</code></pre>\n<p>But Intellij knows the correct type when I hover over the local variable.</p>\n<p>I've also converted the project to Java and it just works. Which severely plagues my experience coding in Groovy, as I lose heaps of time on code which works in Java but not in Groovy. (Albeit there is no Tuple in Java I just used another library having the collection Pair). But I just can't get my head around why Groovy suddenly doesn't know the type of a given variable, reverts to Object, then just throws an exception, how is that desirable?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1554416,"reputation":803,"user_id":1445986,"display_name":"ComDubh"},"score":0,"creation_date":1670531933,"post_id":74716709,"comment_id":131902475,"body_markdown":"I&#39;m not sure what your question is exactly. `store` saves the Command instance, `load` recreates the instance from the stored version. The details depend on the format you store the Command instance in.","body":"I&#39;m not sure what your question is exactly. <code>store</code> saves the Command instance, <code>load</code> recreates the instance from the stored version. The details depend on the format you store the Command instance in."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1670632660,"post_id":74716709,"comment_id":131925500,"body_markdown":"The GoF book mentions the same idea on page 236, but it&#39;s not clear to me how they expect that `load()` method to be invoked. I can certainly grasp the concept of serializing and deserializing commands; but putting that method in the interface seems to imply a command object would load itself _after_ being instantiated.","body":"The GoF book mentions the same idea on page 236, but it&#39;s not clear to me how they expect that <code>load()</code> method to be invoked. I can certainly grasp the concept of serializing and deserializing commands; but putting that method in the interface seems to imply a command object would load itself <i>after</i> being instantiated."}],"owner":{"account_id":1974896,"reputation":12096,"user_id":1772898,"accept_rate":65,"display_name":"Ahmad Ismail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670417936,"creation_date":1670416095,"question_id":74716709,"body_markdown":"Head First Design Patterns say:\r\n\r\n&gt; The Command Pattern encapsulates a request as an object, thereby\r\n&gt; letting you parameterize other objects with different requests, queue\r\n&gt; or **log requests**, and support undoable operations.\r\n\r\nLater the book said:\r\n\r\n&gt; The semantics of some applications require that we log all actions and\r\n&gt; be able to recover after a crash by reinvoking those actions. The\r\n&gt; Command Pattern can support these semantics with the addition of two\r\n&gt; methods: store() and load(). In Java we could use object serialization\r\n&gt; to implement these methods, but the normal caveats for using\r\n&gt; serialization for persistence apply. \r\n&gt; \r\n&gt; How does this work? As we execute commands, we store a history of them\r\n&gt; on disk. When a crash occurs, we reload the command objects and invoke\r\n&gt; their execute() methods in batch and in order.\r\n\r\nI am trying to come up with an example code. The code I wrote till now is:\r\n\r\n    class Client {\r\n        public static void main(String[] args) {\r\n            Command enableCommand = new EnableCommand();\r\n            enableCommand.execute();\r\n        }\r\n    }\r\n    \r\n    interface Command {\r\n        void execute();\r\n        void store();\r\n        void load();\r\n    }\r\n    \r\n    class EnableCommand implements Command {\r\n    \r\n        public EnableCommand() {\r\n        }\r\n    \r\n        @Override\r\n        public void execute() {\r\n            store();\r\n            System.out.println(&quot;Execute Command&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void store() {\r\n            System.out.println(&quot;Storing on Disk&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void load() {\r\n            // TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\nHow the `load()` function is supposed to work?","title":"How to log when using Command Pattern","body":"<p>Head First Design Patterns say:</p>\n<blockquote>\n<p>The Command Pattern encapsulates a request as an object, thereby\nletting you parameterize other objects with different requests, queue\nor <strong>log requests</strong>, and support undoable operations.</p>\n</blockquote>\n<p>Later the book said:</p>\n<blockquote>\n<p>The semantics of some applications require that we log all actions and\nbe able to recover after a crash by reinvoking those actions. The\nCommand Pattern can support these semantics with the addition of two\nmethods: store() and load(). In Java we could use object serialization\nto implement these methods, but the normal caveats for using\nserialization for persistence apply.</p>\n<p>How does this work? As we execute commands, we store a history of them\non disk. When a crash occurs, we reload the command objects and invoke\ntheir execute() methods in batch and in order.</p>\n</blockquote>\n<p>I am trying to come up with an example code. The code I wrote till now is:</p>\n<pre><code>class Client {\n    public static void main(String[] args) {\n        Command enableCommand = new EnableCommand();\n        enableCommand.execute();\n    }\n}\n\ninterface Command {\n    void execute();\n    void store();\n    void load();\n}\n\nclass EnableCommand implements Command {\n\n    public EnableCommand() {\n    }\n\n    @Override\n    public void execute() {\n        store();\n        System.out.println(&quot;Execute Command&quot;);\n    }\n\n    @Override\n    public void store() {\n        System.out.println(&quot;Storing on Disk&quot;);\n\n    }\n\n    @Override\n    public void load() {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>How the <code>load()</code> function is supposed to work?</p>\n"},{"tags":["java","vector"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670417975,"post_id":74717033,"comment_id":131871423,"body_markdown":"If you want your methods to return new Lists/Vectors that get filled inside the methods, you need to create new Lists/vectors inside those methods. Currently you have `private Vector&lt;Alien&gt; nonHumanoids` as an instance variable that you add new items into each time you call `getNonHumanoids()`. Not having this instance variable and instead creating an instance as a local variable inside the `getNonHumanoids()` method would be a better fit for what you are trying to do.","body":"If you want your methods to return new Lists/Vectors that get filled inside the methods, you need to create new Lists/vectors inside those methods. Currently you have <code>private Vector&lt;Alien&gt; nonHumanoids</code> as an instance variable that you add new items into each time you call <code>getNonHumanoids()</code>. Not having this instance variable and instead creating an instance as a local variable inside the <code>getNonHumanoids()</code> method would be a better fit for what you are trying to do."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670418038,"post_id":74717033,"comment_id":131871437,"body_markdown":"Why add an `Alien` to the wrong list in the first place? btw, you should probably use `ArrayList` over `Vector` The latter is legacy and unecessarily (normally) synchronized. Also you method would be better called `isHumanoid` (&quot;getX&quot; implies a non-boolean accessor)","body":"Why add an <code>Alien</code> to the wrong list in the first place? btw, you should probably use <code>ArrayList</code> over <code>Vector</code> The latter is legacy and unecessarily (normally) synchronized. Also you method would be better called <code>isHumanoid</code> (&quot;getX&quot; implies a non-boolean accessor)"}],"owner":{"account_id":27077251,"reputation":11,"user_id":20626960,"display_name":"Sean Palin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670417580,"creation_date":1670417580,"question_id":74717033,"body_markdown":"This method finds all Alien objects in the AlienList object’s Vector whose humanoid field has the value false. It stores all matching Alien objects in a new Vector that is then returned from the method. The method must also remove all the matching Alien objects from the Vector of AlienList. If there are no matching Alien objects then an empty Vector must be returned.\r\n\r\nThe only problem with my method is that when i call the method for a second time, the same two (removed) non humanoids which were returned in the first method call, are actually in this list returned by the 2nd call. Which they should have not been because they were removed on the previous call.\r\n\r\nHere is my class with the method i need help with at the bottom:\r\n\r\n\r\n\r\n```\r\npublic class AlientList\r\n{\r\n    // instance variables - replace the example below with your own\r\n    private Vector&lt;Alien&gt; aliens;\r\n    private Vector&lt;Alien&gt; nonHumanoids;\r\n\r\n    /**\r\n     * Constructor for objects of class AlientList\r\n     */\r\n    public AlientList()\r\n    {\r\n        aliens = new Vector&lt;&gt;();\r\n        nonHumanoids = new Vector&lt;&gt;();\r\n    }\r\n\r\n    public void addAlien(Alien alien)\r\n    {\r\n        aliens.add(alien);\r\n    }\r\n\r\n    public void printHumanoids()\r\n    {\r\n        for(Alien alien: aliens) { \r\n            if(alien.getHumanoid() == true){    \r\n                System.out.println(alien.getDetails());\r\n            }\r\n        }\r\n    }\r\n\r\n    public Vector&lt;Alien&gt; getNonHumanoids()\r\n    {\r\n        Iterator&lt;Alien&gt; it = aliens.iterator();\r\n        while(it.hasNext()){\r\n            Alien alien = it.next();\r\n            if(alien.getHumanoid() == false){\r\n                it.remove();\r\n                nonHumanoids.add(alien);\r\n            }\r\n        }\r\n        return nonHumanoids; \r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to return an empty vector","body":"<p>This method finds all Alien objects in the AlienList object’s Vector whose humanoid field has the value false. It stores all matching Alien objects in a new Vector that is then returned from the method. The method must also remove all the matching Alien objects from the Vector of AlienList. If there are no matching Alien objects then an empty Vector must be returned.</p>\n<p>The only problem with my method is that when i call the method for a second time, the same two (removed) non humanoids which were returned in the first method call, are actually in this list returned by the 2nd call. Which they should have not been because they were removed on the previous call.</p>\n<p>Here is my class with the method i need help with at the bottom:</p>\n<pre><code>public class AlientList\n{\n    // instance variables - replace the example below with your own\n    private Vector&lt;Alien&gt; aliens;\n    private Vector&lt;Alien&gt; nonHumanoids;\n\n    /**\n     * Constructor for objects of class AlientList\n     */\n    public AlientList()\n    {\n        aliens = new Vector&lt;&gt;();\n        nonHumanoids = new Vector&lt;&gt;();\n    }\n\n    public void addAlien(Alien alien)\n    {\n        aliens.add(alien);\n    }\n\n    public void printHumanoids()\n    {\n        for(Alien alien: aliens) { \n            if(alien.getHumanoid() == true){    \n                System.out.println(alien.getDetails());\n            }\n        }\n    }\n\n    public Vector&lt;Alien&gt; getNonHumanoids()\n    {\n        Iterator&lt;Alien&gt; it = aliens.iterator();\n        while(it.hasNext()){\n            Alien alien = it.next();\n            if(alien.getHumanoid() == false){\n                it.remove();\n                nonHumanoids.add(alien);\n            }\n        }\n        return nonHumanoids; \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","nullpointerexception","mockito"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670143110,"creation_date":1670143110,"answer_id":74673964,"question_id":74669313,"body_markdown":"Your `mockMvc` field is never initialized; the exception message tells you this fact, plus the line number where this occurs:\r\n\r\n&gt; ```\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mvc&quot; is null\r\n&gt;    at um.fds.agl.ter22.controllers.mockito.TeacherControllerMockTest.addTeacherPostNonExistingTeacher(TeacherControllerMockTest.java:59)\r\n&gt; ```\r\n\r\nYou run a Spring Boot test and autowire your field and that&#39;s it. Don&#39;t autowire _and_ use MockMvcBuilders. You can only use either, but not both.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class TeacherControllerMockTest {\r\n  @Autowired\r\n  private MockMvc mvc;\r\n\r\n  // ...\r\n```","title":"Mockito test with Spring Controller Null Pointer Exception","body":"<p>Your <code>mockMvc</code> field is never initialized; the exception message tells you this fact, plus the line number where this occurs:</p>\n<blockquote>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mvc&quot; is null\n   at um.fds.agl.ter22.controllers.mockito.TeacherControllerMockTest.addTeacherPostNonExistingTeacher(TeacherControllerMockTest.java:59)\n</code></pre>\n</blockquote>\n<p>You run a Spring Boot test and autowire your field and that's it. Don't autowire <em>and</em> use MockMvcBuilders. You can only use either, but not both.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class TeacherControllerMockTest {\n  @Autowired\n  private MockMvc mvc;\n\n  // ...\n</code></pre>\n"}],"owner":{"account_id":18583143,"reputation":35,"user_id":13542212,"display_name":"snsdtiti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670417537,"creation_date":1670090711,"question_id":74669313,"body_markdown":"My project is using Spring and I wanted to test with Mockito but I have a NullPointerException that I can&#39;t solve... \r\nIsn&#39;t MockBean supposed to inject in my TeacherService ? \r\nI have tried to put @Autowired in front of MockMvc but it&#39;s worse...  \r\n\r\nI want to test my Controller by adding a new Teacher : \r\n\r\nThis is my test : \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @ExtendWith(SpringExtension.class)\r\n    @AutoConfigureMockMvc\r\n\r\n    public class TeacherControllerMockTest {\r\n    private MockMvc mvc;\r\n\r\n    @InjectMocks\r\n    private TeacherForm teacherForm;\r\n\r\n    @MockBean\r\n    private TeacherService teacherService;\r\n\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;Teacher&gt; teacherCaptor;\r\n\r\n\r\n\r\n    @Test\r\n    void addTeacherPostNonExistingTeacher() throws Exception {\r\n\r\n\r\n       when(teacherService.findById(teacherForm.getId())).thenReturn(null);\r\n       //il y aura un teacherService.saveTeacher(t) : mais par defaut &#231;a ne le fera pas\r\n\r\n        this.mvc.perform(post(&quot;/addTeacher&quot;)\r\n                        .param(&quot;firstName&quot;, &quot;Anne-Marie&quot;)\r\n                        .param(&quot;lastName&quot;, &quot;Kermarrec&quot;)\r\n                )\r\n                .andExpect(status().is3xxRedirection())\r\n                .andReturn();\r\n\r\n        //teacherController.addTeacher(teacherForm);\r\n\r\n\r\n        verify(teacherService, atLeastOnce()).saveTeacher(teacherCaptor.capture());\r\n        Teacher capturedTeacher = teacherCaptor.getValue();\r\n        assertEquals(&quot;Kermarrec&quot;, capturedTeacher.getLastName());\r\n\r\n    }\r\n\r\nThis is my Controller : \r\n```\r\n@PostMapping(value = { &quot;/addTeacher&quot;})\r\n    public String addTeacher(@ModelAttribute(&quot;TeacherForm&quot;) TeacherForm teacherForm) {\r\n        Teacher t;\r\n        if(teacherService.findById(teacherForm.getId()).isPresent()){\r\n            // teacher already existing : update\r\n            t = teacherService.findById(teacherForm.getId()).get();\r\n            t.setFirstName(teacherForm.getFirstName());\r\n            t.setLastName(teacherForm.getLastName());\r\n        } else {\r\n            // teacher not existing : create\r\n            t=new Teacher(teacherForm.getFirstName(), teacherForm.getLastName(), terManagerService.getTERManager());\r\n        }\r\n        teacherService.saveTeacher(t);\r\n        return &quot;redirect:/listTeachers&quot;;\r\n\r\n    }\r\n``` \r\nAnd the error : \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mvc&quot; is null\r\n\r\n\tat um.fds.agl.ter22.controllers.mockito.TeacherControllerMockTest.addTeacherPostNonExistingTeacher(TeacherControllerMockTest.java:59)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\n","title":"Mockito test with Spring Controller Null Pointer Exception","body":"<p>My project is using Spring and I wanted to test with Mockito but I have a NullPointerException that I can't solve...\nIsn't MockBean supposed to inject in my TeacherService ?\nI have tried to put @Autowired in front of MockMvc but it's worse...</p>\n<p>I want to test my Controller by adding a new Teacher :</p>\n<p>This is my test :</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@ExtendWith(SpringExtension.class)\n@AutoConfigureMockMvc\n\npublic class TeacherControllerMockTest {\nprivate MockMvc mvc;\n\n@InjectMocks\nprivate TeacherForm teacherForm;\n\n@MockBean\nprivate TeacherService teacherService;\n\n\n@Captor\nArgumentCaptor&lt;Teacher&gt; teacherCaptor;\n\n\n\n@Test\nvoid addTeacherPostNonExistingTeacher() throws Exception {\n\n\n   when(teacherService.findById(teacherForm.getId())).thenReturn(null);\n   //il y aura un teacherService.saveTeacher(t) : mais par defaut ça ne le fera pas\n\n    this.mvc.perform(post(&quot;/addTeacher&quot;)\n                    .param(&quot;firstName&quot;, &quot;Anne-Marie&quot;)\n                    .param(&quot;lastName&quot;, &quot;Kermarrec&quot;)\n            )\n            .andExpect(status().is3xxRedirection())\n            .andReturn();\n\n    //teacherController.addTeacher(teacherForm);\n\n\n    verify(teacherService, atLeastOnce()).saveTeacher(teacherCaptor.capture());\n    Teacher capturedTeacher = teacherCaptor.getValue();\n    assertEquals(&quot;Kermarrec&quot;, capturedTeacher.getLastName());\n\n}\n</code></pre>\n<p>This is my Controller :</p>\n<pre><code>@PostMapping(value = { &quot;/addTeacher&quot;})\n    public String addTeacher(@ModelAttribute(&quot;TeacherForm&quot;) TeacherForm teacherForm) {\n        Teacher t;\n        if(teacherService.findById(teacherForm.getId()).isPresent()){\n            // teacher already existing : update\n            t = teacherService.findById(teacherForm.getId()).get();\n            t.setFirstName(teacherForm.getFirstName());\n            t.setLastName(teacherForm.getLastName());\n        } else {\n            // teacher not existing : create\n            t=new Teacher(teacherForm.getFirstName(), teacherForm.getLastName(), terManagerService.getTERManager());\n        }\n        teacherService.saveTeacher(t);\n        return &quot;redirect:/listTeachers&quot;;\n\n    }\n</code></pre>\n<p>And the error :</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mvc&quot; is null\n\n    at um.fds.agl.ter22.controllers.mockito.TeacherControllerMockTest.addTeacherPostNonExistingTeacher(TeacherControllerMockTest.java:59)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","maven","maven-antrun-plugin"],"comments":[{"owner":{"account_id":6169002,"reputation":2428,"user_id":4807875,"accept_rate":0,"display_name":"Alexander Samoylov"},"score":0,"creation_date":1670417793,"post_id":26694307,"comment_id":131871353,"body_markdown":"Another solution is to use &lt;for&gt; instead of &lt;foreach&gt;. Put the child target logic inside it and it should work, see this answer: https://stackoverflow.com/a/22454224/4807875.","body":"Another solution is to use &lt;for&gt; instead of &lt;foreach&gt;. Put the child target logic inside it and it should work, see this answer: <a href=\"https://stackoverflow.com/a/22454224/4807875\">stackoverflow.com/a/22454224/4807875</a>."}],"answers":[{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414887846,"creation_date":1414887846,"answer_id":26694735,"question_id":26694307,"body_markdown":"Solved by moving the target definitions into a separate ant xml build file.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;!-- maven does not support defining more than one target... --&gt;\r\n                                &lt;!-- https://jira.codehaus.org/browse/MANTRUN-86 --&gt;\r\n                                &lt;ant antfile=&quot;${basedir}/unzip.xml&quot; /&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;ant-contrib&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0b3&lt;/version&gt;\r\n                        &lt;exclusions&gt;\r\n                            &lt;exclusion&gt;\r\n                                &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n                                &lt;groupId&gt;ant&lt;/groupId&gt;\r\n                            &lt;/exclusion&gt;\r\n                        &lt;/exclusions&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;            \r\n\r\n\r\nunzip.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;project name=&quot;maven-antrun-&quot; default=&quot;main&quot;  &gt;\r\n    &lt;target name=&quot;main&quot;&gt;\r\n      &lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot;/&gt;\r\n      &lt;foreach param=&quot;fileName&quot; target=&quot;unzipLibs&quot;&gt;\r\n        &lt;path&gt;\r\n          &lt;fileset dir=&quot;/home/mark/mysvn/devel/java/misc/maven/antrun-foreach&quot; casesensitive=&quot;yes&quot;&gt;\r\n            &lt;include name=&quot;*.xml&quot;/&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/path&gt;\r\n      &lt;/foreach&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;unzipLibs&quot;&gt;\r\n      &lt;echo message=&quot;${fileName}&quot;/&gt;\r\n    &lt;/target&gt;\r\n    &lt;/project&gt;\r\n","title":"maven antrun: how to iterate over files?","body":"<p>Solved by moving the target definitions into a separate ant xml build file.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;target&gt;\n                            &lt;!-- maven does not support defining more than one target... --&gt;\n                            &lt;!-- https://jira.codehaus.org/browse/MANTRUN-86 --&gt;\n                            &lt;ant antfile=\"${basedir}/unzip.xml\" /&gt;\n                        &lt;/target&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;ant-contrib&lt;/groupId&gt;\n                    &lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\n                    &lt;version&gt;1.0b3&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;ant&lt;/artifactId&gt;\n                            &lt;groupId&gt;ant&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;            \n</code></pre>\n\n<p>unzip.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;project name=\"maven-antrun-\" default=\"main\"  &gt;\n&lt;target name=\"main\"&gt;\n  &lt;taskdef resource=\"net/sf/antcontrib/antcontrib.properties\"/&gt;\n  &lt;foreach param=\"fileName\" target=\"unzipLibs\"&gt;\n    &lt;path&gt;\n      &lt;fileset dir=\"/home/mark/mysvn/devel/java/misc/maven/antrun-foreach\" casesensitive=\"yes\"&gt;\n        &lt;include name=\"*.xml\"/&gt;\n      &lt;/fileset&gt;\n    &lt;/path&gt;\n  &lt;/foreach&gt;\n&lt;/target&gt;\n&lt;target name=\"unzipLibs\"&gt;\n  &lt;echo message=\"${fileName}\"/&gt;\n&lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670417535,"creation_date":1414884049,"question_id":26694307,"body_markdown":"I have set up an example at https://github.com/jjYBdx4IL/example-maven-project-setups/blob/master/antrun-foreach/pom.xml :\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;tasks&gt;\r\n                                &lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot; /&gt;\r\n                                &lt;foreach target=&quot;unzipLibs&quot; param=&quot;fileName&quot;&gt;\r\n                                    &lt;path&gt;\r\n                                        &lt;fileset dir=&quot;${basedir}&quot; casesensitive=&quot;yes&quot;&gt;\r\n                                            &lt;include name=&quot;*.xml&quot;/&gt;\r\n                                        &lt;/fileset&gt;\r\n                                    &lt;/path&gt;\r\n                                &lt;/foreach&gt;\r\n                            &lt;/tasks&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;ant-contrib&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0b3&lt;/version&gt;\r\n                        &lt;!--                        &lt;exclusions&gt;\r\n                            &lt;exclusion&gt;\r\n                                &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n                                &lt;groupId&gt;ant&lt;/groupId&gt;\r\n                            &lt;/exclusion&gt;\r\n                        &lt;/exclusions&gt;--&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;target name=&quot;unzipLibs&quot;&gt;\r\n                        &lt;echo message=&quot;${fileName}&quot; /&gt;\r\n                    &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;            \r\n\r\nHowever, no matter what I try, it does not work:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (default) on project antrun-foreach: Error executing ant tasks: org.apache.tools.ant.util.FileUtils.getFileUtils()Lorg/apache/tools/ant/util/FileUtils; -&gt; [Help 1]\r\n\r\nor, using the ant exclusion:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (default) on project antrun-foreach: An Ant BuildException has occured: The following error occurred while executing this line:\r\n    [ERROR] /home/travis/build/jjYBdx4IL/example-maven-project-setups/antrun-foreach/pom.xml:5: Unexpected element &quot;{http://maven.apache.org/POM/4.0.0}project&quot; {antlib:org.apache.tools.ant}project\r\n    [ERROR] around Ant part ...&lt;foreach param=&quot;fileName&quot; target=&quot;unzipLibs&quot;&gt;... @ 5:48 in /home/travis/build/jjYBdx4IL/example-maven-project-setups/antrun-foreach/target/antrun/build-main.xml\r\n\r\n[Complete build log][1].\r\n\r\nMoving the ant tasks into an external file did not help.\r\n\r\n\r\n  [1]: https://api.travis-ci.org/jobs/39716289/log.txt?deansi=true\r\n\r\nUpdate: The issue seems to be that maven-antrun-plugin does not support defining multiple antrun targets: https://jira.codehaus.org/browse/MANTRUN-86.&lt;br&gt;&lt;br&gt;\r\nDuplicate of: https://stackoverflow.com/questions/10728645/calling-foreach-in-maven-antrun-plugin.\r\n","title":"maven antrun: how to iterate over files?","body":"<p>I have set up an example at <a href=\"https://github.com/jjYBdx4IL/example-maven-project-setups/blob/master/antrun-foreach/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/jjYBdx4IL/example-maven-project-setups/blob/master/antrun-foreach/pom.xml</a> :</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;tasks&gt;\n                            &lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot; /&gt;\n                            &lt;foreach target=&quot;unzipLibs&quot; param=&quot;fileName&quot;&gt;\n                                &lt;path&gt;\n                                    &lt;fileset dir=&quot;${basedir}&quot; casesensitive=&quot;yes&quot;&gt;\n                                        &lt;include name=&quot;*.xml&quot;/&gt;\n                                    &lt;/fileset&gt;\n                                &lt;/path&gt;\n                            &lt;/foreach&gt;\n                        &lt;/tasks&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;ant-contrib&lt;/groupId&gt;\n                    &lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\n                    &lt;version&gt;1.0b3&lt;/version&gt;\n                    &lt;!--                        &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;artifactId&gt;ant&lt;/artifactId&gt;\n                            &lt;groupId&gt;ant&lt;/groupId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;--&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;target name=&quot;unzipLibs&quot;&gt;\n                    &lt;echo message=&quot;${fileName}&quot; /&gt;\n                &lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;            \n</code></pre>\n<p>However, no matter what I try, it does not work:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (default) on project antrun-foreach: Error executing ant tasks: org.apache.tools.ant.util.FileUtils.getFileUtils()Lorg/apache/tools/ant/util/FileUtils; -&gt; [Help 1]\n</code></pre>\n<p>or, using the ant exclusion:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (default) on project antrun-foreach: An Ant BuildException has occured: The following error occurred while executing this line:\n[ERROR] /home/travis/build/jjYBdx4IL/example-maven-project-setups/antrun-foreach/pom.xml:5: Unexpected element &quot;{http://maven.apache.org/POM/4.0.0}project&quot; {antlib:org.apache.tools.ant}project\n[ERROR] around Ant part ...&lt;foreach param=&quot;fileName&quot; target=&quot;unzipLibs&quot;&gt;... @ 5:48 in /home/travis/build/jjYBdx4IL/example-maven-project-setups/antrun-foreach/target/antrun/build-main.xml\n</code></pre>\n<p><a href=\"https://api.travis-ci.org/jobs/39716289/log.txt?deansi=true\" rel=\"nofollow noreferrer\">Complete build log</a>.</p>\n<p>Moving the ant tasks into an external file did not help.</p>\n<p>Update: The issue seems to be that maven-antrun-plugin does not support defining multiple antrun targets: <a href=\"https://jira.codehaus.org/browse/MANTRUN-86\" rel=\"nofollow noreferrer\">https://jira.codehaus.org/browse/MANTRUN-86</a>.<br><br>\nDuplicate of: <a href=\"https://stackoverflow.com/questions/10728645/calling-foreach-in-maven-antrun-plugin\">Calling foreach in maven-antrun-plugin</a>.</p>\n"},{"tags":["java","spring","unit-testing","gradle","junit5"],"comments":[{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1670324577,"post_id":74701320,"comment_id":131845082,"body_markdown":"dose this gradle build on server has access to database? maybe local run has local db, but on serwer there is no database to connect and run test with. Additionaly full stacktrace or exception message, could be more helpfull, `HibernateException` suggests that problem is related to hibernate but  does not say what was the problem","body":"dose this gradle build on server has access to database? maybe local run has local db, but on serwer there is no database to connect and run test with. Additionaly full stacktrace or exception message, could be more helpfull, <code>HibernateException</code> suggests that problem is related to hibernate but  does not say what was the problem"},{"owner":{"account_id":27163277,"reputation":1,"user_id":20701130,"display_name":"Soumya Singh"},"score":0,"creation_date":1670404024,"post_id":74701320,"comment_id":131866530,"body_markdown":"Hi @lukwas thanks for the help, this is the error that i am getting in all the 59 cases, same, this is the full stacktrace, but yes server access to database is the thing that slipped from my mind, checking that. Hope it will work then, Thanks for the help.","body":"Hi @lukwas thanks for the help, this is the error that i am getting in all the 59 cases, same, this is the full stacktrace, but yes server access to database is the thing that slipped from my mind, checking that. Hope it will work then, Thanks for the help."}],"owner":{"account_id":27163277,"reputation":1,"user_id":20701130,"display_name":"Soumya Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670417370,"creation_date":1670324275,"question_id":74701320,"body_markdown":"Integration tests are working fine on eclipse when ran as junit test but throwing exception on server while gradle build.\r\n\r\nThe Error is coming in all the test cases written,  while all of them are successfully passing in eclipse. The error is as shown below.\r\n\r\n\r\n```\r\nModelCatalogControllerIntegrationTest &gt; addTemplateTypeOptions() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\r\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\r\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\r\n\r\n\r\n```\r\n\r\n\r\nIntegration tests are working fine on eclipse when ran as junit test but throwing exception on server while gradle build.\r\n\r\nUPDATE: now the test cases are running fine and building successfully on the VM using ./gradlew clean build command But throwing the same above mentioned error for all the test cases while building via Jenkins Pipeline.\r\n\r\nModelCatalogControllerIntegrationTest &gt; getMaturityOptions() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\r\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\r\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\r\n\r\n\r\n\r\nModelCatalogControllerIntegrationTest &gt; updateTemplateDetails() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\r\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\r\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\r\n&lt;==========---&gt; 78% EXECUTING [3m 27s]\r\n&gt; IDLE\r\n&gt; :test &gt; 15 tests completed, 15 failed","title":"Integration tests are working fine on eclipse when ran as junit test but throwing exception on server while gradle build","body":"<p>Integration tests are working fine on eclipse when ran as junit test but throwing exception on server while gradle build.</p>\n<p>The Error is coming in all the test cases written,  while all of them are successfully passing in eclipse. The error is as shown below.</p>\n<pre><code>ModelCatalogControllerIntegrationTest &gt; addTemplateTypeOptions() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\n\n\n</code></pre>\n<p>Integration tests are working fine on eclipse when ran as junit test but throwing exception on server while gradle build.</p>\n<p>UPDATE: now the test cases are running fine and building successfully on the VM using ./gradlew clean build command But throwing the same above mentioned error for all the test cases while building via Jenkins Pipeline.</p>\n<p>ModelCatalogControllerIntegrationTest &gt; getMaturityOptions() FAILED\njava.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\nCaused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\nCaused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\nCaused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100</p>\n<p>ModelCatalogControllerIntegrationTest &gt; updateTemplateDetails() FAILED\njava.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\nCaused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\nCaused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\nCaused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\n&lt;==========---&gt; 78% EXECUTING [3m 27s]</p>\n<blockquote>\n<p>IDLE\n:test &gt; 15 tests completed, 15 failed</p>\n</blockquote>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1497519233,"post_id":44563862,"comment_id":76116586,"body_markdown":"If you want them to be accessible from the web you will obviously need the web part as well.","body":"If you want them to be accessible from the web you will obviously need the web part as well."},{"owner":{"account_id":1622033,"reputation":1825,"user_id":1498378,"accept_rate":55,"display_name":"farrellmr"},"score":0,"creation_date":1497519277,"post_id":44563862,"comment_id":76116617,"body_markdown":"You can test what dependencies are needed by creating the project using https://start.spring.io/ - it would confirm your suspiciion that you need the web-starter","body":"You can test what dependencies are needed by creating the project using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> - it would confirm your suspiciion that you need the web-starter"}],"answers":[{"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670417346,"creation_date":1670417346,"answer_id":74716978,"question_id":44563862,"body_markdown":"Yes web is needed if you want to access via HTTP (otherwise only JMX is available).\r\n\r\nThe [documentation for actuator][1] states\r\n\r\n&quot;Click Dependencies and select **Spring Web** and Spring Boot Actuator.&quot;\r\n\r\n  [1]: https://spring.io/guides/gs/actuator-service/","title":"Is it necessary to add Spring Web when using Spring Actuator?","body":"<p>Yes web is needed if you want to access via HTTP (otherwise only JMX is available).</p>\n<p>The <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">documentation for actuator</a> states</p>\n<p>&quot;Click Dependencies and select <strong>Spring Web</strong> and Spring Boot Actuator.&quot;</p>\n"}],"owner":{"account_id":10092030,"reputation":207,"user_id":7458715,"accept_rate":17,"display_name":"lualover2017"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670417346,"creation_date":1497518888,"question_id":44563862,"body_markdown":"I&#39;m trying to in corporate Spring Actuator to my application. I have added the dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut I get a 404 when trying to access the `/health` endpoint. After looking online, I&#39;ve read that I need to also have the `spring-boot-starter-web` dependency in my POM. I was under the assumption that I **only** need the actuator dependency in order to get it working\r\n","title":"Is it necessary to add Spring Web when using Spring Actuator?","body":"<p>I'm trying to in corporate Spring Actuator to my application. I have added the dependency in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But I get a 404 when trying to access the <code>/health</code> endpoint. After looking online, I've read that I need to also have the <code>spring-boot-starter-web</code> dependency in my POM. I was under the assumption that I <strong>only</strong> need the actuator dependency in order to get it working</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1539920471,"post_id":52877212,"comment_id":92684081,"body_markdown":"The reason for the multiple problems while using constructor of `AreaReference` might be that multiple different versions of `apache poi` `jar`s are in class path while compile time and/or run time. Do not mix different `apache poi` versions.","body":"The reason for the multiple problems while using constructor of <code>AreaReference</code> might be that multiple different versions of <code>apache poi</code> <code>jar</code>s are in class path while compile time and/or run time. Do not mix different <code>apache poi</code> versions."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660628603,"creation_date":1540029498,"answer_id":52904452,"question_id":52877212,"body_markdown":"The main problem using `apache poi` until now is that it is not ready to be used without having detailed knowledge about `Microsoft Office` as such and about the storage of `Microsoft Office` files. There are many things only half way ready and there are regressions often in new versions (bugs occur again which were solved already).\r\n\r\nSo your requirement: &quot;Expanding an existing table in Excel using Apache POI&quot; is not possible only simply using `apache poi`. One must know that `Office Open XML` files `*.xlsx` are simply `ZIP` archives which can be unzipped. And after unzipping we find `/xl/tables/table1.xml` for storage of the table. This `XML` we can analyzing and comparing it with `XML` which was created using `Excel`&#39;s `GUI`. So we can find problems which results from shortcomings of `apache poi`. Same is with the sheet&#39;s `XML` in `/xl/tables/sheet1.xml`.\r\n\r\nAlso we need to know that `apache poi` builds on the low level classes of `ooxml-schemas`. Partially we need using those classes because of the halfway readiness of `apache poi`. In the following example we need `ooxml-schemas-1.4.jar` additionally because `apache poi`&#39;s `poi-ooxml-schemas-4.0.0.jar` has not included `org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableFormula` until now. Unfortunately there is no documentation about `ooxml-schemas` public available. So we need downloading the sources and doing `javadoc` our own.\r\n\r\nThe following example works for me using `apache poi 4.0.0`. If you get problems while compiling or running, the reason might be that multiple different versions of `apache poi` `jar`s are in class path while compile time and/or run time. [Do not mix different apache poi versions](https://poi.apache.org/help/faq.html#faq-N10204). Also, as said already, my code needs [the full jar of all of the schemas ooxml-schemas-1.4.jar](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\r\n    \r\n    class ExcelExpandingTable {\r\n    \r\n     static void addRowToTable(XSSFTable table) {\r\n    \r\n       int lastTableRow = table.getEndCellReference().getRow();\r\n       int totalsRowCount = table.getTotalsRowCount();\r\n       int lastTableDataRow = lastTableRow - totalsRowCount;\r\n    \r\n       // we will add one row in table data\r\n       lastTableRow++;\r\n       lastTableDataRow++;\r\n    \r\n       // new table area plus one row\r\n       AreaReference newTableArea = new AreaReference(\r\n                                     table.getStartCellReference(), \r\n                                     new CellReference(\r\n                                      lastTableRow, \r\n                                      table.getEndCellReference().getCol()\r\n                                     ),\r\n                                     SpreadsheetVersion.EXCEL2007\r\n                                    );\r\n    \r\n       // new table data area plus one row\r\n       AreaReference newTableDataArea = new AreaReference(\r\n                                         table.getStartCellReference(), \r\n                                          new CellReference(\r\n                                           lastTableDataRow, \r\n                                           table.getEndCellReference().getCol()\r\n                                          ),\r\n                                          SpreadsheetVersion.EXCEL2007\r\n                                        );\r\n       \r\n       XSSFSheet sheet = table.getXSSFSheet();\r\n       if (totalsRowCount &gt; 0) {\r\n        //if we have totals rows, shift totals rows down\r\n        sheet.shiftRows(lastTableDataRow, lastTableRow, 1);\r\n    \r\n        // correcting bug that shiftRows does not adjusting references of the cells\r\n        // if row 3 is shifted down, then reference in the cells remain r=&quot;A3&quot;, r=&quot;B3&quot;, ...\r\n        // they must be adjusted to the new row thoug: r=&quot;A4&quot;, r=&quot;B4&quot;, ...\r\n        // apache poi 3.17 has done this properly but had have other bugs in shiftRows.\r\n        for (int r = lastTableDataRow; r &lt; lastTableRow + 1; r++) {\r\n         XSSFRow row = sheet.getRow(r); \r\n         if (row != null) {\r\n          long rRef = row.getCTRow().getR();\r\n          for (Cell cell : row) {\r\n           String cRef = ((XSSFCell)cell).getCTCell().getR();\r\n           ((XSSFCell)cell).getCTCell().setR(cRef.replaceAll(&quot;[0-9]&quot;, &quot;&quot;) + rRef);\r\n          }\r\n         }\r\n        }\r\n        // end correcting bug\r\n    \r\n       }\r\n    \r\n       // if there are CalculatedColumnFormulas do filling them to the new row\r\n       XSSFRow row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\r\n       int firstTableCol = table.getStartCellReference().getCol();\r\n       for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\r\n        if (tableCol.getCalculatedColumnFormula() != null) {\r\n         int id = (int)tableCol.getId();\r\n         String formula = tableCol.getCalculatedColumnFormula().getStringValue();\r\n         XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\r\n         cell.setCellFormula(formula);\r\n        }\r\n       }\r\n\r\n    \r\n       table.setArea(newTableArea);\r\n    \r\n       // correcting bug that Autofilter includes possible TotalsRows after setArea new\r\n       // Autofilter must only contain data area\r\n       table.getCTTable().getAutoFilter().setRef(newTableDataArea.formatAsString());\r\n       // end correcting bug\r\n    \r\n       table.updateReferences();\r\n    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;SAMPLE.xlsx&quot;));\r\n           FileOutputStream out = new FileOutputStream(&quot;SAMPLE_NEW.xlsx&quot;)) {\r\n       \r\n       XSSFSheet sheet = ((XSSFWorkbook)workbook).getSheetAt(0);\r\n       XSSFTable table = sheet.getTables().get(0);\r\n    \r\n       addRowToTable(table);\r\n    \r\n       workbook.write(out);\r\n      } \r\n     }\r\n    }\r\n\r\n__________________________\r\n\r\nThe above was 2018. Now we have 2022.\r\n\r\nUsing current `apache poi 5.2.2` the code may be like follows:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\r\n    \r\n    class ExcelExpandingTable {\r\n    \r\n     static XSSFRow addRowToTable(XSSFTable table) {\r\n    \r\n       int lastTableRow = table.getEndCellReference().getRow();\r\n       int totalsRowCount = table.getTotalsRowCount();\r\n       int lastTableDataRow = lastTableRow - totalsRowCount;\r\n       int firstTableCol = table.getStartCellReference().getCol();\r\n    \r\n       // we will add one row in table data\r\n       lastTableRow++;\r\n       lastTableDataRow++;\r\n    \r\n       // new table area plus one row\r\n       AreaReference newTableArea = new AreaReference(\r\n                                     table.getStartCellReference(), \r\n                                     new CellReference(\r\n                                      lastTableRow, \r\n                                      table.getEndCellReference().getCol()\r\n                                     ),\r\n                                     SpreadsheetVersion.EXCEL2007\r\n                                    );\r\n    \r\n       XSSFSheet sheet = table.getXSSFSheet();\r\n       if (totalsRowCount &gt; 0) {\r\n        //if we have totals rows, shift totals rows down\r\n        sheet.shiftRows(lastTableDataRow, lastTableRow, 1);\r\n        //correct all sheet table-reference-formulas which probably got damaged after shift rows\r\n        for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\r\n         if (tableCol.getCalculatedColumnFormula() != null) {\r\n          int id = (int)tableCol.getId();\r\n          String formula = tableCol.getCalculatedColumnFormula().getStringValue();\r\n          int rFirst = table.getStartCellReference().getRow() + table.getHeaderRowCount();\r\n          int rLast = table.getEndCellReference().getRow() - table.getTotalsRowCount();\r\n          int c = table.getStartCellReference().getCol() + id - 1;\r\n          sheet.getWorkbook().setCellFormulaValidation(false);\r\n          for (int r = rFirst; r &lt;= rLast; r++) {\r\n           XSSFRow row = sheet.getRow(r); if (row == null) row = sheet.createRow(r);\r\n           XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\r\n           cell.setCellFormula(formula);\r\n          }\r\n         }\r\n        }\r\n       }\r\n       \r\n       // if there are CalculatedColumnFormulas do filling them to the new row\r\n       XSSFRow row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\r\n       for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\r\n        if (tableCol.getCalculatedColumnFormula() != null) {\r\n         int id = (int)tableCol.getId();\r\n         String formula = tableCol.getCalculatedColumnFormula().getStringValue();\r\n         XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\r\n         cell.getSheet().getWorkbook().setCellFormulaValidation(false); // see https://bz.apache.org/bugzilla/show_bug.cgi?id=66039\r\n         cell.setCellFormula(formula);\r\n        }\r\n       }\r\n       \r\n       // copy cell styles to the new row from the row above\r\n       row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\r\n       XSSFRow rowAbove = sheet.getRow(lastTableDataRow - 1); if (row == null) row = sheet.createRow(lastTableDataRow - 1);\r\n       for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\r\n        int id = (int)tableCol.getId();\r\n        XSSFCell cellAbove = rowAbove.getCell(firstTableCol + id - 1); \r\n        if (cellAbove != null) {\r\n         XSSFCellStyle styleAbove = cellAbove.getCellStyle();\r\n         XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\r\n         cell.setCellStyle(styleAbove);\r\n        }\r\n       }\r\n    \r\n       // set new table area\r\n       table.setArea(newTableArea);\r\n    \r\n       // update table references\r\n       table.updateReferences();\r\n          \r\n       return sheet.getRow(lastTableDataRow);\r\n    \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;SAMPLE.xlsx&quot;));\r\n           FileOutputStream out = new FileOutputStream(&quot;SAMPLE_NEW.xlsx&quot;)) {\r\n               \r\n       XSSFSheet sheet = ((XSSFWorkbook)workbook).getSheetAt(0);\r\n       XSSFTable table = sheet.getTables().get(0);\r\n    \r\n       XSSFRow row = addRowToTable(table);\r\n    \r\n       workbook.write(out);\r\n      } \r\n     }\r\n    }\r\n\r\nAccording to [FAQ](https://poi.apache.org/help/faq.html#faq-N10025), this code needs `poi-ooxml-full-5.2.2.jar` instead of `ooxml-schemas-1.4.jar` now for run using `apache poi 5.2.2`.\r\n\r\nSome bugs are fixed. But there is one new bug when using `XSSFCell.setCellFormula` when formula contains table references. But `XSSFWorkbook.setCellFormulaValidation(false)` avoids this.\r\n\r\n","title":"Expanding an existing table in Excel using Apache POI","body":"<p>The main problem using <code>apache poi</code> until now is that it is not ready to be used without having detailed knowledge about <code>Microsoft Office</code> as such and about the storage of <code>Microsoft Office</code> files. There are many things only half way ready and there are regressions often in new versions (bugs occur again which were solved already).</p>\n<p>So your requirement: &quot;Expanding an existing table in Excel using Apache POI&quot; is not possible only simply using <code>apache poi</code>. One must know that <code>Office Open XML</code> files <code>*.xlsx</code> are simply <code>ZIP</code> archives which can be unzipped. And after unzipping we find <code>/xl/tables/table1.xml</code> for storage of the table. This <code>XML</code> we can analyzing and comparing it with <code>XML</code> which was created using <code>Excel</code>'s <code>GUI</code>. So we can find problems which results from shortcomings of <code>apache poi</code>. Same is with the sheet's <code>XML</code> in <code>/xl/tables/sheet1.xml</code>.</p>\n<p>Also we need to know that <code>apache poi</code> builds on the low level classes of <code>ooxml-schemas</code>. Partially we need using those classes because of the halfway readiness of <code>apache poi</code>. In the following example we need <code>ooxml-schemas-1.4.jar</code> additionally because <code>apache poi</code>'s <code>poi-ooxml-schemas-4.0.0.jar</code> has not included <code>org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableFormula</code> until now. Unfortunately there is no documentation about <code>ooxml-schemas</code> public available. So we need downloading the sources and doing <code>javadoc</code> our own.</p>\n<p>The following example works for me using <code>apache poi 4.0.0</code>. If you get problems while compiling or running, the reason might be that multiple different versions of <code>apache poi</code> <code>jar</code>s are in class path while compile time and/or run time. <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">Do not mix different apache poi versions</a>. Also, as said already, my code needs <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">the full jar of all of the schemas ooxml-schemas-1.4.jar</a>.</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.ss.SpreadsheetVersion;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\n\nclass ExcelExpandingTable {\n\n static void addRowToTable(XSSFTable table) {\n\n   int lastTableRow = table.getEndCellReference().getRow();\n   int totalsRowCount = table.getTotalsRowCount();\n   int lastTableDataRow = lastTableRow - totalsRowCount;\n\n   // we will add one row in table data\n   lastTableRow++;\n   lastTableDataRow++;\n\n   // new table area plus one row\n   AreaReference newTableArea = new AreaReference(\n                                 table.getStartCellReference(), \n                                 new CellReference(\n                                  lastTableRow, \n                                  table.getEndCellReference().getCol()\n                                 ),\n                                 SpreadsheetVersion.EXCEL2007\n                                );\n\n   // new table data area plus one row\n   AreaReference newTableDataArea = new AreaReference(\n                                     table.getStartCellReference(), \n                                      new CellReference(\n                                       lastTableDataRow, \n                                       table.getEndCellReference().getCol()\n                                      ),\n                                      SpreadsheetVersion.EXCEL2007\n                                    );\n   \n   XSSFSheet sheet = table.getXSSFSheet();\n   if (totalsRowCount &gt; 0) {\n    //if we have totals rows, shift totals rows down\n    sheet.shiftRows(lastTableDataRow, lastTableRow, 1);\n\n    // correcting bug that shiftRows does not adjusting references of the cells\n    // if row 3 is shifted down, then reference in the cells remain r=&quot;A3&quot;, r=&quot;B3&quot;, ...\n    // they must be adjusted to the new row thoug: r=&quot;A4&quot;, r=&quot;B4&quot;, ...\n    // apache poi 3.17 has done this properly but had have other bugs in shiftRows.\n    for (int r = lastTableDataRow; r &lt; lastTableRow + 1; r++) {\n     XSSFRow row = sheet.getRow(r); \n     if (row != null) {\n      long rRef = row.getCTRow().getR();\n      for (Cell cell : row) {\n       String cRef = ((XSSFCell)cell).getCTCell().getR();\n       ((XSSFCell)cell).getCTCell().setR(cRef.replaceAll(&quot;[0-9]&quot;, &quot;&quot;) + rRef);\n      }\n     }\n    }\n    // end correcting bug\n\n   }\n\n   // if there are CalculatedColumnFormulas do filling them to the new row\n   XSSFRow row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\n   int firstTableCol = table.getStartCellReference().getCol();\n   for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\n    if (tableCol.getCalculatedColumnFormula() != null) {\n     int id = (int)tableCol.getId();\n     String formula = tableCol.getCalculatedColumnFormula().getStringValue();\n     XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\n     cell.setCellFormula(formula);\n    }\n   }\n\n\n   table.setArea(newTableArea);\n\n   // correcting bug that Autofilter includes possible TotalsRows after setArea new\n   // Autofilter must only contain data area\n   table.getCTTable().getAutoFilter().setRef(newTableDataArea.formatAsString());\n   // end correcting bug\n\n   table.updateReferences();\n\n }\n\n public static void main(String[] args) throws Exception {\n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;SAMPLE.xlsx&quot;));\n       FileOutputStream out = new FileOutputStream(&quot;SAMPLE_NEW.xlsx&quot;)) {\n   \n   XSSFSheet sheet = ((XSSFWorkbook)workbook).getSheetAt(0);\n   XSSFTable table = sheet.getTables().get(0);\n\n   addRowToTable(table);\n\n   workbook.write(out);\n  } \n }\n}\n</code></pre>\n<hr />\n<p>The above was 2018. Now we have 2022.</p>\n<p>Using current <code>apache poi 5.2.2</code> the code may be like follows:</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.ss.SpreadsheetVersion;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\n\nclass ExcelExpandingTable {\n\n static XSSFRow addRowToTable(XSSFTable table) {\n\n   int lastTableRow = table.getEndCellReference().getRow();\n   int totalsRowCount = table.getTotalsRowCount();\n   int lastTableDataRow = lastTableRow - totalsRowCount;\n   int firstTableCol = table.getStartCellReference().getCol();\n\n   // we will add one row in table data\n   lastTableRow++;\n   lastTableDataRow++;\n\n   // new table area plus one row\n   AreaReference newTableArea = new AreaReference(\n                                 table.getStartCellReference(), \n                                 new CellReference(\n                                  lastTableRow, \n                                  table.getEndCellReference().getCol()\n                                 ),\n                                 SpreadsheetVersion.EXCEL2007\n                                );\n\n   XSSFSheet sheet = table.getXSSFSheet();\n   if (totalsRowCount &gt; 0) {\n    //if we have totals rows, shift totals rows down\n    sheet.shiftRows(lastTableDataRow, lastTableRow, 1);\n    //correct all sheet table-reference-formulas which probably got damaged after shift rows\n    for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\n     if (tableCol.getCalculatedColumnFormula() != null) {\n      int id = (int)tableCol.getId();\n      String formula = tableCol.getCalculatedColumnFormula().getStringValue();\n      int rFirst = table.getStartCellReference().getRow() + table.getHeaderRowCount();\n      int rLast = table.getEndCellReference().getRow() - table.getTotalsRowCount();\n      int c = table.getStartCellReference().getCol() + id - 1;\n      sheet.getWorkbook().setCellFormulaValidation(false);\n      for (int r = rFirst; r &lt;= rLast; r++) {\n       XSSFRow row = sheet.getRow(r); if (row == null) row = sheet.createRow(r);\n       XSSFCell cell = row.getCell(c); if (cell == null) cell = row.createCell(c);\n       cell.setCellFormula(formula);\n      }\n     }\n    }\n   }\n   \n   // if there are CalculatedColumnFormulas do filling them to the new row\n   XSSFRow row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\n   for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\n    if (tableCol.getCalculatedColumnFormula() != null) {\n     int id = (int)tableCol.getId();\n     String formula = tableCol.getCalculatedColumnFormula().getStringValue();\n     XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\n     cell.getSheet().getWorkbook().setCellFormulaValidation(false); // see https://bz.apache.org/bugzilla/show_bug.cgi?id=66039\n     cell.setCellFormula(formula);\n    }\n   }\n   \n   // copy cell styles to the new row from the row above\n   row = sheet.getRow(lastTableDataRow); if (row == null) row = sheet.createRow(lastTableDataRow);\n   XSSFRow rowAbove = sheet.getRow(lastTableDataRow - 1); if (row == null) row = sheet.createRow(lastTableDataRow - 1);\n   for (CTTableColumn tableCol : table.getCTTable().getTableColumns().getTableColumnList()) {\n    int id = (int)tableCol.getId();\n    XSSFCell cellAbove = rowAbove.getCell(firstTableCol + id - 1); \n    if (cellAbove != null) {\n     XSSFCellStyle styleAbove = cellAbove.getCellStyle();\n     XSSFCell cell = row.getCell(firstTableCol + id - 1); if (cell == null) cell = row.createCell(firstTableCol + id - 1);\n     cell.setCellStyle(styleAbove);\n    }\n   }\n\n   // set new table area\n   table.setArea(newTableArea);\n\n   // update table references\n   table.updateReferences();\n      \n   return sheet.getRow(lastTableDataRow);\n\n }\n\n public static void main(String[] args) throws Exception {\n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;SAMPLE.xlsx&quot;));\n       FileOutputStream out = new FileOutputStream(&quot;SAMPLE_NEW.xlsx&quot;)) {\n           \n   XSSFSheet sheet = ((XSSFWorkbook)workbook).getSheetAt(0);\n   XSSFTable table = sheet.getTables().get(0);\n\n   XSSFRow row = addRowToTable(table);\n\n   workbook.write(out);\n  } \n }\n}\n</code></pre>\n<p>According to <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ</a>, this code needs <code>poi-ooxml-full-5.2.2.jar</code> instead of <code>ooxml-schemas-1.4.jar</code> now for run using <code>apache poi 5.2.2</code>.</p>\n<p>Some bugs are fixed. But there is one new bug when using <code>XSSFCell.setCellFormula</code> when formula contains table references. But <code>XSSFWorkbook.setCellFormulaValidation(false)</code> avoids this.</p>\n"}],"owner":{"account_id":10404757,"reputation":482,"user_id":7672005,"accept_rate":85,"display_name":"Zyzyx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3020,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52904452,"answer_count":1,"score":3,"last_activity_date":1670416919,"creation_date":1539875545,"question_id":52877212,"body_markdown":"I&#39;ve got an table in excel with formulae I would like to add data to. \r\n\r\n[![table][1]][1]\r\n\r\nMy motivation for this is the fact that tables in excel can dynamically expand to the range of data you add to them, meaning that the formula rows automatically keep up with the amount of data rows.\r\n\r\nI&#39;m however having a hard time finding out if this is possible using apache-POI.\r\n\r\nOne thing I was going to try (see code below) was to expand the `AreaReference` of the table to cover the data, however both `AreaReference(CR,CR2);` (as used in [this][2] example) and `AreaReference(CR,CR2, SpreadsheetVersion.EXCEL2007)` (seen in the apache [docs][3]) give &quot;constructor is undefined&quot;.\r\n\r\nNo idea what is causing that constructor error as I do have `org.apache.poi.ss.util` imported.\r\n\r\nThe other option on the apache docs `AreaReference(java.lang.String reference)` lets me compile and run but instead gives a &quot;NoSuchMethod&quot; error.\r\n\r\n    \t\tList&lt;XSSFTable&gt; tableList = spreadSheet.getTables();\r\n\t\t\tCellReference CR = new CellReference(0, 0); \r\n\t\t\tCellReference CR2 = new CellReference(5, 2);\r\n\t\t\tAreaReference my_data_range = new AreaReference(CR,CR2);\r\n\t\t\ttableList.get(0).setArea(my_data_range);\r\n\r\n\r\nAny help will be appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c4PbP.png\r\n  [2]: http://thinktibits.blogspot.com/2014/09/Excel-Insert-Format-Table-Apache-POI-Example.html &quot;this&quot;\r\n  [3]: https://poi.apache.org/apidocs/org/apache/poi/ss/util/AreaReference.html%20docs","title":"Expanding an existing table in Excel using Apache POI","body":"<p>I've got an table in excel with formulae I would like to add data to. </p>\n\n<p><a href=\"https://i.stack.imgur.com/c4PbP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c4PbP.png\" alt=\"table\"></a></p>\n\n<p>My motivation for this is the fact that tables in excel can dynamically expand to the range of data you add to them, meaning that the formula rows automatically keep up with the amount of data rows.</p>\n\n<p>I'm however having a hard time finding out if this is possible using apache-POI.</p>\n\n<p>One thing I was going to try (see code below) was to expand the <code>AreaReference</code> of the table to cover the data, however both <code>AreaReference(CR,CR2);</code> (as used in <a href=\"http://thinktibits.blogspot.com/2014/09/Excel-Insert-Format-Table-Apache-POI-Example.html\" rel=\"nofollow noreferrer\" title=\"this\">this</a> example) and <code>AreaReference(CR,CR2, SpreadsheetVersion.EXCEL2007)</code> (seen in the apache <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/util/AreaReference.html%20docs\" rel=\"nofollow noreferrer\">docs</a>) give \"constructor is undefined\".</p>\n\n<p>No idea what is causing that constructor error as I do have <code>org.apache.poi.ss.util</code> imported.</p>\n\n<p>The other option on the apache docs <code>AreaReference(java.lang.String reference)</code> lets me compile and run but instead gives a \"NoSuchMethod\" error.</p>\n\n<pre><code>        List&lt;XSSFTable&gt; tableList = spreadSheet.getTables();\n        CellReference CR = new CellReference(0, 0); \n        CellReference CR2 = new CellReference(5, 2);\n        AreaReference my_data_range = new AreaReference(CR,CR2);\n        tableList.get(0).setArea(my_data_range);\n</code></pre>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","oop","methods","while-loop","calculator"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1670414836,"post_id":74716385,"comment_id":131870252,"body_markdown":"What does the method `userInputNum()` do? Do you use the scanner in that method too? I suspect you call something like `nextInt()` in that method which will lead to: [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"What does the method <code>userInputNum()</code> do? Do you use the scanner in that method too? I suspect you call something like <code>nextInt()</code> in that method which will lead to: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":19813314,"reputation":1,"user_id":14511607,"display_name":"Monstercat456"},"score":0,"creation_date":1670415262,"post_id":74716385,"comment_id":131870393,"body_markdown":"it prints and scans the &#39;Enter first number: &#39; and I checked it&#39;s nextDouble()","body":"it prints and scans the &#39;Enter first number: &#39; and I checked it&#39;s nextDouble()"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670415731,"post_id":74716385,"comment_id":131870573,"body_markdown":"Then it is as I suspected and the question I linked has the answer on why that happens: `nextDouble()` doesn&#39;t read in the carriage return / line feed so the next time you call `nextLine()`after that it will only read in that carriage return / line feed. See the question I linked for possible solutions and workarounds to that problem","body":"Then it is as I suspected and the question I linked has the answer on why that happens: <code>nextDouble()</code> doesn&#39;t read in the carriage return / line feed so the next time you call <code>nextLine()</code>after that it will only read in that carriage return / line feed. See the question I linked for possible solutions and workarounds to that problem"},{"owner":{"account_id":19813314,"reputation":1,"user_id":14511607,"display_name":"Monstercat456"},"score":0,"creation_date":1670416261,"post_id":74716385,"comment_id":131870780,"body_markdown":"The problem is fixed, thank you for your help and linking the solution. \n\nAdding nextLine() on every nextDouble() managed to fix the skipping.","body":"The problem is fixed, thank you for your help and linking the solution.   Adding nextLine() on every nextDouble() managed to fix the skipping."}],"owner":{"account_id":19813314,"reputation":1,"user_id":14511607,"display_name":"Monstercat456"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670432057,"answer_count":0,"score":0,"last_activity_date":1670416758,"creation_date":1670414521,"question_id":74716385,"body_markdown":"I&#39;m creating a Calculator Object based on our topic `OOP` now I created the Class but it somehow skipped the `scanner` in userInputOp() method on the second call from the loop.\r\n\r\n\r\n```\r\n    Calculator() {\r\n        System.out.println(&quot;Calculator Created&quot;);\r\n        while(!ifExit){\r\n            showInstructions();\r\n            userInputOp();\r\n            ifExit();\r\n            if(this.ifExit) {\r\n                break;\r\n            }\r\n            userInputNum();\r\n            compute(this.n1,this.n2);\r\n            printResults();\r\n            this.op = null;\r\n        }\r\n    }\r\n    private void userInputOp() {\r\n        System.out.println(&quot;userInputOp&quot;);\r\n        System.out.print(&quot;Enter operator symbol: &quot;);\r\n        this.op = sc.nextLine();\r\n    }\r\n    private void ifExit() {\r\n        System.out.println(&quot;ifExit&quot;);\r\n        if(this.op.equals(&quot;0&quot;))\r\n            this.ifExit = true;\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n\r\n\r\n\r\n\r\n```\r\n**Below is the 2nd output of the loop**\r\n====================================\r\n      | BASIC CALCULATOR |      \r\n      ADDITION -       ( + )\r\n      SUBTRACTION -    ( - )\r\n      MULTIPLICATION - ( x )\r\n      DIVISION -       ( / )\r\n      MODULO -         ( % )\r\n      EXIT -           ( 0 )\r\n====================================\r\nuserInputOp\r\nEnter operator symbol: ifExit\r\nEnter first number: \r\n```\r\n\r\nI expected it to not skip the `scanner` in `userInputOp()` method.\r\n\r\n**Solution**\r\n[Related Problem Link][1]\r\n*TL:DR*\r\nAdding nextLine() on every nextInt/Double fixed the issue.\r\n\r\n     System.out.print(&quot;Enter first number: &quot;);\r\n        this.n1 = sc.nextDouble();\r\n        sc.nextLine();\r\n        System.out.print(&quot;Enter second number: &quot;);\r\n        this.n2 = sc.nextDouble();\r\n        sc.nextLine();\r\n\r\n[1]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo?noredirect=1&amp;lq=1","title":"Java Scanner skipping on next 2nd loop","body":"<p>I'm creating a Calculator Object based on our topic <code>OOP</code> now I created the Class but it somehow skipped the <code>scanner</code> in userInputOp() method on the second call from the loop.</p>\n<pre><code>    Calculator() {\n        System.out.println(&quot;Calculator Created&quot;);\n        while(!ifExit){\n            showInstructions();\n            userInputOp();\n            ifExit();\n            if(this.ifExit) {\n                break;\n            }\n            userInputNum();\n            compute(this.n1,this.n2);\n            printResults();\n            this.op = null;\n        }\n    }\n    private void userInputOp() {\n        System.out.println(&quot;userInputOp&quot;);\n        System.out.print(&quot;Enter operator symbol: &quot;);\n        this.op = sc.nextLine();\n    }\n    private void ifExit() {\n        System.out.println(&quot;ifExit&quot;);\n        if(this.op.equals(&quot;0&quot;))\n            this.ifExit = true;\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>**Below is the 2nd output of the loop**\n====================================\n      | BASIC CALCULATOR |      \n      ADDITION -       ( + )\n      SUBTRACTION -    ( - )\n      MULTIPLICATION - ( x )\n      DIVISION -       ( / )\n      MODULO -         ( % )\n      EXIT -           ( 0 )\n====================================\nuserInputOp\nEnter operator symbol: ifExit\nEnter first number: \n</code></pre>\n<p>I expected it to not skip the <code>scanner</code> in <code>userInputOp()</code> method.</p>\n<p><strong>Solution</strong>\n<a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo?noredirect=1&amp;lq=1\">Related Problem Link</a>\n<em>TL:DR</em>\nAdding nextLine() on every nextInt/Double fixed the issue.</p>\n<pre><code> System.out.print(&quot;Enter first number: &quot;);\n    this.n1 = sc.nextDouble();\n    sc.nextLine();\n    System.out.print(&quot;Enter second number: &quot;);\n    this.n2 = sc.nextDouble();\n    sc.nextLine();\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":19389568,"reputation":11,"user_id":14178571,"display_name":"lobsang"},"score":0,"creation_date":1670412279,"post_id":74712010,"comment_id":131869320,"body_markdown":"Tried your solution and added static to homePage variable in testclass however it already asked to make WebDriver variable static as well. However this does not solve issue as I receive same error as I described. For me it looks like PageFactory.initElements(driver,this); is not initialized in HomePage.class which extends BasePage.","body":"Tried your solution and added static to homePage variable in testclass however it already asked to make WebDriver variable static as well. However this does not solve issue as I receive same error as I described. For me it looks like PageFactory.initElements(driver,this); is not initialized in HomePage.class which extends BasePage."},{"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"score":0,"creation_date":1670416110,"post_id":74712010,"comment_id":131870714,"body_markdown":"@lobsang plz share your complete code on git. The same code is working fine for me. But there is one logic that I&#39;m unable to understand you are initializing the driver on BeforeSuite and then you are opening the URL on BeforeMethod and again after that, you are closing the session at  AfterMethod annotation. This logic seems weird as it will destroy object for the second test and as result it will throw error.","body":"@lobsang plz share your complete code on git. The same code is working fine for me. But there is one logic that I&#39;m unable to understand you are initializing the driver on BeforeSuite and then you are opening the URL on BeforeMethod and again after that, you are closing the session at  AfterMethod annotation. This logic seems weird as it will destroy object for the second test and as result it will throw error."},{"owner":{"account_id":19389568,"reputation":11,"user_id":14178571,"display_name":"lobsang"},"score":0,"creation_date":1670419070,"post_id":74712010,"comment_id":131871783,"body_markdown":"Just pushed uncommited changes, rookie mistake as I thought I pushed all changes last time before posting my question.\nRegarding aftermethod annotation - got it from one course and logic behind was as explained there to create new browser before every test and after test to clear it but as you mentioned it I kinda realize that I initialize driver once and after every test I am tearing it down so for this to work as explained I would need to change from BeforeSuite to BeforeMethod annotation.","body":"Just pushed uncommited changes, rookie mistake as I thought I pushed all changes last time before posting my question. Regarding aftermethod annotation - got it from one course and logic behind was as explained there to create new browser before every test and after test to clear it but as you mentioned it I kinda realize that I initialize driver once and after every test I am tearing it down so for this to work as explained I would need to change from BeforeSuite to BeforeMethod annotation."}],"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670416621,"creation_date":1670389750,"answer_id":74712010,"question_id":74694795,"body_markdown":"The issue is with the line \r\n\r\n    private HomePage homePage = new HomePage(driver);\r\n\r\nyou have to understand the logic of static and non-static variables.\r\n\r\nyou have initialised your non-static HomePage object on the class level. \r\n\r\n&gt; After class loading, initialization of the class takes place which\r\n&gt; means initializing all static members of the class. As a result\r\n&gt; no-static method will not get initialize.\r\n\r\n\r\n\r\nHere you are not using the java main method for execution, the actual execution is via TestNG framework.\r\n\r\n\r\n**Solution 1:** Make HomePage static\r\n\r\n     private static HomePage homePage = new HomePage(driver);\r\n\r\n**Solution 2:** Initilize non-static object on @BeforeClass or @BeforeTest annotation\r\n\r\n\r\n        public class HomePageTests extends BaseTest {\r\n            private HomePage homePage;\r\n        \r\n            @BeforeClass\r\n            public void setupTest() {\r\n                homePage = new HomePage(driver);\r\n            }\r\n        \r\n            @Test\r\n            public void checkPageTitleTest() {\r\n                //act\r\n                homePage.clickOnMainPageIconButton();\r\n                //get\r\n                String pageTitle = homePage.getMainPageTitle(driver);\r\n                //verify\r\n                assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\r\n            } \r\n    }\r\n\r\n\r\n**Your code:**\r\nhttps://github.com/mpaasternak/CeneoAutomation\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6mp6I.png","title":"Initialize pageObject without creating @BeforeMethod","body":"<p>The issue is with the line</p>\n<pre><code>private HomePage homePage = new HomePage(driver);\n</code></pre>\n<p>you have to understand the logic of static and non-static variables.</p>\n<p>you have initialised your non-static HomePage object on the class level.</p>\n<blockquote>\n<p>After class loading, initialization of the class takes place which\nmeans initializing all static members of the class. As a result\nno-static method will not get initialize.</p>\n</blockquote>\n<p>Here you are not using the java main method for execution, the actual execution is via TestNG framework.</p>\n<p><strong>Solution 1:</strong> Make HomePage static</p>\n<pre><code> private static HomePage homePage = new HomePage(driver);\n</code></pre>\n<p><strong>Solution 2:</strong> Initilize non-static object on @BeforeClass or @BeforeTest annotation</p>\n<pre><code>    public class HomePageTests extends BaseTest {\n        private HomePage homePage;\n    \n        @BeforeClass\n        public void setupTest() {\n            homePage = new HomePage(driver);\n        }\n    \n        @Test\n        public void checkPageTitleTest() {\n            //act\n            homePage.clickOnMainPageIconButton();\n            //get\n            String pageTitle = homePage.getMainPageTitle(driver);\n            //verify\n            assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\n        } \n}\n</code></pre>\n<p><strong>Your code:</strong>\n<a href=\"https://github.com/mpaasternak/CeneoAutomation\" rel=\"nofollow noreferrer\">https://github.com/mpaasternak/CeneoAutomation</a>\n<a href=\"https://i.stack.imgur.com/6mp6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6mp6I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19389568,"reputation":11,"user_id":14178571,"display_name":"lobsang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670416621,"creation_date":1670277130,"question_id":74694795,"body_markdown":"Learning POM in selenium and trying to understand this behaviour. When I set up my test class like this:\r\n\r\n```\r\npublic class HomePageTests extends BaseTest {\r\n    private HomePage homePage;\r\n\r\n    @BeforeMethod\r\n    public void setupTest() {\r\n        homePage = new HomePage(driver);\r\n    }\r\n\r\n    @Test\r\n    public void checkPageTitleTest() {\r\n        //act\r\n        homePage.clickOnMainPageIconButton();\r\n\r\n        //get\r\n        String pageTitle = homePage.getMainPageTitle(driver);\r\n\r\n        //verify\r\n        assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\r\n    }\r\n}\r\n```\r\n\r\nEverything seems to be working as intended. However when I tried to create without @BeforeMethod\r\n\r\n```\r\npublic class HomePageTests extends BaseTest {\r\n    private HomePage homePage = new HomePage(driver);\r\n\r\n    @Test\r\n    public void checkPageTitleTest() {\r\n        //act\r\n        homePage.clickOnMainPageIconButton();\r\n\r\n        //get\r\n        String pageTitle = homePage.getMainPageTitle(driver);\r\n\r\n        //verify\r\n        assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\r\n    }\r\n}\r\n```\r\n\r\nI always receive this error: `java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null`\r\n\r\nThis is how my HomePage looks like:\r\n\r\n```\r\npublic class HomePage extends BasePage{\r\n    public HomePage(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n\r\n    @FindBy(className = &quot;header__logo__link&quot;)\r\n    WebElement mainPageLogo;\r\n\r\n    public void clickOnMainPageIconButton(){\r\n        mainPageLogo.click();\r\n    }\r\n\r\n    public String getMainPageTitle(WebDriver driver){\r\n        return driver.getTitle();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhat can I do to get rid of this repeated block of `@BeforeMethod`. Link to my [current repository](https://github.com/mpaasternak/CeneoAutomation) with project if I miss something that might be crucial to described issue.\r\n\r\n\r\n\r\nTried to create initialize class within HomePage but this was already marked as error by IDE.","title":"Initialize pageObject without creating @BeforeMethod","body":"<p>Learning POM in selenium and trying to understand this behaviour. When I set up my test class like this:</p>\n<pre><code>public class HomePageTests extends BaseTest {\n    private HomePage homePage;\n\n    @BeforeMethod\n    public void setupTest() {\n        homePage = new HomePage(driver);\n    }\n\n    @Test\n    public void checkPageTitleTest() {\n        //act\n        homePage.clickOnMainPageIconButton();\n\n        //get\n        String pageTitle = homePage.getMainPageTitle(driver);\n\n        //verify\n        assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\n    }\n}\n</code></pre>\n<p>Everything seems to be working as intended. However when I tried to create without @BeforeMethod</p>\n<pre><code>public class HomePageTests extends BaseTest {\n    private HomePage homePage = new HomePage(driver);\n\n    @Test\n    public void checkPageTitleTest() {\n        //act\n        homePage.clickOnMainPageIconButton();\n\n        //get\n        String pageTitle = homePage.getMainPageTitle(driver);\n\n        //verify\n        assertThat(pageTitle).isEqualTo(HOME_PAGE_TITLE);\n    }\n}\n</code></pre>\n<p>I always receive this error: <code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null</code></p>\n<p>This is how my HomePage looks like:</p>\n<pre><code>public class HomePage extends BasePage{\n    public HomePage(WebDriver driver) {\n        super(driver);\n    }\n\n    @FindBy(className = &quot;header__logo__link&quot;)\n    WebElement mainPageLogo;\n\n    public void clickOnMainPageIconButton(){\n        mainPageLogo.click();\n    }\n\n    public String getMainPageTitle(WebDriver driver){\n        return driver.getTitle();\n    }\n\n}\n</code></pre>\n<p>What can I do to get rid of this repeated block of <code>@BeforeMethod</code>. Link to my <a href=\"https://github.com/mpaasternak/CeneoAutomation\" rel=\"nofollow noreferrer\">current repository</a> with project if I miss something that might be crucial to described issue.</p>\n<p>Tried to create initialize class within HomePage but this was already marked as error by IDE.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9395,"page":828,"page_size":100}
