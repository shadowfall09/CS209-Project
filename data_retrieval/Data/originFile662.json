{"items":[{"tags":["java","hibernate","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675960266,"post_id":75401521,"comment_id":133044416,"body_markdown":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for.","body":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for."}],"owner":{"account_id":8368622,"reputation":86,"user_id":6284416,"display_name":"Mr. Tomato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965596,"creation_date":1675959858,"question_id":75401521,"body_markdown":"I understand that counting many entries in a database may return more than int_max entries and therefore [Spring CRUD repository&#39;s count()](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()) method has long as return type.\r\n\r\n\r\nHowever, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I&#39;d also need a long to return the number of updated/deleted entries.\r\n\r\nTherefore I defined my Spring Data method as \r\n\r\n```\r\n@Modifying\r\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\r\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\r\n```\r\n\r\nTo my surprise the invocation of this method causes a stack trace \r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\r\n[...]\r\n```\r\n\r\nI guess it makes sense since [JPA Query&#39;s executeUpdate()](https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--) method returns int, but I am puzzled why that is the case.\r\n\r\nIn any way, shouldn&#39;t count and update-queries return the same type - i.e. int or long if int is too small?","title":"Why do Spring CRUD repository updates return int, but count long?","body":"<p>I understand that counting many entries in a database may return more than int_max entries and therefore <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()\" rel=\"nofollow noreferrer\">Spring CRUD repository's count()</a> method has long as return type.</p>\n<p>However, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I'd also need a long to return the number of updated/deleted entries.</p>\n<p>Therefore I defined my Spring Data method as</p>\n<pre><code>@Modifying\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\n</code></pre>\n<p>To my surprise the invocation of this method causes a stack trace</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\n[...]\n</code></pre>\n<p>I guess it makes sense since <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--\" rel=\"nofollow noreferrer\">JPA Query's executeUpdate()</a> method returns int, but I am puzzled why that is the case.</p>\n<p>In any way, shouldn't count and update-queries return the same type - i.e. int or long if int is too small?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":27466333,"reputation":13,"user_id":20955979,"display_name":"ggwp"},"score":0,"creation_date":1674224402,"post_id":75185031,"comment_id":132674584,"body_markdown":"Thank you Thank you Thank you so much. The error is gone. But im so sorry the ask you this, what about the date picker (date_p) and time picker (time_p)","body":"Thank you Thank you Thank you so much. The error is gone. But im so sorry the ask you this, what about the date picker (date_p) and time picker (time_p)"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1674224587,"post_id":75185031,"comment_id":132674653,"body_markdown":"@ggwp you can do same with other just replace widget like private lateinit var time_p:TimePicker and time_p= findViewById(R.id.time_p)  and add all items like this","body":"@ggwp you can do same with other just replace widget like private lateinit var time_p:TimePicker and time_p= findViewById(R.id.time_p)  and add all items like this"}],"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674223223,"creation_date":1674223223,"answer_id":75185031,"question_id":75184884,"body_markdown":"Before **onCreate** you need to initialize all widget \r\nlike \r\n\r\n&gt; Button done_fab;//in JAVA\r\n\r\n&gt; private lateinit var done_fab: Button //in Kotlin\r\n\r\n//Add other here\r\n\r\nand after **setContentView** you need to initialize the same widget with name like\r\n\r\n&gt; done_fab=findViewById(R.id.done_fab);//in java\r\n\r\n&gt; done_fab= findViewById(R.id.done_fab)//in Kotlin\r\n\r\n//Add other here\r\n\r\nit will be ready to use in overall activity class.","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>Before <strong>onCreate</strong> you need to initialize all widget\nlike</p>\n<blockquote>\n<p>Button done_fab;//in JAVA</p>\n</blockquote>\n<blockquote>\n<p>private lateinit var done_fab: Button //in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>and after <strong>setContentView</strong> you need to initialize the same widget with name like</p>\n<blockquote>\n<p>done_fab=findViewById(R.id.done_fab);//in java</p>\n</blockquote>\n<blockquote>\n<p>done_fab= findViewById(R.id.done_fab)//in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>it will be ready to use in overall activity class.</p>\n"}],"owner":{"account_id":27466333,"reputation":13,"user_id":20955979,"display_name":"ggwp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75185031,"answer_count":1,"score":1,"last_activity_date":1675965547,"creation_date":1674222604,"question_id":75184884,"body_markdown":"My activity does not sync with its layout xml. I really don&#39;t know why the coding seems okay. I&#39;m a beginner dev.\r\n\r\nThis is my activity using Kotlin in Android Studio:\r\n\r\n![](https://i.stack.imgur.com/rKR57.png)\r\n\r\nCode:\r\n\r\n```\r\npackage com.pkndegwa.mycarmaintenance\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.work.Data\r\nimport androidx.work.ExistingWorkPolicy.REPLACE\r\nimport androidx.work.OneTimeWorkRequest\r\nimport androidx.work.WorkManager\r\nimport kotlinx.android.synthetic.service_list_item.*\r\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\r\nimport com.google.android.material.snackbar.Snackbar.make\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\r\nimport java.lang.System.currentTimeMillis\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport java.util.Locale.getDefault\r\nimport java.util.concurrent.TimeUnit.MILLISECONDS\r\n\r\nclass AlarmActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.service_list_item)\r\n\r\n        userInterface()\r\n    }\r\n\r\n    private fun userInterface() {\r\n        setSupportActionBar(toolbar)\r\n\r\n        val titleNotification = getString(R.string.notification_title)\r\n\r\n        done_fab.setOnClickListener {\r\n            val customCalendar = Calendar.getInstance()\r\n            customCalendar.set(\r\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\r\n            )\r\n            val customTime = customCalendar.timeInMillis\r\n            val currentTime = currentTimeMillis()\r\n            if (customTime &gt; currentTime) {\r\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\r\n                val delay = customTime - currentTime\r\n                scheduleNotification(delay, data)\r\n\r\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\r\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\r\n                make(\r\n                    service_card,\r\n                    titleNotificationSchedule + SimpleDateFormat(\r\n                        patternNotificationSchedule, getDefault()\r\n                    ).format(customCalendar.time).toString(),\r\n                    LENGTH_LONG\r\n                ).show()\r\n            } else {\r\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\r\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun scheduleNotification(delay: Long, data: Data) {\r\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\r\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\r\n\r\n        val instanceWorkManager = WorkManager.getInstance(this)\r\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\r\n    }\r\n}\r\n\r\n```\r\n \r\n\r\nThis is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/service_card&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;8dp&quot;\r\n    android:layout_marginVertical=&quot;4dp&quot;\r\n    android:backgroundTint=&quot;#E9E9ED&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:minHeight=&quot;@dimen/button_min_height&quot;\r\n    app:cardElevation=&quot;1dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/services_heading_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:importantForAccessibility=&quot;no&quot;\r\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/services&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/services_done_list&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/services_expand_view&quot;\r\n                android:layout_width=&quot;32dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:contentDescription=&quot;@string/expand_more_button&quot;\r\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;com.google.android.material.divider.MaterialDivider\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/services_details_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingHorizontal=&quot;6dp&quot;\r\n            android:paddingTop=&quot;0dp&quot;\r\n            android:paddingBottom=&quot;8dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_left_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/current_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;2,000 km&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/next_service_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;4,000 km&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_right_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/next_service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/total_cost&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/total_cost_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:text=&quot;@string/notes&quot;\r\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\r\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\r\n\r\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\r\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/titleET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\r\n                android:hint=&quot;Title for your notification&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;Which Car&quot; /&gt;\r\n\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/messageET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;You can set your own notification here&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;what service&quot; /&gt;\r\n\r\n            &lt;DatePicker\r\n                android:id=&quot;@+id/date_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:calendarViewShown=&quot;false&quot;\r\n                android:datePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;TimePicker\r\n                android:id=&quot;@+id/time_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                android:timePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/done_fab&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;schedule_notification&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_actions_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;end|center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\r\n\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/edit_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;4dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/edit&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/delete_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;2dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/delete&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/com.google.android.material.card.MaterialCardView&gt;\r\n```\r\n","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>My activity does not sync with its layout xml. I really don't know why the coding seems okay. I'm a beginner dev.</p>\n<p>This is my activity using Kotlin in Android Studio:</p>\n<p><img src=\"https://i.stack.imgur.com/rKR57.png\" alt=\"\" /></p>\n<p>Code:</p>\n<pre><code>package com.pkndegwa.mycarmaintenance\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.work.Data\nimport androidx.work.ExistingWorkPolicy.REPLACE\nimport androidx.work.OneTimeWorkRequest\nimport androidx.work.WorkManager\nimport kotlinx.android.synthetic.service_list_item.*\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\nimport com.google.android.material.snackbar.Snackbar.make\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\nimport java.lang.System.currentTimeMillis\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport java.util.Locale.getDefault\nimport java.util.concurrent.TimeUnit.MILLISECONDS\n\nclass AlarmActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.service_list_item)\n\n        userInterface()\n    }\n\n    private fun userInterface() {\n        setSupportActionBar(toolbar)\n\n        val titleNotification = getString(R.string.notification_title)\n\n        done_fab.setOnClickListener {\n            val customCalendar = Calendar.getInstance()\n            customCalendar.set(\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\n            )\n            val customTime = customCalendar.timeInMillis\n            val currentTime = currentTimeMillis()\n            if (customTime &gt; currentTime) {\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\n                val delay = customTime - currentTime\n                scheduleNotification(delay, data)\n\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\n                make(\n                    service_card,\n                    titleNotificationSchedule + SimpleDateFormat(\n                        patternNotificationSchedule, getDefault()\n                    ).format(customCalendar.time).toString(),\n                    LENGTH_LONG\n                ).show()\n            } else {\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\n            }\n        }\n    }\n\n    private fun scheduleNotification(delay: Long, data: Data) {\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\n\n        val instanceWorkManager = WorkManager.getInstance(this)\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\n    }\n}\n\n</code></pre>\n<p>This is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/service_card&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;8dp&quot;\n    android:layout_marginVertical=&quot;4dp&quot;\n    android:backgroundTint=&quot;#E9E9ED&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:minHeight=&quot;@dimen/button_min_height&quot;\n    app:cardElevation=&quot;1dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/services_heading_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:importantForAccessibility=&quot;no&quot;\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/services&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/services_done_list&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/services_expand_view&quot;\n                android:layout_width=&quot;32dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:contentDescription=&quot;@string/expand_more_button&quot;\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;com.google.android.material.divider.MaterialDivider\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/services_details_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingHorizontal=&quot;6dp&quot;\n            android:paddingTop=&quot;0dp&quot;\n            android:paddingBottom=&quot;8dp&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_left_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/current_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;2,000 km&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/next_service_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;4,000 km&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_right_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/next_service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/total_cost&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/total_cost_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:text=&quot;@string/notes&quot;\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;16sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textSize=&quot;14sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\n\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/titleET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\n                android:hint=&quot;Title for your notification&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;Which Car&quot; /&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/messageET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;You can set your own notification here&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;what service&quot; /&gt;\n\n            &lt;DatePicker\n                android:id=&quot;@+id/date_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:calendarViewShown=&quot;false&quot;\n                android:datePickerMode=&quot;spinner&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;TimePicker\n                android:id=&quot;@+id/time_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                android:timePickerMode=&quot;spinner&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/done_fab&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;schedule_notification&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_actions_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;end|center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\n\n\n                &lt;Button\n                    android:id=&quot;@+id/edit_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;4dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/edit&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/delete_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;2dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/delete&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1675972625,"post_id":75402594,"comment_id":133048343,"body_markdown":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html","body":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"score":0,"creation_date":1676055407,"post_id":75402594,"comment_id":133067506,"body_markdown":"@RobertNiestroj\nI have different entities with some of the same behaviors that I don&#39;t want to be repeated","body":"@RobertNiestroj I have different entities with some of the same behaviors that I don&#39;t want to be repeated"}],"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965372,"creation_date":1675965372,"question_id":75402594,"body_markdown":"I need to have generic service and repository classes in my project. I wrote it this way, but I don&#39;t know if it is correct or not.\r\n \r\n**BaseModel:**\r\n\r\n     @MappedSuperclass\r\n     @Data\r\n    public class AbstractBaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    @Version\r\n    private int version;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n\r\n    public AbstractBaseEntity() {\r\n        this.createdAt = LocalDateTime.now();\r\n        this.updatedAt = LocalDateTime.now();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n**GenericService:**\r\n\r\n    public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\r\n    public abstract T save(T entity);\r\n    public abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\r\n\r\n    public abstract Optional&lt;T&gt; findById(ID entityId);\r\n    public abstract T update(T entity);\r\n    public abstract T updateById(T entity, ID entityId);\r\n    public abstract void delete(T entity);\r\n    public abstract void deleteById(ID entityId);\r\n    // other methods u might need to be generic\r\n\r\n}\r\n\r\n\r\nHere I inherited from base service class and Autowired repository base classes.\r\n\r\n    @Service\r\n    @Transactional\r\n    public abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\r\n        implements AbstractBaseService&lt;T, ID&gt; {\r\n    @Autowired\r\n    private AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\r\n\r\n    protected abstract Class&lt;T&gt; getDomaimClass();\r\n\r\n    protected Class&lt;T&gt; domainClass = this.getDomaimClass();\r\n\r\n    @Override\r\n    public T save(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; findAll() {\r\n        return abstractBaseRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findById(ID entityId) {\r\n        return abstractBaseRepository.findById(entityId);\r\n    }\r\n\r\n    @Override\r\n    public T update(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public T updateById(T entity, ID entityId) {\r\n        Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\r\n        if (optional.isPresent()) {\r\n            return (T) abstractBaseRepository.save(entity);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void delete(T entity) {\r\n        abstractBaseRepository.delete(entity);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(ID entityId) {\r\n        abstractBaseRepository.deleteById(entityId);\r\n    }\r\n\r\n**GenericRepository:**\r\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\r\n    @Repository\r\n    public interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {\r\n\r\n}\r\n\r\n    public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\r\n    List&lt;T&gt; findAllByFiter(String textQuery);\r\n}\r\n\r\n    public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n\r\n    @Override\r\n    public List findAllByFiter(String textQuery) {\r\n        Query query=entityManager.createQuery(textQuery);\r\n        return query.getResultList();\r\n    }\r\n}\r\n\r\nI don&#39;t know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.\r\n","title":"How to implement generic service and repository class in spring boot","body":"<p>I need to have generic service and repository classes in my project. I wrote it this way, but I don't know if it is correct or not.</p>\n<p><strong>BaseModel:</strong></p>\n<pre><code> @MappedSuperclass\n @Data\npublic class AbstractBaseEntity implements Serializable {\n\n@Id\n@GeneratedValue\nprivate Long id;\n@Version\nprivate int version;\nprivate LocalDateTime createdAt;\nprivate LocalDateTime updatedAt;\n\npublic AbstractBaseEntity() {\n    this.createdAt = LocalDateTime.now();\n    this.updatedAt = LocalDateTime.now();\n}\n</code></pre>\n<p>}</p>\n<p><strong>GenericService:</strong></p>\n<pre><code>public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\npublic abstract T save(T entity);\npublic abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\n\npublic abstract Optional&lt;T&gt; findById(ID entityId);\npublic abstract T update(T entity);\npublic abstract T updateById(T entity, ID entityId);\npublic abstract void delete(T entity);\npublic abstract void deleteById(ID entityId);\n// other methods u might need to be generic\n</code></pre>\n<p>}</p>\n<p>Here I inherited from base service class and Autowired repository base classes.</p>\n<pre><code>@Service\n@Transactional\npublic abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\n    implements AbstractBaseService&lt;T, ID&gt; {\n@Autowired\nprivate AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\n\nprotected abstract Class&lt;T&gt; getDomaimClass();\n\nprotected Class&lt;T&gt; domainClass = this.getDomaimClass();\n\n@Override\npublic T save(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic List&lt;T&gt; findAll() {\n    return abstractBaseRepository.findAll();\n}\n\n@Override\npublic Optional&lt;T&gt; findById(ID entityId) {\n    return abstractBaseRepository.findById(entityId);\n}\n\n@Override\npublic T update(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic T updateById(T entity, ID entityId) {\n    Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\n    if (optional.isPresent()) {\n        return (T) abstractBaseRepository.save(entity);\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic void delete(T entity) {\n    abstractBaseRepository.delete(entity);\n}\n\n@Override\npublic void deleteById(ID entityId) {\n    abstractBaseRepository.deleteById(entityId);\n}\n</code></pre>\n<p><strong>GenericRepository:</strong>\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\n@Repository\npublic interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {</p>\n<p>}</p>\n<pre><code>public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\nList&lt;T&gt; findAllByFiter(String textQuery);\n</code></pre>\n<p>}</p>\n<pre><code>public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\n@PersistenceContext\nEntityManager entityManager;\n\n\n@Override\npublic List findAllByFiter(String textQuery) {\n    Query query=entityManager.createQuery(textQuery);\n    return query.getResultList();\n}\n</code></pre>\n<p>}</p>\n<p>I don't know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.</p>\n"},{"tags":["java","jwt"],"owner":{"account_id":22894818,"reputation":1,"user_id":17034485,"display_name":"vijayasarathi japa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675964233,"creation_date":1675964233,"question_id":75402416,"body_markdown":"Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence\r\n\r\nOur application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.\r\n\r\nafter this change getting the exception as algid parse error, not a sequence.\r\n\r\nSample Code - \r\n```\r\njava.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\r\nString privateKey = &quot;xxx&quot;;\r\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\r\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\r\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\r\nkfac.generatePrivate(keySpec); // Getting exception on this line.\r\n```\r\n","title":"getting InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence","body":"<p>Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence</p>\n<p>Our application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.</p>\n<p>after this change getting the exception as algid parse error, not a sequence.</p>\n<p>Sample Code -</p>\n<pre><code>java.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\nString privateKey = &quot;xxx&quot;;\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\nkfac.generatePrivate(keySpec); // Getting exception on this line.\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1675964180,"post_id":75402386,"comment_id":133045849,"body_markdown":"`Caused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0` Install a later java version.","body":"<code>Caused by: java.lang.UnsupportedClassVersionError: net&#47;minecraft&#47;bundler&#47;Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code> Install a later java version."}],"answers":[{"comments":[{"owner":{"account_id":27746702,"reputation":21,"user_id":21182041,"display_name":"Hoggagf2"},"score":0,"creation_date":1675966102,"post_id":75402407,"comment_id":133046434,"body_markdown":"Why am I so stupid?\nAnyways, Thank you!","body":"Why am I so stupid? Anyways, Thank you!"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675964174,"creation_date":1675964174,"answer_id":75402407,"question_id":75402386,"body_markdown":"https://javaalmanac.io/bytecode/versions/\r\n\r\nYou&#39;re trying to run a java 17 program with java 8\r\n\r\nUpgrade your java installation to run it properly","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<p><a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">https://javaalmanac.io/bytecode/versions/</a></p>\n<p>You're trying to run a java 17 program with java 8</p>\n<p>Upgrade your java installation to run it properly</p>\n"}],"owner":{"account_id":27746702,"reputation":21,"user_id":21182041,"display_name":"Hoggagf2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676267048,"answer_count":1,"score":1,"last_activity_date":1675964174,"creation_date":1675964077,"question_id":75402386,"body_markdown":"\r\n```\r\nUncaught exception in thread &quot;main&quot;\r\njava.lang.RuntimeException: An exception occurred when launching the server!\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\r\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\r\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\r\n\t... 6 more\r\n```\r\nIs the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.\r\n\r\nI am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one. ","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<pre><code>Uncaught exception in thread &quot;main&quot;\njava.lang.RuntimeException: An exception occurred when launching the server!\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\n    at net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\n    at net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\n    at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\n    ... 6 more\n</code></pre>\n<p>Is the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.</p>\n<p>I am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one.</p>\n"},{"tags":["java","excel","spring","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964120,"creation_date":1675964120,"answer_id":75402394,"question_id":75352382,"body_markdown":"Try this\r\n\r\n    int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\r\n\r\n    CreationHelper helper = workbook.getCreationHelper();\r\n    ClientAnchor anchor = helper.createClientAnchor();\r\n\r\n    anchor.setCol1(colStart); //Col Start\r\n    anchor.setRow1(rowStart); //Row Start\r\n    anchor.setCol2(colEnd); //Col End\r\n    anchor.setRow2(rowEnd); //Row End\r\n\r\n    //create a picture anchored to Top-Left Corner\r\n    Drawing drawing = sheet.createDrawingPatriarch();\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    pict.resize(1);","title":"how to resize image width and height in excel using apache poi in java","body":"<p>Try this</p>\n<pre><code>int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\n\nCreationHelper helper = workbook.getCreationHelper();\nClientAnchor anchor = helper.createClientAnchor();\n\nanchor.setCol1(colStart); //Col Start\nanchor.setRow1(rowStart); //Row Start\nanchor.setCol2(colEnd); //Col End\nanchor.setRow2(rowEnd); //Row End\n\n//create a picture anchored to Top-Left Corner\nDrawing drawing = sheet.createDrawingPatriarch();\nPicture pict = drawing.createPicture(anchor, pictureIdx);\npict.resize(1);\n</code></pre>\n"}],"owner":{"account_id":27705846,"reputation":1,"user_id":21149516,"display_name":"Prabhanshu gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964120,"creation_date":1675601597,"question_id":75352382,"body_markdown":"I used picture.resize that not worked\r\n\r\nIf the picture size is big that it become large i want that picture fit into the excel cell\r\nif picture is big that it will resize according to the cell i want a rectange cell\r\n\r\nhere is the picture of excel sheet\r\n[enter image description here](https://i.stack.imgur.com/wB8oI.png)\r\n\r\n\r\nhere is the code that i write i inster data in two column and three rows\r\ni made it static but data will come dynamically\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\r\n\r\n        Cell cell1 = sheet.createRow(0).createCell(0);\r\n        Cell cell2 = sheet.createRow(1).createCell(0);\r\n        cell1.setCellValue(&quot;this is Image1&quot;);\r\n        cell2.setCellValue(&quot;this is Image2&quot;);\r\n\r\n        InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\r\n        InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\r\n\r\n        byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\r\n        byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\r\n\r\n        int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\r\n        int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\r\n\r\n        inputStream1.close();\r\n        inputStream2.close();\r\n\r\n        CreationHelper helper = workbook.getCreationHelper();\r\n\r\n        Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\r\n\r\n        ClientAnchor forImage1 = helper.createClientAnchor();\r\n        ClientAnchor forImage2 = helper.createClientAnchor();\r\n\r\n\r\n        forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n        forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n        forImage1.setCol1(1);\r\n        forImage1.setCol2(2);\r\n        forImage1.setRow1(0);\r\n        forImage1.setRow2(1);\r\n\r\n        forImage2.setCol1(1);\r\n        forImage2.setCol2(2);\r\n        forImage2.setRow1(1);\r\n        forImage2.setRow2(2);\r\n\r\n         drawing.createPicture(forImage1 , inputImagePicture1);\r\n         drawing.createPicture(forImage2 , inputImagePicture2);\r\n\r\n\r\n        int widthUnit = 25*256;\r\n        sheet.setColumnWidth(1,widthUnit);\r\n\r\n        short heightUnit = 60*20;\r\n        cell1.getRow().setHeight(heightUnit);\r\n        cell2.getRow().setHeight(heightUnit);\r\n\r\n\r\n        for(int i=0; i&lt;3; i++){\r\n            sheet.autoSizeColumn(i);\r\n        }\r\n\r\n        try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\r\n              workbook.write(saveExcel);\r\n        }\r\n    }","title":"how to resize image width and height in excel using apache poi in java","body":"<p>I used picture.resize that not worked</p>\n<p>If the picture size is big that it become large i want that picture fit into the excel cell\nif picture is big that it will resize according to the cell i want a rectange cell</p>\n<p>here is the picture of excel sheet\n<a href=\"https://i.stack.imgur.com/wB8oI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>here is the code that i write i inster data in two column and three rows\ni made it static but data will come dynamically</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>    Workbook workbook = new HSSFWorkbook();\n    Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\n\n    Cell cell1 = sheet.createRow(0).createCell(0);\n    Cell cell2 = sheet.createRow(1).createCell(0);\n    cell1.setCellValue(&quot;this is Image1&quot;);\n    cell2.setCellValue(&quot;this is Image2&quot;);\n\n    InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\n    InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\n\n    byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\n    byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\n\n    int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\n    int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\n\n    inputStream1.close();\n    inputStream2.close();\n\n    CreationHelper helper = workbook.getCreationHelper();\n\n    Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\n\n    ClientAnchor forImage1 = helper.createClientAnchor();\n    ClientAnchor forImage2 = helper.createClientAnchor();\n\n\n    forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n    forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n    forImage1.setCol1(1);\n    forImage1.setCol2(2);\n    forImage1.setRow1(0);\n    forImage1.setRow2(1);\n\n    forImage2.setCol1(1);\n    forImage2.setCol2(2);\n    forImage2.setRow1(1);\n    forImage2.setRow2(2);\n\n     drawing.createPicture(forImage1 , inputImagePicture1);\n     drawing.createPicture(forImage2 , inputImagePicture2);\n\n\n    int widthUnit = 25*256;\n    sheet.setColumnWidth(1,widthUnit);\n\n    short heightUnit = 60*20;\n    cell1.getRow().setHeight(heightUnit);\n    cell2.getRow().setHeight(heightUnit);\n\n\n    for(int i=0; i&lt;3; i++){\n        sheet.autoSizeColumn(i);\n    }\n\n    try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\n          workbook.write(saveExcel);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","pyspark","pycharm"],"comments":[{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656278504,"post_id":72763727,"comment_id":128526781,"body_markdown":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else.","body":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else."}],"answers":[{"tags":[],"owner":{"account_id":27746640,"reputation":1,"user_id":21181990,"display_name":"Paris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964006,"creation_date":1675964006,"answer_id":75402366,"question_id":72763727,"body_markdown":"I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).</p>\n"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964006,"creation_date":1656264048,"question_id":72763727,"body_markdown":"java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\r\nI am on windows.\r\n\r\npyspark-2.4.4\r\nPython version = 3.10.4\r\njava version = [![Java][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KZ2Qd.png\r\n\r\n\r\nwhen i initilise a spark session I get the following error.\r\n\r\n    findspark.init()\r\n    \r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;CustomerChurn&quot;) \\\r\n        .master(&quot;local&quot;) \\\r\n        .config() \\\r\n        .getOrCreate()\r\n    \r\n    \r\n    Py4JJavaError: An error occurred while calling o16.set.\r\n    : java.lang.NullPointerException\r\n    \tat org.apache.spark.SparkConf.set(SparkConf.scala:106)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n    \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nI have not seen this error online, does anyone know what is the issue\r\n\r\n\r\n\r\n\r\nEDIT: issue resolved, I added a comment beneath","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\nI am on windows.</p>\n<p>pyspark-2.4.4\nPython version = 3.10.4\njava version = <a href=\"https://i.stack.imgur.com/KZ2Qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZ2Qd.png\" alt=\"Java\" /></a></p>\n<p>when i initilise a spark session I get the following error.</p>\n<pre><code>findspark.init()\n\nspark = SparkSession \\\n    .builder \\\n    .appName(&quot;CustomerChurn&quot;) \\\n    .master(&quot;local&quot;) \\\n    .config() \\\n    .getOrCreate()\n\n\nPy4JJavaError: An error occurred while calling o16.set.\n: java.lang.NullPointerException\n    at org.apache.spark.SparkConf.set(SparkConf.scala:106)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I have not seen this error online, does anyone know what is the issue</p>\n<p>EDIT: issue resolved, I added a comment beneath</p>\n"},{"tags":["java","spring","spring-boot","model","data-access"],"owner":{"account_id":23823934,"reputation":3,"user_id":17831266,"display_name":"lWubaLubaDubDubl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675963061,"creation_date":1675962536,"question_id":75402086,"body_markdown":"I&#39;m new to spring. so I want to check how can I check if the transaction commit or it fails.\r\nand also I want to know about debugging transactions.\r\n\r\n\r\nI have no clue. I checked transactionDetails, transactionSynchronization, etc.\r\nonly a hint would be great too.\r\n","title":"how to check if transaction is committed or not? and how can we debug transaction?","body":"<p>I'm new to spring. so I want to check how can I check if the transaction commit or it fails.\nand also I want to know about debugging transactions.</p>\n<p>I have no clue. I checked transactionDetails, transactionSynchronization, etc.\nonly a hint would be great too.</p>\n"},{"tags":["java","spring-boot","command-line"],"comments":[{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675741069,"post_id":75368243,"comment_id":132989442,"body_markdown":"I dont think its possible to do. In my understanding it will run at the time of startup","body":"I dont think its possible to do. In my understanding it will run at the time of startup"},{"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"score":0,"creation_date":1675746736,"post_id":75368243,"comment_id":132990102,"body_markdown":"Is there any way to implement this other than CommandLineRunner?","body":"Is there any way to implement this other than CommandLineRunner?"},{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675749734,"post_id":75368243,"comment_id":132990491,"body_markdown":"May be you just expose as an API and access via command line using curl command","body":"May be you just expose as an API and access via command line using curl command"}],"answers":[{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675962845,"creation_date":1675962845,"answer_id":75402142,"question_id":75368243,"body_markdown":"What are you trying to achieve here?\r\n\r\n## Scheduler?\r\nIf you want to create a scheduled operation, you can utilize spring scheduler:\r\n\r\n```java\r\n@Configuration\r\n@EnableScheduling\r\npublic class SchedulerConfig {\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\npublic void scheduleHello() {\r\n\r\n    long now = System.currentTimeMillis() / 1000;\r\n    System.out.println(&quot;Hello - &quot; + now);\r\n\r\n}\r\n```\r\n\r\nhttps://www.baeldung.com/spring-scheduled-tasks\r\n\r\n---\r\n\r\n## Monitoring??\r\n\r\nIf your purpose is to monitor your springboot service health, you might want to try `spring-actuator`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nyou can monitor your service health in:\r\n`/actuator/health` or `/health`\r\n\r\nhttps://www.baeldung.com/spring-boot-actuators","title":"SpringBoot RestAPI and CommandLine","body":"<p>What are you trying to achieve here?</p>\n<h2>Scheduler?</h2>\n<p>If you want to create a scheduled operation, you can utilize spring scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig {\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\npublic void scheduleHello() {\n\n    long now = System.currentTimeMillis() / 1000;\n    System.out.println(&quot;Hello - &quot; + now);\n\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<hr />\n<h2>Monitoring??</h2>\n<p>If your purpose is to monitor your springboot service health, you might want to try <code>spring-actuator</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>you can monitor your service health in:\n<code>/actuator/health</code> or <code>/health</code></p>\n<p><a href=\"https://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-actuators</a></p>\n"}],"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75402142,"answer_count":1,"score":0,"last_activity_date":1675962845,"creation_date":1675734383,"question_id":75368243,"body_markdown":"I am currently creating a RestApi project in SpringBoot.\r\nWe would like to add a program to this project that can be run from the command line.\r\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\n\r\n```\r\n@Component\r\npublic class DemoComponent implements CommandLineRunner{\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I start springBoot, &quot;Hello&quot; is output to the console.\r\n[enter image description here](https://i.stack.imgur.com/u1r7C.png)\r\n\r\nWhat I would like is to run this process from the command line.\r\nPlease let me know.\r\n\r\n\r\n","title":"SpringBoot RestAPI and CommandLine","body":"<p>I am currently creating a RestApi project in SpringBoot.\nWe would like to add a program to this project that can be run from the command line.\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<pre><code>@Component\npublic class DemoComponent implements CommandLineRunner{\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        System.out.println(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p>When I start springBoot, &quot;Hello&quot; is output to the console.\n<a href=\"https://i.stack.imgur.com/u1r7C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What I would like is to run this process from the command line.\nPlease let me know.</p>\n"},{"tags":["java","loops","for-loop","permutation"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953771,"post_id":75400151,"comment_id":133041957,"body_markdown":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?","body":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675954030,"post_id":75400151,"comment_id":133042062,"body_markdown":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?","body":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675954490,"post_id":75400151,"comment_id":133042243,"body_markdown":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - `public String[] getAlleles() { return new String[] {field1, field2}; }`","body":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - <code>public String[] getAlleles() { return new String[] {field1, field2}; }</code>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956312,"post_id":75400151,"comment_id":133042901,"body_markdown":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?","body":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675956345,"post_id":75400151,"comment_id":133042909,"body_markdown":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? *(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a `Creature` would have a `List&lt;Allele&gt;`, which in this case might just be `List&lt;String&gt;`, but the idea is the same.)*","body":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? <i>(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a <code>Creature</code> would have a <code>List&lt;Allele&gt;</code>, which in this case might just be <code>List&lt;String&gt;</code>, but the idea is the same.)</i>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956758,"post_id":75400151,"comment_id":133043054,"body_markdown":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information...","body":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information..."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675956802,"post_id":75400151,"comment_id":133043068,"body_markdown":"@este Just combine the resulting arrays into one. Or combine them into a `List` so you don&#39;t have to copy the contents manually.","body":"@este Just combine the resulting arrays into one. Or combine them into a <code>List</code> so you don&#39;t have to copy the contents manually."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675957053,"post_id":75400151,"comment_id":133043142,"body_markdown":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply.","body":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675957319,"post_id":75400151,"comment_id":133043235,"body_markdown":"@este When I ask if all implementations *(of `Creature`)* will have two alleles I&#39;m asking if each impl will have two alleles. *(Allele representation is unrelated to combining/permuting them.)* It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary.","body":"@este When I ask if all implementations <i>(of <code>Creature</code>)</i> will have two alleles I&#39;m asking if each impl will have two alleles. <i>(Allele representation is unrelated to combining/permuting them.)</i> It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675967731,"post_id":75400151,"comment_id":133046979,"body_markdown":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings.","body":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings."}],"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675962560,"creation_date":1675953415,"question_id":75400151,"body_markdown":"I&#39;m not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.\r\n\r\nThese are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)\r\n\r\n Creature Mom = new Creature(&quot;B,b&quot;);\r\n Creature Dad = new Creature(&quot;C,c&quot;);\r\n\r\nand I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.\r\n\r\ni know i need to use a delimiter or split somewhere to get those results, But I haven&#39;t really gotten to that point yet.\r\n\r\n\r\nI&#39;ve managed to create a punnett square with two arrays of strings that i loop through, as is seen here,\r\n\r\n    //accept user input\r\n       Scanner alleles = new Scanner(System.in);\r\n          System.out.println(&quot;enter first allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleTwo = alleles.nextLine(); \r\n          System.out.println(&quot;enter first allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleTwo = alleles.nextLine();\r\n       //close scanner\r\n       alleles.close();\r\n       //arrays for parents data\r\n       String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\r\n       String[] Father = {Dad.alleleOne, Dad.alleleTwo};\r\n       //display data\r\n       System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\r\n       System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\r\n       System.out.println(&quot;Possible children: &quot;);\r\n       // for loop to cycle through combinations\r\n       for (int i = 0; i &lt; Mother.length; i++) {\r\n          for (int j = 0; j &lt; Father.length; j++) {\r\n             System.out.println(Mother[i] + Father[j]);\r\n\r\n          }\r\n        }//end for\r\n\r\nBut i really think continuing with objects is my best bet here for continuing this project. I&#39;ve thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I&#39;m asking makes sense, I apologize if it doesn&#39;t. Thank you in advance.","title":"How would I loop through the parameters of two different objects in java, to show all possible combinations of said parameters?","body":"<p>I'm not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.</p>\n<p>These are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)</p>\n<p>Creature Mom = new Creature(&quot;B,b&quot;);\nCreature Dad = new Creature(&quot;C,c&quot;);</p>\n<p>and I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.</p>\n<p>i know i need to use a delimiter or split somewhere to get those results, But I haven't really gotten to that point yet.</p>\n<p>I've managed to create a punnett square with two arrays of strings that i loop through, as is seen here,</p>\n<pre><code>//accept user input\n   Scanner alleles = new Scanner(System.in);\n      System.out.println(&quot;enter first allele in mother's allele pair: &quot;);\n      Mom.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in mother's allele pair: &quot;);\n      Mom.alleleTwo = alleles.nextLine(); \n      System.out.println(&quot;enter first allele in father's allele pair: &quot;);\n      Dad.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in father's allele pair: &quot;);\n      Dad.alleleTwo = alleles.nextLine();\n   //close scanner\n   alleles.close();\n   //arrays for parents data\n   String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\n   String[] Father = {Dad.alleleOne, Dad.alleleTwo};\n   //display data\n   System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\n   System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\n   System.out.println(&quot;Possible children: &quot;);\n   // for loop to cycle through combinations\n   for (int i = 0; i &lt; Mother.length; i++) {\n      for (int j = 0; j &lt; Father.length; j++) {\n         System.out.println(Mother[i] + Father[j]);\n\n      }\n    }//end for\n</code></pre>\n<p>But i really think continuing with objects is my best bet here for continuing this project. I've thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I'm asking makes sense, I apologize if it doesn't. Thank you in advance.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14557518,"reputation":755,"user_id":10514633,"display_name":"Robin"},"score":0,"creation_date":1675961094,"post_id":75401775,"comment_id":133044774,"body_markdown":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)","body":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)"}],"answers":[{"comments":[{"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"score":0,"creation_date":1675962163,"post_id":75401929,"comment_id":133045154,"body_markdown":"Have you tried to disconnect the phone and try again the steps above?","body":"Have you tried to disconnect the phone and try again the steps above?"}],"tags":[],"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675961702,"creation_date":1675961702,"answer_id":75401929,"question_id":75401775,"body_markdown":"**First**:\r\nI recommend disabling and enabling USB debugging again\r\n\r\n**Second**:\r\nTry to revoke USB Debugging authorizations\r\n\r\n**Third**:\r\nIf the problem still persists, Try to play with those options [FIRST, SECOND]","title":"Android doesn&#39;t show on Android Studio","body":"<p><strong>First</strong>:\nI recommend disabling and enabling USB debugging again</p>\n<p><strong>Second</strong>:\nTry to revoke USB Debugging authorizations</p>\n<p><strong>Third</strong>:\nIf the problem still persists, Try to play with those options [FIRST, SECOND]</p>\n"}],"owner":{"account_id":23598172,"reputation":3,"user_id":17635046,"display_name":"John Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75401929,"answer_count":1,"score":0,"last_activity_date":1675961702,"creation_date":1675960975,"question_id":75401775,"body_markdown":"So I&#39;ve been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn&#39;t showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don&#39;t know what could cause this problem, it worked before why not again?\r\n\r\nI checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn&#39;t helpful.","title":"Android doesn&#39;t show on Android Studio","body":"<p>So I've been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn't showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don't know what could cause this problem, it worked before why not again?</p>\n<p>I checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn't helpful.</p>\n"},{"tags":["java","switch-statement","switch-expression"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1675933668,"post_id":75396340,"comment_id":133035420,"body_markdown":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned","body":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1675934078,"post_id":75396340,"comment_id":133035540,"body_markdown":"what about using default, ex `default -&gt; Map.of();`","body":"what about using default, ex <code>default -&gt; Map.of();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1675934121,"post_id":75396340,"comment_id":133035555,"body_markdown":"first one is a *switch expression* ([15.28. switch Expressions](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28)), second a *switch statement* ([14.11. The switch Statement](https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11)), and more [explicitly](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B): &quot;*If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,*&quot;","body":"first one is a <i>switch expression</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">15.28. switch Expressions</a>), second a <i>switch statement</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">14.11. The switch Statement</a>), and more <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B\" rel=\"nofollow noreferrer\">explicitly</a>: &quot;<i>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1675934444,"post_id":75396340,"comment_id":133035652,"body_markdown":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )","body":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )"}],"answers":[{"comments":[{"owner":{"account_id":263193,"reputation":4084,"user_id":548601,"accept_rate":84,"display_name":"andriy"},"score":0,"creation_date":1675935119,"post_id":75396557,"comment_id":133035874,"body_markdown":"thank you! I just not 100% agree with `A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.`. That is what I basically want. When I add a new type to the enum, I&#39;d like to compiler warn me that I have to update the switch where this enum is used.","body":"thank you! I just not 100% agree with <code>A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.</code>. That is what I basically want. When I add a new type to the enum, I&#39;d like to compiler warn me that I have to update the switch where this enum is used."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675934837,"creation_date":1675934756,"answer_id":75396557,"question_id":75396340,"body_markdown":"When you use a `switch` as part of a `return`, it is a *switch expression*. But if you just put the `switch` randomly in the middle of a method, it is parsed as a *switch statement*. These have different rules. Importantly, *switch expressions* need to be exhaustive.\r\n\r\nFrom the [Java Language Specification][1]:\r\n\r\n&gt;  If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.\r\n&gt;\r\n&gt; If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.\r\n\r\nOn the other hand, [switch statements][2] do not have this restriction.\r\n\r\nIntuitively, *expressions* have to evaluate to a value, but statements don&#39;t have to. Therefore, switch expressions have to cover all cases. If they don&#39;t, then there will be situations where it can&#39;t evaluate to anything.\r\n\r\nIn the [preview specifications][3] of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.\r\n\r\n&gt; The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]\r\n\r\nAnd [later][4], \r\n\r\n&gt; A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>When you use a <code>switch</code> as part of a <code>return</code>, it is a <em>switch expression</em>. But if you just put the <code>switch</code> randomly in the middle of a method, it is parsed as a <em>switch statement</em>. These have different rules. Importantly, <em>switch expressions</em> need to be exhaustive.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\" rel=\"noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<p>If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.</p>\n<p>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.</p>\n</blockquote>\n<p>On the other hand, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\" rel=\"noreferrer\">switch statements</a> do not have this restriction.</p>\n<p>Intuitively, <em>expressions</em> have to evaluate to a value, but statements don't have to. Therefore, switch expressions have to cover all cases. If they don't, then there will be situations where it can't evaluate to anything.</p>\n<p>In the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\" rel=\"noreferrer\">preview specifications</a> of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.</p>\n<blockquote>\n<p>The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1\" rel=\"noreferrer\">later</a>,</p>\n<blockquote>\n<p>A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.</p>\n</blockquote>\n"}],"owner":{"account_id":263193,"reputation":4084,"user_id":548601,"accept_rate":84,"display_name":"andriy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2207,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":75396557,"answer_count":1,"score":5,"last_activity_date":1675961151,"creation_date":1675933518,"question_id":75396340,"body_markdown":"I&#39;m developing with java 17 in IntelliJ 2022.2.\r\n\r\nIn some cases `&#39;switch&#39; expression does not cover all possible input values` is shown, but in some not. I&#39;d like to figure out why. \r\n\r\nLet&#39;s assume that `entityType` is an enum with 3 values and I&#39;m adding 4th one `TYPE_D`. So  I expect to see `&#39;switch&#39; expression does not cover all possible input values` errors where I use this enum in `switch`.\r\n\r\nWhen it is shown:\r\n```java\r\npublic Map&lt;String, String&gt; getRecordDetails() {\r\n    return switch (entityType) {\r\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\r\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\r\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\r\n    };\r\n}\r\n```\r\n\r\nnot shown:\r\n```java\r\npublic String getRecordDetails() {\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    switch (entityType) {\r\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\r\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\r\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\r\n    };\r\n    return stringBuilder.toString(); \r\n}\r\n```\r\n\r\nI see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function&#39;s code? ","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>I'm developing with java 17 in IntelliJ 2022.2.</p>\n<p>In some cases <code>'switch' expression does not cover all possible input values</code> is shown, but in some not. I'd like to figure out why.</p>\n<p>Let's assume that <code>entityType</code> is an enum with 3 values and I'm adding 4th one <code>TYPE_D</code>. So  I expect to see <code>'switch' expression does not cover all possible input values</code> errors where I use this enum in <code>switch</code>.</p>\n<p>When it is shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, String&gt; getRecordDetails() {\n    return switch (entityType) {\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\n    };\n}\n</code></pre>\n<p>not shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getRecordDetails() {\n    StringBuilder stringBuilder = new StringBuilder();\n    switch (entityType) {\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\n    };\n    return stringBuilder.toString(); \n}\n</code></pre>\n<p>I see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function's code?</p>\n"},{"tags":["java","json","loops","bson"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675961437,"post_id":75398824,"comment_id":133044890,"body_markdown":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all.","body":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675961001,"creation_date":1675946866,"question_id":75398824,"body_markdown":"I have a BasicBSONList which contains multiple BSON objects like\r\n\r\n\r\n```\r\n[{\r\n\t&quot;serverName&quot;: &quot;myServer&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group1&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer2&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group2&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group3&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer4&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group4&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group5&quot;\r\n},{\r\n\t&quot;serverName&quot;: &quot;myServer5&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group5&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}]\r\n```\r\n\r\n\r\nAnd have a bson object from this list that failed to execute like\r\n\r\n```\r\n{\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}\r\n```\r\n\r\nSo as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.\r\n\r\nNow I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.","title":"Find all child json/bson node from parent json/bson node","body":"<p>I have a BasicBSONList which contains multiple BSON objects like</p>\n<pre><code>[{\n    &quot;serverName&quot;: &quot;myServer&quot;,\n    &quot;serverGroupName&quot;: &quot;group1&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer2&quot;,\n    &quot;serverGroupName&quot;: &quot;group2&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group3&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer4&quot;,\n    &quot;serverGroupName&quot;: &quot;group4&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group5&quot;\n},{\n    &quot;serverName&quot;: &quot;myServer5&quot;,\n    &quot;serverGroupName&quot;: &quot;group5&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}]\n</code></pre>\n<p>And have a bson object from this list that failed to execute like</p>\n<pre><code>{\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}\n</code></pre>\n<p>So as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.</p>\n<p>Now I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1585228613,"post_id":60867780,"comment_id":107691720,"body_markdown":"You need a repository per entity.","body":"You need a repository per entity."}],"answers":[{"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1585229003,"creation_date":1585229003,"answer_id":60868283,"question_id":60867780,"body_markdown":"According to Spring Data documentation you should have one repository for each entity  \r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\r\n\r\nIn your case the only way to do your job is with Spring Data JPA:  \r\n\r\n    public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n\r\n       public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    }\r\n\r\n    public interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\r\n\r\n       public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>According to Spring Data documentation you should have one repository for each entity  </p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition</a></p>\n\n<p>In your case the only way to do your job is with Spring Data JPA:  </p>\n\n<pre><code>public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\n\n   public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n}\n\npublic interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\n\n   public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60868283,"answer_count":1,"score":4,"last_activity_date":1675960957,"creation_date":1585227380,"question_id":60867780,"body_markdown":"I am not so into **Spring Data JPA** and I have the following problem working on a **Spring Boot** project. \r\n\r\nI have the following architectural doubt about how to correctly handle this kind of situation:\r\n\r\nI have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:\r\n\r\n    public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n    \t\r\n    \tpublic List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    \r\n    \tpublic List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }\r\n\r\nAs you can see I am extending the **CrudRepository** interface and I specified a single model class named **Country** mapping a specific table on my database.\r\n\r\nI added a second method working on another entity class (**BlockAttackDetail**) mapping a different database table.\r\n\r\nSo starting my application I obtain this error because this repository is intended only for the database table mapped by the **Country** entity class:\r\n\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\r\n\r\nMy problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?\r\n\r\nIn my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).\r\n\r\nCan I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class? \r\n\r\n\r\n","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>I am not so into <strong>Spring Data JPA</strong> and I have the following problem working on a <strong>Spring Boot</strong> project.</p>\n<p>I have the following architectural doubt about how to correctly handle this kind of situation:</p>\n<p>I have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:</p>\n<pre><code>public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\n    \n    public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n\n    public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n<p>As you can see I am extending the <strong>CrudRepository</strong> interface and I specified a single model class named <strong>Country</strong> mapping a specific table on my database.</p>\n<p>I added a second method working on another entity class (<strong>BlockAttackDetail</strong>) mapping a different database table.</p>\n<p>So starting my application I obtain this error because this repository is intended only for the database table mapped by the <strong>Country</strong> entity class:</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\n</code></pre>\n<p>My problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?</p>\n<p>In my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).</p>\n<p>Can I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class?</p>\n"},{"tags":["java","javafx","tableview","itext7","classcastexception"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675950135,"post_id":75399136,"comment_id":133040489,"body_markdown":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?","body":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?"},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950553,"post_id":75399136,"comment_id":133040673,"body_markdown":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do.","body":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950745,"post_id":75399136,"comment_id":133040744,"body_markdown":"@DaveNewton And yes pdf file is still invalid not showing any content.","body":"@DaveNewton And yes pdf file is still invalid not showing any content."},{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":0,"creation_date":1675950849,"post_id":75399136,"comment_id":133040787,"body_markdown":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually).","body":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952111,"post_id":75399136,"comment_id":133041305,"body_markdown":"Obviously, `item`, which you get from iterating through `tableName.getItems()` is not an `int`. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you.","body":"Obviously, <code>item</code>, which you get from iterating through <code>tableName.getItems()</code> is not an <code>int</code>. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675952410,"post_id":75399136,"comment_id":133041434,"body_markdown":"@James_D I want to print the TableView as a pdf document containing all the data in the table","body":"@James_D I want to print the TableView as a pdf document containing all the data in the table"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952588,"post_id":75399136,"comment_id":133041499,"body_markdown":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a [mre] and [edit] your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example.","body":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/posts/75399136/edit\">edit</a> your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675953599,"post_id":75399136,"comment_id":133041880,"body_markdown":"If you use proper types for your `TableView`, instead of wildcards, and properly type `item`, instead of using `Object`, then you should be able to call [`column.getCellData(item)`](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)) directly.","body":"If you use proper types for your <code>TableView</code>, instead of wildcards, and properly type <code>item</code>, instead of using <code>Object</code>, then you should be able to call <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)\" rel=\"nofollow noreferrer\"><code>column.getCellData(item)</code></a> directly."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953652,"post_id":75399136,"comment_id":133041903,"body_markdown":"“How it went” isn’t related, and it’s very distracting. Questions should include only **relevant** information.","body":"“How it went” isn’t related, and it’s very distracting. Questions should include only <b>relevant</b> information."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675953893,"post_id":75399136,"comment_id":133042005,"body_markdown":"@DaveNewton Accept my apologies dear.","body":"@DaveNewton Accept my apologies dear."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675954026,"post_id":75399136,"comment_id":133042060,"body_markdown":"@James_D Will you please elaborate on it a little?","body":"@James_D Will you please elaborate on it a little?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675955742,"post_id":75399136,"comment_id":133042688,"body_markdown":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for `item`, and consequently call the method I linked. That&#39;s all there is to it.","body":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for <code>item</code>, and consequently call the method I linked. That&#39;s all there is to it."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675957454,"post_id":75399136,"comment_id":133043274,"body_markdown":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n\t\t                \n\t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) {\n\t\t     \t\n\t\t                    pdfTable.addCell(column.getCellData(i).toString());\n\t\t                }}                                                                                                                  this  is the code that is causing a null exception","body":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) { \t\t                 \t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) { \t\t     \t \t\t                    pdfTable.addCell(column.getCellData(i).toString()); \t\t                }}                                                                                                                  this  is the code that is causing a null exception"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675958106,"post_id":75399136,"comment_id":133043546,"body_markdown":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post *that* project in the question.","body":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post <i>that</i> project in the question."}],"answers":[{"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675951817,"post_id":75399640,"comment_id":133041180,"body_markdown":"pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString()); It didn&#39;t help. And I am trying to print all the items in Table not index, But Code Editor suggested me to cast item to int.","body":"pdfTable.addCell(column.getCellData(TableName.getItems().ind&zwnj;&#8203;exOf(item)).toString&zwnj;&#8203;()); It didn&#39;t help. And I am trying to print all the items in Table not index, But Code Editor suggested me to cast item to int."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675952276,"post_id":75399640,"comment_id":133041376,"body_markdown":"when placing this code &#39;pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());&#39; it is giving NullPointerException &#39;java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javafx.scene.control.TableColumn.getCellData(int)&quot; is null\n\tat application.ClassName(controller).DownloadMethod(ClassName(controller).java:254)&#39;","body":"when placing this code &#39;pdfTable.addCell(column.getCellData(TableName.getItems().in&zwnj;&#8203;dexOf(item)).toStrin&zwnj;&#8203;g());&#39; it is giving NullPointerException &#39;java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javafx.scene.control.TableColumn.getCellData(int)&quot; is null \tat application.ClassName(controller).DownloadMethod(ClassName(c&zwnj;&#8203;ontroller).java:254)&zwnj;&#8203;&#39;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1675952704,"post_id":75399640,"comment_id":133041541,"body_markdown":"@SarmadAli So why do you say &quot;It didn&#39;t help&quot;? It clearly did help, because the error you were originally getting went away. The fact that you got a different error means something else is also wrong in your code.","body":"@SarmadAli So why do you say &quot;It didn&#39;t help&quot;? It clearly did help, because the error you were originally getting went away. The fact that you got a different error means something else is also wrong in your code."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675953020,"post_id":75399640,"comment_id":133041668,"body_markdown":"@James_D well, yes it helped indeed :)","body":"@James_D well, yes it helped indeed :)"}],"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675951004,"creation_date":1675951004,"answer_id":75399640,"question_id":75399136,"body_markdown":"    Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n    java.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n        at application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\r\n  \r\n\r\nAs this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method `TableView#getItems` returns an iterable object of type `ObservableList&lt;S&gt;`. \r\n\r\nYou need to fix the following line at the minimum:\r\n`pdfTable.addCell(column.getCellData((int) item).toString());`\r\n\r\nIt looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:\r\n\r\n`pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());`","title":"JavaFX ClassCastException using iText PDF","body":"<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n</code></pre>\n<p>As this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method <code>TableView#getItems</code> returns an iterable object of type <code>ObservableList&lt;S&gt;</code>.</p>\n<p>You need to fix the following line at the minimum:\n<code>pdfTable.addCell(column.getCellData((int) item).toString());</code></p>\n<p>It looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:</p>\n<p><code>pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());</code></p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675961874,"post_id":75401700,"comment_id":133045044,"body_markdown":"java naming conventions .. now please ..","body":"java naming conventions .. now please .."}],"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675960617,"creation_date":1675960617,"answer_id":75401700,"question_id":75399136,"body_markdown":"Thanks to all! \r\nSpecial Thanks to @James_D \r\n\r\nThis is the code that is printing the pdf correctly.\r\n\r\n    @FXML\r\n\t public void DownloadButtonMethod(ActionEvent event) {\r\n\t\t \r\n\t\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t\t    File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t\t    if (selectedDirectory == null) {\r\n\t\t        return;\r\n\t\t    }\r\n\t\t    \r\n\t\t    \r\n\t\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t\t    \r\n\t\t    if (result.isPresent()) {\r\n\t\t        try {\r\n\t\t            String fileName = result.get();\r\n\t\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t\t            }\r\n\t\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t\t            OutputStream file = new FileOutputStream(filePath);\r\n\t\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t\t            Document document = new Document(pdfDoc);\r\n\t\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t                pdfTable.addCell(column.getText());\r\n\t\t            }\r\n\t\t            \r\n\t\t            }catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E1: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t            \r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            \tfor (int i = 0; i &lt; TableName.getItems().size(); i++) {\r\n\t\t            \t    for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t            \t        try {\r\n\t\t            \t            pdfTable.addCell(column.getCellData(i).toString());\r\n\t\t            \t        } catch (NullPointerException e) {\r\n\t\t            \t            pdfTable.addCell(&quot;&quot;);\r\n\t\t            \t        }\r\n\t\t            \t    }\r\n\t\t            \t}\r\n\t\t            \t\r\n\t\t            } catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E2: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t\r\n\t\t            document.add(pdfTable);\r\n\t\t            document.close();\r\n\t\t        } catch (Exception e) {\r\n\t\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t\t            e.printStackTrace();\r\n\t\t        }\r\n\t\t    }\r\n\t    }\r\n\r\n\r\nWe have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn&#39;t throw a NullPointerException. \r\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\r\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.\r\n \r\nThanks Again :)\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>Thanks to all!\nSpecial Thanks to @James_D</p>\n<p>This is the code that is printing the pdf correctly.</p>\n<pre><code>@FXML\n public void DownloadButtonMethod(ActionEvent event) {\n     \n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\n        if (selectedDirectory == null) {\n            return;\n        }\n        \n        \n        TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n        dialog.setTitle(&quot;Enter File Name&quot;);\n        dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n        dialog.setContentText(&quot;File name:&quot;);\n        Optional&lt;String&gt; result = dialog.showAndWait();\n        \n        if (result.isPresent()) {\n            try {\n                String fileName = result.get();\n                if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                    fileName = fileName + &quot;.pdf&quot;;\n                }\n                String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n                OutputStream file = new FileOutputStream(filePath);\n                PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n                Document document = new Document(pdfDoc);\n                Table pdfTable = new Table(TableName.getColumns().size());\n                \n                try {\n                    \n                for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                    pdfTable.addCell(column.getText());\n                }\n                \n                }catch(Exception e) {\n                    System.out.println(&quot;E1: &quot;+e);\n                    e.printStackTrace();\n                }\n                \n                \n                try {\n                    \n                    for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n                        for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                            try {\n                                pdfTable.addCell(column.getCellData(i).toString());\n                            } catch (NullPointerException e) {\n                                pdfTable.addCell(&quot;&quot;);\n                            }\n                        }\n                    }\n                    \n                } catch(Exception e) {\n                    System.out.println(&quot;E2: &quot;+e);\n                    e.printStackTrace();\n                }\n    \n                document.add(pdfTable);\n                document.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>We have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn't throw a NullPointerException.\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.</p>\n<p>Thanks Again :)</p>\n"}],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675960617,"creation_date":1675948505,"question_id":75399136,"body_markdown":"I am trying to download a `TableView` in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the `TableView`, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.\r\n\r\n&gt;Error Failed to load PDF document.\r\n\r\nFirst, it was giving an exception for slf4j; then I added these jar files in classpath:\r\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\r\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.\r\n\r\nI saw a similar question here \r\nhttps://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem.\r\n\r\nAnswer of this question is: \r\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j\r\n\r\nIt works now after adding the above 3 jars.\r\n\r\nThese are all the files at org/slf4j\r\nintegration/                                                     -         -      \r\njcl-over-slf4j/                                                  -         -      \r\njcl104-over-slf4j/                                               -         -      \r\njul-to-slf4j/                                                    -         -      \r\nlog4j-over-slf4j/                                                -         -      \r\nnlog4j/                                                          -         -      \r\nosgi-over-slf4j/                                                 -         -      \r\nslf4j-android/                                                   -         -      \r\nslf4j-api/                                                       -         -      \r\nslf4j-archetype/                                                 -         -      \r\nslf4j-converter/                                                 -         -      \r\nslf4j-ext/                                                       -         -      \r\nslf4j-jcl/                                                       -         -      \r\nslf4j-jdk-platform-logging/                                      -         -      \r\nslf4j-jdk14/                                                     -         -      \r\nslf4j-log4j12/                                                   -         -      \r\nslf4j-log4j13/                                                   -         -      \r\nslf4j-migrator/                                                  -         -      \r\nslf4j-nop/                                                       -         -      \r\nslf4j-parent/                                                    -         -      \r\nslf4j-reload4j/                                                  -         -      \r\nslf4j-simple/                                                    -         -      \r\nslf4j-site/                                                      -         -      \r\nslf4j-skin/                                                      -         -      \r\ntaglib/                                                          -         -      \r\n\r\n\r\nlog4j-over-slf4j/  ---&gt; is it the file \tlog4j that is mentioned in reference answer to the question.\r\n\r\nI am unable to get  slf4j-log4j12.\r\n\r\nbecause org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this\r\n\r\nslf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873      \r\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317      \r\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32      \r\nslf4j-log4j12-2.0.6.pom.sha1  \r\n\r\nHere is the code on download button:\r\n\r\n    @FXML\r\n\tpublic void ButtonDownload(ActionEvent event) {\r\n\t\t \r\n\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t    if (selectedDirectory == null) {\r\n\t        return;\r\n\t    }\r\n\t    \r\n\t    \r\n\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t    \r\n\t    if (result.isPresent()) {\r\n\t        try {\r\n\t            String fileName = result.get();\r\n\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t            }\r\n\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t            OutputStream file = new FileOutputStream(filePath);\r\n\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t            Document document = new Document(pdfDoc);\r\n\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t            \r\n\t            \r\n\t            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                pdfTable.addCell(column.getText());\r\n\t            }\r\n\t            \r\n\t            for (Object item : TableName.getItems()) {\r\n\t            \t\r\n\t                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                /*this line is line:254*/\r\n\t                    pdfTable.addCell(column.getCellData((int) item).toString());\r\n\t                    \r\n\t                }\r\n\t            }\r\n\t            document.add(pdfTable);\r\n\t            document.close();\r\n\t        } catch (Exception e) {\r\n\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n    }\r\n\r\nThis is the StackTrace:\r\n\r\n```\r\nException while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n\r\nEDIT: 254 original code\r\n\r\n     pdfTable.addCell(column.getCellData(item).toString());\r\n\r\nbut then It asked to cast argument item to int like this \r\n\r\n     pdfTable.addCell(column.getCellData((int) item).toString());\r\n\r\nKindly help out to solve this.\r\n\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>I am trying to download a <code>TableView</code> in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the <code>TableView</code>, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.</p>\n<blockquote>\n<p>Error Failed to load PDF document.</p>\n</blockquote>\n<p>First, it was giving an exception for slf4j; then I added these jar files in classpath:\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.</p>\n<p>I saw a similar question here\n<a href=\"https://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem\">java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem</a>.</p>\n<p>Answer of this question is:\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j</p>\n<p>It works now after adding the above 3 jars.</p>\n<p>These are all the files at org/slf4j\nintegration/                                                     -         -<br />\njcl-over-slf4j/                                                  -         -<br />\njcl104-over-slf4j/                                               -         -<br />\njul-to-slf4j/                                                    -         -<br />\nlog4j-over-slf4j/                                                -         -<br />\nnlog4j/                                                          -         -<br />\nosgi-over-slf4j/                                                 -         -<br />\nslf4j-android/                                                   -         -<br />\nslf4j-api/                                                       -         -<br />\nslf4j-archetype/                                                 -         -<br />\nslf4j-converter/                                                 -         -<br />\nslf4j-ext/                                                       -         -<br />\nslf4j-jcl/                                                       -         -<br />\nslf4j-jdk-platform-logging/                                      -         -<br />\nslf4j-jdk14/                                                     -         -<br />\nslf4j-log4j12/                                                   -         -<br />\nslf4j-log4j13/                                                   -         -<br />\nslf4j-migrator/                                                  -         -<br />\nslf4j-nop/                                                       -         -<br />\nslf4j-parent/                                                    -         -<br />\nslf4j-reload4j/                                                  -         -<br />\nslf4j-simple/                                                    -         -<br />\nslf4j-site/                                                      -         -<br />\nslf4j-skin/                                                      -         -<br />\ntaglib/                                                          -         -</p>\n<p>log4j-over-slf4j/  ---&gt; is it the file  log4j that is mentioned in reference answer to the question.</p>\n<p>I am unable to get  slf4j-log4j12.</p>\n<p>because org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this</p>\n<p>slf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873<br />\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317<br />\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32<br />\nslf4j-log4j12-2.0.6.pom.sha1</p>\n<p>Here is the code on download button:</p>\n<pre><code>@FXML\npublic void ButtonDownload(ActionEvent event) {\n     \n    DirectoryChooser directoryChooser = new DirectoryChooser();\n    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\n    if (selectedDirectory == null) {\n        return;\n    }\n    \n    \n    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n    dialog.setTitle(&quot;Enter File Name&quot;);\n    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n    dialog.setContentText(&quot;File name:&quot;);\n    Optional&lt;String&gt; result = dialog.showAndWait();\n    \n    if (result.isPresent()) {\n        try {\n            String fileName = result.get();\n            if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                fileName = fileName + &quot;.pdf&quot;;\n            }\n            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n            OutputStream file = new FileOutputStream(filePath);\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n            Document document = new Document(pdfDoc);\n            Table pdfTable = new Table(TableName.getColumns().size());\n            \n            \n            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                pdfTable.addCell(column.getText());\n            }\n            \n            for (Object item : TableName.getItems()) {\n                \n                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                /*this line is line:254*/\n                    pdfTable.addCell(column.getCellData((int) item).toString());\n                    \n                }\n            }\n            document.add(pdfTable);\n            document.close();\n        } catch (Exception e) {\n            System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the StackTrace:</p>\n<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>EDIT: 254 original code</p>\n<pre><code> pdfTable.addCell(column.getCellData(item).toString());\n</code></pre>\n<p>but then It asked to cast argument item to int like this</p>\n<pre><code> pdfTable.addCell(column.getCellData((int) item).toString());\n</code></pre>\n<p>Kindly help out to solve this.</p>\n"},{"tags":["java","spring-boot","docker","integration-testing","apple-m1"],"comments":[{"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"score":0,"creation_date":1632070767,"post_id":69244638,"comment_id":122388685,"body_markdown":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well.","body":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well."},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632072139,"post_id":69244638,"comment_id":122389006,"body_markdown":"please add `docker logs` for the DB container and the application container","body":"please add <code>docker logs</code> for the DB container and the application container"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632082558,"post_id":69244638,"comment_id":122391394,"body_markdown":"@ChinthakaDinadasa I can not because we use SQL in the production environment","body":"@ChinthakaDinadasa I can not because we use SQL in the production environment"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632083722,"post_id":69244638,"comment_id":122391628,"body_markdown":"@NoamYizraeli . Here it is [logs](https://pastebin.com/bLcxWXpP) . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of **com.docker.backend.log**","body":"@NoamYizraeli . Here it is <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a> . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of <b>com.docker.backend.log</b>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632083958,"post_id":69244638,"comment_id":122391677,"body_markdown":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?","body":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632160003,"post_id":69244638,"comment_id":122413246,"body_markdown":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .`&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed\norg.testcontainers.containers.ContainerLaunchException: Container startup failed`","body":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .<code>&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes&#47;0 bytes) 2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed org.testcontainers.containers.ContainerLaunchException: Container startup failed</code>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632168283,"post_id":69244638,"comment_id":122415970,"body_markdown":"Can you pull other images like `ubuntu` or `nginx`?","body":"Can you pull other images like <code>ubuntu</code> or <code>nginx</code>?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632172728,"post_id":69244638,"comment_id":122417234,"body_markdown":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image","body":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image"}],"answers":[{"comments":[{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":1,"creation_date":1676301438,"post_id":75401698,"comment_id":133104658,"body_markdown":"The have fixed M1 issue in the new releases if you the test containers fails to run on M1 . you  just need to migrate for testContiner new release","body":"The have fixed M1 issue in the new releases if you the test containers fails to run on M1 . you  just need to migrate for testContiner new release"}],"tags":[],"owner":{"account_id":213608,"reputation":1,"user_id":467089,"display_name":"SQLDBA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960610,"creation_date":1675960610,"answer_id":75401698,"question_id":69244638,"body_markdown":"I&#39;m the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>I'm the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out <a href=\"https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/</a></p>\n"}],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675960610,"creation_date":1632065169,"question_id":69244638,"body_markdown":"According to Docker official website , Docker doesn&#39;t support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; . \r\n\r\nActually , SQL docker is pulled successfully using  this command \r\n\r\n    docker pull --platform linux/x86_64 mysql\r\n\r\nthe output :\r\n\r\n    Using default tag: latest\r\n    latest: Pulling from library/mysql\r\n    a330b6cecb98: Pull complete \r\n    9c8f656c32b8: Pull complete \r\n    88e473c3f553: Pull complete \r\n    062463ea5d2f: Pull complete \r\n    daf7e3bdf4b6: Pull complete \r\n    1839c0b7aac9: Pull complete \r\n    cf0a0cfee6d0: Pull complete \r\n    1b42041bb11e: Pull complete \r\n    10459d86c7e6: Pull complete \r\n    b7199599d5f9: Pull complete \r\n    1d6f51e17d45: Pull complete \r\n    50e0789bacad: Pull complete \r\n    Digest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\r\n    Status: Downloaded newer image for mysql:latest\r\n    docker.io/library/mysql:late\r\n\r\n\r\nNow , I want to use SQL container in my integration test , but docker fails to pull SQL.\r\n\r\nThe code used to initialize SQL test container \r\n\r\n    @DynamicPropertySource\r\n    static void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\r\n                       .withDatabaseName(&quot;sympl&quot;)\r\n                .withUsername(&quot;test&quot;)\r\n                .withPassword(&quot;test&quot;)\r\n                .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\r\n        container.start();\r\n\r\n        }\r\n    \r\n      \r\nI tried to write the code `withCommand()` and without `.withCommand`.\r\n    After I run the test cases , it gives fails with the following logs : \r\n    \r\n    \r\n    \r\n        17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = &#39;{}&#39;, classes = &#39;{class com.sympl.customer.CustomersApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{test}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\r\n    17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.5.3)\r\n    \r\n    2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n    2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\r\n    2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\r\n    2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \r\n      Server Version: 20.10.8\r\n      API Version: 1.41\r\n      Operating System: Docker Desktop\r\n      Total Memory: 1988 MB\r\n    2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n    2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\r\n    2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\r\n    2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\r\n    2021-09-19 17:18:28.388  INFO 9715 --- [           main] &#128051; [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\r\n    2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Starting to pull image\r\n    2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\r\n    2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\r\n    \tat com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\nHere is the docker [logs](https://pastebin.com/bLcxWXpP)\r\n\r\nI am sure there is a workaround for this , but I couldn&#39;t find it till now .\r\n\r\n\r\n\r\n\r\n\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>According to Docker official website , Docker doesn't support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; .</p>\n<p>Actually , SQL docker is pulled successfully using  this command</p>\n<pre><code>docker pull --platform linux/x86_64 mysql\n</code></pre>\n<p>the output :</p>\n<pre><code>Using default tag: latest\nlatest: Pulling from library/mysql\na330b6cecb98: Pull complete \n9c8f656c32b8: Pull complete \n88e473c3f553: Pull complete \n062463ea5d2f: Pull complete \ndaf7e3bdf4b6: Pull complete \n1839c0b7aac9: Pull complete \ncf0a0cfee6d0: Pull complete \n1b42041bb11e: Pull complete \n10459d86c7e6: Pull complete \nb7199599d5f9: Pull complete \n1d6f51e17d45: Pull complete \n50e0789bacad: Pull complete \nDigest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\nStatus: Downloaded newer image for mysql:latest\ndocker.io/library/mysql:late\n</code></pre>\n<p>Now , I want to use SQL container in my integration test , but docker fails to pull SQL.</p>\n<p>The code used to initialize SQL test container</p>\n<pre><code>@DynamicPropertySource\nstatic void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\n    MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\n                   .withDatabaseName(&quot;sympl&quot;)\n            .withUsername(&quot;test&quot;)\n            .withPassword(&quot;test&quot;)\n            .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\n    dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\n    container.start();\n\n    }\n\n  \n</code></pre>\n<p>I tried to write the code <code>withCommand()</code> and without <code>.withCommand</code>.\nAfter I run the test cases , it gives fails with the following logs :</p>\n<pre><code>    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = '{}', classes = '{class com.sympl.customer.CustomersApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\n17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.3)\n\n2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\n2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\n2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\n2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \n  Server Version: 20.10.8\n  API Version: 1.41\n  Operating System: Docker Desktop\n  Total Memory: 1988 MB\n2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\n2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\n2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\n2021-09-19 17:18:28.388  INFO 9715 --- [           main] 🐳 [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\n2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Starting to pull image\n2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\n    at com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n</code></pre>\n<p>Here is the docker <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a></p>\n<p>I am sure there is a workaround for this , but I couldn't find it till now .</p>\n"},{"tags":["java","sql","oop"],"comments":[{"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"score":1,"creation_date":1675956484,"post_id":75400707,"comment_id":133042955,"body_markdown":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost.","body":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1675957231,"post_id":75400707,"comment_id":133043200,"body_markdown":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part.","body":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675957620,"post_id":75400707,"comment_id":133043329,"body_markdown":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead.","body":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1675957827,"post_id":75400707,"comment_id":133043415,"body_markdown":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead.","body":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1675958709,"post_id":75400707,"comment_id":133043795,"body_markdown":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have `.sql` files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there.","body":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have <code>.sql</code> files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":1,"creation_date":1675958960,"post_id":75400707,"comment_id":133043909,"body_markdown":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider.","body":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider."}],"answers":[{"tags":[],"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675960527,"creation_date":1675958197,"answer_id":75401177,"question_id":75400707,"body_markdown":"Reflect whether this isn&#39;t a design flaw on your inheritance model. If it isn&#39;t, well, stick with the solution that&#39;s less likely to introduce errors.\r\n\r\nWarnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.\r\n\r\nSee https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements for a similar question.","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>Reflect whether this isn't a design flaw on your inheritance model. If it isn't, well, stick with the solution that's less likely to introduce errors.</p>\n<p>Warnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements\">Variable column names using prepared statements</a> for a similar question.</p>\n"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675959268,"answer_count":1,"score":0,"last_activity_date":1675960527,"creation_date":1675956050,"question_id":75400707,"body_markdown":"I&#39;m in a situation where I have a parent class\r\n```java\r\nclass Parent&lt;T extends Entity&gt; {\r\n    ...\r\n    public List&lt;T&gt; selectSomething() {\r\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \r\n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\r\n         return query.getResultList();\r\n    }\r\n\r\n\r\n}\r\n```\r\n*(For sake of simplicity, there is only a method described but in practice there are more with the same format)*\r\n\r\nAnd many child classes : \r\n```java \r\nclass Child1 extends Parent&lt;EntityChild1&gt; { ... }\r\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\r\n...\r\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\r\n```\r\n\r\n\r\nMy issue is that this piece of code in the `Parent` is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.\r\n\r\nI precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it&#39;s detected as SQL injection, I do know it&#39;s not one.\r\n\r\nTo fix this, I can&#39;t just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can&#39;t use them for dynamic columns name or table name. \r\n\r\nI&#39;m considering two options : \r\n 1. Make the `selectSomething` method from the `Parent` abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. \\\r\nThis would work fine and fix the warning, but due to the high number of `Child` it makes the code much less maintainable and evolutive (especially considering that the number of `Child` class could increase over time).\r\n\r\n 2. Simply let it as is and use a `@SupressWarning` annotation in the `selectSomething` method from the `Parent` this make the tools like SonarQube ignore this. \\\r\nAgain, it&#39;s a solution that would work but which is not very clean and filling code with many `@SupressWarning` is a bad practice.\r\n\r\n\r\nIs there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ? ","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>I'm in a situation where I have a parent class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent&lt;T extends Entity&gt; {\n    ...\n    public List&lt;T&gt; selectSomething() {\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\n         return query.getResultList();\n    }\n\n\n}\n</code></pre>\n<p><em>(For sake of simplicity, there is only a method described but in practice there are more with the same format)</em></p>\n<p>And many child classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Child1 extends Parent&lt;EntityChild1&gt; { ... }\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\n...\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\n</code></pre>\n<p>My issue is that this piece of code in the <code>Parent</code> is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.</p>\n<p>I precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it's detected as SQL injection, I do know it's not one.</p>\n<p>To fix this, I can't just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can't use them for dynamic columns name or table name.</p>\n<p>I'm considering two options :</p>\n<ol>\n<li><p>Make the <code>selectSomething</code> method from the <code>Parent</code> abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. <br />\nThis would work fine and fix the warning, but due to the high number of <code>Child</code> it makes the code much less maintainable and evolutive (especially considering that the number of <code>Child</code> class could increase over time).</p>\n</li>\n<li><p>Simply let it as is and use a <code>@SupressWarning</code> annotation in the <code>selectSomething</code> method from the <code>Parent</code> this make the tools like SonarQube ignore this. <br />\nAgain, it's a solution that would work but which is not very clean and filling code with many <code>@SupressWarning</code> is a bad practice.</p>\n</li>\n</ol>\n<p>Is there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ?</p>\n"},{"tags":["java","spring-boot","gradle","compilation"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675937470,"post_id":75396291,"comment_id":133036637,"body_markdown":"`app/libs` is not the same as `libs`. Where is your `build.gradle` relative to the `app` directory?","body":"<code>app&#47;libs</code> is not the same as <code>libs</code>. Where is your <code>build.gradle</code> relative to the <code>app</code> directory?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945000,"post_id":75396291,"comment_id":133038933,"body_markdown":"@JoachimSauer It is present in the same hierarchy as the ```build.gradle``` file","body":"@JoachimSauer It is present in the same hierarchy as the <code>build.gradle</code> file"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945516,"post_id":75396291,"comment_id":133039072,"body_markdown":"I tried to change the `build.gradle` to `implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app/libs&#39;)` and I am able to access the `external-jar.jar` when I try to edit the code, but the compilation fails with the `ClassNotFoundException`.","body":"I tried to change the <code>build.gradle</code> to <code>implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app&#47;libs&#39;)</code> and I am able to access the <code>external-jar.jar</code> when I try to edit the code, but the compilation fails with the <code>ClassNotFoundException</code>."}],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960335,"creation_date":1675960335,"answer_id":75401636,"question_id":75396291,"body_markdown":"You can configure the `app/libs` directory as a [Gradle repository][1]: \r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;app/libs&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen declare the dependency like this: \r\n\r\n```\r\ndependencies {\r\n    implementation name: &#39;external-jar&#39;\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>You can configure the <code>app/libs</code> directory as a <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver\" rel=\"nofollow noreferrer\">Gradle repository</a>:</p>\n<pre><code>repositories {\n    mavenCentral()\n    flatDir {\n        dirs 'app/libs'\n    }\n}\n</code></pre>\n<p>Then declare the dependency like this:</p>\n<pre><code>dependencies {\n    implementation name: 'external-jar'\n}\n</code></pre>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675960335,"creation_date":1675933295,"question_id":75396291,"body_markdown":"I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:\r\n\r\n1. Created ```app/libs``` folder and placed my ```external-jar.jar``` file in it.\r\n2. In my ```build.gradle``` file I have added this line: ```implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)```\r\n\r\nI am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.\r\n\r\nAny input would help, thanks!\r\n\r\nJava: 11\r\nSpringboot: 2.7.9\r\nIDE: Intellij\r\nGradle: 6.8","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:</p>\n<ol>\n<li>Created <code>app/libs</code> folder and placed my <code>external-jar.jar</code> file in it.</li>\n<li>In my <code>build.gradle</code> file I have added this line: <code>implementation fileTree(include: ['*.jar'], dir: 'libs')</code></li>\n</ol>\n<p>I am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.</p>\n<p>Any input would help, thanks!</p>\n<p>Java: 11\nSpringboot: 2.7.9\nIDE: Intellij\nGradle: 6.8</p>\n"},{"tags":["java","debugging","intellij-idea","classpath"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675959556,"post_id":75401403,"comment_id":133044138,"body_markdown":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window.","body":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1675962843,"post_id":75401403,"comment_id":133045379,"body_markdown":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository","body":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675965667,"post_id":75401403,"comment_id":133046310,"body_markdown":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?","body":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?"}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675960169,"creation_date":1675959301,"question_id":75401403,"body_markdown":"Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.\r\n\r\nAfter doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.\r\n\r\nAfter quite some digging I found that IntelliJ builds the project before running the tests [as shown here](https://i.stack.imgur.com/G1mLx.png) and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that&#39;s where IntelliJ picks ups the classes but now it&#39;s picking up the classes that are the product of that build that happened because of that unit test run.\r\n\r\nTo give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child\r\n\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\r\n    storage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\r\n    \\gxcloudstorage-tests-2.10-SNAPSHOT.pom\r\n\r\n\r\nSo my question is, how can I go back? I would assume it&#180;s a Java thing because there is no way for the IDE to know which copy of the class gets loaded\r\n\r\nThe route to the parent folder of the project in maven local repository is `C:\\Users\\MyUsername\\.m2\\repository\\com` so I tried setting my classpath via CMD like this `set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com` but it did not work","title":"I built my project using IntelliJ and it changed my classpath, how can i go back?","body":"<p>Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.</p>\n<p>After doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.</p>\n<p>After quite some digging I found that IntelliJ builds the project before running the tests <a href=\"https://i.stack.imgur.com/G1mLx.png\" rel=\"nofollow noreferrer\">as shown here</a> and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that's where IntelliJ picks ups the classes but now it's picking up the classes that are the product of that build that happened because of that unit test run.</p>\n<p>To give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child</p>\n<pre><code>[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\nstorage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\n[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\n\\gxcloudstorage-tests-2.10-SNAPSHOT.pom\n</code></pre>\n<p>So my question is, how can I go back? I would assume it´s a Java thing because there is no way for the IDE to know which copy of the class gets loaded</p>\n<p>The route to the parent folder of the project in maven local repository is <code>C:\\Users\\MyUsername\\.m2\\repository\\com</code> so I tried setting my classpath via CMD like this <code>set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com</code> but it did not work</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud"],"owner":{"account_id":9923904,"reputation":11,"user_id":7346187,"display_name":"Aviel Avitan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959869,"creation_date":1675959869,"question_id":75401525,"body_markdown":"I have a Java project who is using spring security and spring cloud routing.\r\n\r\nas to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.\r\n\r\nThis is my application regular security:\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n\tprivate final IUserProxy userProxy;\r\n\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn details -&gt; {\r\n\t\t\tString[] userDetails = details.split(&quot;/&quot;);\r\n\t\t\tString serviceProvider = userDetails[0];\r\n\t\t\tString username = userDetails[1];\r\n\r\n\t\t\treturn userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\r\n\t\t};\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\t\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecretGenerator secretGenerator(){\r\n\t\treturn new DefaultSecretGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic QrGenerator qrGenerator(){\r\n\t\treturn new ZxingPngQrGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CodeVerifier codeVerifier(){\r\n\t\tCodeGenerator codeGenerator = new DefaultCodeGenerator();\r\n\t\tTimeProvider timeProvider = new SystemTimeProvider();\r\n\r\n\t\treturn new DefaultCodeVerifier(codeGenerator, timeProvider);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nand this is my security filter chain:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\t\r\n\tprivate final JwtAuthenticationFilter authenticationFilter;\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests()\r\n\t\t.requestMatchers(&quot;/mng164/auth/**&quot;)\r\n\t\t.permitAll()\r\n\t\t.anyRequest()\r\n\t\t.authenticated()\r\n\t\t.and()\r\n\t\t.sessionManagement()\r\n\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.authenticationProvider(authenticationProvider)\r\n\t\t.addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nfurthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?\r\n\r\nI tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security","title":"Integrating from Spring security to Spring reactive security","body":"<p>I have a Java project who is using spring security and spring cloud routing.</p>\n<p>as to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.</p>\n<p>This is my application regular security:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final IUserProxy userProxy;\n\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return details -&gt; {\n            String[] userDetails = details.split(&quot;/&quot;);\n            String serviceProvider = userDetails[0];\n            String username = userDetails[1];\n\n            return userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\n        };\n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        \n        return authenticationProvider;\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecretGenerator secretGenerator(){\n        return new DefaultSecretGenerator();\n    }\n\n    @Bean\n    public QrGenerator qrGenerator(){\n        return new ZxingPngQrGenerator();\n    }\n\n    @Bean\n    public CodeVerifier codeVerifier(){\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\n        TimeProvider timeProvider = new SystemTimeProvider();\n\n        return new DefaultCodeVerifier(codeGenerator, timeProvider);\n    }\n}\n</code></pre>\n<p>and this is my security filter chain:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n    \n    private final JwtAuthenticationFilter authenticationFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/mng164/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        \n        return http.build();\n    }\n\n}\n</code></pre>\n<p>furthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?</p>\n<p>I tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675923991,"post_id":75394666,"comment_id":133033110,"body_markdown":"Please show the full error output... how you write/save your entity...","body":"Please show the full error output... how you write/save your entity..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675931529,"post_id":75394666,"comment_id":133034797,"body_markdown":"Which `@Id` are you using... It shold be from the `javax.persistence` or `jakarta.persistence` (depending on the JPA version in use) and not the `org.springframework.data.Id` one...","body":"Which <code>@Id</code> are you using... It shold be from the <code>javax.persistence</code> or <code>jakarta.persistence</code> (depending on the JPA version in use) and not the <code>org.springframework.data.Id</code> one..."}],"answers":[{"comments":[{"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"score":0,"creation_date":1675923272,"post_id":75394717,"comment_id":133032985,"body_markdown":"yeah I have already did that","body":"yeah I have already did that"}],"tags":[],"owner":{"account_id":25246919,"reputation":1,"user_id":19080043,"display_name":"Naveen-125-code"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675922075,"creation_date":1675921927,"answer_id":75394717,"question_id":75394666,"body_markdown":"Make sure you add your entity class  in repository interface\r\neg:\r\n\r\n    public interface Repository extends JpaRepository&lt;Product,Long&gt;{\r\n    }\r\n\r\nand in entity\r\nchange `private int year` \r\nto \r\n\r\n    private Integer year\r\n\r\n","title":"Entity did not have primary key","body":"<p>Make sure you add your entity class  in repository interface\neg:</p>\n<pre><code>public interface Repository extends JpaRepository&lt;Product,Long&gt;{\n}\n</code></pre>\n<p>and in entity\nchange <code>private int year</code>\nto</p>\n<pre><code>private Integer year\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959844,"creation_date":1675959844,"answer_id":75401518,"question_id":75394666,"body_markdown":"Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use ```javax.persistence``` but IJ auto complete it to a ```org.springframework.data.id```","title":"Entity did not have primary key","body":"<p>Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use <code>javax.persistence</code> but IJ auto complete it to a <code>org.springframework.data.id</code></p>\n"}],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675959844,"creation_date":1675921470,"question_id":75394666,"body_markdown":"```\r\n\r\n@Entity\r\n\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String productName;\r\n    private int year;\r\n    private Double price;\r\n    private String url;\r\n\r\n    public  Product() { }\r\n     public Product(String productName, int year, Double price, String url) {\r\n         this.productName = productName;\r\n         this.year = year;\r\n         this.price = price;\r\n         this.url = url;\r\n     }\r\n}\r\n```\r\nI have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn&#39;t have any Id.","title":"Entity did not have primary key","body":"<pre><code>\n@Entity\n\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String productName;\n    private int year;\n    private Double price;\n    private String url;\n\n    public  Product() { }\n     public Product(String productName, int year, Double price, String url) {\n         this.productName = productName;\n         this.year = year;\n         this.price = price;\n         this.url = url;\n     }\n}\n</code></pre>\n<p>I have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn't have any Id.</p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":4813796,"reputation":3248,"user_id":3886459,"display_name":"Maciej Beimcik"},"score":9,"creation_date":1560423002,"post_id":51654034,"comment_id":99735415,"body_markdown":"what follows for Android is that Java&#39;s removeIf is only available for API 24+ whereas Kotlin&#39;s removeAll will run on older APIs","body":"what follows for Android is that Java&#39;s removeIf is only available for API 24+ whereas Kotlin&#39;s removeAll will run on older APIs"}],"tags":[],"owner":{"account_id":6738,"reputation":6015,"user_id":11457,"display_name":"Matej"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1588233251,"creation_date":1533213932,"answer_id":51654034,"question_id":51653851,"body_markdown":"Java&#39;s `removeIf()` is there since Java 1.8. \r\n\r\nKotlin started at 2011 ([wikipedia][1]). Java 1.8 appeared in 2014.\r\n\r\nI&#39;m not sure when the Kotlin&#39;s `removeAll(predicate)` was specified and implemented, however it probably predates Java&#39;s `removeIf()`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)","title":"Use cases of removeall and removeif","body":"<p>Java's <code>removeIf()</code> is there since Java 1.8. </p>\n\n<p>Kotlin started at 2011 (<a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"noreferrer\">wikipedia</a>). Java 1.8 appeared in 2014.</p>\n\n<p>I'm not sure when the Kotlin's <code>removeAll(predicate)</code> was specified and implemented, however it probably predates Java's <code>removeIf()</code>. </p>\n"},{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1533214112,"creation_date":1533214112,"answer_id":51654099,"question_id":51653851,"body_markdown":"Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.\r\n\r\nIf you read the doc, you can see that you can use this function by giving a collection:\r\n\r\n    fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\r\n        elements: Collection&lt;T&gt;\r\n    ): Boolean (source)\r\n\r\nOr giving a function to filter:\r\n\r\n    fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\r\n        predicate: (T) -&gt; Boolean\r\n    ): Boolean (source)\r\n\r\nSo, the second one is like the Java version of removeIf, the first one is not.\r\n\r\n","title":"Use cases of removeall and removeif","body":"<p>Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.</p>\n\n<p>If you read the doc, you can see that you can use this function by giving a collection:</p>\n\n<pre><code>fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\n    elements: Collection&lt;T&gt;\n): Boolean (source)\n</code></pre>\n\n<p>Or giving a function to filter:</p>\n\n<pre><code>fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\n    predicate: (T) -&gt; Boolean\n): Boolean (source)\n</code></pre>\n\n<p>So, the second one is like the Java version of removeIf, the first one is not.</p>\n"},{"tags":[],"owner":{"account_id":505513,"reputation":3684,"user_id":959045,"display_name":"Stefan Paul Noack"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1581070699,"creation_date":1581070699,"answer_id":60111385,"question_id":51653851,"body_markdown":"There is one more important difference:\r\n\r\nCalling `removeIf` on a `CopyOnWriteArrayList` is **thread-safe**, but `removeAll` is **not**.\r\n\r\nLooking at the code, `removeIf` has a custom implementation for `CopyOnWriteArrayList`, but `removeAll` **iterates over the indices** and will end up throwing `ArrayIndexOutOfBoundsException` or even worse, **removing the wrong element**, if called concurrently.","title":"Use cases of removeall and removeif","body":"<p>There is one more important difference:</p>\n\n<p>Calling <code>removeIf</code> on a <code>CopyOnWriteArrayList</code> is <strong>thread-safe</strong>, but <code>removeAll</code> is <strong>not</strong>.</p>\n\n<p>Looking at the code, <code>removeIf</code> has a custom implementation for <code>CopyOnWriteArrayList</code>, but <code>removeAll</code> <strong>iterates over the indices</strong> and will end up throwing <code>ArrayIndexOutOfBoundsException</code> or even worse, <strong>removing the wrong element</strong>, if called concurrently.</p>\n"},{"tags":[],"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959505,"creation_date":1675959505,"answer_id":75401441,"question_id":51653851,"body_markdown":"&gt; Both of them yield the same result. \r\n\r\nThe result is achieved in completely different ways, so it might not always be quite same.\r\n\r\n`removeAll` is a convenience method. It&#39;s a simple loop calling `removeAt` multiple times.\r\n\r\n`removeIf` is a native `ArrayList` method that directly manipulates internal `elementData`, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from `ArrayList`, disregarding older implementations.\r\n\r\n&gt; Or is there any use case that might need one over another?\r\n\r\nOne example is `androidx.databinding.ObservableList`, which predates `removeIf`, and doesn&#39;t send due removal notifications, thus either breaking your code **silently** or causing [cryptic errors][1].\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75401082/1059969","title":"Use cases of removeall and removeif","body":"<blockquote>\n<p>Both of them yield the same result.</p>\n</blockquote>\n<p>The result is achieved in completely different ways, so it might not always be quite same.</p>\n<p><code>removeAll</code> is a convenience method. It's a simple loop calling <code>removeAt</code> multiple times.</p>\n<p><code>removeIf</code> is a native <code>ArrayList</code> method that directly manipulates internal <code>elementData</code>, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from <code>ArrayList</code>, disregarding older implementations.</p>\n<blockquote>\n<p>Or is there any use case that might need one over another?</p>\n</blockquote>\n<p>One example is <code>androidx.databinding.ObservableList</code>, which predates <code>removeIf</code>, and doesn't send due removal notifications, thus either breaking your code <strong>silently</strong> or causing <a href=\"https://stackoverflow.com/a/75401082/1059969\">cryptic errors</a>.</p>\n"}],"owner":{"account_id":9012794,"reputation":473,"user_id":6717212,"display_name":"Yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22529,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":51654099,"answer_count":4,"score":20,"last_activity_date":1675959505,"creation_date":1533213444,"question_id":51653851,"body_markdown":"I found this:  \r\n\r\n    fun main() {\r\n        val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\r\n\r\n        list.removeAll { x -&gt; x in 1..3 } // [4, 5]\r\n        list.removeIf { x -&gt; x in 1..3 } // [4, 5]\r\n    }\r\n\r\nBoth of them yield the same result.  \r\n\r\nThough I understand that `removeAll` is Kotlin and `removeIf` is Java but I don&#39;t understand why `removeAll` is there when `removeIf` was already there? \r\n\r\nAnd for the fact that we could use `removeIf` in Kotlin without any hassle. Or is there any use case that might need one over another?","title":"Use cases of removeall and removeif","body":"<p>I found this:  </p>\n\n<pre><code>fun main() {\n    val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\n\n    list.removeAll { x -&gt; x in 1..3 } // [4, 5]\n    list.removeIf { x -&gt; x in 1..3 } // [4, 5]\n}\n</code></pre>\n\n<p>Both of them yield the same result.  </p>\n\n<p>Though I understand that <code>removeAll</code> is Kotlin and <code>removeIf</code> is Java but I don't understand why <code>removeAll</code> is there when <code>removeIf</code> was already there? </p>\n\n<p>And for the fact that we could use <code>removeIf</code> in Kotlin without any hassle. Or is there any use case that might need one over another?</p>\n"},{"tags":["java","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1675956202,"post_id":75400486,"comment_id":133042859,"body_markdown":"Could you check with this https://stackoverflow.com/a/63491078/15228699","body":"Could you check with this <a href=\"https://stackoverflow.com/a/63491078/15228699\">stackoverflow.com/a/63491078/15228699</a>"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1675960460,"post_id":75400486,"comment_id":133044514,"body_markdown":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?","body":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676019284,"post_id":75400486,"comment_id":133056590,"body_markdown":"I tried doing this and same error, I added this to my docker file\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME/lib/security/root_ca.crt`","body":"I tried doing this and same error, I added this to my docker file <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt</code>"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1676025307,"post_id":75400486,"comment_id":133058379,"body_markdown":"Add the intermediate or sub ca certs too.","body":"Add the intermediate or sub ca certs too."},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676025636,"post_id":75400486,"comment_id":133058488,"body_markdown":"Yup thought of that too\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; ls \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME/lib/security/root_ca.crt \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME/lib/security/intermediate_ca_infra.pem \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME/lib/security/schema-registry.pem`\nBut still same error","body":"Yup thought of that too <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; ls \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME&#47;lib&#47;security&#47;intermediate_ca_infra.pem \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME&#47;lib&#47;security&#47;schema-registry.pem</code> But still same error"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676027339,"post_id":75400486,"comment_id":133059016,"body_markdown":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate","body":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate"}],"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675959460,"creation_date":1675954967,"question_id":75400486,"body_markdown":"I recently migrated an application from `Spring Boot 2.6.x` to `Spring Boot 3.0.2`, this app interacts with `Kafka` and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\r\nFrom what I can pinpoint the issue is related to the `AvroSerializer` (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file\r\n\r\n\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\r\n    swarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\r\n    swarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.host =\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.format = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n\r\nWhich causes the following error when the app starts :\r\n\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\r\n    path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\r\n     I/O thread.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\r\n     Transition from state UNINITIALIZED to INITIALIZING\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\r\n    cer started\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\r\n    ] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\r\n    onnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\r\n    \r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\r\n    nnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\r\n    O_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\r\n    nection to node -1. Fetching API versions.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\r\n    SocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\r\n    swarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\r\n     to requested target\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\r\n    ertification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\r\n    with xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\r\n    nected.\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\r\n    to node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\r\n    ker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\r\n    occurred during message send:\r\n    swarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\r\n    cation path to requested target\r\n\r\nBelow is my `application.properties` file\r\n\r\n    spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\r\n    spring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\r\n    spring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n    spring.kafka.properties.security.protocol=SSL\r\n    spring.kafka.ssl.protocol=SSL\r\n    spring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\r\n    spring.kafka.ssl.trust-store-type=JKS\r\n    spring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.protocol=SSL\r\n    spring.kafka.producer.security.protocol=SSL\r\n    spring.kafka.producer.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.protocol=SSL\r\n    spring.kafka.consumer.ssl.trust-store-type=JKS\r\n    spring.kafka.consumer.security.protocol=SSL\r\n    \r\n    spring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.protocol=SSL\r\n    spring.kafka.schema.registry.ssl.trust-store-type=JKS\r\n    spring.kafka.schema.registry.security.protocol=SSL\r\n    \r\n    \r\n    spring.kafka.producer.client-id=clientId\r\n    spring.kafka.consumer.client-id=clientId\r\n    spring.kafka.consumer.group-id=groupId\r\n    \r\n    \r\n    #\r\n    # Credentials\r\n    #\r\n    \r\n    # Kafka\r\n    spring.kafka.ssl.trust-store-password=changeit\r\n    spring.kafka.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.key-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.trust-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.key-store-password=changeit\r\n\r\nAny ideas as to how to make the `Serializer` pickup the SSL config?\r\n\r\nCurrent Stack:\r\n - Spring boot 3.0.2\r\n - Kafka Avro Serializer 7.3.1\r\n - Spring Kafka 3.0.2\r\n - Spring 6.0.4","title":"PKIX path building failed when using spring with Kafka and schema registry","body":"<p>I recently migrated an application from <code>Spring Boot 2.6.x</code> to <code>Spring Boot 3.0.2</code>, this app interacts with <code>Kafka</code> and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\nFrom what I can pinpoint the issue is related to the <code>AvroSerializer</code> (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file</p>\n<pre><code>swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\nswarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\nswarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\nswarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\nswarm-app.so5byi81c6md@swarmt33    |  proxy.host =\nswarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\nswarm-app.so5byi81c6md@swarmt33    |  schema.format = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\nswarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\nswarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\nswarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\n</code></pre>\n<p>Which causes the following error when the app starts :</p>\n<pre><code>swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\npath=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\n I/O thread.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\n Transition from state UNINITIALIZED to INITIALIZING\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\ncer started\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\n] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\nonnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\n\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\nnnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\nO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\nnection to node -1. Fetching API versions.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\nSocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\nswarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\n to requested target\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\nertification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\nwith xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\nnected.\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\nto node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\nker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\noccurred during message send:\nswarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\ncation path to requested target\n</code></pre>\n<p>Below is my <code>application.properties</code> file</p>\n<pre><code>spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\nspring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\nspring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\n\nspring.kafka.properties.security.protocol=SSL\nspring.kafka.ssl.protocol=SSL\nspring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\nspring.kafka.ssl.trust-store-type=JKS\nspring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.ssl.key-store-type=JKS\n\nspring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.protocol=SSL\nspring.kafka.producer.security.protocol=SSL\nspring.kafka.producer.ssl.key-store-type=JKS\n\nspring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.protocol=SSL\nspring.kafka.consumer.ssl.trust-store-type=JKS\nspring.kafka.consumer.security.protocol=SSL\n\nspring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.protocol=SSL\nspring.kafka.schema.registry.ssl.trust-store-type=JKS\nspring.kafka.schema.registry.security.protocol=SSL\n\n\nspring.kafka.producer.client-id=clientId\nspring.kafka.consumer.client-id=clientId\nspring.kafka.consumer.group-id=groupId\n\n\n#\n# Credentials\n#\n\n# Kafka\nspring.kafka.ssl.trust-store-password=changeit\nspring.kafka.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.key-store-password=changeit\nspring.kafka.schema.registry.ssl.trust-store-password=changeit\nspring.kafka.schema.registry.ssl.key-store-password=changeit\n</code></pre>\n<p>Any ideas as to how to make the <code>Serializer</code> pickup the SSL config?</p>\n<p>Current Stack:</p>\n<ul>\n<li>Spring boot 3.0.2</li>\n<li>Kafka Avro Serializer 7.3.1</li>\n<li>Spring Kafka 3.0.2</li>\n<li>Spring 6.0.4</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","jpa-2.0","ejb-3.0"],"answers":[{"comments":[{"owner":{"account_id":5596885,"reputation":945,"user_id":4434367,"display_name":"Mate Šimović"},"score":8,"creation_date":1495398360,"post_id":26607059,"comment_id":75223100,"body_markdown":"Try using Hibernate cascade annotations instead of JPA annotations. Eg.,@Cascade(CascadeType.SAVE_UPDATE) would replace {CascadeType.PERSIST,CascadeType.MERGE }. Check this article: [JPA &amp; Hibernate annotation common mistake](https://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/)","body":"Try using Hibernate cascade annotations instead of JPA annotations. Eg.,@Cascade(CascadeType.SAVE_UPDATE) would replace {CascadeType.PERSIST,CascadeType.MERGE }. Check this article: <a href=\"https://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/\" rel=\"nofollow noreferrer\">JPA &amp; Hibernate annotation common mistake</a>"},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":5,"creation_date":1526468461,"post_id":26607059,"comment_id":87754163,"body_markdown":"What effect does this have if I want to merge existing entities? What happens when I remove `CascadeType.MERGE`?","body":"What effect does this have if I want to merge existing entities? What happens when I remove <code>CascadeType.MERGE</code>?"},{"owner":{"account_id":440302,"reputation":5649,"user_id":829796,"accept_rate":69,"display_name":"securecurve"},"score":0,"creation_date":1527071421,"post_id":26607059,"comment_id":87984864,"body_markdown":"Yes, having the same question, what happens when we remove the MERGE cascade?","body":"Yes, having the same question, what happens when we remove the MERGE cascade?"},{"owner":{"account_id":440302,"reputation":5649,"user_id":829796,"accept_rate":69,"display_name":"securecurve"},"score":0,"creation_date":1527084416,"post_id":26607059,"comment_id":87993842,"body_markdown":"I think I know why. It means if the entity is merged, the related entity is merged too, which is not the case in this situation, because we only want to create a new Role, but we don&#39;t want to create/update a Permission.","body":"I think I know why. It means if the entity is merged, the related entity is merged too, which is not the case in this situation, because we only want to create a new Role, but we don&#39;t want to create/update a Permission."},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":0,"creation_date":1609606447,"post_id":26607059,"comment_id":115876810,"body_markdown":"What if I&#39;m not using Hibernate?","body":"What if I&#39;m not using Hibernate?"}],"tags":[],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":5,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1414495332,"creation_date":1414495332,"answer_id":26607059,"question_id":26591521,"body_markdown":"Fixed it by removing CascadeType.MERGE on Permission entity","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Fixed it by removing CascadeType.MERGE on Permission entity</p>\n"},{"comments":[{"owner":{"account_id":5248259,"reputation":4894,"user_id":4193263,"display_name":"ByteHamster"},"score":6,"creation_date":1424366067,"post_id":28611964,"comment_id":45528818,"body_markdown":"Please quote the most relevant part of the link, in case the target site is unreachable or goes permanently offline. See [How do I write a good answer](http://stackoverflow.com/help/how-to-answer).","body":"Please quote the most relevant part of the link, in case the target site is unreachable or goes permanently offline. See <a href=\"http://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1480354250,"post_id":28611964,"comment_id":68916866,"body_markdown":"Or in case, my network blocks some CSS files, the site is completely unreadable.","body":"Or in case, my network blocks some CSS files, the site is completely unreadable."},{"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"score":0,"creation_date":1577105979,"post_id":28611964,"comment_id":105092685,"body_markdown":"The link is about the `hibernate.event.merge.entity_copy_observer` property, which is already (at the time of this writing) covered by other answers.","body":"The link is about the <code>hibernate.event.merge.entity_copy_observer</code> property, which is already (at the time of this writing) covered by other answers."}],"tags":[],"owner":{"account_id":4680854,"reputation":11,"user_id":3789608,"display_name":"user3789608"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1424364257,"creation_date":1424364257,"answer_id":28611964,"question_id":26591521,"body_markdown":"For Hibernate see the workaround here [HHH-9106][1].\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-9106 &quot;HHH-9106&quot;","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>For Hibernate see the workaround here <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"nofollow\" title=\"HHH-9106\">HHH-9106</a>.</p>\n"},{"comments":[{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":17,"creation_date":1479759287,"post_id":32182410,"comment_id":68684245,"body_markdown":"This property applies to the entire persistent context and should only be used for testing purposes. If you set it to &quot;allow&quot; or &quot;log&quot;, Hibernate will proceed with merging both the detached entities sequentially. However the order of the merge is not defined. So this can cause accidental data corruption. The correct solution is to fix the entity relationship.","body":"This property applies to the entire persistent context and should only be used for testing purposes. If you set it to &quot;allow&quot; or &quot;log&quot;, Hibernate will proceed with merging both the detached entities sequentially. However the order of the merge is not defined. So this can cause accidental data corruption. The correct solution is to fix the entity relationship."},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":4,"creation_date":1526468521,"post_id":32182410,"comment_id":87754203,"body_markdown":"@VHS can you explain what happens if I remove `CascadeType.MERGE`? I see it as the answer everywhere, but I *bet* it is a breaking change with side effects.","body":"@VHS can you explain what happens if I remove <code>CascadeType.MERGE</code>? I see it as the answer everywhere, but I <i>bet</i> it is a breaking change with side effects."},{"owner":{"account_id":1396943,"reputation":2013,"user_id":1326534,"accept_rate":62,"display_name":"marcotama"},"score":0,"creation_date":1615505131,"post_id":32182410,"comment_id":117718997,"body_markdown":"@ElMac without `CascadeType.MERGE`, if you save an object that has a reference to another, you need to manually also store that other object; with `CascadeType.MERGE`, on the other hand, Hibernate does it for you automatically. So you are correct, this might cause other problems.","body":"@ElMac without <code>CascadeType.MERGE</code>, if you save an object that has a reference to another, you need to manually also store that other object; with <code>CascadeType.MERGE</code>, on the other hand, Hibernate does it for you automatically. So you are correct, this might cause other problems."}],"tags":[],"owner":{"account_id":1831658,"reputation":1506,"user_id":1662935,"accept_rate":63,"display_name":"Suraj Menon"},"comment_count":3,"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1440419487,"creation_date":1440419487,"answer_id":32182410,"question_id":26591521,"body_markdown":"The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:\r\n\r\n`&lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;` \r\n\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:</p>\n\n<p><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;</code> </p>\n"},{"tags":[],"owner":{"account_id":6871280,"reputation":3,"user_id":5281518,"display_name":"Beagle"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440927467,"creation_date":1440926780,"answer_id":32295067,"question_id":26591521,"body_markdown":"Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:\r\n\r\n    &lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;\r\n\r\nDid not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:</p>\n\n<pre><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;\n</code></pre>\n\n<p>Did not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.</p>\n"},{"comments":[{"owner":{"account_id":2404155,"reputation":3688,"user_id":2101117,"display_name":"Aleksandar"},"score":2,"creation_date":1497947646,"post_id":34420512,"comment_id":76280722,"body_markdown":"Great answer! Thank You! IntelliJ has a procedure for generating `equals` and `hashCode`, You can check it out [on their website](https://www.jetbrains.com/help/idea/generating-equals-and-hashcode.html).","body":"Great answer! Thank You! IntelliJ has a procedure for generating <code>equals</code> and <code>hashCode</code>, You can check it out <a href=\"https://www.jetbrains.com/help/idea/generating-equals-and-hashcode.html\" rel=\"nofollow noreferrer\">on their website</a>."},{"owner":{"account_id":994336,"reputation":841,"user_id":1010678,"accept_rate":65,"display_name":"SP5RFD"},"score":1,"creation_date":1500967591,"post_id":34420512,"comment_id":77554743,"body_markdown":"This helped! I&#39;m using Lombok&#39;s Data annotation to generate all my additional methods, when changed to Getter Setter instead of @Data the problem has gone. Thank you.","body":"This helped! I&#39;m using Lombok&#39;s Data annotation to generate all my additional methods, when changed to Getter Setter instead of @Data the problem has gone. Thank you."},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":0,"creation_date":1609609157,"post_id":34420512,"comment_id":115877792,"body_markdown":"`equals` and `hashCode` of the parent entity or the detached entity?","body":"<code>equals</code> and <code>hashCode</code> of the parent entity or the detached entity?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1696879688,"post_id":34420512,"comment_id":136207010,"body_markdown":"that... literally made zero difference dude","body":"that... literally made zero difference dude"}],"tags":[],"owner":{"account_id":1652963,"reputation":449,"user_id":1523177,"display_name":"user1523177"},"comment_count":4,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1450802397,"creation_date":1450802397,"answer_id":34420512,"question_id":26591521,"body_markdown":"Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.</p>\n"},{"tags":[],"owner":{"account_id":3769739,"reputation":370,"user_id":3132275,"accept_rate":50,"display_name":"Asif Aminur Rashid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526924576,"creation_date":1526924576,"answer_id":50454046,"question_id":26591521,"body_markdown":"In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":4111628,"reputation":41,"user_id":3374275,"display_name":"razi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532806100,"creation_date":1532806100,"answer_id":51574551,"question_id":26591521,"body_markdown":"error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.\n# Way to debug #\nJust try to print hashset you will see multiple object of same type.\n# Solution::# \n - Use HashSet while defining one to many relationships.\n - Avoid using Lists. \n - Make sure your hash function should be correct.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.</p>\n<h1>Way to debug</h1>\n<p>Just try to print hashset you will see multiple object of same type.</p>\n<h1>Solution::#</h1>\n<ul>\n<li>Use HashSet while defining one to many relationships.</li>\n<li>Avoid using Lists.</li>\n<li>Make sure your hash function should be correct.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":224209,"reputation":81,"user_id":483866,"display_name":"udoline"},"score":0,"creation_date":1554895908,"post_id":52269979,"comment_id":97917098,"body_markdown":"Works for me ... :D (Spring Boot 1.4.1.RELEASE)","body":"Works for me ... :D (Spring Boot 1.4.1.RELEASE)"}],"tags":[],"owner":{"account_id":7513077,"reputation":630,"user_id":5707426,"display_name":"W.Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1536647712,"creation_date":1536647712,"answer_id":52269979,"question_id":26591521,"body_markdown":"I ran into the same problem too and solved it by add a few configs in `application.yaml` files.\r\n\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            enable_lazy_load_no_trans: true\r\n            event:\r\n              merge:\r\n                entity_copy_observer: allow\r\n\r\n\r\nSee it here [How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52250630/5707426","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I ran into the same problem too and solved it by add a few configs in <code>application.yaml</code> files.</p>\n\n<pre><code>  jpa:\n    properties:\n      hibernate:\n        enable_lazy_load_no_trans: true\n        event:\n          merge:\n            entity_copy_observer: allow\n</code></pre>\n\n<p>See it here <a href=\"https://stackoverflow.com/a/52250630/5707426\">How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?</a></p>\n"},{"tags":[],"owner":{"account_id":9428985,"reputation":1,"user_id":7013115,"display_name":"Paul Linux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610974415,"creation_date":1544212637,"answer_id":53676082,"question_id":26591521,"body_markdown":"    **@LazyCollection(LazyCollectionOption.FALSE** \r\n   \r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\r\n    @JoinColumn(name = &quot;translate_id&quot;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<pre><code>**@LazyCollection(LazyCollectionOption.FALSE** \n\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n\n@JoinColumn(name = &quot;translate_id&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13149223,"reputation":689,"user_id":9498369,"display_name":"Arul Rozario"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550376553,"creation_date":1550376553,"answer_id":54730020,"question_id":26591521,"body_markdown":"I could fix it by replacing \r\n\r\n    cascade = CascadeType.All\r\n\r\nwith\r\n\r\n    casecade={CascadeType.PERSIST,CascadeType.REMOVE}","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I could fix it by replacing </p>\n\n<pre><code>cascade = CascadeType.All\n</code></pre>\n\n<p>with</p>\n\n<pre><code>casecade={CascadeType.PERSIST,CascadeType.REMOVE}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1577107080,"creation_date":1577107080,"answer_id":59456039,"question_id":26591521,"body_markdown":"Like others who based their answers on [HHH-9106](https://hibernate.atlassian.net/browse/HHH-9106) but, because I&#39;m using Spring Boot with Java-based annotation, I had to use the following in `application.properties`:\r\n\r\n    spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Like others who based their answers on <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"noreferrer\">HHH-9106</a> but, because I'm using Spring Boot with Java-based annotation, I had to use the following in <code>application.properties</code>:</p>\n\n<pre><code>spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1626192896,"post_id":65141220,"comment_id":120825533,"body_markdown":"never do CascadeType.ALL on ManyToMany","body":"never do CascadeType.ALL on ManyToMany"}],"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607074908,"creation_date":1607074908,"answer_id":65141220,"question_id":26591521,"body_markdown":"I fixed this issue by removing `cascade = CascadeType.ALL` in your case (`cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}`)\r\n\r\nMy code source:\r\n\r\n**Before**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\r\n\r\n**After**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I fixed this issue by removing <code>cascade = CascadeType.ALL</code> in your case (<code>cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}</code>)</p>\n<p>My code source:</p>\n<p><strong>Before</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10554511,"reputation":11,"user_id":7776163,"display_name":"Muathe Jamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669727396,"creation_date":1669727396,"answer_id":74614607,"question_id":26591521,"body_markdown":"If you remove the cascade merge you won&#39;t be able to update the entity when updating the parent. \r\nThe case will be right if you don&#39;t want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.\r\n\r\nWhat happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected. \r\n\r\nTo clarify the case: \r\nLet&#39;s say I have an enum(&#39;ACTIVE&#39;, &#39;NOT_ACTIVE&#39;, &#39;SUSPENDED&#39;) and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum(&#39;ACTIVE&#39;, &#39;SUSPENDED&#39;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>If you remove the cascade merge you won't be able to update the entity when updating the parent.\nThe case will be right if you don't want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.</p>\n<p>What happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected.</p>\n<p>To clarify the case:\nLet's say I have an enum('ACTIVE', 'NOT_ACTIVE', 'SUSPENDED') and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum('ACTIVE', 'SUSPENDED')</p>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670870239,"creation_date":1670870239,"answer_id":74775810,"question_id":26591521,"body_markdown":"I had similar issue and it is resolved when I replace `CascadeType.All` with `{CascadeType.persist, CascadeType.remove}`.\r\n\r\nLet me know if it works. ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I had similar issue and it is resolved when I replace <code>CascadeType.All</code> with <code>{CascadeType.persist, CascadeType.remove}</code>.</p>\n<p>Let me know if it works.</p>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959452,"creation_date":1675959452,"answer_id":75401430,"question_id":26591521,"body_markdown":"We can also resolve that using `CascadeType.DETACH` . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity! ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>We can also resolve that using <code>CascadeType.DETACH</code> . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity!</p>\n"}],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122927,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26607059,"answer_count":15,"score":74,"last_activity_date":1675959452,"creation_date":1414425161,"question_id":26591521,"body_markdown":"I have 3 entities with ManyToMany relationships:\r\n\r\n**Role Entity:**\r\n\r\n    @Entity\r\n    public class Role {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer roleID;\r\n        private String roleName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;role_permission&quot;, joinColumns = {@JoinColumn(name = &quot;role_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)})\r\n        private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\r\n    }\r\n\r\n**Permission Entity:**\r\n\r\n    @Entity\r\n    public class Permission {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int permissionID;\r\n        private String permissionName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;permission_functionality&quot;, joinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;functionality_id&quot;)})\r\n        private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\r\n    }\r\n\r\n**Functionality Entity:**\r\n\r\n    @Entity\r\n    public class Functionality {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String name;\r\n    }\r\n\r\n\r\nI did the following:\r\n\r\n 1. I have created 3 functionalities:\r\n\r\n        Functionality1, Functionality2, Functionality3\r\n   \r\n 2. Then created 2 permissions:\r\n\r\n        Permission1 with Functionality1, Functionality2\r\n\r\n        Permission2 with Functionality2, Functionality3\r\n\r\n 3. Then created a role:\r\n\r\n        Role1 with Permission1 and Permission2 \r\n\r\nI am getting the following exception:\r\n\r\n&gt; java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I have 3 entities with ManyToMany relationships:</p>\n\n<p><strong>Role Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer roleID;\n    private String roleName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"role_permission\", joinColumns = {@JoinColumn(name = \"role_id\")}, inverseJoinColumns = {@JoinColumn(name = \"permission_id\")})\n    private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\n}\n</code></pre>\n\n<p><strong>Permission Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Permission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int permissionID;\n    private String permissionName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"permission_functionality\", joinColumns = {@JoinColumn(name = \"permission_id\")}, inverseJoinColumns = {@JoinColumn(name = \"functionality_id\")})\n    private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n\n<p><strong>Functionality Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Functionality {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n}\n</code></pre>\n\n<p>I did the following:</p>\n\n<ol>\n<li><p>I have created 3 functionalities:</p>\n\n<pre><code>Functionality1, Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created 2 permissions:</p>\n\n<pre><code>Permission1 with Functionality1, Functionality2\n\nPermission2 with Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created a role:</p>\n\n<pre><code>Role1 with Permission1 and Permission2 \n</code></pre></li>\n</ol>\n\n<p>I am getting the following exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]</p>\n</blockquote>\n"},{"tags":["java","generics","wildcard","javac","ecj"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675957888,"post_id":75401080,"comment_id":133043445,"body_markdown":"Historically when the Eclipse compiler and javac disagree it *tends* to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and `javac`.","body":"Historically when the Eclipse compiler and javac disagree it <i>tends</i> to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and <code>javac</code>."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":1,"creation_date":1675958158,"post_id":75401080,"comment_id":133043573,"body_markdown":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse.","body":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675958354,"post_id":75401080,"comment_id":133043653,"body_markdown":"My gut feeling is that `javac` is correct here, since there is no correct value for `T` to infer, but I don&#39;t know the rules well enough to know for sure. Sorry.","body":"My gut feeling is that <code>javac</code> is correct here, since there is no correct value for <code>T</code> to infer, but I don&#39;t know the rules well enough to know for sure. Sorry."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1675958528,"post_id":75401080,"comment_id":133043714,"body_markdown":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting.","body":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting."}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959171,"creation_date":1675957713,"question_id":75401080,"body_markdown":"The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\r\n    System.out.println(test(list));\r\n}\r\n\r\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\r\n    return list.get(0).get(0);\r\n}\r\n```\r\n\r\nHowever, when compiling with OpenJDK javac 19.0.2 I get the following error.\r\n\r\n```none\r\nerror: method test in class Test cannot be applied to given types;\r\n        System.out.println(test(list));\r\n                           ^\r\n  required: List&lt;? extends List&lt;T&gt;&gt;\r\n  found:    List&lt;List&lt;?&gt;&gt;\r\n  reason: cannot infer type-variable(s) T\r\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\r\n```\r\n\r\nWhich compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read [this][1] answer. However, this doesn&#39;t help me to figure out if the assignment is allowed or not because the case of a generic type parameter `T` is not treated there.\r\n\r\nHere is an example where this is relevant.\r\n\r\n```java\r\nExecutorService executorService = /* ... */;\r\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\r\nexecutorService.invokeAll(callables);\r\n```\r\n\r\nThis code compiles with Eclipse but not with OpenJDK javac.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24738592/3882565","title":"Eclipse compiler and OpenJDK javac behave differently when assigning generic types with wildcards","body":"<p>The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\n    System.out.println(test(list));\n}\n\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\n    return list.get(0).get(0);\n}\n</code></pre>\n<p>However, when compiling with OpenJDK javac 19.0.2 I get the following error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: method test in class Test cannot be applied to given types;\n        System.out.println(test(list));\n                           ^\n  required: List&lt;? extends List&lt;T&gt;&gt;\n  found:    List&lt;List&lt;?&gt;&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\n</code></pre>\n<p>Which compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read <a href=\"https://stackoverflow.com/a/24738592/3882565\">this</a> answer. However, this doesn't help me to figure out if the assignment is allowed or not because the case of a generic type parameter <code>T</code> is not treated there.</p>\n<p>Here is an example where this is relevant.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = /* ... */;\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\nexecutorService.invokeAll(callables);\n</code></pre>\n<p>This code compiles with Eclipse but not with OpenJDK javac.</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1453562492,"post_id":34963056,"comment_id":57660762,"body_markdown":"You want to access gradle build script variables (such as version) programatically from your spring boot app?","body":"You want to access gradle build script variables (such as version) programatically from your spring boot app?"},{"owner":{"account_id":2128462,"reputation":5739,"user_id":1889928,"accept_rate":89,"display_name":"yyunikov"},"score":0,"creation_date":1476350114,"post_id":34963056,"comment_id":67310779,"body_markdown":"@Eric Have you finally managed to do that?","body":"@Eric Have you finally managed to do that?"}],"answers":[{"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1453593351,"post_id":34969908,"comment_id":57670920,"body_markdown":"Hi Andy, thanks for the reply. I have tried this, but whenever I run the Spring Boot application from my IDE, I get the error: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;. I added this to my application.properties: `info.build.version=${version}`, and this to my controller:     `@Value(&quot;${info.build.version}&quot;) private String applicationVersion;`","body":"Hi Andy, thanks for the reply. I have tried this, but whenever I run the Spring Boot application from my IDE, I get the error: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;. I added this to my application.properties: <code>info.build.version=${version}</code>, and this to my controller:     <code>@Value(&quot;${info.build.version}&quot;) private String applicationVersion;</code>"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1453626776,"post_id":34969908,"comment_id":57677591,"body_markdown":"@ErikPragt Depending on what IDE you are using, and how you have imported your Gradle project, Gradle probably isn&#39;t being run so it hasn&#39;t had a chance to process your application.properties file. Does it work on the command line (`./gradlew bootRun`, for example)?","body":"@ErikPragt Depending on what IDE you are using, and how you have imported your Gradle project, Gradle probably isn&#39;t being run so it hasn&#39;t had a chance to process your application.properties file. Does it work on the command line (<code>.&#47;gradlew bootRun</code>, for example)?"},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1453635722,"post_id":34969908,"comment_id":57680054,"body_markdown":"yes, that&#39;s of course a bit silly of me, I run it from my IDE, not from Gradle. Is there also a way to do it in a way that it always works? For example, the ResourceBanner.java of Spring Boot does a similar thing....","body":"yes, that&#39;s of course a bit silly of me, I run it from my IDE, not from Gradle. Is there also a way to do it in a way that it always works? For example, the ResourceBanner.java of Spring Boot does a similar thing...."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1470263717,"post_id":34969908,"comment_id":64883226,"body_markdown":"@AndyWilkinson: can you help with this post. http://stackoverflow.com/questions/38752485/how-to-ignore-placeholder-value-if-not-supplied-in-properties-file-in-spring-boo","body":"@AndyWilkinson: can you help with this post. <a href=\"http://stackoverflow.com/questions/38752485/how-to-ignore-placeholder-value-if-not-supplied-in-properties-file-in-spring-boo\" title=\"how to ignore placeholder value if not supplied in properties file in spring boo\">stackoverflow.com/questions/38752485/&hellip;</a>"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":0,"creation_date":1483807325,"post_id":34969908,"comment_id":70253394,"body_markdown":"This breaks integration tests.","body":"This breaks integration tests."},{"owner":{"account_id":4496487,"reputation":1008,"user_id":3656173,"display_name":"Tobias Tobiasen"},"score":0,"creation_date":1497594103,"post_id":34969908,"comment_id":76152315,"body_markdown":"You can use Spring profiles to enable running it from the IDE see my answer here  https://stackoverflow.com/questions/38752485/how-to-skip-placeholder-value-if-not-supplied-in-properties-file-in-spring-boot/44582048#44582048","body":"You can use Spring profiles to enable running it from the IDE see my answer here  <a href=\"https://stackoverflow.com/questions/38752485/how-to-skip-placeholder-value-if-not-supplied-in-properties-file-in-spring-boot/44582048#44582048\" title=\"how to skip placeholder value if not supplied in properties file in spring boot\">stackoverflow.com/questions/38752485/&hellip;</a>"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":6,"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1453589347,"creation_date":1453589347,"answer_id":34969908,"question_id":34963056,"body_markdown":"As [described in the reference documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle), you need to instruct Gradle to process you application&#39;s resources so that it will replace the `${version}` placeholder with the project&#39;s version:\r\n\r\n    processResources {\r\n        expand(project.properties)\r\n    }\r\n\r\nTo be safe, you may want to narrow things down so that only `application.properties` is processed:\r\n\r\n    processResources {\r\n        filesMatching(&#39;application.properties&#39;) {\r\n            expand(project.properties)\r\n        }\r\n    }\r\n\r\nNow, assuming that your property is named `info.build.version`, it&#39;ll be available via `@Value`:\r\n\r\n    @Value(&quot;${info.build.version}&quot;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>As <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle\" rel=\"noreferrer\">described in the reference documentation</a>, you need to instruct Gradle to process you application's resources so that it will replace the <code>${version}</code> placeholder with the project's version:</p>\n\n<pre><code>processResources {\n    expand(project.properties)\n}\n</code></pre>\n\n<p>To be safe, you may want to narrow things down so that only <code>application.properties</code> is processed:</p>\n\n<pre><code>processResources {\n    filesMatching('application.properties') {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p>Now, assuming that your property is named <code>info.build.version</code>, it'll be available via <code>@Value</code>:</p>\n\n<pre><code>@Value(\"${info.build.version}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3734009,"reputation":1911,"user_id":3105453,"accept_rate":87,"display_name":"user3105453"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1475072273,"creation_date":1475065174,"answer_id":39747331,"question_id":34963056,"body_markdown":"I have solved it this way:\r\nDefine your `info.build.version` in `application.properties`:\r\n\r\n    info.build.version=whatever\r\n\r\nuse it in your component with \r\n\r\n    @Value(&quot;${info.build.version}&quot;)\r\n    private String version;\r\n\r\nnow add your version info to your `build.gradle` file like this:\r\n\r\n    version = &#39;0.0.2-SNAPSHOT&#39;\r\n\r\nthen add a method to replace your application.properties with a regex to update your version information there:\r\n\r\n    def updateApplicationProperties() {\r\n        def configFile = new File(&#39;src/main/resources/application.properties&#39;)\r\n        println &quot;updating version to &#39;${version}&#39; in ${configFile}&quot;\r\n        String configContent = configFile.getText(&#39;UTF-8&#39;)\r\n        configContent = configContent.replaceAll(/info\\.build\\.version=.*/, &quot;info.build.version=${version}&quot;)\r\n        configFile.write(configContent, &#39;UTF-8&#39;)\r\n    }\r\n\r\nfinally, ensure the method is called when you trigger `build` or `bootRun`:\r\n\r\n    allprojects {\r\n        updateVersion()\r\n    }\r\n\r\nthat&#39;s it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won&#39;t throw an exception and as soon as you run Gradle it will be updated again.\r\n\r\nI hope this helps others as well as it solved the problem for me. I couldn&#39;t find a more proper solution so I scripted it by myself. ","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I have solved it this way:\nDefine your <code>info.build.version</code> in <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=whatever\n</code></pre>\n\n<p>use it in your component with </p>\n\n<pre><code>@Value(\"${info.build.version}\")\nprivate String version;\n</code></pre>\n\n<p>now add your version info to your <code>build.gradle</code> file like this:</p>\n\n<pre><code>version = '0.0.2-SNAPSHOT'\n</code></pre>\n\n<p>then add a method to replace your application.properties with a regex to update your version information there:</p>\n\n<pre><code>def updateApplicationProperties() {\n    def configFile = new File('src/main/resources/application.properties')\n    println \"updating version to '${version}' in ${configFile}\"\n    String configContent = configFile.getText('UTF-8')\n    configContent = configContent.replaceAll(/info\\.build\\.version=.*/, \"info.build.version=${version}\")\n    configFile.write(configContent, 'UTF-8')\n}\n</code></pre>\n\n<p>finally, ensure the method is called when you trigger <code>build</code> or <code>bootRun</code>:</p>\n\n<pre><code>allprojects {\n    updateVersion()\n}\n</code></pre>\n\n<p>that's it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won't throw an exception and as soon as you run Gradle it will be updated again.</p>\n\n<p>I hope this helps others as well as it solved the problem for me. I couldn't find a more proper solution so I scripted it by myself. </p>\n"},{"tags":[],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1525250755,"creation_date":1525250755,"answer_id":50130541,"question_id":34963056,"body_markdown":"I&#39;ve resolved this by adding into application.yml the following:\r\n\r\n    ${version?:unknown}\r\n\r\nIt also work from cli:**gradle bootRun** and also from IntelliJ and you don&#39;t have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.\r\n\r\nThis work with Gradle ver:**4.6** and also Spring Boot ver: **2.0.1.RELEASE**.\r\nHope it helps ;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I've resolved this by adding into application.yml the following:</p>\n\n<pre><code>${version?:unknown}\n</code></pre>\n\n<p>It also work from cli:<strong>gradle bootRun</strong> and also from IntelliJ and you don't have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.</p>\n\n<p>This work with Gradle ver:<strong>4.6</strong> and also Spring Boot ver: <strong>2.0.1.RELEASE</strong>.\nHope it helps ;)</p>\n"},{"comments":[{"owner":{"account_id":12926779,"reputation":573,"user_id":9347205,"display_name":"aee"},"score":0,"creation_date":1592508385,"post_id":60074163,"comment_id":110459090,"body_markdown":"If you&#39;re using Eclipse IDE you may have some dificulties with that plugin. I&#39;ve made a post for this issue\nhttps://stackoverflow.com/questions/60140145/springboot-gradle-plugin-not-working-with-eclipse","body":"If you&#39;re using Eclipse IDE you may have some dificulties with that plugin. I&#39;ve made a post for this issue <a href=\"https://stackoverflow.com/questions/60140145/springboot-gradle-plugin-not-working-with-eclipse\" title=\"springboot gradle plugin not working with eclipse\">stackoverflow.com/questions/60140145/&hellip;</a>"}],"tags":[],"owner":{"account_id":4399098,"reputation":1329,"user_id":3585320,"accept_rate":83,"display_name":"Cl&#233;ment Poissonnier"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1580899905,"creation_date":1580899905,"answer_id":60074163,"question_id":34963056,"body_markdown":"You can also add this in `build.gradle` : \r\n\r\n    springBoot {    \r\n        buildInfo() \r\n    }\r\n\r\nThen, you can use `BuildProperties` bean : \r\n\r\n    @Autowired\r\n    private BuildProperties buildProperties;\r\n\r\nAnd get the version with `buildProperties.getVersion()`","title":"Getting the Gradle.build version into Spring Boot","body":"<p>You can also add this in <code>build.gradle</code> : </p>\n\n<pre><code>springBoot {    \n    buildInfo() \n}\n</code></pre>\n\n<p>Then, you can use <code>BuildProperties</code> bean : </p>\n\n<pre><code>@Autowired\nprivate BuildProperties buildProperties;\n</code></pre>\n\n<p>And get the version with <code>buildProperties.getVersion()</code></p>\n"},{"tags":[],"owner":{"account_id":3296456,"reputation":673,"user_id":2773618,"display_name":"Nicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675958607,"creation_date":1675958607,"answer_id":75401251,"question_id":34963056,"body_markdown":"For Kotlin user, what works for me was :\r\n\r\n\r\n1) application.properties\r\n\r\nIn the application.properties you add a placeholder that will be replace with your value by gradle.\r\n\r\n        project.version= ${version}\r\n\r\n2) build.gradle.kts\r\n\r\nAdd a task so gradle will replace the value\r\n\r\n        tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\r\n\r\n3) Service.kt\r\n\r\nInject the value in your services\r\n\r\n        @Value(&quot;\\${project.version}&quot;) lateinit var version: String\r\n\r\n\r\n\r\n","title":"Getting the Gradle.build version into Spring Boot","body":"<p>For Kotlin user, what works for me was :</p>\n<ol>\n<li>application.properties</li>\n</ol>\n<p>In the application.properties you add a placeholder that will be replace with your value by gradle.</p>\n<pre><code>    project.version= ${version}\n</code></pre>\n<ol start=\"2\">\n<li>build.gradle.kts</li>\n</ol>\n<p>Add a task so gradle will replace the value</p>\n<pre><code>    tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\n</code></pre>\n<ol start=\"3\">\n<li>Service.kt</li>\n</ol>\n<p>Inject the value in your services</p>\n<pre><code>    @Value(&quot;\\${project.version}&quot;) lateinit var version: String\n</code></pre>\n"}],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32386,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":34969908,"answer_count":5,"score":32,"last_activity_date":1675958607,"creation_date":1453549647,"question_id":34963056,"body_markdown":"I&#39;m trying to display the application version of my Spring Boot application in a view. I&#39;m sure I can access this version information, I just don&#39;t know how.\r\n\r\nI tried following this information: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html, and put this in my `application.properties`:\r\n\r\n    info.build.version=${version}\r\n\r\nAnd then loading it `@Value(&quot;${version.test}&quot;)` in my controller, but that doesn&#39;t work, I only get errors like:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;\r\n\r\nAny suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I'm trying to display the application version of my Spring Boot application in a view. I'm sure I can access this version information, I just don't know how.</p>\n\n<p>I tried following this information: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a>, and put this in my <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=${version}\n</code></pre>\n\n<p>And then loading it <code>@Value(\"${version.test}\")</code> in my controller, but that doesn't work, I only get errors like:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'version' in string value \"${version}\"\n</code></pre>\n\n<p>Any suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?</p>\n"},{"tags":["java","maven","gradle","apache-phoenix"],"owner":{"account_id":107310,"reputation":2662,"user_id":285409,"accept_rate":81,"display_name":"Limey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675958599,"creation_date":1675958599,"question_id":75401249,"body_markdown":"\r\nSo I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\r\n    implementation &#39;org.apache.phoenix:phoenix-core:5.1.3&#39;\r\n\r\nWhen I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;&quot;\r\n\r\n       &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n     Required by:\r\n         project : &gt; org.apache.phoenix:phoenix-core:5.1.3\r\n        &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n           &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;\r\n      &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\r\n\r\nI have search high and low on google, and can&#39;t find a reason for this.  I have tried clearing everything and nothing helps.\r\n\r\n\r\nThanks","title":"phoenix-core can&#39;t install because of omid error","body":"<p>So I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3</p>\n<pre><code>// https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\nimplementation 'org.apache.phoenix:phoenix-core:5.1.3'\n</code></pre>\n<p>When I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'&quot;</p>\n<pre><code>   &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n Required by:\n     project : &gt; org.apache.phoenix:phoenix-core:5.1.3\n    &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n       &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'\n  &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\n</code></pre>\n<p>I have search high and low on google, and can't find a reason for this.  I have tried clearing everything and nothing helps.</p>\n<p>Thanks</p>\n"},{"tags":["python","java","android","ffmpeg","stdin"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1653686285,"post_id":72370894,"comment_id":127919728,"body_markdown":"Do you mean writing to stdin pipe of FFmpeg sub-process in JAVA?","body":"Do you mean writing to stdin pipe of FFmpeg sub-process in JAVA?"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1653692040,"post_id":72370894,"comment_id":127920794,"body_markdown":"I am not sure if in Java we can do that, from what I was looking It could be done ProcessBuilder, although if Java has stdin pipe, that would be great.","body":"I am not sure if in Java we can do that, from what I was looking It could be done ProcessBuilder, although if Java has stdin pipe, that would be great."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1653719860,"post_id":72370894,"comment_id":127923921,"body_markdown":"Possibly related: [How to create a video from an array of images in Android?](https://stackoverflow.com/a/40456156/295004) and [how to make RTSP server at android phone?](https://stackoverflow.com/a/40863153/295004)","body":"Possibly related: <a href=\"https://stackoverflow.com/a/40456156/295004\">How to create a video from an array of images in Android?</a> and <a href=\"https://stackoverflow.com/a/40863153/295004\">how to make RTSP server at android phone?</a>"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1653725651,"post_id":72370894,"comment_id":127924779,"body_markdown":"I don&#39;t know enough JAVA, and don&#39;t know the limitation on Android. Is it possible to create a sub-process like this: `p = Runtime.getRuntime().exec(cmd)`? (when `cmd = &quot;ffmpeg&quot;...` with arguments list), Then use `p_stdin = DataOutputStream(p.getOutputStream())`, and write data to stdin: `p_stdin.write(arr)`?","body":"I don&#39;t know enough JAVA, and don&#39;t know the limitation on Android. Is it possible to create a sub-process like this: <code>p = Runtime.getRuntime().exec(cmd)</code>? (when <code>cmd = &quot;ffmpeg&quot;...</code> with arguments list), Then use <code>p_stdin = DataOutputStream(p.getOutputStream())</code>, and write data to stdin: <code>p_stdin.write(arr)</code>?"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1654058690,"post_id":72370894,"comment_id":127998826,"body_markdown":"It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;, see https://github.com/bytedeco/javacv/issues/1127#issuecomment-643700534","body":"It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;, see <a href=\"https://github.com/bytedeco/javacv/issues/1127#issuecomment-643700534\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv/issues/1127#issuecomment-64370053&zwnj;&#8203;4</a>"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1654174841,"post_id":72370894,"comment_id":128031848,"body_markdown":"Although, I am getting &quot;W/System.err: Warning: Version of org.bytedeco:ffmpeg could not be found.&quot;","body":"Although, I am getting &quot;W/System.err: Warning: Version of org.bytedeco:ffmpeg could not be found.&quot;"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1654224883,"post_id":72370894,"comment_id":128045415,"body_markdown":"That warning is normal on Android because the build system strips away the properties where the version information is stored.","body":"That warning is normal on Android because the build system strips away the properties where the version information is stored."}],"answers":[{"comments":[{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1653954574,"post_id":72427597,"comment_id":127971656,"body_markdown":"I was able to replicate on netbeans using rtsp, now I am trying to use JavaCV for the ffmpeg, but there are currently some errors in it, so I am trying to fix it, I will upate the comment if I manage to get it right","body":"I was able to replicate on netbeans using rtsp, now I am trying to use JavaCV for the ffmpeg, but there are currently some errors in it, so I am trying to fix it, I will upate the comment if I manage to get it right"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1654016339,"post_id":72427597,"comment_id":127990091,"body_markdown":"I updated my answer with code sample that uses JavaCV. I don&#39;t know if that is what you are looking for, but it is more interesting than writing arbitrary values...","body":"I updated my answer with code sample that uses JavaCV. I don&#39;t know if that is what you are looking for, but it is more interesting than writing arbitrary values..."},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1654119041,"post_id":72427597,"comment_id":128018655,"body_markdown":"for some reason it deadlocks on android","body":"for some reason it deadlocks on android"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1654154685,"post_id":72427597,"comment_id":128024993,"body_markdown":"Is there a deadlock with the simple example (&quot;arbitrary pixel values&quot;) in a short loop? Try adding `&quot;-re&quot;` argument (it may free some CPU utilization).","body":"Is there a deadlock with the simple example (&quot;arbitrary pixel values&quot;) in a short loop? Try adding <code>&quot;-re&quot;</code> argument (it may free some CPU utilization)."},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1656020098,"post_id":72427597,"comment_id":128476793,"body_markdown":"This approach works on android version 9 below. Apparently, android 10 or above you can no longer call executables during code execution, so it won&#39;t load javacv&#39;s ffmpeg.","body":"This approach works on android version 9 below. Apparently, android 10 or above you can no longer call executables during code execution, so it won&#39;t load javacv&#39;s ffmpeg."},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":1,"creation_date":1656023731,"post_id":72427597,"comment_id":128477502,"body_markdown":"We have been warned (by Samuel Audet comment): **It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;**. I guess the post may still be helpful for other platforms. It is likely that there are other approaches that works with Android 10, but I have zero experience with Android development.","body":"We have been warned (by Samuel Audet comment): <b>It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;</b>. I guess the post may still be helpful for other platforms. It is likely that there are other approaches that works with Android 10, but I have zero experience with Android development."}],"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1654016153,"creation_date":1653862054,"answer_id":72427597,"question_id":72370894,"body_markdown":"Here is a JAVA implementation that resembles the Python code:  \r\n\r\nThe example writes raw video frames (byte arrays) to stdin pipe of FFmpeg sub-process:  \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n     _____________             ___________                  ________ \r\n    | JAVA byte   |           |           |                |        |\r\n    | Array       |   stdin   | FFmpeg    |                | Output |\r\n    | BGR (format)| --------&gt; | process   | -------------&gt; | stream |\r\n    |_____________| raw frame |___________| encoded video  |________|\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nMain stages:  \r\n\r\n - Initialize FFmpeg command arguments:  \r\n\r\n        final String command[] = {&quot;ffmpeg&quot;, &quot;-f&quot;, &quot;rawvideo&quot;, ...}\r\n\r\n - Create `ProcessBuilder` that executes FFmpeg as a sub-process:  \r\n\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n\r\n - Redirect stderr (required for reading FFmpeg messages), without it, the sub-process halts:  \r\n\r\n        pb.redirectErrorStream(true);\r\n\r\n - Start FFmpeg sub-process, and create `BufferedReader`:  \r\n\r\n        Process process = pb.start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n - Create `OutputStream` for writing to stdin pipe of FFmpeg sub-process:  \r\n\r\n        OutputStream writer = process.getOutputStream();\r\n\r\n - Write raw video frames to stdin pipe of FFmpeg sub-process in a loop:\r\n\r\n        byte img[] = new byte[width*height*3];\r\n        \r\n        for (int i = 0; i &lt; n_frmaes; i++)\r\n        {\r\n            //Fill img with pixel data\r\n            ...\r\n            writer.write(img);\r\n        }\r\n\r\n - Close stdin, read and print stderr content, and wait for sub-process to finish:\r\n\r\n        writer.close();\r\n        \r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n        {\r\n            System.out.println(line);\r\n        }        \r\n       \r\n        process.waitFor();\r\n\r\n---\r\n\r\nCode sample:  \r\nThe following code sample writes 10 raw video frames with size 192x108 to FFmpeg.  \r\nInstead of streaming to RTMP, we are writing the result to `test.flv` file (for testing).  \r\nThe example uses hard coded strings and numbers (for simplicity).\r\n\r\nNote:  \r\nThe code sample assume FFmpeg executable is in the execution path.  \r\n\r\n    package myproject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    public class FfmpegVideoWriter {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\r\n            \r\n            final String command[] = {&quot;ffmpeg&quot;,\r\n                                      &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                      &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                      &quot;-s&quot;, &quot;192x108&quot;,\r\n                                      &quot;-r&quot;, &quot;10&quot;,\r\n                                      &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                      &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                      &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                      &quot;-f&quot;, &quot;flv&quot;,\r\n                                      rtmp_url};\r\n            \r\n            //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\r\n            ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\r\n            pb.redirectErrorStream(true); //Redirect stderr\r\n            Process process = pb.start();               \r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            \r\n            //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\r\n            OutputStream writer = process.getOutputStream();\r\n            \r\n            byte img[] = new byte[192*108*3];   //Dummy image \r\n            \r\n            //Write 10 video frames to stdin pipe of FFmpeg sub-process\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                //Fill image with some arbitrary pixel values\r\n                for (int y = 0; y &lt; 108; y++)\r\n                {\r\n                    for (int x = 0; x &lt; 192; x++)\r\n                    {\r\n                        //Arbitrary RGB values:\r\n                        byte r = (byte)((x * y + i) % 255); //Red component\r\n                        byte g = (byte)((x * y + i*10) % 255); //Green component\r\n                        byte b = (byte)((x * y + i*20) % 255); //Blue component\r\n                        img[(y*192 + x)*3] = b; \r\n                        img[(y*192 + x)*3+1] = g;\r\n                        img[(y*192 + x)*3+2] = r;\r\n                    }\r\n                }\r\n                \r\n                writer.write(img);  //Write img to FFmpeg\r\n            }\r\n            \r\n            writer.close();  //Close stdin pipe.\r\n    \r\n            //Read and print stderr content\r\n            //Note: there may be cases when FFmpeg keeps printing messages, so it may not be the best solution to empty the buffer only at the end.\r\n            //We may consider adding an argument `-loglevel error` for reducing verbosity.\r\n            String line;\r\n            while ((line = reader.readLine()) != null)\r\n            {\r\n                System.out.println(line);\r\n            }        \r\n           \r\n            process.waitFor();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nThe code was tested in my PC (with Windows 10), and I am not sure it&#39;s going to work  with Android...  \r\n\r\nThe above sample is simplistic and generic, in your case you may use `rgba` pixel format and write `FrameData` inside `onFrame` method.\r\n\r\n\r\nSample video frame (&quot;arbitrary pixel values&quot;):  \r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nUpdate:  \r\n---\r\n\r\nThe following code sample uses JavaCV - writes Mat data to FFmpeg:  \r\n\r\n    package myproject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    public class FfmpegVideoWriter {\r\n        static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n        \r\n        //Build synthetic &quot;raw BGR&quot; image for testing\r\n        public static void buildRawFrame(Mat img, int i)\r\n        {\r\n            int p = img.cols() / 60;    //Used as font size factor.\r\n            img.setTo(new Scalar(60, 60, 60));  //Fill image with dark gray color\r\n            String text = Integer.toString(i+1);\r\n            int font = Imgproc.FONT_HERSHEY_SIMPLEX;\r\n            Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\r\n            Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            final int cols = 192;\r\n            final int rows = 108;\r\n            \r\n            final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\r\n            \r\n            final String command[] = {&quot;ffmpeg&quot;,\r\n                                      &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                      &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                      &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\r\n                                      &quot;-r&quot;, &quot;10&quot;,\r\n                                      &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                      &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                      &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                      &quot;-f&quot;, &quot;flv&quot;,\r\n                                      rtmp_url};\r\n            \r\n            //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\r\n            ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\r\n            pb.redirectErrorStream(true); //Redirect stderr\r\n            Process process = pb.start();               \r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            \r\n            //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\r\n            OutputStream writer = process.getOutputStream();\r\n            \r\n            //Dummy image (BGR pixel format).\r\n            Mat img = new Mat(rows, cols, CvType.CV_8UC3, Scalar.all(0));\r\n            \r\n            byte buffer[] = new byte[cols*rows*3]; //Byte array for storing img data    \r\n            \r\n            //Write 10 video frames to stdin pipe of FFmpeg sub-process\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                buildRawFrame(img, i); //Build image with blue frame counter.\r\n                           \r\n                img.get(0, 0, buffer); //Copy img data to buffer (not sure if this is the best solution).  \r\n                \r\n                writer.write(buffer); //Write buffer (raw video frame as byte array) to FFmpeg\r\n            }\r\n            \r\n            writer.close(); //Close stdin pipe.\r\n    \r\n            //Read and print stderr content\r\n            String line;\r\n            while ((line = reader.readLine()) != null)\r\n            {\r\n                System.out.println(line);\r\n            }        \r\n           \r\n            process.waitFor();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nSample output frame:  \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fP1i3.png\r\n  [2]: https://i.stack.imgur.com/BkmfB.png","title":"Stream image from Android with FFMPEG","body":"<p>Here is a JAVA implementation that resembles the Python code:</p>\n<p>The example writes raw video frames (byte arrays) to stdin pipe of FFmpeg sub-process:</p>\n<pre class=\"lang-none prettyprint-override\"><code> _____________             ___________                  ________ \n| JAVA byte   |           |           |                |        |\n| Array       |   stdin   | FFmpeg    |                | Output |\n| BGR (format)| --------&gt; | process   | -------------&gt; | stream |\n|_____________| raw frame |___________| encoded video  |________|\n</code></pre>\n<p>Main stages:</p>\n<ul>\n<li><p>Initialize FFmpeg command arguments:</p>\n<pre><code> final String command[] = {&quot;ffmpeg&quot;, &quot;-f&quot;, &quot;rawvideo&quot;, ...}\n</code></pre>\n</li>\n<li><p>Create <code>ProcessBuilder</code> that executes FFmpeg as a sub-process:</p>\n<pre><code> ProcessBuilder pb = new ProcessBuilder(command);\n</code></pre>\n</li>\n<li><p>Redirect stderr (required for reading FFmpeg messages), without it, the sub-process halts:</p>\n<pre><code> pb.redirectErrorStream(true);\n</code></pre>\n</li>\n<li><p>Start FFmpeg sub-process, and create <code>BufferedReader</code>:</p>\n<pre><code> Process process = pb.start();\n BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n</code></pre>\n</li>\n<li><p>Create <code>OutputStream</code> for writing to stdin pipe of FFmpeg sub-process:</p>\n<pre><code> OutputStream writer = process.getOutputStream();\n</code></pre>\n</li>\n<li><p>Write raw video frames to stdin pipe of FFmpeg sub-process in a loop:</p>\n<pre><code> byte img[] = new byte[width*height*3];\n\n for (int i = 0; i &lt; n_frmaes; i++)\n {\n     //Fill img with pixel data\n     ...\n     writer.write(img);\n }\n</code></pre>\n</li>\n<li><p>Close stdin, read and print stderr content, and wait for sub-process to finish:</p>\n<pre><code> writer.close();\n\n String line;\n while ((line = reader.readLine()) != null)\n {\n     System.out.println(line);\n }        \n\n process.waitFor();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Code sample:<br />\nThe following code sample writes 10 raw video frames with size 192x108 to FFmpeg.<br />\nInstead of streaming to RTMP, we are writing the result to <code>test.flv</code> file (for testing).<br />\nThe example uses hard coded strings and numbers (for simplicity).</p>\n<p>Note:<br />\nThe code sample assume FFmpeg executable is in the execution path.</p>\n<pre><code>package myproject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\npublic class FfmpegVideoWriter {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\n        \n        final String command[] = {&quot;ffmpeg&quot;,\n                                  &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                                  &quot;-f&quot;, &quot;rawvideo&quot;,\n                                  &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                                  &quot;-s&quot;, &quot;192x108&quot;,\n                                  &quot;-r&quot;, &quot;10&quot;,\n                                  &quot;-i&quot;, &quot;pipe:&quot;,\n                                  &quot;-c:v&quot;, &quot;libx264&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                                  &quot;-preset&quot;, &quot;ultrafast&quot;,\n                                  &quot;-f&quot;, &quot;flv&quot;,\n                                  rtmp_url};\n        \n        //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\n        ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\n        pb.redirectErrorStream(true); //Redirect stderr\n        Process process = pb.start();               \n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        \n        //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\n        OutputStream writer = process.getOutputStream();\n        \n        byte img[] = new byte[192*108*3];   //Dummy image \n        \n        //Write 10 video frames to stdin pipe of FFmpeg sub-process\n        for (int i = 0; i &lt; 10; i++)\n        {\n            //Fill image with some arbitrary pixel values\n            for (int y = 0; y &lt; 108; y++)\n            {\n                for (int x = 0; x &lt; 192; x++)\n                {\n                    //Arbitrary RGB values:\n                    byte r = (byte)((x * y + i) % 255); //Red component\n                    byte g = (byte)((x * y + i*10) % 255); //Green component\n                    byte b = (byte)((x * y + i*20) % 255); //Blue component\n                    img[(y*192 + x)*3] = b; \n                    img[(y*192 + x)*3+1] = g;\n                    img[(y*192 + x)*3+2] = r;\n                }\n            }\n            \n            writer.write(img);  //Write img to FFmpeg\n        }\n        \n        writer.close();  //Close stdin pipe.\n\n        //Read and print stderr content\n        //Note: there may be cases when FFmpeg keeps printing messages, so it may not be the best solution to empty the buffer only at the end.\n        //We may consider adding an argument `-loglevel error` for reducing verbosity.\n        String line;\n        while ((line = reader.readLine()) != null)\n        {\n            System.out.println(line);\n        }        \n       \n        process.waitFor();\n    }\n}\n</code></pre>\n<hr />\n<p>The code was tested in my PC (with Windows 10), and I am not sure it's going to work  with Android...</p>\n<p>The above sample is simplistic and generic, in your case you may use <code>rgba</code> pixel format and write <code>FrameData</code> inside <code>onFrame</code> method.</p>\n<p>Sample video frame (&quot;arbitrary pixel values&quot;):<br />\n<a href=\"https://i.stack.imgur.com/fP1i3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fP1i3.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Update:</h2>\n<p>The following code sample uses JavaCV - writes Mat data to FFmpeg:</p>\n<pre><code>package myproject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Point;\nimport org.opencv.imgproc.Imgproc;\n\npublic class FfmpegVideoWriter {\n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    \n    //Build synthetic &quot;raw BGR&quot; image for testing\n    public static void buildRawFrame(Mat img, int i)\n    {\n        int p = img.cols() / 60;    //Used as font size factor.\n        img.setTo(new Scalar(60, 60, 60));  //Fill image with dark gray color\n        String text = Integer.toString(i+1);\n        int font = Imgproc.FONT_HERSHEY_SIMPLEX;\n        Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\n        Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\n    }\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        final int cols = 192;\n        final int rows = 108;\n        \n        final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\n        \n        final String command[] = {&quot;ffmpeg&quot;,\n                                  &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                                  &quot;-f&quot;, &quot;rawvideo&quot;,\n                                  &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                                  &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\n                                  &quot;-r&quot;, &quot;10&quot;,\n                                  &quot;-i&quot;, &quot;pipe:&quot;,\n                                  &quot;-c:v&quot;, &quot;libx264&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                                  &quot;-preset&quot;, &quot;ultrafast&quot;,\n                                  &quot;-f&quot;, &quot;flv&quot;,\n                                  rtmp_url};\n        \n        //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\n        ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\n        pb.redirectErrorStream(true); //Redirect stderr\n        Process process = pb.start();               \n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        \n        //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\n        OutputStream writer = process.getOutputStream();\n        \n        //Dummy image (BGR pixel format).\n        Mat img = new Mat(rows, cols, CvType.CV_8UC3, Scalar.all(0));\n        \n        byte buffer[] = new byte[cols*rows*3]; //Byte array for storing img data    \n        \n        //Write 10 video frames to stdin pipe of FFmpeg sub-process\n        for (int i = 0; i &lt; 10; i++)\n        {\n            buildRawFrame(img, i); //Build image with blue frame counter.\n                       \n            img.get(0, 0, buffer); //Copy img data to buffer (not sure if this is the best solution).  \n            \n            writer.write(buffer); //Write buffer (raw video frame as byte array) to FFmpeg\n        }\n        \n        writer.close(); //Close stdin pipe.\n\n        //Read and print stderr content\n        String line;\n        while ((line = reader.readLine()) != null)\n        {\n            System.out.println(line);\n        }        \n       \n        process.waitFor();\n    }\n}\n</code></pre>\n<hr />\n<p>Sample output frame:<br />\n<a href=\"https://i.stack.imgur.com/BkmfB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BkmfB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3157168,"reputation":1295,"user_id":2669317,"display_name":"volzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675958384,"creation_date":1675958384,"answer_id":75401200,"question_id":72370894,"body_markdown":"I found using [ffmpeg-kit](https://github.com/arthenica/ffmpeg-kit) for Android slightly more convenient than invoking the ffmpeg binary using ProcessBuilder.\r\n\r\nThe simplest way to pass arbitrary data (ie. images as bytes[]) to ffmpeg is to make use of [named pipes](https://en.wikipedia.org/wiki/Named_pipe). \r\n\r\nThe pipe is created in `{app_data}/cache/pipes/fk_pipe_1` and can be accessed like any Unix file with a FileOutputStream.\r\n\r\nNote that the ffmpeg command is only executed once data can be read from the pipe. More info can be found in the [ffmpeg-kit wiki](https://github.com/arthenica/ffmpeg-kit/wiki/Pipe-Support).\r\n\r\nIn some cases it may be easier to access the camera directly, this is [supported](https://github.com/arthenica/ffmpeg-kit/wiki/Camera-Support) for API level 24 and higher.\r\n\r\n    String rtmp_url = &quot;rtp://127.0.0.1:9000&quot;;\r\n\r\n    String pipe1 = FFmpegKitConfig.registerNewFFmpegPipe(context);\r\n\r\n    FFmpegKit.executeAsync(&quot;-re -f rawvideo -pixel_format bgr24 -video_size 640x480 -i &quot; + pipe1 + &quot; -f rtp_mpegts&quot; + &quot; &quot; + rtmp_url, new FFmpegSessionCompleteCallback() {\r\n\r\n        @Override\r\n        public void apply(FFmpegSession session) {\r\n            SessionState state = session.getState();\r\n            ReturnCode returnCode = session.getReturnCode();\r\n            // CALLED WHEN SESSION IS EXECUTED\r\n            Log.d(TAG, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, state, returnCode, session.getFailStackTrace()));\r\n        }\r\n    }, new LogCallback() {\r\n\r\n        @Override\r\n        public void apply(com.arthenica.ffmpegkit.Log log) {\r\n            // CALLED WHEN SESSION PRINTS LOGS\r\n        }\r\n    }, new StatisticsCallback() {\r\n\r\n        @Override\r\n        public void apply(Statistics statistics) {\r\n            // CALLED WHEN SESSION GENERATES STATISTICS\r\n        }\r\n    });\r\n    \r\n    byte img[] = new byte[640*480*3];   // dummy image\r\n    FileOutputStream out = new FileOutputStream(pipe1);\r\n    try {\r\n        for (int i=0; i&lt;100; i++) { // write 100 empty frames\r\n            out.write(img);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        out.close();\r\n    ","title":"Stream image from Android with FFMPEG","body":"<p>I found using <a href=\"https://github.com/arthenica/ffmpeg-kit\" rel=\"nofollow noreferrer\">ffmpeg-kit</a> for Android slightly more convenient than invoking the ffmpeg binary using ProcessBuilder.</p>\n<p>The simplest way to pass arbitrary data (ie. images as bytes[]) to ffmpeg is to make use of <a href=\"https://en.wikipedia.org/wiki/Named_pipe\" rel=\"nofollow noreferrer\">named pipes</a>.</p>\n<p>The pipe is created in <code>{app_data}/cache/pipes/fk_pipe_1</code> and can be accessed like any Unix file with a FileOutputStream.</p>\n<p>Note that the ffmpeg command is only executed once data can be read from the pipe. More info can be found in the <a href=\"https://github.com/arthenica/ffmpeg-kit/wiki/Pipe-Support\" rel=\"nofollow noreferrer\">ffmpeg-kit wiki</a>.</p>\n<p>In some cases it may be easier to access the camera directly, this is <a href=\"https://github.com/arthenica/ffmpeg-kit/wiki/Camera-Support\" rel=\"nofollow noreferrer\">supported</a> for API level 24 and higher.</p>\n<pre><code>String rtmp_url = &quot;rtp://127.0.0.1:9000&quot;;\n\nString pipe1 = FFmpegKitConfig.registerNewFFmpegPipe(context);\n\nFFmpegKit.executeAsync(&quot;-re -f rawvideo -pixel_format bgr24 -video_size 640x480 -i &quot; + pipe1 + &quot; -f rtp_mpegts&quot; + &quot; &quot; + rtmp_url, new FFmpegSessionCompleteCallback() {\n\n    @Override\n    public void apply(FFmpegSession session) {\n        SessionState state = session.getState();\n        ReturnCode returnCode = session.getReturnCode();\n        // CALLED WHEN SESSION IS EXECUTED\n        Log.d(TAG, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, state, returnCode, session.getFailStackTrace()));\n    }\n}, new LogCallback() {\n\n    @Override\n    public void apply(com.arthenica.ffmpegkit.Log log) {\n        // CALLED WHEN SESSION PRINTS LOGS\n    }\n}, new StatisticsCallback() {\n\n    @Override\n    public void apply(Statistics statistics) {\n        // CALLED WHEN SESSION GENERATES STATISTICS\n    }\n});\n\nbyte img[] = new byte[640*480*3];   // dummy image\nFileOutputStream out = new FileOutputStream(pipe1);\ntry {\n    for (int i=0; i&lt;100; i++) { // write 100 empty frames\n        out.write(img);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    out.close();\n</code></pre>\n"}],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1918,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72427597,"answer_count":2,"score":4,"last_activity_date":1675958384,"creation_date":1653439616,"question_id":72370894,"body_markdown":"I&#39;m currently receiving images from an external source as byte array and I would like to send it as raw video format via ffmpeg to a stream URL, where I have a RTSP server that receives RTSP streams ([a similar unanswered question][1]). However, I haven&#39;t worked with FFMPEG in Java, so i can&#39;t find an example on how to do it. I have a callback that copies the image bytes to a byte array as follows:\r\n\r\n\r\n            public class MainActivity extends Activity {\r\n                final String rtmp_url = &quot;rtmp://192.168.0.12:1935/live/test&quot;;\r\n                private int PREVIEW_WIDTH = 384;\r\n                private int PREVIEW_HEIGHT = 292;\r\n                private String TAG = &quot;MainActivity&quot;;\r\n                String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\r\n                final String command[] = {ffmpeg,\r\n                                &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                &quot;-s&quot;, (Integer.toString(PREVIEW_WIDTH) + &quot;x&quot; + Integer.toString(PREVIEW_HEIGHT)),\r\n                                &quot;-r&quot;, &quot;10&quot;,\r\n                                &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                &quot;-f&quot;, &quot;flv&quot;,\r\n                                rtmp_url};\r\n                \r\n          private UVCCamera mUVCCamera;\r\n\r\n    public void handleStartPreview(Object surface) throws InterruptedException, IOException {\r\n        Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + mUVCCamera + &quot; mIsPreviewing:&quot;);\r\n        if ((mUVCCamera == null)) return;\r\n        Log.e(TAG, &quot;handleStartPreview2 &quot;);\r\n        try {\r\n            mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, 0, UVCCamera.DEFAULT_BANDWIDTH, 0);\r\n            Log.e(TAG, &quot;handleStartPreview3 mWidth: &quot; + mWidth + &quot;mHeight:&quot; + mHeight);\r\n        } catch (IllegalArgumentException e) {\r\n            try {\r\n                // fallback to YUV mode\r\n                mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, UVCCamera.DEFAULT_PREVIEW_MODE, UVCCamera.DEFAULT_BANDWIDTH, 0);\r\n                Log.e(TAG, &quot;handleStartPreview4&quot;);\r\n            } catch (IllegalArgumentException e1) {\r\n                callOnError(e1);\r\n                return;\r\n            }\r\n        }\r\n        Log.e(TAG, &quot;handleStartPreview: startPreview1&quot;);\r\n        int result = mUVCCamera.startPreview();\r\n        mUVCCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\r\n        mUVCCamera.startCapture();\r\n        Toast.makeText(MainActivity.this,&quot;Camera Started&quot;,Toast.LENGTH_SHORT).show();\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n        pb.redirectErrorStream(true);\r\n        Process process = pb.start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        OutputStream writer = process.getOutputStream();\r\n        byte img[] = new byte[192*108*3];\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            for (int y = 0; y &lt; 108; y++)\r\n            {\r\n                for (int x = 0; x &lt; 192; x++)\r\n                {\r\n                    byte r = (byte)((x * y + i) % 255);\r\n                    byte g = (byte)((x * y + i*10) % 255);\r\n                    byte b = (byte)((x * y + i*20) % 255);\r\n                    img[(y*192 + x)*3] = b;\r\n                    img[(y*192 + x)*3+1] = g;\r\n                    img[(y*192 + x)*3+2] = r;\r\n                }\r\n            }\r\n\r\n            writer.write(img);\r\n        }\r\n\r\n        writer.close();\r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n        {\r\n            System.out.println(line);\r\n        }\r\n\r\n        process.waitFor();\r\n    }\r\n    public static void buildRawFrame(Mat img, int i)\r\n    {\r\n        int p = img.cols() / 60;\r\n        img.setTo(new Scalar(60, 60, 60));\r\n        String text = Integer.toString(i+1);\r\n        int font = Imgproc.FONT_HERSHEY_SIMPLEX;\r\n        Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\r\n        Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\r\n    }\r\n\r\nAdditionally: https://stackoverflow.com/questions/15280722/android-camera-capture-using-ffmpeg\r\n\r\nuses ffmpeg to capture frame by frame from native android camera and instead of pushing it via RTMP, they used to generate a video file as output. Although how the image was passed via ffmpeg was not informed.\r\n\r\nframeData is my byte array and I&#39;d like to know how can I write the necessary ffmpeg commands using ProcessBuilder to send an image via RTSP using ffmpeg for a given URL.\r\n\r\nAn example of what I am trying to do, In Python 3 I could easily do it by doing:\r\n\r\n    import cv2\r\n    import numpy as np\r\n    import socket\r\n    import sys\r\n    import pickle\r\n    import struct\r\n    import subprocess\r\n    \r\n    fps = 25\r\n    width = 224\r\n    height = 224\r\n    rtmp_url = &#39;rtmp://192.168.0.13:1935/live/test&#39;\r\n        \r\n        \r\n        \r\n        command = [&#39;ffmpeg&#39;,\r\n                   &#39;-y&#39;,\r\n                   &#39;-f&#39;, &#39;rawvideo&#39;,\r\n                   &#39;-vcodec&#39;, &#39;rawvideo&#39;,\r\n                   &#39;-pix_fmt&#39;, &#39;bgr24&#39;,\r\n                   &#39;-s&#39;, &quot;{}x{}&quot;.format(width, height),\r\n                   &#39;-r&#39;, str(fps),\r\n                   &#39;-i&#39;, &#39;-&#39;,\r\n                   &#39;-c:v&#39;, &#39;libx264&#39;,\r\n                   &#39;-pix_fmt&#39;, &#39;yuv420p&#39;,\r\n                   &#39;-preset&#39;, &#39;ultrafast&#39;,\r\n                   &#39;-f&#39;, &#39;flv&#39;,\r\n                   rtmp_url]\r\n        \r\n        p = subprocess.Popen(command, stdin=subprocess.PIPE)\r\n        \r\n        while(True):\r\n            frame = np.random.randint([255], size=(224, 224, 3))\r\n            frame = frame.astype(np.uint8)\r\n            p.stdin.write(frame.tobytes())\r\n\r\n\r\nI would like to do the same thing in Android\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41956604/how-can-we-feed-bytearray-of-an-image-in-input-of-ffmpeg-for-doing-direct-operat\r\n\r\nUpdate: I can reproduce @Rotem &#39;s answer on Netbeans although, in Android I am getting NullPointer exception error when trying to execute pb.start(). \r\n\r\n\r\n        Process: com.infiRay.XthermMini, PID: 32089\r\n        java.lang.NullPointerException\r\n            at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\r\n            at com.infiRay.XthermMini.MainActivity.handleStartPreview(MainActivity.java:512)\r\n            at com.infiRay.XthermMini.MainActivity.startPreview(MainActivity.java:563)\r\n            at com.infiRay.XthermMini.MainActivity.access$1000(MainActivity.java:49)\r\n            at com.infiRay.XthermMini.MainActivity$3.onConnect(MainActivity.java:316)\r\n            at com.serenegiant.usb.USBMonitor$3.run(USBMonitor.java:620)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loopOnce(Looper.java:226)\r\n            at android.os.Looper.loop(Looper.java:313)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n    2022-06-02 11:47:20.300 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.308 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.312 32089-32089/com.infiRay.XthermMini E/MainActivity: onPause:\r\n    2022-06-02 11:47:20.314 32089-32581/com.infiRay.XthermMini I/Process: Sending signal. PID: 32089 SIG: 9\r\n\r\n\r\n","title":"Stream image from Android with FFMPEG","body":"<p>I'm currently receiving images from an external source as byte array and I would like to send it as raw video format via ffmpeg to a stream URL, where I have a RTSP server that receives RTSP streams (<a href=\"https://stackoverflow.com/questions/41956604/how-can-we-feed-bytearray-of-an-image-in-input-of-ffmpeg-for-doing-direct-operat\">a similar unanswered question</a>). However, I haven't worked with FFMPEG in Java, so i can't find an example on how to do it. I have a callback that copies the image bytes to a byte array as follows:</p>\n<pre><code>        public class MainActivity extends Activity {\n            final String rtmp_url = &quot;rtmp://192.168.0.12:1935/live/test&quot;;\n            private int PREVIEW_WIDTH = 384;\n            private int PREVIEW_HEIGHT = 292;\n            private String TAG = &quot;MainActivity&quot;;\n            String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\n            final String command[] = {ffmpeg,\n                            &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                            &quot;-f&quot;, &quot;rawvideo&quot;,\n                            &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                            &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                            &quot;-s&quot;, (Integer.toString(PREVIEW_WIDTH) + &quot;x&quot; + Integer.toString(PREVIEW_HEIGHT)),\n                            &quot;-r&quot;, &quot;10&quot;,\n                            &quot;-i&quot;, &quot;pipe:&quot;,\n                            &quot;-c:v&quot;, &quot;libx264&quot;,\n                            &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                            &quot;-preset&quot;, &quot;ultrafast&quot;,\n                            &quot;-f&quot;, &quot;flv&quot;,\n                            rtmp_url};\n            \n      private UVCCamera mUVCCamera;\n\npublic void handleStartPreview(Object surface) throws InterruptedException, IOException {\n    Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + mUVCCamera + &quot; mIsPreviewing:&quot;);\n    if ((mUVCCamera == null)) return;\n    Log.e(TAG, &quot;handleStartPreview2 &quot;);\n    try {\n        mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, 0, UVCCamera.DEFAULT_BANDWIDTH, 0);\n        Log.e(TAG, &quot;handleStartPreview3 mWidth: &quot; + mWidth + &quot;mHeight:&quot; + mHeight);\n    } catch (IllegalArgumentException e) {\n        try {\n            // fallback to YUV mode\n            mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, UVCCamera.DEFAULT_PREVIEW_MODE, UVCCamera.DEFAULT_BANDWIDTH, 0);\n            Log.e(TAG, &quot;handleStartPreview4&quot;);\n        } catch (IllegalArgumentException e1) {\n            callOnError(e1);\n            return;\n        }\n    }\n    Log.e(TAG, &quot;handleStartPreview: startPreview1&quot;);\n    int result = mUVCCamera.startPreview();\n    mUVCCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\n    mUVCCamera.startCapture();\n    Toast.makeText(MainActivity.this,&quot;Camera Started&quot;,Toast.LENGTH_SHORT).show();\n    ProcessBuilder pb = new ProcessBuilder(command);\n    pb.redirectErrorStream(true);\n    Process process = pb.start();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    OutputStream writer = process.getOutputStream();\n    byte img[] = new byte[192*108*3];\n    for (int i = 0; i &lt; 10; i++)\n    {\n        for (int y = 0; y &lt; 108; y++)\n        {\n            for (int x = 0; x &lt; 192; x++)\n            {\n                byte r = (byte)((x * y + i) % 255);\n                byte g = (byte)((x * y + i*10) % 255);\n                byte b = (byte)((x * y + i*20) % 255);\n                img[(y*192 + x)*3] = b;\n                img[(y*192 + x)*3+1] = g;\n                img[(y*192 + x)*3+2] = r;\n            }\n        }\n\n        writer.write(img);\n    }\n\n    writer.close();\n    String line;\n    while ((line = reader.readLine()) != null)\n    {\n        System.out.println(line);\n    }\n\n    process.waitFor();\n}\npublic static void buildRawFrame(Mat img, int i)\n{\n    int p = img.cols() / 60;\n    img.setTo(new Scalar(60, 60, 60));\n    String text = Integer.toString(i+1);\n    int font = Imgproc.FONT_HERSHEY_SIMPLEX;\n    Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\n    Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\n}\n</code></pre>\n<p>Additionally: <a href=\"https://stackoverflow.com/questions/15280722/android-camera-capture-using-ffmpeg\">Android Camera Capture using FFmpeg</a></p>\n<p>uses ffmpeg to capture frame by frame from native android camera and instead of pushing it via RTMP, they used to generate a video file as output. Although how the image was passed via ffmpeg was not informed.</p>\n<p>frameData is my byte array and I'd like to know how can I write the necessary ffmpeg commands using ProcessBuilder to send an image via RTSP using ffmpeg for a given URL.</p>\n<p>An example of what I am trying to do, In Python 3 I could easily do it by doing:</p>\n<pre><code>import cv2\nimport numpy as np\nimport socket\nimport sys\nimport pickle\nimport struct\nimport subprocess\n\nfps = 25\nwidth = 224\nheight = 224\nrtmp_url = 'rtmp://192.168.0.13:1935/live/test'\n    \n    \n    \n    command = ['ffmpeg',\n               '-y',\n               '-f', 'rawvideo',\n               '-vcodec', 'rawvideo',\n               '-pix_fmt', 'bgr24',\n               '-s', &quot;{}x{}&quot;.format(width, height),\n               '-r', str(fps),\n               '-i', '-',\n               '-c:v', 'libx264',\n               '-pix_fmt', 'yuv420p',\n               '-preset', 'ultrafast',\n               '-f', 'flv',\n               rtmp_url]\n    \n    p = subprocess.Popen(command, stdin=subprocess.PIPE)\n    \n    while(True):\n        frame = np.random.randint([255], size=(224, 224, 3))\n        frame = frame.astype(np.uint8)\n        p.stdin.write(frame.tobytes())\n</code></pre>\n<p>I would like to do the same thing in Android</p>\n<p>Update: I can reproduce @Rotem 's answer on Netbeans although, in Android I am getting NullPointer exception error when trying to execute pb.start().</p>\n<pre><code>    Process: com.infiRay.XthermMini, PID: 32089\n    java.lang.NullPointerException\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\n        at com.infiRay.XthermMini.MainActivity.handleStartPreview(MainActivity.java:512)\n        at com.infiRay.XthermMini.MainActivity.startPreview(MainActivity.java:563)\n        at com.infiRay.XthermMini.MainActivity.access$1000(MainActivity.java:49)\n        at com.infiRay.XthermMini.MainActivity$3.onConnect(MainActivity.java:316)\n        at com.serenegiant.usb.USBMonitor$3.run(USBMonitor.java:620)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n2022-06-02 11:47:20.300 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.308 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.312 32089-32089/com.infiRay.XthermMini E/MainActivity: onPause:\n2022-06-02 11:47:20.314 32089-32581/com.infiRay.XthermMini I/Process: Sending signal. PID: 32089 SIG: 9\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-navigation"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655071245,"post_id":72596066,"comment_id":128237347,"body_markdown":"Did you try &quot;Invalidate caches and restart&quot;?","body":"Did you try &quot;Invalidate caches and restart&quot;?"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655071855,"post_id":72596066,"comment_id":128237432,"body_markdown":"Just tried it now.. didn&#39;t change anything.","body":"Just tried it now.. didn&#39;t change anything."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655072180,"post_id":72596066,"comment_id":128237484,"body_markdown":"And what about if you remove this Assets folder you just added? I&#39;m thinking you may have added it incorrectly and thus Android Studio can&#39;t compile the app&#39;s resources.","body":"And what about if you remove this Assets folder you just added? I&#39;m thinking you may have added it incorrectly and thus Android Studio can&#39;t compile the app&#39;s resources."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655072592,"post_id":72596066,"comment_id":128237530,"body_markdown":"Also changes nothing. Maybe the assets folder is a red herring and something else is wrong, but that&#39;s where i have first noticed it.","body":"Also changes nothing. Maybe the assets folder is a red herring and something else is wrong, but that&#39;s where i have first noticed it."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655072887,"post_id":72596066,"comment_id":128237566,"body_markdown":"Compare your `findNavController()` usage against mine. You&#39;re doing some things differently: https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/java/com/gavinsappcreations/upcominggames/ui/list/ListFragment.kt#L48","body":"Compare your <code>findNavController()</code> usage against mine. You&#39;re doing some things differently: <a href=\"https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/java/com/gavinsappcreations/upcominggames/ui/list/ListFragment.kt#L48\" rel=\"nofollow noreferrer\">github.com/gavingt/upcoming-games/blob/&hellip;</a>"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655074383,"post_id":72596066,"comment_id":128237765,"body_markdown":"I changed mine to follow the same structure as yours and then tried &quot;invalidate caches and restart&quot; again.. still nothing","body":"I changed mine to follow the same structure as yours and then tried &quot;invalidate caches and restart&quot; again.. still nothing"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655074772,"post_id":72596066,"comment_id":128237814,"body_markdown":"What about other types of resources? Try removing the navigation code from this Fragment and see if it will recognize a String resource.","body":"What about other types of resources? Try removing the navigation code from this Fragment and see if it will recognize a String resource."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655075268,"post_id":72596066,"comment_id":128237876,"body_markdown":"even removing the navigation code form this Fragment does nothing....   just looking at the problem a little further though, *none* of the navigation parts are working now.","body":"even removing the navigation code form this Fragment does nothing....   just looking at the problem a little further though, <i>none</i> of the navigation parts are working now."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655075394,"post_id":72596066,"comment_id":128237894,"body_markdown":"In that case, I&#39;d probably just start a new project and copy everything over (if that&#39;s not too much trouble).","body":"In that case, I&#39;d probably just start a new project and copy everything over (if that&#39;s not too much trouble)."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655075581,"post_id":72596066,"comment_id":128237913,"body_markdown":"It&#39;s a lot to move over, but if I have no other option.. I just cant understand what is causing this, and AS does nothing to point it out really","body":"It&#39;s a lot to move over, but if I have no other option.. I just cant understand what is causing this, and AS does nothing to point it out really"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655076569,"post_id":72596066,"comment_id":128238012,"body_markdown":"Can you post your navigation graph XML code as well? Just update the OP to include it.","body":"Can you post your navigation graph XML code as well? Just update the OP to include it."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655078238,"post_id":72596066,"comment_id":128238189,"body_markdown":"updated with the navigation graph XML","body":"updated with the navigation graph XML"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655079020,"post_id":72596066,"comment_id":128238263,"body_markdown":"Are you using Safeargs? If so, are you sure that you&#39;ve set it up correctly?","body":"Are you using Safeargs? If so, are you sure that you&#39;ve set it up correctly?"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655079387,"post_id":72596066,"comment_id":128238303,"body_markdown":"yeah I&#39;m using SafeArgs. The app has been working for months now up until today. Nothing has changed with navigation.","body":"yeah I&#39;m using SafeArgs. The app has been working for months now up until today. Nothing has changed with navigation."},{"owner":{"account_id":16875210,"reputation":65,"user_id":12202802,"display_name":"Nick Borisenko"},"score":0,"creation_date":1655095755,"post_id":72596066,"comment_id":128240291,"body_markdown":"sometimes invalidate cache + restart doesn&#39;t work for me either. Try deleting your *generated* `.gradle` and `.idea` folders and rebuild your project","body":"sometimes invalidate cache + restart doesn&#39;t work for me either. Try deleting your <i>generated</i> <code>.gradle</code> and <code>.idea</code> folders and rebuild your project"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655123421,"post_id":72596066,"comment_id":128248630,"body_markdown":"before I delete something by accident here.. how do you know exactly which ones are generated?","body":"before I delete something by accident here.. how do you know exactly which ones are generated?"}],"answers":[{"comments":[{"owner":{"account_id":4730543,"reputation":138,"user_id":3826315,"display_name":"Saul Aryeh Kohn"},"score":0,"creation_date":1675957225,"post_id":72603498,"comment_id":133043192,"body_markdown":"This link appears to be incorrect, or I don&#39;t understand the connection you&#39;re making.","body":"This link appears to be incorrect, or I don&#39;t understand the connection you&#39;re making."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":1,"creation_date":1675958107,"post_id":72603498,"comment_id":133043549,"body_markdown":"@SaulAryehKohn that was absolutely an incorrect link. I have no idea how I didn&#39;t notice it and nobody pointed it out for over a year, but it&#39;s gone now. If I find a relevant one, I&#39;ll edit it again later.","body":"@SaulAryehKohn that was absolutely an incorrect link. I have no idea how I didn&#39;t notice it and nobody pointed it out for over a year, but it&#39;s gone now. If I find a relevant one, I&#39;ll edit it again later."}],"tags":[],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675958038,"creation_date":1655126024,"answer_id":72603498,"question_id":72596066,"body_markdown":"The problem seems to be that AS is recommending that people move their package name to build.gradle rather than Android Manifest which is causing a bug in navigation.","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>The problem seems to be that AS is recommending that people move their package name to build.gradle rather than Android Manifest which is causing a bug in navigation.</p>\n"},{"comments":[{"owner":{"account_id":2209744,"reputation":4398,"user_id":1951967,"accept_rate":54,"display_name":"Jesus Dimrix"},"score":0,"creation_date":1679839793,"post_id":72627732,"comment_id":133789037,"body_markdown":"Thanks, Any idea why?","body":"Thanks, Any idea why?"},{"owner":{"account_id":4255271,"reputation":870,"user_id":3481130,"display_name":"Mohammad Misbah"},"score":0,"creation_date":1680789156,"post_id":72627732,"comment_id":133959760,"body_markdown":"Could you please specify the reason?","body":"Could you please specify the reason?"}],"tags":[],"owner":{"account_id":20002369,"reputation":481,"user_id":14854361,"display_name":"mitua1221"},"comment_count":2,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1655279870,"creation_date":1655279821,"answer_id":72627732,"question_id":72596066,"body_markdown":"Just move package name from build.gradle app level to manifest. \r\n\r\nfrom \r\n\r\n    android  { \r\n        namespace &#39;com.example.app&#39; //remove this\r\n    }\r\n\r\nto \r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.app&quot;&gt; //add this","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>Just move package name from build.gradle app level to manifest.</p>\n<p>from</p>\n<pre><code>android  { \n    namespace 'com.example.app' //remove this\n}\n</code></pre>\n<p>to</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.app&quot;&gt; //add this\n</code></pre>\n"}],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3514,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":72627732,"answer_count":2,"score":11,"last_activity_date":1675958038,"creation_date":1655069945,"question_id":72596066,"body_markdown":"Since adding an Assets folder to my project I now get:\r\n\r\n    error: package R does not exist\r\n    &quot;return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);&quot;\r\n\r\nwhich is from this auto generated code:\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.navigation.ActionOnlyNavDirections;\r\n    import androidx.navigation.NavDirections;\r\n\r\n    public class SetNewAlarmFragmentDirections {\r\n      private SetNewAlarmFragmentDirections() {\r\n      }\r\n\r\n      @NonNull\r\n      public static NavDirections actionNewAlarmFragmentToHomeFragment() {\r\n        return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);\r\n      }\r\n    }\r\n\r\nI have tried cleaning and rebuilding the project and tried &quot;Invalidate caches and restart&quot; as suggested in the comments\r\n\r\nLooking through other answered questions here it seems it can be an import of R. somewhere causing this, but I can&#39;t find anything..\r\n\r\nThe NavDirection itself comes from this fragment:\r\n\r\n    import android.os.Bundle\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.CompoundButton\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.lifecycle.ViewModelProvider\r\n    import androidx.navigation.Navigation\r\n    import com.pleavinseven.alarmclockproject.alarmmanager.AlarmManager\r\n    import com.pleavinseven.alarmclockproject.data.model.Alarm\r\n    import com.pleavinseven.alarmclockproject.data.viewmodel.AlarmViewModel\r\n    import com.pleavinseven.alarmclockproject.databinding.FragmentSetNewAlarmBinding\r\n    import com.pleavinseven.alarmclockproject.util.TimePickerUtil\r\n    import java.util.*\r\n\r\n\r\n    class SetNewAlarmFragment : Fragment() {\r\n \r\n        private val timePickerUtil = TimePickerUtil()\r\n        lateinit var binding: FragmentSetNewAlarmBinding\r\n        private lateinit var alarmViewModel: AlarmViewModel\r\n\r\n\r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View {\r\n\r\n            binding = FragmentSetNewAlarmBinding.inflate(inflater, container, false)\r\n\r\n               binding.fragmentCreateAlarmRecurring.setOnCheckedChangeListener(CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\r\n            if (isChecked) {\r\n                binding.fragmentCreateAlarmRecurring.visibility = View.VISIBLE\r\n            } else {\r\n                binding.fragmentCreateAlarmRecurring.visibility = View.GONE\r\n            }\r\n        })\r\n\r\n        alarmViewModel = ViewModelProvider(this)[AlarmViewModel::class.java]\r\n\r\n\r\n        binding.fragmentBtnSetAlarm.setOnClickListener(View.OnClickListener { _ -&gt;\r\n            scheduleAlarm()\r\n            Navigation.findNavController(requireView())\r\n                .navigate(com.pleavinseven.alarmclockproject.R.id.action_newAlarmFragment_to_homeFragment)\r\n        })\r\n        return binding.root\r\n\r\n\r\n    }\r\n\r\nnav xml:\r\n\r\n    ?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/alarm_nav&quot;\r\n    app:startDestination=&quot;@id/homeFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/homeFragment&quot;\r\n         android:name=&quot;com.pleavinseven.alarmclockproject.fragments.HomeFragment&quot;\r\n        android:label=&quot;fragment_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_homeFragment_to_newAlarmFragment&quot;\r\n            app:destination=&quot;@id/newAlarmFragment&quot; /&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_homeFragment_to_updateFragment&quot;\r\n            app:destination=&quot;@id/updateFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/newAlarmFragment&quot;\r\n        android:name=&quot;com.pleavinseven.alarmclockproject.fragments.SetNewAlarmFragment&quot;\r\n        android:label=&quot;NewAlarmFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_newAlarmFragment_to_homeFragment&quot;\r\n            app:destination=&quot;@id/homeFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/updateFragment&quot;\r\n        android:name=&quot;com.pleavinseven.alarmclockproject.fragments.UpdateFragment&quot;\r\n        android:label=&quot;UpdateFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_updateFragment_to_homeFragment&quot;\r\n            app:destination=&quot;@id/homeFragment&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;currentAlarm&quot;\r\n            app:argType=&quot;com.pleavinseven.alarmclockproject.data.model.Alarm&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>Since adding an Assets folder to my project I now get:</p>\n<pre><code>error: package R does not exist\n&quot;return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);&quot;\n</code></pre>\n<p>which is from this auto generated code:</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.navigation.ActionOnlyNavDirections;\nimport androidx.navigation.NavDirections;\n\npublic class SetNewAlarmFragmentDirections {\n  private SetNewAlarmFragmentDirections() {\n  }\n\n  @NonNull\n  public static NavDirections actionNewAlarmFragmentToHomeFragment() {\n    return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);\n  }\n}\n</code></pre>\n<p>I have tried cleaning and rebuilding the project and tried &quot;Invalidate caches and restart&quot; as suggested in the comments</p>\n<p>Looking through other answered questions here it seems it can be an import of R. somewhere causing this, but I can't find anything..</p>\n<p>The NavDirection itself comes from this fragment:</p>\n<pre><code>import android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.CompoundButton\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.navigation.Navigation\nimport com.pleavinseven.alarmclockproject.alarmmanager.AlarmManager\nimport com.pleavinseven.alarmclockproject.data.model.Alarm\nimport com.pleavinseven.alarmclockproject.data.viewmodel.AlarmViewModel\nimport com.pleavinseven.alarmclockproject.databinding.FragmentSetNewAlarmBinding\nimport com.pleavinseven.alarmclockproject.util.TimePickerUtil\nimport java.util.*\n\n\nclass SetNewAlarmFragment : Fragment() {\n\n    private val timePickerUtil = TimePickerUtil()\n    lateinit var binding: FragmentSetNewAlarmBinding\n    private lateinit var alarmViewModel: AlarmViewModel\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n\n        binding = FragmentSetNewAlarmBinding.inflate(inflater, container, false)\n\n           binding.fragmentCreateAlarmRecurring.setOnCheckedChangeListener(CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\n        if (isChecked) {\n            binding.fragmentCreateAlarmRecurring.visibility = View.VISIBLE\n        } else {\n            binding.fragmentCreateAlarmRecurring.visibility = View.GONE\n        }\n    })\n\n    alarmViewModel = ViewModelProvider(this)[AlarmViewModel::class.java]\n\n\n    binding.fragmentBtnSetAlarm.setOnClickListener(View.OnClickListener { _ -&gt;\n        scheduleAlarm()\n        Navigation.findNavController(requireView())\n            .navigate(com.pleavinseven.alarmclockproject.R.id.action_newAlarmFragment_to_homeFragment)\n    })\n    return binding.root\n\n\n}\n</code></pre>\n<p>nav xml:</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/alarm_nav&quot;\napp:startDestination=&quot;@id/homeFragment&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/homeFragment&quot;\n     android:name=&quot;com.pleavinseven.alarmclockproject.fragments.HomeFragment&quot;\n    android:label=&quot;fragment_home&quot;\n    tools:layout=&quot;@layout/fragment_home&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_homeFragment_to_newAlarmFragment&quot;\n        app:destination=&quot;@id/newAlarmFragment&quot; /&gt;\n    &lt;action\n        android:id=&quot;@+id/action_homeFragment_to_updateFragment&quot;\n        app:destination=&quot;@id/updateFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/newAlarmFragment&quot;\n    android:name=&quot;com.pleavinseven.alarmclockproject.fragments.SetNewAlarmFragment&quot;\n    android:label=&quot;NewAlarmFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_newAlarmFragment_to_homeFragment&quot;\n        app:destination=&quot;@id/homeFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/updateFragment&quot;\n    android:name=&quot;com.pleavinseven.alarmclockproject.fragments.UpdateFragment&quot;\n    android:label=&quot;UpdateFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_updateFragment_to_homeFragment&quot;\n        app:destination=&quot;@id/homeFragment&quot; /&gt;\n    &lt;argument\n        android:name=&quot;currentAlarm&quot;\n        app:argType=&quot;com.pleavinseven.alarmclockproject.data.model.Alarm&quot; /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n"},{"tags":["java","tomcat","oracle19c","ojdbc"],"comments":[{"owner":{"account_id":6242120,"reputation":642,"user_id":4855385,"display_name":"Douglas Surber"},"score":0,"creation_date":1676387889,"post_id":75401125,"comment_id":133124435,"body_markdown":"The error is occurring in com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112) which is not Oracle Database JDBC code. This is c3po Connection Pool code. You probably need to redirect your question to a different audience.","body":"The error is occurring in com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoad&zwnj;&#8203;ed(DriverManagerData&zwnj;&#8203;Source.java:112) which is not Oracle Database JDBC code. This is c3po Connection Pool code. You probably need to redirect your question to a different audience."}],"owner":{"account_id":24470683,"reputation":1,"user_id":18390469,"display_name":"TheMonk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675957957,"creation_date":1675957957,"question_id":75401125,"body_markdown":"I am using tomcat 9.0.55 JDK 1.8.191 OJDBC8 and Oracle Database 19c. I am getting this error for my rest webservice application during start.\r\n\r\n```\r\norg.apache.catalina.startup.Catalina.start Server startup in \\[2023\\] milliseconds\r\n\r\n\\[C3P0PooledConnectionPoolManager\\[identityToken-\\&gt;2rzigjauf43gfsagsnkc|60762137\\]-HelperThread-#2\\] oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean.\r\njavax.management.MalformedObjectNameException: Invalid character &#39;\\\\n&#39; in value part of property\r\nat javax.management.ObjectName.construct(ObjectName.java:618)\r\nat javax.management.ObjectName.\\&lt;init\\&gt;(ObjectName.java:1382)\r\nat oracle.jdbc.driver.OracleDriver.registerMBeans(OracleDriver.java:303)\r\nat oracle.jdbc.driver.OracleDriver$1.run(OracleDriver.java:213)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat oracle.jdbc.driver.OracleDriver.\\&lt;clinit\\&gt;(OracleDriver.java:209)\r\nat java.lang.Class.forName0(Native Method)\r\nat java.lang.Class.forName(Class.java:264)\r\nat com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112)\r\n\r\n```\r\nThere should not be any error","title":"Getting oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean","body":"<p>I am using tomcat 9.0.55 JDK 1.8.191 OJDBC8 and Oracle Database 19c. I am getting this error for my rest webservice application during start.</p>\n<pre><code>org.apache.catalina.startup.Catalina.start Server startup in \\[2023\\] milliseconds\n\n\\[C3P0PooledConnectionPoolManager\\[identityToken-\\&gt;2rzigjauf43gfsagsnkc|60762137\\]-HelperThread-#2\\] oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean.\njavax.management.MalformedObjectNameException: Invalid character '\\\\n' in value part of property\nat javax.management.ObjectName.construct(ObjectName.java:618)\nat javax.management.ObjectName.\\&lt;init\\&gt;(ObjectName.java:1382)\nat oracle.jdbc.driver.OracleDriver.registerMBeans(OracleDriver.java:303)\nat oracle.jdbc.driver.OracleDriver$1.run(OracleDriver.java:213)\nat java.security.AccessController.doPrivileged(Native Method)\nat oracle.jdbc.driver.OracleDriver.\\&lt;clinit\\&gt;(OracleDriver.java:209)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112)\n\n</code></pre>\n<p>There should not be any error</p>\n"},{"tags":["java","c#","redirect","networking","load-balancing"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1342353602,"post_id":11491416,"comment_id":15178622,"body_markdown":"Why do they reject you?  Just fix that.","body":"Why do they reject you?  Just fix that."},{"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"score":0,"creation_date":1342354212,"post_id":11491416,"comment_id":15178734,"body_markdown":"API requests. Too many request -&gt; IP rejected. Something like Twitter and their rate limit.","body":"API requests. Too many request -&gt; IP rejected. Something like Twitter and their rate limit."}],"answers":[{"comments":[{"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"score":0,"creation_date":1342353482,"post_id":11491447,"comment_id":15178586,"body_markdown":"Yep, is a good solution. The problem is that I don&#39;t want to force people to spend too much time configuring the server. Also, projects like LVS seems too big for what I need. I&#39;m only talking about redirect the output and keep a log to make decisions. I&#39;m not sure if I can do this with LVS as seems like a transparent process. Anyway, I&#39;ll take a deep look to those links. Thanks a lot!","body":"Yep, is a good solution. The problem is that I don&#39;t want to force people to spend too much time configuring the server. Also, projects like LVS seems too big for what I need. I&#39;m only talking about redirect the output and keep a log to make decisions. I&#39;m not sure if I can do this with LVS as seems like a transparent process. Anyway, I&#39;ll take a deep look to those links. Thanks a lot!"}],"tags":[],"owner":{"account_id":473821,"reputation":9665,"user_id":883141,"accept_rate":94,"display_name":"John Mitchell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342351267,"creation_date":1342351267,"answer_id":11491447,"question_id":11491416,"body_markdown":"I think you are reinventing the wheel a little, what your describing is just a load balancer in sticky session/sticky IP mode. \r\n\r\nThere&#39;s a few [open][1] [source][2] [projects][3] [that][4] will do what you are looking for. (Each word is a link there)\r\n\r\nPersonally I&#39;d suggest the [LVS Project][3]\r\n\r\n[1]:http://www.apsis.ch/pound/\r\n[2]:https://github.com/brunodecarvalho/malabarista\r\n[3]:http://www.linux-vs.org/\r\n[4]:http://www.linux-ha.org/","title":"Redirect and balance Java output traffic","body":"<p>I think you are reinventing the wheel a little, what your describing is just a load balancer in sticky session/sticky IP mode. </p>\n\n<p>There's a few <a href=\"http://www.apsis.ch/pound/\" rel=\"nofollow\">open</a> <a href=\"https://github.com/brunodecarvalho/malabarista\" rel=\"nofollow\">source</a> <a href=\"http://www.linux-vs.org/\" rel=\"nofollow\">projects</a> <a href=\"http://www.linux-ha.org/\" rel=\"nofollow\">that</a> will do what you are looking for. (Each word is a link there)</p>\n\n<p>Personally I'd suggest the <a href=\"http://www.linux-vs.org/\" rel=\"nofollow\">LVS Project</a></p>\n"}],"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11491447,"answer_count":1,"score":0,"last_activity_date":1675957723,"creation_date":1342351008,"question_id":11491416,"body_markdown":"I have a client that make requests to different servers. Sometimes this servers rejects requests from my IP so I need to change it (I have a few public IPs). I also need to change my IP to make geolocalizated request. I&#39;m trying to make a balance server to redirect the client traffic through different server and to keep a log of IPs being rejected. This is what I have in mind:\r\n\r\n![Balance server][1]\r\n\r\nThere would be clients in different networks with different instances of the client. This instances request an output server to the balancer and then all the traffic of clients is redirected through this servers. Output servers could make a connection with the balancer with sockets to say something like &quot;Ey, I&#39;m here. You can use me!&quot;. Here I have a silly activity diagram (full of mistakes probably):\r\n![Activity diagram][2]\r\n\r\nIs there a simplest way to do this? Maybe I&#39;m reinventing the wheel. If is a good solution, is if possible to do this with Java/C#? How could I redirect the traffic?\r\n\r\n  [1]: http://i.stack.imgur.com/RN4pf.png\r\n  [2]: http://i.stack.imgur.com/owsQL.png","title":"Redirect and balance Java output traffic","body":"<p>I have a client that make requests to different servers. Sometimes this servers rejects requests from my IP so I need to change it (I have a few public IPs). I also need to change my IP to make geolocalizated request. I'm trying to make a balance server to redirect the client traffic through different server and to keep a log of IPs being rejected. This is what I have in mind:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RN4pf.png\" alt=\"Balance server\"></p>\n\n<p>There would be clients in different networks with different instances of the client. This instances request an output server to the balancer and then all the traffic of clients is redirected through this servers. Output servers could make a connection with the balancer with sockets to say something like \"Ey, I'm here. You can use me!\". Here I have a silly activity diagram (full of mistakes probably):\n<img src=\"https://i.stack.imgur.com/owsQL.png\" alt=\"Activity diagram\"></p>\n\n<p>Is there a simplest way to do this? Maybe I'm reinventing the wheel. If is a good solution, is if possible to do this with Java/C#? How could I redirect the traffic?</p>\n"},{"tags":["java","rx-java3"],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675957715,"creation_date":1675957715,"question_id":75401081,"body_markdown":"I&#39;m new to RxJava, using RxJava 3 to return a response that contains a dynamic number of urls that I then need to make GET requests to and then add those responses to a list that is to be observed by the ui. Since the number of urls returned is unknown, I&#39;m unsure how to go about this. I tried populating a list with the urls and then looping through them  - not the right way to go about it &amp; did not work:\r\n\r\n   \r\n\r\n        public void getSection() {\r\n                disposables.add(repository.getContent()\r\n                        .subscribeOn(Schedulers.io())\r\n                        .map(new Function&lt;Content, List&lt;Section&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Section&gt; apply(Content content) throws Throwable {\r\n                                return content.getContent().getSections().stream().filter(live -&gt; live.getSectionType().equals(&quot;shows&quot;)).collect(Collectors.toList());\r\n                            }\r\n                        })\r\n                        .observeOn(AndroidSchedulers.mainThread())\r\n                        .subscribeWith(new DisposableObserver&lt;List&lt;Section&gt;&gt;() {\r\n                            @Override \r\n                            public void onNext(@NonNull List&lt;Section&gt; sections) {\r\n                                contentSourcesURIs = new ArrayList&lt;&gt;();\r\n                                for (int i = 0; i &lt; sections.get(0).getContent().get(0).getContent().size(); i++) {\r\n                                    contentSourcesURIs.add(sections.get(0).getContent().get(0).getContent().get(i).getSource().getUri());\r\n                                }\r\n                                sectionList.postValue(sections);\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onError(@NonNull Throwable e) {\r\n                                Log.e(TAG, &quot;getSection: &quot; + e.getMessage());\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onComplete() {\r\n                                System.out.println(Thread.currentThread());\r\n                                for(int i = 0; i &lt; contentSourcesURIs.size(); i++){\r\n                                    getVideoContent(Collections.singletonList(contentSourcesURIs.get(i)));\r\n                                }\r\n        \r\n                            }\r\n                        }));\r\n            }\r\n    \r\n    public void getVideoContent(List&lt;String&gt; contentSourcesURIs) {\r\n        for (int i = 0; i &lt; contentSourcesURIs.size(); i++) {\r\n            getVideosContent(contentSourcesURIs.get(i));\r\n        }\r\n    }\r\n    \r\n    public void getVideosContent(String contentSourcesURI) {\r\n        String authHeader = URL.POLICY_KEY;\r\n        disposables.add(repository.getVideosPlaylistContent(authHeader, contentSourcesURI)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribeWith(new DisposableObserver&lt;Video&gt;() {\r\n    \r\n    \r\n                    @Override\r\n                    public void onNext(@NonNull Video video) {\r\n                        videosList.add(video);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(@NonNull Throwable e) {\r\n                        Log.e(TAG, &quot;getVideosContent: &quot; + e.getMessage());\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onComplete() {\r\n                        videoPlaylist.postValue(videosList);\r\n                    }\r\n                }));\r\n    }\r\n\r\nIs it possible to use RxJava to achieve what I&#39;m trying to do? Thanks in advance!","title":"RxJava - how to make dynamic api calls &amp; add responses to list","body":"<p>I'm new to RxJava, using RxJava 3 to return a response that contains a dynamic number of urls that I then need to make GET requests to and then add those responses to a list that is to be observed by the ui. Since the number of urls returned is unknown, I'm unsure how to go about this. I tried populating a list with the urls and then looping through them  - not the right way to go about it &amp; did not work:</p>\n<pre><code>    public void getSection() {\n            disposables.add(repository.getContent()\n                    .subscribeOn(Schedulers.io())\n                    .map(new Function&lt;Content, List&lt;Section&gt;&gt;() {\n                        @Override\n                        public List&lt;Section&gt; apply(Content content) throws Throwable {\n                            return content.getContent().getSections().stream().filter(live -&gt; live.getSectionType().equals(&quot;shows&quot;)).collect(Collectors.toList());\n                        }\n                    })\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(new DisposableObserver&lt;List&lt;Section&gt;&gt;() {\n                        @Override \n                        public void onNext(@NonNull List&lt;Section&gt; sections) {\n                            contentSourcesURIs = new ArrayList&lt;&gt;();\n                            for (int i = 0; i &lt; sections.get(0).getContent().get(0).getContent().size(); i++) {\n                                contentSourcesURIs.add(sections.get(0).getContent().get(0).getContent().get(i).getSource().getUri());\n                            }\n                            sectionList.postValue(sections);\n                        }\n    \n                        @Override\n                        public void onError(@NonNull Throwable e) {\n                            Log.e(TAG, &quot;getSection: &quot; + e.getMessage());\n                        }\n    \n                        @Override\n                        public void onComplete() {\n                            System.out.println(Thread.currentThread());\n                            for(int i = 0; i &lt; contentSourcesURIs.size(); i++){\n                                getVideoContent(Collections.singletonList(contentSourcesURIs.get(i)));\n                            }\n    \n                        }\n                    }));\n        }\n\npublic void getVideoContent(List&lt;String&gt; contentSourcesURIs) {\n    for (int i = 0; i &lt; contentSourcesURIs.size(); i++) {\n        getVideosContent(contentSourcesURIs.get(i));\n    }\n}\n\npublic void getVideosContent(String contentSourcesURI) {\n    String authHeader = URL.POLICY_KEY;\n    disposables.add(repository.getVideosPlaylistContent(authHeader, contentSourcesURI)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Video&gt;() {\n\n\n                @Override\n                public void onNext(@NonNull Video video) {\n                    videosList.add(video);\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n                    Log.e(TAG, &quot;getVideosContent: &quot; + e.getMessage());\n                }\n\n                @Override\n                public void onComplete() {\n                    videoPlaylist.postValue(videosList);\n                }\n            }));\n}\n</code></pre>\n<p>Is it possible to use RxJava to achieve what I'm trying to do? Thanks in advance!</p>\n"},{"tags":["java","mysql","hibernate","jpa","jpa-2.0"],"answers":[{"comments":[{"owner":{"account_id":124596,"reputation":549,"user_id":319787,"display_name":"zaletniy"},"score":1,"creation_date":1332420491,"post_id":3383403,"comment_id":12513378,"body_markdown":"Works fine, but after changing bit(1) to int","body":"Works fine, but after changing bit(1) to int"},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1593592583,"post_id":3383403,"comment_id":110832005,"body_markdown":"We can also use `@Type(type = &quot;yes_no&quot;)` along with `@Column` annotation.","body":"We can also use <code>@Type(type = &quot;yes_no&quot;)</code> along with <code>@Column</code> annotation."}],"tags":[],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"comment_count":2,"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1344880581,"creation_date":1280690538,"answer_id":3383403,"question_id":3383169,"body_markdown":"Try the `NumericBooleanType`. For some reason this doesn&#39;t have a declared short type name so you&#39;d have to use:\r\n\r\n    @Column(nullable = false)\r\n    @Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\r\n    private boolean enabled;\r\n\r\nThis does map to an INTEGER type but it will probably work fine with a TINYINT.\r\n\r\nUPDATE: `org.hibernate.type.NumericBooleanType` Does _not_ work with TINYINT in some RDBMS. Switch the database column type to INTEGER. Or use a different Java @Type value, or columnDefinition, as appropriate.\r\n\r\nIn this example, Dude&#39;s answer of `@Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)` would work without any database changes.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Try the <code>NumericBooleanType</code>. For some reason this doesn't have a declared short type name so you'd have to use:</p>\n\n<pre><code>@Column(nullable = false)\n@Type(type = \"org.hibernate.type.NumericBooleanType\")\nprivate boolean enabled;\n</code></pre>\n\n<p>This does map to an INTEGER type but it will probably work fine with a TINYINT.</p>\n\n<p>UPDATE: <code>org.hibernate.type.NumericBooleanType</code> Does <em>not</em> work with TINYINT in some RDBMS. Switch the database column type to INTEGER. Or use a different Java @Type value, or columnDefinition, as appropriate.</p>\n\n<p>In this example, Dude's answer of <code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")</code> would work without any database changes.</p>\n"},{"comments":[{"owner":{"account_id":310184,"reputation":123290,"user_id":623041,"accept_rate":81,"display_name":"eggyal"},"score":3,"creation_date":1380187750,"post_id":10224905,"comment_id":28110171,"body_markdown":"Since MySQL aliases `BOOLEAN` to `TINYINT(1)` one can also use `columnDefinition = &quot;BOOLEAN&quot;`, which might be a little more readable.","body":"Since MySQL aliases <code>BOOLEAN</code> to <code>TINYINT(1)</code> one can also use <code>columnDefinition = &quot;BOOLEAN&quot;</code>, which might be a little more readable."},{"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"score":0,"creation_date":1390832163,"post_id":10224905,"comment_id":32248947,"body_markdown":"you&#39;re right, you can also use the BOOLEAN alias with MySQL as long as the alias is realy set to TINYINT, which is true for now.\nBy the way, BOOLEAN and TINYINT are both not standard SQL data types, so you take a risk of failure if you change your data provider dialect (ex: Oracle).","body":"you&#39;re right, you can also use the BOOLEAN alias with MySQL as long as the alias is realy set to TINYINT, which is true for now. By the way, BOOLEAN and TINYINT are both not standard SQL data types, so you take a risk of failure if you change your data provider dialect (ex: Oracle)."},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":3,"creation_date":1471438011,"post_id":10224905,"comment_id":65345640,"body_markdown":"`columnDefinition = &quot;TINYINT&quot;, length = 1` is resulting column with ::  `tinyint(4)` . what could be the reason?","body":"<code>columnDefinition = &quot;TINYINT&quot;, length = 1</code> is resulting column with ::  <code>tinyint(4)</code> . what could be the reason?"}],"tags":[],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1411654750,"creation_date":1334826405,"answer_id":10224905,"question_id":3383169,"body_markdown":"@Type annotation is an Hibernate annotation.\r\n\r\nIn full JPA2 (with **Hibernate 3.6+**), the way to map a Boolean field to a TINYINT(1) SQL type instead of BIT(1), is to use the columnDefinition attribute.\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean enabled;\r\n\r\nnb: length attribute seems to have no effect in this case, then we use (1) syntax.\r\n\r\n----------\r\n\r\nWith **Hibernate 4.0+**, this kind of syntax can cause an runtime error like this :\r\n\r\n    Wrong column type Found: bit, expected: TINYINT(1)\r\n\r\nIt seems that in this case, your only way is to use **tinyInt1isBit=false** in the MySQL datasource connection string like this :\r\n\r\n    jdbc:mysql://server_host:3306/database?tinyInt1isBit=false\r\n\r\nBy the way, you can now use the length attribute like this :\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT&quot;, length = 1)\r\n    private boolean enabled;\r\n","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>@Type annotation is an Hibernate annotation.</p>\n\n<p>In full JPA2 (with <strong>Hibernate 3.6+</strong>), the way to map a Boolean field to a TINYINT(1) SQL type instead of BIT(1), is to use the columnDefinition attribute.</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")\nprivate boolean enabled;\n</code></pre>\n\n<p>nb: length attribute seems to have no effect in this case, then we use (1) syntax.</p>\n\n<hr>\n\n<p>With <strong>Hibernate 4.0+</strong>, this kind of syntax can cause an runtime error like this :</p>\n\n<pre><code>Wrong column type Found: bit, expected: TINYINT(1)\n</code></pre>\n\n<p>It seems that in this case, your only way is to use <strong>tinyInt1isBit=false</strong> in the MySQL datasource connection string like this :</p>\n\n<pre><code>jdbc:mysql://server_host:3306/database?tinyInt1isBit=false\n</code></pre>\n\n<p>By the way, you can now use the length attribute like this :</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT\", length = 1)\nprivate boolean enabled;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":285263,"reputation":357,"user_id":583828,"accept_rate":100,"display_name":"coder3"},"score":0,"creation_date":1599149783,"post_id":31854621,"comment_id":112691544,"body_markdown":"That ended up working for me too. Not entirely sure why since I&#39;m using the data type byte. I&#39;m assuming because MySQL uses tinyint and not byte?\nRef:\n\n@Column(name = &quot;totalBeds&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\nprivate byte totalBeds;","body":"That ended up working for me too. Not entirely sure why since I&#39;m using the data type byte. I&#39;m assuming because MySQL uses tinyint and not byte? Ref:  @Column(name = &quot;totalBeds&quot;, nullable = false, columnDefinition = &quot;TINYINT(1)&quot;) private byte totalBeds;"}],"tags":[],"owner":{"account_id":3338471,"reputation":54,"user_id":2805306,"display_name":"marioarranzr"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471634106,"creation_date":1438860587,"answer_id":31854621,"question_id":3383169,"body_markdown":"I had this error:\r\n\r\n    \r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;sessionFactory&#39; defined in\r\n&gt; ServletContext resource [/WEB-INF/config/context-config.xml]:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; org.hibernate.type.NumericBooleanType, at table: bookingItem, for\r\n&gt; columns: [org.hibernate.mapping.Column(enabled)]\r\n\r\n\r\nAnd this worked for me:\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean enabled;","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>I had this error:</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.factory.BeanCreationException:\n  Error creating bean with name 'sessionFactory' defined in\n  ServletContext resource [/WEB-INF/config/context-config.xml]:\n  Invocation of init method failed; nested exception is\n  org.hibernate.MappingException: Could not determine type for:\n  org.hibernate.type.NumericBooleanType, at table: bookingItem, for\n  columns: [org.hibernate.mapping.Column(enabled)]</p>\n</blockquote>\n\n<p>And this worked for me:</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")\nprivate boolean enabled;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2896891,"reputation":161,"user_id":2484452,"display_name":"Annulet Consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1511655049,"creation_date":1511655049,"answer_id":47491783,"question_id":3383169,"body_markdown":"I&#39;m using JPA with Spring Data/Hibernate 5.0 on a MySQL database.\r\n\r\nIn my Entity object, I put the following:\r\n\r\n    @Column(name = &quot;column_name&quot;, columnDefinition = &quot;BOOLEAN&quot;)\r\n    private Boolean variableName;\r\n\r\nMy dev environment has hibernate auto-ddl set to update, so when I deployed to dev, it created the table with column_name of type tinyint(1).\r\n\r\nMy code that uses this column considers null as false, so I&#39;m not worried about nulls, if you are, you could make it a primitive boolean or add &quot;, nullable = false&quot; to the Column annotation.\r\n\r\nThis solution is fully JPA (doesn&#39;t use hibernate Type annotation) and requires no change to the connection string.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>I'm using JPA with Spring Data/Hibernate 5.0 on a MySQL database.</p>\n\n<p>In my Entity object, I put the following:</p>\n\n<pre><code>@Column(name = \"column_name\", columnDefinition = \"BOOLEAN\")\nprivate Boolean variableName;\n</code></pre>\n\n<p>My dev environment has hibernate auto-ddl set to update, so when I deployed to dev, it created the table with column_name of type tinyint(1).</p>\n\n<p>My code that uses this column considers null as false, so I'm not worried about nulls, if you are, you could make it a primitive boolean or add \", nullable = false\" to the Column annotation.</p>\n\n<p>This solution is fully JPA (doesn't use hibernate Type annotation) and requires no change to the connection string.</p>\n"},{"tags":[],"owner":{"account_id":4823943,"reputation":1408,"user_id":3893875,"accept_rate":100,"display_name":"Nox"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555425795,"creation_date":1555425795,"answer_id":55710867,"question_id":3383169,"body_markdown":"When using Microsoft sql and some versions of mysql use the following:\r\n\r\n    @Column(name = &quot;eanbled&quot;, columnDefinition = &quot;bit default 0&quot;, nullable = false)\r\n\tprivate boolean enabled;\r\n\r\nFor me, tinybit, boolean, and other such definitions failed.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>When using Microsoft sql and some versions of mysql use the following:</p>\n\n<pre><code>@Column(name = \"eanbled\", columnDefinition = \"bit default 0\", nullable = false)\nprivate boolean enabled;\n</code></pre>\n\n<p>For me, tinybit, boolean, and other such definitions failed.</p>\n"},{"tags":[],"owner":{"account_id":157528,"reputation":7454,"user_id":375551,"accept_rate":66,"display_name":"Muneer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589707247,"creation_date":1589707247,"answer_id":61849519,"question_id":3383169,"body_markdown":"Old question but probably will save someone&#39;s time. \r\n\r\nI am using Spring Data JPA 2.2.5. I had a similar issue when I work with MySQL and MariadDB parallelly with the same code base. It worked on one and didn&#39;t on another.\r\n\r\nThe issue was, I was creating the field as unsigned.\r\n\r\nI moved the below SQL part from\r\n\r\n    `is_fixed` TINYINT(1) UNSIGNED NOT NULL DEFAULT &#39;0&#39;,\r\n\r\nto the below\r\n\r\n    `is_fixed` TINYINT(1) NOT NULL DEFAULT &#39;0&#39;,\r\n\r\nthis fixed the issue and was working in both Mysql and MariaDB without any issue...","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Old question but probably will save someone's time. </p>\n\n<p>I am using Spring Data JPA 2.2.5. I had a similar issue when I work with MySQL and MariadDB parallelly with the same code base. It worked on one and didn't on another.</p>\n\n<p>The issue was, I was creating the field as unsigned.</p>\n\n<p>I moved the below SQL part from</p>\n\n<pre><code>`is_fixed` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0',\n</code></pre>\n\n<p>to the below</p>\n\n<pre><code>`is_fixed` TINYINT(1) NOT NULL DEFAULT '0',\n</code></pre>\n\n<p>this fixed the issue and was working in both Mysql and MariaDB without any issue...</p>\n"}],"owner":{"account_id":99208,"reputation":9643,"user_id":268098,"accept_rate":86,"display_name":"Ta Sas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124472,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":3383403,"answer_count":6,"score":61,"last_activity_date":1675957607,"creation_date":1280686332,"question_id":3383169,"body_markdown":"Here is my JPA2 / Hibernate definition:\r\n\r\n\r\n    @Column(nullable = false)\r\n    private boolean enabled;\r\n\r\n\r\nIn MySql this column is resolved to a bit(1) datatype - which does not work for me. For legacy issues I need to map the boolean to a tinyint not to a bit. But I do not see a possibility to change the default datatype. Is there any?","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Here is my JPA2 / Hibernate definition:</p>\n<pre><code>@Column(nullable = false)\nprivate boolean enabled;\n</code></pre>\n<p>In MySql this column is resolved to a bit(1) datatype - which does not work for me. For legacy issues I need to map the boolean to a tinyint not to a bit. But I do not see a possibility to change the default datatype. Is there any?</p>\n"},{"tags":["java","finance","amortization"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":2,"creation_date":1475185997,"post_id":39780607,"comment_id":66855383,"body_markdown":"Why on earth are you trying to define 3 scanners in the first place if you want to read from `System.in` for all your input?","body":"Why on earth are you trying to define 3 scanners in the first place if you want to read from <code>System.in</code> for all your input?"},{"owner":{"account_id":50136,"reputation":12338,"user_id":149428,"accept_rate":60,"display_name":"Taylor D. Edmiston"},"score":0,"creation_date":1475194541,"post_id":39780607,"comment_id":66857764,"body_markdown":"You can define one scanner, then read from it three times into your desired variables.","body":"You can define one scanner, then read from it three times into your desired variables."}],"answers":[{"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475186064,"creation_date":1475186064,"answer_id":39780631,"question_id":39780607,"body_markdown":"You should not declare 3 scanners to read from the standard input. Declare one and just keep reading from it. Like this:\r\n\r\n    import java.util.Scanner;\r\n    public class Amortization{\r\n       public static void main(String []args){\r\n          Scanner input = new Scanner(System.in);\r\n          System.out.println(&quot;What is your balance?&quot;);\r\n          double b = input.nextDouble();\r\n          System.out.println(&quot;What is your interest rate in decimal?&quot;);\r\n          double i = input.nextDouble();\r\n          System.out.println(&quot;What is your monthly payment?&quot;);\r\n          double p = input.nextDouble();\r\n          double pv = p-(b*i);\r\n          System.out.println(&quot;Your interest amount is &quot; + (b*i));\r\n          System.out.println(&quot;Your principal amount is &quot; + pv);\r\n          System.out.println(&quot;Your new balance is &quot; + (b-pv));\r\n       }\r\n    }\r\n\r\nThe main point here is that a scanner is the object that reads from an input stream, not the value being read. You don&#39;t need a new scanner for every value you want to read.","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>You should not declare 3 scanners to read from the standard input. Declare one and just keep reading from it. Like this:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Amortization{\n   public static void main(String []args){\n      Scanner input = new Scanner(System.in);\n      System.out.println(\"What is your balance?\");\n      double b = input.nextDouble();\n      System.out.println(\"What is your interest rate in decimal?\");\n      double i = input.nextDouble();\n      System.out.println(\"What is your monthly payment?\");\n      double p = input.nextDouble();\n      double pv = p-(b*i);\n      System.out.println(\"Your interest amount is \" + (b*i));\n      System.out.println(\"Your principal amount is \" + pv);\n      System.out.println(\"Your new balance is \" + (b-pv));\n   }\n}\n</code></pre>\n\n<p>The main point here is that a scanner is the object that reads from an input stream, not the value being read. You don't need a new scanner for every value you want to read.</p>\n"},{"tags":[],"owner":{"account_id":1651202,"reputation":1844,"user_id":1670134,"accept_rate":25,"display_name":"sirandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475190042,"creation_date":1475190042,"answer_id":39781303,"question_id":39780607,"body_markdown":"As @nhouser9 says, you don&#39;t need three scanners and answering your question the compiler says that the variables are not initialized because you are only initializing the last of them (balance). Multiple initializing in java won&#39;t functions as you expected (initialize all the variables with the same value).","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>As @nhouser9 says, you don't need three scanners and answering your question the compiler says that the variables are not initialized because you are only initializing the last of them (balance). Multiple initializing in java won't functions as you expected (initialize all the variables with the same value).</p>\n"}],"owner":{"account_id":4411442,"reputation":365,"user_id":5420339,"accept_rate":62,"display_name":"user147219"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675957539,"creation_date":1475185936,"question_id":39780607,"body_markdown":"I am trying to program an amortization calculator in which the user can enter a value for balance, a value for their interest rate in decimal form, and a value for monthly payment. With this information I want to output an interest amount in dollars, a principal amount, and a new balance. Here is my code:\r\n\r\n    import java.util.Scanner;\r\n    public class Amortization{\r\n       public static void main(String []args){\r\n          Scanner pmt, interest, balance = new Scanner(System.in);\r\n          System.out.println(&quot;What is your balance?&quot;);\r\n          double b = balance.nextDouble();\r\n          System.out.println(&quot;What is your interest rate in decimal?&quot;);\r\n          double i = interest.nextDouble();\r\n          System.out.println(&quot;What is your monthly payment?&quot;);\r\n          double p = pmt.nextDouble();\r\n          double pv = p-(b*i);\r\n          System.out.println(&quot;Your interest amount is &quot; + (b*i));\r\n          System.out.println(&quot;Your principal amount is &quot; + pv);\r\n          System.out.println(&quot;Your new balance is &quot; + (b-pv));\r\n       }\r\n    }","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>I am trying to program an amortization calculator in which the user can enter a value for balance, a value for their interest rate in decimal form, and a value for monthly payment. With this information I want to output an interest amount in dollars, a principal amount, and a new balance. Here is my code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Amortization{\n   public static void main(String []args){\n      Scanner pmt, interest, balance = new Scanner(System.in);\n      System.out.println(\"What is your balance?\");\n      double b = balance.nextDouble();\n      System.out.println(\"What is your interest rate in decimal?\");\n      double i = interest.nextDouble();\n      System.out.println(\"What is your monthly payment?\");\n      double p = pmt.nextDouble();\n      double pv = p-(b*i);\n      System.out.println(\"Your interest amount is \" + (b*i));\n      System.out.println(\"Your principal amount is \" + pv);\n      System.out.println(\"Your new balance is \" + (b-pv));\n   }\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","web.xml","eclipse-wtp"],"comments":[{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1400658352,"post_id":23773283,"comment_id":36565340,"body_markdown":"Exactly where did you add those &lt;WatchedResource&gt; elements?","body":"Exactly where did you add those &lt;WatchedResource&gt; elements?"},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400668425,"post_id":23773283,"comment_id":36571751,"body_markdown":"@MarkThomas , I tried thoses &lt;WatchedResource&gt; elements one by one under &lt;Context&gt; element in conf/server.xml, but no one did work!","body":"@MarkThomas , I tried thoses &lt;WatchedResource&gt; elements one by one under &lt;Context&gt; element in conf/server.xml, but no one did work!"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1400670926,"post_id":23773283,"comment_id":36573512,"body_markdown":"And you restarted Tomcat after each change to server.xml?","body":"And you restarted Tomcat after each change to server.xml?"},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400679446,"post_id":23773283,"comment_id":36579633,"body_markdown":"@MarkThomas , Yes, I did restart. I know the main conf/server.xml file cannot be reloaded without restarting Tomcat. I will check if this problem occurs under Linux.","body":"@MarkThomas , Yes, I did restart. I know the main conf/server.xml file cannot be reloaded without restarting Tomcat. I will check if this problem occurs under Linux."},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400682975,"post_id":23773283,"comment_id":36582220,"body_markdown":"@MarkThomas , I tested under Ubuntu with the same Tomcat version, it behaviors same as that under Windows. I also tested again with Tomcat 7.0.8, and did not work either. It seems to be a bug?","body":"@MarkThomas , I tested under Ubuntu with the same Tomcat version, it behaviors same as that under Windows. I also tested again with Tomcat 7.0.8, and did not work either. It seems to be a bug?"}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1400698971,"creation_date":1400698971,"answer_id":23791693,"question_id":23773283,"body_markdown":"`&lt;WatchedResoucre&gt;` only works with the automatic deployment feature which is not used when Contexts are deployed from server.xml.","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p><code>&lt;WatchedResoucre&gt;</code> only works with the automatic deployment feature which is not used when Contexts are deployed from server.xml.</p>\n"},{"tags":[],"owner":{"account_id":13473334,"reputation":11,"user_id":9721120,"display_name":"Tony T"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1525813856,"creation_date":1525809778,"answer_id":50241460,"question_id":23773283,"body_markdown":"Reload worked only after I updated the server.xml file!!!\r\n\r\nBy setting the autoDeploy=true \r\n\r\n\t&lt;br&gt;\r\n\tThe output from the logs then showed a &quot;Reloading context&quot; \r\n\r\n\t08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.reload &lt;b&gt;Reloading context &lt;/b&gt;[/prototype_maven]\r\n\t08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] has started\r\n\t08-May-2018 20:58:58.619 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n\t08-May-2018 20:58:58.629 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] is completed\r\n","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>Reload worked only after I updated the server.xml file!!!</p>\n\n<p>By setting the autoDeploy=true </p>\n\n<pre><code>&lt;br&gt;\nThe output from the logs then showed a \"Reloading context\" \n\n08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.reload &lt;b&gt;Reloading context &lt;/b&gt;[/prototype_maven]\n08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] has started\n08-May-2018 20:58:58.619 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n08-May-2018 20:58:58.629 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] is completed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4884198,"reputation":1,"user_id":3937106,"display_name":"Kusi Asiedu Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675957438,"creation_date":1675957401,"answer_id":75401005,"question_id":23773283,"body_markdown":"You have to set\r\nreloadable=&quot;true&quot; privileged=&quot;true&quot;\r\nin context.xml.\r\nRestart Tomcat Server and that is all.","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>You have to set\nreloadable=&quot;true&quot; privileged=&quot;true&quot;\nin context.xml.\nRestart Tomcat Server and that is all.</p>\n"}],"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11153,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1675957438,"creation_date":1400641593,"question_id":23773283,"body_markdown":"I have created a Dynamic Web Projects named &quot;test&quot; using Eclipse WTP Tomcat, Eclipse version is Java EE Kepler Service Release 2, Tomcat version is 7.0.53, Servlet 3.0, Win 8.1 x86, jdk 1.6.0_45, but after several tries, I found the problem occurs when matching all the following conditions:\r\n\r\n  1. the Webapp(web context) is not in &amp;lt;CATALINA_HOME&gt;/webapps(which is the default value of appBase) and:\r\n  2. the Webapp is configured by writing a &amp;lt;Context&gt; element in &amp;lt;CATALINA_HOME&gt;\\conf\\server.xml, under the &amp;lt;Host&gt; element.\r\n\r\nHere is part of &amp;lt;CATALINA_HOME&gt;\\conf\\server.xml：\r\n\r\n       &lt;Host appBase=&quot;webapps&quot; autoDeploy=&quot;true&quot; name=&quot;localhost&quot; unpackWARs=&quot;true&quot;&gt;\r\n\r\n        &lt;!-- SingleSignOn valve, share authentication between web applications\r\n             Documentation at: /docs/config/valve.html --&gt;\r\n        &lt;!--\r\n        &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\r\n        --&gt;\r\n\r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; prefix=&quot;localhost_access_log.&quot; suffix=&quot;.txt&quot;/&gt;\r\n        &lt;Context docBase=&quot;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test&quot; path=&quot;/test&quot; reloadable=&quot;true&quot;/&gt;\r\n      &lt;/Host&gt;\r\nand here is the Directory Structure of &quot;test&quot;:\r\n\r\n    test\r\n    ├─META-INF\r\n    │      MANIFEST.MF\r\n    │\r\n    └─WEB-INF\r\n        │  web.xml\r\n        │\r\n        ├─classes\r\n        │  └─test\r\n        │          HelloServlet.class\r\n        │          MyFilter1.class\r\n        │          MyFilter2.class\r\n        │          MyHttpSessionListener.class\r\n        │          MyServletContextListener.class\r\n        │\r\n        └─lib\r\nAlthough WEB-INF/web.xml is &amp;lt;WatchedResource&gt; in &amp;lt;CATALINA_HOME&gt;\\conf\\context.xml by default, I tried to add a &amp;lt;WatchedResource&gt; element in each of the following formats, still not works:\r\n\r\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;WEB-INF\\web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test/WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;D:\\tmpdev\\apache-tomcat-7.0.53\\wtpwebapps\\test\\WEB-INF\\web.xml&lt;/WatchedResource&gt;\r\n\r\nHERE is other configuration ways that works:\r\n\r\n  1. use a seperate file &amp;lt;CATALINA_HOME&gt;\\conf\\Catalina\\localhost\\test.xml to configure context, or:\r\n  2. move &quot;test&quot; into &amp;lt;CATALINA_HOME&gt;\\webapps without any more configuration, or:\r\n  3. check &quot;Serve modules without publishing&quot; of Server Options in Eclipse WTP","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>I have created a Dynamic Web Projects named \"test\" using Eclipse WTP Tomcat, Eclipse version is Java EE Kepler Service Release 2, Tomcat version is 7.0.53, Servlet 3.0, Win 8.1 x86, jdk 1.6.0_45, but after several tries, I found the problem occurs when matching all the following conditions:</p>\n\n<ol>\n<li>the Webapp(web context) is not in &lt;CATALINA_HOME>/webapps(which is the default value of appBase) and:</li>\n<li>the Webapp is configured by writing a &lt;Context> element in &lt;CATALINA_HOME>\\conf\\server.xml, under the &lt;Host> element.</li>\n</ol>\n\n<p>Here is part of &lt;CATALINA_HOME>\\conf\\server.xml：</p>\n\n<pre><code>   &lt;Host appBase=\"webapps\" autoDeploy=\"true\" name=\"localhost\" unpackWARs=\"true\"&gt;\n\n    &lt;!-- SingleSignOn valve, share authentication between web applications\n         Documentation at: /docs/config/valve.html --&gt;\n    &lt;!--\n    &lt;Valve className=\"org.apache.catalina.authenticator.SingleSignOn\" /&gt;\n    --&gt;\n\n    &lt;!-- Access log processes all example.\n         Documentation at: /docs/config/valve.html\n         Note: The pattern used is equivalent to using pattern=\"common\" --&gt;\n    &lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\" prefix=\"localhost_access_log.\" suffix=\".txt\"/&gt;\n    &lt;Context docBase=\"D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test\" path=\"/test\" reloadable=\"true\"/&gt;\n  &lt;/Host&gt;\n</code></pre>\n\n<p>and here is the Directory Structure of \"test\":</p>\n\n<pre><code>test\n├─META-INF\n│      MANIFEST.MF\n│\n└─WEB-INF\n    │  web.xml\n    │\n    ├─classes\n    │  └─test\n    │          HelloServlet.class\n    │          MyFilter1.class\n    │          MyFilter2.class\n    │          MyHttpSessionListener.class\n    │          MyServletContextListener.class\n    │\n    └─lib\n</code></pre>\n\n<p>Although WEB-INF/web.xml is &lt;WatchedResource> in &lt;CATALINA_HOME>\\conf\\context.xml by default, I tried to add a &lt;WatchedResource> element in each of the following formats, still not works:</p>\n\n<pre><code>&lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;WEB-INF\\web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test/WEB-INF/web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;D:\\tmpdev\\apache-tomcat-7.0.53\\wtpwebapps\\test\\WEB-INF\\web.xml&lt;/WatchedResource&gt;\n</code></pre>\n\n<p>HERE is other configuration ways that works:</p>\n\n<ol>\n<li>use a seperate file &lt;CATALINA_HOME>\\conf\\Catalina\\localhost\\test.xml to configure context, or:</li>\n<li>move \"test\" into &lt;CATALINA_HOME>\\webapps without any more configuration, or:</li>\n<li>check \"Serve modules without publishing\" of Server Options in Eclipse WTP</li>\n</ol>\n"},{"tags":["java","openid-connect","okta"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1675955590,"post_id":75400524,"comment_id":133042632,"body_markdown":"I&#39;m quite unsure, in my eyes your question as is it currently is the question is an off topic question. Then you look for a library at the moment.","body":"I&#39;m quite unsure, in my eyes your question as is it currently is the question is an off topic question. Then you look for a library at the moment."}],"answers":[{"tags":[],"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675957307,"creation_date":1675957307,"answer_id":75400978,"question_id":75400524,"body_markdown":"If you don&#39;t want to use Spring Boot, you can do everything manually in your app. I suggest you to study OIDC authorization code flow for better understanding of all the steps below:\r\n1) You create OIDC application in Okta and assign all the users, who is planning to call 3rd party service\r\n2) Redirect your users to Okta with /authorize call\r\n3) Receive back authorization code after Okta returns an authenticated user back to your app\r\n4) Exchange the code for token(s)\r\n5) While calling your 3rd party attach the obtained token\r\n\r\nNot sure if you are familiar with PHP, but there is an example of how to do all the same things you need with PHP (no Spring Boot, lol) https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth\r\n\r\nGood luck!","title":"How to call Okta secured endpoint in Java?","body":"<p>If you don't want to use Spring Boot, you can do everything manually in your app. I suggest you to study OIDC authorization code flow for better understanding of all the steps below:</p>\n<ol>\n<li>You create OIDC application in Okta and assign all the users, who is planning to call 3rd party service</li>\n<li>Redirect your users to Okta with /authorize call</li>\n<li>Receive back authorization code after Okta returns an authenticated user back to your app</li>\n<li>Exchange the code for token(s)</li>\n<li>While calling your 3rd party attach the obtained token</li>\n</ol>\n<p>Not sure if you are familiar with PHP, but there is an example of how to do all the same things you need with PHP (no Spring Boot, lol) <a href=\"https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth</a></p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":15242282,"reputation":21,"user_id":10998164,"display_name":"Jeffrey Nims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675957538,"accepted_answer_id":75400978,"answer_count":1,"score":-1,"last_activity_date":1675957307,"creation_date":1675955197,"question_id":75400524,"body_markdown":"I have a system that calls a single third party API, in order to fetch a users hash password, which we store in a database. Thereafter the user can make other API calls and the system just attaches the hash from the DB.\r\n\r\nThe third party is now securing this single API where we fetch the hash using Okta and OIDC. What is the simplest way to handle this?\r\n\r\nFrom what I understand, we need to redirect the user to a provided Okta URL so they can log in there, and Okta redirects back to URL we designate. We can then get an access token to call the third party API.\r\n\r\nI am unsure of what my option are regarding Java libraries for Okta. \r\n\r\nI have looked a little bit at https://www.pac4j.org/docs/clients/openid-connect.html, but this looks more like a library for securing APIs using Okta, which we dont need to do, just call a secured API.\r\n\r\nApparently Okta is also supported by the Spring boot framework, but I have no experience with Spring and we dont use it. Are there other options? Or something a lot smaller and simpler we can use, so we dont have to deep dive into Spring?","title":"How to call Okta secured endpoint in Java?","body":"<p>I have a system that calls a single third party API, in order to fetch a users hash password, which we store in a database. Thereafter the user can make other API calls and the system just attaches the hash from the DB.</p>\n<p>The third party is now securing this single API where we fetch the hash using Okta and OIDC. What is the simplest way to handle this?</p>\n<p>From what I understand, we need to redirect the user to a provided Okta URL so they can log in there, and Okta redirects back to URL we designate. We can then get an access token to call the third party API.</p>\n<p>I am unsure of what my option are regarding Java libraries for Okta.</p>\n<p>I have looked a little bit at <a href=\"https://www.pac4j.org/docs/clients/openid-connect.html\" rel=\"nofollow noreferrer\">https://www.pac4j.org/docs/clients/openid-connect.html</a>, but this looks more like a library for securing APIs using Okta, which we dont need to do, just call a secured API.</p>\n<p>Apparently Okta is also supported by the Spring boot framework, but I have no experience with Spring and we dont use it. Are there other options? Or something a lot smaller and simpler we can use, so we dont have to deep dive into Spring?</p>\n"},{"tags":["java","sudoku"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1475000640,"post_id":39731728,"comment_id":66761159,"body_markdown":"Stackoverflow is neither the place to learn about data structures and their corresponding strengths and weakness, or the basics of the Java programming language","body":"Stackoverflow is neither the place to learn about data structures and their corresponding strengths and weakness, or the basics of the Java programming language"},{"owner":{"account_id":1694248,"reputation":7095,"user_id":1555990,"accept_rate":91,"display_name":"That1Guy"},"score":0,"creation_date":1475000724,"post_id":39731728,"comment_id":66761216,"body_markdown":"This question is not suitable for Stackoverflow; It is too broad as there are too many possible answers.","body":"This question is not suitable for Stackoverflow; It is too broad as there are too many possible answers."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1475000965,"post_id":39731728,"comment_id":66761364,"body_markdown":"You can just make your own. Java doesn&#39;t have special datastructures for sudokus that have 2-3 different layers of logic.","body":"You can just make your own. Java doesn&#39;t have special datastructures for sudokus that have 2-3 different layers of logic."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1475001007,"post_id":39731728,"comment_id":66761395,"body_markdown":"Try to cut the question some slack then and bring it to the point. I have got data of this format (small example with 2 datapoints), I wonder whether I should use a HashMap, ArrayList, Arrays or what ? I personally think that xy would be the best choice but I&#39;m uncertain about quality xy of that choice.","body":"Try to cut the question some slack then and bring it to the point. I have got data of this format (small example with 2 datapoints), I wonder whether I should use a HashMap, ArrayList, Arrays or what ? I personally think that xy would be the best choice but I&#39;m uncertain about quality xy of that choice."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475001093,"creation_date":1475001093,"answer_id":39731929,"question_id":39731728,"body_markdown":"A list of possibilities would be best represented by a set.\r\n\r\n    Set&lt;Integer&gt;\r\n\r\nA dictionary of cells to possibilities translates naturally to a map.\r\n\r\n    Map&lt;Cell, Set&lt;Integer&gt;&gt;\r\n\r\nNote that I&#39;ve used abstract `Set` and `Map` types rather than concrete implementations. You&#39;ll need to pick concrete classes to instantiate the variables with, but the variable types should use the abstract types. Here&#39;s what I mean:\r\n\r\n    Map&lt;Cell, Set&lt;Integer&gt;&gt; cellValues = new HashMap&lt;&gt;();\r\n\r\n    for (Cell cell: Cell.all()) {\r\n        cellValues.put(cell, new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9)));\r\n    }\r\n\r\n`HashMap` and `HashSet` are the concrete classes.\r\n\r\nNote also that I&#39;ve used a `Cell` class instead of working directly with strings like `&quot;A1&quot;`. In Python it&#39;s easy to work with strings and would probably be overkill to create a separate class. In Java it&#39;s definitely a good practice to create a `Cell` class.","title":"Best data structure for my sudoku solver?","body":"<p>A list of possibilities would be best represented by a set.</p>\n\n<pre><code>Set&lt;Integer&gt;\n</code></pre>\n\n<p>A dictionary of cells to possibilities translates naturally to a map.</p>\n\n<pre><code>Map&lt;Cell, Set&lt;Integer&gt;&gt;\n</code></pre>\n\n<p>Note that I've used abstract <code>Set</code> and <code>Map</code> types rather than concrete implementations. You'll need to pick concrete classes to instantiate the variables with, but the variable types should use the abstract types. Here's what I mean:</p>\n\n<pre><code>Map&lt;Cell, Set&lt;Integer&gt;&gt; cellValues = new HashMap&lt;&gt;();\n\nfor (Cell cell: Cell.all()) {\n    cellValues.put(cell, new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9)));\n}\n</code></pre>\n\n<p><code>HashMap</code> and <code>HashSet</code> are the concrete classes.</p>\n\n<p>Note also that I've used a <code>Cell</code> class instead of working directly with strings like <code>\"A1\"</code>. In Python it's easy to work with strings and would probably be overkill to create a separate class. In Java it's definitely a good practice to create a <code>Cell</code> class.</p>\n"}],"owner":{"account_id":7469933,"reputation":117,"user_id":5678255,"accept_rate":40,"display_name":"pattymills"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"closed_date":1475052375,"answer_count":1,"score":-1,"last_activity_date":1675957208,"creation_date":1475000402,"question_id":39731728,"body_markdown":"I am building a sudoku solver. I built one in Python about a year ago and I really liked the way I had my data organized. What I did in python was as follows:\r\n\r\n- Each row was a letter, each column was a number.\r\n       (So top left cell was &#39;A1&#39;, bottom right cell was &#39;I9&#39;, top right &#39;A9&#39;, etc.)\r\n    \r\n- These &#39;cell names&#39; were used as keys in a dictionary. \r\n    \r\n- The values attached to each key represented all the possible values that cell could legally store (according to the rules of sudoku). So each key had a starting value of &#39;123456789&#39;. \r\n    \r\n- I had other lists representing which cells were &#39;brothers&#39;. (same row/column/3x3 box). If a cell had been &#39;solved&#39; then its value in the dict would be reduced to only the integer it had been solved to.\r\n    \r\n- Any &#39;brother&#39; cells to a solved cell would then have that &#39;solved&#39; integer removed from their dictionary values. (it is no longer a potential value for that cell)\r\n    \r\n- Whenever a key&#39;s value was of length 1, that would represent a &#39;solved&#39; cell.\r\n\r\nFor example, say &#39;A3&#39; had been solved for 8. It would have key:value in the dict as &#39;A3&#39;: &#39;8&#39;. My methods would notice this and for every &#39;brother&#39; cell (all the &#39;Ax&#39; cells, all the &#39;y3&#39; cells, and the 3x3 box &#39;A3&#39; is in (A1-3,B1-3,C1-3) would have &#39;8&#39; removed from their values.\r\n    Say &#39;B2&#39;: &#39;1234789&#39; before &#39;A3&#39; became &#39;8&#39;. Afterwards, &#39;B2&#39;: &#39;123479&#39;\r\n\r\nHere&#39;s an example of a partially solved puzzle and how it would have been stored in my python code:\r\n\r\n    {&#39;I6&#39;: &#39;123456789&#39;, &#39;H9&#39;: &#39;2&#39;, &#39;I2&#39;: &#39;3&#39;, &#39;E8&#39;: &#39;123456789&#39;, &#39;H3&#39;: &#39;5&#39;, &#39;H7&#39;: &#39;123456789&#39;, &#39;I7&#39;:\r\n    \t&#39;123456789&#39;, &#39;I4&#39;: &#39;1&#39;, &#39;H5&#39;: &#39;4&#39;, &#39;F9&#39;: &#39;123456789&#39;, &#39;G7&#39;: &#39;123456789&#39;, &#39;G6&#39;: &#39;123456789&#39;, &#39;G5&#39;: &#39;2&#39;,\r\n    \t&#39;E1&#39;: &#39;4&#39;, &#39;G3&#39;: &#39;9&#39;, &#39;G2&#39;: &#39;4&#39;, &#39;G1&#39;: &#39;6&#39;, &#39;I1&#39;: &#39;2&#39;, &#39;C8&#39;: &#39;123456789&#39;, &#39;I3&#39;: &#39;7&#39;, &#39;E5&#39;: &#39;1&#39;, &#39;I5&#39;:\r\n    \t&#39;123456789&#39;, &#39;C9&#39;: &#39;7&#39;, &#39;G9&#39;: &#39;123456789&#39;, &#39;G8&#39;: &#39;8&#39;, &#39;A1&#39;: &#39;7&#39;, &#39;A3&#39;: &#39;123456789&#39;, &#39;A2&#39;: &#39;6&#39;, &#39;A5&#39;:\r\n    \t&#39;123456789&#39;, &#39;A4&#39;: &#39;2&#39;, &#39;A7&#39;: &#39;123456789&#39;, &#39;A6&#39;: &#39;123456789&#39;, &#39;C3&#39;: &#39;123456789&#39;, &#39;C2&#39;: &#39;123456789&#39;,\r\n    \t&#39;C1&#39;: &#39;3&#39;, &#39;E6&#39;: &#39;123456789&#39;, &#39;C7&#39;: &#39;123456789&#39;, &#39;C6&#39;: &#39;4&#39;, &#39;C5&#39;: &#39;5&#39;, &#39;C4&#39;: &#39;123456789&#39;, &#39;I9&#39;:\r\n    \t&#39;123456789&#39;, &#39;D8&#39;: &#39;123456789&#39;, &#39;I8&#39;: &#39;123456789&#39;, &#39;E4&#39;: &#39;123456789&#39;, &#39;D9&#39;: &#39;123456789&#39;, &#39;H8&#39;:\r\n    \t&#39;7&#39;, &#39;F6&#39;: &#39;123456789&#39;, &#39;A9&#39;: &#39;123456789&#39;, &#39;G4&#39;: &#39;123456789&#39;, &#39;A8&#39;: &#39;5&#39;, &#39;E7&#39;: &#39;5&#39;, &#39;E3&#39;: &#39;6&#39;,\r\n    \t&#39;F1&#39;: &#39;123456789&#39;, &#39;F2&#39;: &#39;123456789&#39;, &#39;F3&#39;: &#39;123456789&#39;, &#39;F4&#39;: &#39;123456789&#39;, &#39;F5&#39;: &#39;3&#39;, &#39;E2&#39;:\r\n    \t&#39;7&#39;, &#39;F7&#39;: &#39;7&#39;, &#39;F8&#39;: &#39;123456789&#39;, &#39;D2&#39;: &#39;5&#39;, &#39;H1&#39;: &#39;1&#39;, &#39;H6&#39;: &#39;6&#39;, &#39;H2&#39;: &#39;8&#39;, &#39;H4&#39;: &#39;3&#39;,\r\n    \t&#39;D3&#39;: &#39;3&#39;, &#39;B4&#39;: &#39;123456789&#39;, &#39;B5&#39;: &#39;6&#39;, &#39;B6&#39;: &#39;123456789&#39;, &#39;B7&#39;: &#39;123456789&#39;, &#39;E9&#39;:\r\n    \t&#39;123456789&#39;, &#39;B1&#39;: &#39;5&#39;, &#39;B2&#39;: &#39;123456789&#39;, &#39;B3&#39;: &#39;123456789&#39;, &#39;D6&#39;: &#39;123456789&#39;, &#39;D7&#39;:\r\n    \t&#39;123456789&#39;, &#39;D4&#39;: &#39;123456789&#39;, &#39;D5&#39;: &#39;7&#39;, &#39;B8&#39;: &#39;123456789&#39;, &#39;B9&#39;: &#39;123456789&#39;, &#39;D1&#39;: &#39;8&#39;}\r\n\r\n\r\nI can&#39;t quite figure out how I can set this up in Java. I don&#39;t have any experience with HashMaps, but from reading up on them, it seems like they could be a good candidate to fill the role of my Dictionary. If I go that route, what are some different ways I can go about storing the values within the HashMap (default &#39;123456789&#39;, but with the ability to remove a specific number from the value anytime it becomes invalid due to a &#39;brother&#39; cell having ONLY that specific number in its value).\r\n\r\n\r\nSorry if this is confusing and thank you to anyone who reads it. Once I get the data structures in place, I have a good grasp on how I will go about creating methods to &#39;whittle&#39; down each cell&#39;s POTENTIAL_VALUES (values in the dict) until each cell (key) only has one value left (signifying a solved puzzle).","title":"Best data structure for my sudoku solver?","body":"<p>I am building a sudoku solver. I built one in Python about a year ago and I really liked the way I had my data organized. What I did in python was as follows:</p>\n<ul>\n<li><p>Each row was a letter, each column was a number.\n(So top left cell was 'A1', bottom right cell was 'I9', top right 'A9', etc.)</p>\n</li>\n<li><p>These 'cell names' were used as keys in a dictionary.</p>\n</li>\n<li><p>The values attached to each key represented all the possible values that cell could legally store (according to the rules of sudoku). So each key had a starting value of '123456789'.</p>\n</li>\n<li><p>I had other lists representing which cells were 'brothers'. (same row/column/3x3 box). If a cell had been 'solved' then its value in the dict would be reduced to only the integer it had been solved to.</p>\n</li>\n<li><p>Any 'brother' cells to a solved cell would then have that 'solved' integer removed from their dictionary values. (it is no longer a potential value for that cell)</p>\n</li>\n<li><p>Whenever a key's value was of length 1, that would represent a 'solved' cell.</p>\n</li>\n</ul>\n<p>For example, say 'A3' had been solved for 8. It would have key:value in the dict as 'A3': '8'. My methods would notice this and for every 'brother' cell (all the 'Ax' cells, all the 'y3' cells, and the 3x3 box 'A3' is in (A1-3,B1-3,C1-3) would have '8' removed from their values.\nSay 'B2': '1234789' before 'A3' became '8'. Afterwards, 'B2': '123479'</p>\n<p>Here's an example of a partially solved puzzle and how it would have been stored in my python code:</p>\n<pre><code>{'I6': '123456789', 'H9': '2', 'I2': '3', 'E8': '123456789', 'H3': '5', 'H7': '123456789', 'I7':\n    '123456789', 'I4': '1', 'H5': '4', 'F9': '123456789', 'G7': '123456789', 'G6': '123456789', 'G5': '2',\n    'E1': '4', 'G3': '9', 'G2': '4', 'G1': '6', 'I1': '2', 'C8': '123456789', 'I3': '7', 'E5': '1', 'I5':\n    '123456789', 'C9': '7', 'G9': '123456789', 'G8': '8', 'A1': '7', 'A3': '123456789', 'A2': '6', 'A5':\n    '123456789', 'A4': '2', 'A7': '123456789', 'A6': '123456789', 'C3': '123456789', 'C2': '123456789',\n    'C1': '3', 'E6': '123456789', 'C7': '123456789', 'C6': '4', 'C5': '5', 'C4': '123456789', 'I9':\n    '123456789', 'D8': '123456789', 'I8': '123456789', 'E4': '123456789', 'D9': '123456789', 'H8':\n    '7', 'F6': '123456789', 'A9': '123456789', 'G4': '123456789', 'A8': '5', 'E7': '5', 'E3': '6',\n    'F1': '123456789', 'F2': '123456789', 'F3': '123456789', 'F4': '123456789', 'F5': '3', 'E2':\n    '7', 'F7': '7', 'F8': '123456789', 'D2': '5', 'H1': '1', 'H6': '6', 'H2': '8', 'H4': '3',\n    'D3': '3', 'B4': '123456789', 'B5': '6', 'B6': '123456789', 'B7': '123456789', 'E9':\n    '123456789', 'B1': '5', 'B2': '123456789', 'B3': '123456789', 'D6': '123456789', 'D7':\n    '123456789', 'D4': '123456789', 'D5': '7', 'B8': '123456789', 'B9': '123456789', 'D1': '8'}\n</code></pre>\n<p>I can't quite figure out how I can set this up in Java. I don't have any experience with HashMaps, but from reading up on them, it seems like they could be a good candidate to fill the role of my Dictionary. If I go that route, what are some different ways I can go about storing the values within the HashMap (default '123456789', but with the ability to remove a specific number from the value anytime it becomes invalid due to a 'brother' cell having ONLY that specific number in its value).</p>\n<p>Sorry if this is confusing and thank you to anyone who reads it. Once I get the data structures in place, I have a good grasp on how I will go about creating methods to 'whittle' down each cell's POTENTIAL_VALUES (values in the dict) until each cell (key) only has one value left (signifying a solved puzzle).</p>\n"},{"tags":["javascript","java","typescript","protocol-buffers","uuid"],"answers":[{"comments":[{"owner":{"account_id":13613335,"reputation":167,"user_id":9820067,"display_name":"Ivan Jakab"},"score":0,"creation_date":1675863845,"post_id":66304548,"comment_id":133019053,"body_markdown":"Could you also provide a reverse function, one that will take in uuid string and output msb and lsb BigInt?","body":"Could you also provide a reverse function, one that will take in uuid string and output msb and lsb BigInt?"},{"owner":{"account_id":315748,"reputation":1047,"user_id":631579,"display_name":"rocky"},"score":0,"creation_date":1675956236,"post_id":66304548,"comment_id":133042873,"body_markdown":"@IvanJakab, I added an update with the reverse function.","body":"@IvanJakab, I added an update with the reverse function."}],"tags":[],"owner":{"account_id":315748,"reputation":1047,"user_id":631579,"display_name":"rocky"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675956136,"creation_date":1613925181,"answer_id":66304548,"question_id":66304547,"body_markdown":"Looking at Java `UUID`&#39;s `toString()` method for inspiration,\r\n\r\n```java\r\npublic String toString() {\r\n  return (digits(mostSigBits &gt;&gt; 32, 8) + &quot;-&quot; +\r\n    digits(mostSigBits &gt;&gt; 16, 4) + &quot;-&quot; +\r\n    digits(mostSigBits, 4) + &quot;-&quot; +\r\n    digits(leastSigBits &gt;&gt; 48, 4) + &quot;-&quot; +\r\n    digits(leastSigBits, 12));\r\n}\r\n\r\nprivate static String digits(long val, int digits) {\r\n  long hi = 1L &lt;&lt; (digits * 4);\r\n  return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\r\n}\r\n```\r\n\r\nWe can do the same using [`BigInt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt). This assumes Node 10.8+ (tested with 18.14.0), TypeScript targeting ES2020+, and with [this browser compatibility](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility).\r\n\r\n**Note**: If you get &quot;BigInt literals are not available...&quot; wrap all literals ending with `n` with `BigInt` instead (e.g., instead of `32n`, use `BigInt(32)`).\r\n\r\n```typescript\r\nfunction uuidSigBitsToStr({ lsb, msb }: { lsb: bigint; msb: bigint }): string {\r\n  return `${digits(msb &gt;&gt; 32n, 8n)}-${digits(msb &gt;&gt; 16n, 4n)}-${digits(\r\n    msb,\r\n    4n\r\n  )}-${digits(lsb &gt;&gt; 48n, 4n)}-${digits(lsb, 12n)}`;\r\n}\r\n\r\nfunction digits(val: bigint, ds: bigint): string {\r\n  const hi = 1n &lt;&lt; (ds * 4n);\r\n  return (hi | (val &amp; (hi - 1n))).toString(16).substring(1);\r\n}\r\n```\r\n\r\nAnd an example test, notice msb/lsb are passed to `BigInt` as `string`s,\r\n\r\n```typescript\r\nit(&#39;converts UUID from msb/lsb to string&#39;, () =&gt; {\r\n  expect(\r\n    toUuidString(\r\n      BigInt(&#39;-1160168401362026442&#39;),\r\n      BigInt(&#39;-6694969989912915968&#39;)\r\n    )\r\n  ).toEqual(&#39;a316b044-0157-1000-efe6-40fc5d2f0036&#39;);\r\n});\r\n```\r\n\r\nThe final piece is protocol buffers. By default, [`google-protobuf`](https://www.npmjs.com/package/google-protobuf) uses `number` for 64-bit `float` and `int` values, which causes overflow above `Number.MAX_VALUE` or 2&lt;sup&gt;53&lt;/sup&gt; - 1. To avoid this, use the `jstype` annotation on 64-bit fields,\r\n\r\n```protobufs\r\nmessage Uuid {\r\n    sfixed64 msb = 1 [jstype = JS_STRING];\r\n    sfixed64 lsb = 2 [jstype = JS_STRING];\r\n} \r\n```\r\n\r\n**2023 update: the reverse function, convert from UUID string to significant bits**\r\n\r\n```typescript\r\nfunction uuidStrToSigBits(uuid: string) {\r\n  const invalidError = () =&gt; new Error(`Invalid UUID string: &#39;${uuid}&#39;`);\r\n  if (uuid == null || typeof uuid !== &quot;string&quot;) throw invalidError();\r\n\r\n  const parts = uuid.split(&quot;-&quot;).map((p) =&gt; `0x${p}`);\r\n  if (parts.length !== 5) throw invalidError();\r\n\r\n  return {\r\n    lsb: (hexStrToBigInt(parts[3]) &lt;&lt; 48n) | hexStrToBigInt(parts[4]),\r\n    msb:\r\n      (hexStrToBigInt(parts[0]) &lt;&lt; 32n) |\r\n      (hexStrToBigInt(parts[1]) &lt;&lt; 16n) |\r\n      hexStrToBigInt(parts[2]),\r\n  };\r\n}\r\n\r\nfunction hexStrToBigInt(hex: string): bigint {\r\n  return BigInt(Number.parseInt(hex, 16));\r\n}\r\n```\r\n\r\nHere&#39;s a round-trip test,\r\n\r\n```typescript\r\nconst uuidSigBits = uuidStrToSigBits(&quot;7680fc63-1f58-412a-9bde-c5a9de1e0ce9&quot;);\r\nconst uuidStr = uuidSigBitsToStr(uuidSigBits);\r\nconsole.log(uuidStr);\r\n  // =&gt; 7680fc63-1f58-412a-9bde-c5a9de1e0ce9\r\n```","title":"JavaScript/TypeScript: Convert UUID from most significant bits (MSB)/least significant bits (LSB) representation to string","body":"<p>Looking at Java <code>UUID</code>'s <code>toString()</code> method for inspiration,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String toString() {\n  return (digits(mostSigBits &gt;&gt; 32, 8) + &quot;-&quot; +\n    digits(mostSigBits &gt;&gt; 16, 4) + &quot;-&quot; +\n    digits(mostSigBits, 4) + &quot;-&quot; +\n    digits(leastSigBits &gt;&gt; 48, 4) + &quot;-&quot; +\n    digits(leastSigBits, 12));\n}\n\nprivate static String digits(long val, int digits) {\n  long hi = 1L &lt;&lt; (digits * 4);\n  return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\n}\n</code></pre>\n<p>We can do the same using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\" rel=\"nofollow noreferrer\"><code>BigInt</code></a>. This assumes Node 10.8+ (tested with 18.14.0), TypeScript targeting ES2020+, and with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility\" rel=\"nofollow noreferrer\">this browser compatibility</a>.</p>\n<p><strong>Note</strong>: If you get &quot;BigInt literals are not available...&quot; wrap all literals ending with <code>n</code> with <code>BigInt</code> instead (e.g., instead of <code>32n</code>, use <code>BigInt(32)</code>).</p>\n<pre class=\"lang-js prettyprint-override\"><code>function uuidSigBitsToStr({ lsb, msb }: { lsb: bigint; msb: bigint }): string {\n  return `${digits(msb &gt;&gt; 32n, 8n)}-${digits(msb &gt;&gt; 16n, 4n)}-${digits(\n    msb,\n    4n\n  )}-${digits(lsb &gt;&gt; 48n, 4n)}-${digits(lsb, 12n)}`;\n}\n\nfunction digits(val: bigint, ds: bigint): string {\n  const hi = 1n &lt;&lt; (ds * 4n);\n  return (hi | (val &amp; (hi - 1n))).toString(16).substring(1);\n}\n</code></pre>\n<p>And an example test, notice msb/lsb are passed to <code>BigInt</code> as <code>string</code>s,</p>\n<pre class=\"lang-js prettyprint-override\"><code>it('converts UUID from msb/lsb to string', () =&gt; {\n  expect(\n    toUuidString(\n      BigInt('-1160168401362026442'),\n      BigInt('-6694969989912915968')\n    )\n  ).toEqual('a316b044-0157-1000-efe6-40fc5d2f0036');\n});\n</code></pre>\n<p>The final piece is protocol buffers. By default, <a href=\"https://www.npmjs.com/package/google-protobuf\" rel=\"nofollow noreferrer\"><code>google-protobuf</code></a> uses <code>number</code> for 64-bit <code>float</code> and <code>int</code> values, which causes overflow above <code>Number.MAX_VALUE</code> or 2<sup>53</sup> - 1. To avoid this, use the <code>jstype</code> annotation on 64-bit fields,</p>\n<pre><code>message Uuid {\n    sfixed64 msb = 1 [jstype = JS_STRING];\n    sfixed64 lsb = 2 [jstype = JS_STRING];\n} \n</code></pre>\n<p><strong>2023 update: the reverse function, convert from UUID string to significant bits</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>function uuidStrToSigBits(uuid: string) {\n  const invalidError = () =&gt; new Error(`Invalid UUID string: '${uuid}'`);\n  if (uuid == null || typeof uuid !== &quot;string&quot;) throw invalidError();\n\n  const parts = uuid.split(&quot;-&quot;).map((p) =&gt; `0x${p}`);\n  if (parts.length !== 5) throw invalidError();\n\n  return {\n    lsb: (hexStrToBigInt(parts[3]) &lt;&lt; 48n) | hexStrToBigInt(parts[4]),\n    msb:\n      (hexStrToBigInt(parts[0]) &lt;&lt; 32n) |\n      (hexStrToBigInt(parts[1]) &lt;&lt; 16n) |\n      hexStrToBigInt(parts[2]),\n  };\n}\n\nfunction hexStrToBigInt(hex: string): bigint {\n  return BigInt(Number.parseInt(hex, 16));\n}\n</code></pre>\n<p>Here's a round-trip test,</p>\n<pre class=\"lang-js prettyprint-override\"><code>const uuidSigBits = uuidStrToSigBits(&quot;7680fc63-1f58-412a-9bde-c5a9de1e0ce9&quot;);\nconst uuidStr = uuidSigBitsToStr(uuidSigBits);\nconsole.log(uuidStr);\n  // =&gt; 7680fc63-1f58-412a-9bde-c5a9de1e0ce9\n</code></pre>\n"}],"owner":{"account_id":315748,"reputation":1047,"user_id":631579,"display_name":"rocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66304548,"answer_count":1,"score":1,"last_activity_date":1675956136,"creation_date":1613925181,"question_id":66304547,"body_markdown":"To save space when passing UUIDs with Protocol Buffers, we send them using the MSB/LSB representation, two 64-bit `long` values.\r\n\r\n```protobufs\r\nmessage Uuid {\r\n  sfixed64 msb = 1;\r\n  sfixed64 lsb = 2;\r\n} \r\n```\r\n\r\n\r\nThese are simple to go to and from in Java,\r\n\r\n```java\r\nUUID id = UUID.fromString(&quot;eb66c416-4739-465b-9af3-9dc33ed8eef9&quot;);\r\nlong msb = id.getMostSignificantBits();\r\nlong lsb = id.getLeastSignificantBits();\r\nSystem.out.println(msb + &quot;, &quot; + lsb);\r\n  // -1484283427208739237, -7281302710629372167\r\n\r\nSystem.out.println(new UUID(msb, lsb));\r\n  // eb66c416-4739-465b-9af3-9dc33ed8eef9\r\n```\r\n\r\nHowever, since JavaScript&#39;s `number` only goes up to 2&lt;sup&gt;53&lt;/sup&gt; - 1, I&#39;m unable to convert the MSB/LSB format back to a `string` in my TypeScript client. Is this possible?","title":"JavaScript/TypeScript: Convert UUID from most significant bits (MSB)/least significant bits (LSB) representation to string","body":"<p>To save space when passing UUIDs with Protocol Buffers, we send them using the MSB/LSB representation, two 64-bit <code>long</code> values.</p>\n<pre class=\"lang-proto prettyprint-override\"><code>message Uuid {\n  sfixed64 msb = 1;\n  sfixed64 lsb = 2;\n} \n</code></pre>\n<p>These are simple to go to and from in Java,</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID id = UUID.fromString(&quot;eb66c416-4739-465b-9af3-9dc33ed8eef9&quot;);\nlong msb = id.getMostSignificantBits();\nlong lsb = id.getLeastSignificantBits();\nSystem.out.println(msb + &quot;, &quot; + lsb);\n  // -1484283427208739237, -7281302710629372167\n\nSystem.out.println(new UUID(msb, lsb));\n  // eb66c416-4739-465b-9af3-9dc33ed8eef9\n</code></pre>\n<p>However, since JavaScript's <code>number</code> only goes up to 2<sup>53</sup> - 1, I'm unable to convert the MSB/LSB format back to a <code>string</code> in my TypeScript client. Is this possible?</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":6805869,"reputation":3143,"user_id":5237611,"accept_rate":71,"display_name":"Michael"},"score":0,"creation_date":1675956811,"post_id":75394761,"comment_id":133043071,"body_markdown":"Thanks Alex, this was mainly gathering the background information so I can figure out whether the MDC framework will work as it did using RestTemplate. I have added an UPDATE section to my question. From my understanding, and after testing and logging to see what thread the statements are being run on, it seems that MDC will not work in my scenario since the thread switches, even though `block()` is being used","body":"Thanks Alex, this was mainly gathering the background information so I can figure out whether the MDC framework will work as it did using RestTemplate. I have added an UPDATE section to my question. From my understanding, and after testing and logging to see what thread the statements are being run on, it seems that MDC will not work in my scenario since the thread switches, even though <code>block()</code> is being used"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1675957313,"post_id":75394761,"comment_id":133043230,"body_markdown":"If you mean using ThreadLocal to path MDC - it will not work in reactive. You would need to use reactive context.","body":"If you mean using ThreadLocal to path MDC - it will not work in reactive. You would need to use reactive context."},{"owner":{"account_id":6805869,"reputation":3143,"user_id":5237611,"accept_rate":71,"display_name":"Michael"},"score":0,"creation_date":1675958135,"post_id":75394761,"comment_id":133043568,"body_markdown":"Thank you for clearing this up!","body":"Thank you for clearing this up!"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675922319,"creation_date":1675922319,"answer_id":75394761,"question_id":75392148,"body_markdown":"Typically in reactor operators continue working in the `Thread` on which the previous operator executed. In addition, `WebClient` is just a wrapper on top of underlining http clients (Netty or Apache HttpClient in your case). Http clients would maintain a separate thread pool to handle http requests.\r\n\r\nIt means that `WebClient` request will be executed on the caller thread but for network operations execution will be switched to `httpclient-dispatch-#` thread and then continue on that thread until you block.\r\n\r\nAs result request filter will be executed on the caller thread and response filter on the http client thread `httpclient-dispatch-#`.\r\n\r\n\r\nHere is an example that demonstrates this\r\n\r\n```\r\n@Test\r\nvoid test() {\r\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom().build();\r\n    WebClient webClient = WebClient.builder()\r\n            .baseUrl(&quot;https://google.com&quot;)\r\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\r\n            .filter(logRequest())\r\n            .filter(logResponse())\r\n            .build();\r\n\r\n    var request = webClient.get()\r\n            .uri(&quot;/&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();}\r\n\r\nprivate ExchangeFilterFunction logRequest() {\r\n    return (clientRequest, next) -&gt; {\r\n        log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n        return next.exchange(clientRequest);\r\n    };\r\n}\r\n\r\nprivate ExchangeFilterFunction logResponse() {\r\n    return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n        log.info(&quot;Response Status: {}&quot;, clientResponse.statusCode());\r\n        return Mono.just(clientResponse);\r\n    });\r\n}\r\n```\r\n\r\n```\r\n21:53:54.051 [Test worker] INFO WebClientTest - START\r\n21:53:54.728 [Test worker] INFO WebClientTest - Request: GET https://google.com/\r\n21:53:55.445 [httpclient-dispatch-2] INFO WebClientTest - Response Status: 200 OK\r\n21:53:55.572 [Test worker] INFO WebClientTest - END\r\n```","title":"Does a WebClient request using `block()` only use 1 thread throughout the entire request? Even if we have an ExchangeFilterFunction running?","body":"<p>Typically in reactor operators continue working in the <code>Thread</code> on which the previous operator executed. In addition, <code>WebClient</code> is just a wrapper on top of underlining http clients (Netty or Apache HttpClient in your case). Http clients would maintain a separate thread pool to handle http requests.</p>\n<p>It means that <code>WebClient</code> request will be executed on the caller thread but for network operations execution will be switched to <code>httpclient-dispatch-#</code> thread and then continue on that thread until you block.</p>\n<p>As result request filter will be executed on the caller thread and response filter on the http client thread <code>httpclient-dispatch-#</code>.</p>\n<p>Here is an example that demonstrates this</p>\n<pre><code>@Test\nvoid test() {\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom().build();\n    WebClient webClient = WebClient.builder()\n            .baseUrl(&quot;https://google.com&quot;)\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\n            .filter(logRequest())\n            .filter(logResponse())\n            .build();\n\n    var request = webClient.get()\n            .uri(&quot;/&quot;)\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();}\n\nprivate ExchangeFilterFunction logRequest() {\n    return (clientRequest, next) -&gt; {\n        log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n        return next.exchange(clientRequest);\n    };\n}\n\nprivate ExchangeFilterFunction logResponse() {\n    return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n        log.info(&quot;Response Status: {}&quot;, clientResponse.statusCode());\n        return Mono.just(clientResponse);\n    });\n}\n</code></pre>\n<pre><code>21:53:54.051 [Test worker] INFO WebClientTest - START\n21:53:54.728 [Test worker] INFO WebClientTest - Request: GET https://google.com/\n21:53:55.445 [httpclient-dispatch-2] INFO WebClientTest - Response Status: 200 OK\n21:53:55.572 [Test worker] INFO WebClientTest - END\n</code></pre>\n"}],"owner":{"account_id":6805869,"reputation":3143,"user_id":5237611,"accept_rate":71,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394761,"answer_count":1,"score":0,"last_activity_date":1675956091,"creation_date":1675893412,"question_id":75392148,"body_markdown":"I am running a Spring boot 3.0.1 application, using WebClient to manage HTTP requests (switching from RestTemplate). I am using WebClient in a blocking way - sending my requests like this:\r\n\r\n`webClient.get().uri(path).headers(headers).retrieve().bodyToMono(responseType).block();`\r\n\r\nWhere `path`, `headers`, and `responseType` are already defined. Here is how I declare the WebClient Spring Bean:\r\n\r\n    @Bean\r\n    public WebClient webClient(CloseableHttpAsyncClient httpAsyncClient) {\r\n        return WebClient.builder()\r\n                .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\r\n                .filter(new CustomResponseHeaderFilter())\r\n                .build();\r\n    }\r\n\r\nHere&#39;s the implementation of the `CustomResponseHeaderFilter` class. (Yes I know it&#39;s not doing anything right now):\r\n\r\n```\r\npublic class CustomResponseHeaderFilter implements ExchangeFilterFunction {\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        return next.exchange(request);\r\n    }\r\n\r\n    @Override\r\n    public ExchangeFilterFunction andThen(ExchangeFilterFunction afterFilter) {\r\n        return ExchangeFilterFunction.super.andThen(afterFilter);\r\n    }\r\n\r\n    @Override\r\n    public ExchangeFunction apply(ExchangeFunction exchange) {\r\n        return ExchangeFilterFunction.super.apply(exchange);\r\n    }\r\n}\r\n```\r\n\r\nSo in the current state of my application, does the code that&#39;s run throughout an entire request run on the same thread? I&#39;ve seen some information from another post [here][1] saying that the thread pauses, and in the background a separate thread is used for network operations.\r\n\r\nMore specifically, does the `block()` method call affect how the `ExchangeFilterFunction` is executed? What I mean by that is does the code in the `.filter()` method also run on the same thread as the request since we are using `block()`?\r\n\r\nI haven&#39;t seen any documentation so far regarding blocking and the filter function, and I&#39;m not entirely sure how this works behind the scenes.\r\n\r\n**UPDATE:**\r\nThis is directly relating to using `MDC`. Essentially I am wondering whether MDC can be used as if the entire request is run on 1 thread - like when it&#39;s used in `RestTemplate`. I am wondering if I add a value to the MDC context in the `logResponse` filter function while using `.block()`, will it be available to use after the request has been processed?\r\n\r\nThanks\r\n\r\n  [1]: https://stackoverflow.com/questions/72300024/does-the-use-of-spring-webfluxs-webclient-in-a-blocking-application-design-caus","title":"Does a WebClient request using `block()` only use 1 thread throughout the entire request? Even if we have an ExchangeFilterFunction running?","body":"<p>I am running a Spring boot 3.0.1 application, using WebClient to manage HTTP requests (switching from RestTemplate). I am using WebClient in a blocking way - sending my requests like this:</p>\n<p><code>webClient.get().uri(path).headers(headers).retrieve().bodyToMono(responseType).block();</code></p>\n<p>Where <code>path</code>, <code>headers</code>, and <code>responseType</code> are already defined. Here is how I declare the WebClient Spring Bean:</p>\n<pre><code>@Bean\npublic WebClient webClient(CloseableHttpAsyncClient httpAsyncClient) {\n    return WebClient.builder()\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\n            .filter(new CustomResponseHeaderFilter())\n            .build();\n}\n</code></pre>\n<p>Here's the implementation of the <code>CustomResponseHeaderFilter</code> class. (Yes I know it's not doing anything right now):</p>\n<pre><code>public class CustomResponseHeaderFilter implements ExchangeFilterFunction {\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        return next.exchange(request);\n    }\n\n    @Override\n    public ExchangeFilterFunction andThen(ExchangeFilterFunction afterFilter) {\n        return ExchangeFilterFunction.super.andThen(afterFilter);\n    }\n\n    @Override\n    public ExchangeFunction apply(ExchangeFunction exchange) {\n        return ExchangeFilterFunction.super.apply(exchange);\n    }\n}\n</code></pre>\n<p>So in the current state of my application, does the code that's run throughout an entire request run on the same thread? I've seen some information from another post <a href=\"https://stackoverflow.com/questions/72300024/does-the-use-of-spring-webfluxs-webclient-in-a-blocking-application-design-caus\">here</a> saying that the thread pauses, and in the background a separate thread is used for network operations.</p>\n<p>More specifically, does the <code>block()</code> method call affect how the <code>ExchangeFilterFunction</code> is executed? What I mean by that is does the code in the <code>.filter()</code> method also run on the same thread as the request since we are using <code>block()</code>?</p>\n<p>I haven't seen any documentation so far regarding blocking and the filter function, and I'm not entirely sure how this works behind the scenes.</p>\n<p><strong>UPDATE:</strong>\nThis is directly relating to using <code>MDC</code>. Essentially I am wondering whether MDC can be used as if the entire request is run on 1 thread - like when it's used in <code>RestTemplate</code>. I am wondering if I add a value to the MDC context in the <code>logResponse</code> filter function while using <code>.block()</code>, will it be available to use after the request has been processed?</p>\n<p>Thanks</p>\n"},{"tags":["java","linked-list","binary-search-tree"],"comments":[{"owner":{"account_id":7815822,"reputation":8701,"user_id":5910563,"display_name":"Horia Coman"},"score":2,"creation_date":1494770261,"post_id":43964701,"comment_id":74959440,"body_markdown":"There&#39;s _too much_ detail in this question, and it&#39;s not helping at all. Try to reduce the example to the smallest thing which highlights your issues. Here&#39;s [the guide](https://stackoverflow.com/help/how-to-ask) to asking a question.","body":"There&#39;s <i>too much</i> detail in this question, and it&#39;s not helping at all. Try to reduce the example to the smallest thing which highlights your issues. Here&#39;s <a href=\"https://stackoverflow.com/help/how-to-ask\">the guide</a> to asking a question."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1494770303,"post_id":43964701,"comment_id":74959454,"body_markdown":"You can&#39;t use primitive types (like int) as generic type. use Integer.","body":"You can&#39;t use primitive types (like int) as generic type. use Integer."},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":1,"creation_date":1494770642,"post_id":43964701,"comment_id":74959551,"body_markdown":"Try `LinkedBinarySearchTree&lt;Integer&gt; tree = new LinkedBinarySearchTree&lt;&gt;();`\n\nYou can&#39;t use _int_ as a generic type.","body":"Try <code>LinkedBinarySearchTree&lt;Integer&gt; tree = new LinkedBinarySearchTree&lt;&gt;();</code>  You can&#39;t use <i>int</i> as a generic type."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494771662,"post_id":43964701,"comment_id":74959872,"body_markdown":"@JulienRous&#233; what could i do to print the root value of the tree?","body":"@JulienRous&#233; what could i do to print the root value of the tree?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494772013,"post_id":43964701,"comment_id":74959974,"body_markdown":"@JohnnySack `tree.getRootNode().getElement()` as the code you posted suggest.","body":"@JohnnySack <code>tree.getRootNode().getElement()</code> as the code you posted suggest."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494772335,"post_id":43964701,"comment_id":74960063,"body_markdown":"@JulienRous&#233; Thanks! Could I also get the balance factor of the tree in the same way if I make that method public instead of private?","body":"@JulienRous&#233; Thanks! Could I also get the balance factor of the tree in the same way if I make that method public instead of private?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494772394,"post_id":43964701,"comment_id":74960089,"body_markdown":"@JohnnySack I don&#39;t understand what you mean by &quot;that method&quot;? Edit: ok i think you mean the `private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current)`. I guess yes you could di it that way or writing a public method calling it.","body":"@JohnnySack I don&#39;t understand what you mean by &quot;that method&quot;? Edit: ok i think you mean the <code>private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current)</code>. I guess yes you could di it that way or writing a public method calling it."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494774786,"post_id":43964701,"comment_id":74960882,"body_markdown":"@JulienRous&#233; I did that but it needs BinaryTreeNode&lt;T&gt; current parameter. how would i call this in the driver class?","body":"@JulienRous&#233; I did that but it needs BinaryTreeNode&lt;T&gt; current parameter. how would i call this in the driver class?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494780232,"post_id":43964701,"comment_id":74962777,"body_markdown":"@JohnnySack you pass it the root node to get the balance factor of your whole tree","body":"@JohnnySack you pass it the root node to get the balance factor of your whole tree"}],"answers":[{"comments":[{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494771613,"post_id":43964798,"comment_id":74959860,"body_markdown":"what could i do to return the root value of the tree?","body":"what could i do to return the root value of the tree?"},{"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"score":0,"creation_date":1494772343,"post_id":43964798,"comment_id":74960068,"body_markdown":"If you want return value then  create a method v getValue() and when you will assign to a primitive type it will Autoboxing happen.","body":"If you want return value then  create a method v getValue() and when you will assign to a primitive type it will Autoboxing happen."}],"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494770640,"creation_date":1494770640,"answer_id":43964798,"question_id":43964701,"body_markdown":"You Cannot Instantiate Generic Types with Primitive Types.\r\nfor an example \r\n\r\nConsider the following parameterized type:\r\n\r\n    class Pair&lt;K, V&gt; {\r\n    \r\n        private K key;\r\n        private V value;\r\n    \r\n        public Pair(K key, V value) {\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nWhen creating a Pair object, you cannot substitute a primitive type for the type parameter K or V:\r\n\r\n    Pair&lt;int, char&gt; p = new Pair&lt;&gt;(8, &#39;a&#39;);  // compile-time error\r\n\r\nYou can substitute only non-primitive types for the type parameters K and V:\r\n\r\n    Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(8, &#39;a&#39;);\r\n\r\nNote that the Java compiler autoboxes 8 to Integer.valueOf(8) and &#39;a&#39; to Character(&#39;a&#39;):\r\n\r\n    Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(Integer.valueOf(8), new Character(&#39;a&#39;));\r\n\r\n","title":"constructing a binary search tree in java","body":"<p>You Cannot Instantiate Generic Types with Primitive Types.\nfor an example </p>\n\n<p>Consider the following parameterized type:</p>\n\n<pre><code>class Pair&lt;K, V&gt; {\n\n    private K key;\n    private V value;\n\n    public Pair(K key, V value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>When creating a Pair object, you cannot substitute a primitive type for the type parameter K or V:</p>\n\n<pre><code>Pair&lt;int, char&gt; p = new Pair&lt;&gt;(8, 'a');  // compile-time error\n</code></pre>\n\n<p>You can substitute only non-primitive types for the type parameters K and V:</p>\n\n<pre><code>Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(8, 'a');\n</code></pre>\n\n<p>Note that the Java compiler autoboxes 8 to Integer.valueOf(8) and 'a' to Character('a'):</p>\n\n<pre><code>Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(Integer.valueOf(8), new Character('a'));\n</code></pre>\n"}],"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43964798,"answer_count":1,"score":0,"last_activity_date":1675956074,"creation_date":1494770116,"question_id":43964701,"body_markdown":"I&#39;m trying to construct this binary search tree in Java: \r\n![Image][1]\r\n[1]: http://imgur.com/a/lNZ3D\r\n\r\nHere&#39;s my linked binary search tree implementation class:\r\n\r\n    /**\r\n     * LinkedBinarySearchTree implements the BinarySearchTreeADT interface \r\n     * with links.\r\n     * \r\n     * @author Java Foundations\r\n     * @version 4.0\r\n     */\r\n    public class LinkedBinarySearchTree&lt;T&gt; extends LinkedBinaryTree&lt;T&gt;\r\n                                            implements BinarySearchTreeADT&lt;T&gt;\r\n    {\r\n        /**\r\n         * Creates an empty binary search tree.\r\n         */\r\n        public LinkedBinarySearchTree() \r\n        {\r\n            super();\r\n        }\r\n        \r\n        /**\r\n         * Creates a binary search with the specified element as its root.\r\n         *\r\n         * @param element the element that will be the root of the new binary\r\n         *        search tree\r\n         */\r\n        public LinkedBinarySearchTree(T element) \r\n        {\r\n            super(element);\r\n            \r\n            if (!(element instanceof Comparable))\r\n                throw new NonComparableElementException(&quot;LinkedBinarySearchTree&quot;);\r\n        }\r\n        \r\n        /**\r\n         * Adds the specified object to the binary search tree in the\r\n         * appropriate position according to its natural order.  Note that\r\n         * equal elements are added to the right.\r\n         *\r\n         * @param element the element to be added to the binary search tree\r\n         */\r\n        public void addElement(T element) \r\n        {\r\n            if (!(element instanceof Comparable))\r\n                throw new NonComparableElementException(&quot;LinkedBinarySearchTree&quot;);\r\n    \r\n            Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\r\n    \r\n            if (isEmpty())\r\n                root = new BinaryTreeNode&lt;T&gt;(element);\r\n            else \r\n            {\r\n                if (comparableElement.compareTo(root.getElement()) &lt; 0)\r\n                {\r\n                    if (root.getLeft() == null) \r\n                        this.getRootNode().setLeft(new BinaryTreeNode&lt;T&gt;(element));\r\n                    else\r\n                        addElement(element, root.getLeft());\r\n                }\r\n                else\r\n                {\r\n                    if (root.getRight() == null) \r\n                        this.getRootNode().setRight(new BinaryTreeNode&lt;T&gt;(element));\r\n                    else\r\n                        addElement(element, root.getRight());\r\n                }\r\n            }\r\n            modCount++;\r\n        }\r\n        \r\n        /**\r\n         * Adds the specified object to the binary search tree in the\r\n         * appropriate position according to its natural order.  Note that\r\n         * equal elements are added to the right.\r\n         *\r\n         * @param element the element to be added to the binary search tree\r\n         */\r\n        private void addElement(T element, BinaryTreeNode&lt;T&gt; node) \r\n        {\r\n            Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\r\n            \r\n            if (comparableElement.compareTo(node.getElement()) &lt; 0)\r\n            {\r\n                if (node.getLeft() == null) \r\n                    node.setLeft(new BinaryTreeNode&lt;T&gt;(element));\r\n                else\r\n                    addElement(element, node.getLeft());\r\n            }\r\n            else\r\n            {\r\n                if (node.getRight() == null) \r\n                    node.setRight(new BinaryTreeNode&lt;T&gt;(element));\r\n                else\r\n                    addElement(element, node.getRight());\r\n            }\r\n        }\r\n            \r\n            \r\n        /**\r\n         * Removes the first element that matches the specified target\r\n         * element from the binary search tree and returns a reference to\r\n         * it.  Throws a ElementNotFoundException if the specified target\r\n         * element is not found in the binary search tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public T removeElement(T targetElement)\r\n                                      throws ElementNotFoundException \r\n        {\r\n            T result = null;\r\n    \r\n            if (isEmpty())\r\n                throw new ElementNotFoundException(&quot;LinkedBinarySearchTree&quot;);\r\n            else\r\n            {\r\n                BinaryTreeNode&lt;T&gt; parent = null;\r\n                if (((Comparable&lt;T&gt;)targetElement).equals(root.element)) \r\n                {\r\n                    result =  root.element;\r\n                    BinaryTreeNode&lt;T&gt; temp = replacement(root);\r\n                    if (temp == null)\r\n                        root = null;\r\n                    else \r\n                    {\r\n                        root.element = temp.element;\r\n                        root.setRight(temp.right);\r\n                        root.setLeft(temp.left);\r\n                    }\r\n    \r\n                    modCount--;\r\n                }\r\n                else \r\n                {                \r\n                    parent = root;\r\n                    if (((Comparable)targetElement).compareTo(root.element) &lt; 0)\r\n                        result = removeElement(targetElement, root.getLeft(), parent);\r\n                    else\r\n                        result = removeElement(targetElement, root.getRight(), parent);\r\n                }\r\n            }\r\n            \r\n            return result;\r\n        }\r\n                    \r\n        /**\r\n         * Removes the first element that matches the specified target\r\n         * element from the binary search tree and returns a reference to\r\n         * it.  Throws a ElementNotFoundException if the specified target\r\n         * element is not found in the binary search tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @param node the node from which to search\r\n         * @param parent the parent of the node from which to search\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        private T removeElement(T targetElement, BinaryTreeNode&lt;T&gt; node, BinaryTreeNode&lt;T&gt; parent)\r\n        throws ElementNotFoundException \r\n        {\r\n            T result = null;\r\n            \r\n            if (node == null)\r\n                throw new ElementNotFoundException(&quot;LinkedBinarySearchTree&quot;);\r\n            else\r\n            {\r\n                if (((Comparable&lt;T&gt;)targetElement).equals(node.element)) \r\n                {\r\n                    result =  node.element;\r\n                    BinaryTreeNode&lt;T&gt; temp = replacement(node);\r\n                    if (parent.right == node)\r\n                        parent.right = temp;\r\n                    else \r\n                        parent.left = temp;\r\n    \r\n                    modCount--;\r\n                }\r\n                else \r\n                {                \r\n                    parent = node;\r\n                    if (((Comparable)targetElement).compareTo(node.element) &lt; 0)\r\n                        result = removeElement(targetElement, node.getLeft(), parent);\r\n                    else\r\n                        result = removeElement(targetElement, node.getRight(), parent);\r\n                }\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns a reference to a node that will replace the one\r\n         * specified for removal.  In the case where the removed node has \r\n         * two children, the inorder successor is used as its replacement.\r\n         *\r\n         * @param node the node to be removed\r\n         * @return a reference to the replacing node\r\n         */\r\n        private BinaryTreeNode&lt;T&gt; replacement(BinaryTreeNode&lt;T&gt; node) \r\n        {\r\n            BinaryTreeNode&lt;T&gt; result = null;\r\n            \r\n            if ((node.left == null) &amp;&amp; (node.right == null))\r\n                result = null;\r\n            \r\n            else if ((node.left != null) &amp;&amp; (node.right == null))\r\n                result = node.left;\r\n            \r\n            else if ((node.left == null) &amp;&amp; (node.right != null))\r\n                result = node.right;\r\n            \r\n            else\r\n            {\r\n                BinaryTreeNode&lt;T&gt; current = node.right;\r\n                BinaryTreeNode&lt;T&gt; parent = node;\r\n                \r\n                while (current.left != null)\r\n                {\r\n                    parent = current;\r\n                    current = current.left;\r\n                }\r\n                \r\n                current.left = node.left;\r\n                if (node.right != current)\r\n                {\r\n                    parent.left = current.right;\r\n                    current.right = node.right;\r\n                }\r\n                \r\n                result = current;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Removes elements that match the specified target element from \r\n         * the binary search tree. Throws a ElementNotFoundException if \r\n         * the specified target element is not found in this tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public void removeAllOccurrences(T targetElement)\r\n                       throws ElementNotFoundException \r\n        {\r\n            removeElement(targetElement);\r\n            \r\n            try\r\n            {\r\n                while (contains((T)targetElement))\r\n                    removeElement(targetElement);\r\n            }\r\n            \r\n            catch (Exception ElementNotFoundException)\r\n            {\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Removes the node with the least value from the binary search\r\n         * tree and returns a reference to its element.  Throws an\r\n         * EmptyCollectionException if this tree is empty. \r\n         *\r\n         * @return a reference to the node with the least value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T removeMin() throws EmptyCollectionException \r\n        {\r\n            T result = null;\r\n    \r\n            if (isEmpty())\r\n                throw new EmptyCollectionException(&quot;LinkedBinarySearchTree&quot;);\r\n            else \r\n            {\r\n                if (root.left == null) \r\n                {\r\n                    result = root.element;\r\n                    root = root.right;\r\n                }\r\n                else \r\n                {\r\n                    BinaryTreeNode&lt;T&gt; parent = root;\r\n                    BinaryTreeNode&lt;T&gt; current = root.left;\r\n                    while (current.left != null) \r\n                    {\r\n                        parent = current;\r\n                        current = current.left;\r\n                    }\r\n                    result =  current.element;\r\n                    parent.left = current.right;\r\n                }\r\n    \r\n                modCount--;\r\n            }\r\n     \r\n            return result;\r\n        }\r\n    \r\n        /**\r\n         * Removes the node with the highest value from the binary\r\n         * search tree and returns a reference to its element.  Throws an\r\n         * EmptyCollectionException if this tree is empty. \r\n         *\r\n         * @return a reference to the node with the highest value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T removeMax() throws EmptyCollectionException \r\n        {\r\n            \r\n        \t T result = null;\r\n    \r\n             if (isEmpty())\r\n                  throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n             else \r\n             {\r\n                if (root.right == null) \r\n                {\r\n                   result =  root.element;\r\n                   root = root.left;\r\n                } //if\r\n                else \r\n                {\r\n                     BinaryTreeNode&lt;T&gt; parent = root;\r\n                     BinaryTreeNode&lt;T&gt; current = root.right;\r\n    \r\n                     while (current.right != null) \r\n                     {\r\n                        parent = current;\r\n                        current = current.right;\r\n                     } //while\r\n    \r\n                     result =  current.element;\r\n                     parent.right = current.left;\r\n                  } //else\r\n    \r\n                modCount--;\r\n             } //else\r\n    \r\n             return result;\r\n        }\r\n    \r\n        /**\r\n         * Returns the element with the least value in the binary search\r\n         * tree. It does not remove the node from the binary search tree. \r\n         * Throws an EmptyCollectionException if this tree is empty.\r\n         *\r\n         * @return the element with the least value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T findMin() throws EmptyCollectionException \r\n        {\r\n            \r\n        \tT result = null;\r\n    \r\n            if (isEmpty())\r\n                 throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n            else \r\n            {\r\n               BinaryTreeNode&lt;T&gt; current = root;\r\n              \r\n               while (current.left != null)\r\n                  current = current.left;\r\n             \r\n               result = current.element;\r\n            } //else\r\n    \r\n            return result;\r\n        }\r\n    \r\n        /**\r\n         * Returns the element with the highest value in the binary\r\n         * search tree.  It does not remove the node from the binary\r\n         * search tree.  Throws an EmptyCollectionException if this \r\n         * tree is empty.\r\n         *\r\n         * @return the element with the highest value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T findMax() throws EmptyCollectionException \r\n        {\r\n             T result = null;\r\n    \r\n             if (isEmpty())\r\n                  throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n             else \r\n             {\r\n                BinaryTreeNode&lt;T&gt; current = root;\r\n             \r\n                while (current.right != null)\r\n                   current = current.right;\r\n    \r\n               result = current.element;\r\n             } //else\r\n        \r\n             return result;\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Returns a reference to the specified target element if it is\r\n         * found in the binary tree.  Throws a NoSuchElementException if\r\n         * the specified target element is not found in this tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public T find(T targetElement) throws ElementNotFoundException \r\n        {\r\n            \r\n        \tBinaryTreeNode&lt;T&gt; current = root; \r\n       \t    BinaryTreeNode&lt;T&gt; temp = current;\r\n    \r\n          \r\n             if (!(current.element.equals(targetElement)) &amp;&amp; (current.left !=null)&amp;&amp;(((Comparable)current.element).compareTo(targetElement) &gt; 0))\r\n       \t\tcurrent = findNode( targetElement, current.left);\r\n    \r\n             else if (!(current.element.equals(targetElement)) &amp;&amp; (current.right != null)) \r\n       \t\tcurrent = findNode( targetElement, current.right); \r\n    \r\n             if (!(current.element.equals(targetElement)))\r\n                throw new ElementNotFoundException (&quot;binarytree&quot;);\r\n    \r\n             return current.element;\r\n        }\r\n        \r\n        /**\r\n         * Returns the left subtree of the root of this tree.\r\n         *\r\n         * @return a link to the left subtree of the tree\r\n         */\r\n        public LinkedBinarySearchTree&lt;T&gt; getLeft()\r\n        {\r\n        \tif (root == null) \r\n                throw new EmptyCollectionException(&quot;getLeft failed - the tree is empty&quot;);\r\n            LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\r\n            result.root = root.getLeft();\r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns the right subtree of the root of this tree.\r\n         *\r\n         * @return a link to the right subtree of the tree\r\n         */\r\n        public LinkedBinarySearchTree&lt;T&gt; getRight()\r\n        {\r\n            \r\n        \tif (root == null) \r\n                throw new EmptyCollectionException(&quot;getLeft failed - the tree is empty&quot;);\r\n            LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\r\n            result.root = root.getRight();\r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns a reference to the specified target element if it is\r\n         * found in this tree.  \r\n         *\r\n         * @param targetElement the element being sought in the tree\r\n         * @param next the tree node to begin searching on\r\n         */\r\n        private BinaryTreeNode&lt;T&gt; findNode(T targetElement, BinaryTreeNode&lt;T&gt; next) \r\n        {\r\n        \tBinaryTreeNode&lt;T&gt; current = next;\r\n            if (!(next.element.equals(targetElement)) &amp;&amp; (next.left !=null) &amp;&amp;(((Comparable)next.element).compareTo(targetElement) &gt; 0))\r\n       \t\tnext = findNode( targetElement, next.left); \r\n            else if (!(next.element.equals(targetElement)) &amp;&amp; (next.right != null))\r\n       \t\tnext = findNode( targetElement, next.right);                     \r\n            \r\n      \t return next;\r\n        }\r\n        \r\n        /*balances the binary search tree so that it maintains\r\n    \t * the maximum difference of the path lengths of the \r\n    \t * left and right children as not more than one*/\r\n    \tpublic void balance() {\r\n    \t\t//verify if balance factor of the root of the tree is -2\r\n    \t\tif(getBalanceFactor(root) == -2) {\r\n    \t\t\t//verify if balance factor of left child of tree root is 1\r\n    \t\t\tif(getBalanceFactor(root.left) == 1)\r\n    \t\t\t\troot = leftRightRotation(root);\r\n    \t\t\telse \r\n    \t\t\t\troot = rightRotation(root);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t//verify if balance factor of tree root is 2\r\n    \t\telse if(getBalanceFactor(root) == 2) {\r\n    \t\t\t//verify if balance factor of right child of tree root is -1\r\n    \t\t\tif(getBalanceFactor(root.right) == -1) {\r\n    \t\t\t\troot = rightLeftRotation(root);\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t\troot = leftRotation(root);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/*performs right rotation and left rotation, then returns new root*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; rightLeftRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tcurrent.right  = rightRotation(current.right);\r\n    \t\t\r\n    \t\tcurrent = leftRotation(current);\r\n    \t\t\r\n    \t\treturn current;\r\n    \t}\r\n    \t\r\n    \t/*performs left rotation then right rotation then returns new root*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; leftRightRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tcurrent.left = leftRotation(current.left);\r\n    \t\t\r\n    \t\tcurrent = rightRotation(current);\r\n    \t\t\r\n    \t\treturn current;\r\n    \t}\r\n    \t\r\n    \t/*returns new root after performing right rotation of specified node*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; rightRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\t\r\n    \t\tBinaryTreeNode&lt;T&gt; newRoot = current.left;\r\n    \t\tBinaryTreeNode&lt;T&gt; temp = newRoot.right;\r\n    \t\t\r\n    \t\tnewRoot.right = current;\r\n    \t\t\r\n    \t\tcurrent.left = temp;\r\n    \t\t\r\n    \t\treturn newRoot;\r\n    \t}\r\n    \t\r\n    \t//returns new root after performing left rotation of specified node\r\n    \tprivate BinaryTreeNode&lt;T&gt; leftRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tBinaryTreeNode&lt;T&gt; newRoot = current.right;\r\n    \t\tBinaryTreeNode&lt;T&gt; temp = newRoot.left;\r\n    \t\t\r\n    \t\tnewRoot.left = current;\r\n    \t\t\r\n    \t\tcurrent.right = temp;\r\n    \t\t\r\n    \t\treturn newRoot;\r\n    \t}\r\n    \t\r\n    \t//returns difference between path lengths of heights of left and right sides of root\r\n    \tprivate int getBalanceFactor(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tint leftHeight = getHeight(current.left);\r\n    \t\t\r\n    \t\tint rightHeight = getHeight(current.right);\r\n    \t\t\r\n    \t\treturn(rightHeight - leftHeight);\r\n    \t}\r\n    \t\r\n    \t//returns the height of the specified node\r\n    \tprivate int getHeight(BinaryTreeNode&lt;T&gt; newRoot) {\r\n    \t\tif(newRoot == null)\r\n    \t\t\treturn 0;\r\n    \t\telse \r\n    \t\t\treturn 1 + Math.max(getHeight(newRoot.left), getHeight(newRoot.right));\r\n    \t\t\r\n    \t}\r\n        \r\n    }\r\n\r\nHere&#39;s my driver program where my utlimate goal is to create the binary search tree from the image above, balance it, and test if it is balanced:\r\n\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class IsHeightBalanced {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tLinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;;\r\n    \t\t\r\n    \t\ttree.addElement(13);\r\n    \t\ttree.addElement(7);\r\n    \t\ttree.addElement(15);\r\n    \t\ttree.addElement(5);\r\n    \t\ttree.addElement(10);\r\n    \t\ttree.addElement(3);\r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nRight now I&#39;m just trying to construct that binary search tree from the picture here and the line \r\n\r\n    LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;();\r\n\r\nis giving me errors like &quot;insert dimensions to complete reference type&quot;\r\n\r\nWhy is this giving such an error? Am I on the right track to creating the binary search tree seen in the picture above? Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhZLl.jpg","title":"constructing a binary search tree in java","body":"<p>I'm trying to construct this binary search tree in Java: \n<img src=\"https://i.stack.imgur.com/XhZLl.jpg\" alt=\"Image\">\nHere's my linked binary search tree implementation class:</p>\n\n<pre><code>/**\n * LinkedBinarySearchTree implements the BinarySearchTreeADT interface \n * with links.\n * \n * @author Java Foundations\n * @version 4.0\n */\npublic class LinkedBinarySearchTree&lt;T&gt; extends LinkedBinaryTree&lt;T&gt;\n                                        implements BinarySearchTreeADT&lt;T&gt;\n{\n    /**\n     * Creates an empty binary search tree.\n     */\n    public LinkedBinarySearchTree() \n    {\n        super();\n    }\n\n    /**\n     * Creates a binary search with the specified element as its root.\n     *\n     * @param element the element that will be the root of the new binary\n     *        search tree\n     */\n    public LinkedBinarySearchTree(T element) \n    {\n        super(element);\n\n        if (!(element instanceof Comparable))\n            throw new NonComparableElementException(\"LinkedBinarySearchTree\");\n    }\n\n    /**\n     * Adds the specified object to the binary search tree in the\n     * appropriate position according to its natural order.  Note that\n     * equal elements are added to the right.\n     *\n     * @param element the element to be added to the binary search tree\n     */\n    public void addElement(T element) \n    {\n        if (!(element instanceof Comparable))\n            throw new NonComparableElementException(\"LinkedBinarySearchTree\");\n\n        Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\n\n        if (isEmpty())\n            root = new BinaryTreeNode&lt;T&gt;(element);\n        else \n        {\n            if (comparableElement.compareTo(root.getElement()) &lt; 0)\n            {\n                if (root.getLeft() == null) \n                    this.getRootNode().setLeft(new BinaryTreeNode&lt;T&gt;(element));\n                else\n                    addElement(element, root.getLeft());\n            }\n            else\n            {\n                if (root.getRight() == null) \n                    this.getRootNode().setRight(new BinaryTreeNode&lt;T&gt;(element));\n                else\n                    addElement(element, root.getRight());\n            }\n        }\n        modCount++;\n    }\n\n    /**\n     * Adds the specified object to the binary search tree in the\n     * appropriate position according to its natural order.  Note that\n     * equal elements are added to the right.\n     *\n     * @param element the element to be added to the binary search tree\n     */\n    private void addElement(T element, BinaryTreeNode&lt;T&gt; node) \n    {\n        Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\n\n        if (comparableElement.compareTo(node.getElement()) &lt; 0)\n        {\n            if (node.getLeft() == null) \n                node.setLeft(new BinaryTreeNode&lt;T&gt;(element));\n            else\n                addElement(element, node.getLeft());\n        }\n        else\n        {\n            if (node.getRight() == null) \n                node.setRight(new BinaryTreeNode&lt;T&gt;(element));\n            else\n                addElement(element, node.getRight());\n        }\n    }\n\n\n    /**\n     * Removes the first element that matches the specified target\n     * element from the binary search tree and returns a reference to\n     * it.  Throws a ElementNotFoundException if the specified target\n     * element is not found in the binary search tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public T removeElement(T targetElement)\n                                  throws ElementNotFoundException \n    {\n        T result = null;\n\n        if (isEmpty())\n            throw new ElementNotFoundException(\"LinkedBinarySearchTree\");\n        else\n        {\n            BinaryTreeNode&lt;T&gt; parent = null;\n            if (((Comparable&lt;T&gt;)targetElement).equals(root.element)) \n            {\n                result =  root.element;\n                BinaryTreeNode&lt;T&gt; temp = replacement(root);\n                if (temp == null)\n                    root = null;\n                else \n                {\n                    root.element = temp.element;\n                    root.setRight(temp.right);\n                    root.setLeft(temp.left);\n                }\n\n                modCount--;\n            }\n            else \n            {                \n                parent = root;\n                if (((Comparable)targetElement).compareTo(root.element) &lt; 0)\n                    result = removeElement(targetElement, root.getLeft(), parent);\n                else\n                    result = removeElement(targetElement, root.getRight(), parent);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes the first element that matches the specified target\n     * element from the binary search tree and returns a reference to\n     * it.  Throws a ElementNotFoundException if the specified target\n     * element is not found in the binary search tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @param node the node from which to search\n     * @param parent the parent of the node from which to search\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    private T removeElement(T targetElement, BinaryTreeNode&lt;T&gt; node, BinaryTreeNode&lt;T&gt; parent)\n    throws ElementNotFoundException \n    {\n        T result = null;\n\n        if (node == null)\n            throw new ElementNotFoundException(\"LinkedBinarySearchTree\");\n        else\n        {\n            if (((Comparable&lt;T&gt;)targetElement).equals(node.element)) \n            {\n                result =  node.element;\n                BinaryTreeNode&lt;T&gt; temp = replacement(node);\n                if (parent.right == node)\n                    parent.right = temp;\n                else \n                    parent.left = temp;\n\n                modCount--;\n            }\n            else \n            {                \n                parent = node;\n                if (((Comparable)targetElement).compareTo(node.element) &lt; 0)\n                    result = removeElement(targetElement, node.getLeft(), parent);\n                else\n                    result = removeElement(targetElement, node.getRight(), parent);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns a reference to a node that will replace the one\n     * specified for removal.  In the case where the removed node has \n     * two children, the inorder successor is used as its replacement.\n     *\n     * @param node the node to be removed\n     * @return a reference to the replacing node\n     */\n    private BinaryTreeNode&lt;T&gt; replacement(BinaryTreeNode&lt;T&gt; node) \n    {\n        BinaryTreeNode&lt;T&gt; result = null;\n\n        if ((node.left == null) &amp;&amp; (node.right == null))\n            result = null;\n\n        else if ((node.left != null) &amp;&amp; (node.right == null))\n            result = node.left;\n\n        else if ((node.left == null) &amp;&amp; (node.right != null))\n            result = node.right;\n\n        else\n        {\n            BinaryTreeNode&lt;T&gt; current = node.right;\n            BinaryTreeNode&lt;T&gt; parent = node;\n\n            while (current.left != null)\n            {\n                parent = current;\n                current = current.left;\n            }\n\n            current.left = node.left;\n            if (node.right != current)\n            {\n                parent.left = current.right;\n                current.right = node.right;\n            }\n\n            result = current;\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes elements that match the specified target element from \n     * the binary search tree. Throws a ElementNotFoundException if \n     * the specified target element is not found in this tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public void removeAllOccurrences(T targetElement)\n                   throws ElementNotFoundException \n    {\n        removeElement(targetElement);\n\n        try\n        {\n            while (contains((T)targetElement))\n                removeElement(targetElement);\n        }\n\n        catch (Exception ElementNotFoundException)\n        {\n        }\n    }\n\n    /**\n     * Removes the node with the least value from the binary search\n     * tree and returns a reference to its element.  Throws an\n     * EmptyCollectionException if this tree is empty. \n     *\n     * @return a reference to the node with the least value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T removeMin() throws EmptyCollectionException \n    {\n        T result = null;\n\n        if (isEmpty())\n            throw new EmptyCollectionException(\"LinkedBinarySearchTree\");\n        else \n        {\n            if (root.left == null) \n            {\n                result = root.element;\n                root = root.right;\n            }\n            else \n            {\n                BinaryTreeNode&lt;T&gt; parent = root;\n                BinaryTreeNode&lt;T&gt; current = root.left;\n                while (current.left != null) \n                {\n                    parent = current;\n                    current = current.left;\n                }\n                result =  current.element;\n                parent.left = current.right;\n            }\n\n            modCount--;\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes the node with the highest value from the binary\n     * search tree and returns a reference to its element.  Throws an\n     * EmptyCollectionException if this tree is empty. \n     *\n     * @return a reference to the node with the highest value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T removeMax() throws EmptyCollectionException \n    {\n\n         T result = null;\n\n         if (isEmpty())\n              throw new EmptyCollectionException (\"binary tree\");\n         else \n         {\n            if (root.right == null) \n            {\n               result =  root.element;\n               root = root.left;\n            } //if\n            else \n            {\n                 BinaryTreeNode&lt;T&gt; parent = root;\n                 BinaryTreeNode&lt;T&gt; current = root.right;\n\n                 while (current.right != null) \n                 {\n                    parent = current;\n                    current = current.right;\n                 } //while\n\n                 result =  current.element;\n                 parent.right = current.left;\n              } //else\n\n            modCount--;\n         } //else\n\n         return result;\n    }\n\n    /**\n     * Returns the element with the least value in the binary search\n     * tree. It does not remove the node from the binary search tree. \n     * Throws an EmptyCollectionException if this tree is empty.\n     *\n     * @return the element with the least value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T findMin() throws EmptyCollectionException \n    {\n\n        T result = null;\n\n        if (isEmpty())\n             throw new EmptyCollectionException (\"binary tree\");\n        else \n        {\n           BinaryTreeNode&lt;T&gt; current = root;\n\n           while (current.left != null)\n              current = current.left;\n\n           result = current.element;\n        } //else\n\n        return result;\n    }\n\n    /**\n     * Returns the element with the highest value in the binary\n     * search tree.  It does not remove the node from the binary\n     * search tree.  Throws an EmptyCollectionException if this \n     * tree is empty.\n     *\n     * @return the element with the highest value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T findMax() throws EmptyCollectionException \n    {\n         T result = null;\n\n         if (isEmpty())\n              throw new EmptyCollectionException (\"binary tree\");\n         else \n         {\n            BinaryTreeNode&lt;T&gt; current = root;\n\n            while (current.right != null)\n               current = current.right;\n\n           result = current.element;\n         } //else\n\n         return result;\n\n    }\n\n    /**\n     * Returns a reference to the specified target element if it is\n     * found in the binary tree.  Throws a NoSuchElementException if\n     * the specified target element is not found in this tree.\n     *\n     * @param targetElement the element being sought in the binary tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public T find(T targetElement) throws ElementNotFoundException \n    {\n\n        BinaryTreeNode&lt;T&gt; current = root; \n        BinaryTreeNode&lt;T&gt; temp = current;\n\n\n         if (!(current.element.equals(targetElement)) &amp;&amp; (current.left !=null)&amp;&amp;(((Comparable)current.element).compareTo(targetElement) &gt; 0))\n        current = findNode( targetElement, current.left);\n\n         else if (!(current.element.equals(targetElement)) &amp;&amp; (current.right != null)) \n        current = findNode( targetElement, current.right); \n\n         if (!(current.element.equals(targetElement)))\n            throw new ElementNotFoundException (\"binarytree\");\n\n         return current.element;\n    }\n\n    /**\n     * Returns the left subtree of the root of this tree.\n     *\n     * @return a link to the left subtree of the tree\n     */\n    public LinkedBinarySearchTree&lt;T&gt; getLeft()\n    {\n        if (root == null) \n            throw new EmptyCollectionException(\"getLeft failed - the tree is empty\");\n        LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\n        result.root = root.getLeft();\n        return result;\n    }\n\n    /**\n     * Returns the right subtree of the root of this tree.\n     *\n     * @return a link to the right subtree of the tree\n     */\n    public LinkedBinarySearchTree&lt;T&gt; getRight()\n    {\n\n        if (root == null) \n            throw new EmptyCollectionException(\"getLeft failed - the tree is empty\");\n        LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\n        result.root = root.getRight();\n        return result;\n    }\n\n    /**\n     * Returns a reference to the specified target element if it is\n     * found in this tree.  \n     *\n     * @param targetElement the element being sought in the tree\n     * @param next the tree node to begin searching on\n     */\n    private BinaryTreeNode&lt;T&gt; findNode(T targetElement, BinaryTreeNode&lt;T&gt; next) \n    {\n        BinaryTreeNode&lt;T&gt; current = next;\n        if (!(next.element.equals(targetElement)) &amp;&amp; (next.left !=null) &amp;&amp;(((Comparable)next.element).compareTo(targetElement) &gt; 0))\n        next = findNode( targetElement, next.left); \n        else if (!(next.element.equals(targetElement)) &amp;&amp; (next.right != null))\n        next = findNode( targetElement, next.right);                     \n\n     return next;\n    }\n\n    /*balances the binary search tree so that it maintains\n     * the maximum difference of the path lengths of the \n     * left and right children as not more than one*/\n    public void balance() {\n        //verify if balance factor of the root of the tree is -2\n        if(getBalanceFactor(root) == -2) {\n            //verify if balance factor of left child of tree root is 1\n            if(getBalanceFactor(root.left) == 1)\n                root = leftRightRotation(root);\n            else \n                root = rightRotation(root);\n\n        }\n        //verify if balance factor of tree root is 2\n        else if(getBalanceFactor(root) == 2) {\n            //verify if balance factor of right child of tree root is -1\n            if(getBalanceFactor(root.right) == -1) {\n                root = rightLeftRotation(root);\n            }\n            else \n                root = leftRotation(root);\n        }\n    }\n\n    /*performs right rotation and left rotation, then returns new root*/\n    private BinaryTreeNode&lt;T&gt; rightLeftRotation(BinaryTreeNode&lt;T&gt; current) {\n        current.right  = rightRotation(current.right);\n\n        current = leftRotation(current);\n\n        return current;\n    }\n\n    /*performs left rotation then right rotation then returns new root*/\n    private BinaryTreeNode&lt;T&gt; leftRightRotation(BinaryTreeNode&lt;T&gt; current) {\n        current.left = leftRotation(current.left);\n\n        current = rightRotation(current);\n\n        return current;\n    }\n\n    /*returns new root after performing right rotation of specified node*/\n    private BinaryTreeNode&lt;T&gt; rightRotation(BinaryTreeNode&lt;T&gt; current) {\n\n        BinaryTreeNode&lt;T&gt; newRoot = current.left;\n        BinaryTreeNode&lt;T&gt; temp = newRoot.right;\n\n        newRoot.right = current;\n\n        current.left = temp;\n\n        return newRoot;\n    }\n\n    //returns new root after performing left rotation of specified node\n    private BinaryTreeNode&lt;T&gt; leftRotation(BinaryTreeNode&lt;T&gt; current) {\n        BinaryTreeNode&lt;T&gt; newRoot = current.right;\n        BinaryTreeNode&lt;T&gt; temp = newRoot.left;\n\n        newRoot.left = current;\n\n        current.right = temp;\n\n        return newRoot;\n    }\n\n    //returns difference between path lengths of heights of left and right sides of root\n    private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current) {\n        int leftHeight = getHeight(current.left);\n\n        int rightHeight = getHeight(current.right);\n\n        return(rightHeight - leftHeight);\n    }\n\n    //returns the height of the specified node\n    private int getHeight(BinaryTreeNode&lt;T&gt; newRoot) {\n        if(newRoot == null)\n            return 0;\n        else \n            return 1 + Math.max(getHeight(newRoot.left), getHeight(newRoot.right));\n\n    }\n\n}\n</code></pre>\n\n<p>Here's my driver program where my utlimate goal is to create the binary search tree from the image above, balance it, and test if it is balanced:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\n\npublic class IsHeightBalanced {\n\n    public static void main(String[] args) {\n\n        LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;;\n\n        tree.addElement(13);\n        tree.addElement(7);\n        tree.addElement(15);\n        tree.addElement(5);\n        tree.addElement(10);\n        tree.addElement(3);\n\n\n    }\n\n}\n</code></pre>\n\n<p>Right now I'm just trying to construct that binary search tree from the picture here and the line </p>\n\n<pre><code>LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;();\n</code></pre>\n\n<p>is giving me errors like \"insert dimensions to complete reference type\"</p>\n\n<p>Why is this giving such an error? Am I on the right track to creating the binary search tree seen in the picture above? Thanks.</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"comments":[{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1523606645,"post_id":49811757,"comment_id":86638589,"body_markdown":"with what permissions will the parent folder `logs` be created?","body":"with what permissions will the parent folder <code>logs</code> be created?"},{"owner":{"account_id":5910933,"reputation":951,"user_id":4651234,"accept_rate":0,"display_name":"Yuriy Alevohin"},"score":0,"creation_date":1523610011,"post_id":49811757,"comment_id":86640517,"body_markdown":"I&#39;m not sure but I would expect that each file/folder created by `RollingFile` policy should have same permissions as defined. Could you check it?","body":"I&#39;m not sure but I would expect that each file/folder created by <code>RollingFile</code> policy should have same permissions as defined. Could you check it?"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":1,"creation_date":1523887798,"post_id":49811757,"comment_id":86733604,"body_markdown":"Folder has attributes `drwxrwxr-x`, And the files, such as I specified in the config","body":"Folder has attributes <code>drwxrwxr-x</code>, And the files, such as I specified in the config"}],"tags":[],"owner":{"account_id":5910933,"reputation":951,"user_id":4651234,"accept_rate":0,"display_name":"Yuriy Alevohin"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523605244,"creation_date":1523605244,"answer_id":49811757,"question_id":49810431,"body_markdown":"Log4j2 since 2.9.0 supports such feature: https://issues.apache.org/jira/browse/LOG4J2-1699\r\n\r\nYou can use additional attributes for element `RollingFile` like\r\n\r\n    &lt;RollingFile ... filePermissions=&quot;rw-rw-r--&quot;&gt;","title":"File permissions log4j2","body":"<p>Log4j2 since 2.9.0 supports such feature: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1699\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1699</a></p>\n\n<p>You can use additional attributes for element <code>RollingFile</code> like</p>\n\n<pre><code>&lt;RollingFile ... filePermissions=\"rw-rw-r--\"&gt;\n</code></pre>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7503,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675956008,"creation_date":1523600197,"question_id":49810431,"body_markdown":"I using `log4j2`. My config look like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;pattern&quot;&gt;{%X{taskId}} %date{yyyy-MM-dd HH:mm:ss.SSS} %level %M(%F:%L) - %msg%n&lt;/Property&gt;\r\n            &lt;Property name=&quot;folder&quot;&gt;logs&lt;/Property&gt;\r\n            &lt;Property name=&quot;info-filename&quot;&gt;test&lt;/Property&gt;\r\n            &lt;Property name=&quot;error-filename&quot;&gt;test-error&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;RollingFile name=&quot;file&quot; fileName=&quot;${folder}/${info-filename}.log&quot; filePattern=&quot;${folder}/$${date:yyyy-MM-dd}/${info-filename}-%d{yyyy-dd-MM}.%i.log.gz&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;4 GB&quot; /&gt;\r\n                    &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;999999&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n            &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n            &lt;/Console&gt;\r\n            &lt;RollingFile name=&quot;file-error&quot; fileName=&quot;${folder}/${error-filename}.log&quot; filePattern=&quot;${folder}/$${date:yyyy-MM-dd}/${error-filename}-%d{yyyy-dd-MM}.%i.log.gz&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;4 GB&quot; /&gt;\r\n                    &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;999999&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;trace&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.apache.http&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.springframework.ws.client&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\nI want the folder `logs` and all the files attached to it to be created with  rights `rw-rw-r--`. Also, for the group and the owner to have the same as the user who launched the program. How can I configure my `log4j2` to do this?\r\n","title":"File permissions log4j2","body":"<p>I using <code>log4j2</code>. My config look like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;Configuration status=\"warn\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"pattern\"&gt;{%X{taskId}} %date{yyyy-MM-dd HH:mm:ss.SSS} %level %M(%F:%L) - %msg%n&lt;/Property&gt;\n        &lt;Property name=\"folder\"&gt;logs&lt;/Property&gt;\n        &lt;Property name=\"info-filename\"&gt;test&lt;/Property&gt;\n        &lt;Property name=\"error-filename\"&gt;test-error&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=\"file\" fileName=\"${folder}/${info-filename}.log\" filePattern=\"${folder}/$${date:yyyy-MM-dd}/${info-filename}-%d{yyyy-dd-MM}.%i.log.gz\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"4 GB\" /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=\"999999\"/&gt;\n        &lt;/RollingFile&gt;\n        &lt;Console name=\"console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"file-error\" fileName=\"${folder}/${error-filename}.log\" filePattern=\"${folder}/$${date:yyyy-MM-dd}/${error-filename}-%d{yyyy-dd-MM}.%i.log.gz\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"4 GB\" /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=\"999999\"/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"trace\"&gt;\n            &lt;AppenderRef ref=\"file\"/&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=\"org.apache.http\" level=\"error\"&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.springframework.ws.client\" level=\"error\"&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>I want the folder <code>logs</code> and all the files attached to it to be created with  rights <code>rw-rw-r--</code>. Also, for the group and the owner to have the same as the user who launched the program. How can I configure my <code>log4j2</code> to do this?</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":1,"creation_date":1301142715,"post_id":5442284,"comment_id":6163883,"body_markdown":"A `DateFormat` formats a date, not a duration. For the difference, consult a dictionary. For converting minutes into hours I’d recommend checking said dictionary, look for “division.”","body":"A <code>DateFormat</code> formats a date, not a duration. For the difference, consult a dictionary. For converting minutes into hours I’d recommend checking said dictionary, look for “division.”"},{"owner":{"account_id":298386,"reputation":19951,"user_id":604388,"accept_rate":75,"display_name":"LA_"},"score":0,"creation_date":1301143454,"post_id":5442284,"comment_id":6163958,"body_markdown":"So, are you suggesting manually to divide minutes by 60, take integer part as hours, remainder as minutes?","body":"So, are you suggesting manually to divide minutes by 60, take integer part as hours, remainder as minutes?"},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1301164026,"post_id":5442284,"comment_id":6166776,"body_markdown":"LA_, of course because that is exactly how it’s done. :)","body":"LA_, of course because that is exactly how it’s done. :)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675934864,"post_id":5442284,"comment_id":133035790,"body_markdown":"Convert to a `Duration`, for example `Duration movieDuration = Duration.ofMinutes(97);`. Since Java 9 and probably available on Android through desugaring, format like `String.format(Locale.US, &quot;%d:%02d&quot;, movieDuration.toHours(), movieDuration.toMinutesPart())`. In this example the result is `1:37`.","body":"Convert to a <code>Duration</code>, for example <code>Duration movieDuration = Duration.ofMinutes(97);</code>. Since Java 9 and probably available on Android through desugaring, format like <code>String.format(Locale.US, &quot;%d:%02d&quot;, movieDuration.toHours(), movieDuration.toMinutesPart())</code>. In this example the result is <code>1:37</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675935105,"post_id":5442284,"comment_id":133035866,"body_markdown":"Does this answer your question? [How to convert minutes to Hours and minutes (hh:mm) in java](https://stackoverflow.com/questions/5387371/how-to-convert-minutes-to-hours-and-minutes-hhmm-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5387371/how-to-convert-minutes-to-hours-and-minutes-hhmm-in-java\">How to convert minutes to Hours and minutes (hh:mm) in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1301143646,"creation_date":1301143646,"answer_id":5442398,"question_id":5442284,"body_markdown":"    public static String formatHoursAndMinutes(int totalMinutes) {\r\n        String minutes = Integer.toString(totalMinutes % 60);\r\n        minutes = minutes.length() == 1 ? &quot;0&quot; + minutes : minutes;\r\n        return (totalMinutes / 60) + &quot;:&quot; + minutes;\r\n    }","title":"How to convert minutes to HH:mm on android?","body":"<pre><code>public static String formatHoursAndMinutes(int totalMinutes) {\n    String minutes = Integer.toString(totalMinutes % 60);\n    minutes = minutes.length() == 1 ? \"0\" + minutes : minutes;\n    return (totalMinutes / 60) + \":\" + minutes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13281810,"reputation":469,"user_id":9589139,"display_name":"Monir Zzaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553057431,"creation_date":1553057431,"answer_id":55253772,"question_id":5442284,"body_markdown":"**Just use the following method to convert minutes to HH:mm on android?**\r\n\r\n  *if you want to process long value then just change the parameter type* \r\n\r\n    public static String ConvertMinutesTimeToHHMMString(int minutesTime) {\r\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        df.setTimeZone(timeZone);\r\n        String time = df.format(new Date(minutesTime * 60 * 1000L));\r\n\r\n        return time;\r\n    }\r\n\r\n\r\nHappy coding :)","title":"How to convert minutes to HH:mm on android?","body":"<p><strong>Just use the following method to convert minutes to HH:mm on android?</strong></p>\n\n<p><em>if you want to process long value then just change the parameter type</em> </p>\n\n<pre><code>public static String ConvertMinutesTimeToHHMMString(int minutesTime) {\n    TimeZone timeZone = TimeZone.getTimeZone(\"UTC\");\n    SimpleDateFormat df = new SimpleDateFormat(\"HH:mm\");\n    df.setTimeZone(timeZone);\n    String time = df.format(new Date(minutesTime * 60 * 1000L));\n\n    return time;\n}\n</code></pre>\n\n<p>Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":23064768,"reputation":25,"user_id":17179362,"display_name":"Arman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675955982,"creation_date":1675933967,"answer_id":75396419,"question_id":5442284,"body_markdown":"Solution on kotlin [Documentation](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/)  \r\n```\r\nimport kotlin.time.Duration\r\nimport kotlin.time.DurationUnit\r\nimport kotlin.time.toDuration\r\n\r\nval min = 150.toDuration(DurationUnit.MINUTES)\r\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \r\n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\r\n}\r\n```\r\nWe get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds  \r\n\r\nWe can also use \r\n```\r\nDurationUnit.DAYS\r\nDurationUnit.HOURS\r\nDurationUnit.SECONDS\r\nDurationUnit.MILLISECONDS\r\nDurationUnit.MICROSECONDS\r\nDurationUnit.NANOSECONDS\r\n```","title":"How to convert minutes to HH:mm on android?","body":"<p>Solution on kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<pre><code>import kotlin.time.Duration\nimport kotlin.time.DurationUnit\nimport kotlin.time.toDuration\n\nval min = 150.toDuration(DurationUnit.MINUTES)\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\n}\n</code></pre>\n<p>We get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds</p>\n<p>We can also use</p>\n<pre><code>DurationUnit.DAYS\nDurationUnit.HOURS\nDurationUnit.SECONDS\nDurationUnit.MILLISECONDS\nDurationUnit.MICROSECONDS\nDurationUnit.NANOSECONDS\n</code></pre>\n"}],"owner":{"account_id":298386,"reputation":19951,"user_id":604388,"accept_rate":75,"display_name":"LA_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675955982,"creation_date":1301142097,"question_id":5442284,"body_markdown":"I have String variable `movieDuration`, which contains value in minutes. Need to convert that to HH:mm format. How should I do it?\r\n\r\nTried to do it as:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    movieDurationFormatted = formatter.format(movieDuration);\r\n\r\nBut looks like value in minutes is not ok for formatter.","title":"How to convert minutes to HH:mm on android?","body":"<p>I have String variable <code>movieDuration</code>, which contains value in minutes. Need to convert that to HH:mm format. How should I do it?</p>\n\n<p>Tried to do it as:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\nmovieDurationFormatted = formatter.format(movieDuration);\n</code></pre>\n\n<p>But looks like value in minutes is not ok for formatter.</p>\n"},{"tags":["java","postgresql","spring-data-jpa","database-partitioning"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1675953944,"post_id":75400006,"comment_id":133042031,"body_markdown":"Can you enable the &quot;show_sql&quot; flag and share the statement Hibernate is running? Do you get the same error if you insert the entity with EntityManager.persist()?","body":"Can you enable the &quot;show_sql&quot; flag and share the statement Hibernate is running? Do you get the same error if you insert the entity with EntityManager.persist()?"},{"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"score":0,"creation_date":1675955938,"post_id":75400006,"comment_id":133042758,"body_markdown":"@Augusto I have added in the question description please check.","body":"@Augusto I have added in the question description please check."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1675963759,"post_id":75400006,"comment_id":133045690,"body_markdown":"The query and the error don&#39;t match. ` ObjectOptimisticLockingFailureException` is thrown on updates, but your are doing an insert. I suggest you to throw away spring-jpa and use an entitymanager directly as this could be a problem of using spring rather than hibernate. The problem with spring jpa is that `save()` might do an EntityManager.persist() or merge() and with JPA (at least for me) it&#39;s good to be explicit about what operation you want to run as they can product subtle errors.","body":"The query and the error don&#39;t match. ` ObjectOptimisticLockingFailureException` is thrown on updates, but your are doing an insert. I suggest you to throw away spring-jpa and use an entitymanager directly as this could be a problem of using spring rather than hibernate. The problem with spring jpa is that <code>save()</code> might do an EntityManager.persist() or merge() and with JPA (at least for me) it&#39;s good to be explicit about what operation you want to run as they can product subtle errors."},{"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"score":0,"creation_date":1675964502,"post_id":75400006,"comment_id":133045941,"body_markdown":"@Augusto found something similar here - https://stackoverflow.com/questions/36475235/table-partitioning-with-jpa-throws-optimisticlockexception\nDo you think the same issue I might be facing?","body":"@Augusto found something similar here - <a href=\"https://stackoverflow.com/questions/36475235/table-partitioning-with-jpa-throws-optimisticlockexception\" title=\"table partitioning with jpa throws optimisticlockexception\">stackoverflow.com/questions/36475235/&hellip;</a> Do you think the same issue I might be facing?"}],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955909,"creation_date":1675952656,"question_id":75400006,"body_markdown":"We have implemented the partitioning on a Postgres table using a flyway script.\r\n\r\nIn the flyway script, we are also creating a trigger defined as below -\r\n\r\n    CREATE TRIGGER raw_event_insert_or_partition\r\n    BEFORE INSERT\r\n    ON public.raw_event\r\n    FOR EACH ROW\r\n    EXECUTE FUNCTION public.raw_event_insert_or_partition();\r\n\r\npublic.raw_event_insert_or_partition() creates a partition if not exist and do the insertion.\r\n\r\nBelow is the complete flyway script for the reference -\r\n\r\n                CREATE OR REPLACE FUNCTION public.parcel_event_insert_partition()\r\n                RETURNS trigger\r\n                LANGUAGE &#39;plpgsql&#39;\r\n                COST 100\r\n                VOLATILE NOT LEAKPROOF\r\n            AS $BODY$\r\n            \r\n            DECLARE\r\n              partition_date TEXT;\r\n              partition TEXT;\r\n              start_ts TIMESTAMP ;\r\n              end_ts TIMESTAMP ;\r\n            BEGIN\r\n              partition_date := to_char(NEW.carrier_status_time_gmt,&#39;YYYY_MM_01&#39;);\r\n              start_ts := partition_date::timestamp ;\r\n              end_ts := start_ts + interval &#39;1 month&#39; ;\r\n              partition := TG_RELNAME || &#39;_&#39; || to_char(start_ts,&#39;YYYY_MM_01&#39;) || &#39;_&#39; || to_char(end_ts,&#39;YYYY_MM_01&#39;);\r\n            \r\n              IF NOT EXISTS(SELECT relname FROM pg_class WHERE relname=partition) THEN\r\n                EXECUTE &#39;CREATE TABLE &#39;    || quote_ident(partition)\r\n                    || &#39; (check (carrier_status_time_gmt &gt;= &#39;&#39;&#39; || start_ts || &#39;&#39;&#39; &#39;\r\n                    || &#39;     AND carrier_status_time_gmt &lt;  &#39;&#39;&#39; || end_ts || &#39;&#39;&#39;)) &#39;\r\n                    || &#39; INHERITS (&#39; || TG_RELNAME || &#39;);&#39;;\r\n                EXECUTE &#39;CREATE INDEX ON &#39; || quote_ident(partition) || &#39; (carrier_status_time_gmt,carrier_code,value)&#39;;\r\n                RAISE NOTICE &#39;A partition has been created %&#39;, partition;\r\n              END IF;\r\n              EXECUTE &#39;INSERT INTO &#39; || quote_ident(partition) || &#39; SELECT(&#39; || TG_RELNAME || &#39; &#39; || quote_literal(NEW) || &#39;).* RETURNING id;&#39;;\r\n              RETURN NULL;\r\n            END;\r\n            $BODY$;\r\n            -- Register TRIGGER\r\n            \r\n            CREATE TRIGGER parcel_event_insert_or_partition\r\n                BEFORE INSERT\r\n                ON public.parcel_event\r\n                FOR EACH ROW\r\n                EXECUTE FUNCTION public.parcel_event_insert_partition();\r\n\r\nWhen we are running the insertion query in the PgAdmin console, it&#39;s working fine and data is getting inserted in the expected partition.\r\n\r\nBut when we are trying to insert the data using the **save()** method of the crudRepository we are getting the below error -\r\n\r\n    org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count: 0; expected: 1; \r\n\r\nOn enabling show_sql we are getting the below queries in the logs- \r\n\r\n     Hibernate: select nextval (&#39;hibernate_sequence&#39;)\r\n     Hibernate: insert into parcel_event (carrier_code, \r\n     carrier_status, carrier_status_code, carrier_status_time_gmt, \r\n     carrier_sub_status, carrier_sub_status_code, \r\n     carrier_sub_status_description, destination_location, \r\n     extra_info, status, status_code, status_description, \r\n     sub_status, sub_status_code, sub_status_description, \r\n     last_updated_at, latitude, location_code, location_name, \r\n     longitude, order_no, org_id, previous_status, \r\n     previous_status_time, status_identifier_value, \r\n      status_received_at, type, value, id) values (?, ?, ?, ?, ?, ?, \r\n    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n\r\nAny help is appreciated.\r\n\r\n","title":"ObjectOptimisticLockingFailureException on insertion in the partitioned table using spring data jpa","body":"<p>We have implemented the partitioning on a Postgres table using a flyway script.</p>\n<p>In the flyway script, we are also creating a trigger defined as below -</p>\n<pre><code>CREATE TRIGGER raw_event_insert_or_partition\nBEFORE INSERT\nON public.raw_event\nFOR EACH ROW\nEXECUTE FUNCTION public.raw_event_insert_or_partition();\n</code></pre>\n<p>public.raw_event_insert_or_partition() creates a partition if not exist and do the insertion.</p>\n<p>Below is the complete flyway script for the reference -</p>\n<pre><code>            CREATE OR REPLACE FUNCTION public.parcel_event_insert_partition()\n            RETURNS trigger\n            LANGUAGE 'plpgsql'\n            COST 100\n            VOLATILE NOT LEAKPROOF\n        AS $BODY$\n        \n        DECLARE\n          partition_date TEXT;\n          partition TEXT;\n          start_ts TIMESTAMP ;\n          end_ts TIMESTAMP ;\n        BEGIN\n          partition_date := to_char(NEW.carrier_status_time_gmt,'YYYY_MM_01');\n          start_ts := partition_date::timestamp ;\n          end_ts := start_ts + interval '1 month' ;\n          partition := TG_RELNAME || '_' || to_char(start_ts,'YYYY_MM_01') || '_' || to_char(end_ts,'YYYY_MM_01');\n        \n          IF NOT EXISTS(SELECT relname FROM pg_class WHERE relname=partition) THEN\n            EXECUTE 'CREATE TABLE '    || quote_ident(partition)\n                || ' (check (carrier_status_time_gmt &gt;= ''' || start_ts || ''' '\n                || '     AND carrier_status_time_gmt &lt;  ''' || end_ts || ''')) '\n                || ' INHERITS (' || TG_RELNAME || ');';\n            EXECUTE 'CREATE INDEX ON ' || quote_ident(partition) || ' (carrier_status_time_gmt,carrier_code,value)';\n            RAISE NOTICE 'A partition has been created %', partition;\n          END IF;\n          EXECUTE 'INSERT INTO ' || quote_ident(partition) || ' SELECT(' || TG_RELNAME || ' ' || quote_literal(NEW) || ').* RETURNING id;';\n          RETURN NULL;\n        END;\n        $BODY$;\n        -- Register TRIGGER\n        \n        CREATE TRIGGER parcel_event_insert_or_partition\n            BEFORE INSERT\n            ON public.parcel_event\n            FOR EACH ROW\n            EXECUTE FUNCTION public.parcel_event_insert_partition();\n</code></pre>\n<p>When we are running the insertion query in the PgAdmin console, it's working fine and data is getting inserted in the expected partition.</p>\n<p>But when we are trying to insert the data using the <strong>save()</strong> method of the crudRepository we are getting the below error -</p>\n<pre><code>org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count: 0; expected: 1; \n</code></pre>\n<p>On enabling show_sql we are getting the below queries in the logs-</p>\n<pre><code> Hibernate: select nextval ('hibernate_sequence')\n Hibernate: insert into parcel_event (carrier_code, \n carrier_status, carrier_status_code, carrier_status_time_gmt, \n carrier_sub_status, carrier_sub_status_code, \n carrier_sub_status_description, destination_location, \n extra_info, status, status_code, status_description, \n sub_status, sub_status_code, sub_status_description, \n last_updated_at, latitude, location_code, location_name, \n longitude, order_no, org_id, previous_status, \n previous_status_time, status_identifier_value, \n  status_received_at, type, value, id) values (?, ?, ?, ?, ?, ?, \n?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","angular","browser","server"],"comments":[{"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"score":0,"creation_date":1675963314,"post_id":75400651,"comment_id":133045534,"body_markdown":"Sometimes these issue happens due to polyfills. Browser catch that locally. So try to change that.","body":"Sometimes these issue happens due to polyfills. Browser catch that locally. So try to change that."},{"owner":{"account_id":9283927,"reputation":47,"user_id":6894417,"accept_rate":83,"display_name":"Anuja Patil"},"score":0,"creation_date":1675967354,"post_id":75400651,"comment_id":133046841,"body_markdown":"can you pls explain in detail? how to change and to what?","body":"can you pls explain in detail? how to change and to what?"}],"owner":{"account_id":9283927,"reputation":47,"user_id":6894417,"accept_rate":83,"display_name":"Anuja Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955757,"creation_date":1675955757,"question_id":75400651,"body_markdown":"We recently migrated openstack to VMC2 server and after production deployment observed a blank page loaded. The user had to clear the cache and then it worked. But what could be the possibility behind this as our users don&#39;t seem to like clearing the cache and we have n number of complaints received on this.","title":"After server migration to new, blank page loaded","body":"<p>We recently migrated openstack to VMC2 server and after production deployment observed a blank page loaded. The user had to clear the cache and then it worked. But what could be the possibility behind this as our users don't seem to like clearing the cache and we have n number of complaints received on this.</p>\n"},{"tags":["java","android"],"owner":{"account_id":25674148,"reputation":1,"user_id":19437891,"display_name":"LorneMartin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955633,"creation_date":1675955633,"question_id":75400622,"body_markdown":"I&#39;m trying to do something similar to the answer of [this question](https://stackoverflow.com/questions/66502210/how-to-wait-for-callback-to-finish-before-continuing-the-loop)\r\nI&#39;m using Volley rather than Retrofit, and have adapted my code accordingly. For me the callback handlers never actually fire, although the counDownLatch does timeout after the specified number of seconds. I suspect the handlers never fire because the countDownLatch.awaiting is using all the processing on the current thread. Or am I missing something else?\r\n\r\n```\r\n    public void queryUmbrellaServer() {\r\n        ArrayList&lt;String&gt; identifiers = getHardwareIdentifiers(context);\r\n        VolleyLog.DEBUG = true;\r\n        CountDownLatch countDownLatch = new CountDownLatch(identifiers.size());\r\n\r\n        // creating a new variable for our request queue\r\n        final RequestQueue[] queue = {Volley.newRequestQueue(context)};\r\n        queue[0].start();\r\n\r\n        for (int i = 0; i &lt; identifiers.size(); i++) {\r\n            String url = umbrellaServerUrl + identifiers.get(i) + &quot;/&quot;;\r\n            Log.i(LOG_TAG, &quot;Inside Loop &quot; + url);\r\n\r\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            try {\r\n                                countDownLatch.countDown();\r\n                                String serverName = response.getString(&quot;mdm_server_url&quot;);\r\n                                String registrationUrl = response.getString(&quot;registration_url&quot;);\r\n                                String isDeviceOwner = response.getString(&quot;device_owner&quot;);\r\n                                Toast.makeText(context, &quot;Retrieved server name from umbrella server: &quot; + serverName, Toast.LENGTH_LONG).show();\r\n                                setMdmInfo(serverName, registrationUrl, isDeviceOwner);\r\n                                Log.i(LOG_TAG, &quot;Successful response&quot;);\r\n                                //queue[0].stop();\r\n                                results.add(isDeviceOwner.toString());\r\n\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                                Log.d(LOG_TAG, &quot;Error in parsing response&quot;);\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    countDownLatch.countDown();\r\n                    if(error.networkResponse.data!=null) {\r\n                        String jsonString = new String(error.networkResponse.data);\r\n                        //Log.d(LOG_TAG, jsonString);\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(jsonString);\r\n                            String msg = jsonObject.getString(&quot;message&quot;);\r\n                            if (!msg.equals(&quot;Device not found&quot;)) {\r\n                                Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                                //queue[0].stop();\r\n                                results.add(&quot;false&quot;);\r\n                            }\r\n                            else {\r\n                                Log.d(LOG_TAG, &quot;No device found&quot;);\r\n                                results.add(&quot;false&quot;);\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                            Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                            //queue[0].stop();\r\n                            results.add(&quot;UNSET&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                        //queue[0].stop();\r\n                        results.add(&quot;UNSET&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Add the request to the RequestQueue.\r\n            queue[0].add(jsonObjectRequest);\r\n        }\r\n\r\n        try {\r\n            countDownLatch.await(1L * identifiers.size(), TimeUnit.SECONDS); // join thread with timeout of second for each item\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.d(LOG_TAG,&quot;outside loop&quot; + results);\r\n    }\r\n```\r\n\r\nI expected the results arrayList should get populated before the countDownLatch countdown completes, but I haven&#39;t been able to get any results.","title":"Waiting for multiple volley calls","body":"<p>I'm trying to do something similar to the answer of <a href=\"https://stackoverflow.com/questions/66502210/how-to-wait-for-callback-to-finish-before-continuing-the-loop\">this question</a>\nI'm using Volley rather than Retrofit, and have adapted my code accordingly. For me the callback handlers never actually fire, although the counDownLatch does timeout after the specified number of seconds. I suspect the handlers never fire because the countDownLatch.awaiting is using all the processing on the current thread. Or am I missing something else?</p>\n<pre><code>    public void queryUmbrellaServer() {\n        ArrayList&lt;String&gt; identifiers = getHardwareIdentifiers(context);\n        VolleyLog.DEBUG = true;\n        CountDownLatch countDownLatch = new CountDownLatch(identifiers.size());\n\n        // creating a new variable for our request queue\n        final RequestQueue[] queue = {Volley.newRequestQueue(context)};\n        queue[0].start();\n\n        for (int i = 0; i &lt; identifiers.size(); i++) {\n            String url = umbrellaServerUrl + identifiers.get(i) + &quot;/&quot;;\n            Log.i(LOG_TAG, &quot;Inside Loop &quot; + url);\n\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\n                    new Response.Listener&lt;JSONObject&gt;() {\n                        @Override\n                        public void onResponse(JSONObject response) {\n                            try {\n                                countDownLatch.countDown();\n                                String serverName = response.getString(&quot;mdm_server_url&quot;);\n                                String registrationUrl = response.getString(&quot;registration_url&quot;);\n                                String isDeviceOwner = response.getString(&quot;device_owner&quot;);\n                                Toast.makeText(context, &quot;Retrieved server name from umbrella server: &quot; + serverName, Toast.LENGTH_LONG).show();\n                                setMdmInfo(serverName, registrationUrl, isDeviceOwner);\n                                Log.i(LOG_TAG, &quot;Successful response&quot;);\n                                //queue[0].stop();\n                                results.add(isDeviceOwner.toString());\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                                Log.d(LOG_TAG, &quot;Error in parsing response&quot;);\n                            }\n                        }\n                    }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    countDownLatch.countDown();\n                    if(error.networkResponse.data!=null) {\n                        String jsonString = new String(error.networkResponse.data);\n                        //Log.d(LOG_TAG, jsonString);\n                        try {\n                            JSONObject jsonObject = new JSONObject(jsonString);\n                            String msg = jsonObject.getString(&quot;message&quot;);\n                            if (!msg.equals(&quot;Device not found&quot;)) {\n                                Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                                //queue[0].stop();\n                                results.add(&quot;false&quot;);\n                            }\n                            else {\n                                Log.d(LOG_TAG, &quot;No device found&quot;);\n                                results.add(&quot;false&quot;);\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                            Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                            //queue[0].stop();\n                            results.add(&quot;UNSET&quot;);\n                        }\n                    }\n                    else {\n                        Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                        //queue[0].stop();\n                        results.add(&quot;UNSET&quot;);\n                    }\n                }\n            });\n\n            // Add the request to the RequestQueue.\n            queue[0].add(jsonObjectRequest);\n        }\n\n        try {\n            countDownLatch.await(1L * identifiers.size(), TimeUnit.SECONDS); // join thread with timeout of second for each item\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        Log.d(LOG_TAG,&quot;outside loop&quot; + results);\n    }\n</code></pre>\n<p>I expected the results arrayList should get populated before the countDownLatch countdown completes, but I haven't been able to get any results.</p>\n"},{"tags":["java","android","kotlin","android-animation"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675955520,"creation_date":1675955520,"answer_id":75400599,"question_id":75399905,"body_markdown":"You can use this class to draw circle with a customizable radius.\r\n\r\n    class CircleView @JvmOverloads constructor(\r\n        context: Context,\r\n        attrs: AttributeSet? = null,\r\n        defStyleAttr: Int = 0\r\n    ) : View(context, attrs, defStyleAttr) {\r\n    \r\n        private val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\r\n            color = Color.BLUE\r\n            style = Paint.Style.FILL\r\n        }\r\n    \r\n        private var radius = 0f\r\n    \r\n        fun setRadius(radius: Float) {\r\n            this.radius = radius\r\n            invalidate()\r\n        }\r\n    \r\n        override fun onDraw(canvas: Canvas) {\r\n            super.onDraw(canvas)\r\n            canvas.drawCircle(width / 2f, height / 2f, radius, paint)\r\n        }\r\n    }","title":"Build a Circle in Android Studio with dynamic Radius","body":"<p>You can use this class to draw circle with a customizable radius.</p>\n<pre><code>class CircleView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : View(context, attrs, defStyleAttr) {\n\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\n        color = Color.BLUE\n        style = Paint.Style.FILL\n    }\n\n    private var radius = 0f\n\n    fun setRadius(radius: Float) {\n        this.radius = radius\n        invalidate()\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        canvas.drawCircle(width / 2f, height / 2f, radius, paint)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16629951,"reputation":19,"user_id":12018015,"display_name":"DHRUV NIVATIA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675955520,"creation_date":1675952164,"question_id":75399905,"body_markdown":"I want to build a Circle shape with some Radius and then radius data (say &quot;r&quot;) will get fetched from server/database, the circle should adapt it&#39;s size according to the Radius  &quot;r&quot; and my code is fetching data in every 0.1 second, so in every 0.1 second the Radius of circle should change. \r\nThe results should look like  circle with dynamic Radius and it&#39;s size is changing in every 0.1 second.\r\n\r\nI have created  a shape.xml file in drawable folder with circle shaped and with fixed radius. In MainActivity.xml, i created a imageview and set imageview src to that drawable xml file.\r\nNow i am trying to make it&#39;s radius dynamic according to tha data fetched. I don&#39;t think it&#39;s possible in this way.","title":"Build a Circle in Android Studio with dynamic Radius","body":"<p>I want to build a Circle shape with some Radius and then radius data (say &quot;r&quot;) will get fetched from server/database, the circle should adapt it's size according to the Radius  &quot;r&quot; and my code is fetching data in every 0.1 second, so in every 0.1 second the Radius of circle should change.\nThe results should look like  circle with dynamic Radius and it's size is changing in every 0.1 second.</p>\n<p>I have created  a shape.xml file in drawable folder with circle shaped and with fixed radius. In MainActivity.xml, i created a imageview and set imageview src to that drawable xml file.\nNow i am trying to make it's radius dynamic according to tha data fetched. I don't think it's possible in this way.</p>\n"},{"tags":["java","loops","stored-procedures","while-loop","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675955501,"creation_date":1675955501,"answer_id":75400597,"question_id":75399799,"body_markdown":"Java Stored Procedures in Snowflake work with a built in DataFrame API therefore they are different than working for example with JavaScript Stored procedure where you could loop over a resultset like this:\r\n\r\n    // Loop through the results, processing one row at a time...\r\n    while (rs.next())  {\r\n       // Do something with the retrieved values...\r\n    }\r\n\r\nYou could though try something like this:\r\n\r\n    DataFrame df = getSession().sql(&quot;select * from values(1), (2) as t(a)&quot;);\r\n    Iterator&lt;Row&gt; it = df.toLocalIterator();\r\n    if (it.hasNext()) {\r\n       if (it.next().getInt(0) == 1) {\r\n          //do something here\r\n       }\r\n    }\r\n\r\nAlso have a look at the DataFrame API from Snowflake [here][1].\r\n\r\n\r\n  [1]: https://docs.snowflake.com/en/developer-guide/snowpark/reference/java/index.html","title":"how do I use while loop to display values of table in snowflake stored procedure using java","body":"<p>Java Stored Procedures in Snowflake work with a built in DataFrame API therefore they are different than working for example with JavaScript Stored procedure where you could loop over a resultset like this:</p>\n<pre><code>// Loop through the results, processing one row at a time...\nwhile (rs.next())  {\n   // Do something with the retrieved values...\n}\n</code></pre>\n<p>You could though try something like this:</p>\n<pre><code>DataFrame df = getSession().sql(&quot;select * from values(1), (2) as t(a)&quot;);\nIterator&lt;Row&gt; it = df.toLocalIterator();\nif (it.hasNext()) {\n   if (it.next().getInt(0) == 1) {\n      //do something here\n   }\n}\n</code></pre>\n<p>Also have a look at the DataFrame API from Snowflake <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/reference/java/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26149250,"reputation":7,"user_id":19837437,"display_name":"Krishantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1676443103,"answer_count":1,"score":-2,"last_activity_date":1675955501,"creation_date":1675951691,"question_id":75399799,"body_markdown":"create procedure proc(table String)\r\nreturn String\r\nlanguage java\r\n\r\n\r\nI have no idea how to use while loop in snowflake with java","title":"how do I use while loop to display values of table in snowflake stored procedure using java","body":"<p>create procedure proc(table String)\nreturn String\nlanguage java</p>\n<p>I have no idea how to use while loop in snowflake with java</p>\n"},{"tags":["java","android","youtube-api","android-youtube-api"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675949160,"post_id":75398910,"comment_id":133040148,"body_markdown":"Do you want to check whether a YouTube video is played (by embedding) it in your application or do you want to check whether there is a video playing from the normal YouTube application? And what exactly do you mean with virtual pause button?","body":"Do you want to check whether a YouTube video is played (by embedding) it in your application or do you want to check whether there is a video playing from the normal YouTube application? And what exactly do you mean with virtual pause button?"},{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1675955994,"post_id":75398910,"comment_id":133042781,"body_markdown":"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#isPlaying()","body":"<a href=\"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#isPlaying()\" rel=\"nofollow noreferrer\">developers.google.com/youtube/android/player/reference/com/&hellip;</a>"},{"owner":{"account_id":27737916,"reputation":1,"user_id":21175058,"display_name":"RS Studio"},"score":0,"creation_date":1675957937,"post_id":75398910,"comment_id":133043470,"body_markdown":"Thank you but I have no idea how to use it.","body":"Thank you but I have no idea how to use it."}],"owner":{"account_id":27737916,"reputation":1,"user_id":21175058,"display_name":"RS Studio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955489,"creation_date":1675947338,"question_id":75398910,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n        YouTubePlayerView youtubeplayerview;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main3);\r\n\r\n            youtubeplayerview.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\r\n                @Override\r\n                public void onReady(@NonNull YouTubePlayer youTubePlayer) {\r\n                    youTubePlayer.cueVideo(&quot;videoId&quot;, 0);\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow to check if youtube video player is playing in android studio? and How do I get to the virtual pause button on a youtube video.\r\n\r\nI couldn&#39;t find any examples.\r\n\r\n\r\n\r\n\r\n  ","title":"Check if youtube video player is playing (Android Studio)","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    YouTubePlayerView youtubeplayerview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main3);\n\n        youtubeplayerview.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\n            @Override\n            public void onReady(@NonNull YouTubePlayer youTubePlayer) {\n                youTubePlayer.cueVideo(\"videoId\", 0);\n\n            }\n\n        });\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How to check if youtube video player is playing in android studio? and How do I get to the virtual pause button on a youtube video.</p>\n<p>I couldn't find any examples.</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675956013,"post_id":75400557,"comment_id":133042790,"body_markdown":"Normally these things are run inside a container (such as Tomcat) and over HTTP.  I haven&#39;t actually set up RabbitMQ but you might look at the docs with that idea in mind.","body":"Normally these things are run inside a container (such as Tomcat) and over HTTP.  I haven&#39;t actually set up RabbitMQ but you might look at the docs with that idea in mind."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1675956815,"post_id":75400557,"comment_id":133043074,"body_markdown":"I would use Tomcat as producer because the application receives inputs from HTTP requests, but I cannot imagine how to run a consumer in Tomcat to send email from the queue. It is not a web application.","body":"I would use Tomcat as producer because the application receives inputs from HTTP requests, but I cannot imagine how to run a consumer in Tomcat to send email from the queue. It is not a web application."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675957458,"post_id":75400557,"comment_id":133043277,"body_markdown":"I could imagine Tomcat sending an email, for example on password reset request, and I could imagine Tomcat receiving an email too, for example when a web app is the front end of an email list server.  The [RabbitMQ devtool page](https://www.rabbitmq.com/devtools.html) mentions clients for Spring, which is almost entirely a Java web app framework afaik.  Your application may be different, so you might want to clarify what it is you are actually trying to do.","body":"I could imagine Tomcat sending an email, for example on password reset request, and I could imagine Tomcat receiving an email too, for example when a web app is the front end of an email list server.  The <a href=\"https://www.rabbitmq.com/devtools.html\" rel=\"nofollow noreferrer\">RabbitMQ devtool page</a> mentions clients for Spring, which is almost entirely a Java web app framework afaik.  Your application may be different, so you might want to clarify what it is you are actually trying to do."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1676034995,"post_id":75400557,"comment_id":133061166,"body_markdown":"I know Spring quite well, but I cannot undersrand how to run a the consumer process in a safe way. May I can open a single thread process? Unfortunately the docs about Consumer implementation is missing this part.","body":"I know Spring quite well, but I cannot undersrand how to run a the consumer process in a safe way. May I can open a single thread process? Unfortunately the docs about Consumer implementation is missing this part."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676040302,"post_id":75400557,"comment_id":133062988,"body_markdown":"I think your real question is how to deploy a RabbitMQ consumer inside of a JEE web application.  Saying &quot;Ubuntu linux&quot; makes it sound like you are indeed running from the command line.  I think you should re-ask the question, and use a better title (at least mention JEE and the container you are using) and also tag the question with the web app you are using in addition to `java` and `rabbitmq`.  Right now I think the relevant folks are not looking at your question.  You also might try the RabbitMQ mailing list, which is referred to in a few places in the documentation.","body":"I think your real question is how to deploy a RabbitMQ consumer inside of a JEE web application.  Saying &quot;Ubuntu linux&quot; makes it sound like you are indeed running from the command line.  I think you should re-ask the question, and use a better title (at least mention JEE and the container you are using) and also tag the question with the web app you are using in addition to <code>java</code> and <code>rabbitmq</code>.  Right now I think the relevant folks are not looking at your question.  You also might try the RabbitMQ mailing list, which is referred to in a few places in the documentation."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676040745,"post_id":75400557,"comment_id":133063126,"body_markdown":"I&#39;ll add: I&#39;m absolutely not an expert, I&#39;m reading the tutorials, but based on general knowledge you can&#39;t do what you are asking.  JEE runs over HTTP and HTML.  The protocol used by RabbitMQ, AMQP, appears to be different.  Unless it is a standard to run AMQP over HTTP (and the other side would have be running that exact same configuration) I don&#39;t think you can use a container here at all.  Emphasizing again that I&#39;m not an expert.","body":"I&#39;ll add: I&#39;m absolutely not an expert, I&#39;m reading the tutorials, but based on general knowledge you can&#39;t do what you are asking.  JEE runs over HTTP and HTML.  The protocol used by RabbitMQ, AMQP, appears to be different.  Unless it is a standard to run AMQP over HTTP (and the other side would have be running that exact same configuration) I don&#39;t think you can use a container here at all.  Emphasizing again that I&#39;m not an expert."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1676043816,"post_id":75400557,"comment_id":133064130,"body_markdown":"Sorry if I was not clear, but I&#39;m not looking how to run the consumer inside a web application. The producer is a web-application that fills the queue, but the consumer (it just sends email) is just a backend application. And this is exactly the point, how can I deploy a consumer application? I&#39;m concerned about it crashes and nothing will revive it automatically. Maybe the consumer has to be wrapper in a OS service, I did not fond something useful about this in Rabbitmq docs.","body":"Sorry if I was not clear, but I&#39;m not looking how to run the consumer inside a web application. The producer is a web-application that fills the queue, but the consumer (it just sends email) is just a backend application. And this is exactly the point, how can I deploy a consumer application? I&#39;m concerned about it crashes and nothing will revive it automatically. Maybe the consumer has to be wrapper in a OS service, I did not fond something useful about this in Rabbitmq docs."}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955319,"creation_date":1675955319,"question_id":75400557,"body_markdown":"I&#39;m studing how RabbitMQ works with Java, it is almost clear how Producer works and how to implement the Consumer, but I&#39;m still not sure how to deploy the Consumer application to server with a correct threading handling.\r\n\r\nLet&#39;s say I have a web-application that has to sent some transaction email as producer, this application will push in the queue the messages and it is managed by a container, like Tomcat, that increase/descrease threads to serve multiple requests.\r\n\r\n**What is the best practice to deployt the consumer application?** \r\n\r\nI have read many tutorials and the RabbitMQ commands are well explained, usually this is the code (from official RabbitMq Hello World):\r\n\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.DeliverCallback;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class Recv {\r\n    \r\n        private final static String QUEUE_NAME = &quot;hello&quot;;\r\n    \r\n        public static void main(String[] argv) throws Exception {\r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(&quot;localhost&quot;);\r\n            Connection connection = factory.newConnection();\r\n            Channel channel = connection.createChannel();\r\n    \r\n            channel.queueDeclare(QUEUE_NAME, false, false, false, null);\r\n            System.out.println(&quot; [*] Waiting for messages. To exit press CTRL+C&quot;);\r\n    \r\n            DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n                String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\r\n                System.out.println(&quot; [x] Received &#39;&quot; + message + &quot;&#39;&quot;);\r\n            };\r\n            channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\r\n        }\r\n    }\r\n\r\nHowever it is not clear to me how I should run this application in my server (sure I can start it by command line!) and how am I sure the process will not crash for some reason? \r\n\r\nShould I put the channel opening commands in a loop inside a try/catch to be sure it will not exit?\r\n\r\nAm I&#39;m in charge of handling thread pool opening/increasing?\r\nDoes exists something for this purpose?\r\n\r\n\r\n\r\n","title":"RabbitMQ Java Consumer app best practice for Ubuntu linux deployment","body":"<p>I'm studing how RabbitMQ works with Java, it is almost clear how Producer works and how to implement the Consumer, but I'm still not sure how to deploy the Consumer application to server with a correct threading handling.</p>\n<p>Let's say I have a web-application that has to sent some transaction email as producer, this application will push in the queue the messages and it is managed by a container, like Tomcat, that increase/descrease threads to serve multiple requests.</p>\n<p><strong>What is the best practice to deployt the consumer application?</strong></p>\n<p>I have read many tutorials and the RabbitMQ commands are well explained, usually this is the code (from official RabbitMq Hello World):</p>\n<pre><code>import com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.DeliverCallback;\nimport java.nio.charset.StandardCharsets;\n\npublic class Recv {\n\n    private final static String QUEUE_NAME = &quot;hello&quot;;\n\n    public static void main(String[] argv) throws Exception {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(&quot;localhost&quot;);\n        Connection connection = factory.newConnection();\n        Channel channel = connection.createChannel();\n\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        System.out.println(&quot; [*] Waiting for messages. To exit press CTRL+C&quot;);\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println(&quot; [x] Received '&quot; + message + &quot;'&quot;);\n        };\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\n    }\n}\n</code></pre>\n<p>However it is not clear to me how I should run this application in my server (sure I can start it by command line!) and how am I sure the process will not crash for some reason?</p>\n<p>Should I put the channel opening commands in a loop inside a try/catch to be sure it will not exit?</p>\n<p>Am I'm in charge of handling thread pool opening/increasing?\nDoes exists something for this purpose?</p>\n"},{"tags":["java","android","storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675955613,"post_id":75400528,"comment_id":133042644,"body_markdown":"Then try external storage.","body":"Then try external storage."},{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1675956302,"post_id":75400528,"comment_id":133042896,"body_markdown":"The only option is to rename downloaded file in internal storage. Else download files in external directory.","body":"The only option is to rename downloaded file in internal storage. Else download files in external directory."}],"owner":{"account_id":20303566,"reputation":21,"user_id":14892384,"display_name":"alireza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1675955318,"creation_date":1675955209,"question_id":75400528,"body_markdown":"I have an application that downloads and stores some small audio files on internal storage.\r\nSome of users are reporting that files were deleted and application asks for download them again.\r\n\r\n\r\nThe problem wasn&#39;t solved with disabling Automatic optimization of android.","title":"Android is deleting downloaded audio files from internal storage","body":"<p>I have an application that downloads and stores some small audio files on internal storage.\nSome of users are reporting that files were deleted and application asks for download them again.</p>\n<p>The problem wasn't solved with disabling Automatic optimization of android.</p>\n"},{"tags":["java","sqlite","android-studio","return","simplecursoradapter"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1459699587,"post_id":36387688,"comment_id":60392253,"body_markdown":"&quot;the syntax for using the simple cursor adapter isn&#39;t making any sense to me&quot; -- if you edit your question to include what syntax you don&#39;t understand, maybe we could explain it to you. Also providing links to what you&#39;ve looked at helps prevent others from marking this as a possible duplicate","body":"&quot;the syntax for using the simple cursor adapter isn&#39;t making any sense to me&quot; -- if you edit your question to include what syntax you don&#39;t understand, maybe we could explain it to you. Also providing links to what you&#39;ve looked at helps prevent others from marking this as a possible duplicate"}],"answers":[{"comments":[{"owner":{"account_id":8127747,"reputation":19,"user_id":6122064,"accept_rate":0,"display_name":"lexpagee"},"score":0,"creation_date":1459707076,"post_id":36387796,"comment_id":60394963,"body_markdown":"I couldn&#39;t get this to work; I commented below my attempt at inserting your suggestions as I couldn&#39;t fit the entire code as a response to your answer. Could you tell me if I&#39;m missing anything please?","body":"I couldn&#39;t get this to work; I commented below my attempt at inserting your suggestions as I couldn&#39;t fit the entire code as a response to your answer. Could you tell me if I&#39;m missing anything please?"},{"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"score":0,"creation_date":1459742263,"post_id":36387796,"comment_id":60405279,"body_markdown":"Have logged your variable `CR` and confirmed if it has proper data ?","body":"Have logged your variable <code>CR</code> and confirmed if it has proper data ?"}],"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459699835,"creation_date":1459699835,"answer_id":36387796,"question_id":36387688,"body_markdown":"First Create an `array`\r\n\r\n    ArrayList&lt;String&gt; array = new ArrayLIst&lt;&gt;(); \r\n\r\nInside the method you&#39;ve read the cursor, loop through it and add those item to `array`\r\n\r\n    while (CR.moveToNext()) {\r\n            CR.getString(CR.getColumnIndex(&#39;NAME&#39;));\r\n        }\r\nFinally Set the adapter to AutoCompleteTextView like this,\r\n\r\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n            android.R.layout.select_dialog_item, array);\r\n    autocompletetextview.setAdapter(adapter);","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>First Create an <code>array</code></p>\n\n<pre><code>ArrayList&lt;String&gt; array = new ArrayLIst&lt;&gt;(); \n</code></pre>\n\n<p>Inside the method you've read the cursor, loop through it and add those item to <code>array</code></p>\n\n<pre><code>while (CR.moveToNext()) {\n        CR.getString(CR.getColumnIndex('NAME'));\n    }\n</code></pre>\n\n<p>Finally Set the adapter to AutoCompleteTextView like this,</p>\n\n<pre><code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n        android.R.layout.select_dialog_item, array);\nautocompletetextview.setAdapter(adapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7108058,"reputation":306,"user_id":5437049,"accept_rate":40,"display_name":"Abhinav Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459699948,"creation_date":1459699948,"answer_id":36387810,"question_id":36387688,"body_markdown":"Considering that you are using the [AutoCompleteTextView][1] class, the simplest implementation would be to:\r\n\r\n1. Implement an AutoCompleteTextView\r\n2. Fetch Data from your db and loop to put all the values in an Array\r\n3. Create an ArrayAdapter and attach it to your AutoCompleteTextView.\r\n\r\nThat&#39;s it.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/AutoCompleteTextView.html","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>Considering that you are using the <a href=\"http://developer.android.com/reference/android/widget/AutoCompleteTextView.html\" rel=\"nofollow\">AutoCompleteTextView</a> class, the simplest implementation would be to:</p>\n\n<ol>\n<li>Implement an AutoCompleteTextView</li>\n<li>Fetch Data from your db and loop to put all the values in an Array</li>\n<li>Create an ArrayAdapter and attach it to your AutoCompleteTextView.</li>\n</ol>\n\n<p>That's it.</p>\n"}],"owner":{"account_id":8127747,"reputation":19,"user_id":6122064,"accept_rate":0,"display_name":"lexpagee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675955110,"creation_date":1459699218,"question_id":36387688,"body_markdown":"I&#39;m trying to figure out how to load information from a table in my SQLite database into an AutoCompleteTextView. I&#39;ve searched through hundreds of posts and websites. All of the posts that seemed helpful have different methods of creating tables to the one I have used, and so the syntax for using the simple cursor adapter isn&#39;t making any sense to me.\r\n\r\nMy program allows a user to enter food items into a database. From a different section of this program, I want the users to be able to add these food items into their own little food storage - I have already created the XML file for this. However, I don&#39;t have a clue how to return the FoodItems &#39;Name&#39; column into my `AutoCompleteTextView` - I&#39;ve read something about an Array Adapter but quite frankly I have no idea what I&#39;m doing. \r\n\r\nI&#39;ve already created the table and there is data in the database. I&#39;ll only show the code relevant to my problem so as not to overload you. The code used for writing the database is:\r\n\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String DATABASE_NAME = &quot;ChangeMe.db&quot;;\r\n    public static final String TABLE_CREATE_FOODS = &quot;CREATE TABLE IF NOT EXISTS FoodItems (Id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, Name TEXT, Category TEXT, Calorie NUMERIC, Fat NUMERIC, Carbohydrate NUMERIC)&quot;;\r\n\r\n\r\nThen, I have a method to set these food items:\r\n\r\n    public long SetFoodItems(String name, String category, Float calorie, Float fat, Float carbohydrate) {\r\n        String query = &quot;SELECT * FROM FoodItems&quot;;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(&quot;Name&quot;, name);\r\n        values.put(&quot;Category&quot;, category);\r\n        values.put(&quot;Calorie&quot;, calorie);\r\n        values.put(&quot;Fat&quot;, fat);\r\n        values.put(&quot;Carbohydrate&quot;, carbohydrate);\r\n\r\n        long id = db.insert(&quot;FoodItems&quot;, null, values);\r\n        return id;\r\n    }\r\n\r\nI&#39;ve also made a cursor to obtain all of the records from the FoodItems table:\r\n\r\n    public Cursor ObtainFoodItems()\r\n    {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String Query = &quot;SELECT Name FROM FoodItems&quot;;\r\n        Cursor CR = db.rawQuery(Query, null);\r\n\r\n        return CR;\r\n    }\r\n   \r\nSo, can anyone tell me how I return this cursor into an autoCompleteTextView? Please bear in mind that I am a complete newbie to Java (and coding in general), so simplified suggestions would be highly appreciated.\r\n\r\nEDIT: The best example I could find was [HERE][1], however he calls on MyObject to populate his autoTextView and loads data manually, which I don&#39;t need to do as my user will be responsible for all data entry. \r\n\r\nThe section of code that I don&#39;t understand from that link is:\r\n\r\n    // this function is used in CustomAutoCompleteTextChangedListener.java\r\n    public String[] getItemsFromDb(String searchTerm){\r\n         \r\n        // add items on the array dynamically\r\n        List&lt;MyObject&gt; products = databaseH.read(searchTerm);\r\n        int rowCount = products.size();\r\n         \r\n        String[] item = new String[rowCount];\r\n        int x = 0;\r\n         \r\n        for (MyObject record : products) {\r\n             \r\n            item[x] = record.objectName;\r\n            x++;\r\n        }\r\n         \r\n        return item;\r\n    }\r\n\r\nThis is mainly because his function to create the table is completely different to mine:\r\n\r\n    // creating table\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String sql = &quot;&quot;;\r\n \r\n        sql += &quot;CREATE TABLE &quot; + tableName;\r\n        sql += &quot; ( &quot;;\r\n        sql += fieldObjectId + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;;\r\n        sql += fieldObjectName + &quot; TEXT &quot;;\r\n        sql += &quot; ) &quot;;\r\n \r\n        db.execSQL(sql);\r\n \r\n    }\r\n\r\n---\r\n\r\nSo this is my code where I implement an AutoCompleteTextView, call the method to fetch the data from the SQLite db and loop through the records, and set the Array Adapter to the AutoCompleteTextView (I think). However something is wrong, I feel as though I&#39;ve missed something because it&#39;s not doing anything.\r\n\r\n    public class AddToPantry extends AppCompatActivity {\r\n    AutoCompleteTextView foodItemsList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_to_pantry);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        Spinner dropdown = (Spinner) findViewById(R.id.editCategory);\r\n        String[] items = new String[]{&quot;Dairy&quot;, &quot;Grain&quot;, &quot;Vegetable&quot;, &quot;Fruit&quot;, &quot;Meat&quot; };\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, items);\r\n        dropdown.setAdapter(adapter);\r\n\r\n        Spinner dropdownLoc = (Spinner) findViewById(R.id.editLocation);\r\n        String[] itemsLoc = new String[]{&quot;Cupboard&quot;, &quot;Fridge&quot;, &quot;Freezer&quot; };\r\n        ArrayAdapter&lt;String&gt; adapterLoc = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, itemsLoc);\r\n        dropdownLoc.setAdapter(adapterLoc);\r\n\r\n        Button saveButton = (Button) findViewById(R.id.saveIngredient);\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddItemToPantry();\r\n            }\r\n        });\r\n\r\n        //Creates the array\r\n        ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n\r\n        //Implements AutoCompleteTextView\r\n        foodItemsList = (AutoCompleteTextView) findViewById(R.id.autoFoodName);\r\n\r\n        //Calls method from DH to get all food items\r\n        DatabaseHandler dbh = new DatabaseHandler(this);\r\n        Cursor cr = dbh.ObtainFoodItems();\r\n        cr.moveToFirst();\r\n\r\n        while (cr.moveToNext()) {\r\n            cr.getString(cr.getColumnIndex(&quot;Name&quot;));\r\n        }\r\n\r\n        ArrayAdapter&lt;String&gt; foodItemAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n                android.R.layout.select_dialog_item, array);\r\n\r\n        foodItemsList.setAdapter(foodItemAdapter);\r\n    }\r\n\r\n\r\n  [1]: http://www.androidcode.ninja/android-autocompletetextview-example-sqlite-database/","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>I'm trying to figure out how to load information from a table in my SQLite database into an AutoCompleteTextView. I've searched through hundreds of posts and websites. All of the posts that seemed helpful have different methods of creating tables to the one I have used, and so the syntax for using the simple cursor adapter isn't making any sense to me.</p>\n\n<p>My program allows a user to enter food items into a database. From a different section of this program, I want the users to be able to add these food items into their own little food storage - I have already created the XML file for this. However, I don't have a clue how to return the FoodItems 'Name' column into my <code>AutoCompleteTextView</code> - I've read something about an Array Adapter but quite frankly I have no idea what I'm doing. </p>\n\n<p>I've already created the table and there is data in the database. I'll only show the code relevant to my problem so as not to overload you. The code used for writing the database is:</p>\n\n<pre><code>public static final int DATABASE_VERSION = 1;\npublic static final String DATABASE_NAME = \"ChangeMe.db\";\npublic static final String TABLE_CREATE_FOODS = \"CREATE TABLE IF NOT EXISTS FoodItems (Id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, Name TEXT, Category TEXT, Calorie NUMERIC, Fat NUMERIC, Carbohydrate NUMERIC)\";\n</code></pre>\n\n<p>Then, I have a method to set these food items:</p>\n\n<pre><code>public long SetFoodItems(String name, String category, Float calorie, Float fat, Float carbohydrate) {\n    String query = \"SELECT * FROM FoodItems\";\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues values = new ContentValues();\n\n    values.put(\"Name\", name);\n    values.put(\"Category\", category);\n    values.put(\"Calorie\", calorie);\n    values.put(\"Fat\", fat);\n    values.put(\"Carbohydrate\", carbohydrate);\n\n    long id = db.insert(\"FoodItems\", null, values);\n    return id;\n}\n</code></pre>\n\n<p>I've also made a cursor to obtain all of the records from the FoodItems table:</p>\n\n<pre><code>public Cursor ObtainFoodItems()\n{\n    SQLiteDatabase db = this.getReadableDatabase();\n    String Query = \"SELECT Name FROM FoodItems\";\n    Cursor CR = db.rawQuery(Query, null);\n\n    return CR;\n}\n</code></pre>\n\n<p>So, can anyone tell me how I return this cursor into an autoCompleteTextView? Please bear in mind that I am a complete newbie to Java (and coding in general), so simplified suggestions would be highly appreciated.</p>\n\n<p>EDIT: The best example I could find was <a href=\"http://www.androidcode.ninja/android-autocompletetextview-example-sqlite-database/\" rel=\"nofollow noreferrer\">HERE</a>, however he calls on MyObject to populate his autoTextView and loads data manually, which I don't need to do as my user will be responsible for all data entry. </p>\n\n<p>The section of code that I don't understand from that link is:</p>\n\n<pre><code>// this function is used in CustomAutoCompleteTextChangedListener.java\npublic String[] getItemsFromDb(String searchTerm){\n\n    // add items on the array dynamically\n    List&lt;MyObject&gt; products = databaseH.read(searchTerm);\n    int rowCount = products.size();\n\n    String[] item = new String[rowCount];\n    int x = 0;\n\n    for (MyObject record : products) {\n\n        item[x] = record.objectName;\n        x++;\n    }\n\n    return item;\n}\n</code></pre>\n\n<p>This is mainly because his function to create the table is completely different to mine:</p>\n\n<pre><code>// creating table\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String sql = \"\";\n\n    sql += \"CREATE TABLE \" + tableName;\n    sql += \" ( \";\n    sql += fieldObjectId + \" INTEGER PRIMARY KEY AUTOINCREMENT, \";\n    sql += fieldObjectName + \" TEXT \";\n    sql += \" ) \";\n\n    db.execSQL(sql);\n\n}\n</code></pre>\n\n<hr>\n\n<p>So this is my code where I implement an AutoCompleteTextView, call the method to fetch the data from the SQLite db and loop through the records, and set the Array Adapter to the AutoCompleteTextView (I think). However something is wrong, I feel as though I've missed something because it's not doing anything.</p>\n\n<pre><code>public class AddToPantry extends AppCompatActivity {\nAutoCompleteTextView foodItemsList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_to_pantry);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    Spinner dropdown = (Spinner) findViewById(R.id.editCategory);\n    String[] items = new String[]{\"Dairy\", \"Grain\", \"Vegetable\", \"Fruit\", \"Meat\" };\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, items);\n    dropdown.setAdapter(adapter);\n\n    Spinner dropdownLoc = (Spinner) findViewById(R.id.editLocation);\n    String[] itemsLoc = new String[]{\"Cupboard\", \"Fridge\", \"Freezer\" };\n    ArrayAdapter&lt;String&gt; adapterLoc = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, itemsLoc);\n    dropdownLoc.setAdapter(adapterLoc);\n\n    Button saveButton = (Button) findViewById(R.id.saveIngredient);\n    saveButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            AddItemToPantry();\n        }\n    });\n\n    //Creates the array\n    ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\n\n    //Implements AutoCompleteTextView\n    foodItemsList = (AutoCompleteTextView) findViewById(R.id.autoFoodName);\n\n    //Calls method from DH to get all food items\n    DatabaseHandler dbh = new DatabaseHandler(this);\n    Cursor cr = dbh.ObtainFoodItems();\n    cr.moveToFirst();\n\n    while (cr.moveToNext()) {\n        cr.getString(cr.getColumnIndex(\"Name\"));\n    }\n\n    ArrayAdapter&lt;String&gt; foodItemAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.select_dialog_item, array);\n\n    foodItemsList.setAdapter(foodItemAdapter);\n}\n</code></pre>\n"},{"tags":["java","eclipse","weblogic","datasource"],"answers":[{"tags":[],"owner":{"account_id":4021470,"reputation":399,"user_id":3311659,"accept_rate":100,"display_name":"Hououin Kyouma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417298364,"creation_date":1417298364,"answer_id":27207623,"question_id":27188225,"body_markdown":"You cannot modify datasources in your web.xml. JDBC is a weblogic feature. That being said, you can change the datasource info using WLST.\r\n\r\nAn example of the process is mentioned here.\r\nhttps://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134\r\n\r\nYou can get creative with this process and create and destroy JDBC&#39;s based on environment as well. \r\n\r\nSo long answer short, WLST is the solution.","title":"weblogic change datasource at runtime","body":"<p>You cannot modify datasources in your web.xml. JDBC is a weblogic feature. That being said, you can change the datasource info using WLST.</p>\n\n<p>An example of the process is mentioned here.\n<a href=\"https://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134\" rel=\"nofollow\">https://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134</a></p>\n\n<p>You can get creative with this process and create and destroy JDBC's based on environment as well. </p>\n\n<p>So long answer short, WLST is the solution.</p>\n"},{"tags":[],"owner":{"account_id":27740225,"reputation":1,"user_id":21176841,"display_name":"zhaonz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675954765,"creation_date":1675954765,"answer_id":75400448,"question_id":27188225,"body_markdown":"Update data account password\r\n\r\n    connect(&#39;weblogic&#39;, &#39;password&#39;, &#39;t3://%s:%s&#39; % (&#39;localhost&#39;,&#39;7001&#39;))\r\n    edit()\r\n    startEdit()\r\n    cd(&#39;/&#39;)\r\n    cd(&#39;JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname/Properties/dbname/Properties/user&#39;)\r\n    cmo.setValue(&#39;ESB&#39;)\r\n    cd(&#39;/&#39;)\r\n    cd(&#39;JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname&#39;)\r\n    cmo.setPassword(&#39;ESB&#39;)\r\n    cd(&#39;/&#39;)\r\n    save()\r\n    activate(block=&#39;true&#39;)\r\n    disconnect()\r\n    exit()","title":"weblogic change datasource at runtime","body":"<p>Update data account password</p>\n<pre><code>connect('weblogic', 'password', 't3://%s:%s' % ('localhost','7001'))\nedit()\nstartEdit()\ncd('/')\ncd('JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname/Properties/dbname/Properties/user')\ncmo.setValue('ESB')\ncd('/')\ncd('JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname')\ncmo.setPassword('ESB')\ncd('/')\nsave()\nactivate(block='true')\ndisconnect()\nexit()\n</code></pre>\n"}],"owner":{"account_id":4216928,"reputation":83,"user_id":3452820,"accept_rate":67,"display_name":"singapore saravanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675954765,"creation_date":1417176085,"question_id":27188225,"body_markdown":" - How do I change weblogic datasource at runtime? \r\n - For example.\r\n   currently it is referring to UAT database Now I want to point to Dev\r\n   database. I know it can be modified in console. I don&#39;t want to use\r\n   that method. it requires too much user interaction. \r\n - Any other easy method. \r\n   Can I modify the datasource in my app config file persistence.xml file to chg form UATdb to DevDb. \r\n - Does it require restarting my weblogic web server? \r\n - How to manage without restarting web server \r\n - Or should I have another web server instance? for UATdb and another for Devdb","title":"weblogic change datasource at runtime","body":"<ul>\n<li>How do I change weblogic datasource at runtime? </li>\n<li>For example.\ncurrently it is referring to UAT database Now I want to point to Dev\ndatabase. I know it can be modified in console. I don't want to use\nthat method. it requires too much user interaction. </li>\n<li>Any other easy method. \nCan I modify the datasource in my app config file persistence.xml file to chg form UATdb to DevDb. </li>\n<li>Does it require restarting my weblogic web server? </li>\n<li>How to manage without restarting web server </li>\n<li>Or should I have another web server instance? for UATdb and another for Devdb</li>\n</ul>\n"},{"tags":["java","httpclient","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":2675259,"reputation":81,"user_id":2311810,"display_name":"spock8190"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423480942,"creation_date":1423480942,"answer_id":28408570,"question_id":28407994,"body_markdown":"I think I got it. I guess it can be done by setting the `setDoAuthentication()` method to false in the `requestConfig` for httpClient.","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>I think I got it. I guess it can be done by setting the <code>setDoAuthentication()</code> method to false in the <code>requestConfig</code> for httpClient.</p>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675954723,"creation_date":1675953826,"answer_id":75400234,"question_id":28407994,"body_markdown":"@spock8190 thanks for your post this gave me the correct hint.\r\nBut the new method name is `setAuthenticationEnabled` (at least for 4.5)\r\n\r\n&gt; Determines whether authentication should be handled automatically.\r\n\r\nExample:\r\n\r\n\t\tHttpGet httpGet = new HttpGet(&quot;test.de&quot;);\r\n\t\tRequestConfig requestConfig = RequestConfig.custom().setAuthenticationEnabled(true).build();\r\n\t\thttpGet.setConfig(requestConfig);\r\n\r\n","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>@spock8190 thanks for your post this gave me the correct hint.\nBut the new method name is <code>setAuthenticationEnabled</code> (at least for 4.5)</p>\n<blockquote>\n<p>Determines whether authentication should be handled automatically.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>    HttpGet httpGet = new HttpGet(&quot;test.de&quot;);\n    RequestConfig requestConfig = RequestConfig.custom().setAuthenticationEnabled(true).build();\n    httpGet.setConfig(requestConfig);\n</code></pre>\n"}],"owner":{"account_id":2675259,"reputation":81,"user_id":2311810,"display_name":"spock8190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28408570,"answer_count":2,"score":2,"last_activity_date":1675954723,"creation_date":1423479012,"question_id":28407994,"body_markdown":"I am migrating my httpclient 3.x to httpclient 4.3.x. \r\n\r\nWith httpClient 3.x I used `setDoAuthentication(false)` which ensured that the method would not try to handle the authentication challenges automatically. How can I set the same functionality with httpClient 4.3.x?\r\n\r\nI already went through the javadocs of httpmethods and httpclient and there is no way to do it. The closest I have been is the use of `disableAuthCaching()` in httpClientBuilder, but not sure whether it would serve the purpose.\r\n\r\nCan anyone please provide some pointers?\r\n\r\nI have read somewhere that there is a parameter through which we can achieve this behavior but I am not able to find it anywhere. Sorry if it looks like a pretty basic question.","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>I am migrating my httpclient 3.x to httpclient 4.3.x. </p>\n\n<p>With httpClient 3.x I used <code>setDoAuthentication(false)</code> which ensured that the method would not try to handle the authentication challenges automatically. How can I set the same functionality with httpClient 4.3.x?</p>\n\n<p>I already went through the javadocs of httpmethods and httpclient and there is no way to do it. The closest I have been is the use of <code>disableAuthCaching()</code> in httpClientBuilder, but not sure whether it would serve the purpose.</p>\n\n<p>Can anyone please provide some pointers?</p>\n\n<p>I have read somewhere that there is a parameter through which we can achieve this behavior but I am not able to find it anywhere. Sorry if it looks like a pretty basic question.</p>\n"},{"tags":["java","json","spring-boot","spring-mvc","spring-rest"],"comments":[{"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"score":0,"creation_date":1675985543,"post_id":75400179,"comment_id":133051285,"body_markdown":"Extra \\ is to escape the &quot; characters to maintain the Json Structure else the JSON itself would become invalid. The client that would be consuming the response will get the expected value once it parses the json. InFact you can try converting the same object into json in the code using any Json conversion framework and printing the json. You&#39;ll get the same output.","body":"Extra \\ is to escape the &quot; characters to maintain the Json Structure else the JSON itself would become invalid. The client that would be consuming the response will get the expected value once it parses the json. InFact you can try converting the same object into json in the code using any Json conversion framework and printing the json. You&#39;ll get the same output."},{"owner":{"account_id":9447542,"reputation":1,"user_id":21180690,"display_name":"SAM"},"score":0,"creation_date":1676000403,"post_id":75400179,"comment_id":133053325,"body_markdown":"@KaushikPatel: this data ui is taking to show in ck editor.is there any way to convert there in ui function?","body":"@KaushikPatel: this data ui is taking to show in ck editor.is there any way to convert there in ui function?"}],"owner":{"account_id":9447542,"reputation":1,"user_id":21180690,"display_name":"SAM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675954266,"creation_date":1675953568,"question_id":75400179,"body_markdown":"I am having spring rest service where I am sending clob data(rich text field).i.e html data as string.\r\nI can see service is returning fine(debug mode) but when it&#39;s coming to browser all double quotes&quot; are getting converted with &quot;\\ \r\nThat&#39;s why image rendering is not happening in rich text field.\r\nPlease help me to resolve this.\r\n\r\n\r\n\r\n\r\n\r\nRest Call:\r\nActual code I am unable to post due to access issue\r\n`@GetMapping(value=&quot;/getRTFData&quot;, produces =&quot;application/json&quot;)\r\npublic RTFData get()\r\n{\r\n}`\r\nRTFData class having field\r\nString contentText;\r\n\r\nActual Service returning :\r\ncontentText = &quot;&lt;some src =&quot;https://sample/viewImage/123&quot; \r\nbut in response in swagger/postman  i can see coming as \r\ncontentText =&quot;&lt;some src=\\\\&quot;https://sample/viewImage/123\\\\&quot;&gt;&quot;\r\n\r\nWhich is extra \\ whenever &quot;(double quote).\r\n\r\nPlease help\r\n","title":"Double code is getting change to \\&quot; in Spring Rest response","body":"<p>I am having spring rest service where I am sending clob data(rich text field).i.e html data as string.\nI can see service is returning fine(debug mode) but when it's coming to browser all double quotes&quot; are getting converted with &quot;\\\nThat's why image rendering is not happening in rich text field.\nPlease help me to resolve this.</p>\n<p>Rest Call:\nActual code I am unable to post due to access issue\n<code>@GetMapping(value=&quot;/getRTFData&quot;, produces =&quot;application/json&quot;) public RTFData get() { }</code>\nRTFData class having field\nString contentText;</p>\n<p>Actual Service returning :\ncontentText = &quot;&lt;some src =&quot;https://sample/viewImage/123&quot;\nbut in response in swagger/postman  i can see coming as\ncontentText =&quot;&lt;some src=\\&quot;https://sample/viewImage/123\\&quot;&gt;&quot;</p>\n<p>Which is extra \\ whenever &quot;(double quote).</p>\n<p>Please help</p>\n"},{"tags":["java","ssl","tls1.2","jsse"],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675954249,"creation_date":1675954249,"answer_id":75400332,"question_id":50160271,"body_markdown":"Years later I can answer my own question: Apparently, when you call `ctx.createSSLEngine()` an instance of vendor-specific `SSLEngine` will be returned, such as `sun.security.ssl.SSLEngineImpl`, which will make more thorough use of passed `SSLParameters` by passing them to `sun.security.ssl.SSLConfiguration#setSSLParameters`.","title":"Support of SSLParameters by SSLSocket, SSLServerSocket, SSLEngine and SSLContext","body":"<p>Years later I can answer my own question: Apparently, when you call <code>ctx.createSSLEngine()</code> an instance of vendor-specific <code>SSLEngine</code> will be returned, such as <code>sun.security.ssl.SSLEngineImpl</code>, which will make more thorough use of passed <code>SSLParameters</code> by passing them to <code>sun.security.ssl.SSLConfiguration#setSSLParameters</code>.</p>\n"}],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75400332,"answer_count":1,"score":8,"last_activity_date":1675954249,"creation_date":1525366534,"question_id":50160271,"body_markdown":"`SSLParameters` support the following properties (as per Spring notation): `cipherSuites`, `protocols`, `wantClientAuth`, `needClientAuth`, `algorithmConstraints`, `endpointIdentificationAlgorithm`, `serverNames`, `SNIMatchers`, `useCipherSuitesOrder`.\r\n\r\nHowever, in the `SSL{Socket, ServerSocket, Engine}.setSSLParameters` it is apparent that only `cipherSuites`, `protocols`, `wantClientAuth`, `needClientAuth` are used. What&#39;s the rest of `SSLParameters` are for?\r\n\r\nAre they just for custom heavyweight implementations such as HTTPS clients, and as such not used at all by JVM? Is the support for these features located elsewhere, if so, where? Is `useCipherSuitesOrder` supported by JVM, where? Is it actually a desired feature?\r\n\r\nAnother question is that `SSLParameters` has `protocols`, but they are applied to e.g. `SSLSocket` already created using `SSLContext`, which already has a single protocol chosen. In which contexts does this make sense? Can you pre-apply `SSLParameters` to `SSLContext`? Can you have widest possible `SSLContext` and then constrain it using `SSLParameters`? E.g. does it make sense to have SSLContext of protocol `&quot;TLS&quot;` and then use SSLParameters of protocols `{&quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;}` to only have a subset of TLS cipher suites? Is &quot;TLS&quot; a superset of all &quot;TLSv1.*x*&quot;?","title":"Support of SSLParameters by SSLSocket, SSLServerSocket, SSLEngine and SSLContext","body":"<p><code>SSLParameters</code> support the following properties (as per Spring notation): <code>cipherSuites</code>, <code>protocols</code>, <code>wantClientAuth</code>, <code>needClientAuth</code>, <code>algorithmConstraints</code>, <code>endpointIdentificationAlgorithm</code>, <code>serverNames</code>, <code>SNIMatchers</code>, <code>useCipherSuitesOrder</code>.</p>\n\n<p>However, in the <code>SSL{Socket, ServerSocket, Engine}.setSSLParameters</code> it is apparent that only <code>cipherSuites</code>, <code>protocols</code>, <code>wantClientAuth</code>, <code>needClientAuth</code> are used. What's the rest of <code>SSLParameters</code> are for?</p>\n\n<p>Are they just for custom heavyweight implementations such as HTTPS clients, and as such not used at all by JVM? Is the support for these features located elsewhere, if so, where? Is <code>useCipherSuitesOrder</code> supported by JVM, where? Is it actually a desired feature?</p>\n\n<p>Another question is that <code>SSLParameters</code> has <code>protocols</code>, but they are applied to e.g. <code>SSLSocket</code> already created using <code>SSLContext</code>, which already has a single protocol chosen. In which contexts does this make sense? Can you pre-apply <code>SSLParameters</code> to <code>SSLContext</code>? Can you have widest possible <code>SSLContext</code> and then constrain it using <code>SSLParameters</code>? E.g. does it make sense to have SSLContext of protocol <code>\"TLS\"</code> and then use SSLParameters of protocols <code>{\"TLSv1.1\", \"TLSv1.2\"}</code> to only have a subset of TLS cipher suites? Is \"TLS\" a superset of all \"TLSv1.<em>x</em>\"?</p>\n"},{"tags":["java","jsp","servlets"],"owner":{"account_id":27113282,"reputation":11,"user_id":20658086,"display_name":"Vlad Phokhnitskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675954186,"answer_count":0,"score":0,"last_activity_date":1675954210,"creation_date":1675953974,"question_id":75400275,"body_markdown":"I have to remake the project now and before I had Java methods which return me JSON value as following:\r\n\r\n        public String getData(int TransID, int ID, Connection conRDS) throws ParseException {\r\n        String Result = &quot;&quot;;\r\n        String SearchStatment=&quot;{?= CALL get_referral_fee(?,?)}&quot;;\r\n        try {\r\n        java.sql.CallableStatement pst = conRDS.prepareCall(SearchStatment);\r\n    \tpst.registerOutParameter(1, Types.OTHER );\t\r\n    \tpst.setInt(2,TransID);\r\n    \tpst.setInt(3,ID);\r\n    \tpst.execute();\r\n    \tSystem.out.println(&quot;invoice returned: &quot;+(String) pst.getObject(1));\r\n    \tResult= (String) pst.getObject(1);\r\n    \tpst.close(); \r\n    }catch (SQLException e) { /* ignored */ return &quot;Empty&quot;;\t}\r\n    \t    \r\n    return Result ;\t\r\n\r\nand in JSP page I could get it like this:\r\n\r\n`&lt;%@ page import=&quot;RDS.RDSFunctions&quot;  %\\&gt;      &lt;% RDSFunctions myRDS= new RDSFunctions();      String InvData = myRDS.GetTRSReferralData(brokerid,dealid,con);           JSONObject object = (JSONObject) parser.parse(InvData);           String partyType = (String) object.get(&quot;Party&quot;); //This is the value I need %\\&gt;`\r\n\r\nNow I have method doPost in the servlet and I cannot call the function directly.\r\ndoPost in servlet:\r\n\r\n       @WebServlet(name = &quot;SecondSampleCore2&quot;, urlPatterns = { &quot;/SecondSampleCore2&quot; })\r\n       ...\r\n       public void doPost(HttpServletRequest request, HttpServletResponse response) throws                             ServletException, IOException {\r\n              var uri = URI.create(&quot;https://api...&quot;);\r\n              var client = HttpClient.newHttpClient();\r\n              var reqq = HttpRequest\r\n              .newBuilder()\r\n              .uri(uri)\r\n              .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n              .POST(BodyPublishers.ofString(jsonObject.toJSONString()))\r\n              .build();\r\n    \r\n        PrintWriter out = response.getWriter();\r\n        HttpResponse&lt;String&gt; resp = client.send(reqq, HttpResponse.BodyHandlers.ofString());\t\r\n        JSONObject dealInfo = (JSONObject) json.get(&quot;yourRequest&quot;);\r\n    response.setContentType(&quot;application/json&quot;);\r\n    out.print(dealInfo); //The value which returns from API\r\n        out.flush(); \r\n\r\n\\`\r\n\r\nI need to get this value **dealInfo** in my JSP page before it loaded so I can insert the values inline with tag \\&lt;%= value %\\&gt;\r\n\r\nI tried to use `RequestDispatcher dispatcher = getServletContext().getNamedDispatcher(&quot;/SecondSampleCore2&quot;);` but there is no value to return","title":"How to get the response from servlet method doPost on load of JSP page (Similarly how we cal call the method which returns JSON)","body":"<p>I have to remake the project now and before I had Java methods which return me JSON value as following:</p>\n<pre><code>    public String getData(int TransID, int ID, Connection conRDS) throws ParseException {\n    String Result = &quot;&quot;;\n    String SearchStatment=&quot;{?= CALL get_referral_fee(?,?)}&quot;;\n    try {\n    java.sql.CallableStatement pst = conRDS.prepareCall(SearchStatment);\n    pst.registerOutParameter(1, Types.OTHER );  \n    pst.setInt(2,TransID);\n    pst.setInt(3,ID);\n    pst.execute();\n    System.out.println(&quot;invoice returned: &quot;+(String) pst.getObject(1));\n    Result= (String) pst.getObject(1);\n    pst.close(); \n}catch (SQLException e) { /* ignored */ return &quot;Empty&quot;; }\n        \nreturn Result ; \n</code></pre>\n<p>and in JSP page I could get it like this:</p>\n<p><code>&lt;%@ page import=&quot;RDS.RDSFunctions&quot;  %\\&gt;      &lt;% RDSFunctions myRDS= new RDSFunctions();      String InvData = myRDS.GetTRSReferralData(brokerid,dealid,con);           JSONObject object = (JSONObject) parser.parse(InvData);           String partyType = (String) object.get(&quot;Party&quot;); //This is the value I need %\\&gt;</code></p>\n<p>Now I have method doPost in the servlet and I cannot call the function directly.\ndoPost in servlet:</p>\n<pre><code>   @WebServlet(name = &quot;SecondSampleCore2&quot;, urlPatterns = { &quot;/SecondSampleCore2&quot; })\n   ...\n   public void doPost(HttpServletRequest request, HttpServletResponse response) throws                             ServletException, IOException {\n          var uri = URI.create(&quot;https://api...&quot;);\n          var client = HttpClient.newHttpClient();\n          var reqq = HttpRequest\n          .newBuilder()\n          .uri(uri)\n          .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .POST(BodyPublishers.ofString(jsonObject.toJSONString()))\n          .build();\n\n    PrintWriter out = response.getWriter();\n    HttpResponse&lt;String&gt; resp = client.send(reqq, HttpResponse.BodyHandlers.ofString());    \n    JSONObject dealInfo = (JSONObject) json.get(&quot;yourRequest&quot;);\nresponse.setContentType(&quot;application/json&quot;);\nout.print(dealInfo); //The value which returns from API\n    out.flush(); \n</code></pre>\n<p>`</p>\n<p>I need to get this value <strong>dealInfo</strong> in my JSP page before it loaded so I can insert the values inline with tag &lt;%= value %&gt;</p>\n<p>I tried to use <code>RequestDispatcher dispatcher = getServletContext().getNamedDispatcher(&quot;/SecondSampleCore2&quot;);</code> but there is no value to return</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675953869,"post_id":75399251,"comment_id":133042001,"body_markdown":"read the chapter on &quot;oauth2 resource server&quot; in the spring security documentation https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html. There it will tell you how to enable the handling of JWTs and then how to extracct authorities manually from the JWT and map these to specific roles https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction","body":"read the chapter on &quot;oauth2 resource server&quot; in the spring security documentation <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>. There it will tell you how to enable the handling of JWTs and then how to extracct authorities manually from the JWT and map these to specific roles <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1675955803,"post_id":75400319,"comment_id":133042712,"body_markdown":"It actually (almost) solves his problem: `anyRequest().authenticated()`  in conf ensures that authentication was performed and roles should be mapped from the access-token by an authentication converter. Only `@EnableMethodSecurity` is missing in this answer to perform the authorization with annotations ont components methods. Also, I think my tutorials cover more use cases (including advanced access-control) and simpler solutions: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","body":"It actually (almost) solves his problem: <code>anyRequest().authenticated()</code>  in conf ensures that authentication was performed and roles should be mapped from the access-token by an authentication converter. Only <code>@EnableMethodSecurity</code> is missing in this answer to perform the authorization with annotations ont components methods. Also, I think my tutorials cover more use cases (including advanced access-control) and simpler solutions: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">github.com/ch4mpy/spring-addons/tree/master/samples/tutorial&zwnj;&#8203;s</a>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675985084,"post_id":75400319,"comment_id":133051230,"body_markdown":"and i never claimed it will solve the question, which you seem to think.","body":"and i never claimed it will solve the question, which you seem to think."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":3,"creation_date":1675985552,"post_id":75400319,"comment_id":133051289,"body_markdown":"I think you claimed “will not solve your problem&quot;, and I think it almost does, but this are just opinions. I will not have more discussions with you and will carefully avoid your answers and comments from now on. Have a good day too.","body":"I think you claimed “will not solve your problem&quot;, and I think it almost does, but this are just opinions. I will not have more discussions with you and will carefully avoid your answers and comments from now on. Have a good day too."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675954176,"creation_date":1675954176,"answer_id":75400319,"question_id":75399251,"body_markdown":"read the chapter on &quot;oauth2 resource server&quot; in the spring security documentation \r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html. \r\n\r\nThere it will tell you how to enable the handling of JWTs and then how to extract authorities manually from the JWT and map these to specific roles \r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\r\n\r\nEnabling the handling of JWTs in spring security\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeHttpRequests(authorize -&gt; authorize\r\n            .anyRequest().authenticated()\r\n        )\r\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    return http.build();\r\n}\r\n```\r\n\r\nExtracting authorities from the jwt and mapping these to roles\r\n\r\n```\r\n@Bean\r\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n\r\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\r\n    return jwtAuthenticationConverter;\r\n}\r\n```\r\n\r\nThese are just examples, they will not solve your problem, but if you read the docs, you will probably figure it out.\r\n\r\nHere is a link to a github project with a full implementation and a blog post\r\n\r\nhttps://github.com/Tandolf/spring-security-jwt-demo","title":"Spring boot JWT Role authorization without Authentication","body":"<p>read the chapter on &quot;oauth2 resource server&quot; in the spring security documentation</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html</a>.</p>\n<p>There it will tell you how to enable the handling of JWTs and then how to extract authorities manually from the JWT and map these to specific roles</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction</a></p>\n<p>Enabling the handling of JWTs in spring security</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(authorize -&gt; authorize\n            .anyRequest().authenticated()\n        )\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    return http.build();\n}\n</code></pre>\n<p>Extracting authorities from the jwt and mapping these to roles</p>\n<pre><code>@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n    JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n\n    JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n</code></pre>\n<p>These are just examples, they will not solve your problem, but if you read the docs, you will probably figure it out.</p>\n<p>Here is a link to a github project with a full implementation and a blog post</p>\n<p><a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">https://github.com/Tandolf/spring-security-jwt-demo</a></p>\n"}],"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675954176,"creation_date":1675949093,"question_id":75399251,"body_markdown":"With my limited knowledge in spring security , I am trying to implement role-based authorisation to the REST endpoints of my spring boot application.My application authentication is done by an external system. I  need to implement authorisation only in my context.I have multiple REST endpoints. These endpoints access need to be restricted according to the role that is coming in the jwt token.I need to know is there any way I can skip the authentication somehow in spring security. I prefer implementing this using annotation \r\n\r\n`@PreAuthorize(&quot;hasAnyRole(&#39;USER&#39;, &#39;ADMIN&#39;)&quot;)` . \r\n\r\nI have written a filter to extract the role details(Profile class contains the role info)\r\n\r\n    Optional.ofNullable(claims.get(USER_PROFILE).as(Profile.class));\r\n\r\nBut I&#39;m not sure how to skip authentication and only implement authorisation. Can anyone provide me with a sample code or web links where I can refer for the solution?","title":"Spring boot JWT Role authorization without Authentication","body":"<p>With my limited knowledge in spring security , I am trying to implement role-based authorisation to the REST endpoints of my spring boot application.My application authentication is done by an external system. I  need to implement authorisation only in my context.I have multiple REST endpoints. These endpoints access need to be restricted according to the role that is coming in the jwt token.I need to know is there any way I can skip the authentication somehow in spring security. I prefer implementing this using annotation</p>\n<p><code>@PreAuthorize(&quot;hasAnyRole('USER', 'ADMIN')&quot;)</code> .</p>\n<p>I have written a filter to extract the role details(Profile class contains the role info)</p>\n<pre><code>Optional.ofNullable(claims.get(USER_PROFILE).as(Profile.class));\n</code></pre>\n<p>But I'm not sure how to skip authentication and only implement authorisation. Can anyone provide me with a sample code or web links where I can refer for the solution?</p>\n"},{"tags":["java","firebase","google-cloud-firestore"],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675953937,"creation_date":1675953937,"question_id":75400261,"body_markdown":"So I am getting two errors for my project I am creating the first one is \r\n*&#39;Cannot resolve method &#39;replace(int,UserListFragment,String)&#39;*\r\nand \r\n*&#39;findFragmentByTag(java.lang.String)&#39; in &#39;androidx.fragment.app.FragmentManager&#39; cannot be applied to &#39;(int)&#39;*\r\n\r\nI&#39;m not fully understanding why I am getting these two errors could someone tell me how to fix it and help me understand this error more please.\r\n\r\nHere is my Java code:\r\n```\r\n    private void clearMessage(){\r\n        mMessage.setText(&quot;&quot;);\r\n    }\r\n\r\n    private void inflateUserListFragment(){\r\n        hideSoftKeyboard();\r\n\r\n        UserListFragment fragment = UserListFragment.newInstance();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putParcelableArrayList(getString(R.string.intent_user_list), mUserList);\r\n        fragment.setArguments(bundle);\r\n\r\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n        transaction.setCustomAnimations(R.anim.slide_in_up, R.anim.slide_out_up);\r\n//      This is where my first error is\r\n        transaction.replace(R.id.user_list_container, fragment, getString(R.string.fragment_user_list));\r\n        \r\n        transaction.addToBackStack(getString(R.string.fragment_user_list));\r\n        transaction.commit();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch(item.getItemId()){\r\n            case android.R.id.home:{\r\n                UserListFragment fragment =\r\n//                      This is where my second error is \r\n                        (UserListFragment) getSupportFragmentManager().findFragmentByTag(R.string.fragment_user_list);\r\n//                        (UserListFragment) getSupportFragmentManager().findFragmentByTag(getString(R.string.fragment_user_list));\r\n                if(fragment != null){\r\n                    if(fragment.isVisible()){\r\n                        getSupportFragmentManager().popBackStack();\r\n                        return true;\r\n                    }\r\n                }\r\n                finish();\r\n                return true;\r\n            }\r\n            case R.id.action_chatroom_user_list:{\r\n                inflateUserListFragment();\r\n                return true;\r\n            }\r\n            case R.id.action_chatroom_leave:{\r\n                leaveChatroom();\r\n                return true;\r\n            }\r\n            default:{\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n\r\n    }","title":"Cannot resolve method &#39;replace(int,UserListFragment,String)&#39; &amp; another error","body":"<p>So I am getting two errors for my project I am creating the first one is\n<em>'Cannot resolve method 'replace(int,UserListFragment,String)'</em>\nand\n<em>'findFragmentByTag(java.lang.String)' in 'androidx.fragment.app.FragmentManager' cannot be applied to '(int)'</em></p>\n<p>I'm not fully understanding why I am getting these two errors could someone tell me how to fix it and help me understand this error more please.</p>\n<p>Here is my Java code:</p>\n<pre><code>    private void clearMessage(){\n        mMessage.setText(&quot;&quot;);\n    }\n\n    private void inflateUserListFragment(){\n        hideSoftKeyboard();\n\n        UserListFragment fragment = UserListFragment.newInstance();\n        Bundle bundle = new Bundle();\n        bundle.putParcelableArrayList(getString(R.string.intent_user_list), mUserList);\n        fragment.setArguments(bundle);\n\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.setCustomAnimations(R.anim.slide_in_up, R.anim.slide_out_up);\n//      This is where my first error is\n        transaction.replace(R.id.user_list_container, fragment, getString(R.string.fragment_user_list));\n        \n        transaction.addToBackStack(getString(R.string.fragment_user_list));\n        transaction.commit();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch(item.getItemId()){\n            case android.R.id.home:{\n                UserListFragment fragment =\n//                      This is where my second error is \n                        (UserListFragment) getSupportFragmentManager().findFragmentByTag(R.string.fragment_user_list);\n//                        (UserListFragment) getSupportFragmentManager().findFragmentByTag(getString(R.string.fragment_user_list));\n                if(fragment != null){\n                    if(fragment.isVisible()){\n                        getSupportFragmentManager().popBackStack();\n                        return true;\n                    }\n                }\n                finish();\n                return true;\n            }\n            case R.id.action_chatroom_user_list:{\n                inflateUserListFragment();\n                return true;\n            }\n            case R.id.action_chatroom_leave:{\n                leaveChatroom();\n                return true;\n            }\n            default:{\n                return super.onOptionsItemSelected(item);\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","mysql","json","spring"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1675954854,"post_id":75400244,"comment_id":133042376,"body_markdown":"You have to create the parent before the child. Otherwise if the parent exists, you need to get its ID so that the child save will work, you cannot make it blank, otherwise that would be a parentless child","body":"You have to create the parent before the child. Otherwise if the parent exists, you need to get its ID so that the child save will work, you cannot make it blank, otherwise that would be a parentless child"},{"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"score":0,"creation_date":1677090175,"post_id":75400244,"comment_id":133270652,"body_markdown":"I was saving the employee wrong. I used save(servidor) and it worked just fine.","body":"I was saving the employee wrong. I used save(servidor) and it worked just fine."}],"owner":{"account_id":1697447,"reputation":33,"user_id":1558523,"display_name":"Gustavo Rodrigues"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675953870,"creation_date":1675953870,"question_id":75400244,"body_markdown":"I&#39;m new to Spring Boot and I would like to perform an insert operation but I&#39;m not sure if I&#39;m doing it correctly. I&#39;ve been following some guides, so please guide me in the right direction. \r\n\r\nI&#39;m using Mysql, and I have a &quot;function&quot; table with a foreign key mapped to the &quot;servidor&quot; table.\r\n\r\nI would like to insert a new employee but I&#39;m having problems with the foreign key (which refers to the function the employee has on the company). As far as I can understand, it&#39;s missing the foreign key so it complains about the column having no default value. \r\n\r\nThere&#39;s a one to many relationship between servidor and funcao.\r\n\r\n```\r\npackage com.camaratapira.syspharma.controller;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.camaratapira.syspharma.entity.Farmacia;\r\nimport com.camaratapira.syspharma.entity.Funcao;\r\nimport com.camaratapira.syspharma.entity.Servidor;\r\nimport com.camaratapira.syspharma.repositories.FuncaoRepository;\r\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\r\n\r\nimport jakarta.persistence.EntityManager;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class ServidorController {\r\n\t\r\n\t@Autowired\r\n\tServidorRepository servidorRepository;\r\n\t@Autowired\r\n\tFuncaoRepository funcaoRepository;\r\n\tEntityManager em;\r\n\t\r\n\t\r\n\t// lista todos os servidores\r\n\t@GetMapping(&quot;/servidor&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Servidor&gt;&gt; getAllServidors(@RequestParam(required=false)String nomeservidor){\r\n\t\tList&lt;Servidor&gt; servidor = new ArrayList&lt;Servidor&gt;();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tif(nomeservidor == null)\r\n\t\t\t\tservidorRepository.findAll().forEach(servidor::add);\r\n\t\t\telse\r\n\t\t\t\tservidorRepository.findBynomeservidor(nomeservidor).forEach(servidor::add);\r\n\t\t\tif(servidor.isEmpty()) {\r\n\t\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n\t\t\t}\r\n\t\t\treturn new ResponseEntity&lt;&gt;(servidor, HttpStatus.OK);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n\t\r\n\t@PostMapping(&quot;/inserirservidor&quot;)\r\n\tpublic ResponseEntity&lt;Servidor&gt; createServidor(@RequestBody Servidor servidor){\r\n\t\ttry {\r\n\t\t\tServidor _servidor = servidorRepository.save(new Servidor(servidor.getNomeservidor(), servidor.getCpf(), servidor.getRg(), servidor.getSalario(), servidor.isAtivo()));\r\n\t\t\treturn new ResponseEntity&lt;&gt;(_servidor, HttpStatus.CREATED);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@PutMapping(&quot;/atualizarservidor/{idservidor}&quot;)\r\n\tpublic ResponseEntity&lt;Servidor&gt; updateServidor(@PathVariable(&quot;idservidor&quot;) int idservidor, @RequestBody Servidor servidor){\r\n\t\tOptional&lt;Servidor&gt; servidorData = servidorRepository.findById(idservidor);\r\n\t\tif(servidorData.isPresent()){\r\n\t\t\tServidor _servidor = servidorData.get();\r\n\t\t\t_servidor.setNomeservidor(servidor.getNomeservidor());\r\n\t\t\t_servidor.setCpf(servidor.getCpf());\r\n\t\t\t_servidor.setRg(servidor.getRg());\r\n\t\t\t_servidor.setSalario(servidor.getSalario());\r\n\t\t\t_servidor.setAtivo(servidor.isAtivo());\r\n\t\t\treturn new ResponseEntity&lt;&gt;(servidorRepository.save(_servidor), HttpStatus.OK);\t\t\t\r\n\t\t} else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;/deletarservidor/{idservidor}&quot;) /* &#233; preciso adicionar a anota&#231;&#227;o @RequestBody para que ele possa achar o idservidor */\r\n\tpublic ResponseEntity&lt;HttpStatus&gt; deleteservidor(@PathVariable(&quot;idservidor&quot;) int idservidor, @RequestBody Servidor servidor){\r\n\t\ttry {\r\n\t\t\tservidorRepository.deleteById(idservidor);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t} \r\n\t\r\n}\r\n\r\n```\r\n\r\nEntity servidor\r\n\r\n\r\n```\r\npackage com.camaratapira.syspharma.entity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;servidor&quot;)\r\npublic class Servidor {\r\n\t\r\n\tpublic Servidor(){}\r\n\t\r\n\tpublic Servidor(String nomeservidor, String cpf, String rg, double salario, boolean ativo) {\r\n\t\tsuper();\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t\tthis.cpf = cpf;\r\n\t\tthis.rg = rg;\r\n\t\tthis.salario = salario;\r\n\t\tthis.ativo = ativo;\r\n\t}\r\n\t\r\n\t\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;idfuncao&quot;)\r\n\tprivate Funcao funcao; // necess&#225;rio fazer os m&#233;todos getters e setters dessas fun&#231;&#245;es para poderem retornar as \r\n\t// chaves estrangeiras quando voc&#234; fizer uma requisi&#231;&#227;o GET, caso contr&#225;rio, o sistema n&#227;o vai saber onde procurar.\r\n\t\t\r\n\tpublic Funcao getFuncao() {\r\n\t\treturn funcao;\r\n\t}\r\n\r\n\tpublic void setFuncao(Funcao funcao) {\r\n\t\tthis.funcao = funcao;\r\n\t}\r\n\r\n\tpublic int getIdservidor() {\r\n\t\treturn idservidor;\r\n\t}\r\n\tpublic void setIdservidor(int idservidor) {\r\n\t\tthis.idservidor = idservidor;\r\n\t}\r\n\tpublic String getNomeservidor() {\r\n\t\treturn nomeservidor;\r\n\t}\r\n\tpublic void setNomeservidor(String nomeservidor) {\r\n\t\tthis.nomeservidor = nomeservidor;\r\n\t}\r\n\tpublic String getCpf() {\r\n\t\treturn cpf;\r\n\t}\r\n\tpublic void setCpf(String cpf) {\r\n\t\tthis.cpf = cpf;\r\n\t}\r\n\tpublic String getRg() {\r\n\t\treturn rg;\r\n\t}\r\n\tpublic void setRg(String rg) {\r\n\t\tthis.rg = rg;\r\n\t}\r\n\tpublic double getSalario() {\r\n\t\treturn salario;\r\n\t}\r\n\tpublic void setSalario(double salario) {\r\n\t\tthis.salario = salario;\r\n\t}\r\n\tpublic boolean isAtivo() {\r\n\t\treturn ativo;\r\n\t}\r\n\tpublic void setAtivo(boolean ativo) {\r\n\t\tthis.ativo = ativo;\r\n\t}\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;idservidor&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY) // outras estrat&#233;gias precisam de tabelas espec&#237;ficas no Banco de dados\r\n\tprivate int idservidor;\r\n\t\r\n\t@Column(name = &quot;nomeservidor&quot;)\r\n\tprivate String nomeservidor;\r\n\t\r\n\t@Column(name = &quot;cpf&quot;)\r\n\tprivate String cpf;\r\n\t\r\n\t@Column(name = &quot;rg&quot;)\r\n\tprivate String rg;\r\n\t\r\n\t@Column(name = &quot;salario&quot;)\r\n\tprivate double salario;\r\n\t\r\n\t@Column(name = &quot;ativo&quot;)\r\n\tprivate boolean ativo;\r\n\t\r\n\r\n\t\r\n}\r\n\r\n```\r\nEntity Function\r\n\r\n\r\n```\r\npackage com.camaratapira.syspharma.entity;\r\n\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;funcao&quot;)\r\npublic class Funcao {\r\n\t\r\n\tpublic Funcao() {}\r\n\t\r\n\tpublic Funcao(int idfuncao, String nomefuncao, int nivelvencimento) {\r\n\t\tthis.idfuncao = idfuncao;\r\n\t\tthis.nomefuncao = nomefuncao;\r\n\t\tthis.nivelvencimento = nivelvencimento;\r\n\t}\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int idfuncao;\r\n\t\r\n\t@Column(name = &quot;nomefuncao&quot;)\r\n\tprivate String nomefuncao;\r\n\t@Column(name = &quot;nivelvencimento&quot;)\r\n\tprivate int nivelvencimento;\r\n\t\t\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;idcargo&quot;)\r\n\tprivate Cargo idcargo;\r\n\r\n\tpublic Cargo getIdcargo() {\r\n\t\treturn idcargo;\r\n\t}\r\n\r\n\tpublic void setIdcargo(Cargo idcargo) {\r\n\t\tthis.idcargo = idcargo;\r\n\t}\r\n\r\n\tpublic int getIdfuncao() {\r\n\t\treturn idfuncao;\r\n\t}\r\n\tpublic void setIdfuncao(int idfuncao) {\r\n\t\tthis.idfuncao = idfuncao;\r\n\t}\r\n\tpublic String getNomefuncao() {\r\n\t\treturn nomefuncao;\r\n\t}\r\n\tpublic void setNomefuncao(String nomefuncao) {\r\n\t\tthis.nomefuncao = nomefuncao;\r\n\t}\r\n\tpublic int getNivelvencimento() {\r\n\t\treturn nivelvencimento;\r\n\t}\r\n\tpublic void setNivelvencimento(int nivelvencimento) {\r\n\t\tthis.nivelvencimento = nivelvencimento;\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n\r\n```\r\n\r\nWhen I do the post request, it complains that the column idfuncao cannot be null. How can I solve this? Thanks.\r\n\r\n\r\nI tried wrapping the post request with the URL but that&#39;s not working, and I&#39;m not sure how to write the post request on the controller in a way that includes the foreign key for funcao (idfuncao)","title":"Spring boot how to save when there&#39;s a foreign key on the entity?","body":"<p>I'm new to Spring Boot and I would like to perform an insert operation but I'm not sure if I'm doing it correctly. I've been following some guides, so please guide me in the right direction.</p>\n<p>I'm using Mysql, and I have a &quot;function&quot; table with a foreign key mapped to the &quot;servidor&quot; table.</p>\n<p>I would like to insert a new employee but I'm having problems with the foreign key (which refers to the function the employee has on the company). As far as I can understand, it's missing the foreign key so it complains about the column having no default value.</p>\n<p>There's a one to many relationship between servidor and funcao.</p>\n<pre><code>package com.camaratapira.syspharma.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.camaratapira.syspharma.entity.Farmacia;\nimport com.camaratapira.syspharma.entity.Funcao;\nimport com.camaratapira.syspharma.entity.Servidor;\nimport com.camaratapira.syspharma.repositories.FuncaoRepository;\nimport com.camaratapira.syspharma.repositories.ServidorRepository;\n\nimport jakarta.persistence.EntityManager;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ServidorController {\n    \n    @Autowired\n    ServidorRepository servidorRepository;\n    @Autowired\n    FuncaoRepository funcaoRepository;\n    EntityManager em;\n    \n    \n    // lista todos os servidores\n    @GetMapping(&quot;/servidor&quot;)\n    public ResponseEntity&lt;List&lt;Servidor&gt;&gt; getAllServidors(@RequestParam(required=false)String nomeservidor){\n        List&lt;Servidor&gt; servidor = new ArrayList&lt;Servidor&gt;();\n        \n        try {\n            if(nomeservidor == null)\n                servidorRepository.findAll().forEach(servidor::add);\n            else\n                servidorRepository.findBynomeservidor(nomeservidor).forEach(servidor::add);\n            if(servidor.isEmpty()) {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }\n            return new ResponseEntity&lt;&gt;(servidor, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n            \n        }\n        \n    }   \n    \n    @PostMapping(&quot;/inserirservidor&quot;)\n    public ResponseEntity&lt;Servidor&gt; createServidor(@RequestBody Servidor servidor){\n        try {\n            Servidor _servidor = servidorRepository.save(new Servidor(servidor.getNomeservidor(), servidor.getCpf(), servidor.getRg(), servidor.getSalario(), servidor.isAtivo()));\n            return new ResponseEntity&lt;&gt;(_servidor, HttpStatus.CREATED);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n    \n    @PutMapping(&quot;/atualizarservidor/{idservidor}&quot;)\n    public ResponseEntity&lt;Servidor&gt; updateServidor(@PathVariable(&quot;idservidor&quot;) int idservidor, @RequestBody Servidor servidor){\n        Optional&lt;Servidor&gt; servidorData = servidorRepository.findById(idservidor);\n        if(servidorData.isPresent()){\n            Servidor _servidor = servidorData.get();\n            _servidor.setNomeservidor(servidor.getNomeservidor());\n            _servidor.setCpf(servidor.getCpf());\n            _servidor.setRg(servidor.getRg());\n            _servidor.setSalario(servidor.getSalario());\n            _servidor.setAtivo(servidor.isAtivo());\n            return new ResponseEntity&lt;&gt;(servidorRepository.save(_servidor), HttpStatus.OK);         \n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n                \n    }\n    \n    @DeleteMapping(&quot;/deletarservidor/{idservidor}&quot;) /* é preciso adicionar a anotação @RequestBody para que ele possa achar o idservidor */\n    public ResponseEntity&lt;HttpStatus&gt; deleteservidor(@PathVariable(&quot;idservidor&quot;) int idservidor, @RequestBody Servidor servidor){\n        try {\n            servidorRepository.deleteById(idservidor);\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    } \n    \n}\n\n</code></pre>\n<p>Entity servidor</p>\n<pre><code>package com.camaratapira.syspharma.entity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;servidor&quot;)\npublic class Servidor {\n    \n    public Servidor(){}\n    \n    public Servidor(String nomeservidor, String cpf, String rg, double salario, boolean ativo) {\n        super();\n        this.nomeservidor = nomeservidor;\n        this.cpf = cpf;\n        this.rg = rg;\n        this.salario = salario;\n        this.ativo = ativo;\n    }\n    \n    \n    @ManyToOne()\n    @JoinColumn(name = &quot;idfuncao&quot;)\n    private Funcao funcao; // necessário fazer os métodos getters e setters dessas funções para poderem retornar as \n    // chaves estrangeiras quando você fizer uma requisição GET, caso contrário, o sistema não vai saber onde procurar.\n        \n    public Funcao getFuncao() {\n        return funcao;\n    }\n\n    public void setFuncao(Funcao funcao) {\n        this.funcao = funcao;\n    }\n\n    public int getIdservidor() {\n        return idservidor;\n    }\n    public void setIdservidor(int idservidor) {\n        this.idservidor = idservidor;\n    }\n    public String getNomeservidor() {\n        return nomeservidor;\n    }\n    public void setNomeservidor(String nomeservidor) {\n        this.nomeservidor = nomeservidor;\n    }\n    public String getCpf() {\n        return cpf;\n    }\n    public void setCpf(String cpf) {\n        this.cpf = cpf;\n    }\n    public String getRg() {\n        return rg;\n    }\n    public void setRg(String rg) {\n        this.rg = rg;\n    }\n    public double getSalario() {\n        return salario;\n    }\n    public void setSalario(double salario) {\n        this.salario = salario;\n    }\n    public boolean isAtivo() {\n        return ativo;\n    }\n    public void setAtivo(boolean ativo) {\n        this.ativo = ativo;\n    }\n    \n    @Id\n    @Column(name = &quot;idservidor&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // outras estratégias precisam de tabelas específicas no Banco de dados\n    private int idservidor;\n    \n    @Column(name = &quot;nomeservidor&quot;)\n    private String nomeservidor;\n    \n    @Column(name = &quot;cpf&quot;)\n    private String cpf;\n    \n    @Column(name = &quot;rg&quot;)\n    private String rg;\n    \n    @Column(name = &quot;salario&quot;)\n    private double salario;\n    \n    @Column(name = &quot;ativo&quot;)\n    private boolean ativo;\n    \n\n    \n}\n\n</code></pre>\n<p>Entity Function</p>\n<pre><code>package com.camaratapira.syspharma.entity;\n\nimport java.util.List;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;funcao&quot;)\npublic class Funcao {\n    \n    public Funcao() {}\n    \n    public Funcao(int idfuncao, String nomefuncao, int nivelvencimento) {\n        this.idfuncao = idfuncao;\n        this.nomefuncao = nomefuncao;\n        this.nivelvencimento = nivelvencimento;\n    }\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int idfuncao;\n    \n    @Column(name = &quot;nomefuncao&quot;)\n    private String nomefuncao;\n    @Column(name = &quot;nivelvencimento&quot;)\n    private int nivelvencimento;\n        \n    @ManyToOne()\n    @JoinColumn(name = &quot;idcargo&quot;)\n    private Cargo idcargo;\n\n    public Cargo getIdcargo() {\n        return idcargo;\n    }\n\n    public void setIdcargo(Cargo idcargo) {\n        this.idcargo = idcargo;\n    }\n\n    public int getIdfuncao() {\n        return idfuncao;\n    }\n    public void setIdfuncao(int idfuncao) {\n        this.idfuncao = idfuncao;\n    }\n    public String getNomefuncao() {\n        return nomefuncao;\n    }\n    public void setNomefuncao(String nomefuncao) {\n        this.nomefuncao = nomefuncao;\n    }\n    public int getNivelvencimento() {\n        return nivelvencimento;\n    }\n    public void setNivelvencimento(int nivelvencimento) {\n        this.nivelvencimento = nivelvencimento;\n    }\n\n    \n}\n\n\n</code></pre>\n<p>When I do the post request, it complains that the column idfuncao cannot be null. How can I solve this? Thanks.</p>\n<p>I tried wrapping the post request with the URL but that's not working, and I'm not sure how to write the post request on the controller in a way that includes the foreign key for funcao (idfuncao)</p>\n"},{"tags":["java","android"],"owner":{"account_id":27689576,"reputation":1,"user_id":21136559,"display_name":"Geoffrey Kose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675953586,"answer_count":0,"score":0,"last_activity_date":1675952911,"creation_date":1675952911,"question_id":75400059,"body_markdown":"does anyone know why I encounter an error when I try to finally build my signed apk. it gives me 4 errors;\r\n1.Cannot fit requested classes in a single dex file (# methods: 77345 &gt; 65536)\r\n2.com.android.tools.r8.CompilationFailedException: Compilation failed to complete, position: null\r\n3.com.android.tools.r8.utils.b: Cannot fit requested classes in a single dex file (# methods: 77345 &gt; 65536)\r\n4.com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \r\n\r\nI have no  idea about any of these errors as I have encountered them before and don`t know their meaning.\r\n\r\nIf anyone can help me finalize my project, it would really mean alot.&lt;3 \r\n\r\n\r\n\r\n\r\n","title":"I have tried to generate a signed version of my app and I got those errors. What could be the problem in my code?","body":"<p>does anyone know why I encounter an error when I try to finally build my signed apk. it gives me 4 errors;\n1.Cannot fit requested classes in a single dex file (# methods: 77345 &gt; 65536)\n2.com.android.tools.r8.CompilationFailedException: Compilation failed to complete, position: null\n3.com.android.tools.r8.utils.b: Cannot fit requested classes in a single dex file (# methods: 77345 &gt; 65536)\n4.com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:</p>\n<p>I have no  idea about any of these errors as I have encountered them before and don`t know their meaning.</p>\n<p>If anyone can help me finalize my project, it would really mean alot.&lt;3</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":6105707,"reputation":771,"user_id":4763487,"display_name":"Drako"},"score":2,"creation_date":1497258770,"post_id":44495570,"comment_id":75984386,"body_markdown":"why do you need regex for that?","body":"why do you need regex for that?"},{"owner":{"account_id":6105707,"reputation":771,"user_id":4763487,"display_name":"Drako"},"score":0,"creation_date":1497259763,"post_id":44495570,"comment_id":75985011,"body_markdown":"I never liked java, but after reading all the answers and comments - I know - I&#39;m never switching to Java. In python this problem is about 2-5 lines of code without regex and specific libraries ... still cannot believe you can&#39;t count characters in string in java ... actually here is SO answer for that: https://stackoverflow.com/questions/275944/java-how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string , now only compare those counts for each char in string ... it&#39;s actually 1-liner as expected","body":"I never liked java, but after reading all the answers and comments - I know - I&#39;m never switching to Java. In python this problem is about 2-5 lines of code without regex and specific libraries ... still cannot believe you can&#39;t count characters in string in java ... actually here is SO answer for that: <a href=\"https://stackoverflow.com/questions/275944/java-how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string\" title=\"java how do i count the number of occurrences of a char in a string\">stackoverflow.com/questions/275944/&hellip;</a> , now only compare those counts for each char in string ... it&#39;s actually 1-liner as expected"},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497260034,"post_id":44495570,"comment_id":75985161,"body_markdown":"@Drako Keep in mind the OP asked for a solution based on RegExps (I actually suspect that to be an exam trick question). Regarding Java, it has undergone a few developments recently, and then there are Groovy and Kotlin, which definitely steal Java the show by adding all the syntactic sugar which Python is offering since ages.","body":"@Drako Keep in mind the OP asked for a solution based on RegExps (I actually suspect that to be an exam trick question). Regarding Java, it has undergone a few developments recently, and then there are Groovy and Kotlin, which definitely steal Java the show by adding all the syntactic sugar which Python is offering since ages."},{"owner":{"account_id":6105707,"reputation":771,"user_id":4763487,"display_name":"Drako"},"score":0,"creation_date":1497260475,"post_id":44495570,"comment_id":75985459,"body_markdown":"@classstacker You might be right about this being assignment, because I get here for regex tag and find out that no regex is needed even if it would be possible to write it, in python not using lambdas that would shorten it even more, working example have 3-4 lines :) I believe with just few lines more can do the same in Java :) so really must be school question for regex torturing :)","body":"@classstacker You might be right about this being assignment, because I get here for regex tag and find out that no regex is needed even if it would be possible to write it, in python not using lambdas that would shorten it even more, working example have 3-4 lines :) I believe with just few lines more can do the same in Java :) so really must be school question for regex torturing :)"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497260967,"post_id":44495570,"comment_id":75985788,"body_markdown":"@classstacker it&#39;s perfect task for checking if the student knows how to convert from DFA or NFA to regex. For me DFA would be enough if convertion algorithm provided.","body":"@classstacker it&#39;s perfect task for checking if the student knows how to convert from DFA or NFA to regex. For me DFA would be enough if convertion algorithm provided."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497261000,"post_id":44495570,"comment_id":75985801,"body_markdown":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string. This would involve counting.","body":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string. This would involve counting."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497261208,"post_id":44495570,"comment_id":75985937,"body_markdown":"@xenteros Yes, once you provide a precise definition of &quot;balanced&quot; -- for me, there&#39;s really nothing &quot;balanced&quot; about &quot;13253152&quot;, and why would good examples suggest a regularity which is not supposed to be chacked for... anyhow. Nice discussion. ;)","body":"@xenteros Yes, once you provide a precise definition of &quot;balanced&quot; -- for me, there&#39;s really nothing &quot;balanced&quot; about &quot;13253152&quot;, and why would good examples suggest a regularity which is not supposed to be chacked for... anyhow. Nice discussion. ;)"}],"answers":[{"comments":[{"owner":{"account_id":5139494,"reputation":405,"user_id":4117313,"accept_rate":75,"display_name":"RaffoSorr"},"score":0,"creation_date":1497260559,"post_id":44495716,"comment_id":75985521,"body_markdown":"I tried my code with all four OP examples and it returns the right value. 12344321 returns true and 123454321 returns false.","body":"I tried my code with all four OP examples and it returns the right value. 12344321 returns true and 123454321 returns false."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497260915,"post_id":44495716,"comment_id":75985766,"body_markdown":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string.","body":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string."},{"owner":{"account_id":2837424,"reputation":659,"user_id":2437771,"accept_rate":45,"display_name":"Manushi"},"score":0,"creation_date":1497262925,"post_id":44495716,"comment_id":75987069,"body_markdown":"I tried to find solution using regex only as the problem demands answer in regex pattern. I would used any other solution if regex was not mentioned explicitly","body":"I tried to find solution using regex only as the problem demands answer in regex pattern. I would used any other solution if regex was not mentioned explicitly"}],"tags":[],"owner":{"account_id":5139494,"reputation":405,"user_id":4117313,"accept_rate":75,"display_name":"RaffoSorr"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497259042,"creation_date":1497259042,"answer_id":44495716,"question_id":44495570,"body_markdown":"I don&#39;t think you can do it with regex. Why do you need to use them?\r\nI tried this: it works and it&#39;s pretty simple\r\n\r\n    static boolean isBalanced(String str) {\r\n\t\tArrayList&lt;Character&gt; odds = new ArrayList&lt;&gt;(); //Will contain the characters read until now an odd number of times\r\n\t\tfor (char x : str.toCharArray()) { //Reads each char of the string\r\n\t\t\tif (odds.contains(x)) { //If x was in the arraylist we found x an even number of times so let&#39;s remove it\r\n\t\t\t\todds.remove(odds.indexOf(x));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\todds.add(x);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn odds.isEmpty();\r\n\t}\r\n\r\n","title":"How to construct regular expression to balance characters in a string?","body":"<p>I don't think you can do it with regex. Why do you need to use them?\nI tried this: it works and it's pretty simple</p>\n\n<pre><code>static boolean isBalanced(String str) {\n    ArrayList&lt;Character&gt; odds = new ArrayList&lt;&gt;(); //Will contain the characters read until now an odd number of times\n    for (char x : str.toCharArray()) { //Reads each char of the string\n        if (odds.contains(x)) { //If x was in the arraylist we found x an even number of times so let's remove it\n            odds.remove(odds.indexOf(x));\n        }\n        else {\n            odds.add(x);\n        }\n    }\n    return odds.isEmpty();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497260266,"post_id":44495750,"comment_id":75985332,"body_markdown":"@classstacker it is easier to understand for `L={0,1}`. It&#39;s well explained https://stackoverflow.com/a/19615508/4723795","body":"@classstacker it is easier to understand for <code>L={0,1}</code>. It&#39;s well explained <a href=\"https://stackoverflow.com/a/19615508/4723795\">stackoverflow.com/a/19615508/4723795</a>"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497260316,"post_id":44495750,"comment_id":75985364,"body_markdown":"@classstacker regular expressions are izomorfic to NFA, and the nfa would just read char by char and for each char it would have 2 states - even and odd. It would just switch.","body":"@classstacker regular expressions are izomorfic to NFA, and the nfa would just read char by char and for each char it would have 2 states - even and odd. It would just switch."},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497260813,"post_id":44495750,"comment_id":75985700,"body_markdown":"@classstacker please check the DFA attached to the answer. https://cs.stackexchange.com/questions/2016/how-to-convert-finite-automata-to-regular-expressions describes the convertion","body":"@classstacker please check the DFA attached to the answer. <a href=\"https://cs.stackexchange.com/questions/2016/how-to-convert-finite-automata-to-regular-expressions\" title=\"how to convert finite automata to regular expressions\">cs.stackexchange.com/questions/2016/&hellip;</a> describes the convertion"},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497260959,"post_id":44495750,"comment_id":75985784,"body_markdown":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string. That would require counting.","body":"Sorry, as you can see from my other comments, I thought &quot;balanced&quot; were defined by either repeating the same character seceral times in a row or having a symmetrical character string. That would require counting."},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497261046,"post_id":44495750,"comment_id":75985829,"body_markdown":"@classstacker obviously this would require inf number of states which conflicts with finite automate","body":"@classstacker obviously this would require inf number of states which conflicts with finite automate"},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497261285,"post_id":44495750,"comment_id":75985984,"body_markdown":"Yes, and it wouldn&#39;t be the fiist trick question in a textbook / exam. ;)","body":"Yes, and it wouldn&#39;t be the fiist trick question in a textbook / exam. ;)"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1497261866,"post_id":44495750,"comment_id":75986391,"body_markdown":"@classstacker I remember my exam on formal languages. Being best on the year wasn&#39;t enough to solve more than 2 out of 3 tasks :D It&#39;s wonderful science.","body":"@classstacker I remember my exam on formal languages. Being best on the year wasn&#39;t enough to solve more than 2 out of 3 tasks :D It&#39;s wonderful science."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1497262169,"post_id":44495750,"comment_id":75986583,"body_markdown":"Agreed. Opening up a universe of insights, undervalued, and my major field of studies at that time. Still have the Aho / Sethi / Ullman on the shelf.","body":"Agreed. Opening up a universe of insights, undervalued, and my major field of studies at that time. Still have the Aho / Sethi / Ullman on the shelf."}],"tags":[],"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497260762,"creation_date":1497259126,"answer_id":44495750,"question_id":44495570,"body_markdown":"Regular expression for this problem exists, but doesn&#39;t speed up anythings and will be totally messy. It&#39;s easier to prepare NFA, and then switch to REGEX. Still, it&#39;s not proper tool.\r\n\r\n    public static void main(String args[]) {\r\n        String s = args[0];\r\n        int[] counter = new int[256];\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            counter[s.charAt(i)]++;\r\n        }\r\n        if (validate(counter)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        } else {\r\n            System.out.println(&quot;invalid&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean validate(int[] tab) {\r\n        for (int i : tab) {\r\n            if (i%2 == 1) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n**Edit:** *for pointing the regex existance*\r\n\r\nReference for a finite automate for just two characters. Start on the very left, win with double circle. Each state named by the set of characters that have odd count so far.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FEDBB.png","title":"How to construct regular expression to balance characters in a string?","body":"<p>Regular expression for this problem exists, but doesn't speed up anythings and will be totally messy. It's easier to prepare NFA, and then switch to REGEX. Still, it's not proper tool.</p>\n\n<pre><code>public static void main(String args[]) {\n    String s = args[0];\n    int[] counter = new int[256];\n    for (int i = 0; i &lt; s.length(); i++) {\n        counter[s.charAt(i)]++;\n    }\n    if (validate(counter)) {\n        System.out.println(\"valid\");\n    } else {\n        System.out.println(\"invalid\");\n    }\n}\n\npublic static boolean validate(int[] tab) {\n    for (int i : tab) {\n        if (i%2 == 1) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>Edit:</strong> <em>for pointing the regex existance</em></p>\n\n<p>Reference for a finite automate for just two characters. Start on the very left, win with double circle. Each state named by the set of characters that have odd count so far.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FEDBB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEDBB.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":2837424,"reputation":659,"user_id":2437771,"accept_rate":45,"display_name":"Manushi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675952809,"creation_date":1497258643,"question_id":44495570,"body_markdown":"I have come across regular expressions for different problems but I could not find out regex s to balance characters in a string.\r\n\r\nI came across a problem, to find if a string is balanced.\r\nex: `aabbccdd` is a balanced one, as a characters are repeated in even numbers\r\nbut `aabbccddd` is not a balanced one since `ddd` is repeated in odd number mode. This is applicable for all characters give an input not to specific `a,b,c and d`. If i give input as `12344321` or `123454321`, it should return balanced and unbalanced result respectively.\r\n\r\nHow to find the balance using regex. What type of regular expression we should use to find if the string is balanced?\r\n\r\n\tEdit:\r\nI tried to find solution using regex only as the problem demands answer in regex pattern. I would implemented using any other solution if regex was not mentioned explicitly ","title":"How to construct regular expression to balance characters in a string?","body":"<p>I have come across regular expressions for different problems but I could not find out regex s to balance characters in a string.</p>\n\n<p>I came across a problem, to find if a string is balanced.\nex: <code>aabbccdd</code> is a balanced one, as a characters are repeated in even numbers\nbut <code>aabbccddd</code> is not a balanced one since <code>ddd</code> is repeated in odd number mode. This is applicable for all characters give an input not to specific <code>a,b,c and d</code>. If i give input as <code>12344321</code> or <code>123454321</code>, it should return balanced and unbalanced result respectively.</p>\n\n<p>How to find the balance using regex. What type of regular expression we should use to find if the string is balanced?</p>\n\n<pre><code>Edit:\n</code></pre>\n\n<p>I tried to find solution using regex only as the problem demands answer in regex pattern. I would implemented using any other solution if regex was not mentioned explicitly </p>\n"},{"tags":["java","optimization","load-balancing","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512034570,"creation_date":1512034570,"answer_id":47570112,"question_id":47457128,"body_markdown":"Start by using `HardMediumSoftScoreHolder` in your DRL and `HardMediumSoftScore` in your domain. Take a look at the hospital bed planning example for the DRL rule.","title":"Cloud Balancing Optaplanner: implement an overconstrained planning","body":"<p>Start by using <code>HardMediumSoftScoreHolder</code> in your DRL and <code>HardMediumSoftScore</code> in your domain. Take a look at the hospital bed planning example for the DRL rule.</p>\n"}],"owner":{"account_id":6359114,"reputation":177,"user_id":4935219,"display_name":"alvaropanizo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47570112,"answer_count":1,"score":0,"last_activity_date":1675952684,"creation_date":1511445087,"question_id":47457128,"body_markdown":"I&#39;m trying to implement a simple cloud balancing system with an Overconstrained plannig with the Optaplanner with java.\r\n\r\nfavorite\r\nI&#39;m trying to implement a simple cloud balancing system with an Overconstrained plannig with the Optaplanner library for Java.\r\nI mapping the model to my problem (vehicles and assets) doing a variables substitution cpuPower -&gt; weight, memory -&gt; volume.\r\nAfter rules definition for not exceed any of this 2 variables, the drl file:\r\n\r\n    package org.optaplanner.examples.cloudbalancing.solver;\r\n        dialect &quot;java&quot;\r\n    \r\n    import org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScoreHolder;\r\n    \r\n    import org.optaplanner.examples.cloudbalancing.domain.Mission;\r\n    import org.optaplanner.examples.cloudbalancing.domain.Vehicle;\r\n    import org.optaplanner.examples.cloudbalancing.domain.Asset;\r\n    \r\n    global HardSoftScoreHolder scoreHolder;\r\n    \r\n    // ############################################################################\r\n    // Hard constraints\r\n    // ############################################################################\r\n    \r\n    rule &quot;requiredVolumeTotal&quot;\r\n    \tdialect &quot;mvel&quot;\r\n    \twhen\r\n    \t\t$vehicle : Vehicle($maxVolume : maxVolume)\r\n    \t\tNumber( $totalReqVolume : intValue() &gt; $maxVolume ) from accumulate \r\n    \t\t\t( Asset( vehicle == $vehicle , $volume : volume),\r\n    \t\t\tsum($volume)) \r\n    \tthen\r\n    \t\tscoreHolder.addHardConstraintMatch(kcontext, -($totalReqVolume -$maxVolume));\r\n    end\r\n    \r\n    rule &quot;requiredWeightTotal&quot;\r\n    \tdialect &quot;mvel&quot;\r\n    \twhen\r\n    \t\t$vehicle : Vehicle($maxWeight : maxWeight)\r\n    \t\tNumber( $totalReqWeight : intValue() &gt; $maxWeight ) from accumulate \r\n    \t\t\t( Asset( vehicle == $vehicle , $weight : weight),\r\n    \t\t\tsum($weight)) \r\n    \tthen\r\n    \t\tscoreHolder.addHardConstraintMatch(kcontext, -($totalReqWeight -$maxWeight));\r\n    end\r\n\r\nIf I use the simple example, I receive a response with all processes asigned although if some of this cannot be assigned to computers. For this problem, optaplanner purpuse is to change the implementation to a **overconstained plannig**. The documentation says:\r\n\r\n&gt; - *Add a additional score level (usually a medium level between the hard    and soft level) by switching Score type.*\r\n&gt; - *Make the planning variable nullable.*\r\n&gt; - *Add a score constraint on the new level (so usually a medium    constraint) to penalize the number of unassigned entities (or a  weighted sum of them).*\r\n\r\nI&#39;m doing the nullable annotation and the check in the compare method:\r\n\r\n     @PlanningVariable(valueRangeProviderRefs = {&quot;computerRange&quot;},\r\n            strengthComparatorClass = CloudComputerStrengthComparator.class,\r\n    \t\tnullable = true)\r\n    public CloudComputer getComputer() {\r\n        return computer;\r\n    }\r\n_\r\n\r\n    @Override\r\n    public int compare(CloudComputer a, CloudComputer b) {\r\n    \t if (a == null || b == null)\r\n             return 0;\r\n        return new CompareToBuilder()\r\n                .append(a.getMultiplicand(), b.getMultiplicand())\r\n                .append(b.getCost(), a.getCost()) // Descending (but this is debatable)\r\n                .append(a.getId(), b.getId())\r\n                .toComparison();\r\n    }\r\n\r\nWhith this changes the processes after the solve method are all unasigned and the solution are incorrect cause ever is 0soft/0hard. \r\n\r\nHow can define a new constraint (with medium level) to penalize the number of unassigned entities?","title":"Cloud Balancing Optaplanner: implement an overconstrained planning","body":"<p>I'm trying to implement a simple cloud balancing system with an Overconstrained plannig with the Optaplanner with java.</p>\n\n<p>favorite\nI'm trying to implement a simple cloud balancing system with an Overconstrained plannig with the Optaplanner library for Java.\nI mapping the model to my problem (vehicles and assets) doing a variables substitution cpuPower -> weight, memory -> volume.\nAfter rules definition for not exceed any of this 2 variables, the drl file:</p>\n\n<pre><code>package org.optaplanner.examples.cloudbalancing.solver;\n    dialect \"java\"\n\nimport org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScoreHolder;\n\nimport org.optaplanner.examples.cloudbalancing.domain.Mission;\nimport org.optaplanner.examples.cloudbalancing.domain.Vehicle;\nimport org.optaplanner.examples.cloudbalancing.domain.Asset;\n\nglobal HardSoftScoreHolder scoreHolder;\n\n// ############################################################################\n// Hard constraints\n// ############################################################################\n\nrule \"requiredVolumeTotal\"\n    dialect \"mvel\"\n    when\n        $vehicle : Vehicle($maxVolume : maxVolume)\n        Number( $totalReqVolume : intValue() &gt; $maxVolume ) from accumulate \n            ( Asset( vehicle == $vehicle , $volume : volume),\n            sum($volume)) \n    then\n        scoreHolder.addHardConstraintMatch(kcontext, -($totalReqVolume -$maxVolume));\nend\n\nrule \"requiredWeightTotal\"\n    dialect \"mvel\"\n    when\n        $vehicle : Vehicle($maxWeight : maxWeight)\n        Number( $totalReqWeight : intValue() &gt; $maxWeight ) from accumulate \n            ( Asset( vehicle == $vehicle , $weight : weight),\n            sum($weight)) \n    then\n        scoreHolder.addHardConstraintMatch(kcontext, -($totalReqWeight -$maxWeight));\nend\n</code></pre>\n\n<p>If I use the simple example, I receive a response with all processes asigned although if some of this cannot be assigned to computers. For this problem, optaplanner purpuse is to change the implementation to a <strong>overconstained plannig</strong>. The documentation says:</p>\n\n<blockquote>\n  <ul>\n  <li><em>Add a additional score level (usually a medium level between the hard    and soft level) by switching Score type.</em></li>\n  <li><em>Make the planning variable nullable.</em></li>\n  <li><em>Add a score constraint on the new level (so usually a medium    constraint) to penalize the number of unassigned entities (or a  weighted sum of them).</em></li>\n  </ul>\n</blockquote>\n\n<p>I'm doing the nullable annotation and the check in the compare method:</p>\n\n<pre><code> @PlanningVariable(valueRangeProviderRefs = {\"computerRange\"},\n        strengthComparatorClass = CloudComputerStrengthComparator.class,\n        nullable = true)\npublic CloudComputer getComputer() {\n    return computer;\n}\n</code></pre>\n\n<p>_</p>\n\n<pre><code>@Override\npublic int compare(CloudComputer a, CloudComputer b) {\n     if (a == null || b == null)\n         return 0;\n    return new CompareToBuilder()\n            .append(a.getMultiplicand(), b.getMultiplicand())\n            .append(b.getCost(), a.getCost()) // Descending (but this is debatable)\n            .append(a.getId(), b.getId())\n            .toComparison();\n}\n</code></pre>\n\n<p>Whith this changes the processes after the solve method are all unasigned and the solution are incorrect cause ever is 0soft/0hard. </p>\n\n<p>How can define a new constraint (with medium level) to penalize the number of unassigned entities?</p>\n"},{"tags":["java","spring","jpa","entity-relationship"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1675949735,"post_id":75399320,"comment_id":133040341,"body_markdown":"There is a difference between both the insert pet requests.","body":"There is a difference between both the insert pet requests."},{"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"score":0,"creation_date":1675950862,"post_id":75399320,"comment_id":133040791,"body_markdown":"@Arun Sudhakaran I&#39;m sorry! Its because I copied from the json that was already working (owners/1) I just took the pet from inside it, but the request I had done to insert the pet was exaclty the same as the second one, I just changed the name and the breed. But I&#39;ll edit my question so it looks the same","body":"@Arun Sudhakaran I&#39;m sorry! Its because I copied from the json that was already working (owners/1) I just took the pet from inside it, but the request I had done to insert the pet was exaclty the same as the second one, I just changed the name and the breed. But I&#39;ll edit my question so it looks the same"}],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675951001,"creation_date":1675951001,"answer_id":75399638,"question_id":75399320,"body_markdown":"Try using this sample.\r\n\r\nIn Owners class:\r\n\r\n    @OneToMany(mappedBy = &quot;owners&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Pets&gt; pets = new HashSet&lt;&gt;();\r\nIn Pets class:\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;owners_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Owners owners;\r\n\r\n&gt; It is also better not to use plural nouns for classes.\r\n\r\n\r\n","title":"@OnetoMany relationship only accepting one object instead of a list in the column [SPRING]","body":"<p>Try using this sample.</p>\n<p>In Owners class:</p>\n<pre><code>@OneToMany(mappedBy = &quot;owners&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Pets&gt; pets = new HashSet&lt;&gt;();\n</code></pre>\n<p>In Pets class:</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;owners_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Owners owners;\n</code></pre>\n<blockquote>\n<p>It is also better not to use plural nouns for classes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675952677,"creation_date":1675952677,"answer_id":75400011,"question_id":75399320,"body_markdown":"Every time you send a list this way, you rewrite it. You don&#39;t add an item, you rewrite the list. If you want to add, you request already exisiting items of the list, add a new one, and send this altered list.","title":"@OnetoMany relationship only accepting one object instead of a list in the column [SPRING]","body":"<p>Every time you send a list this way, you rewrite it. You don't add an item, you rewrite the list. If you want to add, you request already exisiting items of the list, add a new one, and send this altered list.</p>\n"}],"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675952677,"creation_date":1675949396,"question_id":75399320,"body_markdown":"I&#39;m having trouble with a relationship between two attributes (owners and pets: one owner should be able to have many pets) in spring, this is my code:\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;owners_table&quot;)\r\n    public class Owners {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t@Column(nullable=false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(nullable=false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    \t@Column(nullable=true)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(nullable=false)\r\n    \tprivate String address;\r\n    \t \r\n    \t@OneToMany(fetch=FetchType.LAZY,mappedBy=&quot;id&quot;)\r\n    \t@JsonManagedReference(value=&quot;pet-owners&quot;)\r\n        @JsonIgnore\r\n    \tprivate List&lt;Pets&gt; pets;\r\n    \r\n    \t\r\n    \tpublic Owners() {\r\n    \t\t\r\n    \t}\r\n    \t@JsonCreator\r\n    \tpublic Owners(Integer id, String name, String phoneNumber, String email, String address) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.phoneNumber = phoneNumber;\r\n    \t\tthis.email = email;\r\n    \t\tthis.address = address;\r\n    \t}\r\n\r\n(plus the getters and setters)\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;pets_table&quot;)\r\n    public class Pets {\r\n    \tprivate String name;\r\n    \tprivate String breed;\r\n    \tprivate Date birthDate;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    \t@JsonBackReference(value=&quot;pet-owners&quot;)\r\n    \t@JoinColumn(name = &quot;owner_id&quot;)\r\n    \tprivate Owners owner;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \t\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name=&quot;walk_id&quot;)\r\n    \t@JsonBackReference(value=&quot;pet-walks&quot;)\r\n    \tprivate DogWalking walk;\r\n    \t\r\n    \r\n    \tpublic Pets() {\r\n    \t}\r\n    \t\r\n    \t@JsonCreator\r\n    \tpublic Pets(String name, String breed, Date birthDate,  Owners owner , Integer id) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.breed = breed;\r\n    \t\tthis.birthDate = birthDate;\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\n(plus getters and setters) \r\n\r\nI believe this is the only part of the code that matters for this question, but if you need anything else you can tell me and I&#39;ll put it here. \r\n\r\n\r\n**I&#39;m gonna explain the problem in action now:**\r\nI had this owner in my database:\r\n(my request: localhost:8080/owners/6)\r\n\r\n     {\r\n            &quot;id&quot;: 6,\r\n            &quot;name&quot;: &quot;Lucas Calado&quot;,\r\n            &quot;phoneNumber&quot;: &quot;(83) 98326-9273&quot;,\r\n            &quot;email&quot;: &quot;lucasthecalado@gmail.com&quot;,\r\n            &quot;address&quot;: &quot;Rua Banc&#225;rio Jo&#227;o Luiz , 92&quot;,\r\n            &quot;pets&quot;: []\r\n    }\r\n     \r\n\r\nand then I added one pet to the pet list:\r\n(my request: localhost:8080/pets/insert)\r\n\r\n      {\r\n                    &quot;name&quot;: &quot;Fenrir&quot;,\r\n                    &quot;breed&quot;: &quot;Husky siberiano&quot;,\r\n                    &quot;birthDate&quot;: &quot;2017-03-08T03:00:00.000+00:00&quot;,\r\n                    &quot;owner&quot;:{\r\n                        &quot;id&quot;:6\r\n                    }\r\n                    &quot;walks&quot;: null\r\n    }\r\n\r\n***and, until now, everything is fine***\r\n\r\nnow, if I make the same request to get the owner by id, this is whats shown to me:\r\n\r\n     {\r\n            &quot;id&quot;: 6,\r\n            &quot;name&quot;: &quot;Lucas Calado&quot;,\r\n            &quot;phoneNumber&quot;: &quot;(83) 98326-9273&quot;,\r\n            &quot;email&quot;: &quot;lucasthecalado@gmail.com&quot;,\r\n            &quot;address&quot;: &quot;Rua Banc&#225;rio Jo&#227;o Luiz , 92&quot;,\r\n            &quot;pets&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;Fenrir&quot;,\r\n                    &quot;breed&quot;: &quot;Husky siberiano&quot;,\r\n                    &quot;birthDate&quot;: &quot;2017-03-08T03:00:00.000+00:00&quot;,\r\n                    &quot;id&quot;: 6,\r\n                    &quot;walks&quot;: null\r\n                }\r\n            ]\r\n        }\r\n\r\n\r\nBUT, when I try to add another pet to the same owner id, it goes to the next owner id (in this case, id=7, and nothing happens to the owner that has the id 6.\r\n(my request: localhost:8080/pets/insert)\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Roabson&quot;,\r\n        &quot;breed&quot;: &quot;Pug&quot;,\r\n        &quot;birthDate&quot;: &quot;2018-12-02T03:00:00.000+00:00&quot;,\r\n        &quot;owner&quot;:{\r\n            &quot;id&quot;:6\r\n        }\r\n    }\r\n\r\n\r\nmy owner (id=6) stays the absolute same, with only one pet, and my next owner (id=7) recieves this pet. \r\n\r\n\r\n\r\n","title":"@OnetoMany relationship only accepting one object instead of a list in the column [SPRING]","body":"<p>I'm having trouble with a relationship between two attributes (owners and pets: one owner should be able to have many pets) in spring, this is my code:</p>\n<pre><code>@Entity\n@Table(name=&quot;owners_table&quot;)\npublic class Owners {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(nullable=false)\n    private String name;\n    \n    @Column(nullable=false)\n    private String phoneNumber;\n    \n    @Column(nullable=true)\n    private String email;\n    \n    @Column(nullable=false)\n    private String address;\n     \n    @OneToMany(fetch=FetchType.LAZY,mappedBy=&quot;id&quot;)\n    @JsonManagedReference(value=&quot;pet-owners&quot;)\n    @JsonIgnore\n    private List&lt;Pets&gt; pets;\n\n    \n    public Owners() {\n        \n    }\n    @JsonCreator\n    public Owners(Integer id, String name, String phoneNumber, String email, String address) {\n        this.id = id;\n        this.name = name;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.address = address;\n    }\n</code></pre>\n<p>(plus the getters and setters)</p>\n<pre><code>@Entity\n@Table(name=&quot;pets_table&quot;)\npublic class Pets {\n    private String name;\n    private String breed;\n    private Date birthDate;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JsonBackReference(value=&quot;pet-owners&quot;)\n    @JoinColumn(name = &quot;owner_id&quot;)\n    private Owners owner;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;walk_id&quot;)\n    @JsonBackReference(value=&quot;pet-walks&quot;)\n    private DogWalking walk;\n    \n\n    public Pets() {\n    }\n    \n    @JsonCreator\n    public Pets(String name, String breed, Date birthDate,  Owners owner , Integer id) {\n        this.name = name;\n        this.breed = breed;\n        this.birthDate = birthDate;\n        this.id = id;\n    }\n</code></pre>\n<p>(plus getters and setters)</p>\n<p>I believe this is the only part of the code that matters for this question, but if you need anything else you can tell me and I'll put it here.</p>\n<p><strong>I'm gonna explain the problem in action now:</strong>\nI had this owner in my database:\n(my request: localhost:8080/owners/6)</p>\n<pre><code> {\n        &quot;id&quot;: 6,\n        &quot;name&quot;: &quot;Lucas Calado&quot;,\n        &quot;phoneNumber&quot;: &quot;(83) 98326-9273&quot;,\n        &quot;email&quot;: &quot;lucasthecalado@gmail.com&quot;,\n        &quot;address&quot;: &quot;Rua Bancário João Luiz , 92&quot;,\n        &quot;pets&quot;: []\n}\n \n</code></pre>\n<p>and then I added one pet to the pet list:\n(my request: localhost:8080/pets/insert)</p>\n<pre><code>  {\n                &quot;name&quot;: &quot;Fenrir&quot;,\n                &quot;breed&quot;: &quot;Husky siberiano&quot;,\n                &quot;birthDate&quot;: &quot;2017-03-08T03:00:00.000+00:00&quot;,\n                &quot;owner&quot;:{\n                    &quot;id&quot;:6\n                }\n                &quot;walks&quot;: null\n}\n</code></pre>\n<p><em><strong>and, until now, everything is fine</strong></em></p>\n<p>now, if I make the same request to get the owner by id, this is whats shown to me:</p>\n<pre><code> {\n        &quot;id&quot;: 6,\n        &quot;name&quot;: &quot;Lucas Calado&quot;,\n        &quot;phoneNumber&quot;: &quot;(83) 98326-9273&quot;,\n        &quot;email&quot;: &quot;lucasthecalado@gmail.com&quot;,\n        &quot;address&quot;: &quot;Rua Bancário João Luiz , 92&quot;,\n        &quot;pets&quot;: [\n            {\n                &quot;name&quot;: &quot;Fenrir&quot;,\n                &quot;breed&quot;: &quot;Husky siberiano&quot;,\n                &quot;birthDate&quot;: &quot;2017-03-08T03:00:00.000+00:00&quot;,\n                &quot;id&quot;: 6,\n                &quot;walks&quot;: null\n            }\n        ]\n    }\n</code></pre>\n<p>BUT, when I try to add another pet to the same owner id, it goes to the next owner id (in this case, id=7, and nothing happens to the owner that has the id 6.\n(my request: localhost:8080/pets/insert)</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Roabson&quot;,\n    &quot;breed&quot;: &quot;Pug&quot;,\n    &quot;birthDate&quot;: &quot;2018-12-02T03:00:00.000+00:00&quot;,\n    &quot;owner&quot;:{\n        &quot;id&quot;:6\n    }\n}\n</code></pre>\n<p>my owner (id=6) stays the absolute same, with only one pet, and my next owner (id=7) recieves this pet.</p>\n"},{"tags":["java","spring","gradle","windows-10","axion-release-plugin"],"answers":[{"tags":[],"owner":{"account_id":20153373,"reputation":41,"user_id":14780186,"display_name":"3ric-T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675952605,"creation_date":1675952605,"answer_id":75399996,"question_id":69518016,"body_markdown":"By default (taken from [the doc][1]):\r\n&gt; if no other options are used and repository requires authorization, `axion-release` will try to fetch authorization options from SSH agent (`ssh-agent` on Linux and `pageant` on Windows).\r\n\r\nI guess that you should check that Pageant is up and running on your machine.\r\n\r\n\r\n  [1]: https://axion-release-plugin.readthedocs.io/en/latest/configuration/authorization/#ssh-agent","title":"Releasing with Gradle axion failing from Windows, but works from Linux","body":"<p>By default (taken from <a href=\"https://axion-release-plugin.readthedocs.io/en/latest/configuration/authorization/#ssh-agent\" rel=\"nofollow noreferrer\">the doc</a>):</p>\n<blockquote>\n<p>if no other options are used and repository requires authorization, <code>axion-release</code> will try to fetch authorization options from SSH agent (<code>ssh-agent</code> on Linux and <code>pageant</code> on Windows).</p>\n</blockquote>\n<p>I guess that you should check that Pageant is up and running on your machine.</p>\n"}],"owner":{"account_id":12210723,"reputation":23,"user_id":8912582,"display_name":"sumit sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675952605,"creation_date":1633891494,"question_id":69518016,"body_markdown":"**Hi, \r\nJust trying a simple code with axion plugin.** \r\n\r\n\r\n**Although, the same code works pretty well on Linux.\r\nI am using GIT version - &quot;git version 2.32.0.windows.1&quot;\r\nGradle Version - &quot;Gradle 7.2&quot;\r\naxion-release version &quot;1.13.2&quot;. My build.gradle looks like -**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &quot;pl.allegro.tech.build.axion-release&quot; version &quot;1.13.2&quot;\r\n}\r\ngroup = &#39;com.spring.exercise&#39;\r\n \r\nscmVersion {\r\n\tversionCreator &quot;versionWithBranch&quot;\r\n}\r\n \r\nversion = scmVersion.version\r\n  \r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI tried to run the command from GitBash as well but getting an error - \r\n\r\n```\r\n$ ./gradlew release --info\r\nInitialized native services in: C:\\Users\\Naruto\\.gradle\\native\r\nInitialized jansi services in: C:\\Users\\Naruto\\.gradle\\native\r\nThe client will now receive all logging from the daemon (pid: 6204). The daemon log file: C:\\Users\\Naruto\\.gradle\\daemon\\7.2\\daemon-6204.out.log\r\nStarting 50th build in daemon [uptime: 5 hrs 30 mins 51.32 secs, performance: 100%, non-heap usage: 27% of 256 MiB]\r\nUsing 8 worker leases.\r\nNow considering [F:\\Self-Study-Coding-Practices\\spring-exercise] as hierarchies to watch\r\nNot watching anything anymore\r\nWatching the file system is configured to be enabled if available\r\nFile system watching is active\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; This is being executed in Gradle&#39;s Initialization Phase. We have created this script at C:/Users/Naruto/.gradle/init.d/another.gradle\r\nExecuting from Init.Gradle\r\nStarting Build\r\nSettings evaluated using settings file &#39;F:\\Self-Study-Coding-Practices\\spring-exercise\\settings.gradle&#39;.\r\nProjects loaded. Root project using build file &#39;F:\\Self-Study-Coding-Practices\\spring-exercise\\build.gradle&#39;.\r\nIncluded projects: [root project &#39;spring-exercise&#39;]\r\n\r\n&gt; Configure project :\r\nEvaluating root project &#39;spring-exercise&#39; using build file &#39;F:\\Self-Study-Coding-Practices\\spring-exercise\\build.gradle&#39;.\r\nApplying dependency management to configuration &#39;bootArchives&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;archives&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;default&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;implementation&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;compileOnly&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;compileClasspath&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;annotationProcessor&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;runtimeOnly&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;runtimeClasspath&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testImplementation&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testCompileOnly&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testCompileClasspath&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testAnnotationProcessor&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testRuntimeOnly&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;testRuntimeClasspath&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;apiElements&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;runtimeElements&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;developmentOnly&#39; in project &#39;spring-exercise&#39;\r\nApplying dependency management to configuration &#39;productionRuntimeClasspath&#39; in project &#39;spring-exercise&#39;\r\nAll projects evaluated.\r\nSelected primary task &#39;release&#39; from project :\r\nTasks to be executed: [task &#39;:verifyRelease&#39;, task &#39;:release&#39;]\r\nTasks that were excluded: []\r\n:verifyRelease (Thread[Execution worker for &#39;:&#39;,5,main]) started.\r\n\r\n&gt; Task :verifyRelease\r\nCaching disabled for task &#39;:verifyRelease&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:verifyRelease&#39; is not up-to-date because:\r\n  Task has not declared any outputs despite executing actions.\r\nLooking for uncommitted changes..\r\nChecking if branch is ahead of remote..\r\nChecking for snapshot versions..\r\n:verifyRelease (Thread[Execution worker for &#39;:&#39;,5,main]) completed. Took 0.008 secs.\r\n:release (Thread[Execution worker for &#39;:&#39;,5,main]) started.\r\n\r\n&gt; Task :release\r\nCaching disabled for task &#39;:release&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:release&#39; is not up-to-date because:\r\n  Task has not declared any outputs despite executing actions.\r\nCreating tag: v0.1.5\r\nPushing all to remote: origin\r\nTrying to connect any to SSH agent for repository credentials\r\nFailed to use ssh-agent as identity provider, see debug logs for details\r\nSuccessfully connected to SSH agent and fetched identities, see debug logs for details\r\nTrying to connect any to SSH agent for repository credentials\r\nFailed to use ssh-agent as identity provider, see debug logs for details\r\nSuccessfully connected to SSH agent and fetched identities, see debug logs for details\r\nRemoving tag: v0.1.5\r\nTag v0.1.5 removed\r\nremote message:\r\n\r\n&gt; Task :release FAILED\r\n:release (Thread[Execution worker for &#39;:&#39;,5,main]) completed. Took 3.851 secs.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:release&#39;.\r\n&gt; pl.allegro.tech.build.axion.release.ReleaseFailedException (no error message)\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n2 actionable tasks: 2 executed\r\nNot watching anything anymore\r\nWatched directory hierarchies: []\r\n\r\n```\r\n\r\n","title":"Releasing with Gradle axion failing from Windows, but works from Linux","body":"<p><strong>Hi,\nJust trying a simple code with axion plugin.</strong></p>\n<p><strong>Although, the same code works pretty well on Linux.\nI am using GIT version - &quot;git version 2.32.0.windows.1&quot;\nGradle Version - &quot;Gradle 7.2&quot;\naxion-release version &quot;1.13.2&quot;. My build.gradle looks like -</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.5'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id &quot;pl.allegro.tech.build.axion-release&quot; version &quot;1.13.2&quot;\n}\ngroup = 'com.spring.exercise'\n \nscmVersion {\n    versionCreator &quot;versionWithBranch&quot;\n}\n \nversion = scmVersion.version\n  \nsourceCompatibility = '1.8'\n\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I tried to run the command from GitBash as well but getting an error -</p>\n<pre><code>$ ./gradlew release --info\nInitialized native services in: C:\\Users\\Naruto\\.gradle\\native\nInitialized jansi services in: C:\\Users\\Naruto\\.gradle\\native\nThe client will now receive all logging from the daemon (pid: 6204). The daemon log file: C:\\Users\\Naruto\\.gradle\\daemon\\7.2\\daemon-6204.out.log\nStarting 50th build in daemon [uptime: 5 hrs 30 mins 51.32 secs, performance: 100%, non-heap usage: 27% of 256 MiB]\nUsing 8 worker leases.\nNow considering [F:\\Self-Study-Coding-Practices\\spring-exercise] as hierarchies to watch\nNot watching anything anymore\nWatching the file system is configured to be enabled if available\nFile system watching is active\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; This is being executed in Gradle's Initialization Phase. We have created this script at C:/Users/Naruto/.gradle/init.d/another.gradle\nExecuting from Init.Gradle\nStarting Build\nSettings evaluated using settings file 'F:\\Self-Study-Coding-Practices\\spring-exercise\\settings.gradle'.\nProjects loaded. Root project using build file 'F:\\Self-Study-Coding-Practices\\spring-exercise\\build.gradle'.\nIncluded projects: [root project 'spring-exercise']\n\n&gt; Configure project :\nEvaluating root project 'spring-exercise' using build file 'F:\\Self-Study-Coding-Practices\\spring-exercise\\build.gradle'.\nApplying dependency management to configuration 'bootArchives' in project 'spring-exercise'\nApplying dependency management to configuration 'archives' in project 'spring-exercise'\nApplying dependency management to configuration 'default' in project 'spring-exercise'\nApplying dependency management to configuration 'implementation' in project 'spring-exercise'\nApplying dependency management to configuration 'compileOnly' in project 'spring-exercise'\nApplying dependency management to configuration 'compileClasspath' in project 'spring-exercise'\nApplying dependency management to configuration 'annotationProcessor' in project 'spring-exercise'\nApplying dependency management to configuration 'runtimeOnly' in project 'spring-exercise'\nApplying dependency management to configuration 'runtimeClasspath' in project 'spring-exercise'\nApplying dependency management to configuration 'testImplementation' in project 'spring-exercise'\nApplying dependency management to configuration 'testCompileOnly' in project 'spring-exercise'\nApplying dependency management to configuration 'testCompileClasspath' in project 'spring-exercise'\nApplying dependency management to configuration 'testAnnotationProcessor' in project 'spring-exercise'\nApplying dependency management to configuration 'testRuntimeOnly' in project 'spring-exercise'\nApplying dependency management to configuration 'testRuntimeClasspath' in project 'spring-exercise'\nApplying dependency management to configuration 'apiElements' in project 'spring-exercise'\nApplying dependency management to configuration 'runtimeElements' in project 'spring-exercise'\nApplying dependency management to configuration 'developmentOnly' in project 'spring-exercise'\nApplying dependency management to configuration 'productionRuntimeClasspath' in project 'spring-exercise'\nAll projects evaluated.\nSelected primary task 'release' from project :\nTasks to be executed: [task ':verifyRelease', task ':release']\nTasks that were excluded: []\n:verifyRelease (Thread[Execution worker for ':',5,main]) started.\n\n&gt; Task :verifyRelease\nCaching disabled for task ':verifyRelease' because:\n  Build cache is disabled\nTask ':verifyRelease' is not up-to-date because:\n  Task has not declared any outputs despite executing actions.\nLooking for uncommitted changes..\nChecking if branch is ahead of remote..\nChecking for snapshot versions..\n:verifyRelease (Thread[Execution worker for ':',5,main]) completed. Took 0.008 secs.\n:release (Thread[Execution worker for ':',5,main]) started.\n\n&gt; Task :release\nCaching disabled for task ':release' because:\n  Build cache is disabled\nTask ':release' is not up-to-date because:\n  Task has not declared any outputs despite executing actions.\nCreating tag: v0.1.5\nPushing all to remote: origin\nTrying to connect any to SSH agent for repository credentials\nFailed to use ssh-agent as identity provider, see debug logs for details\nSuccessfully connected to SSH agent and fetched identities, see debug logs for details\nTrying to connect any to SSH agent for repository credentials\nFailed to use ssh-agent as identity provider, see debug logs for details\nSuccessfully connected to SSH agent and fetched identities, see debug logs for details\nRemoving tag: v0.1.5\nTag v0.1.5 removed\nremote message:\n\n&gt; Task :release FAILED\n:release (Thread[Execution worker for ':',5,main]) completed. Took 3.851 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':release'.\n&gt; pl.allegro.tech.build.axion.release.ReleaseFailedException (no error message)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n2 actionable tasks: 2 executed\nNot watching anything anymore\nWatched directory hierarchies: []\n\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":964649,"reputation":458,"user_id":988304,"display_name":"stevestorey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675952596,"creation_date":1675952203,"answer_id":75399913,"question_id":75149923,"body_markdown":"Assuming that a. duplicates aren&#39;t allowed in the collections, and b. you don&#39;t care about the iteration order of the entities in the entity object collections for `groups` and  `elements` (you could still impose ordering when transforming to DTOs using some property of them), then the headline answer is:\r\n\r\n1. Yes, change from `List` to a `Set` which communicates both to callers, and to the JPA implementation that duplicates aren&#39;t allowed and iteration order can be undefined (which would also solve the bag exception - but at the cost of a gigantic cross-join).\r\n\r\n2. To avoid the gigantic cross join that might result from loading both sets at the same time, do the load of the graph in 2 queries (as long as both participate in the same transaction):\r\n```\r\n@Query(&quot;SELECT bundle FROM Bundle bundle &quot;\r\n           + &quot;JOIN FETCH bundle.groups groups &quot;\r\n           + &quot;WHERE bundle.id = :id&quot;)\r\n    Optional&lt;Bundle&gt; fetchBundle(@Param(&quot;id&quot;) long id);\r\n}\r\n```\r\nand then a second call to populate the elements on the groups:\r\n```\r\n@Query(&quot;SELECT groups FROM Group groups &quot;\r\n           + &quot;JOIN FETCH groups.elements &quot;\r\n           + &quot;WHERE groups.bundle.id = :id&quot;)\r\n    Collection&lt;Group&gt; fetchBundleGroups(@Param(&quot;id&quot;) long id);\r\n}\r\n```\r\nNote that you can in fact ignore the response value of the second call and just do ...\r\n```\r\nOptional&lt;Bundle&gt; maybeBundle = repository.fetchBundle(id);\r\nrepository.fetchBundleGroups(id);\r\n// now, maybeBundle.get().groups.elements will all be populated\r\n```\r\ndue to a useful feature of the JPA spec, which requires that, within a given JPA EntityManager persistence context scope (usually the same as transaction scope), the same object instance is returned for an entity with the same ID, and thus effects from the second query (to populate the elements on the Group objects) will use the same instances returned from the first query.\r\n\r\nWorth noting that the same technique also works if there were to be multiple collections on one of the entities - e.g. `Bundle.authors` - you would just add a 3rd query to populate the authors collection on the Bundle and call that as well to avoid the cross-join between `authors` and `groups`.","title":"How to fetch two-level deep @OneToMany association in Spring Data and avoid MultipleBagFetchException","body":"<p>Assuming that a. duplicates aren't allowed in the collections, and b. you don't care about the iteration order of the entities in the entity object collections for <code>groups</code> and  <code>elements</code> (you could still impose ordering when transforming to DTOs using some property of them), then the headline answer is:</p>\n<ol>\n<li><p>Yes, change from <code>List</code> to a <code>Set</code> which communicates both to callers, and to the JPA implementation that duplicates aren't allowed and iteration order can be undefined (which would also solve the bag exception - but at the cost of a gigantic cross-join).</p>\n</li>\n<li><p>To avoid the gigantic cross join that might result from loading both sets at the same time, do the load of the graph in 2 queries (as long as both participate in the same transaction):</p>\n</li>\n</ol>\n<pre><code>@Query(&quot;SELECT bundle FROM Bundle bundle &quot;\n           + &quot;JOIN FETCH bundle.groups groups &quot;\n           + &quot;WHERE bundle.id = :id&quot;)\n    Optional&lt;Bundle&gt; fetchBundle(@Param(&quot;id&quot;) long id);\n}\n</code></pre>\n<p>and then a second call to populate the elements on the groups:</p>\n<pre><code>@Query(&quot;SELECT groups FROM Group groups &quot;\n           + &quot;JOIN FETCH groups.elements &quot;\n           + &quot;WHERE groups.bundle.id = :id&quot;)\n    Collection&lt;Group&gt; fetchBundleGroups(@Param(&quot;id&quot;) long id);\n}\n</code></pre>\n<p>Note that you can in fact ignore the response value of the second call and just do ...</p>\n<pre><code>Optional&lt;Bundle&gt; maybeBundle = repository.fetchBundle(id);\nrepository.fetchBundleGroups(id);\n// now, maybeBundle.get().groups.elements will all be populated\n</code></pre>\n<p>due to a useful feature of the JPA spec, which requires that, within a given JPA EntityManager persistence context scope (usually the same as transaction scope), the same object instance is returned for an entity with the same ID, and thus effects from the second query (to populate the elements on the Group objects) will use the same instances returned from the first query.</p>\n<p>Worth noting that the same technique also works if there were to be multiple collections on one of the entities - e.g. <code>Bundle.authors</code> - you would just add a 3rd query to populate the authors collection on the Bundle and call that as well to avoid the cross-join between <code>authors</code> and <code>groups</code>.</p>\n"}],"owner":{"account_id":8250836,"reputation":241,"user_id":6422750,"display_name":"Theta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75399913,"answer_count":1,"score":0,"last_activity_date":1675952596,"creation_date":1673975374,"question_id":75149923,"body_markdown":"I&#39;m still a JPA beginner and would like to know how to best use Spring powerful features to fetch the following simple structure (associations are lazy by default but I have a use case where the whole structure should be loaded without proxies, possibly with the lowest number of SQL queries generated). Simplified entities concerned:\r\n\r\n\r\n```\r\n@Entity\r\npublic class Bundle {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;bundle&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\r\n}\r\n\r\n...\r\n\r\n@Entity\r\npublic class Group {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name = &quot;BUNDLE_ID&quot;)\r\n    private Bundle bundle;\r\n\r\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Element&gt; elements = new ArrayList&lt;&gt;();\r\n\r\n...\r\n\r\npublic class Element {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;GROUP_ID&quot;)\r\n    private Group group;\r\n}\r\n```\r\n\r\nMy attempt to find all groups and elements under a given bundle (in order to efficiently process them and convert to a DTO later before returning from an endpoint) was to fetch inside `@Query`\r\n\r\n```\r\npublic interface BundleRepository extends JpaRepository&lt;Bundle, Long&gt; {\r\n\r\n@Query(&quot;SELECT bundle FROM Bundle bundle &quot;\r\n           + &quot;JOIN FETCH bundle.groups groups &quot;\r\n           + &quot;JOIN FETCH groups.elements &quot;\r\n           + &quot;WHERE bundle.id = :id&quot;)\r\n    Optional&lt;Bundle&gt; fetchBundle(@Param(&quot;id&quot;) long id);\r\n}\r\n```\r\n\r\nHowever, this results in `org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags`. I did some reading on the subject and found that changing `List`s to `Set`s may do the trick, on the other hand some sources discourage from this. \r\n\r\nThis double `@OneToMany` structure seems very ordinary and multiple `JOIN`s also nothing uncommon but nevertherless I&#39;d like to ask you to point out the right approach. Maybe fetching groups for a bundle separately and then for every group fetching its elements? This would be *1 + number of groups* queries, not a bit wasteful? Please let me know if considering this as a trade-off in this manner is a step in the good direction.","title":"How to fetch two-level deep @OneToMany association in Spring Data and avoid MultipleBagFetchException","body":"<p>I'm still a JPA beginner and would like to know how to best use Spring powerful features to fetch the following simple structure (associations are lazy by default but I have a use case where the whole structure should be loaded without proxies, possibly with the lowest number of SQL queries generated). Simplified entities concerned:</p>\n<pre><code>@Entity\npublic class Bundle {\n\n    @Id\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;bundle&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Group&gt; groups = new ArrayList&lt;&gt;();\n}\n\n...\n\n@Entity\npublic class Group {\n\n    @Id\n    private Long id;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;BUNDLE_ID&quot;)\n    private Bundle bundle;\n\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Element&gt; elements = new ArrayList&lt;&gt;();\n\n...\n\npublic class Element {\n\n    @Id\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;GROUP_ID&quot;)\n    private Group group;\n}\n</code></pre>\n<p>My attempt to find all groups and elements under a given bundle (in order to efficiently process them and convert to a DTO later before returning from an endpoint) was to fetch inside <code>@Query</code></p>\n<pre><code>public interface BundleRepository extends JpaRepository&lt;Bundle, Long&gt; {\n\n@Query(&quot;SELECT bundle FROM Bundle bundle &quot;\n           + &quot;JOIN FETCH bundle.groups groups &quot;\n           + &quot;JOIN FETCH groups.elements &quot;\n           + &quot;WHERE bundle.id = :id&quot;)\n    Optional&lt;Bundle&gt; fetchBundle(@Param(&quot;id&quot;) long id);\n}\n</code></pre>\n<p>However, this results in <code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags</code>. I did some reading on the subject and found that changing <code>List</code>s to <code>Set</code>s may do the trick, on the other hand some sources discourage from this.</p>\n<p>This double <code>@OneToMany</code> structure seems very ordinary and multiple <code>JOIN</code>s also nothing uncommon but nevertherless I'd like to ask you to point out the right approach. Maybe fetching groups for a bundle separately and then for every group fetching its elements? This would be <em>1 + number of groups</em> queries, not a bit wasteful? Please let me know if considering this as a trade-off in this manner is a step in the good direction.</p>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1522256865,"post_id":49540364,"comment_id":86088008,"body_markdown":"So, what is unclear in the error message?","body":"So, what is unclear in the error message?"},{"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"score":2,"creation_date":1522256983,"post_id":49540364,"comment_id":86088080,"body_markdown":"You override a method returning a `double` with another one returning `void`, it&#39;s not allowed. Either make the superclass return `void` (makes more sense IMHO), or return a `double` value in the overriding method","body":"You override a method returning a <code>double</code> with another one returning <code>void</code>, it&#39;s not allowed. Either make the superclass return <code>void</code> (makes more sense IMHO), or return a <code>double</code> value in the overriding method"},{"owner":{"account_id":12957906,"reputation":3,"user_id":9368039,"display_name":"tcann99"},"score":0,"creation_date":1522257957,"post_id":49540364,"comment_id":86088613,"body_markdown":"@AlexSavitsky this worked, thanks!","body":"@AlexSavitsky this worked, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":4518934,"reputation":3509,"user_id":7764014,"accept_rate":47,"display_name":"Yassine CHABLI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522258139,"creation_date":1522258139,"answer_id":49540743,"question_id":49540364,"body_markdown":"when overring a method , u need to keep the same prototype of the method in the parent . \r\nso here  you are mixing the return type . \r\n\r\n \r\n\r\n    class CheckingAccount extends Account {\r\n            double overdraftmax = -50;\r\n        \r\n            public CheckingAccount(int id, double balance) {\r\n            }\r\n            public double withdraw(double money) {\r\n                    if (this.getBalance() - money &gt;= overdraftmax) {\r\n                        withdraw(money);\r\n            }\r\n          return &quot;double var&quot;;\r\n      }\r\n    }\r\n    \r\n\r\n    class Account {\r\n        private int id = 0;\r\n        private double balance = 0;\r\n        private double annualInterestRate = 0;\r\n        private java.util.Date dateCreated;\r\n    \r\n    \r\n        Account() {\r\n            dateCreated = new java.util.Date();\r\n        }\r\n    \r\n        Account(int newId,double newBalance) {\r\n            this();\r\n            id = newId;\r\n            balance = newBalance;\r\n    \r\n        }\r\n        int getId() {\r\n            return id;\r\n        }\r\n        double getBalance() {\r\n            return balance;\r\n        }\r\n        double getAnnualInterestRate() {\r\n            return annualInterestRate;\r\n        }\r\n        void setId(int newId) {\r\n            id = newId;\r\n        }\r\n        void setBalance(double newBalance) {\r\n            balance = newBalance;\r\n        }\r\n        void setAnnualInterestRate(double newAnnualInterestRate) {\r\n            annualInterestRate = newAnnualInterestRate;\r\n        }\r\n        String getDateCreated() {\r\n            return dateCreated.toString();\r\n        }   \r\n        double getMonthlyInterestRate() {\r\n                return (annualInterestRate / 100) / 12;\r\n        }\r\n        double getMonthlyInterest() {\r\n                return balance * getMonthlyInterestRate();\r\n        }\r\n        double withdraw(double money) {\r\n                return balance -= money;\r\n        }\r\n        double deposit(double money) {\r\n                return balance += money;\r\n        }\r\n    }","title":"Issues with overriding another class","body":"<p>when overring a method , u need to keep the same prototype of the method in the parent . \nso here  you are mixing the return type . </p>\n\n<pre><code>class CheckingAccount extends Account {\n        double overdraftmax = -50;\n\n        public CheckingAccount(int id, double balance) {\n        }\n        public double withdraw(double money) {\n                if (this.getBalance() - money &gt;= overdraftmax) {\n                    withdraw(money);\n        }\n      return \"double var\";\n  }\n}\n\n\nclass Account {\n    private int id = 0;\n    private double balance = 0;\n    private double annualInterestRate = 0;\n    private java.util.Date dateCreated;\n\n\n    Account() {\n        dateCreated = new java.util.Date();\n    }\n\n    Account(int newId,double newBalance) {\n        this();\n        id = newId;\n        balance = newBalance;\n\n    }\n    int getId() {\n        return id;\n    }\n    double getBalance() {\n        return balance;\n    }\n    double getAnnualInterestRate() {\n        return annualInterestRate;\n    }\n    void setId(int newId) {\n        id = newId;\n    }\n    void setBalance(double newBalance) {\n        balance = newBalance;\n    }\n    void setAnnualInterestRate(double newAnnualInterestRate) {\n        annualInterestRate = newAnnualInterestRate;\n    }\n    String getDateCreated() {\n        return dateCreated.toString();\n    }   \n    double getMonthlyInterestRate() {\n            return (annualInterestRate / 100) / 12;\n    }\n    double getMonthlyInterest() {\n            return balance * getMonthlyInterestRate();\n    }\n    double withdraw(double money) {\n            return balance -= money;\n    }\n    double deposit(double money) {\n            return balance += money;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12040898,"reputation":1,"user_id":8807853,"display_name":"Nik Chernyakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522258374,"creation_date":1522258374,"answer_id":49540795,"question_id":49540364,"body_markdown":"In `Account` class you make method `withdraw()` with returning type `double`, but in class `CheckingAccount` you overriding this method with returning type `void`.\r\n\r\nIn *Java* you can&#39;t change returning type in overriding method, because compiler don&#39;t understand what method you want to use.","title":"Issues with overriding another class","body":"<p>In <code>Account</code> class you make method <code>withdraw()</code> with returning type <code>double</code>, but in class <code>CheckingAccount</code> you overriding this method with returning type <code>void</code>.</p>\n\n<p>In <em>Java</em> you can't change returning type in overriding method, because compiler don't understand what method you want to use.</p>\n"}],"owner":{"account_id":12957906,"reputation":3,"user_id":9368039,"display_name":"tcann99"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675952515,"creation_date":1522256714,"question_id":49540364,"body_markdown":"I&#39;m getting this error for some reason when I try to make a new `withdraw` method for the class &quot;CheckingAccount.&quot; I also have a class named Account that has its own withdraw method.\n\nHere&#39;s the code:\n\n        class CheckingAccount extends Account {\n        double overdraftmax = -50;\n        \n        public CheckingAccount(int id, double balance) {\n        }\n        public void withdraw(double money) {\n                if (this.getBalance() - money &gt;= overdraftmax) {\n                    withdraw(money);\n        }\n      }\n    }\n\n    class Account {\n        private int id = 0;\n        private double balance = 0;\n        private double annualInterestRate = 0;\n        private java.util.Date dateCreated;\n        \n        \n        Account() {\n            dateCreated = new java.util.Date();\n        }\n        \n        Account(int newId,double newBalance) {\n            this();\n            id = newId;\n            balance = newBalance;\n            \n        }\n        int getId() {\n            return id;\n        }\n        double getBalance() {\n            return balance;\n        }\n        double getAnnualInterestRate() {\n            return annualInterestRate;\n        }\n        void setId(int newId) {\n            id = newId;\n        }\n        void setBalance(double newBalance) {\n            balance = newBalance;\n        }\n        void setAnnualInterestRate(double newAnnualInterestRate) {\n            annualInterestRate = newAnnualInterestRate;\n        }\n        String getDateCreated() {\n            return dateCreated.toString();\n        }   \n        double getMonthlyInterestRate() {\n                return (annualInterestRate / 100) / 12;\n        }\n        double getMonthlyInterest() {\n                return balance * getMonthlyInterestRate();\n        }\n        double withdraw(double money) {\n                return balance -= money;\n        }\n        double deposit(double money) {\n                return balance += money;\n        }\n    }\nAnd here are the two errors I&#39;m getting.\n\n&gt; The return type is incompatible with Account.withdraw(double)\n&gt;\n&gt; overrides Account.withdraw\n\nI&#39;m not sure what to fix.","title":"Issues with overriding another class","body":"<p>I'm getting this error for some reason when I try to make a new <code>withdraw</code> method for the class &quot;CheckingAccount.&quot; I also have a class named Account that has its own withdraw method.</p>\n<p>Here's the code:</p>\n<pre><code>    class CheckingAccount extends Account {\n    double overdraftmax = -50;\n    \n    public CheckingAccount(int id, double balance) {\n    }\n    public void withdraw(double money) {\n            if (this.getBalance() - money &gt;= overdraftmax) {\n                withdraw(money);\n    }\n  }\n}\n\nclass Account {\n    private int id = 0;\n    private double balance = 0;\n    private double annualInterestRate = 0;\n    private java.util.Date dateCreated;\n    \n    \n    Account() {\n        dateCreated = new java.util.Date();\n    }\n    \n    Account(int newId,double newBalance) {\n        this();\n        id = newId;\n        balance = newBalance;\n        \n    }\n    int getId() {\n        return id;\n    }\n    double getBalance() {\n        return balance;\n    }\n    double getAnnualInterestRate() {\n        return annualInterestRate;\n    }\n    void setId(int newId) {\n        id = newId;\n    }\n    void setBalance(double newBalance) {\n        balance = newBalance;\n    }\n    void setAnnualInterestRate(double newAnnualInterestRate) {\n        annualInterestRate = newAnnualInterestRate;\n    }\n    String getDateCreated() {\n        return dateCreated.toString();\n    }   \n    double getMonthlyInterestRate() {\n            return (annualInterestRate / 100) / 12;\n    }\n    double getMonthlyInterest() {\n            return balance * getMonthlyInterestRate();\n    }\n    double withdraw(double money) {\n            return balance -= money;\n    }\n    double deposit(double money) {\n            return balance += money;\n    }\n}\n</code></pre>\n<p>And here are the two errors I'm getting.</p>\n<blockquote>\n<p>The return type is incompatible with Account.withdraw(double)</p>\n<p>overrides Account.withdraw</p>\n</blockquote>\n<p>I'm not sure what to fix.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675952270,"creation_date":1675952270,"answer_id":75399928,"question_id":75397767,"body_markdown":"Your nesting of the rules is off. Since you never close the `{` that is after `MoviesnShows`, your rules for `Booster` are at path `Apps/MoviesnShows/Booster`.\r\n\r\nTo fix this, close the `MoviesnShows` node with `}`:\r\n```\r\n&quot;Apps&quot;: {\r\n  &quot;MoviesnShows&quot;: {\r\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\r\n  },\r\n  &quot;Booster&quot;:{\r\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nIf you have more nodes like `MoviesnShows` and `Booster`, you can consider using a [wildcard capture rule](https://firebase.google.com/docs/database/security/core-syntax#wildcard_capture_variables) to define the indexes for all of them in one go:\r\n\r\n```\r\n&quot;Apps&quot;: {\r\n  &quot;$topic&quot;: {\r\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\r\n  }\r\n}\r\n```\r\n","title":"Using an unspecified index. Your data will be downloaded and filtered on the client. even though ive added .indexOn","body":"<p>Your nesting of the rules is off. Since you never close the <code>{</code> that is after <code>MoviesnShows</code>, your rules for <code>Booster</code> are at path <code>Apps/MoviesnShows/Booster</code>.</p>\n<p>To fix this, close the <code>MoviesnShows</code> node with <code>}</code>:</p>\n<pre><code>&quot;Apps&quot;: {\n  &quot;MoviesnShows&quot;: {\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\n  },\n  &quot;Booster&quot;:{\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\n  }\n}\n</code></pre>\n<hr />\n<p>If you have more nodes like <code>MoviesnShows</code> and <code>Booster</code>, you can consider using a <a href=\"https://firebase.google.com/docs/database/security/core-syntax#wildcard_capture_variables\" rel=\"nofollow noreferrer\">wildcard capture rule</a> to define the indexes for all of them in one go:</p>\n<pre><code>&quot;Apps&quot;: {\n  &quot;$topic&quot;: {\n    &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75399928,"answer_count":1,"score":2,"last_activity_date":1675952270,"creation_date":1675941055,"question_id":75397767,"body_markdown":"trying to fix a bug on firebase database.\r\n\r\nive got nodes set up like this\r\n   \r\n     &quot;Apps&quot;:{\r\n      &quot;Booster&quot;: {\r\n    &quot;ANTBOOSTER&quot;: {\r\n      &quot;desc&quot;: &quot;&quot;,\r\n      &quot;downloads&quot;: 30,\r\n      &quot;image&quot;: &quot;&quot;,\r\n      &quot;tag&quot;: &quot;&quot;,\r\n      &quot;title&quot;: &quot;&quot;,\r\n      &quot;upvote&quot;: 50,\r\n      &quot;url&quot;: &quot;&quot;\r\n    }\r\n      },\r\n      &quot;MoviesnShows&quot;: {\r\n    &quot;BeeTv&quot;: {\r\n      &quot;H20&quot;: true,\r\n      &quot;desc&quot;: &quot;&quot;,\r\n      &quot;downloads&quot;: 11,\r\n      &quot;image&quot;: &quot;&quot;,\r\n      &quot;tag&quot;: &quot;&quot;,\r\n      &quot;title&quot;: &quot;Bee Tv&quot;,\r\n      &quot;upvote&quot;: 1,\r\n      &quot;url&quot;: &quot;&quot;\r\n    },\r\n\r\napp side im getting this error\r\n\r\n&gt; Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding &#39;&quot;.indexOn&quot;: &quot;upvote&quot;&#39; at Apps/Booster to your security and Firebase Database rules for better performance\r\n\r\nthis is for every parent node ie Booster, MoviesnShows. its giving the error for upvote and downloads children.\r\n\r\nso ive been reading the documentation from firebase and it says about adding the rule .indexOn to my rules section. which ive done like this.\r\n\r\n    &quot;Apps&quot;:{\r\n      &quot;MoviesnShows&quot;:{\r\n           &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;],\r\n        \r\n         &quot;Booster&quot;:{\r\n           &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;],\r\n\r\nbut for some reason its only clears the error for the first rule which in this case is MoviesnShows. if i switch them around it clears Booster. im again obvioulsy missing something can anybody tell me what?","title":"Using an unspecified index. Your data will be downloaded and filtered on the client. even though ive added .indexOn","body":"<p>trying to fix a bug on firebase database.</p>\n<p>ive got nodes set up like this</p>\n<pre><code> &quot;Apps&quot;:{\n  &quot;Booster&quot;: {\n&quot;ANTBOOSTER&quot;: {\n  &quot;desc&quot;: &quot;&quot;,\n  &quot;downloads&quot;: 30,\n  &quot;image&quot;: &quot;&quot;,\n  &quot;tag&quot;: &quot;&quot;,\n  &quot;title&quot;: &quot;&quot;,\n  &quot;upvote&quot;: 50,\n  &quot;url&quot;: &quot;&quot;\n}\n  },\n  &quot;MoviesnShows&quot;: {\n&quot;BeeTv&quot;: {\n  &quot;H20&quot;: true,\n  &quot;desc&quot;: &quot;&quot;,\n  &quot;downloads&quot;: 11,\n  &quot;image&quot;: &quot;&quot;,\n  &quot;tag&quot;: &quot;&quot;,\n  &quot;title&quot;: &quot;Bee Tv&quot;,\n  &quot;upvote&quot;: 1,\n  &quot;url&quot;: &quot;&quot;\n},\n</code></pre>\n<p>app side im getting this error</p>\n<blockquote>\n<p>Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding '&quot;.indexOn&quot;: &quot;upvote&quot;' at Apps/Booster to your security and Firebase Database rules for better performance</p>\n</blockquote>\n<p>this is for every parent node ie Booster, MoviesnShows. its giving the error for upvote and downloads children.</p>\n<p>so ive been reading the documentation from firebase and it says about adding the rule .indexOn to my rules section. which ive done like this.</p>\n<pre><code>&quot;Apps&quot;:{\n  &quot;MoviesnShows&quot;:{\n       &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;],\n    \n     &quot;Booster&quot;:{\n       &quot;.indexOn&quot;:[&quot;downloads&quot;,&quot;upvote&quot;,&quot;H20&quot;],\n</code></pre>\n<p>but for some reason its only clears the error for the first rule which in this case is MoviesnShows. if i switch them around it clears Booster. im again obvioulsy missing something can anybody tell me what?</p>\n"},{"tags":["java","reactjs","typescript","jestjs","package.json"],"answers":[{"comments":[{"owner":{"account_id":4061561,"reputation":308,"user_id":3851107,"display_name":"Grzegorz Solecki"},"score":0,"creation_date":1643034645,"post_id":70167093,"comment_id":125225673,"body_markdown":"It&#39;s a working solution even though eslint complains about not expecting require.","body":"It&#39;s a working solution even though eslint complains about not expecting require."}],"tags":[],"owner":{"account_id":1506523,"reputation":4409,"user_id":1409779,"accept_rate":64,"display_name":"jhm"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638264860,"creation_date":1638264860,"answer_id":70167093,"question_id":69629094,"body_markdown":"You need to add `crypto` to your Jest config in `jest.config.js`:\r\n\r\n```\r\nmodule.exports = {\r\n    // ...\r\n    globals: {\r\n        // ...\r\n        crypto: require(&quot;crypto&quot;)\r\n    }\r\n};\r\n```","title":"React jest and MSAL getting BrowserAuthError : crypto","body":"<p>You need to add <code>crypto</code> to your Jest config in <code>jest.config.js</code>:</p>\n<pre><code>module.exports = {\n    // ...\n    globals: {\n        // ...\n        crypto: require(&quot;crypto&quot;)\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2295865,"reputation":456,"user_id":2017315,"accept_rate":80,"display_name":"Gajen"},"score":0,"creation_date":1659615069,"post_id":72375300,"comment_id":129339590,"body_markdown":"I am still getting error, even after implementing your above solution. added &#39;import crypto from &#39;crypto&#39;;\nmodule.exports = {\n\troots: [&#39;&lt;rootDir&gt;/src&#39;],\n\ttransform: {\n\t\t&#39;^.+\\\\.tsx?$&#39;: &#39;ts-jest&#39;,\n\t},\n\ttestRegex: &#39;(/test/.*|(\\\\.|/)(test|spec))\\\\.tsx?$&#39;,\n\tmoduleFileExtensions: [&#39;ts&#39;, &#39;tsx&#39;, &#39;js&#39;, &#39;jsx&#39;, &#39;json&#39;, &#39;node&#39;],\n\tglobals: {\n\t\tcrypto: crypto,\n\t},\n};\n&#39;","body":"I am still getting error, even after implementing your above solution. added &#39;import crypto from &#39;crypto&#39;; module.exports = { \troots: [&#39;&lt;rootDir&gt;/src&#39;], \ttransform: { \t\t&#39;^.+\\\\.tsx?$&#39;: &#39;ts-jest&#39;, \t}, \ttestRegex: &#39;(/test/.*|(\\\\.|/)(test|spec))\\\\.tsx?$&#39;, \tmoduleFileExtensions: [&#39;ts&#39;, &#39;tsx&#39;, &#39;js&#39;, &#39;jsx&#39;, &#39;json&#39;, &#39;node&#39;], \tglobals: { \t\tcrypto: crypto, \t}, }; &#39;"},{"owner":{"account_id":14627349,"reputation":2304,"user_id":10564312,"display_name":"Sanka Sanjeewa"},"score":1,"creation_date":1659671012,"post_id":72375300,"comment_id":129354478,"body_markdown":"@Gajen Please try this. maybe a help\nhttps://stackoverflow.com/a/73244401/10564312","body":"@Gajen Please try this. maybe a help <a href=\"https://stackoverflow.com/a/73244401/10564312\">stackoverflow.com/a/73244401/10564312</a>"}],"tags":[],"owner":{"account_id":19018908,"reputation":1,"user_id":13883347,"display_name":"Anjali Shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653471848,"creation_date":1653471848,"answer_id":72375300,"question_id":69629094,"body_markdown":"For eslint issue \r\ntry this way \r\n\r\n    import crypto from &#39;crypto&#39;;\r\n    \r\n    module.exports = {\r\n        // ...\r\n        globals: {\r\n            // ...\r\n            crypto,\r\n        }\r\n    };","title":"React jest and MSAL getting BrowserAuthError : crypto","body":"<p>For eslint issue\ntry this way</p>\n<pre><code>import crypto from 'crypto';\n\nmodule.exports = {\n    // ...\n    globals: {\n        // ...\n        crypto,\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2295865,"reputation":456,"user_id":2017315,"accept_rate":80,"display_name":"Gajen"},"score":0,"creation_date":1661324153,"post_id":73244401,"comment_id":129741399,"body_markdown":"what to write in msal-instance file which you have mentoned in this line.. jest.mock(&#39;./msal-instance&#39;, () =&gt; ({","body":"what to write in msal-instance file which you have mentoned in this line.. jest.mock(&#39;./msal-instance&#39;, () =&gt; ({"},{"owner":{"account_id":14627349,"reputation":2304,"user_id":10564312,"display_name":"Sanka Sanjeewa"},"score":1,"creation_date":1661336622,"post_id":73244401,"comment_id":129746196,"body_markdown":"That file exports the `msal-instance`.\n\n`const msalInstance = new PublicClientApplication(msalConfig);`","body":"That file exports the <code>msal-instance</code>.  <code>const msalInstance = new PublicClientApplication(msalConfig);</code>"}],"tags":[],"owner":{"account_id":14627349,"reputation":2304,"user_id":10564312,"display_name":"Sanka Sanjeewa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661485055,"creation_date":1659670756,"answer_id":73244401,"question_id":69629094,"body_markdown":"I tried adding crypto to my jest.config.js, but it didn&#39;t work. Then I tried adding it package.json. It was also pointless giving this error.\r\n\r\n    Out of the box, Create React App only supports overriding these Jest options:\r\n    \r\n      • clearMocks\r\n      • collectCoverageFrom\r\n      • coveragePathIgnorePatterns\r\n      • coverageReporters\r\n      • coverageThreshold\r\n      • displayName\r\n      • extraGlobals\r\n      • globalSetup\r\n      • globalTeardown\r\n      • moduleNameMapper\r\n      • resetMocks\r\n      • resetModules\r\n      • restoreMocks\r\n      • snapshotSerializers\r\n      • testMatch\r\n      • transform\r\n      • transformIgnorePatterns\r\n      • watchPathIgnorePatterns.\r\n    \r\n    These options in your package.json Jest configuration are not currently supported by Create React App:\r\n\r\n\r\nIn my case, I have a custom hook that has a dependency with `msalInstance`\r\n\r\nI can prevent the above error by mocking my hook as said [here][1]\r\n\r\nBut still, this wasn&#39;t a good solution because if I have many hooks like this. So what I did was mock `msalInstance` in `setupTests.ts` file\r\n\r\n    jest.mock(&#39;./msal-instance&#39;, () =&gt; ({\r\n      getActiveAccount: () =&gt; ({}),\r\n      acquireTokenSilent: () =&gt; Promise.resolve({ accessToken: &#39;&#39; }),\r\n    }));\r\n\r\nThis is my `msal-instance.ts`\r\n\r\n    import {\r\n      PublicClientApplication,\r\n      EventType,\r\n      EventMessage,\r\n      AuthenticationResult,\r\n    } from &#39;@azure/msal-browser&#39;;\r\n    import { msalConfig } from &#39;./authConfig&#39;;\r\n    \r\n    const msalInstance = new PublicClientApplication(msalConfig);\r\n    \r\n    // Account selection logic is app dependent. Adjust as needed for different use cases.\r\n    const accounts = msalInstance.getAllAccounts();\r\n    if (accounts.length &gt; 0) {\r\n      msalInstance.setActiveAccount(accounts[0]);\r\n    }\r\n    \r\n    msalInstance.addEventCallback((event: EventMessage) =&gt; {\r\n      if (event.eventType === EventType.LOGIN_SUCCESS &amp;&amp; event.payload) {\r\n        const payload = event.payload as AuthenticationResult;\r\n        const { account } = payload;\r\n        msalInstance.setActiveAccount(account);\r\n      }\r\n    });\r\n    \r\n    export default msalInstance;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69138146/10564312","title":"React jest and MSAL getting BrowserAuthError : crypto","body":"<p>I tried adding crypto to my jest.config.js, but it didn't work. Then I tried adding it package.json. It was also pointless giving this error.</p>\n<pre><code>Out of the box, Create React App only supports overriding these Jest options:\n\n  • clearMocks\n  • collectCoverageFrom\n  • coveragePathIgnorePatterns\n  • coverageReporters\n  • coverageThreshold\n  • displayName\n  • extraGlobals\n  • globalSetup\n  • globalTeardown\n  • moduleNameMapper\n  • resetMocks\n  • resetModules\n  • restoreMocks\n  • snapshotSerializers\n  • testMatch\n  • transform\n  • transformIgnorePatterns\n  • watchPathIgnorePatterns.\n\nThese options in your package.json Jest configuration are not currently supported by Create React App:\n</code></pre>\n<p>In my case, I have a custom hook that has a dependency with <code>msalInstance</code></p>\n<p>I can prevent the above error by mocking my hook as said <a href=\"https://stackoverflow.com/a/69138146/10564312\">here</a></p>\n<p>But still, this wasn't a good solution because if I have many hooks like this. So what I did was mock <code>msalInstance</code> in <code>setupTests.ts</code> file</p>\n<pre><code>jest.mock('./msal-instance', () =&gt; ({\n  getActiveAccount: () =&gt; ({}),\n  acquireTokenSilent: () =&gt; Promise.resolve({ accessToken: '' }),\n}));\n</code></pre>\n<p>This is my <code>msal-instance.ts</code></p>\n<pre><code>import {\n  PublicClientApplication,\n  EventType,\n  EventMessage,\n  AuthenticationResult,\n} from '@azure/msal-browser';\nimport { msalConfig } from './authConfig';\n\nconst msalInstance = new PublicClientApplication(msalConfig);\n\n// Account selection logic is app dependent. Adjust as needed for different use cases.\nconst accounts = msalInstance.getAllAccounts();\nif (accounts.length &gt; 0) {\n  msalInstance.setActiveAccount(accounts[0]);\n}\n\nmsalInstance.addEventCallback((event: EventMessage) =&gt; {\n  if (event.eventType === EventType.LOGIN_SUCCESS &amp;&amp; event.payload) {\n    const payload = event.payload as AuthenticationResult;\n    const { account } = payload;\n    msalInstance.setActiveAccount(account);\n  }\n});\n\nexport default msalInstance;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10416374,"reputation":1290,"user_id":7680331,"display_name":"C.Aglar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675952264,"creation_date":1675952264,"answer_id":75399927,"question_id":69629094,"body_markdown":"For react version 17.x.x you can install &quot;@wojtekmaj/enzyme-adapter-react-17&quot; package and after that you can create a src/setupTests.js file. You can add all your environment variables and other configurations to this file as follows:\r\n\r\n    //This is for the issue above\r\n    const nodeCrypto = require(&quot;crypto&quot;);\r\n    window.crypto = {\r\n      getRandomValues: function (buffer) {\r\n        return nodeCrypto.randomFillSync(buffer);\r\n      },\r\n    };\r\n\r\n    //It is also possible to add ENV variables\r\n    window.ENV = {\r\n      ApiURL: {\r\n        lessonsUrl: &quot;https://myApiURL.com/APIendpoint&quot;,\r\n      }\r\n      CloudUiUrl: &quot;localhost:3000&quot;,\r\n    };\r\n\r\nWhen you run your tests @wojtekmaj/enzyme-adapter-react-17 will take the settings in this file automatically.\r\n","title":"React jest and MSAL getting BrowserAuthError : crypto","body":"<p>For react version 17.x.x you can install &quot;@wojtekmaj/enzyme-adapter-react-17&quot; package and after that you can create a src/setupTests.js file. You can add all your environment variables and other configurations to this file as follows:</p>\n<pre><code>//This is for the issue above\nconst nodeCrypto = require(&quot;crypto&quot;);\nwindow.crypto = {\n  getRandomValues: function (buffer) {\n    return nodeCrypto.randomFillSync(buffer);\n  },\n};\n\n//It is also possible to add ENV variables\nwindow.ENV = {\n  ApiURL: {\n    lessonsUrl: &quot;https://myApiURL.com/APIendpoint&quot;,\n  }\n  CloudUiUrl: &quot;localhost:3000&quot;,\n};\n</code></pre>\n<p>When you run your tests @wojtekmaj/enzyme-adapter-react-17 will take the settings in this file automatically.</p>\n"}],"owner":{"account_id":23077759,"reputation":91,"user_id":17190479,"display_name":"vidisha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5851,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1675952264,"creation_date":1634638824,"question_id":69629094,"body_markdown":"I&#39;m trying to test a few components that are using MSAL for authentication.\r\n\r\nThus far, I have a simple test, which test if my component can render, as follows:\r\n\r\n\r\n    // &lt;MsalInstanceSnippet&gt;\r\n    const msalInstance = new PublicClientApplication({\r\n      auth: {\r\n        clientId: config.appId,\r\n        redirectUri: config.redirectUri\r\n      },\r\n      cache: {\r\n        cacheLocation: &#39;sessionStorage&#39;,\r\n        storeAuthStateInCookie: true\r\n      }\r\n    });\r\n\r\nWhen I run the test, I&#39;m getting the following error:\r\n\r\n     BrowserAuthError: crypto_nonexistent: The crypto object or function is not available. Detail:Browser crypto or msCrypto object not available.\r\n    \r\n          10 |\r\n          11 | // &lt;MsalInstanceSnippet&gt;\r\n        &gt; 12 | const msalInstance = new PublicClientApplication({\r\n             |                      ^\r\n          13 |   auth: {\r\n          14 |     clientId: config.appId,\r\n          15 |     redirectUri: config.redirectUri\r\n    \r\n          at BrowserAuthError.AuthError [as constructor] (node_modules/@azure/msal-common/dist/error/AuthError.js:27:24)\r\n          at new BrowserAuthError (node_modules/@azure/msal-browser/src/error/BrowserAuthError.ts:152:9)\r\n          at Function.Object.&lt;anonymous&gt;.BrowserAuthError.createCryptoNotAvailableError (node_modules/@azure/msal-browser/src/error/BrowserAuthError.ts:172:16)\r\n          at new BrowserCrypto (node_modules/@azure/msal-browser/src/crypto/BrowserCrypto.ts:31:36)\r\n          at new CryptoOps (node_modules/@azure/msal-browser/src/crypto/CryptoOps.ts:45:30)\r\n          at PublicClientApplication.ClientApplication (node_modules/@azure/msal-browser/src/app/ClientApplication.ts:108:58)\r\n          at new PublicClientApplication (node_modules/@azure/msal-browser/src/app/PublicClientApplication.ts:49:9)\r\n          at Object.&lt;anonymous&gt; (src/App.test.tsx:12:22)\r\n\r\nI&#39;m unsure what the above means, but as far as I can understand, this error is occurring because the session is not authenticated.\r\n\r\nMy question can therefore be divided into the following:\r\n\r\nWhat does this error mean?\r\nHow can I solve this error? (Can we bypass MSAL by any chance for testing purposes?)\r\n","title":"React jest and MSAL getting BrowserAuthError : crypto","body":"<p>I'm trying to test a few components that are using MSAL for authentication.</p>\n<p>Thus far, I have a simple test, which test if my component can render, as follows:</p>\n<pre><code>// &lt;MsalInstanceSnippet&gt;\nconst msalInstance = new PublicClientApplication({\n  auth: {\n    clientId: config.appId,\n    redirectUri: config.redirectUri\n  },\n  cache: {\n    cacheLocation: 'sessionStorage',\n    storeAuthStateInCookie: true\n  }\n});\n</code></pre>\n<p>When I run the test, I'm getting the following error:</p>\n<pre><code> BrowserAuthError: crypto_nonexistent: The crypto object or function is not available. Detail:Browser crypto or msCrypto object not available.\n\n      10 |\n      11 | // &lt;MsalInstanceSnippet&gt;\n    &gt; 12 | const msalInstance = new PublicClientApplication({\n         |                      ^\n      13 |   auth: {\n      14 |     clientId: config.appId,\n      15 |     redirectUri: config.redirectUri\n\n      at BrowserAuthError.AuthError [as constructor] (node_modules/@azure/msal-common/dist/error/AuthError.js:27:24)\n      at new BrowserAuthError (node_modules/@azure/msal-browser/src/error/BrowserAuthError.ts:152:9)\n      at Function.Object.&lt;anonymous&gt;.BrowserAuthError.createCryptoNotAvailableError (node_modules/@azure/msal-browser/src/error/BrowserAuthError.ts:172:16)\n      at new BrowserCrypto (node_modules/@azure/msal-browser/src/crypto/BrowserCrypto.ts:31:36)\n      at new CryptoOps (node_modules/@azure/msal-browser/src/crypto/CryptoOps.ts:45:30)\n      at PublicClientApplication.ClientApplication (node_modules/@azure/msal-browser/src/app/ClientApplication.ts:108:58)\n      at new PublicClientApplication (node_modules/@azure/msal-browser/src/app/PublicClientApplication.ts:49:9)\n      at Object.&lt;anonymous&gt; (src/App.test.tsx:12:22)\n</code></pre>\n<p>I'm unsure what the above means, but as far as I can understand, this error is occurring because the session is not authenticated.</p>\n<p>My question can therefore be divided into the following:</p>\n<p>What does this error mean?\nHow can I solve this error? (Can we bypass MSAL by any chance for testing purposes?)</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":1813967,"reputation":11831,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"score":0,"creation_date":1393171646,"post_id":21970492,"comment_id":33291280,"body_markdown":"If you only want to get the first date, just use `followerarray.getJSONObject(0);` to get the first element in the JSONArray and don&#39;t do the loop. I don&#39;t know if that&#39;s what you want.","body":"If you only want to get the first date, just use <code>followerarray.getJSONObject(0);</code> to get the first element in the JSONArray and don&#39;t do the loop. I don&#39;t know if that&#39;s what you want."},{"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"score":0,"creation_date":1393172178,"post_id":21970492,"comment_id":33291462,"body_markdown":"Wow, thats exactly what im was looking for! thank you! =)","body":"Wow, thats exactly what im was looking for! thank you! =)"}],"answers":[{"comments":[{"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"score":0,"creation_date":1393172218,"post_id":21970784,"comment_id":33291477,"body_markdown":"I used the methode tonga told me and its now working the way i want it.  Thanks anyway! =)","body":"I used the methode tonga told me and its now working the way i want it.  Thanks anyway! =)"},{"owner":{"account_id":3210455,"reputation":2086,"user_id":2710580,"accept_rate":100,"display_name":"Yser"},"score":0,"creation_date":1393172944,"post_id":21970784,"comment_id":33291771,"body_markdown":"In fact its exactly the same method but my answer was to late ;)","body":"In fact its exactly the same method but my answer was to late ;)"},{"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"score":0,"creation_date":1393173316,"post_id":21970784,"comment_id":33291913,"body_markdown":"Oh well, i see an error now. as soon as my code gets used it prints the date + name like 30x times. its everytime the first one :o any help on fixing that?","body":"Oh well, i see an error now. as soon as my code gets used it prints the date + name like 30x times. its everytime the first one :o any help on fixing that?"},{"owner":{"account_id":3210455,"reputation":2086,"user_id":2710580,"accept_rate":100,"display_name":"Yser"},"score":0,"creation_date":1393173404,"post_id":21970784,"comment_id":33291947,"body_markdown":"I guess you didnt removed the for ;) `for(int n = 0; n &lt; followerarray.length(); n++)`","body":"I guess you didnt removed the for ;) <code>for(int n = 0; n &lt; followerarray.length(); n++)</code>"},{"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"score":0,"creation_date":1393173678,"post_id":21970784,"comment_id":33292054,"body_markdown":"oh yeah my bad :D but still theres an other thing i dont get;  As soon it posts the date+name it also posts the whole JSON :/ did update the whole code above.","body":"oh yeah my bad :D but still theres an other thing i dont get;  As soon it posts the date+name it also posts the whole JSON :/ did update the whole code above."},{"owner":{"account_id":3210455,"reputation":2086,"user_id":2710580,"accept_rate":100,"display_name":"Yser"},"score":0,"creation_date":1393173864,"post_id":21970784,"comment_id":33292130,"body_markdown":"Check your code for something like `System.out.println(followerarray.getJSONObject(0))` or other syso&#39;s","body":"Check your code for something like <code>System.out.println(followerarray.getJSONObject(0))</code> or other syso&#39;s"},{"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"score":0,"creation_date":1393174130,"post_id":21970784,"comment_id":33292235,"body_markdown":"found it :-) May u have any hints for me how i can set up the whole thing that it will check the newest date with an older one so if theres a change it will send a message to the irc channel with the name like &quot;Thanks for following, UserXYZ&quot; ? :)","body":"found it :-) May u have any hints for me how i can set up the whole thing that it will check the newest date with an older one so if theres a change it will send a message to the irc channel with the name like &quot;Thanks for following, UserXYZ&quot; ? :)"},{"owner":{"account_id":3210455,"reputation":2086,"user_id":2710580,"accept_rate":100,"display_name":"Yser"},"score":0,"creation_date":1393175914,"post_id":21970784,"comment_id":33292887,"body_markdown":"well i dont know the api and dont know all your code but in general this should be the workflow (not the best solution): 1. poll for the latest messages in an defined interval (if the interval is short you probably dont miss any message but i guess the api provider dont like you anymore) 2. check if the **new** latest message is newer than the **old** &quot;latest&quot; message (u have to save the message with every poll and compare the dates) 3. if the message is newer send a message to IRC otherwise do nothing.","body":"well i dont know the api and dont know all your code but in general this should be the workflow (not the best solution): 1. poll for the latest messages in an defined interval (if the interval is short you probably dont miss any message but i guess the api provider dont like you anymore) 2. check if the <b>new</b> latest message is newer than the <b>old</b> &quot;latest&quot; message (u have to save the message with every poll and compare the dates) 3. if the message is newer send a message to IRC otherwise do nothing."}],"tags":[],"owner":{"account_id":3210455,"reputation":2086,"user_id":2710580,"accept_rate":100,"display_name":"Yser"},"comment_count":8,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1393172018,"creation_date":1393172018,"answer_id":21970784,"question_id":21970492,"body_markdown":"Just dont loop and do something like that:\r\n\r\n    private static int FIRST_ELEMENT = 0;\r\n\r\n    public static void main(String[] args) {\r\n        JSONArray json = new JSONArray(&quot;[{\\&quot;Hello1\\&quot;:\\&quot;1\\&quot;},{\\&quot;Hello2\\&quot;:\\&quot;2\\&quot;}]&quot;);\r\n\r\n        if (json.length() &gt; 0) {\r\n            System.out.println(&quot;First: &quot; + json.getJSONObject(FIRST_ELEMENT).toString());// parse the date instead of toString()\r\n        }\r\n    }\r\n\r\niam not sure if this is exactly what you want ;)","title":"JSON array Read first element?","body":"<p>Just dont loop and do something like that:</p>\n\n<pre><code>private static int FIRST_ELEMENT = 0;\n\npublic static void main(String[] args) {\n    JSONArray json = new JSONArray(\"[{\\\"Hello1\\\":\\\"1\\\"},{\\\"Hello2\\\":\\\"2\\\"}]\");\n\n    if (json.length() &gt; 0) {\n        System.out.println(\"First: \" + json.getJSONObject(FIRST_ELEMENT).toString());// parse the date instead of toString()\n    }\n}\n</code></pre>\n\n<p>iam not sure if this is exactly what you want ;)</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675952051,"creation_date":1476892500,"answer_id":40136324,"question_id":21970492,"body_markdown":"Get shorter answer for free!\r\n         \r\n    JSONObject first = new JSONArray(\r\n        &quot;[{\\&quot;Key1\\&quot;:\\&quot;Value1\\&quot;}]&quot;).\r\n      getJSONObject(0);","title":"JSON array Read first element?","body":"<p>Get shorter answer for free!</p>\n<pre><code>JSONObject first = new JSONArray(\n    &quot;[{\\&quot;Key1\\&quot;:\\&quot;Value1\\&quot;}]&quot;).\n  getJSONObject(0);\n</code></pre>\n"}],"owner":{"account_id":3890678,"reputation":371,"user_id":3220962,"accept_rate":68,"display_name":"user3220962"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48279,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":21970784,"answer_count":2,"score":12,"last_activity_date":1675952051,"creation_date":1393170558,"question_id":21970492,"body_markdown":"I got an JSON Array for my Twitch Following user checker.\r\nI would like to get only the first date (cause thats the newest one)\r\nout of the array but everytime my code gets executed it just swap to the next &quot;date&quot; then.\r\n\r\n\r\nHow can i change this?\r\n\r\n\r\n\r\n\r\nCode;\r\n\r\n\r\n    import org.jibble.pircbot.*;\r\n    import org.json.JSONException;\r\n    import org.json.simple.*;\r\n    import org.json.simple.parser.*;\r\n    import org.w3c.dom.ranges.RangeException;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    import org.json.*;\r\n\r\n\t\t\t\t\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////\r\n    \t\t\t\t// Twitch Follower Ticker\r\n    \t\t\t\t////////////////////////////////////////////////////////////////////////////////////\r\n    \t\t\t  \r\n    \t\t\t\tprivate String readAll4(Reader rd) throws IOException {\r\n    \t\t\t\t    StringBuilder sb = new StringBuilder();\r\n    \t\t\t\t    int cp;\r\n    \t\t\t\t    while ((cp = rd.read()) != -1) {\r\n    \t\t\t\t      sb.append((char) cp);\r\n    \t\t\t\t    }\r\n    \t\t\t\t    return sb.toString();\r\n    \t\t\t\t  }\r\n    \r\n    \t\t\t\t  public JSONObject readJsonFromUrl4(String url) throws IOException, JSONException {\r\n    \t\t\t\t    InputStream is = new URL(url).openStream();\r\n    \t\t\t\t    try {\r\n    \t\t\t\t      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\t\t\t      String jsonText = readAll4(rd);\r\n    \t\t\t\t      JSONObject json = new JSONObject(jsonText);\r\n    \t\t\t\t      return json;\r\n    \t\t\t\t    } finally {\r\n    \t\t\t\t      is.close();\r\n    \t\t\t\t    }\r\n    \t\t\t\t  }\r\n    \t\t\t\t  \r\n    \t\t\t\t  public void FollowerTicker() throws IOException, JSONException {\r\n    \t\t\t\t    json = readJsonFromUrl2(&quot;https://api.twitch.tv/kraken/channels/&quot;+ownerchannel+&quot;/follows&quot;);\r\n    \r\n    \t\t\t\t    JSONArray followerarray = json.getJSONArray(&quot;follows&quot;);\r\n    \r\n    \t\t\t\t    for(int n = 0; n &lt; followerarray.length(); n++)\r\n    \t\t\t\t    {\r\n    \t\t\t\t        JSONObject followertime = followerarray.getJSONObject(n);\r\n    \t\t\t\t        String ftime = followertime.getString(&quot;created_at&quot;);\r\n    \t\t\t\t        \r\n    \t\t\t\t        \r\n    \t\t\t\t        int maxfollows = json.getInt(&quot;_total&quot;);\r\n    \t\t\t\t\t    \r\n    \t\t\t\t   \r\n    \t\t\t\t\tSystem.out.println(&quot;Total Follows : &quot;+maxfollows);\r\n    \t\t\t\t    System.out.println(&quot;Loop Follow Date: &quot;+ftime);\r\n    \t\t\t\t    \r\n    \t\t\t\t    }\r\n    \t\t\t  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nedited Code;\r\n\r\n\r\n\r\n    \t\t\t\tprivate String readAll4(Reader rd) throws IOException {\r\n    \t\t\t\t    StringBuilder sb = new StringBuilder();\r\n    \t\t\t\t    int cp;\r\n    \t\t\t\t    while ((cp = rd.read()) != -1) {\r\n    \t\t\t\t      sb.append((char) cp);\r\n    \t\t\t\t    }\r\n    \t\t\t\t    return sb.toString();\r\n    \t\t\t\t  }\r\n    \r\n    \t\t\t\t  public JSONObject readJsonFromUrl4(String url) throws IOException, JSONException {\r\n    \t\t\t\t    InputStream is = new URL(url).openStream();\r\n    \t\t\t\t    try {\r\n    \t\t\t\t      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\t\t\t      String jsonText = readAll4(rd);\r\n    \t\t\t\t      JSONObject json = new JSONObject(jsonText);\r\n    \t\t\t\t      return json;\r\n    \t\t\t\t    } finally {\r\n    \t\t\t\t      is.close();\r\n    \t\t\t\t    }\r\n    \t\t\t\t  }\r\n    \t\t\t\t  \r\n    \t\t\t\t  public void FollowerTicker() throws IOException, JSONException {\r\n    \t\t\t\t    json = readJsonFromUrl2(&quot;https://api.twitch.tv/kraken/channels/&quot;+ownerchannel+&quot;/follows&quot;);\r\n    \r\n    \t\t\t\t    JSONArray followerarray = json.getJSONArray(&quot;follows&quot;);\r\n    \r\n    //\t\t\t\t    for(int n = 0; n &lt; followerarray.length(); n++)\r\n    \t\t\t\t    {\r\n    \t\t\t\t        JSONObject followertime = followerarray.getJSONObject(0);\r\n    \t\t\t\t        String ftime = followertime.getString(&quot;created_at&quot;);\r\n    \t\t\t\t        String fname = followertime.getJSONObject(&quot;user&quot;).getString(&quot;display_name&quot;);  \r\n    \t\t\t\t        int maxfollows = json.getInt(&quot;_total&quot;);\r\n    \t\t\t\t\t    \r\n    \t\t\t\t   \r\n    \t\t\t\t\tSystem.out.println(&quot;Total Follows zurzeit: &quot;+maxfollows);\r\n    \t\t\t\t    System.out.println(&quot;Neustes Follower - Datum: &quot;+ftime);\r\n    \t\t\t\t    System.out.println(&quot;Neuster Follower Name: &quot;+fname);\r\n    \t\t\t\t    \r\n    \t\t\t\t    }\r\n    \t\t\t  }","title":"JSON array Read first element?","body":"<p>I got an JSON Array for my Twitch Following user checker.\nI would like to get only the first date (cause thats the newest one)\nout of the array but everytime my code gets executed it just swap to the next \"date\" then.</p>\n\n<p>How can i change this?</p>\n\n<p>Code;</p>\n\n<pre><code>import org.jibble.pircbot.*;\nimport org.json.JSONException;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\nimport org.w3c.dom.ranges.RangeException;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.json.*;\n\n\n\n////////////////////////////////////////////////////////////////////////////////////\n                // Twitch Follower Ticker\n                ////////////////////////////////////////////////////////////////////////////////////\n\n                private String readAll4(Reader rd) throws IOException {\n                    StringBuilder sb = new StringBuilder();\n                    int cp;\n                    while ((cp = rd.read()) != -1) {\n                      sb.append((char) cp);\n                    }\n                    return sb.toString();\n                  }\n\n                  public JSONObject readJsonFromUrl4(String url) throws IOException, JSONException {\n                    InputStream is = new URL(url).openStream();\n                    try {\n                      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(\"UTF-8\")));\n                      String jsonText = readAll4(rd);\n                      JSONObject json = new JSONObject(jsonText);\n                      return json;\n                    } finally {\n                      is.close();\n                    }\n                  }\n\n                  public void FollowerTicker() throws IOException, JSONException {\n                    json = readJsonFromUrl2(\"https://api.twitch.tv/kraken/channels/\"+ownerchannel+\"/follows\");\n\n                    JSONArray followerarray = json.getJSONArray(\"follows\");\n\n                    for(int n = 0; n &lt; followerarray.length(); n++)\n                    {\n                        JSONObject followertime = followerarray.getJSONObject(n);\n                        String ftime = followertime.getString(\"created_at\");\n\n\n                        int maxfollows = json.getInt(\"_total\");\n\n\n                    System.out.println(\"Total Follows : \"+maxfollows);\n                    System.out.println(\"Loop Follow Date: \"+ftime);\n\n                    }\n              }\n</code></pre>\n\n<p>edited Code;</p>\n\n<pre><code>                private String readAll4(Reader rd) throws IOException {\n                    StringBuilder sb = new StringBuilder();\n                    int cp;\n                    while ((cp = rd.read()) != -1) {\n                      sb.append((char) cp);\n                    }\n                    return sb.toString();\n                  }\n\n                  public JSONObject readJsonFromUrl4(String url) throws IOException, JSONException {\n                    InputStream is = new URL(url).openStream();\n                    try {\n                      BufferedReader rd = new BufferedReader(new InputStreamReader(is, Charset.forName(\"UTF-8\")));\n                      String jsonText = readAll4(rd);\n                      JSONObject json = new JSONObject(jsonText);\n                      return json;\n                    } finally {\n                      is.close();\n                    }\n                  }\n\n                  public void FollowerTicker() throws IOException, JSONException {\n                    json = readJsonFromUrl2(\"https://api.twitch.tv/kraken/channels/\"+ownerchannel+\"/follows\");\n\n                    JSONArray followerarray = json.getJSONArray(\"follows\");\n\n//                  for(int n = 0; n &lt; followerarray.length(); n++)\n                    {\n                        JSONObject followertime = followerarray.getJSONObject(0);\n                        String ftime = followertime.getString(\"created_at\");\n                        String fname = followertime.getJSONObject(\"user\").getString(\"display_name\");  \n                        int maxfollows = json.getInt(\"_total\");\n\n\n                    System.out.println(\"Total Follows zurzeit: \"+maxfollows);\n                    System.out.println(\"Neustes Follower - Datum: \"+ftime);\n                    System.out.println(\"Neuster Follower Name: \"+fname);\n\n                    }\n              }\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1675952337,"post_id":75399831,"comment_id":133041394,"body_markdown":"Does `WhatShouldBeReturnType` mean you want suggestions for a Java class there? How will you generate the JavaScript code? The whole concept looks like a big code smell to me. (not to say &quot;stinks&quot; ;-) Is a static resource that you serve not enough? Please describe the actual problem to be solved with that a bit better.","body":"Does <code>WhatShouldBeReturnType</code> mean you want suggestions for a Java class there? How will you generate the JavaScript code? The whole concept looks like a big code smell to me. (not to say &quot;stinks&quot; ;-) Is a static resource that you serve not enough? Please describe the actual problem to be solved with that a bit better."},{"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"score":0,"creation_date":1675952502,"post_id":75399831,"comment_id":133041468,"body_markdown":"I don&#39;t want a concert custom example (maybe if there is some existing one from some library) for WhatShouldBeReturnType. Just asking what are options for returning dynamically generated JavaScript code and what is the best way to generate JavaSctipt code with Java. Maybe some libraries, best practices, something like that.","body":"I don&#39;t want a concert custom example (maybe if there is some existing one from some library) for WhatShouldBeReturnType. Just asking what are options for returning dynamically generated JavaScript code and what is the best way to generate JavaSctipt code with Java. Maybe some libraries, best practices, something like that."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675953034,"post_id":75399831,"comment_id":133041672,"body_markdown":"What is your  ultimate goal? What are you using this generated JS code for? As @cyberbrain mentions, this information goes to the ultimate problem that you&#39;re trying to solve, since this question may be an [XY Problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) question.","body":"What is your  ultimate goal? What are you using this generated JS code for? As @cyberbrain mentions, this information goes to the ultimate problem that you&#39;re trying to solve, since this question may be an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> question."},{"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"score":0,"creation_date":1675953636,"post_id":75399831,"comment_id":133041893,"body_markdown":"Ok, first scenario would be, is it possible to have endpoint so when I call it I get to download JS file?\nIf that is not possible than I would like to return this dynamically generated JS file in any other way, maybe as String, Text or some other type which is suitable for this case.","body":"Ok, first scenario would be, is it possible to have endpoint so when I call it I get to download JS file? If that is not possible than I would like to return this dynamically generated JS file in any other way, maybe as String, Text or some other type which is suitable for this case."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675959466,"post_id":75399831,"comment_id":133044107,"body_markdown":"Why do you need to generate the whole JavaScript code dynamically on the server, instead of having a static JavaScript file that just downloads data dynamically from the server (e.g. as JSON format) and processes it? It is really not advisable to generate code dynamically - you can hardly ever test it properly for a stable result.","body":"Why do you need to generate the whole JavaScript code dynamically on the server, instead of having a static JavaScript file that just downloads data dynamically from the server (e.g. as JSON format) and processes it? It is really not advisable to generate code dynamically - you can hardly ever test it properly for a stable result."}],"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675951841,"creation_date":1675951841,"question_id":75399831,"body_markdown":"I have to generate JavaScript file with Java Spring Boot and return it as function return type. Something like this:\r\n\r\n    public WhatShouldBeReturnType generateJs() {\r\n            \r\n       WhatShouldBeReturnType jsFile = generate();\r\n       return jsFile;\r\n    }\r\n\r\nWhere jsFile should be something like\r\n\r\n    &lt;script&gt;\r\n       // all the other syntax from JavaScript\r\n    &lt;/script&gt;\r\n\r\nWhat is the best way to do this kind of functionality, and is it even possible to accomplish something like this?\r\n\r\nThanks.","title":"Generate JavaScript file with Java Spring Boot","body":"<p>I have to generate JavaScript file with Java Spring Boot and return it as function return type. Something like this:</p>\n<pre><code>public WhatShouldBeReturnType generateJs() {\n        \n   WhatShouldBeReturnType jsFile = generate();\n   return jsFile;\n}\n</code></pre>\n<p>Where jsFile should be something like</p>\n<pre><code>&lt;script&gt;\n   // all the other syntax from JavaScript\n&lt;/script&gt;\n</code></pre>\n<p>What is the best way to do this kind of functionality, and is it even possible to accomplish something like this?</p>\n<p>Thanks.</p>\n"},{"tags":["java","unit-testing","asynchronous","junit5","mockstatic"],"answers":[{"tags":[],"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675951721,"creation_date":1675951721,"answer_id":75399805,"question_id":75399592,"body_markdown":"`MockedStatic` is thread-local thing, as stated in Mockito [docs][1].\r\nAlso you should call `close()` for this object.\r\n\r\nAnd `@Async` do execution of method in different thread, and this is why your test is not working.\r\n\r\nAs possible solution for your test - disable async:\r\nsee answers [here][2]\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/org.mockito/mockito-core/3.4.6/org/mockito/MockedStatic.html\r\n  [2]: https://stackoverflow.com/questions/47411267/spring-boot-disable-enableasync-for-integration-tests","title":"How to mock LocalDate time inside an @Async method while writing unit tests?","body":"<p><code>MockedStatic</code> is thread-local thing, as stated in Mockito <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/3.4.6/org/mockito/MockedStatic.html\" rel=\"nofollow noreferrer\">docs</a>.\nAlso you should call <code>close()</code> for this object.</p>\n<p>And <code>@Async</code> do execution of method in different thread, and this is why your test is not working.</p>\n<p>As possible solution for your test - disable async:\nsee answers <a href=\"https://stackoverflow.com/questions/47411267/spring-boot-disable-enableasync-for-integration-tests\">here</a></p>\n"}],"owner":{"account_id":15189074,"reputation":39,"user_id":18848766,"display_name":"NNFdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75399805,"answer_count":1,"score":1,"last_activity_date":1675951721,"creation_date":1675950751,"question_id":75399592,"body_markdown":"I need to mock LocalDateTime inside an @Async method. But mocked localdatetime does not work inside Async method.But removing async works as expected.I have attached the code so far. \r\n\r\n    public interface ConfigurationProcessor&lt;T&gt; {\r\n        void process(Configuration configuration);\r\n    }\r\n\r\nHere is the implementation of above interface\r\n\r\n        @Service\r\n        public class ConfigurationProcessoeStudents10Impl implements ConfigurationProcessor&lt;Student&gt; {\r\n            \r\n        \tprivate final StudentRepository studentRepository;\r\n        \r\n            @Autowired\r\n            public ConfigurationProcessoeStudents10Impl(StudentRepository studentRepository) {\r\n                this.studentRepository = studentRepository;\r\n        \t\t}\r\n        \t\r\n        \t@Override\r\n            @Async\r\n            public void process(Configuration configuration) {\r\n        \t\tstudentRepository.save(Student.builder().Name(configuration.name).Age(configuration.age).RegTime(LocalDateTime.now).build());\r\n        \t}\r\n    \r\n    }    \r\n\r\n\r\nThis is the unit test\r\n\r\n    @EnableAutoConfiguration\r\n    @SpringBootTest\r\n    public class StudentsC10IT {\r\n    \r\n      @Autowired\r\n      ConfigurationProcessor&lt;StudentC10&gt; configurationProcessor;\r\n      \r\n      @Test\r\n      @Tag(&quot;VerifyProcess&quot;)\r\n      @DisplayName(&quot;Verify kafka event consumer from configuration manager&quot;)\r\n      void verifyProcess(){\r\n       LocalDateTime lt = LocalDateTime.parse(&quot;2018-12-30T19:34:50.63&quot;);\r\n    \ttry (MockedStatic&lt;LocalDateTime&gt; localDateTimeMockedFourMonth = Mockito\r\n                .mockStatic(LocalDateTime.class, Mockito.CALLS_REAL_METHODS)) {\r\n          localDateTimeMockedFourMonth.when(LocalDateTime::now).thenReturn(lt));\r\n          configurationProcessor.process();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nNeed to know how to mock LocalDateTime inside this @Async method without using power mockito ?","title":"How to mock LocalDate time inside an @Async method while writing unit tests?","body":"<p>I need to mock LocalDateTime inside an @Async method. But mocked localdatetime does not work inside Async method.But removing async works as expected.I have attached the code so far.</p>\n<pre><code>public interface ConfigurationProcessor&lt;T&gt; {\n    void process(Configuration configuration);\n}\n</code></pre>\n<p>Here is the implementation of above interface</p>\n<pre><code>    @Service\n    public class ConfigurationProcessoeStudents10Impl implements ConfigurationProcessor&lt;Student&gt; {\n        \n        private final StudentRepository studentRepository;\n    \n        @Autowired\n        public ConfigurationProcessoeStudents10Impl(StudentRepository studentRepository) {\n            this.studentRepository = studentRepository;\n            }\n        \n        @Override\n        @Async\n        public void process(Configuration configuration) {\n            studentRepository.save(Student.builder().Name(configuration.name).Age(configuration.age).RegTime(LocalDateTime.now).build());\n        }\n\n}    \n</code></pre>\n<p>This is the unit test</p>\n<pre><code>@EnableAutoConfiguration\n@SpringBootTest\npublic class StudentsC10IT {\n\n  @Autowired\n  ConfigurationProcessor&lt;StudentC10&gt; configurationProcessor;\n  \n  @Test\n  @Tag(&quot;VerifyProcess&quot;)\n  @DisplayName(&quot;Verify kafka event consumer from configuration manager&quot;)\n  void verifyProcess(){\n   LocalDateTime lt = LocalDateTime.parse(&quot;2018-12-30T19:34:50.63&quot;);\n    try (MockedStatic&lt;LocalDateTime&gt; localDateTimeMockedFourMonth = Mockito\n            .mockStatic(LocalDateTime.class, Mockito.CALLS_REAL_METHODS)) {\n      localDateTimeMockedFourMonth.when(LocalDateTime::now).thenReturn(lt));\n      configurationProcessor.process();\n    }\n  }\n\n}\n</code></pre>\n<p>Need to know how to mock LocalDateTime inside this @Async method without using power mockito ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":418284,"reputation":6655,"user_id":794749,"display_name":"gre_gor"},"score":0,"creation_date":1675906229,"post_id":75393211,"comment_id":133030692,"body_markdown":"Does this answer your question? [Regex to match words of a certain length](https://stackoverflow.com/questions/9043820/regex-to-match-words-of-a-certain-length)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9043820/regex-to-match-words-of-a-certain-length\">Regex to match words of a certain length</a>"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1675935736,"post_id":75393211,"comment_id":133036090,"body_markdown":"Do you also want to match `a b c d` ? `^[^\\s._-]\\S{2,6}[^\\s._-]$` Note that `hellowor` is under the allowed strings section. See https://regex101.com/r/tni9rn/1","body":"Do you also want to match <code>a b c d</code> ? <code>^[^\\s._-]\\S{2,6}[^\\s._-]$</code> Note that <code>hellowor</code> is under the allowed strings section. See <a href=\"https://regex101.com/r/tni9rn/1\" rel=\"nofollow noreferrer\">regex101.com/r/tni9rn/1</a>"}],"answers":[{"comments":[{"owner":{"account_id":16586384,"reputation":947,"user_id":11985685,"display_name":"coding"},"score":0,"creation_date":1675905535,"post_id":75393221,"comment_id":133030599,"body_markdown":"but this example: hellowor -&gt; (length 8) is passing when it should not match because the length","body":"but this example: hellowor -&gt; (length 8) is passing when it should not match because the length"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1675905800,"post_id":75393221,"comment_id":133030633,"body_markdown":"@coding That&#39;s 4-8 characters though. Or did you mean 4 to 7 characters?","body":"@coding That&#39;s 4-8 characters though. Or did you mean 4 to 7 characters?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1675905864,"post_id":75393221,"comment_id":133030646,"body_markdown":"@coding Your question specifically lists `hellowor` as an allowed string.  And even if you really meant 4 to 7, instead of 4 to 8, this answer has told you what you need to know.  I&#39;m sure you can manage to subtract 1 from the 6 in the answer, without too much further help.","body":"@coding Your question specifically lists <code>hellowor</code> as an allowed string.  And even if you really meant 4 to 7, instead of 4 to 8, this answer has told you what you need to know.  I&#39;m sure you can manage to subtract 1 from the 6 in the answer, without too much further help."},{"owner":{"account_id":16586384,"reputation":947,"user_id":11985685,"display_name":"coding"},"score":0,"creation_date":1675966338,"post_id":75393221,"comment_id":133046506,"body_markdown":"Thank you, why if I just add &quot;^[^-_\\\\.](.*[^-_\\\\.])?.{4,8}$&quot; does not work? How can I know where I should set the string length","body":"Thank you, why if I just add &quot;^[^-_\\\\.](.*[^-_\\\\.])?.{4,8}$&quot; does not work? How can I know where I should set the string length"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675904721,"creation_date":1675904721,"answer_id":75393221,"question_id":75393211,"body_markdown":"After matching the first and last character, the length of the string in between must be 2-6 characters.\r\n\r\n```\r\n^[^._-].{2,6}[^._-]$\r\n```","title":"How can I set the string length of this regular expression?","body":"<p>After matching the first and last character, the length of the string in between must be 2-6 characters.</p>\n<pre><code>^[^._-].{2,6}[^._-]$\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1675907608,"post_id":75393284,"comment_id":133030874,"body_markdown":"Without some text that explains what your regex does and how it fixes the problem, it is just noise, which is why you&#39;re getting downvoted and risk having the answer deleted., I&#39;d suggest you review the [help] pages to learn how to properly write an answer and then edit yours here, or just delete it yourself.","body":"Without some text that explains what your regex does and how it fixes the problem, it is just noise, which is why you&#39;re getting downvoted and risk having the answer deleted., I&#39;d suggest you review the <a href=\"https://stackoverflow.com/help\">help center</a> pages to learn how to properly write an answer and then edit yours here, or just delete it yourself."}],"tags":[],"owner":{"account_id":23459330,"reputation":1,"user_id":17514376,"display_name":"cao_mei"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1675951632,"creation_date":1675905633,"answer_id":75393284,"question_id":75393211,"body_markdown":"Use this regex:\r\n\r\n`^[^-.、_][\\\\w-.、_]{2,6}[^-.、_]$`  ","title":"How can I set the string length of this regular expression?","body":"<p>Use this regex:</p>\n<p><code>^[^-.、_][\\\\w-.、_]{2,6}[^-.、_]$</code></p>\n"}],"owner":{"account_id":16586384,"reputation":947,"user_id":11985685,"display_name":"coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675951632,"creation_date":1675904590,"question_id":75393211,"body_markdown":"I am trying to build a regular expression with this criteria:\r\n\r\n - Not start or end with these characters &#39;-&#39;, &#39;.&#39;, &#39;_&#39;\r\n - The string must be between 4 to 8 length\r\n\r\nExample of allowed strings:\r\n\r\n - hello\r\n - hellowor\r\n - he_ll_ow\r\n - he-ll.ow\r\n\r\n\r\nNot allowed strings:\r\n\r\n - -hello\r\n - _hello\r\n - .hello\r\n - hello_\r\n - toolongstringhere\r\n - t\r\n\r\nCurrently, I have this expression:\r\n\r\n    Pattern.compile(&quot;^[^-_\\\\.](.*[^-_\\\\.])?$&quot;);\r\n\r\nThis is working for the allowed characters but when I tried to add the length the expression does not work anymore for the rule of the not allowed expressions at the end.","title":"How can I set the string length of this regular expression?","body":"<p>I am trying to build a regular expression with this criteria:</p>\n<ul>\n<li>Not start or end with these characters '-', '.', '_'</li>\n<li>The string must be between 4 to 8 length</li>\n</ul>\n<p>Example of allowed strings:</p>\n<ul>\n<li>hello</li>\n<li>hellowor</li>\n<li>he_ll_ow</li>\n<li>he-ll.ow</li>\n</ul>\n<p>Not allowed strings:</p>\n<ul>\n<li>-hello</li>\n<li>_hello</li>\n<li>.hello</li>\n<li>hello_</li>\n<li>toolongstringhere</li>\n<li>t</li>\n</ul>\n<p>Currently, I have this expression:</p>\n<pre><code>Pattern.compile(&quot;^[^-_\\\\.](.*[^-_\\\\.])?$&quot;);\n</code></pre>\n<p>This is working for the allowed characters but when I tried to add the length the expression does not work anymore for the rule of the not allowed expressions at the end.</p>\n"},{"tags":["java","spring-boot-actuator","health-monitoring","readinessprobe","livenessprobe"],"owner":{"account_id":18272756,"reputation":1,"user_id":13303220,"display_name":"Klea Allushaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675951586,"creation_date":1675951586,"question_id":75399770,"body_markdown":"`          readinessProbe:\r\n            httpGet:\r\n              port: 8080\r\n              path: actuator/health/readiness\r\n            initialDelaySeconds: 120\r\n            failureThreshold: 5\r\n            periodSeconds: 60\r\n          livenessProbe:\r\n            httpGet:\r\n              port: 8080\r\n              path: actuator/health/liveness\r\n            initialDelaySeconds: 300\r\n            failureThreshold: 3\r\n            periodSeconds: 60\r\n            timeoutSeconds: 5`\r\n\r\n\r\nRegarding the readinessProbe and livenessProbe the manifest configuration on a deployment.yaml file looks like below.\r\n\r\nI try to deploy on Jenkins successfully, and after checking the POD creation on LENS, eventhough the application logs are all correct the following error messages are displayed:#\r\n\r\n`Readiness probe failed: Get http://172.16.221.154:8080/actuator/health/readiness: dial tcp 172.16.221.154:8080: connect: connection refused`\r\n\r\n`Liveness probe failed: Get http://172.16.221.154:8080/actuator/health/liveness: dial tcp 172.16.221.154:8080: connect: connection refused`\r\n\r\nAny idea what might have caused this problem?\r\n\r\nThe Spring version used on this application is : 1.5.22","title":"What has caused Readiness probe failed error, after successfully deployed on Jenkins?","body":"<p><code>          readinessProbe: httpGet: port: 8080 path: actuator/health/readiness initialDelaySeconds: 120 failureThreshold: 5 periodSeconds: 60 livenessProbe: httpGet: port: 8080 path: actuator/health/liveness initialDelaySeconds: 300 failureThreshold: 3 periodSeconds: 60 timeoutSeconds: 5</code></p>\n<p>Regarding the readinessProbe and livenessProbe the manifest configuration on a deployment.yaml file looks like below.</p>\n<p>I try to deploy on Jenkins successfully, and after checking the POD creation on LENS, eventhough the application logs are all correct the following error messages are displayed:#</p>\n<p><code>Readiness probe failed: Get http://172.16.221.154:8080/actuator/health/readiness: dial tcp 172.16.221.154:8080: connect: connection refused</code></p>\n<p><code>Liveness probe failed: Get http://172.16.221.154:8080/actuator/health/liveness: dial tcp 172.16.221.154:8080: connect: connection refused</code></p>\n<p>Any idea what might have caused this problem?</p>\n<p>The Spring version used on this application is : 1.5.22</p>\n"},{"tags":["java","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675951307,"creation_date":1675951307,"answer_id":75399707,"question_id":75398537,"body_markdown":"Assuming you are asking for a way to get the message key after a constraint violation was received - you should be able to do that by working with that object. In particular, what you should look for - `ConstraintViolation#getMessageTemplate()`. This returns the non-interpolated error message for a constraint violation.\r\nFor example, having a class:\r\n\r\n    class Test {\r\n    \t@NotNull\r\n    \tString string;\r\n    \r\n    \tpublic Test(String string) {\r\n    \t\tthis.string = string;\r\n    \t}\r\n    }\r\n\r\nand then trying to do validation of the instance of such class:\r\n\r\n    Validator validator = Validation.buildDefaultValidatorFactory().getValidator()\r\n    Set&lt;ConstraintViolation&lt;Test&gt;&gt; violations = validator.validate( new Test( null ) );\r\n    ConstraintViolation&lt;Test&gt; violation = violations.iterator().next();\r\n    \r\n    assertEquals( &quot;{jakarta.validation.constraints.NotNull.message}&quot;, violation.getMessageTemplate() );\r\n\r\nIf you are working with some frameworks and you catch an exception of `ConstraintViolationException` - look at `ConstraintViolationException#getConstraintViolations()`, which would give you that same collection of violations as in the example above.","title":"Annotation return default key value","body":"<p>Assuming you are asking for a way to get the message key after a constraint violation was received - you should be able to do that by working with that object. In particular, what you should look for - <code>ConstraintViolation#getMessageTemplate()</code>. This returns the non-interpolated error message for a constraint violation.\nFor example, having a class:</p>\n<pre><code>class Test {\n    @NotNull\n    String string;\n\n    public Test(String string) {\n        this.string = string;\n    }\n}\n</code></pre>\n<p>and then trying to do validation of the instance of such class:</p>\n<pre><code>Validator validator = Validation.buildDefaultValidatorFactory().getValidator()\nSet&lt;ConstraintViolation&lt;Test&gt;&gt; violations = validator.validate( new Test( null ) );\nConstraintViolation&lt;Test&gt; violation = violations.iterator().next();\n\nassertEquals( &quot;{jakarta.validation.constraints.NotNull.message}&quot;, violation.getMessageTemplate() );\n</code></pre>\n<p>If you are working with some frameworks and you catch an exception of <code>ConstraintViolationException</code> - look at <code>ConstraintViolationException#getConstraintViolations()</code>, which would give you that same collection of violations as in the example above.</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75399707,"answer_count":1,"score":0,"last_activity_date":1675951530,"creation_date":1675945316,"question_id":75398537,"body_markdown":"when we use annotation\r\n\r\n**@NotNull** and there is a constraint validation who happen \r\n\r\nnot null return  automatically his message\r\n\r\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE }) @Retention(RUNTIME) @Repeatable(List.class) @Documented @Constraint(validatedBy = { }) public @interface NotNull {\r\n    \r\n    \tString message() default &quot;{jakarta.validation.constraints.NotNull.message}&quot;;\r\n    \r\n    \tClass&lt;?&gt;[] groups() default { };\r\n    \r\n    \tClass&lt;? extends Payload&gt;[] payload() default { };\r\n    \r\n    \t/** \t * Defines several {@link NotNull} annotations on the same element. \t * \t * @see jakarta.validation.constraints.NotNull \t */ \t@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE }) \t@Retention(RUNTIME) \t@Documented \t@interface List {\r\n    \r\n    \t\tNotNull[] value(); \t} }\r\n\r\n\r\nit there a way to return his key so: \r\n\r\n    jakarta.validation.constraints.NotNull.message","title":"Annotation return default key value","body":"<p>when we use annotation</p>\n<p><strong>@NotNull</strong> and there is a constraint validation who happen</p>\n<p>not null return  automatically his message</p>\n<pre><code>@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE }) @Retention(RUNTIME) @Repeatable(List.class) @Documented @Constraint(validatedBy = { }) public @interface NotNull {\n\n    String message() default &quot;{jakarta.validation.constraints.NotNull.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { };\n\n    /**      * Defines several {@link NotNull} annotations on the same element.      *   * @see jakarta.validation.constraints.NotNull   */     @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })   @Retention(RUNTIME)     @Documented     @interface List {\n\n        NotNull[] value();  } }\n</code></pre>\n<p>it there a way to return his key so:</p>\n<pre><code>jakarta.validation.constraints.NotNull.message\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-batch-integration"],"answers":[{"comments":[{"owner":{"account_id":13788926,"reputation":163,"user_id":9951983,"display_name":"Rahul Dey"},"score":0,"creation_date":1624013401,"post_id":67981772,"comment_id":120247476,"body_markdown":"`maxWaitTimeouts` is applicable during `afterStep`. But this is happening during the `write()` which runs into an infinite loop.","body":"<code>maxWaitTimeouts</code> is applicable during <code>afterStep</code>. But this is happening during the <code>write()</code> which runs into an infinite loop."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1624259632,"post_id":67981772,"comment_id":120299362,"body_markdown":"Can you provide a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue? There is a remote-chunking sample with an embedded broker here: https://github.com/spring-projects/spring-batch/tree/main/spring-batch-samples/src/main/java/org/springframework/batch/sample/remotechunking. If you manage to create a sample that reproduces the issue with it, please open an issue on GitHub and add a reference to this SO question and I will take a look in details.","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue? There is a remote-chunking sample with an embedded broker here: <a href=\"https://github.com/spring-projects/spring-batch/tree/main/spring-batch-samples/src/main/java/org/springframework/batch/sample/remotechunking\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/tree/main/&hellip;</a>. If you manage to create a sample that reproduces the issue with it, please open an issue on GitHub and add a reference to this SO question and I will take a look in details."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623741810,"creation_date":1623741810,"answer_id":67981772,"question_id":67939192,"body_markdown":"&gt; Is there any way to perform the timeout from the manager end if it doesn&#39;t get any reply from the workers for some quite an amount of time and mark the job as failed?\r\n\r\nYou can set the `maxWaitTimeouts` on the `ChunkMessageChannelItemWriter` parameters for that. ","title":"Spring batch integration remote chunking timeout for manager","body":"<blockquote>\n<p>Is there any way to perform the timeout from the manager end if it doesn't get any reply from the workers for some quite an amount of time and mark the job as failed?</p>\n</blockquote>\n<p>You can set the <code>maxWaitTimeouts</code> on the <code>ChunkMessageChannelItemWriter</code> parameters for that.</p>\n"}],"owner":{"account_id":13788926,"reputation":163,"user_id":9951983,"display_name":"Rahul Dey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675951334,"creation_date":1623423170,"question_id":67939192,"body_markdown":"In spring batch remote chunking, consider a situation where the worker consumers are not available. In that case the manager publishes number of items equal to the throttle limit and waits for the reply from the workers. I have the `receiveTimeout` for the `MessagingTemplate` set to `5000`. This [loop][1] from `ChunkMessageChannelItemWriter` `write()` is running infinitely because after every 5 seconds, the `MessagingTemplate` `receive()` timeout and returns null [here][2]. It doesn&#39;t perform anything if the result is null and thus falls into infinite loop. \r\n\r\nIn this scenario, the Job remains in an `UNKNOWN` state. Is there any way to perform the timeout from the manager end if it doesn&#39;t get any reply from the workers for some amount of time and mark the job as failed?\r\n\r\n [1]: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-integration/src/main/java/org/springframework/batch/integration/chunk/ChunkMessageChannelItemWriter.java#L98-L100\r\n [2]: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-integration/src/main/java/org/springframework/batch/integration/chunk/ChunkMessageChannelItemWriter.java#L225","title":"Spring batch integration remote chunking timeout for manager","body":"<p>In spring batch remote chunking, consider a situation where the worker consumers are not available. In that case the manager publishes number of items equal to the throttle limit and waits for the reply from the workers. I have the <code>receiveTimeout</code> for the <code>MessagingTemplate</code> set to <code>5000</code>. This <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-integration/src/main/java/org/springframework/batch/integration/chunk/ChunkMessageChannelItemWriter.java#L98-L100\" rel=\"nofollow noreferrer\">loop</a> from <code>ChunkMessageChannelItemWriter</code> <code>write()</code> is running infinitely because after every 5 seconds, the <code>MessagingTemplate</code> <code>receive()</code> timeout and returns null <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-integration/src/main/java/org/springframework/batch/integration/chunk/ChunkMessageChannelItemWriter.java#L225\" rel=\"nofollow noreferrer\">here</a>. It doesn't perform anything if the result is null and thus falls into infinite loop.</p>\n<p>In this scenario, the Job remains in an <code>UNKNOWN</code> state. Is there any way to perform the timeout from the manager end if it doesn't get any reply from the workers for some amount of time and mark the job as failed?</p>\n"},{"tags":["java","html","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675951320,"creation_date":1519761565,"answer_id":49016968,"question_id":49016838,"body_markdown":"There are few ways to do it. \r\n\r\nFor instance we could use `select` method which returns `Elements` with all specified elements. Since `Elements extends ArrayList&lt;Element&gt;` it inherits all of `ArrayList` public methods. This means we can use `get(index)` method to select specific child (starting from 0)\r\n\r\n     String html = \r\n            &quot;&lt;div&gt;\\n&quot; +\r\n            &quot;    &lt;div&gt;\\n&quot; +\r\n            &quot;        first\\n&quot; +\r\n            &quot;    &lt;/div&gt;\\n&quot; +\r\n            &quot;    &lt;div&gt;\\n&quot; +\r\n            &quot;        second\\n&quot; +\r\n            &quot;    &lt;/div&gt;\\n&quot; +\r\n            &quot;    &lt;div&gt;\\n&quot; +\r\n            &quot;        third\\n&quot; +\r\n            &quot;    &lt;/div&gt;\\n&quot; +\r\n            &quot;&lt;/div&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    Elements select = doc.select(&quot;div &gt; div&quot;);\r\n    System.out.println(select.get(1));\r\n\r\nOutput:\r\n\r\n    &lt;div&gt;\r\n      second \r\n    &lt;/div&gt;\r\n\r\nAnother way could be using `:eq(n)` in CSS selector (from [official Jsoup tutorial][1])\r\n\r\n&gt;`:eq(n)`: find elements whose sibling index is equal to `n`; e.g. form `input:eq(1)`\r\n\r\nlike\r\n\r\n    System.out.println(doc.select(&quot;div &gt; div:eq(1)&quot;));\r\n\r\n\r\n  [1]: https://jsoup.org/cookbook/extracting-data/selector-syntax","title":"Get n-th child Element with Jsoup","body":"<p>There are few ways to do it.</p>\n<p>For instance we could use <code>select</code> method which returns <code>Elements</code> with all specified elements. Since <code>Elements extends ArrayList&lt;Element&gt;</code> it inherits all of <code>ArrayList</code> public methods. This means we can use <code>get(index)</code> method to select specific child (starting from 0)</p>\n<pre><code> String html = \n        &quot;&lt;div&gt;\\n&quot; +\n        &quot;    &lt;div&gt;\\n&quot; +\n        &quot;        first\\n&quot; +\n        &quot;    &lt;/div&gt;\\n&quot; +\n        &quot;    &lt;div&gt;\\n&quot; +\n        &quot;        second\\n&quot; +\n        &quot;    &lt;/div&gt;\\n&quot; +\n        &quot;    &lt;div&gt;\\n&quot; +\n        &quot;        third\\n&quot; +\n        &quot;    &lt;/div&gt;\\n&quot; +\n        &quot;&lt;/div&gt;&quot;;\nDocument doc = Jsoup.parse(html);\nElements select = doc.select(&quot;div &gt; div&quot;);\nSystem.out.println(select.get(1));\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;div&gt;\n  second \n&lt;/div&gt;\n</code></pre>\n<p>Another way could be using <code>:eq(n)</code> in CSS selector (from <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">official Jsoup tutorial</a>)</p>\n<blockquote>\n<p><code>:eq(n)</code>: find elements whose sibling index is equal to <code>n</code>; e.g. form <code>input:eq(1)</code></p>\n</blockquote>\n<p>like</p>\n<pre><code>System.out.println(doc.select(&quot;div &gt; div:eq(1)&quot;));\n</code></pre>\n"}],"owner":{"account_id":13000873,"reputation":79,"user_id":9397037,"display_name":"AmirReza Hosseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49016968,"answer_count":1,"score":4,"last_activity_date":1675951320,"creation_date":1519761014,"question_id":49016838,"body_markdown":"For example a web site has a code like this:\r\n\r\n    &lt;div&gt;\r\n        &lt;div&gt;\r\n            first\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            second\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            third\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nand I want to get the &quot;second&quot; div text with &quot;Jsoup&quot; and it has no attribute or class. ","title":"Get n-th child Element with Jsoup","body":"<p>For example a web site has a code like this:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;div&gt;\n        first\n    &lt;/div&gt;\n    &lt;div&gt;\n        second\n    &lt;/div&gt;\n    &lt;div&gt;\n        third\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and I want to get the \"second\" div text with \"Jsoup\" and it has no attribute or class. </p>\n"},{"tags":["java","char","switch-statement"],"comments":[{"owner":{"account_id":1188816,"reputation":3407,"user_id":1162168,"display_name":"Michael Schmei&#223;er"},"score":5,"creation_date":1332827299,"post_id":9883113,"comment_id":12606659,"body_markdown":"I just want to point out that I haven&#39;t used the switch statement for ages and I program Java nearly every day. The reason is that I find it bad style because it is kind of a goto and there is always a different solution which I like better. In your case, you could use a Map or an enum (which is often a good replacement) with the methods boolean matches(char c) and File getImage()","body":"I just want to point out that I haven&#39;t used the switch statement for ages and I program Java nearly every day. The reason is that I find it bad style because it is kind of a goto and there is always a different solution which I like better. In your case, you could use a Map or an enum (which is often a good replacement) with the methods boolean matches(char c) and File getImage()"},{"owner":{"account_id":109614,"reputation":13954,"user_id":290340,"accept_rate":89,"display_name":"Evan Plaice"},"score":5,"creation_date":1350980532,"post_id":9883113,"comment_id":17681613,"body_markdown":"@MichaelSchmei&#223;er In that case, then you might also want to reconsider using for/while loops too because they&#39;re another form of Goto /s. That&#39;s why they also contain break/continue keywords. In all seriousness, &#39;switch&#39; is *not* goto because it provides its own block scope. It&#39;s just another tool in the toolbox and for this specific use case it&#39;s also the most appropriate.","body":"@MichaelSchmei&#223;er In that case, then you might also want to reconsider using for/while loops too because they&#39;re another form of Goto /s. That&#39;s why they also contain break/continue keywords. In all seriousness, &#39;switch&#39; is <i>not</i> goto because it provides its own block scope. It&#39;s just another tool in the toolbox and for this specific use case it&#39;s also the most appropriate."}],"answers":[{"comments":[{"owner":{"account_id":1180429,"reputation":1117,"user_id":1155474,"accept_rate":100,"display_name":"GlassZee"},"score":0,"creation_date":1332820292,"post_id":9883119,"comment_id":12605498,"body_markdown":"Ah, thanks for that example. I thought of making the input string into all caps before but didn&#39;t know how possible it was so thanks for the second example too.","body":"Ah, thanks for that example. I thought of making the input string into all caps before but didn&#39;t know how possible it was so thanks for the second example too."},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":10,"creation_date":1332820450,"post_id":9883119,"comment_id":12605524,"body_markdown":"Actually, on the off-chance the case of `c` needs to be preserved, I would put the `toUpperCase` inside the switch. But +1 since this saves a lot of lines of unnecessary `case` statements :-)","body":"Actually, on the off-chance the case of <code>c</code> needs to be preserved, I would put the <code>toUpperCase</code> inside the switch. But +1 since this saves a lot of lines of unnecessary <code>case</code> statements :-)"}],"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":2,"down_vote_count":0,"up_vote_count":218,"is_accepted":true,"score":218,"last_activity_date":1389128441,"creation_date":1332819951,"answer_id":9883119,"question_id":9883113,"body_markdown":"You can use switch-case fall through by omitting the `break;` statement.\r\n\r\n    char c = /* whatever */;\r\n    \r\n    switch(c) {\r\n        case &#39;a&#39;:\r\n        case &#39;A&#39;:\r\n            //get the &#39;A&#39; image;\r\n            break;\r\n        case &#39;b&#39;:\r\n        case &#39;B&#39;:\r\n            //get the &#39;B&#39; image;\r\n            break;\r\n        // (...)\r\n        case &#39;z&#39;:\r\n        case &#39;Z&#39;:\r\n            //get the &#39;Z&#39; image;\r\n            break;\r\n    }\r\n    \r\n...or you could just normalize to [lower case][1] or [upper case][2] before `switch`ing.\r\n\r\n    char c = Character.toUpperCase(/* whatever */);\r\n    \r\n    switch(c) {\r\n        case &#39;A&#39;:\r\n            //get the &#39;A&#39; image;\r\n            break;\r\n        case &#39;B&#39;:\r\n            //get the &#39;B&#39; image;\r\n            break;\r\n        // (...)\r\n        case &#39;Z&#39;:\r\n            //get the &#39;Z&#39; image;\r\n            break;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toLowerCase%28char%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toUpperCase%28char%29","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>You can use switch-case fall through by omitting the <code>break;</code> statement.</p>\n\n<pre><code>char c = /* whatever */;\n\nswitch(c) {\n    case 'a':\n    case 'A':\n        //get the 'A' image;\n        break;\n    case 'b':\n    case 'B':\n        //get the 'B' image;\n        break;\n    // (...)\n    case 'z':\n    case 'Z':\n        //get the 'Z' image;\n        break;\n}\n</code></pre>\n\n<p>...or you could just normalize to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toLowerCase%28char%29\">lower case</a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toUpperCase%28char%29\">upper case</a> before <code>switch</code>ing.</p>\n\n<pre><code>char c = Character.toUpperCase(/* whatever */);\n\nswitch(c) {\n    case 'A':\n        //get the 'A' image;\n        break;\n    case 'B':\n        //get the 'B' image;\n        break;\n    // (...)\n    case 'Z':\n        //get the 'Z' image;\n        break;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":6,"creation_date":1332820322,"post_id":9883142,"comment_id":12605505,"body_markdown":"I don&#39;t know how helpful that first bit is to the OP.","body":"I don&#39;t know how helpful that first bit is to the OP."},{"owner":{"account_id":285,"reputation":53172,"user_id":356,"accept_rate":100,"display_name":"Dinah"},"score":2,"creation_date":1332899537,"post_id":9883142,"comment_id":12630718,"body_markdown":"@MДΓΓБДLL: The comment about AND was showing why the OP wants OR rather than AND. The OR part is the same as the accepted answer so I hope it&#39;s relevant.","body":"@MДΓΓБДLL: The comment about AND was showing why the OP wants OR rather than AND. The OR part is the same as the accepted answer so I hope it&#39;s relevant."}],"tags":[],"owner":{"account_id":285,"reputation":53172,"user_id":356,"accept_rate":100,"display_name":"Dinah"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1332820213,"creation_date":1332820213,"answer_id":9883142,"question_id":9883113,"body_markdown":"Above, you mean OR not AND. Example of AND: 110 &amp; 011 == 010 which is neither of the things you&#39;re looking for.\r\n\r\nFor OR, just have 2 cases without the break on the 1st. Eg:\r\n\r\n    case &#39;a&#39;:\r\n    case &#39;A&#39;:\r\n      // do stuff\r\n      break;","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>Above, you mean OR not AND. Example of AND: 110 &amp; 011 == 010 which is neither of the things you're looking for.</p>\n\n<p>For OR, just have 2 cases without the break on the 1st. Eg:</p>\n\n<pre><code>case 'a':\ncase 'A':\n  // do stuff\n  break;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1308075,"reputation":96581,"user_id":1256624,"display_name":"huon"},"score":3,"creation_date":1332835127,"post_id":9885319,"comment_id":12608748,"body_markdown":"`== 0` is not correct. That is saying &quot;is `c` the first character of the string?&quot;, you probably want either `&gt;= 0` or `!= -1`.","body":"<code>== 0</code> is not correct. That is saying &quot;is <code>c</code> the first character of the string?&quot;, you probably want either <code>&gt;= 0</code> or <code>!= -1</code>."},{"owner":{"account_id":271547,"reputation":5692,"user_id":562139,"accept_rate":75,"display_name":"scorpiodawg"},"score":1,"creation_date":1332835549,"post_id":9885319,"comment_id":12608859,"body_markdown":"@dbaupp: oops, you&#39;re right. I was thinking of compareTo() instead of indexOf(). Fixed.","body":"@dbaupp: oops, you&#39;re right. I was thinking of compareTo() instead of indexOf(). Fixed."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1332860597,"post_id":9885319,"comment_id":12618320,"body_markdown":"Some of those tests can be replaced with existing methods from [`Character`](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html), such as the &quot;is digit&quot; case.","body":"Some of those tests can be replaced with existing methods from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html\" rel=\"nofollow noreferrer\"><code>Character</code></a>, such as the &quot;is digit&quot; case."}],"tags":[],"owner":{"account_id":271547,"reputation":5692,"user_id":562139,"accept_rate":75,"display_name":"scorpiodawg"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1332835509,"creation_date":1332834335,"answer_id":9885319,"question_id":9883113,"body_markdown":"The above are all excellent answers. I just wanted to add that when there are multiple characters to check against, an if-else might turn out better since you could instead write the following.\r\n\r\n    // switch on vowels, digits, punctuation, or consonants\r\n    char c; // assign some character to &#39;c&#39;\r\n    if (&quot;aeiouAEIOU&quot;.indexOf(c) != -1) {\r\n      // handle vowel case\r\n    } else if (&quot;!@#$%,.&quot;.indexOf(c) != -1) {\r\n      // handle punctuation case\r\n    } else if (&quot;0123456789&quot;.indexOf(c) != -1) {\r\n      // handle digit case\r\n    } else {\r\n      // handle consonant case, assuming other characters are not possible\r\n    }\r\n\r\nOf course, if this gets any more complicated, I&#39;d recommend a regex matcher.\r\n\r\n","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>The above are all excellent answers. I just wanted to add that when there are multiple characters to check against, an if-else might turn out better since you could instead write the following.</p>\n\n<pre><code>// switch on vowels, digits, punctuation, or consonants\nchar c; // assign some character to 'c'\nif (\"aeiouAEIOU\".indexOf(c) != -1) {\n  // handle vowel case\n} else if (\"!@#$%,.\".indexOf(c) != -1) {\n  // handle punctuation case\n} else if (\"0123456789\".indexOf(c) != -1) {\n  // handle digit case\n} else {\n  // handle consonant case, assuming other characters are not possible\n}\n</code></pre>\n\n<p>Of course, if this gets any more complicated, I'd recommend a regex matcher.</p>\n"},{"tags":[],"owner":{"account_id":103377,"reputation":103,"user_id":276917,"accept_rate":25,"display_name":"Manan Pancholi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332848785,"creation_date":1332848785,"answer_id":9888953,"question_id":9883113,"body_markdown":"From what I understand about your question, before passing the character into the switch statement, you can convert it to lowercase. So you don&#39;t have to worry about upper cases because they are automatically converted to lower case.\r\nFor that you need to use the below function:\r\n\r\n    Character.toLowerCase(c);","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>From what I understand about your question, before passing the character into the switch statement, you can convert it to lowercase. So you don't have to worry about upper cases because they are automatically converted to lower case.\nFor that you need to use the below function:</p>\n\n<pre><code>Character.toLowerCase(c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456392203,"creation_date":1456392203,"answer_id":35623081,"question_id":9883113,"body_markdown":"Observations on an interesting `Switch case` trap --&gt; `fall through` of `switch`\r\n\r\n**&quot;The break statements are necessary because without them, statements in switch blocks fall through:&quot;**\r\n[Java Doc&#39;s example][1] \r\n\r\nSnippet of consecutive `case` without `break`:\r\n\r\n        char c = &#39;A&#39;;/* switch with lower case */;\r\n\t\tswitch(c) {\r\n\t\t    case &#39;a&#39;:\r\n\t\t    \tSystem.out.println(&quot;a&quot;);\r\n\t\t    case &#39;A&#39;:\r\n\t\t        System.out.println(&quot;A&quot;);\r\n\t\t        break;\r\n\t\t}\r\nO/P for this case is:\r\n\r\n`A`\r\n\r\nBut if you change value of c, i.e., `char c = &#39;a&#39;;`, then this get interesting.\r\n\r\nO/P for this case is:\r\n\r\n`a\r\nA`\r\n\r\nEven though the 2nd case test fails, program goes onto print `A`, due to missing `break` which causes `switch` to treat the rest of the code as a block. All statements after the matching case label are executed in sequence.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/examples/SwitchDemoFallThrough.java","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>Observations on an interesting <code>Switch case</code> trap --> <code>fall through</code> of <code>switch</code></p>\n\n<p><strong>\"The break statements are necessary because without them, statements in switch blocks fall through:\"</strong>\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/examples/SwitchDemoFallThrough.java\" rel=\"nofollow\">Java Doc's example</a> </p>\n\n<p>Snippet of consecutive <code>case</code> without <code>break</code>:</p>\n\n<pre><code>    char c = 'A';/* switch with lower case */;\n    switch(c) {\n        case 'a':\n            System.out.println(\"a\");\n        case 'A':\n            System.out.println(\"A\");\n            break;\n    }\n</code></pre>\n\n<p>O/P for this case is:</p>\n\n<p><code>A</code></p>\n\n<p>But if you change value of c, i.e., <code>char c = 'a';</code>, then this get interesting.</p>\n\n<p>O/P for this case is:</p>\n\n<p><code>a\nA</code></p>\n\n<p>Even though the 2nd case test fails, program goes onto print <code>A</code>, due to missing <code>break</code> which causes <code>switch</code> to treat the rest of the code as a block. All statements after the matching case label are executed in sequence.</p>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675950989,"creation_date":1669840912,"answer_id":74633928,"question_id":9883113,"body_markdown":"*Enhanced switch/ case* / *Switch with arrows* syntax (Since Java 13):\r\n\r\n    char c;\r\n    switch (c) {\r\n        case &#39;A&#39;, &#39;a&#39; -&gt; {} // c is either &#39;A&#39; or &#39;a&#39;.\r\n        case ...\r\n    }","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p><em>Enhanced switch/ case</em> / <em>Switch with arrows</em> syntax (Since Java 13):</p>\n<pre><code>char c;\nswitch (c) {\n    case 'A', 'a' -&gt; {} // c is either 'A' or 'a'.\n    case ...\n}\n</code></pre>\n"}],"owner":{"account_id":1180429,"reputation":1117,"user_id":1155474,"accept_rate":100,"display_name":"GlassZee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139005,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":9883119,"answer_count":6,"score":85,"last_activity_date":1675950989,"creation_date":1332819889,"question_id":9883113,"body_markdown":"I implemented a font system that finds out which letter to use via char switch statements. There are only capital letters in my font image. I need to make it so that, for example, &#39;a&#39; and &#39;A&#39; both have the same output. Instead of having 2x the amount of cases, could it be something like the following:\r\n\r\n    char c;\r\n\r\n    switch(c){\r\n    case &#39;a&#39; &amp; &#39;A&#39;: /*get the &#39;A&#39; image*/; break;\r\n    case &#39;b&#39; &amp; &#39;B&#39;: /*get the &#39;B&#39; image*/; break;\r\n    ...\r\n    case &#39;z&#39; &amp; &#39;Z&#39;: /*get the &#39;Z&#39; image*/; break;\r\n    }\r\n\r\nIs this possible in java?","title":"Java Switch Statement - Is &quot;or&quot;/&quot;and&quot; possible?","body":"<p>I implemented a font system that finds out which letter to use via char switch statements. There are only capital letters in my font image. I need to make it so that, for example, 'a' and 'A' both have the same output. Instead of having 2x the amount of cases, could it be something like the following:</p>\n\n<pre><code>char c;\n\nswitch(c){\ncase 'a' &amp; 'A': /*get the 'A' image*/; break;\ncase 'b' &amp; 'B': /*get the 'B' image*/; break;\n...\ncase 'z' &amp; 'Z': /*get the 'Z' image*/; break;\n}\n</code></pre>\n\n<p>Is this possible in java?</p>\n"},{"tags":["java","oauth-2.0","snowflake-cloud-data-platform","spring-security-oauth2"],"owner":{"account_id":6806243,"reputation":125,"user_id":5237868,"display_name":"Nid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675950880,"creation_date":1675950880,"question_id":75399614,"body_markdown":"I have a Spring boot Java application (with Snowflake DB) which has React Js inside same JAR package. Now i want to use Snowflake OAuth for Single SIgn on.\r\nAs per Snowflake documentation, i created security integration and configured it in application.properties file\r\n&lt;https://docs.snowflake.com/en/user-guide/oauth-custom.html&gt;\r\n\r\n```\r\nsecurity.oauth2.client.client-id=AZTI********LU\r\nsecurity.oauth2.client.user-authorization-uri=https://***.us-east-1.snowflakecomputing.com/oauth/authorize\r\nsecurity.oauth2.client.access-token-uri=https://***.us-east-1.snowflakecomputing.com/oauth/token-request\r\nsecurity.oauth2.resource.user-info-uri=http://localhost:9001/\r\nsecurity.oauth2.client.registered-redirect-uri=http://localhost:9001/api/caller1\r\n```\r\nNow I am confused on below points:\r\n\r\n 1.  maven dependency to be used? and which annotation to be defined in Controller class to make use of OAuth SSO.\r\n 2. how to get user related info in registered-redirect-uri=http://localhost:9001/api/caller1?\r\n 3. do i need to create this API call in Controller? http://localhost:9001/login\r\n\r\nSpring boot version=2.7.4, Java=11","title":"Snowflake OAuth with Spring boot Java Application","body":"<p>I have a Spring boot Java application (with Snowflake DB) which has React Js inside same JAR package. Now i want to use Snowflake OAuth for Single SIgn on.\nAs per Snowflake documentation, i created security integration and configured it in application.properties file\n<a href=\"https://docs.snowflake.com/en/user-guide/oauth-custom.html\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/user-guide/oauth-custom.html</a></p>\n<pre><code>security.oauth2.client.client-id=AZTI********LU\nsecurity.oauth2.client.user-authorization-uri=https://***.us-east-1.snowflakecomputing.com/oauth/authorize\nsecurity.oauth2.client.access-token-uri=https://***.us-east-1.snowflakecomputing.com/oauth/token-request\nsecurity.oauth2.resource.user-info-uri=http://localhost:9001/\nsecurity.oauth2.client.registered-redirect-uri=http://localhost:9001/api/caller1\n</code></pre>\n<p>Now I am confused on below points:</p>\n<ol>\n<li>maven dependency to be used? and which annotation to be defined in Controller class to make use of OAuth SSO.</li>\n<li>how to get user related info in registered-redirect-uri=http://localhost:9001/api/caller1?</li>\n<li>do i need to create this API call in Controller? http://localhost:9001/login</li>\n</ol>\n<p>Spring boot version=2.7.4, Java=11</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":1,"creation_date":1558218261,"post_id":56203286,"comment_id":99029071,"body_markdown":"The code you provided does not even compile. Beside that it&#39;s not quiet clear what you are trying to achieve.","body":"The code you provided does not even compile. Beside that it&#39;s not quiet clear what you are trying to achieve."},{"owner":{"account_id":15918232,"reputation":71,"user_id":11486126,"display_name":"Bilgin Silahtaroğlu"},"score":0,"creation_date":1558218522,"post_id":56203286,"comment_id":99029110,"body_markdown":"I want to learn that can I continue the lamda expression after anyMatch. Like list.stream(),anyMatch(true).do(dosomething).orElse(dosomething);","body":"I want to learn that can I continue the lamda expression after anyMatch. Like list.stream(),anyMatch(true).do(dosomething).orElse(dosometh&zwnj;&#8203;ing);"},{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1558218627,"post_id":56203286,"comment_id":99029121,"body_markdown":"`anyMatch()` returns a primitive `boolean`, so you obviously can not continue the lambda expression.","body":"<code>anyMatch()</code> returns a primitive <code>boolean</code>, so you obviously can not continue the lambda expression."},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1558218775,"post_id":56203286,"comment_id":99029147,"body_markdown":"You can cheat your way around using `filter(e -&gt; /*condition*/).findAny().ifPresent(e -&gt; /*consumer*/)`. However, there is no `orElse`.","body":"You can cheat your way around using <code>filter(e -&gt; &#47;*condition*&#47;).findAny().ifPresent(e -&gt; &#47;*consumer*&#47;)</code>. However, there is no <code>orElse</code>."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1558218950,"post_id":56203286,"comment_id":99029180,"body_markdown":"The lambda can do almost whatever you want it to do -- on a per-element basis -- before it returns a `boolean` (as `Stream.anyMatch()` requires).  The ultimate result of `anyMatch()` itself is necessarily outside the scope of the lambda passed as its argument.","body":"The lambda can do almost whatever you want it to do -- on a per-element basis -- before it returns a <code>boolean</code> (as <code>Stream.anyMatch()</code> requires).  The ultimate result of <code>anyMatch()</code> itself is necessarily outside the scope of the lambda passed as its argument."},{"owner":{"account_id":15918232,"reputation":71,"user_id":11486126,"display_name":"Bilgin Silahtaroğlu"},"score":0,"creation_date":1558219247,"post_id":56203286,"comment_id":99029217,"body_markdown":"cool one but I cannot do Else in this way.","body":"cool one but I cannot do Else in this way."},{"owner":{"account_id":15918232,"reputation":71,"user_id":11486126,"display_name":"Bilgin Silahtaroğlu"},"score":0,"creation_date":1558219289,"post_id":56203286,"comment_id":99029224,"body_markdown":"filter(e -&gt; /*condition*/).findAny().ifPresent(e -&gt; /*consumer*/) ifNotPresent?","body":"filter(e -&gt; /*condition*/).findAny().ifPresent(e -&gt; /*consumer*/) ifNotPresent?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1558449985,"post_id":56203394,"comment_id":99100504,"body_markdown":"I don’t see, how this relates to `anyMatch`, which returns a `boolean`. Besides, it wouldn’t be an improvement over a simple `if(myList.stream().anyMatch(m -&gt; m.getName().equals(&quot;a&quot;))) { do something } else { do something other }` anyway.","body":"I don’t see, how this relates to <code>anyMatch</code>, which returns a <code>boolean</code>. Besides, it wouldn’t be an improvement over a simple <code>if(myList.stream().anyMatch(m -&gt; m.getName().equals(&quot;a&quot;))) { do something } else { do something other }</code> anyway."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1558453344,"post_id":56203394,"comment_id":99102583,"body_markdown":"@Holger I tried to clarify my answer a little. Anyway since as you mentioned `anyMatch` returns boolean I suspect that it was used only as an example and *main* question/intention is more along &quot;how to express `if(valueInStream){ handleValue } else { doSomethingElse }` with stream/lambda?&quot;. I can&#39;t disagree with `if(myList.stream().anyMatch(m -&gt; m.getName().equals(&quot;a&quot;))) { do something } else { do something other }` being simpler, but in cases where stream is more complex ending it with `.ifPresentOrElse(MyClass::handleValue, MyClass::handleLackOfValue)` could also be reasonable.","body":"@Holger I tried to clarify my answer a little. Anyway since as you mentioned <code>anyMatch</code> returns boolean I suspect that it was used only as an example and <i>main</i> question/intention is more along &quot;how to express <code>if(valueInStream){ handleValue } else { doSomethingElse }</code> with stream/lambda?&quot;. I can&#39;t disagree with <code>if(myList.stream().anyMatch(m -&gt; m.getName().equals(&quot;a&quot;))) { do something } else { do something other }</code> being simpler, but in cases where stream is more complex ending it with <code>.ifPresentOrElse(MyClass::handleValue, MyClass::handleLackOfValue)</code> could also be reasonable."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1558454291,"post_id":56203394,"comment_id":99103136,"body_markdown":"Well, yes, if the value is needed, `.findAny().ifPresentOrElse(…)` is a reasonable choice. But then, the question’s example would have been poorly chosen.","body":"Well, yes, if the value is needed, <code>.findAny().ifPresentOrElse(…)</code> is a reasonable choice. But then, the question’s example would have been poorly chosen."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1675950740,"creation_date":1558219314,"answer_id":56203394,"question_id":56203286,"body_markdown":"Since Java 9 `Optional` class added\r\n\r\n[`public void ifPresentOrElse​(Consumer&lt;? super T&gt; action, Runnable emptyAction)`][1] \r\n\r\nAlso instead of `anyMatch(&lt;&lt;yourCondition&gt;&gt;)` which returns `boolean` you can use `filter(&lt;&lt;yourCondition&gt;&gt;).findAny()` which returns `Optional`. \r\n\r\nSo you can combine it and write code like\r\n\r\n    \r\n    yourStream\r\n        .filter(m -&gt; m.getName().equals(&quot;a&quot;)) //your condition\r\n        .findAny() //returns Optional\r\n        .ifPresentOrElse(\r\n            // action when value exists \r\n            value -&gt; System.out.println(&quot;There was a value &quot;+value),\r\n\r\n            // action when there was no value\r\n            () -&gt; System.out.println(&quot;No value found&quot;)\r\n        );\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)","title":"Lambda - if anyMatch do something orElse do something","body":"<p>Since Java 9 <code>Optional</code> class added</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#ifPresentOrElse(java.util.function.Consumer,java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>public void ifPresentOrElse​(Consumer&lt;? super T&gt; action, Runnable emptyAction)</code></a></p>\n<p>Also instead of <code>anyMatch(&lt;&lt;yourCondition&gt;&gt;)</code> which returns <code>boolean</code> you can use <code>filter(&lt;&lt;yourCondition&gt;&gt;).findAny()</code> which returns <code>Optional</code>.</p>\n<p>So you can combine it and write code like</p>\n<pre><code>yourStream\n    .filter(m -&gt; m.getName().equals(&quot;a&quot;)) //your condition\n    .findAny() //returns Optional\n    .ifPresentOrElse(\n        // action when value exists \n        value -&gt; System.out.println(&quot;There was a value &quot;+value),\n\n        // action when there was no value\n        () -&gt; System.out.println(&quot;No value found&quot;)\n    );\n</code></pre>\n"}],"owner":{"account_id":15918232,"reputation":71,"user_id":11486126,"display_name":"Bilgin Silahtaroğlu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9497,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":56203394,"answer_count":1,"score":4,"last_activity_date":1675950787,"creation_date":1558218180,"question_id":56203286,"body_markdown":"Can I do this all logic with using one lambda expression?\r\n\r\n    boolean isTrue = myList.stream().anyMatch( m -&gt; m.getName().equals(&quot;a&quot;) );         \r\n             \r\n    if (isTrue) { do something } \r\n    else { do other thing }","title":"Lambda - if anyMatch do something orElse do something","body":"<p>Can I do this all logic with using one lambda expression?</p>\n<pre><code>boolean isTrue = myList.stream().anyMatch( m -&gt; m.getName().equals(&quot;a&quot;) );         \n         \nif (isTrue) { do something } \nelse { do other thing }\n</code></pre>\n"},{"tags":["python","java","automation","robotframework","modbus-tcp"],"owner":{"account_id":5201495,"reputation":19,"user_id":16359040,"display_name":"Mohammed Khadeer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675950718,"creation_date":1675950718,"question_id":75399589,"body_markdown":"I am trying this for the first time can you help me with this?\r\n I have developed an HMI using java(spring boot frame) can say a web app. I have programmed the cobot(UR16e)universal robot using ROBODK stimulation. (I programmed using Interface but its Robodk stimulation will generate the code in Python)\r\nI am now ready with 2 things web app and robot programming, just trying to figure out the connectivity process between them.\r\n\r\n","title":"connectivity between Java web app and Robot programming Ur16e","body":"<p>I am trying this for the first time can you help me with this?\nI have developed an HMI using java(spring boot frame) can say a web app. I have programmed the cobot(UR16e)universal robot using ROBODK stimulation. (I programmed using Interface but its Robodk stimulation will generate the code in Python)\nI am now ready with 2 things web app and robot programming, just trying to figure out the connectivity process between them.</p>\n"},{"tags":["java","xml","xsd","xsd-validation"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675878899,"creation_date":1675878899,"answer_id":75389879,"question_id":75388435,"body_markdown":"If you supply the input as a `StreamSource` with no systemId property, then the system doesn&#39;t know where the input stream came from, which means it can&#39;t resolve any relative URIs contained in that input stream. You need to supply a base URI.\r\n\r\nYou haven&#39;t said which schema processor you are using and the details may vary. I think we had a case recently in Saxon where we found that the `classpath:` URI scheme was being correctly resolved to find other resources in the same JAR file, but this will not necessarily be the case for your situation; you may need to provide a URIResolver or SchemaResolver. But the first step is to make sure the base URI is known.","title":"Validating xml through xsd files inside a JAR","body":"<p>If you supply the input as a <code>StreamSource</code> with no systemId property, then the system doesn't know where the input stream came from, which means it can't resolve any relative URIs contained in that input stream. You need to supply a base URI.</p>\n<p>You haven't said which schema processor you are using and the details may vary. I think we had a case recently in Saxon where we found that the <code>classpath:</code> URI scheme was being correctly resolved to find other resources in the same JAR file, but this will not necessarily be the case for your situation; you may need to provide a URIResolver or SchemaResolver. But the first step is to make sure the base URI is known.</p>\n"},{"tags":[],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675950326,"creation_date":1675929314,"answer_id":75395664,"question_id":75388435,"body_markdown":"Based on Michael Kay observation, I implpemented a method to set the SystemId: \r\n\r\n\r\n    private static Source[] buildSources(String pattern) throws SAXException, IOException {\r\n        List&lt;Source&gt; sources = new ArrayList&lt;&gt;();\r\n        PathMatchingResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\r\n        Resource[] resources = patternResolver.getResources(pattern);\r\n\r\n        for (Resource resource : resources) {\r\n            StreamSource dtd = new StreamSource(resource.getInputStream());\r\n            dtd.setSystemId(resource.getURI().toString());\r\n            sources.add(dtd);\r\n        }\r\n        return sources.toArray(new Source[sources.size()]);\r\n   }\r\n\r\nPattern looks like this: \r\n `&quot;classpath:xsd/BASIC-WL_XSD/**/*.xsd&quot;`\r\n\r\nxsd files are stored in resources folder ...\r\n","title":"Validating xml through xsd files inside a JAR","body":"<p>Based on Michael Kay observation, I implpemented a method to set the SystemId:</p>\n<pre><code>private static Source[] buildSources(String pattern) throws SAXException, IOException {\n    List&lt;Source&gt; sources = new ArrayList&lt;&gt;();\n    PathMatchingResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\n    Resource[] resources = patternResolver.getResources(pattern);\n\n    for (Resource resource : resources) {\n        StreamSource dtd = new StreamSource(resource.getInputStream());\n        dtd.setSystemId(resource.getURI().toString());\n        sources.add(dtd);\n    }\n    return sources.toArray(new Source[sources.size()]);\n</code></pre>\n<p>}</p>\n<p>Pattern looks like this:\n<code>&quot;classpath:xsd/BASIC-WL_XSD/**/*.xsd&quot;</code></p>\n<p>xsd files are stored in resources folder ...</p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75395664,"answer_count":2,"score":0,"last_activity_date":1675950326,"creation_date":1675871894,"question_id":75388435,"body_markdown":"I try to validate an xml using xsd. So far, everything works fine: \r\n\r\n    File xsdFile = null;\r\n    Source source = new StreamSource(new StringReader(xmlString));\r\n    try {\r\n        xsdFile = new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD).getFile();\r\n    } catch (IOException e) {\r\n        throw new FacturxException(e.getMessage());\r\n    }\r\n    try {\r\n        SchemaFactory schemaFactory = SchemaFactory\r\n                .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n        Schema schema = schemaFactory.newSchema(xsdFile);\r\n        Validator validator = schema.newValidator();\r\n        validator.validate(source);\r\n        return true;\r\n    } catch (SAXException | IOException e) {\r\n        throw new FacturxException(e.getLocalizedMessage());\r\n    }\r\n\r\nMy issue is the following: \r\nIf i compile it in a jar and call the method using the validator, i have errors. As a matter of fact it seems that i can&#39;t get the related xsd files. \r\n\r\nI tried to solve this issue this way: \r\n\r\n\r\n    Source[] sources = sources = new Source[] {\r\n        new StreamSource(\r\n            new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_QUALIFIED_DATA)\r\n                 .getInputStream()),\r\n        new StreamSource(\r\n            new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_REUSABLE)\r\n                 .getInputStream()),\r\n         new StreamSource(\r\n            new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_UNQUALIFIED_DATA)\r\n                .getInputStream()),\r\n         new StreamSource(\r\n            new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD).getInputStream())\r\n\r\nApparently I do have access to those xsd files but it returns `src-resolve: Cannot resolve the name &#39;udt:IDType&#39; to a(n) &#39;type definition&#39; component`. If i change xsd files order, errors differs... \r\nI&#39;m stuck for the whole day on this. \r\n\r\n\r\n        \r\n            ","title":"Validating xml through xsd files inside a JAR","body":"<p>I try to validate an xml using xsd. So far, everything works fine:</p>\n<pre><code>File xsdFile = null;\nSource source = new StreamSource(new StringReader(xmlString));\ntry {\n    xsdFile = new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD).getFile();\n} catch (IOException e) {\n    throw new FacturxException(e.getMessage());\n}\ntry {\n    SchemaFactory schemaFactory = SchemaFactory\n            .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n    Schema schema = schemaFactory.newSchema(xsdFile);\n    Validator validator = schema.newValidator();\n    validator.validate(source);\n    return true;\n} catch (SAXException | IOException e) {\n    throw new FacturxException(e.getLocalizedMessage());\n}\n</code></pre>\n<p>My issue is the following:\nIf i compile it in a jar and call the method using the validator, i have errors. As a matter of fact it seems that i can't get the related xsd files.</p>\n<p>I tried to solve this issue this way:</p>\n<pre><code>Source[] sources = sources = new Source[] {\n    new StreamSource(\n        new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_QUALIFIED_DATA)\n             .getInputStream()),\n    new StreamSource(\n        new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_REUSABLE)\n             .getInputStream()),\n     new StreamSource(\n        new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD_UNQUALIFIED_DATA)\n            .getInputStream()),\n     new StreamSource(\n        new ClassPathResource(FacturxConstants.FACTUR_X_MINIMUM_XSD).getInputStream())\n</code></pre>\n<p>Apparently I do have access to those xsd files but it returns <code>src-resolve: Cannot resolve the name 'udt:IDType' to a(n) 'type definition' component</code>. If i change xsd files order, errors differs...\nI'm stuck for the whole day on this.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":1,"creation_date":1500403600,"post_id":45174748,"comment_id":77317773,"body_markdown":"If you call a void method on a mocked object, by definition it does nothing, as it returns nothing.","body":"If you call a void method on a mocked object, by definition it does nothing, as it returns nothing."},{"owner":{"account_id":360666,"reputation":1623,"user_id":702782,"display_name":"Bharathi"},"score":0,"creation_date":1500403718,"post_id":45174748,"comment_id":77317855,"body_markdown":"How would you do if it returns a value?","body":"How would you do if it returns a value?"},{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1500403844,"post_id":45174748,"comment_id":77317946,"body_markdown":"Expect an any() object and return whatever you want.","body":"Expect an any() object and return whatever you want."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1500449507,"post_id":45174748,"comment_id":77335419,"body_markdown":"Like you would mock any other method? What exactly is your problem?","body":"Like you would mock any other method? What exactly is your problem?"}],"answers":[{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500623059,"creation_date":1500415438,"answer_id":45177864,"question_id":45174748,"body_markdown":"Below has not been compile-tested/run, might have minor errors.  I know it has warnings for the generic\r\n\r\n    class Foo {\r\n        String foo(String m, Function&lt;Double, Options&gt; r) {}\r\n    }\r\n\r\n    class Bar {\r\n        Foo myFoo; // assume this is normally injected or something\r\n\r\n        boolean works() {\r\n            // ... code that somehow uses myFoo and processes the String returned\r\n        }\r\n    }\r\n    \r\n    class BarTestCase {\r\n        @Mock private Foo foo;\r\n        @InjectMocks private Bar bar\r\n\r\n        @Test\r\n        public void testFooMethod() {\r\n            when(foo.foo(anyString(), any(Function.class)).thenReturn(&quot;ABCD1234&quot;);\r\n            assertTrue(bar.works());\r\n        }\r\n    }","title":"How to mock methods with functional interface parameters?","body":"<p>Below has not been compile-tested/run, might have minor errors.  I know it has warnings for the generic</p>\n\n<pre><code>class Foo {\n    String foo(String m, Function&lt;Double, Options&gt; r) {}\n}\n\nclass Bar {\n    Foo myFoo; // assume this is normally injected or something\n\n    boolean works() {\n        // ... code that somehow uses myFoo and processes the String returned\n    }\n}\n\nclass BarTestCase {\n    @Mock private Foo foo;\n    @InjectMocks private Bar bar\n\n    @Test\n    public void testFooMethod() {\n        when(foo.foo(anyString(), any(Function.class)).thenReturn(\"ABCD1234\");\n        assertTrue(bar.works());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1675950290,"post_id":75399470,"comment_id":133040554,"body_markdown":"FYI: in English, sentences end with a single dot . not two. Please don&#39;t add double dots at the end of every sentence you write, as that makes it more difficult to read.","body":"FYI: in English, sentences end with a single dot . not two. Please don&#39;t add double dots at the end of every sentence you write, as that makes it more difficult to read."}],"tags":[],"owner":{"account_id":16856943,"reputation":57,"user_id":12188660,"display_name":"mitesh keswani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675950248,"creation_date":1675950150,"answer_id":75399470,"question_id":45174748,"body_markdown":"Let&#39;s say your functional interface is in a method of a class that is mocked:\r\n```\r\nMockito.when(mockedClass.methodName(signature with Mockito)).thenCallRealMethod();\r\n```\r\nThis would save time to mock objects rather than functional interface.","title":"How to mock methods with functional interface parameters?","body":"<p>Let's say your functional interface is in a method of a class that is mocked:</p>\n<pre><code>Mockito.when(mockedClass.methodName(signature with Mockito)).thenCallRealMethod();\n</code></pre>\n<p>This would save time to mock objects rather than functional interface.</p>\n"}],"owner":{"account_id":360666,"reputation":1623,"user_id":702782,"display_name":"Bharathi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12618,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1675950248,"creation_date":1500403498,"question_id":45174748,"body_markdown":"In Mockito, how can I mock a method that takes a functional interface as a method parameter? For example:\r\n\r\n `String foo(String m, Function&lt;Double, Options&gt; r) {}` ","title":"How to mock methods with functional interface parameters?","body":"<p>In Mockito, how can I mock a method that takes a functional interface as a method parameter? For example:</p>\n\n<p><code>String foo(String m, Function&lt;Double, Options&gt; r) {}</code> </p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"owner":{"account_id":8240970,"reputation":25,"user_id":6198634,"display_name":"Gokulkrishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675950107,"creation_date":1675949852,"question_id":75399406,"body_markdown":"Recently I&#39;ve have migrated a spring boot app from Java 8 to Java 17 after which I started to observe the following exception related to JDBC very frequently. This exception occurs only when I call the saveAll(entityList) method provided by the spring jpa.\r\n\r\n```\r\n2023-02-09 13:22:00,598 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [pool-180-thread-1] Index 0 out of bounds for length 0\r\n2023-02-09 13:22:00,604 ERROR org.springframework.orm.jpa.EntityManagerFactoryUtils [pool-180-thread-1] Failed to release JPA EntityManager\r\norg.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:223)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:175)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:374)\r\n\tat org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:413)\r\n\tat org.hibernate.internal.SessionImpl.close(SessionImpl.java:398)\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:427)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:650)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:992)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:790)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.sql.SQLException: Index 0 out of bounds for length 0\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2042)\r\n\tat com.zaxxer.hikari.pool.PoolBase.resetConnectionState(PoolBase.java:219)\r\n\tat com.zaxxer.hikari.pool.PoolEntry.resetConnectionState(PoolEntry.java:107)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:263)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:49)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:219)\r\n\t... 38 common frames omitted\r\nCaused by: com.mysql.cj.exceptions.CJException: Index 0 out of bounds for length 0\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:124)\r\n\tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:699)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2033)\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat com.mysql.cj.protocol.a.NativePacketPayload.readInteger(NativePacketPayload.java:398)\r\n\tat com.mysql.cj.protocol.a.NativePacketPayload.readString(NativePacketPayload.java:605)\r\n\tat com.mysql.cj.protocol.a.NativeServerSessionStateController$NativeServerSessionStateChanges.init(NativeServerSessionStateController.java:112)\r\n\tat com.mysql.cj.protocol.a.result.OkPacket.parse(OkPacket.java:66)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readServerStatusForResultSets(NativeProtocol.java:1755)\r\n\tat com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:116)\r\n\tat com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:48)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1664)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.readAllResults(NativeProtocol.java:1718)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1064)\r\n\tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997)\r\n\tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:663)\r\n\t... 45 common frames omitted\r\n```\r\nBelow is the spring jpa properties configured.\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mock?autoReconnect=true&amp;rewriteBatchedStatements=true&amp;profileSQL=false&amp;allowMultiQueries=true\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.dialect =org.hibernate.dialect.MySQL5Dialect\r\nspring.jpa.show-sql=false\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.jdbc.batch_size=300\r\nspring.jpa.properties.hibernate.order_inserts=true\r\nspring.jpa.properties.hibernate.order_updates=true\r\nspring.jpa.properties.hibernate.jdbc.batch_versioned_data =true\r\nspring.jpa.properties.hibernate.jdbc.time_zone =UTC\r\nspring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n```\r\nSpring boot starter parent version:\r\n\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.10&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nAny insights would be helpful and thanks in advance.","title":"ERROR org.springframework.orm.jpa.EntityManagerFactoryUtils [pool-180-thread-1] Failed to release JPA EntityManager","body":"<p>Recently I've have migrated a spring boot app from Java 8 to Java 17 after which I started to observe the following exception related to JDBC very frequently. This exception occurs only when I call the saveAll(entityList) method provided by the spring jpa.</p>\n<pre><code>2023-02-09 13:22:00,598 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [pool-180-thread-1] Index 0 out of bounds for length 0\n2023-02-09 13:22:00,604 ERROR org.springframework.orm.jpa.EntityManagerFactoryUtils [pool-180-thread-1] Failed to release JPA EntityManager\norg.hibernate.exception.GenericJDBCException: Unable to release JDBC Connection\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:223)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:175)\n    at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:374)\n    at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:413)\n    at org.hibernate.internal.SessionImpl.close(SessionImpl.java:398)\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:427)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCleanupAfterCompletion(JpaTransactionManager.java:650)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:992)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:790)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.sql.SQLException: Index 0 out of bounds for length 0\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2042)\n    at com.zaxxer.hikari.pool.PoolBase.resetConnectionState(PoolBase.java:219)\n    at com.zaxxer.hikari.pool.PoolEntry.resetConnectionState(PoolEntry.java:107)\n    at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:263)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.closeConnection(DatasourceConnectionProviderImpl.java:127)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:49)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnection(LogicalConnectionManagedImpl.java:219)\n    ... 38 common frames omitted\nCaused by: com.mysql.cj.exceptions.CJException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:124)\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:699)\n    at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2033)\n    ... 44 common frames omitted\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at com.mysql.cj.protocol.a.NativePacketPayload.readInteger(NativePacketPayload.java:398)\n    at com.mysql.cj.protocol.a.NativePacketPayload.readString(NativePacketPayload.java:605)\n    at com.mysql.cj.protocol.a.NativeServerSessionStateController$NativeServerSessionStateChanges.init(NativeServerSessionStateController.java:112)\n    at com.mysql.cj.protocol.a.result.OkPacket.parse(OkPacket.java:66)\n    at com.mysql.cj.protocol.a.NativeProtocol.readServerStatusForResultSets(NativeProtocol.java:1755)\n    at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:116)\n    at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:48)\n    at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1664)\n    at com.mysql.cj.protocol.a.NativeProtocol.readAllResults(NativeProtocol.java:1718)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1064)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:997)\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:663)\n    ... 45 common frames omitted\n</code></pre>\n<p>Below is the spring jpa properties configured.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mock?autoReconnect=true&amp;rewriteBatchedStatements=true&amp;profileSQL=false&amp;allowMultiQueries=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.dialect =org.hibernate.dialect.MySQL5Dialect\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.jdbc.batch_size=300\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\nspring.jpa.properties.hibernate.jdbc.batch_versioned_data =true\nspring.jpa.properties.hibernate.jdbc.time_zone =UTC\nspring.jpa.properties.hibernate.id.new_generator_mappings=false\n</code></pre>\n<p>Spring boot starter parent version:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.10&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>Any insights would be helpful and thanks in advance.</p>\n"},{"tags":["java","mockito","junit5","powermockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1675797745,"post_id":75377819,"comment_id":133005027,"body_markdown":"can you share the dependencies you use?","body":"can you share the dependencies you use?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1675800858,"post_id":75377819,"comment_id":133005916,"body_markdown":"Are you able to put a breakpoint inside `scaleImage` and see what happens when it&#39;s called? The code you have posted would have thrown a NPE on `resized.createGraphics()` if `resized` was null which implies that it&#39;s not actually running that code. My guess is that you are accidentally mocking the static methods in some code you haven&#39;t posted.","body":"Are you able to put a breakpoint inside <code>scaleImage</code> and see what happens when it&#39;s called? The code you have posted would have thrown a NPE on <code>resized.createGraphics()</code> if <code>resized</code> was null which implies that it&#39;s not actually running that code. My guess is that you are accidentally mocking the static methods in some code you haven&#39;t posted."},{"owner":{"account_id":8491832,"reputation":51,"user_id":6367888,"display_name":"prabalpratap singh"},"score":0,"creation_date":1687142253,"post_id":75377819,"comment_id":134890583,"body_markdown":"Dependencies are upto date the problem was i am doing over engineering. as per below comment its working now","body":"Dependencies are upto date the problem was i am doing over engineering. as per below comment its working now"}],"answers":[{"tags":[],"owner":{"account_id":8491832,"reputation":51,"user_id":6367888,"display_name":"prabalpratap singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675949573,"creation_date":1675871671,"answer_id":75388377,"question_id":75377819,"body_markdown":"I have got the answer: I am doing unnecessary mocking even in real method its actually creating objects. This is the working code:\r\n\r\n\r\n      @Test\r\n\t  public  void scaleImageTest() throws Exception{\r\n\t        // Setup\r\n\t\t  int oldWidth = 200;\r\n\t\t  int oldHeight = 150;\r\n\t      BufferedImage buffImage = new BufferedImage(oldWidth, oldHeight, 1);\r\n\t      //  imageUtil this variable is mockedStatic\r\n\t      imageUtil.when(()-&gt;ImageUtil.scaleImage(buffImage, oldWidth, 1)).thenCallRealMethod();\r\n\t      // Run the test\r\n\t      BufferedImage actualImage = ImageUtil.scaleImage(buffImage, oldWidth, 1);\r\n\t        // Verify the results\r\n\t      assertNotNull( actualImage);\r\n\t      \r\n\t  }","title":"Junit java actual called method is returning null value","body":"<p>I have got the answer: I am doing unnecessary mocking even in real method its actually creating objects. This is the working code:</p>\n<pre><code>  @Test\n  public  void scaleImageTest() throws Exception{\n        // Setup\n      int oldWidth = 200;\n      int oldHeight = 150;\n      BufferedImage buffImage = new BufferedImage(oldWidth, oldHeight, 1);\n      //  imageUtil this variable is mockedStatic\n      imageUtil.when(()-&gt;ImageUtil.scaleImage(buffImage, oldWidth, 1)).thenCallRealMethod();\n      // Run the test\n      BufferedImage actualImage = ImageUtil.scaleImage(buffImage, oldWidth, 1);\n        // Verify the results\n      assertNotNull( actualImage);\n      \n  }\n</code></pre>\n"}],"owner":{"account_id":8491832,"reputation":51,"user_id":6367888,"display_name":"prabalpratap singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75388377,"answer_count":1,"score":1,"last_activity_date":1675949573,"creation_date":1675796326,"question_id":75377819,"body_markdown":"This is an Utility class with final and private constructor all methods in this class are static.\r\n\r\nWhen called the methods for testing they returned null value always.\r\n\r\nKindly Help.\r\n\r\n    ` public final class ImageUtil {\r\n    final static Logger logger = LoggerFactory.getLogger(ImageUtil.class);\r\n    \r\n    private ImageUtil() {}\r\n    \r\n    private static final int MAX_MASTER_WIDTH = 2000;\r\n    private static final int MIN_MASTER_WIDTH = 500;\r\n    private static final int MAX_SAMPLE_WIDTH = 400;\r\n    \r\n    public static BufferedImage scaleImage(BufferedImage image, int maxWidth, int type){\r\n        int oldWidth = image.getWidth();\r\n        int oldHeight = image.getHeight();\r\n        int newHeight = (int) Math.round((double) maxWidth / (double) oldWidth * (double) oldHeight);\r\n    \r\n        BufferedImage resized = new BufferedImage(maxWidth, newHeight, type);\r\n        Graphics2D g = resized.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n        g.drawImage(image, 0, 0, maxWidth, newHeight, 0, 0, image.getWidth(), image.getHeight(), null);\r\n        g.dispose();\r\n    \r\n        return resized;\r\n    }}`\r\n\r\nTestClass Code\r\n\r\n```\r\n\r\n@PrepareForTest(value = {FileUtil.class,JpegReader.class,ImageUtil.class,System.class,FileUtils.class,JpegReader.class,ImageIO.class})\r\n@ExtendWith(MockitoExtension.class)\r\n@MockitoSettings(strictness = Strictness.LENIENT)\r\n\r\nclass ImageUtilTest {\r\n\r\n\tMockedStatic&lt;ImageUtil&gt; imageUtil= null ;\r\n\tFile tempFile = null;\r\n\r\n\t@ClassRule\r\n    TemporaryFolder temporaryFolder ;\r\n\t\r\n\t @BeforeEach\r\n\t  public void init() throws IOException {\r\n\t\t imageUtil= mockStatic(ImageUtil.class);\r\n\t\t tempFile = mock(File.class);\r\n\t\t temporaryFolder = new TemporaryFolder();\r\n\t\t temporaryFolder.create();\r\n\t  }\r\n\r\n\t  @AfterEach\r\n\t  public void afterEach() {\r\n\t\t  imageUtil.close();\r\n\t\t  tempFile.delete();\r\n\t\t  temporaryFolder.delete();\r\n\t  }\r\n\t  \r\n\t  @Test\r\n\t  @DisplayName(&quot;scaleImageTest&quot;)\r\n\t  public  void scaleImageTest() throws Exception{\r\n\t\t  int oldWidth = 200;\r\n\t\t  int oldHeight = 150;\r\n\t      int newHeight = (int) Math.round((double) 200 / (double) oldWidth * (double) oldHeight);\r\n\r\n\t\t  BufferedImage mockedImage = mock(BufferedImage.class) ;\r\n\t\t  BufferedImage mockedNewImage = mock(BufferedImage.class) ;\r\n\t\t  Graphics2D mockedGraphics = mock(Graphics2D.class);\r\n\t\t  \r\n\t\t  when(mockedImage.getWidth()).thenReturn(oldWidth);\r\n\t\t  when(mockedImage.getHeight()).thenReturn(oldHeight);\r\n\t\t  when(mockedImage.getWidth()).thenReturn(200);\r\n\t\t  \r\n\t\t  Mockito.doNothing().when(mockedGraphics).setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t  when(mockedGraphics.drawImage(mockedImage, 0, 0, 200, newHeight, 0, 0, oldHeight,oldWidth, null)).thenReturn(true);\r\n\t\t  Mockito.doNothing().when(mockedGraphics).dispose();\r\n\r\n\t      PowerMockito.whenNew(BufferedImage.class).withArguments(oldWidth, oldHeight,newHeight).thenReturn(mockedNewImage);\r\n\t      when(mockedNewImage.createGraphics()).thenReturn(mockedGraphics);\r\n\t      \r\n\t      BufferedImage actualImage = ImageUtil.scaleImage(mockedImage, oldWidth, newHeight);\r\n\t      assertEquals(mockedNewImage, actualImage);\r\n\t      \r\n\t  }\r\n```\r\n\r\nStacktrace\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;Mock for BufferedImage, hashCode: 307036850&gt; but was: &lt;null&gt;\r\n\tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n\tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1141)\r\n\tat test.com.renoworks.framework.util.ImageUtilTest.scaleImageTest(ImageUtilTest.java:234)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n```\r\n\r\n`BufferedImage actualImage = ImageUtil.scaleImage(mockedImage, oldWidth, newHeight);`\r\n\r\nThis should work properly and should return some real data, but its not working .\r\nPlease help me . Above code of line giving me always null value.\r\nThanks in advance.","title":"Junit java actual called method is returning null value","body":"<p>This is an Utility class with final and private constructor all methods in this class are static.</p>\n<p>When called the methods for testing they returned null value always.</p>\n<p>Kindly Help.</p>\n<pre><code>` public final class ImageUtil {\nfinal static Logger logger = LoggerFactory.getLogger(ImageUtil.class);\n\nprivate ImageUtil() {}\n\nprivate static final int MAX_MASTER_WIDTH = 2000;\nprivate static final int MIN_MASTER_WIDTH = 500;\nprivate static final int MAX_SAMPLE_WIDTH = 400;\n\npublic static BufferedImage scaleImage(BufferedImage image, int maxWidth, int type){\n    int oldWidth = image.getWidth();\n    int oldHeight = image.getHeight();\n    int newHeight = (int) Math.round((double) maxWidth / (double) oldWidth * (double) oldHeight);\n\n    BufferedImage resized = new BufferedImage(maxWidth, newHeight, type);\n    Graphics2D g = resized.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g.drawImage(image, 0, 0, maxWidth, newHeight, 0, 0, image.getWidth(), image.getHeight(), null);\n    g.dispose();\n\n    return resized;\n}}`\n</code></pre>\n<p>TestClass Code</p>\n<pre><code>\n@PrepareForTest(value = {FileUtil.class,JpegReader.class,ImageUtil.class,System.class,FileUtils.class,JpegReader.class,ImageIO.class})\n@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\n\nclass ImageUtilTest {\n\n    MockedStatic&lt;ImageUtil&gt; imageUtil= null ;\n    File tempFile = null;\n\n    @ClassRule\n    TemporaryFolder temporaryFolder ;\n    \n     @BeforeEach\n      public void init() throws IOException {\n         imageUtil= mockStatic(ImageUtil.class);\n         tempFile = mock(File.class);\n         temporaryFolder = new TemporaryFolder();\n         temporaryFolder.create();\n      }\n\n      @AfterEach\n      public void afterEach() {\n          imageUtil.close();\n          tempFile.delete();\n          temporaryFolder.delete();\n      }\n      \n      @Test\n      @DisplayName(&quot;scaleImageTest&quot;)\n      public  void scaleImageTest() throws Exception{\n          int oldWidth = 200;\n          int oldHeight = 150;\n          int newHeight = (int) Math.round((double) 200 / (double) oldWidth * (double) oldHeight);\n\n          BufferedImage mockedImage = mock(BufferedImage.class) ;\n          BufferedImage mockedNewImage = mock(BufferedImage.class) ;\n          Graphics2D mockedGraphics = mock(Graphics2D.class);\n          \n          when(mockedImage.getWidth()).thenReturn(oldWidth);\n          when(mockedImage.getHeight()).thenReturn(oldHeight);\n          when(mockedImage.getWidth()).thenReturn(200);\n          \n          Mockito.doNothing().when(mockedGraphics).setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n          when(mockedGraphics.drawImage(mockedImage, 0, 0, 200, newHeight, 0, 0, oldHeight,oldWidth, null)).thenReturn(true);\n          Mockito.doNothing().when(mockedGraphics).dispose();\n\n          PowerMockito.whenNew(BufferedImage.class).withArguments(oldWidth, oldHeight,newHeight).thenReturn(mockedNewImage);\n          when(mockedNewImage.createGraphics()).thenReturn(mockedGraphics);\n          \n          BufferedImage actualImage = ImageUtil.scaleImage(mockedImage, oldWidth, newHeight);\n          assertEquals(mockedNewImage, actualImage);\n          \n      }\n</code></pre>\n<p>Stacktrace</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;Mock for BufferedImage, hashCode: 307036850&gt; but was: &lt;null&gt;\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1141)\n    at test.com.renoworks.framework.util.ImageUtilTest.scaleImageTest(ImageUtilTest.java:234)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n</code></pre>\n<p><code>BufferedImage actualImage = ImageUtil.scaleImage(mockedImage, oldWidth, newHeight);</code></p>\n<p>This should work properly and should return some real data, but its not working .\nPlease help me . Above code of line giving me always null value.\nThanks in advance.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1676252593,"post_id":75386940,"comment_id":133094282,"body_markdown":"Maybe one solution would be to parse it as `Map&lt;String, Object&gt;` (or `JsonObject`) and then recursively go through the nested `Map` (respectively `JsonObject`) values and uppercase all keys. That would not require any custom adapter.","body":"Maybe one solution would be to parse it as <code>Map&lt;String, Object&gt;</code> (or <code>JsonObject</code>) and then recursively go through the nested <code>Map</code> (respectively <code>JsonObject</code>) values and uppercase all keys. That would not require any custom adapter."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676276697,"post_id":75386940,"comment_id":133097420,"body_markdown":"thank you about the suggestion , i will give a try","body":"thank you about the suggestion , i will give a try"}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675949398,"creation_date":1675865234,"question_id":75386940,"body_markdown":"I have created a UpperCaseAdapter  to upperCase all the keys of a json ,\r\n\r\nBut not working as expected  \r\n\r\nHere is my UpperCaseAdapter  code , i want to also upper case the arrays part but it is not the case for me , how could correct that ? \r\n\r\n    public static class UpperCaseAdapter implements JsonSerializer&lt;Map&lt;String, Object&gt;&gt;, JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\t    public static final Type TYPE = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType();\r\n\r\n\t    @Override\r\n\t    public JsonElement serialize(Map&lt;String, Object&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n\t        // TODO implement serialization if needed\r\n\t        return null;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\t        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t        for (Map.Entry&lt;String, JsonElement&gt; entry : json.getAsJsonObject().entrySet()) {\r\n\t            Object value = null;\r\n\t            if (entry.getValue().isJsonPrimitive()) {\r\n\t                value = entry.getValue().getAsString();\r\n\t            } else if (entry.getValue().isJsonObject()) {\r\n\t                value = context.deserialize(entry.getValue(), TYPE); // deserialize the object using the same type\r\n\t            } else if (entry.getValue().isJsonArray()) {\r\n\t                // TODO implement deserailization of array\r\n\t            } else if (entry.getValue().isJsonNull()) {\r\n\t                // skip nulls\r\n\t                continue;\r\n\t            }\r\n\t            map.put(entry.getKey().toUpperCase(), value); //toUpperCase() is what we want\r\n\t        }\r\n\t        return map;\r\n\t    }\r\n\t}\r\n\r\nand this code is to call my  ` UpperCaseAdapter`\r\n\r\n    String payload = input_row.body;\r\n    Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(json_routine.UpperCaseAdapter.TYPE, new \r\n    json_routine.UpperCaseAdapter())\r\n                .create();\r\n    Map&lt;String, Object&gt; mapDeserialized = gson.fromJson(payload, \r\n    json_routine.UpperCaseAdapter.TYPE);\r\n\r\n    System.out.println(&quot;**** body_WS&quot; + gson.toJson(mapDeserialized));\r\n\r\n\r\n\r\nMy body looks like this : \r\n\r\n     {\r\n    &quot;transactionId&quot;: 181,\r\n    &quot;ExtWareHouseId &quot;: &quot;toto&quot;,\r\n    &quot;OwnerCode&quot;: &quot;toto&quot;,\r\n    &quot;ClientCode&quot;: &quot;toto&quot;,\r\n    &quot;activityId&quot;: toto,\r\n    &quot;taskTypeCode&quot;: &quot;01&quot;,\r\n    &quot;activated&quot;: &quot;2023-02-06T17:33:48.1905172+01:00&quot;,\r\n    &quot;StartDate &quot;: &quot;2023-01-24T15:19:12.8591383+01:00&quot;,\r\n    &quot;userCode&quot;: &quot;toto&quot;,\r\n    &quot;equipmentId&quot;: &quot;01&quot;,\r\n    &quot;PortId&quot;: &quot;1&quot;,\r\n    &quot;printerName&quot;: &quot;&quot;,\r\n    &quot;shipments&quot;: [\r\n    {\r\n      &quot;shipmentId&quot;: 2,\r\n      &quot;picklistId&quot;: &quot;Example&quot;,\r\n      &quot;ExtOrderId&quot;: &quot;23-127&quot;,\r\n      &quot;boxType&quot;: &quot;120&quot;\r\n      }\r\n     ]\r\n    }\r\n\r\n\r\nI get the following result : \r\n\r\n    {\r\n     &quot;EXTWAREHOUSEID &quot;:&quot;toto&quot;,\r\n     &quot;PRINTERNAME&quot;:&quot;&quot;,\r\n     &quot;TRANSACTIONID&quot;:&quot;181&quot;,\r\n     &quot;OWNERCODE&quot;:&quot;toto&quot;,\r\n     &quot;ACTIVITYID&quot;:&quot;1072&quot;,\r\n     &quot;EQUIPMENTID&quot;:&quot;01&quot;,\r\n     &quot;USERCODE&quot;:&quot;toto&quot;,\r\n     &quot;STARTDATE &quot;:&quot;2023-01-24T15:19:12.8591383+01:00&quot;,\r\n     &quot;ACTIVATED&quot;:&quot;2023-02-06T17:33:48.1905172+01:00&quot;,\r\n     &quot;TASKTYPECODE&quot;:&quot;01&quot;,\r\n     &quot;CLIENTCODE&quot;:&quot;toto&quot;,\r\n     &quot;PORTID&quot;:&quot;1&quot;\r\n    }\r\n\r\nThe `shipments` part is missing , how could i correct my adapter to get a correct result \r\n\r\nAny help on this , i&#39;m stack on how to Upper case Array keys","title":"UpperCaseAdapter does not support json Array","body":"<p>I have created a UpperCaseAdapter  to upperCase all the keys of a json ,</p>\n<p>But not working as expected</p>\n<p>Here is my UpperCaseAdapter  code , i want to also upper case the arrays part but it is not the case for me , how could correct that ?</p>\n<pre><code>public static class UpperCaseAdapter implements JsonSerializer&lt;Map&lt;String, Object&gt;&gt;, JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n    public static final Type TYPE = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType();\n\n    @Override\n    public JsonElement serialize(Map&lt;String, Object&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        // TODO implement serialization if needed\n        return null;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, JsonElement&gt; entry : json.getAsJsonObject().entrySet()) {\n            Object value = null;\n            if (entry.getValue().isJsonPrimitive()) {\n                value = entry.getValue().getAsString();\n            } else if (entry.getValue().isJsonObject()) {\n                value = context.deserialize(entry.getValue(), TYPE); // deserialize the object using the same type\n            } else if (entry.getValue().isJsonArray()) {\n                // TODO implement deserailization of array\n            } else if (entry.getValue().isJsonNull()) {\n                // skip nulls\n                continue;\n            }\n            map.put(entry.getKey().toUpperCase(), value); //toUpperCase() is what we want\n        }\n        return map;\n    }\n}\n</code></pre>\n<p>and this code is to call my  <code> UpperCaseAdapter</code></p>\n<pre><code>String payload = input_row.body;\nGson gson = new GsonBuilder()\n            .registerTypeAdapter(json_routine.UpperCaseAdapter.TYPE, new \njson_routine.UpperCaseAdapter())\n            .create();\nMap&lt;String, Object&gt; mapDeserialized = gson.fromJson(payload, \njson_routine.UpperCaseAdapter.TYPE);\n\nSystem.out.println(&quot;**** body_WS&quot; + gson.toJson(mapDeserialized));\n</code></pre>\n<p>My body looks like this :</p>\n<pre><code> {\n&quot;transactionId&quot;: 181,\n&quot;ExtWareHouseId &quot;: &quot;toto&quot;,\n&quot;OwnerCode&quot;: &quot;toto&quot;,\n&quot;ClientCode&quot;: &quot;toto&quot;,\n&quot;activityId&quot;: toto,\n&quot;taskTypeCode&quot;: &quot;01&quot;,\n&quot;activated&quot;: &quot;2023-02-06T17:33:48.1905172+01:00&quot;,\n&quot;StartDate &quot;: &quot;2023-01-24T15:19:12.8591383+01:00&quot;,\n&quot;userCode&quot;: &quot;toto&quot;,\n&quot;equipmentId&quot;: &quot;01&quot;,\n&quot;PortId&quot;: &quot;1&quot;,\n&quot;printerName&quot;: &quot;&quot;,\n&quot;shipments&quot;: [\n{\n  &quot;shipmentId&quot;: 2,\n  &quot;picklistId&quot;: &quot;Example&quot;,\n  &quot;ExtOrderId&quot;: &quot;23-127&quot;,\n  &quot;boxType&quot;: &quot;120&quot;\n  }\n ]\n}\n</code></pre>\n<p>I get the following result :</p>\n<pre><code>{\n &quot;EXTWAREHOUSEID &quot;:&quot;toto&quot;,\n &quot;PRINTERNAME&quot;:&quot;&quot;,\n &quot;TRANSACTIONID&quot;:&quot;181&quot;,\n &quot;OWNERCODE&quot;:&quot;toto&quot;,\n &quot;ACTIVITYID&quot;:&quot;1072&quot;,\n &quot;EQUIPMENTID&quot;:&quot;01&quot;,\n &quot;USERCODE&quot;:&quot;toto&quot;,\n &quot;STARTDATE &quot;:&quot;2023-01-24T15:19:12.8591383+01:00&quot;,\n &quot;ACTIVATED&quot;:&quot;2023-02-06T17:33:48.1905172+01:00&quot;,\n &quot;TASKTYPECODE&quot;:&quot;01&quot;,\n &quot;CLIENTCODE&quot;:&quot;toto&quot;,\n &quot;PORTID&quot;:&quot;1&quot;\n}\n</code></pre>\n<p>The <code>shipments</code> part is missing , how could i correct my adapter to get a correct result</p>\n<p>Any help on this , i'm stack on how to Upper case Array keys</p>\n"},{"tags":["java","c++","object","native"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1422694514,"post_id":28249838,"comment_id":44859368,"body_markdown":"And separately, make the first sentence actually your question, as that&#39;s what shows up on the front page.","body":"And separately, make the first sentence actually your question, as that&#39;s what shows up on the front page."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1422694639,"post_id":28249838,"comment_id":44859387,"body_markdown":"No you can&#39;t that defeats the purpose of platform independence of Java. Why don&#39;t you use C++ instead?","body":"No you can&#39;t that defeats the purpose of platform independence of Java. Why don&#39;t you use C++ instead?"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1422694687,"post_id":28249838,"comment_id":44859396,"body_markdown":"*&quot;...this exe should not be a bytecode but native exe instead and run without jvm...&quot;* ***Why***? As opposed to the very good wrappers that make it *seem* that way to your users? (About which there are a couple of dozen questions and answers here on SO.) A difference that makes no difference *is* no difference.","body":"<i>&quot;...this exe should not be a bytecode but native exe instead and run without jvm...&quot;</i> <b><i>Why</i></b>? As opposed to the very good wrappers that make it <i>seem</i> that way to your users? (About which there are a couple of dozen questions and answers here on SO.) A difference that makes no difference <i>is</i> no difference."}],"answers":[{"comments":[{"owner":{"account_id":13690276,"reputation":1230,"user_id":9878263,"display_name":"Mathieu CAROFF"},"score":3,"creation_date":1549726600,"post_id":28249913,"comment_id":96010568,"body_markdown":"[see this SO answer](https://stackoverflow.com/a/147230/9878263) &gt; &quot;GCJ is dead. It was officially removed from the GCC project in 2016.&quot; See comments on @RichardCritten&#39;s answer (&gt; [documentation](https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcj)) (&gt; [statement about deletion](https://tromey.com/blog/?p=911)).","body":"<a href=\"https://stackoverflow.com/a/147230/9878263\">see this SO answer</a> &gt; &quot;GCJ is dead. It was officially removed from the GCC project in 2016.&quot; See comments on @RichardCritten&#39;s answer (&gt; <a href=\"https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcj\" rel=\"nofollow noreferrer\">documentation</a>) (&gt; <a href=\"https://tromey.com/blog/?p=911\" rel=\"nofollow noreferrer\">statement about deletion</a>)."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1422694898,"creation_date":1422694898,"answer_id":28249913,"question_id":28249838,"body_markdown":"The only to-native-code Java compiler that I&#39;m aware of is [The GNU Compiler for the Java&lt;sup&gt;tm&lt;/sup&gt; Programming Language](https://gcc.gnu.org/java/).\r\n\r\nBut it&#39;s ***extremely unlikely*** you really need a to-native-code compiler. Packers like the ones you&#39;ve dismissed can make your program *entirely self contained*, including installing a private JVM, seamlessly. I strongly recommend you [check out the options in this question and its answers](https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file).","title":"Compiling java source code to native exe","body":"<p>The only to-native-code Java compiler that I'm aware of is <a href=\"https://gcc.gnu.org/java/\" rel=\"noreferrer\">The GNU Compiler for the Java<sup>tm</sup> Programming Language</a>.</p>\n\n<p>But it's <strong><em>extremely unlikely</em></strong> you really need a to-native-code compiler. Packers like the ones you've dismissed can make your program <em>entirely self contained</em>, including installing a private JVM, seamlessly. I strongly recommend you <a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">check out the options in this question and its answers</a>.</p>\n"},{"comments":[{"owner":{"account_id":402832,"reputation":5152,"user_id":770230,"accept_rate":79,"display_name":"Dan Bechard"},"score":2,"creation_date":1493953099,"post_id":28249914,"comment_id":74632045,"body_markdown":"Page no longer exists. It seems all references to GCJ have been wiped clean from gnu.org without mention.","body":"Page no longer exists. It seems all references to GCJ have been wiped clean from gnu.org without mention."},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":2,"creation_date":1493967946,"post_id":28249914,"comment_id":74637132,"body_markdown":"This link still works https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcj/  There is currently no version 7 documentation I can see.","body":"This link still works <a href=\"https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcj/\" rel=\"nofollow noreferrer\">gcc.gnu.org/onlinedocs/gcc-6.3.0/gcj</a>  There is currently no version 7 documentation I can see."}],"tags":[],"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422694900,"creation_date":1422694900,"answer_id":28249914,"question_id":28249838,"body_markdown":"&quot;GCJ is a portable, optimizing, ahead-of-time compiler for the Java Programming Language. It can compile Java source code to Java bytecode (class files) or **directly to native machine code**, and Java bytecode to native machine code.&quot;\r\n\r\nsee:\r\nhttps://gcc.gnu.org/java/","title":"Compiling java source code to native exe","body":"<p>\"GCJ is a portable, optimizing, ahead-of-time compiler for the Java Programming Language. It can compile Java source code to Java bytecode (class files) or <strong>directly to native machine code</strong>, and Java bytecode to native machine code.\"</p>\n\n<p>see:\n<a href=\"https://gcc.gnu.org/java/\" rel=\"nofollow\">https://gcc.gnu.org/java/</a></p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479826380,"creation_date":1454429896,"answer_id":35158495,"question_id":28249838,"body_markdown":"I tried [`Excelsior JET`][1] recently and it worked really well for compiling `JAR`s into native Windows binaries. The `JetpackII` utility allows you to deploy your application on a target machine without needing a Java installation. It may be a bit complicated to get used to but overall a brilliant choice.\r\n\r\n  [1]: http://www.excelsiorjet.com/evaluate","title":"Compiling java source code to native exe","body":"<p>I tried <a href=\"http://www.excelsiorjet.com/evaluate\" rel=\"nofollow noreferrer\"><code>Excelsior JET</code></a> recently and it worked really well for compiling <code>JAR</code>s into native Windows binaries. The <code>JetpackII</code> utility allows you to deploy your application on a target machine without needing a Java installation. It may be a bit complicated to get used to but overall a brilliant choice.</p>\n"},{"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1675651606,"post_id":62021557,"comment_id":132968634,"body_markdown":"javapackager was superseded by [`jpackage`](https://openjdk.org/jeps/392) in Java 16.","body":"javapackager was superseded by <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> in Java 16."},{"owner":{"account_id":490196,"reputation":312,"user_id":1225672,"accept_rate":25,"display_name":"aldo"},"score":0,"creation_date":1698184017,"post_id":62021557,"comment_id":136372560,"body_markdown":"GraalVM native image still need the original jar file","body":"GraalVM native image still need the original jar file"},{"owner":{"account_id":1254377,"reputation":2476,"user_id":1214172,"display_name":"Alim &#214;zdemir"},"score":0,"creation_date":1698309005,"post_id":62021557,"comment_id":136389652,"body_markdown":"@aldo: the native-image command generate executables directly from class- or jar-files. Afterwards the executable is independent of and can be distributed without the original class/jar-files.","body":"@aldo: the native-image command generate executables directly from class- or jar-files. Afterwards the executable is independent of and can be distributed without the original class/jar-files."}],"tags":[],"owner":{"account_id":1254377,"reputation":2476,"user_id":1214172,"display_name":"Alim &#214;zdemir"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1590494111,"creation_date":1590494111,"answer_id":62021557,"question_id":28249838,"body_markdown":"As of 2020-05 the current options include:\r\n\r\n* javapackager (in openFX, add slimmed down JRE to executable)\r\n* launch4J (35kb external dependency, option to check for and download or include JRE)\r\n* GraalVM native image for real slim executables (but a bit more configuration for use of reflection)","title":"Compiling java source code to native exe","body":"<p>As of 2020-05 the current options include:</p>\n\n<ul>\n<li>javapackager (in openFX, add slimmed down JRE to executable)</li>\n<li>launch4J (35kb external dependency, option to check for and download or include JRE)</li>\n<li>GraalVM native image for real slim executables (but a bit more configuration for use of reflection)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1545731,"reputation":93,"user_id":1439318,"display_name":"Shiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675679815,"creation_date":1675679815,"answer_id":75360170,"question_id":28249838,"body_markdown":"1. Create a runnable jar from the source code.\r\n2. To make an executable file, we will need a separate tool for it called Launch4j. The download link for this software is down below.\r\n\r\nhttp://launch4j.sourceforge.net/\r\n\r\n3. This tool adds a JRE(Minimum supported version) to the jar and creates an exe for windows machines.","title":"Compiling java source code to native exe","body":"<ol>\n<li>Create a runnable jar from the source code.</li>\n<li>To make an executable file, we will need a separate tool for it called Launch4j. The download link for this software is down below.</li>\n</ol>\n<p><a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">http://launch4j.sourceforge.net/</a></p>\n<ol start=\"3\">\n<li>This tool adds a JRE(Minimum supported version) to the jar and creates an exe for windows machines.</li>\n</ol>\n"}],"owner":{"account_id":5712752,"reputation":161,"user_id":4514141,"display_name":"Kashyap Kansara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10827,"favorite_count":0,"down_vote_count":4,"up_vote_count":16,"accepted_answer_id":28249913,"answer_count":5,"score":12,"last_activity_date":1675949380,"creation_date":1422694250,"question_id":28249838,"body_markdown":"Is it possible to compile java source code into native exe like C++?\r\nLike C++ all headers files are included during compilation, all java library files that are required should be attached in that exe, and this exe should not be a bytecode but native exe instead and run without jvm. \r\n\r\nSo all I want to know is something like.. if I can replace all C++ syntax with Java syntax and compile to an exe file like one created by C++ compiler which run directly.\r\n\r\n**Note: I am not talking about packers that wraps java classes in exe and ultimately requires jvm.**\r\n","title":"Compiling java source code to native exe","body":"<p>Is it possible to compile java source code into native exe like C++?\nLike C++ all headers files are included during compilation, all java library files that are required should be attached in that exe, and this exe should not be a bytecode but native exe instead and run without jvm. </p>\n\n<p>So all I want to know is something like.. if I can replace all C++ syntax with Java syntax and compile to an exe file like one created by C++ compiler which run directly.</p>\n\n<p><strong>Note: I am not talking about packers that wraps java classes in exe and ultimately requires jvm.</strong></p>\n"},{"tags":["javascript","java","android","webview"],"comments":[{"owner":{"account_id":909180,"reputation":6511,"user_id":943435,"display_name":"Krampus"},"score":0,"creation_date":1675944142,"post_id":75397959,"comment_id":133038699,"body_markdown":"Does this answer your question? [load somefile.html file from internal storage to a webview of an app](https://stackoverflow.com/questions/14624567/load-somefile-html-file-from-internal-storage-to-a-webview-of-an-app)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14624567/load-somefile-html-file-from-internal-storage-to-a-webview-of-an-app\">load somefile.html file from internal storage to a webview of an app</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675947564,"post_id":75397959,"comment_id":133039649,"body_markdown":"Which exception that you did not catch lets your app crash? Look in LogCat. Android version of used device? Who put that file there? And the path you mentioned is not on a removable micro sd card.","body":"Which exception that you did not catch lets your app crash? Look in LogCat. Android version of used device? Who put that file there? And the path you mentioned is not on a removable micro sd card."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675947667,"post_id":75397959,"comment_id":133039680,"body_markdown":"`Summary- I want to view the output of any html code` ?? It looks you wanna display a html file in an iframe.","body":"<code>Summary- I want to view the output of any html code</code> ?? It looks you wanna display a html file in an iframe."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675947764,"post_id":75397959,"comment_id":133039716,"body_markdown":"Have you done all this?: https://stackoverflow.com/questions/8955228/webview-with-an-iframe-android","body":"Have you done all this?: <a href=\"https://stackoverflow.com/questions/8955228/webview-with-an-iframe-android\" title=\"webview with an iframe android\">stackoverflow.com/questions/8955228/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675947918,"post_id":75397959,"comment_id":133039754,"body_markdown":"Ans use File.exists() and File.canRead() on that file before you start the WebView.","body":"Ans use File.exists() and File.canRead() on that file before you start the WebView."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675948449,"post_id":75397959,"comment_id":133039905,"body_markdown":"@blackapps, Using iframe crashes the app. And the suggested answer won&#39;t work because I also want to change the content of the file a little bit before opening it in WebView. I want to change its content to add a script reference to eruda.js- to display a console window, which a very important feature of my app.","body":"@blackapps, Using iframe crashes the app. And the suggested answer won&#39;t work because I also want to change the content of the file a little bit before opening it in WebView. I want to change its content to add a script reference to eruda.js- to display a console window, which a very important feature of my app."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675948541,"post_id":75397959,"comment_id":133039933,"body_markdown":"@blackapps I am checking it with File.exists() but always if any request to sdcard goes from WebView, the app crashes.","body":"@blackapps I am checking it with File.exists() but always if any request to sdcard goes from WebView, the app crashes."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675948622,"post_id":75397959,"comment_id":133039961,"body_markdown":"Also by sdcard I mean the storage/emulated/0 directory, i.e. the shared storage","body":"Also by sdcard I mean the storage/emulated/0 directory, i.e. the shared storage"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675948774,"post_id":75397959,"comment_id":133040010,"body_markdown":"How do I use LogCat?","body":"How do I use LogCat?"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675948925,"post_id":75397959,"comment_id":133040052,"body_markdown":"Unlike the suggested answer, my iframe can access the http://www.google.com the problem is with file:///storage/emulated/0","body":"Unlike the suggested answer, my iframe can access the <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a> the problem is with file:///storage/emulated/0"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675949261,"post_id":75397959,"comment_id":133040179,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251755/discussion-between-hit-and-run-and-blackapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251755/discussion-between-hit-and-run-and-blackapps\">continue this discussion in chat</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675950293,"post_id":75397959,"comment_id":133040557,"body_markdown":"`I am checking it with File.exists() ` Did not i mention File.canRead() ? And didnt i ask who put that file there? And didnt i ask for Android version of used device? And thye LocCat is part of Android Studio IDE. open it an read.","body":"<code>I am checking it with File.exists() </code> Did not i mention File.canRead() ? And didnt i ask who put that file there? And didnt i ask for Android version of used device? And thye LocCat is part of Android Studio IDE. open it an read."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675950450,"post_id":75397959,"comment_id":133040624,"body_markdown":"I am using Android 10. I must try File.canRead() and inform you about that. But what do you mean by who put that file there? I don&#39;t understand that","body":"I am using Android 10. I must try File.canRead() and inform you about that. But what do you mean by who put that file there? I don&#39;t understand that"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675950496,"post_id":75397959,"comment_id":133040648,"body_markdown":"Well that file is on your device. How did it get there? Who donnit? How?","body":"Well that file is on your device. How did it get there? Who donnit? How?"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675950868,"post_id":75397959,"comment_id":133040796,"body_markdown":"That file is not in my device. I have just given it  for example. I mean that users will create .html files and save it in shared storage by using my app. And those same files are meant to be opened. I never mean by this that I am going to access a non-existent file from iframe.  Anyways that&#39;s also not a valid file name","body":"That file is not in my device. I have just given it  for example. I mean that users will create .html files and save it in shared storage by using my app. And those same files are meant to be opened. I never mean by this that I am going to access a non-existent file from iframe.  Anyways that&#39;s also not a valid file name"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675951032,"post_id":75397959,"comment_id":133040866,"body_markdown":"So you are testing on a device without that file and then your app crashes? And you will not first put a file there? I cannot follow you.","body":"So you are testing on a device without that file and then your app crashes? And you will not first put a file there? I cannot follow you."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675951181,"post_id":75397959,"comment_id":133040937,"body_markdown":"No no, that&#39;s not what I mean. That was just an example. Now i am actually looking for &quot;file:///storage/emulated/0/untitled.html&quot;, which is present in my internal storage","body":"No no, that&#39;s not what I mean. That was just an example. Now i am actually looking for &quot;file:///storage/emulated/0/untitled.html&quot;, which is present in my internal storage"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675951293,"post_id":75397959,"comment_id":133040984,"body_markdown":"I am never accessing any non existent file. That thing is just for example. I wanted to access any existing file in shared storage, so I named it like that.","body":"I am never accessing any non existent file. That thing is just for example. I wanted to access any existing file in shared storage, so I named it like that."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675951426,"post_id":75397959,"comment_id":133041042,"body_markdown":"What special thing did you do to make it possible for your app to read from and write to external storage on an Android 10 device? (as one special thing has to be done only for Android 10 devices).","body":"What special thing did you do to make it possible for your app to read from and write to external storage on an Android 10 device? (as one special thing has to be done only for Android 10 devices)."},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675952101,"post_id":75397959,"comment_id":133041300,"body_markdown":"Added READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE and MANAGE_EXTERNAL_STORAGE permission in AndroidManifest.xml.and asked for those permission in MainActivity.java. The permissions are successfully got, it is visible in the app info of my app. But I don&#39;t know any special thing","body":"Added READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE and MANAGE_EXTERNAL_STORAGE permission in AndroidManifest.xml.and asked for those permission in MainActivity.java. The permissions are successfully got, it is visible in the app info of my app. But I don&#39;t know any special thing"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675952396,"post_id":75397959,"comment_id":133041426,"body_markdown":"Ohh, i just see in google. You might be talking about requestLegacyExternalStorage. I have done it. I actually can save files, read files and do everything in external storage but only in java. When it comes to WebView, nothing works. I cannot access any html file and JavascriptInterface is not the solution","body":"Ohh, i just see in google. You might be talking about requestLegacyExternalStorage. I have done it. I actually can save files, read files and do everything in external storage but only in java. When it comes to WebView, nothing works. I cannot access any html file and JavascriptInterface is not the solution"},{"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"score":0,"creation_date":1675952593,"post_id":75397959,"comment_id":133041501,"body_markdown":"Sorry, because of being new to Android. I thought that requestLegacyExternalStorage to be for all devices so I denied to have done anything special","body":"Sorry, because of being new to Android. I thought that requestLegacyExternalStorage to be for all devices so I denied to have done anything special"}],"owner":{"account_id":25937812,"reputation":101,"user_id":19657769,"display_name":"Hit and Run"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675949243,"creation_date":1675942188,"question_id":75397959,"body_markdown":"I am a beginner to Android App Development. I am creating a **Code Editor** app (that would allow developers to edit and **run** their **html** files) by using **Java** along with **html, css and javascript** (via WebView). I could easily accomplish the edit part but the problem is with executing any html file. \r\n\r\nMy first try was to use iframe with a src pointing directly to the file in sdcard-\r\n```html\r\n&lt;iframe src=&quot;file:///storage/emulated/0/&lt;file-name&gt;.html&quot;&gt;&lt;/iframe&gt;\r\n```\r\nBut with this code, the problem is that the app immediately crashes when this iframe loads. Not only iframes any kind of request sent to a route in sdcard from the webview immediately crashes the app.\r\n\r\nI find various solutions on internet but they all just add a JavascriptInterface that can be used to display images on webview. But that&#39;s not the case with me as you know the code that I want to execute is dynamic \r\nand must be able to access any kind of file that is accessible to a html file in a normal browser and also that the entire sdcard, though can be referenced in html codes, cannot be copied to assets folder. With these circumstances, all answers on internet are no helpful for me.\r\n\r\n**Summary- I want to view the output of any html code, stored in sdcard of users, in such a way that the output appears similar to what it would in a browser, that is by using Java and WebView** Please help.\r\n\r\nEdit-\r\nI want the solution to be by use of a iframe, which can be completely accessible to entire WebView.","title":"How to access local html files on sdcard directly via iframe in a WebView using Java","body":"<p>I am a beginner to Android App Development. I am creating a <strong>Code Editor</strong> app (that would allow developers to edit and <strong>run</strong> their <strong>html</strong> files) by using <strong>Java</strong> along with <strong>html, css and javascript</strong> (via WebView). I could easily accomplish the edit part but the problem is with executing any html file.</p>\n<p>My first try was to use iframe with a src pointing directly to the file in sdcard-</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;iframe src=&quot;file:///storage/emulated/0/&lt;file-name&gt;.html&quot;&gt;&lt;/iframe&gt;\n</code></pre>\n<p>But with this code, the problem is that the app immediately crashes when this iframe loads. Not only iframes any kind of request sent to a route in sdcard from the webview immediately crashes the app.</p>\n<p>I find various solutions on internet but they all just add a JavascriptInterface that can be used to display images on webview. But that's not the case with me as you know the code that I want to execute is dynamic\nand must be able to access any kind of file that is accessible to a html file in a normal browser and also that the entire sdcard, though can be referenced in html codes, cannot be copied to assets folder. With these circumstances, all answers on internet are no helpful for me.</p>\n<p><strong>Summary- I want to view the output of any html code, stored in sdcard of users, in such a way that the output appears similar to what it would in a browser, that is by using Java and WebView</strong> Please help.</p>\n<p>Edit-\nI want the solution to be by use of a iframe, which can be completely accessible to entire WebView.</p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1497864144,"post_id":44626609,"comment_id":76239008,"body_markdown":"how your query look like?","body":"how your query look like?"},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":1,"creation_date":1497864500,"post_id":44626609,"comment_id":76239272,"body_markdown":"@YCF_L: if I knew before hand, I wouldn&#39;t have this problem, as I would know the column names ;) As I wrote in the question, this is for an administrative console where administrators can type any SQL SELECT query and have the results printed on a table. So any SQL query is possible, as long as it is a SELECT. `SELECT name, surname FROM users` just to make a silly example, but it can be anything.","body":"@YCF_L: if I knew before hand, I wouldn&#39;t have this problem, as I would know the column names ;) As I wrote in the question, this is for an administrative console where administrators can type any SQL SELECT query and have the results printed on a table. So any SQL query is possible, as long as it is a SELECT. <code>SELECT name, surname FROM users</code> just to make a silly example, but it can be anything."},{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":0,"creation_date":1497864664,"post_id":44626609,"comment_id":76239378,"body_markdown":"I&#39;m not sure Hibernate supports the retrieval of query metadata. Is plain JDBC an option you can use? If so you can retrieve a ResultSetMetaData object from the ResultSet that contains the column headers.","body":"I&#39;m not sure Hibernate supports the retrieval of query metadata. Is plain JDBC an option you can use? If so you can retrieve a ResultSetMetaData object from the ResultSet that contains the column headers."},{"owner":{"display_name":"user3973283"},"score":4,"creation_date":1497864682,"post_id":44626609,"comment_id":76239394,"body_markdown":"Set the result class to be `Tuple` and then you should get column/field name and value. Standard JPA API, so no real reason why a native query could not utilise it http://www.datanucleus.org/products/accessplatform_5_1/jpa/query.html#_tuples","body":"Set the result class to be <code>Tuple</code> and then you should get column/field name and value. Standard JPA API, so no real reason why a native query could not utilise it <a href=\"http://www.datanucleus.org/products/accessplatform_5_1/jpa/query.html#_tuples\" rel=\"nofollow noreferrer\">datanucleus.org/products/accessplatform_5_1/jpa/&hellip;</a>"},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":2,"creation_date":1497871892,"post_id":44626609,"comment_id":76244317,"body_markdown":"@BillyFrost: thanks for the suggestion, but I think this only works for mapped entities. As I said, I&#39;m using a native sql query. If I try your method, I get a `org.hibernate.MappingException: Unknown entity: javax.persistence.Tuple`","body":"@BillyFrost: thanks for the suggestion, but I think this only works for mapped entities. As I said, I&#39;m using a native sql query. If I try your method, I get a <code>org.hibernate.MappingException: Unknown entity: javax.persistence.Tuple</code>"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1497875558,"post_id":44626609,"comment_id":76246831,"body_markdown":"Well it &quot;works&quot; in the JPA spec, so perhaps your provider just doesn&#39;t support `Tuple`.","body":"Well it &quot;works&quot; in the JPA spec, so perhaps your provider just doesn&#39;t support <code>Tuple</code>."},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":0,"creation_date":1497875954,"post_id":44626609,"comment_id":76247136,"body_markdown":"@BillyFrost: but in the link you posted I see that they specify the entity class (PersonName).. doesn&#39;t that imply that they&#39;re relying on entity mapping?","body":"@BillyFrost: but in the link you posted I see that they specify the entity class (PersonName).. doesn&#39;t that imply that they&#39;re relying on entity mapping?"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1497876698,"post_id":44626609,"comment_id":76247618,"body_markdown":"`createQuery` and `createNativeQuery` both have methods accepting a result class. So what if one particular example is for JPQL? The same should apply for native queries","body":"<code>createQuery</code> and <code>createNativeQuery</code> both have methods accepting a result class. So what if one particular example is for JPQL? The same should apply for native queries"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1497881443,"post_id":44626609,"comment_id":76251180,"body_markdown":"yes, you would have to define the results mapping to stick them in an object or entity.  But if you know the query, the caller also knows the fields being used and should add them to the object[] results or wrap it in your own construct with the column names you want displayed","body":"yes, you would have to define the results mapping to stick them in an object or entity.  But if you know the query, the caller also knows the fields being used and should add them to the object[] results or wrap it in your own construct with the column names you want displayed"},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":0,"creation_date":1497883174,"post_id":44626609,"comment_id":76252433,"body_markdown":"@BillyFrost: then it may be you&#39;re right and my provider doesn&#39;t support this... I&#39;m using Hibernate as a provider by the way.","body":"@BillyFrost: then it may be you&#39;re right and my provider doesn&#39;t support this... I&#39;m using Hibernate as a provider by the way."},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":0,"creation_date":1497883324,"post_id":44626609,"comment_id":76252557,"body_markdown":"@Chris Sorry, I&#39;m not sure I understand your comment fully... what do you mean by &quot;the caller&quot;? My problem is exactly that I don&#39;t know the columns beforehand... the method receives a custom query inputted by a human...","body":"@Chris Sorry, I&#39;m not sure I understand your comment fully... what do you mean by &quot;the caller&quot;? My problem is exactly that I don&#39;t know the columns beforehand... the method receives a custom query inputted by a human..."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1497888570,"post_id":44626609,"comment_id":76256202,"body_markdown":"I didn&#39;t realize you were intentionally passing through SQL from an end user.  This is a bad idea, as they can execute ANYTHING.  If they are admin users, and they really need to execute SQL, they can get DB access through other channels, without you opening the potential security hole in your application.  Instead, accept only JPQL, and possibly only the filtering, so you can control what gets returned and how to present it.  Otherwise, get the JDBC connection from JPA and execute the statement yourself to get the metadata.","body":"I didn&#39;t realize you were intentionally passing through SQL from an end user.  This is a bad idea, as they can execute ANYTHING.  If they are admin users, and they really need to execute SQL, they can get DB access through other channels, without you opening the potential security hole in your application.  Instead, accept only JPQL, and possibly only the filtering, so you can control what gets returned and how to present it.  Otherwise, get the JDBC connection from JPA and execute the statement yourself to get the metadata."},{"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"score":0,"creation_date":1497942721,"post_id":44626609,"comment_id":76277484,"body_markdown":"@Chris: I&#39;m not in charge of the specifications.. I just implement them. Also, it&#39;s not much of a security hole: firstly, only &quot;select&quot; queries are accepted and secondly, the console is only accessible from within our intranet.","body":"@Chris: I&#39;m not in charge of the specifications.. I just implement them. Also, it&#39;s not much of a security hole: firstly, only &quot;select&quot; queries are accepted and secondly, the console is only accessible from within our intranet."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1530449162,"post_id":44626609,"comment_id":89231870,"body_markdown":"The API for the createNativeQuery is overloaded you can do things with resultSetMapping that may aid you in your quest. And there&#39;s an interesting associated series of articles here: https://www.thoughts-on-java.org/result-set-mapping-basics/ But it&#39;s not a free lunch.. You have to put effort in to get results you want out.","body":"The API for the createNativeQuery is overloaded you can do things with resultSetMapping that may aid you in your quest. And there&#39;s an interesting associated series of articles here: <a href=\"https://www.thoughts-on-java.org/result-set-mapping-basics/\" rel=\"nofollow noreferrer\">thoughts-on-java.org/result-set-mapping-basics</a> But it&#39;s not a free lunch.. You have to put effort in to get results you want out."}],"answers":[{"tags":[],"owner":{"account_id":6783557,"reputation":1252,"user_id":5223047,"display_name":"ltlBeBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539192739,"creation_date":1539192739,"answer_id":52745827,"question_id":44626609,"body_markdown":"If the JPA provider does not support the retrieval of query metadata, another solution could be the use of a SQL parser like [JSQLParser](http://jsqlparser.sourceforge.net/home.php), [ZQL](http://zql.sourceforge.net/) or [General SQL Parser](http://www.sqlparser.com/sql-parser-java.php?ref=jsqlparser) (comercial), which extracts the fields from the `SELECT` statement.","title":"Getting column names from a JPA Native Query","body":"<p>If the JPA provider does not support the retrieval of query metadata, another solution could be the use of a SQL parser like <a href=\"http://jsqlparser.sourceforge.net/home.php\" rel=\"nofollow noreferrer\">JSQLParser</a>, <a href=\"http://zql.sourceforge.net/\" rel=\"nofollow noreferrer\">ZQL</a> or <a href=\"http://www.sqlparser.com/sql-parser-java.php?ref=jsqlparser\" rel=\"nofollow noreferrer\">General SQL Parser</a> (comercial), which extracts the fields from the <code>SELECT</code> statement.</p>\n"},{"comments":[{"owner":{"account_id":5848703,"reputation":757,"user_id":4608037,"display_name":"woodz"},"score":4,"creation_date":1551123469,"post_id":53836492,"comment_id":96516958,"body_markdown":"Are those libs an option for you:\n`javax.persistence.Query`, `org.eclipse.persistence.config.QueryHints`, `org.eclipse.persistence.config.ResultType`? You could set your query to `QueryHints.RESULT_TYPE, ResultType.Map`:\n`myEntityMananger.createNativeQuery(&quot;select * from mytable&quot;).setHint(QueryHints.RESULT_TYPE, ResultType.Map);`. Then access the column names via the map keys","body":"Are those libs an option for you: <code>javax.persistence.Query</code>, <code>org.eclipse.persistence.config.QueryHints</code>, <code>org.eclipse.persistence.config.ResultType</code>? You could set your query to <code>QueryHints.RESULT_TYPE, ResultType.Map</code>: <code>myEntityMananger.createNativeQuery(&quot;select * from mytable&quot;).setHint(QueryHints.RESULT_TYPE, ResultType.Map);</code>. Then access the column names via the map keys"},{"owner":{"account_id":8319552,"reputation":407,"user_id":10063655,"display_name":"vc73"},"score":0,"creation_date":1556534539,"post_id":53836492,"comment_id":98459170,"body_markdown":"@woodz  hey there woodz, I am trying to use setHint() as you said in your comment, I am creating a query first, then setting the hint. What kind of result does it return? Could you provide an example?","body":"@woodz  hey there woodz, I am trying to use setHint() as you said in your comment, I am creating a query first, then setting the hint. What kind of result does it return? Could you provide an example?"},{"owner":{"account_id":5848703,"reputation":757,"user_id":4608037,"display_name":"woodz"},"score":2,"creation_date":1556624606,"post_id":53836492,"comment_id":98494105,"body_markdown":"good day @vc73: I am not sure what I can show more. Have you done filling my given code template above with your concrete query conditions? Then, did you have a look onto your result list? I am showing you the steps to process again:\n`//your resulting list`\n`List myResult = res;`\n`//your query via the entity manager`\n`res = myEntityMananger.createNativeQuery(&quot;select * from mytable&quot;)\n      .setHint(QueryHints.RESULT_TYPE, ResultType.Map)\n      .getResultList();`\nhave a look onto your `res` variable\nyou can cast each entry of the list:\n`int i = 1;`\n`List&lt;Map&gt; data = (List)res.get(i);`","body":"good day @vc73: I am not sure what I can show more. Have you done filling my given code template above with your concrete query conditions? Then, did you have a look onto your result list? I am showing you the steps to process again: <code>&#47;&#47;your resulting list</code> <code>List myResult = res;</code> <code>&#47;&#47;your query via the entity manager</code> <code>res = myEntityMananger.createNativeQuery(&quot;select * from mytable&quot;)       .setHint(QueryHints.RESULT_TYPE, ResultType.Map)       .getResultList();</code> have a look onto your <code>res</code> variable you can cast each entry of the list: <code>int i = 1;</code> <code>List&lt;Map&gt; data = (List)res.get(i);</code>"},{"owner":{"account_id":8319552,"reputation":407,"user_id":10063655,"display_name":"vc73"},"score":0,"creation_date":1556627155,"post_id":53836492,"comment_id":98495489,"body_markdown":"Turns out that the object returned is a `List&lt;ArrayRecord&gt;` (https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/org/eclipse/persistence/internal/sessions/ArrayRecord.java)","body":"Turns out that the object returned is a <code>List&lt;ArrayRecord&gt;</code> (<a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/master/foundation/org.eclipse.persistence.core/src/org/eclipse/persistence/internal/sessions/ArrayRecord.java\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/eclipselink/blob/master/foundation/&zwnj;&#8203;&hellip;</a>)"},{"owner":{"account_id":5848703,"reputation":757,"user_id":4608037,"display_name":"woodz"},"score":0,"creation_date":1556631033,"post_id":53836492,"comment_id":98497799,"body_markdown":"... which is implementing the `Map` interface","body":"... which is implementing the <code>Map</code> interface"},{"owner":{"account_id":2447967,"reputation":185,"user_id":2135368,"accept_rate":67,"display_name":"Wile E. Genius"},"score":0,"creation_date":1558605958,"post_id":53836492,"comment_id":99160267,"body_markdown":"Hi @woodz!  Your answer works perfectly for me (with eclipselink).  Thanks!  (Why don&#39;t you post this as answer?)","body":"Hi @woodz!  Your answer works perfectly for me (with eclipselink).  Thanks!  (Why don&#39;t you post this as answer?)"},{"owner":{"account_id":5848703,"reputation":757,"user_id":4608037,"display_name":"woodz"},"score":2,"creation_date":1558966863,"post_id":53836492,"comment_id":99263178,"body_markdown":"@WileE.Genius: glad to help you here. This platform is not intended to help people, it is to comply to a system of law and order. Since I am not sure, how or whether eclipse link fits to hibernate, folks here definitively will complain that &quot;eclipse link&quot; isn&#39;t a tag of the original question and thus will tell me &quot;this desn&#39;t answer the question&quot; plus put devaluation on it.","body":"@WileE.Genius: glad to help you here. This platform is not intended to help people, it is to comply to a system of law and order. Since I am not sure, how or whether eclipse link fits to hibernate, folks here definitively will complain that &quot;eclipse link&quot; isn&#39;t a tag of the original question and thus will tell me &quot;this desn&#39;t answer the question&quot; plus put devaluation on it."},{"owner":{"account_id":1055397,"reputation":119,"user_id":1058245,"display_name":"Chris"},"score":2,"creation_date":1575629904,"post_id":53836492,"comment_id":104640060,"body_markdown":"Hi @woodz! Thanks a lot for your answer as it saved me plenty of time. I had to adjust it a bit, but it works flawless. Here is my starting point: `List&lt;DatabaseRecord&gt; res = this.em.createNativeQuery(selectStmt).setHint(QueryHints.RESULT_TYPE, ResultType.Map).getResultList();` DatabaseRecord seems to be the class to use, as it doesn&#39;t reside in the internal package of Eclipselink.","body":"Hi @woodz! Thanks a lot for your answer as it saved me plenty of time. I had to adjust it a bit, but it works flawless. Here is my starting point: <code>List&lt;DatabaseRecord&gt; res = this.em.createNativeQuery(selectStmt).setHint(QueryHints.RES&zwnj;&#8203;ULT_TYPE, ResultType.Map).getResultList();</code> DatabaseRecord seems to be the class to use, as it doesn&#39;t reside in the internal package of Eclipselink."}],"tags":[],"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"comment_count":8,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1603199829,"creation_date":1545147737,"answer_id":53836492,"question_id":44626609,"body_markdown":"After a long time without any answer, And based on my own further research, It seems that it can not be possible, Unfortunately.","title":"Getting column names from a JPA Native Query","body":"<p>After a long time without any answer, And based on my own further research, It seems that it can not be possible, Unfortunately.</p>\n"},{"tags":[],"owner":{"account_id":14285281,"reputation":1,"user_id":10318764,"display_name":"utkarsh pandey"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546511892,"creation_date":1546511892,"answer_id":54020612,"question_id":44626609,"body_markdown":"I also faced a similar problem working with JPA. There is no direct way in JPA to access the resultset metadata. The solution can be extracting column names from the query itself or use JDBC to get the metadata.","title":"Getting column names from a JPA Native Query","body":"<p>I also faced a similar problem working with JPA. There is no direct way in JPA to access the resultset metadata. The solution can be extracting column names from the query itself or use JDBC to get the metadata.</p>\n"},{"comments":[{"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"score":0,"creation_date":1580974874,"post_id":56903459,"comment_id":106276046,"body_markdown":"Error on `((org.hibernate.jpa.HibernateQuery).getHibernateQuery();`. org.hibernate.query.internal.NativeQueryImpl cannot cast to org.hibernate.jpa.HibernateQuery.","body":"Error on <code>((org.hibernate.jpa.HibernateQuery).getHibernateQuery();</code>. org.hibernate.query.internal.NativeQueryImpl cannot cast to org.hibernate.jpa.HibernateQuery."},{"owner":{"account_id":13677563,"reputation":499,"user_id":9868643,"display_name":"Luke Cheung"},"score":0,"creation_date":1581605504,"post_id":56903459,"comment_id":106498992,"body_markdown":"@AliSohrabi I uesd this code in springboot1.5.1.RELEASE, it depens on hibernate-core:5.0.11.Final","body":"@AliSohrabi I uesd this code in springboot1.5.1.RELEASE, it depens on hibernate-core:5.0.11.Final"}],"tags":[],"owner":{"account_id":13677563,"reputation":499,"user_id":9868643,"display_name":"Luke Cheung"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562331160,"creation_date":1562331160,"answer_id":56903459,"question_id":44626609,"body_markdown":"cast query to hibernate query, then use hibernate method\r\n\r\n\r\n              //normal use, javax.persistence.Query interface\r\n        Query dbQuery = entityManager.createNativeQuery(sql);\r\n        //cast to hibernate query\r\n        org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)dbQuery)\r\n                .getHibernateQuery();\r\n        hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n\r\n        List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();\r\n\r\n        List&lt;TxTestModel&gt; txTestModels = new ArrayList&lt;&gt;();\r\n        res.forEach(e-&gt;{\r\n            TxTestModel txTestModel = new ObjectMapper().convertValue(e, TxTestModel.class);\r\n        //  txTestModels.add(new TxTestModel().setIdd((Integer) e.get(&quot;idd&quot;)).setMmm((String) e.get(&quot;mmm&quot;)).setDdd((Date) e.get(&quot;ddd&quot;)));\r\n            txTestModels.add(txTestModel);\r\n        });\r\n        System.out.println(txTestModels.size());\r\n","title":"Getting column names from a JPA Native Query","body":"<p>cast query to hibernate query, then use hibernate method</p>\n\n<pre><code>          //normal use, javax.persistence.Query interface\n    Query dbQuery = entityManager.createNativeQuery(sql);\n    //cast to hibernate query\n    org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)dbQuery)\n            .getHibernateQuery();\n    hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\n\n    List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();\n\n    List&lt;TxTestModel&gt; txTestModels = new ArrayList&lt;&gt;();\n    res.forEach(e-&gt;{\n        TxTestModel txTestModel = new ObjectMapper().convertValue(e, TxTestModel.class);\n    //  txTestModels.add(new TxTestModel().setIdd((Integer) e.get(\"idd\")).setMmm((String) e.get(\"mmm\")).setDdd((Date) e.get(\"ddd\")));\n        txTestModels.add(txTestModel);\n    });\n    System.out.println(txTestModels.size());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4998433,"reputation":111,"user_id":4018134,"display_name":"Riyad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1569399096,"creation_date":1569399096,"answer_id":58094001,"question_id":44626609,"body_markdown":"     \r\n  **This code worked for me**\r\n     \r\nDTO Class :\r\n     \r\n\r\n     public class ItemResponse&lt;T&gt; {\r\n   \r\n     private T item;\r\n\r\n     public ItemResponse() {\r\n     }\r\n\r\n     public ItemResponse(T item) {\r\n       super();\r\n       this.item = item;\r\n     }\r\n\r\n     public T getItem() {\r\n        return item;\r\n    }\r\n\r\n    public void setItem(T item) {\r\n        this.item = item;\r\n    }\r\n    \r\n    }\r\n    \r\nService Class is in the below\r\n\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n    import org.springframework.stereotype.Service;\r\n    import org.hibernate.transform.AliasToEntityMapResultTransformer;\r\n    \r\n    @Service\r\n    public class ServiceClass{ \r\n\r\n    @PersistenceContext\r\n    public EntityManager entityManager;\r\n\r\n    public ItemResponse exceuteQueryResponse(String queryString) {\r\n            \r\n            ItemResponse itemResponse=new ItemResponse();           \r\n            Query jpaQuery =  entityManager.createNativeQuery(queryString);\r\n            org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)jpaQuery).getHibernateQuery();\r\n          hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n            List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();\r\n      \r\n            itemResponse.setItem(res);\r\n            return itemResponse;\r\n            \r\n        }\r\n        \r\n        }","title":"Getting column names from a JPA Native Query","body":"<p><strong>This code worked for me</strong></p>\n\n<p>DTO Class :</p>\n\n<pre><code> public class ItemResponse&lt;T&gt; {\n\n private T item;\n\n public ItemResponse() {\n }\n\n public ItemResponse(T item) {\n   super();\n   this.item = item;\n }\n\n public T getItem() {\n    return item;\n}\n\npublic void setItem(T item) {\n    this.item = item;\n}\n\n}\n</code></pre>\n\n<p>Service Class is in the below</p>\n\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\nimport org.springframework.stereotype.Service;\nimport org.hibernate.transform.AliasToEntityMapResultTransformer;\n\n@Service\npublic class ServiceClass{ \n\n@PersistenceContext\npublic EntityManager entityManager;\n\npublic ItemResponse exceuteQueryResponse(String queryString) {\n\n        ItemResponse itemResponse=new ItemResponse();           \n        Query jpaQuery =  entityManager.createNativeQuery(queryString);\n        org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)jpaQuery).getHibernateQuery();\n      hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\n        List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();\n\n        itemResponse.setItem(res);\n        return itemResponse;\n\n    }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3861308,"reputation":10880,"user_id":3198983,"display_name":"Jesus Iniesta"},"score":0,"creation_date":1582048323,"post_id":58782500,"comment_id":106639552,"body_markdown":"**This code works but requires specifically Hibernate 5.2.11.Final**. I actually have it running in production. *I suspect negative vote might be someone who tested in a different Hibernate version.*","body":"<b>This code works but requires specifically Hibernate 5.2.11.Final</b>. I actually have it running in production. <i>I suspect negative vote might be someone who tested in a different Hibernate version.</i>"},{"owner":{"account_id":4719785,"reputation":316,"user_id":3819891,"display_name":"Nicolas"},"score":1,"creation_date":1584711741,"post_id":58782500,"comment_id":107527629,"body_markdown":"The code doesn&#39;t answer the question. With your solution you need to know the columns beforehand.","body":"The code doesn&#39;t answer the question. With your solution you need to know the columns beforehand."},{"owner":{"account_id":3861308,"reputation":10880,"user_id":3198983,"display_name":"Jesus Iniesta"},"score":0,"creation_date":1584807055,"post_id":58782500,"comment_id":107553055,"body_markdown":"Thanks for your note, @Nicolas. I&#39;ve just edited my example to do both, print column names, and to get values by column name.","body":"Thanks for your note, @Nicolas. I&#39;ve just edited my example to do both, print column names, and to get values by column name."},{"owner":{"account_id":1509371,"reputation":363,"user_id":1411871,"display_name":"Gregory Golberg"},"score":3,"creation_date":1643490959,"post_id":58782500,"comment_id":125355701,"body_markdown":"Seems like this does not work with later version like 5.4.2.Final, as what is returned is a List of Objects.","body":"Seems like this does not work with later version like 5.4.2.Final, as what is returned is a List of Objects."}],"tags":[],"owner":{"account_id":3861308,"reputation":10880,"user_id":3198983,"display_name":"Jesus Iniesta"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1584806973,"creation_date":1573325578,"answer_id":58782500,"question_id":44626609,"body_markdown":"**2020**\r\n\r\nWith hibernate 5.2.11.Final is actually pretty easy.\r\nIn my example you can see how I get the column names for every row. And how I get values by column name.\r\n\r\n\r\n```java\r\nQuery q = em.createNativeQuery(&quot;SELECT columnA, columnB FROM table&quot;);\r\nList&lt;Tuple&gt; result = q.getResultList();\r\n\r\nfor (Tuple row: result){\r\n\r\n    // Get Column Names\r\n    List&lt;TupleElement&lt;Object&gt;&gt; elements = row.getElements();\r\n    for (TupleElement&lt;Object&gt; element : elements ) {\r\n        System.out.println(element.getAlias());\r\n    }\r\n\r\n    // Get Objects by Column Name\r\n    Object columnA;\r\n    Object columnB;\r\n    try {\r\n        columnA = row.get(&quot;columnA&quot;);\r\n        columnB= row.get(&quot;columnB&quot;);\r\n    } catch (IllegalArgumentException e) {\r\n        System.out.println(&quot;A column was not found&quot;);\r\n    }\r\n}\r\n```","title":"Getting column names from a JPA Native Query","body":"<p><strong>2020</strong></p>\n\n<p>With hibernate 5.2.11.Final is actually pretty easy.\nIn my example you can see how I get the column names for every row. And how I get values by column name.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Query q = em.createNativeQuery(\"SELECT columnA, columnB FROM table\");\nList&lt;Tuple&gt; result = q.getResultList();\n\nfor (Tuple row: result){\n\n    // Get Column Names\n    List&lt;TupleElement&lt;Object&gt;&gt; elements = row.getElements();\n    for (TupleElement&lt;Object&gt; element : elements ) {\n        System.out.println(element.getAlias());\n    }\n\n    // Get Objects by Column Name\n    Object columnA;\n    Object columnB;\n    try {\n        columnA = row.get(\"columnA\");\n        columnB= row.get(\"columnB\");\n    } catch (IllegalArgumentException e) {\n        System.out.println(\"A column was not found\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4719785,"reputation":316,"user_id":3819891,"display_name":"Nicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1622798697,"creation_date":1584718134,"answer_id":60777047,"question_id":44626609,"body_markdown":"Ryiad&#39;s answer DTO adds some confusion, you should have kept it away.\r\nYou should have explained that it works only with hibernate.\r\n\r\nIf like me you needs to keep the order of columns, you can specify your own transformer. i copied the code from hibernate and changed the HashMap to LinkedHashMap:\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.hibernate.transform.AliasedTupleSubsetResultTransformer;\r\n    import org.hibernate.transform.ResultTransformer;\r\n    \r\n    /**\r\n     * {@link ResultTransformer} implementation which builds a map for each &quot;row&quot;, made up of each aliased value where the\r\n     * alias is the map key. Inspired by {@link org.hibernate.transform.AliasToEntityMapResultTransformer}, but kepping the\r\n     * ordering of elements.\r\n     * &lt;p/&gt;\r\n     * Since this transformer is stateless, all instances would be considered equal. So for optimization purposes we limit\r\n     * it to a single, singleton {@link #INSTANCE instance}.\r\n     */\r\n    public class AliasToEntityMapResultTransformer extends AliasedTupleSubsetResultTransformer {\r\n    \r\n    \tpublic static final AliasToEntityMapResultTransformer INSTANCE = new AliasToEntityMapResultTransformer();\r\n    \r\n    \t/**\r\n    \t * Disallow instantiation of AliasToEntityMapResultTransformer.\r\n    \t */\r\n    \tprivate AliasToEntityMapResultTransformer() {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n    \t\tMap result = new LinkedHashMap&lt;&gt;(tuple.length);\r\n    \t\tfor (int i = 0; i &lt; tuple.length; i++) {\r\n    \t\t\tString alias = aliases[i];\r\n    \t\t\tif (alias != null) {\r\n    \t\t\t\tresult.put(alias, tuple[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isTransformedValueATupleElement(String[] aliases, int tupleLength) {\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Serialization hook for ensuring singleton uniqueing.\r\n    \t *\r\n    \t * @return The singleton instance : {@link #INSTANCE}\r\n    \t */\r\n    \tprivate Object readResolve() {\r\n    \t\treturn INSTANCE;\r\n    \t}\r\n    }\r\n\r\n\r\nWith this transformer you can used Ryiad&#39;s solution with Hibernate:\r\n\r\n        Query jpaQuery =  entityManager.createNativeQuery(queryString);\r\n        org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)jpaQuery).getHibernateQuery();\r\n      hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n        List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();","title":"Getting column names from a JPA Native Query","body":"<p>Ryiad's answer DTO adds some confusion, you should have kept it away.\nYou should have explained that it works only with hibernate.</p>\n<p>If like me you needs to keep the order of columns, you can specify your own transformer. i copied the code from hibernate and changed the HashMap to LinkedHashMap:</p>\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport org.hibernate.transform.AliasedTupleSubsetResultTransformer;\nimport org.hibernate.transform.ResultTransformer;\n\n/**\n * {@link ResultTransformer} implementation which builds a map for each &quot;row&quot;, made up of each aliased value where the\n * alias is the map key. Inspired by {@link org.hibernate.transform.AliasToEntityMapResultTransformer}, but kepping the\n * ordering of elements.\n * &lt;p/&gt;\n * Since this transformer is stateless, all instances would be considered equal. So for optimization purposes we limit\n * it to a single, singleton {@link #INSTANCE instance}.\n */\npublic class AliasToEntityMapResultTransformer extends AliasedTupleSubsetResultTransformer {\n\n    public static final AliasToEntityMapResultTransformer INSTANCE = new AliasToEntityMapResultTransformer();\n\n    /**\n     * Disallow instantiation of AliasToEntityMapResultTransformer.\n     */\n    private AliasToEntityMapResultTransformer() {\n    }\n\n    @Override\n    public Object transformTuple(Object[] tuple, String[] aliases) {\n        Map result = new LinkedHashMap&lt;&gt;(tuple.length);\n        for (int i = 0; i &lt; tuple.length; i++) {\n            String alias = aliases[i];\n            if (alias != null) {\n                result.put(alias, tuple[i]);\n            }\n        }\n        return result;\n    }\n\n    @Override\n    public boolean isTransformedValueATupleElement(String[] aliases, int tupleLength) {\n        return false;\n    }\n\n    /**\n     * Serialization hook for ensuring singleton uniqueing.\n     *\n     * @return The singleton instance : {@link #INSTANCE}\n     */\n    private Object readResolve() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n<p>With this transformer you can used Ryiad's solution with Hibernate:</p>\n<pre><code>    Query jpaQuery =  entityManager.createNativeQuery(queryString);\n    org.hibernate.Query hibernateQuery =((org.hibernate.jpa.HibernateQuery)jpaQuery).getHibernateQuery();\n  hibernateQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\n    List&lt;Map&lt;String,Object&gt;&gt; res = hibernateQuery.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629799432,"creation_date":1629799432,"answer_id":68905579,"question_id":44626609,"body_markdown":"To enforce ```em.createNativeQuery(..).getResultList()``` to return ```List&lt;Tuple&gt;``` specify it with ```Tuple.class``` when creating native queries :\r\n```\r\nQuery q = em.createNativeQuery(&quot;SELECT columnA, columnB FROM table&quot;, Tuple.class );\r\n\r\nList&lt;Tuple&gt; result = q.getResultList();\r\n\r\nfor (Tuple row: result){\r\n\r\n    // Get Column Names\r\n    List&lt;TupleElement&lt;Object&gt;&gt; elements = row.getElements();\r\n    for (TupleElement&lt;Object&gt; element : elements ) {\r\n        System.out.println(element.getAlias());\r\n    }\r\n\r\n    // Get Objects by Column Name\r\n    Object columnA;\r\n    Object columnB;\r\n    try {\r\n        columnA = row.get(&quot;columnA&quot;);\r\n        columnB= row.get(&quot;columnB&quot;);\r\n    } catch (IllegalArgumentException e) {\r\n        System.out.println(&quot;A column was not found&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Getting column names from a JPA Native Query","body":"<p>To enforce <code>em.createNativeQuery(..).getResultList()</code> to return <code>List&lt;Tuple&gt;</code> specify it with <code>Tuple.class</code> when creating native queries :</p>\n<pre><code>Query q = em.createNativeQuery(&quot;SELECT columnA, columnB FROM table&quot;, Tuple.class );\n\nList&lt;Tuple&gt; result = q.getResultList();\n\nfor (Tuple row: result){\n\n    // Get Column Names\n    List&lt;TupleElement&lt;Object&gt;&gt; elements = row.getElements();\n    for (TupleElement&lt;Object&gt; element : elements ) {\n        System.out.println(element.getAlias());\n    }\n\n    // Get Objects by Column Name\n    Object columnA;\n    Object columnB;\n    try {\n        columnA = row.get(&quot;columnA&quot;);\n        columnB= row.get(&quot;columnB&quot;);\n    } catch (IllegalArgumentException e) {\n        System.out.println(&quot;A column was not found&quot;);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10322402,"reputation":1210,"user_id":7614848,"display_name":"Piyush Patel"},"score":2,"creation_date":1640945836,"post_id":69617747,"comment_id":124695951,"body_markdown":"Thank you very much after spending whole day I found the solution :) you save my day","body":"Thank you very much after spending whole day I found the solution :) you save my day"}],"tags":[],"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1634567097,"creation_date":1634566774,"answer_id":69617747,"question_id":44626609,"body_markdown":"    Query query = entityManager.createNamedQuery(namedQuery);\r\n    NativeQueryImpl nativeQuery = (NativeQueryImpl) query;\r\n    nativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n    List&lt;Map&lt;String,Object&gt;&gt; result = nativeQuery.getResultList();\r\n\r\n&gt; And now you have **Map&lt;String,Object&gt;** . You can see your Column Names","title":"Getting column names from a JPA Native Query","body":"<pre><code>Query query = entityManager.createNamedQuery(namedQuery);\nNativeQueryImpl nativeQuery = (NativeQueryImpl) query;\nnativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\nList&lt;Map&lt;String,Object&gt;&gt; result = nativeQuery.getResultList();\n</code></pre>\n<blockquote>\n<p>And now you have <strong>Map&lt;String,Object&gt;</strong> . You can see your Column Names</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20697836,"reputation":51,"user_id":15197665,"display_name":"Nei Ortol&#225;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636729987,"creation_date":1636729987,"answer_id":69945073,"question_id":44626609,"body_markdown":"This worked for me:\r\n\r\n        final Query emQuery = em.createNativeQuery(query, Tuple.class);\r\n        final List&lt;Tuple&gt; queryRows = emQuery.getResultList();\r\n\r\n        final List&lt;Map&lt;String, Object&gt;&gt; formattedRows = new ArrayList&lt;&gt;();\r\n\r\n        queryRows.forEach(row -&gt; {\r\n            final Map&lt;String, Object&gt; formattedRow = new HashMap&lt;&gt;();\r\n\r\n            row.getElements().forEach(column -&gt; {\r\n                final String columnName = column.getAlias();\r\n                final Object columnValue = row.get(column);\r\n\r\n                formattedRow.put(columnName, columnValue);\r\n            });\r\n            \r\n            formattedRows.add(formattedRow);\r\n        });\r\n\r\n        return formattedRows;","title":"Getting column names from a JPA Native Query","body":"<p>This worked for me:</p>\n<pre><code>    final Query emQuery = em.createNativeQuery(query, Tuple.class);\n    final List&lt;Tuple&gt; queryRows = emQuery.getResultList();\n\n    final List&lt;Map&lt;String, Object&gt;&gt; formattedRows = new ArrayList&lt;&gt;();\n\n    queryRows.forEach(row -&gt; {\n        final Map&lt;String, Object&gt; formattedRow = new HashMap&lt;&gt;();\n\n        row.getElements().forEach(column -&gt; {\n            final String columnName = column.getAlias();\n            final Object columnValue = row.get(column);\n\n            formattedRow.put(columnName, columnValue);\n        });\n        \n        formattedRows.add(formattedRow);\n    });\n\n    return formattedRows;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674726127,"post_id":75234476,"comment_id":132776686,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75234476/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9519816,"reputation":11,"user_id":7075045,"display_name":"Mahaveer K"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675949058,"creation_date":1674652270,"answer_id":75234476,"question_id":44626609,"body_markdown":"      This is the working solution\r\n      Below example return the objectlist from the query.\r\n      Looping the same and from the first object cast it to hasmap, and hashmap.keyset will give you all the coulmn names in a set.\r\n    \r\n      List dataList = session.createSQLQuery(&quot;SLECT * FROM EMPLOYEETABLE&quot;).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP).list();\r\n        for (Object obj : dataList) {\r\n        \tHashMap&lt;String, Object&gt; hashMap = (HashMap&lt;String, Object&gt;) obj;\r\n        \tSet&lt;String&gt; keySet = hashMap.keySet();\r\n        \tbreak;\r\n        }","title":"Getting column names from a JPA Native Query","body":"<pre><code>  This is the working solution\n  Below example return the objectlist from the query.\n  Looping the same and from the first object cast it to hasmap, and hashmap.keyset will give you all the coulmn names in a set.\n\n  List dataList = session.createSQLQuery(&quot;SLECT * FROM EMPLOYEETABLE&quot;).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP).list();\n    for (Object obj : dataList) {\n        HashMap&lt;String, Object&gt; hashMap = (HashMap&lt;String, Object&gt;) obj;\n        Set&lt;String&gt; keySet = hashMap.keySet();\n        break;\n    }\n</code></pre>\n"}],"owner":{"account_id":114347,"reputation":7411,"user_id":300741,"accept_rate":96,"display_name":"Master_T"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35545,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":53836492,"answer_count":11,"score":24,"last_activity_date":1675949058,"creation_date":1497863925,"question_id":44626609,"body_markdown":"I have an administrative console in my web application that allows an admin to perform a custom SQL SELECT query on our database.\r\n\r\nUnderneath, the application is using Hibernate, but these queries are not HQL, they&#39;re pure SQL, so I&#39;m using a Native Query like this:\r\n\r\n    protected EntityManager em;\r\n    \r\n    public List&lt;Object[]&gt; execute(String query) {\r\n    \tQuery q = em.createNativeQuery(query);\r\n    \tList&lt;Object[]&gt; result = q.getResultList();\r\n    \treturn result;\r\n    }\r\n\r\nThis works correctly, but it only returns the rows of data, with no extra information. What I would like is to also get the column names, so when I print the results back to the user I can also print a header to show what the various columns are.\r\n\r\nIs there any way to do this?","title":"Getting column names from a JPA Native Query","body":"<p>I have an administrative console in my web application that allows an admin to perform a custom SQL SELECT query on our database.</p>\n\n<p>Underneath, the application is using Hibernate, but these queries are not HQL, they're pure SQL, so I'm using a Native Query like this:</p>\n\n<pre><code>protected EntityManager em;\n\npublic List&lt;Object[]&gt; execute(String query) {\n    Query q = em.createNativeQuery(query);\n    List&lt;Object[]&gt; result = q.getResultList();\n    return result;\n}\n</code></pre>\n\n<p>This works correctly, but it only returns the rows of data, with no extra information. What I would like is to also get the column names, so when I print the results back to the user I can also print a header to show what the various columns are.</p>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["java","spring-boot","jwt","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675948478,"creation_date":1675948478,"answer_id":75399128,"question_id":75366149,"body_markdown":"I was able to solve the problem by modifying the `loadUserByUsername` method in the `UserDetailsServiceImpl`.\r\n\r\nSee the implementation details on **[GitHub][1]**!\r\n\r\n\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n    \r\n        private final UserTenantRepository userTenantRepository;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n            // Getting subdomain from request attributes\r\n            HttpServletRequest request =\r\n                    ((ServletRequestAttributes) Objects.requireNonNull(RequestContextHolder.getRequestAttributes()))\r\n                            .getRequest();\r\n    \r\n            String serverName = request.getServerName();\r\n            String subdomain = serverName.substring(0, serverName.indexOf(&quot;.&quot;));\r\n            UserTenant userTenant = userTenantRepository.findByUserAndSubdomain(username, subdomain)\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(\r\n                            &quot;UserTenant Not Found with username: &quot; + username + &quot; and &quot; + subdomain));\r\n    \r\n            // Getting Rules from the UserTenant\r\n            List&lt;GrantedAuthority&gt; authorities = userTenant.getRoles().stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\r\n                    .collect(Collectors.toList());\r\n    \r\n            return new UserDetailsImpl(\r\n                    userTenant.getUser().getId(),\r\n                    userTenant.getUser().getUsername(),\r\n                    userTenant.getUser().getPassword(),\r\n                    authorities\r\n            );\r\n        }\r\n    }\r\n\r\n**Inserts in Database**\r\n\r\n    INSERT INTO roles(id, name)\r\n    VALUES (1 ,&#39;ROLE_USER&#39;),\r\n           (2, &#39;ROLE_MODERATOR&#39;),\r\n           (3, &#39;ROLE_ADMIN&#39;);\r\n    \r\n    INSERT INTO tenants (id, name, subdomain)\r\n    VALUES (1, &#39;Tenant 1&#39;, &#39;tenant1&#39;),\r\n           (2, &#39;Tenant 2&#39;, &#39;tenant2&#39;);\r\n    \r\n    # user, password\r\n    # user1, user1\r\n    # user2, user2\r\n    INSERT INTO users (id, username, password)\r\n    VALUES (1, &#39;user1&#39;, &#39;$2a$10$wFMJLxdXKGRa8lJO6k2DAOnW9HstAPoHecXUNkDyYNeaNnZJAz.hy&#39;),\r\n           (2, &#39;user2&#39;, &#39;$2a$10$Z9/wLkmf5IwfjJqIQU6X.OBFg3TCBUyk3bdfgkGjU0.HI5kVibZxG&#39;);\r\n    \r\n    INSERT INTO users_tenants (id,  tenant_id, user_id)\r\n    VALUES (1, 1, 1),\r\n           (2, 2, 2);\r\n    \r\n    INSERT INTO users_tenants_roles (user_tenant_id,  role_id)\r\n    VALUES (1, 2),\r\n           (1, 3),\r\n           (2, 1);\r\n    \r\n    \r\n    INSERT INTO items (id,  tenant_id, name)\r\n    VALUES (1, 1, &#39;Product 1 in Tenant 1&#39;),\r\n           (2, 1, &#39;Product 2 in Tenant 1&#39;),\r\n           (3, 2, &#39;Product 1 in Tenant 2&#39;),\r\n           (4, 2, &#39;Product 2 in Tenant 2&#39;);\r\n\r\n**Validations in Postman**\r\n\r\n*Created token variable in Postman:*\r\n[![Validations in Postman][2]][2]\r\n\r\n*Set token value in Postman variable:*\r\n[![Set token value in Postman variable][3]][3]\r\n\r\n*Added Authorization variable in requests headers:*\r\n[![Added Authorization variable in requests headers][4]][4]\r\n\r\n*Validating if the domain exists in sign in:*\r\n[![Validating if the domain exists in sign in][5]][5]\r\n\r\n*Validating user access permission on tenant:*\r\n[![Validating user access permission on tenant:][6]][6]\r\n\r\n*Authorized login:*\r\n[![Authorized login][7]][7]\r\n\r\n*Getting items of tenant1:*\r\n[![enter image description here][8]][8]\r\n\r\n*Trying to get tenant2 list of items without being logged in tenant2 and having access permissions:*\r\n[![Trying to get tenant2][9]][9]\r\n\r\n*Logging in with user2 in tenant2:*\r\n[![Logging in with user2 in tenant2][10]][10]\r\n\r\n*Getting items list tenant2*\r\n[![Getting items list tenant2][11]][11]\r\n\r\n**Trying to get tenant1 list of items without being logged in tenant1 and having access permissions:**\r\n[![Trying to get tenant1][12]][12]\r\n\r\n\r\n  [1]: https://github.com/clejton/multi-tenancy\r\n  [2]: https://i.stack.imgur.com/5huYW.png\r\n  [3]: https://i.stack.imgur.com/VSqiV.png\r\n  [4]: https://i.stack.imgur.com/yRdEj.png\r\n  [5]: https://i.stack.imgur.com/PRQhC.png\r\n  [6]: https://i.stack.imgur.com/7q3Lf.png\r\n  [7]: https://i.stack.imgur.com/fhBkr.png\r\n  [8]: https://i.stack.imgur.com/5ZdAE.png\r\n  [9]: https://i.stack.imgur.com/E5zks.png\r\n  [10]: https://i.stack.imgur.com/zTq3k.png\r\n  [11]: https://i.stack.imgur.com/WYcII.png\r\n  [12]: https://i.stack.imgur.com/ouQkO.png","title":"Multi-Tenancy whit JWT autentication and validation of user for tenant","body":"<p>I was able to solve the problem by modifying the <code>loadUserByUsername</code> method in the <code>UserDetailsServiceImpl</code>.</p>\n<p>See the implementation details on <strong><a href=\"https://github.com/clejton/multi-tenancy\" rel=\"nofollow noreferrer\">GitHub</a></strong>!</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    private final UserTenantRepository userTenantRepository;\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        // Getting subdomain from request attributes\n        HttpServletRequest request =\n                ((ServletRequestAttributes) Objects.requireNonNull(RequestContextHolder.getRequestAttributes()))\n                        .getRequest();\n\n        String serverName = request.getServerName();\n        String subdomain = serverName.substring(0, serverName.indexOf(&quot;.&quot;));\n        UserTenant userTenant = userTenantRepository.findByUserAndSubdomain(username, subdomain)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(\n                        &quot;UserTenant Not Found with username: &quot; + username + &quot; and &quot; + subdomain));\n\n        // Getting Rules from the UserTenant\n        List&lt;GrantedAuthority&gt; authorities = userTenant.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\n                .collect(Collectors.toList());\n\n        return new UserDetailsImpl(\n                userTenant.getUser().getId(),\n                userTenant.getUser().getUsername(),\n                userTenant.getUser().getPassword(),\n                authorities\n        );\n    }\n}\n</code></pre>\n<p><strong>Inserts in Database</strong></p>\n<pre><code>INSERT INTO roles(id, name)\nVALUES (1 ,'ROLE_USER'),\n       (2, 'ROLE_MODERATOR'),\n       (3, 'ROLE_ADMIN');\n\nINSERT INTO tenants (id, name, subdomain)\nVALUES (1, 'Tenant 1', 'tenant1'),\n       (2, 'Tenant 2', 'tenant2');\n\n# user, password\n# user1, user1\n# user2, user2\nINSERT INTO users (id, username, password)\nVALUES (1, 'user1', '$2a$10$wFMJLxdXKGRa8lJO6k2DAOnW9HstAPoHecXUNkDyYNeaNnZJAz.hy'),\n       (2, 'user2', '$2a$10$Z9/wLkmf5IwfjJqIQU6X.OBFg3TCBUyk3bdfgkGjU0.HI5kVibZxG');\n\nINSERT INTO users_tenants (id,  tenant_id, user_id)\nVALUES (1, 1, 1),\n       (2, 2, 2);\n\nINSERT INTO users_tenants_roles (user_tenant_id,  role_id)\nVALUES (1, 2),\n       (1, 3),\n       (2, 1);\n\n\nINSERT INTO items (id,  tenant_id, name)\nVALUES (1, 1, 'Product 1 in Tenant 1'),\n       (2, 1, 'Product 2 in Tenant 1'),\n       (3, 2, 'Product 1 in Tenant 2'),\n       (4, 2, 'Product 2 in Tenant 2');\n</code></pre>\n<p><strong>Validations in Postman</strong></p>\n<p><em>Created token variable in Postman:</em>\n<a href=\"https://i.stack.imgur.com/5huYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5huYW.png\" alt=\"Validations in Postman\" /></a></p>\n<p><em>Set token value in Postman variable:</em>\n<a href=\"https://i.stack.imgur.com/VSqiV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VSqiV.png\" alt=\"Set token value in Postman variable\" /></a></p>\n<p><em>Added Authorization variable in requests headers:</em>\n<a href=\"https://i.stack.imgur.com/yRdEj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yRdEj.png\" alt=\"Added Authorization variable in requests headers\" /></a></p>\n<p><em>Validating if the domain exists in sign in:</em>\n<a href=\"https://i.stack.imgur.com/PRQhC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PRQhC.png\" alt=\"Validating if the domain exists in sign in\" /></a></p>\n<p><em>Validating user access permission on tenant:</em>\n<a href=\"https://i.stack.imgur.com/7q3Lf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7q3Lf.png\" alt=\"Validating user access permission on tenant:\" /></a></p>\n<p><em>Authorized login:</em>\n<a href=\"https://i.stack.imgur.com/fhBkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fhBkr.png\" alt=\"Authorized login\" /></a></p>\n<p><em>Getting items of tenant1:</em>\n<a href=\"https://i.stack.imgur.com/5ZdAE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ZdAE.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Trying to get tenant2 list of items without being logged in tenant2 and having access permissions:</em>\n<a href=\"https://i.stack.imgur.com/E5zks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E5zks.png\" alt=\"Trying to get tenant2\" /></a></p>\n<p><em>Logging in with user2 in tenant2:</em>\n<a href=\"https://i.stack.imgur.com/zTq3k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTq3k.png\" alt=\"Logging in with user2 in tenant2\" /></a></p>\n<p><em>Getting items list tenant2</em>\n<a href=\"https://i.stack.imgur.com/WYcII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYcII.png\" alt=\"Getting items list tenant2\" /></a></p>\n<p><strong>Trying to get tenant1 list of items without being logged in tenant1 and having access permissions:</strong>\n<a href=\"https://i.stack.imgur.com/ouQkO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ouQkO.png\" alt=\"Trying to get tenant1\" /></a></p>\n"}],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75399128,"answer_count":1,"score":0,"last_activity_date":1675948650,"creation_date":1675714670,"question_id":75366149,"body_markdown":"I have a project running with JWT authentication, it works, but now I need to implement Multi-Tenancy using the following approach:\r\n\r\n[![Shared Database and Shared Schema][1]][1]\r\n\r\n**Requirements:**\r\n\r\n 1. A user can have access to one or more tenants\r\n 2. Access permissions are defined by user and tenant\r\n 3. Getting subdomain through `@RequestAttribute` in requests\r\n 4. Generate the token containing the tenant ID (subdomain).\r\n 5. Validate the tenant on all requests\r\n\r\n**Implemented:**\r\n\r\n - Created JWT Autentication.\r\n - Created `TenantInterceptor`.\r\n - Getting subdomain using `@RequestAttribute` on requests.\r\n - Created `existsByUsernameAndSubdomain` validation.\r\n\r\n\r\nI&#39;m having trouble implementing this new feature, can you point me to an implementation example or tutorial that can help me?\r\n\r\nI thank you for your help!\r\n\r\nBelow are my classes or if you prefer clone on **[GitHub][2]**!\r\n\r\n**My classes**\r\n\r\n***Models:***\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** ERole **/\r\n        public enum ERole {\r\n        ROLE_USER,\r\n        ROLE_MODERATOR,\r\n        ROLE_ADMIN\r\n    }\r\n    \r\n    /** Role **/\r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;roles&quot;)\r\n    public class Role {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(length = 20)\r\n        private ERole name;\r\n    }\r\n    \r\n    /** Tenant **/\r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;tenants&quot;,\r\n            uniqueConstraints = {\r\n                    @UniqueConstraint(columnNames = &quot;subdomain&quot;, name = &quot;un_subdomain&quot;)\r\n            })\r\n    public class Tenant {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 20)\r\n        private String subdomain;\r\n    \r\n        @NotBlank\r\n        private String name;\r\n    \r\n    }\r\n    \r\n    /** User **/\r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;users&quot;,\r\n            uniqueConstraints = {\r\n                    @UniqueConstraint(columnNames = &quot;username&quot;, name = &quot;un_username&quot;)\r\n            })\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 20)\r\n        private String username;\r\n    \r\n        @NotBlank\r\n        @Size(max = 120)\r\n        @JsonIgnore\r\n        private String password;\r\n    \r\n    //    Remove\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;users_roles&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;user_id&quot;,\r\n                        foreignKey = @ForeignKey(name = &quot;fk_users_roles_users1&quot;))},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;,\r\n                        foreignKey = @ForeignKey(name = &quot;fk_users_roles_roles1&quot;))})\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    //    Include\r\n        @EqualsAndHashCode.Exclude\r\n        @OneToMany(mappedBy = &quot;user&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true,\r\n                fetch = FetchType.LAZY)\r\n        @JsonManagedReference\r\n        private List&lt;UserTenant&gt; tenants = new ArrayList&lt;&gt;();\r\n    \r\n        public User(String username, String password) {\r\n            this.username = username;\r\n            this.password = password;\r\n        }\r\n    \r\n    }\r\n    \r\n    /** UserTenant **/\r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;users_tenants&quot;,\r\n            uniqueConstraints = {\r\n                    @UniqueConstraint(columnNames = &quot;user_id&quot;, name = &quot;un_user_id&quot;),\r\n                    @UniqueConstraint(columnNames = &quot;tenant_id&quot;, name = &quot;un_tenant_id&quot;)\r\n            })\r\n    public class UserTenant {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;,\r\n                nullable = false,\r\n                foreignKey = @ForeignKey(\r\n                        name = &quot;fk_users_tenants_user1&quot;))\r\n        @JsonBackReference\r\n        private User user;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;tenant_id&quot;,\r\n                nullable = false,\r\n                foreignKey = @ForeignKey(\r\n                        name = &quot;fk_users_tenants_tenant1&quot;))\r\n        @JsonBackReference\r\n        private Tenant tenant;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;users_tenants_roles&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;user_tenant_id&quot;,\r\n                        foreignKey = @ForeignKey(name = &quot;fk_users_tenants_user_tenant1&quot;))},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;,\r\n                        foreignKey = @ForeignKey(name = &quot;fk_users_tenants_roles1&quot;))})\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***Payloads:***\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** LoginRequest **/\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class LoginRequest {\r\n        @NotBlank\r\n        private String username;\r\n    \r\n        @NotBlank\r\n        private String password;\r\n    \r\n    }\r\n    \r\n    /** SignupRequest **/\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class SignupRequest {\r\n        @NotBlank\r\n        @Size(max = 20)\r\n        private String username;\r\n    \r\n        @NotBlank\r\n        @Size(max = 40)\r\n        private String password;\r\n        private Set&lt;String&gt; role;\r\n    \r\n    }\r\n    \r\n    /** JwtResponse **/\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class JwtResponse {\r\n        private Long id;\r\n        private String username;\r\n        private List&lt;String&gt; roles;\r\n        private String tokenType = &quot;Bearer&quot;;\r\n        private String accessToken;\r\n    \r\n        public JwtResponse(String accessToken, Long id, String username,\r\n                           List&lt;String&gt; roles) {\r\n            this.id = id;\r\n            this.username = username;\r\n            this.roles = roles;\r\n            this.accessToken = accessToken;\r\n        }\r\n    \r\n    }\r\n    \r\n    /** MessageResponse **/\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    public class MessageResponse {\r\n        private String message;\r\n    \r\n        public MessageResponse(String message) {\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n***Repositories:***\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** RoleRepository **/\r\n    @Repository\r\n    public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n        Optional&lt;Role&gt; findByName(ERole name);\r\n    }\r\n    \r\n    /** UserRepository **/\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        Optional&lt;User&gt; findByUsername(String username);\r\n    \r\n        Boolean existsByUsername(String username);\r\n    \r\n    }\r\n    \r\n    /** UserTenantRepository **/\r\n    @Repository\r\n    public interface UserTenantRepository extends JpaRepository&lt;UserTenant, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT ut FROM UserTenant ut WHERE ut.user.username = :username AND ut.tenant.subdomain = :subdomain &quot;)\r\n        Optional&lt;UserTenant&gt; findByUserAndSubdomain(String username, String subdomain);\r\n    \r\n        @Query(&quot;SELECT &quot; +\r\n                &quot;CASE WHEN COUNT(ut) &gt; 0 THEN true ELSE false END &quot; +\r\n                &quot;FROM UserTenant ut &quot; +\r\n                &quot;WHERE ut.user.username = :username &quot; +\r\n                &quot;AND ut.tenant.subdomain = :subdomain &quot;)\r\n        Boolean existsByUsernameAndSubdomain(String subdomain, String username);\r\n    \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***Services:***\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** AuthService **/\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AuthService {\r\n    \r\n        private final UserRepository userRepository;\r\n        private final AuthenticationManager authenticationManager;\r\n        private final JwtUtils jwtUtils;\r\n        private final PasswordEncoder encoder;\r\n        private final RoleRepository roleRepository;\r\n    \r\n        public JwtResponse authenticateUser(String subdomain, LoginRequest loginRequest) {\r\n    \r\n            System.out.println(subdomain);\r\n    \r\n            Authentication authentication = authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n            System.out.println(authentication);\r\n    \r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            String jwt = jwtUtils.generateJwtToken(authentication);\r\n    \r\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                    .map(GrantedAuthority::getAuthority)\r\n                    .collect(Collectors.toList());\r\n    \r\n            return new JwtResponse(jwt,\r\n                    userDetails.getId(),\r\n                    userDetails.getUsername(),\r\n                    roles);\r\n        }\r\n    \r\n        @Transactional\r\n        public MessageResponse registerUser(SignupRequest signUpRequest) {\r\n    \r\n            // Create new user&#39;s account\r\n            User user = new User(\r\n                    signUpRequest.getUsername(),\r\n                    encoder.encode(signUpRequest.getPassword()));\r\n    \r\n            Set&lt;String&gt; strRoles = signUpRequest.getRole();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n            if (strRoles == null) {\r\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                roles.add(userRole);\r\n            } else {\r\n                strRoles.forEach(role -&gt; {\r\n                    switch (role) {\r\n                        case &quot;admin&quot;:\r\n                            Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(adminRole);\r\n                            break;\r\n                        case &quot;mod&quot;:\r\n                            Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(modRole);\r\n                            break;\r\n                        default:\r\n                            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                                    .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                            roles.add(userRole);\r\n                    }\r\n                });\r\n            }\r\n            user.setRoles(roles);\r\n            userRepository.save(user);\r\n            return new MessageResponse(&quot;User registered successfully!&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    /** UserDetailsImpl **/\r\n    public class UserDetailsImpl implements UserDetails {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private final Long id;\r\n    \r\n        private final String username;\r\n    \r\n        @JsonIgnore\r\n        private final String password;\r\n    \r\n        private final Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n    \r\n        public UserDetailsImpl(Long id, String username, String password,\r\n                               Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            this.id = id;\r\n            this.username = username;\r\n            this.password = password;\r\n            this.authorities = authorities;\r\n        }\r\n    \r\n        public static UserDetailsImpl build(User user) {\r\n            List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\r\n                    .collect(Collectors.toList());\r\n    \r\n            return new UserDetailsImpl(\r\n                    user.getId(),\r\n                    user.getUsername(),\r\n                    user.getPassword(),\r\n                    authorities);\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o)\r\n                return true;\r\n            if (o == null || getClass() != o.getClass())\r\n                return false;\r\n            UserDetailsImpl user = (UserDetailsImpl) o;\r\n            return Objects.equals(id, user.id);\r\n        }\r\n    }\r\n    \r\n    /** UserDetailsServiceImpl **/\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class UserDetailsServiceImpl implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n        private final UserTenantRepository userTenantRepository;\r\n    \r\n        @Override\r\n        @Transactional\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userRepository.findByUsername(username)\r\n                    .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User Not Found with username: &quot; + username));\r\n    \r\n    \r\n            return UserDetailsImpl.build(user);\r\n        }\r\n    \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***Controller***\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** AuthController **/\r\n    @RestController\r\n    @RequestMapping(&quot;/auth&quot;)\r\n    @RequiredArgsConstructor\r\n    public class AuthController {\r\n    \r\n        private final AuthService authService;\r\n        private final UserRepository userRepository;\r\n        private final UserTenantRepository userTenantRepository;\r\n    \r\n        @PostMapping(&quot;/signin&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(\r\n                @RequestAttribute String subdomain,\r\n                @Valid @RequestBody LoginRequest loginRequest\r\n        ) {\r\n            if (!userTenantRepository.existsByUsernameAndSubdomain(subdomain, loginRequest.getUsername())) {\r\n                return ResponseEntity\r\n                        .badRequest()\r\n                        .body(new MessageResponse(&quot;Unauthorized: This username and tenant is not authorized!&quot;));\r\n            }\r\n            return ResponseEntity.ok(authService.authenticateUser(subdomain, loginRequest));\r\n        }\r\n    \r\n    \r\n        @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\r\n            if (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n                return ResponseEntity\r\n                        .badRequest()\r\n                        .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n            }\r\n            return ResponseEntity.ok(authService.registerUser(signUpRequest));\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***JWT:***\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** AuthEntryPointJwt **/\r\n    @Component\r\n    public class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                             AuthenticationException authException) throws IOException {\r\n            logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n            response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized: incorrect username or password&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    /** AuthTokenFilter **/\r\n    public class AuthTokenFilter extends OncePerRequestFilter {\r\n        @Autowired\r\n        private JwtUtils jwtUtils;\r\n    \r\n        @Autowired\r\n        private UserDetailsServiceImpl userDetailsService;\r\n    \r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response\r\n                , FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n            try {\r\n                String jwt = parseJwt(request);\r\n                if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n                    String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n    \r\n                    String serverName = request.getServerName();\r\n                    String subdomain = serverName.substring(0, serverName.indexOf(&quot;.&quot;));\r\n    \r\n                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                    System.out.println(userDetails);\r\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                            userDetails, null, userDetails.getAuthorities());\r\n                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n    \r\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            filterChain.doFilter(request, response);\r\n        }\r\n    \r\n        private String parseJwt(HttpServletRequest request) {\r\n            String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n    \r\n            if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n                return headerAuth.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    /** JwtUtils **/\r\n    @Component\r\n    public class JwtUtils {\r\n        private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n    \r\n        @Value(&quot;${example.app.jwtSecret}&quot;)\r\n        private String jwtSecret;\r\n    \r\n        @Value(&quot;${example.app.jwtExpirationMs}&quot;)\r\n        private int jwtExpirationMs;\r\n    \r\n        public String generateJwtToken(Authentication authentication) {\r\n    \r\n            UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\r\n    \r\n            return Jwts.builder()\r\n                    .setSubject((userPrincipal.getUsername()))\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n                    .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                    .compact();\r\n        }\r\n    \r\n        public String getUserNameFromJwtToken(String token) {\r\n            return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n        }\r\n    \r\n        public boolean validateJwtToken(String authToken) {\r\n            try {\r\n                Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n                return true;\r\n            } catch (SignatureException e) {\r\n                logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n            } catch (MalformedJwtException e) {\r\n                logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n            } catch (ExpiredJwtException e) {\r\n                logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n            } catch (UnsupportedJwtException e) {\r\n                logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n            } catch (IllegalArgumentException e) {\r\n                logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***Utils:***\r\n&lt;!-- begin snippet: js hide: true console: true babel: true --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /** TenantInterceptor **/\r\n    public class TenantInterceptor implements HandlerInterceptor {\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n            String serverName = request.getServerName();\r\n            String tenantId = serverName.substring(0, serverName.indexOf(&quot;.&quot;));\r\n    \r\n            request.setAttribute(&quot;subdomain&quot;, tenantId);\r\n    \r\n            return true;\r\n        }\r\n    }\r\n    \r\n    /** WebSecurityConfig **/\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig implements WebMvcConfigurer {\r\n    \r\n        final\r\n        UserDetailsServiceImpl userDetailsService;\r\n    \r\n        private final AuthEntryPointJwt unauthorizedHandler;\r\n    \r\n        public WebSecurityConfig(UserDetailsServiceImpl userDetailsService, AuthEntryPointJwt unauthorizedHandler) {\r\n            this.userDetailsService = userDetailsService;\r\n            this.unauthorizedHandler = unauthorizedHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter() {\r\n            return new AuthTokenFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    \r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n    \r\n            return authProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(\r\n                            &quot;/auth/**&quot;,\r\n                            &quot;/v3/api-docs/**&quot;,\r\n                            &quot;/swagger-ui/**&quot;,\r\n                            &quot;/swagger-ui.html&quot;,\r\n                            &quot;/configuration/**&quot;,\r\n                            &quot;/swagger-resources/**&quot;,\r\n                            &quot;/webjars/**&quot;,\r\n                            &quot;/api-docs/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                    .anyRequest().authenticated();\r\n    \r\n            http.authenticationProvider(authenticationProvider());\r\n    \r\n            http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new TenantInterceptor());\r\n        }\r\n    \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yEDTu.png\r\n  [2]: https://github.com/clejton/multi-tenancy\r\n","title":"Multi-Tenancy whit JWT autentication and validation of user for tenant","body":"<p>I have a project running with JWT authentication, it works, but now I need to implement Multi-Tenancy using the following approach:</p>\n<p><a href=\"https://i.stack.imgur.com/yEDTu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yEDTu.png\" alt=\"Shared Database and Shared Schema\" /></a></p>\n<p><strong>Requirements:</strong></p>\n<ol>\n<li>A user can have access to one or more tenants</li>\n<li>Access permissions are defined by user and tenant</li>\n<li>Getting subdomain through <code>@RequestAttribute</code> in requests</li>\n<li>Generate the token containing the tenant ID (subdomain).</li>\n<li>Validate the tenant on all requests</li>\n</ol>\n<p><strong>Implemented:</strong></p>\n<ul>\n<li>Created JWT Autentication.</li>\n<li>Created <code>TenantInterceptor</code>.</li>\n<li>Getting subdomain using <code>@RequestAttribute</code> on requests.</li>\n<li>Created <code>existsByUsernameAndSubdomain</code> validation.</li>\n</ul>\n<p>I'm having trouble implementing this new feature, can you point me to an implementation example or tutorial that can help me?</p>\n<p>I thank you for your help!</p>\n<p>Below are my classes or if you prefer clone on <strong><a href=\"https://github.com/clejton/multi-tenancy\" rel=\"nofollow noreferrer\">GitHub</a></strong>!</p>\n<p><strong>My classes</strong></p>\n<p><em><strong>Models:</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** ERole **/\n    public enum ERole {\n    ROLE_USER,\n    ROLE_MODERATOR,\n    ROLE_ADMIN\n}\n\n/** Role **/\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = \"roles\")\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private ERole name;\n}\n\n/** Tenant **/\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = \"tenants\",\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = \"subdomain\", name = \"un_subdomain\")\n        })\npublic class Tenant {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 20)\n    private String subdomain;\n\n    @NotBlank\n    private String name;\n\n}\n\n/** User **/\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = \"users\",\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = \"username\", name = \"un_username\")\n        })\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 20)\n    private String username;\n\n    @NotBlank\n    @Size(max = 120)\n    @JsonIgnore\n    private String password;\n\n//    Remove\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = \"users_roles\",\n            joinColumns = {@JoinColumn(name = \"user_id\",\n                    foreignKey = @ForeignKey(name = \"fk_users_roles_users1\"))},\n            inverseJoinColumns = {@JoinColumn(name = \"role_id\",\n                    foreignKey = @ForeignKey(name = \"fk_users_roles_roles1\"))})\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n//    Include\n    @EqualsAndHashCode.Exclude\n    @OneToMany(mappedBy = \"user\",\n            cascade = CascadeType.ALL,\n            orphanRemoval = true,\n            fetch = FetchType.LAZY)\n    @JsonManagedReference\n    private List&lt;UserTenant&gt; tenants = new ArrayList&lt;&gt;();\n\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n}\n\n/** UserTenant **/\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = \"users_tenants\",\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = \"user_id\", name = \"un_user_id\"),\n                @UniqueConstraint(columnNames = \"tenant_id\", name = \"un_tenant_id\")\n        })\npublic class UserTenant {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\",\n            nullable = false,\n            foreignKey = @ForeignKey(\n                    name = \"fk_users_tenants_user1\"))\n    @JsonBackReference\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"tenant_id\",\n            nullable = false,\n            foreignKey = @ForeignKey(\n                    name = \"fk_users_tenants_tenant1\"))\n    @JsonBackReference\n    private Tenant tenant;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = \"users_tenants_roles\",\n            joinColumns = {@JoinColumn(name = \"user_tenant_id\",\n                    foreignKey = @ForeignKey(name = \"fk_users_tenants_user_tenant1\"))},\n            inverseJoinColumns = {@JoinColumn(name = \"role_id\",\n                    foreignKey = @ForeignKey(name = \"fk_users_tenants_roles1\"))})\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Payloads:</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** LoginRequest **/\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class LoginRequest {\n    @NotBlank\n    private String username;\n\n    @NotBlank\n    private String password;\n\n}\n\n/** SignupRequest **/\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SignupRequest {\n    @NotBlank\n    @Size(max = 20)\n    private String username;\n\n    @NotBlank\n    @Size(max = 40)\n    private String password;\n    private Set&lt;String&gt; role;\n\n}\n\n/** JwtResponse **/\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class JwtResponse {\n    private Long id;\n    private String username;\n    private List&lt;String&gt; roles;\n    private String tokenType = \"Bearer\";\n    private String accessToken;\n\n    public JwtResponse(String accessToken, Long id, String username,\n                       List&lt;String&gt; roles) {\n        this.id = id;\n        this.username = username;\n        this.roles = roles;\n        this.accessToken = accessToken;\n    }\n\n}\n\n/** MessageResponse **/\n@Data\n@Builder\n@NoArgsConstructor\npublic class MessageResponse {\n    private String message;\n\n    public MessageResponse(String message) {\n        this.message = message;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Repositories:</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** RoleRepository **/\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    Optional&lt;Role&gt; findByName(ERole name);\n}\n\n/** UserRepository **/\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n\n    Boolean existsByUsername(String username);\n\n}\n\n/** UserTenantRepository **/\n@Repository\npublic interface UserTenantRepository extends JpaRepository&lt;UserTenant, Long&gt; {\n\n    @Query(\"SELECT ut FROM UserTenant ut WHERE ut.user.username = :username AND ut.tenant.subdomain = :subdomain \")\n    Optional&lt;UserTenant&gt; findByUserAndSubdomain(String username, String subdomain);\n\n    @Query(\"SELECT \" +\n            \"CASE WHEN COUNT(ut) &gt; 0 THEN true ELSE false END \" +\n            \"FROM UserTenant ut \" +\n            \"WHERE ut.user.username = :username \" +\n            \"AND ut.tenant.subdomain = :subdomain \")\n    Boolean existsByUsernameAndSubdomain(String subdomain, String username);\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Services:</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** AuthService **/\n@Service\n@RequiredArgsConstructor\npublic class AuthService {\n\n    private final UserRepository userRepository;\n    private final AuthenticationManager authenticationManager;\n    private final JwtUtils jwtUtils;\n    private final PasswordEncoder encoder;\n    private final RoleRepository roleRepository;\n\n    public JwtResponse authenticateUser(String subdomain, LoginRequest loginRequest) {\n\n        System.out.println(subdomain);\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n        System.out.println(authentication);\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        String jwt = jwtUtils.generateJwtToken(authentication);\n\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.toList());\n\n        return new JwtResponse(jwt,\n                userDetails.getId(),\n                userDetails.getUsername(),\n                roles);\n    }\n\n    @Transactional\n    public MessageResponse registerUser(SignupRequest signUpRequest) {\n\n        // Create new user's account\n        User user = new User(\n                signUpRequest.getUsername(),\n                encoder.encode(signUpRequest.getPassword()));\n\n        Set&lt;String&gt; strRoles = signUpRequest.getRole();\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n        if (strRoles == null) {\n            Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                    .orElseThrow(() -&gt; new RuntimeException(\"Error: Role is not found.\"));\n            roles.add(userRole);\n        } else {\n            strRoles.forEach(role -&gt; {\n                switch (role) {\n                    case \"admin\":\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                                .orElseThrow(() -&gt; new RuntimeException(\"Error: Role is not found.\"));\n                        roles.add(adminRole);\n                        break;\n                    case \"mod\":\n                        Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\n                                .orElseThrow(() -&gt; new RuntimeException(\"Error: Role is not found.\"));\n                        roles.add(modRole);\n                        break;\n                    default:\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                                .orElseThrow(() -&gt; new RuntimeException(\"Error: Role is not found.\"));\n                        roles.add(userRole);\n                }\n            });\n        }\n        user.setRoles(roles);\n        userRepository.save(user);\n        return new MessageResponse(\"User registered successfully!\");\n    }\n\n}\n\n/** UserDetailsImpl **/\npublic class UserDetailsImpl implements UserDetails {\n    private static final long serialVersionUID = 1L;\n\n    private final Long id;\n\n    private final String username;\n\n    @JsonIgnore\n    private final String password;\n\n    private final Collection&lt;? extends GrantedAuthority&gt; authorities;\n\n    public UserDetailsImpl(Long id, String username, String password,\n                           Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        this.id = id;\n        this.username = username;\n        this.password = password;\n        this.authorities = authorities;\n    }\n\n    public static UserDetailsImpl build(User user) {\n        List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName().name()))\n                .collect(Collectors.toList());\n\n        return new UserDetailsImpl(\n                user.getId(),\n                user.getUsername(),\n                user.getPassword(),\n                authorities);\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || getClass() != o.getClass())\n            return false;\n        UserDetailsImpl user = (UserDetailsImpl) o;\n        return Objects.equals(id, user.id);\n    }\n}\n\n/** UserDetailsServiceImpl **/\n@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    private final UserRepository userRepository;\n    private final UserTenantRepository userTenantRepository;\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(\"User Not Found with username: \" + username));\n\n\n        return UserDetailsImpl.build(user);\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Controller</strong></em>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** AuthController **/\n@RestController\n@RequestMapping(\"/auth\")\n@RequiredArgsConstructor\npublic class AuthController {\n\n    private final AuthService authService;\n    private final UserRepository userRepository;\n    private final UserTenantRepository userTenantRepository;\n\n    @PostMapping(\"/signin\")\n    public ResponseEntity&lt;?&gt; authenticateUser(\n            @RequestAttribute String subdomain,\n            @Valid @RequestBody LoginRequest loginRequest\n    ) {\n        if (!userTenantRepository.existsByUsernameAndSubdomain(subdomain, loginRequest.getUsername())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(\"Unauthorized: This username and tenant is not authorized!\"));\n        }\n        return ResponseEntity.ok(authService.authenticateUser(subdomain, loginRequest));\n    }\n\n\n    @PostMapping(\"/signup\")\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\n        if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n            return ResponseEntity\n                    .badRequest()\n                    .body(new MessageResponse(\"Error: Username is already taken!\"));\n        }\n        return ResponseEntity.ok(authService.registerUser(signUpRequest));\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>JWT:</strong></em>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** AuthEntryPointJwt **/\n@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                         AuthenticationException authException) throws IOException {\n        logger.error(\"Unauthorized error: {}\", authException.getMessage());\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, \"Unauthorized: incorrect username or password\");\n    }\n\n}\n\n/** AuthTokenFilter **/\npublic class AuthTokenFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response\n            , FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = parseJwt(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n                String serverName = request.getServerName();\n                String subdomain = serverName.substring(0, serverName.indexOf(\".\"));\n\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                System.out.println(userDetails);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(\"Authorization\");\n\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(\"Bearer \")) {\n            return headerAuth.substring(7);\n        }\n        return null;\n    }\n}\n\n/** JwtUtils **/\n@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(\"${example.app.jwtSecret}\")\n    private String jwtSecret;\n\n    @Value(\"${example.app.jwtExpirationMs}\")\n    private int jwtExpirationMs;\n\n    public String generateJwtToken(Authentication authentication) {\n\n        UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\n\n        return Jwts.builder()\n                .setSubject((userPrincipal.getUsername()))\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(\"Invalid JWT signature: {}\", e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(\"Invalid JWT token: {}\", e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(\"JWT token is expired: {}\", e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(\"JWT token is unsupported: {}\", e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(\"JWT claims string is empty: {}\", e.getMessage());\n        }\n\n        return false;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Utils:</strong></em>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/** TenantInterceptor **/\npublic class TenantInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\n        String serverName = request.getServerName();\n        String tenantId = serverName.substring(0, serverName.indexOf(\".\"));\n\n        request.setAttribute(\"subdomain\", tenantId);\n\n        return true;\n    }\n}\n\n/** WebSecurityConfig **/\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig implements WebMvcConfigurer {\n\n    final\n    UserDetailsServiceImpl userDetailsService;\n\n    private final AuthEntryPointJwt unauthorizedHandler;\n\n    public WebSecurityConfig(UserDetailsServiceImpl userDetailsService, AuthEntryPointJwt unauthorizedHandler) {\n        this.userDetailsService = userDetailsService;\n        this.unauthorizedHandler = unauthorizedHandler;\n    }\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                .antMatchers(\n                        \"/auth/**\",\n                        \"/v3/api-docs/**\",\n                        \"/swagger-ui/**\",\n                        \"/swagger-ui.html\",\n                        \"/configuration/**\",\n                        \"/swagger-resources/**\",\n                        \"/webjars/**\",\n                        \"/api-docs/**\").permitAll()\n                .antMatchers(\"/api/**\").authenticated()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new TenantInterceptor());\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","spring-boot","rest","restful-url"],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675948558,"creation_date":1675948558,"answer_id":75399143,"question_id":75397177,"body_markdown":"You can reject parameters that are not valid. You can do so in a [`HandlerInterceptor`][1] class.\r\n\r\nReference: [Rejecting GET requests with additional query params][2]\r\n\r\nIn addition to what is done in the above reference, in your `addInterceptors`, you can specify the path that is intercepted.\r\n\r\nLike this:\r\n\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    private String USERS_PATH = &quot;/users&quot;;\r\n    \r\n    // If you want to cover all endpoints in your controller\r\n    // private String USERS_PATH = List.of(&quot;/users&quot;, &quot;/users/**&quot;);\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new FooHandlerInterceptor()).addPathPatterns(USERS_PATH);\r\n    }\r\n} \r\n```\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\r\n[2]: https://stackoverflow.com/a/70942039/13695861","title":"how can I do to make it return error when restful url has invalid parameter","body":"<p>You can reject parameters that are not valid. You can do so in a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"nofollow noreferrer\"><code>HandlerInterceptor</code></a> class.</p>\n<p>Reference: <a href=\"https://stackoverflow.com/a/70942039/13695861\">Rejecting GET requests with additional query params</a></p>\n<p>In addition to what is done in the above reference, in your <code>addInterceptors</code>, you can specify the path that is intercepted.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    private String USERS_PATH = &quot;/users&quot;;\n    \n    // If you want to cover all endpoints in your controller\n    // private String USERS_PATH = List.of(&quot;/users&quot;, &quot;/users/**&quot;);\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new FooHandlerInterceptor()).addPathPatterns(USERS_PATH);\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":11983675,"reputation":1,"user_id":8768787,"display_name":"monica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675948558,"creation_date":1675938026,"question_id":75397177,"body_markdown":"    \r\n\r\n    @RestController()   \r\n    @RequestMapping(path = &quot;/users&quot;) \r\n    \r\n    public class UserController {     \r\n    \r\n        @GetMapping()     \r\n    \r\n        public @ResponseBody  Page&lt;User&gt; getAllUsers(@RequestParam Integer pageSize, UserRequest userRequest) {\r\n          //TODO: some implementation\r\n    }}\r\n\r\n    public class UserRequest{\r\n    \r\n        public String name;\r\n    \r\n        public String age;\r\n    \r\n    }\r\n\r\n  \r\nsend the request with invalid parameter, like `localhost:8800/users?`**`name1`**`=1234`, I want to return error.  but  in fact it ignore the invalid parameter **name1.** \r\n\r\nI tried to add the user defined annotation on the method parameter and on the class , codes like below\r\n\r\n\r\n\r\n    @RestController() \r\n    @RequestMapping(path = &quot;/users&quot;)\r\n    \r\n    @Validated\r\n    \r\n    public class UserController {\r\n    \r\n        @GetMapping()     \r\n        \r\n        public @ResponseBody  Page&lt;User&gt; getAllUsers(@RequestParam @Validated Integer pageSize, @Validated UserRequest userRequest} {\r\n        \r\n          //TODO: some implementation\r\n        }\r\n    }\r\n\r\nBut it does not working.\r\n\r\nI think  it is happened because framework has ignore the invalid parameter before the method was called.\r\n\r\nwhere did framework handle the url and how can I do to make it return error instead of ignore?\r\n\r\n","title":"how can I do to make it return error when restful url has invalid parameter","body":"<pre><code>@RestController()   \n@RequestMapping(path = &quot;/users&quot;) \n\npublic class UserController {     \n\n    @GetMapping()     \n\n    public @ResponseBody  Page&lt;User&gt; getAllUsers(@RequestParam Integer pageSize, UserRequest userRequest) {\n      //TODO: some implementation\n}}\n\npublic class UserRequest{\n\n    public String name;\n\n    public String age;\n\n}\n</code></pre>\n<p>send the request with invalid parameter, like <code>localhost:8800/users?</code><strong><code>name1</code></strong><code>=1234</code>, I want to return error.  but  in fact it ignore the invalid parameter <strong>name1.</strong></p>\n<p>I tried to add the user defined annotation on the method parameter and on the class , codes like below</p>\n<pre><code>@RestController() \n@RequestMapping(path = &quot;/users&quot;)\n\n@Validated\n\npublic class UserController {\n\n    @GetMapping()     \n    \n    public @ResponseBody  Page&lt;User&gt; getAllUsers(@RequestParam @Validated Integer pageSize, @Validated UserRequest userRequest} {\n    \n      //TODO: some implementation\n    }\n}\n</code></pre>\n<p>But it does not working.</p>\n<p>I think  it is happened because framework has ignore the invalid parameter before the method was called.</p>\n<p>where did framework handle the url and how can I do to make it return error instead of ignore?</p>\n"},{"tags":["java","spring","hibernate","plsql","dbms-output"],"comments":[{"owner":{"account_id":81802,"reputation":15377,"user_id":230471,"display_name":"William Robertson"},"score":0,"creation_date":1510043173,"post_id":47138041,"comment_id":81255629,"body_markdown":"The AskTom answer looks fine although some of the buffer size limitations have been removed in recent versions, and DB to Java array type mappings have become easier (or so I read - I don&#39;t know Java). Basically you just need to call `dbms_output.get_lines()` and get the results into an array.","body":"The AskTom answer looks fine although some of the buffer size limitations have been removed in recent versions, and DB to Java array type mappings have become easier (or so I read - I don&#39;t know Java). Basically you just need to call <code>dbms_output.get_lines()</code> and get the results into an array."},{"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"score":0,"creation_date":1510044717,"post_id":47138041,"comment_id":81256559,"body_markdown":"@WilliamRobertson the AskTom answer is indeed fine but it&#39;s using native jdbc connection and could not be easily imported in projects built above spring / hibernate. In fact I&#39;m searching an implementation which could be used with spring / hibernate projects without modifying too much orignial codes. If there isn&#39;t any, then I&#39;ll have no choice to implement it myself...","body":"@WilliamRobertson the AskTom answer is indeed fine but it&#39;s using native jdbc connection and could not be easily imported in projects built above spring / hibernate. In fact I&#39;m searching an implementation which could be used with spring / hibernate projects without modifying too much orignial codes. If there isn&#39;t any, then I&#39;ll have no choice to implement it myself..."}],"answers":[{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1513696216,"post_id":47282424,"comment_id":82745897,"body_markdown":"That&#39;s a very interesting solution. Perhaps it would be reasonable to use the array-based `DBMS_OUTPUT.GET_LINES()` procedure instead, though - [the solution seems a simpler as can be seen in my answer to this question here](https://stackoverflow.com/a/47831073/521799)","body":"That&#39;s a very interesting solution. Perhaps it would be reasonable to use the array-based <code>DBMS_OUTPUT.GET_LINES()</code> procedure instead, though - <a href=\"https://stackoverflow.com/a/47831073/521799\">the solution seems a simpler as can be seen in my answer to this question here</a>"},{"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"score":0,"creation_date":1524217980,"post_id":47282424,"comment_id":86893386,"body_markdown":"@LukasEder That&#39;s a good approach ! I didn&#39;t pay attention on that because my intention was to providing a spring injectable solution. I&#39;ll modify my answer with your suggestion.","body":"@LukasEder That&#39;s a good approach ! I didn&#39;t pay attention on that because my intention was to providing a spring injectable solution. I&#39;ll modify my answer with your suggestion."}],"tags":[],"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510652872,"creation_date":1510652872,"answer_id":47282424,"question_id":47138041,"body_markdown":"Since nobody answerred this question, I suppose there isn&#39;t any out-of-box solution. So I built it myself and post my codes here for whom it may interests.\r\n\r\nAnyone who want to improve this solution is welcome! Just don&#39;t be shame to share yours!\r\n\r\nSolution based on Spring AOP. An annotation `@DbmsOutput` is created for adding DBMS_OUTPUT aware ability on relating methods.\r\n\r\nEnv : Maven + Spring 4.2.6 + Hibernate 5.1.0\r\n\r\n###Step 1: adding Spring AOP dependencies\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n###Step 2: creating @DbmsOutput\r\n\r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Inherited;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Documented\r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.METHOD })\r\n    public @interface DbmsOutput {\r\n    }\r\n\r\n###Step 3: creating interceptor for all methods declared with `@DbmsOutput`.\r\n\r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.SQLException;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.jdbc.Work;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n    \r\n    @Aspect\r\n    @Order(Ordered.LOWEST_PRECEDENCE)\r\n    public class DbmsOutputAspect {\r\n    \r\n    \tprivate static final Logger LOGGER = Logger.getLogger(DbmsOutputAspect.class);\r\n    \r\n    \t@Autowired\r\n    \tprotected SessionFactory sessionFactory;\r\n\t    /**\r\n\t     * make Dbms output aware enable/disable configurable in spring bean declaration\r\n\t     */\r\n    \tprivate boolean enable = true;\r\n    \tprivate int size = 1000000;\r\n    \r\n    \tpublic boolean isEnable() {\r\n    \t\treturn enable;\r\n    \t}\r\n    \r\n    \tpublic void setEnable(final boolean enable) {\r\n    \t\tthis.enable = enable;\r\n    \t}\r\n    \r\n    \tpublic int getSize() {\r\n    \t\treturn size;\r\n    \t}\r\n    \r\n    \tpublic void setSize(final int size) {\r\n    \t\tthis.size = size;\r\n    \t}\r\n    \r\n    \t@Pointcut(&quot;execution(@DbmsOutput * *(..))&quot;)\r\n    \tpublic void DbmsOutputInterceptMethod() {\r\n    \t}\r\n    \r\n    \t@Around(&quot;DbmsOutputInterceptMethod()&quot;)\r\n    \tpublic Object around(final ProceedingJoinPoint point)\r\n    \t\t\tthrows Throwable {\r\n    \r\n    \t\tif (isEnable()) {\r\n    \t\t\tLOGGER.debug(&quot;before DBMS_OUTPUT point cut&quot;);\r\n    \t\t\tQuery queryEnable = sessionFactory.getCurrentSession().createSQLQuery(&quot;call dbms_output.enable(:size)&quot;);\r\n    \t\t\tqueryEnable.setParameter(&quot;size&quot;, getSize());\r\n    \t\t\tqueryEnable.executeUpdate();\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\treturn point.proceed(point.getArgs());\r\n    \t\t} finally {\r\n    \t\t\tif (isEnable()) {\r\n    \t\t\t\tsessionFactory.getCurrentSession().doWork(new Work() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void execute(final Connection connection)\r\n    \t\t\t\t\t\t\tthrows SQLException {\r\n    \r\n    \t\t\t\t\t\tCallableStatement show_stmt = connection.prepareCall(\r\n    \t\t\t\t\t\t\t\t&quot;declare &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; l_line varchar2(255); &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; l_done number; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; l_buffer long; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot;begin &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; loop &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; exit when length(l_buffer)+255 &gt; :maxbytes OR l_done = 1; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; dbms_output.get_line( l_line, l_done ); &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; l_buffer := l_buffer || l_line || chr(10); &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; end loop; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; :done := l_done; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot; :buffer := l_buffer; &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t&quot;end;&quot;);\r\n    \t\t\t\t\t\tint done = 0;\r\n    \r\n    \t\t\t\t\t\tshow_stmt.registerOutParameter(2, java.sql.Types.INTEGER);\r\n    \t\t\t\t\t\tshow_stmt.registerOutParameter(3, java.sql.Types.VARCHAR);\r\n    \r\n    \t\t\t\t\t\tfor (;;) {\r\n    \t\t\t\t\t\t\tshow_stmt.setInt(1, 32000);\r\n    \t\t\t\t\t\t\tshow_stmt.executeUpdate();\r\n    \t\t\t\t\t\t\tLOGGER.info(show_stmt.getString(3));\r\n    \t\t\t\t\t\t\tdone = show_stmt.getInt(2);\r\n    \t\t\t\t\t\t\tif (done == 1) {\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\tQuery queryDisable = sessionFactory.getCurrentSession().createSQLQuery(&quot;call dbms_output.disable()&quot;);\r\n    \t\t\t\tqueryDisable.executeUpdate();\r\n    \t\t\t\tLOGGER.debug(&quot;after DBMS_OUTPUT point cut&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n###Step 4: Configuring `DbmsOutputAspect` and `TransactionManager` in Spring\r\n\r\n    &lt;!-- aspectj --&gt;\r\n    &lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot; /&gt;\r\n    &lt;bean class=&quot;DbmsOutputAspect&quot; /&gt;\r\n    \r\n    &lt;!-- transaction --&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; order=&quot;0&quot; /&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot;&gt;\r\n    \t\t&lt;ref bean=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Print DBMS_OUTPUT.put_line with Hibernate or Spring","body":"<p>Since nobody answerred this question, I suppose there isn't any out-of-box solution. So I built it myself and post my codes here for whom it may interests.</p>\n\n<p>Anyone who want to improve this solution is welcome! Just don't be shame to share yours!</p>\n\n<p>Solution based on Spring AOP. An annotation <code>@DbmsOutput</code> is created for adding DBMS_OUTPUT aware ability on relating methods.</p>\n\n<p>Env : Maven + Spring 4.2.6 + Hibernate 5.1.0</p>\n\n<h3>Step 1: adding Spring AOP dependencies</h3>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;version&gt;4.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n    &lt;version&gt;1.8.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;version&gt;1.8.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h3>Step 2: creating @DbmsOutput</h3>\n\n<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Documented\n@Inherited\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.METHOD })\npublic @interface DbmsOutput {\n}\n</code></pre>\n\n<h3>Step 3: creating interceptor for all methods declared with <code>@DbmsOutput</code>.</h3>\n\n<pre><code>import java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\nimport org.apache.log4j.Logger;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.hibernate.Query;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.jdbc.Work;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\n\n@Aspect\n@Order(Ordered.LOWEST_PRECEDENCE)\npublic class DbmsOutputAspect {\n\n    private static final Logger LOGGER = Logger.getLogger(DbmsOutputAspect.class);\n\n    @Autowired\n    protected SessionFactory sessionFactory;\n    /**\n     * make Dbms output aware enable/disable configurable in spring bean declaration\n     */\n    private boolean enable = true;\n    private int size = 1000000;\n\n    public boolean isEnable() {\n        return enable;\n    }\n\n    public void setEnable(final boolean enable) {\n        this.enable = enable;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public void setSize(final int size) {\n        this.size = size;\n    }\n\n    @Pointcut(\"execution(@DbmsOutput * *(..))\")\n    public void DbmsOutputInterceptMethod() {\n    }\n\n    @Around(\"DbmsOutputInterceptMethod()\")\n    public Object around(final ProceedingJoinPoint point)\n            throws Throwable {\n\n        if (isEnable()) {\n            LOGGER.debug(\"before DBMS_OUTPUT point cut\");\n            Query queryEnable = sessionFactory.getCurrentSession().createSQLQuery(\"call dbms_output.enable(:size)\");\n            queryEnable.setParameter(\"size\", getSize());\n            queryEnable.executeUpdate();\n        }\n        try {\n            return point.proceed(point.getArgs());\n        } finally {\n            if (isEnable()) {\n                sessionFactory.getCurrentSession().doWork(new Work() {\n\n                    @Override\n                    public void execute(final Connection connection)\n                            throws SQLException {\n\n                        CallableStatement show_stmt = connection.prepareCall(\n                                \"declare \" +\n                                        \" l_line varchar2(255); \" +\n                                        \" l_done number; \" +\n                                        \" l_buffer long; \" +\n                                        \"begin \" +\n                                        \" loop \" +\n                                        \" exit when length(l_buffer)+255 &gt; :maxbytes OR l_done = 1; \" +\n                                        \" dbms_output.get_line( l_line, l_done ); \" +\n                                        \" l_buffer := l_buffer || l_line || chr(10); \" +\n                                        \" end loop; \" +\n                                        \" :done := l_done; \" +\n                                        \" :buffer := l_buffer; \" +\n                                        \"end;\");\n                        int done = 0;\n\n                        show_stmt.registerOutParameter(2, java.sql.Types.INTEGER);\n                        show_stmt.registerOutParameter(3, java.sql.Types.VARCHAR);\n\n                        for (;;) {\n                            show_stmt.setInt(1, 32000);\n                            show_stmt.executeUpdate();\n                            LOGGER.info(show_stmt.getString(3));\n                            done = show_stmt.getInt(2);\n                            if (done == 1) {\n                                break;\n                            }\n                        }\n                    }\n                });\n                Query queryDisable = sessionFactory.getCurrentSession().createSQLQuery(\"call dbms_output.disable()\");\n                queryDisable.executeUpdate();\n                LOGGER.debug(\"after DBMS_OUTPUT point cut\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<h3>Step 4: Configuring <code>DbmsOutputAspect</code> and <code>TransactionManager</code> in Spring</h3>\n\n<pre><code>&lt;!-- aspectj --&gt;\n&lt;aop:aspectj-autoproxy proxy-target-class=\"true\" /&gt;\n&lt;bean class=\"DbmsOutputAspect\" /&gt;\n\n&lt;!-- transaction --&gt;\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" order=\"0\" /&gt;\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\"&gt;\n        &lt;ref bean=\"sessionFactory\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":4123826,"reputation":267,"user_id":3383487,"display_name":"Qianlong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47282424,"answer_count":1,"score":2,"last_activity_date":1675948244,"creation_date":1509974678,"question_id":47138041,"body_markdown":"I would like to know if Hibernate or Spring or any 3rd party lib provide the ability of printing DBMS_OUTPUT.put_line messages directly to system.out or a file of log.\r\n\r\nThe purpose is to have both PLSQL log messages and java log messages in the console.\r\n\r\nI know there is a similar question of which the answer is to turn PLSQL procedure to function in returning the log message, but this doesn&#39;t suite my situation. In fact my log message is too complex that returning it in a function is impossible.\r\n\r\nI have read this https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:45027262935845 and got inspiration but I&#39;m wondering if there is an out of box solution to avoid whales reproducing.","title":"Print DBMS_OUTPUT.put_line with Hibernate or Spring","body":"<p>I would like to know if Hibernate or Spring or any 3rd party lib provide the ability of printing DBMS_OUTPUT.put_line messages directly to system.out or a file of log.</p>\n\n<p>The purpose is to have both PLSQL log messages and java log messages in the console.</p>\n\n<p>I know there is a similar question of which the answer is to turn PLSQL procedure to function in returning the log message, but this doesn't suite my situation. In fact my log message is too complex that returning it in a function is impossible.</p>\n\n<p>I have read this <a href=\"https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:45027262935845\" rel=\"nofollow noreferrer\">https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:45027262935845</a> and got inspiration but I'm wondering if there is an out of box solution to avoid whales reproducing.</p>\n"},{"tags":["java","spring-mvc","intellij-idea","thymeleaf","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1675884465,"post_id":75390732,"comment_id":133026218,"body_markdown":"Make sure you have all the required Spring / Jakarta EE plug-ins installed and enabled, some of them have to be installed manually and are not bundled: https://i.imgur.com/UCNOZbc.png\nhttps://i.imgur.com/U7neExT.png. If it doesn&#39;t help, please contact support at https://intellij-support.jetbrains.com/hc/requests/new and attach the logs (Help | Collect Logs and Diagnostic Data) + a sample project to reproduce this issue.","body":"Make sure you have all the required Spring / Jakarta EE plug-ins installed and enabled, some of them have to be installed manually and are not bundled: <a href=\"https://i.imgur.com/UCNOZbc.png\" rel=\"nofollow noreferrer\">i.imgur.com/UCNOZbc.png</a> <a href=\"https://i.imgur.com/U7neExT.png\" rel=\"nofollow noreferrer\">i.imgur.com/U7neExT.png</a>. If it doesn&#39;t help, please contact support at <a href=\"https://intellij-support.jetbrains.com/hc/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/requests/new</a> and attach the logs (Help | Collect Logs and Diagnostic Data) + a sample project to reproduce this issue."},{"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"score":0,"creation_date":1675885234,"post_id":75390732,"comment_id":133026433,"body_markdown":"Didn&#39;t really help. I will contact jetbrains than. thank you!","body":"Didn&#39;t really help. I will contact jetbrains than. thank you!"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1675940622,"post_id":75390732,"comment_id":133037626,"body_markdown":"Did you install the community or the commercial edition of IntelliJ? Thymeleaf is only supported in the commercial edition.","body":"Did you install the community or the commercial edition of IntelliJ? Thymeleaf is only supported in the commercial edition."},{"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"score":0,"creation_date":1675947660,"post_id":75390732,"comment_id":133039677,"body_markdown":"Hello! It&#39;s commerical edition. The problem is gone now. I&#39;m going to add Solution to my post.","body":"Hello! It&#39;s commerical edition. The problem is gone now. I&#39;m going to add Solution to my post."}],"answers":[{"tags":[],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675948210,"creation_date":1675947975,"answer_id":75399029,"question_id":75390732,"body_markdown":"The actual solution:\r\n- Go to: File / Project Structure / Facets.\r\n- Select Spring, click on plus and Add your Application context class.\r\n\r\nMy Application context class example:\r\n\r\n    package ua.yuriy.spring.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.thymeleaf.spring6.SpringTemplateEngine;\r\n    import org.thymeleaf.spring6.templateresolver.SpringResourceTemplateResolver;\r\n    import org.thymeleaf.spring6.view.ThymeleafViewResolver;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;your.main.thread&quot;)\r\n    @PropertySource(&quot;classpath:hibernate.properties&quot;)\r\n    @EnableJpaRepositories(&quot;your.main.thread.repositories&quot;)\r\n    @EnableWebMvc\r\n    @EnableTransactionManagement\r\n    public class SpringConfig implements WebMvcConfigurer {\r\n    \r\n        private final ApplicationContext applicationContext;\r\n    \r\n        private final Environment env;\r\n    \r\n        @Autowired\r\n        public SpringConfig(ApplicationContext applicationContext, Environment env) {\r\n            this.applicationContext = applicationContext;\r\n            this.env = env;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringResourceTemplateResolver templateResolver() {\r\n            SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n            templateResolver.setApplicationContext(applicationContext);\r\n            templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;); // You might want to change templates to views\r\n            templateResolver.setSuffix(&quot;.html&quot;);\r\n            templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            return templateResolver;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringTemplateEngine templateEngine() {\r\n            SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setTemplateResolver(templateResolver());\r\n            templateEngine.setEnableSpringELCompiler(true);\r\n            return templateEngine;\r\n        }\r\n    \r\n        @Override\r\n        public void configureViewResolvers(ViewResolverRegistry registry) {\r\n            ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n            resolver.setTemplateEngine(templateEngine());\r\n            resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \r\n            registry.viewResolver(resolver);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \r\n            dataSource.setDriverClassName(env.getRequiredProperty(&quot;hibernate.driver_class&quot;));\r\n            dataSource.setUrl(env.getRequiredProperty(&quot;hibernate.connection.url&quot;));\r\n            dataSource.setUsername(env.getRequiredProperty(&quot;hibernate.connection.username&quot;));\r\n            dataSource.setPassword(env.getRequiredProperty(&quot;hibernate.connection.password&quot;));\r\n    \r\n            return dataSource;\r\n        }\r\n    \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;hibernate.dialect&quot;, env.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n            properties.put(&quot;hibernate.show_sql&quot;, env.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n    \r\n            return properties;\r\n        }\r\n    \r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(dataSource());\r\n            em.setPackagesToScan(&quot;ua.yuriy.spring.models&quot;);\r\n    \r\n            final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaProperties(hibernateProperties());\r\n    \r\n            return em;\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager transactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n    \r\n            return transactionManager;\r\n        }\r\n    }\r\n\r\n","title":"Intellij Idea doesn&#39;t work the way it was working with thymeleaf / java","body":"<p>The actual solution:</p>\n<ul>\n<li>Go to: File / Project Structure / Facets.</li>\n<li>Select Spring, click on plus and Add your Application context class.</li>\n</ul>\n<p>My Application context class example:</p>\n<pre><code>package ua.yuriy.spring.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.thymeleaf.spring6.SpringTemplateEngine;\nimport org.thymeleaf.spring6.templateresolver.SpringResourceTemplateResolver;\nimport org.thymeleaf.spring6.view.ThymeleafViewResolver;\n\nimport javax.sql.DataSource;\nimport java.util.Properties;\n\n@Configuration\n@ComponentScan(&quot;your.main.thread&quot;)\n@PropertySource(&quot;classpath:hibernate.properties&quot;)\n@EnableJpaRepositories(&quot;your.main.thread.repositories&quot;)\n@EnableWebMvc\n@EnableTransactionManagement\npublic class SpringConfig implements WebMvcConfigurer {\n\n    private final ApplicationContext applicationContext;\n\n    private final Environment env;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext, Environment env) {\n        this.applicationContext = applicationContext;\n        this.env = env;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;); // You might want to change templates to views\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n        templateEngine.setEnableSpringELCompiler(true);\n        return templateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n\n        registry.viewResolver(resolver);\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(env.getRequiredProperty(&quot;hibernate.driver_class&quot;));\n        dataSource.setUrl(env.getRequiredProperty(&quot;hibernate.connection.url&quot;));\n        dataSource.setUsername(env.getRequiredProperty(&quot;hibernate.connection.username&quot;));\n        dataSource.setPassword(env.getRequiredProperty(&quot;hibernate.connection.password&quot;));\n\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(&quot;hibernate.dialect&quot;, env.getRequiredProperty(&quot;hibernate.dialect&quot;));\n        properties.put(&quot;hibernate.show_sql&quot;, env.getRequiredProperty(&quot;hibernate.show_sql&quot;));\n\n        return properties;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        final LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource());\n        em.setPackagesToScan(&quot;ua.yuriy.spring.models&quot;);\n\n        final HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(hibernateProperties());\n\n        return em;\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n\n        return transactionManager;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675948210,"creation_date":1675883946,"question_id":75390732,"body_markdown":"I&#39;ve reinstalled intellij idea and noticed some changes while working with Java / Spring MVC / thymeleaf. The exact thing that now I can&#39;t actually see if `return &quot;htmlFile&quot;;` in @Controller method exists. It was underlinning it at first, now it does not. The second thing is when I put something in Model with `model.addAttribute(&quot;book&quot;, book)` and trying to use &quot;book&quot; in html with thymeleaf it shows like &quot;book&quot; doesn&#39;t exists but when I run program I can see that &quot;book&quot; exist and I can even get it&#39;s name or whatever.\r\nDo I need some kind of plugin installed or what?\r\n\r\n\r\n\r\n[![Controller][1]][1]\r\n\r\n\r\n[![HTML][2]][2]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/33D4X.png\r\n  [1]: https://i.stack.imgur.com/uDpoQ.png","title":"Intellij Idea doesn&#39;t work the way it was working with thymeleaf / java","body":"<p>I've reinstalled intellij idea and noticed some changes while working with Java / Spring MVC / thymeleaf. The exact thing that now I can't actually see if <code>return &quot;htmlFile&quot;;</code> in @Controller method exists. It was underlinning it at first, now it does not. The second thing is when I put something in Model with <code>model.addAttribute(&quot;book&quot;, book)</code> and trying to use &quot;book&quot; in html with thymeleaf it shows like &quot;book&quot; doesn't exists but when I run program I can see that &quot;book&quot; exist and I can even get it's name or whatever.\nDo I need some kind of plugin installed or what?</p>\n<p><a href=\"https://i.stack.imgur.com/uDpoQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDpoQ.png\" alt=\"Controller\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/33D4X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33D4X.png\" alt=\"HTML\" /></a></p>\n"},{"tags":["java","android","kotlin","picture-in-picture","android-picture-in-picture"],"answers":[{"tags":[],"owner":{"account_id":14633045,"reputation":316,"user_id":10568191,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675948134,"creation_date":1675948134,"answer_id":75399051,"question_id":72701144,"body_markdown":"Override [Activity.onPictureInPictureModeChanged()][1] or [Fragment.onPictureInPictureModeChanged()][2] callback and change header and popup visibility.\r\n\r\n\r\n    override fun onPictureInPictureModeChanged(isInPictureInPictureMode: Boolean, newConfig: Configuration) {\r\n        super.onPictureInPictureModeChanged(isInPictureInPictureMode, newConfig)\r\n\r\n        if (isInPictureInPictureMode) {\r\n            // Hide header and popup\r\n        } else {\r\n            // Show header and popup\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity#onPictureInPictureModeChanged(boolean,%20android.content.res.Configuration)\r\n  [2]: https://developer.android.com/reference/android/app/Fragment#onPictureInPictureModeChanged(boolean,%20android.content.res.Configuration)","title":"How to display a certain view from layout in Picture in Picture mod in android?","body":"<p>Override <a href=\"https://developer.android.com/reference/android/app/Activity#onPictureInPictureModeChanged(boolean,%20android.content.res.Configuration)\" rel=\"nofollow noreferrer\">Activity.onPictureInPictureModeChanged()</a> or <a href=\"https://developer.android.com/reference/android/app/Fragment#onPictureInPictureModeChanged(boolean,%20android.content.res.Configuration)\" rel=\"nofollow noreferrer\">Fragment.onPictureInPictureModeChanged()</a> callback and change header and popup visibility.</p>\n<pre><code>override fun onPictureInPictureModeChanged(isInPictureInPictureMode: Boolean, newConfig: Configuration) {\n    super.onPictureInPictureModeChanged(isInPictureInPictureMode, newConfig)\n\n    if (isInPictureInPictureMode) {\n        // Hide header and popup\n    } else {\n        // Show header and popup\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675948134,"creation_date":1655815941,"question_id":72701144,"body_markdown":"I am trying to implement pip mode in android. There is a LiveStreamActivity which contains these elements: Header layout, VideoStream layout and custom popup that I show programatically. Their contexts are the same: LiveStreamActivity. When I enter pip mode LiveStreamActivity&#39;s root layout shrinks and fits in small pip screen. But I only want to show VideoStream layout.\r\n\r\nI tried ```setSourceRectHint``` to achieve this but it does not work. Summary : How to show desired view (or views) in pip mode?\r\n\r\n``` \r\noverride fun onUserLeaveHint() {\r\n\r\n            val visibleRect = Rect()\r\n            mBinding.videoStreamLayout.getGlobalVisibleRect(visibleRect)\r\n\r\n            enterPictureInPictureMode(PictureInPictureParams.Builder()\r\n                .setAspectRatio(Rational(9,16))\r\n                .setAutoEnterEnabled(true)\r\n                .setSourceRectHint(visibleRect)\r\n                .setSeamlessResizeEnabled(false)\r\n                .build())\r\n        \r\n\r\n        super.onUserLeaveHint()\r\n    } \r\n```\r\n\r\n[![image that describes the situation][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mPmCD.png","title":"How to display a certain view from layout in Picture in Picture mod in android?","body":"<p>I am trying to implement pip mode in android. There is a LiveStreamActivity which contains these elements: Header layout, VideoStream layout and custom popup that I show programatically. Their contexts are the same: LiveStreamActivity. When I enter pip mode LiveStreamActivity's root layout shrinks and fits in small pip screen. But I only want to show VideoStream layout.</p>\n<p>I tried <code>setSourceRectHint</code> to achieve this but it does not work. Summary : How to show desired view (or views) in pip mode?</p>\n<pre><code>override fun onUserLeaveHint() {\n\n            val visibleRect = Rect()\n            mBinding.videoStreamLayout.getGlobalVisibleRect(visibleRect)\n\n            enterPictureInPictureMode(PictureInPictureParams.Builder()\n                .setAspectRatio(Rational(9,16))\n                .setAutoEnterEnabled(true)\n                .setSourceRectHint(visibleRect)\n                .setSeamlessResizeEnabled(false)\n                .build())\n        \n\n        super.onUserLeaveHint()\n    } \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mPmCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPmCD.png\" alt=\"image that describes the situation\" /></a></p>\n"},{"tags":["java","mysql","netbeans","jtable"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676018606,"post_id":75398141,"comment_id":133056402,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27743844,"reputation":1,"user_id":21179730,"display_name":"user21179730"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675947562,"creation_date":1675943214,"question_id":75398141,"body_markdown":"    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n          try{\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/Sample&quot;,&quot;root&quot;,&quot;xxx&quot;);\r\n            String query = &quot;Select * from PendingSamples&quot;;\r\n            PreparedStatement pst = con.prepareStatement(query);\r\n            \r\n            ResultSet rs = pst.executeQuery();\r\n            \r\n            DefaultTableModel model = (DefaultTableModel)NetbeansTable.getModel();\r\n            \r\n            while(rs.next()){\r\n                model.addRow(new Object[]{rs.getString(1), rs.getString(2), rs.getString(3), rs.getString(4)});\r\n                System.out.println(&quot;ok&quot;);\r\n            }\r\n           \r\n        }\r\n        catch(Exception e){\r\n            System.out.println(&quot;Error: &quot;+e.getMessage());\r\n        }\r\n    }        \r\n\r\nThe table has 4 columns and the database already has values. No idea why it&#39;s failing. \r\n                               ","title":"I&#39;m trying to display an sql table from a database on jTable on java netbeans, for some reason it won&#39;t show","body":"<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n      try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/Sample&quot;,&quot;root&quot;,&quot;xxx&quot;);\n        String query = &quot;Select * from PendingSamples&quot;;\n        PreparedStatement pst = con.prepareStatement(query);\n        \n        ResultSet rs = pst.executeQuery();\n        \n        DefaultTableModel model = (DefaultTableModel)NetbeansTable.getModel();\n        \n        while(rs.next()){\n            model.addRow(new Object[]{rs.getString(1), rs.getString(2), rs.getString(3), rs.getString(4)});\n            System.out.println(&quot;ok&quot;);\n        }\n       \n    }\n    catch(Exception e){\n        System.out.println(&quot;Error: &quot;+e.getMessage());\n    }\n}        \n</code></pre>\n<p>The table has 4 columns and the database already has values. No idea why it's failing.</p>\n"},{"tags":["java","android","selenium-webdriver","appium","appium-android"],"answers":[{"comments":[{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563043159,"post_id":57021852,"comment_id":100574099,"body_markdown":"it didn&#39;t worked..still facing the same error. `Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS`","body":"it didn&#39;t worked..still facing the same error. <code>Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-to&zwnj;&#8203;ols\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS</code>"},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1563044059,"post_id":57021852,"comment_id":100574293,"body_markdown":"Hmm, is there any log from the Appium server? Also is the package name correct? Looks like it&#39;s missing a `d` in Android.","body":"Hmm, is there any log from the Appium server? Also is the package name correct? Looks like it&#39;s missing a <code>d</code> in Android."},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1563044133,"post_id":57021852,"comment_id":100574310,"body_markdown":"oo okay, this looks like a permission issue with adb and not appium then. What does this command output? \n\n`adb -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps`","body":"oo okay, this looks like a permission issue with adb and not appium then. What does this command output?   <code>adb -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps</code>"},{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563044209,"post_id":57021852,"comment_id":100574331,"body_markdown":"yes, i attached the device to adb in cmd and i gave the package name from my mobile. but i tried by enabling USB Debugging(Security Service) enable to debug a app.. so now it is not gibing error but it is throwing a new error posting below","body":"yes, i attached the device to adb in cmd and i gave the package name from my mobile. but i tried by enabling USB Debugging(Security Service) enable to debug a app.. so now it is not gibing error but it is throwing a new error posting below"},{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563044235,"post_id":57021852,"comment_id":100574340,"body_markdown":"`Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell pm install -g /data/local/tmp/appium_cache/12bb63270ecd4315cfaaa8d8202b809bbfccca11.apk&#39; exited with code 1&#39;; Stderr: &#39;&#39;; Code: &#39;1&#39;`","body":"<code>Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-to&zwnj;&#8203;ols\\\\adb.exe -P 5037 -s 3cbaf93d shell pm install -g &#47;data&#47;local&#47;tmp&#47;appium_cache&#47;12bb63270ecd4315cfaaa8d8202b809&zwnj;&#8203;bbfccca11.apk&#39; exited with code 1&#39;; Stderr: &#39;&#39;; Code: &#39;1&#39;</code>"},{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563044346,"post_id":57021852,"comment_id":100574369,"body_markdown":"the out put of this command &#39;adb -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps` is that Security issue only","body":"the out put of this command &#39;adb -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps` is that Security issue only"},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1563045576,"post_id":57021852,"comment_id":100574643,"body_markdown":"https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md#javalangsecurityexception-permission-denial-starting-intent\n\ncan you check the appPackage and appActivity again for the correct names?","body":"<a href=\"https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/android/activity-startup.md#javalangsecurityexception-permission-denial-starting-intent\" rel=\"nofollow noreferrer\">github.com/appium/appium/blob/master/docs/en/&hellip;</a>  can you check the appPackage and appActivity again for the correct names?"},{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563046832,"post_id":57021852,"comment_id":100574913,"body_markdown":"&#39; capabilities.setCapability(&quot;app&quot;, app.getAbsolutePath());\n\t\t capabilities.setCapability(&quot;appPackage&quot;, &quot;in.amazon.mShop.android.shopping&quot;);\n\t\t capabilities.setCapability(&quot;appActivity&quot;, &quot;com.amazon.mShop.home.HomeActivity&quot;);`","body":"&#39; capabilities.setCapability(&quot;app&quot;, app.getAbsolutePath()); \t\t capabilities.setCapability(&quot;appPackage&quot;, &quot;in.amazon.mShop.android.shopping&quot;); \t\t capabilities.setCapability(&quot;appActivity&quot;, &quot;com.amazon.mShop.home.HomeActivity&quot;);`"},{"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"score":0,"creation_date":1563046931,"post_id":57021852,"comment_id":100574933,"body_markdown":"i tried this one and i placed the amazon apk in my system also.. but this is not able to find the apk and throwing error      `&quot;-P 5037 -s 3cbaf93d shell pm install -g /data/local/tmp/appium_cache/12bb63270ecd4315cfaaa8d8202b809bbfccca11.apk&#39; exited with code 1&#39;; Stderr: &#39;&#39;;`","body":"i tried this one and i placed the amazon apk in my system also.. but this is not able to find the apk and throwing error      <code>&quot;-P 5037 -s 3cbaf93d shell pm install -g &#47;data&#47;local&#47;tmp&#47;appium_cache&#47;12bb63270ecd4315cfaaa8d8202b809&zwnj;&#8203;bbfccca11.apk&#39; exited with code 1&#39;; Stderr: &#39;&#39;;</code>"},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1563046942,"post_id":57021852,"comment_id":100574937,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/196426/discussion-between-jmp-and-satish-rongala).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/196426/discussion-between-jmp-and-satish-rongala\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563050416,"creation_date":1563042946,"answer_id":57021852,"question_id":57018088,"body_markdown":"Hmm, sounds like Appium needs some permission to interact with the app. Try using the `autoGrantPermissions` capability and set that to `true` and see if that helps.\r\n\r\n---\r\n\r\n[Update] the error message in this case was not from Appium but from adb. Based on the information so far it looks like the package name and activity name might not be valid. If the adb command don&#39;t work then app Appium won&#39;t work either.\r\n\r\nCan you provide the tutorial you&#39;re following to automate the Amazon shopping app and also why did the problem set change to using the amazon shopping app?\r\n\r\nI don&#39;t believe the package name is correct: \r\n\r\n`adb shell pm list packages -f | grep mShop`\r\n\r\n**OUTPUTs**:\r\n\r\n```\r\npackage:/data/app/com.amazon.mShop.android.shopping-6T5__wDlES2DKVGacorMSw==/base.apk=com.amazon.mShop.android.shopping \r\n```","title":"getting SecurtyException while running my test script using appium","body":"<p>Hmm, sounds like Appium needs some permission to interact with the app. Try using the <code>autoGrantPermissions</code> capability and set that to <code>true</code> and see if that helps.</p>\n\n<hr>\n\n<p>[Update] the error message in this case was not from Appium but from adb. Based on the information so far it looks like the package name and activity name might not be valid. If the adb command don't work then app Appium won't work either.</p>\n\n<p>Can you provide the tutorial you're following to automate the Amazon shopping app and also why did the problem set change to using the amazon shopping app?</p>\n\n<p>I don't believe the package name is correct: </p>\n\n<p><code>adb shell pm list packages -f | grep mShop</code></p>\n\n<p><strong>OUTPUTs</strong>:</p>\n\n<pre><code>package:/data/app/com.amazon.mShop.android.shopping-6T5__wDlES2DKVGacorMSw==/base.apk=com.amazon.mShop.android.shopping \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7999581,"reputation":11,"user_id":6034865,"display_name":"Puneet Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583695413,"creation_date":1583695413,"answer_id":60591209,"question_id":57018088,"body_markdown":"Are you sure that you are using correct app activity, because if it is not a launchable activity, then also it will give you permission exception, double-check the launchable activity name","title":"getting SecurtyException while running my test script using appium","body":"<p>Are you sure that you are using correct app activity, because if it is not a launchable activity, then also it will give you permission exception, double-check the launchable activity name</p>\n"},{"tags":[],"owner":{"account_id":16105669,"reputation":131,"user_id":11625247,"display_name":"Sandeep Duve"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1675947456,"creation_date":1593501018,"answer_id":62652057,"question_id":57018088,"body_markdown":"1. go to developer option.\r\n2. go to last option called --&gt; Disable Permission Monitoring --&gt; enable it.","title":"getting SecurtyException while running my test script using appium","body":"<ol>\n<li>go to developer option.</li>\n<li>go to last option called --&gt; Disable Permission Monitoring --&gt; enable it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11767124,"reputation":67,"user_id":8611327,"display_name":"sjanisz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617742701,"creation_date":1613601682,"answer_id":66250999,"question_id":57018088,"body_markdown":"In my case, for similar problem (connecting to phone from Appium) solution was to enable &quot;USB debugging (security settings)&quot; and &quot;USB installation&quot; in developer options. I have faced another issue there as it (I do not know why) requires internet connection and I was not able to switch these option on using my telecom operator connection, I had to connect to wifi.","title":"getting SecurtyException while running my test script using appium","body":"<p>In my case, for similar problem (connecting to phone from Appium) solution was to enable &quot;USB debugging (security settings)&quot; and &quot;USB installation&quot; in developer options. I have faced another issue there as it (I do not know why) requires internet connection and I was not able to switch these option on using my telecom operator connection, I had to connect to wifi.</p>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":1,"creation_date":1675947478,"post_id":75398917,"comment_id":133039628,"body_markdown":"Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/75398917/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":27628452,"reputation":11,"user_id":21087985,"display_name":"Nikhil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675947473,"creation_date":1675947389,"answer_id":75398917,"question_id":57018088,"body_markdown":"```\r\ndesiredCapabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot; , true) \r\n```\r\nwill work.","title":"getting SecurtyException while running my test script using appium","body":"<pre><code>desiredCapabilities.setCapability(&quot;ignoreHiddenApiPolicyError&quot; , true) \n</code></pre>\n<p>will work.</p>\n"}],"owner":{"account_id":9238619,"reputation":209,"user_id":6862437,"display_name":"Satish Rongala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10789,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1675947473,"creation_date":1563011818,"question_id":57018088,"body_markdown":"i&#39;m facing Security Exception while executing my Appium scripts\r\n\r\nHi all, i&#39;m new to appium and i&#39;m in learning stage with appium tool. I created one script to start a basic test. i&#39;m getting below updated error.\r\n\r\nI Connected my device through USB debugging and device also listed out in adb. but when i executing it is throwing an error. below is the attached code and error logs.\r\n\r\n```\r\nDesiredCapabilities desire=new DesiredCapabilities();\r\n\t\tdesire.setCapability(&quot;deviceName&quot;, &quot;Redmi&quot;);\r\n\t\tdesire.setCapability(&quot;udid&quot;, &quot;3cbaf93d&quot;);\r\n\t\tdesire.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tdesire.setCapability(&quot;platformVersion&quot;, &quot;9.0&quot;);\r\n\t\tdesire.setCapability(&quot;appPackage&quot;, &quot;com.androi.camera&quot;);\r\n\t\tdesire.setCapability(&quot;appActivity&quot;, &quot;com.androi.camera.Camera&quot;);\r\n\t\tURL url=new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\t\tappium=new AppiumDriver&lt;MobileElement&gt;(url,desire);\r\n\t\tSystem.out.println(&quot;app started&quot;);\r\n```\r\n\r\n```\r\nError log:\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\r\n\tat com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\r\n\tat android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:103)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\r\n\tat android.os.Binder.shellCommand(Binder.java:634)\r\n\tat android.os.Binder.onTransact(Binder.java:532)\r\n\tat android.os.Binder.execTransact(Binder.java:735)&#39;; Code: &#39;255&#39;\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-S3RV3MH&#39;, ip: &#39;192.168.1.5&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_151&#39;\r\nDriver info: driver.version: AppiumDriver\r\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\r\n\tat com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\r\n\tat android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:103)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\r\n\tat android.os.Binder.shellCommand(Binder.java:634)\r\n\tat android.os.Binder.onTransact(Binder.java:532)\r\n\tat android.os.Binder.execTransact(Binder.java:735)&#39;; Code: &#39;255&#39;\r\n    at getResponseForW3CError (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:826:9)\r\n    at asyncHandler (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:447:37)\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-S3RV3MH&#39;, ip: &#39;192.168.1.5&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_151&#39;\r\nDriver info: driver.version: AppiumDriver\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:208)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:217)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\r\n\tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.&lt;init&gt;(DefaultGenericMobileDriver.java:38)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:84)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:94)\r\n\tat test1.Class1.main(Class1.java:27)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:186)\r\n\t... 11 more\r\nCaused by: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\r\n\tat com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\r\n\tat android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:103)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\r\n\tat android.os.Binder.shellCommand(Binder.java:634)\r\n\tat android.os.Binder.onTransact(Binder.java:532)\r\n\tat android.os.Binder.execTransact(Binder.java:735)&#39;; Code: &#39;255&#39;\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-S3RV3MH&#39;, ip: &#39;192.168.1.5&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_151&#39;\r\nDriver info: driver.version: AppiumDriver\r\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: &#39;Command &#39;C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps&#39; exited with code 255&#39;; Stderr: &#39;Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\r\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\r\n\tat com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\r\n\tat com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\r\n\tat com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\r\n\tat com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\r\n\tat android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\r\n\tat com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\r\n\tat android.os.ShellCommand.exec(ShellCommand.java:103)\r\n\tat com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\r\n\tat android.os.Binder.shellCommand(Binder.java:634)\r\n\tat android.os.Binder.onTransact(Binder.java:532)\r\n\tat android.os.Binder.execTransact(Binder.java:735)&#39;; Code: &#39;255&#39;\r\n    at getResponseForW3CError (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:826:9)\r\n    at asyncHandler (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:447:37)\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n\t... 16 more\r\n```","title":"getting SecurtyException while running my test script using appium","body":"<p>i'm facing Security Exception while executing my Appium scripts</p>\n\n<p>Hi all, i'm new to appium and i'm in learning stage with appium tool. I created one script to start a basic test. i'm getting below updated error.</p>\n\n<p>I Connected my device through USB debugging and device also listed out in adb. but when i executing it is throwing an error. below is the attached code and error logs.</p>\n\n<pre><code>DesiredCapabilities desire=new DesiredCapabilities();\n        desire.setCapability(\"deviceName\", \"Redmi\");\n        desire.setCapability(\"udid\", \"3cbaf93d\");\n        desire.setCapability(\"platformName\", \"Android\");\n        desire.setCapability(\"platformVersion\", \"9.0\");\n        desire.setCapability(\"appPackage\", \"com.androi.camera\");\n        desire.setCapability(\"appActivity\", \"com.androi.camera.Camera\");\n        URL url=new URL(\"http://127.0.0.1:4723/wd/hub\");\n        appium=new AppiumDriver&lt;MobileElement&gt;(url,desire);\n        System.out.println(\"app started\");\n</code></pre>\n\n<pre><code>Error log:\n\nException in thread \"main\" org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: 'Command 'C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps' exited with code 255'; Stderr: 'Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n    at com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\n    at com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\n    at com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\n    at com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\n    at android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\n    at com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\n    at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\n    at android.os.ShellCommand.exec(ShellCommand.java:103)\n    at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\n    at android.os.Binder.shellCommand(Binder.java:634)\n    at android.os.Binder.onTransact(Binder.java:532)\n    at android.os.Binder.execTransact(Binder.java:735)'; Code: '255'\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-S3RV3MH', ip: '192.168.1.5', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_151'\nDriver info: driver.version: AppiumDriver\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: 'Command 'C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps' exited with code 255'; Stderr: 'Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n    at com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\n    at com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\n    at com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\n    at com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\n    at android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\n    at com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\n    at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\n    at android.os.ShellCommand.exec(ShellCommand.java:103)\n    at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\n    at android.os.Binder.shellCommand(Binder.java:634)\n    at android.os.Binder.onTransact(Binder.java:532)\n    at android.os.Binder.execTransact(Binder.java:735)'; Code: '255'\n    at getResponseForW3CError (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:826:9)\n    at asyncHandler (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:447:37)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-S3RV3MH', ip: '192.168.1.5', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_151'\nDriver info: driver.version: AppiumDriver\n    at io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:208)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:217)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:42)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at io.appium.java_client.DefaultGenericMobileDriver.&lt;init&gt;(DefaultGenericMobileDriver.java:38)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:84)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:94)\n    at test1.Class1.main(Class1.java:27)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:186)\n    ... 11 more\nCaused by: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: 'Command 'C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps' exited with code 255'; Stderr: 'Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n    at com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\n    at com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\n    at com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\n    at com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\n    at android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\n    at com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\n    at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\n    at android.os.ShellCommand.exec(ShellCommand.java:103)\n    at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\n    at android.os.Binder.shellCommand(Binder.java:634)\n    at android.os.Binder.onTransact(Binder.java:532)\n    at android.os.Binder.execTransact(Binder.java:735)'; Code: '255'\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-S3RV3MH', ip: '192.168.1.5', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_151'\nDriver info: driver.version: AppiumDriver\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: 'Command 'C\\:\\\\Users\\\\DELL\\\\AppData\\\\Local\\\\Android\\\\sdk\\\\platform-tools\\\\adb.exe -P 5037 -s 3cbaf93d shell settings delete global hidden_api_policy_pre_p_apps' exited with code 255'; Stderr: 'Security exception: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n\njava.lang.SecurityException: Permission denial: writing to settings requires:android.permission.WRITE_SECURE_SETTINGS\n    at com.android.providers.settings.SettingsProvider.enforceWritePermission(SettingsProvider.java:1815)\n    at com.android.providers.settings.SettingsProvider.mutateGlobalSetting(SettingsProvider.java:1023)\n    at com.android.providers.settings.SettingsProvider.deleteGlobalSetting(SettingsProvider.java:1006)\n    at com.android.providers.settings.SettingsProvider.delete(SettingsProvider.java:592)\n    at android.content.ContentProvider$Transport.delete(ContentProvider.java:343)\n    at com.android.providers.settings.SettingsService$MyShellCommand.deleteForUser(SettingsService.java:406)\n    at com.android.providers.settings.SettingsService$MyShellCommand.onCommand(SettingsService.java:289)\n    at android.os.ShellCommand.exec(ShellCommand.java:103)\n    at com.android.providers.settings.SettingsService.onShellCommand(SettingsService.java:51)\n    at android.os.Binder.shellCommand(Binder.java:634)\n    at android.os.Binder.onTransact(Binder.java:532)\n    at android.os.Binder.execTransact(Binder.java:735)'; Code: '255'\n    at getResponseForW3CError (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:826:9)\n    at asyncHandler (C:\\Users\\DELL\\AppData\\Local\\Programs\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:447:37)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    ... 16 more\n</code></pre>\n"},{"tags":["java","android","kotlin","layout","android-mediaplayer"],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675947107,"creation_date":1675946071,"question_id":75398676,"body_markdown":"I&#39;m trying to get the video of my relative layout by having **bitmaps in an array list** that increases in every 30 seconds or we can say **30-FPS** as a bitmap.\r\n\r\nHow can I achieve the **video output** from that **bitmaps** or **can I direct record the view?** &lt;br&gt;\r\nCould anyone suggest the best way to achieve that video of the view/layout(Relative layout)?","title":"Video Capture of a view or converting bitmaps list to the video","body":"<p>I'm trying to get the video of my relative layout by having <strong>bitmaps in an array list</strong> that increases in every 30 seconds or we can say <strong>30-FPS</strong> as a bitmap.</p>\n<p>How can I achieve the <strong>video output</strong> from that <strong>bitmaps</strong> or <strong>can I direct record the view?</strong> <br>\nCould anyone suggest the best way to achieve that video of the view/layout(Relative layout)?</p>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"score":6,"creation_date":1344982242,"post_id":11961531,"comment_id":15940922,"body_markdown":"You reference the collections framework, yet you seem to be trying to instantiate an array. Are you sure you&#39;re not trying to do this: `Stack&lt;Card&gt; stack = new Stack&lt;&gt;()`?","body":"You reference the collections framework, yet you seem to be trying to instantiate an array. Are you sure you&#39;re not trying to do this: <code>Stack&lt;Card&gt; stack = new Stack&lt;&gt;()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1344983781,"creation_date":1344982197,"answer_id":11961556,"question_id":11961531,"body_markdown":"Are you sure you want to create a Stack array? Better to use:\r\n\r\n    Stack&lt;Card&gt; myStack = new Stack&lt;Card&gt;();\r\n\r\n","title":"Generic in array and its warning message","body":"<p>Are you sure you want to create a Stack array? Better to use:</p>\n\n<pre><code>Stack&lt;Card&gt; myStack = new Stack&lt;Card&gt;();\n</code></pre>\n"}],"owner":{"account_id":1697845,"reputation":73,"user_id":1558823,"accept_rate":29,"display_name":"Edi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675946992,"creation_date":1344982034,"question_id":11961531,"body_markdown":"I am still learning Java collection framework and how it works ....\r\n\r\nit is said that we can&#39;t allocate size involving with a type parameter so when i wrote the following code \r\n\r\n    Stacks&lt;card&gt; stack = new Stacks[5]; // it causes a compiler warning\r\n\r\nis there any way so that i can hide this warning ?","title":"Generic in array and its warning message","body":"<p>I am still learning Java collection framework and how it works ....</p>\n\n<p>it is said that we can't allocate size involving with a type parameter so when i wrote the following code </p>\n\n<pre><code>Stacks&lt;card&gt; stack = new Stacks[5]; // it causes a compiler warning\n</code></pre>\n\n<p>is there any way so that i can hide this warning ?</p>\n"},{"tags":["java","spring","maven","netflix-eureka"],"comments":[{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1646846187,"post_id":71413188,"comment_id":126226707,"body_markdown":"Please add more details [create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please add more details <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">create a Minimal, Reproducible Example</a>"}],"owner":{"account_id":22228989,"reputation":11,"user_id":16465503,"display_name":"Tarun Bhalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675946953,"creation_date":1646845184,"question_id":71413188,"body_markdown":"New to microservices and have checked serveral other posts but i keep getting this error, my applications.yaml already contains:\r\n```\r\n\r\n    server:\r\n      port: 8761\r\n    \r\n    spring:\r\n      application:\r\n        name: Eureka-server\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: false\r\n        register-with-eureka: false\r\n\r\n```\r\nand i have @EnableEurekeServer already done in main.\r\nEureka hasn&#39;t successfully launched for me even once thus far and am looking for a solution to this issue but unable to find/troubleshoot one.\r\nAny help would be appreciated! The error messagese are below\r\n\r\n\r\n\r\n    2022-03-09 11:53:38.814  WARN 23686 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\r\n    2022-03-09 11:53:38.814  INFO 23686 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/taruns-mbp.ht.home - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n    \tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n    \tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n    \tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)\r\n    \tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)\r\n    \tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)\r\n    \tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    2022-03-09 11:53:38.862  INFO 23686 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused stacktrace=com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused\r\n    \tat com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)\r\n    \tat com.sun.jersey.api.client.filter.GZIPContentEncodingFilter.handle(GZIPContentEncodingFilter.java:123)\r\n    \tat com.netflix.discovery.EurekaIdentityHeaderFilter.handle(EurekaIdentityHeaderFilter.java:27)\r\n    \tat com.sun.jersey.api.client.Client.handle(Client.java:652)\r\n    \tat com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)\r\n    \tat com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)\r\n    \tat com.sun.jersey.api.client.WebResource$Builder.put(WebResource.java:529)\r\n    \tat com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.sendHeartBeat(AbstractJerseyEurekaHttpClient.java:103)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\r\n    \tat com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\r\n    \tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\r\n    \tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\r\n    \tat com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)\r\n    \tat com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:633)\r\n    \tat org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\r\n    \tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n    \tat org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)\r\n    \tat org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\r\n    \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\r\n    \tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n    \tat com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:173)\r\n    \t... 27 more\r\n    \r\n    2022-03-09 11:53:38.863  WARN 23686 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\r\n    2022-03-09 11:53:38.863 ERROR 23686 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/taruns-mbp.ht.home - was unable to send heartbeat!\r\n    \r\n    com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n    \tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar:1.10.17]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n","title":"Eureke- connection refused - registration failed","body":"<p>New to microservices and have checked serveral other posts but i keep getting this error, my applications.yaml already contains:</p>\n<pre><code>\n    server:\n      port: 8761\n    \n    spring:\n      application:\n        name: Eureka-server\n    \n    eureka:\n      client:\n        fetch-registry: false\n        register-with-eureka: false\n\n</code></pre>\n<p>and i have @EnableEurekeServer already done in main.\nEureka hasn't successfully launched for me even once thus far and am looking for a solution to this issue but unable to find/troubleshoot one.\nAny help would be appreciated! The error messagese are below</p>\n<pre><code>2022-03-09 11:53:38.814  WARN 23686 --- [freshExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\n2022-03-09 11:53:38.814  INFO 23686 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/taruns-mbp.ht.home - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1101)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1014)\n    at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1531)\n    at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1498)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n2022-03-09 11:53:38.862  INFO 23686 --- [tbeatExecutor-0] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=java.net.ConnectException: Connection refused stacktrace=com.sun.jersey.api.client.ClientHandlerException: java.net.ConnectException: Connection refused\n    at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)\n    at com.sun.jersey.api.client.filter.GZIPContentEncodingFilter.handle(GZIPContentEncodingFilter.java:123)\n    at com.netflix.discovery.EurekaIdentityHeaderFilter.handle(EurekaIdentityHeaderFilter.java:27)\n    at com.sun.jersey.api.client.Client.handle(Client.java:652)\n    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)\n    at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)\n    at com.sun.jersey.api.client.WebResource$Builder.put(WebResource.java:529)\n    at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.sendHeartBeat(AbstractJerseyEurekaHttpClient.java:103)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n    at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)\n    at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893)\n    at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:144)\n    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:134)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\n    at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:173)\n    ... 27 more\n\n2022-03-09 11:53:38.863  WARN 23686 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: java.net.ConnectException: Connection refused\n2022-03-09 11:53:38.863 ERROR 23686 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_UNKNOWN/taruns-mbp.ht.home - was unable to send heartbeat!\n\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:893) ~[eureka-client-1.10.17.jar:1.10.17]\n    at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1457) ~[eureka-client-1.10.17.jar:1.10.17]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["javascript","java","spring","multipartform-data"],"owner":{"account_id":25743094,"reputation":13,"user_id":19496782,"display_name":"noxi3534"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675946894,"creation_date":1675946894,"question_id":75398828,"body_markdown":"I have a REACT frontend app and Java Spring backend. I send an image from frontend to backend but REST Controller throws the following error in Java:\r\n\r\n    java.nio.file.NoSuchFileException: C:\\Users\\User\\AppData\\Local\\Temp\\tomcat.8080.4543654899823294058\\work\\Tomcat\\localhost\\ROOT\\upload_8189f9b4_9186_424d_b7c4_c4eec0f67e23_00000005.tmp\r\n\r\n**Controller:**\r\n\r\n    @PostMapping(path=&quot;/add&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        public ResponseEntity&lt;Product&gt; addProduct(@ModelAttribute Product product) throws IOException {\r\n    ...\r\n    }\r\n\r\n**Product Model:**\r\n\r\n    @Document(collection = &quot;products&quot; )\r\n    public class Product {\r\n        @Id\r\n        private String id;\r\n    \r\n        @Field(&quot;title&quot;)\r\n        private String title;\r\n        ...\r\n    \r\n        @Field(&quot;images&quot;)\r\n        private List&lt;ProductImages&gt; images;\r\n    }\r\n\r\nI don&#39;t even know how to dig it further, what&#39;s the issue here?\r\n\r\nImages that I send are in multipart FormData with the following structure:\r\n\r\n    { data: base64 buffer,\r\n    contentType: jpg/png/etc.\r\n    }\r\n\r\nOn the react frontend:\r\n\r\n    let formData = new FormData();\r\n    ...\r\n    formData.append(&quot;images&quot;, this.state.images[0]);\r\n    ...\r\n    axios.post(`${server_url}/product/add`,formData)...","title":"Java backend throws NoSuchFileException exception on multipart form file upload","body":"<p>I have a REACT frontend app and Java Spring backend. I send an image from frontend to backend but REST Controller throws the following error in Java:</p>\n<pre><code>java.nio.file.NoSuchFileException: C:\\Users\\User\\AppData\\Local\\Temp\\tomcat.8080.4543654899823294058\\work\\Tomcat\\localhost\\ROOT\\upload_8189f9b4_9186_424d_b7c4_c4eec0f67e23_00000005.tmp\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@PostMapping(path=&quot;/add&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity&lt;Product&gt; addProduct(@ModelAttribute Product product) throws IOException {\n...\n}\n</code></pre>\n<p><strong>Product Model:</strong></p>\n<pre><code>@Document(collection = &quot;products&quot; )\npublic class Product {\n    @Id\n    private String id;\n\n    @Field(&quot;title&quot;)\n    private String title;\n    ...\n\n    @Field(&quot;images&quot;)\n    private List&lt;ProductImages&gt; images;\n}\n</code></pre>\n<p>I don't even know how to dig it further, what's the issue here?</p>\n<p>Images that I send are in multipart FormData with the following structure:</p>\n<pre><code>{ data: base64 buffer,\ncontentType: jpg/png/etc.\n}\n</code></pre>\n<p>On the react frontend:</p>\n<pre><code>let formData = new FormData();\n...\nformData.append(&quot;images&quot;, this.state.images[0]);\n...\naxios.post(`${server_url}/product/add`,formData)...\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1675856907,"post_id":75385276,"comment_id":133016920,"body_markdown":"It only works if division and score are commented out.","body":"It only works if division and score are commented out."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675857185,"post_id":75385276,"comment_id":133016998,"body_markdown":"What happens if you execute the following from MySQL-Workbench: select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234","body":"What happens if you execute the following from MySQL-Workbench: select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_&zwnj;&#8203;0.score from team t1_0 where t1_0.team_id=1234"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1675857620,"post_id":75385276,"comment_id":133017128,"body_markdown":"@JohnWilliams I get the same result as shown in the table above (in my post).","body":"@JohnWilliams I get the same result as shown in the table above (in my post)."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675857978,"post_id":75385276,"comment_id":133017237,"body_markdown":"Inexplicable?? You are pointing to the same db instance with the same credentials?","body":"Inexplicable?? You are pointing to the same db instance with the same credentials?"},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1675858250,"post_id":75385276,"comment_id":133017323,"body_markdown":"Yes its the same database/schema. Credentials are also the same. Could it be an issue with jakarta.persistence? Should I use javax.persistence instead?","body":"Yes its the same database/schema. Credentials are also the same. Could it be an issue with jakarta.persistence? Should I use javax.persistence instead?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675859273,"post_id":75385276,"comment_id":133017616,"body_markdown":"Unlikely, but when reasonable fixes fail then unreasonable fixes have to be attempted.","body":"Unlikely, but when reasonable fixes fail then unreasonable fixes have to be attempted."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675859595,"post_id":75385276,"comment_id":133017702,"body_markdown":"You are using the schema &quot;test&quot; for your MySQL-Workbench calls? There may be 2 versions of table &quot;team&quot;. One in the &quot;test&quot; schema without the division and score columns and another elsewhere that MySQL-Workbench calls that has the columns.","body":"You are using the schema &quot;test&quot; for your MySQL-Workbench calls? There may be 2 versions of table &quot;team&quot;. One in the &quot;test&quot; schema without the division and score columns and another elsewhere that MySQL-Workbench calls that has the columns."},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1675860816,"post_id":75385276,"comment_id":133018065,"body_markdown":"`SELECT table_schema, table_name\nfrom information_schema.tables where table_name=&#39;team‘` returns only one entry.","body":"<code>SELECT table_schema, table_name from information_schema.tables where table_name=&#39;team‘</code> returns only one entry."}],"answers":[{"tags":[],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675946747,"creation_date":1675946747,"answer_id":75398806,"question_id":75385276,"body_markdown":"I found the issue:\r\nMy hibernate.cfg looked like this:\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/bot?serverTimezone=UTC&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\r\nThe MySQL-User is named `bot` and the other database as well. I thought the argument inside the url is the MySQL user, not the name of the schema. Therefore it was looking inside an other schema. Replacing it like below solves the problem.\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;","title":"java.sql.SQLSyntaxErrorException: Unknown column &#39;t1_0.division&#39; in &#39;field list&#39; using Hibernate","body":"<p>I found the issue:\nMy hibernate.cfg looked like this:</p>\n<pre><code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/bot?serverTimezone=UTC&lt;/property&gt;\n&lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\n</code></pre>\n<p>The MySQL-User is named <code>bot</code> and the other database as well. I thought the argument inside the url is the MySQL user, not the name of the schema. Therefore it was looking inside an other schema. Replacing it like below solves the problem.</p>\n<pre><code>&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test?serverTimezone=UTC&lt;/property&gt;\n&lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75398806,"answer_count":1,"score":0,"last_activity_date":1675946747,"creation_date":1675856421,"question_id":75385276,"body_markdown":"Im getting the following Exception while executing the query:\r\n\r\n`this.session.createQuery(&quot;from Team where id=1234&quot;).getSingleResult();`\r\n\r\n\r\n\r\nWhen I run the query I will get:\r\n\r\n```\r\nHibernate: select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\r\n\r\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions \r\nWARN: SQL Error: 1054, SQLState: 42S22 \r\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions \r\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: Converting org.hibernate.exception.SQLGrammarException to JPA PersistenceException : JDBC exception executing SQL \\[select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\\] &lt;5 internal lines&gt;\r\n  \tat de.zahrie.trues.truebot.PrimeData.init(PrimeData.java:47)\r\n \tat de.zahrie.trues.truebot.PrimeData.init(PrimeData.java:47)\r\n \tat de.zahrie.trues.truebot.PrimeData.getInstance(PrimeData.java:23)\r\n \tat de.zahrie.trues.truebot.handler.LoadupManager.init(LoadupManager.java:16)\r\n \tat de.zahrie.trues.truebot.Bot.main(Bot.java:9)\r\n\r\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL \\[select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\\] &lt;21 internal lines&gt;\r\n\r\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;t1_0.division&#39; in &#39;field list&#39;\r\n  \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) \r\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) \r\n```\r\n\r\nWhen I run the same query in the MySQL-Workbench I get:\r\n\r\n| team_id | team_abbr | division   | team_name | score |\r\n| ------- | --------- | ---------- | --------- | ----- |\r\n| 1234    | TEST      | Division 0 | Testteam  | 0:0   |\r\n\r\nHere is my Entity-Class:\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity(name = &quot;Team&quot;)\r\n@Table(name = &quot;team&quot;, schema = &quot;test&quot;)\r\npublic class Team implements Serializable {\r\n  @Serial\r\n  private static final long serialVersionUID = -8929555475128771601L;\r\n\r\n  @Id\r\n  @Column(name = &quot;team_id&quot;, nullable = false)\r\n  private int id;\r\n\r\n  @Column(name = &quot;team_name&quot;, nullable = false, length = 100)\r\n  private String name;\r\n\r\n  @Column(name = &quot;team_abbr&quot;, nullable = false, length = 50)\r\n  private String abbreviation;\r\n\r\n  @Column(name = &quot;division&quot;, length = 46)\r\n  private String divisionName;\r\n\r\n  @Column(name = &quot;score&quot;, length = 30)\r\n  private String score;\r\n\r\n}\r\n```\r\nI have tried nearly everything:\r\n - I renamed the column in `division_name`, `div` and `div_name`.\r\n - I have removed this single column (after that it works).\r\n - I tried `session.get(Team.class, 1234);`\r\n - I tried NamedQuery, NativeQuery and HQLQuery.\r\n - I used the Schema-Definition in my `hibernate.cfg.xml` and inside the Entity-Class.\r\n - I extracted the `division` into a MappedClass \r\n\r\nbut nothing helps. No other post on Stackoverflow could give me an answer. What is the issue?\r\n\r\n\r\nI renamed the column in division_name, div and div_name.\r\nI have removed this single column.\r\nI tried session.get(Team.class, 1234);\r\nI tried NamedQuery, NativeQuery and HQLQuery.\r\nI used the Schema-Definition in my hibernate.cfg.xml and inside the Entity-Class.\r\nI extracted the division into a MappedClass","title":"java.sql.SQLSyntaxErrorException: Unknown column &#39;t1_0.division&#39; in &#39;field list&#39; using Hibernate","body":"<p>Im getting the following Exception while executing the query:</p>\n<p><code>this.session.createQuery(&quot;from Team where id=1234&quot;).getSingleResult();</code></p>\n<p>When I run the query I will get:</p>\n<pre><code>Hibernate: select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\n\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions \nWARN: SQL Error: 1054, SQLState: 42S22 \norg.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions \nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: Converting org.hibernate.exception.SQLGrammarException to JPA PersistenceException : JDBC exception executing SQL \\[select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\\] &lt;5 internal lines&gt;\n    at de.zahrie.trues.truebot.PrimeData.init(PrimeData.java:47)\n    at de.zahrie.trues.truebot.PrimeData.init(PrimeData.java:47)\n    at de.zahrie.trues.truebot.PrimeData.getInstance(PrimeData.java:23)\n    at de.zahrie.trues.truebot.handler.LoadupManager.init(LoadupManager.java:16)\n    at de.zahrie.trues.truebot.Bot.main(Bot.java:9)\n\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL \\[select t1_0.team_id,t1_0.team_abbr,t1_0.division,t1_0.team_name,t1_0.score from team t1_0 where t1_0.team_id=1234\\] &lt;21 internal lines&gt;\n\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 't1_0.division' in 'field list'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) \n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) \n</code></pre>\n<p>When I run the same query in the MySQL-Workbench I get:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>team_id</th>\n<th>team_abbr</th>\n<th>division</th>\n<th>team_name</th>\n<th>score</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1234</td>\n<td>TEST</td>\n<td>Division 0</td>\n<td>Testteam</td>\n<td>0:0</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Here is my Entity-Class:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity(name = &quot;Team&quot;)\n@Table(name = &quot;team&quot;, schema = &quot;test&quot;)\npublic class Team implements Serializable {\n  @Serial\n  private static final long serialVersionUID = -8929555475128771601L;\n\n  @Id\n  @Column(name = &quot;team_id&quot;, nullable = false)\n  private int id;\n\n  @Column(name = &quot;team_name&quot;, nullable = false, length = 100)\n  private String name;\n\n  @Column(name = &quot;team_abbr&quot;, nullable = false, length = 50)\n  private String abbreviation;\n\n  @Column(name = &quot;division&quot;, length = 46)\n  private String divisionName;\n\n  @Column(name = &quot;score&quot;, length = 30)\n  private String score;\n\n}\n</code></pre>\n<p>I have tried nearly everything:</p>\n<ul>\n<li>I renamed the column in <code>division_name</code>, <code>div</code> and <code>div_name</code>.</li>\n<li>I have removed this single column (after that it works).</li>\n<li>I tried <code>session.get(Team.class, 1234);</code></li>\n<li>I tried NamedQuery, NativeQuery and HQLQuery.</li>\n<li>I used the Schema-Definition in my <code>hibernate.cfg.xml</code> and inside the Entity-Class.</li>\n<li>I extracted the <code>division</code> into a MappedClass</li>\n</ul>\n<p>but nothing helps. No other post on Stackoverflow could give me an answer. What is the issue?</p>\n<p>I renamed the column in division_name, div and div_name.\nI have removed this single column.\nI tried session.get(Team.class, 1234);\nI tried NamedQuery, NativeQuery and HQLQuery.\nI used the Schema-Definition in my hibernate.cfg.xml and inside the Entity-Class.\nI extracted the division into a MappedClass</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9561,"page":662,"page_size":100}
